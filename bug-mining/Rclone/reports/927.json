{"url":"https://api.github.com/repos/rclone/rclone/issues/2568","repository_url":"https://api.github.com/repos/rclone/rclone","labels_url":"https://api.github.com/repos/rclone/rclone/issues/2568/labels{/name}","comments_url":"https://api.github.com/repos/rclone/rclone/issues/2568/comments","events_url":"https://api.github.com/repos/rclone/rclone/issues/2568/events","html_url":"https://github.com/rclone/rclone/issues/2568","id":359181581,"node_id":"MDU6SXNzdWUzNTkxODE1ODE=","number":2568,"title":"rclone dedupe, choose the main folder efficiently ","user":{"login":"ajh0912","id":40744246,"node_id":"MDQ6VXNlcjQwNzQ0MjQ2","avatar_url":"https://avatars.githubusercontent.com/u/40744246?v=4","gravatar_id":"","url":"https://api.github.com/users/ajh0912","html_url":"https://github.com/ajh0912","followers_url":"https://api.github.com/users/ajh0912/followers","following_url":"https://api.github.com/users/ajh0912/following{/other_user}","gists_url":"https://api.github.com/users/ajh0912/gists{/gist_id}","starred_url":"https://api.github.com/users/ajh0912/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajh0912/subscriptions","organizations_url":"https://api.github.com/users/ajh0912/orgs","repos_url":"https://api.github.com/users/ajh0912/repos","events_url":"https://api.github.com/users/ajh0912/events{/privacy}","received_events_url":"https://api.github.com/users/ajh0912/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":86399007,"node_id":"MDU6TGFiZWw4NjM5OTAwNw==","url":"https://api.github.com/repos/rclone/rclone/labels/enhancement","name":"enhancement","color":"84b6eb","default":true,"description":null},{"id":306062764,"node_id":"MDU6TGFiZWwzMDYwNjI3NjQ=","url":"https://api.github.com/repos/rclone/rclone/labels/Remote:%20Drive","name":"Remote: Drive","color":"fbca04","default":false,"description":null}],"state":"closed","locked":false,"assignee":{"login":"ivandeex","id":9028053,"node_id":"MDQ6VXNlcjkwMjgwNTM=","avatar_url":"https://avatars.githubusercontent.com/u/9028053?v=4","gravatar_id":"","url":"https://api.github.com/users/ivandeex","html_url":"https://github.com/ivandeex","followers_url":"https://api.github.com/users/ivandeex/followers","following_url":"https://api.github.com/users/ivandeex/following{/other_user}","gists_url":"https://api.github.com/users/ivandeex/gists{/gist_id}","starred_url":"https://api.github.com/users/ivandeex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivandeex/subscriptions","organizations_url":"https://api.github.com/users/ivandeex/orgs","repos_url":"https://api.github.com/users/ivandeex/repos","events_url":"https://api.github.com/users/ivandeex/events{/privacy}","received_events_url":"https://api.github.com/users/ivandeex/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"ivandeex","id":9028053,"node_id":"MDQ6VXNlcjkwMjgwNTM=","avatar_url":"https://avatars.githubusercontent.com/u/9028053?v=4","gravatar_id":"","url":"https://api.github.com/users/ivandeex","html_url":"https://github.com/ivandeex","followers_url":"https://api.github.com/users/ivandeex/followers","following_url":"https://api.github.com/users/ivandeex/following{/other_user}","gists_url":"https://api.github.com/users/ivandeex/gists{/gist_id}","starred_url":"https://api.github.com/users/ivandeex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivandeex/subscriptions","organizations_url":"https://api.github.com/users/ivandeex/orgs","repos_url":"https://api.github.com/users/ivandeex/repos","events_url":"https://api.github.com/users/ivandeex/events{/privacy}","received_events_url":"https://api.github.com/users/ivandeex/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/rclone/rclone/milestones/11","html_url":"https://github.com/rclone/rclone/milestone/11","labels_url":"https://api.github.com/repos/rclone/rclone/milestones/11/labels","id":1480382,"node_id":"MDk6TWlsZXN0b25lMTQ4MDM4Mg==","number":11,"title":"Soon","description":"Issues which are a good idea but haven't been assigned a specific release yet.","creator":{"login":"ncw","id":536803,"node_id":"MDQ6VXNlcjUzNjgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/536803?v=4","gravatar_id":"","url":"https://api.github.com/users/ncw","html_url":"https://github.com/ncw","followers_url":"https://api.github.com/users/ncw/followers","following_url":"https://api.github.com/users/ncw/following{/other_user}","gists_url":"https://api.github.com/users/ncw/gists{/gist_id}","starred_url":"https://api.github.com/users/ncw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ncw/subscriptions","organizations_url":"https://api.github.com/users/ncw/orgs","repos_url":"https://api.github.com/users/ncw/repos","events_url":"https://api.github.com/users/ncw/events{/privacy}","received_events_url":"https://api.github.com/users/ncw/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":75,"closed_issues":94,"state":"open","created_at":"2016-01-02T12:56:46Z","updated_at":"2025-10-12T21:14:16Z","due_on":null,"closed_at":null},"comments":8,"created_at":"2018-09-11T19:07:53Z","updated_at":"2021-03-11T17:40:29Z","closed_at":"2021-03-11T17:40:29Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"<!--\r\n\r\nHi!\r\n\r\nWe understand you are having a problem with rclone or have an idea for an improvement - we want to help you with that!\r\n\r\nIf you've just got a question or aren't sure if you've found a bug then please use the rclone forum\r\n\r\n    https://forum.rclone.org/\r\n\r\ninstead of filing an issue.  We'll reply quickly and it won't increase our massive issue backlog.\r\n\r\nIf you think you might have found a bug, please can you try to replicate it with the latest beta?\r\n\r\n    https://beta.rclone.org/\r\n    \r\nIf you can still replicate it with the latest beta, then please fill in the info below which makes our lives much easier.  A log with -vv will make our day :-)\r\n\r\nIf you have an idea for an improvement, then please search the old issues first and if you don't find your idea, make a new issue.\r\n\r\nThanks\r\n\r\nThe Rclone Developers\r\n\r\n-->\r\n\r\n#### What is the problem you are having with rclone?\r\nLet's say 'Folder' and 'Folder (1)' exist in a certain directory, the webUI etc will show them as the same name, just 'Folder', but File Stream etc can't have the same filename so they show as '(1)' etc. Let's say I have 1000 files in 'Folder' and later on 'Folder (1)' is uploaded that has 5 files. I want to run dedupe so that I will end up with just 'Folder' that has 1005 files, or less if some of those 5 files already existed in the original folder. You'd think the way rclone would do this is to treat the 'Folder' as the original one, and copy the contents of 'Folder (1)' into 'Folder' and delete 'Folder (1)'. Instead I see rclone is copying the contents of 'Folder' into 'Folder (1)' and then deleting 'Folder'. This means there's 1000 move (or 'merge' as the CLI shows) operations instead of 5 (takes much longer, more API calls, etc.). It also means the activity pane in the webUI will now show only 'moved x files' and you'll lose the activity of the original 'Folder' because it was deleted.\r\n\r\n#### What is your rclone version (eg output from `rclone -V`)\r\nrclone v1.43.1\r\n\r\n#### Which OS you are using and how many bits (eg Windows 7, 64 bit)\r\nWindows 10 64bit\r\n\r\n####  Which cloud storage system are you using? (eg Google Drive)\r\nGoogle Drive\r\n\r\n#### The command you were trying to run (eg `rclone copy /tmp remote:tmp`)\r\nrclone dedupe GoogleDrive: --dedupe-mode largest -vv\r\n\r\n<!--#### A log from the command with the `-vv` flag (eg output from `rclone -vv copy /tmp remote:tmp`)-->\r\n\r\n","closed_by":{"login":"ivandeex","id":9028053,"node_id":"MDQ6VXNlcjkwMjgwNTM=","avatar_url":"https://avatars.githubusercontent.com/u/9028053?v=4","gravatar_id":"","url":"https://api.github.com/users/ivandeex","html_url":"https://github.com/ivandeex","followers_url":"https://api.github.com/users/ivandeex/followers","following_url":"https://api.github.com/users/ivandeex/following{/other_user}","gists_url":"https://api.github.com/users/ivandeex/gists{/gist_id}","starred_url":"https://api.github.com/users/ivandeex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivandeex/subscriptions","organizations_url":"https://api.github.com/users/ivandeex/orgs","repos_url":"https://api.github.com/users/ivandeex/repos","events_url":"https://api.github.com/users/ivandeex/events{/privacy}","received_events_url":"https://api.github.com/users/ivandeex/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/rclone/rclone/issues/2568/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/rclone/rclone/issues/2568/timeline","performed_via_github_app":null,"state_reason":"completed"}