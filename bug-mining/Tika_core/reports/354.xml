<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:08:53 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[TIKA-3750] Bug in sorting parsers</title>
                <link>https://issues.apache.org/jira/browse/TIKA-3750</link>
                <project id="12310631" key="TIKA">Tika</project>
                    <description>&lt;p&gt;Throughout our documentation and unit tests, we declare that parsers with a different namespace than org.apache.tika should come first.  The problem is that the DefaultParser iterates through the list of parsers and overwrites parsers based on supported mime types.&lt;/p&gt;

&lt;p&gt;So, if there&apos;s a custom parser &lt;tt&gt;com.acme.parser.PDFParser&lt;/tt&gt; that supports &lt;tt&gt;application/pdf&lt;/tt&gt;, that will be added to the map of parsers in DefaultParser first and then overwritten by org.apache.tika&apos;s PDFParser.&lt;/p&gt;

&lt;p&gt;We should instead sort non-o.a.t. parsers last, no?&lt;/p&gt;</description>
                <environment></environment>
        <key id="13443155">TIKA-3750</key>
            <summary>Bug in sorting parsers</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="tallison">Tim Allison</reporter>
                        <labels>
                    </labels>
                <created>Wed, 4 May 2022 16:00:57 +0000</created>
                <updated>Wed, 4 May 2022 21:06:42 +0000</updated>
                            <resolved>Wed, 4 May 2022 19:32:23 +0000</resolved>
                                                    <fixVersion>2.4.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17531813" author="tallison@mitre.org" created="Wed, 4 May 2022 16:20:51 +0000"  >&lt;p&gt;The problem is that we &lt;b&gt;do&lt;/b&gt; want custom detectors to come first. So, the solution is not just to have the sort put custom resources last, which will fix the parser issue but break the detector sorting.&lt;/p&gt;

&lt;p&gt;Should the default parser check before overwriting?  That way we keep the same sort orders across Parsers and Detectors and whatever else uses ServiceLoaderUtils.&lt;/p&gt;</comment>
                            <comment id="17531834" author="tallison@mitre.org" created="Wed, 4 May 2022 16:46:13 +0000"  >&lt;p&gt;Small correction, the overwriting is happening in the CompositeParser&apos;s &lt;tt&gt;getParsers(ParseContext context)&lt;/tt&gt;.  We&apos;re reversing parsers in DefaultParser&apos;s &lt;tt&gt;getParsers(ParseContext context)&lt;/tt&gt; to account for this, erm, feature.&lt;/p&gt;</comment>
                            <comment id="17531902" author="hudson" created="Wed, 4 May 2022 19:06:56 +0000"  >&lt;p&gt;SUCCESS: Integrated in Jenkins build Tika &#187; tika-main-jdk8 #541 (See &lt;a href=&quot;https://ci-builds.apache.org/job/Tika/job/tika-main-jdk8/541/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-builds.apache.org/job/Tika/job/tika-main-jdk8/541/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-3750&quot; title=&quot;Bug in sorting parsers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-3750&quot;&gt;&lt;del&gt;TIKA-3750&lt;/del&gt;&lt;/a&gt; &amp;#8211; add unit test (tallison: &lt;a href=&quot;https://github.com/apache/tika/commit/cfa9a5274a317e3ea34bad5a3cb4dc3e8d709a0a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tika/commit/cfa9a5274a317e3ea34bad5a3cb4dc3e8d709a0a&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;(add) tika-integration-tests/tika-resource-loading-tests/pom.xml&lt;/li&gt;
	&lt;li&gt;(add) tika-integration-tests/tika-resource-loading-tests/src/test/java/org/apache/custom/parser/MyCustomParser.java&lt;/li&gt;
	&lt;li&gt;(add) tika-integration-tests/tika-resource-loading-tests/src/test/java/org/apache/custom/parser/CustomParserTest.java&lt;/li&gt;
	&lt;li&gt;(add) tika-integration-tests/tika-resource-loading-tests/src/test/resources/META-INF/services/org.apache.tika.parser.Parser&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-3750&quot; title=&quot;Bug in sorting parsers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-3750&quot;&gt;&lt;del&gt;TIKA-3750&lt;/del&gt;&lt;/a&gt; &amp;#8211; add license header to pom.xml (tallison: &lt;a href=&quot;https://github.com/apache/tika/commit/121fe480f097b2ef5635f8a74f699be98db1dc94&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tika/commit/121fe480f097b2ef5635f8a74f699be98db1dc94&lt;/a&gt;)&lt;/li&gt;
	&lt;li&gt;(edit) tika-integration-tests/tika-resource-loading-tests/pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17531945" author="hudson" created="Wed, 4 May 2022 21:06:42 +0000"  >&lt;p&gt;SUCCESS: Integrated in Jenkins build Tika &#187; tika-main-jdk8 #542 (See &lt;a href=&quot;https://ci-builds.apache.org/job/Tika/job/tika-main-jdk8/542/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-builds.apache.org/job/Tika/job/tika-main-jdk8/542/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-3750&quot; title=&quot;Bug in sorting parsers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-3750&quot;&gt;&lt;del&gt;TIKA-3750&lt;/del&gt;&lt;/a&gt; - Fixed bug in ordering of Parsers during service loading. (tallison: &lt;a href=&quot;https://github.com/apache/tika/commit/42da02ef1b8d1641b7bef3a3aa016fbcc6f40b9d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tika/commit/42da02ef1b8d1641b7bef3a3aa016fbcc6f40b9d&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;(edit) tika-core/src/main/java/org/apache/tika/parser/DefaultParser.java&lt;/li&gt;
	&lt;li&gt;(edit) CHANGES.txt&lt;/li&gt;
	&lt;li&gt;(edit) tika-parsers/tika-parsers-standard/tika-parsers-standard-package/src/test/java/org/apache/tika/utils/ServiceLoaderUtilsTest.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 27 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z12220:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>