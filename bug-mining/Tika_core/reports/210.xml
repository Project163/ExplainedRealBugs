<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:07:29 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[TIKA-1708] Detectors loaded from configuration files into CompositeDetector fail</title>
                <link>https://issues.apache.org/jira/browse/TIKA-1708</link>
                <project id="12310631" key="TIKA">Tika</project>
                    <description>&lt;p&gt;Loading individual Detectors from a configuration file, e.g.&lt;/p&gt;

&lt;p&gt;  &amp;lt;detector class=&quot;org.apache.tika.parser.microsoft.POIFSContainerDetector&quot;/&amp;gt;&lt;br/&gt;
  &amp;lt;detector class=&quot;org.apache.tika.mime.MimeTypes&quot;/&amp;gt;&lt;/p&gt;

&lt;p&gt;will cause them to be added to a CompositeDetector which does not detect, e.g. PST files.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12856217">TIKA-1708</key>
            <summary>Detectors loaded from configuration files into CompositeDetector fail</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="crynax">Justin Palmer</reporter>
                        <labels>
                    </labels>
                <created>Fri, 14 Aug 2015 17:00:06 +0000</created>
                <updated>Mon, 17 Aug 2015 18:10:13 +0000</updated>
                            <resolved>Mon, 17 Aug 2015 18:10:13 +0000</resolved>
                                    <version>1.10</version>
                                    <fixVersion>1.11</fixVersion>
                                    <component>config</component>
                    <component>detector</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14697388" author="crynax" created="Fri, 14 Aug 2015 17:04:19 +0000"  >&lt;p&gt;Test case.&lt;/p&gt;</comment>
                            <comment id="14697389" author="crynax" created="Fri, 14 Aug 2015 17:05:22 +0000"  >&lt;p&gt;Attached test case fails...&lt;br/&gt;
Running org.apache.tika.detect.ConfiguredDetectorTest&lt;br/&gt;
Tests run: 3, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 0.434 sec &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.apache.tika.detect.ConfiguredDetectorTest&lt;br/&gt;
testLoadedCompositeConfig(org.apache.tika.detect.ConfiguredDetectorTest)  Time elapsed: 0.029 sec  &amp;lt;&amp;lt;&amp;lt; FAILURE!&lt;br/&gt;
java.lang.AssertionError: null&lt;br/&gt;
        at org.junit.Assert.fail(Assert.java:86)&lt;br/&gt;
        at org.junit.Assert.assertTrue(Assert.java:41)&lt;br/&gt;
        at org.junit.Assert.assertTrue(Assert.java:52)&lt;br/&gt;
        at org.apache.tika.detect.ConfiguredDetectorTest.parseDocument(ConfiguredDetectorTest.java:55)&lt;br/&gt;
        at org.apache.tika.detect.ConfiguredDetectorTest.testLoadedCompositeConfig(ConfiguredDetectorTest.java:77)&lt;/p&gt;
</comment>
                            <comment id="14698803" author="gagravarr" created="Sun, 16 Aug 2015 18:15:16 +0000"  >&lt;p&gt;Thanks for the unit test and config, very helpful! Slightly tweaked version added in r1696159.&lt;/p&gt;

&lt;p&gt;For some reason, when going down the second route, the mime types detector has no types. Now to investigate why!&lt;/p&gt;</comment>
                            <comment id="14698812" author="gagravarr" created="Sun, 16 Aug 2015 18:37:21 +0000"  >&lt;p&gt;I think this is solved in r1696160. The problem was that, in the case of explicit detector names, we were creating a second new empty mime types and using that in the detector. I&apos;ve changed it to spot this case, and instead use the mime types the config has already created. Any chance you could test and confirm?&lt;/p&gt;</comment>
                            <comment id="14698875" author="hudson" created="Sun, 16 Aug 2015 22:37:34 +0000"  >&lt;p&gt;SUCCESS: Integrated in tika-trunk-jdk1.7 #828 (See &lt;a href=&quot;https://builds.apache.org/job/tika-trunk-jdk1.7/828/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/tika-trunk-jdk1.7/828/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-1708&quot; title=&quot;Detectors loaded from configuration files into CompositeDetector fail&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-1708&quot;&gt;&lt;del&gt;TIKA-1708&lt;/del&gt;&lt;/a&gt; If the Tika Config detector entry calls for MimeTypes, use the already created one, avoid creating a new empty one (nick: &lt;a href=&quot;http://svn.apache.org/viewvc/tika/trunk/?view=rev&amp;amp;rev=1696160&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc/tika/trunk/?view=rev&amp;amp;rev=1696160&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/tika/trunk/tika-core/src/main/java/org/apache/tika/config/TikaConfig.java&lt;/li&gt;
	&lt;li&gt;/tika/trunk/tika-parsers/src/test/java/org/apache/tika/config/TikaDetectorConfigTest.java&lt;br/&gt;
Outlook detection with custom config tests, based on work by Justin Palmer &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-1708&quot; title=&quot;Detectors loaded from configuration files into CompositeDetector fail&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-1708&quot;&gt;&lt;del&gt;TIKA-1708&lt;/del&gt;&lt;/a&gt; (nick: &lt;a href=&quot;http://svn.apache.org/viewvc/tika/trunk/?view=rev&amp;amp;rev=1696159&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc/tika/trunk/?view=rev&amp;amp;rev=1696159&lt;/a&gt;)&lt;/li&gt;
	&lt;li&gt;/tika/trunk/tika-core/src/test/java/org/apache/tika/config/AbstractTikaConfigTest.java&lt;/li&gt;
	&lt;li&gt;/tika/trunk/tika-example/pom.xml&lt;/li&gt;
	&lt;li&gt;/tika/trunk/tika-parsers/src/main/java/org/apache/tika/parser/mbox/OutlookPSTParser.java&lt;/li&gt;
	&lt;li&gt;/tika/trunk/tika-parsers/src/test/java/org/apache/tika/config/TikaDetectorConfigTest.java&lt;/li&gt;
	&lt;li&gt;/tika/trunk/tika-parsers/src/test/resources/org/apache/tika/config/&lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-1708&quot; title=&quot;Detectors loaded from configuration files into CompositeDetector fail&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-1708&quot;&gt;&lt;del&gt;TIKA-1708&lt;/del&gt;&lt;/a&gt;-detector-composite.xml&lt;/li&gt;
	&lt;li&gt;/tika/trunk/tika-parsers/src/test/resources/org/apache/tika/config/&lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-1708&quot; title=&quot;Detectors loaded from configuration files into CompositeDetector fail&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-1708&quot;&gt;&lt;del&gt;TIKA-1708&lt;/del&gt;&lt;/a&gt;-detector-default.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14699922" author="crynax" created="Mon, 17 Aug 2015 17:48:45 +0000"  >&lt;p&gt;Tested and confirmed. Thanks Nick!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12750558" name="TIKA-1708.zip" size="3124" author="crynax" created="Fri, 14 Aug 2015 17:04:19 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 13 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ixrz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>