<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:09:00 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[TIKA-3960] PGP encrypted files get detected as application/octet-stream</title>
                <link>https://issues.apache.org/jira/browse/TIKA-3960</link>
                <project id="12310631" key="TIKA">Tika</project>
                    <description>&lt;p&gt;We use Tika for detecting and validating uploaded files using their content/magic bytes and not only their names/extension.&lt;/p&gt;

&lt;p&gt;Passing a PGP/GPG encrypted file to Tika.detect(InputStream stream) will always return application/octet-stream instead of application/pgp-encrypted defined in tika-mimetypes.xml&lt;/p&gt;

&lt;p&gt;The issue occurs because the application/pgp-encrypted mime-type defined in tika-mimetypes.xml is lacking a magic match and only has &amp;lt;glob pattern=&quot;*.pgp&quot;/&amp;gt;&lt;/p&gt;

&lt;p&gt;I managed to fix the issue for us temporarily by adding application/pgp-encrypted including a magic match in our custom-mimetypes.xml file. I will create a Pull Request on Github with the fix to resolve the issue.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13521653">TIKA-3960</key>
            <summary>PGP encrypted files get detected as application/octet-stream</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="tayseersabha">Tayseer Sabha</reporter>
                        <labels>
                    </labels>
                <created>Thu, 26 Jan 2023 19:09:51 +0000</created>
                <updated>Wed, 10 May 2023 15:48:36 +0000</updated>
                            <resolved>Tue, 28 Mar 2023 18:10:27 +0000</resolved>
                                    <version>2.7.0</version>
                                    <fixVersion>2.8.0</fixVersion>
                                    <component>detector</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17682352" author="gagravarr" created="Tue, 31 Jan 2023 02:37:05 +0000"  >&lt;p&gt;If possible, please include a small test file and update &lt;tt&gt;tika-parsers/src/test/java/org/apache/tika/mime/TestMimeTypes.java&lt;/tt&gt; to test the detection&lt;/p&gt;</comment>
                            <comment id="17704677" author="githubbot" created="Fri, 24 Mar 2023 15:56:54 +0000"  >&lt;p&gt;TayseerSabha closed pull request #1040: &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-3960&quot; title=&quot;PGP encrypted files get detected as application/octet-stream&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-3960&quot;&gt;&lt;del&gt;TIKA-3960&lt;/del&gt;&lt;/a&gt; Fix application/pgp-encrypted type detection&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tika/pull/1040&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tika/pull/1040&lt;/a&gt;&lt;/p&gt;

</comment>
                            <comment id="17704679" author="githubbot" created="Fri, 24 Mar 2023 16:02:09 +0000"  >&lt;p&gt;TayseerSabha opened a new pull request, #1041:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tika/pull/1041&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tika/pull/1041&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   This pull request fixes the following issue: &lt;a href=&quot;https://issues.apache.org/jira/projects/TIKA/issues/TIKA-3960&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/projects/TIKA/issues/TIKA-3960&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   All the details about the issue can be found in the link above.&lt;/p&gt;



</comment>
                            <comment id="17704681" author="JIRAUSER298815" created="Fri, 24 Mar 2023 16:06:07 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nick&quot; class=&quot;user-hover&quot; rel=&quot;nick&quot;&gt;nick&lt;/a&gt; The fix and the test for this issue can be found in pull request #1041.&lt;br/&gt;
I closed pull request #1040 because it had multiple commits that didn&apos;t follow the convention&lt;/p&gt;</comment>
                            <comment id="17706104" author="githubbot" created="Tue, 28 Mar 2023 18:04:09 +0000"  >&lt;p&gt;tballison merged PR #1041:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tika/pull/1041&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tika/pull/1041&lt;/a&gt;&lt;/p&gt;

</comment>
                            <comment id="17706105" author="tallison@mitre.org" created="Tue, 28 Mar 2023 18:10:27 +0000"  >&lt;p&gt;Thank you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tayseersabha&quot; class=&quot;user-hover&quot; rel=&quot;tayseersabha&quot;&gt;tayseersabha&lt;/a&gt;!&lt;/p&gt;</comment>
                            <comment id="17706115" author="hudson" created="Tue, 28 Mar 2023 19:13:05 +0000"  >&lt;p&gt;FAILURE: Integrated in Jenkins build Tika &#187; tika-main-jdk8 #1073 (See &lt;a href=&quot;https://ci-builds.apache.org/job/Tika/job/tika-main-jdk8/1073/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-builds.apache.org/job/Tika/job/tika-main-jdk8/1073/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-3960&quot; title=&quot;PGP encrypted files get detected as application/octet-stream&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-3960&quot;&gt;&lt;del&gt;TIKA-3960&lt;/del&gt;&lt;/a&gt; add magic match for application/pgp-encrypted (#1041) (github: &lt;a href=&quot;https://github.com/apache/tika/commit/2ccd669b3ef679d8dba073533ba7e375dca2592c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tika/commit/2ccd669b3ef679d8dba073533ba7e375dca2592c&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;(add) tika-parsers/tika-parsers-standard/tika-parsers-standard-package/src/test/resources/test-documents/testPGPEncrypted.gpg&lt;/li&gt;
	&lt;li&gt;(edit) tika-parsers/tika-parsers-standard/tika-parsers-standard-package/src/test/java/org/apache/tika/mime/TestMimeTypes.java&lt;/li&gt;
	&lt;li&gt;(edit) tika-core/src/main/resources/org/apache/tika/mime/tika-mimetypes.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17721428" author="hudson" created="Wed, 10 May 2023 15:48:36 +0000"  >&lt;p&gt;FAILURE: Integrated in Jenkins build Tika &#187; tika-main-jdk8 #1079 (See &lt;a href=&quot;https://ci-builds.apache.org/job/Tika/job/tika-main-jdk8/1079/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-builds.apache.org/job/Tika/job/tika-main-jdk8/1079/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-3960&quot; title=&quot;PGP encrypted files get detected as application/octet-stream&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-3960&quot;&gt;&lt;del&gt;TIKA-3960&lt;/del&gt;&lt;/a&gt; add magic match for application/pgp-encrypted (#1041) (github: &lt;a href=&quot;https://github.com/apache/tika/commit/2ccd669b3ef679d8dba073533ba7e375dca2592c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tika/commit/2ccd669b3ef679d8dba073533ba7e375dca2592c&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;(edit) tika-core/src/main/resources/org/apache/tika/mime/tika-mimetypes.xml&lt;/li&gt;
	&lt;li&gt;(add) tika-parsers/tika-parsers-standard/tika-parsers-standard-package/src/test/resources/test-documents/testPGPEncrypted.gpg&lt;/li&gt;
	&lt;li&gt;(edit) tika-parsers/tika-parsers-standard/tika-parsers-standard-package/src/test/java/org/apache/tika/mime/TestMimeTypes.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 26 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1fets:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>