<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:08:19 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[TIKA-2419] Try HTML mime magic on broken XML files</title>
                <link>https://issues.apache.org/jira/browse/TIKA-2419</link>
                <project id="12310631" key="TIKA">Tika</project>
                    <description>&lt;p&gt;As noticed from the latest common crawl work, some url-hosted HTML files are being detected as text/plain then specialised out to their programming language url extension&lt;/p&gt;

&lt;p&gt;This is caused broken XML in the HTML, and by us having dropped the magic priority of HTML to 40 (below that of XML), to avoid it matching for HTML-containing other types like emails. Because these files have broken XML (eg an empty encoding on the xml tag), the XML root extractor doesn&apos;t run, and they get downmixed to text plain then specialised by filename&lt;/p&gt;</description>
                <environment></environment>
        <key id="13084849">TIKA-2419</key>
            <summary>Try HTML mime magic on broken XML files</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="nick">Nick Burch</reporter>
                        <labels>
                    </labels>
                <created>Wed, 5 Jul 2017 13:57:30 +0000</created>
                <updated>Wed, 5 Jul 2017 16:03:13 +0000</updated>
                                            <version>1.15</version>
                                                    <component>mime</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16074806" author="gagravarr" created="Wed, 5 Jul 2017 14:01:50 +0000"  >&lt;p&gt;One fix might be to drop the priority of the XML magic to 40 to match that of the HTML format now, but I&apos;m worried this might have other effects?&lt;/p&gt;

&lt;p&gt;For now (3830152), in the part where we handle an XML match then detect broken XML + downgrade to text/plain, we can try the HTML magics first&lt;/p&gt;</comment>
                            <comment id="16074872" author="hudson" created="Wed, 5 Jul 2017 14:48:11 +0000"  >&lt;p&gt;FAILURE: Integrated in Jenkins build Tika-trunk #1308 (See &lt;a href=&quot;https://builds.apache.org/job/Tika-trunk/1308/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Tika-trunk/1308/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-2419&quot; title=&quot;Try HTML mime magic on broken XML files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-2419&quot;&gt;TIKA-2419&lt;/a&gt; Do all 4 html doctype varients for the same text range (nick: &lt;a href=&quot;https://github.com/apache/tika/commit/d98bec077bbeabe095d9200f6b729b465e51368c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tika/commit/d98bec077bbeabe095d9200f6b729b465e51368c&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;(edit) tika-core/src/main/resources/org/apache/tika/mime/tika-mimetypes.xml&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-2419&quot; title=&quot;Try HTML mime magic on broken XML files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-2419&quot;&gt;TIKA-2419&lt;/a&gt; If we detect XML but the XML is broken, try the HTML magics (nick: &lt;a href=&quot;https://github.com/apache/tika/commit/383015235d4fc855c16d8d65c0c3cae96488951d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tika/commit/383015235d4fc855c16d8d65c0c3cae96488951d&lt;/a&gt;)&lt;/li&gt;
	&lt;li&gt;(edit) tika-core/src/main/java/org/apache/tika/mime/MimeTypes.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="16075006" author="lfcnassif" created="Wed, 5 Jul 2017 16:02:21 +0000"  >&lt;p&gt;Hi Nick,&lt;/p&gt;

&lt;p&gt;The original issue of eml/emlx being detected as html I solved increasing the magic priority of eml/emlx instead of decreasing html priority. Maybe that is a possible simpler approach. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 19 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3h4rz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>