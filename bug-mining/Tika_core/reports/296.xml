<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:08:31 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[TIKA-2753] ChildProcess does not use the JAVA_HOME</title>
                <link>https://issues.apache.org/jira/browse/TIKA-2753</link>
                <project id="12310631" key="TIKA">Tika</project>
                    <description>&lt;p&gt;If the user starting the Tika Server does not have the path to java configured in its PATH var, the following error appears in the logs :&lt;/p&gt;


&lt;p&gt;java.io.IOException: Cannot run program &quot;java&quot;: error=2, No such file or directory&lt;br/&gt;
&#160;&#160; &#160;at java.lang.ProcessBuilder.start(ProcessBuilder.java:1048)&lt;br/&gt;
&#160;&#160; &#160;at org.apache.tika.server.TikaServerWatchDog$ChildProcess.startProcess(TikaServerWatchDog.java:224)&lt;br/&gt;
&#160;&#160; &#160;at org.apache.tika.server.TikaServerWatchDog$ChildProcess.&amp;lt;init&amp;gt;(TikaServerWatchDog.java:149)&lt;br/&gt;
&#160;&#160; &#160;at org.apache.tika.server.TikaServerWatchDog$ChildProcess.&amp;lt;init&amp;gt;(TikaServerWatchDog.java:139)&lt;br/&gt;
&#160;&#160; &#160;at org.apache.tika.server.TikaServerWatchDog.execute(TikaServerWatchDog.java:87)&lt;br/&gt;
&#160;&#160; &#160;at org.apache.tika.server.TikaServerCli.execute(TikaServerCli.java:136)&lt;br/&gt;
&#160;&#160; &#160;at org.apache.tika.server.TikaServerCli.main(TikaServerCli.java:117)&lt;br/&gt;
Caused by: java.io.IOException: error=2, No such file or directory&lt;br/&gt;
&#160;&#160; &#160;at java.lang.UNIXProcess.forkAndExec(Native Method)&lt;br/&gt;
&#160;&#160; &#160;at java.lang.UNIXProcess.&amp;lt;init&amp;gt;(UNIXProcess.java:247)&lt;br/&gt;
&#160;&#160; &#160;at java.lang.ProcessImpl.start(ProcessImpl.java:134)&lt;br/&gt;
&#160;&#160; &#160;at java.lang.ProcessBuilder.start(ProcessBuilder.java:1029)&lt;br/&gt;
&#160;&#160; &#160;... 6 more&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;By checking the TikaServerWatchDog class I noticed that the startProcess method of the ChildProcess private class is using the &apos;java&apos; argument. As my user only have the JAVA_HOME configured in its /etc/profile and not the path to java, this explains the error.&lt;/p&gt;

&lt;p&gt;It would be better if the startProcess relies on the JAVA_HOME env var to use java instead of assuming that the java program is configured in the PATH env var of the user.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13191186">TIKA-2753</key>
            <summary>ChildProcess does not use the JAVA_HOME</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tallison">Tim Allison</assignee>
                                    <reporter username="julienFL">Julien Massiera</reporter>
                        <labels>
                    </labels>
                <created>Fri, 12 Oct 2018 12:31:28 +0000</created>
                <updated>Fri, 12 Oct 2018 18:04:05 +0000</updated>
                            <resolved>Fri, 12 Oct 2018 16:40:02 +0000</resolved>
                                    <version>1.19.1</version>
                                    <fixVersion>2.0.0</fixVersion>
                    <fixVersion>1.20</fixVersion>
                                    <component>server</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16648095" author="hudson" created="Fri, 12 Oct 2018 16:34:22 +0000"  >&lt;p&gt;UNSTABLE: Integrated in Jenkins build tika-2.x-windows #332 (See &lt;a href=&quot;https://builds.apache.org/job/tika-2.x-windows/332/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/tika-2.x-windows/332/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-2753&quot; title=&quot;ChildProcess does not use the JAVA_HOME&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-2753&quot;&gt;&lt;del&gt;TIKA-2753&lt;/del&gt;&lt;/a&gt; &amp;#8211; use -javaHome or $JAVA_HOME when starting child process w (tallison: rev d6dd1b2a169500fc0452d2f7ec2a54ba3d31381a)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;(edit) tika-core/src/main/java/org/apache/tika/utils/ProcessUtils.java&lt;/li&gt;
	&lt;li&gt;(edit) CHANGES.txt&lt;/li&gt;
	&lt;li&gt;(edit) tika-server/src/main/java/org/apache/tika/server/TikaServerCli.java&lt;/li&gt;
	&lt;li&gt;(edit) tika-server/src/main/java/org/apache/tika/server/TikaServerWatchDog.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="16648102" author="tallison@mitre.org" created="Fri, 12 Oct 2018 16:40:02 +0000"  >&lt;p&gt;Thank you for raising this issue.  Congratulations!  You&apos;re the 3rd person in the world (that I&apos;ve heard of) to use -spawnChild.  Let us know if the fix works for you and/or if you need anything else.&lt;/p&gt;</comment>
                            <comment id="16648159" author="hudson" created="Fri, 12 Oct 2018 17:13:23 +0000"  >&lt;p&gt;SUCCESS: Integrated in Jenkins build tika-branch-1x #114 (See &lt;a href=&quot;https://builds.apache.org/job/tika-branch-1x/114/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/tika-branch-1x/114/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-2753&quot; title=&quot;ChildProcess does not use the JAVA_HOME&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-2753&quot;&gt;&lt;del&gt;TIKA-2753&lt;/del&gt;&lt;/a&gt; &amp;#8211; use -javaHome or $JAVA_HOME when starting child process w (tallison: &lt;a href=&quot;https://github.com/apache/tika/commit/0f7e86cced275c2db3e2456685acf24fcf44e286&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tika/commit/0f7e86cced275c2db3e2456685acf24fcf44e286&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;(edit) tika-server/src/main/java/org/apache/tika/server/TikaServerWatchDog.java&lt;/li&gt;
	&lt;li&gt;(edit) tika-core/src/main/java/org/apache/tika/utils/ProcessUtils.java&lt;/li&gt;
	&lt;li&gt;(edit) tika-server/src/main/java/org/apache/tika/server/TikaServerCli.java&lt;/li&gt;
	&lt;li&gt;(edit) CHANGES.txt&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="16648237" author="hudson" created="Fri, 12 Oct 2018 18:04:05 +0000"  >&lt;p&gt;SUCCESS: Integrated in Jenkins build Tika-trunk #1578 (See &lt;a href=&quot;https://builds.apache.org/job/Tika-trunk/1578/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Tika-trunk/1578/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-2753&quot; title=&quot;ChildProcess does not use the JAVA_HOME&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-2753&quot;&gt;&lt;del&gt;TIKA-2753&lt;/del&gt;&lt;/a&gt; &amp;#8211; use -javaHome or $JAVA_HOME when starting child process w (tallison: &lt;a href=&quot;https://github.com/apache/tika/commit/d6dd1b2a169500fc0452d2f7ec2a54ba3d31381a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tika/commit/d6dd1b2a169500fc0452d2f7ec2a54ba3d31381a&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;(edit) CHANGES.txt&lt;/li&gt;
	&lt;li&gt;(edit) tika-server/src/main/java/org/apache/tika/server/TikaServerWatchDog.java&lt;/li&gt;
	&lt;li&gt;(edit) tika-core/src/main/java/org/apache/tika/utils/ProcessUtils.java&lt;/li&gt;
	&lt;li&gt;(edit) tika-server/src/main/java/org/apache/tika/server/TikaServerCli.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 5 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3z4on:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>