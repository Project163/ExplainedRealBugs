diff --git a/src/changes/changes.xml b/src/changes/changes.xml
index 44ad74da..96dc241c 100644
--- a/src/changes/changes.xml
+++ b/src/changes/changes.xml
@@ -45,6 +45,9 @@ The <action> type attribute can be add,update,fix,remove.
   <body>
   <release version="2.12.0" date="2021-MM-DD" description="This is a maintenance release (Java 8).">
     <!-- ADD -->
+    <action dev="psteitz" type="fix" due-to="Codievilky August" issue="POOL-401">
+       Ensure that capacity freed by invalidateObject is available to all keyed pools.
+    </action>
     <action dev="psteitz" type="fix" due-to="Codievilky August" issue="POOL-391">
        Ensure capacity freed by clear is made available to GKOP borrowers.
     </action>
diff --git a/src/main/java/org/apache/commons/pool2/impl/GenericKeyedObjectPool.java b/src/main/java/org/apache/commons/pool2/impl/GenericKeyedObjectPool.java
index 7ecb8248..02877c81 100644
--- a/src/main/java/org/apache/commons/pool2/impl/GenericKeyedObjectPool.java
+++ b/src/main/java/org/apache/commons/pool2/impl/GenericKeyedObjectPool.java
@@ -1334,11 +1334,9 @@ public class GenericKeyedObjectPool<K, T> extends BaseGenericObjectPool<T>
         synchronized (p) {
             if (p.getState() != PooledObjectState.INVALID) {
                 destroy(key, p, true, destroyMode);
+                reuseCapacity();
             }
         }
-        if (objectDeque.idleObjects.hasTakeWaiters()) {
-            addObject(key);
-        }
     }
 
     /**
diff --git a/src/test/java/org/apache/commons/pool2/impl/TestGenericKeyedObjectPool.java b/src/test/java/org/apache/commons/pool2/impl/TestGenericKeyedObjectPool.java
index 47a786e5..6bea592c 100644
--- a/src/test/java/org/apache/commons/pool2/impl/TestGenericKeyedObjectPool.java
+++ b/src/test/java/org/apache/commons/pool2/impl/TestGenericKeyedObjectPool.java
@@ -2593,6 +2593,19 @@ public class TestGenericKeyedObjectPool extends TestKeyedObjectPool {
         }
     }
 
+    @Test
+    public void testInvalidateFreesCapacityForOtherKeys() throws Exception {
+        gkoPool.setMaxTotal(1);
+        gkoPool.setMaxWait(Duration.ofMillis(500));
+        Thread borrower = new Thread(new SimpleTestThread<>(gkoPool, "two"));
+        String obj = gkoPool.borrowObject("one");
+        borrower.start();  // Will block
+        Thread.sleep(100);  // Make sure borrower has started
+        gkoPool.invalidateObject("one", obj);  // Should free capacity to serve the other key
+        Thread.sleep(20);  // Should have been served by now
+        assertFalse(borrower.isAlive());
+    }
+
 }
 
 
