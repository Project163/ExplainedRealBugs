diff --git a/src/main/java/org/apache/commons/pool2/impl/GenericKeyedObjectPool.java b/src/main/java/org/apache/commons/pool2/impl/GenericKeyedObjectPool.java
index c3e18a9f..8c97dbf0 100644
--- a/src/main/java/org/apache/commons/pool2/impl/GenericKeyedObjectPool.java
+++ b/src/main/java/org/apache/commons/pool2/impl/GenericKeyedObjectPool.java
@@ -478,6 +478,13 @@ public class GenericKeyedObjectPool<K,T> extends BaseGenericObjectPool<T>
                 } catch (Exception e) {
                     swallowException(e);
                 }
+                if (objectDeque.idleObjects.hasTakeWaiters()) {
+                    try {
+                        addObject(key);
+                    } catch (Exception e) {
+                        swallowException(e);
+                    }
+                }
                 updateStatsReturn(activeTime);
                 return;
             }
@@ -492,6 +499,13 @@ public class GenericKeyedObjectPool<K,T> extends BaseGenericObjectPool<T>
             } catch (Exception e) {
                 swallowException(e);
             }
+            if (objectDeque.idleObjects.hasTakeWaiters()) {
+                try {
+                    addObject(key);
+                } catch (Exception e) {
+                    swallowException(e);
+                }
+            }
             updateStatsReturn(activeTime);
             return;
         }
@@ -556,6 +570,9 @@ public class GenericKeyedObjectPool<K,T> extends BaseGenericObjectPool<T>
                 destroy(key, p, true);
             }
         }
+        if (objectDeque.idleObjects.hasTakeWaiters()) {
+            addObject(key);
+        }
     }
 
 
diff --git a/src/test/java/org/apache/commons/pool2/impl/TestGenericKeyedObjectPool.java b/src/test/java/org/apache/commons/pool2/impl/TestGenericKeyedObjectPool.java
index c88e029d..ad388792 100644
--- a/src/test/java/org/apache/commons/pool2/impl/TestGenericKeyedObjectPool.java
+++ b/src/test/java/org/apache/commons/pool2/impl/TestGenericKeyedObjectPool.java
@@ -1781,7 +1781,7 @@ public class TestGenericKeyedObjectPool extends TestKeyedObjectPool {
      *
      * JIRA: POOL-240
      */
-    //@Test
+    @Test
     public void testInvalidateWaiting()
         throws Exception {
 
@@ -1860,7 +1860,7 @@ public class TestGenericKeyedObjectPool extends TestKeyedObjectPool {
      *
      * JIRA: POOL-240
      */
-    //@Test
+    @Test
     public void testInvalidateFreesCapacity()
         throws Exception {
         SimpleFactory<String> factory = new SimpleFactory<String>();
@@ -1890,7 +1890,7 @@ public class TestGenericKeyedObjectPool extends TestKeyedObjectPool {
      *
      * JIRA: POOL-240
      */
-    //@Test
+    @Test
     public void testValidationFailureOnReturnFreesCapacity()
         throws Exception {
         SimpleFactory<String> factory = new SimpleFactory<String>();
