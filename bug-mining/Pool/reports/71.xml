<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:16:24 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[POOL-182] Issues with org.apache.commons.pool2.performance. PerformanceTest</title>
                <link>https://issues.apache.org/jira/browse/POOL-182</link>
                <project id="12310488" key="POOL">Commons Pool</project>
                    <description>&lt;p&gt; the use volatiles : waiting,complete,totalBorrowTime, totalReturnTime, nrSamples&lt;br/&gt;
 is not correct.&lt;/p&gt;


&lt;p&gt; for ex the following totalBorrowTime += borrowTime is not atomic resulting in a&lt;br/&gt;
 race condition.&lt;/p&gt;

&lt;p&gt; one way to fix this is using the java.util.concurent Atomic variants or even&lt;br/&gt;
 better,&lt;br/&gt;
 make these variables members of MyThread and aggregate them at the end of the&lt;br/&gt;
 test,&lt;br/&gt;
 this way there will be no need to use Atomic and thus increasing efficiency, and&lt;br/&gt;
 accuracy of the test of the test.&lt;/p&gt;

&lt;p&gt; also:&lt;/p&gt;

&lt;p&gt; private boolean start;&lt;/p&gt;

&lt;p&gt; needs to be volatile, due to visibility issue.&lt;br/&gt;
 (when updating start other threads might not pick up the value)&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12497500">POOL-182</key>
            <summary>Issues with org.apache.commons.pool2.performance. PerformanceTest</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="zolyfarkas">Zoltan Farkas</reporter>
                        <labels>
                    </labels>
                <created>Wed, 2 Feb 2011 20:08:10 +0000</created>
                <updated>Wed, 31 Dec 2014 16:50:05 +0000</updated>
                            <resolved>Tue, 13 Dec 2011 16:57:54 +0000</resolved>
                                    <version>2.0</version>
                                    <fixVersion>2.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="14400">4h</timeoriginalestimate>
                            <timeestimate seconds="14400">4h</timeestimate>
                                        <comments>
                            <comment id="12998475" author="mohitsoni" created="Wed, 23 Feb 2011 17:58:16 +0000"  >&lt;p&gt;Current patch replaces use of volatiles with &apos;TaskStats&apos; object and &apos;Callable&apos;(s). &lt;br/&gt;
Each thread executes a &apos;PerfTask&apos; and collects the stats inside &apos;TaskStats&apos; object.&lt;br/&gt;
When all threads return, using &apos;TaskStats&apos; objects of each thread, an aggregate &apos;TaskStats&apos; object is created and output is displayed.&lt;/p&gt;</comment>
                            <comment id="13000846" author="simone.tripodi" created="Tue, 1 Mar 2011 11:56:24 +0000"  >&lt;p&gt;Thanks for the patch, unfortunately it contains also code reformat that makes not easier to understand what was really the subject of the modification.&lt;br/&gt;
Can you please provide a second patch that only contains your suggestions?&lt;br/&gt;
Thanks in advance!!!&lt;/p&gt;</comment>
                            <comment id="13168509" author="markt" created="Tue, 13 Dec 2011 16:57:54 +0000"  >&lt;p&gt;I merged the proposed match manually. Functional changes were kept. Cosmetic ones were not.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12471758" name="PerformanceTest.patch" size="11669" author="mohitsoni" created="Wed, 23 Feb 2011 17:58:16 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>19474</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 49 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0zdtz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>204543</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>