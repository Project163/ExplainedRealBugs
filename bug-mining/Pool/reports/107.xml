<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:16:36 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[POOL-270] timeBetweenEvictionRunsMillis from config is ignored</title>
                <link>https://issues.apache.org/jira/browse/POOL-270</link>
                <project id="12310488" key="POOL">Commons Pool</project>
                    <description>&lt;p&gt;In the constructor for GenericKeyedObjectPool, the setting for timeBetweenEvictionRunsMillis is always overridden by minEvictableIdleTimeMillis.&lt;/p&gt;

&lt;p&gt;First setConfig() is called, which, ends up starting an evictor with a period of timeBetweenEvictionRunsMillis, as expected. but the final line of the constructor calls startEvictor() again with minEvictableIdleTimeMillis, which kills the first timer and starts a new one with the new period. This means effectively the timeBetweenEvictionRunsMillis from the config is not used for anything.&lt;/p&gt;

&lt;p&gt;I want testWhileIdle&apos;s verifications to run more often than I want the timeout for evicting idle objects, which does not appear to be possible given this bug.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12735517">POOL-270</key>
            <summary>timeBetweenEvictionRunsMillis from config is ignored</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mberman">Michael Berman</reporter>
                        <labels>
                    </labels>
                <created>Wed, 20 Aug 2014 19:38:55 +0000</created>
                <updated>Wed, 31 Dec 2014 16:21:06 +0000</updated>
                            <resolved>Mon, 1 Sep 2014 02:52:53 +0000</resolved>
                                    <version>2.2</version>
                                    <fixVersion>2.3</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14104781" author="psteitz" created="Wed, 20 Aug 2014 23:18:06 +0000"  >&lt;p&gt;The code looks correct to me and there are unit tests that confirm correct setting of config values by constructors.  I don&apos;t see anywhere that minEvictableIdleTimeMillis is used to control a timer or override timeBetweenEvictionRunsMillis.  Perhaps your client code is swapping these or you are not correctly understanding the meaning of these config parameters. &lt;/p&gt;</comment>
                            <comment id="14104793" author="mberman" created="Wed, 20 Aug 2014 23:30:46 +0000"  >&lt;blockquote&gt;&lt;p&gt;I don&apos;t see anywhere that minEvictableIdleTimeMillis is used to control a timer&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;GenericKeyedObjectPool:112 has &lt;tt&gt;startEvictor(getMinEvictableIdleTimeMillis())&lt;/tt&gt;, and the implementation of startEvictor kills any existing evictor and starts a new one with the provided period.&lt;/p&gt;

&lt;p&gt;It&apos;s certainly possible that I&apos;m not understanding the meaning of the timeBetweenEvictionRunsMillis parameter. What is it supposed to control? If you call &lt;tt&gt;setTimeBetweenEvictionRunsMillis&lt;/tt&gt; on an extant pool, it seems to set the interval between eviction runs, which is what I&apos;d expect. However, that&apos;s not what it does when it&apos;s passed into the constructor as part of a GenericKeyedObjectPoolConfig. In that case, I don&apos;t see that it does anything besides set the field (which is never read), and start the evictor thread that will be immediately destroyed at the line referenced above. Could you point me to the unit test that demonstrates this working?&lt;/p&gt;</comment>
                            <comment id="14104824" author="psteitz" created="Thu, 21 Aug 2014 00:02:01 +0000"  >&lt;p&gt;Sorry, Michael.  I checked GOP but not GKOP.  That is definitely a bug.  Thanks for reporting this.&lt;/p&gt;</comment>
                            <comment id="14104843" author="mberman" created="Thu, 21 Aug 2014 00:22:05 +0000"  >&lt;p&gt;Ah, you&apos;re right it&apos;s not in GOP. I read it too fast and thought I saw the same thing over there, but, as you say, that one&apos;s fine.&lt;/p&gt;</comment>
                            <comment id="14116992" author="psteitz" created="Mon, 1 Sep 2014 02:52:53 +0000"  >&lt;p&gt;Fixed in r1621664.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 11 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1z5dr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>