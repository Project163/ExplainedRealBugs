<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:16:21 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[POOL-150] GenericKeyedObjectPool.preparePool does not throw an exception if supplied factory is null</title>
                <link>https://issues.apache.org/jira/browse/POOL-150</link>
                <project id="12310488" key="POOL">Commons Pool</project>
                    <description>&lt;p&gt;GenericKeyedObjectPool.preparePool  doesnot throw an exception if supplied factory is null. &lt;/p&gt;

&lt;p&gt;GenericKeyedObjectPool.preparePool invokes ensureMinIdle() if populateImmediately is true and GenericKeyedObjectPool.ensureMinIdle() invokes GenericKeyedObjectPool.addObject() which throws an IllegalStateException if factory is null but this exception does not throw further in GenericKeyedObjectPool.preparePool.&lt;/p&gt;

&lt;p&gt;Catch block of  GenericKeyedObjectPool..preparePool is empty.&lt;/p&gt;

&lt;p&gt;public synchronized void preparePool(Object key, boolean populateImmediately) {&lt;br/&gt;
    	ObjectQueue pool = (ObjectQueue)(_poolMap.get(key));&lt;br/&gt;
    	System.out.println(this.getClass().getName()+&quot;.preparePool() pool  &lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;quot;+pool +&amp;quot;&amp;#93;&lt;/span&gt;&quot;);&lt;br/&gt;
        if (null == pool) &lt;/p&gt;
{
            pool = new ObjectQueue();
            _poolMap.put(key,pool);
            _poolList.add(key);
        }

&lt;p&gt;        if (populateImmediately) {&lt;br/&gt;
            try &lt;/p&gt;
{
                // Create the pooled objects
            	System.out.println(this.getClass().getName()+&quot;.preparePool() Create the pooled objects &quot;);
                ensureMinIdle(key);
            }
&lt;p&gt;            catch (Exception e) &lt;/p&gt;
{
                //Do nothing
            }
&lt;p&gt;        }&lt;br/&gt;
    }&lt;/p&gt;</description>
                <environment>&lt;p&gt;Java 5&lt;/p&gt;</environment>
        <key id="12435820">POOL-150</key>
            <summary>GenericKeyedObjectPool.preparePool does not throw an exception if supplied factory is null</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="kumarvijay1979">VIJAY KUMAR</reporter>
                        <labels>
                    </labels>
                <created>Wed, 16 Sep 2009 12:45:05 +0000</created>
                <updated>Wed, 31 Dec 2014 16:33:52 +0000</updated>
                            <resolved>Mon, 13 Jun 2011 21:53:27 +0000</resolved>
                                    <version>1.4</version>
                                    <fixVersion>2.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="10800">3h</timeoriginalestimate>
                            <timeestimate seconds="10800">3h</timeestimate>
                                        <comments>
                            <comment id="12756461" author="markt" created="Thu, 17 Sep 2009 10:24:48 +0000"  >&lt;p&gt;Point taken.&lt;/p&gt;

&lt;p&gt;Throwing an exception is an API change so this will have to wait until 2.0&lt;/p&gt;</comment>
                            <comment id="12801210" author="sebb@apache.org" created="Sat, 16 Jan 2010 16:24:01 +0000"  >&lt;p&gt;Also, GenericKeyedObjectPool.returnObject() fails to check if _factory is non-null before calling the private method addObjectToPool() which always dereferences _factory.&lt;/p&gt;

&lt;p&gt;Likewise, borrowObject assumes that _factory is non-null.&lt;/p&gt;</comment>
                            <comment id="12973666" author="simone.tripodi" created="Tue, 21 Dec 2010 14:21:59 +0000"  >&lt;p&gt;In the current implementations in trunk, factories cannot be null, there&apos;s a check in ctors, so&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;this issue can be closed because we prevents null factories;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;OR&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;I didn&apos;t understand how the pool should work so null factories are allowed.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;What&apos;s of the two?&lt;/p&gt;</comment>
                            <comment id="12973788" author="psteitz" created="Tue, 21 Dec 2010 17:45:53 +0000"  >&lt;p&gt;Based on current 2.0 code in trunk, I would say we can resolve this as fixed in 2.0, since null factories are not allowed by ctors and we are removing the setter.  I will note, however, at this point that the latter causes problems for DBCP &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; and Tomcat, so maybe we should leave this open until we have a workaround in place at least for DBCP and we are closer to 2.0 release.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; See the constructor for PoolableConnectionFactory and the createConnectionPool, createPoolableConnectionFactory methods in BasicDataSource.  The strategy used by DBCP is to create the pool, set its properties (other than the factory) and then attach the factory to the pool in the factory constructor.  Should be able to be refactored, but maybe best to leave this open until we have done that.&lt;/p&gt;

</comment>
                            <comment id="13048809" author="markt" created="Mon, 13 Jun 2011 21:53:27 +0000"  >&lt;p&gt;This was fixed as a side-effect of the 2.0.x re-factoring although not in the manner originally envisaged as factories may be null when GKOPs are created.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>19482</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 23 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0zdbz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>204462</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>