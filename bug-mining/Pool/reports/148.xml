<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:16:59 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[POOL-347] borrowObject waits for maxWaitMillis over in pool full</title>
                <link>https://issues.apache.org/jira/browse/POOL-347</link>
                <project id="12310488" key="POOL">Commons Pool</project>
                    <description>&lt;p&gt;Since&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/POOL-303&quot; title=&quot;GenericObjectPool&amp;#39;s borrowObject may stuck if create() always fail&quot; class=&quot;issue-link&quot; data-issue-key=&quot;POOL-303&quot;&gt;&lt;del&gt;POOL-303&lt;/del&gt;&lt;/a&gt;&apos;s &lt;a href=&quot;https://github.com/apache/commons-pool/commit/a4c544a24242701673073d32d2ddbf037fac0099&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;fix&lt;/a&gt;, even if we specify maxWaitMillis, object creation continues waiting for longer time without any hard limit at &lt;a href=&quot;https://github.com/apache/commons-pool/blob/3e6dfcd61ddcd88b18934738ebda05c84c948a80/src/main/java/org/apache/commons/pool2/impl/GenericObjectPool.java#L848&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-pool/blob/3e6dfcd61ddcd88b18934738ebda05c84c948a80/src/main/java/org/apache/commons/pool2/impl/GenericObjectPool.java#L848&lt;/a&gt;. &lt;/p&gt;

&lt;p&gt;Here&apos;s the actual stacktrace:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: WAITING (on object monitor)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.wait(Native Method)
	- waiting on &amp;lt;0x0000000741158358&amp;gt; (a java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.wait(&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.java:502)
	at org.apache.commons.pool2.impl.GenericObjectPool.create(GenericObjectPool.java:848)
	- locked &amp;lt;0x0000000741158358&amp;gt; (a java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;)
	at org.apache.commons.pool2.impl.GenericObjectPool.borrowObject(GenericObjectPool.java:417)
	at org.apache.commons.pool2.impl.TestGenericObjectPool.testReturnBorrowObjectWithingMaxWaitMillis(TestGenericObjectPool.java:2658)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;As example of this issue, &lt;br/&gt;
we use Jedis2.9 with commons-pool 2.4.3 and maxWaitMillis=500ms in our environment.&lt;br/&gt;
However, when master node is down and the connection pool for the node is full, succeeding JedisConnections wait there forever until pool is free. &lt;br/&gt;
Therefore, borrowObject (and the aborting) of last connections takes 40 ~ 80 sec at worst case.&lt;/p&gt;

&lt;p&gt;In order to avoid such situations, we should set hard limit to wait by reusing maxWaitMillis or another value.  &lt;/p&gt;</description>
                <environment></environment>
        <key id="13173493">POOL-347</key>
            <summary>borrowObject waits for maxWaitMillis over in pool full</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sunsuk7tp">Shunsuke Nakamura</reporter>
                        <labels>
                    </labels>
                <created>Fri, 20 Jul 2018 16:43:08 +0000</created>
                <updated>Tue, 24 Jul 2018 22:12:02 +0000</updated>
                            <resolved>Sun, 22 Jul 2018 14:42:06 +0000</resolved>
                                    <version>2.4.3</version>
                    <version>2.5.0</version>
                    <version>2.6.0</version>
                                    <fixVersion>2.6.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16550984" author="githubbot" created="Fri, 20 Jul 2018 16:50:57 +0000"  >&lt;p&gt;GitHub user sunsuk7tp opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/commons-pool/pull/10&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-pool/pull/10&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/POOL-347&quot; title=&quot;borrowObject waits for maxWaitMillis over in pool full&quot; class=&quot;issue-link&quot; data-issue-key=&quot;POOL-347&quot;&gt;&lt;del&gt;POOL-347&lt;/del&gt;&lt;/a&gt; : Regard waiting object creation as failure if pool is full and maxWaitTime passed&lt;/p&gt;

&lt;p&gt;    JIRA: &lt;a href=&quot;https://issues.apache.org/jira/browse/POOL-347&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/POOL-347&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/sunsuk7tp/commons-pool&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/sunsuk7tp/commons-pool&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/POOL-347&quot; title=&quot;borrowObject waits for maxWaitMillis over in pool full&quot; class=&quot;issue-link&quot; data-issue-key=&quot;POOL-347&quot;&gt;&lt;del&gt;POOL-347&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/commons-pool/pull/10.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-pool/pull/10.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #10&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 7b3a83479ea3d57c624aa1ecd0260b86b12272de&lt;br/&gt;
Author: Shunsuke Nakamura &amp;lt;sunsuk7tp@...&amp;gt;&lt;br/&gt;
Date:   2018-07-20T16:47:28Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/POOL-347&quot; title=&quot;borrowObject waits for maxWaitMillis over in pool full&quot; class=&quot;issue-link&quot; data-issue-key=&quot;POOL-347&quot;&gt;&lt;del&gt;POOL-347&lt;/del&gt;&lt;/a&gt; Regard waiting object creation as failure if pool is full and maxWaitTime passed&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16550993" author="githubbot" created="Fri, 20 Jul 2018 17:06:05 +0000"  >&lt;p&gt;Github user coveralls commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/commons-pool/pull/10&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-pool/pull/10&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;    [!&lt;span class=&quot;error&quot;&gt;&amp;#91;Coverage Status&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://coveralls.io/builds/18088758/badge)](https://coveralls.io/builds/18088758&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://coveralls.io/builds/18088758/badge)](https://coveralls.io/builds/18088758&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;    Coverage increased (+0.1%) to 85.146% when pulling *&lt;b&gt;7b3a83479ea3d57c624aa1ecd0260b86b12272de on sunsuk7tp:&lt;a href=&quot;https://issues.apache.org/jira/browse/POOL-347&quot; title=&quot;borrowObject waits for maxWaitMillis over in pool full&quot; class=&quot;issue-link&quot; data-issue-key=&quot;POOL-347&quot;&gt;&lt;del&gt;POOL-347&lt;/del&gt;&lt;/a&gt;&lt;/b&gt;* into *&lt;b&gt;3e6dfcd61ddcd88b18934738ebda05c84c948a80 on apache:master&lt;/b&gt;*.&lt;/p&gt;
</comment>
                            <comment id="16551715" author="githubbot" created="Sat, 21 Jul 2018 14:28:23 +0000"  >&lt;p&gt;Github user garydgregory commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/commons-pool/pull/10&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-pool/pull/10&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    When I apply this match to master, I get:&lt;/p&gt;

&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Running org.apache.commons.pool2.impl.TestGenericObjectPool&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Tests run: 82, Failures: 0, Errors: 3, Skipped: 0, Time elapsed: 81.078 s &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.apache.commons.pool2.impl.TestGenericObjectPool&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; testMutable(org.apache.commons.pool2.impl.TestGenericObjectPool)  Time elapsed: 0.037 s  &amp;lt;&amp;lt;&amp;lt; ERROR!&lt;br/&gt;
    java.lang.NoSuchMethodError: org.apache.commons.pool2.impl.TestGenericObjectPool$HashSetFactory.&amp;lt;init&amp;gt;(Lorg/apache/commons/pool2/impl/TestGenericObjectPool$1;)V&lt;br/&gt;
            at org.apache.commons.pool2.impl.TestGenericObjectPool.testMutable(TestGenericObjectPool.java:2445)&lt;/p&gt;

&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; testErrorFactoryDoesNotBlockThreads(org.apache.commons.pool2.impl.TestGenericObjectPool)  Time elapsed: 0.011 s  &amp;lt;&amp;lt;&amp;lt; ERROR!&lt;br/&gt;
    java.lang.NoSuchMethodError: org.apache.commons.pool2.impl.TestGenericObjectPool$CreateErrorFactory.&amp;lt;init&amp;gt;(Lorg/apache/commons/pool2/impl/TestGenericObjectPool$1;)V&lt;br/&gt;
            at org.apache.commons.pool2.impl.TestGenericObjectPool.testErrorFactoryDoesNotBlockThreads(TestGenericObjectPool.java:2685)&lt;/p&gt;

&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; testEqualsIndiscernible(org.apache.commons.pool2.impl.TestGenericObjectPool)  Time elapsed: 0 s  &amp;lt;&amp;lt;&amp;lt; ERROR!&lt;br/&gt;
    java.lang.NoSuchMethodError: org.apache.commons.pool2.impl.TestGenericObjectPool$HashSetFactory.&amp;lt;init&amp;gt;(Lorg/apache/commons/pool2/impl/TestGenericObjectPool$1;)V&lt;br/&gt;
            at org.apache.commons.pool2.impl.TestGenericObjectPool.testEqualsIndiscernible(TestGenericObjectPool.java:2427)&lt;/p&gt;
</comment>
                            <comment id="16551727" author="githubbot" created="Sat, 21 Jul 2018 15:12:43 +0000"  >&lt;p&gt;Github user sunsuk7tp commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/commons-pool/pull/10&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-pool/pull/10&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @garydgregory Oh, really? I tried that from latest master brach and it passed with no error.&lt;br/&gt;
    Could you tell me your jdk version and stuff? (mine is `1.8.0_171`) &lt;br/&gt;
    BTW this PR didn&apos;t modify codes related to the 3 test cases. Test with master branch passes in your environment, right?&lt;/p&gt;</comment>
                            <comment id="16551762" author="githubbot" created="Sat, 21 Jul 2018 16:34:17 +0000"  >&lt;p&gt;Github user garydgregory commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/commons-pool/pull/10&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-pool/pull/10&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I am using:&lt;br/&gt;
    ```&lt;br/&gt;
    Apache Maven 3.5.4 (1edded0938998edf8bf061f1ceb3cfdeccf443fe; 2018-06-17T12:33:14-06:00)&lt;br/&gt;
    Maven home: C:\Java\apache-maven-3.5.4\bin\..&lt;br/&gt;
    Java version: 1.8.0_172, vendor: Oracle Corporation, runtime: C:\Program Files\Java\jdk1.8.0_172\jre&lt;br/&gt;
    Default locale: en_US, platform encoding: Cp1252&lt;br/&gt;
    OS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;&lt;br/&gt;
    ```&lt;br/&gt;
    I tried again and it worked, but then, trying again, I get 5 errors instead of the 3 above:&lt;br/&gt;
    ```&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Tests run: 82, Failures: 0, Errors: 5, Skipped: 0, Time elapsed: 78.346 s &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.apache.commons.pool2.impl.TestGenericObjectPool&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; testConstructors(org.apache.commons.pool2.impl.TestGenericObjectPool)  Time elapsed: 0.179 s  &amp;lt;&amp;lt;&amp;lt; ERROR!&lt;br/&gt;
    java.lang.NoSuchMethodError: org.apache.commons.pool2.impl.TestGenericObjectPool$DummyFactory.&amp;lt;init&amp;gt;(Lorg/apache/commons/pool2/impl/TestGenericObjectPool$1;)V&lt;br/&gt;
            at org.apache.commons.pool2.impl.TestGenericObjectPool.testConstructors(TestGenericObjectPool.java:140)&lt;/p&gt;

&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; testFailingFactoryDoesNotBlockThreads(org.apache.commons.pool2.impl.TestGenericObjectPool)  Time elapsed: 0.015 s  &amp;lt;&amp;lt;&amp;lt; ERROR!&lt;br/&gt;
    java.lang.NoSuchMethodError: org.apache.commons.pool2.impl.TestGenericObjectPool$CreateFailFactory.&amp;lt;init&amp;gt;(Lorg/apache/commons/pool2/impl/TestGenericObjectPool$1;)V&lt;br/&gt;
            at org.apache.commons.pool2.impl.TestGenericObjectPool.testFailingFactoryDoesNotBlockThreads(TestGenericObjectPool.java:2570)&lt;/p&gt;

&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; testMutable(org.apache.commons.pool2.impl.TestGenericObjectPool)  Time elapsed: 0.032 s  &amp;lt;&amp;lt;&amp;lt; ERROR!&lt;br/&gt;
    java.lang.NoSuchMethodError: org.apache.commons.pool2.impl.TestGenericObjectPool$HashSetFactory.&amp;lt;init&amp;gt;(Lorg/apache/commons/pool2/impl/TestGenericObjectPool$1;)V&lt;br/&gt;
            at org.apache.commons.pool2.impl.TestGenericObjectPool.testMutable(TestGenericObjectPool.java:2445)&lt;/p&gt;

&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; testErrorFactoryDoesNotBlockThreads(org.apache.commons.pool2.impl.TestGenericObjectPool)  Time elapsed: 0.035 s  &amp;lt;&amp;lt;&amp;lt; ERROR!&lt;br/&gt;
    java.lang.NoSuchMethodError: org.apache.commons.pool2.impl.TestGenericObjectPool$CreateErrorFactory.&amp;lt;init&amp;gt;(Lorg/apache/commons/pool2/impl/TestGenericObjectPool$1;)V&lt;br/&gt;
            at org.apache.commons.pool2.impl.TestGenericObjectPool.testErrorFactoryDoesNotBlockThreads(TestGenericObjectPool.java:2685)&lt;/p&gt;

&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; testEqualsIndiscernible(org.apache.commons.pool2.impl.TestGenericObjectPool)  Time elapsed: 0.005 s  &amp;lt;&amp;lt;&amp;lt; ERROR!&lt;br/&gt;
    java.lang.NoSuchMethodError: org.apache.commons.pool2.impl.TestGenericObjectPool$HashSetFactory.&amp;lt;init&amp;gt;(Lorg/apache/commons/pool2/impl/TestGenericObjectPool$1;)V&lt;br/&gt;
            at org.apache.commons.pool2.impl.TestGenericObjectPool.testEqualsIndiscernible(TestGenericObjectPool.java:2427)&lt;br/&gt;
    ```&lt;/p&gt;

&lt;p&gt;    Now I am trying to build without the patch and it passes. I tried 3 times in a row without errors. Each build (mvn clean test) takes about 5:15 minutes.&lt;/p&gt;

&lt;p&gt;    So there is a side-effect in play with the patch... Can you run the build many times in a row and report?&lt;/p&gt;</comment>
                            <comment id="16551840" author="githubbot" created="Sat, 21 Jul 2018 22:34:00 +0000"  >&lt;p&gt;Github user sunsuk7tp commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/commons-pool/pull/10&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-pool/pull/10&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Hmm.. I tried many times but it always succeeded like below: &lt;br/&gt;
    &lt;a href=&quot;https://gist.github.com/sunsuk7tp/c6ad1c73c77403c32bab546ca86198ff&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gist.github.com/sunsuk7tp/c6ad1c73c77403c32bab546ca86198ff&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Also, test all passed on travis ci: &lt;br/&gt;
    &lt;a href=&quot;https://travis-ci.org/apache/commons-pool/builds/406334648?utm_source=github_status&amp;amp;utm_medium=notification&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://travis-ci.org/apache/commons-pool/builds/406334648?utm_source=github_status&amp;amp;utm_medium=notification&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I guess `mvn clean` somehow doesn&apos;t work well in your local because the cause is `java.lang.NoSuchMethodError`. BTW do you get same error even if you get rid of new test case from my patch? &lt;/p&gt;</comment>
                            <comment id="16552037" author="githubbot" created="Sun, 22 Jul 2018 14:41:32 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/commons-pool/pull/10&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-pool/pull/10&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16552038" author="garydgregory" created="Sun, 22 Jul 2018 14:42:06 +0000"  >&lt;p&gt;Local builds work now for me.&lt;/p&gt;

&lt;p&gt;Patch applied.&lt;/p&gt;

&lt;p&gt;Please verify and close this ticket.&lt;/p&gt;</comment>
                            <comment id="16552057" author="sunsuk7tp" created="Sun, 22 Jul 2018 16:10:29 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=garydgregory&quot; class=&quot;user-hover&quot; rel=&quot;garydgregory&quot;&gt;garydgregory&lt;/a&gt; Closed. Thank you for quick review and merge. &lt;/p&gt;

&lt;p&gt;JFYI: this issue didn&apos;t reproduce on GenericKeyedObjectPool side thanks to this while loop, &lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/commons-pool/blob/3e6dfcd61ddcd88b18934738ebda05c84c948a80/src/main/java/org/apache/commons/pool2/impl/GenericKeyedObjectPool.java#L983-L997&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-pool/blob/3e6dfcd61ddcd88b18934738ebda05c84c948a80/src/main/java/org/apache/commons/pool2/impl/GenericKeyedObjectPool.java#L983-L997&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="12864197">POOL-303</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13153296">POOL-340</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 16 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3w4cf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>