<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:16:10 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[POOL-137] Inconsistent synchronization in GenericObjectPool; constant fields should be final</title>
                <link>https://issues.apache.org/jira/browse/POOL-137</link>
                <project id="12310488" key="POOL">Commons Pool</project>
                    <description>&lt;p&gt;_whenExhaustedAction is not always accessed using synchronization.&lt;/p&gt;

&lt;p&gt;The private static Latch class appears to be used across threads, but has no synchronization.&lt;/p&gt;

&lt;p&gt;The static class Config contains several fields which appear to be used as constants, however the fields are not final.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12425694">POOL-137</key>
            <summary>Inconsistent synchronization in GenericObjectPool; constant fields should be final</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sebb">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Mon, 18 May 2009 00:13:17 +0000</created>
                <updated>Fri, 19 Jun 2009 16:09:12 +0000</updated>
                            <resolved>Mon, 18 May 2009 20:16:34 +0000</resolved>
                                                    <fixVersion>1.5</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12710471" author="markt" created="Mon, 18 May 2009 20:03:13 +0000"  >&lt;p&gt;I can&apos;t sync _whenExhaustedAction where it is used or I end up with a deadlock when running the tests. I think what I&apos;ll do is get a local copy of all the fields I need at the start of borrowObject() - in a sync block - so at least we are working with a consistent configuration for the rest of that method even if it might be out of date.&lt;/p&gt;

&lt;p&gt;For the use of Latch, I am happy (at the momentat least ) that the code is written in such a way that only one thread will ever be trying to access the latch at the same time. If you can see a code path where that isn&apos;t the case please add it here.&lt;/p&gt;

&lt;p&gt;The Config class looks OK to me. Which fields were you worried about?&lt;/p&gt;</comment>
                            <comment id="12710474" author="markt" created="Mon, 18 May 2009 20:16:34 +0000"  >&lt;p&gt;I have fixed the sync issues as best I can even though I am not a huge fan of my solution. I think the whole sync strategy needs to be re-thought for 2.0. I&apos;ll write up something for the dev list when we reach that point.&lt;/p&gt;</comment>
                            <comment id="12710501" author="sebb@apache.org" created="Mon, 18 May 2009 21:30:56 +0000"  >&lt;p&gt;Re: _whenExhaustedAction : this should be documented for later maintainers please.&lt;/p&gt;

&lt;p&gt;Access to Latch fields need to be synch. regardless of whether the access is simultaneous or not - if one thread sets a field, another thread may not see the same value in the absence of synch.&lt;/p&gt;

&lt;p&gt;Re: Config - I thought the fields were used as constants, but on looking again they are used as defaults - so please ignore that comment.&lt;/p&gt;</comment>
                            <comment id="12711351" author="markt" created="Wed, 20 May 2009 21:05:06 +0000"  >&lt;p&gt;Re: _whenExhaustedAction : Already documented in-line&lt;/p&gt;

&lt;p&gt;Re: Latch: Syncs added.&lt;/p&gt;</comment>
                            <comment id="12721848" author="psteitz" created="Fri, 19 Jun 2009 16:09:12 +0000"  >&lt;p&gt;Fixed in 1.5 release.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>166715</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 23 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0zerj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>204694</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>