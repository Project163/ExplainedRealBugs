[{"id":588187529,"node_id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50NTg4MTg3NTI5","url":"https://api.github.com/repos/playframework/playframework/issues/events/588187529","actor":{"login":"marcospereira","id":4576,"node_id":"MDQ6VXNlcjQ1NzY=","avatar_url":"https://avatars.githubusercontent.com/u/4576?v=4","gravatar_id":"","url":"https://api.github.com/users/marcospereira","html_url":"https://github.com/marcospereira","followers_url":"https://api.github.com/users/marcospereira/followers","following_url":"https://api.github.com/users/marcospereira/following{/other_user}","gists_url":"https://api.github.com/users/marcospereira/gists{/gist_id}","starred_url":"https://api.github.com/users/marcospereira/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marcospereira/subscriptions","organizations_url":"https://api.github.com/users/marcospereira/orgs","repos_url":"https://api.github.com/users/marcospereira/repos","events_url":"https://api.github.com/users/marcospereira/events{/privacy}","received_events_url":"https://api.github.com/users/marcospereira/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2016-03-14T04:41:19Z","rename":{"from":"Stream sendFile Throw exception,java.util.NoSuchElementException: http-handler-body-subscriber","to":"Ok.sendFile logs exception java.util.NoSuchElementException: http-handler-body-subscriber"},"performed_via_github_app":null},{"id":588187757,"node_id":"MDEyOkxhYmVsZWRFdmVudDU4ODE4Nzc1Nw==","url":"https://api.github.com/repos/playframework/playframework/issues/events/588187757","actor":{"login":"marcospereira","id":4576,"node_id":"MDQ6VXNlcjQ1NzY=","avatar_url":"https://avatars.githubusercontent.com/u/4576?v=4","gravatar_id":"","url":"https://api.github.com/users/marcospereira","html_url":"https://github.com/marcospereira","followers_url":"https://api.github.com/users/marcospereira/followers","following_url":"https://api.github.com/users/marcospereira/following{/other_user}","gists_url":"https://api.github.com/users/marcospereira/gists{/gist_id}","starred_url":"https://api.github.com/users/marcospereira/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marcospereira/subscriptions","organizations_url":"https://api.github.com/users/marcospereira/orgs","repos_url":"https://api.github.com/users/marcospereira/repos","events_url":"https://api.github.com/users/marcospereira/events{/privacy}","received_events_url":"https://api.github.com/users/marcospereira/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2016-03-14T04:41:43Z","label":{"name":"defect","color":"e10c02"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/playframework/playframework/issues/comments/196145934","html_url":"https://github.com/playframework/playframework/issues/5866#issuecomment-196145934","issue_url":"https://api.github.com/repos/playframework/playframework/issues/5866","id":196145934,"node_id":"MDEyOklzc3VlQ29tbWVudDE5NjE0NTkzNA==","user":{"login":"marcospereira","id":4576,"node_id":"MDQ6VXNlcjQ1NzY=","avatar_url":"https://avatars.githubusercontent.com/u/4576?v=4","gravatar_id":"","url":"https://api.github.com/users/marcospereira","html_url":"https://github.com/marcospereira","followers_url":"https://api.github.com/users/marcospereira/followers","following_url":"https://api.github.com/users/marcospereira/following{/other_user}","gists_url":"https://api.github.com/users/marcospereira/gists{/gist_id}","starred_url":"https://api.github.com/users/marcospereira/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marcospereira/subscriptions","organizations_url":"https://api.github.com/users/marcospereira/orgs","repos_url":"https://api.github.com/users/marcospereira/repos","events_url":"https://api.github.com/users/marcospereira/events{/privacy}","received_events_url":"https://api.github.com/users/marcospereira/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-14T05:14:31Z","updated_at":"2016-03-14T05:14:31Z","body":"@cookeem I can confirm this is happening. I edited the issue to add more information and made the issue clearer.\n\n---\n\nFor anyone looking at this issue, this is the `sendFile` method right now:\n\n``` scala\nimport akka.stream.scaladsl.FileIO\n\ndef sendFile(content: java.io.File, inline: Boolean = false, fileName: java.io.File => String = _.getName, onClose: () => Unit = () => ()): Result = {\n  streamFile(FileIO.fromFile(content), fileName(content), content.length, inline)\n}\n```\n\n`FileIO.fromFile` creates a `akka.stream.impl.io.FileSource` which is an internal API of Akka Streams. Looks like have the following version of `sendFile` fixes the issue:\n\n``` scala\nimport akka.stream.scaladsl.StreamConverters\n\ndef sendFile(content: java.io.File, inline: Boolean = false, fileName: java.io.File => String = _.getName, onClose: () => Unit = () => ()): Result = {\n  streamFile(StreamConverters.fromInputStream(() => Files.newInputStream(content.toPath)), fileName(content), content.length, inline)\n}\n```\n\n`StreamConverters.fromInputStream` creates an `akka.stream.impl.io.InputStreamSource` which is slightly different from `akka.stream.impl.io.FileSource`.\n\nI'm still trying to figure out exactly why `FileIO.fromFile` is not doing the magic without the exception.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/playframework/playframework/issues/comments/196145934/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"marcospereira","id":4576,"node_id":"MDQ6VXNlcjQ1NzY=","avatar_url":"https://avatars.githubusercontent.com/u/4576?v=4","gravatar_id":"","url":"https://api.github.com/users/marcospereira","html_url":"https://github.com/marcospereira","followers_url":"https://api.github.com/users/marcospereira/followers","following_url":"https://api.github.com/users/marcospereira/following{/other_user}","gists_url":"https://api.github.com/users/marcospereira/gists{/gist_id}","starred_url":"https://api.github.com/users/marcospereira/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marcospereira/subscriptions","organizations_url":"https://api.github.com/users/marcospereira/orgs","repos_url":"https://api.github.com/users/marcospereira/repos","events_url":"https://api.github.com/users/marcospereira/events{/privacy}","received_events_url":"https://api.github.com/users/marcospereira/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":588208990,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NTg4MjA4OTkw","url":"https://api.github.com/repos/playframework/playframework/issues/events/588208990","actor":{"login":"cookeem","id":11674347,"node_id":"MDQ6VXNlcjExNjc0MzQ3","avatar_url":"https://avatars.githubusercontent.com/u/11674347?v=4","gravatar_id":"","url":"https://api.github.com/users/cookeem","html_url":"https://github.com/cookeem","followers_url":"https://api.github.com/users/cookeem/followers","following_url":"https://api.github.com/users/cookeem/following{/other_user}","gists_url":"https://api.github.com/users/cookeem/gists{/gist_id}","starred_url":"https://api.github.com/users/cookeem/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cookeem/subscriptions","organizations_url":"https://api.github.com/users/cookeem/orgs","repos_url":"https://api.github.com/users/cookeem/repos","events_url":"https://api.github.com/users/cookeem/events{/privacy}","received_events_url":"https://api.github.com/users/cookeem/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2016-03-14T05:14:31Z","performed_via_github_app":null},{"id":588208991,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDU4ODIwODk5MQ==","url":"https://api.github.com/repos/playframework/playframework/issues/events/588208991","actor":{"login":"cookeem","id":11674347,"node_id":"MDQ6VXNlcjExNjc0MzQ3","avatar_url":"https://avatars.githubusercontent.com/u/11674347?v=4","gravatar_id":"","url":"https://api.github.com/users/cookeem","html_url":"https://github.com/cookeem","followers_url":"https://api.github.com/users/cookeem/followers","following_url":"https://api.github.com/users/cookeem/following{/other_user}","gists_url":"https://api.github.com/users/cookeem/gists{/gist_id}","starred_url":"https://api.github.com/users/cookeem/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cookeem/subscriptions","organizations_url":"https://api.github.com/users/cookeem/orgs","repos_url":"https://api.github.com/users/cookeem/repos","events_url":"https://api.github.com/users/cookeem/events{/privacy}","received_events_url":"https://api.github.com/users/cookeem/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2016-03-14T05:14:31Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/playframework/playframework/issues/comments/196184208","html_url":"https://github.com/playframework/playframework/issues/5866#issuecomment-196184208","issue_url":"https://api.github.com/repos/playframework/playframework/issues/5866","id":196184208,"node_id":"MDEyOklzc3VlQ29tbWVudDE5NjE4NDIwOA==","user":{"login":"cookeem","id":11674347,"node_id":"MDQ6VXNlcjExNjc0MzQ3","avatar_url":"https://avatars.githubusercontent.com/u/11674347?v=4","gravatar_id":"","url":"https://api.github.com/users/cookeem","html_url":"https://github.com/cookeem","followers_url":"https://api.github.com/users/cookeem/followers","following_url":"https://api.github.com/users/cookeem/following{/other_user}","gists_url":"https://api.github.com/users/cookeem/gists{/gist_id}","starred_url":"https://api.github.com/users/cookeem/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cookeem/subscriptions","organizations_url":"https://api.github.com/users/cookeem/orgs","repos_url":"https://api.github.com/users/cookeem/repos","events_url":"https://api.github.com/users/cookeem/events{/privacy}","received_events_url":"https://api.github.com/users/cookeem/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-14T07:39:49Z","updated_at":"2016-03-14T07:48:17Z","body":"Actually not only Ok.sendFile will throw this exception, other function use akka streams to read file will throw the same exception. Example code like this:\n\n``` scala\n@Singleton\nclass Application @Inject() (db: DBApi, ws: WSClient) extends Controller {\n  implicit val system = ActorSystem(\"system\")\n  implicit val materializer = ActorMaterializer()\n\n    //Throw exception: java.util.NoSuchElementException: http-handler-body-subscriber\n  def streaming1 = Action {\n    try {\n      val fileName = \"/Volumes/Share/Book/AkkaScala2.3.14.pdf\"\n      val file = new File(fileName)\n      val fileContent: Source[ByteString, Future[IOResult]] = FileIO.fromFile(file)\n      val contentType = play.api.libs.MimeTypes.forFileName(fileName).orElse(Some(play.api.http.ContentTypes.BINARY))\n      Result(\n        header = ResponseHeader(200, Map(CONTENT_LENGTH -> file.length.toString)),\n        body = HttpEntity.Streamed(fileContent, Some(file.length()), contentType)\n      )\n    } catch {\n      case t: Throwable =>\n        InternalServerError(\"Error in server: \" + t.getMessage())\n    }\n  }\n\n    //Throw exception: java.util.NoSuchElementException: http-handler-body-subscriber\n  def streaming2 = Action {\n    Ok.sendFile(\n      content = new java.io.File(\"/Volumes/Share/Book/AkkaScala2.3.14.pdf\"),\n      fileName = _ => \"termsOfService.pdf\", \n      inline = true\n    )\n  }\n\n    //It works!\n  def streaming3 = Action {\n    val file = new File(\"/Volumes/Share/Book/AkkaScala2.3.14.pdf\")\n    val in: FileInputStream = new FileInputStream(file)\n    val dataContent: Enumerator[Array[Byte]] = Enumerator.fromStream(in, 1024*1024)\n    val source: Source[Array[Byte], NotUsed] = Source.fromPublisher(Streams.enumeratorToPublisher(dataContent))\n    Ok.chunked(source).as(\"application/pdf\")\n  }\n}\n```\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/playframework/playframework/issues/comments/196184208/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cookeem","id":11674347,"node_id":"MDQ6VXNlcjExNjc0MzQ3","avatar_url":"https://avatars.githubusercontent.com/u/11674347?v=4","gravatar_id":"","url":"https://api.github.com/users/cookeem","html_url":"https://github.com/cookeem","followers_url":"https://api.github.com/users/cookeem/followers","following_url":"https://api.github.com/users/cookeem/following{/other_user}","gists_url":"https://api.github.com/users/cookeem/gists{/gist_id}","starred_url":"https://api.github.com/users/cookeem/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cookeem/subscriptions","organizations_url":"https://api.github.com/users/cookeem/orgs","repos_url":"https://api.github.com/users/cookeem/repos","events_url":"https://api.github.com/users/cookeem/events{/privacy}","received_events_url":"https://api.github.com/users/cookeem/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":588308194,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NTg4MzA4MTk0","url":"https://api.github.com/repos/playframework/playframework/issues/events/588308194","actor":{"login":"singleton","id":6226,"node_id":"MDQ6VXNlcjYyMjY=","avatar_url":"https://avatars.githubusercontent.com/u/6226?v=4","gravatar_id":"","url":"https://api.github.com/users/singleton","html_url":"https://github.com/singleton","followers_url":"https://api.github.com/users/singleton/followers","following_url":"https://api.github.com/users/singleton/following{/other_user}","gists_url":"https://api.github.com/users/singleton/gists{/gist_id}","starred_url":"https://api.github.com/users/singleton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/singleton/subscriptions","organizations_url":"https://api.github.com/users/singleton/orgs","repos_url":"https://api.github.com/users/singleton/repos","events_url":"https://api.github.com/users/singleton/events{/privacy}","received_events_url":"https://api.github.com/users/singleton/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2016-03-14T07:39:49Z","performed_via_github_app":null},{"id":588308195,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDU4ODMwODE5NQ==","url":"https://api.github.com/repos/playframework/playframework/issues/events/588308195","actor":{"login":"singleton","id":6226,"node_id":"MDQ6VXNlcjYyMjY=","avatar_url":"https://avatars.githubusercontent.com/u/6226?v=4","gravatar_id":"","url":"https://api.github.com/users/singleton","html_url":"https://github.com/singleton","followers_url":"https://api.github.com/users/singleton/followers","following_url":"https://api.github.com/users/singleton/following{/other_user}","gists_url":"https://api.github.com/users/singleton/gists{/gist_id}","starred_url":"https://api.github.com/users/singleton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/singleton/subscriptions","organizations_url":"https://api.github.com/users/singleton/orgs","repos_url":"https://api.github.com/users/singleton/repos","events_url":"https://api.github.com/users/singleton/events{/privacy}","received_events_url":"https://api.github.com/users/singleton/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2016-03-14T07:39:49Z","performed_via_github_app":null},{"id":588308196,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NTg4MzA4MTk2","url":"https://api.github.com/repos/playframework/playframework/issues/events/588308196","actor":{"login":"Inject","id":1728884,"node_id":"MDQ6VXNlcjE3Mjg4ODQ=","avatar_url":"https://avatars.githubusercontent.com/u/1728884?v=4","gravatar_id":"","url":"https://api.github.com/users/Inject","html_url":"https://github.com/Inject","followers_url":"https://api.github.com/users/Inject/followers","following_url":"https://api.github.com/users/Inject/following{/other_user}","gists_url":"https://api.github.com/users/Inject/gists{/gist_id}","starred_url":"https://api.github.com/users/Inject/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Inject/subscriptions","organizations_url":"https://api.github.com/users/Inject/orgs","repos_url":"https://api.github.com/users/Inject/repos","events_url":"https://api.github.com/users/Inject/events{/privacy}","received_events_url":"https://api.github.com/users/Inject/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2016-03-14T07:39:49Z","performed_via_github_app":null},{"id":588308197,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDU4ODMwODE5Nw==","url":"https://api.github.com/repos/playframework/playframework/issues/events/588308197","actor":{"login":"Inject","id":1728884,"node_id":"MDQ6VXNlcjE3Mjg4ODQ=","avatar_url":"https://avatars.githubusercontent.com/u/1728884?v=4","gravatar_id":"","url":"https://api.github.com/users/Inject","html_url":"https://github.com/Inject","followers_url":"https://api.github.com/users/Inject/followers","following_url":"https://api.github.com/users/Inject/following{/other_user}","gists_url":"https://api.github.com/users/Inject/gists{/gist_id}","starred_url":"https://api.github.com/users/Inject/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Inject/subscriptions","organizations_url":"https://api.github.com/users/Inject/orgs","repos_url":"https://api.github.com/users/Inject/repos","events_url":"https://api.github.com/users/Inject/events{/privacy}","received_events_url":"https://api.github.com/users/Inject/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2016-03-14T07:39:49Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/playframework/playframework/issues/comments/196192498","html_url":"https://github.com/playframework/playframework/issues/5866#issuecomment-196192498","issue_url":"https://api.github.com/repos/playframework/playframework/issues/5866","id":196192498,"node_id":"MDEyOklzc3VlQ29tbWVudDE5NjE5MjQ5OA==","user":{"login":"gmethvin","id":171663,"node_id":"MDQ6VXNlcjE3MTY2Mw==","avatar_url":"https://avatars.githubusercontent.com/u/171663?v=4","gravatar_id":"","url":"https://api.github.com/users/gmethvin","html_url":"https://github.com/gmethvin","followers_url":"https://api.github.com/users/gmethvin/followers","following_url":"https://api.github.com/users/gmethvin/following{/other_user}","gists_url":"https://api.github.com/users/gmethvin/gists{/gist_id}","starred_url":"https://api.github.com/users/gmethvin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gmethvin/subscriptions","organizations_url":"https://api.github.com/users/gmethvin/orgs","repos_url":"https://api.github.com/users/gmethvin/repos","events_url":"https://api.github.com/users/gmethvin/events{/privacy}","received_events_url":"https://api.github.com/users/gmethvin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-14T08:07:54Z","updated_at":"2016-03-14T08:07:54Z","body":"So it looks like sending a source created by `FileIO.fromFile` triggers that exception in Netty.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/playframework/playframework/issues/comments/196192498/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"gmethvin","id":171663,"node_id":"MDQ6VXNlcjE3MTY2Mw==","avatar_url":"https://avatars.githubusercontent.com/u/171663?v=4","gravatar_id":"","url":"https://api.github.com/users/gmethvin","html_url":"https://github.com/gmethvin","followers_url":"https://api.github.com/users/gmethvin/followers","following_url":"https://api.github.com/users/gmethvin/following{/other_user}","gists_url":"https://api.github.com/users/gmethvin/gists{/gist_id}","starred_url":"https://api.github.com/users/gmethvin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gmethvin/subscriptions","organizations_url":"https://api.github.com/users/gmethvin/orgs","repos_url":"https://api.github.com/users/gmethvin/repos","events_url":"https://api.github.com/users/gmethvin/events{/privacy}","received_events_url":"https://api.github.com/users/gmethvin/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/playframework/playframework/issues/comments/196349626","html_url":"https://github.com/playframework/playframework/issues/5866#issuecomment-196349626","issue_url":"https://api.github.com/repos/playframework/playframework/issues/5866","id":196349626,"node_id":"MDEyOklzc3VlQ29tbWVudDE5NjM0OTYyNg==","user":{"login":"marcospereira","id":4576,"node_id":"MDQ6VXNlcjQ1NzY=","avatar_url":"https://avatars.githubusercontent.com/u/4576?v=4","gravatar_id":"","url":"https://api.github.com/users/marcospereira","html_url":"https://github.com/marcospereira","followers_url":"https://api.github.com/users/marcospereira/followers","following_url":"https://api.github.com/users/marcospereira/following{/other_user}","gists_url":"https://api.github.com/users/marcospereira/gists{/gist_id}","starred_url":"https://api.github.com/users/marcospereira/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marcospereira/subscriptions","organizations_url":"https://api.github.com/users/marcospereira/orgs","repos_url":"https://api.github.com/users/marcospereira/repos","events_url":"https://api.github.com/users/marcospereira/events{/privacy}","received_events_url":"https://api.github.com/users/marcospereira/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-14T14:55:06Z","updated_at":"2016-03-14T14:55:06Z","body":"Yep. I can submit a pull request to fix that. \n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/playframework/playframework/issues/comments/196349626/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"marcospereira","id":4576,"node_id":"MDQ6VXNlcjQ1NzY=","avatar_url":"https://avatars.githubusercontent.com/u/4576?v=4","gravatar_id":"","url":"https://api.github.com/users/marcospereira","html_url":"https://github.com/marcospereira","followers_url":"https://api.github.com/users/marcospereira/followers","following_url":"https://api.github.com/users/marcospereira/following{/other_user}","gists_url":"https://api.github.com/users/marcospereira/gists{/gist_id}","starred_url":"https://api.github.com/users/marcospereira/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marcospereira/subscriptions","organizations_url":"https://api.github.com/users/marcospereira/orgs","repos_url":"https://api.github.com/users/marcospereira/repos","events_url":"https://api.github.com/users/marcospereira/events{/privacy}","received_events_url":"https://api.github.com/users/marcospereira/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"marcospereira","id":4576,"node_id":"MDQ6VXNlcjQ1NzY=","avatar_url":"https://avatars.githubusercontent.com/u/4576?v=4","gravatar_id":"","url":"https://api.github.com/users/marcospereira","html_url":"https://github.com/marcospereira","followers_url":"https://api.github.com/users/marcospereira/followers","following_url":"https://api.github.com/users/marcospereira/following{/other_user}","gists_url":"https://api.github.com/users/marcospereira/gists{/gist_id}","starred_url":"https://api.github.com/users/marcospereira/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marcospereira/subscriptions","organizations_url":"https://api.github.com/users/marcospereira/orgs","repos_url":"https://api.github.com/users/marcospereira/repos","events_url":"https://api.github.com/users/marcospereira/events{/privacy}","received_events_url":"https://api.github.com/users/marcospereira/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-14T16:33:45Z","updated_at":"2016-03-14T16:33:45Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/playframework/playframework/issues/5878","repository_url":"https://api.github.com/repos/playframework/playframework","labels_url":"https://api.github.com/repos/playframework/playframework/issues/5878/labels{/name}","comments_url":"https://api.github.com/repos/playframework/playframework/issues/5878/comments","events_url":"https://api.github.com/repos/playframework/playframework/issues/5878/events","html_url":"https://github.com/playframework/playframework/pull/5878","id":140726576,"node_id":"MDExOlB1bGxSZXF1ZXN0NjI3NzcxODU=","number":5878,"title":"Fixes #5866: Use StreamConverters in favor of FileIO","user":{"login":"marcospereira","id":4576,"node_id":"MDQ6VXNlcjQ1NzY=","avatar_url":"https://avatars.githubusercontent.com/u/4576?v=4","gravatar_id":"","url":"https://api.github.com/users/marcospereira","html_url":"https://github.com/marcospereira","followers_url":"https://api.github.com/users/marcospereira/followers","following_url":"https://api.github.com/users/marcospereira/following{/other_user}","gists_url":"https://api.github.com/users/marcospereira/gists{/gist_id}","starred_url":"https://api.github.com/users/marcospereira/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marcospereira/subscriptions","organizations_url":"https://api.github.com/users/marcospereira/orgs","repos_url":"https://api.github.com/users/marcospereira/repos","events_url":"https://api.github.com/users/marcospereira/events{/privacy}","received_events_url":"https://api.github.com/users/marcospereira/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2016-03-14T16:33:45Z","updated_at":"2016-03-15T04:54:43Z","closed_at":"2016-03-15T03:37:16Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":2340549,"node_id":"MDEwOlJlcG9zaXRvcnkyMzQwNTQ5","name":"playframework","full_name":"playframework/playframework","private":false,"owner":{"login":"playframework","id":319107,"node_id":"MDEyOk9yZ2FuaXphdGlvbjMxOTEwNw==","avatar_url":"https://avatars.githubusercontent.com/u/319107?v=4","gravatar_id":"","url":"https://api.github.com/users/playframework","html_url":"https://github.com/playframework","followers_url":"https://api.github.com/users/playframework/followers","following_url":"https://api.github.com/users/playframework/following{/other_user}","gists_url":"https://api.github.com/users/playframework/gists{/gist_id}","starred_url":"https://api.github.com/users/playframework/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/playframework/subscriptions","organizations_url":"https://api.github.com/users/playframework/orgs","repos_url":"https://api.github.com/users/playframework/repos","events_url":"https://api.github.com/users/playframework/events{/privacy}","received_events_url":"https://api.github.com/users/playframework/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/playframework/playframework","description":"The Community Maintained High Velocity Web Framework For Java and Scala.","fork":false,"url":"https://api.github.com/repos/playframework/playframework","forks_url":"https://api.github.com/repos/playframework/playframework/forks","keys_url":"https://api.github.com/repos/playframework/playframework/keys{/key_id}","collaborators_url":"https://api.github.com/repos/playframework/playframework/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/playframework/playframework/teams","hooks_url":"https://api.github.com/repos/playframework/playframework/hooks","issue_events_url":"https://api.github.com/repos/playframework/playframework/issues/events{/number}","events_url":"https://api.github.com/repos/playframework/playframework/events","assignees_url":"https://api.github.com/repos/playframework/playframework/assignees{/user}","branches_url":"https://api.github.com/repos/playframework/playframework/branches{/branch}","tags_url":"https://api.github.com/repos/playframework/playframework/tags","blobs_url":"https://api.github.com/repos/playframework/playframework/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/playframework/playframework/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/playframework/playframework/git/refs{/sha}","trees_url":"https://api.github.com/repos/playframework/playframework/git/trees{/sha}","statuses_url":"https://api.github.com/repos/playframework/playframework/statuses/{sha}","languages_url":"https://api.github.com/repos/playframework/playframework/languages","stargazers_url":"https://api.github.com/repos/playframework/playframework/stargazers","contributors_url":"https://api.github.com/repos/playframework/playframework/contributors","subscribers_url":"https://api.github.com/repos/playframework/playframework/subscribers","subscription_url":"https://api.github.com/repos/playframework/playframework/subscription","commits_url":"https://api.github.com/repos/playframework/playframework/commits{/sha}","git_commits_url":"https://api.github.com/repos/playframework/playframework/git/commits{/sha}","comments_url":"https://api.github.com/repos/playframework/playframework/comments{/number}","issue_comment_url":"https://api.github.com/repos/playframework/playframework/issues/comments{/number}","contents_url":"https://api.github.com/repos/playframework/playframework/contents/{+path}","compare_url":"https://api.github.com/repos/playframework/playframework/compare/{base}...{head}","merges_url":"https://api.github.com/repos/playframework/playframework/merges","archive_url":"https://api.github.com/repos/playframework/playframework/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/playframework/playframework/downloads","issues_url":"https://api.github.com/repos/playframework/playframework/issues{/number}","pulls_url":"https://api.github.com/repos/playframework/playframework/pulls{/number}","milestones_url":"https://api.github.com/repos/playframework/playframework/milestones{/number}","notifications_url":"https://api.github.com/repos/playframework/playframework/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/playframework/playframework/labels{/name}","releases_url":"https://api.github.com/repos/playframework/playframework/releases{/id}","deployments_url":"https://api.github.com/repos/playframework/playframework/deployments","created_at":"2011-09-07T09:24:08Z","updated_at":"2025-11-07T14:46:00Z","pushed_at":"2025-11-07T14:45:54Z","git_url":"git://github.com/playframework/playframework.git","ssh_url":"git@github.com:playframework/playframework.git","clone_url":"https://github.com/playframework/playframework.git","svn_url":"https://github.com/playframework/playframework","homepage":"http://www.playframework.com","size":113043,"stargazers_count":12601,"watchers_count":12601,"language":"Scala","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":4076,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":480,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["framework","hacktoberfest","java","jvm","play","playframework","reactive","restful","scala","web-framework","webapps"],"visibility":"public","forks":4076,"open_issues":480,"watchers":12601,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/playframework/playframework/pulls/5878","html_url":"https://github.com/playframework/playframework/pull/5878","diff_url":"https://github.com/playframework/playframework/pull/5878.diff","patch_url":"https://github.com/playframework/playframework/pull/5878.patch","merged_at":"2016-03-15T03:37:15Z"},"body":"# Pull Request Checklist\n- [x] Have you checked that both Scala and Java APIs are updated?\n- [x] Have you updated the documentation for both Scala and Java sections?\n## Fixes\n\nFixes #5866\n## Purpose\n\nThis removes calls to `FileIO.fromFile` to create a `Source` and, instead uses `StreamConverters.fromInputStream`. As discussed at #5866, by using `FileIO.fromFile` the following exception was being logged even if for successful responses:\n\n```\n[warn] i.n.u.c.SingleThreadEventExecutor - A task raised an exception.\njava.util.NoSuchElementException: http-handler-body-subscriber\n        at io.netty.channel.DefaultChannelPipeline.getContextOrDie(DefaultChannelPipeline.java:971)\n        at io.netty.channel.DefaultChannelPipeline.remove(DefaultChannelPipeline.java:298)\n        at com.typesafe.netty.http.HttpStreamsHandler.completeBody(HttpStreamsHandler.java:291)\n        at com.typesafe.netty.http.HttpStreamsHandler.access$100(HttpStreamsHandler.java:16)\n        at com.typesafe.netty.http.HttpStreamsHandler$2$1.run(HttpStreamsHandler.java:272)\n        at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:358)\n        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:357)\n        at io.netty.util.concurrent.SingleThreadEventExecutor$2.run(SingleThreadEventExecutor.java:112)\n        at java.lang.Thread.run(Thread.java:745)\n```\n## References\n\nSee #5866.\n","reactions":{"url":"https://api.github.com/repos/playframework/playframework/issues/5878/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/playframework/playframework/issues/5878/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":588981601,"node_id":"MDEyOkxhYmVsZWRFdmVudDU4ODk4MTYwMQ==","url":"https://api.github.com/repos/playframework/playframework/issues/events/588981601","actor":{"login":"marcospereira","id":4576,"node_id":"MDQ6VXNlcjQ1NzY=","avatar_url":"https://avatars.githubusercontent.com/u/4576?v=4","gravatar_id":"","url":"https://api.github.com/users/marcospereira","html_url":"https://github.com/marcospereira","followers_url":"https://api.github.com/users/marcospereira/followers","following_url":"https://api.github.com/users/marcospereira/following{/other_user}","gists_url":"https://api.github.com/users/marcospereira/gists{/gist_id}","starred_url":"https://api.github.com/users/marcospereira/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marcospereira/subscriptions","organizations_url":"https://api.github.com/users/marcospereira/orgs","repos_url":"https://api.github.com/users/marcospereira/repos","events_url":"https://api.github.com/users/marcospereira/events{/privacy}","received_events_url":"https://api.github.com/users/marcospereira/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2016-03-14T16:33:52Z","label":{"name":"has-pr","color":"d4c5f9"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/playframework/playframework/issues/comments/196437461","html_url":"https://github.com/playframework/playframework/issues/5866#issuecomment-196437461","issue_url":"https://api.github.com/repos/playframework/playframework/issues/5866","id":196437461,"node_id":"MDEyOklzc3VlQ29tbWVudDE5NjQzNzQ2MQ==","user":{"login":"gmethvin","id":171663,"node_id":"MDQ6VXNlcjE3MTY2Mw==","avatar_url":"https://avatars.githubusercontent.com/u/171663?v=4","gravatar_id":"","url":"https://api.github.com/users/gmethvin","html_url":"https://github.com/gmethvin","followers_url":"https://api.github.com/users/gmethvin/followers","following_url":"https://api.github.com/users/gmethvin/following{/other_user}","gists_url":"https://api.github.com/users/gmethvin/gists{/gist_id}","starred_url":"https://api.github.com/users/gmethvin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gmethvin/subscriptions","organizations_url":"https://api.github.com/users/gmethvin/orgs","repos_url":"https://api.github.com/users/gmethvin/repos","events_url":"https://api.github.com/users/gmethvin/events{/privacy}","received_events_url":"https://api.github.com/users/gmethvin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-14T17:53:17Z","updated_at":"2016-03-14T17:53:17Z","body":"@marcospereira It would also be good to figure out if the reason it breaks is our issue or an Akka streams issue.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/playframework/playframework/issues/comments/196437461/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"gmethvin","id":171663,"node_id":"MDQ6VXNlcjE3MTY2Mw==","avatar_url":"https://avatars.githubusercontent.com/u/171663?v=4","gravatar_id":"","url":"https://api.github.com/users/gmethvin","html_url":"https://github.com/gmethvin","followers_url":"https://api.github.com/users/gmethvin/followers","following_url":"https://api.github.com/users/gmethvin/following{/other_user}","gists_url":"https://api.github.com/users/gmethvin/gists{/gist_id}","starred_url":"https://api.github.com/users/gmethvin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gmethvin/subscriptions","organizations_url":"https://api.github.com/users/gmethvin/orgs","repos_url":"https://api.github.com/users/gmethvin/repos","events_url":"https://api.github.com/users/gmethvin/events{/privacy}","received_events_url":"https://api.github.com/users/gmethvin/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":589109311,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NTg5MTA5MzEx","url":"https://api.github.com/repos/playframework/playframework/issues/events/589109311","actor":{"login":"marcospereira","id":4576,"node_id":"MDQ6VXNlcjQ1NzY=","avatar_url":"https://avatars.githubusercontent.com/u/4576?v=4","gravatar_id":"","url":"https://api.github.com/users/marcospereira","html_url":"https://github.com/marcospereira","followers_url":"https://api.github.com/users/marcospereira/followers","following_url":"https://api.github.com/users/marcospereira/following{/other_user}","gists_url":"https://api.github.com/users/marcospereira/gists{/gist_id}","starred_url":"https://api.github.com/users/marcospereira/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marcospereira/subscriptions","organizations_url":"https://api.github.com/users/marcospereira/orgs","repos_url":"https://api.github.com/users/marcospereira/repos","events_url":"https://api.github.com/users/marcospereira/events{/privacy}","received_events_url":"https://api.github.com/users/marcospereira/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2016-03-14T17:53:17Z","performed_via_github_app":null},{"id":589109312,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDU4OTEwOTMxMg==","url":"https://api.github.com/repos/playframework/playframework/issues/events/589109312","actor":{"login":"marcospereira","id":4576,"node_id":"MDQ6VXNlcjQ1NzY=","avatar_url":"https://avatars.githubusercontent.com/u/4576?v=4","gravatar_id":"","url":"https://api.github.com/users/marcospereira","html_url":"https://github.com/marcospereira","followers_url":"https://api.github.com/users/marcospereira/followers","following_url":"https://api.github.com/users/marcospereira/following{/other_user}","gists_url":"https://api.github.com/users/marcospereira/gists{/gist_id}","starred_url":"https://api.github.com/users/marcospereira/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marcospereira/subscriptions","organizations_url":"https://api.github.com/users/marcospereira/orgs","repos_url":"https://api.github.com/users/marcospereira/repos","events_url":"https://api.github.com/users/marcospereira/events{/privacy}","received_events_url":"https://api.github.com/users/marcospereira/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2016-03-14T17:53:17Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/playframework/playframework/issues/comments/196444544","html_url":"https://github.com/playframework/playframework/issues/5866#issuecomment-196444544","issue_url":"https://api.github.com/repos/playframework/playframework/issues/5866","id":196444544,"node_id":"MDEyOklzc3VlQ29tbWVudDE5NjQ0NDU0NA==","user":{"login":"marcospereira","id":4576,"node_id":"MDQ6VXNlcjQ1NzY=","avatar_url":"https://avatars.githubusercontent.com/u/4576?v=4","gravatar_id":"","url":"https://api.github.com/users/marcospereira","html_url":"https://github.com/marcospereira","followers_url":"https://api.github.com/users/marcospereira/followers","following_url":"https://api.github.com/users/marcospereira/following{/other_user}","gists_url":"https://api.github.com/users/marcospereira/gists{/gist_id}","starred_url":"https://api.github.com/users/marcospereira/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marcospereira/subscriptions","organizations_url":"https://api.github.com/users/marcospereira/orgs","repos_url":"https://api.github.com/users/marcospereira/repos","events_url":"https://api.github.com/users/marcospereira/events{/privacy}","received_events_url":"https://api.github.com/users/marcospereira/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-14T18:01:34Z","updated_at":"2016-03-14T18:01:34Z","body":"@gmethvin Totally agree. I've opened the PR most like a point to discuss what is the root cause and also how to add test to it.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/playframework/playframework/issues/comments/196444544/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"marcospereira","id":4576,"node_id":"MDQ6VXNlcjQ1NzY=","avatar_url":"https://avatars.githubusercontent.com/u/4576?v=4","gravatar_id":"","url":"https://api.github.com/users/marcospereira","html_url":"https://github.com/marcospereira","followers_url":"https://api.github.com/users/marcospereira/followers","following_url":"https://api.github.com/users/marcospereira/following{/other_user}","gists_url":"https://api.github.com/users/marcospereira/gists{/gist_id}","starred_url":"https://api.github.com/users/marcospereira/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marcospereira/subscriptions","organizations_url":"https://api.github.com/users/marcospereira/orgs","repos_url":"https://api.github.com/users/marcospereira/repos","events_url":"https://api.github.com/users/marcospereira/events{/privacy}","received_events_url":"https://api.github.com/users/marcospereira/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":589124779,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NTg5MTI0Nzc5","url":"https://api.github.com/repos/playframework/playframework/issues/events/589124779","actor":{"login":"gmethvin","id":171663,"node_id":"MDQ6VXNlcjE3MTY2Mw==","avatar_url":"https://avatars.githubusercontent.com/u/171663?v=4","gravatar_id":"","url":"https://api.github.com/users/gmethvin","html_url":"https://github.com/gmethvin","followers_url":"https://api.github.com/users/gmethvin/followers","following_url":"https://api.github.com/users/gmethvin/following{/other_user}","gists_url":"https://api.github.com/users/gmethvin/gists{/gist_id}","starred_url":"https://api.github.com/users/gmethvin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gmethvin/subscriptions","organizations_url":"https://api.github.com/users/gmethvin/orgs","repos_url":"https://api.github.com/users/gmethvin/repos","events_url":"https://api.github.com/users/gmethvin/events{/privacy}","received_events_url":"https://api.github.com/users/gmethvin/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2016-03-14T18:01:34Z","performed_via_github_app":null},{"id":589124780,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDU4OTEyNDc4MA==","url":"https://api.github.com/repos/playframework/playframework/issues/events/589124780","actor":{"login":"gmethvin","id":171663,"node_id":"MDQ6VXNlcjE3MTY2Mw==","avatar_url":"https://avatars.githubusercontent.com/u/171663?v=4","gravatar_id":"","url":"https://api.github.com/users/gmethvin","html_url":"https://github.com/gmethvin","followers_url":"https://api.github.com/users/gmethvin/followers","following_url":"https://api.github.com/users/gmethvin/following{/other_user}","gists_url":"https://api.github.com/users/gmethvin/gists{/gist_id}","starred_url":"https://api.github.com/users/gmethvin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gmethvin/subscriptions","organizations_url":"https://api.github.com/users/gmethvin/orgs","repos_url":"https://api.github.com/users/gmethvin/repos","events_url":"https://api.github.com/users/gmethvin/events{/privacy}","received_events_url":"https://api.github.com/users/gmethvin/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2016-03-14T18:01:34Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/playframework/playframework/issues/comments/196637039","html_url":"https://github.com/playframework/playframework/issues/5866#issuecomment-196637039","issue_url":"https://api.github.com/repos/playframework/playframework/issues/5866","id":196637039,"node_id":"MDEyOklzc3VlQ29tbWVudDE5NjYzNzAzOQ==","user":{"login":"cookeem","id":11674347,"node_id":"MDQ6VXNlcjExNjc0MzQ3","avatar_url":"https://avatars.githubusercontent.com/u/11674347?v=4","gravatar_id":"","url":"https://api.github.com/users/cookeem","html_url":"https://github.com/cookeem","followers_url":"https://api.github.com/users/cookeem/followers","following_url":"https://api.github.com/users/cookeem/following{/other_user}","gists_url":"https://api.github.com/users/cookeem/gists{/gist_id}","starred_url":"https://api.github.com/users/cookeem/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cookeem/subscriptions","organizations_url":"https://api.github.com/users/cookeem/orgs","repos_url":"https://api.github.com/users/cookeem/repos","events_url":"https://api.github.com/users/cookeem/events{/privacy}","received_events_url":"https://api.github.com/users/cookeem/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-15T03:31:55Z","updated_at":"2016-03-15T03:31:55Z","body":"Now when I use play 2.5.0 in production mode, application always log that warning, at first I think it was because I use Singleton, after I deleted Singleton, still have this error, I don't know how to do, maybe I should rollback to Play2.4.6 :(\n\n2016-03-15 10:28:39,988 [WARN] from io.netty.util.concurrent.SingleThreadEventExecutor in netty-event-loop-4 - A task raised an exception.\njava.util.NoSuchElementException: http-handler-body-subscriber\n        at io.netty.channel.DefaultChannelPipeline.getContextOrDie(DefaultChannelPipeline.java:971)\n        at io.netty.channel.DefaultChannelPipeline.remove(DefaultChannelPipeline.java:298)\n        at com.typesafe.netty.http.HttpStreamsHandler.completeBody(HttpStreamsHandler.java:291)\n        at com.typesafe.netty.http.HttpStreamsHandler.access$100(HttpStreamsHandler.java:16)\n        at com.typesafe.netty.http.HttpStreamsHandler$2$1.run(HttpStreamsHandler.java:272)\n        at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:358)\n        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:357)\n        at io.netty.util.concurrent.SingleThreadEventExecutor$2.run(SingleThreadEventExecutor.java:112)\n        at java.lang.Thread.run(Thread.java:745)\n2016-03-15 10:29:50,538 [WARN] from io.netty.util.concurrent.SingleThreadEventExecutor in netty-event-loop-3 - A task raised an exception.\njava.util.NoSuchElementException: http-handler-body-subscriber\n        at io.netty.channel.DefaultChannelPipeline.getContextOrDie(DefaultChannelPipeline.java:971)\n        at io.netty.channel.DefaultChannelPipeline.remove(DefaultChannelPipeline.java:298)\n        at com.typesafe.netty.http.HttpStreamsHandler.completeBody(HttpStreamsHandler.java:291)\n        at com.typesafe.netty.http.HttpStreamsHandler.access$100(HttpStreamsHandler.java:16)\n        at com.typesafe.netty.http.HttpStreamsHandler$2$1.run(HttpStreamsHandler.java:272)\n        at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:358)\n        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:357)\n        at io.netty.util.concurrent.SingleThreadEventExecutor$2.run(SingleThreadEventExecutor.java:112)\n        at java.lang.Thread.run(Thread.java:745)\n2016-03-15 10:34:54,017 [WARN] from io.netty.util.concurrent.SingleThreadEventExecutor in netty-event-loop-4 - A task raised an exception.\njava.util.NoSuchElementException: http-handler-body-subscriber\n        at io.netty.channel.DefaultChannelPipeline.getContextOrDie(DefaultChannelPipeline.java:971)\n        at io.netty.channel.DefaultChannelPipeline.remove(DefaultChannelPipeline.java:298)\n        at com.typesafe.netty.http.HttpStreamsHandler.completeBody(HttpStreamsHandler.java:291)\n        at com.typesafe.netty.http.HttpStreamsHandler.access$100(HttpStreamsHandler.java:16)\n        at com.typesafe.netty.http.HttpStreamsHandler$2$1.run(HttpStreamsHandler.java:272)\n        at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:358)\n        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:357)\n        at io.netty.util.concurrent.SingleThreadEventExecutor$2.run(SingleThreadEventExecutor.java:112)\n        at java.lang.Thread.run(Thread.java:745)\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/playframework/playframework/issues/comments/196637039/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cookeem","id":11674347,"node_id":"MDQ6VXNlcjExNjc0MzQ3","avatar_url":"https://avatars.githubusercontent.com/u/11674347?v=4","gravatar_id":"","url":"https://api.github.com/users/cookeem","html_url":"https://github.com/cookeem","followers_url":"https://api.github.com/users/cookeem/followers","following_url":"https://api.github.com/users/cookeem/following{/other_user}","gists_url":"https://api.github.com/users/cookeem/gists{/gist_id}","starred_url":"https://api.github.com/users/cookeem/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cookeem/subscriptions","organizations_url":"https://api.github.com/users/cookeem/orgs","repos_url":"https://api.github.com/users/cookeem/repos","events_url":"https://api.github.com/users/cookeem/events{/privacy}","received_events_url":"https://api.github.com/users/cookeem/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":589711720,"node_id":"MDExOkNsb3NlZEV2ZW50NTg5NzExNzIw","url":"https://api.github.com/repos/playframework/playframework/issues/events/589711720","actor":{"login":"gmethvin","id":171663,"node_id":"MDQ6VXNlcjE3MTY2Mw==","avatar_url":"https://avatars.githubusercontent.com/u/171663?v=4","gravatar_id":"","url":"https://api.github.com/users/gmethvin","html_url":"https://github.com/gmethvin","followers_url":"https://api.github.com/users/gmethvin/followers","following_url":"https://api.github.com/users/gmethvin/following{/other_user}","gists_url":"https://api.github.com/users/gmethvin/gists{/gist_id}","starred_url":"https://api.github.com/users/gmethvin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gmethvin/subscriptions","organizations_url":"https://api.github.com/users/gmethvin/orgs","repos_url":"https://api.github.com/users/gmethvin/repos","events_url":"https://api.github.com/users/gmethvin/events{/privacy}","received_events_url":"https://api.github.com/users/gmethvin/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2016-03-15T03:37:15Z","state_reason":null,"performed_via_github_app":null},{"id":589711870,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDU4OTcxMTg3MA==","url":"https://api.github.com/repos/playframework/playframework/issues/events/589711870","actor":{"login":"gmethvin","id":171663,"node_id":"MDQ6VXNlcjE3MTY2Mw==","avatar_url":"https://avatars.githubusercontent.com/u/171663?v=4","gravatar_id":"","url":"https://api.github.com/users/gmethvin","html_url":"https://github.com/gmethvin","followers_url":"https://api.github.com/users/gmethvin/followers","following_url":"https://api.github.com/users/gmethvin/following{/other_user}","gists_url":"https://api.github.com/users/gmethvin/gists{/gist_id}","starred_url":"https://api.github.com/users/gmethvin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gmethvin/subscriptions","organizations_url":"https://api.github.com/users/gmethvin/orgs","repos_url":"https://api.github.com/users/gmethvin/repos","events_url":"https://api.github.com/users/gmethvin/events{/privacy}","received_events_url":"https://api.github.com/users/gmethvin/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"777cdddcc90b35edd4cfe25d3602deb7439f3422","commit_url":"https://api.github.com/repos/playframework/playframework/commits/777cdddcc90b35edd4cfe25d3602deb7439f3422","created_at":"2016-03-15T03:37:24Z","performed_via_github_app":null},{"id":589714165,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDU4OTcxNDE2NQ==","url":"https://api.github.com/repos/playframework/playframework/issues/events/589714165","actor":{"login":"gmethvin","id":171663,"node_id":"MDQ6VXNlcjE3MTY2Mw==","avatar_url":"https://avatars.githubusercontent.com/u/171663?v=4","gravatar_id":"","url":"https://api.github.com/users/gmethvin","html_url":"https://github.com/gmethvin","followers_url":"https://api.github.com/users/gmethvin/followers","following_url":"https://api.github.com/users/gmethvin/following{/other_user}","gists_url":"https://api.github.com/users/gmethvin/gists{/gist_id}","starred_url":"https://api.github.com/users/gmethvin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gmethvin/subscriptions","organizations_url":"https://api.github.com/users/gmethvin/orgs","repos_url":"https://api.github.com/users/gmethvin/repos","events_url":"https://api.github.com/users/gmethvin/events{/privacy}","received_events_url":"https://api.github.com/users/gmethvin/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"7561be542dc20db915d7510f84543b9bc3799649","commit_url":"https://api.github.com/repos/playframework/playframework/commits/7561be542dc20db915d7510f84543b9bc3799649","created_at":"2016-03-15T03:40:28Z","performed_via_github_app":null},{"actor":{"login":"gmethvin","id":171663,"node_id":"MDQ6VXNlcjE3MTY2Mw==","avatar_url":"https://avatars.githubusercontent.com/u/171663?v=4","gravatar_id":"","url":"https://api.github.com/users/gmethvin","html_url":"https://github.com/gmethvin","followers_url":"https://api.github.com/users/gmethvin/followers","following_url":"https://api.github.com/users/gmethvin/following{/other_user}","gists_url":"https://api.github.com/users/gmethvin/gists{/gist_id}","starred_url":"https://api.github.com/users/gmethvin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gmethvin/subscriptions","organizations_url":"https://api.github.com/users/gmethvin/orgs","repos_url":"https://api.github.com/users/gmethvin/repos","events_url":"https://api.github.com/users/gmethvin/events{/privacy}","received_events_url":"https://api.github.com/users/gmethvin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-15T03:57:57Z","updated_at":"2016-03-15T03:57:57Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/playframework/playframework/issues/5883","repository_url":"https://api.github.com/repos/playframework/playframework","labels_url":"https://api.github.com/repos/playframework/playframework/issues/5883/labels{/name}","comments_url":"https://api.github.com/repos/playframework/playframework/issues/5883/comments","events_url":"https://api.github.com/repos/playframework/playframework/issues/5883/events","html_url":"https://github.com/playframework/playframework/issues/5883","id":140865007,"node_id":"MDU6SXNzdWUxNDA4NjUwMDc=","number":5883,"title":"FileIO.fromFile triggers exception java.util.NoSuchElementException: http-handler-body-subscriber","user":{"login":"gmethvin","id":171663,"node_id":"MDQ6VXNlcjE3MTY2Mw==","avatar_url":"https://avatars.githubusercontent.com/u/171663?v=4","gravatar_id":"","url":"https://api.github.com/users/gmethvin","html_url":"https://github.com/gmethvin","followers_url":"https://api.github.com/users/gmethvin/followers","following_url":"https://api.github.com/users/gmethvin/following{/other_user}","gists_url":"https://api.github.com/users/gmethvin/gists{/gist_id}","starred_url":"https://api.github.com/users/gmethvin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gmethvin/subscriptions","organizations_url":"https://api.github.com/users/gmethvin/orgs","repos_url":"https://api.github.com/users/gmethvin/repos","events_url":"https://api.github.com/users/gmethvin/events{/privacy}","received_events_url":"https://api.github.com/users/gmethvin/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2016-03-15T03:57:57Z","updated_at":"2016-04-06T21:34:05Z","closed_at":"2016-04-06T21:34:05Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":2340549,"node_id":"MDEwOlJlcG9zaXRvcnkyMzQwNTQ5","name":"playframework","full_name":"playframework/playframework","private":false,"owner":{"login":"playframework","id":319107,"node_id":"MDEyOk9yZ2FuaXphdGlvbjMxOTEwNw==","avatar_url":"https://avatars.githubusercontent.com/u/319107?v=4","gravatar_id":"","url":"https://api.github.com/users/playframework","html_url":"https://github.com/playframework","followers_url":"https://api.github.com/users/playframework/followers","following_url":"https://api.github.com/users/playframework/following{/other_user}","gists_url":"https://api.github.com/users/playframework/gists{/gist_id}","starred_url":"https://api.github.com/users/playframework/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/playframework/subscriptions","organizations_url":"https://api.github.com/users/playframework/orgs","repos_url":"https://api.github.com/users/playframework/repos","events_url":"https://api.github.com/users/playframework/events{/privacy}","received_events_url":"https://api.github.com/users/playframework/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/playframework/playframework","description":"The Community Maintained High Velocity Web Framework For Java and Scala.","fork":false,"url":"https://api.github.com/repos/playframework/playframework","forks_url":"https://api.github.com/repos/playframework/playframework/forks","keys_url":"https://api.github.com/repos/playframework/playframework/keys{/key_id}","collaborators_url":"https://api.github.com/repos/playframework/playframework/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/playframework/playframework/teams","hooks_url":"https://api.github.com/repos/playframework/playframework/hooks","issue_events_url":"https://api.github.com/repos/playframework/playframework/issues/events{/number}","events_url":"https://api.github.com/repos/playframework/playframework/events","assignees_url":"https://api.github.com/repos/playframework/playframework/assignees{/user}","branches_url":"https://api.github.com/repos/playframework/playframework/branches{/branch}","tags_url":"https://api.github.com/repos/playframework/playframework/tags","blobs_url":"https://api.github.com/repos/playframework/playframework/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/playframework/playframework/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/playframework/playframework/git/refs{/sha}","trees_url":"https://api.github.com/repos/playframework/playframework/git/trees{/sha}","statuses_url":"https://api.github.com/repos/playframework/playframework/statuses/{sha}","languages_url":"https://api.github.com/repos/playframework/playframework/languages","stargazers_url":"https://api.github.com/repos/playframework/playframework/stargazers","contributors_url":"https://api.github.com/repos/playframework/playframework/contributors","subscribers_url":"https://api.github.com/repos/playframework/playframework/subscribers","subscription_url":"https://api.github.com/repos/playframework/playframework/subscription","commits_url":"https://api.github.com/repos/playframework/playframework/commits{/sha}","git_commits_url":"https://api.github.com/repos/playframework/playframework/git/commits{/sha}","comments_url":"https://api.github.com/repos/playframework/playframework/comments{/number}","issue_comment_url":"https://api.github.com/repos/playframework/playframework/issues/comments{/number}","contents_url":"https://api.github.com/repos/playframework/playframework/contents/{+path}","compare_url":"https://api.github.com/repos/playframework/playframework/compare/{base}...{head}","merges_url":"https://api.github.com/repos/playframework/playframework/merges","archive_url":"https://api.github.com/repos/playframework/playframework/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/playframework/playframework/downloads","issues_url":"https://api.github.com/repos/playframework/playframework/issues{/number}","pulls_url":"https://api.github.com/repos/playframework/playframework/pulls{/number}","milestones_url":"https://api.github.com/repos/playframework/playframework/milestones{/number}","notifications_url":"https://api.github.com/repos/playframework/playframework/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/playframework/playframework/labels{/name}","releases_url":"https://api.github.com/repos/playframework/playframework/releases{/id}","deployments_url":"https://api.github.com/repos/playframework/playframework/deployments","created_at":"2011-09-07T09:24:08Z","updated_at":"2025-11-07T14:46:00Z","pushed_at":"2025-11-07T14:45:54Z","git_url":"git://github.com/playframework/playframework.git","ssh_url":"git@github.com:playframework/playframework.git","clone_url":"https://github.com/playframework/playframework.git","svn_url":"https://github.com/playframework/playframework","homepage":"http://www.playframework.com","size":113043,"stargazers_count":12601,"watchers_count":12601,"language":"Scala","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":4076,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":480,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["framework","hacktoberfest","java","jvm","play","playframework","reactive","restful","scala","web-framework","webapps"],"visibility":"public","forks":4076,"open_issues":480,"watchers":12601,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"### Play Version (2.5.x / etc)\n\n2.5.x\n### API (Scala / Java / Neither / Both)\n\nBoth\n### JDK\n\n```\njava version \"1.8.0_65\"\nJava(TM) SE Runtime Environment (build 1.8.0_65-b17)\nJava HotSpot(TM) 64-Bit Server VM (build 25.65-b01, mixed mode)\n```\n### Expected Behavior\n\nThe following code should work without exception.\n### Actual Behavior\n\nException is thrown.\n### Reproducible Test Case\n\n(code from #5866)\n\n``` scala\n@Singleton\nclass HomeController @Inject()(db: DBApi, ws: WSClient)(implicit materializer: Materializer) extends Controller {\n\n  // Throws: java.util.NoSuchElementException: http-handler-body-subscriber\n  def streaming1 = Action {\n    try {\n      val fileName = \"/Volumes/Share/Book/AkkaScala2.3.14.pdf\"\n      val file = new File(fileName)\n      val fileContent: Source[ByteString, Future[IOResult]] = FileIO.fromFile(file)\n      val contentType = play.api.libs.MimeTypes.forFileName(fileName).orElse(Some(play.api.http.ContentTypes.BINARY))\n      Result(\n        header = ResponseHeader(200, Map(CONTENT_LENGTH -> file.length.toString)),\n        body = HttpEntity.Streamed(fileContent, Some(file.length()), contentType)\n      )\n    } catch {\n      case t: Throwable =>\n        InternalServerError(\"Error in server: \" + t.getMessage())\n    }\n  }\n\n  // works\n  def streaming2 = Action {\n    val file = new File(\"/Volumes/Share/Book/AkkaScala2.3.14.pdf\")\n    val in: FileInputStream = new FileInputStream(file)\n    val dataContent: Enumerator[Array[Byte]] = Enumerator.fromStream(in, 1024*1024)\n    val source: Source[Array[Byte], NotUsed] = Source.fromPublisher(Streams.enumeratorToPublisher(dataContent))\n    Ok.chunked(source).as(\"application/pdf\")\n  }\n}\n```\n","reactions":{"url":"https://api.github.com/repos/playframework/playframework/issues/5883/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/playframework/playframework/issues/5883/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/playframework/playframework/issues/comments/196642316","html_url":"https://github.com/playframework/playframework/issues/5866#issuecomment-196642316","issue_url":"https://api.github.com/repos/playframework/playframework/issues/5866","id":196642316,"node_id":"MDEyOklzc3VlQ29tbWVudDE5NjY0MjMxNg==","user":{"login":"gmethvin","id":171663,"node_id":"MDQ6VXNlcjE3MTY2Mw==","avatar_url":"https://avatars.githubusercontent.com/u/171663?v=4","gravatar_id":"","url":"https://api.github.com/users/gmethvin","html_url":"https://github.com/gmethvin","followers_url":"https://api.github.com/users/gmethvin/followers","following_url":"https://api.github.com/users/gmethvin/following{/other_user}","gists_url":"https://api.github.com/users/gmethvin/gists{/gist_id}","starred_url":"https://api.github.com/users/gmethvin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gmethvin/subscriptions","organizations_url":"https://api.github.com/users/gmethvin/orgs","repos_url":"https://api.github.com/users/gmethvin/repos","events_url":"https://api.github.com/users/gmethvin/events{/privacy}","received_events_url":"https://api.github.com/users/gmethvin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-15T03:59:03Z","updated_at":"2016-03-15T03:59:03Z","body":"I opened up a new issue for the `FileIO.fromFile` problem: #5883\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/playframework/playframework/issues/comments/196642316/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"gmethvin","id":171663,"node_id":"MDQ6VXNlcjE3MTY2Mw==","avatar_url":"https://avatars.githubusercontent.com/u/171663?v=4","gravatar_id":"","url":"https://api.github.com/users/gmethvin","html_url":"https://github.com/gmethvin","followers_url":"https://api.github.com/users/gmethvin/followers","following_url":"https://api.github.com/users/gmethvin/following{/other_user}","gists_url":"https://api.github.com/users/gmethvin/gists{/gist_id}","starred_url":"https://api.github.com/users/gmethvin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gmethvin/subscriptions","organizations_url":"https://api.github.com/users/gmethvin/orgs","repos_url":"https://api.github.com/users/gmethvin/repos","events_url":"https://api.github.com/users/gmethvin/events{/privacy}","received_events_url":"https://api.github.com/users/gmethvin/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/playframework/playframework/issues/comments/196655063","html_url":"https://github.com/playframework/playframework/issues/5866#issuecomment-196655063","issue_url":"https://api.github.com/repos/playframework/playframework/issues/5866","id":196655063,"node_id":"MDEyOklzc3VlQ29tbWVudDE5NjY1NTA2Mw==","user":{"login":"jroper","id":105833,"node_id":"MDQ6VXNlcjEwNTgzMw==","avatar_url":"https://avatars.githubusercontent.com/u/105833?v=4","gravatar_id":"","url":"https://api.github.com/users/jroper","html_url":"https://github.com/jroper","followers_url":"https://api.github.com/users/jroper/followers","following_url":"https://api.github.com/users/jroper/following{/other_user}","gists_url":"https://api.github.com/users/jroper/gists{/gist_id}","starred_url":"https://api.github.com/users/jroper/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jroper/subscriptions","organizations_url":"https://api.github.com/users/jroper/orgs","repos_url":"https://api.github.com/users/jroper/repos","events_url":"https://api.github.com/users/jroper/events{/privacy}","received_events_url":"https://api.github.com/users/jroper/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-15T04:46:28Z","updated_at":"2016-03-15T04:46:28Z","body":"Root cause of this is an Akka streams bug:\n\nhttps://github.com/akka/akka/issues/20031\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/playframework/playframework/issues/comments/196655063/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jroper","id":105833,"node_id":"MDQ6VXNlcjEwNTgzMw==","avatar_url":"https://avatars.githubusercontent.com/u/105833?v=4","gravatar_id":"","url":"https://api.github.com/users/jroper","html_url":"https://github.com/jroper","followers_url":"https://api.github.com/users/jroper/followers","following_url":"https://api.github.com/users/jroper/following{/other_user}","gists_url":"https://api.github.com/users/jroper/gists{/gist_id}","starred_url":"https://api.github.com/users/jroper/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jroper/subscriptions","organizations_url":"https://api.github.com/users/jroper/orgs","repos_url":"https://api.github.com/users/jroper/repos","events_url":"https://api.github.com/users/jroper/events{/privacy}","received_events_url":"https://api.github.com/users/jroper/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"wsargent","id":71236,"node_id":"MDQ6VXNlcjcxMjM2","avatar_url":"https://avatars.githubusercontent.com/u/71236?v=4","gravatar_id":"","url":"https://api.github.com/users/wsargent","html_url":"https://github.com/wsargent","followers_url":"https://api.github.com/users/wsargent/followers","following_url":"https://api.github.com/users/wsargent/following{/other_user}","gists_url":"https://api.github.com/users/wsargent/gists{/gist_id}","starred_url":"https://api.github.com/users/wsargent/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wsargent/subscriptions","organizations_url":"https://api.github.com/users/wsargent/orgs","repos_url":"https://api.github.com/users/wsargent/repos","events_url":"https://api.github.com/users/wsargent/events{/privacy}","received_events_url":"https://api.github.com/users/wsargent/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-12T19:22:13Z","updated_at":"2016-05-12T19:22:13Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/playframework/playframework/issues/6151","repository_url":"https://api.github.com/repos/playframework/playframework","labels_url":"https://api.github.com/repos/playframework/playframework/issues/6151/labels{/name}","comments_url":"https://api.github.com/repos/playframework/playframework/issues/6151/comments","events_url":"https://api.github.com/repos/playframework/playframework/issues/6151/events","html_url":"https://github.com/playframework/playframework/issues/6151","id":154554944,"node_id":"MDU6SXNzdWUxNTQ1NTQ5NDQ=","number":6151,"title":"java.util.NoSuchElementException: http-handler-body-subscriber exception with Play 2.5.3 and nginx","user":{"login":"shkhln","id":4892265,"node_id":"MDQ6VXNlcjQ4OTIyNjU=","avatar_url":"https://avatars.githubusercontent.com/u/4892265?v=4","gravatar_id":"","url":"https://api.github.com/users/shkhln","html_url":"https://github.com/shkhln","followers_url":"https://api.github.com/users/shkhln/followers","following_url":"https://api.github.com/users/shkhln/following{/other_user}","gists_url":"https://api.github.com/users/shkhln/gists{/gist_id}","starred_url":"https://api.github.com/users/shkhln/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shkhln/subscriptions","organizations_url":"https://api.github.com/users/shkhln/orgs","repos_url":"https://api.github.com/users/shkhln/repos","events_url":"https://api.github.com/users/shkhln/events{/privacy}","received_events_url":"https://api.github.com/users/shkhln/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":13,"created_at":"2016-05-12T18:52:01Z","updated_at":"2016-05-30T04:45:15Z","closed_at":"2016-05-30T04:45:15Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":2340549,"node_id":"MDEwOlJlcG9zaXRvcnkyMzQwNTQ5","name":"playframework","full_name":"playframework/playframework","private":false,"owner":{"login":"playframework","id":319107,"node_id":"MDEyOk9yZ2FuaXphdGlvbjMxOTEwNw==","avatar_url":"https://avatars.githubusercontent.com/u/319107?v=4","gravatar_id":"","url":"https://api.github.com/users/playframework","html_url":"https://github.com/playframework","followers_url":"https://api.github.com/users/playframework/followers","following_url":"https://api.github.com/users/playframework/following{/other_user}","gists_url":"https://api.github.com/users/playframework/gists{/gist_id}","starred_url":"https://api.github.com/users/playframework/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/playframework/subscriptions","organizations_url":"https://api.github.com/users/playframework/orgs","repos_url":"https://api.github.com/users/playframework/repos","events_url":"https://api.github.com/users/playframework/events{/privacy}","received_events_url":"https://api.github.com/users/playframework/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/playframework/playframework","description":"The Community Maintained High Velocity Web Framework For Java and Scala.","fork":false,"url":"https://api.github.com/repos/playframework/playframework","forks_url":"https://api.github.com/repos/playframework/playframework/forks","keys_url":"https://api.github.com/repos/playframework/playframework/keys{/key_id}","collaborators_url":"https://api.github.com/repos/playframework/playframework/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/playframework/playframework/teams","hooks_url":"https://api.github.com/repos/playframework/playframework/hooks","issue_events_url":"https://api.github.com/repos/playframework/playframework/issues/events{/number}","events_url":"https://api.github.com/repos/playframework/playframework/events","assignees_url":"https://api.github.com/repos/playframework/playframework/assignees{/user}","branches_url":"https://api.github.com/repos/playframework/playframework/branches{/branch}","tags_url":"https://api.github.com/repos/playframework/playframework/tags","blobs_url":"https://api.github.com/repos/playframework/playframework/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/playframework/playframework/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/playframework/playframework/git/refs{/sha}","trees_url":"https://api.github.com/repos/playframework/playframework/git/trees{/sha}","statuses_url":"https://api.github.com/repos/playframework/playframework/statuses/{sha}","languages_url":"https://api.github.com/repos/playframework/playframework/languages","stargazers_url":"https://api.github.com/repos/playframework/playframework/stargazers","contributors_url":"https://api.github.com/repos/playframework/playframework/contributors","subscribers_url":"https://api.github.com/repos/playframework/playframework/subscribers","subscription_url":"https://api.github.com/repos/playframework/playframework/subscription","commits_url":"https://api.github.com/repos/playframework/playframework/commits{/sha}","git_commits_url":"https://api.github.com/repos/playframework/playframework/git/commits{/sha}","comments_url":"https://api.github.com/repos/playframework/playframework/comments{/number}","issue_comment_url":"https://api.github.com/repos/playframework/playframework/issues/comments{/number}","contents_url":"https://api.github.com/repos/playframework/playframework/contents/{+path}","compare_url":"https://api.github.com/repos/playframework/playframework/compare/{base}...{head}","merges_url":"https://api.github.com/repos/playframework/playframework/merges","archive_url":"https://api.github.com/repos/playframework/playframework/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/playframework/playframework/downloads","issues_url":"https://api.github.com/repos/playframework/playframework/issues{/number}","pulls_url":"https://api.github.com/repos/playframework/playframework/pulls{/number}","milestones_url":"https://api.github.com/repos/playframework/playframework/milestones{/number}","notifications_url":"https://api.github.com/repos/playframework/playframework/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/playframework/playframework/labels{/name}","releases_url":"https://api.github.com/repos/playframework/playframework/releases{/id}","deployments_url":"https://api.github.com/repos/playframework/playframework/deployments","created_at":"2011-09-07T09:24:08Z","updated_at":"2025-11-07T14:46:00Z","pushed_at":"2025-11-07T14:45:54Z","git_url":"git://github.com/playframework/playframework.git","ssh_url":"git@github.com:playframework/playframework.git","clone_url":"https://github.com/playframework/playframework.git","svn_url":"https://github.com/playframework/playframework","homepage":"http://www.playframework.com","size":113043,"stargazers_count":12601,"watchers_count":12601,"language":"Scala","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":4076,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":480,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["framework","hacktoberfest","java","jvm","play","playframework","reactive","restful","scala","web-framework","webapps"],"visibility":"public","forks":4076,"open_issues":480,"watchers":12601,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"### Are you looking for help?\n\n_Absolutely not_. I've tried to report that issue to the mailing list, since there were already a dedicated [thread](https://groups.google.com/forum/#!topic/play-framework/9utj-Xtv8SU) that was a dumb idea.\n### Play Version (2.5.x / etc)\n\n2.5.3\n### API (Scala / Java / Neither / Both)\n\nNeither\n### Operating System (Ubuntu 15.10 / MacOS 10.10 / Windows 10)\n\nFreeBSD 10.2, Ubuntu 14.04\n### JDK (Oracle 1.8.0_72, OpenJDK 1.8.x, Azul Zing)\n\nOpenJDK 64-Bit Server VM (build 25.77-b03, mixed mode)\n### Expected Behavior\n\nNo exception is thrown.\n### Actual Behavior\n\nWith nginx set up according to the recommended config (https://www.playframework.com/documentation/2.5.x/HTTPServer#Set-up-with-nginx) once in a while the following exception is thrown:\n\n```\n[warn] i.n.u.c.DefaultPromise - An exception was thrown by com.typesafe.netty.HandlerSubscriber$3.operationComplete()\njava.util.NoSuchElementException: http-handler-body-subscriber\n    at io.netty.channel.DefaultChannelPipeline.getContextOrDie(DefaultChannelPipeline.java:1093)\n    at io.netty.channel.DefaultChannelPipeline.remove(DefaultChannelPipeline.java:432)\n    at com.typesafe.netty.http.HttpStreamsHandler.completeBody(HttpStreamsHandler.java:294)\n    at com.typesafe.netty.http.HttpStreamsHandler.access$400(HttpStreamsHandler.java:14)\n    at com.typesafe.netty.http.HttpStreamsHandler$3$1.run(HttpStreamsHandler.java:276)\n    at com.typesafe.netty.http.HttpStreamsHandler.executeInEventLoop(HttpStreamsHandler.java:331)\n    at com.typesafe.netty.http.HttpStreamsHandler.access$300(HttpStreamsHandler.java:14)\n    at com.typesafe.netty.http.HttpStreamsHandler$3.complete(HttpStreamsHandler.java:273)\n    at com.typesafe.netty.HandlerSubscriber$3.operationComplete(HandlerSubscriber.java:244)\n    at com.typesafe.netty.HandlerSubscriber$3.operationComplete(HandlerSubscriber.java:241)\n```\n### Reproducible Test Case\n1. Take the following snippet:\n   \n   ``` scala\n   @Singleton\n   class HomeController @Inject() extends Controller {\n   \n     val content = \"##########\".getBytes(\"UTF-8\")\n     val contentLength = content.length\n   \n     def index = Action {\n   \n       val stream = new java.io.ByteArrayInputStream(content)\n       val source = StreamConverters.fromInputStream(() => stream)\n   \n       val result = Result(\n         ResponseHeader(200),\n         HttpEntity.Streamed(source, Some(contentLength), Some(\"text/plain\"))\n       )\n   \n       result\n     }\n   }\n   ```\n2. And run `wrk` benchmarking tool against it (i.e. simulate nginx with keepalive disabled):\n   `wrk -H 'Connection: close' http://localhost:9000/`\n","reactions":{"url":"https://api.github.com/repos/playframework/playframework/issues/6151/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/playframework/playframework/issues/6151/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"}]