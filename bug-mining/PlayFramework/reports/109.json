{"url":"https://api.github.com/repos/playframework/playframework/issues/7356","repository_url":"https://api.github.com/repos/playframework/playframework","labels_url":"https://api.github.com/repos/playframework/playframework/issues/7356/labels{/name}","comments_url":"https://api.github.com/repos/playframework/playframework/issues/7356/comments","events_url":"https://api.github.com/repos/playframework/playframework/issues/7356/events","html_url":"https://github.com/playframework/playframework/issues/7356","id":229406229,"node_id":"MDU6SXNzdWUyMjk0MDYyMjk=","number":7356,"title":"Use of MaxSizeExceeded silently breaks play.api.data.Form.bindFromRequest()","user":{"login":"kaesler","id":52121,"node_id":"MDQ6VXNlcjUyMTIx","avatar_url":"https://avatars.githubusercontent.com/u/52121?v=4","gravatar_id":"","url":"https://api.github.com/users/kaesler","html_url":"https://github.com/kaesler","followers_url":"https://api.github.com/users/kaesler/followers","following_url":"https://api.github.com/users/kaesler/following{/other_user}","gists_url":"https://api.github.com/users/kaesler/gists{/gist_id}","starred_url":"https://api.github.com/users/kaesler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaesler/subscriptions","organizations_url":"https://api.github.com/users/kaesler/orgs","repos_url":"https://api.github.com/users/kaesler/repos","events_url":"https://api.github.com/users/kaesler/events{/privacy}","received_events_url":"https://api.github.com/users/kaesler/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":33226908,"node_id":"MDU6TGFiZWwzMzIyNjkwOA==","url":"https://api.github.com/repos/playframework/playframework/labels/type:defect","name":"type:defect","color":"b60205","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/playframework/playframework/milestones/37","html_url":"https://github.com/playframework/playframework/milestone/37","labels_url":"https://api.github.com/repos/playframework/playframework/milestones/37/labels","id":1638325,"node_id":"MDk6TWlsZXN0b25lMTYzODMyNQ==","number":37,"title":"2.6.0","description":null,"creator":{"login":"gmethvin","id":171663,"node_id":"MDQ6VXNlcjE3MTY2Mw==","avatar_url":"https://avatars.githubusercontent.com/u/171663?v=4","gravatar_id":"","url":"https://api.github.com/users/gmethvin","html_url":"https://github.com/gmethvin","followers_url":"https://api.github.com/users/gmethvin/followers","following_url":"https://api.github.com/users/gmethvin/following{/other_user}","gists_url":"https://api.github.com/users/gmethvin/gists{/gist_id}","starred_url":"https://api.github.com/users/gmethvin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gmethvin/subscriptions","organizations_url":"https://api.github.com/users/gmethvin/orgs","repos_url":"https://api.github.com/users/gmethvin/repos","events_url":"https://api.github.com/users/gmethvin/events{/privacy}","received_events_url":"https://api.github.com/users/gmethvin/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":84,"state":"closed","created_at":"2016-03-11T04:54:33Z","updated_at":"2019-10-29T19:50:16Z","due_on":null,"closed_at":"2017-07-07T13:58:35Z"},"comments":5,"created_at":"2017-05-17T16:04:38Z","updated_at":"2017-06-03T13:39:49Z","closed_at":"2017-06-03T13:39:49Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Play Version (2.5.x / etc)\r\n\r\n2.6.0-M5\r\n\r\n### API (Scala / Java / Neither / Both)\r\n\r\nScala\r\n\r\n### Operating System (Ubuntu 15.10 / MacOS 10.10 / Windows 10)\r\n\r\nMacOSX 10.12.5\r\n\r\n### JDK (Oracle 1.8.0_72, OpenJDK 1.8.x, Azul Zing)\r\n\r\nOracle 1.8.0_131\r\n\r\nPaste the output from `java -version` at the command line.\r\n\r\n### Library Dependencies\r\n\r\nN/A\r\n\r\n### Expected Behavior\r\n\r\nPlease describe the expected behavior of the issue, starting from the first action.\r\n\r\n1. I have a controller method returning an Action of type Action[MultipartFormData[TemporaryFile]]\r\n\r\n2.  A call in that method to Form.bindFromRequest() correctly extracts data from the request body.\r\n\r\n3. I add a maximum content length restriction as documented here:\r\nhttps://www.playframework.com/documentation/2.6.x/ScalaBodyParsers#Max-content-length\r\n\r\n4. The type of the action, by virtue of that change, becomes \r\nAction[Either[MaxSizeExceeded, MultipartFormData[TemporaryFile]]]\r\n\r\n5. The call to Form.bindFromRequest() should still return data from a request that does not exceed the length restriction.\r\n\r\n### Actual Behavior\r\n\r\n1. I have a controller method returning an Action of type Action[MultipartFormData[TemporaryFile]]\r\n\r\n2.  A call in that method to Form.bindFromRequest() correctly extracts data from the request body.\r\n\r\n3. I add a maximum content length restriction as documented here:\r\nhttps://www.playframework.com/documentation/2.6.x/ScalaBodyParsers#Max-content-length\r\n\r\n4. The type of the action, by virtue of that change, becomes \r\nAction[Either[MaxSizeExceeded, MultipartFormData[TemporaryFile]]]\r\n\r\n5. Now a call to Form.bindFromRequest() extracts no data from the request, because the type of the request is not listed in the \"match\" expression in that method, so the default case is always taken, returning Map.empty[String, Seq[String]].\r\n\r\n","closed_by":{"login":"gmethvin","id":171663,"node_id":"MDQ6VXNlcjE3MTY2Mw==","avatar_url":"https://avatars.githubusercontent.com/u/171663?v=4","gravatar_id":"","url":"https://api.github.com/users/gmethvin","html_url":"https://github.com/gmethvin","followers_url":"https://api.github.com/users/gmethvin/followers","following_url":"https://api.github.com/users/gmethvin/following{/other_user}","gists_url":"https://api.github.com/users/gmethvin/gists{/gist_id}","starred_url":"https://api.github.com/users/gmethvin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gmethvin/subscriptions","organizations_url":"https://api.github.com/users/gmethvin/orgs","repos_url":"https://api.github.com/users/gmethvin/repos","events_url":"https://api.github.com/users/gmethvin/events{/privacy}","received_events_url":"https://api.github.com/users/gmethvin/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/playframework/playframework/issues/7356/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/playframework/playframework/issues/7356/timeline","performed_via_github_app":null,"state_reason":"completed"}