{"url":"https://api.github.com/repos/playframework/playframework/issues/3717","repository_url":"https://api.github.com/repos/playframework/playframework","labels_url":"https://api.github.com/repos/playframework/playframework/issues/3717/labels{/name}","comments_url":"https://api.github.com/repos/playframework/playframework/issues/3717/comments","events_url":"https://api.github.com/repos/playframework/playframework/issues/3717/events","html_url":"https://github.com/playframework/playframework/issues/3717","id":51215303,"node_id":"MDU6SXNzdWU1MTIxNTMwMw==","number":3717,"title":"JsObject.deepMerge does not work for arrays","user":{"login":"timgoodchild","id":2073109,"node_id":"MDQ6VXNlcjIwNzMxMDk=","avatar_url":"https://avatars.githubusercontent.com/u/2073109?v=4","gravatar_id":"","url":"https://api.github.com/users/timgoodchild","html_url":"https://github.com/timgoodchild","followers_url":"https://api.github.com/users/timgoodchild/followers","following_url":"https://api.github.com/users/timgoodchild/following{/other_user}","gists_url":"https://api.github.com/users/timgoodchild/gists{/gist_id}","starred_url":"https://api.github.com/users/timgoodchild/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/timgoodchild/subscriptions","organizations_url":"https://api.github.com/users/timgoodchild/orgs","repos_url":"https://api.github.com/users/timgoodchild/repos","events_url":"https://api.github.com/users/timgoodchild/events{/privacy}","received_events_url":"https://api.github.com/users/timgoodchild/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2014-12-07T11:36:46Z","updated_at":"2015-01-22T00:50:17Z","closed_at":"2015-01-22T00:50:17Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"When merging JSON arrays, the resulting array does not contain any of the source array in the JsObject on which deepMerge was invoked.  The resulting array contains only the entries that live within the object passed in to deepMerge.\n\nThe source code of deepMerge is complicated and is annotated with :-\n\"TODO : improve because coding is nasty there\"\n\nHowever it is clear that the code is written to detect JsObject and make a recursive call but there is no special handling of JsArrays and I suspect this is where the problem lies.\n\nI have created a failing test using ScalaTest and this is available at the following Gist\n\nhttps://gist.github.com/timgoodchild/c50a3f7234e4183873a0\n\nThe test fails with:-\norg.scalatest.exceptions.TestFailedException: 2 was not equal to 5\n\nPlay 2.3.6\nJava 1.7\nMac OSX Mavericks\n","closed_by":{"login":"gmethvin","id":171663,"node_id":"MDQ6VXNlcjE3MTY2Mw==","avatar_url":"https://avatars.githubusercontent.com/u/171663?v=4","gravatar_id":"","url":"https://api.github.com/users/gmethvin","html_url":"https://github.com/gmethvin","followers_url":"https://api.github.com/users/gmethvin/followers","following_url":"https://api.github.com/users/gmethvin/following{/other_user}","gists_url":"https://api.github.com/users/gmethvin/gists{/gist_id}","starred_url":"https://api.github.com/users/gmethvin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gmethvin/subscriptions","organizations_url":"https://api.github.com/users/gmethvin/orgs","repos_url":"https://api.github.com/users/gmethvin/repos","events_url":"https://api.github.com/users/gmethvin/events{/privacy}","received_events_url":"https://api.github.com/users/gmethvin/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/playframework/playframework/issues/3717/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/playframework/playframework/issues/3717/timeline","performed_via_github_app":null,"state_reason":"completed"}