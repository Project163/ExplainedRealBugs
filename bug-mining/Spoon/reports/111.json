{"url":"https://api.github.com/repos/INRIA/spoon/issues/422","repository_url":"https://api.github.com/repos/INRIA/spoon","labels_url":"https://api.github.com/repos/INRIA/spoon/issues/422/labels{/name}","comments_url":"https://api.github.com/repos/INRIA/spoon/issues/422/comments","events_url":"https://api.github.com/repos/INRIA/spoon/issues/422/events","html_url":"https://github.com/INRIA/spoon/issues/422","id":118350879,"node_id":"MDU6SXNzdWUxMTgzNTA4Nzk=","number":422,"title":"Feature Request: Extra Data Field","user":{"login":"alcides","id":7089,"node_id":"MDQ6VXNlcjcwODk=","avatar_url":"https://avatars.githubusercontent.com/u/7089?v=4","gravatar_id":"","url":"https://api.github.com/users/alcides","html_url":"https://github.com/alcides","followers_url":"https://api.github.com/users/alcides/followers","following_url":"https://api.github.com/users/alcides/following{/other_user}","gists_url":"https://api.github.com/users/alcides/gists{/gist_id}","starred_url":"https://api.github.com/users/alcides/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alcides/subscriptions","organizations_url":"https://api.github.com/users/alcides/orgs","repos_url":"https://api.github.com/users/alcides/repos","events_url":"https://api.github.com/users/alcides/events{/privacy}","received_events_url":"https://api.github.com/users/alcides/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2015-11-23T10:09:26Z","updated_at":"2016-02-12T14:07:58Z","closed_at":"2016-02-12T14:07:58Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Use case scenario:\n\nI am performing static analysis of the AST. I want to save information related to each node, and then I want to perform operations on the AST, while maintaining the extra information of each node. (I am doing this for automatic parallelization, cost-model analysis and so on).\n### How am I doing this and what the issue is:\n\nRight now I am using an HashMap from each ASTNode to an Object I created. However, whenever I perform modifications on the AST, the replacement methods in Spoon change the AST nodes (specially parents of the node I am replacing), leading to new nodes that I have no information of in my hashmap. This was very troublesome to fix, and I believe I still have bugs on my code because of issues like this.\n## How I propose to fix this:\n\nAdding an Object field to CtElement. A Generic type would be useful, but would add a lot of extra code to everyone else's code. Being an Object, one could easily (and unsafely) cast it to our own data type.\n\nI know it is possible to create another factory for my own Nodes. The problem is that I don't want to create 30-something classes just for adding a field. This and they won't be compatible with all the code that uses the existing factory or factory elements.\n","closed_by":{"login":"monperrus","id":803666,"node_id":"MDQ6VXNlcjgwMzY2Ng==","avatar_url":"https://avatars.githubusercontent.com/u/803666?v=4","gravatar_id":"","url":"https://api.github.com/users/monperrus","html_url":"https://github.com/monperrus","followers_url":"https://api.github.com/users/monperrus/followers","following_url":"https://api.github.com/users/monperrus/following{/other_user}","gists_url":"https://api.github.com/users/monperrus/gists{/gist_id}","starred_url":"https://api.github.com/users/monperrus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/monperrus/subscriptions","organizations_url":"https://api.github.com/users/monperrus/orgs","repos_url":"https://api.github.com/users/monperrus/repos","events_url":"https://api.github.com/users/monperrus/events{/privacy}","received_events_url":"https://api.github.com/users/monperrus/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/INRIA/spoon/issues/422/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/INRIA/spoon/issues/422/timeline","performed_via_github_app":null,"state_reason":"completed"}