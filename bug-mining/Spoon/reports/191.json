{"url":"https://api.github.com/repos/INRIA/spoon/issues/1099","repository_url":"https://api.github.com/repos/INRIA/spoon","labels_url":"https://api.github.com/repos/INRIA/spoon/issues/1099/labels{/name}","comments_url":"https://api.github.com/repos/INRIA/spoon/issues/1099/comments","events_url":"https://api.github.com/repos/INRIA/spoon/issues/1099/events","html_url":"https://github.com/INRIA/spoon/issues/1099","id":199787272,"node_id":"MDU6SXNzdWUxOTk3ODcyNzI=","number":1099,"title":"element.toString() crashes with a NP in DefaultJavaPrettyPrinter.visitCtTypeReference()","user":{"login":"arturbosch","id":20924106,"node_id":"MDQ6VXNlcjIwOTI0MTA2","avatar_url":"https://avatars.githubusercontent.com/u/20924106?v=4","gravatar_id":"","url":"https://api.github.com/users/arturbosch","html_url":"https://github.com/arturbosch","followers_url":"https://api.github.com/users/arturbosch/followers","following_url":"https://api.github.com/users/arturbosch/following{/other_user}","gists_url":"https://api.github.com/users/arturbosch/gists{/gist_id}","starred_url":"https://api.github.com/users/arturbosch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arturbosch/subscriptions","organizations_url":"https://api.github.com/users/arturbosch/orgs","repos_url":"https://api.github.com/users/arturbosch/repos","events_url":"https://api.github.com/users/arturbosch/events{/privacy}","received_events_url":"https://api.github.com/users/arturbosch/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2017-01-10T10:42:05Z","updated_at":"2017-01-13T10:58:52Z","closed_at":"2017-01-13T10:58:52Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"When analyzing elasticsearch we get a NP when calling element.toString().\r\nAs this has something to do with type references, I can't give you a concrete source file with this problem, but rather a part of the project as tar archive. (\r\n[elasticsearch.tar.gz](https://github.com/INRIA/spoon/files/695853/elasticsearch.tar.gz)\r\n) \r\n\r\n```\r\n2017-01-10 11:37:50,692 ERROR  [de.unibremen.st.ismell.config.DetectorStarter] : Exception while running: GodClassDetector \r\njava.lang.NullPointerException\r\n\tat spoon.reflect.visitor.DefaultJavaPrettyPrinter.visitCtTypeReference(DefaultJavaPrettyPrinter.java:1609)\r\n\tat spoon.reflect.visitor.DefaultJavaPrettyPrinter.visitCtTypeReference(DefaultJavaPrettyPrinter.java:1578)\r\n\tat spoon.support.reflect.reference.CtTypeReferenceImpl.accept(CtTypeReferenceImpl.java:68)\r\n\tat spoon.reflect.visitor.DefaultJavaPrettyPrinter.scan(DefaultJavaPrettyPrinter.java:265)\r\n\tat spoon.reflect.visitor.DefaultJavaPrettyPrinter.visitCtLocalVariable(DefaultJavaPrettyPrinter.java:1101)\r\n\tat spoon.support.reflect.code.CtLocalVariableImpl.accept(CtLocalVariableImpl.java:49)\r\n\tat spoon.reflect.visitor.DefaultJavaPrettyPrinter.scan(DefaultJavaPrettyPrinter.java:254)\r\n\tat spoon.reflect.visitor.printer.ElementPrinterHelper.writeStatement(ElementPrinterHelper.java:140)\r\n\tat spoon.reflect.visitor.DefaultJavaPrettyPrinter.visitCtBlock(DefaultJavaPrettyPrinter.java:401)\r\n\tat spoon.support.reflect.code.CtBlockImpl.accept(CtBlockImpl.java:45)\r\n\tat spoon.reflect.visitor.DefaultJavaPrettyPrinter.scan(DefaultJavaPrettyPrinter.java:254)\r\n\tat spoon.reflect.visitor.DefaultJavaPrettyPrinter.visitCtMethod(DefaultJavaPrettyPrinter.java:1153)\r\n\tat spoon.support.reflect.declaration.CtMethodImpl.accept(CtMethodImpl.java:62)\r\n\tat spoon.reflect.visitor.DefaultJavaPrettyPrinter.scan(DefaultJavaPrettyPrinter.java:254)\r\n\tat spoon.reflect.visitor.printer.ElementPrinterHelper.writeElementList(ElementPrinterHelper.java:154)\r\n\tat spoon.reflect.visitor.DefaultJavaPrettyPrinter.visitCtClass(DefaultJavaPrettyPrinter.java:496)\r\n\tat spoon.support.reflect.declaration.CtClassImpl.accept(CtClassImpl.java:62)\r\n\tat spoon.reflect.visitor.DefaultJavaPrettyPrinter.scan(DefaultJavaPrettyPrinter.java:254)\r\n\tat spoon.reflect.visitor.printer.ElementPrinterHelper.writeElementList(ElementPrinterHelper.java:154)\r\n\tat spoon.reflect.visitor.DefaultJavaPrettyPrinter.visitCtClass(DefaultJavaPrettyPrinter.java:496)\r\n\tat spoon.support.reflect.declaration.CtClassImpl.accept(CtClassImpl.java:62)\r\n\tat spoon.reflect.visitor.DefaultJavaPrettyPrinter.scan(DefaultJavaPrettyPrinter.java:254)\r\n\tat spoon.support.reflect.declaration.CtElementImpl.toString(CtElementImpl.java:226)\r\n\tat de.unibremen.st.ismell.detection.common.BadSmellHelper.createSourceCode(BadSmellHelper.java:63)\r\n\tat de.unibremen.st.ismell.detection.common.BadSmellHelper.createEntity(BadSmellHelper.java:54)\r\n\tat de.unibremen.st.ismell.detection.common.BadSmellHelper.createEntity(BadSmellHelper.java:32)\r\n\tat de.unibremen.st.ismell.detection.godclass.GodClassDetector.handleCtType(GodClassDetector.java:125)\r\n\tat de.unibremen.st.ismell.detection.godclass.GodClassDetector.visitCtClass(GodClassDetector.java:102)\r\n\tat spoon.support.reflect.declaration.CtClassImpl.accept(CtClassImpl.java:62)\r\n\tat spoon.reflect.visitor.CtScanner.scan(CtScanner.java:148)\r\n\tat de.unibremen.st.ismell.detection.common.Scanner.scan(Scanner.java:38)\r\n\tat spoon.reflect.visitor.CtScanner.scan(CtScanner.java:137)\r\n\tat spoon.reflect.visitor.CtScanner.visitCtPackage(CtScanner.java:628)\r\n\tat spoon.support.reflect.declaration.CtPackageImpl.accept(CtPackageImpl.java:47)\r\n\tat spoon.reflect.visitor.CtScanner.scan(CtScanner.java:148)\r\n\tat de.unibremen.st.ismell.detection.common.Scanner.scan(Scanner.java:38)\r\n\tat spoon.reflect.visitor.CtScanner.scan(CtScanner.java:137)\r\n\tat spoon.reflect.visitor.CtScanner.visitCtPackage(CtScanner.java:627)\r\n\tat spoon.support.reflect.declaration.CtPackageImpl.accept(CtPackageImpl.java:47)\r\n\tat spoon.reflect.visitor.CtScanner.scan(CtScanner.java:148)\r\n\tat de.unibremen.st.ismell.detection.common.Scanner.scan(Scanner.java:38)\r\n\tat spoon.reflect.visitor.CtScanner.scan(CtScanner.java:137)\r\n\tat spoon.reflect.visitor.CtScanner.visitCtPackage(CtScanner.java:627)\r\n\tat spoon.support.reflect.declaration.CtPackageImpl.accept(CtPackageImpl.java:47)\r\n\tat spoon.reflect.visitor.CtScanner.scan(CtScanner.java:148)\r\n\tat de.unibremen.st.ismell.detection.common.Scanner.scan(Scanner.java:38)\r\n\tat spoon.reflect.visitor.CtScanner.scan(CtScanner.java:137)\r\n\tat spoon.reflect.visitor.CtScanner.visitCtPackage(CtScanner.java:627)\r\n\tat spoon.support.reflect.declaration.CtPackageImpl.accept(CtPackageImpl.java:47)\r\n\tat spoon.reflect.visitor.CtScanner.scan(CtScanner.java:148)\r\n\tat de.unibremen.st.ismell.detection.common.Scanner.scan(Scanner.java:38)\r\n\tat spoon.reflect.visitor.CtScanner.scan(CtScanner.java:137)\r\n\tat spoon.reflect.visitor.CtScanner.visitCtPackage(CtScanner.java:627)\r\n\tat spoon.support.reflect.declaration.CtPackageImpl.accept(CtPackageImpl.java:47)\r\n\tat spoon.reflect.visitor.CtScanner.scan(CtScanner.java:148)\r\n\tat de.unibremen.st.ismell.detection.common.Scanner.scan(Scanner.java:38)\r\n\tat spoon.reflect.visitor.CtScanner.scan(CtScanner.java:137)\r\n\tat spoon.reflect.visitor.CtScanner.visitCtPackage(CtScanner.java:627)\r\n\tat spoon.support.reflect.declaration.CtPackageImpl.accept(CtPackageImpl.java:47)\r\n\tat spoon.reflect.visitor.CtScanner.scan(CtScanner.java:148)\r\n\tat de.unibremen.st.ismell.detection.common.Scanner.scan(Scanner.java:34)\r\n\tat de.unibremen.st.ismell.config.DetectorStarter.lambda$execute$0(DetectorStarter.java:61)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n```","closed_by":{"login":"surli","id":1478232,"node_id":"MDQ6VXNlcjE0NzgyMzI=","avatar_url":"https://avatars.githubusercontent.com/u/1478232?v=4","gravatar_id":"","url":"https://api.github.com/users/surli","html_url":"https://github.com/surli","followers_url":"https://api.github.com/users/surli/followers","following_url":"https://api.github.com/users/surli/following{/other_user}","gists_url":"https://api.github.com/users/surli/gists{/gist_id}","starred_url":"https://api.github.com/users/surli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/surli/subscriptions","organizations_url":"https://api.github.com/users/surli/orgs","repos_url":"https://api.github.com/users/surli/repos","events_url":"https://api.github.com/users/surli/events{/privacy}","received_events_url":"https://api.github.com/users/surli/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/INRIA/spoon/issues/1099/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/INRIA/spoon/issues/1099/timeline","performed_via_github_app":null,"state_reason":"completed"}