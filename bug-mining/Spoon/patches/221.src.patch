diff --git a/src/main/java/spoon/support/reflect/declaration/CtAnnotationTypeImpl.java b/src/main/java/spoon/support/reflect/declaration/CtAnnotationTypeImpl.java
index 013edaf59..52266c002 100644
--- a/src/main/java/spoon/support/reflect/declaration/CtAnnotationTypeImpl.java
+++ b/src/main/java/spoon/support/reflect/declaration/CtAnnotationTypeImpl.java
@@ -20,7 +20,7 @@ import spoon.support.UnsettableProperty;
 
 import java.lang.annotation.Annotation;
 import java.util.Collections;
-import java.util.HashSet;
+import java.util.LinkedHashSet;
 import java.util.List;
 import java.util.Set;
 
@@ -90,7 +90,7 @@ public class CtAnnotationTypeImpl<T extends Annotation> extends CtTypeImpl<T> im
 
 	@Override
 	public Set<CtAnnotationMethod<?>> getAnnotationMethods() {
-		Set<CtAnnotationMethod<?>> annotationsMethods = new HashSet<>();
+		Set<CtAnnotationMethod<?>> annotationsMethods = new LinkedHashSet<>();
 		for (CtMethod<?> method : getMethods()) {
 			if (method instanceof  CtAnnotationMethod) {
 				annotationsMethods.add((CtAnnotationMethod<?>) method);
diff --git a/src/test/java/spoon/support/visitor/java/JavaReflectionTreeBuilderTest.java b/src/test/java/spoon/support/visitor/java/JavaReflectionTreeBuilderTest.java
index 7adac3431..aa0236322 100644
--- a/src/test/java/spoon/support/visitor/java/JavaReflectionTreeBuilderTest.java
+++ b/src/test/java/spoon/support/visitor/java/JavaReflectionTreeBuilderTest.java
@@ -688,7 +688,10 @@ public class JavaReflectionTreeBuilderTest {
 		assertEquals("Diff", ctClass.getSimpleName());
 		assertEquals(false, ctClass.isAnonymous());
 		assertEquals(true, ctClass.isShadow());
-		assertEquals("element", ctClass.getFields().toArray(new CtField[0])[0].getSimpleName());
+		Set<String> moduleNames1 = ctClass.getFields().stream()
+				.map(CtField::getSimpleName).collect(Collectors.toSet());
+
+		assertEquals(moduleNames1, Set.of("element", "other", "roles"));
 	}
 
 
diff --git a/src/test/java/spoon/test/compilation/CompilationTest.java b/src/test/java/spoon/test/compilation/CompilationTest.java
index 41bb198db..4722e3e04 100644
--- a/src/test/java/spoon/test/compilation/CompilationTest.java
+++ b/src/test/java/spoon/test/compilation/CompilationTest.java
@@ -25,6 +25,7 @@ import java.nio.file.Files;
 import java.nio.file.Path;
 import java.util.ArrayList;
 import java.util.List;
+import java.util.Set;
 import java.util.stream.Collectors;
 
 
@@ -42,6 +43,7 @@ import spoon.reflect.code.CtBinaryOperator;
 import spoon.reflect.code.CtBlock;
 import spoon.reflect.code.CtReturn;
 import spoon.reflect.declaration.CtClass;
+import spoon.reflect.declaration.CtNamedElement;
 import spoon.reflect.declaration.CtMethod;
 import spoon.reflect.declaration.CtPackage;
 import spoon.reflect.declaration.CtType;
@@ -268,8 +270,9 @@ public class CompilationTest {
 		launcher.getEnvironment().setComplianceLevel(9);
 		launcher.addInputResource("./src/test/resources/simple-module");
 		launcher.buildModel();
-		
-		assertTrue(launcher.getModel().getAllModules().iterator().next().getSimpleName().equals("spoonmod"));
+		Set<String> moduleNames = launcher.getModel().getAllModules().stream()
+				.map(CtNamedElement::getSimpleName).collect(Collectors.toSet());
+		assertEquals(moduleNames, Set.of("spoonmod", "unnamed module"));
 	}
 
 	@Test
