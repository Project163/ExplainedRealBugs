diff --git a/src/main/java/spoon/support/compiler/jdt/JDTBasedSpoonCompiler.java b/src/main/java/spoon/support/compiler/jdt/JDTBasedSpoonCompiler.java
index 26e8f182d..71a37d7f4 100644
--- a/src/main/java/spoon/support/compiler/jdt/JDTBasedSpoonCompiler.java
+++ b/src/main/java/spoon/support/compiler/jdt/JDTBasedSpoonCompiler.java
@@ -148,7 +148,7 @@ public class JDTBasedSpoonCompiler implements spoon.SpoonModelBuilder {
 				.complianceOptions(new ComplianceOptions().compliance(javaCompliance)) //
 				.annotationProcessingOptions(new AnnotationProcessingOptions().compileProcessors()) //
 				.advancedOptions(new AdvancedOptions().preserveUnusedVars().continueExecution().enableJavadoc()) //
-				.sources(new SourceOptions().sources()) // no sources, handled by the JDTBatchCompiler
+				.sources(new SourceOptions().sources(sources.getAllJavaFiles())) // no sources, handled by the JDTBatchCompiler
 				.build();
 
 		getFactory().getEnvironment().debugMessage("compile args: " + Arrays.toString(args));
diff --git a/src/test/java/spoon/test/compilation/CompilationTest.java b/src/test/java/spoon/test/compilation/CompilationTest.java
index dbd6c3b33..bbaa3d0f1 100644
--- a/src/test/java/spoon/test/compilation/CompilationTest.java
+++ b/src/test/java/spoon/test/compilation/CompilationTest.java
@@ -31,10 +31,14 @@ import java.io.File;
 import java.lang.reflect.Method;
 import java.net.URL;
 import java.net.URLClassLoader;
+import java.nio.file.Files;
+import java.nio.file.Path;
 import java.util.ArrayList;
 import java.util.List;
 
+import static org.hamcrest.CoreMatchers.not;
 import static org.junit.Assert.assertEquals;
+import static org.junit.Assert.assertThat;
 import static org.junit.Assert.assertTrue;
 import static org.junit.Assert.assertNotNull;
 import static org.junit.Assert.fail;
@@ -376,4 +380,25 @@ public class CompilationTest {
 		assertEquals(3, l.size());
 		assertTrue(l.contains("KJHKY"));
 	}
+
+	@Test
+	public void testCompilationInEmptyDir() throws Exception {
+		// Contract: Spoon can be launched in an empty folder as a working directory
+		// See: https://github.com/INRIA/spoon/pull/1208 and https://github.com/INRIA/spoon/issues/1246
+		// This test does not fail (it's not enough to change user.dir we should launch process inside that dir) but it explains the problem
+		String userDir = System.getProperty("user.dir");
+		File testFile = new File("src/test/resources/compilation/compilation-tests/IBar.java");
+		String absoluteTestPath = testFile.getAbsolutePath();
+
+		Path tempDirPath = Files.createTempDirectory("test_compilation");
+
+		System.setProperty("user.dir", tempDirPath.toFile().getAbsolutePath());
+		SpoonModelBuilder compiler = new Launcher().createCompiler();
+		compiler.addInputSource(new File(absoluteTestPath));
+		compiler.setBinaryOutputDirectory(tempDirPath.toFile());
+		compiler.compile(SpoonModelBuilder.InputType.FILES);
+		System.setProperty("user.dir", userDir);
+
+		assertThat(tempDirPath.toFile().listFiles().length, not(0));
+	}
 }
