diff --git a/src/main/java/spoon/support/compiler/jdt/JDTTreeBuilder.java b/src/main/java/spoon/support/compiler/jdt/JDTTreeBuilder.java
index e7c1348d7..e2023951a 100644
--- a/src/main/java/spoon/support/compiler/jdt/JDTTreeBuilder.java
+++ b/src/main/java/spoon/support/compiler/jdt/JDTTreeBuilder.java
@@ -1981,12 +1981,7 @@ public class JDTTreeBuilder extends ASTVisitor {
 	}
 
 	protected <T> CtLocalVariable<T> getLocalVariableDeclaration(final String name) {
-		List<CtElement> reversedElements = new ArrayList<>(context.stack.size());
-		for (ASTPair element : context.stack) {
-			reversedElements.add(0, element.element);
-		}
-
-		for (CtElement element : reversedElements) {
+		for (ASTPair astPair : context.stack) {
 			// TODO check if the variable is visible from here
 
 			EarlyTerminatingScanner<CtLocalVariable<?>> scanner = new EarlyTerminatingScanner<CtLocalVariable<?>>() {
@@ -2000,7 +1995,7 @@ public class JDTTreeBuilder extends ASTVisitor {
 					super.visitCtLocalVariable(localVariable);
 				}
 			};
-			element.accept(scanner);
+			astPair.element.accept(scanner);
 			CtLocalVariable<T> var = (CtLocalVariable<T>) scanner.getResult();
 			if (var != null) {
 				return var;
@@ -2013,12 +2008,7 @@ public class JDTTreeBuilder extends ASTVisitor {
 	}
 
 	protected <T> CtCatchVariable<T> getCatchVariableDeclaration(final String name) {
-		List<CtElement> reversedElements = new ArrayList<>(context.stack.size());
-		for (ASTPair element : context.stack) {
-			reversedElements.add(0, element.element);
-		}
-
-		for (CtElement element : reversedElements) {
+		for (ASTPair astPair : context.stack) {
 			EarlyTerminatingScanner<CtCatchVariable<?>> scanner = new EarlyTerminatingScanner<CtCatchVariable<?>>() {
 				@Override
 				public <T> void visitCtCatchVariable(CtCatchVariable<T> catchVariable) {
@@ -2030,7 +2020,7 @@ public class JDTTreeBuilder extends ASTVisitor {
 					super.visitCtCatchVariable(catchVariable);
 				}
 			};
-			element.accept(scanner);
+			astPair.element.accept(scanner);
 
 			CtCatchVariable<T> var = (CtCatchVariable<T>) scanner.getResult();
 			if (var != null) {
diff --git a/src/test/java/spoon/test/reference/VariableAccessTest.java b/src/test/java/spoon/test/reference/VariableAccessTest.java
index 9c07c7341..f526e5db0 100644
--- a/src/test/java/spoon/test/reference/VariableAccessTest.java
+++ b/src/test/java/spoon/test/reference/VariableAccessTest.java
@@ -1,9 +1,17 @@
 package spoon.test.reference;
 
 import org.junit.Test;
+import spoon.reflect.code.CtArrayWrite;
+import spoon.reflect.code.CtLocalVariable;
+import spoon.reflect.code.CtVariableAccess;
 import spoon.reflect.declaration.CtClass;
+import spoon.reflect.declaration.CtMethod;
+import spoon.reflect.declaration.CtType;
 import spoon.reflect.reference.CtParameterReference;
 import spoon.reflect.visitor.filter.AbstractReferenceFilter;
+import spoon.reflect.visitor.filter.TypeFilter;
+import spoon.test.reference.testclasses.Pozole;
+import spoon.testing.utils.ModelUtils;
 
 import static org.junit.Assert.assertEquals;
 import static org.junit.Assert.assertNotNull;
@@ -29,4 +37,14 @@ public class VariableAccessTest {
 		assertNotNull("Declaration of declaring type of the method can't be null", ref.getDeclaringExecutable().getDeclaringType().getDeclaration());
 		assertNotNull("Declaration of root class can't be null", ref.getDeclaringExecutable().getDeclaringType().getDeclaringType().getDeclaration());
 	}
+
+	@Test
+	public void name() throws Exception {
+		final CtType<Pozole> aPozole = ModelUtils.buildClass(Pozole.class);
+		final CtMethod<Object> m2 = aPozole.getMethod("m2");
+		final CtArrayWrite<?> ctArrayWrite = m2.getElements(new TypeFilter<CtArrayWrite<?>>(CtArrayWrite.class)).get(0);
+		final CtLocalVariable expected = m2.getElements(new TypeFilter<CtLocalVariable>(CtLocalVariable.class)).get(0);
+
+		assertEquals(expected, ((CtVariableAccess) ctArrayWrite.getTarget()).getVariable().getDeclaration());
+	}
 }
diff --git a/src/test/java/spoon/test/reference/testclasses/Pozole.java b/src/test/java/spoon/test/reference/testclasses/Pozole.java
new file mode 100644
index 000000000..c3f9efae2
--- /dev/null
+++ b/src/test/java/spoon/test/reference/testclasses/Pozole.java
@@ -0,0 +1,12 @@
+package spoon.test.reference.testclasses;
+
+public class Pozole {
+	void m() {
+		double[] repair = new double[45];
+	}
+
+	void m2() {
+		final double[] repair = new double[1];
+		repair[0] = 5d;
+	}
+}
