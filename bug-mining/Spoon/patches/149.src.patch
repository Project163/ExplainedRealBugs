diff --git a/src/main/java/spoon/support/compiler/jdt/JDTBasedSpoonCompiler.java b/src/main/java/spoon/support/compiler/jdt/JDTBasedSpoonCompiler.java
index 77b9d71c4..3291cdb91 100644
--- a/src/main/java/spoon/support/compiler/jdt/JDTBasedSpoonCompiler.java
+++ b/src/main/java/spoon/support/compiler/jdt/JDTBasedSpoonCompiler.java
@@ -18,6 +18,7 @@ package spoon.support.compiler.jdt;
 
 import org.apache.commons.io.FileUtils;
 import org.apache.commons.io.IOUtils;
+import org.apache.commons.io.output.NullOutputStream;
 import org.apache.log4j.Level;
 import org.eclipse.jdt.core.compiler.CategorizedProblem;
 import org.eclipse.jdt.core.compiler.IProblem;
@@ -100,7 +101,11 @@ public class JDTBasedSpoonCompiler implements SpoonCompiler {
 	}
 
 	protected JDTBatchCompiler createBatchCompiler(boolean useFactory) {
-		return new JDTBatchCompiler(this, useFactory);
+		if (factory != null && factory.getEnvironment().getLevel() == Level.OFF) {
+			return new JDTBatchCompiler(this, useFactory, new NullOutputStream(), new NullOutputStream());
+		} else {
+			return new JDTBatchCompiler(this, useFactory);
+		}
 	}
 
 	@Override
diff --git a/src/main/java/spoon/support/compiler/jdt/JDTBatchCompiler.java b/src/main/java/spoon/support/compiler/jdt/JDTBatchCompiler.java
index b269791b9..2f385a245 100644
--- a/src/main/java/spoon/support/compiler/jdt/JDTBatchCompiler.java
+++ b/src/main/java/spoon/support/compiler/jdt/JDTBatchCompiler.java
@@ -38,6 +38,7 @@ import spoon.reflect.visitor.DefaultJavaPrettyPrinter;
 import java.io.File;
 import java.io.FileWriter;
 import java.io.IOException;
+import java.io.OutputStream;
 import java.io.PrintWriter;
 import java.util.ArrayList;
 import java.util.HashSet;
@@ -55,8 +56,11 @@ class JDTBatchCompiler extends org.eclipse.jdt.internal.compiler.batch.Main {
 	private boolean useFactory;
 
 	JDTBatchCompiler(JDTBasedSpoonCompiler jdtCompiler, boolean useFactory) {
-		super(new PrintWriter(System.out), new PrintWriter(
-		/* new NullOutputStream() */System.err), false, null, null);
+		this(jdtCompiler, useFactory, System.out, System.err);
+	}
+
+	JDTBatchCompiler(JDTBasedSpoonCompiler jdtCompiler, boolean useFactory, OutputStream outWriter, OutputStream errWriter) {
+		super(new PrintWriter(outWriter), new PrintWriter(errWriter), false, null, null);
 		this.jdtCompiler = jdtCompiler;
 		this.useFactory = useFactory;
 		this.jdtCompiler.loadedContent.clear();
