diff --git a/src/main/java/spoon/support/compiler/jdt/JDTTreeBuilder.java b/src/main/java/spoon/support/compiler/jdt/JDTTreeBuilder.java
index 5f2f13b53..6e23508f3 100644
--- a/src/main/java/spoon/support/compiler/jdt/JDTTreeBuilder.java
+++ b/src/main/java/spoon/support/compiler/jdt/JDTTreeBuilder.java
@@ -528,10 +528,27 @@ public class JDTTreeBuilder extends ASTVisitor {
 					ref.setSimpleName("");
 				} else {
 					ref.setSimpleName(new String(binding.sourceName()));
-					if (binding.enclosingType() != null)
-						ref.setDeclaringType(getTypeReference(binding
-								.enclosingType()));
-					else
+					if (binding.enclosingType() != null) {
+						// If we don't have access at the super class, we try to access it
+						// by the super class enclosing the current class (stack must to be
+						// not empty).
+						final CtTypeReference<?> enclosingType = getTypeReference(binding.enclosingType());
+						final Set<ModifierKind> modifiers = getModifiers(binding.enclosingType().modifiers);
+						if (modifiers.isEmpty()) {
+							if (!context.stack.isEmpty()) {
+								final CtElement clazz = context.stack.peek().element;
+								if (clazz instanceof CtClass<?>) {
+									ref.setDeclaringType(((CtClass<?>) clazz).getSuperclass());
+								} else {
+									ref.setDeclaringType(enclosingType);
+								}
+							} else {
+								ref.setDeclaringType(enclosingType);
+							}
+						} else {
+							ref.setDeclaringType(enclosingType);
+						}
+					} else
 						ref.setPackage(getPackageReference(binding.getPackage()));
 					// if(((SourceTypeBinding) binding).typeVariables!=null &&
 					// ((SourceTypeBinding) binding).typeVariables.length>0){
diff --git a/src/test/java/spoon/test/imports/ImportTest.java b/src/test/java/spoon/test/imports/ImportTest.java
new file mode 100644
index 000000000..9af2744c2
--- /dev/null
+++ b/src/test/java/spoon/test/imports/ImportTest.java
@@ -0,0 +1,41 @@
+package spoon.test.imports;
+
+import org.junit.Test;
+import spoon.Launcher;
+import spoon.compiler.SpoonCompiler;
+import spoon.compiler.SpoonResourceHelper;
+import spoon.reflect.declaration.CtClass;
+import spoon.reflect.factory.Factory;
+import spoon.reflect.visitor.Query;
+import spoon.reflect.visitor.filter.NameFilter;
+
+import java.util.List;
+
+import static org.junit.Assert.assertEquals;
+
+public class ImportTest {
+
+	@Test
+	public void testImportOfAnInnerClassInAClassPackage() throws Exception {
+		Launcher spoon = new Launcher();
+		Factory factory = spoon.createFactory();
+
+		SpoonCompiler compiler = spoon.createCompiler(
+				factory,
+				SpoonResourceHelper.resources(
+						"./src/test/java/spoon/test/imports/testclasses/internal/SuperClass.java",
+						"./src/test/java/spoon/test/imports/testclasses/internal/ChildClass.java",
+						"./src/test/java/spoon/test/imports/testclasses/ClientClass.java"));
+
+		compiler.build();
+
+		final List<CtClass<?>> classes = Query.getElements(factory, new NameFilter<CtClass<?>>("ClientClass"));
+
+		final CtClass<?> innerClass = classes.get(0).getNestedType("InnerClass");
+		String expected = "spoon.test.imports.testclasses.ClientClass.InnerClass";
+		assertEquals(expected, innerClass.getReference().toString());
+
+		expected = "spoon.test.imports.testclasses.internal.ChildClass.InnerClassProtected";
+		assertEquals(expected, innerClass.getSuperclass().toString());
+	}
+}
diff --git a/src/test/java/spoon/test/imports/testclasses/ClientClass.java b/src/test/java/spoon/test/imports/testclasses/ClientClass.java
new file mode 100644
index 000000000..9c136c95e
--- /dev/null
+++ b/src/test/java/spoon/test/imports/testclasses/ClientClass.java
@@ -0,0 +1,8 @@
+package spoon.test.imports.testclasses;
+
+import spoon.test.imports.testclasses.internal.ChildClass;
+
+public class ClientClass extends ChildClass {
+	private class InnerClass extends InnerClassProtected {
+	}
+}
diff --git a/src/test/java/spoon/test/imports/testclasses/internal/ChildClass.java b/src/test/java/spoon/test/imports/testclasses/internal/ChildClass.java
new file mode 100644
index 000000000..8127a2f0e
--- /dev/null
+++ b/src/test/java/spoon/test/imports/testclasses/internal/ChildClass.java
@@ -0,0 +1,4 @@
+package spoon.test.imports.testclasses.internal;
+
+public class ChildClass extends SuperClass {
+}
diff --git a/src/test/java/spoon/test/imports/testclasses/internal/SuperClass.java b/src/test/java/spoon/test/imports/testclasses/internal/SuperClass.java
new file mode 100644
index 000000000..007913338
--- /dev/null
+++ b/src/test/java/spoon/test/imports/testclasses/internal/SuperClass.java
@@ -0,0 +1,6 @@
+package spoon.test.imports.testclasses.internal;
+
+class SuperClass {
+	protected class InnerClassProtected {
+	}
+}
