{"url":"https://api.github.com/repos/square/tape/issues/53","repository_url":"https://api.github.com/repos/square/tape","labels_url":"https://api.github.com/repos/square/tape/issues/53/labels{/name}","comments_url":"https://api.github.com/repos/square/tape/issues/53/comments","events_url":"https://api.github.com/repos/square/tape/issues/53/events","html_url":"https://github.com/square/tape/issues/53","id":35441258,"node_id":"MDU6SXNzdWUzNTQ0MTI1OA==","number":53,"title":"All Data Not Properly Zeroed Out","user":{"login":"JakeWharton","id":66577,"node_id":"MDQ6VXNlcjY2NTc3","avatar_url":"https://avatars.githubusercontent.com/u/66577?v=4","gravatar_id":"","url":"https://api.github.com/users/JakeWharton","html_url":"https://github.com/JakeWharton","followers_url":"https://api.github.com/users/JakeWharton/followers","following_url":"https://api.github.com/users/JakeWharton/following{/other_user}","gists_url":"https://api.github.com/users/JakeWharton/gists{/gist_id}","starred_url":"https://api.github.com/users/JakeWharton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JakeWharton/subscriptions","organizations_url":"https://api.github.com/users/JakeWharton/orgs","repos_url":"https://api.github.com/users/JakeWharton/repos","events_url":"https://api.github.com/users/JakeWharton/events{/privacy}","received_events_url":"https://api.github.com/users/JakeWharton/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2014-06-11T00:54:30Z","updated_at":"2014-10-06T21:10:26Z","closed_at":"2014-10-06T21:10:26Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"From @casidiablo:\n\nLet me give you an example to make this even clearer and then we'll define what to test:\n\n```\n$ hexdump test_file\n00 00 00 39 00 00 00 05 00 00 00 19 00 00 00 35  <- file header\n66 66 66 00 00 00 00 00 00 00 00 00 03 62 62 62\n00 00 00 03 63 63 63 00 00 00 03 64 64 64 00 00\n00 03 65 65 65 00 00 00 03\n```\n\nIt's a 57B file length, 5 elems, first position is 0x19 (25), last position is 0x35 (53).\n\nWithout this commit, after adding an element (whose content is 0xFFs) of size 5 I got this:\n\n```\n$ hexdump test_file # file was doubled since it was not enough to save the element\n00 00 00 39 00 00 00 06 00 00 00 19 00 00 00 3C\n66 66 66 00 00 00 00 00 00 00 00 00 03 62 62 62\n00 00 00 03 63 63 63 00 00 00 03 64 64 64 00 00\n00 03 65 65 65 00 00 00 03 66 66 66 00 00 00 05  \nFF FF FF FF FF 03 62 62 00 00 00 00 00 00 00 00  <- queue ends in the last 0xFF\n00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00     '03 62 62' are from the second row\n00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00\n00 00 \n```\n\nIf we do it with this commit:\n\n```\n$ hexdump test_file\n00 00 00 39 00 00 00 06 00 00 00 19 00 00 00 3C\n66 66 66 00 00 00 00 00 00 00 00 00 03 62 62 62\n00 00 00 03 63 63 63 00 00 00 03 64 64 64 00 00\n00 03 65 65 65 00 00 00 03 66 66 66 00 00 00 05  \nFF FF FF FF FF 00 00 00 00 00 00 00 00 00 00 00  <- no garbage\n00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00     \n00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00\n00 00 \n```\n\nNote that both versions leave garbage in the second row (0x66s). Should we also remove that garbage? Should a test make sure that all unused areas is filled with zeros?\n","closed_by":{"login":"JakeWharton","id":66577,"node_id":"MDQ6VXNlcjY2NTc3","avatar_url":"https://avatars.githubusercontent.com/u/66577?v=4","gravatar_id":"","url":"https://api.github.com/users/JakeWharton","html_url":"https://github.com/JakeWharton","followers_url":"https://api.github.com/users/JakeWharton/followers","following_url":"https://api.github.com/users/JakeWharton/following{/other_user}","gists_url":"https://api.github.com/users/JakeWharton/gists{/gist_id}","starred_url":"https://api.github.com/users/JakeWharton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JakeWharton/subscriptions","organizations_url":"https://api.github.com/users/JakeWharton/orgs","repos_url":"https://api.github.com/users/JakeWharton/repos","events_url":"https://api.github.com/users/JakeWharton/events{/privacy}","received_events_url":"https://api.github.com/users/JakeWharton/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/square/tape/issues/53/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/square/tape/issues/53/timeline","performed_via_github_app":null,"state_reason":"completed"}