{"url":"https://api.github.com/repos/cypress-io/cypress/issues/28788","repository_url":"https://api.github.com/repos/cypress-io/cypress","labels_url":"https://api.github.com/repos/cypress-io/cypress/issues/28788/labels{/name}","comments_url":"https://api.github.com/repos/cypress-io/cypress/issues/28788/comments","events_url":"https://api.github.com/repos/cypress-io/cypress/issues/28788/events","html_url":"https://github.com/cypress-io/cypress/issues/28788","id":2098150598,"node_id":"I_kwDOAeKht859DzzG","number":28788,"title":"Clicking nested element in disabled button invokes button's onclick handler","user":{"login":"nils4cosee","id":54022132,"node_id":"MDQ6VXNlcjU0MDIyMTMy","avatar_url":"https://avatars.githubusercontent.com/u/54022132?v=4","gravatar_id":"","url":"https://api.github.com/users/nils4cosee","html_url":"https://github.com/nils4cosee","followers_url":"https://api.github.com/users/nils4cosee/followers","following_url":"https://api.github.com/users/nils4cosee/following{/other_user}","gists_url":"https://api.github.com/users/nils4cosee/gists{/gist_id}","starred_url":"https://api.github.com/users/nils4cosee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nils4cosee/subscriptions","organizations_url":"https://api.github.com/users/nils4cosee/orgs","repos_url":"https://api.github.com/users/nils4cosee/repos","events_url":"https://api.github.com/users/nils4cosee/events{/privacy}","received_events_url":"https://api.github.com/users/nils4cosee/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":182981366,"node_id":"MDU6TGFiZWwxODI5ODEzNjY=","url":"https://api.github.com/repos/cypress-io/cypress/labels/type:%20bug","name":"type: bug","color":"e11d21","default":false,"description":null},{"id":531726254,"node_id":"MDU6TGFiZWw1MzE3MjYyNTQ=","url":"https://api.github.com/repos/cypress-io/cypress/labels/pkg/driver","name":"pkg/driver","color":"c5def5","default":false,"description":"This is due to an issue in the packages/driver directory"},{"id":702413409,"node_id":"MDU6TGFiZWw3MDI0MTM0MDk=","url":"https://api.github.com/repos/cypress-io/cypress/labels/good%20first%20issue","name":"good first issue","color":"0052cc","default":true,"description":"Good for newcomers"},{"id":1165988212,"node_id":"MDU6TGFiZWwxMTY1OTg4MjEy","url":"https://api.github.com/repos/cypress-io/cypress/labels/topic:%20cy.click%20%F0%9F%96%B1","name":"topic: cy.click ðŸ–±","color":"eeeeee","default":false,"description":""}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2024-01-24T12:21:19Z","updated_at":"2024-03-13T17:26:42Z","closed_at":"2024-02-27T16:51:46Z","author_association":"NONE","type":null,"active_lock_reason":"resolved","sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Current behavior\n\nWhen \"clicking\" a nested element of a disabled button, the onclick-handler of this button is run (in Chrome or Firefox, not in Electron)\r\n\r\n```html\r\n<body>\r\n    <button disabled onclick=\"document.querySelector('div').innerText = 'Button clicked'\">\r\n        <span>Click me</span>\r\n    </button>\r\n    <div>\r\n\r\n    </div>\r\n</body>\r\n</html>\r\n```\r\n\r\nTest: \r\n\r\n```javascript\r\nit(\"does not invoke the onclick handler of a disabled parent button\", () => {\r\n    cy.visit(\"index.html\")\r\n    cy.contains(\"span\", \"Click me\").click()\r\n    cy.contains(\"Button clicked\").should('not.exist')\r\n})\r\n```\r\n\r\n![image](https://github.com/cypress-io/cypress/assets/54022132/af3a3209-02d9-491b-80c3-9ce71b91b459)\r\n\n\n### Desired behavior\n\nThe behavior of \r\n\r\n```js\r\ncy.contains(\"span\", \"Click me\").click()\r\n```\r\n\r\nshould be the same as \r\n\r\n```js\r\ncy.contains(\"button\", \"Click me\").click()\r\n```\r\n\r\nit only runs the onclick-handler if the button is not disabled and also waits for the button to be not disabled anymore.\r\n\r\n\n\n### Test code to reproduce\n\nSee my repo with the code https://github.com/nils4cosee/cypress-click-span-in-disabled-button\n\n### Cypress Version\n\n13.6.1\n\n### Node version\n\n18.15.0\n\n### Operating System\n\nmacOS 13.6\n\n### Debug Logs\n\n```shell\nOutput of \r\n\r\n\r\nDEBUG=cypress:* npm run cypress:run -- --browser chrome --headless >debug.log 2>&1\r\n```\r\n\r\nis too long, according to GitHub. Please tell me if you really need it\n```\n\n\n### Other\n\n_No response_","closed_by":{"login":"jennifer-shehane","id":1271364,"node_id":"MDQ6VXNlcjEyNzEzNjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1271364?v=4","gravatar_id":"","url":"https://api.github.com/users/jennifer-shehane","html_url":"https://github.com/jennifer-shehane","followers_url":"https://api.github.com/users/jennifer-shehane/followers","following_url":"https://api.github.com/users/jennifer-shehane/following{/other_user}","gists_url":"https://api.github.com/users/jennifer-shehane/gists{/gist_id}","starred_url":"https://api.github.com/users/jennifer-shehane/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jennifer-shehane/subscriptions","organizations_url":"https://api.github.com/users/jennifer-shehane/orgs","repos_url":"https://api.github.com/users/jennifer-shehane/repos","events_url":"https://api.github.com/users/jennifer-shehane/events{/privacy}","received_events_url":"https://api.github.com/users/jennifer-shehane/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/cypress-io/cypress/issues/28788/reactions","total_count":6,"+1":6,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/cypress-io/cypress/issues/28788/timeline","performed_via_github_app":null,"state_reason":"completed"}