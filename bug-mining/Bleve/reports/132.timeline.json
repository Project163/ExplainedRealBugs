[{"url":"https://api.github.com/repos/blevesearch/bleve/issues/comments/383251532","html_url":"https://github.com/blevesearch/bleve/issues/906#issuecomment-383251532","issue_url":"https://api.github.com/repos/blevesearch/bleve/issues/906","id":383251532,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MzI1MTUzMg==","user":{"login":"steveyen","id":30640,"node_id":"MDQ6VXNlcjMwNjQw","avatar_url":"https://avatars.githubusercontent.com/u/30640?v=4","gravatar_id":"","url":"https://api.github.com/users/steveyen","html_url":"https://github.com/steveyen","followers_url":"https://api.github.com/users/steveyen/followers","following_url":"https://api.github.com/users/steveyen/following{/other_user}","gists_url":"https://api.github.com/users/steveyen/gists{/gist_id}","starred_url":"https://api.github.com/users/steveyen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/steveyen/subscriptions","organizations_url":"https://api.github.com/users/steveyen/orgs","repos_url":"https://api.github.com/users/steveyen/repos","events_url":"https://api.github.com/users/steveyen/events{/privacy}","received_events_url":"https://api.github.com/users/steveyen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-21T00:08:22Z","updated_at":"2018-04-21T00:37:52Z","body":"A couple notes / ideas on this to track down (may or not bear fruit)...\r\n\r\na) the chunkedContentCoder has a requirement or API assumption that Add() will be invoked with docNums that never go downwards (the next docNum is >= the last docNum), so need to double check that this is actually the case with the merging optimization.  See here...\r\n\r\nhttps://github.com/blevesearch/bleve/commit/2d5ae21650e05d26a3876b318b860546ab970a9b#diff-cb9b3f4cc7e69e32b20d38043abc0e49R365\r\n\r\nb) after adding more printf()'s, it appears that sometimes a chunk might be zero sized.  Here...\r\n\r\nhttps://github.com/blevesearch/bleve/commit/2d5ae21650e05d26a3876b318b860546ab970a9b#diff-5995b778f7ab14fe2d974d648b0c514fR127\r\n\r\n...the start & end offsets are both nonzero and also equal to each other (start == end).  The docValueReader codepaths doesn't seem to handle this possible case of an empty chunk.\r\n\r\nNot sure how the start & end offsets because equal, though, and why this condition wasn't triggered in older codepaths that were \"before the reverted change\".  If situation #a happens, that might possibly be the explanation, but need to think about it more.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/blevesearch/bleve/issues/comments/383251532/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"steveyen","id":30640,"node_id":"MDQ6VXNlcjMwNjQw","avatar_url":"https://avatars.githubusercontent.com/u/30640?v=4","gravatar_id":"","url":"https://api.github.com/users/steveyen","html_url":"https://github.com/steveyen","followers_url":"https://api.github.com/users/steveyen/followers","following_url":"https://api.github.com/users/steveyen/following{/other_user}","gists_url":"https://api.github.com/users/steveyen/gists{/gist_id}","starred_url":"https://api.github.com/users/steveyen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/steveyen/subscriptions","organizations_url":"https://api.github.com/users/steveyen/orgs","repos_url":"https://api.github.com/users/steveyen/repos","events_url":"https://api.github.com/users/steveyen/events{/privacy}","received_events_url":"https://api.github.com/users/steveyen/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/blevesearch/bleve/issues/comments/383252997","html_url":"https://github.com/blevesearch/bleve/issues/906#issuecomment-383252997","issue_url":"https://api.github.com/repos/blevesearch/bleve/issues/906","id":383252997,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MzI1Mjk5Nw==","user":{"login":"abhinavdangeti","id":1863456,"node_id":"MDQ6VXNlcjE4NjM0NTY=","avatar_url":"https://avatars.githubusercontent.com/u/1863456?v=4","gravatar_id":"","url":"https://api.github.com/users/abhinavdangeti","html_url":"https://github.com/abhinavdangeti","followers_url":"https://api.github.com/users/abhinavdangeti/followers","following_url":"https://api.github.com/users/abhinavdangeti/following{/other_user}","gists_url":"https://api.github.com/users/abhinavdangeti/gists{/gist_id}","starred_url":"https://api.github.com/users/abhinavdangeti/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abhinavdangeti/subscriptions","organizations_url":"https://api.github.com/users/abhinavdangeti/orgs","repos_url":"https://api.github.com/users/abhinavdangeti/repos","events_url":"https://api.github.com/users/abhinavdangeti/events{/privacy}","received_events_url":"https://api.github.com/users/abhinavdangeti/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-21T00:22:30Z","updated_at":"2018-04-21T00:22:30Z","body":"Hey @steveyen , I've already verified (a) to be true.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/blevesearch/bleve/issues/comments/383252997/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"abhinavdangeti","id":1863456,"node_id":"MDQ6VXNlcjE4NjM0NTY=","avatar_url":"https://avatars.githubusercontent.com/u/1863456?v=4","gravatar_id":"","url":"https://api.github.com/users/abhinavdangeti","html_url":"https://github.com/abhinavdangeti","followers_url":"https://api.github.com/users/abhinavdangeti/followers","following_url":"https://api.github.com/users/abhinavdangeti/following{/other_user}","gists_url":"https://api.github.com/users/abhinavdangeti/gists{/gist_id}","starred_url":"https://api.github.com/users/abhinavdangeti/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abhinavdangeti/subscriptions","organizations_url":"https://api.github.com/users/abhinavdangeti/orgs","repos_url":"https://api.github.com/users/abhinavdangeti/repos","events_url":"https://api.github.com/users/abhinavdangeti/events{/privacy}","received_events_url":"https://api.github.com/users/abhinavdangeti/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1587238525,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTU4NzIzODUyNQ==","url":"https://api.github.com/repos/blevesearch/bleve/issues/events/1587238525","actor":{"login":"steveyen","id":30640,"node_id":"MDQ6VXNlcjMwNjQw","avatar_url":"https://avatars.githubusercontent.com/u/30640?v=4","gravatar_id":"","url":"https://api.github.com/users/steveyen","html_url":"https://github.com/steveyen","followers_url":"https://api.github.com/users/steveyen/followers","following_url":"https://api.github.com/users/steveyen/following{/other_user}","gists_url":"https://api.github.com/users/steveyen/gists{/gist_id}","starred_url":"https://api.github.com/users/steveyen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/steveyen/subscriptions","organizations_url":"https://api.github.com/users/steveyen/orgs","repos_url":"https://api.github.com/users/steveyen/repos","events_url":"https://api.github.com/users/steveyen/events{/privacy}","received_events_url":"https://api.github.com/users/steveyen/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-04-21T00:22:30Z","performed_via_github_app":null},{"id":1587238527,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE1ODcyMzg1Mjc=","url":"https://api.github.com/repos/blevesearch/bleve/issues/events/1587238527","actor":{"login":"steveyen","id":30640,"node_id":"MDQ6VXNlcjMwNjQw","avatar_url":"https://avatars.githubusercontent.com/u/30640?v=4","gravatar_id":"","url":"https://api.github.com/users/steveyen","html_url":"https://github.com/steveyen","followers_url":"https://api.github.com/users/steveyen/followers","following_url":"https://api.github.com/users/steveyen/following{/other_user}","gists_url":"https://api.github.com/users/steveyen/gists{/gist_id}","starred_url":"https://api.github.com/users/steveyen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/steveyen/subscriptions","organizations_url":"https://api.github.com/users/steveyen/orgs","repos_url":"https://api.github.com/users/steveyen/repos","events_url":"https://api.github.com/users/steveyen/events{/privacy}","received_events_url":"https://api.github.com/users/steveyen/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-04-21T00:22:30Z","performed_via_github_app":null},{"id":1587588709,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDE1ODc1ODg3MDk=","url":"https://api.github.com/repos/blevesearch/bleve/issues/events/1587588709","actor":{"login":"steveyen","id":30640,"node_id":"MDQ6VXNlcjMwNjQw","avatar_url":"https://avatars.githubusercontent.com/u/30640?v=4","gravatar_id":"","url":"https://api.github.com/users/steveyen","html_url":"https://github.com/steveyen","followers_url":"https://api.github.com/users/steveyen/followers","following_url":"https://api.github.com/users/steveyen/following{/other_user}","gists_url":"https://api.github.com/users/steveyen/gists{/gist_id}","starred_url":"https://api.github.com/users/steveyen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/steveyen/subscriptions","organizations_url":"https://api.github.com/users/steveyen/orgs","repos_url":"https://api.github.com/users/steveyen/repos","events_url":"https://api.github.com/users/steveyen/events{/privacy}","received_events_url":"https://api.github.com/users/steveyen/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"c623c57df87b51b47fb42f92470b10f4be555c52","commit_url":"https://api.github.com/repos/steveyen/bleve/commits/c623c57df87b51b47fb42f92470b10f4be555c52","created_at":"2018-04-21T19:54:46Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/blevesearch/bleve/issues/comments/383326440","html_url":"https://github.com/blevesearch/bleve/issues/906#issuecomment-383326440","issue_url":"https://api.github.com/repos/blevesearch/bleve/issues/906","id":383326440,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MzMyNjQ0MA==","user":{"login":"steveyen","id":30640,"node_id":"MDQ6VXNlcjMwNjQw","avatar_url":"https://avatars.githubusercontent.com/u/30640?v=4","gravatar_id":"","url":"https://api.github.com/users/steveyen","html_url":"https://github.com/steveyen","followers_url":"https://api.github.com/users/steveyen/followers","following_url":"https://api.github.com/users/steveyen/following{/other_user}","gists_url":"https://api.github.com/users/steveyen/gists{/gist_id}","starred_url":"https://api.github.com/users/steveyen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/steveyen/subscriptions","organizations_url":"https://api.github.com/users/steveyen/orgs","repos_url":"https://api.github.com/users/steveyen/repos","events_url":"https://api.github.com/users/steveyen/events{/privacy}","received_events_url":"https://api.github.com/users/steveyen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-21T20:12:00Z","updated_at":"2018-04-21T20:12:00Z","body":"> Hey @steveyen , I've already verified (a) to be true.\r\n\r\nHi @abhinavdangeti -- double checking on that, can you provide a bit more detail on this #a situation?\r\n\r\nThat is, I attempted by own verification of theory #a (whether chunkedContentCoder.Add() was sometimes incorrectly invoked with a docNum < a previous docNum), and didn't see it happening.  That is, I put a panic() in there looking for this situation, and it didn't panic.\r\n\r\nChange gears, a PR for situation #b is up for review -- https://github.com/blevesearch/bleve/pull/908, and with that fix my tests are now passing.\r\n\r\nBut, there's a slight mystery... in that I don't think I have a 100% explanation of why my testing was running into empty docvalue chunks with @abhinavdangeti's docvalues-optimization commit, but didn't seemingly run into empty docvalue chunks before that commit.\r\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/blevesearch/bleve/issues/comments/383326440/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"steveyen","id":30640,"node_id":"MDQ6VXNlcjMwNjQw","avatar_url":"https://avatars.githubusercontent.com/u/30640?v=4","gravatar_id":"","url":"https://api.github.com/users/steveyen","html_url":"https://github.com/steveyen","followers_url":"https://api.github.com/users/steveyen/followers","following_url":"https://api.github.com/users/steveyen/following{/other_user}","gists_url":"https://api.github.com/users/steveyen/gists{/gist_id}","starred_url":"https://api.github.com/users/steveyen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/steveyen/subscriptions","organizations_url":"https://api.github.com/users/steveyen/orgs","repos_url":"https://api.github.com/users/steveyen/repos","events_url":"https://api.github.com/users/steveyen/events{/privacy}","received_events_url":"https://api.github.com/users/steveyen/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1587593711,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTU4NzU5MzcxMQ==","url":"https://api.github.com/repos/blevesearch/bleve/issues/events/1587593711","actor":{"login":"steveyen","id":30640,"node_id":"MDQ6VXNlcjMwNjQw","avatar_url":"https://avatars.githubusercontent.com/u/30640?v=4","gravatar_id":"","url":"https://api.github.com/users/steveyen","html_url":"https://github.com/steveyen","followers_url":"https://api.github.com/users/steveyen/followers","following_url":"https://api.github.com/users/steveyen/following{/other_user}","gists_url":"https://api.github.com/users/steveyen/gists{/gist_id}","starred_url":"https://api.github.com/users/steveyen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/steveyen/subscriptions","organizations_url":"https://api.github.com/users/steveyen/orgs","repos_url":"https://api.github.com/users/steveyen/repos","events_url":"https://api.github.com/users/steveyen/events{/privacy}","received_events_url":"https://api.github.com/users/steveyen/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-04-21T20:12:00Z","performed_via_github_app":null},{"id":1587593712,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE1ODc1OTM3MTI=","url":"https://api.github.com/repos/blevesearch/bleve/issues/events/1587593712","actor":{"login":"steveyen","id":30640,"node_id":"MDQ6VXNlcjMwNjQw","avatar_url":"https://avatars.githubusercontent.com/u/30640?v=4","gravatar_id":"","url":"https://api.github.com/users/steveyen","html_url":"https://github.com/steveyen","followers_url":"https://api.github.com/users/steveyen/followers","following_url":"https://api.github.com/users/steveyen/following{/other_user}","gists_url":"https://api.github.com/users/steveyen/gists{/gist_id}","starred_url":"https://api.github.com/users/steveyen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/steveyen/subscriptions","organizations_url":"https://api.github.com/users/steveyen/orgs","repos_url":"https://api.github.com/users/steveyen/repos","events_url":"https://api.github.com/users/steveyen/events{/privacy}","received_events_url":"https://api.github.com/users/steveyen/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-04-21T20:12:00Z","performed_via_github_app":null},{"id":1587593713,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTU4NzU5MzcxMw==","url":"https://api.github.com/repos/blevesearch/bleve/issues/events/1587593713","actor":{"login":"abhinavdangeti","id":1863456,"node_id":"MDQ6VXNlcjE4NjM0NTY=","avatar_url":"https://avatars.githubusercontent.com/u/1863456?v=4","gravatar_id":"","url":"https://api.github.com/users/abhinavdangeti","html_url":"https://github.com/abhinavdangeti","followers_url":"https://api.github.com/users/abhinavdangeti/followers","following_url":"https://api.github.com/users/abhinavdangeti/following{/other_user}","gists_url":"https://api.github.com/users/abhinavdangeti/gists{/gist_id}","starred_url":"https://api.github.com/users/abhinavdangeti/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abhinavdangeti/subscriptions","organizations_url":"https://api.github.com/users/abhinavdangeti/orgs","repos_url":"https://api.github.com/users/abhinavdangeti/repos","events_url":"https://api.github.com/users/abhinavdangeti/events{/privacy}","received_events_url":"https://api.github.com/users/abhinavdangeti/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-04-21T20:12:00Z","performed_via_github_app":null},{"id":1587593714,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE1ODc1OTM3MTQ=","url":"https://api.github.com/repos/blevesearch/bleve/issues/events/1587593714","actor":{"login":"abhinavdangeti","id":1863456,"node_id":"MDQ6VXNlcjE4NjM0NTY=","avatar_url":"https://avatars.githubusercontent.com/u/1863456?v=4","gravatar_id":"","url":"https://api.github.com/users/abhinavdangeti","html_url":"https://github.com/abhinavdangeti","followers_url":"https://api.github.com/users/abhinavdangeti/followers","following_url":"https://api.github.com/users/abhinavdangeti/following{/other_user}","gists_url":"https://api.github.com/users/abhinavdangeti/gists{/gist_id}","starred_url":"https://api.github.com/users/abhinavdangeti/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abhinavdangeti/subscriptions","organizations_url":"https://api.github.com/users/abhinavdangeti/orgs","repos_url":"https://api.github.com/users/abhinavdangeti/repos","events_url":"https://api.github.com/users/abhinavdangeti/events{/privacy}","received_events_url":"https://api.github.com/users/abhinavdangeti/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-04-21T20:12:00Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/blevesearch/bleve/issues/comments/383326643","html_url":"https://github.com/blevesearch/bleve/issues/906#issuecomment-383326643","issue_url":"https://api.github.com/repos/blevesearch/bleve/issues/906","id":383326643,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MzMyNjY0Mw==","user":{"login":"abhinavdangeti","id":1863456,"node_id":"MDQ6VXNlcjE4NjM0NTY=","avatar_url":"https://avatars.githubusercontent.com/u/1863456?v=4","gravatar_id":"","url":"https://api.github.com/users/abhinavdangeti","html_url":"https://github.com/abhinavdangeti","followers_url":"https://api.github.com/users/abhinavdangeti/followers","following_url":"https://api.github.com/users/abhinavdangeti/following{/other_user}","gists_url":"https://api.github.com/users/abhinavdangeti/gists{/gist_id}","starred_url":"https://api.github.com/users/abhinavdangeti/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abhinavdangeti/subscriptions","organizations_url":"https://api.github.com/users/abhinavdangeti/orgs","repos_url":"https://api.github.com/users/abhinavdangeti/repos","events_url":"https://api.github.com/users/abhinavdangeti/events{/privacy}","received_events_url":"https://api.github.com/users/abhinavdangeti/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-21T20:15:27Z","updated_at":"2018-04-21T20:15:27Z","body":"That's exactly the same thing I did - placed a panic if a docnum less than the previous was encountered, and the process never panic'ed. I've verified your PR #908 to work as well..","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/blevesearch/bleve/issues/comments/383326643/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"abhinavdangeti","id":1863456,"node_id":"MDQ6VXNlcjE4NjM0NTY=","avatar_url":"https://avatars.githubusercontent.com/u/1863456?v=4","gravatar_id":"","url":"https://api.github.com/users/abhinavdangeti","html_url":"https://github.com/abhinavdangeti","followers_url":"https://api.github.com/users/abhinavdangeti/followers","following_url":"https://api.github.com/users/abhinavdangeti/following{/other_user}","gists_url":"https://api.github.com/users/abhinavdangeti/gists{/gist_id}","starred_url":"https://api.github.com/users/abhinavdangeti/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abhinavdangeti/subscriptions","organizations_url":"https://api.github.com/users/abhinavdangeti/orgs","repos_url":"https://api.github.com/users/abhinavdangeti/repos","events_url":"https://api.github.com/users/abhinavdangeti/events{/privacy}","received_events_url":"https://api.github.com/users/abhinavdangeti/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1587595561,"node_id":"MDExOkNsb3NlZEV2ZW50MTU4NzU5NTU2MQ==","url":"https://api.github.com/repos/blevesearch/bleve/issues/events/1587595561","actor":{"login":"steveyen","id":30640,"node_id":"MDQ6VXNlcjMwNjQw","avatar_url":"https://avatars.githubusercontent.com/u/30640?v=4","gravatar_id":"","url":"https://api.github.com/users/steveyen","html_url":"https://github.com/steveyen","followers_url":"https://api.github.com/users/steveyen/followers","following_url":"https://api.github.com/users/steveyen/following{/other_user}","gists_url":"https://api.github.com/users/steveyen/gists{/gist_id}","starred_url":"https://api.github.com/users/steveyen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/steveyen/subscriptions","organizations_url":"https://api.github.com/users/steveyen/orgs","repos_url":"https://api.github.com/users/steveyen/repos","events_url":"https://api.github.com/users/steveyen/events{/privacy}","received_events_url":"https://api.github.com/users/steveyen/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"c623c57df87b51b47fb42f92470b10f4be555c52","commit_url":"https://api.github.com/repos/blevesearch/bleve/commits/c623c57df87b51b47fb42f92470b10f4be555c52","created_at":"2018-04-21T20:17:54Z","state_reason":null,"performed_via_github_app":null},{"id":1587595562,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDE1ODc1OTU1NjI=","url":"https://api.github.com/repos/blevesearch/bleve/issues/events/1587595562","actor":{"login":"steveyen","id":30640,"node_id":"MDQ6VXNlcjMwNjQw","avatar_url":"https://avatars.githubusercontent.com/u/30640?v=4","gravatar_id":"","url":"https://api.github.com/users/steveyen","html_url":"https://github.com/steveyen","followers_url":"https://api.github.com/users/steveyen/followers","following_url":"https://api.github.com/users/steveyen/following{/other_user}","gists_url":"https://api.github.com/users/steveyen/gists{/gist_id}","starred_url":"https://api.github.com/users/steveyen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/steveyen/subscriptions","organizations_url":"https://api.github.com/users/steveyen/orgs","repos_url":"https://api.github.com/users/steveyen/repos","events_url":"https://api.github.com/users/steveyen/events{/privacy}","received_events_url":"https://api.github.com/users/steveyen/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"7cec72e5cd587c09f6e87682cc4f74f1a0279e78","commit_url":"https://api.github.com/repos/blevesearch/bleve/commits/7cec72e5cd587c09f6e87682cc4f74f1a0279e78","created_at":"2018-04-21T20:17:54Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/blevesearch/bleve/issues/comments/383327109","html_url":"https://github.com/blevesearch/bleve/issues/906#issuecomment-383327109","issue_url":"https://api.github.com/repos/blevesearch/bleve/issues/906","id":383327109,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MzMyNzEwOQ==","user":{"login":"steveyen","id":30640,"node_id":"MDQ6VXNlcjMwNjQw","avatar_url":"https://avatars.githubusercontent.com/u/30640?v=4","gravatar_id":"","url":"https://api.github.com/users/steveyen","html_url":"https://github.com/steveyen","followers_url":"https://api.github.com/users/steveyen/followers","following_url":"https://api.github.com/users/steveyen/following{/other_user}","gists_url":"https://api.github.com/users/steveyen/gists{/gist_id}","starred_url":"https://api.github.com/users/steveyen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/steveyen/subscriptions","organizations_url":"https://api.github.com/users/steveyen/orgs","repos_url":"https://api.github.com/users/steveyen/repos","events_url":"https://api.github.com/users/steveyen/events{/privacy}","received_events_url":"https://api.github.com/users/steveyen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-21T20:23:10Z","updated_at":"2018-04-21T20:23:10Z","body":"> > > Hey @steveyen , I've already verified (a) to be true.\r\n\r\n> > Hi @abhinavdangeti -- double checking on that, can you provide a bit more detail on this #a situation?\r\n\r\n> That's exactly the same thing I did - placed a panic if a docnum less than the previous was encountered, and the process never panic'ed. I've verified your PR #908 to work as well..\r\n\r\ncool, thx.\r\n\r\n> But, there's a slight mystery... in that I don't think I have a 100% explanation of why my testing was running into empty docvalue chunks with @abhinavdangeti's docvalues-optimization commit, but didn't seemingly run into empty docvalue chunks before that commit.\r\n\r\nOne potential explanation that pops to mind (but, it's admittedly weak sauce), is that @abhinavdangeti's doc-values merging optimization allows merging to be faster, so the system is able to get more rounds of merging through during the test.  So, it's able to reach some merging situation that leads to a empty docvalues chunk, whereas the slower, old docvalues merging code never gets there (although it would have if given more incoming dirty data perhaps?)\r\n\r\n\r\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/blevesearch/bleve/issues/comments/383327109/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"steveyen","id":30640,"node_id":"MDQ6VXNlcjMwNjQw","avatar_url":"https://avatars.githubusercontent.com/u/30640?v=4","gravatar_id":"","url":"https://api.github.com/users/steveyen","html_url":"https://github.com/steveyen","followers_url":"https://api.github.com/users/steveyen/followers","following_url":"https://api.github.com/users/steveyen/following{/other_user}","gists_url":"https://api.github.com/users/steveyen/gists{/gist_id}","starred_url":"https://api.github.com/users/steveyen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/steveyen/subscriptions","organizations_url":"https://api.github.com/users/steveyen/orgs","repos_url":"https://api.github.com/users/steveyen/repos","events_url":"https://api.github.com/users/steveyen/events{/privacy}","received_events_url":"https://api.github.com/users/steveyen/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1587597036,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTU4NzU5NzAzNg==","url":"https://api.github.com/repos/blevesearch/bleve/issues/events/1587597036","actor":{"login":"steveyen","id":30640,"node_id":"MDQ6VXNlcjMwNjQw","avatar_url":"https://avatars.githubusercontent.com/u/30640?v=4","gravatar_id":"","url":"https://api.github.com/users/steveyen","html_url":"https://github.com/steveyen","followers_url":"https://api.github.com/users/steveyen/followers","following_url":"https://api.github.com/users/steveyen/following{/other_user}","gists_url":"https://api.github.com/users/steveyen/gists{/gist_id}","starred_url":"https://api.github.com/users/steveyen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/steveyen/subscriptions","organizations_url":"https://api.github.com/users/steveyen/orgs","repos_url":"https://api.github.com/users/steveyen/repos","events_url":"https://api.github.com/users/steveyen/events{/privacy}","received_events_url":"https://api.github.com/users/steveyen/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-04-21T20:23:10Z","performed_via_github_app":null},{"id":1587597037,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE1ODc1OTcwMzc=","url":"https://api.github.com/repos/blevesearch/bleve/issues/events/1587597037","actor":{"login":"steveyen","id":30640,"node_id":"MDQ6VXNlcjMwNjQw","avatar_url":"https://avatars.githubusercontent.com/u/30640?v=4","gravatar_id":"","url":"https://api.github.com/users/steveyen","html_url":"https://github.com/steveyen","followers_url":"https://api.github.com/users/steveyen/followers","following_url":"https://api.github.com/users/steveyen/following{/other_user}","gists_url":"https://api.github.com/users/steveyen/gists{/gist_id}","starred_url":"https://api.github.com/users/steveyen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/steveyen/subscriptions","organizations_url":"https://api.github.com/users/steveyen/orgs","repos_url":"https://api.github.com/users/steveyen/repos","events_url":"https://api.github.com/users/steveyen/events{/privacy}","received_events_url":"https://api.github.com/users/steveyen/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-04-21T20:23:10Z","performed_via_github_app":null},{"id":1587597038,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTU4NzU5NzAzOA==","url":"https://api.github.com/repos/blevesearch/bleve/issues/events/1587597038","actor":{"login":"abhinavdangeti","id":1863456,"node_id":"MDQ6VXNlcjE4NjM0NTY=","avatar_url":"https://avatars.githubusercontent.com/u/1863456?v=4","gravatar_id":"","url":"https://api.github.com/users/abhinavdangeti","html_url":"https://github.com/abhinavdangeti","followers_url":"https://api.github.com/users/abhinavdangeti/followers","following_url":"https://api.github.com/users/abhinavdangeti/following{/other_user}","gists_url":"https://api.github.com/users/abhinavdangeti/gists{/gist_id}","starred_url":"https://api.github.com/users/abhinavdangeti/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abhinavdangeti/subscriptions","organizations_url":"https://api.github.com/users/abhinavdangeti/orgs","repos_url":"https://api.github.com/users/abhinavdangeti/repos","events_url":"https://api.github.com/users/abhinavdangeti/events{/privacy}","received_events_url":"https://api.github.com/users/abhinavdangeti/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-04-21T20:23:10Z","performed_via_github_app":null},{"id":1587597039,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE1ODc1OTcwMzk=","url":"https://api.github.com/repos/blevesearch/bleve/issues/events/1587597039","actor":{"login":"abhinavdangeti","id":1863456,"node_id":"MDQ6VXNlcjE4NjM0NTY=","avatar_url":"https://avatars.githubusercontent.com/u/1863456?v=4","gravatar_id":"","url":"https://api.github.com/users/abhinavdangeti","html_url":"https://github.com/abhinavdangeti","followers_url":"https://api.github.com/users/abhinavdangeti/followers","following_url":"https://api.github.com/users/abhinavdangeti/following{/other_user}","gists_url":"https://api.github.com/users/abhinavdangeti/gists{/gist_id}","starred_url":"https://api.github.com/users/abhinavdangeti/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abhinavdangeti/subscriptions","organizations_url":"https://api.github.com/users/abhinavdangeti/orgs","repos_url":"https://api.github.com/users/abhinavdangeti/repos","events_url":"https://api.github.com/users/abhinavdangeti/events{/privacy}","received_events_url":"https://api.github.com/users/abhinavdangeti/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-04-21T20:23:10Z","performed_via_github_app":null}]