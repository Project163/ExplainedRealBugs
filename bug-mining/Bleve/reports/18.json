{"url":"https://api.github.com/repos/blevesearch/bleve/issues/14","repository_url":"https://api.github.com/repos/blevesearch/bleve","labels_url":"https://api.github.com/repos/blevesearch/bleve/issues/14/labels{/name}","comments_url":"https://api.github.com/repos/blevesearch/bleve/issues/14/comments","events_url":"https://api.github.com/repos/blevesearch/bleve/issues/14/events","html_url":"https://github.com/blevesearch/bleve/issues/14","id":38852947,"node_id":"MDU6SXNzdWUzODg1Mjk0Nw==","number":14,"title":"support for facet queries","user":{"login":"mschoch","id":298143,"node_id":"MDQ6VXNlcjI5ODE0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/298143?v=4","gravatar_id":"","url":"https://api.github.com/users/mschoch","html_url":"https://github.com/mschoch","followers_url":"https://api.github.com/users/mschoch/followers","following_url":"https://api.github.com/users/mschoch/following{/other_user}","gists_url":"https://api.github.com/users/mschoch/gists{/gist_id}","starred_url":"https://api.github.com/users/mschoch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mschoch/subscriptions","organizations_url":"https://api.github.com/users/mschoch/orgs","repos_url":"https://api.github.com/users/mschoch/repos","events_url":"https://api.github.com/users/mschoch/events{/privacy}","received_events_url":"https://api.github.com/users/mschoch/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":93294326,"node_id":"MDU6TGFiZWw5MzI5NDMyNg==","url":"https://api.github.com/repos/blevesearch/bleve/labels/enhancement","name":"enhancement","color":"84b6eb","default":true,"description":null},{"id":118295573,"node_id":"MDU6TGFiZWwxMTgyOTU1NzM=","url":"https://api.github.com/repos/blevesearch/bleve/labels/query","name":"query","color":"bfe5bf","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2014-07-27T23:09:03Z","updated_at":"2014-08-11T15:03:58Z","closed_at":"2014-08-11T15:03:58Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Initial implementation should just operate at query time.\n\nIf we swap the field and term order in the index key we can support faceting at query time.  For every document satisfying the original query, we can look up the document in the back index, and find entries for the field that is being faceted.  Seems like we don't even have to load that key, just be able to parse the field id and terms.  For categorical facets the terms are bucketed and counted.  For numerical range facets the parsed terms are bucketed and counted.  The top-N facets are then returned with the query results.\n","closed_by":{"login":"mschoch","id":298143,"node_id":"MDQ6VXNlcjI5ODE0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/298143?v=4","gravatar_id":"","url":"https://api.github.com/users/mschoch","html_url":"https://github.com/mschoch","followers_url":"https://api.github.com/users/mschoch/followers","following_url":"https://api.github.com/users/mschoch/following{/other_user}","gists_url":"https://api.github.com/users/mschoch/gists{/gist_id}","starred_url":"https://api.github.com/users/mschoch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mschoch/subscriptions","organizations_url":"https://api.github.com/users/mschoch/orgs","repos_url":"https://api.github.com/users/mschoch/repos","events_url":"https://api.github.com/users/mschoch/events{/privacy}","received_events_url":"https://api.github.com/users/mschoch/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/blevesearch/bleve/issues/14/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/blevesearch/bleve/issues/14/timeline","performed_via_github_app":null,"state_reason":"completed"}