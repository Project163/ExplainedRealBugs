{"url":"https://api.github.com/repos/blevesearch/bleve/issues/1464","repository_url":"https://api.github.com/repos/blevesearch/bleve","labels_url":"https://api.github.com/repos/blevesearch/bleve/issues/1464/labels{/name}","comments_url":"https://api.github.com/repos/blevesearch/bleve/issues/1464/comments","events_url":"https://api.github.com/repos/blevesearch/bleve/issues/1464/events","html_url":"https://github.com/blevesearch/bleve/issues/1464","id":697873313,"node_id":"MDU6SXNzdWU2OTc4NzMzMTM=","number":1464,"title":"HTML highlighter should escape its input","user":{"login":"tuomassalo","id":189964,"node_id":"MDQ6VXNlcjE4OTk2NA==","avatar_url":"https://avatars.githubusercontent.com/u/189964?v=4","gravatar_id":"","url":"https://api.github.com/users/tuomassalo","html_url":"https://github.com/tuomassalo","followers_url":"https://api.github.com/users/tuomassalo/followers","following_url":"https://api.github.com/users/tuomassalo/following{/other_user}","gists_url":"https://api.github.com/users/tuomassalo/gists{/gist_id}","starred_url":"https://api.github.com/users/tuomassalo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tuomassalo/subscriptions","organizations_url":"https://api.github.com/users/tuomassalo/orgs","repos_url":"https://api.github.com/users/tuomassalo/repos","events_url":"https://api.github.com/users/tuomassalo/events{/privacy}","received_events_url":"https://api.github.com/users/tuomassalo/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/blevesearch/bleve/milestones/5","html_url":"https://github.com/blevesearch/bleve/milestone/5","labels_url":"https://api.github.com/repos/blevesearch/bleve/milestones/5/labels","id":5934559,"node_id":"MDk6TWlsZXN0b25lNTkzNDU1OQ==","number":5,"title":"v1.0.11","description":"Release planning for v1.0.11","creator":{"login":"mschoch","id":298143,"node_id":"MDQ6VXNlcjI5ODE0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/298143?v=4","gravatar_id":"","url":"https://api.github.com/users/mschoch","html_url":"https://github.com/mschoch","followers_url":"https://api.github.com/users/mschoch/followers","following_url":"https://api.github.com/users/mschoch/following{/other_user}","gists_url":"https://api.github.com/users/mschoch/gists{/gist_id}","starred_url":"https://api.github.com/users/mschoch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mschoch/subscriptions","organizations_url":"https://api.github.com/users/mschoch/orgs","repos_url":"https://api.github.com/users/mschoch/repos","events_url":"https://api.github.com/users/mschoch/events{/privacy}","received_events_url":"https://api.github.com/users/mschoch/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":9,"state":"closed","created_at":"2020-09-30T13:41:42Z","updated_at":"2020-10-06T21:23:06Z","due_on":null,"closed_at":"2020-10-06T21:23:06Z"},"comments":2,"created_at":"2020-09-10T12:18:55Z","updated_at":"2020-10-06T18:44:02Z","closed_at":"2020-10-06T18:44:01Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Hi!\r\n\r\nI'm trying out HTML highlighter. I believe the highlighter takes plain text as input and outputs HTML text. Thus, it should treat its input as plain text and properly escape it when adding `<mark>` tags.\r\n\r\nLet's say I have three documents:\r\n\r\n    id: \"doc1\", text: \"Lorem ipsum dolor sit amet\"\r\n    id: \"doc2\", text: \"Thelma & Louise\"\r\n    id: \"doc3\", text: \"I <3 Blancmange\"\r\n    id: \"doc4\", text: \"The <script> tag is potentially dangerous\"\r\n\r\nIf I search for `Lorem`, I get a nice HTML fragment `<mark>Lorem</mark> ipsum dolor sit amet`.\r\n\r\nHowever, if I search for `Thelma`, I get `<mark>Thelma & Louise</mark>`. I would expect to get `<mark>Thelma &amp; Louise</mark>`.\r\n\r\nSearching for `tag` would result in e.g. `The <script> <mark>tag</mark> is potentially dangerous`, which wound hide the rest of the HTML page after \"The\".\r\n\r\nAm I possibly missing something, or should the highlighter do the escaping?","closed_by":{"login":"abhinavdangeti","id":1863456,"node_id":"MDQ6VXNlcjE4NjM0NTY=","avatar_url":"https://avatars.githubusercontent.com/u/1863456?v=4","gravatar_id":"","url":"https://api.github.com/users/abhinavdangeti","html_url":"https://github.com/abhinavdangeti","followers_url":"https://api.github.com/users/abhinavdangeti/followers","following_url":"https://api.github.com/users/abhinavdangeti/following{/other_user}","gists_url":"https://api.github.com/users/abhinavdangeti/gists{/gist_id}","starred_url":"https://api.github.com/users/abhinavdangeti/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abhinavdangeti/subscriptions","organizations_url":"https://api.github.com/users/abhinavdangeti/orgs","repos_url":"https://api.github.com/users/abhinavdangeti/repos","events_url":"https://api.github.com/users/abhinavdangeti/events{/privacy}","received_events_url":"https://api.github.com/users/abhinavdangeti/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/blevesearch/bleve/issues/1464/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/blevesearch/bleve/issues/1464/timeline","performed_via_github_app":null,"state_reason":"completed"}