{"url":"https://api.github.com/repos/blevesearch/bleve/issues/208","repository_url":"https://api.github.com/repos/blevesearch/bleve","labels_url":"https://api.github.com/repos/blevesearch/bleve/issues/208/labels{/name}","comments_url":"https://api.github.com/repos/blevesearch/bleve/issues/208/comments","events_url":"https://api.github.com/repos/blevesearch/bleve/issues/208/events","html_url":"https://github.com/blevesearch/bleve/issues/208","id":78975383,"node_id":"MDU6SXNzdWU3ODk3NTM4Mw==","number":208,"title":"boltdb deadlock in TestReaderIsolation","user":{"login":"mschoch","id":298143,"node_id":"MDQ6VXNlcjI5ODE0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/298143?v=4","gravatar_id":"","url":"https://api.github.com/users/mschoch","html_url":"https://github.com/mschoch","followers_url":"https://api.github.com/users/mschoch/followers","following_url":"https://api.github.com/users/mschoch/following{/other_user}","gists_url":"https://api.github.com/users/mschoch/gists{/gist_id}","starred_url":"https://api.github.com/users/mschoch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mschoch/subscriptions","organizations_url":"https://api.github.com/users/mschoch/orgs","repos_url":"https://api.github.com/users/mschoch/repos","events_url":"https://api.github.com/users/mschoch/events{/privacy}","received_events_url":"https://api.github.com/users/mschoch/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":93294324,"node_id":"MDU6TGFiZWw5MzI5NDMyNA==","url":"https://api.github.com/repos/blevesearch/bleve/labels/bug","name":"bug","color":"fc2929","default":true,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2015-05-21T12:34:38Z","updated_at":"2015-05-21T15:57:08Z","closed_at":"2015-05-21T15:57:08Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"First showed up in automated testing:\n\n```\n=== RUN TestReaderIsolation\nfatal error: all goroutines are asleep - deadlock!\ngoroutine 1 [chan receive]:\ntesting.RunTests(0x61f708, 0x6ae9a0, 0x2, 0x2, 0x3f1fa720f4787601)\n    /usr/local/go/src/testing/testing.go:556 +0xad6\ntesting.(*M).Run(0xc2080380f0, 0x6bacc0)\n    /usr/local/go/src/testing/testing.go:485 +0x6c\nmain.main()\n    github.com/blevesearch/bleve/index/store/boltdb/_test/_testmain.go:54 +0x1d5\ngoroutine 6 [semacquire]:\nsync.(*RWMutex).Lock(0xc208040490)\n    /usr/local/go/src/sync/rwmutex.go:87 +0xa4\ngithub.com/boltdb/bolt.(*DB).mmap(0xc208040340, 0x8000, 0x0, 0x0)\n    /home/travis/gopath/src/github.com/boltdb/bolt/db.go:210 +0x5e\ngithub.com/boltdb/bolt.(*DB).allocate(0xc208040340, 0x1, 0xc208012230, 0x0, 0x0)\n    /home/travis/gopath/src/github.com/boltdb/bolt/db.go:635 +0x155\ngithub.com/boltdb/bolt.(*Tx).allocate(0xc208020340, 0x1, 0x7f3cb246a000, 0x0, 0x0)\n    /home/travis/gopath/src/github.com/boltdb/bolt/tx.go:399 +0x48\ngithub.com/boltdb/bolt.(*node).spill(0xc208012230, 0x0, 0x0)\n    /home/travis/gopath/src/github.com/boltdb/bolt/node.go:363 +0x2d2\ngithub.com/boltdb/bolt.(*Bucket).spill(0xc208020358, 0x0, 0x0)\n    /home/travis/gopath/src/github.com/boltdb/bolt/bucket.go:536 +0x1c4\ngithub.com/boltdb/bolt.(*Tx).Commit(0xc208020340, 0x0, 0x0)\n    /home/travis/gopath/src/github.com/boltdb/bolt/tx.go:151 +0x1ee\ngithub.com/blevesearch/bleve/index/store/boltdb.(*Writer).Close(0xc20800a360, 0x0, 0x0)\n    /home/travis/gopath/src/github.com/blevesearch/bleve/index/store/boltdb/writer.go:37 +0x5b\ngithub.com/blevesearch/bleve/index/store/boltdb.CommonTestReaderIsolation(0xc2080621b0, 0x7f3cb25fbf18, 0xc2080365c0)\n    /home/travis/gopath/src/github.com/blevesearch/bleve/index/store/boltdb/store_test.go:205 +0xe03\ngithub.com/blevesearch/bleve/index/store/boltdb.TestReaderIsolation(0xc2080621b0)\n    /home/travis/gopath/src/github.com/blevesearch/bleve/index/store/boltdb/store_test.go:49 +0x264\ntesting.tRunner(0xc2080621b0, 0x6ae9b8)\n    /usr/local/go/src/testing/testing.go:447 +0xbf\ncreated by testing.RunTests\n    /usr/local/go/src/testing/testing.go:555 +0xa8b\nFAIL    github.com/blevesearch/bleve/index/store/boltdb 0.435s\n```\n","closed_by":{"login":"mschoch","id":298143,"node_id":"MDQ6VXNlcjI5ODE0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/298143?v=4","gravatar_id":"","url":"https://api.github.com/users/mschoch","html_url":"https://github.com/mschoch","followers_url":"https://api.github.com/users/mschoch/followers","following_url":"https://api.github.com/users/mschoch/following{/other_user}","gists_url":"https://api.github.com/users/mschoch/gists{/gist_id}","starred_url":"https://api.github.com/users/mschoch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mschoch/subscriptions","organizations_url":"https://api.github.com/users/mschoch/orgs","repos_url":"https://api.github.com/users/mschoch/repos","events_url":"https://api.github.com/users/mschoch/events{/privacy}","received_events_url":"https://api.github.com/users/mschoch/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/blevesearch/bleve/issues/208/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/blevesearch/bleve/issues/208/timeline","performed_via_github_app":null,"state_reason":"completed"}