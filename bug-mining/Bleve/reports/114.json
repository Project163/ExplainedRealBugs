{"url":"https://api.github.com/repos/blevesearch/bleve/issues/416","repository_url":"https://api.github.com/repos/blevesearch/bleve","labels_url":"https://api.github.com/repos/blevesearch/bleve/issues/416/labels{/name}","comments_url":"https://api.github.com/repos/blevesearch/bleve/issues/416/comments","events_url":"https://api.github.com/repos/blevesearch/bleve/issues/416/events","html_url":"https://github.com/blevesearch/bleve/issues/416","id":175247497,"node_id":"MDU6SXNzdWUxNzUyNDc0OTc=","number":416,"title":"panic in collector_heap","user":{"login":"dtylman","id":5237465,"node_id":"MDQ6VXNlcjUyMzc0NjU=","avatar_url":"https://avatars.githubusercontent.com/u/5237465?v=4","gravatar_id":"","url":"https://api.github.com/users/dtylman","html_url":"https://github.com/dtylman","followers_url":"https://api.github.com/users/dtylman/followers","following_url":"https://api.github.com/users/dtylman/following{/other_user}","gists_url":"https://api.github.com/users/dtylman/gists{/gist_id}","starred_url":"https://api.github.com/users/dtylman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dtylman/subscriptions","organizations_url":"https://api.github.com/users/dtylman/orgs","repos_url":"https://api.github.com/users/dtylman/repos","events_url":"https://api.github.com/users/dtylman/events{/privacy}","received_events_url":"https://api.github.com/users/dtylman/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2016-09-06T13:31:00Z","updated_at":"2016-09-12T00:26:24Z","closed_at":"2016-09-12T00:26:24Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"in `Results`, need to check that `size>=0`...\n\n``` go\nfunc (hc *HeapCollector) Results() search.DocumentMatchCollection {\n    count := hc.Len()\n    size := count - hc.skip\n    rv := make(search.DocumentMatchCollection, size)\n```\n\n```\npanic: runtime error: makeslice: len out of range [recovered]\n    panic: runtime error: makeslice: len out of range\n\ngoroutine 9 [running]:\npanic(0x5003a0, 0xc4201b2000)\n    /usr/local/go/src/runtime/panic.go:500 +0x1a1\ntesting.tRunner.func1(0xc420090300)\n    /usr/local/go/src/testing/testing.go:579 +0x25d\npanic(0x5003a0, 0xc4201b2000)\n    /usr/local/go/src/runtime/panic.go:458 +0x243\ngithub.com/blevesearch/bleve/search/collectors.(*HeapCollector).Results(0xc42042f880, 0xe154b8, 0xc420012518, 0x7f1ce0)\n    /Users/danny/src/go/src/github.com/blevesearch/bleve/search/collectors/collector_heap.go:112 +0x58\ngithub.com/blevesearch/bleve.(*indexImpl).SearchInContext(0xc420298930, 0xe154b8, 0xc420012518, 0xc42042f490, 0x0, 0x0, 0x0)\n    /Users/danny/src/go/src/github.com/blevesearch/bleve/index_impl.go:443 +0x32a\ngithub.com/blevesearch/bleve.(*indexImpl).Search(0xc420298930, 0xc42042f490, 0xe, 0x0, 0x0)\n    /Users/danny/src/go/src/github.com/blevesearch/bleve/index_impl.go:372 +0x75\n```\n","closed_by":{"login":"mschoch","id":298143,"node_id":"MDQ6VXNlcjI5ODE0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/298143?v=4","gravatar_id":"","url":"https://api.github.com/users/mschoch","html_url":"https://github.com/mschoch","followers_url":"https://api.github.com/users/mschoch/followers","following_url":"https://api.github.com/users/mschoch/following{/other_user}","gists_url":"https://api.github.com/users/mschoch/gists{/gist_id}","starred_url":"https://api.github.com/users/mschoch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mschoch/subscriptions","organizations_url":"https://api.github.com/users/mschoch/orgs","repos_url":"https://api.github.com/users/mschoch/repos","events_url":"https://api.github.com/users/mschoch/events{/privacy}","received_events_url":"https://api.github.com/users/mschoch/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/blevesearch/bleve/issues/416/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/blevesearch/bleve/issues/416/timeline","performed_via_github_app":null,"state_reason":"completed"}