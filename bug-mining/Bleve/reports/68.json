{"url":"https://api.github.com/repos/blevesearch/bleve/issues/194","repository_url":"https://api.github.com/repos/blevesearch/bleve","labels_url":"https://api.github.com/repos/blevesearch/bleve/issues/194/labels{/name}","comments_url":"https://api.github.com/repos/blevesearch/bleve/issues/194/comments","events_url":"https://api.github.com/repos/blevesearch/bleve/issues/194/events","html_url":"https://github.com/blevesearch/bleve/issues/194","id":70733690,"node_id":"MDU6SXNzdWU3MDczMzY5MA==","number":194,"title":"Possible memory leak in index/store/forestdb/iterator.go","user":{"login":"tleyden","id":296876,"node_id":"MDQ6VXNlcjI5Njg3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/296876?v=4","gravatar_id":"","url":"https://api.github.com/users/tleyden","html_url":"https://github.com/tleyden","followers_url":"https://api.github.com/users/tleyden/followers","following_url":"https://api.github.com/users/tleyden/following{/other_user}","gists_url":"https://api.github.com/users/tleyden/gists{/gist_id}","starred_url":"https://api.github.com/users/tleyden/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tleyden/subscriptions","organizations_url":"https://api.github.com/users/tleyden/orgs","repos_url":"https://api.github.com/users/tleyden/repos","events_url":"https://api.github.com/users/tleyden/events{/privacy}","received_events_url":"https://api.github.com/users/tleyden/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":93294324,"node_id":"MDU6TGFiZWw5MzI5NDMyNA==","url":"https://api.github.com/repos/blevesearch/bleve/labels/bug","name":"bug","color":"fc2929","default":true,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2015-04-24T16:30:19Z","updated_at":"2015-04-24T22:44:49Z","closed_at":"2015-04-24T21:48:49Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I've recently discovered that if a doc returned from calling iterator.Get() is not explicitly closed, it can result in memory leak -- see [google groups thread](https://groups.google.com/d/msg/forestdb/k8jcxvH5mOM/N_ORp2AsFrQJ)\n\nReading over the code in index/store/forestdb/iterator.go, it's not obvious to me that this resource leak is avoided, since there is never an explicit call to doc.Close().  From my observations, even if the reference to the Go wrapper doc is GC'd, the underlying cgo memory won't be released.\n\nI haven't observed any bugs while using bleve, this was just from reading index/store/forestdb/iterator.go, so there's a good chance it's not really a bug.  \n","closed_by":{"login":"mschoch","id":298143,"node_id":"MDQ6VXNlcjI5ODE0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/298143?v=4","gravatar_id":"","url":"https://api.github.com/users/mschoch","html_url":"https://github.com/mschoch","followers_url":"https://api.github.com/users/mschoch/followers","following_url":"https://api.github.com/users/mschoch/following{/other_user}","gists_url":"https://api.github.com/users/mschoch/gists{/gist_id}","starred_url":"https://api.github.com/users/mschoch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mschoch/subscriptions","organizations_url":"https://api.github.com/users/mschoch/orgs","repos_url":"https://api.github.com/users/mschoch/repos","events_url":"https://api.github.com/users/mschoch/events{/privacy}","received_events_url":"https://api.github.com/users/mschoch/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/blevesearch/bleve/issues/194/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/blevesearch/bleve/issues/194/timeline","performed_via_github_app":null,"state_reason":"completed"}