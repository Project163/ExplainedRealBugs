diff --git a/mqtt-common/src/main/java/org/apache/rocketmq/mqtt/common/model/Constants.java b/mqtt-common/src/main/java/org/apache/rocketmq/mqtt/common/model/Constants.java
index c7e638b..f55afbb 100644
--- a/mqtt-common/src/main/java/org/apache/rocketmq/mqtt/common/model/Constants.java
+++ b/mqtt-common/src/main/java/org/apache/rocketmq/mqtt/common/model/Constants.java
@@ -21,8 +21,8 @@ public class Constants {
     public static final String NAMESPACE_SPLITER = "%";
     public static final String MQTT_TOPIC_DELIMITER = "/";
 
-    public static final String ADDFLAG = "+";
-    public static final String JINFLAG = "#";
+    public static final String PLUS_SIGN = "+";
+    public static final String NUMBER_SIGN = "#";
 
     public static final String P2P = "/p2p/";
     public static final String RETRY = "/retry/";
diff --git a/mqtt-common/src/main/java/org/apache/rocketmq/mqtt/common/model/Subscription.java b/mqtt-common/src/main/java/org/apache/rocketmq/mqtt/common/model/Subscription.java
index 94b6a6c..18fb317 100644
--- a/mqtt-common/src/main/java/org/apache/rocketmq/mqtt/common/model/Subscription.java
+++ b/mqtt-common/src/main/java/org/apache/rocketmq/mqtt/common/model/Subscription.java
@@ -38,7 +38,7 @@ public class Subscription {
 
     public boolean isWildCard() {
         return topicFilter != null &&
-                (topicFilter.contains(Constants.JINFLAG) || topicFilter.contains(Constants.ADDFLAG));
+                (topicFilter.contains(Constants.NUMBER_SIGN) || topicFilter.contains(Constants.PLUS_SIGN));
     }
 
     public String toFirstTopic() {
diff --git a/mqtt-common/src/main/java/org/apache/rocketmq/mqtt/common/model/Trie.java b/mqtt-common/src/main/java/org/apache/rocketmq/mqtt/common/model/Trie.java
index 7333a91..675d04b 100644
--- a/mqtt-common/src/main/java/org/apache/rocketmq/mqtt/common/model/Trie.java
+++ b/mqtt-common/src/main/java/org/apache/rocketmq/mqtt/common/model/Trie.java
@@ -148,27 +148,27 @@ public class Trie<K, V> {
                 builder.delete(start, builder.length());
             }
             //match the #
-            TrieNode jinMatch = currentNode.children.get(Constants.JINFLAG);
+            TrieNode jinMatch = currentNode.children.get(Constants.NUMBER_SIGN);
             if (jinMatch != null) {
                 int start = builder.length();
-                builder.append(Constants.JINFLAG).append(Constants.MQTT_TOPIC_DELIMITER);
+                builder.append(Constants.NUMBER_SIGN).append(Constants.MQTT_TOPIC_DELIMITER);
                 result.addAll(findValuePath(jinMatch, topicArray, level + 1, maxLevel, builder, true));
                 builder.delete(start, builder.length());
             }
             //match the +
-            TrieNode jiaMatch = currentNode.children.get(Constants.ADDFLAG);
+            TrieNode jiaMatch = currentNode.children.get(Constants.PLUS_SIGN);
             if (jiaMatch != null) {
                 int start = builder.length();
-                builder.append(Constants.ADDFLAG).append(Constants.MQTT_TOPIC_DELIMITER);
+                builder.append(Constants.PLUS_SIGN).append(Constants.MQTT_TOPIC_DELIMITER);
                 result.addAll(findValuePath(jiaMatch, topicArray, level + 1, maxLevel, builder, false));
                 builder.delete(start, builder.length());
             }
         } else {
             //match the #
-            TrieNode jinMatch = currentNode.children.get(Constants.JINFLAG);
+            TrieNode jinMatch = currentNode.children.get(Constants.NUMBER_SIGN);
             if (jinMatch != null) {
                 int start = builder.length();
-                builder.append(Constants.JINFLAG).append(Constants.MQTT_TOPIC_DELIMITER);
+                builder.append(Constants.NUMBER_SIGN).append(Constants.MQTT_TOPIC_DELIMITER);
                 result.addAll(findValuePath(jinMatch, topicArray, level + 1, maxLevel, builder, true));
                 builder.delete(start, builder.length());
             }
@@ -207,19 +207,19 @@ public class Trie<K, V> {
                 result.putAll(findValueSet(trieNode, topicArray, level + 1, maxLevel, false));
             }
             //match the #
-            TrieNode jinMatch = currentNode.children.get(Constants.JINFLAG);
+            TrieNode jinMatch = currentNode.children.get(Constants.NUMBER_SIGN);
             if (jinMatch != null) {
                 result.putAll(findValueSet(jinMatch, topicArray, level + 1, maxLevel, true));
             }
             //match the +
-            TrieNode jiaMatch = currentNode.children.get(Constants.ADDFLAG);
+            TrieNode jiaMatch = currentNode.children.get(Constants.PLUS_SIGN);
             if (jiaMatch != null) {
                 result.putAll(findValueSet(jiaMatch, topicArray, level + 1, maxLevel, false));
             }
             return result;
         } else {
             //match the #
-            TrieNode jinMatch = currentNode.children.get(Constants.JINFLAG);
+            TrieNode jinMatch = currentNode.children.get(Constants.NUMBER_SIGN);
             if (jinMatch != null) {
                 result.putAll(findValueSet(jinMatch, topicArray, level + 1, maxLevel, true));
             }
diff --git a/mqtt-common/src/main/java/org/apache/rocketmq/mqtt/common/util/TopicUtils.java b/mqtt-common/src/main/java/org/apache/rocketmq/mqtt/common/util/TopicUtils.java
index 8a618b5..91cb875 100644
--- a/mqtt-common/src/main/java/org/apache/rocketmq/mqtt/common/util/TopicUtils.java
+++ b/mqtt-common/src/main/java/org/apache/rocketmq/mqtt/common/util/TopicUtils.java
@@ -130,7 +130,7 @@ public class TopicUtils {
 
     public static boolean isWildCard(String topicFilter) {
         return topicFilter != null &&
-                (topicFilter.contains(Constants.JINFLAG) || topicFilter.contains(Constants.ADDFLAG));
+                (topicFilter.contains(Constants.NUMBER_SIGN) || topicFilter.contains(Constants.PLUS_SIGN));
     }
 
     public static boolean isMatch(String topic, String topicFilter) {
@@ -150,20 +150,21 @@ public class TopicUtils {
         for (int i = 0; i < minTopicLength; i++) {
             String sourceTopic = subscribeTopics[i];
 
-            if (!Constants.JINFLAG.equals(sourceTopic) &&
-                    !Constants.ADDFLAG.equals(sourceTopic)) {
+            if (!isWildCard(sourceTopic)) {
                 if (!sourceTopic.equals(messageTopics[i])) {
                     return false;
                 }
             }
             // multi level
-            if (Constants.JINFLAG.equals(sourceTopic)) {
-                return true;
+            // [MQTT-4.7.1-2] In either case '#' MUST be the last character specified in the Topic Filter
+            // and "t/t1#" is invalid
+            if (Constants.NUMBER_SIGN.equals(sourceTopic)) {
+                return i == sourceTopicLength - 1;
             }
             boolean last = i == minTopicLength - 1 &&
                     (sourceTopicLength == targetTopicLength ||
                             (sourceTopicLength == targetTopicLength + 1 &&
-                                    Constants.JINFLAG.equals(subscribeTopics[sourceTopicLength - 1])
+                                    Constants.NUMBER_SIGN.equals(subscribeTopics[sourceTopicLength - 1])
                             )
                     );
             if (last) {
@@ -184,10 +185,4 @@ public class TopicUtils {
     public static String wrapP2pLmq(String clientId) {
         return normalizeTopic(Constants.P2P + clientId);
     }
-
-    public static void main(String[] args) {
-        String topic = "/t/t1/t2";
-        String topicFilter = "/t/t1/t2";
-        System.out.println(TopicUtils.isMatch(topic, topicFilter));
-    }
 }
diff --git a/mqtt-common/src/test/java/org/apache/rocketmq/mqtt/common/test/TestTopicUtils.java b/mqtt-common/src/test/java/org/apache/rocketmq/mqtt/common/test/TestTopicUtils.java
new file mode 100644
index 0000000..c30906f
--- /dev/null
+++ b/mqtt-common/src/test/java/org/apache/rocketmq/mqtt/common/test/TestTopicUtils.java
@@ -0,0 +1,60 @@
+/*
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements.  See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache License, Version 2.0
+ * (the "License"); you may not use this file except in compliance with
+ * the License.  You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package org.apache.rocketmq.mqtt.common.test;
+
+import org.apache.commons.collections.CollectionUtils;
+import org.apache.rocketmq.mqtt.common.model.Trie;
+import org.apache.rocketmq.mqtt.common.util.TopicUtils;
+import org.junit.Assert;
+import org.junit.Test;
+
+public class TestTopicUtils {
+
+  @Test
+  public void testTopicMatch() {
+    String topic = "t/t1/t2/";
+    String topicFilter = "t/t1/t2/";
+    Assert.assertTrue(TopicUtils.isMatch(topic, topicFilter));
+
+    topicFilter = "t/#/";
+    Assert.assertTrue(TopicUtils.isMatch(topic, topicFilter));
+
+    topicFilter = "t/t1/+/";
+    Assert.assertTrue(TopicUtils.isMatch(topic, topicFilter));
+
+    topicFilter = "t/+/#/";
+    Assert.assertTrue(TopicUtils.isMatch(topic, topicFilter));
+
+    topicFilter = "t/#/t2/";
+    Assert.assertFalse(TopicUtils.isMatch(topic, topicFilter));
+
+    topicFilter = "t/#/+/";
+    Assert.assertFalse(TopicUtils.isMatch(topic, topicFilter));
+
+    topicFilter = "t/t1/t2/t3/";
+    Assert.assertFalse(TopicUtils.isMatch(topic, topicFilter));
+
+    topicFilter = "t/t1/#/t3/";
+    Assert.assertFalse(TopicUtils.isMatch(topic, topicFilter));
+
+    topicFilter = "t/t1#/";
+    Assert.assertFalse(TopicUtils.isMatch(topic, topicFilter));
+
+
+  }
+}
