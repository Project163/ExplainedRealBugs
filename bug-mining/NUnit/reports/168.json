{"url":"https://api.github.com/repos/nunit/nunit/issues/3038","repository_url":"https://api.github.com/repos/nunit/nunit","labels_url":"https://api.github.com/repos/nunit/nunit/issues/3038/labels{/name}","comments_url":"https://api.github.com/repos/nunit/nunit/issues/3038/comments","events_url":"https://api.github.com/repos/nunit/nunit/issues/3038/events","html_url":"https://github.com/nunit/nunit/issues/3038","id":365864259,"node_id":"MDU6SXNzdWUzNjU4NjQyNTk=","number":3038,"title":"TestName in TestCase attribute not validated to be not empty","user":{"login":"sbakharev","id":31010533,"node_id":"MDQ6VXNlcjMxMDEwNTMz","avatar_url":"https://avatars.githubusercontent.com/u/31010533?v=4","gravatar_id":"","url":"https://api.github.com/users/sbakharev","html_url":"https://github.com/sbakharev","followers_url":"https://api.github.com/users/sbakharev/followers","following_url":"https://api.github.com/users/sbakharev/following{/other_user}","gists_url":"https://api.github.com/users/sbakharev/gists{/gist_id}","starred_url":"https://api.github.com/users/sbakharev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sbakharev/subscriptions","organizations_url":"https://api.github.com/users/sbakharev/orgs","repos_url":"https://api.github.com/users/sbakharev/repos","events_url":"https://api.github.com/users/sbakharev/events{/privacy}","received_events_url":"https://api.github.com/users/sbakharev/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":61608516,"node_id":"MDU6TGFiZWw2MTYwODUxNg==","url":"https://api.github.com/repos/nunit/nunit/labels/is:enhancement","name":"is:enhancement","color":"84b6eb","default":false,"description":null},{"id":61616795,"node_id":"MDU6TGFiZWw2MTYxNjc5NQ==","url":"https://api.github.com/repos/nunit/nunit/labels/closed:done","name":"closed:done","color":"0e8a16","default":false,"description":null},{"id":61616865,"node_id":"MDU6TGFiZWw2MTYxNjg2NQ==","url":"https://api.github.com/repos/nunit/nunit/labels/pri:normal","name":"pri:normal","color":"fbca04","default":false,"description":null}],"state":"closed","locked":false,"assignee":{"login":"mikkelbu","id":1007631,"node_id":"MDQ6VXNlcjEwMDc2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/1007631?v=4","gravatar_id":"","url":"https://api.github.com/users/mikkelbu","html_url":"https://github.com/mikkelbu","followers_url":"https://api.github.com/users/mikkelbu/followers","following_url":"https://api.github.com/users/mikkelbu/following{/other_user}","gists_url":"https://api.github.com/users/mikkelbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mikkelbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikkelbu/subscriptions","organizations_url":"https://api.github.com/users/mikkelbu/orgs","repos_url":"https://api.github.com/users/mikkelbu/repos","events_url":"https://api.github.com/users/mikkelbu/events{/privacy}","received_events_url":"https://api.github.com/users/mikkelbu/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"mikkelbu","id":1007631,"node_id":"MDQ6VXNlcjEwMDc2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/1007631?v=4","gravatar_id":"","url":"https://api.github.com/users/mikkelbu","html_url":"https://github.com/mikkelbu","followers_url":"https://api.github.com/users/mikkelbu/followers","following_url":"https://api.github.com/users/mikkelbu/following{/other_user}","gists_url":"https://api.github.com/users/mikkelbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mikkelbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikkelbu/subscriptions","organizations_url":"https://api.github.com/users/mikkelbu/orgs","repos_url":"https://api.github.com/users/mikkelbu/repos","events_url":"https://api.github.com/users/mikkelbu/events{/privacy}","received_events_url":"https://api.github.com/users/mikkelbu/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/nunit/nunit/milestones/36","html_url":"https://github.com/nunit/nunit/milestone/36","labels_url":"https://api.github.com/repos/nunit/nunit/milestones/36/labels","id":3575046,"node_id":"MDk6TWlsZXN0b25lMzU3NTA0Ng==","number":36,"title":"3.12","description":"","creator":{"login":"rprouse","id":493828,"node_id":"MDQ6VXNlcjQ5MzgyOA==","avatar_url":"https://avatars.githubusercontent.com/u/493828?v=4","gravatar_id":"","url":"https://api.github.com/users/rprouse","html_url":"https://github.com/rprouse","followers_url":"https://api.github.com/users/rprouse/followers","following_url":"https://api.github.com/users/rprouse/following{/other_user}","gists_url":"https://api.github.com/users/rprouse/gists{/gist_id}","starred_url":"https://api.github.com/users/rprouse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rprouse/subscriptions","organizations_url":"https://api.github.com/users/rprouse/orgs","repos_url":"https://api.github.com/users/rprouse/repos","events_url":"https://api.github.com/users/rprouse/events{/privacy}","received_events_url":"https://api.github.com/users/rprouse/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":59,"state":"closed","created_at":"2018-08-16T02:00:25Z","updated_at":"2019-06-10T21:34:01Z","due_on":"2019-01-25T08:00:00Z","closed_at":"2019-05-15T01:14:44Z"},"comments":7,"created_at":"2018-10-02T12:00:21Z","updated_at":"2018-12-31T07:48:49Z","closed_at":"2018-12-30T22:26:41Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Hi everyone! Thank you for NUnit!\r\n\r\nUsing NUnit 3.10.1\r\n\r\nThe usage of NUnit in our project in rather advanced. We use many publicly available features as well as some undocumented ones ;)\r\n\r\nAnd we have a homebrew integration of NUnit and ReportPortal (by EPAM) which attaches itself to NUnit engine like a parasite, for the information about currently running tests to be transfered to RP in real time (not after the test run is completed) even when running tests in debug mode from VS. We use the information supplied by NUnit such as test names, descriptions, categories, ignore reasons etc to make test reports as easy to read as possible.\r\n\r\nSeveral days ago reports at RP started indicating integration problems which occur very rarely. I took a deeper look and found errors at RP logs saying that test name constraint \"not empty\" fails test report creation. Further research pointed at a new test in our project which had its attributes defined like this:\r\n\r\n```csharp\r\n[Test]\r\n[TestCase(TestName = \"\")]\r\n[Category(\"DB\")]\r\n```\r\n\r\nWe use this workaround with TestCase for having a human-readable test name supplied by NUnit instead of coding a custom attribute. And in many cases we use TestCase attribute for its intended purpose as well.\r\n\r\nSo obviously one programmer forgot to type in the value for TestName. The integration code was looking at ITest.Name property which appeared to be an empty string. And an empty string in its turn appeared to be unacceptable as a test name for RP.\r\n\r\nIf you run this test with Resharper, it displays a test icon with nothing next to it (no name), which means Resharper relies on the same NUnit functionality.\r\n\r\nI've added a workaround:\r\n```csharp\r\ninternal static string GetName(this ITest test) \r\n    => string.IsNullOrWhiteSpace(test.Name) ? test.MethodName : test.Name;\r\n```\r\n\r\nBut the expected behavior is one of these:\r\n1. NUnit exception during initialization, like it happens when parameters count/types of the test method do not match with those of TestCase attribute\r\n1. If TestName is empty then provide a default generated value instead, like as if there was no TestName property defined at all\r\n\r\nThanks in advance! :)","closed_by":{"login":"ChrisMaddock","id":4837132,"node_id":"MDQ6VXNlcjQ4MzcxMzI=","avatar_url":"https://avatars.githubusercontent.com/u/4837132?v=4","gravatar_id":"","url":"https://api.github.com/users/ChrisMaddock","html_url":"https://github.com/ChrisMaddock","followers_url":"https://api.github.com/users/ChrisMaddock/followers","following_url":"https://api.github.com/users/ChrisMaddock/following{/other_user}","gists_url":"https://api.github.com/users/ChrisMaddock/gists{/gist_id}","starred_url":"https://api.github.com/users/ChrisMaddock/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ChrisMaddock/subscriptions","organizations_url":"https://api.github.com/users/ChrisMaddock/orgs","repos_url":"https://api.github.com/users/ChrisMaddock/repos","events_url":"https://api.github.com/users/ChrisMaddock/events{/privacy}","received_events_url":"https://api.github.com/users/ChrisMaddock/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/nunit/nunit/issues/3038/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/nunit/nunit/issues/3038/timeline","performed_via_github_app":null,"state_reason":"completed"}