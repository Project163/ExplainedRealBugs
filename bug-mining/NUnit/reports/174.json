{"url":"https://api.github.com/repos/nunit/nunit/issues/4391","repository_url":"https://api.github.com/repos/nunit/nunit","labels_url":"https://api.github.com/repos/nunit/nunit/issues/4391/labels{/name}","comments_url":"https://api.github.com/repos/nunit/nunit/issues/4391/comments","events_url":"https://api.github.com/repos/nunit/nunit/issues/4391/events","html_url":"https://github.com/nunit/nunit/issues/4391","id":1709211944,"node_id":"I_kwDOANDtF85l4IEo","number":4391,"title":"Hash/Partition based Test Filter","user":{"login":"Plasma","id":229209,"node_id":"MDQ6VXNlcjIyOTIwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/229209?v=4","gravatar_id":"","url":"https://api.github.com/users/Plasma","html_url":"https://github.com/Plasma","followers_url":"https://api.github.com/users/Plasma/followers","following_url":"https://api.github.com/users/Plasma/following{/other_user}","gists_url":"https://api.github.com/users/Plasma/gists{/gist_id}","starred_url":"https://api.github.com/users/Plasma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Plasma/subscriptions","organizations_url":"https://api.github.com/users/Plasma/orgs","repos_url":"https://api.github.com/users/Plasma/repos","events_url":"https://api.github.com/users/Plasma/events{/privacy}","received_events_url":"https://api.github.com/users/Plasma/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":61608516,"node_id":"MDU6TGFiZWw2MTYwODUxNg==","url":"https://api.github.com/repos/nunit/nunit/labels/is:enhancement","name":"is:enhancement","color":"84b6eb","default":false,"description":null},{"id":61616795,"node_id":"MDU6TGFiZWw2MTYxNjc5NQ==","url":"https://api.github.com/repos/nunit/nunit/labels/closed:done","name":"closed:done","color":"0e8a16","default":false,"description":null},{"id":80842011,"node_id":"MDU6TGFiZWw4MDg0MjAxMQ==","url":"https://api.github.com/repos/nunit/nunit/labels/is:idea","name":"is:idea","color":"d4c5f9","default":false,"description":null},{"id":2570121919,"node_id":"MDU6TGFiZWwyNTcwMTIxOTE5","url":"https://api.github.com/repos/nunit/nunit/labels/requires:docs","name":"requires:docs","color":"86f943","default":false,"description":"Issues that require documentation be added"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/nunit/nunit/milestones/38","html_url":"https://github.com/nunit/nunit/milestone/38","labels_url":"https://api.github.com/repos/nunit/nunit/milestones/38/labels","id":5401447,"node_id":"MDk6TWlsZXN0b25lNTQwMTQ0Nw==","number":38,"title":"4.0","description":"The next major version of NUnit.","creator":{"login":"jnm2","id":8040367,"node_id":"MDQ6VXNlcjgwNDAzNjc=","avatar_url":"https://avatars.githubusercontent.com/u/8040367?v=4","gravatar_id":"","url":"https://api.github.com/users/jnm2","html_url":"https://github.com/jnm2","followers_url":"https://api.github.com/users/jnm2/followers","following_url":"https://api.github.com/users/jnm2/following{/other_user}","gists_url":"https://api.github.com/users/jnm2/gists{/gist_id}","starred_url":"https://api.github.com/users/jnm2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jnm2/subscriptions","organizations_url":"https://api.github.com/users/jnm2/orgs","repos_url":"https://api.github.com/users/jnm2/repos","events_url":"https://api.github.com/users/jnm2/events{/privacy}","received_events_url":"https://api.github.com/users/jnm2/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":174,"state":"closed","created_at":"2020-05-09T16:22:20Z","updated_at":"2025-02-17T09:44:35Z","due_on":"2023-11-18T08:00:00Z","closed_at":"2023-11-27T08:46:33Z"},"comments":10,"created_at":"2023-05-15T02:34:11Z","updated_at":"2024-01-24T17:39:04Z","closed_at":"2023-08-14T02:25:00Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"# Suggestion\r\nImplement a Hash/Partition based Test Filter, so that tests match the filter based on a hash and modulo comparison. This is separate and different to parallel execution attribute.\r\n\r\nThis would allow a subset of tests to be ran (and others excluded) based on a partition number, in order to partition the running of the same (large, slow) test suite across multiple machines by selectively filtering to a subset of tests based on a partition count and number.\r\n\r\n## Use case\r\nUsing GitHub Actions to run nunit tests, it would be great to use the `matrix` option in GitHub Actions to run multiple copies of the test process across multiple machines at once in order to speed up test runs for large test suites easily.\r\n\r\nA filter parameter that allowed me to specify the number of partitions (eg, 10) and the partition number to filter tests for (eg, 3) would make it very easy to partition the running of tests in GitHub Actions and other runners where sub-jobs are supported.\r\n\r\n## Usage example\r\n``--filter <partition/max partitions>``\r\n\r\nAlgorithm may be something like ``IsMatch == sha1(fully qualified test name) % max partitions == partition``\r\n\r\n## Contribution\r\nI'm happy to contribute a PR if this sounds like a reasonable contribution.","closed_by":{"login":"stevenaw","id":439844,"node_id":"MDQ6VXNlcjQzOTg0NA==","avatar_url":"https://avatars.githubusercontent.com/u/439844?v=4","gravatar_id":"","url":"https://api.github.com/users/stevenaw","html_url":"https://github.com/stevenaw","followers_url":"https://api.github.com/users/stevenaw/followers","following_url":"https://api.github.com/users/stevenaw/following{/other_user}","gists_url":"https://api.github.com/users/stevenaw/gists{/gist_id}","starred_url":"https://api.github.com/users/stevenaw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevenaw/subscriptions","organizations_url":"https://api.github.com/users/stevenaw/orgs","repos_url":"https://api.github.com/users/stevenaw/repos","events_url":"https://api.github.com/users/stevenaw/events{/privacy}","received_events_url":"https://api.github.com/users/stevenaw/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/nunit/nunit/issues/4391/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/nunit/nunit/issues/4391/timeline","performed_via_github_app":null,"state_reason":"completed"}