{"url":"https://api.github.com/repos/nunit/nunit/issues/698","repository_url":"https://api.github.com/repos/nunit/nunit","labels_url":"https://api.github.com/repos/nunit/nunit/issues/698/labels{/name}","comments_url":"https://api.github.com/repos/nunit/nunit/issues/698/comments","events_url":"https://api.github.com/repos/nunit/nunit/issues/698/events","html_url":"https://github.com/nunit/nunit/issues/698","id":89533562,"node_id":"MDU6SXNzdWU4OTUzMzU2Mg==","number":698,"title":"Require TestCaseSource and ValueSource named members to be static","user":{"login":"CharliePoole","id":2678661,"node_id":"MDQ6VXNlcjI2Nzg2NjE=","avatar_url":"https://avatars.githubusercontent.com/u/2678661?v=4","gravatar_id":"","url":"https://api.github.com/users/CharliePoole","html_url":"https://github.com/CharliePoole","followers_url":"https://api.github.com/users/CharliePoole/followers","following_url":"https://api.github.com/users/CharliePoole/following{/other_user}","gists_url":"https://api.github.com/users/CharliePoole/gists{/gist_id}","starred_url":"https://api.github.com/users/CharliePoole/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CharliePoole/subscriptions","organizations_url":"https://api.github.com/users/CharliePoole/orgs","repos_url":"https://api.github.com/users/CharliePoole/repos","events_url":"https://api.github.com/users/CharliePoole/events{/privacy}","received_events_url":"https://api.github.com/users/CharliePoole/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":61616751,"node_id":"MDU6TGFiZWw2MTYxNjc1MQ==","url":"https://api.github.com/repos/nunit/nunit/labels/is:feature","name":"is:feature","color":"bfe5bf","default":false,"description":null},{"id":61616795,"node_id":"MDU6TGFiZWw2MTYxNjc5NQ==","url":"https://api.github.com/repos/nunit/nunit/labels/closed:done","name":"closed:done","color":"0e8a16","default":false,"description":null},{"id":61616828,"node_id":"MDU6TGFiZWw2MTYxNjgyOA==","url":"https://api.github.com/repos/nunit/nunit/labels/pri:high","name":"pri:high","color":"eb6420","default":false,"description":null}],"state":"closed","locked":false,"assignee":{"login":"CharliePoole","id":2678661,"node_id":"MDQ6VXNlcjI2Nzg2NjE=","avatar_url":"https://avatars.githubusercontent.com/u/2678661?v=4","gravatar_id":"","url":"https://api.github.com/users/CharliePoole","html_url":"https://github.com/CharliePoole","followers_url":"https://api.github.com/users/CharliePoole/followers","following_url":"https://api.github.com/users/CharliePoole/following{/other_user}","gists_url":"https://api.github.com/users/CharliePoole/gists{/gist_id}","starred_url":"https://api.github.com/users/CharliePoole/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CharliePoole/subscriptions","organizations_url":"https://api.github.com/users/CharliePoole/orgs","repos_url":"https://api.github.com/users/CharliePoole/repos","events_url":"https://api.github.com/users/CharliePoole/events{/privacy}","received_events_url":"https://api.github.com/users/CharliePoole/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"CharliePoole","id":2678661,"node_id":"MDQ6VXNlcjI2Nzg2NjE=","avatar_url":"https://avatars.githubusercontent.com/u/2678661?v=4","gravatar_id":"","url":"https://api.github.com/users/CharliePoole","html_url":"https://github.com/CharliePoole","followers_url":"https://api.github.com/users/CharliePoole/followers","following_url":"https://api.github.com/users/CharliePoole/following{/other_user}","gists_url":"https://api.github.com/users/CharliePoole/gists{/gist_id}","starred_url":"https://api.github.com/users/CharliePoole/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CharliePoole/subscriptions","organizations_url":"https://api.github.com/users/CharliePoole/orgs","repos_url":"https://api.github.com/users/CharliePoole/repos","events_url":"https://api.github.com/users/CharliePoole/events{/privacy}","received_events_url":"https://api.github.com/users/CharliePoole/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/nunit/nunit/milestones/11","html_url":"https://github.com/nunit/nunit/milestone/11","labels_url":"https://api.github.com/repos/nunit/nunit/milestones/11/labels","id":1099446,"node_id":"MDk6TWlsZXN0b25lMTA5OTQ0Ng==","number":11,"title":"3.0Beta3","description":"","creator":{"login":"rprouse","id":493828,"node_id":"MDQ6VXNlcjQ5MzgyOA==","avatar_url":"https://avatars.githubusercontent.com/u/493828?v=4","gravatar_id":"","url":"https://api.github.com/users/rprouse","html_url":"https://github.com/rprouse","followers_url":"https://api.github.com/users/rprouse/followers","following_url":"https://api.github.com/users/rprouse/following{/other_user}","gists_url":"https://api.github.com/users/rprouse/gists{/gist_id}","starred_url":"https://api.github.com/users/rprouse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rprouse/subscriptions","organizations_url":"https://api.github.com/users/rprouse/orgs","repos_url":"https://api.github.com/users/rprouse/repos","events_url":"https://api.github.com/users/rprouse/events{/privacy}","received_events_url":"https://api.github.com/users/rprouse/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":28,"state":"closed","created_at":"2015-05-07T01:32:23Z","updated_at":"2015-08-25T01:09:55Z","due_on":"2015-07-15T07:00:00Z","closed_at":"2015-07-16T00:08:16Z"},"comments":14,"created_at":"2015-06-19T10:54:30Z","updated_at":"2018-05-14T02:44:26Z","closed_at":"2015-06-23T05:26:51Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"According to our documentation, two of the constructors are deprecated. Currently, however, they are not. Neither is this change noted in BreakingChanges. We need to either implement this or decide to do something different and document it.\n\nThere were two main reasons for making these changes: \n1. Having the TestCaseSource value in the same class causes problems when constructing parameterized or generic fixtures at loadtime.\n2. Use of a string parameter is not automatically refactorable.\n\nOptions:\n1. Follow the docs. I.e., mark constructors TestCaseSourceAttribute(Type, string) and TestCaseSourceAttribute(string) as Obsolete.\n1. Reverse the planned change: Leave both in and update the docs. Fix all the issues caused by the construction of the fixture.\n2. Compromise: Mark only TestCaseSourceAttribute(string) as obsolete, since it causes more problems. Update the docs.\n3. Forbid use of the same class for TestCaseSource in specific situations. This would probably mean generic and parameterized fixtures. This will require coding to test the type argument to TestCaseSource and to examine the fixture. The constructors would not be marked obsolete so we would have to use a runtime error, marking the tests using such sources as nonrunnable. This is a bit complicated.\n4. Stronger than 1: Remove rather than deprecate the constructors.\n5. Speculative: Combine 5 with the creation of a new way to simply express a set of data inline without the need to construct the class. This might be limited to static members, for example.\n\nA bit about motivation for examining alternatives.\n\nThe two constructors cause a ripple effect that has generated a lot of bugs. We'd like to get rid of them completely. OTOH, they provide a very quick way to specify test data using types that can't be used as attribute arguments.\n\nHere's an example. Current way:\n\n``` C#\n[TestCaseSource(\"mydata\")]\npublic void TestMethod...\n\nTestCaseData[] mydata = { ...\n```\n\nIf constructors are removed:\n\n``` C#\n[TestCaseSource(typeof MyData)]\npublic void TestMethod...\n\nclass MyData : IEnumerable\n{\n    TestCaseData[] mydata = {...\n\n    IEnumerator GetEnumerator()\n    {\n      return mydata.GetEnumerator();\n    }\n}\n```\n\nThe second example could use yield if desired, of course. In either case it's much more wordy than the first. Ideally, we'd like a way to replace the first that doesn't require constructing the test class at load time.\n","closed_by":{"login":"CharliePoole","id":2678661,"node_id":"MDQ6VXNlcjI2Nzg2NjE=","avatar_url":"https://avatars.githubusercontent.com/u/2678661?v=4","gravatar_id":"","url":"https://api.github.com/users/CharliePoole","html_url":"https://github.com/CharliePoole","followers_url":"https://api.github.com/users/CharliePoole/followers","following_url":"https://api.github.com/users/CharliePoole/following{/other_user}","gists_url":"https://api.github.com/users/CharliePoole/gists{/gist_id}","starred_url":"https://api.github.com/users/CharliePoole/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CharliePoole/subscriptions","organizations_url":"https://api.github.com/users/CharliePoole/orgs","repos_url":"https://api.github.com/users/CharliePoole/repos","events_url":"https://api.github.com/users/CharliePoole/events{/privacy}","received_events_url":"https://api.github.com/users/CharliePoole/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/nunit/nunit/issues/698/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/nunit/nunit/issues/698/timeline","performed_via_github_app":null,"state_reason":"completed"}