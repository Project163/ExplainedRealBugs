{"url":"https://api.github.com/repos/nunit/nunit/issues/1241","repository_url":"https://api.github.com/repos/nunit/nunit","labels_url":"https://api.github.com/repos/nunit/nunit/issues/1241/labels{/name}","comments_url":"https://api.github.com/repos/nunit/nunit/issues/1241/comments","events_url":"https://api.github.com/repos/nunit/nunit/issues/1241/events","html_url":"https://github.com/nunit/nunit/issues/1241","id":131150210,"node_id":"MDU6SXNzdWUxMzExNTAyMTA=","number":1241,"title":"Make TestDirectory accessible when TestCaseSource attributes are evaluated","user":{"login":"ChrisMaddock","id":4837132,"node_id":"MDQ6VXNlcjQ4MzcxMzI=","avatar_url":"https://avatars.githubusercontent.com/u/4837132?v=4","gravatar_id":"","url":"https://api.github.com/users/ChrisMaddock","html_url":"https://github.com/ChrisMaddock","followers_url":"https://api.github.com/users/ChrisMaddock/followers","following_url":"https://api.github.com/users/ChrisMaddock/following{/other_user}","gists_url":"https://api.github.com/users/ChrisMaddock/gists{/gist_id}","starred_url":"https://api.github.com/users/ChrisMaddock/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ChrisMaddock/subscriptions","organizations_url":"https://api.github.com/users/ChrisMaddock/orgs","repos_url":"https://api.github.com/users/ChrisMaddock/repos","events_url":"https://api.github.com/users/ChrisMaddock/events{/privacy}","received_events_url":"https://api.github.com/users/ChrisMaddock/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":61616751,"node_id":"MDU6TGFiZWw2MTYxNjc1MQ==","url":"https://api.github.com/repos/nunit/nunit/labels/is:feature","name":"is:feature","color":"bfe5bf","default":false,"description":null},{"id":61616795,"node_id":"MDU6TGFiZWw2MTYxNjc5NQ==","url":"https://api.github.com/repos/nunit/nunit/labels/closed:done","name":"closed:done","color":"0e8a16","default":false,"description":null},{"id":61616865,"node_id":"MDU6TGFiZWw2MTYxNjg2NQ==","url":"https://api.github.com/repos/nunit/nunit/labels/pri:normal","name":"pri:normal","color":"fbca04","default":false,"description":null}],"state":"closed","locked":false,"assignee":{"login":"CharliePoole","id":2678661,"node_id":"MDQ6VXNlcjI2Nzg2NjE=","avatar_url":"https://avatars.githubusercontent.com/u/2678661?v=4","gravatar_id":"","url":"https://api.github.com/users/CharliePoole","html_url":"https://github.com/CharliePoole","followers_url":"https://api.github.com/users/CharliePoole/followers","following_url":"https://api.github.com/users/CharliePoole/following{/other_user}","gists_url":"https://api.github.com/users/CharliePoole/gists{/gist_id}","starred_url":"https://api.github.com/users/CharliePoole/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CharliePoole/subscriptions","organizations_url":"https://api.github.com/users/CharliePoole/orgs","repos_url":"https://api.github.com/users/CharliePoole/repos","events_url":"https://api.github.com/users/CharliePoole/events{/privacy}","received_events_url":"https://api.github.com/users/CharliePoole/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"CharliePoole","id":2678661,"node_id":"MDQ6VXNlcjI2Nzg2NjE=","avatar_url":"https://avatars.githubusercontent.com/u/2678661?v=4","gravatar_id":"","url":"https://api.github.com/users/CharliePoole","html_url":"https://github.com/CharliePoole","followers_url":"https://api.github.com/users/CharliePoole/followers","following_url":"https://api.github.com/users/CharliePoole/following{/other_user}","gists_url":"https://api.github.com/users/CharliePoole/gists{/gist_id}","starred_url":"https://api.github.com/users/CharliePoole/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CharliePoole/subscriptions","organizations_url":"https://api.github.com/users/CharliePoole/orgs","repos_url":"https://api.github.com/users/CharliePoole/repos","events_url":"https://api.github.com/users/CharliePoole/events{/privacy}","received_events_url":"https://api.github.com/users/CharliePoole/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/nunit/nunit/milestones/22","html_url":"https://github.com/nunit/nunit/milestone/22","labels_url":"https://api.github.com/repos/nunit/nunit/milestones/22/labels","id":1444803,"node_id":"MDk6TWlsZXN0b25lMTQ0NDgwMw==","number":22,"title":"3.4","description":"In the 3.4 release, we plan to improve the engine to allow it to run tests targeting platforms and .NET frameworks that are currently only supported through NUnitLite based runners. This includes platforms like .NET Core and Universal Windows. Ideally, this will also improve the way we run tests on mobile platforms like Android and iOS.\r\n\r\nSince these features will be a part of the engine, any runners using the engine will automatically support the new platforms.\r\n\r\nIn addition, we will be fixing issues and completing enhancements in the backlog in priority order.\r\n\r\nWe are planning on maintaining a quarterly release cycle and plan on releasing 3.4 at the end of June.","creator":{"login":"CharliePoole","id":2678661,"node_id":"MDQ6VXNlcjI2Nzg2NjE=","avatar_url":"https://avatars.githubusercontent.com/u/2678661?v=4","gravatar_id":"","url":"https://api.github.com/users/CharliePoole","html_url":"https://github.com/CharliePoole","followers_url":"https://api.github.com/users/CharliePoole/followers","following_url":"https://api.github.com/users/CharliePoole/following{/other_user}","gists_url":"https://api.github.com/users/CharliePoole/gists{/gist_id}","starred_url":"https://api.github.com/users/CharliePoole/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CharliePoole/subscriptions","organizations_url":"https://api.github.com/users/CharliePoole/orgs","repos_url":"https://api.github.com/users/CharliePoole/repos","events_url":"https://api.github.com/users/CharliePoole/events{/privacy}","received_events_url":"https://api.github.com/users/CharliePoole/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":54,"state":"closed","created_at":"2015-12-04T19:46:32Z","updated_at":"2016-06-27T02:50:32Z","due_on":"2016-06-30T07:00:00Z","closed_at":"2016-06-25T16:58:54Z"},"comments":5,"created_at":"2016-02-03T20:56:57Z","updated_at":"2016-05-24T13:39:39Z","closed_at":"2016-05-23T20:40:58Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"TestDirectory is currently a property of the TestExecutionContext, which means it is unavailable at the point TestCaseSource's are evaluated. This prevents test setup's such as the below:\n\n```\n[Test, TestCaseSource(nameof(TestCases))]\npublic void ImportFileDoesNotThrow(string fileName)\n{\n   Assert.DoesNotThrow(() => importer.Import(fileName));\n}\n\nprivate static IEnumerable<string> TestCases\n{\n    get { yield return TestContext.CurrentContext.TestDirectory + \"filepath\"; }\n}\n```\n\nThis came out of a [support query](https://groups.google.com/forum/#!topic/nunit-discuss/YvFwSfvF7aU) on the Google Group - to quote @CharliePoole's considerations:\n\n> Things we could consider include: \n> - Making TestDirectory a static property of TestContext and basing it on the executing assembly rather than the executing test. \n> - Moving TestDirectory to some other static class and doing the same thing. \n> - Leaving it where it is but having TestContext create a \"fake\" CurrentContext when no test is running. \n>   Most likely, if I had thought of this in the first place, I would have put TestDirectory somewhere else entirely.\n","closed_by":{"login":"rprouse","id":493828,"node_id":"MDQ6VXNlcjQ5MzgyOA==","avatar_url":"https://avatars.githubusercontent.com/u/493828?v=4","gravatar_id":"","url":"https://api.github.com/users/rprouse","html_url":"https://github.com/rprouse","followers_url":"https://api.github.com/users/rprouse/followers","following_url":"https://api.github.com/users/rprouse/following{/other_user}","gists_url":"https://api.github.com/users/rprouse/gists{/gist_id}","starred_url":"https://api.github.com/users/rprouse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rprouse/subscriptions","organizations_url":"https://api.github.com/users/rprouse/orgs","repos_url":"https://api.github.com/users/rprouse/repos","events_url":"https://api.github.com/users/rprouse/events{/privacy}","received_events_url":"https://api.github.com/users/rprouse/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/nunit/nunit/issues/1241/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/nunit/nunit/issues/1241/timeline","performed_via_github_app":null,"state_reason":"completed"}