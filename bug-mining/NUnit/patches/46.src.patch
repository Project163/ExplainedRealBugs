diff --git a/src/NUnitEngine/nunit.engine/Runners/MasterTestRunner.cs b/src/NUnitEngine/nunit.engine/Runners/MasterTestRunner.cs
index a70fd4553..f986ff31d 100644
--- a/src/NUnitEngine/nunit.engine/Runners/MasterTestRunner.cs
+++ b/src/NUnitEngine/nunit.engine/Runners/MasterTestRunner.cs
@@ -230,8 +230,9 @@ namespace NUnit.Engine.Runners
                 var processModel = TestPackage.GetSetting(PackageSettings.ProcessModel, "Default");
                 if (processModel.ToLower() == "single")
                 {
-                    var currentFramework = RuntimeFramework.CurrentFramework.ToString();
-                    if (currentFramework != frameworkSetting)
+                    var currentFramework = RuntimeFramework.CurrentFramework;
+                    var requestedFramework = RuntimeFramework.Parse(frameworkSetting);
+                    if (!currentFramework.Supports(requestedFramework))
                         throw new NUnitEngineException(string.Format(
                             "Cannot run {0} framework in process already running {1}.", frameworkSetting, currentFramework));
                 }
diff --git a/src/NUnitEngine/nunit.engine/Services/TestAgency.cs b/src/NUnitEngine/nunit.engine/Services/TestAgency.cs
index 7520fd734..7e1b8b1c5 100644
--- a/src/NUnitEngine/nunit.engine/Services/TestAgency.cs
+++ b/src/NUnitEngine/nunit.engine/Services/TestAgency.cs
@@ -164,6 +164,9 @@ namespace NUnit.Engine.Services
                     ? runtimeSetting
                     : _runtimeService.SelectRuntimeFramework(package));
 
+            if (targetRuntime.Runtime == RuntimeType.Any)
+                targetRuntime = new RuntimeFramework(RuntimeFramework.CurrentFramework.Runtime, targetRuntime.ClrVersion);
+
             bool useX86Agent = package.GetSetting(PackageSettings.RunAsX86, false);
             bool enableDebug = package.GetSetting("AgentDebug", false);
             bool verbose = package.GetSetting("Verbose", false);
