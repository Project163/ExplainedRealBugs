<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:34:44 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SHIRO-135] AccessControlException exception on GAE with Grails</title>
                <link>https://issues.apache.org/jira/browse/SHIRO-135</link>
                <project id="12310950" key="SHIRO">Shiro</project>
                    <description>&lt;p&gt;Hi!&lt;/p&gt;

&lt;p&gt;I was doing the following:&lt;/p&gt;

&lt;p&gt;---- SNIP ------&lt;/p&gt;

&lt;p&gt;export CLASSPATH=&quot;&quot;&lt;br/&gt;
grails create-app MyApp&lt;br/&gt;
cd MyApp&lt;br/&gt;
grails install-plugin app-engine&lt;br/&gt;
(choosing jdo)&lt;br/&gt;
grails uninstall-plugin tomcat&lt;br/&gt;
grails set-version 1&lt;br/&gt;
grails install-plugin shiro&lt;br/&gt;
grails quick-start&lt;br/&gt;
grails app-engine package&lt;br/&gt;
$APPENGINE_SDK/bin/appcfg.sh update target/war&lt;/p&gt;

&lt;p&gt;---- SNIP ------&lt;/p&gt;

&lt;p&gt;I use the following Version:&lt;br/&gt;
grails 1.2.0&lt;br/&gt;
app-engine plugin 0.8.8&lt;br/&gt;
shiro plugin 1.0.1&lt;br/&gt;
appengine java SDK 1.3.0&lt;/p&gt;


&lt;p&gt;Checking the app engine Logs gives me the following exception and stacktrace:&lt;/p&gt;

&lt;p&gt;---- SNIP ------&lt;br/&gt;
javax.servlet.ServletContext log: Initializing Spring root WebApplicationContext&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Runtime Network Thread&amp;#93;&lt;/span&gt; ERROR servlet.AbstractFilter  - Unable to start Filter: [access denied&lt;br/&gt;
(java.lang.RuntimePermission getClassLoader)].&lt;br/&gt;
java.security.AccessControlException: access denied (java.lang.RuntimePermission getClassLoader)&lt;br/&gt;
	at java.security.AccessControlContext.checkPermission(AccessControlContext.java:355)&lt;br/&gt;
	at java.security.AccessController.checkPermission(AccessController.java:567)&lt;br/&gt;
	at java.lang.SecurityManager.checkPermission(Unknown Source)&lt;br/&gt;
	at&lt;br/&gt;
com.google.apphosting.runtime.security.CustomSecurityManager.checkPermission(CustomSecurityManager.java:45)&lt;br/&gt;
	at java.lang.ClassLoader.getSystemClassLoader(Unknown Source)&lt;br/&gt;
	at org.apache.shiro.util.ClassUtils.getResourceAsStream(ClassUtils.java:73)&lt;br/&gt;
	at org.apache.shiro.io.ResourceUtils.loadFromClassPath(ResourceUtils.java:158)&lt;br/&gt;
	at org.apache.shiro.io.ResourceUtils.getInputStreamForPath(ResourceUtils.java:122)&lt;br/&gt;
	at org.apache.shiro.io.ResourceUtils.resourceExists(ResourceUtils.java:92)&lt;br/&gt;
	at org.apache.shiro.config.IniConfiguration.init(IniConfiguration.java:101)&lt;br/&gt;
	at org.apache.shiro.spring.SpringIniWebConfiguration.init(SpringIniWebConfiguration.java:96)&lt;br/&gt;
	at org.apache.shiro.util.LifecycleUtils.init(LifecycleUtils.java:47)&lt;br/&gt;
	at org.apache.shiro.util.LifecycleUtils.init(LifecycleUtils.java:41)&lt;br/&gt;
	at org.apache.shiro.web.servlet.ShiroFilter.configure(ShiroFilter.java:353)&lt;br/&gt;
	at org.apache.shiro.web.servlet.ShiroFilter.onFilterConfigSet(ShiroFilter.java:287)&lt;br/&gt;
	at org.apache.shiro.web.servlet.AbstractFilter.init(AbstractFilter.java:94)&lt;br/&gt;
	at org.mortbay.jetty.servlet.FilterHolder.doStart(FilterHolder.java:99)&lt;br/&gt;
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:40)&lt;br/&gt;
	at org.mortbay.jetty.servlet.ServletHandler.initialize(ServletHandler.java:589)&lt;br/&gt;
---- SNIP ------&lt;/p&gt;

&lt;p&gt;After putting&lt;/p&gt;

&lt;p&gt;debug  &apos;org.apache.shiro.io&apos;&lt;/p&gt;

&lt;p&gt;into the log-section of Config.groovy I get the additional log line:&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;Runtime Network Thread&amp;#93;&lt;/span&gt; DEBUG io.ResourceUtils  - Opening resource from class path &lt;span class=&quot;error&quot;&gt;&amp;#91;shiro.ini&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;just before the error.&lt;/p&gt;</description>
                <environment>Google App Engine, Grails</environment>
        <key id="12455201">SHIRO-135</key>
            <summary>AccessControlException exception on GAE with Grails</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lhazlewood">Les Hazlewood</assignee>
                                    <reporter username="biafra">Dirk J&#228;ckel</reporter>
                        <labels>
                    </labels>
                <created>Wed, 3 Feb 2010 17:44:44 +0000</created>
                <updated>Fri, 11 Jun 2010 22:00:47 +0000</updated>
                            <resolved>Wed, 3 Feb 2010 20:31:57 +0000</resolved>
                                                    <fixVersion>1.0.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12829241" author="lhazlewood" created="Wed, 3 Feb 2010 20:31:57 +0000"  >&lt;p&gt;Fix committed to trunk.  Please try it out on GAE.&lt;/p&gt;</comment>
                            <comment id="12878072" author="lhazlewood" created="Fri, 11 Jun 2010 22:00:47 +0000"  >&lt;p&gt;Closing all resolved issues due to a successful 1.0.0-incubating release&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>174866</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 24 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i106rz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>209232</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>