<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:35:16 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SHIRO-483] passwordsMatch() returns false with right plain password-encrypted password in JVM with default locale tr_TR</title>
                <link>https://issues.apache.org/jira/browse/SHIRO-483</link>
                <project id="12310950" key="SHIRO">Shiro</project>
                    <description>&lt;p&gt;    public static void main(String[] args) &lt;/p&gt;
{
        PasswordService psd = new DefaultPasswordService();
        String password = &quot;333&quot;;
        String enc = psd.encryptPassword(password);
        System.out.print(psd.passwordsMatch(password, enc));
        
    }

&lt;p&gt;The above code outputs &quot;false&quot; on JVM which has default locale tr_TR, the following outputs &quot;true&quot;&lt;br/&gt;
    public static void main(String[] args) &lt;/p&gt;
{ 
        PasswordService psd = new DefaultPasswordService(); 
        String password = &quot;333&quot;; 
        String enc = psd.encryptPassword(password); 
        Locale.setDefault(Locale.ENGLISH); 
        System.out.print(psd.passwordsMatch(password, enc)); 
        
    }
&lt;p&gt; &lt;/p&gt;</description>
                <environment>JVM Locale tr_TR</environment>
        <key id="12691281">SHIRO-483</key>
            <summary>passwordsMatch() returns false with right plain password-encrypted password in JVM with default locale tr_TR</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="salihrkc">Salih ER&#304;KC&#304;</reporter>
                        <labels>
                            <label>password</label>
                    </labels>
                <created>Sun, 26 Jan 2014 18:32:09 +0000</created>
                <updated>Thu, 7 Jul 2016 20:38:21 +0000</updated>
                            <resolved>Thu, 7 Jul 2016 20:38:20 +0000</resolved>
                                    <version>1.2.2</version>
                                    <fixVersion>1.3.0</fixVersion>
                                    <component>Authentication (log-in)</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="604800">168h</timeoriginalestimate>
                            <timeestimate seconds="604800">168h</timeestimate>
                                        <comments>
                            <comment id="13882942" author="deraj123" created="Mon, 27 Jan 2014 16:35:33 +0000"  >&lt;p&gt;Digging through this a bit, I have found several unit tests that fail when the default locale is set to Turkish, as well as a couple of other cases that seemingly could fail with a Turkish Locale.  Basically, anywhere that &lt;tt&gt;String.toUpperCase()&lt;/tt&gt; and &lt;tt&gt;String.toLowerCase()&lt;/tt&gt; are used.  &lt;/p&gt;

&lt;p&gt;There is one piece of behavior that I&apos;d be interested in getting some feedback on.  &lt;/p&gt;

&lt;p&gt;&lt;tt&gt;WildcardPermission&lt;/tt&gt; uses &lt;tt&gt;toLowerCase()&lt;/tt&gt; to support case insensitivity.  The unit tests pertaining to this fail when the local is Turkish - but I&apos;m not sure if that should be considered expected behavior or not.  The specific case that fails is &quot;something&quot; and &quot;SOMETHING&quot;.  Arguably, if your locale is Turkish, these are NOT the same.  But man...that could get confusing. (&quot;something&quot; uppercases to &quot;SOMETH&#304;NG&quot; and &quot;SOMETHING&quot; lowercases to &quot;someth&#305;ng&quot;)&lt;/p&gt;</comment>
                            <comment id="14090497" author="squiddle" created="Fri, 8 Aug 2014 09:00:30 +0000"  >&lt;p&gt;The way it is makes the security of the system dependent on the locale the application is started with. Maybe the upper and lowercasing for technical identifiers (like permission strings) should be done by default with Locale.US&lt;br/&gt;
It might not always be convenient, but at least it is well defined behavior, which IMO is more important especially in the context of security.&lt;/p&gt;

&lt;p&gt;It might be necessary to have this configurable, but i doubt it. These permission strings are mostly technical and due to the awful history of charset encodings i think most people stick to ASCII anyway.&lt;/p&gt;

&lt;p&gt;some background to turkish case rules: &lt;a href=&quot;http://www.i18nguy.com/unicode/turkish-i18n.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.i18nguy.com/unicode/turkish-i18n.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15353330" author="bdemers" created="Tue, 28 Jun 2016 16:32:26 +0000"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;Bulk Change&amp;#93;&lt;/span&gt; These issues will be looked at in the next release&lt;/p&gt;</comment>
                            <comment id="15366722" author="bdemers" created="Thu, 7 Jul 2016 20:38:21 +0000"  >&lt;p&gt;This was caused by an enum lookup.&lt;/p&gt;

&lt;p&gt;In general there are a few locations in crypto/hash that do a &apos;toUpperCase()&apos;, we should probably set the locale on all of them, but there might be an edge case that I&apos;m not thinking about.&lt;/p&gt;

&lt;p&gt;If anything is found we should treat them individually with a new issue.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370026</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 19 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i00ytj:0000000009</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>370328</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>