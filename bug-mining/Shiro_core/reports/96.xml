<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:35:22 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SHIRO-349] Security: Byte arrays (and other memory) holding sensitive data (even temporarily) should be zerod-out</title>
                <link>https://issues.apache.org/jira/browse/SHIRO-349</link>
                <project id="12310950" key="SHIRO">Shiro</project>
                    <description>&lt;p&gt;Shiro provides features related to end-users interacting with sensitive information.  For instance passwords, but also the cryptography features could be used for all sorts of sensitive information, such as credit card numbers.  &lt;/p&gt;

&lt;p&gt;Policy-driven environments require compliance with rules that include the requirement to use FIPS 140.2 compliant JCA implementations, and that the application code that works with such crypto libraries also take care to leave no sensitive data as artifacts in memory (vulnerable to core dumps, etc.).  See PCI DSS, DoD Application Security STIG, etc..&lt;/p&gt;

&lt;p&gt;A quick review raises flags about various points in Shiro code that handle sensitive data and do not properly comply.  For example within JcaCipherService copies of data are made in byte arrays which (which, base upon quick review) never get zeroed out (all of the bytes set to 0x0 or some other meaningless values).  Also decryption results are returned via ByteSource.   SimpleByteSource holds the byte[] of decrypted data but provides no way of clearing it.  By coincidence, the internal representation is &apos;leaked&apos; through the getBytes() implementation, and the end user could clear the array themselves, but reliance on the internal representation being passed out by all implmentations of ByteSource is rather risky.&lt;/p&gt;

&lt;p&gt;Suggest a review of all points of encrypt/decrypt to ensure temporary (internal) copies of data are always cleared, and suggest ByteSource have a new method added to the interface, such as wipe() that the end user can call when they are finished with the ByteSource.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12545875">SHIRO-349</key>
            <summary>Security: Byte arrays (and other memory) holding sensitive data (even temporarily) should be zerod-out</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="10003">Resolved</resolution>
                                        <assignee username="fpapon">Francois Papon</assignee>
                                    <reporter username="jhouse">James House</reporter>
                        <labels>
                    </labels>
                <created>Fri, 9 Mar 2012 17:04:38 +0000</created>
                <updated>Tue, 20 Sep 2022 16:06:00 +0000</updated>
                            <resolved>Fri, 9 Jul 2021 20:51:17 +0000</resolved>
                                    <version>1.2.0</version>
                                    <fixVersion>2.0.0-alpha</fixVersion>
                                    <component>Authentication (log-in)</component>
                    <component>Cryptography &amp;amp; Hashing</component>
                        <due></due>
                            <votes>2</votes>
                                    <watches>5</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="4800">1h 20m</timespent>
                                <comments>
                            <comment id="13649183" author="lhazlewood" created="Sat, 4 May 2013 21:47:46 +0000"  >&lt;p&gt;Because of the API changes this could require, I&apos;m assigning this to 2.x (we&apos;ll start work on 2.x asap)&lt;/p&gt;</comment>
                            <comment id="15422016" author="githubbot" created="Tue, 16 Aug 2016 01:38:50 +0000"  >&lt;p&gt;GitHub user eric-cho opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/shiro/pull/35&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/shiro/pull/35&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SHIRO-349&quot; title=&quot;Security: Byte arrays (and other memory) holding sensitive data (even temporarily) should be zerod-out&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SHIRO-349&quot;&gt;&lt;del&gt;SHIRO-349&lt;/del&gt;&lt;/a&gt; Security: Byte arrays (and other memory) holding sensitive &#8230;&lt;/p&gt;

&lt;p&gt;    &#8230;data (even temporarily) should be zerod-out&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/eric-cho/shiro&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/eric-cho/shiro&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/SHIRO-349&quot; title=&quot;Security: Byte arrays (and other memory) holding sensitive data (even temporarily) should be zerod-out&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SHIRO-349&quot;&gt;&lt;del&gt;SHIRO-349&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/shiro/pull/35.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/shiro/pull/35.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #35&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit e2bde8de4b4aa82ddbaacbab88200ddc1e9a3248&lt;br/&gt;
Author: Taehun Cho &amp;lt;taehcho@cisco.com&amp;gt;&lt;br/&gt;
Date:   2016-08-16T01:37:18Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SHIRO-349&quot; title=&quot;Security: Byte arrays (and other memory) holding sensitive data (even temporarily) should be zerod-out&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SHIRO-349&quot;&gt;&lt;del&gt;SHIRO-349&lt;/del&gt;&lt;/a&gt; Security: Byte arrays (and other memory) holding sensitive data (even temporarily) should be zerod-out&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15422027" author="githubbot" created="Tue, 16 Aug 2016 01:45:37 +0000"  >&lt;p&gt;Github user eric-cho closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/shiro/pull/35&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/shiro/pull/35&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15422036" author="githubbot" created="Tue, 16 Aug 2016 01:54:50 +0000"  >&lt;p&gt;GitHub user eric-cho opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/shiro/pull/36&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/shiro/pull/36&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SHIRO-349&quot; title=&quot;Security: Byte arrays (and other memory) holding sensitive data (even temporarily) should be zerod-out&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SHIRO-349&quot;&gt;&lt;del&gt;SHIRO-349&lt;/del&gt;&lt;/a&gt; Security: Byte arrays (and other memory) holding sensitive &#8230;&lt;/p&gt;

&lt;p&gt;    Posting this PR as per Brian&apos;s comment. &lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/eric-cho/shiro&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/eric-cho/shiro&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/SHIRO-349&quot; title=&quot;Security: Byte arrays (and other memory) holding sensitive data (even temporarily) should be zerod-out&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SHIRO-349&quot;&gt;&lt;del&gt;SHIRO-349&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/shiro/pull/36.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/shiro/pull/36.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #36&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 71ad778f603caad7873e8485d6012f95e8a4dd40&lt;br/&gt;
Author: Eric Cho &amp;lt;heyeric.cho@gmail.com&amp;gt;&lt;br/&gt;
Date:   2016-08-16T01:50:23Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SHIRO-349&quot; title=&quot;Security: Byte arrays (and other memory) holding sensitive data (even temporarily) should be zerod-out&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SHIRO-349&quot;&gt;&lt;del&gt;SHIRO-349&lt;/del&gt;&lt;/a&gt; Security: Byte arrays (and other memory) holding sensitive data (even temporarily) should be zerod-out&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="17607286" author="lprimak" created="Tue, 20 Sep 2022 16:06:00 +0000"  >&lt;p&gt;This needs to be back-ported to 1.9.x please&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>231058</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 7 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1eadb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>291609</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>