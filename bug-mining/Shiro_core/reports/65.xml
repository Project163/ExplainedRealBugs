<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:35:08 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SHIRO-413] init() method is not called on class that implements org.apache.shiro.util.Initializable</title>
                <link>https://issues.apache.org/jira/browse/SHIRO-413</link>
                <project id="12310950" key="SHIRO">Shiro</project>
                    <description>&lt;p&gt;Classes configured in shiro.ini that implement the &quot;Initializable&quot; interface should automatically have their &quot;init()&quot; methods called. It appears this call is not always occurring. Example below:&lt;/p&gt;

&lt;p&gt;public class WaffleNegotiateAuthFilter extends BasicHttpAuthenticationFilter&lt;br/&gt;
                                       implements Initializable&lt;br/&gt;
{&lt;br/&gt;
...&lt;/p&gt;

&lt;p&gt;    private final NegotiateSecurityFilter negotiateFilter;&lt;/p&gt;


&lt;p&gt;    public WaffleNegotiateAuthFilter() &lt;/p&gt;
{
        negotiateFilter = new NegotiateSecurityFilter();
    }

&lt;p&gt;    @Override&lt;br/&gt;
    protected void onFilterConfigSet() throws Exception &lt;/p&gt;
{
        negotiateFilter.init(getFilterConfig());
    }

&lt;p&gt;    /**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Initializes this object.&lt;br/&gt;
     *&lt;/li&gt;
	&lt;li&gt;@throws org.apache.shiro.ShiroException&lt;/li&gt;
	&lt;li&gt;if an exception occurs during initialization.&lt;br/&gt;
     */&lt;br/&gt;
    public void init() throws ShiroException 
&lt;div class=&quot;error&quot;&gt;&lt;span class=&quot;error&quot;&gt;Unknown macro: {        try {
            super.init(getFilterConfig());
        } catch (ServletException e) {
            throw new ShiroException(e);
        }    }&lt;/span&gt; &lt;/div&gt;
&lt;p&gt;...&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I still do not see the init() method being called.&lt;/p&gt;

&lt;p&gt;See this thread for more details: &lt;a href=&quot;http://shiro-user.582556.n2.nabble.com/AuthenticatingFilter-lifecycle-when-used-in-urls-td7578146.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://shiro-user.582556.n2.nabble.com/AuthenticatingFilter-lifecycle-when-used-in-urls-td7578146.html&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12627896">SHIRO-413</key>
            <summary>init() method is not called on class that implements org.apache.shiro.util.Initializable</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bhamail">Dan Rollo</reporter>
                        <labels>
                    </labels>
                <created>Wed, 16 Jan 2013 19:17:50 +0000</created>
                <updated>Fri, 15 Jul 2016 15:06:23 +0000</updated>
                            <resolved>Fri, 15 Jul 2016 15:06:23 +0000</resolved>
                                    <version>1.2.1</version>
                                    <fixVersion>1.2.2</fixVersion>
                                    <component>Configuration</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13565537" author="bhamail" created="Tue, 29 Jan 2013 17:14:19 +0000"  >&lt;p&gt;FWIW, after digging into this some more, it appears the problem of not calling init() on Initializable&apos;s is NOT a problem for Realm subclasses, but it IS a problem for Filter subclasses.&lt;/p&gt;

&lt;p&gt;For example, org.apache.shiro.config.IniSecurityManagerFactory.createSecurityManager(Ini ini, Ini.Section mainSection) ensure Realms are init&apos;ed by the call to IniSecurityManagerFactory.initRealms(securityManager) - which invokes Initializable.init().&lt;/p&gt;

&lt;p&gt;However, Filter subclasses do not get init&apos;ed. Only the org.apache.shiro.web.servlet.AbstractFilter.init(FilterConfig filterConfig) is called by a web server class (tomcat6: org.apache.catalina.core.ApplicationFilterConfig().getFilter():295). This call to AbstractFilter.init(FilterConfig filterConfig) results in a call to an init() method (however, this init() method is NOT an impl of Initializable, it is: AbstractShiroFilter.init() throws Exception). &lt;/p&gt;

&lt;p&gt;Also, only the single &quot;uber&quot; ShiroFilter instance gets this call from ....catalina.core.ApplicationFilterConfig().getFilter() (no Filter subclasses get this call).&lt;/p&gt;


&lt;p&gt;All this said, I&apos;m not at all certain my Filter implementation is incorrect (and maybe much of it&apos;s logic should either be moved to a Realm OR my filter should make use of the Servlet Filter delegate redesign I saw mentioned elsewhere -&amp;gt; a design change that would make it easier to reuse existing Servlet filters as is - which is basically exactly what I am trying to do).&lt;/p&gt;</comment>
                            <comment id="13568215" author="lhazlewood" created="Thu, 31 Jan 2013 23:00:01 +0000"  >&lt;p&gt;Dan, thanks very much for this information.  I think I&apos;ll be able to deep dive into this this weekend.  I hope to have an answer asap!&lt;/p&gt;</comment>
                            <comment id="13604432" author="lhazlewood" created="Sat, 16 Mar 2013 21:49:26 +0000"  >&lt;p&gt;Fixed (with accompanying tests) in 1.2.x branch and trunk (1.3.0-SNAPSHOT)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>304744</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 35 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i17vpb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>254105</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>