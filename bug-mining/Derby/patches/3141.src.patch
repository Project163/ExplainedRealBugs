diff --git a/java/testing/org/apache/derbyTesting/junit/ClassLoaderTestSetup.java b/java/testing/org/apache/derbyTesting/junit/ClassLoaderTestSetup.java
index 8ebad6e04..0231956d4 100644
--- a/java/testing/org/apache/derbyTesting/junit/ClassLoaderTestSetup.java
+++ b/java/testing/org/apache/derbyTesting/junit/ClassLoaderTestSetup.java
@@ -24,7 +24,6 @@ import java.net.URLClassLoader;
 import java.security.AccessController;
 import java.security.PrivilegedAction;
 import junit.framework.Test;
-import org.apache.derbyTesting.functionTests.tests.upgradeTests.UpgradeClassLoader;
 
 /**
  * A decorator that changes the context class loader for the current
@@ -45,15 +44,9 @@ public class ClassLoaderTestSetup extends BaseJDBCTestSetup {
         super(test);
     }
 
-    private static ClassLoader makeClassLoader(final ClassLoader old) {
-        return AccessController.doPrivileged(
-            new PrivilegedAction<URLClassLoader>() {
-                @Override
-                public URLClassLoader run() {
-                        URL[] jars = ((URLClassLoader)old).getURLs();
-                        return new URLClassLoader(jars, null);
-                }
-            });
+    private static ClassLoader makeClassLoader() {
+        PrivilegedAction<ClassLoader> pa = () -> new URLClassLoader(new URL[0]);
+        return AccessController.doPrivileged(pa);
     }
 
     @Override
@@ -61,7 +54,7 @@ public class ClassLoaderTestSetup extends BaseJDBCTestSetup {
         super.setUp();
         TestConfiguration.getCurrent().shutdownEngine();
         oldLoader = getThreadLoader();
-        setThreadLoader(makeClassLoader(oldLoader));
+        setThreadLoader(makeClassLoader());
     }
 
     @Override
