diff --git a/java/testing/org/apache/derbyTesting/functionTests/tests/upgradeTests/OldVersions.java b/java/testing/org/apache/derbyTesting/functionTests/tests/upgradeTests/OldVersions.java
index c22ada8bb..7af20831b 100644
--- a/java/testing/org/apache/derbyTesting/functionTests/tests/upgradeTests/OldVersions.java
+++ b/java/testing/org/apache/derbyTesting/functionTests/tests/upgradeTests/OldVersions.java
@@ -57,7 +57,7 @@ public class OldVersions
     //Constant for special upgrade testing with both upgrade and create 
     // set. We just test this with one version in the interest of time
     // DERBY-4913
-    public static int VERSION_10_3_3_0_OFFSET = 7;
+    public static int[] VERSION_10_3_3_0=  new int[] {10,3,3,0};
     /**
      * <p>
      * Get an array of versions supported by this platform.
diff --git a/java/testing/org/apache/derbyTesting/functionTests/tests/upgradeTests/PhaseChanger.java b/java/testing/org/apache/derbyTesting/functionTests/tests/upgradeTests/PhaseChanger.java
index a642ebe2b..1064f9662 100644
--- a/java/testing/org/apache/derbyTesting/functionTests/tests/upgradeTests/PhaseChanger.java
+++ b/java/testing/org/apache/derbyTesting/functionTests/tests/upgradeTests/PhaseChanger.java
@@ -79,6 +79,9 @@ final class PhaseChanger extends BaseTestSetup {
                     + "." +  ((int[]) UpgradeChange.oldVersion.get())[3];
             BaseTestCase.traceit("Test upgrade from: " + versStr + ", phase: " 
                     + UpgradeChange.PHASES[phase]);
+            if (UpgradeChange.PHASES[phase].equals("UPGRADE")) {
+                BaseTestCase.traceit("Upgrade attributes = " + upgradeAttributes);
+            }
         }
         
         if (loader != null) {
diff --git a/java/testing/org/apache/derbyTesting/functionTests/tests/upgradeTests/_Suite.java b/java/testing/org/apache/derbyTesting/functionTests/tests/upgradeTests/_Suite.java
index b1d10a9a0..ced802210 100644
--- a/java/testing/org/apache/derbyTesting/functionTests/tests/upgradeTests/_Suite.java
+++ b/java/testing/org/apache/derbyTesting/functionTests/tests/upgradeTests/_Suite.java
@@ -20,6 +20,8 @@ limitations under the License.
 */
 package org.apache.derbyTesting.functionTests.tests.upgradeTests;
 
+import java.util.Arrays;
+
 import junit.framework.Test;
 import junit.framework.TestSuite;
 
@@ -132,7 +134,7 @@ public class _Suite extends BaseTestCase {
         for (int i = 0; i < old.length; i++) {
             // DERBY-4913. Test upgrade and create together for 10.3.3.0 since
             // that combination seems to trigger a different code path.
-            if (i == OldVersions.VERSION_10_3_3_0_OFFSET)
+            if (Arrays.equals(old[i],OldVersions.VERSION_10_3_3_0))
                 suite.addTest(UpgradeRun.suite(old[i], true));
             else
                 suite.addTest(UpgradeRun.suite(old[i], false));
