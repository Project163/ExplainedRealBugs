diff --git a/java/client/org/apache/derby/client/net/NetConnection.java b/java/client/org/apache/derby/client/net/NetConnection.java
index 25cc6aae1..dbe30e600 100644
--- a/java/client/org/apache/derby/client/net/NetConnection.java
+++ b/java/client/org/apache/derby/client/net/NetConnection.java
@@ -128,6 +128,13 @@ public class NetConnection extends org.apache.derby.client.am.Connection {
 
     // stored the password for deferred reset only.
     private transient char[] deferredResetPassword_ = null;
+    
+    //If Network Server gets null connection from the embedded driver, 
+    //it sends RDBAFLRM followed by SQLCARD with null SQLException.
+    //Client will parse the SQLCARD and set connectionNull to true if the
+    //SQLCARD is empty. If connectionNull=true, connect method in 
+    //ClientDriver will in turn return null connection.
+    private boolean connectionNull = false;
 
     private void setDeferredResetPassword(String password) {
         deferredResetPassword_ = (password == null) ? null : flipBits(password.toCharArray());
@@ -186,7 +193,8 @@ public class NetConnection extends org.apache.derby.client.am.Connection {
         String password = ClientDataSource.getPassword(properties);
         securityMechanism_ = ClientDataSource.getSecurityMechanism(properties);
         flowConnect(password, securityMechanism_);
-        completeConnect();
+        if(!isConnectionNull())
+        	completeConnect();
     }
 
     // For JDBC 2 Connections
@@ -1502,5 +1510,18 @@ public class NetConnection extends org.apache.derby.client.am.Connection {
         agent_.flowOutsideUOW();
         agent_.endReadChain();
     }
+    
+	/**
+	 * @return Returns the connectionNull.
+	 */
+	public boolean isConnectionNull() {
+		return connectionNull;
+	}
+	/**
+	 * @param connectionNull The connectionNull to set.
+	 */
+	public void setConnectionNull(boolean connectionNull) {
+		this.connectionNull = connectionNull;
+	}
 }
 
diff --git a/java/client/org/apache/derby/client/net/NetConnectionReply.java b/java/client/org/apache/derby/client/net/NetConnectionReply.java
index 5abdf7ca9..5712e62db 100644
--- a/java/client/org/apache/derby/client/net/NetConnectionReply.java
+++ b/java/client/org/apache/derby/client/net/NetConnectionReply.java
@@ -485,7 +485,12 @@ public class NetConnectionReply extends Reply
         }
 
         NetSqlca netSqlca = parseSQLCARD(null);
-        netConnection.completeSqlca(netSqlca);
+        
+        //Check if the SQLCARD has null SQLException
+        if(netSqlca.getSqlErrmc() == null)
+        	netConnection.setConnectionNull(true);
+        else
+        	netConnection.completeSqlca(netSqlca);
     }
 
 
diff --git a/java/client/org/apache/derby/jdbc/ClientDriver.java b/java/client/org/apache/derby/jdbc/ClientDriver.java
index a6d8d0147..3480b2879 100644
--- a/java/client/org/apache/derby/jdbc/ClientDriver.java
+++ b/java/client/org/apache/derby/jdbc/ClientDriver.java
@@ -129,6 +129,10 @@ public class ClientDriver implements java.sql.Driver {
                         port,
                         database,
                         augmentedProperties);
+        
+        if(conn.isConnectionNull())
+        	return null;
+        
         return conn;
     }
 
diff --git a/java/drda/org/apache/derby/impl/drda/DRDAConnThread.java b/java/drda/org/apache/derby/impl/drda/DRDAConnThread.java
index 834391424..5e5ae33f6 100755
--- a/java/drda/org/apache/derby/impl/drda/DRDAConnThread.java
+++ b/java/drda/org/apache/derby/impl/drda/DRDAConnThread.java
@@ -973,6 +973,13 @@ public class DRDAConnThread extends Thread {
 		verifyRequiredObject(codePoint,CodePoint.ACCRDB);
 		int svrcod = parseACCRDB();
 
+		//If network server gets a null connection form InternalDriver, reply with
+		//RDBAFLRM and SQLCARD with null SQLException 
+		if(database.getConnection() == null && databaseAccessException == null){
+			writeRDBfailure(CodePoint.RDBAFLRM);
+			return false;
+		}		
+		
 		//if earlier we couldn't access the database
 		if (databaseAccessException != null)
 		{
@@ -983,43 +990,16 @@ public class DRDAConnThread extends Thread {
 				|| failureType == CodePoint.RDBATHRM)
 			{
 				writeRDBfailure(failureType);
-				writeSQLCARD(databaseAccessException,
-					CodePoint.SVRCOD_ERROR,0,0);
 			}
 			else
 			{
 				writeRDBfailure(CodePoint.RDBAFLRM);
-
-				// RDBAFLRM requires TYPDEFNAM and TYPDEFOVR
-				writer.createDssObject();
-				writer.writeScalarString(CodePoint.TYPDEFNAM,
-										 CodePoint.TYPDEFNAM_QTDSQLASC);
-				writeTYPDEFOVR();
-				writer.endDss();
-
-				// Finally, per DDM spec, "an SQLCARD always follows
-				// the RDBAFLRM".
-				writeSQLCARD(databaseAccessException,
-							 CodePoint.SVRCOD_ERROR,0,0);
 			}
-
-			// Ignore anything that was chained to the ACCRDB.
-			skipRemainder(false);
-
-			// Finalize chain state for whatever we wrote in
-			// response to ACCRDB.
-			finalizeChain();
 			return false;
 		}
 		else if (database.accessCount > 1 )	// already in conversation with database
 		{
 			writeRDBfailure(CodePoint.RDBACCRM);
-
-			// Ignore anything that was chained to the ACCRDB.
-			skipRemainder(false);
-
-			// Finalize chain state for RDBACCRM
-			finalizeChain();
 			return false;
 		}
 		else // everything is fine 
@@ -1049,7 +1029,28 @@ public class DRDAConnThread extends Thread {
 		writer.writeScalar2Bytes(CodePoint.SVRCOD, CodePoint.SVRCOD_ERROR);
 		writeRDBNAM(database.dbName);
     	writer.endDdmAndDss();
-
+    	
+    	switch(codePoint){
+    		case CodePoint.RDBAFLRM:
+    			//RDBAFLRM requires TYPDEFNAM and TYPDEFOVR
+    			writer.createDssObject();
+    			writer.writeScalarString(CodePoint.TYPDEFNAM,
+    									 CodePoint.TYPDEFNAM_QTDSQLASC);
+    			writeTYPDEFOVR();
+    			writer.endDss();
+    		case CodePoint.RDBNFNRM:
+    		case CodePoint.RDBATHRM:
+    			writeSQLCARD(databaseAccessException,CodePoint.SVRCOD_ERROR,0,0);
+    		case CodePoint.RDBACCRM:
+    			//Ignore anything that was chained to the ACCRDB.
+    			skipRemainder(false);
+
+    			// Finalize chain state for whatever we wrote in
+    			// response to ACCRDB.
+    			finalizeChain();
+    			break;
+    	}
+    	
 	}
 
 	/* Check the database access exception and return the appropriate
diff --git a/java/drda/org/apache/derby/impl/drda/Database.java b/java/drda/org/apache/derby/impl/drda/Database.java
index 86469ce0c..2e7981d86 100755
--- a/java/drda/org/apache/derby/impl/drda/Database.java
+++ b/java/drda/org/apache/derby/impl/drda/Database.java
@@ -116,7 +116,8 @@ class Database
 		throws SQLException
 	{
 		this.conn = conn;
-		defaultStatement.setStatement(conn);
+		if(conn != null)
+			defaultStatement.setStatement(conn);
 	}
 	/**
 	 * Get the connection
@@ -245,9 +246,11 @@ class Database
                 // take care of case of SECMEC_USRIDONL
                 if(password != null) 
 		    p.put(Attribute.PASSWORD_ATTR, password);
-		Connection conn = NetworkServerControlImpl.getDriver().connect(Attribute.PROTOCOL
-							 + dbName + attrString, p);
-		conn.setAutoCommit(false);
+        Connection conn = NetworkServerControlImpl.getDriver().connect(Attribute.PROTOCOL
+							 + shortDbName + attrString, p);
+		if(conn != null){
+			conn.setAutoCommit(false);
+		}
 		setConnection(conn);
 		return conn;
 	}
diff --git a/java/testing/org/apache/derbyTesting/functionTests/master/DerbyNetClient/checkDriver.out b/java/testing/org/apache/derbyTesting/functionTests/master/DerbyNetClient/checkDriver.out
index f1c328a53..5c79c4371 100644
--- a/java/testing/org/apache/derbyTesting/functionTests/master/DerbyNetClient/checkDriver.out
+++ b/java/testing/org/apache/derbyTesting/functionTests/master/DerbyNetClient/checkDriver.out
@@ -42,3 +42,20 @@ getURL() = jdbc:derby://localhost:1527/testpropdb;traceFile=[DERBY_SYSTEM_HOME]/
 getUserName() = APP
 CURRENT SCHEMA = APP
  trace file exists
+doClientURLTest()
+doClientURLTest with url: jdbc:derby://localhost:1527/wombat:create=true
+Null connection returned for url jdbc:derby://localhost:1527/wombat:create=true
+doClientURLTest with url: jdbc:derby://localhost:1527/[DERBY_SYSTEM_HOME]/wombat:create=true
+EXPECTED EXCEPTION:DERBY SQL error: SQLCODE: -1, SQLSTATE: XJ040, SQLERRMC: Failed to start database '[DERBY_SYSTEM_HOME]/wombat:create=true', see the next exception for details.::SQLSTATE: XJ001Java exception: 'The filename, directory name, or volume label syntax is incorrect: java.io.IOException'.
+doClientURLTest with url: jdbc:derby://localhost:1527/"wombat";create=true
+EXPECTED EXCEPTION:DERBY SQL error: SQLCODE: -1, SQLSTATE: XJ041, SQLERRMC: Failed to create database '"wombat"', see the next exception for details.::SQLSTATE: XBM0HDirectory [DERBY_SYSTEM_HOME]/"wombat" cannot be created.
+doClientURLTest with url: jdbc:derby://localhost:1527/"[DERBY_SYSTEM_HOME]/wombat";create=true
+Null connection returned for url jdbc:derby://localhost:1527/"[DERBY_SYSTEM_HOME]/wombat";create=true
+doClientURLTest with url: jdbc:derby://localhost:1527/'[DERBY_SYSTEM_HOME]/wombat';create=true
+Null connection returned for url jdbc:derby://localhost:1527/'[DERBY_SYSTEM_HOME]/wombat';create=true
+doClientURLTest with url: jdbc:derby://localhost:1527/'wombat';create=true
+Connection info for connect(jdbc:derby://localhost:1527/'wombat';create=true, null)
+getURL() = jdbc:derby://localhost:1527/'wombat';create=true
+getUserName() = APP
+CURRENT SCHEMA = APP
+PASSED:Connection Successful with url: jdbc:derby://localhost:1527/'wombat';create=true
diff --git a/java/testing/org/apache/derbyTesting/functionTests/tests/jdbcapi/checkDriver.java b/java/testing/org/apache/derbyTesting/functionTests/tests/jdbcapi/checkDriver.java
index 36c7ea576..cb138fa0d 100644
--- a/java/testing/org/apache/derbyTesting/functionTests/tests/jdbcapi/checkDriver.java
+++ b/java/testing/org/apache/derbyTesting/functionTests/tests/jdbcapi/checkDriver.java
@@ -49,6 +49,19 @@ public class checkDriver {
 	
 	private static String DERBY_SYSTEM_HOME = System.getProperty("derby.system.home");
 	
+	private static String CLIENT_URL_WITH_COLON1 = 
+		"jdbc:derby://localhost:1527/wombat:create=true";
+	private static String CLIENT_URL_WITH_COLON2 = 
+		"jdbc:derby://localhost:1527/"+ DERBY_SYSTEM_HOME + File.separator +"wombat:create=true";
+	private static String CLIENT_URL_WITH_DOUBLE_QUOTES1 = 
+		"jdbc:derby://localhost:1527/\"wombat\";create=true"; 
+	private static String CLIENT_URL_WITH_DOUBLE_QUOTES2 = 
+		"jdbc:derby://localhost:1527/\"" + DERBY_SYSTEM_HOME + File.separator + "wombat\";create=true";
+	private static String CLIENT_URL_WITH_SINGLE_QUOTES1 = 
+		"jdbc:derby://localhost:1527/'" + DERBY_SYSTEM_HOME + File.separator + "wombat';create=true";
+	private static String CLIENT_URL_WITH_SINGLE_QUOTES2 = 
+		"jdbc:derby://localhost:1527/'wombat';create=true";
+	
 	// URLS to check.  New urls need to also be added to the acceptsUrl table
 	private static String[] urls = new String[]
 	{
@@ -58,6 +71,16 @@ public class checkDriver {
 		INVALID_URL,
 	};
 	
+	//Client URLS
+	private static String[] clientUrls = new String[]
+	{
+		CLIENT_URL_WITH_COLON1,
+		CLIENT_URL_WITH_COLON2,
+		CLIENT_URL_WITH_DOUBLE_QUOTES1,
+		CLIENT_URL_WITH_DOUBLE_QUOTES2,
+		CLIENT_URL_WITH_SINGLE_QUOTES1,
+		CLIENT_URL_WITH_SINGLE_QUOTES2
+	};
 	
 	/**
 	 * url prefix for this framework
@@ -102,6 +125,7 @@ public class checkDriver {
 			checkAcceptsURL(driver);
 			testEmbeddedAttributes(driver);
 			testClientAttributes(driver);
+			doClientURLTest(driver);
 		}
 		catch (SQLException se)
 		{
@@ -320,6 +344,34 @@ public class checkDriver {
 
 	}
 	
+	/**
+	 * Tests client URLs to see connection is successful or the correct exception is thrown.
+	 * 
+	 * @param driver
+	 * @throws SQLException
+	 */
+	private static void doClientURLTest(Driver driver){
+		if (!TestUtil.isDerbyNetClientFramework())
+			return;
+		
+		System.out.println("doClientURLTest()");
+		Properties info = null;		//test with null Properties object
+
+		for (int i = 0; i < clientUrls.length;i++)
+		{
+			String url = clientUrls[i];
+			System.out.println("doClientURLTest with url: " + replaceSystemHome(url));
+			try{
+				Connection conn = testConnect(driver,url,info);
+				if(conn != null)
+					System.out.println("PASSED:Connection Successful with url: " + replaceSystemHome(url) );
+			}
+			catch(SQLException se){
+				System.out.println("EXPECTED EXCEPTION:"+replaceSystemHome(se.getMessage()));
+			}
+		}
+	}	
+	
 	/**
 	 * Make  java.sql.Driver.connect(String url, Properties info call) and print the status of
 	 * the connection.
@@ -330,7 +382,7 @@ public class checkDriver {
 	 * 
 	 * @throws SQLException on error.
 	 */
-	private static void testConnect(Driver driver, String url, Properties info) throws SQLException
+	private static Connection testConnect(Driver driver, String url, Properties info) throws SQLException
 	{
 		String infoString = null;
 		if (info != null)
@@ -338,6 +390,11 @@ public class checkDriver {
 		String urlString = replaceSystemHome(url);
 		Connection conn = driver.connect(url,info);
 		
+		if(conn == null){
+			System.out.println("Null connection returned for url "+urlString);
+			return conn;
+		}
+		
 		System.out.println("\nConnection info for connect(" + urlString + ", " + infoString +")");
 		String getUrlValue = conn.getMetaData().getURL();
 		// URL may include path of DERBY_SYSTEM_HOME for traceFile
@@ -350,7 +407,7 @@ public class checkDriver {
 		rs.next();
 		System.out.println("CURRENT SCHEMA = " + rs.getString(1));
 		conn.close();
-
+		return conn;
 	}
 
 
