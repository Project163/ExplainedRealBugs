diff --git a/java/engine/org/apache/derby/impl/jdbc/SQLExceptionFactory40.java b/java/engine/org/apache/derby/impl/jdbc/SQLExceptionFactory40.java
index 816394040..9bee31321 100644
--- a/java/engine/org/apache/derby/impl/jdbc/SQLExceptionFactory40.java
+++ b/java/engine/org/apache/derby/impl/jdbc/SQLExceptionFactory40.java
@@ -131,7 +131,21 @@ public class SQLExceptionFactory40 extends SQLExceptionFactory {
 	private	SQLException	wrapArgsForTransportAcrossDRDA
 	( String message, String messageId, SQLException next, int severity, Throwable t, Object[] args )
 	{
-		return super.getSQLException( message, messageId, next, severity, t, args );
+        // Generate an EmbedSQLException
+        SQLException e =
+            super.getSQLException(message, messageId, next, severity, t, args);
+
+        // We want to preserve the stack trace of the original
+        // exception. EmbedSQLException overrides printStackTrace() to achieve
+        // this, but that won't help us when the EmbedSQLException is not the
+        // first exception in the chain. Ideally, we would use initCause(), but
+        // a comment in EmbedSQLException indicates that the cause of the
+        // exception is not supposed to be serialized.
+        if (t != null) {
+            e.setStackTrace(t.getStackTrace());
+        }
+
+        return e;
 	}
 	
 }
