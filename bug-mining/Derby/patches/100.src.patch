diff --git a/java/client/org/apache/derby/client/am/Connection.java b/java/client/org/apache/derby/client/am/Connection.java
index 21a0d55d3..e366aeafb 100644
--- a/java/client/org/apache/derby/client/am/Connection.java
+++ b/java/client/org/apache/derby/client/am/Connection.java
@@ -156,7 +156,11 @@ public abstract class Connection implements java.sql.Connection,
 
         // Extract common properties.
         // Derby-409 fix
-        databaseName_ = dataSource.getDatabaseName() + ";" + dataSource.getConnectionAttributes();
+        if (dataSource.getConnectionAttributes() != null) {
+            databaseName_ = dataSource.getDatabaseName() + ";" + dataSource.getConnectionAttributes();
+        } else {
+            databaseName_ = dataSource.getDatabaseName();
+        }
         retrieveMessageText_ = dataSource.getRetrieveMessageText();
 
         loginTimeout_ = dataSource.getLoginTimeout();
diff --git a/java/client/org/apache/derby/jdbc/ClientBaseDataSource.java b/java/client/org/apache/derby/jdbc/ClientBaseDataSource.java
index 0db632b51..0e8cb7bca 100644
--- a/java/client/org/apache/derby/jdbc/ClientBaseDataSource.java
+++ b/java/client/org/apache/derby/jdbc/ClientBaseDataSource.java
@@ -782,7 +782,7 @@ public abstract class ClientBaseDataSource implements Serializable, Referenceabl
         return getUpgradedSecurityMechanism(securityMechanism, password);
     }
 
-    protected String connectionAttributes = "";
+    protected String connectionAttributes = null;
 
     /**
      * Set this property to pass in more Derby specific connection URL attributes.
@@ -880,6 +880,10 @@ public abstract class ClientBaseDataSource implements Serializable, Referenceabl
      * when set connection attributes is called.
      */
     void updateDataSourceValues(Properties prop) {
+        if (prop == null) {
+            return;
+        }
+        
         if (prop.containsKey(propertyKey_user)) {
             setUser(getUser(prop));
         }
