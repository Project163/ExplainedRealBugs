diff --git a/java/testing/org/apache/derbyTesting/functionTests/tests/store/BootLockMinion.java b/java/testing/org/apache/derbyTesting/functionTests/tests/store/BootLockMinion.java
index 8f0b5e1ff..65b783bf6 100644
--- a/java/testing/org/apache/derbyTesting/functionTests/tests/store/BootLockMinion.java
+++ b/java/testing/org/apache/derbyTesting/functionTests/tests/store/BootLockMinion.java
@@ -24,7 +24,8 @@ package org.apache.derbyTesting.functionTests.tests.store;
 import java.sql.Connection;
 import java.sql.Statement;
 import java.io.File;
-import org.apache.derby.jdbc.EmbeddedDataSource;
+import javax.sql.DataSource;
+import org.apache.derbyTesting.junit.JDBCDataSource;
 
 /**
  * Create and boot the supplied db argument. This auxiliary program is used by
@@ -46,9 +47,8 @@ public class BootLockMinion {
                            "BootLockMinion.log");
         try
         {
-            EmbeddedDataSource ds = new EmbeddedDataSource();
-            ds.setDatabaseName(dbName);
-            ds.setCreateDatabase("create");
+            DataSource ds = JDBCDataSource.getDataSource(dbName);
+            JDBCDataSource.setBeanProperty(ds, "createDatabase", "create");
 
             con = ds.getConnection();
             stmt = con.createStatement();
diff --git a/java/testing/org/apache/derbyTesting/functionTests/tests/store/BootLockTest.java b/java/testing/org/apache/derbyTesting/functionTests/tests/store/BootLockTest.java
index 1c14dd262..ccb9b41fa 100644
--- a/java/testing/org/apache/derbyTesting/functionTests/tests/store/BootLockTest.java
+++ b/java/testing/org/apache/derbyTesting/functionTests/tests/store/BootLockTest.java
@@ -60,8 +60,7 @@ public class BootLockTest extends BaseJDBCTestCase {
     
     private static String[] cmd = new String[]{
         "org.apache.derbyTesting.functionTests.tests.store.BootLockMinion",
-        dbDir,
-        ""
+        dbName,
     };
 
     private final static String DATA_MULTIPLE_JBMS_ON_DB = "XSDB6";
@@ -147,7 +146,7 @@ public class BootLockTest extends BaseJDBCTestCase {
             }
         }
         // Since all went OK, no need to keep the minion log file.
-        File minionLog = new File("BootLockMinion.log");
+        File minionLog = new File(DEFAULT_DB_DIR, "BootLockMinion.log");
         assertTrue(minionLog.delete());
 
         if (JDBC.vmSupportsJSR169()) {
