diff --git a/java/client/org/apache/derby/jdbc/ClientDriver.java b/java/client/org/apache/derby/jdbc/ClientDriver.java
index e7d45d6ba..0777b693b 100644
--- a/java/client/org/apache/derby/jdbc/ClientDriver.java
+++ b/java/client/org/apache/derby/jdbc/ClientDriver.java
@@ -317,7 +317,8 @@ public class ClientDriver implements java.sql.Driver {
     private static String tokenizeDatabase(java.util.StringTokenizer urlTokenizer,
                                            String url) throws SqlException {
         try {
-            String databaseName = urlTokenizer.nextToken(" \t\n\r\f;");
+        	// DERBY-618 - database name can contain spaces in the path
+            String databaseName = urlTokenizer.nextToken("\t\n\r\f;");
             return databaseName;
         } catch (java.util.NoSuchElementException e) {
             // A null log writer is passed, because jdbc 1 sqlexceptions are automatically traced
diff --git a/java/testing/org/apache/derbyTesting/functionTests/master/DerbyNet/checkDriver.out b/java/testing/org/apache/derbyTesting/functionTests/master/DerbyNet/checkDriver.out
index a2e7230b2..07912843f 100644
--- a/java/testing/org/apache/derbyTesting/functionTests/master/DerbyNet/checkDriver.out
+++ b/java/testing/org/apache/derbyTesting/functionTests/master/DerbyNet/checkDriver.out
@@ -5,3 +5,10 @@ checking acceptsURL(jdbc:derby:wombat;create=true)
 checking acceptsURL(jdbc:derby://xxxFILTERED_HOSTNAMExxx:1527/wombat;create=true)
 checking acceptsURL(jdbc:derby:net://xxxFILTERED_HOSTNAMExxx:1527/wombat;create=true)
 checking acceptsURL(jdbc:db2j:wombat;create=true)
+START testDbNameWithSpaces ...
+Connection info for connect(jdbc:derby:net://xxxFILTERED_HOSTNAMExxx:1527/db name with spaces;create=true, {user=tester, password=testpass})
+getURL() = jdbc:derby:net://xxxFILTERED_HOSTNAMExxx:1527/db name with spaces;create=true
+getUserName() = tester
+CURRENT SCHEMA = TESTER
+PASSED:Connection Successful with url: jdbc:derby:net://xxxFILTERED_HOSTNAMExxx:1527/db name with spaces;create=true
+testDbNameWithSpaces PASSED - Database created successfully
diff --git a/java/testing/org/apache/derbyTesting/functionTests/master/DerbyNetClient/checkDriver.out b/java/testing/org/apache/derbyTesting/functionTests/master/DerbyNetClient/checkDriver.out
index c5b1603da..13476a311 100644
--- a/java/testing/org/apache/derbyTesting/functionTests/master/DerbyNetClient/checkDriver.out
+++ b/java/testing/org/apache/derbyTesting/functionTests/master/DerbyNetClient/checkDriver.out
@@ -51,3 +51,10 @@ getURL() = jdbc:derby://xxxFILTERED_HOSTNAMExxx:1527/'wombat';create=true
 getUserName() = APP
 CURRENT SCHEMA = APP
 PASSED:Connection Successful with url: jdbc:derby://xxxFILTERED_HOSTNAMExxx:1527/'wombat';create=true
+START testDbNameWithSpaces ...
+Connection info for connect(jdbc:derby://xxxFILTERED_HOSTNAMExxx:1527/db name with spaces;create=true, null)
+getURL() = jdbc:derby://xxxFILTERED_HOSTNAMExxx:1527/db name with spaces;create=true
+getUserName() = APP
+CURRENT SCHEMA = APP
+PASSED:Connection Successful with url: jdbc:derby://xxxFILTERED_HOSTNAMExxx:1527/db name with spaces;create=true
+testDbNameWithSpaces PASSED - Database created successfully
diff --git a/java/testing/org/apache/derbyTesting/functionTests/master/checkDriver.out b/java/testing/org/apache/derbyTesting/functionTests/master/checkDriver.out
index b23f22dcc..026d700b0 100644
--- a/java/testing/org/apache/derbyTesting/functionTests/master/checkDriver.out
+++ b/java/testing/org/apache/derbyTesting/functionTests/master/checkDriver.out
@@ -31,3 +31,10 @@ getURL() = jdbc:derby:testpropdb
 getUserName() = testuser
 CURRENT SCHEMA = TESTUSER
 Expected Exception:08006:Database 'testcreatedb1' shutdown.
+START testDbNameWithSpaces ...
+Connection info for connect(jdbc:derby:db name with spaces;create=true, null)
+getURL() = jdbc:derby:db name with spaces
+getUserName() = APP
+CURRENT SCHEMA = APP
+PASSED:Connection Successful with url: jdbc:derby:db name with spaces;create=true
+testDbNameWithSpaces PASSED - Database created successfully
diff --git a/java/testing/org/apache/derbyTesting/functionTests/master/j9_13/checkDriver.out b/java/testing/org/apache/derbyTesting/functionTests/master/j9_13/checkDriver.out
index 9103ef9e5..159f0956b 100644
--- a/java/testing/org/apache/derbyTesting/functionTests/master/j9_13/checkDriver.out
+++ b/java/testing/org/apache/derbyTesting/functionTests/master/j9_13/checkDriver.out
@@ -31,3 +31,10 @@ getURL() = jdbc:derby:testpropdb
 getUserName() = testuser
 CURRENT SCHEMA = TESTUSER
 Expected Exception:08006:Database 'testcreatedb1' shutdown.
+START testDbNameWithSpaces ...
+Connection info for connect(jdbc:derby:db name with spaces;create=true, null)
+getURL() = jdbc:derby:db name with spaces
+getUserName() = APP
+CURRENT SCHEMA = APP
+PASSED:Connection Successful with url: jdbc:derby:db name with spaces;create=true
+testDbNameWithSpaces PASSED - Database created successfully
diff --git a/java/testing/org/apache/derbyTesting/functionTests/master/j9_22/checkDriver.out b/java/testing/org/apache/derbyTesting/functionTests/master/j9_22/checkDriver.out
index b23f22dcc..026d700b0 100644
--- a/java/testing/org/apache/derbyTesting/functionTests/master/j9_22/checkDriver.out
+++ b/java/testing/org/apache/derbyTesting/functionTests/master/j9_22/checkDriver.out
@@ -31,3 +31,10 @@ getURL() = jdbc:derby:testpropdb
 getUserName() = testuser
 CURRENT SCHEMA = TESTUSER
 Expected Exception:08006:Database 'testcreatedb1' shutdown.
+START testDbNameWithSpaces ...
+Connection info for connect(jdbc:derby:db name with spaces;create=true, null)
+getURL() = jdbc:derby:db name with spaces
+getUserName() = APP
+CURRENT SCHEMA = APP
+PASSED:Connection Successful with url: jdbc:derby:db name with spaces;create=true
+testDbNameWithSpaces PASSED - Database created successfully
diff --git a/java/testing/org/apache/derbyTesting/functionTests/tests/jdbcapi/checkDriver.java b/java/testing/org/apache/derbyTesting/functionTests/tests/jdbcapi/checkDriver.java
index a22c0b3a8..534922396 100644
--- a/java/testing/org/apache/derbyTesting/functionTests/tests/jdbcapi/checkDriver.java
+++ b/java/testing/org/apache/derbyTesting/functionTests/tests/jdbcapi/checkDriver.java
@@ -57,6 +57,13 @@ public class checkDriver {
 	private static String CLIENT_URL_WITH_SINGLE_QUOTES1; 
 	private static String CLIENT_URL_WITH_SINGLE_QUOTES2;
 	
+	// DERBY-618 - Database name with spaces
+	private static String DB_NAME_WITH_SPACES = "db name with spaces";
+	private static String EMBEDDED_URL_WITH_SPACES = "jdbc:derby:" + 
+										DB_NAME_WITH_SPACES + ";create=true";
+	private static String CLIENT_URL_WITH_SPACES;
+	private static String JCC_URL_WITH_SPACES;
+	
 	/**
 	 * url prefix for this framework
 	 */
@@ -88,6 +95,9 @@ public class checkDriver {
 		CLIENT_URL_WITH_DOUBLE_QUOTES2 = "jdbc:derby://" + hostName + ":1527/\"" + DERBY_SYSTEM_HOME + File.separator + "wombat\";create=true";
 		CLIENT_URL_WITH_SINGLE_QUOTES1 = "jdbc:derby://" + hostName + ":1527/'" + DERBY_SYSTEM_HOME + File.separator + "wombat';create=true";
 		CLIENT_URL_WITH_SINGLE_QUOTES2 = "jdbc:derby://" + hostName + ":1527/'wombat';create=true";
+		
+		CLIENT_URL_WITH_SPACES = "jdbc:derby://" + hostName + ":1527/" + DB_NAME_WITH_SPACES + ";create=true"; 
+		JCC_URL_WITH_SPACES = "jdbc:derby:net://" + hostName + ":1527/" + DB_NAME_WITH_SPACES + ";create=true";
 	}
 
 	// URLS to check.  New urls need to also be added to the acceptsUrl table
@@ -132,6 +142,7 @@ public class checkDriver {
 			testEmbeddedAttributes(driver);
 			testClientAttributes(driver);
 			doClientURLTest(driver);
+			testDbNameWithSpaces(driver);
 		}
 		catch (SQLException se)
 		{
@@ -378,6 +389,53 @@ public class checkDriver {
 		}
 	}	
 	
+	/**
+	 * Tests URL with spaces in database name to check create and connect works. 
+	 * (DERBY-618). Make sure that the specified database gets created. We need 
+	 * to check this because even without the patch for DERBY-618, no exception
+	 * gets thrown when we try to connect to a database name with spaces. 
+	 * Instead, client driver extracts the database name as the string before 
+	 * the first occurence of space separator. Hence the database which gets 
+	 * created is wrong. e.g, if we specified database name as 
+	 * "db name with spaces", the database that got created by client driver 
+	 * was "db", which was wrong. The URL returned by call to 
+	 * conn.getMetaData().getURL() was also wrong.      
+	 * 
+	 * @param driver
+	 * @throws SQLException
+	 */
+	private static void testDbNameWithSpaces(Driver driver) throws SQLException {
+		System.out.println("START testDbNameWithSpaces ...");
+		
+		Connection conn = null;
+		Properties info = null;
+		String url = null;
+		
+		if(TestUtil.isEmbeddedFramework())
+			url = EMBEDDED_URL_WITH_SPACES;
+		else if(TestUtil.isDerbyNetClientFramework()) 
+			url = CLIENT_URL_WITH_SPACES;
+		else if(TestUtil.isJCCFramework()) {
+			url = JCC_URL_WITH_SPACES;
+			// JCC requires user and password
+			info =  new Properties();
+			info.put("user", "tester");
+			info.put("password", "testpass");
+		}
+		
+		conn = testConnect(driver, url, info);
+		if(conn != null)
+			System.out.println("PASSED:Connection Successful with url: " + url );
+		
+		// Check that the specified database (with spaces) is created
+		File file = new File(DERBY_SYSTEM_HOME + File.separator + DB_NAME_WITH_SPACES);
+		if(file.exists())
+			System.out.println("testDbNameWithSpaces PASSED - Database created successfully");
+		else
+			System.out.println("testDbNameWithSpaces FAILED - Database not created correctly");
+		
+	}
+	
 	/**
 	 * Make  java.sql.Driver.connect(String url, Properties info call) and print the status of
 	 * the connection.
