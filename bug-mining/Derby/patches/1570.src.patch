diff --git a/java/testing/org/apache/derbyTesting/functionTests/master/LocalizedConnectionAttribute.out b/java/testing/org/apache/derbyTesting/functionTests/master/LocalizedConnectionAttribute.out
index 455ab02f2..7da44832d 100644
--- a/java/testing/org/apache/derbyTesting/functionTests/master/LocalizedConnectionAttribute.out
+++ b/java/testing/org/apache/derbyTesting/functionTests/master/LocalizedConnectionAttribute.out
@@ -14,141 +14,147 @@ ij> --
 --   See the License for the specific language governing permissions and
 --   limitations under the License.
 --
-IJ Version 10.2
+disconnect;
+ij> connect 'jdbc:derby:detest;create=true;';
 ij> connect 'jdbc:derby:detest;create=true;' as M?nchen;
-FEHLER 42X01: Syntax error: Encountered "connect" at line 1, column 1.
-ij> drop table deta;
-FEHLER 42Y55: 'DROP TABLE' cannot be performed on 'DETA' because it does not exist.
-ij> create table detab ( dc1 decimal(5,3), dc3 date, dc2 char(200) );
-0 Zeilen eingef EnC:>197< gt/aktualisiert/gel EnC:>238< scht
-ij> insert into detab values(1.123,date('2000-01-25'),'Zuviele Programme gefunden. Versuchen Sie es erneut.');
-1 Zeile eingef EnC:>197< gt/aktualisiert/gel EnC:>238< scht
-ij> insert into detab values(2.123,date('2000-02-24'),'Nur Teile der Entwicklungsdatenbank gefunden.');
-1 Zeile eingef EnC:>197< gt/aktualisiert/gel EnC:>238< scht
-ij> insert into detab values(3.123,date('2000-03-23'),'Mehr als eine Instanz der Tabelle %s in Entwicklungsdatenbank gefunden.');
-1 Zeile eingef EnC:>197< gt/aktualisiert/gel EnC:>238< scht
-ij> insert into detab values(4.123,date('2000-04-22'),'Mehr als einen Runner-Datensatz f?r dieses Programm gefunden.');
-1 Zeile eingef EnC:>197< gt/aktualisiert/gel EnC:>238< scht
-ij> insert into detab values(5.123,date('2000-05-21'),'Es kann nur eine BEFORE- oder AFTER INPUT/CONSTRUCT-Klausel in einer ');
-1 Zeile eingef EnC:>197< gt/aktualisiert/gel EnC:>238< scht
-ij> insert into detab values(6.123,date('2000-06-20'),'INPUT-/CONSTRUCT-Anweisung erscheinen.');
-1 Zeile eingef EnC:>197< gt/aktualisiert/gel EnC:>238< scht
-ij> insert into detab values(7.123,date('2000-07-19'),'Die Funktion %s kann nur in einer INPUT- oder CONSTRUCT-Anweisung ');
-1 Zeile eingef EnC:>197< gt/aktualisiert/gel EnC:>238< scht
-ij> insert into detab values(8.123,date('2000-08-18'),'Fglpc, der Pcode-Kompiler, ist nicht in Ihrem Pfad vorhanden.');
-1 Zeile eingef EnC:>197< gt/aktualisiert/gel EnC:>238< scht
-ij> insert into detab values(9.123,date('2000-09-17'),'Kann Runner %s nicht finden.');
-1 Zeile eingef EnC:>197< gt/aktualisiert/gel EnC:>238< scht
-ij> insert into detab values(10.123,date('2000-10-16'),'I/O-Fehler beim Laufen von fglc: %s.');
-1 Zeile eingef EnC:>197< gt/aktualisiert/gel EnC:>238< scht
-ij> insert into detab values(11.123,date('2000-11-15'),'I/O-Fehler beim Ausf?hren von fglc.');
-1 Zeile eingef EnC:>197< gt/aktualisiert/gel EnC:>238< scht
-ij> insert into detab values(12.123,date('2000-12-14'),'Kann Datei %s nicht ?ffnen, um den Wert einer TEXT-Variable zu lesen.');
-1 Zeile eingef EnC:>197< gt/aktualisiert/gel EnC:>238< scht
-ij> insert into detab values(13.123,date('2000-01-13'),'Der angegebene WORDWRAP RIGHT MARGIN-Wert liegt au?erhalb des Bereichs.');
-1 Zeile eingef EnC:>197< gt/aktualisiert/gel EnC:>238< scht
-ij> insert into detab values(14.123,date('2000-02-12'),'als oder gleich dem Wert des rechten Reportrands sein.');
-1 Zeile eingef EnC:>197< gt/aktualisiert/gel EnC:>238< scht
-ij> insert into detab values(15.123,date('2000-03-11'),'4GL unterst?tzt nicht die Ausgabe einer Blob-Variable.');
-1 Zeile eingef EnC:>197< gt/aktualisiert/gel EnC:>238< scht
-ij> insert into detab values(16.123,date('2000-04-10'),'Die HELP- und ATTRIBUTE-Klauseln k?nnen jeweils nur einmal definiert werden.');
-1 Zeile eingef EnC:>197< gt/aktualisiert/gel EnC:>238< scht
-ij> insert into detab values(17.123,date('2000-05-09'),'Ein Feld des INTERVAL-Kennzeichners liegt au?erhalb des Bereichs.');
-1 Zeile eingef EnC:>197< gt/aktualisiert/gel EnC:>238< scht
-ij> insert into detab values(18.123,date('2000-06-08'),'Der Bereich geht von YEAR TO MONTH und von DAY TO FRACTION.');
-1 Zeile eingef EnC:>197< gt/aktualisiert/gel EnC:>238< scht
-ij> insert into detab values(19.123,date('2000-07-07'),'Das Anlegen von Indizes ist hier nicht erlaubt.');
-1 Zeile eingef EnC:>197< gt/aktualisiert/gel EnC:>238< scht
-ij> insert into detab values(20.123,date('2000-08-06'),'Hier wird die Eingabe des Spaltennamen erwartet.');
-1 Zeile eingef EnC:>197< gt/aktualisiert/gel EnC:>238< scht
-ij> insert into detab values(21.123,date('2000-09-05'),'Hier wird die Eingabe des Tabellennamen erwartet.');
-1 Zeile eingef EnC:>197< gt/aktualisiert/gel EnC:>238< scht
-ij> insert into detab values(22.123,date('2000-10-04'),'Der eigentliche Spaltenname kann hier nicht angegeben werden.');
-1 Zeile eingef EnC:>197< gt/aktualisiert/gel EnC:>238< scht
-ij> insert into detab values(23.123,date('2000-11-03'),'Die maximale Gr??e f?r Varchar mu? zwischen 1 und 255 liegen.');
-1 Zeile eingef EnC:>197< gt/aktualisiert/gel EnC:>238< scht
-ij> insert into detab values(24.123,date('2000-12-02'),'Kann keine tempor?re Datei %s anlegen, um eine Blob-Variable aufzunehmen.');
-1 Zeile eingef EnC:>197< gt/aktualisiert/gel EnC:>238< scht
-ij> insert into detab values(25.123,date('2000-11-01'),'Symbol %s mu? ein SQL-Datenbank-Elementname sein - entweder ein ');
-1 Zeile eingef EnC:>197< gt/aktualisiert/gel EnC:>238< scht
-ij> insert into detab values(26.123,date('2000-10-28'),'Datenbankname, ein Tabellenname oder ein Spaltenname.');
-1 Zeile eingef EnC:>197< gt/aktualisiert/gel EnC:>238< scht
-ij> insert into detab values(27.123,date('2000-09-29'),'DATETIME-Einheiten k?nnen nur YEAR, MONTH, DAY, HOUR, MINUTE,');
-1 Zeile eingef EnC:>197< gt/aktualisiert/gel EnC:>238< scht
-ij> insert into detab values(28.123,date('2000-08-30'),'Eingeklammerte Genauigkeit von FRACTION mu? zwischen 1 und 5 liegen.');
-1 Zeile eingef EnC:>197< gt/aktualisiert/gel EnC:>238< scht
-ij> insert into detab values(29.123,date('2000-07-31'),'F?r andere Zeiteinheiten kann keine Genauigkeit definiert werden.');
-1 Zeile eingef EnC:>197< gt/aktualisiert/gel EnC:>238< scht
-ij> insert into detab values(30.123,date('2000-06-25'),'Das Startfeld von DATETIME oder INTERVAL-Kennzeichnern mu? in der ');
-1 Zeile eingef EnC:>197< gt/aktualisiert/gel EnC:>238< scht
-ij> insert into detab values(31.123,date('2000-05-25'),'Zeitliste vor dem Endfeld stehen.');
-1 Zeile eingef EnC:>197< gt/aktualisiert/gel EnC:>238< scht
-ij> insert into detab values(32.123,date('2000-04-25'),'Entladen in Datei %s mi?lungen.');
-1 Zeile eingef EnC:>197< gt/aktualisiert/gel EnC:>238< scht
-ij> insert into detab values(33.123,date('2000-03-25'),'Laden aus Datei %s mi?lungen.');
-1 Zeile eingef EnC:>197< gt/aktualisiert/gel EnC:>238< scht
-ij> insert into detab values(34.123,date('2000-02-25'),'Das Programm kann eine DISPLAY ARRAY-Anweisung an dieser Stelle nicht');
-1 Zeile eingef EnC:>197< gt/aktualisiert/gel EnC:>238< scht
-ij> insert into detab values(35.123,date('2000-01-25'),'beenden, weil es sich nicht in einer DISPLAY ARRAY-Anweisung befindet.');
-1 Zeile eingef EnC:>197< gt/aktualisiert/gel EnC:>238< scht
-ij> insert into detab values(36.123,date('2000-02-25'),'Das Programm kann eine INPUT-Anweisung an dieser Stelle nicht beenden,');
-1 Zeile eingef EnC:>197< gt/aktualisiert/gel EnC:>238< scht
-ij> insert into detab values(37.123,date('2000-04-25'),'weil es sich nicht in einer INPUT-Anweisung befindet.');
-1 Zeile eingef EnC:>197< gt/aktualisiert/gel EnC:>238< scht
-ij> insert into detab values(38.123,date('2000-05-25'),'Konnte Datei %s nicht ?ffnen.');
-1 Zeile eingef EnC:>197< gt/aktualisiert/gel EnC:>238< scht
-ij> insert into detab values(39.123,date('2000-07-25'),'Name des Eigent?mers %s hat die L?nge von 8 Zeichen ?berschritten.');
-1 Zeile eingef EnC:>197< gt/aktualisiert/gel EnC:>238< scht
-ij> insert into detab values(40.123,date('2000-09-25'),'Fehler bei der Speicherzuordnung.');
-1 Zeile eingef EnC:>197< gt/aktualisiert/gel EnC:>238< scht
-ij> insert into detab values(41.123,date('2000-05-25'),'Unter dem angegebenen Namen wurde kein lauff?higes 4GL-Programm gefunden.');
-1 Zeile eingef EnC:>197< gt/aktualisiert/gel EnC:>238< scht
-ij> LOCALIZEDDISPLAY ON;
-ij> show connections;
-CONNECTION0* -  EnC:>9< jdbc:derby:wombat
+WARNUNG 01J01: Database 'detest' not created, connection made to existing database instead.
+ij(M?NCHEN)> drop table detab;
+FEHLER 42Y55: 'DROP TABLE' cannot be performed on 'DETAB' because it does not exist.
+ij(M?NCHEN)> create table detab ( dc1 decimal(5,3), dc3 date, dc2 char(200) );
+0 Zeilen eingef?gt/aktualisiert/gel?scht
+ij(M?NCHEN)> insert into detab values(1.123,date('2000-01-25'),'Zuviele Programme gefunden. Versuchen Sie es erneut.');
+1 Zeile eingef?gt/aktualisiert/gel?scht
+ij(M?NCHEN)> insert into detab values(2.123,date('2000-02-24'),'Nur Teile der Entwicklungsdatenbank gefunden.');
+1 Zeile eingef?gt/aktualisiert/gel?scht
+ij(M?NCHEN)> insert into detab values(3.123,date('2000-03-23'),'Mehr als eine Instanz der Tabelle %s in Entwicklungsdatenbank gefunden.');
+1 Zeile eingef?gt/aktualisiert/gel?scht
+ij(M?NCHEN)> insert into detab values(4.123,date('2000-04-22'),'Mehr als einen Runner-Datensatz f?r dieses Programm gefunden.');
+1 Zeile eingef?gt/aktualisiert/gel?scht
+ij(M?NCHEN)> insert into detab values(5.123,date('2000-05-21'),'Es kann nur eine BEFORE- oder AFTER INPUT/CONSTRUCT-Klausel in einer ');
+1 Zeile eingef?gt/aktualisiert/gel?scht
+ij(M?NCHEN)> insert into detab values(6.123,date('2000-06-20'),'INPUT-/CONSTRUCT-Anweisung erscheinen.');
+1 Zeile eingef?gt/aktualisiert/gel?scht
+ij(M?NCHEN)> insert into detab values(7.123,date('2000-07-19'),'Die Funktion %s kann nur in einer INPUT- oder CONSTRUCT-Anweisung ');
+1 Zeile eingef?gt/aktualisiert/gel?scht
+ij(M?NCHEN)> insert into detab values(8.123,date('2000-08-18'),'Fglpc, der Pcode-Kompiler, ist nicht in Ihrem Pfad vorhanden.');
+1 Zeile eingef?gt/aktualisiert/gel?scht
+ij(M?NCHEN)> insert into detab values(9.123,date('2000-09-17'),'Kann Runner %s nicht finden.');
+1 Zeile eingef?gt/aktualisiert/gel?scht
+ij(M?NCHEN)> insert into detab values(10.123,date('2000-10-16'),'I/O-Fehler beim Laufen von fglc: %s.');
+1 Zeile eingef?gt/aktualisiert/gel?scht
+ij(M?NCHEN)> insert into detab values(11.123,date('2000-11-15'),'I/O-Fehler beim Ausf?hren von fglc.');
+1 Zeile eingef?gt/aktualisiert/gel?scht
+ij(M?NCHEN)> insert into detab values(12.123,date('2000-12-14'),'Kann Datei %s nicht ?ffnen, um den Wert einer TEXT-Variable zu lesen.');
+1 Zeile eingef?gt/aktualisiert/gel?scht
+ij(M?NCHEN)> insert into detab values(13.123,date('2000-01-13'),'Der angegebene WORDWRAP RIGHT MARGIN-Wert liegt au?erhalb des Bereichs.');
+1 Zeile eingef?gt/aktualisiert/gel?scht
+ij(M?NCHEN)> insert into detab values(14.123,date('2000-02-12'),'als oder gleich dem Wert des rechten Reportrands sein.');
+1 Zeile eingef?gt/aktualisiert/gel?scht
+ij(M?NCHEN)> insert into detab values(15.123,date('2000-03-11'),'4GL unterst?tzt nicht die Ausgabe einer Blob-Variable.');
+1 Zeile eingef?gt/aktualisiert/gel?scht
+ij(M?NCHEN)> insert into detab values(16.123,date('2000-04-10'),'Die HELP- und ATTRIBUTE-Klauseln k?nnen jeweils nur einmal definiert werden.');
+1 Zeile eingef?gt/aktualisiert/gel?scht
+ij(M?NCHEN)> insert into detab values(17.123,date('2000-05-09'),'Ein Feld des INTERVAL-Kennzeichners liegt au?erhalb des Bereichs.');
+1 Zeile eingef?gt/aktualisiert/gel?scht
+ij(M?NCHEN)> insert into detab values(18.123,date('2000-06-08'),'Der Bereich geht von YEAR TO MONTH und von DAY TO FRACTION.');
+1 Zeile eingef?gt/aktualisiert/gel?scht
+ij(M?NCHEN)> insert into detab values(19.123,date('2000-07-07'),'Das Anlegen von Indizes ist hier nicht erlaubt.');
+1 Zeile eingef?gt/aktualisiert/gel?scht
+ij(M?NCHEN)> insert into detab values(20.123,date('2000-08-06'),'Hier wird die Eingabe des Spaltennamen erwartet.');
+1 Zeile eingef?gt/aktualisiert/gel?scht
+ij(M?NCHEN)> insert into detab values(21.123,date('2000-09-05'),'Hier wird die Eingabe des Tabellennamen erwartet.');
+1 Zeile eingef?gt/aktualisiert/gel?scht
+ij(M?NCHEN)> insert into detab values(22.123,date('2000-10-04'),'Der eigentliche Spaltenname kann hier nicht angegeben werden.');
+1 Zeile eingef?gt/aktualisiert/gel?scht
+ij(M?NCHEN)> insert into detab values(23.123,date('2000-11-03'),'Die maximale Gr??e f?r Varchar mu? zwischen 1 und 255 liegen.');
+1 Zeile eingef?gt/aktualisiert/gel?scht
+ij(M?NCHEN)> insert into detab values(24.123,date('2000-12-02'),'Kann keine tempor?re Datei %s anlegen, um eine Blob-Variable aufzunehmen.');
+1 Zeile eingef?gt/aktualisiert/gel?scht
+ij(M?NCHEN)> insert into detab values(25.123,date('2000-11-01'),'Symbol %s mu? ein SQL-Datenbank-Elementname sein - entweder ein ');
+1 Zeile eingef?gt/aktualisiert/gel?scht
+ij(M?NCHEN)> insert into detab values(26.123,date('2000-10-28'),'Datenbankname, ein Tabellenname oder ein Spaltenname.');
+1 Zeile eingef?gt/aktualisiert/gel?scht
+ij(M?NCHEN)> insert into detab values(27.123,date('2000-09-29'),'DATETIME-Einheiten k?nnen nur YEAR, MONTH, DAY, HOUR, MINUTE,');
+1 Zeile eingef?gt/aktualisiert/gel?scht
+ij(M?NCHEN)> insert into detab values(28.123,date('2000-08-30'),'Eingeklammerte Genauigkeit von FRACTION mu? zwischen 1 und 5 liegen.');
+1 Zeile eingef?gt/aktualisiert/gel?scht
+ij(M?NCHEN)> insert into detab values(29.123,date('2000-07-31'),'F?r andere Zeiteinheiten kann keine Genauigkeit definiert werden.');
+1 Zeile eingef?gt/aktualisiert/gel?scht
+ij(M?NCHEN)> insert into detab values(30.123,date('2000-06-25'),'Das Startfeld von DATETIME oder INTERVAL-Kennzeichnern mu? in der ');
+1 Zeile eingef?gt/aktualisiert/gel?scht
+ij(M?NCHEN)> insert into detab values(31.123,date('2000-05-25'),'Zeitliste vor dem Endfeld stehen.');
+1 Zeile eingef?gt/aktualisiert/gel?scht
+ij(M?NCHEN)> insert into detab values(32.123,date('2000-04-25'),'Entladen in Datei %s mi?lungen.');
+1 Zeile eingef?gt/aktualisiert/gel?scht
+ij(M?NCHEN)> insert into detab values(33.123,date('2000-03-25'),'Laden aus Datei %s mi?lungen.');
+1 Zeile eingef?gt/aktualisiert/gel?scht
+ij(M?NCHEN)> insert into detab values(34.123,date('2000-02-25'),'Das Programm kann eine DISPLAY ARRAY-Anweisung an dieser Stelle nicht');
+1 Zeile eingef?gt/aktualisiert/gel?scht
+ij(M?NCHEN)> insert into detab values(35.123,date('2000-01-25'),'beenden, weil es sich nicht in einer DISPLAY ARRAY-Anweisung befindet.');
+1 Zeile eingef?gt/aktualisiert/gel?scht
+ij(M?NCHEN)> insert into detab values(36.123,date('2000-02-25'),'Das Programm kann eine INPUT-Anweisung an dieser Stelle nicht beenden,');
+1 Zeile eingef?gt/aktualisiert/gel?scht
+ij(M?NCHEN)> insert into detab values(37.123,date('2000-04-25'),'weil es sich nicht in einer INPUT-Anweisung befindet.');
+1 Zeile eingef?gt/aktualisiert/gel?scht
+ij(M?NCHEN)> insert into detab values(38.123,date('2000-05-25'),'Konnte Datei %s nicht ?ffnen.');
+1 Zeile eingef?gt/aktualisiert/gel?scht
+ij(M?NCHEN)> insert into detab values(39.123,date('2000-07-25'),'Name des Eigent?mers %s hat die L?nge von 8 Zeichen ?berschritten.');
+1 Zeile eingef?gt/aktualisiert/gel?scht
+ij(M?NCHEN)> insert into detab values(40.123,date('2000-09-25'),'Fehler bei der Speicherzuordnung.');
+1 Zeile eingef?gt/aktualisiert/gel?scht
+ij(M?NCHEN)> insert into detab values(41.123,date('2000-05-25'),'Unter dem angegebenen Namen wurde kein lauff?higes 4GL-Programm gefunden.');
+1 Zeile eingef?gt/aktualisiert/gel?scht
+ij(M?NCHEN)> LOCALIZEDDISPLAY ON;
+ij(M?NCHEN)> show connections;
+CONNECTION0 - 	jdbc:derby:detest
+M?NCHEN* - 	jdbc:derby:detest
 * = aktuelle Verbindung
-ij> select * from detab;
-DC1     |DC3               |DC2                                                                                                                             
-------------------------------------------------------------------------------------------------------------------------------------------------------------
-1,123   |25. Januar 2000   |Zuviele Programme gefunden. Versuchen Sie es erneut.                                                                           &
-2,123   |24. Februar 2000  |Nur Teile der Entwicklungsdatenbank gefunden.                                                                                  &
-3,123   |23. M EnC:>209< rz 2000     |Mehr als eine Instanz der Tabelle %s in Entwicklungsdatenbank gefunden.                                                        &
-4,123   |22. April 2000    |Mehr als einen Runner-Datensatz f?r dieses Programm gefunden.                                                                  &
-5,123   |21. Mai 2000      |Es kann nur eine BEFORE- oder AFTER INPUT/CONSTRUCT-Klausel in einer                                                           &
-6,123   |20. Juni 2000     |INPUT-/CONSTRUCT-Anweisung erscheinen.                                                                                         &
-7,123   |19. Juli 2000     |Die Funktion %s kann nur in einer INPUT- oder CONSTRUCT-Anweisung                                                              &
-8,123   |18. August 2000   |Fglpc, der Pcode-Kompiler, ist nicht in Ihrem Pfad vorhanden.                                                                  &
-9,123   |17. September 2000|Kann Runner %s nicht finden.                                                                                                   &
-10,123  |16. Oktober 2000  |I/O-Fehler beim Laufen von fglc: %s.                                                                                           &
-11,123  |15. November 2000 |I/O-Fehler beim Ausf?hren von fglc.                                                                                            &
-12,123  |14. Dezember 2000 |Kann Datei %s nicht ?ffnen, um den Wert einer TEXT-Variable zu lesen.                                                          &
-13,123  |13. Januar 2000   |Der angegebene WORDWRAP RIGHT MARGIN-Wert liegt au?erhalb des Bereichs.                                                        &
-14,123  |12. Februar 2000  |als oder gleich dem Wert des rechten Reportrands sein.                                                                         &
-15,123  |11. M EnC:>209< rz 2000     |4GL unterst?tzt nicht die Ausgabe einer Blob-Variable.                                                                         &
-16,123  |10. April 2000    |Die HELP- und ATTRIBUTE-Klauseln k?nnen jeweils nur einmal definiert werden.                                                   &
-17,123  |9. Mai 2000       |Ein Feld des INTERVAL-Kennzeichners liegt au?erhalb des Bereichs.                                                              &
-18,123  |8. Juni 2000      |Der Bereich geht von YEAR TO MONTH und von DAY TO FRACTION.                                                                    &
-19,123  |7. Juli 2000      |Das Anlegen von Indizes ist hier nicht erlaubt.                                                                                &
-20,123  |6. August 2000    |Hier wird die Eingabe des Spaltennamen erwartet.                                                                               &
-21,123  |5. September 2000 |Hier wird die Eingabe des Tabellennamen erwartet.                                                                              &
-22,123  |4. Oktober 2000   |Der eigentliche Spaltenname kann hier nicht angegeben werden.                                                                  &
-23,123  |3. November 2000  |Die maximale Gr??e f?r Varchar mu? zwischen 1 und 255 liegen.                                                                  &
-24,123  |2. Dezember 2000  |Kann keine tempor?re Datei %s anlegen, um eine Blob-Variable aufzunehmen.                                                      &
-25,123  |1. November 2000  |Symbol %s mu? ein SQL-Datenbank-Elementname sein - entweder ein                                                                &
-26,123  |28. Oktober 2000  |Datenbankname, ein Tabellenname oder ein Spaltenname.                                                                          &
-27,123  |29. September 2000|DATETIME-Einheiten k?nnen nur YEAR, MONTH, DAY, HOUR, MINUTE,                                                                  &
-28,123  |30. August 2000   |Eingeklammerte Genauigkeit von FRACTION mu? zwischen 1 und 5 liegen.                                                           &
-29,123  |31. Juli 2000     |F?r andere Zeiteinheiten kann keine Genauigkeit definiert werden.                                                              &
-30,123  |25. Juni 2000     |Das Startfeld von DATETIME oder INTERVAL-Kennzeichnern mu? in der                                                              &
-31,123  |25. Mai 2000      |Zeitliste vor dem Endfeld stehen.                                                                                              &
-32,123  |25. April 2000    |Entladen in Datei %s mi?lungen.                                                                                                &
-33,123  |25. M EnC:>209< rz 2000     |Laden aus Datei %s mi?lungen.                                                                                                  &
-34,123  |25. Februar 2000  |Das Programm kann eine DISPLAY ARRAY-Anweisung an dieser Stelle nicht                                                          &
-35,123  |25. Januar 2000   |beenden, weil es sich nicht in einer DISPLAY ARRAY-Anweisung befindet.                                                         &
-36,123  |25. Februar 2000  |Das Programm kann eine INPUT-Anweisung an dieser Stelle nicht beenden,                                                         &
-37,123  |25. April 2000    |weil es sich nicht in einer INPUT-Anweisung befindet.                                                                          &
-38,123  |25. Mai 2000      |Konnte Datei %s nicht ?ffnen.                                                                                                  &
-39,123  |25. Juli 2000     |Name des Eigent?mers %s hat die L?nge von 8 Zeichen ?berschritten.                                                             &
-40,123  |25. September 2000|Fehler bei der Speicherzuordnung.                                                                                              &
-41,123  |25. Mai 2000      |Unter dem angegebenen Namen wurde kein lauff?higes 4GL-Programm gefunden.                                                      &
+ij(M?NCHEN)> select * from detab;
+DC1    |DC3               |DC2                                                                                                                             
+-----------------------------------------------------------------------------------------------------------------------------------------------------------
+1,123  |25. Januar 2000   |Zuviele Programme gefunden. Versuchen Sie es erneut.                                                                           &
+2,123  |24. Februar 2000  |Nur Teile der Entwicklungsdatenbank gefunden.                                                                                  &
+3,123  |23. M?rz 2000     |Mehr als eine Instanz der Tabelle %s in Entwicklungsdatenbank gefunden.                                                        &
+4,123  |22. April 2000    |Mehr als einen Runner-Datensatz f?r dieses Programm gefunden.                                                                  &
+5,123  |21. Mai 2000      |Es kann nur eine BEFORE- oder AFTER INPUT/CONSTRUCT-Klausel in einer                                                           &
+6,123  |20. Juni 2000     |INPUT-/CONSTRUCT-Anweisung erscheinen.                                                                                         &
+7,123  |19. Juli 2000     |Die Funktion %s kann nur in einer INPUT- oder CONSTRUCT-Anweisung                                                              &
+8,123  |18. August 2000   |Fglpc, der Pcode-Kompiler, ist nicht in Ihrem Pfad vorhanden.                                                                  &
+9,123  |17. September 2000|Kann Runner %s nicht finden.                                                                                                   &
+10,123 |16. Oktober 2000  |I/O-Fehler beim Laufen von fglc: %s.                                                                                           &
+11,123 |15. November 2000 |I/O-Fehler beim Ausf?hren von fglc.                                                                                            &
+12,123 |14. Dezember 2000 |Kann Datei %s nicht ?ffnen, um den Wert einer TEXT-Variable zu lesen.                                                          &
+13,123 |13. Januar 2000   |Der angegebene WORDWRAP RIGHT MARGIN-Wert liegt au?erhalb des Bereichs.                                                        &
+14,123 |12. Februar 2000  |als oder gleich dem Wert des rechten Reportrands sein.                                                                         &
+15,123 |11. M?rz 2000     |4GL unterst?tzt nicht die Ausgabe einer Blob-Variable.                                                                         &
+16,123 |10. April 2000    |Die HELP- und ATTRIBUTE-Klauseln k?nnen jeweils nur einmal definiert werden.                                                   &
+17,123 |9. Mai 2000       |Ein Feld des INTERVAL-Kennzeichners liegt au?erhalb des Bereichs.                                                              &
+18,123 |8. Juni 2000      |Der Bereich geht von YEAR TO MONTH und von DAY TO FRACTION.                                                                    &
+19,123 |7. Juli 2000      |Das Anlegen von Indizes ist hier nicht erlaubt.                                                                                &
+20,123 |6. August 2000    |Hier wird die Eingabe des Spaltennamen erwartet.                                                                               &
+21,123 |5. September 2000 |Hier wird die Eingabe des Tabellennamen erwartet.                                                                              &
+22,123 |4. Oktober 2000   |Der eigentliche Spaltenname kann hier nicht angegeben werden.                                                                  &
+23,123 |3. November 2000  |Die maximale Gr??e f?r Varchar mu? zwischen 1 und 255 liegen.                                                                  &
+24,123 |2. Dezember 2000  |Kann keine tempor?re Datei %s anlegen, um eine Blob-Variable aufzunehmen.                                                      &
+25,123 |1. November 2000  |Symbol %s mu? ein SQL-Datenbank-Elementname sein - entweder ein                                                                &
+26,123 |28. Oktober 2000  |Datenbankname, ein Tabellenname oder ein Spaltenname.                                                                          &
+27,123 |29. September 2000|DATETIME-Einheiten k?nnen nur YEAR, MONTH, DAY, HOUR, MINUTE,                                                                  &
+28,123 |30. August 2000   |Eingeklammerte Genauigkeit von FRACTION mu? zwischen 1 und 5 liegen.                                                           &
+29,123 |31. Juli 2000     |F?r andere Zeiteinheiten kann keine Genauigkeit definiert werden.                                                              &
+30,123 |25. Juni 2000     |Das Startfeld von DATETIME oder INTERVAL-Kennzeichnern mu? in der                                                              &
+31,123 |25. Mai 2000      |Zeitliste vor dem Endfeld stehen.                                                                                              &
+32,123 |25. April 2000    |Entladen in Datei %s mi?lungen.                                                                                                &
+33,123 |25. M?rz 2000     |Laden aus Datei %s mi?lungen.                                                                                                  &
+34,123 |25. Februar 2000  |Das Programm kann eine DISPLAY ARRAY-Anweisung an dieser Stelle nicht                                                          &
+35,123 |25. Januar 2000   |beenden, weil es sich nicht in einer DISPLAY ARRAY-Anweisung befindet.                                                         &
+36,123 |25. Februar 2000  |Das Programm kann eine INPUT-Anweisung an dieser Stelle nicht beenden,                                                         &
+37,123 |25. April 2000    |weil es sich nicht in einer INPUT-Anweisung befindet.                                                                          &
+38,123 |25. Mai 2000      |Konnte Datei %s nicht ?ffnen.                                                                                                  &
+39,123 |25. Juli 2000     |Name des Eigent?mers %s hat die L?nge von 8 Zeichen ?berschritten.                                                             &
+40,123 |25. September 2000|Fehler bei der Speicherzuordnung.                                                                                              &
+41,123 |25. Mai 2000      |Unter dem angegebenen Namen wurde kein lauff?higes 4GL-Programm gefunden.                                                      &
+ij(M?NCHEN)> disconnect;
+ij> -- shutdown system
+connect 'jdbc:derby:;shutdown=true';
+FEHLER XJ015: Derby system shutdown.
 ij> 
diff --git a/java/testing/org/apache/derbyTesting/functionTests/master/LocalizedDisplay.out b/java/testing/org/apache/derbyTesting/functionTests/master/LocalizedDisplay.out
index 332a446a5..8e077483e 100644
--- a/java/testing/org/apache/derbyTesting/functionTests/master/LocalizedDisplay.out
+++ b/java/testing/org/apache/derbyTesting/functionTests/master/LocalizedDisplay.out
@@ -14,83 +14,82 @@ ij> --
 --   See the License for the specific language governing permissions and
 --   limitations under the License.
 --
-Versi EnC:>232<  EnC:>180<  EnC:>8212< n ij 10.2
-ij> drop table localtab;
+drop table localtab;
 ERROR 42Y55: 'DROP TABLE' cannot be performed on 'LOCALTAB' because it does not exist.
-ij> create table localtab( EnC:>9< ndec decimal(5,3), 
- EnC:>9<  EnC:>9<  EnC:>9<  EnC:>9<  EnC:>9<  EnC:>9<  EnC:>9< ndatec date , 
- EnC:>9<  EnC:>9<  EnC:>9<  EnC:>9<  EnC:>9<  EnC:>9<  EnC:>9< ntimec time , 
- EnC:>9<  EnC:>9<  EnC:>9<  EnC:>9<  EnC:>9<  EnC:>9<  EnC:>9< ncharc varchar(500));
+ij> create table localtab(	ndec decimal(5,3), 
+							ndatec date , 
+							ntimec time , 
+							ncharc varchar(500));
 0 filas insertadas/actualizadas/suprimidas
-ij> insert into localtab values(12.345, date('2000-05-25'),'15:30:15','\u30a4\u30d9\u30f3\u30c8\u30a2\u30e9\u30fc\u30e0\u304c\u6709\u52b9\u3067\u3059\u3002');
+ij> insert into localtab values(12.345, date('2000-05-25'),'15:30:15','?C?x???g?A???[?????L???????B');
 1 fila insertada/actualizada/suprimida
-ij> insert into localtab values(32.432, date('2000-05-18'),'15:32:10','DR:DRAUTO\u306f0 (Off)\u3067\u3059\u3002');
+ij> insert into localtab values(32.432, date('2000-05-18'),'15:32:10','DR:DRAUTO??0 (Off)?????B');
 1 fila insertada/actualizada/suprimida
-ij> insert into localtab values(54.846, date('2000-01-28'),'15:32:28','INFORMIX-OnLine\u304c\u521d\u671f\u5316\u3055\u308c\u3001\u30c7\u30a3\u30b9\u30af\u306e\u521d\u671f\u5316\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002');
+ij> insert into localtab values(54.846, date('2000-01-28'),'15:32:28','INFORMIX-OnLine?????????????A?f?B?X?N???????????????????????B');
 1 fila insertada/actualizada/suprimida
-ij> insert into localtab values(39.003, date('2000-11-11'),'15:32:29','\u30c1\u30a7\u30c3\u30af\u30dd\u30a4\u30f3\u30c8\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f:\u7d99\u7d9a\u6642\u9593\u306f 0\u79d2\u3067\u3057\u305f');
+ij> insert into localtab values(39.003, date('2000-11-11'),'15:32:29','?`?F?b?N?|?C???g??????????????:?p???????? 0?b??????');
 1 fila insertada/actualizada/suprimida
-ij> insert into localtab values(79.406, date('2000-06-05'),'15:32:29','\u3059\u3079\u3066\u306eDB\u9818\u57df\u306e\u30c7\u30fc\u30bf\u30b9\u30ad\u30c3\u30d7\u306f\u73fe\u5728\u30aa\u30d5\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002');
+ij> insert into localtab values(79.406, date('2000-06-05'),'15:32:29','????????DB???????f?[?^?X?L?b?v???????I?t???????????????B');
 1 fila insertada/actualizada/suprimida
-ij> insert into localtab values(94.999, date('2000-07-30'),'15:32:30','On-Line\u30e2\u30fc\u30c9');
+ij> insert into localtab values(94.999, date('2000-07-30'),'15:32:30','On-Line???[?h');
 1 fila insertada/actualizada/suprimida
-ij> insert into localtab values(18.849, date('2000-10-22'),'15:32:31','sysmaster\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u4f5c\u6210\u4e2d\u3067\u3059...');
+ij> insert into localtab values(18.849, date('2000-10-22'),'15:32:31','sysmaster?f?[?^?x?[?X????????????...');
 1 fila insertada/actualizada/suprimida
-ij> insert into localtab values(35.444, date('2000-02-29'),'15:33:22','\u8ad6\u7406\u30ed\u30b0 1\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002');
+ij> insert into localtab values(35.444, date('2000-02-29'),'15:33:22','?_?????O 1???????????????B');
 1 fila insertada/actualizada/suprimida
-ij> insert into localtab values(84.391, date('2000-01-21'),'15:33:23','\u30ea\u30bf\u30fc\u30f3\u30b3\u30fc\u30c9 1\u3092\u623b\u3057\u3066\u30d7\u30ed\u30bb\u30b9\u304c\u7d42\u4e86\u3057\u307e\u3057\u305f:/bin/sh /bin/sh -c /work1/MOSES_7.22.UC1A5_27/sqldist/etc/log_full.sh 2 23 \u8ad6\u7406\u30ed\u30b0 1\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002 \u8ad6\u7406');
+ij> insert into localtab values(84.391, date('2000-01-21'),'15:33:23','???^?[???R?[?h 1?????????v???Z?X???I??????????:/bin/sh /bin/sh -c /work1/MOSES_7.22.UC1A5_27/sqldist/etc/log_full.sh 2 23 ?_?????O 1???????????????B ?_??');
 1 fila insertada/actualizada/suprimida
-ij> insert into localtab values(56.664, date('2000-04-16'),'15:33:40','\u8ad6\u7406\u30ed\u30b0 2\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002');
+ij> insert into localtab values(56.664, date('2000-04-16'),'15:33:40','?_?????O 2???????????????B');
 1 fila insertada/actualizada/suprimida
-ij> insert into localtab values(22.393, date('2000-03-01'),'15:33;42','\u30ea\u30bf\u30fc\u30f3\u30b3\u30fc\u30c9 1\u3092\u623b\u3057\u3066\u30d7\u30ed\u30bb\u30b9\u304c\u7d42\u4e86\u3057\u307e\u3057\u305f:/bin/sh /bin/sh -c /work1/MOSES_7.22.UC1A5_27/sqldist/etc/log_full.sh 2 23 \u8ad6\u7406\u30ed\u30b0 2\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002 \u8ad6\u7406');
+ij> insert into localtab values(22.393, date('2000-03-01'),'15:33;42','???^?[???R?[?h 1?????????v???Z?X???I??????????:/bin/sh /bin/sh -c /work1/MOSES_7.22.UC1A5_27/sqldist/etc/log_full.sh 2 23 ?_?????O 2???????????????B ?_??');
 ERROR 22007: The syntax of the string representation of a datetime value is incorrect.
-ij> insert into localtab values(90.007, date('2000-11-27'),'15:33:43','\u30c1\u30a7\u30c3\u30af\u30dd\u30a4\u30f3\u30c8\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f:\u7d99\u7d9a\u6642\u9593\u306f 2\u79d2\u3067\u3057\u305f');
+ij> insert into localtab values(90.007, date('2000-11-27'),'15:33:43','?`?F?b?N?|?C???g??????????????:?p???????? 2?b??????');
 1 fila insertada/actualizada/suprimida
-ij> insert into localtab values(30.496, date('2000-04-03'),'15:34:29','\u8ad6\u7406\u30ed\u30b0 3\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002');
+ij> insert into localtab values(30.496, date('2000-04-03'),'15:34:29','?_?????O 3???????????????B');
 1 fila insertada/actualizada/suprimida
-ij> insert into localtab values(66.295, date('2000-10-15'),'15:34:30','\u30ea\u30bf\u30fc\u30f3\u30b3\u30fc\u30c9 1\u3092\u623b\u3057\u3066\u30d7\u30ed\u30bb\u30b9\u304c\u7d42\u4e86\u3057\u307e\u3057\u305f:/bin/sh /bin/sh -c /work1/MOSES_7.22.UC1A5_27/sqldist/etc/log_full.sh 2 23 \u8ad6\u7406\u30ed\u30b0 3\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002 \u8ad6\u7406');
+ij> insert into localtab values(66.295, date('2000-10-15'),'15:34:30','???^?[???R?[?h 1?????????v???Z?X???I??????????:/bin/sh /bin/sh -c /work1/MOSES_7.22.UC1A5_27/sqldist/etc/log_full.sh 2 23 ?_?????O 3???????????????B ?_??');
 1 fila insertada/actualizada/suprimida
-ij> insert into localtab values(54.332, date('2000-09-01'),'15:35:35','sysmaster\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u4f5c\u6210\u306f\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002');
+ij> insert into localtab values(54.332, date('2000-09-01'),'15:35:35','sysmaster?f?[?^?x?[?X?????????????????????B');
 1 fila insertada/actualizada/suprimida
-ij> insert into localtab values(11.105, date('2000-07-09'),'15:39:10','\u30c1\u30a7\u30c3\u30af\u30dd\u30a4\u30f3\u30c8\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f:\u7d99\u7d9a\u6642\u9593\u306f 8\u79d2\u3067\u3057\u305f');
+ij> insert into localtab values(11.105, date('2000-07-09'),'15:39:10','?`?F?b?N?|?C???g??????????????:?p???????? 8?b??????');
 1 fila insertada/actualizada/suprimida
 ij> -- display in non localized format
 select * from localtab;
-NDEC    |NDATEC    |NTIMEC  |NCHARC                                                                                                                          
--------------------------------------------------------------------------------------------------------------------------------------------------------------
-12.345  |2000-05-25|15:30:15|\u30a4\u30d9\u30f3\u30c8\u30a2\u30e9\u30fc\u30e0\u304c\u6709\u52b9\u3067\u3059\u3002                                            
-32.432  |2000-05-18|15:32:10|DR:DRAUTO\u306f0 (Off)\u3067\u3059\u3002                                                                                        
-54.846  |2000-01-28|15:32:28|INFORMIX-OnLine\u304c\u521d\u671f\u5316\u3055\u308c\u3001\u30c7\u30a3\u30b9\u30af\u306e\u521d\u671f\u5316\u304c\u5b8c\u4e86\u30&
-39.003  |2000-11-11|15:32:29|\u30c1\u30a7\u30c3\u30af\u30dd\u30a4\u30f3\u30c8\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f:\u7d99\u7d9a\u6642\u9593\u306f 0\u79&
-79.406  |2000-06-05|15:32:29|\u3059\u3079\u3066\u306eDB\u9818\u57df\u306e\u30c7\u30fc\u30bf\u30b9\u30ad\u30c3\u30d7\u306f\u73fe\u5728\u30aa\u30d5\u306b\u306&
-94.999  |2000-07-30|15:32:30|On-Line\u30e2\u30fc\u30c9                                                                                                       
-18.849  |2000-10-22|15:32:31|sysmaster\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u4f5c\u6210\u4e2d\u3067\u3059...                                            
-35.444  |2000-02-29|15:33:22|\u8ad6\u7406\u30ed\u30b0 1\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002                                                      
-84.391  |2000-01-21|15:33:23|\u30ea\u30bf\u30fc\u30f3\u30b3\u30fc\u30c9 1\u3092\u623b\u3057\u3066\u30d7\u30ed\u30bb\u30b9\u304c\u7d42\u4e86\u3057\u307e\u305&
-56.664  |2000-04-16|15:33:40|\u8ad6\u7406\u30ed\u30b0 2\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002                                                      
-90.007  |2000-11-27|15:33:43|\u30c1\u30a7\u30c3\u30af\u30dd\u30a4\u30f3\u30c8\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f:\u7d99\u7d9a\u6642\u9593\u306f 2\u79&
-30.496  |2000-04-03|15:34:29|\u8ad6\u7406\u30ed\u30b0 3\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002                                                      
-66.295  |2000-10-15|15:34:30|\u30ea\u30bf\u30fc\u30f3\u30b3\u30fc\u30c9 1\u3092\u623b\u3057\u3066\u30d7\u30ed\u30bb\u30b9\u304c\u7d42\u4e86\u3057\u307e\u305&
-54.332  |2000-09-01|15:35:35|sysmaster\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u4f5c\u6210\u306f\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002                 
-11.105  |2000-07-09|15:39:10|\u30c1\u30a7\u30c3\u30af\u30dd\u30a4\u30f3\u30c8\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f:\u7d99\u7d9a\u6642\u9593\u306f 8\u79&
+NDEC   |NDATEC    |NTIMEC  |NCHARC                                                                                                                          
+------------------------------------------------------------------------------------------------------------------------------------------------------------
+12.345 |2000-05-25|15:30:15|?C?x???g?A???[?????L???????B                                                                                                    
+32.432 |2000-05-18|15:32:10|DR:DRAUTO??0 (Off)?????B                                                                                                        
+54.846 |2000-01-28|15:32:28|INFORMIX-OnLine?????????????A?f?B?X?N???????????????????????B                                                                   
+39.003 |2000-11-11|15:32:29|?`?F?b?N?|?C???g??????????????:?p???????? 0?b??????                                                                             
+79.406 |2000-06-05|15:32:29|????????DB???????f?[?^?X?L?b?v???????I?t???????????????B                                                                        
+94.999 |2000-07-30|15:32:30|On-Line???[?h                                                                                                                   
+18.849 |2000-10-22|15:32:31|sysmaster?f?[?^?x?[?X????????????...                                                                                            
+35.444 |2000-02-29|15:33:22|?_?????O 1???????????????B                                                                                                      
+84.391 |2000-01-21|15:33:23|???^?[???R?[?h 1?????????v???Z?X???I??????????:/bin/sh /bin/sh -c /work1/MOSES_7.22.UC1A5_27/sqldist/etc/log_full.sh 2 23 ?_???&
+56.664 |2000-04-16|15:33:40|?_?????O 2???????????????B                                                                                                      
+90.007 |2000-11-27|15:33:43|?`?F?b?N?|?C???g??????????????:?p???????? 2?b??????                                                                             
+30.496 |2000-04-03|15:34:29|?_?????O 3???????????????B                                                                                                      
+66.295 |2000-10-15|15:34:30|???^?[???R?[?h 1?????????v???Z?X???I??????????:/bin/sh /bin/sh -c /work1/MOSES_7.22.UC1A5_27/sqldist/etc/log_full.sh 2 23 ?_???&
+54.332 |2000-09-01|15:35:35|sysmaster?f?[?^?x?[?X?????????????????????B                                                                                     
+11.105 |2000-07-09|15:39:10|?`?F?b?N?|?C???g??????????????:?p???????? 8?b??????                                                                             
 ij> -- display in localized format
 LOCALIZEDDISPLAY ON;
 ij> select * from localtab;
-NDEC    |NDATEC                  |NTIMEC            |NCHARC                                                                                                                          
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
-12,345  |25 de mayo de 2000      |15:30:15 PST      |\u30a4\u30d9\u30f3\u30c8\u30a2\u30e9\u30fc\u30e0\u304c\u6709\u52b9\u3067\u3059\u3002                                            
-32,432  |18 de mayo de 2000      |15:32:10 PST      |DR:DRAUTO\u306f0 (Off)\u3067\u3059\u3002                                                                                        
-54,846  |28 de enero de 2000     |15:32:28 PST      |INFORMIX-OnLine\u304c\u521d\u671f\u5316\u3055\u308c\u3001\u30c7\u30a3\u30b9\u30af\u306e\u521d\u671f\u5316\u304c\u5b8c\u4e86\u30&
-39,003  |11 de noviembre de 2000 |15:32:29 PST      |\u30c1\u30a7\u30c3\u30af\u30dd\u30a4\u30f3\u30c8\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f:\u7d99\u7d9a\u6642\u9593\u306f 0\u79&
-79,406  |5 de junio de 2000      |15:32:29 PST      |\u3059\u3079\u3066\u306eDB\u9818\u57df\u306e\u30c7\u30fc\u30bf\u30b9\u30ad\u30c3\u30d7\u306f\u73fe\u5728\u30aa\u30d5\u306b\u306&
-94,999  |30 de julio de 2000     |15:32:30 PST      |On-Line\u30e2\u30fc\u30c9                                                                                                       
-18,849  |22 de octubre de 2000   |15:32:31 PST      |sysmaster\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u4f5c\u6210\u4e2d\u3067\u3059...                                            
-35,444  |29 de febrero de 2000   |15:33:22 PST      |\u8ad6\u7406\u30ed\u30b0 1\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002                                                      
-84,391  |21 de enero de 2000     |15:33:23 PST      |\u30ea\u30bf\u30fc\u30f3\u30b3\u30fc\u30c9 1\u3092\u623b\u3057\u3066\u30d7\u30ed\u30bb\u30b9\u304c\u7d42\u4e86\u3057\u307e\u305&
-56,664  |16 de abril de 2000     |15:33:40 PST      |\u8ad6\u7406\u30ed\u30b0 2\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002                                                      
-90,007  |27 de noviembre de 2000 |15:33:43 PST      |\u30c1\u30a7\u30c3\u30af\u30dd\u30a4\u30f3\u30c8\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f:\u7d99\u7d9a\u6642\u9593\u306f 2\u79&
-30,496  |3 de abril de 2000      |15:34:29 PST      |\u8ad6\u7406\u30ed\u30b0 3\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002                                                      
-66,295  |15 de octubre de 2000   |15:34:30 PST      |\u30ea\u30bf\u30fc\u30f3\u30b3\u30fc\u30c9 1\u3092\u623b\u3057\u3066\u30d7\u30ed\u30bb\u30b9\u304c\u7d42\u4e86\u3057\u307e\u305&
-54,332  |1 de septiembre de 2000 |15:35:35 PST      |sysmaster\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u4f5c\u6210\u306f\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002                 
-11,105  |9 de julio de 2000      |15:39:10 PST      |\u30c1\u30a7\u30c3\u30af\u30dd\u30a4\u30f3\u30c8\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f:\u7d99\u7d9a\u6642\u9593\u306f 8\u79&
-ij> 
+NDEC   |NDATEC                  |NTIMEC            |NCHARC                                                                                                                          
+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
+12,345 |25 de mayo de 2000      |15:30:15 PST      |?C?x???g?A???[?????L???????B                                                                                                    
+32,432 |18 de mayo de 2000      |15:32:10 PST      |DR:DRAUTO??0 (Off)?????B                                                                                                        
+54,846 |28 de enero de 2000     |15:32:28 PST      |INFORMIX-OnLine?????????????A?f?B?X?N???????????????????????B                                                                   
+39,003 |11 de noviembre de 2000 |15:32:29 PST      |?`?F?b?N?|?C???g??????????????:?p???????? 0?b??????                                                                             
+79,406 |5 de junio de 2000      |15:32:29 PST      |????????DB???????f?[?^?X?L?b?v???????I?t???????????????B                                                                        
+94,999 |30 de julio de 2000     |15:32:30 PST      |On-Line???[?h                                                                                                                   
+18,849 |22 de octubre de 2000   |15:32:31 PST      |sysmaster?f?[?^?x?[?X????????????...                                                                                            
+35,444 |29 de febrero de 2000   |15:33:22 PST      |?_?????O 1???????????????B                                                                                                      
+84,391 |21 de enero de 2000     |15:33:23 PST      |???^?[???R?[?h 1?????????v???Z?X???I??????????:/bin/sh /bin/sh -c /work1/MOSES_7.22.UC1A5_27/sqldist/etc/log_full.sh 2 23 ?_???&
+56,664 |16 de abril de 2000     |15:33:40 PST      |?_?????O 2???????????????B                                                                                                      
+90,007 |27 de noviembre de 2000 |15:33:43 PST      |?`?F?b?N?|?C???g??????????????:?p???????? 2?b??????                                                                             
+30,496 |3 de abril de 2000      |15:34:29 PST      |?_?????O 3???????????????B                                                                                                      
+66,295 |15 de octubre de 2000   |15:34:30 PST      |???^?[???R?[?h 1?????????v???Z?X???I??????????:/bin/sh /bin/sh -c /work1/MOSES_7.22.UC1A5_27/sqldist/etc/log_full.sh 2 23 ?_???&
+54,332 |1 de septiembre de 2000 |15:35:35 PST      |sysmaster?f?[?^?x?[?X?????????????????????B                                                                                     
+11,105 |9 de julio de 2000      |15:39:10 PST      |?`?F?b?N?|?C???g??????????????:?p???????? 8?b??????                                                                             
+ij> 
\ No newline at end of file
diff --git a/java/testing/org/apache/derbyTesting/functionTests/suites/AllPackages.java b/java/testing/org/apache/derbyTesting/functionTests/suites/AllPackages.java
index 07a8a2154..3b9859a2c 100644
--- a/java/testing/org/apache/derbyTesting/functionTests/suites/AllPackages.java
+++ b/java/testing/org/apache/derbyTesting/functionTests/suites/AllPackages.java
@@ -60,6 +60,7 @@ public class AllPackages extends BaseTestCase {
         suite.addTest(org.apache.derbyTesting.functionTests.tests.engine._Suite.suite());
         suite.addTest(org.apache.derbyTesting.functionTests.tests.demo._Suite.suite());
         suite.addTest(org.apache.derbyTesting.functionTests.tests.memory._Suite.suite());
+        suite.addTest(org.apache.derbyTesting.functionTests.tests.i18n._Suite.suite());
 
         // Suites that are compiled using Java SE 6 target need to
         // be added this way, otherwise creating the suite
diff --git a/java/testing/org/apache/derbyTesting/functionTests/tests/i18n/LocalizedAttributeScriptTest.java b/java/testing/org/apache/derbyTesting/functionTests/tests/i18n/LocalizedAttributeScriptTest.java
new file mode 100644
index 000000000..4f8f665b8
--- /dev/null
+++ b/java/testing/org/apache/derbyTesting/functionTests/tests/i18n/LocalizedAttributeScriptTest.java
@@ -0,0 +1,190 @@
+/*
+ *
+ * Derby - Class org.apache.derbyTesting.functionTests.tests.i18n.LocalizedAttributeScriptTest
+ *
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements.  See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache License, Version 2.0
+ * (the "License"); you may not use this file except in compliance with
+ * the License.  You may obtain a copy of the License at
+ *
+ *    http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, 
+ * software distributed under the License is distributed on an 
+ * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, 
+ * either express or implied. See the License for the specific 
+ * language governing permissions and limitations under the License.
+ */
+
+package org.apache.derbyTesting.functionTests.tests.i18n;
+
+import java.io.File;
+import java.security.AccessController;
+import java.util.Properties;
+
+import org.apache.derby.iapi.tools.i18n.LocalizedResource;
+import org.apache.derbyTesting.functionTests.util.ScriptTestCase;
+import org.apache.derbyTesting.junit.JDBC;
+import org.apache.derbyTesting.junit.SystemPropertyTestSetup;
+import org.apache.derbyTesting.junit.TestConfiguration;
+
+import junit.framework.Test;
+import junit.framework.TestSuite;
+
+/**
+ * LocalizedAttributeScriptTest runs the ij scripts (.sql file) 
+ * LocalizedConnectionAttribute.sql and compares the output to a canon file in
+ * the standard master package.
+ * <BR>
+ * Its suite() method returns the test as an instance of
+ * this class for the specific script wrapped in a decorator that sets the
+ * specific encoding properties, surrounded by a clean database decorator.
+ * <BR>
+ * It can also be used as a command line program
+ *
+ */
+public final class LocalizedAttributeScriptTest extends ScriptTestCase {
+    
+    /**
+     * Run LocalizedConnectionAttribute.sql 
+     * <code>
+     * example
+     * java org.apache.derbyTesting.functionTests.tests.i18n.LocalizedAttributeScriptTest
+     * </code>
+     */
+    public static void main()
+    {
+        junit.textui.TestRunner.run(getSuite());
+    }
+
+    /**
+     * Return the suite that runs the Localized script.
+     */
+    public static Test suite() {
+
+        TestSuite suite = new TestSuite("LocalizedScripts");
+
+        // First ensure that we are running in english locale; the output
+        // master has been created in that locale, and thus, running in any
+        // other locale will fail.
+        if (!getSystemProperty("user.language").equalsIgnoreCase("en"))
+            return suite;
+        
+        // Note that it doesn't really make sense to run with network 
+        // server/client, as LocalizedConnectionAttributes.sql has a hardcoded
+        // connect with protocol, so we can test connect 'as' with a us-ascii
+        // character. So only run with embedded. 
+        // Similarly, the script cannot run with JSR169, because the connect
+        // statement automatically invokes DriverManager.
+        if (JDBC.vmSupportsJSR169())
+            return suite;
+        TestSuite localizedTests = new TestSuite("LocalizedScripts:embedded");
+        localizedTests.addTest(getSuite());
+        Test local = TestConfiguration.singleUseDatabaseDecoratorNoShutdown(
+            localizedTests);
+
+        // add those client tests into the top-level suite.
+        suite.addTest(local);
+
+        return suite;
+    }
+
+    /*
+     * A single JUnit test that runs a single Localized script, specifying the
+     * desired input encoding.
+     * Needs input encoding Cp850, or we get a syntax error on connecting to 
+     * the database with the u-umlaut in the 'as' clause.
+     */
+    private LocalizedAttributeScriptTest(String localizedTest){
+        super(localizedTest, "ISO-8859-1");
+    }
+
+    /**
+     * Return a suite of localized tests based on the 
+     * script name. The test is surrounded in a decorator
+     * that sets localization properties wrapped in a decorator
+     * that cleans the database.
+     */
+    private static Test getSuite() {
+        TestSuite suite = new TestSuite("localized scripts");
+        Properties uiProps = new Properties();
+
+        uiProps.put("derby.ui.locale","de_DE");
+        uiProps.put("derby.ui.codeset","ISO-8859-1");
+        suite.addTest(new SystemPropertyTestSetup(
+                new LocalizedAttributeScriptTest("LocalizedConnectionAttribute"), uiProps));
+        
+        return getIJConfig(suite);
+    }
+    
+    public void tearDown() throws Exception {
+        // attempt to get rid of the extra database.
+        // this also will get done if there are failures, and the database will
+        // not be saved in the 'fail' directory.
+        // We can't rely on an additionalDatabaseDecorator because 'detest'
+        // is not just a logical, but a physical db name.
+        AccessController.doPrivileged(new java.security.PrivilegedAction() {
+            public Object run() {
+                    removeDatabase("detest");
+                return null;
+            }
+            
+            void removeDatabase(String dbName)
+            {
+                //TestConfiguration config = TestConfiguration.getCurrent();
+                dbName = dbName.replace('/', File.separatorChar);
+                String dsh = getSystemProperty("derby.system.home");
+                if (dsh == null) {
+                    fail("not implemented");
+                } else {
+                    dbName = dsh + File.separator + dbName;
+                }
+                removeDirectory(dbName);
+            }
+
+            void removeDirectory(String path)
+            {
+                final File dir = new File(path);
+                removeDir(dir);
+            }
+
+            private void removeDir(File dir) {
+                
+                // Check if anything to do!
+                // Database may not have been created.
+                if (!dir.exists())
+                    return;
+
+                String[] list = dir.list();
+
+                // Some JVMs return null for File.list() when the
+                // directory is empty.
+                if (list != null) {
+                    for (int i = 0; i < list.length; i++) {
+                        File entry = new File(dir, list[i]);
+
+                        if (entry.isDirectory()) {
+                            removeDir(entry);
+                        } else {
+                            entry.delete();
+                            //assertTrue(entry.getPath(), entry.delete());
+                        }
+                    }
+                }
+                dir.delete();
+                //assertTrue(dir.getPath(), dir.delete());
+            }
+        });
+        LocalizedResource.resetLocalizedResourceCache();
+        super.tearDown();
+    }    
+    
+    /**
+     * Set up the test environment.
+     */
+    protected void setUp() {
+        LocalizedResource.resetLocalizedResourceCache();
+    }
+}
\ No newline at end of file
diff --git a/java/testing/org/apache/derbyTesting/functionTests/tests/i18n/LocalizedConnectionAttribute.sql b/java/testing/org/apache/derbyTesting/functionTests/tests/i18n/LocalizedConnectionAttribute.sql
index ea292caee..bf0bb29b6 100644
--- a/java/testing/org/apache/derbyTesting/functionTests/tests/i18n/LocalizedConnectionAttribute.sql
+++ b/java/testing/org/apache/derbyTesting/functionTests/tests/i18n/LocalizedConnectionAttribute.sql
@@ -14,51 +14,56 @@
 --   See the License for the specific language governing permissions and
 --   limitations under the License.
 --
-connect 'jdbc:derby:detest;create=true;' as Mnchen;
+disconnect;
+connect 'jdbc:derby:detest;create=true;';
+connect 'jdbc:derby:detest;create=true;' as Mnchen;
 
-drop table deta;
+drop table detab;
 create table detab ( dc1 decimal(5,3), dc3 date, dc2 char(200) );
 insert into detab values(1.123,date('2000-01-25'),'Zuviele Programme gefunden. Versuchen Sie es erneut.');
 insert into detab values(2.123,date('2000-02-24'),'Nur Teile der Entwicklungsdatenbank gefunden.');
 insert into detab values(3.123,date('2000-03-23'),'Mehr als eine Instanz der Tabelle %s in Entwicklungsdatenbank gefunden.');
-insert into detab values(4.123,date('2000-04-22'),'Mehr als einen Runner-Datensatz f?r dieses Programm gefunden.');
+insert into detab values(4.123,date('2000-04-22'),'Mehr als einen Runner-Datensatz fr dieses Programm gefunden.');
 insert into detab values(5.123,date('2000-05-21'),'Es kann nur eine BEFORE- oder AFTER INPUT/CONSTRUCT-Klausel in einer ');
 insert into detab values(6.123,date('2000-06-20'),'INPUT-/CONSTRUCT-Anweisung erscheinen.');
 insert into detab values(7.123,date('2000-07-19'),'Die Funktion %s kann nur in einer INPUT- oder CONSTRUCT-Anweisung ');
 insert into detab values(8.123,date('2000-08-18'),'Fglpc, der Pcode-Kompiler, ist nicht in Ihrem Pfad vorhanden.');
 insert into detab values(9.123,date('2000-09-17'),'Kann Runner %s nicht finden.');
 insert into detab values(10.123,date('2000-10-16'),'I/O-Fehler beim Laufen von fglc: %s.');
-insert into detab values(11.123,date('2000-11-15'),'I/O-Fehler beim Ausf?hren von fglc.');
-insert into detab values(12.123,date('2000-12-14'),'Kann Datei %s nicht ffnen, um den Wert einer TEXT-Variable zu lesen.');
-insert into detab values(13.123,date('2000-01-13'),'Der angegebene WORDWRAP RIGHT MARGIN-Wert liegt auerhalb des Bereichs.'); 
+insert into detab values(11.123,date('2000-11-15'),'I/O-Fehler beim Ausfhren von fglc.');
+insert into detab values(12.123,date('2000-12-14'),'Kann Datei %s nicht ffnen, um den Wert einer TEXT-Variable zu lesen.');
+insert into detab values(13.123,date('2000-01-13'),'Der angegebene WORDWRAP RIGHT MARGIN-Wert liegt auerhalb des Bereichs.'); 
 insert into detab values(14.123,date('2000-02-12'),'als oder gleich dem Wert des rechten Reportrands sein.');
-insert into detab values(15.123,date('2000-03-11'),'4GL unterst?tzt nicht die Ausgabe einer Blob-Variable.');
-insert into detab values(16.123,date('2000-04-10'),'Die HELP- und ATTRIBUTE-Klauseln knnen jeweils nur einmal definiert werden.');
-insert into detab values(17.123,date('2000-05-09'),'Ein Feld des INTERVAL-Kennzeichners liegt auerhalb des Bereichs.'); 
+insert into detab values(15.123,date('2000-03-11'),'4GL untersttzt nicht die Ausgabe einer Blob-Variable.');
+insert into detab values(16.123,date('2000-04-10'),'Die HELP- und ATTRIBUTE-Klauseln knnen jeweils nur einmal definiert werden.');
+insert into detab values(17.123,date('2000-05-09'),'Ein Feld des INTERVAL-Kennzeichners liegt auerhalb des Bereichs.'); 
 insert into detab values(18.123,date('2000-06-08'),'Der Bereich geht von YEAR TO MONTH und von DAY TO FRACTION.');
 insert into detab values(19.123,date('2000-07-07'),'Das Anlegen von Indizes ist hier nicht erlaubt.');
 insert into detab values(20.123,date('2000-08-06'),'Hier wird die Eingabe des Spaltennamen erwartet.');
 insert into detab values(21.123,date('2000-09-05'),'Hier wird die Eingabe des Tabellennamen erwartet.');
 insert into detab values(22.123,date('2000-10-04'),'Der eigentliche Spaltenname kann hier nicht angegeben werden.'); 
-insert into detab values(23.123,date('2000-11-03'),'Die maximale Gre f?r Varchar mu zwischen 1 und 255 liegen.');
-insert into detab values(24.123,date('2000-12-02'),'Kann keine temporre Datei %s anlegen, um eine Blob-Variable aufzunehmen.');
-insert into detab values(25.123,date('2000-11-01'),'Symbol %s mu ein SQL-Datenbank-Elementname sein - entweder ein ');
+insert into detab values(23.123,date('2000-11-03'),'Die maximale Gre fr Varchar mu zwischen 1 und 255 liegen.');
+insert into detab values(24.123,date('2000-12-02'),'Kann keine temporre Datei %s anlegen, um eine Blob-Variable aufzunehmen.');
+insert into detab values(25.123,date('2000-11-01'),'Symbol %s mu ein SQL-Datenbank-Elementname sein - entweder ein ');
 insert into detab values(26.123,date('2000-10-28'),'Datenbankname, ein Tabellenname oder ein Spaltenname.');
-insert into detab values(27.123,date('2000-09-29'),'DATETIME-Einheiten knnen nur YEAR, MONTH, DAY, HOUR, MINUTE,'); 
-insert into detab values(28.123,date('2000-08-30'),'Eingeklammerte Genauigkeit von FRACTION mu zwischen 1 und 5 liegen.');
-insert into detab values(29.123,date('2000-07-31'),'F?r andere Zeiteinheiten kann keine Genauigkeit definiert werden.');
-insert into detab values(30.123,date('2000-06-25'),'Das Startfeld von DATETIME oder INTERVAL-Kennzeichnern mu in der ');
+insert into detab values(27.123,date('2000-09-29'),'DATETIME-Einheiten knnen nur YEAR, MONTH, DAY, HOUR, MINUTE,'); 
+insert into detab values(28.123,date('2000-08-30'),'Eingeklammerte Genauigkeit von FRACTION mu zwischen 1 und 5 liegen.');
+insert into detab values(29.123,date('2000-07-31'),'Fr andere Zeiteinheiten kann keine Genauigkeit definiert werden.');
+insert into detab values(30.123,date('2000-06-25'),'Das Startfeld von DATETIME oder INTERVAL-Kennzeichnern mu in der ');
 insert into detab values(31.123,date('2000-05-25'),'Zeitliste vor dem Endfeld stehen.');
-insert into detab values(32.123,date('2000-04-25'),'Entladen in Datei %s milungen.');
-insert into detab values(33.123,date('2000-03-25'),'Laden aus Datei %s milungen.');
+insert into detab values(32.123,date('2000-04-25'),'Entladen in Datei %s milungen.');
+insert into detab values(33.123,date('2000-03-25'),'Laden aus Datei %s milungen.');
 insert into detab values(34.123,date('2000-02-25'),'Das Programm kann eine DISPLAY ARRAY-Anweisung an dieser Stelle nicht'); 
 insert into detab values(35.123,date('2000-01-25'),'beenden, weil es sich nicht in einer DISPLAY ARRAY-Anweisung befindet.');
 insert into detab values(36.123,date('2000-02-25'),'Das Programm kann eine INPUT-Anweisung an dieser Stelle nicht beenden,'); 
 insert into detab values(37.123,date('2000-04-25'),'weil es sich nicht in einer INPUT-Anweisung befindet.');
-insert into detab values(38.123,date('2000-05-25'),'Konnte Datei %s nicht ffnen.');
-insert into detab values(39.123,date('2000-07-25'),'Name des Eigent?mers %s hat die Lnge von 8 Zeichen ?berschritten.');
+insert into detab values(38.123,date('2000-05-25'),'Konnte Datei %s nicht ffnen.');
+insert into detab values(39.123,date('2000-07-25'),'Name des Eigentmers %s hat die Lnge von 8 Zeichen berschritten.');
 insert into detab values(40.123,date('2000-09-25'),'Fehler bei der Speicherzuordnung.');
-insert into detab values(41.123,date('2000-05-25'),'Unter dem angegebenen Namen wurde kein lauffhiges 4GL-Programm gefunden.');
+insert into detab values(41.123,date('2000-05-25'),'Unter dem angegebenen Namen wurde kein lauffhiges 4GL-Programm gefunden.');
 LOCALIZEDDISPLAY ON;
 show connections;
 select * from detab;
+disconnect;
+-- shutdown system
+connect 'jdbc:derby:;shutdown=true';
diff --git a/java/testing/org/apache/derbyTesting/functionTests/tests/i18n/LocalizedDisplay.sql b/java/testing/org/apache/derbyTesting/functionTests/tests/i18n/LocalizedDisplay.sql
index 6bdcf99da..acee62b9a 100644
--- a/java/testing/org/apache/derbyTesting/functionTests/tests/i18n/LocalizedDisplay.sql
+++ b/java/testing/org/apache/derbyTesting/functionTests/tests/i18n/LocalizedDisplay.sql
@@ -19,22 +19,22 @@ create table localtab(	ndec decimal(5,3),
 							ndatec date , 
 							ntimec time , 
 							ncharc varchar(500));
-insert into localtab values(12.345, date('2000-05-25'),'15:30:15','\u30a4\u30d9\u30f3\u30c8\u30a2\u30e9\u30fc\u30e0\u304c\u6709\u52b9\u3067\u3059\u3002');
-insert into localtab values(32.432, date('2000-05-18'),'15:32:10','DR:DRAUTO\u306f0 (Off)\u3067\u3059\u3002');
-insert into localtab values(54.846, date('2000-01-28'),'15:32:28','INFORMIX-OnLine\u304c\u521d\u671f\u5316\u3055\u308c\u3001\u30c7\u30a3\u30b9\u30af\u306e\u521d\u671f\u5316\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002');
-insert into localtab values(39.003, date('2000-11-11'),'15:32:29','\u30c1\u30a7\u30c3\u30af\u30dd\u30a4\u30f3\u30c8\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f:\u7d99\u7d9a\u6642\u9593\u306f 0\u79d2\u3067\u3057\u305f');
-insert into localtab values(79.406, date('2000-06-05'),'15:32:29','\u3059\u3079\u3066\u306eDB\u9818\u57df\u306e\u30c7\u30fc\u30bf\u30b9\u30ad\u30c3\u30d7\u306f\u73fe\u5728\u30aa\u30d5\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002');
-insert into localtab values(94.999, date('2000-07-30'),'15:32:30','On-Line\u30e2\u30fc\u30c9');
-insert into localtab values(18.849, date('2000-10-22'),'15:32:31','sysmaster\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u3092\u4f5c\u6210\u4e2d\u3067\u3059...');
-insert into localtab values(35.444, date('2000-02-29'),'15:33:22','\u8ad6\u7406\u30ed\u30b0 1\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002');
-insert into localtab values(84.391, date('2000-01-21'),'15:33:23','\u30ea\u30bf\u30fc\u30f3\u30b3\u30fc\u30c9 1\u3092\u623b\u3057\u3066\u30d7\u30ed\u30bb\u30b9\u304c\u7d42\u4e86\u3057\u307e\u3057\u305f:/bin/sh /bin/sh -c /work1/MOSES_7.22.UC1A5_27/sqldist/etc/log_full.sh 2 23 \u8ad6\u7406\u30ed\u30b0 1\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002 \u8ad6\u7406');
-insert into localtab values(56.664, date('2000-04-16'),'15:33:40','\u8ad6\u7406\u30ed\u30b0 2\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002');
-insert into localtab values(22.393, date('2000-03-01'),'15:33;42','\u30ea\u30bf\u30fc\u30f3\u30b3\u30fc\u30c9 1\u3092\u623b\u3057\u3066\u30d7\u30ed\u30bb\u30b9\u304c\u7d42\u4e86\u3057\u307e\u3057\u305f:/bin/sh /bin/sh -c /work1/MOSES_7.22.UC1A5_27/sqldist/etc/log_full.sh 2 23 \u8ad6\u7406\u30ed\u30b0 2\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002 \u8ad6\u7406');
-insert into localtab values(90.007, date('2000-11-27'),'15:33:43','\u30c1\u30a7\u30c3\u30af\u30dd\u30a4\u30f3\u30c8\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f:\u7d99\u7d9a\u6642\u9593\u306f 2\u79d2\u3067\u3057\u305f');
-insert into localtab values(30.496, date('2000-04-03'),'15:34:29','\u8ad6\u7406\u30ed\u30b0 3\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002');
-insert into localtab values(66.295, date('2000-10-15'),'15:34:30','\u30ea\u30bf\u30fc\u30f3\u30b3\u30fc\u30c9 1\u3092\u623b\u3057\u3066\u30d7\u30ed\u30bb\u30b9\u304c\u7d42\u4e86\u3057\u307e\u3057\u305f:/bin/sh /bin/sh -c /work1/MOSES_7.22.UC1A5_27/sqldist/etc/log_full.sh 2 23 \u8ad6\u7406\u30ed\u30b0 3\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002 \u8ad6\u7406');
-insert into localtab values(54.332, date('2000-09-01'),'15:35:35','sysmaster\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u4f5c\u6210\u306f\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002');
-insert into localtab values(11.105, date('2000-07-09'),'15:39:10','\u30c1\u30a7\u30c3\u30af\u30dd\u30a4\u30f3\u30c8\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f:\u7d99\u7d9a\u6642\u9593\u306f 8\u79d2\u3067\u3057\u305f');
+insert into localtab values(12.345, date('2000-05-25'),'15:30:15','CxgA[LB');
+insert into localtab values(32.432, date('2000-05-18'),'15:32:10','DR:DRAUTO0 (Off)B');
+insert into localtab values(54.846, date('2000-01-28'),'15:32:28','INFORMIX-OnLineAfBXNB');
+insert into localtab values(39.003, date('2000-11-11'),'15:32:29','`FbN|Cg:p 0b');
+insert into localtab values(79.406, date('2000-06-05'),'15:32:29','DBf[^XLbvItB');
+insert into localtab values(94.999, date('2000-07-30'),'15:32:30','On-Line[h');
+insert into localtab values(18.849, date('2000-10-22'),'15:32:31','sysmasterf[^x[X...');
+insert into localtab values(35.444, date('2000-02-29'),'15:33:22','_O 1B');
+insert into localtab values(84.391, date('2000-01-21'),'15:33:23','^[R[h 1vZXI:/bin/sh /bin/sh -c /work1/MOSES_7.22.UC1A5_27/sqldist/etc/log_full.sh 2 23 _O 1B _');
+insert into localtab values(56.664, date('2000-04-16'),'15:33:40','_O 2B');
+insert into localtab values(22.393, date('2000-03-01'),'15:33;42','^[R[h 1vZXI:/bin/sh /bin/sh -c /work1/MOSES_7.22.UC1A5_27/sqldist/etc/log_full.sh 2 23 _O 2B _');
+insert into localtab values(90.007, date('2000-11-27'),'15:33:43','`FbN|Cg:p 2b');
+insert into localtab values(30.496, date('2000-04-03'),'15:34:29','_O 3B');
+insert into localtab values(66.295, date('2000-10-15'),'15:34:30','^[R[h 1vZXI:/bin/sh /bin/sh -c /work1/MOSES_7.22.UC1A5_27/sqldist/etc/log_full.sh 2 23 _O 3B _');
+insert into localtab values(54.332, date('2000-09-01'),'15:35:35','sysmasterf[^x[XB');
+insert into localtab values(11.105, date('2000-07-09'),'15:39:10','`FbN|Cg:p 8b');
 
 -- display in non localized format
 select * from localtab;
diff --git a/java/testing/org/apache/derbyTesting/functionTests/tests/i18n/LocalizedDisplayScriptTest.java b/java/testing/org/apache/derbyTesting/functionTests/tests/i18n/LocalizedDisplayScriptTest.java
new file mode 100644
index 000000000..ef484c426
--- /dev/null
+++ b/java/testing/org/apache/derbyTesting/functionTests/tests/i18n/LocalizedDisplayScriptTest.java
@@ -0,0 +1,140 @@
+/*
+ *
+ * Derby - Class org.apache.derbyTesting.functionTests.tests.i18n.LocalizedDisplayScriptTest
+ *
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements.  See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache License, Version 2.0
+ * (the "License"); you may not use this file except in compliance with
+ * the License.  You may obtain a copy of the License at
+ *
+ *    http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, 
+ * software distributed under the License is distributed on an 
+ * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, 
+ * either express or implied. See the License for the specific 
+ * language governing permissions and limitations under the License.
+ */
+
+package org.apache.derbyTesting.functionTests.tests.i18n;
+
+import java.util.Properties;
+import java.util.TimeZone;
+
+import org.apache.derby.iapi.tools.i18n.LocalizedResource;
+import org.apache.derbyTesting.functionTests.util.ScriptTestCase;
+import org.apache.derbyTesting.junit.JDBC;
+import org.apache.derbyTesting.junit.SystemPropertyTestSetup;
+import org.apache.derbyTesting.junit.TestConfiguration;
+
+import junit.framework.Test;
+import junit.framework.TestSuite;
+
+/**
+ * LocalizedDisplayScriptTest runs the ij script LocalizedDisplay.sql
+ * and compares the output to a canon file in the standard master package.
+ * <BR>
+ * Its suite() method returns a set of tests where each test is an instance of
+ * this class for an individual script wrapped in a clean database decorator.
+ * <BR>
+ * It can also be used as a command line program
+ *
+ */
+public final class LocalizedDisplayScriptTest extends ScriptTestCase {
+
+    private static TimeZone defaultTimeZone;
+    
+    /**
+     * Run LocalizedDisplay.sql 
+     * <code>
+     * example
+     * java org.apache.derbyTesting.functionTests.tests.i18n.LocalizedSuite
+     * </code>
+     */
+    public static void main()
+    {
+        junit.textui.TestRunner.run(getSuite());
+    }
+
+    /**
+     * Return the suite that runs the Localized script.
+     */
+    public static Test suite() {
+        
+        TestSuite suite = new TestSuite("LocalizedDisplay");
+
+        // First ensure that we are running in english locale; the output
+        // master has been created in that locale, and thus, running in any
+        // other locale will fail.
+        if (!getSystemProperty("user.language").equalsIgnoreCase("en"))
+            return suite;
+        // This test will fail with JSR169, because lack of support for 
+        // rs.getBigDecimal() will prevent the localization of numeric and
+        // decimal datatypes, and this test includes a decimal datatype
+        // (See DERBY-470).
+        if (JDBC.vmSupportsJSR169())
+            return suite;
+        TestSuite localizedEmbeddedTests = new TestSuite("LocalizedDisplay:embedded");
+        localizedEmbeddedTests.addTest(getSuite());
+        Test embeddedrun = TestConfiguration.singleUseDatabaseDecorator(localizedEmbeddedTests);
+        // add the client test
+        suite.addTest(embeddedrun);
+
+        // It's not working to have both embedded and client run in the same
+        // setting as the database doesn't get deleted until after the suite is done.
+        // The second run will go against the already created & encoded database,
+        // resulting in localized display by default, and thus a diff with the
+        // master.
+        // Set up the script's run with the network client
+        TestSuite localizedTests = new TestSuite("LocalizedDisplay:client");
+        localizedTests.addTest(getSuite());
+        Test client = TestConfiguration.clientServerDecorator(
+            TestConfiguration.singleUseDatabaseDecorator(localizedTests));
+        // add the client test
+        suite.addTest(client);
+
+        return suite;
+    }
+
+    /*
+     * A single JUnit test that runs a single Localized script.
+     */
+    private LocalizedDisplayScriptTest(String localizedTest){
+        super(localizedTest);
+    }
+
+    /**
+     * Return a localized test based on the script name. 
+     * The test is surrounded in a decorator that sets up the
+     * desired properties which is wrapped in a decorator
+     * that cleans the database.
+     */
+    private static Test getSuite() {
+        TestSuite suite = new TestSuite("localized Display");
+        Properties uiProps = new Properties();
+        uiProps.put("derby.ui.locale","es_AR");
+        uiProps.put("derby.ui.codeset","EUC_JP");
+        suite.addTest(new SystemPropertyTestSetup(
+                new LocalizedDisplayScriptTest("LocalizedDisplay"), uiProps));
+        return getIJConfig(suite);
+    }
+    
+    /**
+     * Set up the test environment.
+     */
+    protected void setUp() {
+        // the canon contains time columns, which would display localized -
+        // and so cause errors. Thus, run this with timezone PST.
+        defaultTimeZone = TimeZone.getDefault(); 
+        TimeZone.setDefault(TimeZone.getTimeZone("America/Los_Angeles")); 
+        LocalizedResource.resetLocalizedResourceCache();
+    }
+    
+    public void tearDown() throws Exception {
+        TimeZone.setDefault(defaultTimeZone); 
+        LocalizedResource.resetLocalizedResourceCache();
+        super.tearDown();
+    }    
+}
diff --git a/java/testing/org/apache/derbyTesting/functionTests/tests/i18n/_Suite.java b/java/testing/org/apache/derbyTesting/functionTests/tests/i18n/_Suite.java
new file mode 100644
index 000000000..2c4162088
--- /dev/null
+++ b/java/testing/org/apache/derbyTesting/functionTests/tests/i18n/_Suite.java
@@ -0,0 +1,67 @@
+/*
+
+   Derby - Class org.apache.derbyTesting.functionTests.tests.18n._Suite
+
+       Licensed to the Apache Software Foundation (ASF) under one
+       or more contributor license agreements.  See the NOTICE file
+       distributed with this work for additional information
+       regarding copyright ownership.  The ASF licenses this file
+       to you under the Apache License, Version 2.0 (the
+       "License"); you may not use this file except in compliance
+       with the License.  You may obtain a copy of the License at
+
+         http://www.apache.org/licenses/LICENSE-2.0
+
+       Unless required by applicable law or agreed to in writing,
+       software distributed under the License is distributed on an
+       "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+       KIND, either express or implied.  See the License for the
+       specific language governing permissions and limitations
+       under the License
+*/
+package org.apache.derbyTesting.functionTests.tests.i18n;
+
+import org.apache.derbyTesting.junit.BaseTestCase;
+import org.apache.derbyTesting.junit.JDBC;
+
+import junit.framework.Test; 
+import junit.framework.TestSuite;
+
+/**
+ * Suite to run all JUnit tests in this package:
+ * org.apache.derbyTesting.functionTests.tests.i18n
+ * <P>
+ * All tests are run "as-is", just as if they were run
+ * individually. Thus this test is just a collection
+ * of all the JUNit tests in this package (excluding itself).
+ * While the old test harness is in use, some use of decorators
+ * may be required.
+ *
+ */
+public class _Suite extends BaseTestCase  {
+
+	/**
+	 * Use suite method instead.
+	 */
+	private _Suite(String name) {
+		super(name);
+	}
+
+	public static Test suite() {
+
+		TestSuite suite = new TestSuite("i18n");
+        
+        // First ensure that we are running in english locale; the output
+        // master has been created in that locale, and thus, running in any
+        // other locale will fail.
+        if (!getSystemProperty("user.language").equalsIgnoreCase("en"))
+            return suite;
+        // Also, both these tests won't run with JSR169.
+        if (JDBC.vmSupportsJSR169())
+            return suite;
+        suite.addTest(LocalizedAttributeScriptTest.suite());
+        suite.addTest(LocalizedDisplayScriptTest.suite());
+        
+        return suite;
+	}
+}
diff --git a/java/testing/org/apache/derbyTesting/functionTests/util/ScriptTestCase.java b/java/testing/org/apache/derbyTesting/functionTests/util/ScriptTestCase.java
index d657fd7f7..f03501ee7 100644
--- a/java/testing/org/apache/derbyTesting/functionTests/util/ScriptTestCase.java
+++ b/java/testing/org/apache/derbyTesting/functionTests/util/ScriptTestCase.java
@@ -49,7 +49,20 @@ public abstract class ScriptTestCase extends CanonTestCase {
 		inputEncoding = "US-ASCII";
 	}
 	
-	/**
+    /**
+     * Create a ScriptTestCase to run a single test
+     * using a connection obtained from getConnection() with a
+     * different encoding
+     * @param script Base name of the .sql script
+     * excluding the .sql suffix.
+     */
+    public ScriptTestCase(String script, String encoding)
+    {
+        super(script);
+        inputEncoding = encoding;
+    }
+
+    /**
 	 * Return the folder (last element of the package) where
 	 * the .sql script lives, e.g. lang.
 	 */
diff --git a/java/tools/org/apache/derby/iapi/tools/i18n/LocalizedResource.java b/java/tools/org/apache/derby/iapi/tools/i18n/LocalizedResource.java
index ad78c6ad3..5228aee53 100644
--- a/java/tools/org/apache/derby/iapi/tools/i18n/LocalizedResource.java
+++ b/java/tools/org/apache/derby/iapi/tools/i18n/LocalizedResource.java
@@ -99,6 +99,14 @@ public final class LocalizedResource  implements java.security.PrivilegedAction
 		}
 		return local;
 	}
+    // Resets the 'local' field to null. This is not needed for normal
+    // operations, however, when executing sql files in our junit tests, we use
+    // the same jvm and thus the locale will get loaded only once, resulting
+    // in trouble when testing the localization for ij.
+    public static void resetLocalizedResourceCache()
+    {
+        local=null;
+    }
 	public void init(){
 		init(null,null,null);
 	}
