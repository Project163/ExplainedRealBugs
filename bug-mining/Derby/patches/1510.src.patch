diff --git a/java/drda/org/apache/derby/impl/drda/DssTrace.java b/java/drda/org/apache/derby/impl/drda/DssTrace.java
index 7e29418ec..36eb50d96 100644
--- a/java/drda/org/apache/derby/impl/drda/DssTrace.java
+++ b/java/drda/org/apache/derby/impl/drda/DssTrace.java
@@ -180,7 +180,7 @@ public class DssTrace
                 // If we can't create the directory the exception will occur 
                 // when trying to create the trace file.
                 File traceDirectory = new File(fileName).getParentFile();
-                if (!PrivilegedFileOps.exists(traceDirectory))
+                if (traceDirectory != null)
                 {
                     PrivilegedFileOps.mkdirs(traceDirectory);
                 }
diff --git a/java/testing/org/apache/derbyTesting/functionTests/util/derby_tests.policy b/java/testing/org/apache/derbyTesting/functionTests/util/derby_tests.policy
index e07a78919..2260c6f6d 100644
--- a/java/testing/org/apache/derbyTesting/functionTests/util/derby_tests.policy
+++ b/java/testing/org/apache/derbyTesting/functionTests/util/derby_tests.policy
@@ -126,7 +126,8 @@ grant codeBase "${derbyTesting.codejar}derbynet.jar" {
   permission java.net.SocketPermission "localhost", "accept,connect";
   permission java.net.SocketPermission "${derbyTesting.clienthost}", "accept,connect";
   permission java.net.SocketPermission "${derbyTesting.serverhost}", "accept,connect";
-  
+  // Need to be able to write to trace file for NetworkServerControlApiTest
+  permission java.io.FilePermission "${user.dir}${/}system${/}trace${/}-", "write"; 
     // Needed for NetworkServerMBean access (see JMX section above)
   permission org.apache.derby.security.SystemPermission "server", "control,monitor";
   
