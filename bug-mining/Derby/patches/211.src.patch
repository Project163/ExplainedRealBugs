diff --git a/java/engine/org/apache/derby/impl/services/monitor/BaseMonitor.java b/java/engine/org/apache/derby/impl/services/monitor/BaseMonitor.java
index 1c54c6e73..2e152160e 100644
--- a/java/engine/org/apache/derby/impl/services/monitor/BaseMonitor.java
+++ b/java/engine/org/apache/derby/impl/services/monitor/BaseMonitor.java
@@ -1275,8 +1275,10 @@ nextModule:
 
         ClassLoader cl = getClass().getClassLoader();
         try {
-            for( Enumeration e = cl.getResources("org/apache/derby/modules.properties");
-                 e.hasMoreElements() ;) {
+        	Enumeration e = cl == null ?
+        		ClassLoader.getSystemResources("org/apache/derby/modules.properties") :
+        		cl.getResources("org/apache/derby/modules.properties");
+            while (e.hasMoreElements()) {
                 URL modulesPropertiesURL = (URL) e.nextElement();
                 InputStream is = null;
                 try {
