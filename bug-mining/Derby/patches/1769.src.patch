diff --git a/java/testing/org/apache/derbyTesting/functionTests/suites/All.java b/java/testing/org/apache/derbyTesting/functionTests/suites/All.java
index 3200e1996..42a6736c7 100644
--- a/java/testing/org/apache/derbyTesting/functionTests/suites/All.java
+++ b/java/testing/org/apache/derbyTesting/functionTests/suites/All.java
@@ -49,6 +49,7 @@ public class All extends BaseTestCase {
         suite.addTest(AllPackages.suite());
         
         // Encrypted tests
+        // J2ME (JSR169) does not support encryption.
         suite.addTest(EncryptionSuite.suite());
         
         // Replication tests. Implementation require DataSource. 
diff --git a/java/testing/org/apache/derbyTesting/functionTests/suites/AllPackages.java b/java/testing/org/apache/derbyTesting/functionTests/suites/AllPackages.java
index 791278b89..835b8216a 100644
--- a/java/testing/org/apache/derbyTesting/functionTests/suites/AllPackages.java
+++ b/java/testing/org/apache/derbyTesting/functionTests/suites/AllPackages.java
@@ -56,7 +56,7 @@ public class AllPackages extends BaseTestCase {
         suite.addTest(org.apache.derbyTesting.functionTests.tests.lang._Suite.suite());
         suite.addTest(org.apache.derbyTesting.functionTests.tests.jdbcapi._Suite.suite());
         suite.addTest(org.apache.derbyTesting.functionTests.tests.store._Suite.suite());
-	 suite.addTest(org.apache.derbyTesting.functionTests.tests.tools._Suite.suite());
+        suite.addTest(org.apache.derbyTesting.functionTests.tests.tools._Suite.suite());
         suite.addTest(org.apache.derbyTesting.functionTests.tests.engine._Suite.suite());
         suite.addTest(org.apache.derbyTesting.functionTests.tests.demo._Suite.suite());
         suite.addTest(org.apache.derbyTesting.functionTests.tests.memory._Suite.suite());
diff --git a/java/testing/org/apache/derbyTesting/functionTests/tests/replicationTests/ReplicationRun_Local_StateTest_part1_1.java b/java/testing/org/apache/derbyTesting/functionTests/tests/replicationTests/ReplicationRun_Local_StateTest_part1_1.java
index 65f9b7912..c91ac63e2 100644
--- a/java/testing/org/apache/derbyTesting/functionTests/tests/replicationTests/ReplicationRun_Local_StateTest_part1_1.java
+++ b/java/testing/org/apache/derbyTesting/functionTests/tests/replicationTests/ReplicationRun_Local_StateTest_part1_1.java
@@ -20,13 +20,9 @@ limitations under the License.
  */
 package org.apache.derbyTesting.functionTests.tests.replicationTests;
 
-import java.sql.Connection;
-import java.sql.DriverManager;
-import java.sql.SQLException;
 import junit.framework.Test;
 import junit.framework.TestSuite;
 import org.apache.derbyTesting.junit.SecurityManagerSetup;
-import org.apache.derbyTesting.junit.BaseJDBCTestCase;
 
 
 /**
@@ -200,18 +196,8 @@ public class ReplicationRun_Local_StateTest_part1_1 extends ReplicationRun
         util.DEBUG("4. testPostStartedMasterAndSlave_StopSlave: " +
                    connectionURL);
 
-        try {
-            DriverManager.getConnection(connectionURL).close();
-            util.DEBUG("4. Connected as expected: " + connectionURL);
-
-        } catch (SQLException se) {
-            int ec = se.getErrorCode();
-            String ss = se.getSQLState();
-            String msg = ec + " " + ss + " " + se.getMessage();
-            util.DEBUG("4. Unexpectedly failed to connect: " +
-                       connectionURL +  " " + msg);
-            assertTrue("Unexpectedly failed to connect: " +
-                       connectionURL +  " " + msg, false);
-        }
+        waitForConnect(100L, 10, 
+                slaveDatabasePath + FS + slaveDbSubPath + FS + replicatedDb, 
+                slaveServerHost, slaveServerPort);
     }
 }
