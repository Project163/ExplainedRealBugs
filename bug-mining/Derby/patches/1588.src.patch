diff --git a/java/testing/org/apache/derbyTesting/functionTests/tests/derbynet/SecureServerTest.java b/java/testing/org/apache/derbyTesting/functionTests/tests/derbynet/SecureServerTest.java
index 593be363d..f4fbee962 100644
--- a/java/testing/org/apache/derbyTesting/functionTests/tests/derbynet/SecureServerTest.java
+++ b/java/testing/org/apache/derbyTesting/functionTests/tests/derbynet/SecureServerTest.java
@@ -467,7 +467,7 @@ public class SecureServerTest extends BaseJDBCTestCase
         StringBuffer    buffer = new StringBuffer();
         String          classpath = getSystemProperty( "java.class.path" );
 
-        buffer.append( "java -classpath " );
+        buffer.append( getJavaExecutableName() + " -classpath " );
         buffer.append( classpath );
         buffer.append( " -Demma.verbosity.level=silent");
         buffer.append( " org.apache.derby.drda.NetworkServerControl -p " + portNumber + " " + commandSpecifics );
diff --git a/java/testing/org/apache/derbyTesting/functionTests/tests/replicationTests/ReplicationRun.java b/java/testing/org/apache/derbyTesting/functionTests/tests/replicationTests/ReplicationRun.java
index 76d13c77f..8ed622f47 100644
--- a/java/testing/org/apache/derbyTesting/functionTests/tests/replicationTests/ReplicationRun.java
+++ b/java/testing/org/apache/derbyTesting/functionTests/tests/replicationTests/ReplicationRun.java
@@ -103,7 +103,7 @@ public class ReplicationRun extends BaseTestCase
     
     final static String FS = File.separator;
     final static String PS = File.pathSeparator;
-    final static String JVMloc = FS+".."+FS+"bin"+FS+"java"; // "/../bin/java"
+    final static String JVMloc = BaseTestCase.getJavaExecutableName();
     
     static boolean showSysinfo = false;
     static long SLEEP_TIME_MILLIS = 5000L;
@@ -316,7 +316,7 @@ public class ReplicationRun extends BaseTestCase
                 // See TestConfiguration: startNetworkServer and stopNetworkServer
                 + PS + test_jars;
         
-        String clientJvm = clientVM+JVMloc;
+        String clientJvm = BaseTestCase.getJavaExecutableName();
         
         String command = null;
         
@@ -400,7 +400,7 @@ public class ReplicationRun extends BaseTestCase
                 // See TestConfiguration: startNetworkServer and stopNetworkServer
                 + PS + test_jars;
         
-        String clientJvm = clientVM+JVMloc;
+        String clientJvm = BaseTestCase.getJavaExecutableName();
         
         String command = null;
         
@@ -498,7 +498,7 @@ public class ReplicationRun extends BaseTestCase
                 // See TestConfiguration: startNetworkServer and stopNetworkServer
                 + PS + test_jars;
         
-        String clientJvm = clientVM+JVMloc;
+        String clientJvm = BaseTestCase.getJavaExecutableName();
         
         String command = null;
         
@@ -577,7 +577,7 @@ public class ReplicationRun extends BaseTestCase
                 // See TestConfiguration: startNetworkServer and stopNetworkServer
                 + PS + test_jars;
         
-        String clientJvm = clientVM+JVMloc;
+        String clientJvm = BaseTestCase.getJavaExecutableName();
         
         String command = null;
         
@@ -642,7 +642,7 @@ public class ReplicationRun extends BaseTestCase
         { // Use full classpath when running locally. Can not vary server versions!
             ijClassPath = classPath;
         }
-        String clientJvm = jvmVersion+JVMloc;
+        String clientJvm = BaseTestCase.getJavaExecutableName();
         
         String command = clientJvm 
                 + " -Dij.driver=" + DRIVER_CLASS_NAME
@@ -731,11 +731,10 @@ public class ReplicationRun extends BaseTestCase
         }
         else
         {
-            startMaster_ij(jvmVersion,
-                    dbName,
-                    masterHost, masterServerPort,
-                    slaveReplInterface, slaveReplPort,
-                    testClientHost);
+            startMaster_ij(dbName,
+                    masterHost,
+                    masterServerPort, slaveReplInterface,
+                    slaveReplPort, testClientHost);
         }
         /* else if ...
         {
@@ -760,7 +759,7 @@ public class ReplicationRun extends BaseTestCase
         
         String masterClassPath = derbyMasterVersion +FS+ "derbynet.jar";
         
-        String clientJvm = clientVM+JVMloc;
+        String clientJvm = BaseTestCase.getJavaExecutableName();
         
         if ( masterHost.equals("localhost") )
         { // Use full classpath when running locally. Can not vary server versions!
@@ -794,14 +793,12 @@ public class ReplicationRun extends BaseTestCase
                 "startMaster_CLI ");
         
     }
-    private void startMaster_ij(String jvmVersion,
-            String dbName,
-            String masterHost,  // Where the master db is run.
-            int masterServerPort, // master server interface accepting client requests
-            
-            String slaveReplInterface, // slaveHost,
-            int slaveReplPort, // slavePort)
+    private void startMaster_ij(String dbName,
+            String masterHost,
+            int masterServerPort,  // Where the master db is run.
+            String slaveReplInterface, // master server interface accepting client requests
             
+            int slaveReplPort, // slaveHost,
             String testClientHost)
             throws Exception
     {
@@ -825,7 +822,7 @@ public class ReplicationRun extends BaseTestCase
             ijClassPath = classPath;
         }
         
-        String clientJvm = jvmVersion+JVMloc;
+        String clientJvm = BaseTestCase.getJavaExecutableName();
         
         String command = clientJvm // "java"
                 + " -Dij.driver=" + DRIVER_CLASS_NAME
@@ -1002,7 +999,7 @@ public class ReplicationRun extends BaseTestCase
             slaveClassPath = classPath;
         }
         
-        String clientJvm = clientVM+JVMloc;
+        String clientJvm = BaseTestCase.getJavaExecutableName();
         
         /*
          * java -classpath ${SLAVE_LIB}/derbynet.jar org.apache.derby.drda.NetworkServerControl \
@@ -1059,7 +1056,7 @@ public class ReplicationRun extends BaseTestCase
             ijClassPath = classPath;
         }
         
-        String clientJvm = jvmVersion+JVMloc;
+        String clientJvm = BaseTestCase.getJavaExecutableName();
         
         String command = clientJvm // "java"
                 + " -Dij.driver=" + DRIVER_CLASS_NAME
@@ -1190,7 +1187,7 @@ public class ReplicationRun extends BaseTestCase
             ijClassPath = classPath;
         }
         
-        String clientJvm = jvmVersion+JVMloc;
+        String clientJvm = BaseTestCase.getJavaExecutableName();
         
         String command = clientJvm // "java"
                 + " -Dij.driver=" + DRIVER_CLASS_NAME
@@ -1250,7 +1247,7 @@ public class ReplicationRun extends BaseTestCase
             ijClassPath = classPath;
         }
         
-        String clientJvm = jvmVersion+JVMloc;
+        String clientJvm = BaseTestCase.getJavaExecutableName();
         
         String command = clientJvm // "java"
                 + " -Dij.driver=" + DRIVER_CLASS_NAME
@@ -1330,7 +1327,7 @@ public class ReplicationRun extends BaseTestCase
             ijClassPath = classPath;
         }
         
-        String clientJvm = jvmVersion+JVMloc;
+        String clientJvm = BaseTestCase.getJavaExecutableName();
         
         String command = clientJvm // "java"
                 + " -Dij.driver=" + DRIVER_CLASS_NAME
@@ -2170,8 +2167,7 @@ public class ReplicationRun extends BaseTestCase
          
         final String debugId = "startServer@" + serverHost + ":" + serverPort + " ";
         util.DEBUG(debugId+"+++ StartServer " + serverVM + " / " + serverVersion);
-        
-        String serverJvm = serverVM+JVMloc;
+                
         String serverClassPath = serverVersion + FS+"derby.jar"
                 + PS + serverVersion + FS+"derbynet.jar";
         if ( serverHost.equals("localhost") )
@@ -2186,7 +2182,7 @@ public class ReplicationRun extends BaseTestCase
         
         String workingDirName = userDir+FS+dbSubDirPath;// "system" for this server
         
-        final String[] commandElements = {serverJvm
+        final String[] commandElements = {BaseTestCase.getJavaExecutableName()
                 , " -Dderby.system.home=" + workingDirName
                 , " -Dderby.infolog.append=true"
                 // , " -Dderby.language.logStatementText=true" // Goes into derby.log: Gets HUGE!
@@ -2378,7 +2374,7 @@ public class ReplicationRun extends BaseTestCase
         util.DEBUG("+++ stopServer " + serverVM + " / " + serverVersion
                 + " " + debugId);
         
-        String serverJvm = serverVM+JVMloc;
+        String serverJvm = BaseTestCase.getJavaExecutableName();
         String serverClassPath = serverVersion + FS+"derby.jar"
                 + PS + serverVersion + FS+"derbynet.jar";
         if ( serverHost.equals("localhost") )
@@ -2695,7 +2691,7 @@ public class ReplicationRun extends BaseTestCase
         { // Use full classpath when running locally. Can not vary server versions!
             ijClassPath = classPath;
         }
-            String clientJvm = jvmVersion+JVMloc;
+            String clientJvm = BaseTestCase.getJavaExecutableName();
             String command = "rm -rf /"+masterDatabasePath+FS+dbSubPath+FS+database+";" // FIXME! for slave load!
                     + clientJvm // "java"
                     + " -Dij.driver=" + DRIVER_CLASS_NAME
diff --git a/java/testing/org/apache/derbyTesting/junit/BaseTestCase.java b/java/testing/org/apache/derbyTesting/junit/BaseTestCase.java
index b58b4cfce..c583a67d3 100644
--- a/java/testing/org/apache/derbyTesting/junit/BaseTestCase.java
+++ b/java/testing/org/apache/derbyTesting/junit/BaseTestCase.java
@@ -505,6 +505,20 @@ public abstract class BaseTestCase
 	    }
 	    return pr;
 	}
+
+	/**
+         * Return the executable name for spawning java commands.
+         * This will be <path to j9>/j9  for j9 jvms.
+	 * @return full path to java executable.
+         */
+         public static final String getJavaExecutableName() {
+             String vmname = getSystemProperty("com.ibm.oti.vm.exe");
+             if (vmname == null)
+                 vmname = getSystemProperty("java.home") + File.separator + "bin" +
+                 File.separator +"java";
+             return vmname;
+         }
+          
    
    /**
     * Reads output from a process and returns it as a string.
diff --git a/java/testing/org/apache/derbyTesting/junit/NetworkServerTestSetup.java b/java/testing/org/apache/derbyTesting/junit/NetworkServerTestSetup.java
index 2bb4d40b5..44b3cb6d4 100644
--- a/java/testing/org/apache/derbyTesting/junit/NetworkServerTestSetup.java
+++ b/java/testing/org/apache/derbyTesting/junit/NetworkServerTestSetup.java
@@ -249,7 +249,7 @@ final public class NetworkServerTestSetup extends BaseTestSetup {
         String              classpath = BaseTestCase.getSystemProperty( "java.class.path" );
         boolean         skipHostName = false;
 
-        al.add( "java" );
+        al.add( BaseTestCase.getJavaExecutableName() );
         al.add( "-classpath" );
         al.add( classpath );
         
