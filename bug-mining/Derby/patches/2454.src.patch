diff --git a/java/engine/org/apache/derby/impl/services/monitor/StorageFactoryService.java b/java/engine/org/apache/derby/impl/services/monitor/StorageFactoryService.java
index bab8e5145..4595907f1 100644
--- a/java/engine/org/apache/derby/impl/services/monitor/StorageFactoryService.java
+++ b/java/engine/org/apache/derby/impl/services/monitor/StorageFactoryService.java
@@ -760,12 +760,11 @@ final class StorageFactoryService implements PersistentService
                             if (serviceDirectory.mkdirs())
                             {
                                 serviceDirectory.limitAccessToOwner();
-                                // DERBY-5096 On iseries, the storageFactory canonicalName may need to be adjusted
-                                // for casing after the directory is created.
+                                // DERBY-5096. The storageFactory canonicalName may need to be adjusted
+                                // for casing after the directory is created. Just reset it after making the 
+                                // the directory to make sure.
                                 String serviceDirCanonicalPath = serviceDirectory.getCanonicalPath();
-                                if (storageFactory.getCanonicalName() != serviceDirCanonicalPath) {
-                                    storageFactory.setCanonicalName(serviceDirCanonicalPath);
-                                }
+                                storageFactory.setCanonicalName(serviceDirCanonicalPath);
                                 try
                                 {
                                     return storageFactory.getCanonicalName();
