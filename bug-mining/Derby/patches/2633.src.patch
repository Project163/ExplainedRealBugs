diff --git a/java/testing/org/apache/derbyTesting/functionTests/tests/derbynet/_Suite.java b/java/testing/org/apache/derbyTesting/functionTests/tests/derbynet/_Suite.java
index 4a6313429..c57d02228 100644
--- a/java/testing/org/apache/derbyTesting/functionTests/tests/derbynet/_Suite.java
+++ b/java/testing/org/apache/derbyTesting/functionTests/tests/derbynet/_Suite.java
@@ -64,7 +64,6 @@ public class _Suite extends BaseTestCase  {
         suite.addTest(OutBufferedStreamTest.suite());
         suite.addTest(GetCurrentPropertiesTest.suite());
         suite.addTest(Utf8CcsidManagerTest.suite());
-        suite.addTest(Utf8CcsidManagerClientTest.suite());
 
         // Disabled due to "java.sql.SQLSyntaxErrorException: The class
         // 'org.apache.derbyTesting.functionTests.tests.derbynet.checkSecMgr'
@@ -89,6 +88,7 @@ public class _Suite extends BaseTestCase  {
         if (Derby.hasClient()) {
             suite.addTest(ByteArrayCombinerStreamTest.suite());
             suite.addTest(SqlExceptionTest.suite());
+            suite.addTest(Utf8CcsidManagerClientTest.suite());
         }
 
         return suite;
diff --git a/java/testing/org/apache/derbyTesting/junit/Derby.java b/java/testing/org/apache/derbyTesting/junit/Derby.java
index 85fa9505e..94a1429e7 100644
--- a/java/testing/org/apache/derbyTesting/junit/Derby.java
+++ b/java/testing/org/apache/derbyTesting/junit/Derby.java
@@ -53,6 +53,11 @@ public class Derby {
      */
     public static boolean hasServer()
     {
+        // DERBY-5864: The network server is not supported on J2ME.
+        if (JDBC.vmSupportsJSR169()) {
+            return false;
+        }
+
         // classes folder - assume all is available.
         if (!SecurityManagerSetup.isJars)
             return true;
@@ -77,19 +82,20 @@ public class Derby {
      */
     public static boolean hasClient()
     {
-        // classes folder - assume all is available.
-        if (!SecurityManagerSetup.isJars)
-            return true;
-
         // if we attempt to check on availability of the ClientDataSource with 
         // JSR169, attempts will be made to load classes not supported in
         // that environment, such as javax.naming.Referenceable. See DERBY-2269.
-        if (!JDBC.vmSupportsJSR169()) {
-            return hasCorrectJar("/derbyclient.jar",
-                "org.apache.derby.jdbc.ClientDataSource");
-        }
-        else
+        if (JDBC.vmSupportsJSR169()) {
             return false;
+        }
+
+        // classes folder - assume all is available.
+        if (!SecurityManagerSetup.isJars) {
+            return true;
+        }
+
+        return hasCorrectJar("/derbyclient.jar",
+                "org.apache.derby.jdbc.ClientDataSource");
     }
     
     private static boolean hasCorrectJar(String jarName, String className)
