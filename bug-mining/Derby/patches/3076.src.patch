diff --git a/java/engine/org/apache/derby/impl/sql/compile/sqlgrammar.jj b/java/engine/org/apache/derby/impl/sql/compile/sqlgrammar.jj
index f2f7082a5..356ad58bf 100644
--- a/java/engine/org/apache/derby/impl/sql/compile/sqlgrammar.jj
+++ b/java/engine/org/apache/derby/impl/sql/compile/sqlgrammar.jj
@@ -12565,6 +12565,12 @@ valueSpecification() throws StandardException :
         ValueNodeList whenList = new ValueNodeList(cm);
         ValueNodeList thenElseList = new ValueNodeList(cm);
 
+        // DERBY-6569: The left operand will be grafted into the conditional
+        // twice (both in the WHEN clause and in the THEN clause), but we
+        // only want it to be evaluated once. Wrap it in a CachedValueNode
+        // to prevent multiple evaluations.
+        leftExpression = new CachedValueNode(leftExpression);
+
         // Generate L = R for the WHEN clause.
         whenList.addElement(new BinaryRelationalOperatorNode(
                                     BinaryRelationalOperatorNode.K_EQUALS,
diff --git a/java/testing/org/apache/derbyTesting/functionTests/tests/lang/NullIfTest.java b/java/testing/org/apache/derbyTesting/functionTests/tests/lang/NullIfTest.java
index 558b739cc..bfd7c10d5 100644
--- a/java/testing/org/apache/derbyTesting/functionTests/tests/lang/NullIfTest.java
+++ b/java/testing/org/apache/derbyTesting/functionTests/tests/lang/NullIfTest.java
@@ -347,6 +347,34 @@ public class NullIfTest extends BaseJDBCTestCase {
             false);
     }
 
+    /**
+     * Test how NULLIF behaves if the left operand calls a non-deterministic
+     * function. DERBY-6569.
+     */
+    public void testNonDeterministicLeftOperand() throws SQLException {
+        Statement s = createStatement();
+        ResultSet rs = s.executeQuery(
+                "SELECT NULLIF(INT(RANDOM()*2), 1) FROM ("
+                + "VALUES 1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20"
+                + ") AS V(X)");
+
+        // INT(RANDOM()*2) evaluates to 0 or 1. Since NULLIF(0, 1) evaluates
+        // to 0 and NULLIF(1, 1) evaluates to NULL, one would expect
+        // NULLIF(INT(RANDOM()*2), 1) to evaluate to either 0 or NULL.
+        // Before DERBY-6569, it sometimes evaluated to 1.
+        int count = 0;
+        while (rs.next()) {
+            int i = rs.getInt(1);
+            if (!rs.wasNull() && i != 0) {
+                fail("Expected NULL or 0, got " + i);
+            }
+            count++;
+        }
+        rs.close();
+
+        assertEquals(20, count);
+    }
+
     /**
      * Runs the test fixtures in embedded and client.
      * 
