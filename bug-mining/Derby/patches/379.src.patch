diff --git a/java/client/org/apache/derby/client/net/NetXAResource.java b/java/client/org/apache/derby/client/net/NetXAResource.java
index b1b3df981..44dd6e0e3 100644
--- a/java/client/org/apache/derby/client/net/NetXAResource.java
+++ b/java/client/org/apache/derby/client/net/NetXAResource.java
@@ -553,6 +553,17 @@ public class NetXAResource implements XAResource {
         if (conn_.isPhysicalConnClosed()) {
             connectionClosedFailure();
         }
+        
+        // DERBY-1025 - Flow an auto-commit if in auto-commit mode before 
+        // entering a global transaction
+        try {
+        	if(conn_.autoCommit_)
+        		conn_.flowAutoCommit();
+        } catch (SqlException sqle) {
+        	rc = XAException.XAER_RMERR;
+            exceptionsOnXA = org.apache.derby.client.am.Utils.accumulateSQLException
+                    (sqle, exceptionsOnXA);
+        } 
 
         // update the XACallInfo
         NetXACallInfo callInfo = callInfoArray_[conn_.currXACallInfoOffset_];
diff --git a/java/testing/org/apache/derbyTesting/functionTests/master/DerbyNetClient/checkDataSource.out b/java/testing/org/apache/derbyTesting/functionTests/master/DerbyNetClient/checkDataSource.out
index cbd53bf80..6159af955 100644
--- a/java/testing/org/apache/derbyTesting/functionTests/master/DerbyNetClient/checkDataSource.out
+++ b/java/testing/org/apache/derbyTesting/functionTests/master/DerbyNetClient/checkDataSource.out
@@ -55,7 +55,7 @@ ConnectionPoolDataSource <closedconn>.createStatement() 08003 - No current conne
 ConnectionPoolDataSource <closedstmt>.execute() null - Invalid operation: statement closed
 Changes rolled back OK in auto closed pooled connection
 EVENT(1):connectionClosed
-expected java.sql.SQLException: Invalid operation: result set closed
+expected java.sql.SQLException: 'ResultSet' already closed.
 expected java.sql.SQLException: Invalid operation: statement closed
 Start testPoolReset ConnectionPoolDataSource
 IDENTITY_VAL_LOCAL=1
@@ -454,6 +454,14 @@ XAResource.recover : XAException - XAER_RMFAIL : Connection is Closed.
 XAResource.prepare : XAException - XAER_RMFAIL : Connection is Closed.
 XAResource.isSameRM : XAException - XAER_RMFAIL : Connection is Closed.
 Patricio update count 1
+conn4 autcommit true
+acxs 1
+acxs 2
+autocommitxastart expected 'ResultSet' already closed.
+acxs 1
+acxs 2
+autocommitxastart expected  : XAException - XAER_DUPID : Error executing a XAResource.start(), Server returned XAER_DUPID
+acxs 3
 testing jira 95 for DataSource; ok - expected exception: XCY00
 testing jira 95 for XADataSource; ok - expected exception: XCY00
 Completed checkDataSource
diff --git a/java/testing/org/apache/derbyTesting/functionTests/master/DerbyNetClient/checkDataSource30.out b/java/testing/org/apache/derbyTesting/functionTests/master/DerbyNetClient/checkDataSource30.out
index e08dafd79..67d2a5340 100644
--- a/java/testing/org/apache/derbyTesting/functionTests/master/DerbyNetClient/checkDataSource30.out
+++ b/java/testing/org/apache/derbyTesting/functionTests/master/DerbyNetClient/checkDataSource30.out
@@ -67,7 +67,7 @@ ConnectionPoolDataSource <closedconn>.createStatement() 08003 - No current conne
 ConnectionPoolDataSource <closedstmt>.execute() null - Invalid operation: statement closed
 Changes rolled back OK in auto closed pooled connection
 EVENT(1):connectionClosed
-expected java.sql.SQLException: Invalid operation: result set closed
+expected java.sql.SQLException: 'ResultSet' already closed.
 expected java.sql.SQLException: Invalid operation: statement closed
 Start testPoolReset ConnectionPoolDataSource
 IDENTITY_VAL_LOCAL=1
@@ -549,6 +549,14 @@ XAResource.recover : XAException - XAER_RMFAIL : Connection is Closed.
 XAResource.prepare : XAException - XAER_RMFAIL : Connection is Closed.
 XAResource.isSameRM : XAException - XAER_RMFAIL : Connection is Closed.
 Patricio update count 1
+conn4 autcommit true
+acxs 1
+acxs 2
+autocommitxastart expected 'ResultSet' already closed.
+acxs 1
+acxs 2
+autocommitxastart expected  : XAException - XAER_DUPID : Error executing a XAResource.start(), Server returned XAER_DUPID
+acxs 3
 testing jira 95 for DataSource; ok - expected exception: XCY00
 testing jira 95 for XADataSource; ok - expected exception: XCY00
 START XA HOLDABILITY TEST
@@ -575,7 +583,7 @@ CALLABLESTATEMENT(this one was created with default holdability inside this glob
 X@1 id 1
 X@2 id 2
 Expected SQLException No current connection. : 
-Expected SQLException Invalid operation: result set closed
+Expected SQLException 'ResultSet' already closed.
 resume XA transaction and keep using rs
 Check holdability of various jdbc objects after resuming XA transaction
 CONNECTION(xa) HOLDABILITY false
@@ -587,8 +595,8 @@ CALLABLESTATEMENT(this one was created with default holdability inside the globa
 STATEMENT(this one was created with default holdability after the global transaction was resumed. Check it's holdability) HOLDABILITY false
 PREPAREDSTATEMENT(this one was created with default holdability after the global transaction was resumed. Check it's holdability) HOLDABILITY false
 CALLABLESTATEMENT(this one was created with default holdability after the global transaction was resumed. Check it's holdability) HOLDABILITY false
-Expected SQLException Invalid operation: result set closed
-Expected SQLException Invalid operation: result set closed
+Expected SQLException 'ResultSet' already closed.
+Expected SQLException 'ResultSet' already closed.
 Set connection to hold 
 CONNECTION(held) HOLDABILITY true
 **Test holdability state for: PooledConnection **
diff --git a/java/testing/org/apache/derbyTesting/functionTests/master/DerbyNetClient/jdk14/XATest.out b/java/testing/org/apache/derbyTesting/functionTests/master/DerbyNetClient/jdk14/XATest.out
index 65a7f9d8b..a82b1f83e 100644
--- a/java/testing/org/apache/derbyTesting/functionTests/master/DerbyNetClient/jdk14/XATest.out
+++ b/java/testing/org/apache/derbyTesting/functionTests/master/DerbyNetClient/jdk14/XATest.out
@@ -183,7 +183,6 @@ ResultSet CLOSE_CURSORS_AT_COMMIT 2
 Non-held ResultSet correctly closed after commit
 BGBC 0
 BGAC 1
-DERBY-1025 Call conn.commit to avoid exception with client
 START GLOBAL TRANSACTION
 Global transaction open ResultSets 12
 EXPECTED SQLSTATE(XJ05C): Cannot set holdability ResultSet.HOLD_CURSORS_OVER_COMMIT for a global transaction.
diff --git a/java/testing/org/apache/derbyTesting/functionTests/tests/jdbcapi/XATest.java b/java/testing/org/apache/derbyTesting/functionTests/tests/jdbcapi/XATest.java
index ce4482a83..35fd7bdb0 100644
--- a/java/testing/org/apache/derbyTesting/functionTests/tests/jdbcapi/XATest.java
+++ b/java/testing/org/apache/derbyTesting/functionTests/tests/jdbcapi/XATest.java
@@ -904,16 +904,15 @@ public class XATest {
             rs.next(); System.out.println("BGBC " + rs.getInt(1));
             conn.commit();
             rs.next(); System.out.println("BGAC " + rs.getInt(1));
-            
+            rs.close();
+           
+            // ensure a transaction is active to test DERBY-1025
+            rs = sdh.executeQuery("SELECT * FROM APP.FOO");
+           
             // This switch to global is ok because conn
             // is in auto-commit mode, thus the start performs
             // an implicit commit to complete the local transaction.
             
-            // DERBY-1025 Client only bug
-            if (TestUtil.isDerbyNetClientFramework()) {
-                System.out.println("DERBY-1025 Call conn.commit to avoid exception with client");
-                conn.commit();
-            }
             System.out.println("START GLOBAL TRANSACTION");
             // start a global xact and test those statements.
             xar.start(xid, XAResource.TMNOFLAGS);
diff --git a/java/testing/org/apache/derbyTesting/functionTests/tests/jdbcapi/checkDataSource.java b/java/testing/org/apache/derbyTesting/functionTests/tests/jdbcapi/checkDataSource.java
index 9a0f147c4..7f9084cc0 100644
--- a/java/testing/org/apache/derbyTesting/functionTests/tests/jdbcapi/checkDataSource.java
+++ b/java/testing/org/apache/derbyTesting/functionTests/tests/jdbcapi/checkDataSource.java
@@ -88,14 +88,6 @@ public class checkDataSource
 	// Tests for setting isolation level this way only run in embedded for now.
 	private boolean canSetIsolationWithStatement = TestUtil.isEmbeddedFramework();
 	  
-	 	
-	// DERBY-1025 client  XAResource.start() does not commit an active local transaction 
-	// when auto commit is true. Embedded XAResource.start() implementation commits 
-	// the active local transaction on the Connection associated with the XAResource.
-	// Client incorrectly throws an error.
-	// run only for embedded for now.
-	private static boolean autocommitCommitsOnXa_Start =TestUtil.isEmbeddedFramework();
-	
 	//	 DERBY-1148 - Client Connection state does not
 	// get set properly when joining a global transaction.
 	private static boolean isolationSetProperlyOnJoin = TestUtil.isEmbeddedFramework();
@@ -625,51 +617,48 @@ public class checkDataSource
 		conn3.close();
 		xac3.close();
 
-		if (autocommitCommitsOnXa_Start)
-		{
-			// test that an xastart in auto commit mode commits the existing work.(beetle 5178)
-			XAConnection xac4 = dsx.getXAConnection();
-			Xid xid4a = new cdsXid(4, (byte) 23, (byte) 76);
-			Connection conn4 = xac4.getConnection();
-			System.out.println("conn4 autcommit " + conn4.getAutoCommit());
+		// test that an xastart in auto commit mode commits the existing work.(beetle 5178)
+		XAConnection xac4 = dsx.getXAConnection();
+		Xid xid4a = new cdsXid(4, (byte) 23, (byte) 76);
+		Connection conn4 = xac4.getConnection();
+		System.out.println("conn4 autcommit " + conn4.getAutoCommit());
 
-			Statement s4 = conn4.createStatement();
-			s4.executeUpdate("create table autocommitxastart(i int)");
-			s4.executeUpdate("insert into autocommitxastart values 1,2,3,4,5");
+		Statement s4 = conn4.createStatement();
+		s4.executeUpdate("create table autocommitxastart(i int)");
+		s4.executeUpdate("insert into autocommitxastart values 1,2,3,4,5");
 
-			ResultSet rs4 = s4.executeQuery("select i from autocommitxastart");
-			rs4.next(); System.out.println("acxs " + rs4.getInt(1));
-			rs4.next(); System.out.println("acxs " + rs4.getInt(1));
+		ResultSet rs4 = s4.executeQuery("select i from autocommitxastart");
+		rs4.next(); System.out.println("acxs " + rs4.getInt(1));
+		rs4.next(); System.out.println("acxs " + rs4.getInt(1));
 
-			xac4.getXAResource().start(xid4a, XAResource.TMNOFLAGS);
-			xac4.getXAResource().end(xid4a, XAResource.TMSUCCESS);
+		xac4.getXAResource().start(xid4a, XAResource.TMNOFLAGS);
+		xac4.getXAResource().end(xid4a, XAResource.TMSUCCESS);
 
-			try {
-				rs4.next(); System.out.println("acxs " + rs.getInt(1));
-			} catch (SQLException sqle) {
-				System.out.println("autocommitxastart expected " + sqle.getMessage());
-			}
-
-			conn4.setAutoCommit(false);
-
-			rs4 = s4.executeQuery("select i from autocommitxastart");
-			rs4.next(); System.out.println("acxs " + rs4.getInt(1));
-			rs4.next(); System.out.println("acxs " + rs4.getInt(1));
+		try {
+			rs4.next(); System.out.println("acxs " + rs.getInt(1));
+		} catch (SQLException sqle) {
+			System.out.println("autocommitxastart expected " + sqle.getMessage());
+		}
 
-			try {
-				xac4.getXAResource().start(xid4a, XAResource.TMNOFLAGS);
-			} catch (XAException xae) {
-				showXAException("autocommitxastart expected ", xae);
-			}
-			rs4.next(); System.out.println("acxs " + rs4.getInt(1));
-			rs4.close();
+		conn4.setAutoCommit(false);
 
-			conn4.rollback();
-			conn4.close();
-			xac4.close();
+		rs4 = s4.executeQuery("select i from autocommitxastart");
+		rs4.next(); System.out.println("acxs " + rs4.getInt(1));
+		rs4.next(); System.out.println("acxs " + rs4.getInt(1));
 		
+		try {
+			xac4.getXAResource().start(xid4a, XAResource.TMNOFLAGS);
+		} catch (XAException xae) {
+			showXAException("autocommitxastart expected ", xae);
 		}
+		rs4.next(); System.out.println("acxs " + rs4.getInt(1));
+		rs4.close();
 
+		conn4.rollback();
+		conn4.close();
+		xac4.close();
+		
+		
 		// test jira-derby 95 - a NullPointerException was returned when passing
 		// an incorrect database name (a url in this case) - should now give error XCY00
 		Connection dmc95 = ij.startJBMS();
