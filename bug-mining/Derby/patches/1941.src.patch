diff --git a/java/testing/org/apache/derbyTesting/functionTests/tests/lang/CollationTest.java b/java/testing/org/apache/derbyTesting/functionTests/tests/lang/CollationTest.java
index 71a6d95c9..c211215d7 100644
--- a/java/testing/org/apache/derbyTesting/functionTests/tests/lang/CollationTest.java
+++ b/java/testing/org/apache/derbyTesting/functionTests/tests/lang/CollationTest.java
@@ -1394,12 +1394,30 @@ public void testMissingCollatorSupport() throws SQLException {
         if(french) {
             suite.addTest(collatedSuite("fr", false, "testFrenchCollation"));
         }
-        if(swedish) {
+        if(swedish && !hasBuggySwedishLocale()) {
             suite.addTest(collatedSuite("sv", true, "testSwedishCaseInsensitiveCollation"));
         }
         return suite;
     }
 
+    /**
+     * Check whether the JVM suffers from this bug:
+     * http://bugs.sun.com/view_bug.do?bug_id=4804273
+     * If it does, the tests that use Swedish locale will fail.
+     *
+     * @return true if the bug is present, false otherwise
+     */
+    private static boolean hasBuggySwedishLocale() {
+        Collator c = Collator.getInstance(new Locale("sv"));
+        if (c.compare("aa", "ab") < 0) {
+            // OK, aa should be less than ab with Swedish collation
+            return false;
+        } else {
+            // this is a bug
+            return true;
+        }
+    }
+
   /**
      Load the appropriate driver for the current framework
    */
