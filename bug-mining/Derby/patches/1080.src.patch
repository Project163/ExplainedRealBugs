diff --git a/java/engine/org/apache/derby/impl/jdbc/EmbedClob.java b/java/engine/org/apache/derby/impl/jdbc/EmbedClob.java
index 58222f497..1d1479d12 100644
--- a/java/engine/org/apache/derby/impl/jdbc/EmbedClob.java
+++ b/java/engine/org/apache/derby/impl/jdbc/EmbedClob.java
@@ -88,6 +88,7 @@ final class EmbedClob extends ConnectionChild implements Clob
     EmbedClob(EmbedConnection con) throws SQLException {
         super(con);
         this.clob = new ClobStreamControl (con.getDBName(), this);
+        con.addLOBMapping (this);
     }
 
     /**
@@ -153,6 +154,7 @@ final class EmbedClob extends ConnectionChild implements Clob
             }
             this.clob = new StoreStreamClob(storeStream, this);
         }
+        con.addLOBMapping (this);
     }
 
     /**
@@ -678,9 +680,9 @@ restartScan:
      * @throws SQLException if the Clob is not valid
      */
     private void checkValidity() throws SQLException{
+        localConn.checkIfClosed();        
         if(!isValid)
             throw newSQLException(SQLState.LOB_OBJECT_INVALID);
-        localConn.checkIfClosed();
     }
 
     /**
diff --git a/java/testing/org/apache/derbyTesting/functionTests/tests/jdbcapi/BlobClob4BlobTest.java b/java/testing/org/apache/derbyTesting/functionTests/tests/jdbcapi/BlobClob4BlobTest.java
index 256db739e..f2ce71987 100644
--- a/java/testing/org/apache/derbyTesting/functionTests/tests/jdbcapi/BlobClob4BlobTest.java
+++ b/java/testing/org/apache/derbyTesting/functionTests/tests/jdbcapi/BlobClob4BlobTest.java
@@ -1248,105 +1248,70 @@ public class BlobClob4BlobTest extends BaseJDBCTestCase {
         // this should give blob/clob unavailable exceptions on client
         try {
             shortClob.length();
-            //Check to see if we are running in the client
-            //and a SQLException has not been thrown.
-            if (usingDerbyNetClient()) {
-                //Should have thrown an SQLException in the
-                //Network Client.
-                fail("FAIL - should not be able to access Clob after commit");
-            }
+            //Should have thrown an SQLException in the
+            fail("FAIL - should not be able to access Clob after commit");
         } catch (SQLException e) {
-            //The same SQLState String BLOB_ACCESSED_AFTER_COMMIT
+            //The same SQLState String INVALID_LOB
             //is used for LOB's(Both Clob and Blob). Ensure that
             //we get the expected exception by comparing the SQLState.
             checkException(INVALID_LOB, e);
-            //In the embedded clobs of small size are
-            //accessible after commit. Hence ensure that
-            //we are dealing with the Embedded side here.
-            assertTrue("FAIL - method should not fail when using embedded",
-                       usingDerbyNetClient());
         }
 
         // these should all give blob/clob data unavailable exceptions
         try {
             clob.length();
-            //Large Clobs on the Embedded side and the NetworkClient
-            //side are not accessible after commit. Should have thrown
-            //an SQLException here.
+            //Large Clobs not accessible after commit. 
+            //Should have thrown an SQLException here.
             fail("FAIL - should not be able to access large Clob after commit");
         } catch (SQLException e) {
-            //The same SQLState String BLOB_ACCESSED_AFTER_COMMIT
+            //The same SQLState String INVALID_LOB
             //is used for LOB's(Both Clob and Blob). Ensure that
             //we get the expected exception by comparing the SQLState.
-            if (usingEmbedded()) {
-                checkException(BLOB_ACCESSED_AFTER_COMMIT, e);
-            } else {
-                checkException(INVALID_LOB, e);
-            }
+            checkException(INVALID_LOB, e);
         }
         try {
             clob.getSubString(2,3);
-            //Large Clobs on the Embedded side and the NetworkClient
-            //side are not accessible after commit. Should have thrown
-            //an SQLException here.
+            //Large Clobs are not accessible after commit. 
+            //Should have thrown an SQLException here.
             fail("FAIL - should not be able to access large Clob after commit");
         } catch (SQLException e) {
-            //The same SQLState String BLOB_ACCESSED_AFTER_COMMIT
+            //The same SQLState String INVALID_LOB
             //is used for LOB's(Both Clob and Blob). Ensure that
             //we get the expected exception by comparing the SQLState.
-            if (usingEmbedded()) {
-                checkException(BLOB_ACCESSED_AFTER_COMMIT, e);
-            } else {
-                checkException(INVALID_LOB, e);
-            }
+            checkException(INVALID_LOB, e);
         }
         try {
             clob.getAsciiStream();
-            //Large Clobs on the Embedded side and the NetworkClient
-            //side are not accessible after commit. Should have thrown
-            //an SQLException here.
+            //Large Clobs are not accessible after commit. 
+            //Should have thrown an SQLException here.
             fail("FAIL - should not be able to access large Clob after commit");
         } catch (SQLException e) {
-            //The same SQLState String BLOB_ACCESSED_AFTER_COMMIT
+            //The same SQLState String INVALID_LOB
             //is used for LOB's(Both Clob and Blob). Ensure that
             //we get the expected exception by comparing the SQLState.
-            if (usingEmbedded()) {
-                checkException(BLOB_ACCESSED_AFTER_COMMIT, e);
-            } else {
-                checkException(INVALID_LOB, e);
-            }
+            checkException(INVALID_LOB, e);
         }
         try {
             clob.position("foo",2);
-            //Large Clobs on the Embedded side and the NetworkClient
-            //side are not accessible after commit. Should have thrown
-            //an SQLException here.
+            //Large Clobs are not accessible after commit. 
+            //Should have thrown an SQLException here.
             fail("FAIL - should not be able to access large Clob after commit");
         } catch (SQLException e) {
-            //The same SQLState String BLOB_ACCESSED_AFTER_COMMIT
+            //The same SQLState String INVALID_LOB
             //is used for LOB's(Both Clob and Blob). Ensure that
             //we get the expected exception by comparing the SQLState.
-            if (usingEmbedded()) {
-                checkException(BLOB_ACCESSED_AFTER_COMMIT, e);
-            } else {
-                checkException(INVALID_LOB, e);
-            }
+            checkException(INVALID_LOB, e);
         }
         try {
             clob.position(clob,2);
-            //Large Clobs on the Embedded side and the NetworkClient
-            //side are not accessible after commit. Should have thrown
-            //an SQLException here.
+            //Large Clobs are not accessible after commit. 
+            //Should have thrown an SQLException here.
             fail("FAIL - should not be able to access large Clob after commit");
         } catch (SQLException e) {
-            //The same SQLState String BLOB_ACCESSED_AFTER_COMMIT
+            //The same SQLState String INVALID_LOB
             //is used for LOB's(Both Clob and Blob). Ensure that
             //we get the expected exception by comparing the SQLState.
-            if (usingEmbedded()) {
-                checkException(BLOB_ACCESSED_AFTER_COMMIT, e);
-            } else {
-                checkException(INVALID_LOB, e);
-            }
+            checkException(INVALID_LOB, e);
         }
     }
 
diff --git a/java/testing/org/apache/derbyTesting/functionTests/tests/jdbcapi/ClobStoredProcedureTest.java b/java/testing/org/apache/derbyTesting/functionTests/tests/jdbcapi/ClobStoredProcedureTest.java
index 2e1ff567a..97572592e 100644
--- a/java/testing/org/apache/derbyTesting/functionTests/tests/jdbcapi/ClobStoredProcedureTest.java
+++ b/java/testing/org/apache/derbyTesting/functionTests/tests/jdbcapi/ClobStoredProcedureTest.java
@@ -139,7 +139,7 @@ public class ClobStoredProcedureTest extends BaseJDBCTestCase {
         //remember in setup a locator is already created
         //hence expected value is 2
         assertEquals("The locator values returned by " +
-            "SYSIBM.CLOBCREATELOCATOR() are incorrect", 2, locator);
+            "SYSIBM.CLOBCREATELOCATOR() are incorrect", 4, locator);
         cs.close();
     }
 
