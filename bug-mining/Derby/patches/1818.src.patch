diff --git a/java/testing/org/apache/derbyTesting/functionTests/tests/jdbcapi/InternationalConnectSimpleDSTest.java b/java/testing/org/apache/derbyTesting/functionTests/tests/jdbcapi/InternationalConnectSimpleDSTest.java
index ff98d88ae..c924b7819 100644
--- a/java/testing/org/apache/derbyTesting/functionTests/tests/jdbcapi/InternationalConnectSimpleDSTest.java
+++ b/java/testing/org/apache/derbyTesting/functionTests/tests/jdbcapi/InternationalConnectSimpleDSTest.java
@@ -91,13 +91,11 @@ public class InternationalConnectSimpleDSTest extends BaseJDBCTestCase {
     }
     
     public void tearDown() {
-        DataSource ds = JDBCDataSource.getDataSource("\u4e10");
-        JDBCDataSource.setBeanProperty(ds, "shutdownDatabase", "shutdown");
-        try {
-            ds.getConnection();
-        } catch (SQLException se) {
-            // ignore shutdown exception 
-        }
+    	// Shutdown Derby before trying to remove the db.
+    	// Because of  DERBY-4149, just shutting down the database
+    	// is not good enough because it will fail and the 
+    	// directory won't be removed.    	
+        TestConfiguration.getCurrent().shutdownEngine();    	               
         removeDirectory(getSystemProperty("derby.system.home") +
                 File.separator + "\u4e10");
     }
