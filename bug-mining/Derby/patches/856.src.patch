diff --git a/java/testing/org/apache/derbyTesting/junit/Derby.java b/java/testing/org/apache/derbyTesting/junit/Derby.java
index eb2a7c3f7..4fd500982 100644
--- a/java/testing/org/apache/derbyTesting/junit/Derby.java
+++ b/java/testing/org/apache/derbyTesting/junit/Derby.java
@@ -88,9 +88,16 @@ public class Derby {
         // classes folder - assume all is available.
         if (!SecurityManagerSetup.isJars)
             return true;
-        
-        return hasCorrectJar("/derbyclient.jar",
+
+        // if we attempt to check on availability of the ClientDataSource with 
+        // JSR169, attempts will be made to load classes not supported in
+        // that environment, such as javax.naming.Referenceable. See DERBY-2269.
+        if (!JDBC.vmSupportsJSR169()) {
+            return hasCorrectJar("/derbyclient.jar",
                 "org.apache.derby.jdbc.ClientDataSource");
+        }
+        else
+            return false;
     }
     
     private static boolean hasCorrectJar(String jarName, String className)
diff --git a/java/testing/org/apache/derbyTesting/junit/SecurityManagerSetup.java b/java/testing/org/apache/derbyTesting/junit/SecurityManagerSetup.java
index 659c5fddf..0ca49e897 100644
--- a/java/testing/org/apache/derbyTesting/junit/SecurityManagerSetup.java
+++ b/java/testing/org/apache/derbyTesting/junit/SecurityManagerSetup.java
@@ -277,9 +277,14 @@ public final class SecurityManagerSetup extends TestSetup {
         if (derby != null)
 		    classPathSet.setProperty("derbyTesting.codejar", stripJar(derby));
 
-		URL client = getURL("org.apache.derby.jdbc.ClientDataSource");
-		if (client != null)
-		    classPathSet.setProperty("derbyTesting.clientjar", stripJar(client));
+		// if we attempt to check on availability of the ClientDataSource with 
+		// JSR169, attempts will be made to load classes not supported in
+		// that environment, such as javax.naming.Referenceable. See DERBY-2269.
+		if (!JDBC.vmSupportsJSR169()) {
+		    URL client = getURL("org.apache.derby.jdbc.ClientDataSource");
+		    if(client != null)
+		        classPathSet.setProperty("derbyTesting.clientjar", stripJar(client));
+		}
 	
 		return false;
 	}
