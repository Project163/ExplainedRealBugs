diff --git a/java/engine/org/apache/derby/impl/sql/catalog/SequenceUpdater.java b/java/engine/org/apache/derby/impl/sql/catalog/SequenceUpdater.java
index de2d89c3c..3bc3e0a95 100644
--- a/java/engine/org/apache/derby/impl/sql/catalog/SequenceUpdater.java
+++ b/java/engine/org/apache/derby/impl/sql/catalog/SequenceUpdater.java
@@ -214,9 +214,12 @@ public abstract class SequenceUpdater implements Cacheable
         {
             //Doing check for lcc and db to be certain
             LanguageConnectionContext lcc = getLCC();
-            Database db = (lcc != null ? lcc.getDatabase() : null);
-            boolean isactive = (db != null ? db.isActive() : false);
-            lcc.getContextManager().cleanupOnError(se, isactive);
+            if (lcc != null)
+            {
+                Database db = lcc.getDatabase();
+                boolean isactive = (db != null ? db.isActive() : false);
+                lcc.getContextManager().cleanupOnError(se, isactive);
+            }
         }
     }
 
