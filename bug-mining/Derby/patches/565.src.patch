diff --git a/java/engine/org/apache/derby/impl/sql/execute/InsertResultSet.java b/java/engine/org/apache/derby/impl/sql/execute/InsertResultSet.java
index cce2da8e0..b89c32f90 100644
--- a/java/engine/org/apache/derby/impl/sql/execute/InsertResultSet.java
+++ b/java/engine/org/apache/derby/impl/sql/execute/InsertResultSet.java
@@ -849,14 +849,28 @@ class InsertResultSet extends DMLWriteResultSet implements TargetResultSet
 		return isRow;
 	}
 
+    // checks if source result set is a RowResultSet type.
+    private boolean isSingleRowResultSet()
+    {
+        boolean isRow = false;
+        
+        if (sourceResultSet instanceof RowResultSet)
+        	isRow = true;
+        else if (sourceResultSet instanceof NormalizeResultSet)
+            isRow = (((NormalizeResultSet) sourceResultSet).source instanceof RowResultSet);
+        
+        return isRow;
+    }
+	
 	// Do the work for a "normal" insert
 	private void normalInsertCore(LanguageConnectionContext lcc, boolean firstExecute)
 		throws StandardException
 	{
+		boolean setUserIdentity = constants.hasAutoincrement() && isSingleRowResultSet();
 		boolean	firstDeferredRow = true;
 		ExecRow	deferredRowBuffer = null;
                 long user_autoinc=0;
-
+                        
 		/* Get or re-use the row changer.
 		 * NOTE: We need to set ourself as the top result set
 		 * if this is not the 1st execution.  (Done in constructor
@@ -997,7 +1011,7 @@ class InsertResultSet extends DMLWriteResultSet implements TargetResultSet
 
             rowCount++;
             
-            if(constants.hasAutoincrement())
+            if(setUserIdentity )
             {
                         dd = lcc.getDataDictionary();
                         td = dd.getTableDescriptor(constants.targetUUID);
@@ -1153,7 +1167,7 @@ class InsertResultSet extends DMLWriteResultSet implements TargetResultSet
                  * find the value of the identity column from the user inserted value
                  * and do a lcc.setIdentityValue(<user_value>);
                  */
-                else if(constants.hasAutoincrement())
+                else if(setUserIdentity )
                 {
                         lcc.setIdentityValue(user_autoinc);
                 } 
diff --git a/java/testing/org/apache/derbyTesting/functionTests/master/DerbyNet/autoGeneratedJdbc30.out b/java/testing/org/apache/derbyTesting/functionTests/master/DerbyNet/autoGeneratedJdbc30.out
index 50f0c74d5..e7b880c83 100644
--- a/java/testing/org/apache/derbyTesting/functionTests/master/DerbyNet/autoGeneratedJdbc30.out
+++ b/java/testing/org/apache/derbyTesting/functionTests/master/DerbyNet/autoGeneratedJdbc30.out
@@ -12,88 +12,88 @@ Test 3 - insert multiple rows into a table with autogenerated key and request ge
  there was no prior one-row insert into a table with autogenerated key
 	 1
 	 -
-	{3}
+	{null}
 Now try the same test again but this time with Statement.executeUpdate. It should behave the same
 	 1
 	 -
-	{6}
+	{null}
 Now try the same test again but this time with PreparedStatement.execute. It should behave the same
 	 1
 	 -
-	{9}
+	{null}
 Now try the same test again but this time with PreparedStatement.executeUpdate. It should behave the same
 	 1
 	 -
-	{12}
+	{null}
 Test 4 - request for generated keys after doing an insert into a table with no auto generated keys
  And there has been no one-row insert into a table with auto-generated keys yet.
 We should get a resultset with one row of NULL value from getGeneratedKeys
 	 1
 	 -
-	{12}
+	{null}
 Now try the same test again but this time with Statement.executeUpdate. It should behave the same
 	 1
 	 -
-	{12}
+	{null}
 Now try the same test again but this time with PreparedStatement.execute. It should behave the same
 	 1
 	 -
-	{12}
+	{null}
 Now try the same test again but this time with PreparedStatement.executeUpdate. It should behave the same
 	 1
 	 -
-	{12}
+	{null}
 Test 5a - request for generated keys after doing a one-row insert(using a subquery) into a table with autogenerated key using a subquery with auto generated keys
 Even though this is a one-row insert but since insert has a sub-select, get generated keys will return one row of NULL value
 	 1
 	 -
-	{6}
+	{null}
 Now try the same test again but this time with Statement.executeUpdate. It should behave the same
 	 1
 	 -
-	{12}
+	{null}
 Now try the same test again but this time with PreparedStatement.execute. It should behave the same
 	 1
 	 -
-	{18}
+	{null}
 Now try the same test again but this time with PreparedStatement.executeUpdate. It should behave the same
 	 1
 	 -
-	{24}
+	{null}
 Test 5b - request for generated keys after doing a one-row insert(using a subquery) into a table with autogenerated key using a subquery with auto generated keys
 Even though this is a one-row insert but since insert has a sub-select, get generated keys will return one row of NULL value
 	 1
 	 -
-	{0}
+	{null}
 Now try the same test again but this time with Statement.executeUpdate. It should behave the same
 	 1
 	 -
-	{0}
+	{null}
 Now try the same test again but this time with PreparedStatement.execute. It should behave the same
 	 1
 	 -
-	{0}
+	{null}
 Now try the same test again but this time with PreparedStatement.executeUpdate. It should behave the same
 	 1
 	 -
-	{0}
+	{null}
 Test 5c - request for generated keys after doing a one-row insert(using a subquery) into a table with autogenerated key using a subquery with auto generated keys
 Even though this is a one-row insert but since insert has a sub-select, get generated keys will return one row of NULL value
 	 1
 	 -
-	{25}
+	{null}
 Now try the same test again but this time with Statement.executeUpdate. It should behave the same
 	 1
 	 -
-	{26}
+	{null}
 Now try the same test again but this time with PreparedStatement.execute. It should behave the same
 	 1
 	 -
-	{27}
+	{null}
 Now try the same test again but this time with PreparedStatement.executeUpdate. It should behave the same
 	 1
 	 -
-	{28}
+	{null}
 Test 6 - request for generated keys after doing a one-row insert into a table with auto generated keys
 We should get a resultset with one row of non-NULL value
 	 1
@@ -115,37 +115,37 @@ Test 7 - Now try again inserting multiple rows into a table with autogenerated k
  This time we will get a row of non-NULL value because there has been a prior one-row insert into table with auto-generated key 
 	 1
 	 -
-	{15}
+	{32}
 Now try the same test again but this time with Statement.executeUpdate. It should behave the same
 	 1
 	 -
-	{18}
+	{32}
 Now try the same test again but this time with PreparedStatement.execute. It should behave the same
 	 1
 	 -
-	{21}
+	{32}
 Now try the same test again but this time with PreparedStatement.executeUpdate. It should behave the same
 	 1
 	 -
-	{24}
+	{32}
 Test 8 - create a new statement and request for generated keys on it after doing an insert into 
  a table with no auto generated keys
 We should get a resultset with one row of non-NULL value
 	 1
 	 -
-	{24}
+	{32}
 Now try the same test again but this time with Statement.executeUpdate. It should behave the same
 	 1
 	 -
-	{24}
+	{32}
 Now try the same test again but this time with PreparedStatement.execute. It should behave the same
 	 1
 	 -
-	{24}
+	{32}
 Now try the same test again but this time with PreparedStatement.executeUpdate. It should behave the same
 	 1
 	 -
-	{24}
+	{32}
 Test 9 - request for generated keys on a statement which does a update 
 We should get a resultset with no rows from getGeneratedKeys because we executed a non-insert sql
 <NULL>
@@ -169,37 +169,37 @@ Test 11 - do a commit and request for generated keys on a statement which does i
 expected to see resultset with one row of NULL value but instead get one row of non-NULL value from getGeneratedKeys
 	 1
 	 -
-	{24}
+	{32}
 Now try the same test again but this time with Statement.executeUpdate. It should behave the same
 	 1
 	 -
-	{24}
+	{32}
 Now try the same test again but this time with PreparedStatement.execute. It should behave the same
 	 1
 	 -
-	{24}
+	{32}
 Now try the same test again but this time with PreparedStatement.executeUpdate. It should behave the same
 	 1
 	 -
-	{24}
+	{32}
 Test 12 - do a rollback and request for generated keys on a statement which does insert into a table with 
  no auto generated keys (previous transaction had a one-row insert on a table with auto-generated keys)
 had expected to see resultset with one row of NULL value but instead get one row of non-NULL value from getGeneratedKeys
 	 1
 	 -
-	{24}
+	{32}
 Now try the same test again but this time with Statement.executeUpdate. It should behave the same
 	 1
 	 -
-	{24}
+	{32}
 Now try the same test again but this time with PreparedStatement.execute. It should behave the same
 	 1
 	 -
-	{24}
+	{32}
 Now try the same test again but this time with PreparedStatement.executeUpdate. It should behave the same
 	 1
 	 -
-	{24}
+	{32}
 Test 13 - try savepoint rollback and see what happens to auto generated keys resultset
 Inside the savepoint unit, issue a one-row insert into a table with auto generated keys
 We should get a resultset with one row of non-NULL value
diff --git a/java/testing/org/apache/derbyTesting/functionTests/master/DerbyNetClient/autoGeneratedJdbc30.out b/java/testing/org/apache/derbyTesting/functionTests/master/DerbyNetClient/autoGeneratedJdbc30.out
index b044eaa01..f5db89690 100644
--- a/java/testing/org/apache/derbyTesting/functionTests/master/DerbyNetClient/autoGeneratedJdbc30.out
+++ b/java/testing/org/apache/derbyTesting/functionTests/master/DerbyNetClient/autoGeneratedJdbc30.out
@@ -12,88 +12,88 @@ Test 3 - insert multiple rows into a table with autogenerated key and request ge
  there was no prior one-row insert into a table with autogenerated key
 	 1
 	 -
-	{3}
+	{null}
 Now try the same test again but this time with Statement.executeUpdate. It should behave the same
 	 1
 	 -
-	{6}
+	{null}
 Now try the same test again but this time with PreparedStatement.execute. It should behave the same
 	 1
 	 -
-	{9}
+	{null}
 Now try the same test again but this time with PreparedStatement.executeUpdate. It should behave the same
 	 1
 	 -
-	{12}
+	{null}
 Test 4 - request for generated keys after doing an insert into a table with no auto generated keys
  And there has been no one-row insert into a table with auto-generated keys yet.
 We should get a resultset with one row of NULL value from getGeneratedKeys
 	 1
 	 -
-	{12}
+	{null}
 Now try the same test again but this time with Statement.executeUpdate. It should behave the same
 	 1
 	 -
-	{12}
+	{null}
 Now try the same test again but this time with PreparedStatement.execute. It should behave the same
 	 1
 	 -
-	{12}
+	{null}
 Now try the same test again but this time with PreparedStatement.executeUpdate. It should behave the same
 	 1
 	 -
-	{12}
+	{null}
 Test 5a - request for generated keys after doing a one-row insert(using a subquery) into a table with autogenerated key using a subquery with auto generated keys
 Even though this is a one-row insert but since insert has a sub-select, get generated keys will return one row of NULL value
 	 1
 	 -
-	{6}
+	{null}
 Now try the same test again but this time with Statement.executeUpdate. It should behave the same
 	 1
 	 -
-	{12}
+	{null}
 Now try the same test again but this time with PreparedStatement.execute. It should behave the same
 	 1
 	 -
-	{18}
+	{null}
 Now try the same test again but this time with PreparedStatement.executeUpdate. It should behave the same
 	 1
 	 -
-	{24}
+	{null}
 Test 5b - request for generated keys after doing a one-row insert(using a subquery) into a table with autogenerated key using a subquery with auto generated keys
 Even though this is a one-row insert but since insert has a sub-select, get generated keys will return one row of NULL value
 	 1
 	 -
-	{0}
+	{null}
 Now try the same test again but this time with Statement.executeUpdate. It should behave the same
 	 1
 	 -
-	{0}
+	{null}
 Now try the same test again but this time with PreparedStatement.execute. It should behave the same
 	 1
 	 -
-	{0}
+	{null}
 Now try the same test again but this time with PreparedStatement.executeUpdate. It should behave the same
 	 1
 	 -
-	{0}
+	{null}
 Test 5c - request for generated keys after doing a one-row insert(using a subquery) into a table with autogenerated key using a subquery with auto generated keys
 Even though this is a one-row insert but since insert has a sub-select, get generated keys will return one row of NULL value
 	 1
 	 -
-	{25}
+	{null}
 Now try the same test again but this time with Statement.executeUpdate. It should behave the same
 	 1
 	 -
-	{26}
+	{null}
 Now try the same test again but this time with PreparedStatement.execute. It should behave the same
 	 1
 	 -
-	{27}
+	{null}
 Now try the same test again but this time with PreparedStatement.executeUpdate. It should behave the same
 	 1
 	 -
-	{28}
+	{null}
 Test 6 - request for generated keys after doing a one-row insert into a table with auto generated keys
 We should get a resultset with one row of non-NULL value
 	 1
@@ -115,37 +115,37 @@ Test 7 - Now try again inserting multiple rows into a table with autogenerated k
  This time we will get a row of non-NULL value because there has been a prior one-row insert into table with auto-generated key 
 	 1
 	 -
-	{15}
+	{32}
 Now try the same test again but this time with Statement.executeUpdate. It should behave the same
 	 1
 	 -
-	{18}
+	{32}
 Now try the same test again but this time with PreparedStatement.execute. It should behave the same
 	 1
 	 -
-	{21}
+	{32}
 Now try the same test again but this time with PreparedStatement.executeUpdate. It should behave the same
 	 1
 	 -
-	{24}
+	{32}
 Test 8 - create a new statement and request for generated keys on it after doing an insert into 
  a table with no auto generated keys
 We should get a resultset with one row of non-NULL value
 	 1
 	 -
-	{24}
+	{32}
 Now try the same test again but this time with Statement.executeUpdate. It should behave the same
 	 1
 	 -
-	{24}
+	{32}
 Now try the same test again but this time with PreparedStatement.execute. It should behave the same
 	 1
 	 -
-	{24}
+	{32}
 Now try the same test again but this time with PreparedStatement.executeUpdate. It should behave the same
 	 1
 	 -
-	{24}
+	{32}
 Test 9 - request for generated keys on a statement which does a update 
 We should get a resultset with no rows from getGeneratedKeys because we executed a non-insert sql
 <NULL>
@@ -169,37 +169,37 @@ Test 11 - do a commit and request for generated keys on a statement which does i
 expected to see resultset with one row of NULL value but instead get one row of non-NULL value from getGeneratedKeys
 	 1
 	 -
-	{24}
+	{32}
 Now try the same test again but this time with Statement.executeUpdate. It should behave the same
 	 1
 	 -
-	{24}
+	{32}
 Now try the same test again but this time with PreparedStatement.execute. It should behave the same
 	 1
 	 -
-	{24}
+	{32}
 Now try the same test again but this time with PreparedStatement.executeUpdate. It should behave the same
 	 1
 	 -
-	{24}
+	{32}
 Test 12 - do a rollback and request for generated keys on a statement which does insert into a table with 
  no auto generated keys (previous transaction had a one-row insert on a table with auto-generated keys)
 had expected to see resultset with one row of NULL value but instead get one row of non-NULL value from getGeneratedKeys
 	 1
 	 -
-	{24}
+	{32}
 Now try the same test again but this time with Statement.executeUpdate. It should behave the same
 	 1
 	 -
-	{24}
+	{32}
 Now try the same test again but this time with PreparedStatement.execute. It should behave the same
 	 1
 	 -
-	{24}
+	{32}
 Now try the same test again but this time with PreparedStatement.executeUpdate. It should behave the same
 	 1
 	 -
-	{24}
+	{32}
 Test 13 - try savepoint rollback and see what happens to auto generated keys resultset
 Inside the savepoint unit, issue a one-row insert into a table with auto generated keys
 We should get a resultset with one row of non-NULL value
diff --git a/java/testing/org/apache/derbyTesting/functionTests/master/autoGeneratedJdbc30.out b/java/testing/org/apache/derbyTesting/functionTests/master/autoGeneratedJdbc30.out
index bc2a897b6..e6e750d40 100644
--- a/java/testing/org/apache/derbyTesting/functionTests/master/autoGeneratedJdbc30.out
+++ b/java/testing/org/apache/derbyTesting/functionTests/master/autoGeneratedJdbc30.out
@@ -12,88 +12,88 @@ Test 3 - insert multiple rows into a table with autogenerated key and request ge
  there was no prior one-row insert into a table with autogenerated key
 	 1
 	 -
-	{3}
+	{null}
 Now try the same test again but this time with Statement.executeUpdate. It should behave the same
 	 1
 	 -
-	{6}
+	{null}
 Now try the same test again but this time with PreparedStatement.execute. It should behave the same
 	 1
 	 -
-	{9}
+	{null}
 Now try the same test again but this time with PreparedStatement.executeUpdate. It should behave the same
 	 1
 	 -
-	{12}
+	{null}
 Test 4 - request for generated keys after doing an insert into a table with no auto generated keys
  And there has been no one-row insert into a table with auto-generated keys yet.
 We should get a resultset with one row of NULL value from getGeneratedKeys
 	 1
 	 -
-	{12}
+	{null}
 Now try the same test again but this time with Statement.executeUpdate. It should behave the same
 	 1
 	 -
-	{12}
+	{null}
 Now try the same test again but this time with PreparedStatement.execute. It should behave the same
 	 1
 	 -
-	{12}
+	{null}
 Now try the same test again but this time with PreparedStatement.executeUpdate. It should behave the same
 	 1
 	 -
-	{12}
+	{null}
 Test 5a - request for generated keys after doing a one-row insert(using a subquery) into a table with autogenerated key using a subquery with auto generated keys
 Even though this is a one-row insert but since insert has a sub-select, get generated keys will return one row of NULL value
 	 1
 	 -
-	{6}
+	{null}
 Now try the same test again but this time with Statement.executeUpdate. It should behave the same
 	 1
 	 -
-	{12}
+	{null}
 Now try the same test again but this time with PreparedStatement.execute. It should behave the same
 	 1
 	 -
-	{18}
+	{null}
 Now try the same test again but this time with PreparedStatement.executeUpdate. It should behave the same
 	 1
 	 -
-	{24}
+	{null}
 Test 5b - request for generated keys after doing a one-row insert(using a subquery) into a table with autogenerated key using a subquery with auto generated keys
 Even though this is a one-row insert but since insert has a sub-select, get generated keys will return one row of NULL value
 	 1
 	 -
-	{0}
+	{null}
 Now try the same test again but this time with Statement.executeUpdate. It should behave the same
 	 1
 	 -
-	{0}
+	{null}
 Now try the same test again but this time with PreparedStatement.execute. It should behave the same
 	 1
 	 -
-	{0}
+	{null}
 Now try the same test again but this time with PreparedStatement.executeUpdate. It should behave the same
 	 1
 	 -
-	{0}
+	{null}
 Test 5c - request for generated keys after doing a one-row insert(using a subquery) into a table with autogenerated key using a subquery with auto generated keys
 Even though this is a one-row insert but since insert has a sub-select, get generated keys will return one row of NULL value
 	 1
 	 -
-	{25}
+	{null}
 Now try the same test again but this time with Statement.executeUpdate. It should behave the same
 	 1
 	 -
-	{26}
+	{null}
 Now try the same test again but this time with PreparedStatement.execute. It should behave the same
 	 1
 	 -
-	{27}
+	{null}
 Now try the same test again but this time with PreparedStatement.executeUpdate. It should behave the same
 	 1
 	 -
-	{28}
+	{null}
 Test 6 - request for generated keys after doing a one-row insert into a table with auto generated keys
 We should get a resultset with one row of non-NULL value
 	 1
@@ -115,37 +115,37 @@ Test 7 - Now try again inserting multiple rows into a table with autogenerated k
  This time we will get a row of non-NULL value because there has been a prior one-row insert into table with auto-generated key 
 	 1
 	 -
-	{15}
+	{32}
 Now try the same test again but this time with Statement.executeUpdate. It should behave the same
 	 1
 	 -
-	{18}
+	{32}
 Now try the same test again but this time with PreparedStatement.execute. It should behave the same
 	 1
 	 -
-	{21}
+	{32}
 Now try the same test again but this time with PreparedStatement.executeUpdate. It should behave the same
 	 1
 	 -
-	{24}
+	{32}
 Test 8 - create a new statement and request for generated keys on it after doing an insert into 
  a table with no auto generated keys
 We should get a resultset with one row of non-NULL value
 	 1
 	 -
-	{24}
+	{32}
 Now try the same test again but this time with Statement.executeUpdate. It should behave the same
 	 1
 	 -
-	{24}
+	{32}
 Now try the same test again but this time with PreparedStatement.execute. It should behave the same
 	 1
 	 -
-	{24}
+	{32}
 Now try the same test again but this time with PreparedStatement.executeUpdate. It should behave the same
 	 1
 	 -
-	{24}
+	{32}
 Test 9 - request for generated keys on a statement which does a update 
 We should get a resultset with no rows from getGeneratedKeys because we executed a non-insert sql
 <NULL>
@@ -169,37 +169,37 @@ Test 11 - do a commit and request for generated keys on a statement which does i
 expected to see resultset with one row of NULL value but instead get one row of non-NULL value from getGeneratedKeys
 	 1
 	 -
-	{24}
+	{32}
 Now try the same test again but this time with Statement.executeUpdate. It should behave the same
 	 1
 	 -
-	{24}
+	{32}
 Now try the same test again but this time with PreparedStatement.execute. It should behave the same
 	 1
 	 -
-	{24}
+	{32}
 Now try the same test again but this time with PreparedStatement.executeUpdate. It should behave the same
 	 1
 	 -
-	{24}
+	{32}
 Test 12 - do a rollback and request for generated keys on a statement which does insert into a table with 
  no auto generated keys (previous transaction had a one-row insert on a table with auto-generated keys)
 had expected to see resultset with one row of NULL value but instead get one row of non-NULL value from getGeneratedKeys
 	 1
 	 -
-	{24}
+	{32}
 Now try the same test again but this time with Statement.executeUpdate. It should behave the same
 	 1
 	 -
-	{24}
+	{32}
 Now try the same test again but this time with PreparedStatement.execute. It should behave the same
 	 1
 	 -
-	{24}
+	{32}
 Now try the same test again but this time with PreparedStatement.executeUpdate. It should behave the same
 	 1
 	 -
-	{24}
+	{32}
 Test 13 - try savepoint rollback and see what happens to auto generated keys resultset
 Inside the savepoint unit, issue a one-row insert into a table with auto generated keys
 We should get a resultset with one row of non-NULL value
diff --git a/java/testing/org/apache/derbyTesting/functionTests/master/autoincrement.out b/java/testing/org/apache/derbyTesting/functionTests/master/autoincrement.out
index 6d8216216..7054fb46f 100644
--- a/java/testing/org/apache/derbyTesting/functionTests/master/autoincrement.out
+++ b/java/testing/org/apache/derbyTesting/functionTests/master/autoincrement.out
@@ -282,21 +282,21 @@ create table ai_test (x int generated always as identity (start with 2, incremen
 0 rows inserted/updated/deleted
 ij> insert into ai_test (y) values (1),(2),(3),(4),(5),(6),(7),(8),(9),(10);
 10 rows inserted/updated/deleted
-ij> -- should see 20.
+ij> -- should see 0.
 values IDENTITY_VAL_LOCAL();
 1                              
 -------------------------------
-20                             
+0                              
 ij> insert into ai_test (y) select y+10 from ai_test;
 10 rows inserted/updated/deleted
 ij> values IDENTITY_VAL_LOCAL();
 1                              
 -------------------------------
-40                             
+0                              
 ij> values IDENTITY_VAL_LOCAL();
 1                              
 -------------------------------
-40                             
+0                              
 ij> -- try some more connection info tests
 create table ai_single1 (c char(100), a_odd int generated always as identity (start with 1, increment by 2));
 0 rows inserted/updated/deleted
@@ -588,7 +588,7 @@ X          |S1         |S2         |S0
 ij> values IDENTITY_VAL_LOCAL();
 1                              
 -------------------------------
-4                              
+0                              
 ij> -- test some more generated column specs
 create table trigtest (s1 smallint generated always as identity, lvl int);
 0 rows inserted/updated/deleted
@@ -1169,7 +1169,7 @@ ij> -- multi-values insert, return value of the function should not change, same
 values IDENTITY_VAL_LOCAL();
 1                              
 -------------------------------
-4                              
+2                              
 ij> select * from t1;
 C1         |C2         
 -----------------------
@@ -1183,7 +1183,7 @@ ij> -- insert with sub-select, return value should not change
 values IDENTITY_VAL_LOCAL();
 1                              
 -------------------------------
-8                              
+2                              
 ij> select * from t1;
 C1         |C2         
 -----------------------
@@ -1200,13 +1200,13 @@ ij> delete from t1;
 ij> values IDENTITY_VAL_LOCAL();
 1                              
 -------------------------------
-8                              
+2                              
 ij> insert into t1(c2) select c1 from t1;
 0 rows inserted/updated/deleted
 ij> values IDENTITY_VAL_LOCAL();
 1                              
 -------------------------------
-0                              
+2                              
 ij> -- end of practice, back to start...
 insert into t1(c2) values (8);
 1 row inserted/updated/deleted
diff --git a/java/testing/org/apache/derbyTesting/functionTests/tests/lang/autoincrement.sql b/java/testing/org/apache/derbyTesting/functionTests/tests/lang/autoincrement.sql
index be34d8050..cd943772b 100644
--- a/java/testing/org/apache/derbyTesting/functionTests/tests/lang/autoincrement.sql
+++ b/java/testing/org/apache/derbyTesting/functionTests/tests/lang/autoincrement.sql
@@ -164,7 +164,7 @@ create table ai_test (x int generated always as identity (start with 2, incremen
 					  y int);
 insert into ai_test (y) values (1),(2),(3),(4),(5),(6),(7),(8),(9),(10);
 
--- should see 20.
+-- should see 0.
 values IDENTITY_VAL_LOCAL();
 
 insert into ai_test (y) select y+10 from ai_test;
