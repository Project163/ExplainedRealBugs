diff --git a/java/testing/org/apache/derbyTesting/functionTests/master/ij7.out b/java/testing/org/apache/derbyTesting/functionTests/master/ij7.out
index 59b4e40b4..66b1026eb 100644
--- a/java/testing/org/apache/derbyTesting/functionTests/master/ij7.out
+++ b/java/testing/org/apache/derbyTesting/functionTests/master/ij7.out
@@ -241,99 +241,4 @@ APP                 |T1                  |TEST                |VARCHAR  |NULL|NU
 ij> -- Observe behavior with empty string:
 describe '';
 IJ ERROR: No table exists with the name (missing)
-ij> --
--- DERBY-4550: qualified identifiers
---
-
--- setup source db
-connect 'jdbc:derby:wombat;user=fred' as DERBY4550_1;
-ij(DERBY4550_1)> create table t1(a int, b int);
-0 rows inserted/updated/deleted
-ij(DERBY4550_1)> insert into t1(a,b) values (1,100), (2,200), (3,300);
-3 rows inserted/updated/deleted
-ij(DERBY4550_1)> prepare fred_select as 'select a from t1';
-ij(DERBY4550_1)> -- setup destination db
-connect 'jdbc:derby:wombat;user=alice' as DERBY4550_2;
-ij(DERBY4550_2)> create table t2(a int);
-0 rows inserted/updated/deleted
-ij(DERBY4550_2)> -- execute prepared statements
-autocommit off;
-ij(DERBY4550_2)> execute fred_select@DERBY4550_1;
-A          
------------
-1          
-2          
-3          
-ij(DERBY4550_2)> execute 'insert into t2(a) values(?)' using fred_select@DERBY4550_1;
-1 row inserted/updated/deleted
-1 row inserted/updated/deleted
-1 row inserted/updated/deleted
-ij(DERBY4550_2)> commit;
-ij(DERBY4550_2)> remove fred_select@DERBY4550_1;
-ij(DERBY4550_2)> -- check result
-select a from t2;
-A          
------------
-1          
-2          
-3          
-ij(DERBY4550_2)> -- prepare in a different connection/switch/execute
-prepare fred_select2@DERBY4550_1 as 'select b from t1';
-ij(DERBY4550_2)> set connection DERBY4550_1;
-ij(DERBY4550_1)> execute fred_select2;
-B          
------------
-100        
-200        
-300        
-ij(DERBY4550_1)> remove fred_select2;
-ij(DERBY4550_1)> -- setup cursor/switch connection/use
-get scroll insensitive cursor fred_cursor as 'select b from t1';
-ij(DERBY4550_1)> set connection DERBY4550_2;
-ij(DERBY4550_2)> next fred_cursor@DERBY4550_1;
-B          
------------
-100        
-ij(DERBY4550_2)> -- getcurrentrownumber fred_cursor@DERBY4550_1;
-last fred_cursor@DERBY4550_1;
-B          
------------
-300        
-ij(DERBY4550_2)> previous fred_cursor@DERBY4550_1;
-B          
------------
-200        
-ij(DERBY4550_2)> first fred_cursor@DERBY4550_1;
-B          
------------
-100        
-ij(DERBY4550_2)> after last fred_cursor@DERBY4550_1;
-No current row
-ij(DERBY4550_2)> before first fred_cursor@DERBY4550_1;
-No current row
-ij(DERBY4550_2)> relative 2 fred_cursor@DERBY4550_1;
-B          
------------
-200        
-ij(DERBY4550_2)> absolute 1 fred_cursor@DERBY4550_1;
-B          
------------
-100        
-ij(DERBY4550_2)> close fred_cursor@DERBY4550_1;
-ij(DERBY4550_2)> -- non-existant connection
-prepare fred_select@XXXX as 'values(1)';
-IJ ERROR: No connection exists with the name XXXX
-ij(DERBY4550_2)> -- async statements
-async a@DERBY4550_1 'select a from t1';
-ij(DERBY4550_2)> wait for a@DERBY4550_1;
-A          
------------
-1          
-2          
-3          
-ij(DERBY4550_2)> -- non existant statement
-wait for xxxx@DERBY4550_1;
-IJ ERROR: No async statement exists with the name XXXX@DERBY4550_1
-ij(DERBY4550_2)> disconnect DERBY4550_2;
-ij> disconnect DERBY4550_1;
 ij> 
diff --git a/java/testing/org/apache/derbyTesting/functionTests/master/qualifiedIdentifiers.out b/java/testing/org/apache/derbyTesting/functionTests/master/qualifiedIdentifiers.out
new file mode 100644
index 000000000..0dca610f0
--- /dev/null
+++ b/java/testing/org/apache/derbyTesting/functionTests/master/qualifiedIdentifiers.out
@@ -0,0 +1,108 @@
+ij> --
+--   Licensed to the Apache Software Foundation (ASF) under one or more
+--   contributor license agreements.  See the NOTICE file distributed with
+--   this work for additional information regarding copyright ownership.
+--   The ASF licenses this file to You under the Apache License, Version 2.0
+--   (the "License"); you may not use this file except in compliance with
+--   the License.  You may obtain a copy of the License at
+--
+--      http://www.apache.org/licenses/LICENSE-2.0
+--
+--   Unless required by applicable law or agreed to in writing, software
+--   distributed under the License is distributed on an "AS IS" BASIS,
+--   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+--   See the License for the specific language governing permissions and
+--   limitations under the License.
+--
+-- This test will cover the qualified identifiers introduced by DERBY-4550
+connect 'jdbc:derby:wombat;user=fred' as DERBY4550_1;
+ij(DERBY4550_1)> create table t1(a int, b int);
+0 rows inserted/updated/deleted
+ij(DERBY4550_1)> insert into t1(a,b) values (1,100), (2,200), (3,300);
+3 rows inserted/updated/deleted
+ij(DERBY4550_1)> prepare fred_select as 'select a from t1';
+ij(DERBY4550_1)> -- setup destination db
+connect 'jdbc:derby:wombat;user=alice' as DERBY4550_2;
+ij(DERBY4550_2)> create table t2(a int);
+0 rows inserted/updated/deleted
+ij(DERBY4550_2)> -- execute prepared statements
+autocommit off;
+ij(DERBY4550_2)> execute fred_select@DERBY4550_1;
+A          
+-----------
+1          
+2          
+3          
+ij(DERBY4550_2)> execute 'insert into t2(a) values(?)' using fred_select@DERBY4550_1;
+1 row inserted/updated/deleted
+1 row inserted/updated/deleted
+1 row inserted/updated/deleted
+ij(DERBY4550_2)> commit;
+ij(DERBY4550_2)> remove fred_select@DERBY4550_1;
+ij(DERBY4550_2)> -- check result
+select a from t2;
+A          
+-----------
+1          
+2          
+3          
+ij(DERBY4550_2)> -- prepare in a different connection/switch/execute
+prepare fred_select2@DERBY4550_1 as 'select b from t1';
+ij(DERBY4550_2)> set connection DERBY4550_1;
+ij(DERBY4550_1)> execute fred_select2;
+B          
+-----------
+100        
+200        
+300        
+ij(DERBY4550_1)> remove fred_select2;
+ij(DERBY4550_1)> -- setup cursor/switch connection/use
+get scroll insensitive cursor fred_cursor as 'select b from t1';
+ij(DERBY4550_1)> set connection DERBY4550_2;
+ij(DERBY4550_2)> next fred_cursor@DERBY4550_1;
+B          
+-----------
+100        
+ij(DERBY4550_2)> -- getcurrentrownumber fred_cursor@DERBY4550_1;
+last fred_cursor@DERBY4550_1;
+B          
+-----------
+300        
+ij(DERBY4550_2)> previous fred_cursor@DERBY4550_1;
+B          
+-----------
+200        
+ij(DERBY4550_2)> first fred_cursor@DERBY4550_1;
+B          
+-----------
+100        
+ij(DERBY4550_2)> after last fred_cursor@DERBY4550_1;
+No current row
+ij(DERBY4550_2)> before first fred_cursor@DERBY4550_1;
+No current row
+ij(DERBY4550_2)> relative 2 fred_cursor@DERBY4550_1;
+B          
+-----------
+200        
+ij(DERBY4550_2)> absolute 1 fred_cursor@DERBY4550_1;
+B          
+-----------
+100        
+ij(DERBY4550_2)> close fred_cursor@DERBY4550_1;
+ij(DERBY4550_2)> -- non-existant connection
+prepare fred_select@XXXX as 'values(1)';
+IJ ERROR: No connection exists with the name XXXX
+ij(DERBY4550_2)> -- async statements
+async a@DERBY4550_1 'select a from t1';
+ij(DERBY4550_2)> wait for a@DERBY4550_1;
+A          
+-----------
+1          
+2          
+3          
+ij(DERBY4550_2)> -- non existant statement
+wait for xxxx@DERBY4550_1;
+IJ ERROR: No async statement exists with the name XXXX@DERBY4550_1
+ij(DERBY4550_2)> disconnect DERBY4550_2;
+ij> disconnect DERBY4550_1;
+ij> 
diff --git a/java/testing/org/apache/derbyTesting/functionTests/tests/tools/ToolScripts.java b/java/testing/org/apache/derbyTesting/functionTests/tests/tools/ToolScripts.java
index d7eecfda3..5e7a77596 100644
--- a/java/testing/org/apache/derbyTesting/functionTests/tests/tools/ToolScripts.java
+++ b/java/testing/org/apache/derbyTesting/functionTests/tests/tools/ToolScripts.java
@@ -75,6 +75,7 @@ public final class ToolScripts extends ScriptTestCase {
      * (ie. can not run on JSR169).
      */
     private static final String[] JDBC3_TESTS = {
+    	"qualifiedIdentifiers"
     };
 
 
diff --git a/java/testing/org/apache/derbyTesting/functionTests/tests/tools/ij7.sql b/java/testing/org/apache/derbyTesting/functionTests/tests/tools/ij7.sql
index d9228b6bb..01eaef0c0 100644
--- a/java/testing/org/apache/derbyTesting/functionTests/tests/tools/ij7.sql
+++ b/java/testing/org/apache/derbyTesting/functionTests/tests/tools/ij7.sql
@@ -88,60 +88,3 @@ describe '*';
 describe 'APP.*';
 -- Observe behavior with empty string:
 describe '';
-
---
--- DERBY-4550: qualified identifiers
---
-
--- setup source db
-connect 'jdbc:derby:wombat;user=fred' as DERBY4550_1;
-create table t1(a int, b int);
-insert into t1(a,b) values (1,100), (2,200), (3,300);
-prepare fred_select as 'select a from t1';
-
--- setup destination db
-connect 'jdbc:derby:wombat;user=alice' as DERBY4550_2;
-create table t2(a int);
-
--- execute prepared statements
-autocommit off;
-execute fred_select@DERBY4550_1;
-execute 'insert into t2(a) values(?)' using fred_select@DERBY4550_1;
-commit;
-remove fred_select@DERBY4550_1;
-
--- check result
-select a from t2;
-
--- prepare in a different connection/switch/execute
-prepare fred_select2@DERBY4550_1 as 'select b from t1';
-set connection DERBY4550_1;
-execute fred_select2;
-remove fred_select2;
-
--- setup cursor/switch connection/use
-get scroll insensitive cursor fred_cursor as 'select b from t1';
-set connection DERBY4550_2;
-next fred_cursor@DERBY4550_1;
--- getcurrentrownumber fred_cursor@DERBY4550_1;
-last fred_cursor@DERBY4550_1;
-previous fred_cursor@DERBY4550_1;
-first fred_cursor@DERBY4550_1;
-after last fred_cursor@DERBY4550_1;
-before first fred_cursor@DERBY4550_1;
-relative 2 fred_cursor@DERBY4550_1;
-absolute 1 fred_cursor@DERBY4550_1;
-close fred_cursor@DERBY4550_1;
-
--- non-existant connection
-prepare fred_select@XXXX as 'values(1)';
-
--- async statements
-async a@DERBY4550_1 'select a from t1';
-wait for a@DERBY4550_1;
-
--- non existant statement
-wait for xxxx@DERBY4550_1;
-
-disconnect DERBY4550_2;
-disconnect DERBY4550_1;
diff --git a/java/testing/org/apache/derbyTesting/functionTests/tests/tools/qualifiedIdentifiers.sql b/java/testing/org/apache/derbyTesting/functionTests/tests/tools/qualifiedIdentifiers.sql
new file mode 100644
index 000000000..2697c82fd
--- /dev/null
+++ b/java/testing/org/apache/derbyTesting/functionTests/tests/tools/qualifiedIdentifiers.sql
@@ -0,0 +1,68 @@
+--
+--   Licensed to the Apache Software Foundation (ASF) under one or more
+--   contributor license agreements.  See the NOTICE file distributed with
+--   this work for additional information regarding copyright ownership.
+--   The ASF licenses this file to You under the Apache License, Version 2.0
+--   (the "License"); you may not use this file except in compliance with
+--   the License.  You may obtain a copy of the License at
+--
+--      http://www.apache.org/licenses/LICENSE-2.0
+--
+--   Unless required by applicable law or agreed to in writing, software
+--   distributed under the License is distributed on an "AS IS" BASIS,
+--   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+--   See the License for the specific language governing permissions and
+--   limitations under the License.
+--
+-- This test will cover the qualified identifiers introduced by DERBY-4550
+connect 'jdbc:derby:wombat;user=fred' as DERBY4550_1;
+create table t1(a int, b int);
+insert into t1(a,b) values (1,100), (2,200), (3,300);
+prepare fred_select as 'select a from t1';
+
+-- setup destination db
+connect 'jdbc:derby:wombat;user=alice' as DERBY4550_2;
+create table t2(a int);
+
+-- execute prepared statements
+autocommit off;
+execute fred_select@DERBY4550_1;
+execute 'insert into t2(a) values(?)' using fred_select@DERBY4550_1;
+commit;
+remove fred_select@DERBY4550_1;
+
+-- check result
+select a from t2;
+
+-- prepare in a different connection/switch/execute
+prepare fred_select2@DERBY4550_1 as 'select b from t1';
+set connection DERBY4550_1;
+execute fred_select2;
+remove fred_select2;
+
+-- setup cursor/switch connection/use
+get scroll insensitive cursor fred_cursor as 'select b from t1';
+set connection DERBY4550_2;
+next fred_cursor@DERBY4550_1;
+-- getcurrentrownumber fred_cursor@DERBY4550_1;
+last fred_cursor@DERBY4550_1;
+previous fred_cursor@DERBY4550_1;
+first fred_cursor@DERBY4550_1;
+after last fred_cursor@DERBY4550_1;
+before first fred_cursor@DERBY4550_1;
+relative 2 fred_cursor@DERBY4550_1;
+absolute 1 fred_cursor@DERBY4550_1;
+close fred_cursor@DERBY4550_1;
+
+-- non-existant connection
+prepare fred_select@XXXX as 'values(1)';
+
+-- async statements
+async a@DERBY4550_1 'select a from t1';
+wait for a@DERBY4550_1;
+
+-- non existant statement
+wait for xxxx@DERBY4550_1;
+
+disconnect DERBY4550_2;
+disconnect DERBY4550_1;
