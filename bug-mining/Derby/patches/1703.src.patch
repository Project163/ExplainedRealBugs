diff --git a/java/testing/org/apache/derbyTesting/system/sttest/utils/Datatypes.java b/java/testing/org/apache/derbyTesting/system/sttest/utils/Datatypes.java
index bdbea83b1..9116f443a 100644
--- a/java/testing/org/apache/derbyTesting/system/sttest/utils/Datatypes.java
+++ b/java/testing/org/apache/derbyTesting/system/sttest/utils/Datatypes.java
@@ -609,8 +609,10 @@ public class Datatypes {
 			if (rows < 0)
 				System.out.println("t" + thread_id + " update failed.");
 		}
-		streamReader.close();
-		streamIn.close();
+		if (streamReader != null)
+			streamReader.close();
+		if (streamIn !=null)
+			streamIn.close();
 		if (ps2 != null)
 			try {
 				ps2.close();
@@ -671,4 +673,4 @@ public class Datatypes {
 		locked = true;
 		return (rows);
 	}
-}
\ No newline at end of file
+}
