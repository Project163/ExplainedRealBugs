diff --git a/java/engine/org/apache/derby/iapi/types/SQLBinary.java b/java/engine/org/apache/derby/iapi/types/SQLBinary.java
index fb23b7439..0b33a8138 100644
--- a/java/engine/org/apache/derby/iapi/types/SQLBinary.java
+++ b/java/engine/org/apache/derby/iapi/types/SQLBinary.java
@@ -227,8 +227,7 @@ abstract class SQLBinary
 				return streamLength;
 		}
 
-		return getBytes().length;
-
+		return (getBytes() == null) ? 0 : getBytes().length;
 	}
 
 	/*
diff --git a/java/testing/org/apache/derbyTesting/functionTests/master/bit.out b/java/testing/org/apache/derbyTesting/functionTests/master/bit.out
index 1f6795fdd..46456a6c9 100644
--- a/java/testing/org/apache/derbyTesting/functionTests/master/bit.out
+++ b/java/testing/org/apache/derbyTesting/functionTests/master/bit.out
@@ -807,4 +807,32 @@ C1        |C2        |C3
 ------------------------------------------------------------------------------------------------------------------------------------------------------
 ij> values cast(X'00680069' as char(30)), cast(X'00680069' as varchar(30)), cast(X'00680069' as long varchar);
 ERROR 42846: Cannot convert types 'CHAR () FOR BIT DATA' to 'CHAR'.
+ij> -- DERBY-1085
+create table npetest1 (col1 varchar(36) for bit data not null, constraint pknpe1 primary key (col1));
+0 rows inserted/updated/deleted
+ij> create table npetest2 (col2 varchar(36) for bit data, constraint fknpe1 foreign key (col2) references npetest1(col1) on delete cascade);
+0 rows inserted/updated/deleted
+ij> insert into npetest1 (col1) values (X'0000000001');
+1 row inserted/updated/deleted
+ij> insert into npetest1 (col1) values (X'0000000002');
+1 row inserted/updated/deleted
+ij> insert into npetest1 (col1) values (X'0000000003');
+1 row inserted/updated/deleted
+ij> insert into npetest2 (col2) values (X'0000000001');
+1 row inserted/updated/deleted
+ij> insert into npetest2 (col2) values (NULL);
+1 row inserted/updated/deleted
+ij> insert into npetest2 (col2) values (X'0000000002');
+1 row inserted/updated/deleted
+ij> select col1 from npetest1 where col1 not in (select col2 from npetest2);
+COL1                                                                    
+------------------------------------------------------------------------
+ij> select col1 from npetest1 where col1 not in (select col2 from npetest2 where col2 is not null);
+COL1                                                                    
+------------------------------------------------------------------------
+0000000003                                                              
+ij> drop table npetest2;
+0 rows inserted/updated/deleted
+ij> drop table npetest1;
+0 rows inserted/updated/deleted
 ij> 
diff --git a/java/testing/org/apache/derbyTesting/functionTests/tests/lang/bit.sql b/java/testing/org/apache/derbyTesting/functionTests/tests/lang/bit.sql
index 9bdd56871..080be4911 100644
--- a/java/testing/org/apache/derbyTesting/functionTests/tests/lang/bit.sql
+++ b/java/testing/org/apache/derbyTesting/functionTests/tests/lang/bit.sql
@@ -413,3 +413,19 @@ create table t5612 (c1 char(10), c2 varchar(10), c3 long  varchar);
 insert into t5612 values (X'00680069', X'00680069', X'00680069');
 select * from t5612;
 values cast(X'00680069' as char(30)), cast(X'00680069' as varchar(30)), cast(X'00680069' as long varchar);
+
+-- DERBY-1085
+
+create table npetest1 (col1 varchar(36) for bit data not null, constraint pknpe1 primary key (col1));
+create table npetest2 (col2 varchar(36) for bit data, constraint fknpe1 foreign key (col2) references npetest1(col1) on delete cascade);
+insert into npetest1 (col1) values (X'0000000001');
+insert into npetest1 (col1) values (X'0000000002');
+insert into npetest1 (col1) values (X'0000000003');
+insert into npetest2 (col2) values (X'0000000001');
+insert into npetest2 (col2) values (NULL);
+insert into npetest2 (col2) values (X'0000000002');
+select col1 from npetest1 where col1 not in (select col2 from npetest2);
+select col1 from npetest1 where col1 not in (select col2 from npetest2 where col2 is not null);
+
+drop table npetest2;
+drop table npetest1;
