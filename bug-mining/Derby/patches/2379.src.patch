diff --git a/java/engine/org/apache/derby/impl/db/BasicDatabase.java b/java/engine/org/apache/derby/impl/db/BasicDatabase.java
index 9fd0bea21..1c87ce5d9 100644
--- a/java/engine/org/apache/derby/impl/db/BasicDatabase.java
+++ b/java/engine/org/apache/derby/impl/db/BasicDatabase.java
@@ -241,13 +241,16 @@ public class BasicDatabase implements ModuleControl, ModuleSupportable, Property
     }
 
 	public void stop() {
-        try {
-            // on orderly shutdown, try not to leak unused numbers from the sequence generators.
-            dd.clearSequenceCaches();
-        }
-        catch (Throwable t)
-        {
-            t.printStackTrace(Monitor.getStream().getPrintWriter());
+        // The data dictionary is not available if this database has the
+        // role as an active replication slave database.
+        if (dd != null) {
+            try {
+                // on orderly shutdown, try not to leak unused numbers from
+                // the sequence generators.
+                dd.clearSequenceCaches();
+            } catch (StandardException se) {
+                se.printStackTrace(Monitor.getStream().getPrintWriter());
+            }
         }
 		active = false;
 	}
