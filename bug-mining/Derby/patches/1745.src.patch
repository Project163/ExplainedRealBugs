diff --git a/java/testing/org/apache/derbyTesting/junit/TestConfiguration.java b/java/testing/org/apache/derbyTesting/junit/TestConfiguration.java
index 968ea59fd..ac3a6c5ba 100644
--- a/java/testing/org/apache/derbyTesting/junit/TestConfiguration.java
+++ b/java/testing/org/apache/derbyTesting/junit/TestConfiguration.java
@@ -530,6 +530,12 @@ public class TestConfiguration {
     public static Test existingServerDecorator(Test test, 
             String hostName, int PortNumber)
     {
+    	// Need to have network server and client and not
+        // running in J2ME (JSR169).
+        if (!(Derby.hasClient() && Derby.hasServer())
+                || JDBC.vmSupportsJSR169())
+            return new TestSuite("empty: no network server support");
+
         Test r =
                 new ServerSetup(test, hostName, PortNumber);
         ((ServerSetup)r).setJDBCClient(JDBCClient.DERBYNETCLIENT);
