diff --git a/java/testing/org/apache/derbyTesting/functionTests/tests/lang/NoDBInternalsPermissionTest.java b/java/testing/org/apache/derbyTesting/functionTests/tests/lang/NoDBInternalsPermissionTest.java
index 43e290954..39779c4e9 100644
--- a/java/testing/org/apache/derbyTesting/functionTests/tests/lang/NoDBInternalsPermissionTest.java
+++ b/java/testing/org/apache/derbyTesting/functionTests/tests/lang/NoDBInternalsPermissionTest.java
@@ -135,8 +135,8 @@ public class NoDBInternalsPermissionTest extends GeneratedColumnsHelper
     public  void    test_002_EmbedConnection()
         throws Exception
     {
-        Connection  conn = getConnection();
         try {
+            Connection  conn = getConnection();
             ((EmbedConnection) conn).getContextManager();
             fail( "Should have raised an AccessControlException" );
         }
