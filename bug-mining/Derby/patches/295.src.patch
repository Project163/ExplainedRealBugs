diff --git a/java/client/org/apache/derby/client/am/DatabaseMetaData.java b/java/client/org/apache/derby/client/am/DatabaseMetaData.java
index 05925e580..1cf108778 100644
--- a/java/client/org/apache/derby/client/am/DatabaseMetaData.java
+++ b/java/client/org/apache/derby/client/am/DatabaseMetaData.java
@@ -2204,13 +2204,20 @@ public abstract class DatabaseMetaData implements java.sql.DatabaseMetaData {
     }
 
     private boolean getMetaDataInfoInt_SupportsResultSetConcurrency(int infoCallIndex, int type, int concurrency) throws SQLException {
-        // The stored procured will return a String containg a list of concurrency and list of resultSet types which support
-        // a perticular concurrency
-        // For eg. if the database supports concurrency CONCUR_READ_ONLY(1007) in ResultSet type TYPE_FORWARD_ONLY(1003),
-        // TYPE_SCROLL_INSENSITIVE(1004), TYPE_SCROLL_SENSITIVE(1005) and
-        // supports concurrency CONCUR_UPDATBLE(1008) in resultSet TYPE_SCROLL_SENSITIVE(1005)
-        // then stored procedure will return a string "1007,1003,1004,1005;1008,1005"
-        // see how concurrency and supported result set types are seperated by ";"
+        // The stored procured will return a String containing a list
+        // of lists: For each result set type in the outer list, an
+        // inner list gives the allowed concurrencies for that type:
+	// The encoding syntax is reproduced here from the server file
+	// 'metadata_net.properties (please keep in synch!):  
+	//
+        // String syntax:  
+	// <type> { "," <concurrency>}* { ";" <type> { "," <concurrency>}* }}*
+	//
+	// <type> ::= <the integer value for that type from interface java.sql.Resultset
+	//             i.e. TYPE_FORWARD_ONLY is 1003>
+	// <concurrency> ::= <the integer value for that concurrency
+	//                    from interface java.sql.Resultset, i.e.
+	//                    CONCUR_UPDATABLE is 1008>
         try
         {
             String returnedFromSP = null;
@@ -2222,10 +2229,11 @@ public abstract class DatabaseMetaData implements java.sql.DatabaseMetaData {
             }
             java.util.StringTokenizer st = new java.util.StringTokenizer(returnedFromSP, ";");
             while (st.hasMoreTokens()) {
-                java.util.StringTokenizer stForType = new java.util.StringTokenizer(st.nextToken(), ",");
-                if ((new Integer(stForType.nextToken())).intValue() == concurrency) {
-                    while (st.hasMoreTokens()) {
-                        if ((new Integer(st.nextToken())).intValue() == type) {
+                java.util.StringTokenizer stForConc = 
+		    new java.util.StringTokenizer(st.nextToken(), ",");
+                if ((new Integer(stForConc.nextToken())).intValue() == type) {
+                    while (stForConc.hasMoreTokens()) {
+                        if ((new Integer(stForConc.nextToken())).intValue() == concurrency) {
                             return true;
                         }
                     }
diff --git a/java/engine/org/apache/derby/impl/sql/catalog/metadata_net.properties b/java/engine/org/apache/derby/impl/sql/catalog/metadata_net.properties
index cfb81f6cc..4b2d07237 100644
--- a/java/engine/org/apache/derby/impl/sql/catalog/metadata_net.properties
+++ b/java/engine/org/apache/derby/impl/sql/catalog/metadata_net.properties
@@ -196,6 +196,44 @@ GETCATALOGS=CALL SYSIBM.SQLTABLES('', '', '', '', 'GETCATALOGS=1')
 
 #SYSIBM.Metadata gets several miscellanous database metadata values
 # for caching on the JCC side
+#
+# METADATA column comments
+#
+# column 97:
+# Encoding for DatabaseMetaData#supportsResultSetConcurrency.
+# If a concurrency is given for a type, supportsResultSetConcurrency 
+# will return true for that combination. Absence means false.
+# String syntax:  
+# <type> { "," <concurrency>}* { ";" <type> { "," <concurrency>}* }}*
+#
+# <type> ::= <the integer value for that type from interface
+#             java.sql.Resultset i.e. TYPE_FORWARD_ONLY is 1003>
+# <concurrency> ::= <the integer value for that concurrency
+#                    from interface java.sql.Resultset, i.e.
+#                    CONCUR_UPDATABLE is 1008>	
+#
+# Please keep in synch with the client's decoding (in 
+# DatabaseMetaData.java)
+#
+# columns 98--106:
+#
+# For the following *AreVisible and *AreDetected methods.
+# The encoding is:  
+# If a type is given, the metadata method will give true for
+# that type, else false.
+#
+# column 98    Encoding for DatabaseMetaData#ownUpdatesAreVisible	 
+# column 99    Encoding for DatabaseMetaData#ownDeletesAreVisible	 
+# column 100   Encoding for DatabaseMetaData#ownInsertsAreVisible	 
+#
+# column 101   Encoding for DatabaseMetaData#othersUpdatesAreVisible 
+# column 102   Encoding for DatabaseMetaData#othersDeletesAreVisible 
+# column 103   Encoding for DatabaseMetaData#othersInsertsAreVisible	 
+#
+# column 104   Encoding for DatabaseMetaData#updatesAreDetected	 
+# column 105   Encoding for DatabaseMetaData#deletesAreDetected	 
+# column 106   Encoding for DatabaseMetaData#insertsAreDetected      
+#
 METADATA=\
 SELECT	\
 	M->allProceduresAreCallable(),	\
@@ -294,7 +332,7 @@ SELECT	\
 	M->dataDefinitionCausesTransactionCommit(),	\
 	M->dataDefinitionIgnoredInTransactions(), 	\
 	(cast (RTRIM(CAST(java.sql.ResultSet::TYPE_FORWARD_ONLY as CHAR(10))) AS VARCHAR(10)) || (',') || (cast (RTRIM(CAST(java.sql.ResultSet::TYPE_SCROLL_INSENSITIVE AS CHAR(10))) as VARCHAR(10)))), \
-	'1003,1008;1004,1008;1005,1007,1008', \
+	'1003,1007,1008;1004,1007;1005', \
 	'',\
 	'',\
 	'',\
diff --git a/java/testing/org/apache/derbyTesting/functionTests/master/DerbyNetClient/jdk14/metadata.out b/java/testing/org/apache/derbyTesting/functionTests/master/DerbyNetClient/jdk14/metadata.out
index 82bf2add3..d01ccced8 100644
--- a/java/testing/org/apache/derbyTesting/functionTests/master/DerbyNetClient/jdk14/metadata.out
+++ b/java/testing/org/apache/derbyTesting/functionTests/master/DerbyNetClient/jdk14/metadata.out
@@ -179,6 +179,12 @@ Derby does not yet implement scroll sensitive resultsets and hence following met
 othersUpdatesAreVisible(ResultSet.TYPE_SCROLL_SENSITIVE)? false
 othersDeletesAreVisible(ResultSet.TYPE_SCROLL_SENSITIVE)? false
 othersInsertsAreVisible(ResultSet.TYPE_SCROLL_SENSITIVE)? false
+SupportsResultSetConcurrency: TYPE_FORWARD_ONLY,CONCUR_READ_ONLY: true
+SupportsResultSetConcurrency: TYPE_FORWARD_ONLY,CONCUR_UPDATABLE: true
+SupportsResultSetConcurrency: TYPE_SCROLL_INSENSITIVE,CONCUR_READ_ONLY: true
+SupportsResultSetConcurrency: TYPE_SCROLL_INSENSITIVE,CONCUR_UPDATABLE: false
+SupportsResultSetConcurrency: TYPE_SCROLL_SENSITIVE,CONCUR_READ_ONLY: false
+SupportsResultSetConcurrency: TYPE_SCROLL_SENSITIVE,CONCUR_UPDATABLE: false
 getConnection(): same connection
 getProcedureColumns():
 PROCEDURE_CAT[VARCHAR],PROCEDURE_SCHEM[VARCHAR],PROCEDURE_NAME[VARCHAR],COLUMN_NAME[VARCHAR],COLUMN_TYPE[SMALLINT],DATA_TYPE[SMALLINT],TYPE_NAME[VARCHAR],PRECISION[INTEGER],LENGTH[INTEGER],SCALE[SMALLINT],RADIX[SMALLINT],NULLABLE[SMALLINT],REMARKS[VARCHAR],METHOD_ID[SMALLINT],PARAMETER_ID[SMALLINT]
diff --git a/java/testing/org/apache/derbyTesting/functionTests/master/DerbyNetClient/metadata.out b/java/testing/org/apache/derbyTesting/functionTests/master/DerbyNetClient/metadata.out
index 97ff32c48..444746653 100644
--- a/java/testing/org/apache/derbyTesting/functionTests/master/DerbyNetClient/metadata.out
+++ b/java/testing/org/apache/derbyTesting/functionTests/master/DerbyNetClient/metadata.out
@@ -179,6 +179,12 @@ Derby does not yet implement scroll sensitive resultsets and hence following met
 othersUpdatesAreVisible(ResultSet.TYPE_SCROLL_SENSITIVE)? false
 othersDeletesAreVisible(ResultSet.TYPE_SCROLL_SENSITIVE)? false
 othersInsertsAreVisible(ResultSet.TYPE_SCROLL_SENSITIVE)? false
+SupportsResultSetConcurrency: TYPE_FORWARD_ONLY,CONCUR_READ_ONLY: true
+SupportsResultSetConcurrency: TYPE_FORWARD_ONLY,CONCUR_UPDATABLE: true
+SupportsResultSetConcurrency: TYPE_SCROLL_INSENSITIVE,CONCUR_READ_ONLY: true
+SupportsResultSetConcurrency: TYPE_SCROLL_INSENSITIVE,CONCUR_UPDATABLE: false
+SupportsResultSetConcurrency: TYPE_SCROLL_SENSITIVE,CONCUR_READ_ONLY: false
+SupportsResultSetConcurrency: TYPE_SCROLL_SENSITIVE,CONCUR_UPDATABLE: false
 getConnection(): same connection
 getProcedureColumns():
 PROCEDURE_CAT[VARCHAR],PROCEDURE_SCHEM[VARCHAR],PROCEDURE_NAME[VARCHAR],COLUMN_NAME[VARCHAR],COLUMN_TYPE[SMALLINT],DATA_TYPE[SMALLINT],TYPE_NAME[VARCHAR],PRECISION[INTEGER],LENGTH[INTEGER],SCALE[SMALLINT],RADIX[SMALLINT],NULLABLE[SMALLINT],REMARKS[VARCHAR],METHOD_ID[SMALLINT],PARAMETER_ID[SMALLINT]
diff --git a/java/testing/org/apache/derbyTesting/functionTests/master/DerbyNetClient/odbc_metadata.out b/java/testing/org/apache/derbyTesting/functionTests/master/DerbyNetClient/odbc_metadata.out
index 6ff3472cc..747f2ca98 100644
--- a/java/testing/org/apache/derbyTesting/functionTests/master/DerbyNetClient/odbc_metadata.out
+++ b/java/testing/org/apache/derbyTesting/functionTests/master/DerbyNetClient/odbc_metadata.out
@@ -209,6 +209,12 @@ Derby does not yet implement scroll sensitive resultsets and hence following met
 othersUpdatesAreVisible(ResultSet.TYPE_SCROLL_SENSITIVE)? false
 othersDeletesAreVisible(ResultSet.TYPE_SCROLL_SENSITIVE)? false
 othersInsertsAreVisible(ResultSet.TYPE_SCROLL_SENSITIVE)? false
+SupportsResultSetConcurrency: TYPE_FORWARD_ONLY,CONCUR_READ_ONLY: true
+SupportsResultSetConcurrency: TYPE_FORWARD_ONLY,CONCUR_UPDATABLE: true
+SupportsResultSetConcurrency: TYPE_SCROLL_INSENSITIVE,CONCUR_READ_ONLY: true
+SupportsResultSetConcurrency: TYPE_SCROLL_INSENSITIVE,CONCUR_UPDATABLE: false
+SupportsResultSetConcurrency: TYPE_SCROLL_SENSITIVE,CONCUR_READ_ONLY: false
+SupportsResultSetConcurrency: TYPE_SCROLL_SENSITIVE,CONCUR_UPDATABLE: false
 getConnection(): same connection
 getProcedureColumns():
 PROCEDURE_CAT[VARCHAR],PROCEDURE_SCHEM[VARCHAR],PROCEDURE_NAME[VARCHAR],COLUMN_NAME[VARCHAR],COLUMN_TYPE[SMALLINT],DATA_TYPE[SMALLINT],TYPE_NAME[VARCHAR],COLUMN_SIZE[INTEGER],BUFFER_LENGTH[INTEGER],DECIMAL_DIGITS[SMALLINT],NUM_PREC_RADIX[SMALLINT],NULLABLE[SMALLINT],REMARKS[VARCHAR],COLUMN_DEF[VARCHAR],SQL_DATA_TYPE[SMALLINT],SQL_DATETIME_SUB[SMALLINT],CHAR_OCTET_LENGTH[INTEGER],ORDINAL_POSITION[INTEGER],IS_NULLABLE[VARCHAR],METHOD_ID[SMALLINT],PARAMETER_ID[SMALLINT]
diff --git a/java/testing/org/apache/derbyTesting/functionTests/master/metadata.out b/java/testing/org/apache/derbyTesting/functionTests/master/metadata.out
index 2f776d52b..9392c372c 100644
--- a/java/testing/org/apache/derbyTesting/functionTests/master/metadata.out
+++ b/java/testing/org/apache/derbyTesting/functionTests/master/metadata.out
@@ -179,6 +179,12 @@ Derby does not yet implement scroll sensitive resultsets and hence following met
 othersUpdatesAreVisible(ResultSet.TYPE_SCROLL_SENSITIVE)? false
 othersDeletesAreVisible(ResultSet.TYPE_SCROLL_SENSITIVE)? false
 othersInsertsAreVisible(ResultSet.TYPE_SCROLL_SENSITIVE)? false
+SupportsResultSetConcurrency: TYPE_FORWARD_ONLY,CONCUR_READ_ONLY: true
+SupportsResultSetConcurrency: TYPE_FORWARD_ONLY,CONCUR_UPDATABLE: true
+SupportsResultSetConcurrency: TYPE_SCROLL_INSENSITIVE,CONCUR_READ_ONLY: true
+SupportsResultSetConcurrency: TYPE_SCROLL_INSENSITIVE,CONCUR_UPDATABLE: false
+SupportsResultSetConcurrency: TYPE_SCROLL_SENSITIVE,CONCUR_READ_ONLY: false
+SupportsResultSetConcurrency: TYPE_SCROLL_SENSITIVE,CONCUR_UPDATABLE: false
 getConnection(): same connection
 getProcedureColumns():
 PROCEDURE_CAT[VARCHAR],PROCEDURE_SCHEM[VARCHAR],PROCEDURE_NAME[VARCHAR],COLUMN_NAME[VARCHAR],COLUMN_TYPE[SMALLINT],DATA_TYPE[SMALLINT],TYPE_NAME[VARCHAR],PRECISION[INTEGER],LENGTH[INTEGER],SCALE[SMALLINT],RADIX[SMALLINT],NULLABLE[SMALLINT],REMARKS[VARCHAR],METHOD_ID[SMALLINT],PARAMETER_ID[SMALLINT]
diff --git a/java/testing/org/apache/derbyTesting/functionTests/master/odbc_metadata.out b/java/testing/org/apache/derbyTesting/functionTests/master/odbc_metadata.out
index 625c5472b..3a0624857 100644
--- a/java/testing/org/apache/derbyTesting/functionTests/master/odbc_metadata.out
+++ b/java/testing/org/apache/derbyTesting/functionTests/master/odbc_metadata.out
@@ -209,6 +209,12 @@ Derby does not yet implement scroll sensitive resultsets and hence following met
 othersUpdatesAreVisible(ResultSet.TYPE_SCROLL_SENSITIVE)? false
 othersDeletesAreVisible(ResultSet.TYPE_SCROLL_SENSITIVE)? false
 othersInsertsAreVisible(ResultSet.TYPE_SCROLL_SENSITIVE)? false
+SupportsResultSetConcurrency: TYPE_FORWARD_ONLY,CONCUR_READ_ONLY: true
+SupportsResultSetConcurrency: TYPE_FORWARD_ONLY,CONCUR_UPDATABLE: true
+SupportsResultSetConcurrency: TYPE_SCROLL_INSENSITIVE,CONCUR_READ_ONLY: true
+SupportsResultSetConcurrency: TYPE_SCROLL_INSENSITIVE,CONCUR_UPDATABLE: false
+SupportsResultSetConcurrency: TYPE_SCROLL_SENSITIVE,CONCUR_READ_ONLY: false
+SupportsResultSetConcurrency: TYPE_SCROLL_SENSITIVE,CONCUR_UPDATABLE: false
 getConnection(): same connection
 getProcedureColumns():
 PROCEDURE_CAT[VARCHAR],PROCEDURE_SCHEM[VARCHAR],PROCEDURE_NAME[VARCHAR],COLUMN_NAME[VARCHAR],COLUMN_TYPE[SMALLINT],DATA_TYPE[SMALLINT],TYPE_NAME[VARCHAR],COLUMN_SIZE[INTEGER],BUFFER_LENGTH[INTEGER],DECIMAL_DIGITS[SMALLINT],NUM_PREC_RADIX[SMALLINT],NULLABLE[SMALLINT],REMARKS[VARCHAR],COLUMN_DEF[VARCHAR],SQL_DATA_TYPE[SMALLINT],SQL_DATETIME_SUB[SMALLINT],CHAR_OCTET_LENGTH[INTEGER],ORDINAL_POSITION[INTEGER],IS_NULLABLE[VARCHAR],METHOD_ID[SMALLINT],PARAMETER_ID[SMALLINT]
diff --git a/java/testing/org/apache/derbyTesting/functionTests/tests/jdbcapi/metadata_test.java b/java/testing/org/apache/derbyTesting/functionTests/tests/jdbcapi/metadata_test.java
index 55c4c3fca..b3ede1871 100644
--- a/java/testing/org/apache/derbyTesting/functionTests/tests/jdbcapi/metadata_test.java
+++ b/java/testing/org/apache/derbyTesting/functionTests/tests/jdbcapi/metadata_test.java
@@ -668,6 +668,32 @@ public abstract class metadata_test {
 			System.out.println("othersDeletesAreVisible(ResultSet.TYPE_SCROLL_SENSITIVE)? " + met.othersDeletesAreVisible(ResultSet.TYPE_SCROLL_SENSITIVE));
 			System.out.println("othersInsertsAreVisible(ResultSet.TYPE_SCROLL_SENSITIVE)? " + met.othersInsertsAreVisible(ResultSet.TYPE_SCROLL_SENSITIVE));
 
+			if (!TestUtil.isJCCFramework()) { // gives false on all.. bug
+				int[] types = {ResultSet.TYPE_FORWARD_ONLY, 
+							   ResultSet.TYPE_SCROLL_INSENSITIVE,
+							   ResultSet.TYPE_SCROLL_SENSITIVE};
+	 
+				int[] conc  = {ResultSet.CONCUR_READ_ONLY, 
+							   ResultSet.CONCUR_UPDATABLE};
+
+				String[] typesStr = {"TYPE_FORWARD_ONLY", 
+									 "TYPE_SCROLL_INSENSITIVE",
+									 "TYPE_SCROLL_SENSITIVE"};
+			
+				String[] concStr  = {"CONCUR_READ_ONLY", 
+									 "CONCUR_UPDATABLE"};
+	 
+				for (int i = 0; i < types.length ; i++) {
+					for (int j = 0; j < conc.length; j++) {
+						System.out.println
+							("SupportsResultSetConcurrency: " +
+							 typesStr[i] + "," + concStr[j] + ": " +
+							 met.supportsResultSetConcurrency(types[i], 
+															  conc[j]));
+					}
+				}
+			}
+
 			System.out.println("getConnection(): "+
 					   ((met.getConnection()==con)?"same connection":"different connection") );
 			System.out.println("getProcedureColumns():");
