diff --git a/java/engine/org/apache/derby/impl/sql/compile/sqlgrammar.jj b/java/engine/org/apache/derby/impl/sql/compile/sqlgrammar.jj
index 577663315..b14360f28 100644
--- a/java/engine/org/apache/derby/impl/sql/compile/sqlgrammar.jj
+++ b/java/engine/org/apache/derby/impl/sql/compile/sqlgrammar.jj
@@ -1708,28 +1708,42 @@ SKIP :
 	| "\r"
 }
 
-SKIP :
-{	/* comments */
-	  "--" : IN_COMMENT
-	| "/*" { commentNestingDepth = 1; } : IN_BRACKETED_COMMENT
+MORE :
+{
+	"/*" : IN_BRACKETED_COMMENT
+}
+
+<IN_BRACKETED_COMMENT> MORE :
+{
+	"/*" { commentNestingDepth = 1; } : IN_NESTED_BRACKETED_COMMENT
 }
 
 <IN_BRACKETED_COMMENT> SKIP :
+{
+	"*/" : DEFAULT
+}
+
+<IN_NESTED_BRACKETED_COMMENT> MORE :
 {
 	"/*" { commentNestingDepth++; }
 }
 
-<IN_BRACKETED_COMMENT> SKIP :
+<IN_NESTED_BRACKETED_COMMENT> MORE :
 {
 	"*/"
-	{ commentNestingDepth--; SwitchTo(commentNestingDepth == 0 ? DEFAULT : IN_BRACKETED_COMMENT); }
+	{ commentNestingDepth--; SwitchTo(commentNestingDepth == 0 ? IN_BRACKETED_COMMENT : IN_NESTED_BRACKETED_COMMENT); }
 }
 
-<IN_BRACKETED_COMMENT> SKIP :
+<IN_BRACKETED_COMMENT,IN_NESTED_BRACKETED_COMMENT> MORE :
 {
 	< ~[] >
 }
 
+SKIP :
+{	/* comments */
+	"--" : IN_COMMENT
+}
+
 <IN_COMMENT> SKIP :
 {	/* white space */
 	  " "
diff --git a/java/testing/org/apache/derbyTesting/functionTests/tests/lang/CommentTest.java b/java/testing/org/apache/derbyTesting/functionTests/tests/lang/CommentTest.java
index cf249e011..3c29f4000 100644
--- a/java/testing/org/apache/derbyTesting/functionTests/tests/lang/CommentTest.java
+++ b/java/testing/org/apache/derbyTesting/functionTests/tests/lang/CommentTest.java
@@ -119,6 +119,12 @@ public final class CommentTest extends BaseJDBCTestCase {
         JDBC.assertFullResultSet(
             stmt.executeQuery("VALUES '/* a comment \n-- */'"),
             new String [][] {{"/* a comment \n-- */"}});
+
+        // unterminated comments
+        assertCallError("42X03", getConnection(), "VALUES 1 /*");
+        assertCallError("42X03", getConnection(), "VALUES 1 /* comment");
+        assertCallError("42X03", getConnection(), "VALUES 1 /* comment /*");
+        assertCallError("42X03", getConnection(), "VALUES 1 /* comment /* nested */");
     }
     
     /**
