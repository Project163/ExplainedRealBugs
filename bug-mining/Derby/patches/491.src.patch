diff --git a/java/drda/org/apache/derby/impl/drda/DRDAConnThread.java b/java/drda/org/apache/derby/impl/drda/DRDAConnThread.java
index 09ede6b1f..cf660c4fe 100644
--- a/java/drda/org/apache/derby/impl/drda/DRDAConnThread.java
+++ b/java/drda/org/apache/derby/impl/drda/DRDAConnThread.java
@@ -772,7 +772,8 @@ class DRDAConnThread extends Thread {
 
 							stmt.rsSuspend();
 
-							if (stmt.getQryprctyp() == CodePoint.LMTBLKPRC) {
+							if (stmt.getQryprctyp() == CodePoint.LMTBLKPRC &&
+									stmt.getQryrowset() != 0) {
 								// The DRDA spec allows us to send
 								// QRYDTA here if there are no LOB
 								// columns.
diff --git a/java/testing/org/apache/derbyTesting/functionTests/master/testProtocol.out b/java/testing/org/apache/derbyTesting/functionTests/master/testProtocol.out
index 1c74ab32e..e48762950 100644
--- a/java/testing/org/apache/derbyTesting/functionTests/master/testProtocol.out
+++ b/java/testing/org/apache/derbyTesting/functionTests/master/testProtocol.out
@@ -161,6 +161,8 @@ Test too large value for QRYROWSET codepoint on CNTQRY
 PASSED
 Test invalid value for QRYROWSET on OPNQRY
 PASSED
+Test QRYROWSET=0 on OPNQRY with scrollable cursor
+PASSED
 Test to see OPNQRY returns PRCCNVRM if non-existent RDBNAM specified
 PASSED
 Test too large value for QRYRFRTBL codepoint on CNTQRY
diff --git a/java/testing/org/apache/derbyTesting/functionTests/tests/derbynet/protocol.tests b/java/testing/org/apache/derbyTesting/functionTests/tests/derbynet/protocol.tests
index c0dff842e..9fe325726 100644
--- a/java/testing/org/apache/derbyTesting/functionTests/tests/derbynet/protocol.tests
+++ b/java/testing/org/apache/derbyTesting/functionTests/tests/derbynet/protocol.tests
@@ -1857,6 +1857,68 @@ flush
 checkerror SYNTAXRM 8 20 QRYROWSET
 endTest
 //
+DISPLAY "Test QRYROWSET=0 on OPNQRY with scrollable cursor"
+include connect.inc
+createDssRequest
+startDdm PRPSQLSTT
+startDdm PKGNAMCSN
+writePaddedString "test" 18
+writePaddedString "rdbcolid" 18
+writePaddedString "pkgid"  18
+writeBytes "0x0101010101010101"
+writeShort 1
+endDdm
+endDdm
+endDss
+createDssObject 
+startDdm SQLATTR
+writeByte 0	// null indicator
+writeEncodedLDString "SCROLL INSENSITIVE WITH HOLD" "UTF-8" 4
+writeByte 255 // null indicator
+endDdm
+startDdm SQLSTT
+writeByte 0	// null indicator
+writeEncodedLDString "values(1)" "UTF-8" 4
+writeByte 255 // null indicator
+endDdm
+endDss
+flush
+checkSQLCard 0 "     "
+createDssRequest
+startDdm OPNQRY
+startDdm PKGNAMCSN
+writePaddedString "test" 18
+writePaddedString "rdbcolid" 18
+writePaddedString "pkgid"  18
+writeBytes "0x0101010101010101"
+writeShort 1
+endDdm
+startDdm QRYBLKSZ
+writeInt 32767
+endDdm
+startDdm QRYROWSET
+writeInt 0
+endDdm
+endDdm
+endDss
+flush
+readReplyDss
+readLengthAndCodepoint OPNQRYRM
+skipBytes
+readReplyDss
+readLengthAndCodepoint QRYDSC
+skipBytes
+// DERBY-1468: QRYDTA was incorrectly sent here.
+// Send an invalid CNTQRY and check that the next
+// response is an error instead of QRYDTA.
+createDssRequest
+startDdm CNTQRY
+endDdm
+endDss
+flush
+checkError SYNTAXRM 8 14 PKGNAMCSN
+endTest
+//
 DISPLAY "Test to see OPNQRY returns PRCCNVRM if non-existent RDBNAM specified"
 include connect.inc
 createDssRequest
