diff --git a/java/engine/org/apache/derby/impl/services/locks/ConcurrentLockSet.java b/java/engine/org/apache/derby/impl/services/locks/ConcurrentLockSet.java
index 62bef27ba..721c2f68c 100644
--- a/java/engine/org/apache/derby/impl/services/locks/ConcurrentLockSet.java
+++ b/java/engine/org/apache/derby/impl/services/locks/ConcurrentLockSet.java
@@ -468,6 +468,10 @@ forever:	for (;;) {
                     try {
                         wakeupReason = waitingLock.waitForGrant(actualTimeout);
                     } catch(StandardException e) {
+                        // DERBY-4711: If waitForGrant() fails, we need to
+                        // remove ourselves from the queue so that those
+                        // behind us in the queue don't get stuck waiting for
+                        // us.
                         nextWaitingLock = control.getNextWaiter(waitingLock, true, this);
                         throw e;
                     }
diff --git a/java/engine/org/apache/derby/impl/services/locks/LockSet.java b/java/engine/org/apache/derby/impl/services/locks/LockSet.java
index 526ac8259..cc50c73e7 100644
--- a/java/engine/org/apache/derby/impl/services/locks/LockSet.java
+++ b/java/engine/org/apache/derby/impl/services/locks/LockSet.java
@@ -281,6 +281,10 @@ forever:	for (;;) {
                     try {
                         wakeupReason = waitingLock.waitForGrant(actualTimeout);
                     } catch(StandardException e) {
+                        // DERBY-4711: If waitForGrant() fails, we need to
+                        // remove ourselves from the queue so that those
+                        // behind us in the queue don't get stuck waiting for
+                        // us.
                         nextWaitingLock = control.getNextWaiter(waitingLock, true, this);
                         throw e;
                     }
