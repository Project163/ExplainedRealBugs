diff --git a/java/testing/org/apache/derbyTesting/functionTests/master/iepnegativetests_ES.out b/java/testing/org/apache/derbyTesting/functionTests/master/iepnegativetests_ES.out
index 4c5f71955..4254c20f8 100644
--- a/java/testing/org/apache/derbyTesting/functionTests/master/iepnegativetests_ES.out
+++ b/java/testing/org/apache/derbyTesting/functionTests/master/iepnegativetests_ES.out
@@ -46,7 +46,7 @@ ij> --export error cases
 call SYSCS_UTIL.SYSCS_EXPORT_TABLE ('IEP', 'T1' , 'extout/nodir/t1.dat' , 
                                  null, null, null) ;
 ERROR XIE0I: Se ha producido una excepci EnC:>243< n de E/S al grabar datos en el archivo.
-ERROR XJ001: Excepci EnC:>243< n de Java: 'extout/nodir/t1.dat (No such file or directory): java.io.FileNotFoundException'.
+ERROR XJ001: Excepci EnC:>243< n de Java: ': java.io.FileNotFoundException'.
 ij> --export table not found
 call SYSCS_UTIL.SYSCS_EXPORT_TABLE ('IEP', 'NOTABLE' , 'extinout/t1.dat' , 
                                  null, null, null) ;
@@ -66,7 +66,7 @@ ij> --export codeset is invalid
 call SYSCS_UTIL.SYSCS_EXPORT_QUERY('select * from iep.t1', 
                                     'extinout/t1.dat' , null, null, 'NOSUCHCODESET') ;
 ERROR XIE0I: Se ha producido una excepci EnC:>243< n de E/S al grabar datos en el archivo.
-ERROR XJ001: Excepci EnC:>243< n de Java: 'NOSUCHCODESET: java.io.UnsupportedEncodingException'.
+ERROR XJ001: Excepci EnC:>243< n de Java: ': java.io.UnsupportedEncodingException'.
 ij> call SYSCS_UTIL.SYSCS_EXPORT_TABLE ('XXXX', 'T1' , 'extinout/t1.dat' , 
                                  null, null, null) ;
 ERROR 38000: Se he generado la excepci EnC:>243< n 'java.sql.SQLException: El esquema 'XXXX' no existe.' al evaluar una expresi EnC:>243< n.
diff --git a/java/testing/org/apache/derbyTesting/functionTests/master/j9_foundation/iepnegativetests_ES.out b/java/testing/org/apache/derbyTesting/functionTests/master/j9_foundation/iepnegativetests_ES.out
index d78cc0de5..57a7fdfa6 100644
--- a/java/testing/org/apache/derbyTesting/functionTests/master/j9_foundation/iepnegativetests_ES.out
+++ b/java/testing/org/apache/derbyTesting/functionTests/master/j9_foundation/iepnegativetests_ES.out
@@ -46,7 +46,7 @@ ij> --export error cases
 call SYSCS_UTIL.SYSCS_EXPORT_TABLE ('IEP', 'T1' , 'extout/nodir/t1.dat' , 
                                  null, null, null) ;
 ERROR XIE0I: Se ha producido una excepci EnC:>243< n de E/S al grabar datos en el archivo.
-ERROR XJ001: Excepci EnC:>243< n de Java: 'extout/nodir/t1.dat (No such file or directory): java.io.FileNotFoundException'.
+ERROR XJ001: Excepci EnC:>243< n de Java: ': java.io.FileNotFoundException'.
 ij> --export table not found
 call SYSCS_UTIL.SYSCS_EXPORT_TABLE ('IEP', 'NOTABLE' , 'extinout/t1.dat' , 
                                  null, null, null) ;
@@ -66,7 +66,7 @@ ij> --export codeset is invalid
 call SYSCS_UTIL.SYSCS_EXPORT_QUERY('select * from iep.t1', 
                                     'extinout/t1.dat' , null, null, 'NOSUCHCODESET') ;
 ERROR XIE0I: Se ha producido una excepci EnC:>243< n de E/S al grabar datos en el archivo.
-ERROR XJ001: Excepci EnC:>243< n de Java: 'NOSUCHCODESET: java.io.UnsupportedEncodingException'.
+ERROR XJ001: Excepci EnC:>243< n de Java: ': java.io.UnsupportedEncodingException'.
 ij> call SYSCS_UTIL.SYSCS_EXPORT_TABLE ('XXXX', 'T1' , 'extinout/t1.dat' , 
                                  null, null, null) ;
 ERROR 38000: Se he generado la excepci EnC:>243< n 'java.sql.SQLException: El esquema 'XXXX' no existe.' al evaluar una expresi EnC:>243< n.
diff --git a/java/testing/org/apache/derbyTesting/functionTests/tests/i18n/copyfiles.ant b/java/testing/org/apache/derbyTesting/functionTests/tests/i18n/copyfiles.ant
index 87384cb93..f417662d0 100644
--- a/java/testing/org/apache/derbyTesting/functionTests/tests/i18n/copyfiles.ant
+++ b/java/testing/org/apache/derbyTesting/functionTests/tests/i18n/copyfiles.ant
@@ -14,6 +14,7 @@ default_app.properties
 default_derby.properties
 iepnegativetests_ES.sql
 iepnegativetests_ES_app.properties
+iepnegativetests_ES_sed.properties
 messageLocale.sql
 messageLocale_app.properties
 urlLocale.sql
diff --git a/java/testing/org/apache/derbyTesting/functionTests/tests/i18n/iepnegativetests_ES_sed.properties b/java/testing/org/apache/derbyTesting/functionTests/tests/i18n/iepnegativetests_ES_sed.properties
new file mode 100644
index 000000000..24f2cdbfd
--- /dev/null
+++ b/java/testing/org/apache/derbyTesting/functionTests/tests/i18n/iepnegativetests_ES_sed.properties
@@ -0,0 +1,31 @@
+#
+# Licensed to the Apache Software Foundation (ASF) under one or more
+# contributor license agreements.  See the NOTICE file distributed with
+# this work for additional information regarding copyright ownership.
+# The ASF licenses this file to you under the Apache License, Version 2.0
+# (the "License"); you may not use this file except in compliance with
+# the License.  You may obtain a copy of the License at
+#
+#     http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+#
+
+#
+# Filters and substitutes for SED
+# Multiple patterns for DELETE: comma separated
+#   delete=pattern1,pattern2,...,patternn
+# No commas can be allowed in the patterns.
+#
+# Multiple patterns for SUBSTITUTE: comma separated <pattern;substitute> pair
+#   substitute=pattern1;substitute1,pattern2;substitute2,...,patternn;substituten
+# No commas or semicolons can be allowed in the patterns/subsitutes.
+#
+
+# DERBY-2870: Java exceptions might have different messages on
+# different platforms.
+substitute=ERROR XJ001: (.* de Java: ').*(: [^ ]+Exception');ERROR XJ001: $1$2
