diff --git a/java/drda/org/apache/derby/impl/drda/DRDAConnThread.java b/java/drda/org/apache/derby/impl/drda/DRDAConnThread.java
index 6a45709b6..be4b38685 100644
--- a/java/drda/org/apache/derby/impl/drda/DRDAConnThread.java
+++ b/java/drda/org/apache/derby/impl/drda/DRDAConnThread.java
@@ -747,14 +747,10 @@ class DRDAConnThread extends Thread {
 					catch (SQLException e)
 					{
 						writer.clearDSSesBackToMark(writerMark);
-						try {
-							// Try to cleanup if we hit an error.
-							if (ps != null)
-								ps.close();
+						// The fix for DERBY-1196 removed code 
+						// here to close the prepared statement 
+						// if OPNQRY failed.
 							writeOPNQFLRM(e);
-						}
-						catch (SQLException pse) {}
-						errorInChain(e);
 					}
 					break;
 				case CodePoint.RDBCMM:
diff --git a/java/testing/org/apache/derbyTesting/functionTests/master/DerbyNet/setTransactionIsolation.out b/java/testing/org/apache/derbyTesting/functionTests/master/DerbyNet/setTransactionIsolation.out
index fb54309ee..e31d6b059 100644
--- a/java/testing/org/apache/derbyTesting/functionTests/master/DerbyNet/setTransactionIsolation.out
+++ b/java/testing/org/apache/derbyTesting/functionTests/master/DerbyNet/setTransactionIsolation.out
@@ -465,15 +465,15 @@ A lock could not be obtained within the time requested
 con.setTransactionIsolation(TRANSACTION_REAPEATABLE_READ:4)
 con.getTransactionIsolation() =TRANSACTION_REAPEATABLE_READ:4
 select * from t1
-'Statement' already closed.
+A lock could not be obtained within the time requested
 con.setTransactionIsolation(TRANSACTION_READ_COMMITTED:2)
 con.getTransactionIsolation() =TRANSACTION_READ_COMMITTED:2
 select * from t1
-'Statement' already closed.
+A lock could not be obtained within the time requested
 con.setTransactionIsolation(TRANSACTION_SERIALIZABLE:8)
 con.getTransactionIsolation() =TRANSACTION_SERIALIZABLE:8
 select * from t1
-'Statement' already closed.
+A lock could not be obtained within the time requested
 ***testLevelsAndPrintStatistics sql:insert into t1copy (select * from t1) makenewStatements:false
 con.prepareStatement(insert into t1copy (select * from t1))
 con.setTransactionIsolation(TRANSACTION_READ_UNCOMMITTED:1)
diff --git a/java/testing/org/apache/derbyTesting/functionTests/master/DerbyNetClient/checkDataSource.out b/java/testing/org/apache/derbyTesting/functionTests/master/DerbyNetClient/checkDataSource.out
index 9fec0b92d..cbd53bf80 100644
--- a/java/testing/org/apache/derbyTesting/functionTests/master/DerbyNetClient/checkDataSource.out
+++ b/java/testing/org/apache/derbyTesting/functionTests/master/DerbyNetClient/checkDataSource.out
@@ -406,9 +406,10 @@ Statement State @ CS LOCAL
   getFetchSize() 999
   getMaxFieldSize() 137
   getMaxRows() 85
+Params-local-2: ru(SQL_CURLH000C) contents {3}
 LOCK TABLE
   xid row 0 lock count 14
-  xid row 1 lock count 12
+  xid row 1 lock count 14
 END LOCK TABLE
 sru1-local-8: mismatched Statement connection
 sru1-local-8: ru(SQL_CURLH000C) contents {1} {2} {3}
diff --git a/java/testing/org/apache/derbyTesting/functionTests/tests/jdbcapi/checkDataSource.java b/java/testing/org/apache/derbyTesting/functionTests/tests/jdbcapi/checkDataSource.java
index e8b46a68c..9a0f147c4 100644
--- a/java/testing/org/apache/derbyTesting/functionTests/tests/jdbcapi/checkDataSource.java
+++ b/java/testing/org/apache/derbyTesting/functionTests/tests/jdbcapi/checkDataSource.java
@@ -88,11 +88,6 @@ public class checkDataSource
 	// Tests for setting isolation level this way only run in embedded for now.
 	private boolean canSetIsolationWithStatement = TestUtil.isEmbeddedFramework();
 	  
-	
-	// DERBY-1047  wiht client xa a PreparedStatement created before the global 
-	//transaction starts gives java.sql.SQLException: 'Statement' already closed.' 
-	// when used after  the global transaction ends
-	private static boolean canUseStatementAfterXa_end = TestUtil.isEmbeddedFramework();
 	 	
 	// DERBY-1025 client  XAResource.start() does not commit an active local transaction 
 	// when auto commit is true. Embedded XAResource.start() implementation commits 
@@ -467,7 +462,7 @@ public class checkDataSource
 		cs1 = xac.getConnection();
 
     
-		// ensure read locsk stay around until end-of transaction
+		// ensure read locks stay around until end-of transaction
 		cs1.setTransactionIsolation(Connection.TRANSACTION_REPEATABLE_READ);
 		cs1.setAutoCommit(false);
 
@@ -516,10 +511,7 @@ public class checkDataSource
 		showStatementState("LOCAL ", sruState);
 		showStatementState("PS LOCAL ", psruState);
 		showStatementState("CS LOCAL ", csruState);
-		if (canUseStatementAfterXa_end)
-		{
-			resultSetQuery("Params-local-2", psParams.executeQuery());
-		}
+		resultSetQuery("Params-local-2", psParams.executeQuery());
 		checkLocks(cs1);
 		cs1.commit();
 
