<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 13:21:58 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[DERBY-1085] java.lang.NullPointerException with char for bit data column  and subquery</title>
                <link>https://issues.apache.org/jira/browse/DERBY-1085</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;The repro below gives a NullPointerException with 10.1 and trunk with query involving char for bit data column and subquery:&lt;/p&gt;

&lt;p&gt;ij&amp;gt; connect &apos;wombat;create=true&apos;;&lt;br/&gt;
ij&amp;gt; create table npetest1 (col1 char(36) for bit data not null, constraint&lt;br/&gt;
pknpe1 primary&lt;br/&gt;
key (col1));&lt;br/&gt;
0 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; create table npetest2 (col2 char(36) for bit data, constraint fknpe1 foreign&lt;br/&gt;
key&lt;br/&gt;
(col2) references npetest1 (col1) on delete cascade);&lt;br/&gt;
0 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; insert into npetest1 (col1) values&lt;/p&gt;

&lt;p&gt;(x&apos;000000000000000000000000000000000001&apos;);&lt;br/&gt;
1 row inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; insert into npetest1 (col1) values&lt;/p&gt;

&lt;p&gt;(x&apos;000000000000000000000000000000000002&apos;);&lt;br/&gt;
1 row inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; insert into npetest1 (col1) values&lt;/p&gt;

&lt;p&gt;(x&apos;000000000000000000000000000000000003&apos;);&lt;br/&gt;
1 row inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; insert into npetest2 (col2) values&lt;/p&gt;

&lt;p&gt;(x&apos;000000000000000000000000000000000001&apos;);&lt;br/&gt;
1 row inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; insert into npetest2 (col2) values (NULL);&lt;br/&gt;
1 row inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; insert into npetest2 (col2) values&lt;/p&gt;

&lt;p&gt;(x&apos;000000000000000000000000000000000002&apos;);&lt;br/&gt;
1 row inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; select col1 from npetest1 where col1 not in (select col2 from&lt;br/&gt;
npetest2);&lt;br/&gt;
COL1&lt;br/&gt;
------------------------------------------------------------------------&lt;br/&gt;
ERROR 38000: The exception &apos;java.lang.NullPointerException&apos; was thrown while evaluating an expression.&lt;br/&gt;
ERROR XJ001: Java exception: &apos;: java.lang.NullPointerException&apos;.&lt;br/&gt;
ERROR 38000: The exception &apos;java.lang.NullPointerException&apos; was thrown while evaluating an expression.&lt;/p&gt;

&lt;p&gt;	at org.apache.derby.iapi.error.StandardException.newException(StandardException.java:315)&lt;/p&gt;

&lt;p&gt;	at org.apache.derby.iapi.error.StandardException.unexpectedUserException(StandardException.java:564)&lt;/p&gt;

&lt;p&gt;	at org.apache.derby.impl.services.reflect.DirectCall.invoke(ReflectGeneratedClass.java:163)&lt;/p&gt;

&lt;p&gt;	at org.apache.derby.impl.sql.execute.ProjectRestrictResultSet.getNextRowCore(ProjectRestrictResultSet.java:270)&lt;/p&gt;

&lt;p&gt;	at org.apache.derby.impl.sql.execute.BasicNoPutResultSetImpl.getNextRow(BasicNoPutResultSetImpl.java:474)&lt;/p&gt;

&lt;p&gt;	at org.apache.derby.impl.jdbc.EmbedResultSet.movePosition(EmbedResultSet.java:401)&lt;/p&gt;

&lt;p&gt;	at org.apache.derby.impl.jdbc.EmbedResultSet.next(EmbedResultSet.java:346)&lt;/p&gt;

&lt;p&gt;	at org.apache.derby.tools.JDBCDisplayUtil.indent_DisplayResults(JDBCDisplayUtil.java:334)&lt;/p&gt;

&lt;p&gt;	at org.apache.derby.tools.JDBCDisplayUtil.indent_DisplayResults(JDBCDisplayUtil.java:271)&lt;/p&gt;

&lt;p&gt;	at org.apache.derby.tools.JDBCDisplayUtil.DisplayResults(JDBCDisplayUtil.java:260)&lt;/p&gt;

&lt;p&gt;	at org.apache.derby.impl.tools.ij.utilMain.displayResult(utilMain.java:381)&lt;/p&gt;

&lt;p&gt;	at org.apache.derby.impl.tools.ij.utilMain.doCatch(utilMain.java:434)&lt;/p&gt;

&lt;p&gt;	at org.apache.derby.impl.tools.ij.utilMain.go(utilMain.java:310)&lt;/p&gt;

&lt;p&gt;	at org.apache.derby.impl.tools.ij.Main.go(Main.java:203)&lt;/p&gt;

&lt;p&gt;	at org.apache.derby.impl.tools.ij.Main.mainCore(Main.java:169)&lt;/p&gt;

&lt;p&gt;	at org.apache.derby.impl.tools.ij.Main14.main(Main14.java:55)&lt;/p&gt;

&lt;p&gt;	at org.apache.derby.tools.ij.main(ij.java:60)&lt;/p&gt;

&lt;p&gt;============= begin nested exception, level (1) ===========&lt;/p&gt;

&lt;p&gt;java.lang.NullPointerException&lt;/p&gt;

&lt;p&gt;	at org.apache.derby.iapi.types.SQLBinary.getLength(SQLBinary.java:230)&lt;/p&gt;

&lt;p&gt;	at org.apache.derby.impl.sql.execute.BaseActivation.materializeResultSetIfPossible(BaseActivation.java:1430)&lt;/p&gt;

&lt;p&gt;	at org.apache.derby.exe.acfe120070x0109xd801x02acx000000142bf86.g0(Unknown Source)&lt;/p&gt;

&lt;p&gt;	at org.apache.derby.exe.acfe120070x0109xd801x02acx000000142bf86.e1(Unknown Source)&lt;/p&gt;

&lt;p&gt;	at org.apache.derby.impl.services.reflect.DirectCall.invoke(ReflectGeneratedClass.java:140)&lt;/p&gt;

&lt;p&gt;	at org.apache.derby.impl.sql.execute.ProjectRestrictResultSet.getNextRowCore(ProjectRestrictResultSet.java:270)&lt;/p&gt;

&lt;p&gt;	at org.apache.derby.impl.sql.execute.BasicNoPutResultSetImpl.getNextRow(BasicNoPutResultSetImpl.java:474)&lt;/p&gt;

&lt;p&gt;	at org.apache.derby.impl.jdbc.EmbedResultSet.movePosition(EmbedResultSet.java:401)&lt;/p&gt;

&lt;p&gt;	at org.apache.derby.impl.jdbc.EmbedResultSet.next(EmbedResultSet.java:346)&lt;/p&gt;

&lt;p&gt;	at org.apache.derby.tools.JDBCDisplayUtil.indent_DisplayResults(JDBCDisplayUtil.java:334)&lt;/p&gt;

&lt;p&gt;	at org.apache.derby.tools.JDBCDisplayUtil.indent_DisplayResults(JDBCDisplayUtil.java:271)&lt;/p&gt;

&lt;p&gt;	at org.apache.derby.tools.JDBCDisplayUtil.DisplayResults(JDBCDisplayUtil.java:260)&lt;/p&gt;

&lt;p&gt;	at org.apache.derby.impl.tools.ij.utilMain.displayResult(utilMain.java:381)&lt;/p&gt;

&lt;p&gt;	at org.apache.derby.impl.tools.ij.utilMain.doCatch(utilMain.java:434)&lt;/p&gt;

&lt;p&gt;	at org.apache.derby.impl.tools.ij.utilMain.go(utilMain.java:310)&lt;/p&gt;

&lt;p&gt;	at org.apache.derby.impl.tools.ij.Main.go(Main.java:203)&lt;/p&gt;

&lt;p&gt;	at org.apache.derby.impl.tools.ij.Main.mainCore(Main.java:169)&lt;/p&gt;

&lt;p&gt;	at org.apache.derby.impl.tools.ij.Main14.main(Main14.java:55)&lt;/p&gt;

&lt;p&gt;	at org.apache.derby.tools.ij.main(ij.java:60)&lt;/p&gt;

&lt;p&gt;============= end nested exception, level (1) ===========&lt;/p&gt;</description>
                <environment></environment>
        <key id="12329953">DERBY-1085</key>
            <summary>java.lang.NullPointerException with char for bit data column  and subquery</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bandaram">Satheesh E. Bandaram</assignee>
                                    <reporter username="kmarsden">Katherine Marsden</reporter>
                        <labels>
                    </labels>
                <created>Wed, 8 Mar 2006 12:06:22 +0000</created>
                <updated>Wed, 24 May 2006 04:51:16 +0000</updated>
                            <resolved>Sun, 2 Apr 2006 23:57:06 +0000</resolved>
                                    <version>10.1.3.1</version>
                    <version>10.2.1.6</version>
                                    <fixVersion>10.1.3.1</fixVersion>
                    <fixVersion>10.2.1.6</fixVersion>
                                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12372835" author="bandaram" created="Sun, 2 Apr 2006 23:57:06 +0000"  >&lt;p&gt;Merged in simple fix into trunk and 10.1 branches.&lt;/p&gt;</comment>
                            <comment id="12413009" author="kmarsden" created="Wed, 24 May 2006 04:51:16 +0000"  >&lt;p&gt;confirmed fix.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>22298</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            19 years, 28 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i07bsf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>40676</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>