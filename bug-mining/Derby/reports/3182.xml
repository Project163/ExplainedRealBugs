<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 14:51:47 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[DERBY-7046] NoClassDefFoundError on &apos;java -jar derbynet.jar&apos;</title>
                <link>https://issues.apache.org/jira/browse/DERBY-7046</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;&lt;tt&gt;derbynet.jar&lt;/tt&gt; seems to be runnable jar - it has &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Main-&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;: org.apache.derby.drda.NetworkServerControl
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;but&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;-Path: derby.jar derbyshared.jar
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;does not include &lt;tt&gt;derbytools.jar&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;So on running &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-sh&quot;&gt;java -jar derbynet.jar&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt; following is presented:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Exception in thread &lt;span class=&quot;code-quote&quot;&gt;&quot;main&quot;&lt;/span&gt; java.lang.NoClassDefFoundError: org/apache/derby/iapi/tools/i18n/LocalizedOutput
&#160;&#160; &#160;at org.apache.derby.drda.NetworkServerControl.main(NetworkServerControl.java:319)
Caused by: java.lang.ClassNotFoundException: org.apache.derby.iapi.tools.i18n.LocalizedOutput
&#160;&#160; &#160;at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:583)
&#160;&#160; &#160;at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)
&#160;&#160; &#160;at java.base/java.lang.&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.loadClass(&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.java:521)
&#160;&#160; &#160;... 1 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It works fine with previous version (10.14.2.0).&lt;/p&gt;</description>
                <environment>openjdk version &amp;quot;11.0.3&amp;quot; 2019-04-16&lt;br/&gt;
db-derby-10.15.1.3-bin</environment>
        <key id="13241346">DERBY-7046</key>
            <summary>NoClassDefFoundError on &apos;java -jar derbynet.jar&apos;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rhillegas">Richard N. Hillegas</assignee>
                                    <reporter username="pzygielo">Piotr Zygielo</reporter>
                        <labels>
                    </labels>
                <created>Mon, 24 Jun 2019 21:26:44 +0000</created>
                <updated>Sun, 12 Jan 2020 18:32:25 +0000</updated>
                            <resolved>Sun, 12 Jan 2020 18:32:05 +0000</resolved>
                                    <version>10.15.1.3</version>
                                    <fixVersion>10.15.2.0</fixVersion>
                    <fixVersion>10.16.1.1</fixVersion>
                                    <component>Network Server</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16871860" author="rhillegas" created="Mon, 24 Jun 2019 22:59:27 +0000"  >&lt;p&gt;Thanks for finding this regression. I can confirm that a ClassNotFoundException is raised by the following command:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java -jar derbynet.jar start
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Try the following workaround:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java -jar derbyrun.jar server start
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</comment>
                            <comment id="16871895" author="rhillegas" created="Tue, 25 Jun 2019 00:32:35 +0000"  >&lt;p&gt;Attaching derby-7046-01-aa-addToolsJarToServerManifest.diff. This patch adds derbytools.jar to the classpath scribbled into derbynet.jar&apos;s manifest.&lt;/p&gt;

&lt;p&gt;With this change, I can boot the server as follows:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java -jar trunk/jars/sane/derbynet.jar start
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I will run full tests with both the classpath and the modulepath.&lt;/p&gt;

&lt;p&gt;Touches the following file:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;M       build.xml
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16872071" author="pzygielo" created="Tue, 25 Jun 2019 06:45:08 +0000"  >&lt;p&gt;Thanks for tip about &lt;tt&gt;derbyrun.jar&lt;/tt&gt;!&lt;br/&gt;
I see it&apos;s even described as  &lt;a href=&quot;http://db.apache.org/derby/papers/DerbyTut/ns_intro.html#ns_easier_way&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;easier way&lt;/a&gt; since at least 10.4.1.3. I do not know why I stuck with &lt;tt&gt;derbynet.jar&lt;/tt&gt;... But my script was using it for years without any maintenance &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="16872341" author="rhillegas" created="Tue, 25 Jun 2019 13:21:23 +0000"  >&lt;p&gt;Tests passed cleanly for me with both the classpath and the modulepath except for the known instabilities described by &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-4762&quot; title=&quot;Failure in testPing&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-4762&quot;&gt;&lt;del&gt;DERBY-4762&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-5941&quot; title=&quot;Assert failure in jdbcapi.InvalidLDAPServerAuthenticationTest.testInvalidLDAPServerConnectionError&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-5941&quot;&gt;&lt;del&gt;DERBY-5941&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="16872348" author="jira-bot" created="Tue, 25 Jun 2019 13:23:21 +0000"  >&lt;p&gt;Commit 1862062 from Richard N. Hillegas in branch &apos;code/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1862062&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1862062&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-7046&quot; title=&quot;NoClassDefFoundError on &amp;#39;java -jar derbynet.jar&amp;#39;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-7046&quot;&gt;&lt;del&gt;DERBY-7046&lt;/del&gt;&lt;/a&gt;: Add derbytools.jar to the classpath scribbled into the manifest of derbynet.jar; commit derby-7046-01-aa-addToolsJarToServerManifest.diff.&lt;/p&gt;</comment>
                            <comment id="16872423" author="bryanpendleton" created="Tue, 25 Jun 2019 15:01:21 +0000"  >&lt;p&gt;Rick, do you think we need a regression test in the Network Server test suites that verifies that&lt;/p&gt;

&lt;p&gt;    java -jar derbynet.jar start&lt;/p&gt;

&lt;p&gt;works as desired?&lt;/p&gt;</comment>
                            <comment id="16872782" author="rhillegas" created="Tue, 25 Jun 2019 22:46:10 +0000"  >&lt;p&gt;Hey Bryan,&lt;/p&gt;

&lt;p&gt;That sounds like a good idea. If we&apos;d had such a test, then this regression would have been caught earlier!&lt;/p&gt;</comment>
                            <comment id="17013837" author="jira-bot" created="Sun, 12 Jan 2020 18:30:36 +0000"  >&lt;p&gt;Commit 1872682 from Richard N. Hillegas in branch &apos;code/branches/10.15&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1872682&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1872682&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-7046&quot; title=&quot;NoClassDefFoundError on &amp;#39;java -jar derbynet.jar&amp;#39;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-7046&quot;&gt;&lt;del&gt;DERBY-7046&lt;/del&gt;&lt;/a&gt;: Port 1862062 from trunk to 10.15 branch.&lt;/p&gt;</comment>
                            <comment id="17013839" author="rhillegas" created="Sun, 12 Jan 2020 18:32:05 +0000"  >&lt;p&gt;Resolving this issue. After half a year, I don&apos;t think anyone is going to write a regression test for the original problem. The fix is worth including in 10.15.2 even without a regression test case.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12972802" name="derby-7046-01-aa-addToolsJarToServerManifest.diff" size="543" author="rhillegas" created="Tue, 25 Jun 2019 00:31:50 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310200" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Bug behavior facts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10420"><![CDATA[Regression]]></customfieldvalue>
    <customfieldvalue key="10421"><![CDATA[Seen in production]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 44 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0425k:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310050" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Urgency</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10052"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>