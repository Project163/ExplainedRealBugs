<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 14:49:43 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[DERBY-6648] Application code should not be able to call ContextService.getContextOrNull()</title>
                <link>https://issues.apache.org/jira/browse/DERBY-6648</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;By calling ContextService.getContextOrNull() (and its relatives), application code can get its hands on all sorts of internal Derby contexts, factories, and managers. This allows application code to bypass SQL authorization checks and perform sensitive or data-corrupting actions.&lt;/p&gt;

&lt;p&gt;For instance, right now an application can use this method to get its hands on the language connection context. From the lcc, the application can get its hands on the data dictionary and the execution transaction. Armed with those objects, the application can bypass authorization checks and create schema objects, users, and permissions.&lt;/p&gt;

&lt;p&gt;Only Derby code should be able to call this powerful method.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12725352">DERBY-6648</key>
            <summary>Application code should not be able to call ContextService.getContextOrNull()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rhillegas">Richard N. Hillegas</assignee>
                                    <reporter username="rhillegas">Richard N. Hillegas</reporter>
                        <labels>
                            <label>derby_backport_reject_10_11</label>
                    </labels>
                <created>Thu, 3 Jul 2014 18:55:37 +0000</created>
                <updated>Fri, 9 Sep 2016 09:53:03 +0000</updated>
                            <resolved>Thu, 2 Oct 2014 13:32:09 +0000</resolved>
                                    <version>10.11.1.1</version>
                                    <fixVersion>10.12.1.1</fixVersion>
                                    <component>Services</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14051829" author="rhillegas" created="Thu, 3 Jul 2014 19:08:39 +0000"  >&lt;p&gt;Linking to &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6616&quot; title=&quot;User procedures can call system procedures, circumventing SQL authorization.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6616&quot;&gt;&lt;del&gt;DERBY-6616&lt;/del&gt;&lt;/a&gt; since this issue was discovered while studying that bug.&lt;/p&gt;</comment>
                            <comment id="14056457" author="rhillegas" created="Wed, 9 Jul 2014 17:07:42 +0000"  >&lt;p&gt;Knut suggests the following solution:&lt;/p&gt;

&lt;p&gt;1) Whenever ContextService looks up a context, it should check that a Derby SystemPermission( &quot;lookupContext&quot; ) has been granted.&lt;/p&gt;

&lt;p&gt;2) We should tell users to grant that permission to the engine jar.&lt;/p&gt;

&lt;p&gt;We would want to verify that this does not degrade performance. We may need to make sure that contexts are cached and not looked up for every iteration of inner loops on the main execution path.&lt;/p&gt;</comment>
                            <comment id="14103851" author="rhillegas" created="Wed, 20 Aug 2014 13:08:03 +0000"  >&lt;p&gt;A refinement of the previous suggestion would be to protect all the static methods in ContextService with a generic SystemPermission( &quot;useContextService&quot; ) permission.&lt;/p&gt;</comment>
                            <comment id="14106818" author="knutanders" created="Fri, 22 Aug 2014 13:32:04 +0000"  >&lt;p&gt;Or perhaps an even more generic SystemPermission(&quot;useDerbyInternals&quot;). Then we could use the same protection in methods such as Monitor.getMonitor().&lt;/p&gt;</comment>
                            <comment id="14109653" author="rhillegas" created="Mon, 25 Aug 2014 20:15:00 +0000"  >&lt;p&gt;Attaching derby-6648-01-aa-oneActionList.diff. This is a first rev of a patch for this issue. No tests included.&lt;/p&gt;

&lt;p&gt;This patch adds a new action for engine SystemPermissions. In order to get your hands on Derby contexts, you need to grant the engine the following SystemPermission:&lt;/p&gt;

&lt;p&gt;  permission org.apache.derby.security.SystemPermission &quot;engine&quot;, &quot;usederbyinternals&quot;;&lt;/p&gt;

&lt;p&gt;I have stumbled across an annoying behavior of SystemPermission. It seems that you can only grant your protection domain one kind of engine permission. You have to put all of your engine actions into one permission. So, in order to use the JMX beans as well, you need to grant this composite permission:&lt;/p&gt;

&lt;p&gt;  permission org.apache.derby.security.SystemPermission &quot;engine&quot;, &quot;monitor,usederbyinternals&quot;;&lt;/p&gt;

&lt;p&gt;You can&apos;t split that up into two engine permissions. The second engine permission overwrites the first one. This fails:&lt;/p&gt;

&lt;p&gt;  permission org.apache.derby.security.SystemPermission &quot;engine&quot;, &quot;usederbyinternals&quot;;&lt;br/&gt;
  permission org.apache.derby.security.SystemPermission &quot;engine&quot;, &quot;monitor&quot;;&lt;/p&gt;



&lt;p&gt;Touches the following files:&lt;/p&gt;

&lt;p&gt;M       java/engine/org/apache/derby/iapi/services/context/ContextService.java&lt;br/&gt;
M       java/engine/org/apache/derby/iapi/security/SecurityUtil.java&lt;br/&gt;
M       java/engine/org/apache/derby/jdbc/EmbeddedDriver.java&lt;br/&gt;
M       java/engine/org/apache/derby/security/SystemPermission.java&lt;/p&gt;</comment>
                            <comment id="14110590" author="knutanders" created="Tue, 26 Aug 2014 10:42:31 +0000"  >&lt;p&gt;Won&apos;t the doPrivileged() call in checkDerbyInternalsPrivilege() prevent the check from having any effect? As long as derby.jar has been granted the &quot;usederbyinternals&quot; privilege, I&apos;m still able to run ContextService.getContextOrNull() from unprivileged application code, it seems.&lt;/p&gt;</comment>
                            <comment id="14110631" author="rhillegas" created="Tue, 26 Aug 2014 11:59:12 +0000"  >&lt;p&gt;Hi Knut, yes, that&apos;s right. That occurred to me too just before I went to bed last night. Some refinement is needed which requires that the privilege only has to be granted to derby.jar.&lt;/p&gt;</comment>
                            <comment id="14110773" author="knutanders" created="Tue, 26 Aug 2014 14:50:53 +0000"  >&lt;p&gt;I was wondering if one possibility is to have a doPrivileged() call on all public entry-points. Essentially all methods that currently have a setupContextStack()/restoreContextStack() pair. That&apos;d make sure that the protected internal calls could only be called if the Derby code base was entered via our public API. If we have the doPrivileged() calls further down, it may be more difficult to convince oneself that no caller can reach that point after entering the Derby code base via some internal API.&lt;/p&gt;

&lt;p&gt;If we did that, I guess we would want to limit the top-level doPrivileged() calls to only enable this particular SystemPermission. Unfortunately, it looks like the doPrivileged() overloads that allow you to limit the scope to certain privileges, are only available in Java 8 and higher. (Look for the doPrivileged() methods in AccessController that take a &lt;tt&gt;Permission... perms&lt;/tt&gt; vararg.)&lt;/p&gt;</comment>
                            <comment id="14111217" author="rhillegas" created="Tue, 26 Aug 2014 19:55:06 +0000"  >&lt;p&gt;Moving the doPrivileged() blocks further up the stack may be the way forward. Everyone who calls a static ContextService method would have to do so inside a doPrivileged() block. We would treat ContextService calls the way we treat calls to java.io.File methods. It&apos;s a sizable rototill, but not impossible.&lt;/p&gt;</comment>
                            <comment id="14112169" author="knutanders" created="Wed, 27 Aug 2014 11:51:47 +0000"  >&lt;p&gt;I filed &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6717&quot; title=&quot;Policies with multiple SystemPermissions are not handled well&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6717&quot;&gt;&lt;del&gt;DERBY-6717&lt;/del&gt;&lt;/a&gt; to track the problem with adding multiple SystemPermissions to a policy file.&lt;/p&gt;</comment>
                            <comment id="14136461" author="rhillegas" created="Tue, 16 Sep 2014 23:10:23 +0000"  >&lt;p&gt;We should fix &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6741&quot; title=&quot;User code can get the ContextManager from an EmbedConnection&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6741&quot;&gt;&lt;del&gt;DERBY-6741&lt;/del&gt;&lt;/a&gt; too since the security implications are similar.&lt;/p&gt;</comment>
                            <comment id="14137250" author="rhillegas" created="Wed, 17 Sep 2014 13:54:58 +0000"  >&lt;p&gt;Attaching derby-6648-01-ab-rototill1.diff. This is an evolution of the previous patch. I am running tests now.&lt;/p&gt;

&lt;p&gt;This patch does the following:&lt;/p&gt;

&lt;p&gt;1) Makes the public static entry points of ContextService require the usederbyinternals permission.&lt;/p&gt;

&lt;p&gt;2) Rototills private (or package protected) doPrivileged blocks around all of the callers of those static entry points.&lt;/p&gt;

&lt;p&gt;3) Adjusts policy files accordingly.&lt;/p&gt;

&lt;p&gt;I have verified that, with this patch, user code can&apos;t invoke the static public entry points of ContextService when running with a SecurityManager installed.&lt;/p&gt;

&lt;p&gt;This patch is not ready for commit. Regression tests are needed for this feature. In addition, it&apos;s likely that more adjustments need to be made to test policy files.&lt;/p&gt;


&lt;p&gt;Touches the following files:&lt;/p&gt;

&lt;p&gt;-----------------------&lt;/p&gt;

&lt;p&gt;M       java/engine/org/apache/derby/iapi/security/SecurityUtil.java&lt;br/&gt;
M       java/engine/org/apache/derby/iapi/services/context/ContextService.java&lt;/p&gt;

&lt;p&gt;Changes for 1.&lt;/p&gt;

&lt;p&gt;-----------------------&lt;/p&gt;


&lt;p&gt;M       java/engine/org/apache/derby/iapi/sql/conn/ConnectionUtil.java&lt;br/&gt;
M       java/engine/org/apache/derby/iapi/sql/dictionary/SPSDescriptor.java&lt;br/&gt;
M       java/engine/org/apache/derby/iapi/sql/dictionary/IndexRowGenerator.java&lt;br/&gt;
M       java/engine/org/apache/derby/iapi/sql/dictionary/TableDescriptor.java&lt;br/&gt;
M       java/engine/org/apache/derby/iapi/sql/dictionary/TriggerDescriptor.java&lt;br/&gt;
M       java/engine/org/apache/derby/iapi/services/io/FormatIdInputStream.java&lt;br/&gt;
M       java/engine/org/apache/derby/iapi/types/SQLTime.java&lt;br/&gt;
M       java/engine/org/apache/derby/iapi/types/SQLTimestamp.java&lt;br/&gt;
M       java/engine/org/apache/derby/iapi/types/ClobStreamHeaderGenerator.java&lt;br/&gt;
M       java/engine/org/apache/derby/iapi/types/SQLChar.java&lt;br/&gt;
M       java/engine/org/apache/derby/iapi/types/SQLDate.java&lt;br/&gt;
M       java/engine/org/apache/derby/iapi/types/SQLBinary.java&lt;br/&gt;
M       java/engine/org/apache/derby/iapi/types/DataValueFactoryImpl.java&lt;br/&gt;
M       java/engine/org/apache/derby/iapi/types/NumberDataType.java&lt;br/&gt;
M       java/engine/org/apache/derby/iapi/store/access/DiskHashtable.java&lt;br/&gt;
M       java/engine/org/apache/derby/iapi/util/InterruptStatus.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/sql/compile/MaxMinAggregateDefinition.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/sql/compile/QueryTreeNode.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/sql/compile/SumAvgAggregateDefinition.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/sql/compile/OptimizerTracer.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/sql/compile/UserAggregateDefinition.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/sql/GenericStorablePreparedStatement.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/sql/execute/JarUtil.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/sql/execute/GenericConstantActionFactory.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/sql/GenericPreparedStatement.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/sql/LanguageDbPropertySetter.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/sql/catalog/DataDictionaryImpl.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/sql/catalog/SequenceUpdater.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/jdbc/authentication/AuthenticationServiceBase.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/services/daemon/SingleThreadDaemonFactory.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/services/daemon/IndexStatisticsDaemonImpl.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/services/reflect/UpdateLoader.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/services/monitor/BaseMonitor.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/services/locks/Deadlock.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/services/locks/Timeout.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/db/SlaveDatabase.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/db/BasicDatabase.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/db/DatabaseContextImpl.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/store/access/RAMAccessManager.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/store/raw/xact/XactFactory.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/store/raw/log/LogToFile.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/store/raw/RawStore.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/store/raw/data/StreamFileContainer.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/store/raw/data/FileContainer.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/store/raw/data/RFResource.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/store/raw/data/D_DiagnosticUtil.java&lt;br/&gt;
M       java/engine/org/apache/derby/jdbc/EmbeddedDriver.java&lt;br/&gt;
M       java/engine/org/apache/derby/jdbc/EmbedXAResource.java&lt;br/&gt;
M       java/engine/org/apache/derby/jdbc/InternalDriver.java&lt;br/&gt;
M       java/engine/org/apache/derby/diag/DiagUtil.java&lt;br/&gt;
M       java/engine/org/apache/derby/diag/StatementCache.java&lt;br/&gt;
M       java/engine/org/apache/derby/security/SystemPermission.java&lt;br/&gt;
M       java/engine/org/apache/derby/catalog/Java5SystemProcedures.java&lt;/p&gt;

&lt;p&gt;Changes for 2.&lt;/p&gt;

&lt;p&gt;-----------------------&lt;/p&gt;


&lt;p&gt;M       java/drda/org/apache/derby/drda/server.policy&lt;br/&gt;
M       java/drda/org/apache/derby/drda/template.policy&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/unitTests/harness/T_Bomb.java&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/unitTests/harness/BasicUnitTestManager.java&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/unitTests/junit/MissingPermissionsTest1.policy&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/unitTests/junit/MissingPermissionsTest2.policy&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/unitTests/junit/SystemPrivilegesPermissionTest.policy&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/unitTests/junit/MissingPermissionsTest.policy&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/unitTests/junit/SystemPrivilegesPermissionTest1.policy&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/unitTests/store/T_b2i.java&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/unitTests/store/T_Heap.java&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/unitTests/store/T_FileSystemData.java&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/unitTests/store/T_RecoverBadLog.java&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/unitTests/store/T_AccessFactory.java&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/unitTests/store/T_RecoverFullLog.java&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/unitTests/store/T_StreamFile.java&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/unitTests/store/T_SortController.java&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/unitTests/store/T_Recovery.java&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/unitTests/store/T_RawStoreFactory.java&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/unitTests/store/T_XA.java&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/functionTests/tests/lang/SecurityPolicyReloadingTest.modified.policy&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/functionTests/tests/lang/SecurityPolicyReloadingTest.unreloadable.policy&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/functionTests/tests/lang/resultSetReader.policy&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/functionTests/tests/lang/luceneSupport.policy&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/functionTests/tests/lang/SecurityPolicyReloadingTest.initial.policy&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/functionTests/tests/jdbc4/noAbortPermission.policy&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/functionTests/tests/jdbcapi/LDAPTests.policy&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/functionTests/tests/store/Derby3980DeadlockTest.policy&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/functionTests/tests/engine/noDeregisterPermission.policy&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/functionTests/tests/derbynet/NetworkServerControlApiTest.policy&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/functionTests/tests/derbynet/ServerPropertiesTest.policy&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/functionTests/tests/derbynet/SysinfoTest.policy&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/functionTests/tests/derbynet/RuntimeInfoTest.policy&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/functionTests/tests/derbynet/GetCurrentPropertiesTest.policy&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/functionTests/tests/derbynet/SecureServerTest.policy&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/functionTests/util/derby_tests.policy&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/functionTests/util/T_ConsistencyChecker.java&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/functionTests/util/PropertyUtil.java&lt;/p&gt;

&lt;p&gt;Changes for 3.&lt;/p&gt;</comment>
                            <comment id="14137739" author="rhillegas" created="Wed, 17 Sep 2014 18:53:26 +0000"  >&lt;p&gt;Attaching derby-6648-01-ad-rototill1.diff. This version makes more adjustments to the test policy files. I will re-run the tests.&lt;/p&gt;</comment>
                            <comment id="14137785" author="rhillegas" created="Wed, 17 Sep 2014 19:25:23 +0000"  >&lt;p&gt;Attaching derby-6648-01-ae-regressionTests.diff. This rev adds regression tests for this feature. I am running tests now.&lt;/p&gt;

&lt;p&gt;Touches the following additional files:&lt;/p&gt;

&lt;p&gt;A       java/testing/org/apache/derbyTesting/functionTests/tests/lang/no_derby_internals.policy&lt;br/&gt;
A       java/testing/org/apache/derbyTesting/functionTests/tests/lang/NoDBInternalsPermissionTest.java&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/functionTests/tests/lang/_Suite.java&lt;/p&gt;</comment>
                            <comment id="14138016" author="rhillegas" created="Wed, 17 Sep 2014 21:30:58 +0000"  >&lt;p&gt;Tests passed cleanly for me on derby-6648-01-ae-regressionTests.diff.&lt;/p&gt;</comment>
                            <comment id="14138858" author="jira-bot" created="Thu, 18 Sep 2014 12:29:26 +0000"  >&lt;p&gt;Commit 1625960 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rhillegas&quot; class=&quot;user-hover&quot; rel=&quot;rhillegas&quot;&gt;rhillegas&lt;/a&gt; in branch &apos;code/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1625960&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1625960&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6648&quot; title=&quot;Application code should not be able to call ContextService.getContextOrNull()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6648&quot;&gt;&lt;del&gt;DERBY-6648&lt;/del&gt;&lt;/a&gt;: Prevent user code from calling the public static entry points in ContextService; commit derby-6648-01-ae-regressionTests.diff.&lt;/p&gt;</comment>
                            <comment id="14138859" author="rhillegas" created="Thu, 18 Sep 2014 12:32:01 +0000"  >&lt;p&gt;This issue needs a release note telling users to put the new permission in their policy files. In addition, we need to file a doc issue so that the policy files in our user docs show this new permission.&lt;/p&gt;</comment>
                            <comment id="14139266" author="rhillegas" created="Thu, 18 Sep 2014 18:05:55 +0000"  >&lt;p&gt;Attaching the first rev of the release note.&lt;/p&gt;

&lt;p&gt;I am inclined to not back port this fix to 10.11 or earlier releases because of the backward incompatibility described in the release note (policy files must grant derby.jar an additional permission). However, other people may feel that this vulnerability is serious enough to warrant backporting the fix to earlier releases. I welcome other opinions.&lt;/p&gt;</comment>
                            <comment id="14141831" author="knutanders" created="Sat, 20 Sep 2014 07:29:48 +0000"  >&lt;p&gt;Hi Rick,&lt;/p&gt;

&lt;p&gt;The checkin broke the package-private tests (which don&apos;t run as part as suites.All, but they are included in the junit-all ant target). See for example here: &lt;a href=&quot;https://builds.apache.org/job/Derby-JaCoCo/149/testReport/org.apache.derby.impl.jdbc/SmallTemporaryClobTest/testGetCharLength/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Derby-JaCoCo/149/testReport/org.apache.derby.impl.jdbc/SmallTemporaryClobTest/testGetCharLength/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I can reproduce this in my environment by running &quot;ant junit-pptesting&quot;.&lt;/p&gt;</comment>
                            <comment id="14143154" author="rhillegas" created="Mon, 22 Sep 2014 12:37:46 +0000"  >&lt;p&gt;Attaching derby-6648-02-aa-packagePrivateTests.diff. This patch grants the usederbyinternals permission to the classes directory so that tests can run against the classes directory and not just against the jars.&lt;/p&gt;

&lt;p&gt;This fixes the package private tests. The following suite runs cleanly now:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;ant junit-pptesting
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;Touches the following file:&lt;/p&gt;

&lt;p&gt;M       java/testing/org/apache/derbyTesting/functionTests/util/derby_tests.policy&lt;/p&gt;</comment>
                            <comment id="14143155" author="jira-bot" created="Mon, 22 Sep 2014 12:39:06 +0000"  >&lt;p&gt;Commit 1626757 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rhillegas&quot; class=&quot;user-hover&quot; rel=&quot;rhillegas&quot;&gt;rhillegas&lt;/a&gt; in branch &apos;code/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1626757&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1626757&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6648&quot; title=&quot;Application code should not be able to call ContextService.getContextOrNull()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6648&quot;&gt;&lt;del&gt;DERBY-6648&lt;/del&gt;&lt;/a&gt;: Grant usederbyinternals permission to the classes directory to fix tests which don&apos;t run against the Derby jar files; commit derby-6648-02-aa-packagePrivateTests.diff.&lt;/p&gt;</comment>
                            <comment id="14146269" author="rhillegas" created="Wed, 24 Sep 2014 12:42:18 +0000"  >&lt;p&gt;Attaching derby-6648-03-aa-monitor.diff. This patch adds a check for usederbyinternals permission to most of the public static methods in Monitor. This patch is not ready to commit. I need to add a test to verify that user code can&apos;t call the newly protected methods. I have hand-verified this for one of the methods. First, though, I want to run the full tests to see if I&apos;ve missed some spots which need doPrivileged blocks.&lt;/p&gt;

&lt;p&gt;This patch makes these changes:&lt;/p&gt;

&lt;p&gt;1) Calls SecurityUtil.checkDerbyInternalsPrivilege() at the start of sensitive public static methods.&lt;/p&gt;

&lt;p&gt;2) Wraps doPrivileged blocks around the callers of those methods, both in the product and in the tests.&lt;/p&gt;


&lt;p&gt;Touches the following files:&lt;/p&gt;

&lt;p&gt;--------------&lt;/p&gt;

&lt;p&gt;M       java/storeless/org/apache/derby/impl/storeless/StorelessDatabase.java&lt;br/&gt;
M       java/engine/org/apache/derby/iapi/sql/dictionary/SPSDescriptor.java&lt;br/&gt;
M       java/engine/org/apache/derby/iapi/sql/dictionary/ConglomerateDescriptor.java&lt;br/&gt;
M       java/engine/org/apache/derby/iapi/sql/dictionary/DataDescriptorGenerator.java&lt;br/&gt;
M       java/engine/org/apache/derby/iapi/jdbc/DRDAServerStarter.java&lt;br/&gt;
M       java/engine/org/apache/derby/iapi/jdbc/JDBCBoot.java&lt;br/&gt;
M       java/engine/org/apache/derby/iapi/services/context/SystemContext.java&lt;br/&gt;
M       java/engine/org/apache/derby/iapi/services/property/PropertyUtil.java&lt;br/&gt;
M       java/engine/org/apache/derby/iapi/services/monitor/Monitor.java&lt;br/&gt;
M       java/engine/org/apache/derby/iapi/types/DataValueFactoryImpl.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/sql/GenericLanguageFactory.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/sql/compile/ConstraintDefinitionNode.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/sql/conn/GenericStatementContext.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/sql/conn/GenericLanguageConnectionFactory.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/sql/execute/JarUtil.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/sql/execute/BaseActivation.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/sql/execute/GenericExecutionFactory.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/sql/GenericPreparedStatement.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/sql/catalog/DropDependencyFilter.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/sql/catalog/DataDictionaryImpl.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/sql/catalog/DD_Version.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/jdbc/authentication/NativeAuthenticationServiceImpl.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/jdbc/authentication/AuthenticationServiceBase.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/jdbc/EmbedDatabaseMetaData.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/jdbc/LOBStreamControl.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/jdbc/EmbedConnection.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/services/cache/ConcurrentCache.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/services/daemon/BasicDaemon.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/services/daemon/SingleThreadDaemonFactory.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/services/daemon/IndexStatisticsDaemonImpl.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/services/reflect/DatabaseClasses.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/services/reflect/UpdateLoader.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/services/uuid/BasicUUIDFactory.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/services/monitor/BaseMonitor.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/services/monitor/StorageFactoryService.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/services/stream/SingleStream.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/services/bytecode/BCJava.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/services/jmx/JMXManagementService.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/db/SlaveDatabase.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/db/BasicDatabase.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/db/DatabaseContextImpl.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/store/access/sort/ExternalSortFactory.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/store/access/btree/index/B2IFactory.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/store/access/PropertyConglomerate.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/store/access/RAMAccessManager.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/store/access/heap/HeapConglomerateFactory.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/store/raw/xact/XactFactory.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/store/raw/log/LogToFile.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/store/raw/RawStore.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/store/raw/data/BaseDataFileFactory.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/store/raw/data/StreamFileContainer.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/store/raw/data/FileContainer.java&lt;br/&gt;
M       java/engine/org/apache/derby/impl/store/raw/data/D_DiagnosticUtil.java&lt;br/&gt;
M       java/engine/org/apache/derby/jdbc/BasicEmbeddedDataSource40.java&lt;br/&gt;
M       java/engine/org/apache/derby/jdbc/ResourceAdapterImpl.java&lt;br/&gt;
M       java/engine/org/apache/derby/jdbc/XATransactionState.java&lt;br/&gt;
M       java/engine/org/apache/derby/jdbc/InternalDriver.java&lt;br/&gt;
M       java/engine/org/apache/derby/mbeans/Management.java&lt;br/&gt;
M       java/optional/org/apache/derby/optional/lucene/LuceneSupport.java&lt;br/&gt;
M       java/drda/org/apache/derby/impl/drda/NetworkServerControlImpl.java&lt;br/&gt;
M       java/drda/org/apache/derby/impl/drda/DRDAConnThread.java&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/unitTests/crypto/T_Cipher.java&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/unitTests/harness/UnitTestMain.java&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/unitTests/harness/BasicUnitTestManager.java&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/unitTests/services/T_LockFactory.java&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/unitTests/services/T_CacheService.java&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/unitTests/services/T_DaemonService.java&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/unitTests/services/T_UUIDFactory.java&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/unitTests/store/T_b2i.java&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/unitTests/store/T_Heap.java&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/unitTests/store/T_FileSystemData.java&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/unitTests/store/T_RecoverBadLog.java&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/unitTests/store/T_AccessFactory.java&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/unitTests/store/T_RecoverFullLog.java&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/unitTests/store/T_StreamFile.java&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/unitTests/store/T_SortController.java&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/unitTests/store/T_Recovery.java&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/unitTests/store/T_RawStoreFactory.java&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/unitTests/store/T_XA.java&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/unitTests/util/MsgTrace.java&lt;/p&gt;</comment>
                            <comment id="14149213" author="rhillegas" created="Fri, 26 Sep 2014 14:22:42 +0000"  >&lt;p&gt;Attaching derby-6648-03-ab-monitor.diff. This version of the patch adjusts the policy files, granting usederbyinternals to the server jar as well. I will run tests again.&lt;/p&gt;

&lt;p&gt;NetworkServerControlImpl needs the usederbyinternals permission because it uses the Monitor to get the JMX module and register MBeans.&lt;/p&gt;

&lt;p&gt;We will need to adjust the release note and the user documentation to flag the need for this new permission.&lt;/p&gt;

&lt;p&gt;Touches the following additional files:&lt;/p&gt;

&lt;p&gt;M       java/drda/org/apache/derby/drda/server.policy&lt;br/&gt;
M       java/drda/org/apache/derby/drda/template.policy&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/functionTests/tests/lang/SecurityPolicyReloadingTest.modified.policy&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/functionTests/tests/lang/SecurityPolicyReloadingTest.unreloadable.policy&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/functionTests/tests/lang/resultSetReader.policy&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/functionTests/tests/lang/luceneSupport.policy&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/functionTests/tests/lang/SecurityPolicyReloadingTest.initial.policy&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/functionTests/tests/jdbc4/noAbortPermission.policy&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/functionTests/tests/store/Derby3980DeadlockTest.policy&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/functionTests/tests/jdbcapi/LDAPTests.policy&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/functionTests/tests/engine/noDeregisterPermission.policy&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/functionTests/tests/derbynet/NetworkServerControlApiTest.policy&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/functionTests/tests/derbynet/ServerPropertiesTest.policy&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/functionTests/tests/derbynet/SysinfoTest.policy&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/functionTests/tests/derbynet/RuntimeInfoTest.policy&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/functionTests/tests/derbynet/GetCurrentPropertiesTest.policy&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/functionTests/tests/derbynet/SecureServerTest.policy&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/functionTests/util/derby_tests.policy&lt;/p&gt;</comment>
                            <comment id="14149634" author="rhillegas" created="Fri, 26 Sep 2014 17:00:21 +0000"  >&lt;p&gt;Attaching derby-6648-03-ac-monitor.diff. This version of the patch grants the usederbyinternals permission to the optional tools jar in order to make the Lucene tests run. I believe this version of the patch is ready for commit.&lt;/p&gt;

&lt;p&gt;The release note and user documentation will need to say that the permission must be granted to derby.jar, derbynet.jar, and derbyoptionaltools.jar.&lt;/p&gt;

&lt;p&gt;Touches the following additional file:&lt;/p&gt;

&lt;p&gt;M       java/testing/org/apache/derbyTesting/functionTests/tests/lang/luceneSupport.policy&lt;/p&gt;</comment>
                            <comment id="14149650" author="jira-bot" created="Fri, 26 Sep 2014 17:12:32 +0000"  >&lt;p&gt;Commit 1627831 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rhillegas&quot; class=&quot;user-hover&quot; rel=&quot;rhillegas&quot;&gt;rhillegas&lt;/a&gt; in branch &apos;code/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1627831&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1627831&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6648&quot; title=&quot;Application code should not be able to call ContextService.getContextOrNull()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6648&quot;&gt;&lt;del&gt;DERBY-6648&lt;/del&gt;&lt;/a&gt;: Prevent application code from calling the public static Monitor methods; commit derby-6648-03-ac-monitor.diff.&lt;/p&gt;</comment>
                            <comment id="14149673" author="rhillegas" created="Fri, 26 Sep 2014 17:28:00 +0000"  >&lt;p&gt;Attaching a new version of the release note which says that the new usederbyinternals permission must be granted to derbynet.jar and derbyoptionaltools.jar too.&lt;/p&gt;</comment>
                            <comment id="14156575" author="rhillegas" created="Thu, 2 Oct 2014 13:32:09 +0000"  >&lt;p&gt;I think that the work on this issue is done.&lt;/p&gt;</comment>
                            <comment id="15476608" author="knutanders" created="Fri, 9 Sep 2016 09:53:03 +0000"  >&lt;p&gt;[ Automatically closing all resolved issues that haven&apos;t been updated in more than six months. ]&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12721680">DERBY-6616</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12741986">DERBY-6741</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12722783">DERBY-6630</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12722814">DERBY-6631</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12722853">DERBY-6632</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12724162">DERBY-6641</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12737077">DERBY-6717</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12742439">DERBY-6744</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12744757">DERBY-6751</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12664201" name="derby-6648-01-aa-oneActionList.diff" size="7108" author="rhillegas" created="Mon, 25 Aug 2014 20:15:00 +0000"/>
                            <attachment id="12669402" name="derby-6648-01-ab-rototill1.diff" size="162516" author="rhillegas" created="Wed, 17 Sep 2014 13:54:58 +0000"/>
                            <attachment id="12669476" name="derby-6648-01-ad-rototill1.diff" size="163047" author="rhillegas" created="Wed, 17 Sep 2014 18:53:26 +0000"/>
                            <attachment id="12669486" name="derby-6648-01-ae-regressionTests.diff" size="193198" author="rhillegas" created="Wed, 17 Sep 2014 19:25:23 +0000"/>
                            <attachment id="12670411" name="derby-6648-02-aa-packagePrivateTests.diff" size="781" author="rhillegas" created="Mon, 22 Sep 2014 12:37:46 +0000"/>
                            <attachment id="12670960" name="derby-6648-03-aa-monitor.diff" size="235363" author="rhillegas" created="Wed, 24 Sep 2014 12:42:18 +0000"/>
                            <attachment id="12671461" name="derby-6648-03-ab-monitor.diff" size="250515" author="rhillegas" created="Fri, 26 Sep 2014 14:22:42 +0000"/>
                            <attachment id="12671479" name="derby-6648-03-ac-monitor.diff" size="250928" author="rhillegas" created="Fri, 26 Sep 2014 17:00:21 +0000"/>
                            <attachment id="12671491" name="releaseNote.html" size="2291" author="rhillegas" created="Fri, 26 Sep 2014 17:28:00 +0000"/>
                            <attachment id="12669764" name="releaseNote.html" size="2045" author="rhillegas" created="Thu, 18 Sep 2014 18:05:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>10.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310200" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Bug behavior facts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10361"><![CDATA[Security]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>403512</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12310090" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Issue &amp; fix info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10101"><![CDATA[Release Note Needed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 10 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1xg5j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>403557</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310050" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Urgency</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10052"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>