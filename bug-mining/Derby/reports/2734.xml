<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 14:39:52 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[DERBY-6138] org.apache.derbyTesting.functionTests.tests.store.ClassLoaderBootTest fails with  sealing violation: package org.apache.derby.iapi.services.sanity is sealed depending on classpath order</title>
                <link>https://issues.apache.org/jira/browse/DERBY-6138</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;Depending on classpath order, I believe if derbyclient.jar is before derby.jar in the classpath ClassLoaderBootTest fails with a sealing violation.,&lt;/p&gt;


&lt;p&gt;There were 2 errors:&lt;br/&gt;
1) testBootingAnAlreadyBootedDatabase(org.apache.derbyTesting.functionTests.tests.store.ClassLoaderBootTest)java.lang.ExceptionInInitializerError&lt;br/&gt;
	at java.lang.J9VMInternals.initialize(J9VMInternals.java:255)&lt;br/&gt;
	at org.apache.derby.jdbc.EmbeddedBaseDataSource.findDriver(EmbeddedBaseDataSource.java:366)&lt;br/&gt;
	at org.apache.derby.jdbc.EmbeddedBaseDataSource.getConnection(EmbeddedBaseDataSource.java:615)&lt;br/&gt;
	at org.apache.derby.jdbc.EmbeddedBaseDataSource.getConnection(EmbeddedBaseDataSource.java:552)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.store.ClassLoaderBootTest.testBootingAnAlreadyBootedDatabase(ClassLoaderBootTest.java:178)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:88)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:117)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseJDBCTestCase.runBareOverridable(BaseJDBCTestCase.java:424)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseJDBCTestCase.runBare(BaseJDBCTestCase.java:441)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestSetup.run(BaseTestSetup.java:57)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
Caused by: java.lang.SecurityException: sealing violation: package org.apache.derby.iapi.services.sanity is sealed&lt;br/&gt;
	at java.net.URLClassLoader.getAndVerifyPackage(URLClassLoader.java:623)&lt;br/&gt;
	at java.net.URLClassLoader.defineClass(URLClassLoader.java:655)&lt;br/&gt;
	at java.net.URLClassLoader.access$400(URLClassLoader.java:92)&lt;br/&gt;
	at java.net.URLClassLoader$ClassFinder.run(URLClassLoader.java:1159)&lt;br/&gt;
	at java.security.AccessController.doPrivileged(AccessController.java:288)&lt;br/&gt;
	at java.net.URLClassLoader.findClass(URLClassLoader.java:594)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.store.ClassLoaderBootTest$DerbyURLClassLoader.loadClass(ClassLoaderBootTest.java:293)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.store.ClassLoaderBootTest$DerbyURLClassLoader.loadClass(ClassLoaderBootTest.java:303)&lt;br/&gt;
	at org.apache.derby.iapi.services.monitor.Monitor.startSystemModule(Monitor.java:365)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.runWithState(BaseMonitor.java:342)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.FileMonitor.&amp;lt;init&amp;gt;(FileMonitor.java:58)&lt;br/&gt;
	at org.apache.derby.iapi.services.monitor.Monitor.startMonitor(Monitor.java:285)&lt;br/&gt;
	at org.apache.derby.iapi.jdbc.JDBCBoot.boot(JDBCBoot.java:67)&lt;br/&gt;
	at org.apache.derby.jdbc.EmbeddedDriver.boot(EmbeddedDriver.java:196)&lt;br/&gt;
	at org.apache.derby.jdbc.EmbeddedDriver.&amp;lt;clinit&amp;gt;(EmbeddedDriver.java:92)&lt;br/&gt;
	at java.lang.J9VMInternals.initializeImpl(Native Method)&lt;br/&gt;
	at java.lang.J9VMInternals.initialize(J9VMInternals.java:233)&lt;br/&gt;
	... 41 more&lt;br/&gt;
2) testBootingDatabaseShutdownByAnotherCLR(org.apache.derbyTesting.functionTests.tests.store.ClassLoaderBootTest)java.lang.ExceptionInInitializerError&lt;br/&gt;
	at java.lang.J9VMInternals.initialize(J9VMInternals.java:255)&lt;br/&gt;
	at org.apache.derby.jdbc.EmbeddedBaseDataSource.findDriver(EmbeddedBaseDataSource.java:366)&lt;br/&gt;
	at org.apache.derby.jdbc.EmbeddedBaseDataSource.getConnection(EmbeddedBaseDataSource.java:615)&lt;br/&gt;
	at org.apache.derby.jdbc.EmbeddedBaseDataSource.getConnection(EmbeddedBaseDataSource.java:552)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.store.ClassLoaderBootTest.testBootingDatabaseShutdownByAnotherCLR(ClassLoaderBootTest.java:208)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:88)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:117)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseJDBCTestCase.runBareOverridable(BaseJDBCTestCase.java:424)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseJDBCTestCase.runBare(BaseJDBCTestCase.java:441)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestSetup.run(BaseTestSetup.java:57)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
Caused by: java.lang.SecurityException: sealing violation: package org.apache.derby.iapi.services.sanity is sealed&lt;br/&gt;
	at java.net.URLClassLoader.getAndVerifyPackage(URLClassLoader.java:623)&lt;br/&gt;
	at java.net.URLClassLoader.defineClass(URLClassLoader.java:655)&lt;br/&gt;
	at java.net.URLClassLoader.access$400(URLClassLoader.java:92)&lt;br/&gt;
	at java.net.URLClassLoader$ClassFinder.run(URLClassLoader.java:1159)&lt;br/&gt;
	at java.security.AccessController.doPrivileged(AccessController.java:288)&lt;br/&gt;
	at java.net.URLClassLoader.findClass(URLClassLoader.java:594)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.store.ClassLoaderBootTest$DerbyURLClassLoader.loadClass(ClassLoaderBootTest.java:293)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.store.ClassLoaderBootTest$DerbyURLClassLoader.loadClass(ClassLoaderBootTest.java:303)&lt;br/&gt;
	at org.apache.derby.iapi.services.monitor.Monitor.startSystemModule(Monitor.java:365)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.BaseMonitor.runWithState(BaseMonitor.java:342)&lt;br/&gt;
	at org.apache.derby.impl.services.monitor.FileMonitor.&amp;lt;init&amp;gt;(FileMonitor.java:58)&lt;br/&gt;
	at org.apache.derby.iapi.services.monitor.Monitor.startMonitor(Monitor.java:285)&lt;br/&gt;
	at org.apache.derby.iapi.jdbc.JDBCBoot.boot(JDBCBoot.java:67)&lt;br/&gt;
	at org.apache.derby.jdbc.EmbeddedDriver.boot(EmbeddedDriver.java:196)&lt;br/&gt;
	at org.apache.derby.jdbc.EmbeddedDriver.&amp;lt;clinit&amp;gt;(EmbeddedDriver.java:92)&lt;br/&gt;
	at java.lang.J9VMInternals.initializeImpl(Native Method)&lt;br/&gt;
	at java.lang.J9VMInternals.initialize(J9VMInternals.java:233)&lt;br/&gt;
	... 41 more&lt;/p&gt;

&lt;p&gt;My classpath when this occurred was:&lt;br/&gt;
.;C:/cygwin/svn/trunk/jars/sane/derbyclient.jar;C:/cygwin/svn/trunk/jars/sane/derby.jar;C:/cygwin/svn/trunk/jars/sane/de&lt;br/&gt;
rbyrun.jar;C:/cygwin/svn/trunk/jars/sane/derby.jar;C:/cygwin/svn/trunk/jars/sane/derbyTesting.jar;C:/cygwin/svn/trunk/to&lt;br/&gt;
ols/java/junit.jar;C:/cygwin/svn/trunk/tools/java/jakarta-oro-2.0.8.jar&lt;/p&gt;

&lt;p&gt;Taking out all but derbyrun.jar and derbyTesting.jar resolved the issue.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12640349">DERBY-6138</key>
            <summary>org.apache.derbyTesting.functionTests.tests.store.ClassLoaderBootTest fails with  sealing violation: package org.apache.derby.iapi.services.sanity is sealed depending on classpath order</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kmarsden">Katherine Marsden</assignee>
                                    <reporter username="kmarsden">Katherine Marsden</reporter>
                        <labels>
                            <label>derby_backport_reject_10_10</label>
                    </labels>
                <created>Tue, 2 Apr 2013 18:14:31 +0000</created>
                <updated>Wed, 3 Sep 2014 08:31:21 +0000</updated>
                            <resolved>Tue, 2 Apr 2013 21:30:05 +0000</resolved>
                                    <version>10.11.1.1</version>
                                    <fixVersion>10.11.1.1</fixVersion>
                                    <component>Build tools</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="13620111" author="myrna" created="Tue, 2 Apr 2013 18:31:12 +0000"  >&lt;p&gt;Is this a regression of &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-4669&quot; title=&quot;ClassLoaderBootTest fails if derbyclient.jar comes before derby.jar on the classpath&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-4669&quot;&gt;&lt;del&gt;DERBY-4669&lt;/del&gt;&lt;/a&gt;? (&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-4669&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/DERBY-4669&lt;/a&gt;)&lt;/p&gt;</comment>
                            <comment id="13620279" author="kmarsden" created="Tue, 2 Apr 2013 21:14:17 +0000"  >&lt;p&gt;Yes. It looks like an incorrect import in LogWriter. It would be nice for the build to catch these.  I will check in the corrected import.&lt;/p&gt;</comment>
                            <comment id="13620288" author="kmarsden" created="Tue, 2 Apr 2013 21:20:50 +0000"  >&lt;p&gt;Sending        java\client\org\apache\derby\client\am\LogWriter.java&lt;br/&gt;
Transmitting file data .&lt;br/&gt;
Committed revision 1463757.&lt;/p&gt;</comment>
                            <comment id="13697444" author="kmarsden" created="Tue, 2 Jul 2013 02:58:39 +0000"  >&lt;p&gt;This was a regression from &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6125&quot; title=&quot;Code clean up in client driver.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6125&quot;&gt;&lt;del&gt;DERBY-6125&lt;/del&gt;&lt;/a&gt; which was only fixed in 10.11 so no need to backport this fix.&lt;/p&gt;</comment>
                            <comment id="14119539" author="knutanders" created="Wed, 3 Sep 2014 08:31:21 +0000"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;bulk update&amp;#93;&lt;/span&gt; Close all resolved issues that haven&apos;t been updated for more than one year.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12638453">DERBY-6125</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12576655" name="derby-6138_diff.txt" size="843" author="kmarsden" created="Tue, 2 Apr 2013 21:14:17 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310200" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Bug behavior facts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10420"><![CDATA[Regression]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>320812</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12310090" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Issue &amp; fix info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10427"><![CDATA[Workaround attached]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 12 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1jcpr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>321153</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>