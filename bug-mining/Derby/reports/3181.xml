<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 14:51:47 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[DERBY-7041] null pointer exception when creating view based on other views</title>
                <link>https://issues.apache.org/jira/browse/DERBY-7041</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;I can execute a SELECT query that works but when I try to create a view on that select query, I simply get a java null pointer exception with no details.&#160; I have tested the same statements on a postgres database and they worked without error.&lt;/p&gt;

&lt;p&gt;Below, the&#160;PW_DIFF_WITHIN_REP_VIEW create does work, but the&#160;PW_DIFF_AR_REP_VIEW does not.&#160; Again, the SELECT clause of&#160;PW_DIFF_AR_REP_VIEW will work, but when used within the create clause the error occurs.&lt;/p&gt;

&lt;p&gt;I have attached the entire database creation script and an embedded instance that can be used for testing. It has data.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&amp;#8211; WITHIN_REP_VIEW combines the WITHIN_REP_COUNTER_VIEW and WITHIN_REP_RESPONSE_VIEW into one table from which across&lt;br/&gt;
&amp;#8211; replication or other statistical summaries by replication can be produced&lt;br/&gt;
CREATE VIEW JSL_DB.WITHIN_REP_VIEW (SIM_RUN_ID_FK, EXP_NAME, ELEMENT_NAME, STAT_NAME, REP_NUM, VALUE) AS&lt;br/&gt;
 (SELECT JSL_DB.WITHIN_REP_STAT.SIM_RUN_ID_FK, EXP_NAME, ELEMENT_NAME, STAT_NAME, REP_NUM, AVERAGE AS VALUE&lt;br/&gt;
FROM (JSL_DB.SIMULATION_RUN JOIN JSL_DB.WITHIN_REP_STAT on JSL_DB.SIMULATION_RUN.ID = JSL_DB.WITHIN_REP_STAT.SIM_RUN_ID_FK)&lt;br/&gt;
 JOIN JSL_DB.MODEL_ELEMENT ON ELEMENT_ID = JSL_DB.WITHIN_REP_STAT.ELEMENT_ID_FK&lt;br/&gt;
UNION&lt;br/&gt;
SELECT JSL_DB.WITHIN_REP_COUNTER_STAT.SIM_RUN_ID_FK, EXP_NAME, ELEMENT_NAME, STAT_NAME, REP_NUM, LAST_VALUE as VALUE&lt;br/&gt;
FROM (JSL_DB.SIMULATION_RUN JOIN JSL_DB.WITHIN_REP_COUNTER_STAT on JSL_DB.SIMULATION_RUN.ID = JSL_DB.WITHIN_REP_COUNTER_STAT.SIM_RUN_ID_FK)&lt;br/&gt;
 JOIN JSL_DB.MODEL_ELEMENT ON ELEMENT_ID = JSL_DB.WITHIN_REP_COUNTER_STAT.ELEMENT_ID_FK); &lt;/p&gt;

&lt;p&gt;&amp;#8211; PW_DIFF_WITHIN_REP_VIEW computes the pairwise differences across difference simulation experiments&lt;br/&gt;
&amp;#8211; doesn&apos;t work for derby, 3-28-2019, works for postgres&lt;br/&gt;
&amp;#8211; &lt;br/&gt;
&amp;#8211; create view JSL_DB.PW_DIFF_WITHIN_REP_VIEW&lt;br/&gt;
&amp;#8211; as (select SIMULATION_RUN.SIM_NAME, A.SIM_RUN_ID_FK AS A_SIM_NUM, A.STAT_NAME, A.EXP_NAME as A_EXP_NAME, A.REP_NUM, A.VALUE as A_VALUE,&lt;br/&gt;
&amp;#8211; B.SIM_RUN_ID_FK as B_SIM_NUM, B.EXP_NAME as B_EXP_NAME, B.VALUE as B_VALUE,&lt;br/&gt;
&amp;#8211; &apos;(&apos; || A.EXP_NAME || &apos; - &apos; || B.EXP_NAME || &apos;)&apos; as DIFF_NAME, (A.VALUE - B.VALUE) as A_MINUS_B&lt;br/&gt;
&amp;#8211; from JSL_DB.WITHIN_REP_VIEW as A, JSL_DB.WITHIN_REP_VIEW as B, JSL_DB.SIMULATION_RUN&lt;br/&gt;
&amp;#8211; where A.SIM_RUN_ID_FK = JSL_DB.SIMULATION_RUN.ID&lt;br/&gt;
&amp;#8211; and A.STAT_NAME = B.STAT_NAME&lt;br/&gt;
&amp;#8211; and A.REP_NUM = B.REP_NUM&lt;br/&gt;
&amp;#8211; and A.SIM_RUN_ID_FK &amp;gt; B.SIM_RUN_ID_FK&lt;br/&gt;
&amp;#8211; and A.ELEMENT_NAME = B.ELEMENT_NAME);&lt;br/&gt;
&amp;#8211;&lt;br/&gt;
-- create view JSL_DB.PW_DIFF_AR_REP_VIEW (SIM_NAME, STAT_NAME, A_EXP_NAME, B_EXP_NAME, DIFF_NAME, AVG_A, STD_DEV_A,&lt;br/&gt;
&amp;#8211; AVG_B, STD_DEV_B, AVG_DIFF_A_MINUS_B, STD_DEV_DIFF_A_MINUS_B, STAT_COUNT)&lt;br/&gt;
&amp;#8211; as (select SIM_NAME, STAT_NAME, A_EXP_NAME, B_EXP_NAME, DIFF_NAME, AVG(A_VALUE) as AVG_A, STDDEV_SAMP(A_VALUE) as STD_DEV_A,&lt;br/&gt;
&amp;#8211; AVG(B_VALUE) as AVG_B, STDDEV_SAMP(B_VALUE) as STD_DEV_B,&lt;br/&gt;
&amp;#8211; AVG(A_MINUS_B) as AVG_DIFF_A_MINUS_B, STDDEV_SAMP(A_MINUS_B) as STD_DEV_DIFF_A_MINUS_B,&lt;br/&gt;
&amp;#8211; COUNT(A_MINUS_B) as STAT_COUNT&lt;br/&gt;
&amp;#8211; from JSL_DB.PW_DIFF_WITHIN_REP_VIEW&lt;br/&gt;
&amp;#8211; group by SIM_NAME, STAT_NAME, A_EXP_NAME, B_EXP_NAME, DIFF_NAME);&lt;/p&gt;</description>
                <environment>max os x , intellij</environment>
        <key id="13224716">DERBY-7041</key>
            <summary>null pointer exception when creating view based on other views</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rhillegas">Richard N. Hillegas</assignee>
                                    <reporter username="mdrforspam">Manuel Rossetti</reporter>
                        <labels>
                    </labels>
                <created>Thu, 28 Mar 2019 22:49:21 +0000</created>
                <updated>Sun, 12 Jan 2020 17:51:51 +0000</updated>
                            <resolved>Sat, 6 Apr 2019 15:37:49 +0000</resolved>
                                    <version>10.14.2.0</version>
                                    <fixVersion>10.15.2.0</fixVersion>
                    <fixVersion>10.16.1.1</fixVersion>
                                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="16804427" author="rhillegas" created="Thu, 28 Mar 2019 23:20:25 +0000"  >&lt;p&gt;I&apos;m afraid that the attached script raises other compile-time errors for me and it does not fail on an NPE. Here is the output from running the script as provided with the problem CREATE statement uncommented:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;ij&amp;gt; connect &apos;jdbc:derby:db;create=true&apos;;
WARNING 01J01: Database &apos;db&apos; not created, connection made to existing database instead.
ij&amp;gt; CREATE SCHEMA JSL_DB;
0 rows inserted/updated/deleted
ij&amp;gt; -- SIMULATION_RUN captures the execution of a simulation experiment and its related options
CREATE TABLE JSL_DB.SIMULATION_RUN (
	ID INTEGER NOT NULL PRIMARY KEY GENERATED ALWAYS AS IDENTITY (START WITH 1 INCREMENT BY 1),
	SIM_NAME VARCHAR(510) NOT NULL,
	MODEL_NAME VARCHAR(510) NOT NULL,
	EXP_NAME VARCHAR(510) NOT NULL,
	EXP_START_TIME_STAMP TIMESTAMP,
	EXP_END_TIME_STAMP TIMESTAMP,
	NUM_REPS INTEGER NOT NULL CHECK (NUM_REPS &amp;gt;=1),
	LAST_REP INTEGER, 
	LENGTH_OF_REP DOUBLE PRECISION, 
	LENGTH_OF_WARM_UP DOUBLE PRECISION,
	HAS_MORE_REPS BOOLEAN,
	REP_ALLOWED_EXEC_TIME BIGINT,
	REP_INIT_OPTION BOOLEAN,
	RESET_START_STREAM_OPTION BOOLEAN,
	ANTITHETIC_OPTION BOOLEAN,
	ADV_NEXT_SUB_STREAM_OPTION BOOLEAN,
	NUM_STREAM_ADVANCES INTEGER
);
0 rows inserted/updated/deleted
ij&amp;gt; ALTER TABLE JSL_DB.SIMULATION_RUN
  ADD CONSTRAINT SR_NAME_EXP_UNIQUE UNIQUE (SIM_NAME, EXP_NAME);
0 rows inserted/updated/deleted
ij&amp;gt; -- MODEL_ELEMENT represents the model element hierarchy associated with various 
-- simulation runs, i.e. the model elements in the model and their parent/child
-- relationship.  LEFT_COUNT and RIGHT_COUNT uses Joe Celko&apos;s SQL for Smarties
-- Advanced SQL Programming Chapter 36 to implement the nested set model for
-- the hierarchy. This allows statistics associated with hierarchical aggregations
-- and subtrees of the model element hierarchy to be more easily queried.
CREATE TABLE JSL_DB.MODEL_ELEMENT (
	SIM_RUN_ID_FK INTEGER NOT NULL,
	ELEMENT_ID INTEGER NOT NULL,
	ELEMENT_NAME VARCHAR(510) NOT NULL,
	CLASS_NAME VARCHAR(510) NOT NULL,
	PARENT_ID_FK INTEGER,
	PARENT_NAME VARCHAR(510),
	LEFT_COUNT INTEGER NOT NULL CHECK (LEFT_COUNT &amp;gt; 0),
	RIGHT_COUNT INTEGER NOT NULL CHECK (RIGHT_COUNT &amp;gt; 1),
	CONSTRAINT TRAVERSAL_ORDER_OKAY CHECK (LEFT_COUNT &amp;lt; RIGHT_COUNT)
);
0 rows inserted/updated/deleted
ij&amp;gt; ALTER TABLE JSL_DB.MODEL_ELEMENT
  ADD CONSTRAINT ME_PRIM_KY PRIMARY KEY (SIM_RUN_ID_FK, ELEMENT_ID);
0 rows inserted/updated/deleted
ij&amp;gt; ALTER TABLE JSL_DB.MODEL_ELEMENT
  ADD CONSTRAINT ME_NAME_UNIQUE UNIQUE (SIM_RUN_ID_FK, ELEMENT_NAME);
0 rows inserted/updated/deleted
ij&amp;gt; ALTER TABLE JSL_DB.MODEL_ELEMENT
	ADD CONSTRAINT ME_SIMRUN_FK FOREIGN KEY (SIM_RUN_ID_FK) REFERENCES JSL_DB.SIMULATION_RUN (ID) ON DELETE CASCADE;
0 rows inserted/updated/deleted
ij&amp;gt; CREATE INDEX ME_SIMRUN_FK_INDEX ON JSL_DB.MODEL_ELEMENT(SIM_RUN_ID_FK);
0 rows inserted/updated/deleted
WARNING 01504: &apos;ME_SIMRUN_FK_INDEX&apos; index not created because it is a duplicate of an existing index: &apos;SQL0000000007-a666c073-0169-c691-93ab-000007295718&apos;.
ij&amp;gt; -- WITHIN_REP_STAT represents within replication statistics for each replication of
-- each simulation for each response
CREATE TABLE JSL_DB.WITHIN_REP_STAT (
	ID INTEGER NOT NULL PRIMARY KEY GENERATED ALWAYS AS IDENTITY (START WITH 1 INCREMENT BY 1),
	ELEMENT_ID_FK INTEGER NOT NULL,
	SIM_RUN_ID_FK INTEGER NOT NULL,
	REP_NUM INTEGER NOT NULL CHECK (REP_NUM &amp;gt;=1),
	STAT_NAME VARCHAR(510),
	STAT_COUNT DOUBLE PRECISION CHECK (STAT_COUNT &amp;gt;=0),
	AVERAGE  DOUBLE PRECISION,
	MINIMUM  DOUBLE PRECISION,
	MAXIMUM  DOUBLE PRECISION,
	WEIGHTED_SUM  DOUBLE PRECISION,
	SUM_OF_WEIGHTS  DOUBLE PRECISION,
	WEIGHTED_SSQ DOUBLE PRECISION,
	LAST_VALUE DOUBLE PRECISION,
	LAST_WEIGHT DOUBLE PRECISION	
);
0 rows inserted/updated/deleted
ij&amp;gt; ALTER TABLE JSL_DB.WITHIN_REP_STAT 
	ADD CONSTRAINT WRS_SIMRUN_FK FOREIGN KEY (SIM_RUN_ID_FK) REFERENCES JSL_DB.SIMULATION_RUN (ID) ON DELETE CASCADE;
0 rows inserted/updated/deleted
ij&amp;gt; ALTER TABLE JSL_DB.WITHIN_REP_STAT
  ADD CONSTRAINT WRS_UNIQUE_ELEMENT_SIMRUN_REPNUM UNIQUE (ELEMENT_ID_FK, SIM_RUN_ID_FK, REP_NUM);
0 rows inserted/updated/deleted
ij&amp;gt; ALTER TABLE JSL_DB.WITHIN_REP_STAT
  ADD CONSTRAINT WRS_MODEL_ELEMENT_FK FOREIGN KEY (SIM_RUN_ID_FK, ELEMENT_ID_FK)
  REFERENCES JSL_DB.MODEL_ELEMENT (SIM_RUN_ID_FK, ELEMENT_ID) ON DELETE CASCADE;
0 rows inserted/updated/deleted
ij&amp;gt; CREATE INDEX WRS_ME_FK_INDEX ON JSL_DB.WITHIN_REP_STAT(SIM_RUN_ID_FK, ELEMENT_ID_FK);
0 rows inserted/updated/deleted
WARNING 01504: &apos;WRS_ME_FK_INDEX&apos; index not created because it is a duplicate of an existing index: &apos;SQL0000000013-020e0090-0169-c691-93ab-000007295718&apos;.
ij&amp;gt; -- ACROSS_REP_STAT represents summary statistics for each simulation response across
-- the replications within the experiment.
CREATE TABLE JSL_DB.ACROSS_REP_STAT (
	ID INTEGER NOT NULL PRIMARY KEY GENERATED ALWAYS AS IDENTITY (START WITH 1 INCREMENT BY 1),
	ELEMENT_ID_FK INTEGER NOT NULL,
	SIM_RUN_ID_FK INTEGER NOT NULL,
	STAT_NAME VARCHAR(510),
	STAT_COUNT DOUBLE PRECISION CHECK (STAT_COUNT &amp;gt;=0),
	AVERAGE  DOUBLE PRECISION,
	STD_DEV DOUBLE PRECISION CHECK (STD_DEV &amp;gt;=0),
	STD_ERR DOUBLE PRECISION CHECK (STD_ERR &amp;gt;=0),
	HALF_WIDTH DOUBLE PRECISION CHECK (HALF_WIDTH &amp;gt;=0),
	CONF_LEVEL DOUBLE PRECISION,
	MINIMUM  DOUBLE PRECISION,
	MAXIMUM  DOUBLE PRECISION,
	WEIGHTED_SUM  DOUBLE PRECISION,
	SUM_OF_WEIGHTS  DOUBLE PRECISION,
	WEIGHTED_SSQ DOUBLE PRECISION,
	DEV_SSQ DOUBLE PRECISION,
	LAST_VALUE DOUBLE PRECISION,
	LAST_WEIGHT DOUBLE PRECISION,
	KURTOSIS DOUBLE PRECISION,
	SKEWNESS DOUBLE PRECISION,
	LAG1_COV DOUBLE PRECISION,
	LAG1_CORR DOUBLE PRECISION,
	VON_NEUMAN_LAG1_STAT DOUBLE PRECISION,
	NUM_MISSING_OBS DOUBLE PRECISION
);
0 rows inserted/updated/deleted
ij&amp;gt; ALTER TABLE JSL_DB.ACROSS_REP_STAT 
	ADD CONSTRAINT ARS_SIMRUN_FK FOREIGN KEY (SIM_RUN_ID_FK) REFERENCES JSL_DB.SIMULATION_RUN (ID) ON DELETE CASCADE;
0 rows inserted/updated/deleted
ij&amp;gt; ALTER TABLE JSL_DB.ACROSS_REP_STAT
  ADD CONSTRAINT ARS_MODEL_ELEMENT_FK FOREIGN KEY (SIM_RUN_ID_FK, ELEMENT_ID_FK)
  REFERENCES JSL_DB.MODEL_ELEMENT (SIM_RUN_ID_FK, ELEMENT_ID) ON DELETE CASCADE;
0 rows inserted/updated/deleted
ij&amp;gt; CREATE UNIQUE INDEX ARS_ME_FK_INDEX ON JSL_DB.ACROSS_REP_STAT(SIM_RUN_ID_FK, ELEMENT_ID_FK);
0 rows inserted/updated/deleted
ij&amp;gt; -- WITHIN_REP_COUNTER_STAT represents within replication final value for each replication of
-- each simulation for each counter
CREATE TABLE JSL_DB.WITHIN_REP_COUNTER_STAT (
	ID INTEGER NOT NULL PRIMARY KEY GENERATED ALWAYS AS IDENTITY (START WITH 1 INCREMENT BY 1),
	ELEMENT_ID_FK INTEGER NOT NULL,
	SIM_RUN_ID_FK INTEGER NOT NULL,
	REP_NUM INTEGER NOT NULL CHECK (REP_NUM &amp;gt;=1),
	STAT_NAME VARCHAR(510),
	LAST_VALUE DOUBLE PRECISION	
);
0 rows inserted/updated/deleted
ij&amp;gt; ALTER TABLE JSL_DB.WITHIN_REP_COUNTER_STAT 
	ADD CONSTRAINT WRCS_SIMRUN_FK FOREIGN KEY (SIM_RUN_ID_FK) REFERENCES JSL_DB.SIMULATION_RUN (ID) ON DELETE CASCADE;
0 rows inserted/updated/deleted
ij&amp;gt; ALTER TABLE JSL_DB.WITHIN_REP_COUNTER_STAT
  ADD CONSTRAINT WRCS_UNIQUE_ELEMENT_SIMRUN_REPNUM UNIQUE (ELEMENT_ID_FK, SIM_RUN_ID_FK, REP_NUM);
0 rows inserted/updated/deleted
ij&amp;gt; ALTER TABLE JSL_DB.WITHIN_REP_COUNTER_STAT
  ADD CONSTRAINT WRCS_MODEL_ELEMENT_FK FOREIGN KEY (SIM_RUN_ID_FK, ELEMENT_ID_FK)
  REFERENCES JSL_DB.MODEL_ELEMENT (SIM_RUN_ID_FK, ELEMENT_ID) ON DELETE CASCADE;
0 rows inserted/updated/deleted
ij&amp;gt; CREATE INDEX WRCS_ME_FK_INDEX ON JSL_DB.WITHIN_REP_COUNTER_STAT(SIM_RUN_ID_FK, ELEMENT_ID_FK);
0 rows inserted/updated/deleted
WARNING 01504: &apos;WRCS_ME_FK_INDEX&apos; index not created because it is a duplicate of an existing index: &apos;SQL0000000025-4b6f00c8-0169-c691-93ab-000007295718&apos;.
ij&amp;gt; -- BATCH_STAT represents summary statistics for each simulation response across
-- the batches within a replication. This is produced only if the batch statistics
-- option is used when running the simulation.
CREATE TABLE JSL_DB.BATCH_STAT (
	ID INTEGER NOT NULL PRIMARY KEY GENERATED ALWAYS AS IDENTITY (START WITH 1 INCREMENT BY 1),
	ELEMENT_ID_FK INTEGER NOT NULL,
	SIM_RUN_ID_FK INTEGER NOT NULL,
	REP_NUM INTEGER NOT NULL CHECK (REP_NUM &amp;gt;=1),
	STAT_NAME VARCHAR(510),
	STAT_COUNT DOUBLE PRECISION CHECK (STAT_COUNT &amp;gt;=0),
	AVERAGE  DOUBLE PRECISION,
	STD_DEV DOUBLE PRECISION CHECK (STD_DEV &amp;gt;=0),
	STD_ERR DOUBLE PRECISION CHECK (STD_ERR &amp;gt;=0),
	HALF_WIDTH DOUBLE PRECISION CHECK (HALF_WIDTH &amp;gt;=0),
	CONF_LEVEL DOUBLE PRECISION,
	MINIMUM  DOUBLE PRECISION,
	MAXIMUM  DOUBLE PRECISION,
	WEIGHTED_SUM  DOUBLE PRECISION,
	SUM_OF_WEIGHTS  DOUBLE PRECISION,
	WEIGHTED_SSQ DOUBLE PRECISION,
	DEV_SSQ DOUBLE PRECISION,
	LAST_VALUE DOUBLE PRECISION,
	LAST_WEIGHT DOUBLE PRECISION,
	KURTOSIS DOUBLE PRECISION,
	SKEWNESS DOUBLE PRECISION,
	LAG1_COV DOUBLE PRECISION,
	LAG1_CORR DOUBLE PRECISION,
	VON_NEUMAN_LAG1_STAT DOUBLE PRECISION,
	NUM_MISSING_OBS DOUBLE PRECISION,
	MIN_BATCH_SIZE DOUBLE PRECISION,
	MIN_NUM_BATCHES DOUBLE PRECISION,
	MAX_NUM_BATCHES_MULTIPLE DOUBLE PRECISION,
	MAX_NUM_BATCHES DOUBLE PRECISION,
	NUM_REBATCHES DOUBLE PRECISION,
	CURRENT_BATCH_SIZE DOUBLE PRECISION,
	AMT_UNBATCHED DOUBLE PRECISION,
	TOTAL_NUM_OBS DOUBLE PRECISION
);
0 rows inserted/updated/deleted
ij&amp;gt; ALTER TABLE JSL_DB.BATCH_STAT
	ADD CONSTRAINT BS_SIMRUN_FK FOREIGN KEY (SIM_RUN_ID_FK) REFERENCES JSL_DB.SIMULATION_RUN (ID) ON DELETE CASCADE;
0 rows inserted/updated/deleted
ij&amp;gt; ALTER TABLE JSL_DB.BATCH_STAT
  ADD CONSTRAINT BS_MODEL_ELEMENT_FK FOREIGN KEY (SIM_RUN_ID_FK, ELEMENT_ID_FK)
  REFERENCES JSL_DB.MODEL_ELEMENT (SIM_RUN_ID_FK, ELEMENT_ID) ON DELETE CASCADE;
0 rows inserted/updated/deleted
ij&amp;gt; CREATE INDEX BS_ME_FK_INDEX ON JSL_DB.BATCH_STAT(SIM_RUN_ID_FK, ELEMENT_ID_FK);
0 rows inserted/updated/deleted
WARNING 01504: &apos;BS_ME_FK_INDEX&apos; index not created because it is a duplicate of an existing index: &apos;SQL0000000033-01b7c0e6-0169-c691-93ab-000007295718&apos;.
ij&amp;gt; -- WITHIN_REP_RESPONSE_VIEW represents a reduced view of within replication statistics containing only the average for the replication
CREATE VIEW JSL_DB.WITHIN_REP_RESPONSE_VIEW (SIM_RUN_ID_FK, EXP_NAME, ELEMENT_NAME, STAT_NAME, REP_NUM, AVERAGE)
  AS (SELECT JSL_DB.WITHIN_REP_STAT.SIM_RUN_ID_FK, EXP_NAME, ELEMENT_NAME, STAT_NAME, REP_NUM, AVERAGE
      FROM (JSL_DB.SIMULATION_RUN JOIN JSL_DB.WITHIN_REP_STAT on JSL_DB.SIMULATION_RUN.ID = JSL_DB.WITHIN_REP_STAT.SIM_RUN_ID_FK)
        JOIN JSL_DB.MODEL_ELEMENT ON ELEMENT_ID = JSL_DB.WITHIN_REP_STAT.ELEMENT_ID_FK);
0 rows inserted/updated/deleted
ij&amp;gt; -- WITHIN_REP_COUNTER_VIEW represents a reduced view of within replication counter containing only the last value for the replication   
CREATE VIEW JSL_DB.WITHIN_REP_COUNTER_VIEW (SIM_RUN_ID_FK, EXP_NAME, ELEMENT_NAME, STAT_NAME, REP_NUM, LAST_VALUE)
  AS (SELECT JSL_DB.WITHIN_REP_COUNTER_STAT.SIM_RUN_ID_FK, EXP_NAME, ELEMENT_NAME, STAT_NAME, REP_NUM, LAST_VALUE
     FROM (JSL_DB.SIMULATION_RUN JOIN JSL_DB.WITHIN_REP_COUNTER_STAT on JSL_DB.SIMULATION_RUN.ID = JSL_DB.WITHIN_REP_COUNTER_STAT.SIM_RUN_ID_FK)
       JOIN JSL_DB.MODEL_ELEMENT ON ELEMENT_ID = JSL_DB.WITHIN_REP_COUNTER_STAT.ELEMENT_ID_FK);
0 rows inserted/updated/deleted
ij&amp;gt; -- ACROSS_REP_VIEW represents a reduced view of the across replication responses containing only n, avg, and stddev       
CREATE VIEW JSL_DB.ACROSS_REP_VIEW (SIM_RUN_ID_FK, EXP_NAME, ELEMENT_NAME, STAT_NAME, STAT_COUNT, AVERAGE, STD_DEV)
AS (SELECT JSL_DB.ACROSS_REP_STAT.SIM_RUN_ID_FK, EXP_NAME, ELEMENT_NAME, STAT_NAME, STAT_COUNT, AVERAGE, STD_DEV
FROM (JSL_DB.SIMULATION_RUN JOIN JSL_DB.ACROSS_REP_STAT on JSL_DB.SIMULATION_RUN.ID = JSL_DB.ACROSS_REP_STAT.SIM_RUN_ID_FK)
  JOIN JSL_DB.MODEL_ELEMENT ON ELEMENT_ID = JSL_DB.ACROSS_REP_STAT.ELEMENT_ID_FK);
0 rows inserted/updated/deleted
ij&amp;gt; -- BATCH_STAT_VIEW represents a reduced view of the batch statistics responses containing only n, avg, and stddev  
CREATE VIEW JSL_DB.BATCH_STAT_VIEW (SIM_RUN_ID_FK, EXP_NAME, ELEMENT_NAME, STAT_NAME, STAT_COUNT, AVERAGE, STD_DEV)
  AS (SELECT JSL_DB.BATCH_STAT.SIM_RUN_ID_FK, EXP_NAME, ELEMENT_NAME, STAT_NAME, STAT_COUNT, AVERAGE, STD_DEV
     FROM (JSL_DB.SIMULATION_RUN JOIN JSL_DB.BATCH_STAT on JSL_DB.SIMULATION_RUN.ID = JSL_DB.BATCH_STAT.SIM_RUN_ID_FK)
       JOIN JSL_DB.MODEL_ELEMENT ON ELEMENT_ID = JSL_DB.BATCH_STAT.ELEMENT_ID_FK);
0 rows inserted/updated/deleted
ij&amp;gt; -- WITHIN_REP_VIEW combines the WITHIN_REP_COUNTER_VIEW and WITHIN_REP_RESPONSE_VIEW into one table from which across
-- replication or other statistical summaries by replication can be produced
CREATE VIEW JSL_DB.WITHIN_REP_VIEW (SIM_RUN_ID_FK, EXP_NAME, ELEMENT_NAME, STAT_NAME, REP_NUM, VALUE) AS
       (SELECT JSL_DB.WITHIN_REP_STAT.SIM_RUN_ID_FK, EXP_NAME, ELEMENT_NAME, STAT_NAME, REP_NUM, AVERAGE AS VALUE
FROM (JSL_DB.SIMULATION_RUN JOIN JSL_DB.WITHIN_REP_STAT on JSL_DB.SIMULATION_RUN.ID = JSL_DB.WITHIN_REP_STAT.SIM_RUN_ID_FK)
       JOIN JSL_DB.MODEL_ELEMENT ON ELEMENT_ID = JSL_DB.WITHIN_REP_STAT.ELEMENT_ID_FK
UNION
SELECT JSL_DB.WITHIN_REP_COUNTER_STAT.SIM_RUN_ID_FK, EXP_NAME, ELEMENT_NAME, STAT_NAME, REP_NUM, LAST_VALUE as VALUE
FROM (JSL_DB.SIMULATION_RUN JOIN JSL_DB.WITHIN_REP_COUNTER_STAT on JSL_DB.SIMULATION_RUN.ID = JSL_DB.WITHIN_REP_COUNTER_STAT.SIM_RUN_ID_FK)
            JOIN JSL_DB.MODEL_ELEMENT ON ELEMENT_ID = JSL_DB.WITHIN_REP_COUNTER_STAT.ELEMENT_ID_FK);
0 rows inserted/updated/deleted
ij&amp;gt; -- PW_DIFF_WITHIN_REP_VIEW computes the pairwise differences across difference simulation experiments
-- doesn&apos;t work for derby, 3-28-2019, works for postgres
-- 
 create view JSL_DB.PW_DIFF_WITHIN_REP_VIEW
 as (select SIMULATION_RUN.SIM_NAME, A.SIM_RUN_ID_FK AS A_SIM_NUM, A.STAT_NAME, A.EXP_NAME as A_EXP_NAME, A.REP_NUM, A.VAE as A_VALUE,
            B.SIM_RUN_ID_FK as B_SIM_NUM, B.EXP_NAME as B_EXP_NAME, B.VALUE as B_VALUE,
            &apos;(&apos; || A.EXP_NAME || &apos; - &apos; || B.EXP_NAME || &apos;)&apos; as DIFF_NAME, (A.VALUE - B.VALUE) as A_MINUS_B
     from JSL_DB.WITHIN_REP_VIEW as A, JSL_DB.WITHIN_REP_VIEW as B, JSL_DB.SIMULATION_RUN
     where A.SIM_RUN_ID_FK = JSL_DB.SIMULATION_RUN.ID
       and A.STAT_NAME = B.STAT_NAME
       and A.REP_NUM = B.REP_NUM
       and A.SIM_RUN_ID_FK &amp;gt; B.SIM_RUN_ID_FK
       and A.ELEMENT_NAME = B.ELEMENT_NAME);
ERROR 42X04: Column &apos;SIMULATION_RUN.SIM_NAME&apos; is either not in any table in the FROM list or appears within a join specification and is outside the scope of the join specification or appears in a HAVING clause and is not in the GROUP BY list. If this is a CREATE or ALTER TABLE  statement then &apos;SIMULATION_RUN.SIM_NAME&apos; is not a column in the target table.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;When I adjusted the bad column reference, the script terminated with the following error:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt; create view JSL_DB.PW_DIFF_WITHIN_REP_VIEW
 as (select SIM_NAME, A.SIM_RUN_ID_FK AS A_SIM_NUM, A.STAT_NAME, A.EXP_NAME as A_EXP_NAME, A.REP_NUM, A.VAE as A_VALUE,
            B.SIM_RUN_ID_FK as B_SIM_NUM, B.EXP_NAME as B_EXP_NAME, B.VALUE as B_VALUE,
            &apos;(&apos; || A.EXP_NAME || &apos; - &apos; || B.EXP_NAME || &apos;)&apos; as DIFF_NAME, (A.VALUE - B.VALUE) as A_MINUS_B
     from JSL_DB.WITHIN_REP_VIEW as A, JSL_DB.WITHIN_REP_VIEW as B, JSL_DB.SIMULATION_RUN
     where A.SIM_RUN_ID_FK = JSL_DB.SIMULATION_RUN.ID
       and A.STAT_NAME = B.STAT_NAME
       and A.REP_NUM = B.REP_NUM
       and A.SIM_RUN_ID_FK &amp;gt; B.SIM_RUN_ID_FK
       and A.ELEMENT_NAME = B.ELEMENT_NAME);
ERROR 42X04: Column &apos;A.VAE&apos; is either not in any table in the FROM list or appears within a join specification and is outside the scope of the join specification or appears in a HAVING clause and is not in the GROUP BY list. If this is a CREATE or ALTER TABLE  statement then &apos;A.VAE&apos; is not a column in the target table.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;At that point, I gave up trying to adjust the script. Could you attach a script which runs on Derby without any errors except for the NPE? Thanks.&lt;/p&gt;</comment>
                            <comment id="16805008" author="mdrforspam" created="Fri, 29 Mar 2019 14:05:00 +0000"  >&lt;p&gt;The script works.  I simply establish a connection in some tool like&lt;br/&gt;
IntelliJ or DBeaver and execute the script.  I haven&apos;t run the ij command&lt;br/&gt;
prompt in ages and I don&apos;t know why a script that works perfectly well for&lt;br/&gt;
other tools would not work within the ij prompt.&lt;/p&gt;

&lt;p&gt;On Thu, Mar 28, 2019 at 6:21 PM Rick Hillegas (JIRA) &amp;lt;jira@apache.org&amp;gt;&lt;/p&gt;
</comment>
                            <comment id="16805013" author="mdrforspam" created="Fri, 29 Mar 2019 14:15:00 +0000"  >&lt;p&gt;I just ran the script using ij. It worked.  So, I am not sure how to help&lt;br/&gt;
you.&lt;/p&gt;

&lt;p&gt;$ ij&lt;/p&gt;

&lt;p&gt;ij version 10.14&lt;/p&gt;

&lt;p&gt;ij&amp;gt; connect &apos;jdbc:derby:db;create=true&apos;;&lt;/p&gt;

&lt;p&gt;ij&amp;gt; run &apos;JSLDb.sql&apos;;&lt;/p&gt;

&lt;p&gt;On Fri, Mar 29, 2019 at 9:04 AM Manuel Rossetti &amp;lt;mdrforspam@gmail.com&amp;gt;&lt;/p&gt;
</comment>
                            <comment id="16805027" author="mdrforspam" created="Fri, 29 Mar 2019 14:29:00 +0000"  >&lt;p&gt;Okay. I see your note about the schema name. I didn&apos;t qualify the name with&lt;br/&gt;
the schema in my commented code.  My bad. Do you want me to attach the&lt;br/&gt;
script here or to the JIRO?&lt;/p&gt;



&lt;p&gt;On Fri, Mar 29, 2019 at 9:14 AM Manuel Rossetti &amp;lt;mdrforspam@gmail.com&amp;gt;&lt;/p&gt;
</comment>
                            <comment id="16805381" author="mdrforspam" created="Fri, 29 Mar 2019 19:39:00 +0000"  >&lt;p&gt;Here is the scrip.&lt;/p&gt;

&lt;p&gt;On Fri, Mar 29, 2019 at 9:28 AM Manuel Rossetti &amp;lt;mdrforspam@gmail.com&amp;gt;&lt;/p&gt;
</comment>
                            <comment id="16805881" author="rhillegas" created="Sat, 30 Mar 2019 17:06:40 +0000"  >&lt;p&gt;Attaching derby-7041.sql, a simpler script for the problem.&lt;/p&gt;</comment>
                            <comment id="16806178" author="rhillegas" created="Sun, 31 Mar 2019 15:50:44 +0000"  >&lt;p&gt;The stack trace shows that the CREATE VIEW statement incurs an NPE while trying to record a persistent dependency of the view on the STDDEV_SAMP aggregate:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java.lang.NullPointerException
	at java.base/java.util.Hashtable.put(Hashtable.java:479)
	at org.apache.derby.iapi.sql.depend.ProviderList.addProvider(ProviderList.java:42)
	at org.apache.derby.impl.sql.compile.CompilerContextImpl.addProviderToAuxiliaryList(CompilerContextImpl.java:319)
	at org.apache.derby.impl.sql.compile.CompilerContextImpl.createDependency(CompilerContextImpl.java:290)
	at org.apache.derby.impl.sql.compile.AggregateNode.bindExpression(AggregateNode.java:404)
	at org.apache.derby.impl.sql.compile.JavaToSQLValueNode.bindExpression(JavaToSQLValueNode.java:237)
	at org.apache.derby.impl.sql.compile.ResultColumn.bindExpression(ResultColumn.java:759)
	at org.apache.derby.impl.sql.compile.ResultColumnList.bindExpressions(ResultColumnList.java:839)
	at org.apache.derby.impl.sql.compile.SelectNode.bindExpressions(SelectNode.java:575)
	at org.apache.derby.impl.sql.compile.CreateViewNode.bindViewDefinition(CreateViewNode.java:255)
	at org.apache.derby.impl.sql.compile.CreateViewNode.bindStatement(CreateViewNode.java:175)
	at org.apache.derby.impl.sql.GenericStatement.prepMinion(GenericStatement.java:401)
	at org.apache.derby.impl.sql.GenericStatement.prepare(GenericStatement.java:99)
	at org.apache.derby.impl.sql.conn.GenericLanguageConnectionContext.prepareInternalStatement(GenericLanguageConnectionContext.java:1114)
	at org.apache.derby.impl.jdbc.EmbedStatement.execute(EmbedStatement.java:689)
	at org.apache.derby.impl.jdbc.EmbedStatement.execute(EmbedStatement.java:637)
	at org.apache.derby.impl.tools.ij.ij.executeImmediate(ij.java:372)
	at org.apache.derby.impl.tools.ij.utilMain.doCatch(utilMain.java:534)
	at org.apache.derby.impl.tools.ij.utilMain.runScriptGuts(utilMain.java:375)
	at org.apache.derby.impl.tools.ij.utilMain.go(utilMain.java:251)
	at org.apache.derby.impl.tools.ij.Main.go(Main.java:229)
	at org.apache.derby.impl.tools.ij.Main.mainCore(Main.java:184)
	at org.apache.derby.impl.tools.ij.Main.main(Main.java:75)
	at org.apache.derby.tools.ij.main(ij.java:59)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This happens because we implemented the statistical aggregates as user defined aggregates and because the aggregate descriptor has a NULL object ID.&lt;/p&gt;

&lt;p&gt;Two things look odd here and could serve as the basis for a fix:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;There should be no need to declare a persistent dependency between a user-defined view and a system-supplied aggregate.&lt;/li&gt;
	&lt;li&gt;The aggregate descriptor, nonetheless, should have a real object ID.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="16806301" author="rhillegas" created="Sun, 31 Mar 2019 23:38:13 +0000"  >&lt;p&gt;No NPE occurs when I substitute a user-defined aggregate for the STDDEV_SAMP. So the object ID is disappearing only for the statistical aggregates as far as I can see.&lt;/p&gt;</comment>
                            <comment id="16806302" author="rhillegas" created="Sun, 31 Mar 2019 23:46:00 +0000"  >&lt;p&gt;Attaching derby-7041-01-aa-omitDependencyOnSystemSuppliedAggregate.diff. This patch makes view creation skip dependency registration between views and system-supplied aggregates.&lt;/p&gt;

&lt;p&gt;I will run the full test suite.&lt;/p&gt;

&lt;p&gt;Touches the following files:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;-------------------------------

M       java/org.apache.derby.engine/org/apache/derby/impl/sql/compile/AggregateNode.java

Don&apos;t create a persistent dependency from a view to a user-defined
aggregate which is really a system-supplied aggregate implemented via
the user-defined aggregate machinery.

-------------------------------

M       java/org.apache.derby.tests/org/apache/derbyTesting/functionTests/tests/lang/AggBuiltinTest.java

Add a test case verifying that the NPE has disappeared.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16806745" author="rhillegas" created="Mon, 1 Apr 2019 13:17:58 +0000"  >&lt;p&gt;Tests passed cleanly for me on derby-7041-01-aa-omitDependencyOnSystemSuppliedAggregate.diff, modulo the usual diffs I see in NetworkServerControlClientCommandTest and InvalidLDAPServerAuthenticationTest.&lt;/p&gt;</comment>
                            <comment id="16806748" author="jira-bot" created="Mon, 1 Apr 2019 13:22:40 +0000"  >&lt;p&gt;Commit 1856730 from Richard N. Hillegas in branch &apos;code/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1856730&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1856730&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-7041&quot; title=&quot;null pointer exception when creating view based on other views&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-7041&quot;&gt;&lt;del&gt;DERBY-7041&lt;/del&gt;&lt;/a&gt;: Do not create persistent dependencies between views and the system-supplied statistical aggregates; commit derby-7041-01-aa-omitDependencyOnSystemSuppliedAggregate.diff.&lt;/p&gt;</comment>
                            <comment id="16807756" author="jira-bot" created="Tue, 2 Apr 2019 13:28:41 +0000"  >&lt;p&gt;Commit 1856824 from Richard N. Hillegas in branch &apos;code/branches/10.15&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1856824&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1856824&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-7041&quot; title=&quot;null pointer exception when creating view based on other views&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-7041&quot;&gt;&lt;del&gt;DERBY-7041&lt;/del&gt;&lt;/a&gt;: Port 1856730 from trunk to the 10.15 branch.&lt;/p&gt;</comment>
                            <comment id="16807939" author="mdrforspam" created="Tue, 2 Apr 2019 17:26:14 +0000"  >&lt;p&gt;It looks like your plan is to put this patch in 10.15 and not patch 10.14.2. Is that correct?&lt;/p&gt;</comment>
                            <comment id="16808221" author="rhillegas" created="Tue, 2 Apr 2019 23:08:19 +0000"  >&lt;p&gt;I can port the patch to the 10.14 branch if that helps you. But you are correct, I have no plans to manage a 10.14.2 release at this time.&lt;/p&gt;</comment>
                            <comment id="16811218" author="mdrforspam" created="Fri, 5 Apr 2019 20:04:17 +0000"  >&lt;p&gt;I understand. I will wait and get it when I upgrade to 10.15.&lt;/p&gt;</comment>
                            <comment id="16811632" author="bryanpendleton" created="Sat, 6 Apr 2019 16:30:37 +0000"  >&lt;p&gt;Thanks Manuel for reporting this bug and for the clear reproduction case.&lt;/p&gt;

&lt;p&gt;And thanks Rick for fixing it.&lt;/p&gt;

&lt;p&gt;An interesting bug, and it had been in the code for a while, so I&apos;m glad we have resolved it.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12964242" name="JSLDb.sql" size="13208" author="mdrforspam" created="Fri, 29 Mar 2019 19:39:00 +0000"/>
                            <attachment id="12964099" name="JSLDb.sql" size="13105" author="mdrforspam" created="Thu, 28 Mar 2019 22:43:39 +0000"/>
                            <attachment id="12964098" name="JSLDb_DriveThroughPharmacy.zip" size="272584" author="mdrforspam" created="Thu, 28 Mar 2019 22:47:30 +0000"/>
                            <attachment id="12964384" name="derby-7041-01-aa-omitDependencyOnSystemSuppliedAggregate.diff" size="3753" author="rhillegas" created="Sun, 31 Mar 2019 23:45:16 +0000"/>
                            <attachment id="12964323" name="derby-7041.sql" size="625" author="rhillegas" created="Sat, 30 Mar 2019 17:04:24 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310200" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Bug behavior facts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10421"><![CDATA[Seen in production]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12310090" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Issue &amp; fix info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10424"><![CDATA[Repro attached]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 32 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0186g:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>