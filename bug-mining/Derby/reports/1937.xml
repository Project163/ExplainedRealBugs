<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 14:09:47 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[DERBY-4598] Print class loader used to boot and shutdown derby in derby.log </title>
                <link>https://issues.apache.org/jira/browse/DERBY-4598</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;It would be good to print the class loader used to boot and shutdown derby.   When using class loaders, it is important to use the same class loader when shutting down or it doesn&apos;t really shutdown at all.  Doing this will make it easier to diagnose such problems.  I think it is ok to just leave it as the normal behavior as it does not add too much bulk to the log.&lt;/p&gt;

&lt;p&gt;2010-03-25 20:57:57.781 GMT:&lt;br/&gt;
 Booting Derby version The Apache Software Foundation - Apache Derby - 10.6.0.0 alpha - (927552M): instance a816c00e-012&lt;br/&gt;
7-971d-fe59-000000107bb8&lt;br/&gt;
on database directory C:\kmarsden\repro\&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-4588&quot; title=&quot;Provide a diagnostic property that will print a stack trace on successful boot to help diagnose dual boot issues after the DERBY-700 fix&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-4588&quot;&gt;&lt;del&gt;DERBY-4588&lt;/del&gt;&lt;/a&gt;\wombat   with class loader sun.misc.Launcher$AppClassLoader@42ed42ed&lt;/p&gt;

&lt;p&gt;Database Class Loader started - derby.database.classpath=&apos;&apos;&lt;/p&gt;

&lt;p&gt;2010-03-25 20:58:10.109 GMT:&lt;br/&gt;
Shutting down instance a816c00e-0127-971d-fe59-000000107bb8 with class loader sun.misc.Launcher$AppClassLoader@42ed42ed&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Note it is important to set derby.infolog.append=true or the different class loaders will clobber the log.&lt;/p&gt;

</description>
                <environment></environment>
        <key id="12460287">DERBY-4598</key>
            <summary>Print class loader used to boot and shutdown derby in derby.log </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kmarsden">Katherine Marsden</assignee>
                                    <reporter username="kmarsden">Katherine Marsden</reporter>
                        <labels>
                    </labels>
                <created>Thu, 25 Mar 2010 21:08:47 +0000</created>
                <updated>Tue, 13 Jul 2010 15:12:18 +0000</updated>
                            <resolved>Tue, 13 Jul 2010 15:12:18 +0000</resolved>
                                    <version>10.5.3.0</version>
                                    <fixVersion>10.3.3.1</fixVersion>
                    <fixVersion>10.4.2.1</fixVersion>
                    <fixVersion>10.5.3.1</fixVersion>
                    <fixVersion>10.6.1.0</fixVersion>
                                    <component>Services</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12849963" author="kmarsden" created="Fri, 26 Mar 2010 00:38:10 +0000"  >&lt;p&gt;I noticed even when I shut down just one database I get a message like:&lt;/p&gt;

&lt;p&gt;2010-03-26 00:04:03.109 GMT:&lt;br/&gt;
Shutting down instance a816c00e-0127-97c8-0469-00000020efb0 with class loader sun.misc.Launcher$AppClassLoader@45804580 &lt;/p&gt;

&lt;p&gt;I thought you saw the database name in this context and Derby itself was still loaded.&lt;/p&gt;

&lt;p&gt;Anyway, I think only the three changes are needed to show the class loader on boot, shutdown and failed boot attempt. Running tests now and marking patch available.&lt;/p&gt;</comment>
                            <comment id="12850311" author="kmarsden" created="Fri, 26 Mar 2010 19:18:33 +0000"  >&lt;p&gt;Attaching a patch for this issue which I will commit in a bit &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-4598&quot; title=&quot;Print class loader used to boot and shutdown derby in derby.log &quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-4598&quot;&gt;&lt;del&gt;DERBY-4598&lt;/del&gt;&lt;/a&gt;_withmasters_diff.txt which includes the master updates needed for the expanded error message.  I just changed Sed.java to mask out the class loader object and hash code instead of making  a bunch of new sed files.&lt;/p&gt;

&lt;p&gt; I noticed I accidentally attached the first patch to &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-4588&quot; title=&quot;Provide a diagnostic property that will print a stack trace on successful boot to help diagnose dual boot issues after the DERBY-700 fix&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-4588&quot;&gt;&lt;del&gt;DERBY-4588&lt;/del&gt;&lt;/a&gt;.  I will just delete that one.  This is the right patch for this issue. I will commit in a bit.&lt;/p&gt;</comment>
                            <comment id="12857362" author="lilywei" created="Thu, 15 Apr 2010 15:53:06 +0000"  >&lt;p&gt;Port the same patch to 10.5. Everything looks safe and good. Derbyall passed. I am running suites.all test suite.&lt;/p&gt;</comment>
                            <comment id="12887744" author="kristwaa" created="Tue, 13 Jul 2010 13:01:00 +0000"  >&lt;p&gt;Cleared patch available flag.&lt;br/&gt;
Is the work on this issue completed?&lt;/p&gt;</comment>
                            <comment id="12887796" author="kmarsden" created="Tue, 13 Jul 2010 15:12:18 +0000"  >&lt;p&gt;Closing this issue and adding 10.6. The fix went in before the 10.6 branch&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12441839" name="ASF.LICENSE.NOT.GRANTED--DERBY-4598_withmasters_10.5_diff.txt" size="25975" author="lilywei" created="Thu, 15 Apr 2010 15:53:06 +0000"/>
                            <attachment id="12439901" name="DERBY-4598_withmasters_diff.txt" size="25950" author="kmarsden" created="Fri, 26 Mar 2010 19:18:33 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>24357</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 20 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i06v1z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>37965</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>