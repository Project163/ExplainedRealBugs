<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 14:51:43 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[DERBY-7028] Module diagrams missing from javadoc for 15.1.0.0 release candidate</title>
                <link>https://issues.apache.org/jira/browse/DERBY-7028</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;This must be fixed for the release.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13209190">DERBY-7028</key>
            <summary>Module diagrams missing from javadoc for 15.1.0.0 release candidate</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rhillegas">Richard N. Hillegas</assignee>
                                    <reporter username="rhillegas">Richard N. Hillegas</reporter>
                        <labels>
                    </labels>
                <created>Sat, 12 Jan 2019 15:42:24 +0000</created>
                <updated>Tue, 5 Feb 2019 15:48:04 +0000</updated>
                            <resolved>Tue, 22 Jan 2019 01:40:41 +0000</resolved>
                                    <version>10.15.1.3</version>
                                    <fixVersion>10.15.1.3</fixVersion>
                                    <component>Build tools</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="16741338" author="rhillegas" created="Sat, 12 Jan 2019 17:00:14 +0000"  >&lt;p&gt;The problem appears to be that Java 11 generates the javadoc into a different structure than Java 9. The module diagrams are included by &amp;lt;img&amp;gt; tags whose src attributes are relative file names. The location of the generated html has changed and now the relative paths point nowhere. The trunk public api on the Derby website is built by Java 9 and so it looks good. However, the javadoc in the 10.15 distributions was built by Java 11, hiding the module diagrams. I will ask the experts for advice about whether there is a best practice for handling this problem.&lt;/p&gt;</comment>
                            <comment id="16747189" author="rhillegas" created="Sat, 19 Jan 2019 16:35:38 +0000"  >&lt;p&gt;Javadoc generated by JDK 10 looks good. It is Java 11 which introduced this new directory structure.&lt;/p&gt;</comment>
                            <comment id="16747198" author="bryanpendleton" created="Sat, 19 Jan 2019 17:03:37 +0000"  >&lt;p&gt;Gack! I&apos;m still having trouble learning about Java 9 ! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="16747308" author="rhillegas" created="Sun, 20 Jan 2019 01:38:48 +0000"  >&lt;p&gt;Attaching derby-7028-01-aa-jdkSpecificImageLocations.diff. This patch makes the javadoc targets copy the module diagrams to different locations, depending on the JDK being used.&lt;/p&gt;

&lt;p&gt;The experts told me that there was no good way to write a module descriptor whose diagram would be found regardless of which JDK was used to build the javadoc. So I have done the following:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Adjusted the module descriptors to locate their diagrams in the same directory as the module descriptor&apos;s javadoc.&lt;/li&gt;
	&lt;li&gt;Added some conditional logic to the javadoc targets to make them copy the module diagrams to the correct directories, depending on which JDK is used to build the javadoc.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I will attach a follow-on version of this patch in order to fix another problem. The experts also said that the border attribute in the &amp;lt;img&amp;gt; tags is not supported by HTML 5 and that a future version of Java would require strict HTML 5. I need to figure out how to put borders around the module diagrams in an HTML5-compatible way.&lt;/p&gt;

&lt;p&gt;Touches the following files:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;-----------------------
M       build.xml

Conditional logic to copy module diagrams to the correct directories.

-----------------------

M       java/org.apache.derby.client/module-info.java
M       java/org.apache.derby.commons/module-info.java
M       java/org.apache.derby.engine/module-info.java
M       java/org.apache.derby.optionaltools/module-info.java
M       java/org.apache.derby.runner/module-info.java
M       java/org.apache.derby.server/module-info.java
M       java/org.apache.derby.tests/module-info.java
M       java/org.apache.derby.tools/module-info.java

Adjust where the module overviews expect to find their module diagrams.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16747312" author="bryanpendleton" created="Sun, 20 Jan 2019 01:47:16 +0000"  >&lt;p&gt;I&apos;m not totally sure I understand your plan.&lt;/p&gt;

&lt;p&gt;We&apos;ll package and distribute a single release, with multiple copies of the module diagrams, one for Java 9 and one for Java 11? And the javadoc on the website will also have multiple copies of the diagrams?&lt;/p&gt;

&lt;p&gt;Or, we&apos;ll package and distribute a single release, with a single copy of the module diagrams, but it will be version Java XX?&lt;/p&gt;

&lt;p&gt;Or, we&apos;ll package and distribute multiple releases, one for Java 9 and one for Java 11?&lt;/p&gt;

&lt;p&gt;Or I&apos;m just not understanding this issue at all?&lt;/p&gt;</comment>
                            <comment id="16747555" author="rhillegas" created="Sun, 20 Jan 2019 21:24:06 +0000"  >&lt;p&gt;Hey Bryan,&lt;/p&gt;

&lt;p&gt;Sorry for the confusion.&lt;/p&gt;

&lt;p&gt;If you build the public javadoc with JDK 9 or 10, then there will be one copy of each of the module diagrams. All of them will be located in the top level directory of the javadoc, next to index.html.  Coincidentally, that is the same directory where the module overview pages are written.&lt;/p&gt;

&lt;p&gt;If you build the public javadoc with JDK 11, then there will also be one copy of each of the module diagrams. But each of them will be in a separate subdirectory. The engine diagram will be in the org.apache.derby.engine subdirectory of the javadoc output, next to the overview page for that module. And similarly for the other modules.&lt;/p&gt;

&lt;p&gt;There will be only one release. It will be compiled by Open JDK 11 with source and target levels both set to level 9 so that Java 9 byte code is produced. The public api javadoc will have the directory structure created by JDK 11&apos;s javadoc tool.&lt;/p&gt;

&lt;p&gt;That structure differs from the structure of our Jenkins-built javadoc for the trunk. The Jenkins build uses JDK 9.&lt;/p&gt;

&lt;p&gt;Does that make sense? Thanks.&lt;/p&gt;</comment>
                            <comment id="16747585" author="jira-bot" created="Sun, 20 Jan 2019 23:46:58 +0000"  >&lt;p&gt;Commit 1851719 from Richard N. Hillegas in branch &apos;code/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1851719&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1851719&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-7028&quot; title=&quot;Module diagrams missing from javadoc for 15.1.0.0 release candidate&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-7028&quot;&gt;&lt;del&gt;DERBY-7028&lt;/del&gt;&lt;/a&gt;: Put module diagrams in different directories, depending on whether the javadoc is being built by JDK 11 or pre JDK 11; commit derby-7028-01-aa-jdkSpecificImageLocations.diff.&lt;/p&gt;</comment>
                            <comment id="16747590" author="rhillegas" created="Mon, 21 Jan 2019 00:34:57 +0000"  >&lt;p&gt;Attaching derby-7028-02-aa-html5borders.diff. This patch replaces border attributes with style attributes. This applies to the &amp;lt;img&amp;gt; elements which locate module diagrams for module overview pages. I believe that this is the html5 way to add borders.&lt;/p&gt;


&lt;p&gt;Touches the following files:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;M       java/org.apache.derby.client/module-info.java
M       java/org.apache.derby.commons/module-info.java
M       java/org.apache.derby.engine/module-info.java
M       java/org.apache.derby.optionaltools/module-info.java
M       java/org.apache.derby.runner/module-info.java
M       java/org.apache.derby.server/module-info.java
M       java/org.apache.derby.tests/module-info.java
M       java/org.apache.derby.tools/module-info.java
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16747591" author="jira-bot" created="Mon, 21 Jan 2019 00:36:00 +0000"  >&lt;p&gt;Commit 1851720 from Richard N. Hillegas in branch &apos;code/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1851720&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1851720&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-7028&quot; title=&quot;Module diagrams missing from javadoc for 15.1.0.0 release candidate&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-7028&quot;&gt;&lt;del&gt;DERBY-7028&lt;/del&gt;&lt;/a&gt;: Add borders to module diagrams in an html5-compliant way; commit derby-7028-02-aa-html5borders.diff.&lt;/p&gt;</comment>
                            <comment id="16747627" author="bryanpendleton" created="Mon, 21 Jan 2019 03:03:00 +0000"  >&lt;p&gt;Yes, that makes sense, and sounds like a good plan. Thanks for filling in the details.&lt;/p&gt;</comment>
                            <comment id="16760917" author="rhillegas" created="Tue, 5 Feb 2019 15:15:52 +0000"  >&lt;p&gt;Sigh. This work was not ported to 10.15.&lt;/p&gt;</comment>
                            <comment id="16760952" author="jira-bot" created="Tue, 5 Feb 2019 15:42:35 +0000"  >&lt;p&gt;Commit 1853012 from Richard N. Hillegas in branch &apos;code/branches/10.15&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1853012&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1853012&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-7028&quot; title=&quot;Module diagrams missing from javadoc for 15.1.0.0 release candidate&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-7028&quot;&gt;&lt;del&gt;DERBY-7028&lt;/del&gt;&lt;/a&gt;: Merge 1851719 from trunk to 10.15 branch.&lt;/p&gt;</comment>
                            <comment id="16760957" author="jira-bot" created="Tue, 5 Feb 2019 15:48:04 +0000"  >&lt;p&gt;Commit 1853014 from Richard N. Hillegas in branch &apos;code/branches/10.15&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1853014&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1853014&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-7028&quot; title=&quot;Module diagrams missing from javadoc for 15.1.0.0 release candidate&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-7028&quot;&gt;&lt;del&gt;DERBY-7028&lt;/del&gt;&lt;/a&gt;: Port 1851720 from trunk to the 10.15 branch.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13125429">DERBY-6980</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13187920">DERBY-7010</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13210800">DERBY-7029</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12955536" name="derby-7028-01-aa-jdkSpecificImageLocations.diff" size="6988" author="rhillegas" created="Sun, 20 Jan 2019 01:38:26 +0000"/>
                            <attachment id="12955582" name="derby-7028-02-aa-html5borders.diff" size="3630" author="rhillegas" created="Mon, 21 Jan 2019 00:34:33 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 41 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|u00s00:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310050" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Urgency</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10050"><![CDATA[Blocker]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>