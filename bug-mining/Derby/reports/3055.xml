<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 14:49:04 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[DERBY-6619] After silently swallowing SecurityExceptions, Derby can leak class loaders</title>
                <link>https://issues.apache.org/jira/browse/DERBY-6619</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;As part of the fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-3745&quot; title=&quot;Derby can leak classloaders in an app server environment&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-3745&quot;&gt;&lt;del&gt;DERBY-3745&lt;/del&gt;&lt;/a&gt;, Derby silently swallows security exceptions and leaks class loaders. This can give rise to denial-of-service attacks. At a minimum, Derby should report the swallowed exceptions so that the security policy can be corrected and the application can be hardened against this attack. The swallowing occurs at these locations:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.derby.impl.services.timer.SingletonTimerFactory run Catch java.lang.SecurityException 0 line 175
org.apache.derby.impl.services.timer.SingletonTimerFactory run Catch java.lang.SecurityException 1 line 158
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12721691">DERBY-6619</key>
            <summary>After silently swallowing SecurityExceptions, Derby can leak class loaders</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dagw">Dag H. Wanvik</assignee>
                                    <reporter username="rhillegas">Richard N. Hillegas</reporter>
                        <labels>
                    </labels>
                <created>Tue, 17 Jun 2014 14:13:40 +0000</created>
                <updated>Fri, 9 Sep 2016 09:53:51 +0000</updated>
                            <resolved>Mon, 25 Aug 2014 17:59:22 +0000</resolved>
                                                    <fixVersion>10.11.1.3</fixVersion>
                    <fixVersion>10.12.1.1</fixVersion>
                                    <component>Services</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14037240" author="knutanders" created="Thu, 19 Jun 2014 11:21:55 +0000"  >&lt;p&gt;To reduce the impact, we could make SingletonTimerFactory use an ExecutorService instead of a Timer, and set up the ExecutorService to time out idle threads from the pool after a while. That would at least reduce the chances of threads keeping references to stale class loaders forever. We did something similar for &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6107&quot; title=&quot;Investigate why setting a login timeout causes NativeAuthenticationServiceTest to fail when run in a suite&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6107&quot;&gt;&lt;del&gt;DERBY-6107&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14101393" author="dagw" created="Mon, 18 Aug 2014 22:01:42 +0000"  >&lt;p&gt;Uploading a patch &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12662595/12662595_derby-6619.diff&quot; title=&quot;derby-6619.diff attached to DERBY-6619&quot;&gt;derby-6619.diff&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; which prints warnings on derby.log.&lt;/p&gt;

&lt;p&gt;For example, with this invocation:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;java -jar jars/sane/derbyrun.jar server start
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;which uses the default security manager, the derby.log looks as in &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12662599/12662599_derby.log&quot; title=&quot;derby.log attached to DERBY-6619&quot;&gt;derby.log&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;.&lt;/p&gt;</comment>
                            <comment id="14102327" author="dagw" created="Tue, 19 Aug 2014 15:38:08 +0000"  >&lt;p&gt;Uploading &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12662765/12662765_derby-6619b.diff&quot; title=&quot;derby-6619b.diff attached to DERBY-6619&quot;&gt;derby-6619b.diff&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;, a slightly polished version.&lt;/p&gt;</comment>
                            <comment id="14102463" author="dagw" created="Tue, 19 Aug 2014 17:02:21 +0000"  >&lt;p&gt;Attaching &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12662783/12662783_derby-6619c.diff&quot; title=&quot;derby-6619c.diff attached to DERBY-6619&quot;&gt;derby-6619c.diff&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;: Suggested commit log:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Patch derby-6619 which prints warnings on derby.log if permissions are missing to get and set the context class loader in SingletonTimerFactory (which can lead to classloader leak). Also adds a test of this by checking derby.log in SecureServerTest.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Running regressions. &lt;font color=&quot;green&quot;&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;Update: passed&amp;#93;&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;</comment>
                            <comment id="14102470" author="dagw" created="Tue, 19 Aug 2014 17:06:29 +0000"  >&lt;p&gt;I also changed the code to only dump the stack if we run with sane jars, it is not very useful to end users, and rather unsettling.&lt;/p&gt;</comment>
                            <comment id="14102722" author="jira-bot" created="Tue, 19 Aug 2014 19:51:33 +0000"  >&lt;p&gt;Commit 1618955 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dagw&quot; class=&quot;user-hover&quot; rel=&quot;dagw&quot;&gt;dagw&lt;/a&gt; in branch &apos;code/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1618955&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1618955&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6619&quot; title=&quot;After silently swallowing SecurityExceptions, Derby can leak class loaders&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6619&quot;&gt;&lt;del&gt;DERBY-6619&lt;/del&gt;&lt;/a&gt; After silently swallowing SecurityExceptions, Derby can leak class loaders&lt;/p&gt;

&lt;p&gt;Patch derby-6619 which prints warnings on derby.log if permissions are&lt;br/&gt;
missing to get and set the context class loader in&lt;br/&gt;
SingletonTimerFactory (which can lead to classloader leak). Also adds&lt;br/&gt;
a test of this by checking derby.log in SecureServerTest.&lt;/p&gt;</comment>
                            <comment id="14102754" author="dagw" created="Tue, 19 Aug 2014 20:12:17 +0000"  >&lt;p&gt;I am not planning to rewrite the mechanism to use ExecutorService as Knut suggested for now. I can leave the issue open, or close it and create an improvement issue for that rewrite. Opinions?&lt;/p&gt;</comment>
                            <comment id="14102995" author="jira-bot" created="Tue, 19 Aug 2014 22:52:43 +0000"  >&lt;p&gt;Commit 1619008 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dagw&quot; class=&quot;user-hover&quot; rel=&quot;dagw&quot;&gt;dagw&lt;/a&gt; in branch &apos;code/branches/10.11&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1619008&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1619008&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6619&quot; title=&quot;After silently swallowing SecurityExceptions, Derby can leak class loaders&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6619&quot;&gt;&lt;del&gt;DERBY-6619&lt;/del&gt;&lt;/a&gt; After silently swallowing SecurityExceptions, Derby can leak class loaders&lt;/p&gt;

&lt;p&gt;Backported from trunk svn 1618955.&lt;/p&gt;

&lt;p&gt;Patch derby-6619 which prints warnings on derby.log if permissions are&lt;br/&gt;
missing to get and set the context class loader in&lt;br/&gt;
SingletonTimerFactory (which can lead to classloader leak). Also adds&lt;br/&gt;
a test of this by checking derby.log in SecureServerTest.&lt;/p&gt;</comment>
                            <comment id="14103850" author="knutanders" created="Wed, 20 Aug 2014 13:07:13 +0000"  >&lt;p&gt;The tests are failing on Windows after this change. See for example &lt;a href=&quot;http://download.java.net/javadesktop/derby/request_5594779/javadb-task-3915844.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://download.java.net/javadesktop/derby/request_5594779/javadb-task-3915844.html&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;I&apos;m guessing that it&apos;s the construction of the file name in assertWarningDerby6619() that causes the problem, because it assumes the file separator is /.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; logFileName =
                getSystemProperty(&lt;span class=&quot;code-quote&quot;&gt;&quot;derby.system.home&quot;&lt;/span&gt;).replace(&lt;span class=&quot;code-quote&quot;&gt;&quot;/system&quot;&lt;/span&gt;,&quot;&quot;) +
                File.separator + &lt;span class=&quot;code-quote&quot;&gt;&quot;/derby.log&quot;&lt;/span&gt;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;(I also suspect that it fails on non-Windows platforms if one of the parent directories of the test directory has a name that begins with &quot;system&quot;.)&lt;/p&gt;

&lt;p&gt;Maybe something like &lt;tt&gt;new File(getSystemProperty(&quot;derby.system.home&quot;)).getParent()&lt;/tt&gt; would be a more reliable way of getting the directory name. Or perhaps just &lt;tt&gt;getSystemProperty(&quot;user.dir&quot;)&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="14104112" author="jira-bot" created="Wed, 20 Aug 2014 16:49:33 +0000"  >&lt;p&gt;Commit 1619154 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dagw&quot; class=&quot;user-hover&quot; rel=&quot;dagw&quot;&gt;dagw&lt;/a&gt; in branch &apos;code/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1619154&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1619154&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6619&quot; title=&quot;After silently swallowing SecurityExceptions, Derby can leak class loaders&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6619&quot;&gt;&lt;del&gt;DERBY-6619&lt;/del&gt;&lt;/a&gt; After silently swallowing SecurityExceptions, Derby can leak class loaders&lt;/p&gt;

&lt;p&gt;Fix to make a path to derby.log OS agnostic; used to fail on Windows.&lt;/p&gt;</comment>
                            <comment id="14104118" author="jira-bot" created="Wed, 20 Aug 2014 16:55:32 +0000"  >&lt;p&gt;Commit 1619157 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dagw&quot; class=&quot;user-hover&quot; rel=&quot;dagw&quot;&gt;dagw&lt;/a&gt; in branch &apos;code/branches/10.11&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1619157&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1619157&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6619&quot; title=&quot;After silently swallowing SecurityExceptions, Derby can leak class loaders&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6619&quot;&gt;&lt;del&gt;DERBY-6619&lt;/del&gt;&lt;/a&gt; After silently swallowing SecurityExceptions, Derby can leak class loaders&lt;/p&gt;

&lt;p&gt;Backported from trunk svn 1619154.&lt;/p&gt;

&lt;p&gt;Fix to make a path to derby.log OS agnostic; used to fail on Windows.&lt;/p&gt;</comment>
                            <comment id="14104133" author="dagw" created="Wed, 20 Aug 2014 17:04:27 +0000"  >&lt;p&gt;Thanks, Knut, fixed it, resolving.&lt;/p&gt;</comment>
                            <comment id="14105443" author="knutanders" created="Thu, 21 Aug 2014 15:09:41 +0000"  >&lt;p&gt;Now I see this warning in derby.log if I start a network server from the command line with the default security policy. The warning is not really relevant when you start the network server from the command line, since the leak could only happen if you start the network server embedded within some other application. Since the security warning is printed with the default configuration, I guess many will notice it, and we should expect questions from worried users. I think we should try to find an approach that doesn&apos;t generate warnings in the default configuration.&lt;/p&gt;</comment>
                            <comment id="14105516" author="dagw" created="Thu, 21 Aug 2014 16:08:37 +0000"  >&lt;p&gt;I can see the following options:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Keep the warning and just document it (Pro: avoid the issue&lt;br/&gt;
  being ignored, Con: noisy )&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Don&apos;t print the warning if the server is started from the command&lt;br/&gt;
  line (Pro: less nois, Con: added complexity and different engine&lt;br/&gt;
  behavior depending on start mode is somewhar undesirable in itself)&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Augment the default policy file with the needed permission if the&lt;br/&gt;
  server is started from the command line before loading it (Pro: less&lt;br/&gt;
  noisy, Con: complexity)&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Add the permission to the default policy (needs to be tightened up&lt;br/&gt;
  anyway as per our recommendation in the docs - it is already overly&lt;br/&gt;
  liberal) (Pro: simple, no noise, Con: less safe by default)&lt;/li&gt;
&lt;/ul&gt;

</comment>
                            <comment id="14106730" author="knutanders" created="Fri, 22 Aug 2014 11:20:31 +0000"  >&lt;p&gt;If I&apos;ve understood &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-3745&quot; title=&quot;Derby can leak classloaders in an app server environment&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-3745&quot;&gt;&lt;del&gt;DERBY-3745&lt;/del&gt;&lt;/a&gt; correctly, this code is there in order to protect against the case where the thread that starts Derby, has a context class loader that is different from the system class loader. In such cases, if the timer thread inherits the context class loader, the context class loader will stay in memory until the Derby engine is shut down, even if all other references to the class loader are gone.&lt;/p&gt;

&lt;p&gt;If the context class loader is the same as the system class loader, on the other hand, such a &quot;leak&quot; would not be a problem, since the system class loader will stay in memory until the JVM is shut down anyway.&lt;/p&gt;

&lt;p&gt;I&apos;m wondering if it would be OK to take advantage of this and only attempt to change the context class loader if it is different from the system class loader. See the attached patch &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12663645/12663645_system-loader.diff&quot; title=&quot;system-loader.diff attached to DERBY-6619&quot;&gt;system-loader.diff&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;With that patch, no warning is printed to derby.log when I start the server from the command line, and there&apos;s no warning when I start the server using the API with a security manager installed when the context class loader hasn&apos;t been changed from the default. However, if the server is started using the API with a non-default context class loader, I do see warnings in derby.log if a security manager is installed. This behaviour sounds fine to me, since only the last scenario could potentially suffer from the leak.&lt;/p&gt;

&lt;p&gt;For the record, all regression tests ran cleanly with the patch, except an expected failure in SecureServerTest where we check that the warning is always printed if a security manager is installed.&lt;/p&gt;</comment>
                            <comment id="14107728" author="dagw" created="Fri, 22 Aug 2014 23:55:48 +0000"  >&lt;p&gt;Thanks for that analysis, Knut. I think this is a good way to go. I upload &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12663798/12663798_derby-6619-2.diff&quot; title=&quot;derby-6619-2.diff attached to DERBY-6619&quot;&gt;derby-6619-2.diff&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; which uses your proposed patch and add tests (in SecureServerTest: a new fixture and new asserts in the existing fixtures. Running regressions.&lt;/p&gt;</comment>
                            <comment id="14108905" author="knutanders" created="Mon, 25 Aug 2014 08:51:16 +0000"  >&lt;p&gt;Thanks, Dag. The patch and the test case look good to me. +1 to commit.&lt;/p&gt;

&lt;p&gt;I&apos;m wondering if we may want to make a tiny refinement of the if statement in a follow-up. We could change it from&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;                    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (cl == &lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.getSystemClassLoader()) {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;to&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;                    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (cl == getClass().getClassLoader() ||
                            cl == &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;getClassLoader()) {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;That would be two changes from the original:&lt;/p&gt;

&lt;p&gt;1) Check if the context class loader is the same as the loader of the SingletonTimerFactory class (that is, the class loader from which Derby classes are loaded). Even if this isn&apos;t the same as the system class loader, it would be safe to skip the workaround for &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-3745&quot; title=&quot;Derby can leak classloaders in an app server environment&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-3745&quot;&gt;&lt;del&gt;DERBY-3745&lt;/del&gt;&lt;/a&gt;, since the class loader for the Derby classes would not be eligible for garbage collection until the engine is shut down anyway. This would prevent some more false positives from being reported in derby.log. I&apos;d assume this is a kind of false positive that could easily occur in an application server environment where the Derby classes are not found on the system class loader.&lt;/p&gt;

&lt;p&gt;2) Check against Thread.class.getClassLoader() instead of ClassLoader.getSystemClassLoader(). Normally, those two checks would be identical. If however the setup is such that they aren&apos;t identical, we&apos;d still know that the class loader actually used for system classes such as the Thread class would have to stay in memory for as long as the timer thread is alive, regardless of the context class loader of the thread, so the workaround for &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-3745&quot; title=&quot;Derby can leak classloaders in an app server environment&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-3745&quot;&gt;&lt;del&gt;DERBY-3745&lt;/del&gt;&lt;/a&gt; could be skipped if it&apos;s the same as the context class loader. The check would be a bit more specific this way.&lt;/p&gt;

&lt;p&gt;Not sure about #2, but at least #1 sounds worthwhile. FWIW, the new SecureServerTest passes with the suggested additional changes too.&lt;/p&gt;</comment>
                            <comment id="14109286" author="dagw" created="Mon, 25 Aug 2014 16:39:27 +0000"  >&lt;p&gt;Uploading &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12664168/12664168_derby-6619-2b.diff&quot; title=&quot;derby-6619-2b.diff attached to DERBY-6619&quot;&gt;derby-6619-2b.diff&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;. Added an action in the setUp method of the new decorator ClassLoaderTestSetup to shutdown the engine, so we can be sure the Derby classes are all loaded with the new class loader (the lack thereof revealed by the regression suite).&lt;/p&gt;</comment>
                            <comment id="14109331" author="jira-bot" created="Mon, 25 Aug 2014 17:20:13 +0000"  >&lt;p&gt;Commit 1620379 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dagw&quot; class=&quot;user-hover&quot; rel=&quot;dagw&quot;&gt;dagw&lt;/a&gt; in branch &apos;code/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1620379&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1620379&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6619&quot; title=&quot;After silently swallowing SecurityExceptions, Derby can leak class loaders&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6619&quot;&gt;&lt;del&gt;DERBY-6619&lt;/del&gt;&lt;/a&gt; After silently swallowing SecurityExceptions, Derby can leak class loaders&lt;/p&gt;

&lt;p&gt;Patch derby-6619-2.&lt;/p&gt;

&lt;p&gt;The fix introduced in &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-3745&quot; title=&quot;Derby can leak classloaders in an app server environment&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-3745&quot;&gt;&lt;del&gt;DERBY-3745&lt;/del&gt;&lt;/a&gt; correctly is there in order to&lt;br/&gt;
protect against the case where the thread that starts Derby, has a&lt;br/&gt;
context class loader that is different from the system class&lt;br/&gt;
loader. In such cases, if the timer thread inherits the context class&lt;br/&gt;
loader, the context class loader will stay in memory until the Derby&lt;br/&gt;
engine is shut down, even if all other references to the class loader&lt;br/&gt;
are gone.&lt;/p&gt;

&lt;p&gt;If the context class loader is the same as the system class loader, on&lt;br/&gt;
the other hand, such a &quot;leak&quot; would not be a problem, since the system&lt;br/&gt;
class loader will stay in memory until the JVM is shut down anyway.&lt;/p&gt;

&lt;p&gt;We take advantage of this and only attempt to change the context class&lt;br/&gt;
loader if it is different from the system class loader.  With this&lt;br/&gt;
patch, no warning is printed to derby.log when starting the server&lt;br/&gt;
from the command line, and there&apos;s no warning when starting the server&lt;br/&gt;
using the API with a security manager installed when the context class&lt;br/&gt;
loader hasn&apos;t been changed from the default. However, if the server is&lt;br/&gt;
started using the API with a non-default context class loader, we do&lt;br/&gt;
see warnings in derby.log if a security manager is installed and the&lt;br/&gt;
permission to set the class loader is missing.&lt;/p&gt;

&lt;p&gt;Added tests for this behavior. Moved utility methods from&lt;br/&gt;
UpgradeClassLoader to ClassLoaderTestSetup, a new decorator. It seemed&lt;br/&gt;
more logical to put them there to allow reuse.&lt;/p&gt;</comment>
                            <comment id="14109345" author="dagw" created="Mon, 25 Aug 2014 17:26:37 +0000"  >&lt;p&gt;Attaching &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12664174/12664174_derby-6619-2-refinement.diff&quot; title=&quot;derby-6619-2-refinement.diff attached to DERBY-6619&quot;&gt;derby-6619-2-refinement.diff&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; which implements your suggested improvements to the test, Knut. Both seem good to me.&lt;/p&gt;</comment>
                            <comment id="14109355" author="jira-bot" created="Mon, 25 Aug 2014 17:33:50 +0000"  >&lt;p&gt;Commit 1620385 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dagw&quot; class=&quot;user-hover&quot; rel=&quot;dagw&quot;&gt;dagw&lt;/a&gt; in branch &apos;code/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1620385&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1620385&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6619&quot; title=&quot;After silently swallowing SecurityExceptions, Derby can leak class loaders&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6619&quot;&gt;&lt;del&gt;DERBY-6619&lt;/del&gt;&lt;/a&gt; After silently swallowing SecurityExceptions, Derby can leak class loaders&lt;/p&gt;

&lt;p&gt;Patch derby-6619-2-refinement which implements the following&lt;br/&gt;
refinements to the test to avoid changing the context class loader in&lt;br/&gt;
SingletonTimerFactory (suggested by Knut):&lt;/p&gt;

&lt;p&gt;The orginal test tested against the system class loader. This new patch will:&lt;/p&gt;

&lt;p&gt;1) Check if the context class loader is the same as the loader of the&lt;br/&gt;
SingletonTimerFactory class (that is, the class loader from which&lt;br/&gt;
Derby classes are loaded). Even if this isn&apos;t the same as the system&lt;br/&gt;
class loader, it would be safe to skip the workaround for &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-3745&quot; title=&quot;Derby can leak classloaders in an app server environment&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-3745&quot;&gt;&lt;del&gt;DERBY-3745&lt;/del&gt;&lt;/a&gt;,&lt;br/&gt;
since the class loader for the Derby classes would not be eligible for&lt;br/&gt;
garbage collection until the engine is shut down anyway. This would&lt;br/&gt;
prevent some more false positives from being reported in&lt;br/&gt;
derby.log. I&apos;d assume this is a kind of false positive that could&lt;br/&gt;
easily occur in an application server environment where the Derby&lt;br/&gt;
classes are not found on the system class loader.&lt;/p&gt;

&lt;p&gt;2) Check against Thread.class.getClassLoader() instead of&lt;br/&gt;
ClassLoader.getSystemClassLoader(). Normally, those two checks would&lt;br/&gt;
be identical. If however the setup is such that they aren&apos;t identical,&lt;br/&gt;
we&apos;d still know that the class loader actually used for system classes&lt;br/&gt;
such as the Thread class would have to stay in memory for as long as&lt;br/&gt;
the timer thread is alive, regardless of the context class loader of&lt;br/&gt;
the thread, so the workaround for &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-3745&quot; title=&quot;Derby can leak classloaders in an app server environment&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-3745&quot;&gt;&lt;del&gt;DERBY-3745&lt;/del&gt;&lt;/a&gt; can be skipped if it&apos;s&lt;br/&gt;
the same as the context class loader. The check will be a bit more&lt;br/&gt;
specific this way.&lt;/p&gt;</comment>
                            <comment id="14109393" author="jira-bot" created="Mon, 25 Aug 2014 17:53:33 +0000"  >&lt;p&gt;Commit 1620391 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dagw&quot; class=&quot;user-hover&quot; rel=&quot;dagw&quot;&gt;dagw&lt;/a&gt; in branch &apos;code/branches/10.11&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1620391&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1620391&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6619&quot; title=&quot;After silently swallowing SecurityExceptions, Derby can leak class loaders&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6619&quot;&gt;&lt;del&gt;DERBY-6619&lt;/del&gt;&lt;/a&gt; After silently swallowing SecurityExceptions, Derby can leak class loaders&lt;/p&gt;

&lt;p&gt;Backport from trunk svn 1620378.&lt;/p&gt;

&lt;p&gt;Patch derby-6619-2.&lt;/p&gt;

&lt;p&gt;The fix introduced in &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-3745&quot; title=&quot;Derby can leak classloaders in an app server environment&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-3745&quot;&gt;&lt;del&gt;DERBY-3745&lt;/del&gt;&lt;/a&gt; correctly is there in order to&lt;br/&gt;
protect against the case where the thread that starts Derby, has a&lt;br/&gt;
context class loader that is different from the system class&lt;br/&gt;
loader. In such cases, if the timer thread inherits the context class&lt;br/&gt;
loader, the context class loader will stay in memory until the Derby&lt;br/&gt;
engine is shut down, even if all other references to the class loader&lt;br/&gt;
are gone.&lt;/p&gt;

&lt;p&gt;If the context class loader is the same as the system class loader, on&lt;br/&gt;
the other hand, such a &quot;leak&quot; would not be a problem, since the system&lt;br/&gt;
class loader will stay in memory until the JVM is shut down anyway.&lt;br/&gt;
We take advantage of this and only attempt to change the context class&lt;br/&gt;
loader if it is different from the system class loader. With this&lt;br/&gt;
patch, no warning is printed to derby.log when starting the server&lt;br/&gt;
from the command line, and there&apos;s no warning when starting the server&lt;br/&gt;
using the API with a security manager installed when the context class&lt;br/&gt;
loader hasn&apos;t been changed from the default. However, if the server is&lt;br/&gt;
started using the API with a non-default context class loader, we do&lt;br/&gt;
see warnings in derby.log if a security manager is installed and the&lt;br/&gt;
permission to set the class loader is missing.&lt;/p&gt;

&lt;p&gt;Added tests for this behavior. Moved utility methods from&lt;br/&gt;
UpgradeClassLoader to ClassLoaderTestSetup, a new decorator. It seemed&lt;br/&gt;
more logical to put them there to allow reuse.&lt;/p&gt;</comment>
                            <comment id="14109399" author="jira-bot" created="Mon, 25 Aug 2014 17:57:09 +0000"  >&lt;p&gt;Commit 1620392 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dagw&quot; class=&quot;user-hover&quot; rel=&quot;dagw&quot;&gt;dagw&lt;/a&gt; in branch &apos;code/branches/10.11&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1620392&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1620392&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6619&quot; title=&quot;After silently swallowing SecurityExceptions, Derby can leak class loaders&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6619&quot;&gt;&lt;del&gt;DERBY-6619&lt;/del&gt;&lt;/a&gt; After silently swallowing SecurityExceptions, Derby can leak class loaders&lt;/p&gt;

&lt;p&gt;Backported from trunk svn 1620385.&lt;/p&gt;

&lt;p&gt;Patch derby-6619-2-refinement which implements the following&lt;br/&gt;
refinements to the test to avoid changing the context class loader in&lt;br/&gt;
SingletonTimerFactory (suggested by Knut):&lt;/p&gt;

&lt;p&gt;The orginal test tested against the system class loader. This new&lt;br/&gt;
patch will:&lt;/p&gt;

&lt;p&gt;1) Check if the context class loader is the same as the loader of the&lt;br/&gt;
SingletonTimerFactory class (that is, the class loader from which&lt;br/&gt;
Derby classes are loaded). Even if this isn&apos;t the same as the system&lt;br/&gt;
class loader, it would be safe to skip the workaround for &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-3745&quot; title=&quot;Derby can leak classloaders in an app server environment&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-3745&quot;&gt;&lt;del&gt;DERBY-3745&lt;/del&gt;&lt;/a&gt;,&lt;br/&gt;
since the class loader for the Derby classes would not be eligible for&lt;br/&gt;
garbage collection until the engine is shut down anyway. This would&lt;br/&gt;
prevent some more false positives from being reported in&lt;br/&gt;
derby.log. I&apos;d assume this is a kind of false positive that could&lt;br/&gt;
easily occur in an application server environment where the Derby&lt;br/&gt;
classes are not found on the system class loader.&lt;/p&gt;

&lt;p&gt;2) Check against Thread.class.getClassLoader() instead of&lt;br/&gt;
ClassLoader.getSystemClassLoader(). Normally, those two checks would&lt;br/&gt;
be identical. If however the setup is such that they aren&apos;t identical,&lt;br/&gt;
we&apos;d still know that the class loader actually used for system classes&lt;br/&gt;
such as the Thread class would have to stay in memory for as long as&lt;br/&gt;
the timer thread is alive, regardless of the context class loader of&lt;br/&gt;
the thread, so the workaround for &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-3745&quot; title=&quot;Derby can leak classloaders in an app server environment&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-3745&quot;&gt;&lt;del&gt;DERBY-3745&lt;/del&gt;&lt;/a&gt; can be skipped if it&apos;s&lt;br/&gt;
the same as the context class loader. The check will be a bit more&lt;br/&gt;
specific this way.&lt;/p&gt;</comment>
                            <comment id="14109406" author="dagw" created="Mon, 25 Aug 2014 17:59:22 +0000"  >&lt;p&gt;Resolving the issue again after the second set of changes, also backported to 10.11.&lt;/p&gt;</comment>
                            <comment id="14110529" author="knutanders" created="Tue, 26 Aug 2014 09:16:15 +0000"  >&lt;p&gt;Thanks, Dag! I&apos;m attaching &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12664361/12664361_comments.diff&quot; title=&quot;comments.diff attached to DERBY-6619&quot;&gt;comments.diff&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; which updates some comments that no longer reflected reality after the latest changes.&lt;/p&gt;</comment>
                            <comment id="14110530" author="jira-bot" created="Tue, 26 Aug 2014 09:17:21 +0000"  >&lt;p&gt;Commit 1620539 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=knutanders&quot; class=&quot;user-hover&quot; rel=&quot;knutanders&quot;&gt;knutanders&lt;/a&gt; in branch &apos;code/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1620539&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1620539&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6619&quot; title=&quot;After silently swallowing SecurityExceptions, Derby can leak class loaders&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6619&quot;&gt;&lt;del&gt;DERBY-6619&lt;/del&gt;&lt;/a&gt;: Improve comments&lt;/p&gt;</comment>
                            <comment id="14110693" author="jira-bot" created="Tue, 26 Aug 2014 13:35:21 +0000"  >&lt;p&gt;Commit 1620598 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dagw&quot; class=&quot;user-hover&quot; rel=&quot;dagw&quot;&gt;dagw&lt;/a&gt; in branch &apos;code/branches/10.11&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1620598&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1620598&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6619&quot; title=&quot;After silently swallowing SecurityExceptions, Derby can leak class loaders&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6619&quot;&gt;&lt;del&gt;DERBY-6619&lt;/del&gt;&lt;/a&gt; Improve comments&lt;/p&gt;

&lt;p&gt;Backported from trunk svn 1620539 cleanly.&lt;/p&gt;</comment>
                            <comment id="15476654" author="knutanders" created="Fri, 9 Sep 2016 09:53:51 +0000"  >&lt;p&gt;[ Automatically closing all resolved issues that haven&apos;t been updated in more than six months. ]&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12399325">DERBY-3745</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12636772">DERBY-6107</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12664361" name="comments.diff" size="3355" author="knutanders" created="Tue, 26 Aug 2014 09:16:15 +0000"/>
                            <attachment id="12664174" name="derby-6619-2-refinement.diff" size="1769" author="dagw" created="Mon, 25 Aug 2014 17:26:37 +0000"/>
                            <attachment id="12663798" name="derby-6619-2.diff" size="44209" author="dagw" created="Fri, 22 Aug 2014 23:58:36 +0000"/>
                            <attachment id="12664168" name="derby-6619-2b.diff" size="44381" author="dagw" created="Mon, 25 Aug 2014 16:39:27 +0000"/>
                            <attachment id="12662595" name="derby-6619.diff" size="8629" author="dagw" created="Mon, 18 Aug 2014 22:08:56 +0000"/>
                            <attachment id="12662591" name="derby-6619.status" size="1263" author="dagw" created="Mon, 18 Aug 2014 22:01:42 +0000"/>
                            <attachment id="12662765" name="derby-6619b.diff" size="15051" author="dagw" created="Tue, 19 Aug 2014 15:38:08 +0000"/>
                            <attachment id="12662783" name="derby-6619c.diff" size="19528" author="dagw" created="Tue, 19 Aug 2014 17:02:21 +0000"/>
                            <attachment id="12662599" name="derby.log" size="15559" author="dagw" created="Mon, 18 Aug 2014 22:13:28 +0000"/>
                            <attachment id="12663645" name="system-loader.diff" size="2068" author="knutanders" created="Fri, 22 Aug 2014 11:20:31 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>10.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310200" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Bug behavior facts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10361"><![CDATA[Security]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>399887</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 10 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1wu8n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>399995</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310050" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Urgency</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10052"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>