<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 14:49:41 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[DERBY-6414] Incorrect handling when using an UPDATE to SET an identity column to DEFAULT</title>
                <link>https://issues.apache.org/jira/browse/DERBY-6414</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;Derby violates the SQL Standard when an UPDATE statement SETs an identity column to the value DEFAULT. Derby does the right thing for INSERTs, however.&lt;/p&gt;

&lt;p&gt;For INSERTs, the 2011 Standard defines the meaning of DEFAULT in part 2, section 15.10 (Effect of inserting tables into base tables), general rule 2. For INSERTs, the DEFAULT value is the next value of the sequence generator which defines the identity column.&lt;/p&gt;

&lt;p&gt;For UPDATEs, the 2011 Standard defines the meaning of DEFAULT in part 2, section 15.13 (Effect of replacing rows in base tables), general rule 5. For UPDATEs, the DEFAULT value is also the next value of the sequence generator which defines the identity column.&lt;/p&gt;

&lt;p&gt;Note also that the 2011 Standard says that a GENERATED ALWAYS identity column can be SET to DEFAULT. Furthermore, that is the only explicit value accepted. See the 2011 Standard, part 2, section 14.15 (set clause list), syntax rule 5:&lt;/p&gt;

&lt;p&gt;{&lt;br/&gt;
&quot;If &amp;lt;set clause&amp;gt; SC specifies an &amp;lt;object column&amp;gt; that references a column of which some underlying column is either a generated column or an identity column whose descriptor indicates that values are always generated, then the &amp;lt;update source&amp;gt; specified in SC shall consist of a &amp;lt;default specification&amp;gt;.&quot;&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;What Derby actually does for UPDATEs is the following:&lt;/p&gt;

&lt;p&gt;1) If the column was declared GENERATED ALWAYS, then Derby raises a compile-time error saying that the value of an identity column can&apos;t be overridden.&lt;/p&gt;

&lt;p&gt;2) If the column was declared GENERATED BY DEFAULT, then Derby raises an execution time-error when trying to stuff a null into the column.&lt;/p&gt;

&lt;p&gt;Correcting this bug would result in backwardly incompatible behavior. However, I think that the incompatibility is minor: it would mean the successful run of statements which previously raised errors.&lt;/p&gt;

&lt;p&gt;I tripped across this problem while implementing the UPDATE action of the MERGE statement (&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-3155&quot; title=&quot;Support for SQL:2003 MERGE statement&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-3155&quot;&gt;&lt;del&gt;DERBY-3155&lt;/del&gt;&lt;/a&gt;). If we decide to fix this bug, we will want to make sure that the UPDATE actions of MERGE statements also correctly handle DEFAULT values for identity columns.&lt;/p&gt;

&lt;p&gt;The following script shows this problem:&lt;/p&gt;

&lt;p&gt;connect &apos;jdbc:derby:memory:db;create=true&apos;;&lt;/p&gt;

&lt;p&gt;create table t1( a int generated always as identity, b int );&lt;br/&gt;
create table t2( a int generated by default as identity, b int );&lt;/p&gt;

&lt;p&gt;insert into t1( a, b ) values ( default, 100 );&lt;br/&gt;
insert into t2( a, b ) values ( default, 100 );&lt;/p&gt;

&lt;p&gt;update t1 set a = default;&lt;br/&gt;
update t2 set a = default;&lt;/p&gt;

&lt;p&gt;select * from t1;&lt;br/&gt;
select * from t2;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12678827">DERBY-6414</key>
            <summary>Incorrect handling when using an UPDATE to SET an identity column to DEFAULT</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mamtas">Mamta A. Satoor</assignee>
                                    <reporter username="rhillegas">Richard N. Hillegas</reporter>
                        <labels>
                            <label>derby_backport_reject_10_10</label>
                    </labels>
                <created>Tue, 12 Nov 2013 15:48:11 +0000</created>
                <updated>Tue, 12 Mar 2019 14:19:49 +0000</updated>
                            <resolved>Wed, 1 Oct 2014 04:20:14 +0000</resolved>
                                    <version>10.2.2.1</version>
                    <version>10.10.1.1</version>
                                    <fixVersion>10.12.1.1</fixVersion>
                                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="13820307" author="rhillegas" created="Tue, 12 Nov 2013 18:24:15 +0000"  >&lt;p&gt;This understanding of the SQL Standard behavior is supported by DB2&apos;s behavior as described here: &lt;a href=&quot;http://pic.dhe.ibm.com/infocenter/iseries/v7r1m0/index.jsp?topic=%2Fsqlp%2Frbafyupdateidentity.htm&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://pic.dhe.ibm.com/infocenter/iseries/v7r1m0/index.jsp?topic=%2Fsqlp%2Frbafyupdateidentity.htm&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13906087" author="mikem" created="Wed, 19 Feb 2014 21:15:23 +0000"  >&lt;p&gt;here is the current 10.10 branch behavior for the included script, it matches the issue description of the incorrect derby behavior:&lt;br/&gt;
ij version 10.10&lt;br/&gt;
CONNECTION0* -  jdbc:derby:wombat&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;= current connection&lt;br/&gt;
ij&amp;gt; create table t1( a int generated always as identity, b int );&lt;br/&gt;
0 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; create table t2( a int generated by default as identity, b int );&lt;br/&gt;
0 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; insert into t1( a, b ) values ( default, 100 );&lt;br/&gt;
1 row inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; insert into t2( a, b ) values ( default, 100 );&lt;br/&gt;
1 row inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; update t1 set a = default;&lt;br/&gt;
ERROR 42Z23: Attempt to modify an identity column &apos;A&apos;.&lt;br/&gt;
ij&amp;gt; update t2 set a = default;&lt;br/&gt;
ERROR 23502: Column &apos;A&apos;  cannot accept a NULL value.&lt;br/&gt;
ij&amp;gt; select * from t1;&lt;br/&gt;
A          |B&lt;br/&gt;
-----------------------&lt;br/&gt;
1          |100&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;1 row selected&lt;br/&gt;
ij&amp;gt; select * from t2;&lt;br/&gt;
A          |B&lt;br/&gt;
-----------------------&lt;br/&gt;
1          |100&lt;/p&gt;

&lt;p&gt;1 row selected&lt;/p&gt;</comment>
                            <comment id="13906092" author="mikem" created="Wed, 19 Feb 2014 21:18:58 +0000"  >&lt;p&gt;tried against top of 10.2 branch and behavior looks same, so going to assume this is not a regression.  I don&apos;t plan on testing the other versions at this time.&lt;br/&gt;
ij version 10.2&lt;br/&gt;
CONNECTION0* -  jdbc:derby:wombat&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;= current connection&lt;br/&gt;
ij&amp;gt; create table t1( a int generated always as identity, b int );&lt;br/&gt;
0 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; create table t2( a int generated by default as identity, b int );&lt;br/&gt;
0 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; insert into t1( a, b ) values ( default, 100 );&lt;br/&gt;
1 row inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; insert into t2( a, b ) values ( default, 100 );&lt;br/&gt;
1 row inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; update t1 set a = default;&lt;br/&gt;
ERROR 42Z23: Attempt to modify an identity column &apos;A&apos;.&lt;br/&gt;
ij&amp;gt; update t2 set a = default;&lt;br/&gt;
ERROR 23502: Column &apos;A&apos;  cannot accept a NULL value.&lt;br/&gt;
ij&amp;gt; select * from t1;&lt;br/&gt;
A          |B&lt;br/&gt;
-----------------------&lt;br/&gt;
1          |100&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;1 row selected&lt;br/&gt;
ij&amp;gt; select * from t2;&lt;br/&gt;
A          |B&lt;br/&gt;
-----------------------&lt;br/&gt;
1          |100&lt;/p&gt;

&lt;p&gt;1 row selected&lt;/p&gt;</comment>
                            <comment id="14057173" author="mamtas" created="Thu, 10 Jul 2014 06:06:41 +0000"  >&lt;p&gt;Just wanted to share that I found old Cloudscape info related to identity columns and it says following for UPDATE and identity columns.&lt;br/&gt;
***************************&lt;br/&gt;
If we were to allow users to insert values directly into autoincrement columns, we would have to figure out whether to update the maximum value for the column on each of these inserts. This is probably not worth the extra cost of implementation, since users will probably not want to do this very often. (The same is true for updates of autoincrement columns.) &lt;br/&gt;
***************************&lt;br/&gt;
I will look into INSERT implementation of DEFAULT for identity columns to get an idea as what might be involved if we decide to support identity column update using DEFAULT.&lt;/p&gt;</comment>
                            <comment id="14060425" author="mamtas" created="Mon, 14 Jul 2014 08:15:14 +0000"  >&lt;p&gt;I noticed following things at bind time when DEFAULT is used in a simple INSERT statement &lt;br/&gt;
	eg insert into t1( a ) values ( default); where a is column of generated always as identity type.&lt;br/&gt;
1)at bind time, we verify if DEFAULT is allowed for the column ie is the column an auto increment column&lt;br/&gt;
2)If step 1) didn&apos;t give an error, then we gnerated DefaultInfoImpl.&lt;br/&gt;
3)Next, we generate an array of RowLocations corresponding to the autoincrement columns in the table. The RowLocation points to the row in SYSCOLUMNS for this particular ai column. The array has as many elements as there are columns in the table. If a column is not an ai column, the entry is NULL.&lt;br/&gt;
4)Starting 10.11, we use sequence generator to create values in case of DEFAULT. Databases with prior release do not use sequence generator to generate new values.&lt;/p&gt;

&lt;p&gt;We would need to account for the above mentioned things for UPDATE. Additionally, not sure if we need to do anything special&lt;br/&gt;
1)to have the before and after value for identity columns&lt;br/&gt;
2)should UPDATE using DEFAULT be allowed on soft upgrade or should it be supported only for Derby databases that are at the	same version as where we start supporting DEFAULT in UPDATE statements.&lt;/p&gt;

&lt;p&gt;I need to do debugging at the execution time of INSERT with DEFAULT to note down what we will need to keep in mind while working on UPDATE.&lt;/p&gt;</comment>
                            <comment id="14101227" author="mamtas" created="Mon, 18 Aug 2014 20:33:48 +0000"  >&lt;p&gt;I am wondering if UPDATE with DEFAULT will need to account for IDENTITY_VAL_LOCAL function. As per the reference manual, this function is for INSERT. Appreciate any feedback&lt;/p&gt;</comment>
                            <comment id="14101804" author="mamtas" created="Tue, 19 Aug 2014 03:41:32 +0000"  >&lt;p&gt;The first step in allowing DEFAULT value in UPDATE statement is to identify the columns in the bind phase which are permitted to have DEFAULT value assigned to them. &lt;br/&gt;
I have attached a patch which is not ready for commit. In the patch, update node goes through the result columns using the DEFAULT clause and marks them as generated if the corresponding column descriptor on the table has that column identified as generated.&lt;br/&gt;
Looking at the execution code to see how the actual value generation should happen for such columns.&lt;/p&gt;</comment>
                            <comment id="14101983" author="knutanders" created="Tue, 19 Aug 2014 07:47:05 +0000"  >&lt;p&gt;I don&apos;t think UPDATE statements should affect the IDENTITY_VAL_LOCAL function, since we&apos;ve documented it to return the identity value generated by a &lt;em&gt;single-row INSERT statement&lt;/em&gt;. (Note also that it&apos;s more difficult to tell if an UPDATE statement works on a single row. For INSERT statements, this is known at compile-time. For UPDATE statements, we don&apos;t know it until the statement has been executed.)&lt;/p&gt;

&lt;p&gt;We might want to collect the generated values if a JDBC statement is executed with the Statement.RETURN_GENERATED_KEYS flag.&lt;/p&gt;</comment>
                            <comment id="14112795" author="mamtas" created="Wed, 27 Aug 2014 20:38:28 +0000"  >&lt;p&gt;Forgot to mention that I tried the behavior on DB2 installation (which Rick found documented in DB2 docs) and it does support updating an identity column with DEFAULT.&lt;/p&gt;</comment>
                            <comment id="14132353" author="mamtas" created="Sat, 13 Sep 2014 00:19:53 +0000"  >&lt;p&gt;Attaching patch DERBY6414_patch1_diff.txt for review. This patch supports update of identity columns using DEFAULT keyword. &lt;/p&gt;

&lt;p&gt;This support is for Derby 10.11 and higher. Starting 10.11, we have started using sequence generator to create unique ids. If we fix this jira for pre-10.11 releases, we will need to maintain the code for old way of generating unique ids.&lt;/p&gt;

&lt;p&gt;I have added some new junit tests for this feature in GeneratedColumnsTest.java. &lt;/p&gt;

&lt;p&gt;The support of this feature requires changes in MERGE statement code. MERGE has required code for insert putting DEFAULT in generated columns. Implementation needs to be added for update putting DEFAULT in generated columns in case of MERGE. I will open a separate jira for that work. In the mean time, I have renamed existing junit test test_015_bug_6414 to atest_015_bug_6414 in MergeStatementTest.java so we do not run into failures.&lt;/p&gt;

&lt;p&gt;I need to add upgrade tests to show that a soft upgrade from pre-10.11 will not support update of generated columns using DEFAULT but 10.11 to trunk soft upgrade will allow it.&lt;/p&gt;

&lt;p&gt;I will also create a new jira for JDBC part of this feature so we can generate auto generated resultset for an update statement updating generated columns. This implementation is supported through Statement.RETURN_GENERATED_KEYS flag. Not sure yet what is the work involved but I will look into it.&lt;/p&gt;

&lt;p&gt;I will greatly appreciate the review of the patch and especially appreciuate any suggestions on tips on more junit tests.&lt;/p&gt;

&lt;p&gt;Some detail about the part of the implementation that was tricky.&lt;br/&gt;
The existing code was originally written to handle inserting values in identity columns using DEFAULT. In case of insert, InsertResultSet uses ColumnDescriptors in resultDescription to find the type of the generated columns. This data structure holds the column descriptors of all the columns in the table. All the columns are in this data structure because even though INSERT statement may not explicitly assign a value to each and every column in the table, all the columns end up getting some value in them through an INSERT statement. The code in InsertResultSet.initializeAIcache method relies on availability of all the columns type information. But in case of Update,  resultDescription does not include all the columns in the table. It only has the columns being touched by the Update statement(the rest of the columns in the table will retain their original values), and for each of those touched columns, it has a duplicate entry in resultDescription in order to have before and after values for the changed column values. This difference in array content of resultDescription requires us to have separate implementation of initializeAIcache  method for insert and update.&lt;/p&gt;

</comment>
                            <comment id="14132360" author="mamtas" created="Sat, 13 Sep 2014 00:21:07 +0000"  >&lt;p&gt;I will run junit and derbyall suite with the patch.&lt;/p&gt;</comment>
                            <comment id="14134193" author="mamtas" created="Mon, 15 Sep 2014 17:51:49 +0000"  >&lt;p&gt;derbyall and junit ran fine with the patch.&lt;/p&gt;</comment>
                            <comment id="14136823" author="mamtas" created="Wed, 17 Sep 2014 05:59:13 +0000"  >&lt;p&gt;Attaching an updated patch, DERBY6414_patch2_diff.txt, which is same as the previous patch but now has upgrade tests added to it.&lt;/p&gt;</comment>
                            <comment id="14138457" author="jira-bot" created="Thu, 18 Sep 2014 03:52:37 +0000"  >&lt;p&gt;Commit 1625884 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mamtas&quot; class=&quot;user-hover&quot; rel=&quot;mamtas&quot;&gt;mamtas&lt;/a&gt; in branch &apos;code/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1625884&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1625884&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;CERBY-6414(Incorrect handling when using an UPDATE to SET an identity column to DEFAULT)&lt;/p&gt;

&lt;p&gt;I have created &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6742&quot; title=&quot;For update statement, collect generated keys if Statement.RETURN_GENERATED_KEYS flag is supplied to the JDBC call.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6742&quot;&gt;&lt;del&gt;DERBY-6742&lt;/del&gt;&lt;/a&gt; for JDBC part of this feature so we can generate auto generated resultset for an update statement updating generated columns. This implementation is supported through Statement.RETURN_GENERATED_KEYS flag.&lt;/p&gt;

&lt;p&gt;Junit tests for this feature are in GeneratedColumnsTest.java. Upgrade tests are in Changes10_12.java. Upgrade test shows that a soft upgrade from pre-10.11 will not support update of generated columns using DEFAULT but 10.11 to trunk soft upgrade will allow it. This is because starting 10.11, we have started using sequence generator to create unique ids. If we want to support updating of idetity columns for pre-10.11 releases, we will need to maintain the code for old way of generating unique ids. In order to avoid that, this feature is available to only 10.11 db during soft upgrade.&lt;/p&gt;

&lt;p&gt;For UPDATE of identity column to work in the MERGE sql, we need to make changes to MERGE code(&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6743&quot; title=&quot;MERGE code needs changes since now UPDATE statement can change the identity column value using DEFAULT keyword.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6743&quot;&gt;DERBY-6743&lt;/a&gt;). MERGE already has required code for insert putting DEFAULT in generated columns. Implementation needs to be added for update putting DEFAULT in generated columns in case of MERGE. In the mean time, I have renamed existing junit test test_015_bug_6414 to atest_015_bug_6414 in MergeStatementTest.java so we do not run into failures.&lt;/p&gt;

&lt;p&gt;Some detail about the part of the implementation that was tricky for &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6414&quot; title=&quot;Incorrect handling when using an UPDATE to SET an identity column to DEFAULT&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6414&quot;&gt;&lt;del&gt;DERBY-6414&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
The existing code was originally written to handle inserting values in identity columns using DEFAULT. In case of insert, InsertResultSet uses ColumnDescriptors in resultDescription to find the type of the generated columns. This data structure holds the column descriptors of all the columns in the table. All the columns are in this data structure because even though INSERT statement may not explicitly assign a value to each and every column in the table, all the columns end up getting some value in them through an INSERT statement. The code in InsertResultSet.initializeAIcache method relies on availability of all the columns type information. But in case of Update, resultDescription does not include all the columns in the table. It only has the columns being touched by the Update statement(the rest of the columns in the table will retain their original values), and for each of those touched columns, it has a duplicate entry in resultDescription in order to have before and after values for the changed column values. This difference in array content of resultDescription requires us to have separate implementation of initializeAIcache method for insert and update.&lt;/p&gt;</comment>
                            <comment id="14143103" author="knutanders" created="Mon, 22 Sep 2014 11:12:49 +0000"  >&lt;p&gt;I occasionally run FindBugs on the Derby code base to look for security warnings. The patch for this issue introduced two new warnings:&lt;/p&gt;

&lt;p&gt;InsertConstantAction.java:289, EI_EXPOSE_REP, Priority: Normal&lt;br/&gt;
UpdateConstantAction.java:260, EI_EXPOSE_REP, Priority: Normal&lt;/p&gt;

&lt;p&gt;The warnings are caused by the new getColumnNames() methods in InsertConstantAction and UpdateConstantAction. FindBugs seems to be worried about exposing the internal array of column names, since callers may modify the returned array and thereby modify the internal state of the ConstantAction.&lt;/p&gt;

&lt;p&gt;FindBugs suggests that it could be solved by making the methods return a copy of the array instead. However, since the methods are only called from code that lives in the same package, they don&apos;t need to be public, and the warnings could just as easily be silenced by making the methods package private.&lt;/p&gt;

&lt;p&gt;The attached patch &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12670399/12670399_d6414-reduce-visibility.diff&quot; title=&quot;d6414-reduce-visibility.diff attached to DERBY-6414&quot;&gt;d6414-reduce-visibility.diff&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; reduces the visibility of the two methods. This made the warnings go away. I&apos;m running regression tests on the patch now.&lt;/p&gt;</comment>
                            <comment id="14143115" author="jira-bot" created="Mon, 22 Sep 2014 11:34:14 +0000"  >&lt;p&gt;Commit 1626735 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=knutanders&quot; class=&quot;user-hover&quot; rel=&quot;knutanders&quot;&gt;knutanders&lt;/a&gt; in branch &apos;code/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1626735&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1626735&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Make some methods added in &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6414&quot; title=&quot;Incorrect handling when using an UPDATE to SET an identity column to DEFAULT&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6414&quot;&gt;&lt;del&gt;DERBY-6414&lt;/del&gt;&lt;/a&gt; non-public to avoid exposing&lt;br/&gt;
internal arrays publicly.&lt;/p&gt;</comment>
                            <comment id="14143116" author="knutanders" created="Mon, 22 Sep 2014 11:34:34 +0000"  >&lt;p&gt;The tests passed, so I checked in &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12670399/12670399_d6414-reduce-visibility.diff&quot; title=&quot;d6414-reduce-visibility.diff attached to DERBY-6414&quot;&gt;d6414-reduce-visibility.diff&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; with revision 1626735.&lt;/p&gt;</comment>
                            <comment id="14143760" author="mamtas" created="Mon, 22 Sep 2014 20:34:09 +0000"  >&lt;p&gt;Knut, thanks for restricting the visibility of the new methods to the package rather than having them public.&lt;/p&gt;</comment>
                            <comment id="14153720" author="mamtas" created="Tue, 30 Sep 2014 20:36:35 +0000"  >&lt;p&gt;Attaching a release note since we have a change in behavior.&lt;/p&gt;</comment>
                            <comment id="14154343" author="mamtas" created="Wed, 1 Oct 2014 04:47:21 +0000"  >&lt;p&gt;If this functionality is desired by a user in Derby 10.11, this jira can be backported to that revision but it can&apos;t be backported to release 10.10 and prior.&lt;/p&gt;</comment>
                            <comment id="14721717" author="rhillegas" created="Sun, 30 Aug 2015 21:05:46 +0000"  >&lt;p&gt;Attaching a new version of the release note. This version improves the formatting and airbrushes the text.&lt;/p&gt;</comment>
                            <comment id="15476517" author="knutanders" created="Fri, 9 Sep 2016 09:51:24 +0000"  >&lt;p&gt;[ Automatically closing all resolved issues that haven&apos;t been updated in more than six months. ]&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13221134">DERBY-7037</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12381347">DERBY-3155</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12683643">DERBY-6429</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12742354">DERBY-6743</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12742051">DERBY-6742</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12405445">DERBY-3888</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12745162">DERBY-6753</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12668513" name="DERBY6414_patch1_diff.txt" size="49705" author="mamtas" created="Sat, 13 Sep 2014 00:19:53 +0000"/>
                            <attachment id="12662682" name="DERBY6414_patch1_notReadyForCommit_diff.txt" size="957" author="mamtas" created="Tue, 19 Aug 2014 03:41:32 +0000"/>
                            <attachment id="12668514" name="DERBY6414_patch1_stat.txt" size="1002" author="mamtas" created="Sat, 13 Sep 2014 00:19:53 +0000"/>
                            <attachment id="12669344" name="DERBY6414_patch2_diff.txt" size="60830" author="mamtas" created="Wed, 17 Sep 2014 05:59:13 +0000"/>
                            <attachment id="12669345" name="DERBY6414_patch2_stat.txt" size="1194" author="mamtas" created="Wed, 17 Sep 2014 05:59:13 +0000"/>
                            <attachment id="12670399" name="d6414-reduce-visibility.diff" size="1352" author="knutanders" created="Mon, 22 Sep 2014 11:12:49 +0000"/>
                            <attachment id="12753211" name="releaseNote.html" size="1948" author="rhillegas" created="Sun, 30 Aug 2015 21:05:46 +0000"/>
                            <attachment id="12672128" name="releaseNote.html" size="4555" author="mamtas" created="Tue, 30 Sep 2014 20:36:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>8.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310200" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Bug behavior facts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10367"><![CDATA[Deviation from standard]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>358194</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12310090" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Issue &amp; fix info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10101"><![CDATA[Release Note Needed]]></customfieldvalue>
    <customfieldvalue key="10424"><![CDATA[Repro attached]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 10 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1pqxz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>358484</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310050" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Urgency</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10052"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>