<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 14:23:10 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[DERBY-5174] Failure in UpdateStatisticsTest after DERBY-5153</title>
                <link>https://issues.apache.org/jira/browse/DERBY-5174</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;I sometimes see this failure on Java 7 after &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-5153&quot; title=&quot;Intermittent ASSERT FAILED Internal Error-- statistics not found in selectivityForConglomerate when running InterruptResilienceTest&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-5153&quot;&gt;&lt;del&gt;DERBY-5153&lt;/del&gt;&lt;/a&gt;:&lt;/p&gt;

&lt;p&gt;junit.framework.AssertionFailedError: Index statistics for &amp;lt;ALL TABLES&amp;gt;&lt;br/&gt;
1: &lt;/p&gt;
{tableId=c0141582-012f-1ffb-f2b7-ffff8f5541b2, tableName=DERBY5153, indexName=IDX, lcols=1, rows=100, unique/card=1, created=2011-04-04 13:09:08.988}
&lt;p&gt;2: &lt;/p&gt;
{tableId=c0141582-012f-1ffb-f2b7-ffff8f5541b2, tableName=DERBY5153, indexName=IDX, lcols=2, rows=100, unique/card=1, created=2011-04-04 13:09:08.988}
&lt;p&gt;3: &lt;/p&gt;
{tableId=c0141582-012f-1ffb-f2b7-ffff8f5541b2, tableName=DERBY5153, indexName=IDX, lcols=3, rows=100, unique/card=1, created=2011-04-04 13:09:08.988}
&lt;p&gt;4: &lt;/p&gt;
{tableId=c0141582-012f-1ffb-f2b7-ffff8f5541b2, tableName=DERBY5153, indexName=IDX, lcols=4, rows=100, unique/card=1, created=2011-04-04 13:09:08.988}
&lt;p&gt; expected:&amp;lt;0&amp;gt; but was:&amp;lt;4&amp;gt;&lt;br/&gt;
	at org.apache.derbyTesting.junit.IndexStatsUtil.assertStats(IndexStatsUtil.java:132)&lt;br/&gt;
	at org.apache.derbyTesting.junit.IndexStatsUtil.assertNoStats(IndexStatsUtil.java:109)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.lang.UpdateStatisticsTest.testUpdateStatistics(UpdateStatisticsTest.java:93)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:112)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestSetup.run(BaseTestSetup.java:57)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestSetup.run(BaseTestSetup.java:57)&lt;/p&gt;

&lt;p&gt;The problem is that the test case for &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-5153&quot; title=&quot;Intermittent ASSERT FAILED Internal Error-- statistics not found in selectivityForConglomerate when running InterruptResilienceTest&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-5153&quot;&gt;&lt;del&gt;DERBY-5153&lt;/del&gt;&lt;/a&gt; creates a table and doesn&apos;t drop it. testUpdateStatistics() checks the statistics for all tables in the database, and it will fail if the &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-5153&quot; title=&quot;Intermittent ASSERT FAILED Internal Error-- statistics not found in selectivityForConglomerate when running InterruptResilienceTest&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-5153&quot;&gt;&lt;del&gt;DERBY-5153&lt;/del&gt;&lt;/a&gt; test case runs first (which it sometimes does on Java 7) because it finds statistics for tables it didn&apos;t expect to be there.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12503290">DERBY-5174</key>
            <summary>Failure in UpdateStatisticsTest after DERBY-5153</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="knutanders">Knut Anders Hatlen</assignee>
                                    <reporter username="knutanders">Knut Anders Hatlen</reporter>
                        <labels>
                    </labels>
                <created>Mon, 4 Apr 2011 14:11:28 +0000</created>
                <updated>Thu, 30 Jun 2011 09:21:42 +0000</updated>
                            <resolved>Mon, 4 Apr 2011 14:25:41 +0000</resolved>
                                    <version>10.8.1.2</version>
                                    <fixVersion>10.8.1.2</fixVersion>
                    <fixVersion>10.9.1.0</fixVersion>
                                    <component>Test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13015433" author="knutanders" created="Mon, 4 Apr 2011 14:25:12 +0000"  >&lt;p&gt;The test case for &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-5153&quot; title=&quot;Intermittent ASSERT FAILED Internal Error-- statistics not found in selectivityForConglomerate when running InterruptResilienceTest&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-5153&quot;&gt;&lt;del&gt;DERBY-5153&lt;/del&gt;&lt;/a&gt; should drop the table it creates. The attached patch makes that change.&lt;/p&gt;

&lt;p&gt;Committed revision 1088633.&lt;/p&gt;</comment>
                            <comment id="13015443" author="knutanders" created="Mon, 4 Apr 2011 14:48:06 +0000"  >&lt;p&gt;Merged to 10.8 and committed revision 1088646.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="12502389">DERBY-5153</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12475373" name="d5174.diff" size="537" author="knutanders" created="Mon, 4 Apr 2011 14:25:12 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310200" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Bug behavior facts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10369"><![CDATA[Regression Test Failure]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>24694</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 34 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i06lbr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36389</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>