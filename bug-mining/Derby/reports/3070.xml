<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 14:49:22 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[DERBY-6730] Cannot create a Lucene index if a key column&apos;s name is case-sensitive</title>
                <link>https://issues.apache.org/jira/browse/DERBY-6730</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;The workaround is to create a view which gives the columns case-insensitive names. The following script shows this problem:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;connect &apos;jdbc:derby:memory:db;create=true&apos;;

call syscs_util.syscs_register_tool( &apos;luceneSupport&apos;, true );

create schema &quot;s&quot;;

create table &quot;s&quot;.&quot;t&quot;
(
    &quot;passageID&quot; int,
    &quot;text&quot; varchar( 32672 )
);

-- fails because the trailing key id is case-sensitive
call luceneSupport.createIndex
(
  &apos;&quot;s&quot;&apos;,
  &apos;&quot;t&quot;&apos;,
  &apos;&quot;text&quot;&apos;,
  null,
  &apos;&quot;passageID&quot;&apos;
);

create view &quot;s&quot;.&quot;t_view&quot; ( passageID, text ) as select * from &quot;s&quot;.&quot;t&quot;;

-- succeeds on a view with case-insensitive identifiers
call luceneSupport.createIndex
(
  &apos;&quot;s&quot;&apos;,
  &apos;&quot;t_view&quot;&apos;,
  &apos;text&apos;,
  null,
  &apos;passageID&apos;
);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12739878">DERBY-6730</key>
            <summary>Cannot create a Lucene index if a key column&apos;s name is case-sensitive</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rhillegas">Richard N. Hillegas</assignee>
                                    <reporter username="rhillegas">Richard N. Hillegas</reporter>
                        <labels>
                            <label>derby_backport_reject_10_10</label>
                    </labels>
                <created>Mon, 8 Sep 2014 14:13:52 +0000</created>
                <updated>Fri, 9 Sep 2016 09:52:27 +0000</updated>
                            <resolved>Thu, 16 Oct 2014 19:55:49 +0000</resolved>
                                    <version>10.11.1.1</version>
                    <version>10.12.1.1</version>
                                    <fixVersion>10.12.1.1</fixVersion>
                                    <component>SQL</component>
                    <component>Tools</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14125931" author="rhillegas" created="Mon, 8 Sep 2014 19:05:23 +0000"  >&lt;p&gt;Attaching derby-6730-01-aa-correctCasing.diff. This patch corrects how the Lucene plugin treats delimited (case-sensitive) key column names. I will run regression tests.&lt;/p&gt;

&lt;p&gt;Touches the following files:&lt;/p&gt;

&lt;p&gt;-----------------&lt;/p&gt;

&lt;p&gt;M       java/optional/org/apache/derby/optional/lucene/LuceneSupport.java&lt;/p&gt;

&lt;p&gt;Key column names are double-quoted as necessary when generating internal queries.&lt;/p&gt;

&lt;p&gt;-----------------&lt;/p&gt;

&lt;p&gt;M       java/optional/org/apache/derby/optional/lucene/LuceneQueryVTI.java&lt;br/&gt;
M       java/optional/org/apache/derby/optional/lucene/LuceneListIndexesVTI.java&lt;/p&gt;

&lt;p&gt;Corresponding corrections to file names so that case-sensitivity is preserved.&lt;/p&gt;

&lt;p&gt;-----------------&lt;/p&gt;

&lt;p&gt;M       java/testing/org/apache/derbyTesting/functionTests/tests/lang/LuceneSupportPermsTest.java&lt;/p&gt;

&lt;p&gt;New tests for this bugfix.&lt;/p&gt;</comment>
                            <comment id="14126197" author="rhillegas" created="Mon, 8 Sep 2014 22:12:26 +0000"  >&lt;p&gt;Tests passed cleanly for me on derby-6730-01-aa-correctCasing.diff.&lt;/p&gt;</comment>
                            <comment id="14126925" author="jira-bot" created="Tue, 9 Sep 2014 12:21:28 +0000"  >&lt;p&gt;Commit 1623782 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rhillegas&quot; class=&quot;user-hover&quot; rel=&quot;rhillegas&quot;&gt;rhillegas&lt;/a&gt; in branch &apos;code/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1623782&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1623782&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6730&quot; title=&quot;Cannot create a Lucene index if a key column&amp;#39;s name is case-sensitive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6730&quot;&gt;&lt;del&gt;DERBY-6730&lt;/del&gt;&lt;/a&gt;: Allow case-sensitive names for key columns when creating Lucene indexes; commit derby-6730-01-aa-correctCasing.diff.&lt;/p&gt;</comment>
                            <comment id="14126930" author="rhillegas" created="Tue, 9 Sep 2014 12:29:33 +0000"  >&lt;p&gt;Before back-porting this fix and/or closing this issue, we should investigate the upgrade implications. We may want to add a release note and recommend that users drop and recreate their Lucene indexes after upgrade.&lt;/p&gt;</comment>
                            <comment id="14126958" author="knutanders" created="Tue, 9 Sep 2014 13:14:32 +0000"  >&lt;p&gt;The key column name still seems to have some restrictions that the other column names don&apos;t have.&lt;/p&gt;

&lt;p&gt;For example, the following works:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;ij&amp;gt; create table t5(x int, &quot;c l o b&quot; clob);
0 rows inserted/updated/deleted
ij&amp;gt; call lucenesupport.createindex(&apos;app&apos;, &apos;t5&apos;,  &apos;&quot;c l o b&quot;&apos;, null, &apos;x&apos;);
0 rows inserted/updated/deleted
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;whereas the following fails:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;ij&amp;gt; create table t6(&quot;k e y&quot; int, c clob);
0 rows inserted/updated/deleted
ij&amp;gt; call lucenesupport.createindex(&apos;app&apos;, &apos;t6&apos;,  &apos;c&apos;, null, &apos;&quot;k e y&quot;&apos;);
ERROR XCXA0: Invalid identifier.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14130581" author="rhillegas" created="Thu, 11 Sep 2014 19:37:37 +0000"  >&lt;p&gt;Attaching derby-6730-02-aa-spacesInKeyName.diff. This patch fixes the problem involving spaces in key names. I will run tests.&lt;/p&gt;

&lt;p&gt;Touches the following files:&lt;/p&gt;

&lt;p&gt;M       java/optional/org/apache/derby/optional/lucene/LuceneSupport.java&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/functionTests/tests/lang/LuceneSupportPermsTest.java&lt;/p&gt;</comment>
                            <comment id="14130812" author="rhillegas" created="Thu, 11 Sep 2014 22:22:18 +0000"  >&lt;p&gt;Tests passed cleanly for me on derby-6730-02-aa-spacesInKeyName.diff.&lt;/p&gt;</comment>
                            <comment id="14131249" author="knutanders" created="Fri, 12 Sep 2014 08:13:35 +0000"  >&lt;p&gt;Thanks, Rick. The patch seems to do the trick. +1&lt;/p&gt;

&lt;p&gt;Nit: There&apos;s a line of code in LuceneSupport.vetColumnName() that has been commented out. It was probably meant to be removed.&lt;/p&gt;</comment>
                            <comment id="14131453" author="rhillegas" created="Fri, 12 Sep 2014 11:58:57 +0000"  >&lt;p&gt;Thanks, Knut. Attaching derby-6730-02-aa-spacesInKeyName.diff. This patch removes the line which was commented out.&lt;/p&gt;</comment>
                            <comment id="14131456" author="jira-bot" created="Fri, 12 Sep 2014 12:00:05 +0000"  >&lt;p&gt;Commit 1624507 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rhillegas&quot; class=&quot;user-hover&quot; rel=&quot;rhillegas&quot;&gt;rhillegas&lt;/a&gt; in branch &apos;code/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1624507&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1624507&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6730&quot; title=&quot;Cannot create a Lucene index if a key column&amp;#39;s name is case-sensitive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6730&quot;&gt;&lt;del&gt;DERBY-6730&lt;/del&gt;&lt;/a&gt;: Allow spaces in the names of key names used by Lucene indexes; commit derby-6730-02-ab-spacesInKeyName.diff.&lt;/p&gt;</comment>
                            <comment id="14174023" author="myrna" created="Thu, 16 Oct 2014 17:50:42 +0000"  >&lt;p&gt;Rick, is there more work needed on this issue?&lt;/p&gt;</comment>
                            <comment id="14174161" author="rhillegas" created="Thu, 16 Oct 2014 19:55:49 +0000"  >&lt;p&gt;Thanks, for the nudge, Myrna. Resolving.&lt;/p&gt;</comment>
                            <comment id="15476575" author="knutanders" created="Fri, 9 Sep 2016 09:52:27 +0000"  >&lt;p&gt;[ Automatically closing all resolved issues that haven&apos;t been updated in more than six months. ]&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12317415">DERBY-590</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12667212" name="derby-6730-01-aa-correctCasing.diff" size="12205" author="rhillegas" created="Mon, 8 Sep 2014 19:05:23 +0000"/>
                            <attachment id="12668144" name="derby-6730-02-aa-spacesInKeyName.diff" size="5972" author="rhillegas" created="Thu, 11 Sep 2014 19:37:37 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12310090" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Issue &amp; fix info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10102"><![CDATA[Patch Available]]></customfieldvalue>
    <customfieldvalue key="10427"><![CDATA[Workaround attached]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 10 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1zsi7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310050" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Urgency</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10052"><![CDATA[Normal]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>