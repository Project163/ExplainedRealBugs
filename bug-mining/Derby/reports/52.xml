<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 13:14:23 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[DERBY-189] ResultSetMetaData.getSchemaName and ResultSetMetaData.isWritable donot return correct values</title>
                <link>https://issues.apache.org/jira/browse/DERBY-189</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;ResultSetMetaData among other methods has isWritable() and getSchemaName() and Derby engine does not return correct values for them. This needs to be fixed in order to support updatable resultset apis in Network Server mode since the client driver relies on these 2 methods.&lt;/p&gt;

&lt;p&gt;Derby Net Client and JCC driver rely on getSchemanName method to construct the correct &quot;update where current of sql&quot; for an updatRow. For eg, if the user is in say schema s1 and the updatable resultset is issued on a table from schema s2 with the sql &quot;select c11 from s2.t1 for update&quot;. Currenly, getSchemaName returns null and hence, the client code constructs a sql like &quot;update t1 ... where current of ...&quot;. ie the update is being issued against table t1 in schema s1. getSchemaName should return s2, so the driver can correctly genereat sql as &quot;update s2.t1 ... where current of ...&quot;.&lt;/p&gt;

&lt;p&gt;In addition, the client code lets a user issue an updateXXX on a column only if the column is writable and it determines that by looking at the return value of isWritable(). Derby engine currently always returns false for this method and because of that, updateXXX fails in Network Server mode. Derby should return true for the columns which can be updated in the given resultset. For eg for &quot;select c11, c12 from t1 for update of c11&quot;, isWritable should return true for c11 and false for c12.&lt;/p&gt;</description>
                <environment></environment>
        <key id="31300">DERBY-189</key>
            <summary>ResultSetMetaData.getSchemaName and ResultSetMetaData.isWritable donot return correct values</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mamtas">Mamta A. Satoor</assignee>
                                    <reporter username="mamtas">Mamta A. Satoor</reporter>
                        <labels>
                    </labels>
                <created>Thu, 31 Mar 2005 01:26:32 +0000</created>
                <updated>Sun, 5 Jun 2005 01:17:05 +0000</updated>
                            <resolved>Fri, 13 May 2005 00:57:03 +0000</resolved>
                                    <version>10.1.1.0</version>
                                    <fixVersion>10.1.1.0</fixVersion>
                                    <component>JDBC</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="65135" author="djd" created="Fri, 13 May 2005 00:57:03 +0000"  >&lt;p&gt;svn revision 169838&lt;/p&gt;

&lt;p&gt;I (Mamta) have a new patch for this bug which also fixes the problem you&lt;br/&gt;
brought up with sql select * from a.t as X. The fix for this required&lt;br/&gt;
change in impl.sql.compile.FromBaseTable&apos;s method genResultColList().&lt;br/&gt;
I changed the code such that we set the TableDescriptor on the&lt;br/&gt;
ColumnDescriptor instance. This TableDescriptor is later used by&lt;br/&gt;
ResultColumn.getTableName to get the base table name of the column. In&lt;br/&gt;
addition to that, I changed ColumnReference.getSourceTableName and&lt;br/&gt;
ColumnReference.getSourceSchemaName so that they don&apos;t look at the&lt;br/&gt;
user supplied correlation name (if any) to fetch the base table/schema&lt;br/&gt;
name.&lt;/p&gt;</comment>
                            <comment id="12312650" author="mamtas" created="Sun, 5 Jun 2005 01:17:05 +0000"  >&lt;p&gt;Fixed in 10.1.0.0&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>21828</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            20 years, 26 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i07dp3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>40985</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>