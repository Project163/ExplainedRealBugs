<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 13:40:01 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[DERBY-2809] Expressions with a parameter can be assigned the incorrect type</title>
                <link>https://issues.apache.org/jira/browse/DERBY-2809</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;Some unary operator nodes with a parameter can be assigned incorrect types during bind time, for example SQRT&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/help_16.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; can become a BOOLEAN expression.&lt;/p&gt;

&lt;p&gt;This statement compiles successfully when it should be rejected as SQRT() is not a boolean function.&lt;/p&gt;

&lt;p&gt;ij&amp;gt; values case when sqrt&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/help_16.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; then 3 else 4 end;&lt;br/&gt;
ERROR 07000: At least one parameter to the current statement is uninitialized.&lt;/p&gt;

&lt;p&gt;When a constant is used the correct binding happens.&lt;/p&gt;

&lt;p&gt;ij&amp;gt; values case when sqrt(9.0) then 3 else 4 end;&lt;br/&gt;
ERROR 42X88: A conditional has a non-Boolean operand. The operand of a conditional must evaluate to TRUE, FALSE, or UNKNOWN.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12371505">DERBY-2809</key>
            <summary>Expressions with a parameter can be assigned the incorrect type</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="djd">Daniel John Debrunner</assignee>
                                    <reporter username="djd">Daniel John Debrunner</reporter>
                        <labels>
                    </labels>
                <created>Tue, 12 Jun 2007 22:25:45 +0000</created>
                <updated>Thu, 5 Jul 2007 22:40:03 +0000</updated>
                            <resolved>Thu, 5 Jul 2007 22:40:03 +0000</resolved>
                                    <version>10.3.1.4</version>
                                    <fixVersion>10.3.1.4</fixVersion>
                    <fixVersion>10.4.1.3</fixVersion>
                                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12504031" author="djd" created="Tue, 12 Jun 2007 22:49:22 +0000"  >&lt;p&gt;I believe the logic for handling ValueNode.requiresTypeFromContext() is incorrect for unary nodes, especially for UnaryArithmeticOperatorNode.&lt;/p&gt;

&lt;p&gt;Its setType() method passes on the type to subsequent nodes without checking if requiresTypeFromContext() is true for any of the nodes, that seems to permissive, or assuming facts about its caller sequence which may not be true.&lt;/p&gt;

&lt;p&gt;UnaryOperatorNode also has a requiresTypeFromContext() that can return true if its operand requires its type from the context. However&lt;br/&gt;
this is only true for a limited number of cases, I think only unary + and -, so it would seem to make more sense for only UnaryArithmeticOperatorNode to override the method, rather than all nodes that are UnaryOperatorNode sub-classes.&lt;/p&gt;</comment>
                            <comment id="12508991" author="djd" created="Fri, 29 Jun 2007 02:32:35 +0000"  >&lt;p&gt;Fixed in trunk (10.4) last revision is: Committed revision 551764.&lt;br/&gt;
Will backport to 10.3&lt;/p&gt;</comment>
                            <comment id="12510512" author="djd" created="Thu, 5 Jul 2007 22:40:03 +0000"  >&lt;p&gt;Fixed, changes merged into 10.3, tests added.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12371145">DERBY-2775</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>23260</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 years, 21 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i076yn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>39894</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>