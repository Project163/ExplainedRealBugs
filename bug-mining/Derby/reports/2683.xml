<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 14:38:12 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[DERBY-2516] Network Client allows execution of callable statement when one of the parameters is not set</title>
                <link>https://issues.apache.org/jira/browse/DERBY-2516</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;If the second input parameter is set and the first is not.  Client allows execution of the stored procedure.  See the following code in LangProcedureTest.java with a reference to this bug.&lt;/p&gt;

&lt;p&gt;            op.clearParameters();&lt;br/&gt;
            op.setString(2, &quot;2&quot;);&lt;br/&gt;
            try &lt;/p&gt;
{
                // a not set
                    op.execute();                
                    fail(&quot;FAIL - a  not set&quot;);
            }
&lt;p&gt; catch (SQLException sqle) &lt;/p&gt;
{
                assertSQLState(&quot;07000&quot;, sqle);
            }
</description>
                <environment></environment>
        <key id="12366429">DERBY-2516</key>
            <summary>Network Client allows execution of callable statement when one of the parameters is not set</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="knutanders">Knut Anders Hatlen</assignee>
                                    <reporter username="kmarsden">Katherine Marsden</reporter>
                        <labels>
                            <label>derby_backport_reject_10_8</label>
                            <label>derby_triage10_8</label>
                    </labels>
                <created>Mon, 2 Apr 2007 23:46:52 +0000</created>
                <updated>Wed, 3 Sep 2014 08:31:24 +0000</updated>
                            <resolved>Thu, 3 Jan 2013 10:05:35 +0000</resolved>
                                    <version>10.3.1.4</version>
                                    <fixVersion>10.10.1.1</fixVersion>
                                    <component>Network Client</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="12486178" author="kmarsden" created="Mon, 2 Apr 2007 23:47:32 +0000"  >&lt;p&gt;found while converting procedure.java&lt;/p&gt;</comment>
                            <comment id="12994490" author="kmarsden" created="Mon, 14 Feb 2011 20:59:18 +0000"  >&lt;p&gt;Triaged for 10.8. Marked newcomer  hoping the fix is as clear as the reproduction.&lt;/p&gt;</comment>
                            <comment id="13540536" author="knutanders" created="Fri, 28 Dec 2012 17:44:00 +0000"  >&lt;p&gt;The problem appears to be caused by client.am.PreparedStatement.checkThatAllParametersAreSet(), which checks that every parameter is either set or registered as an out parameter. In the failing test case, parameter 1 is registered as an output parameter, so checkThatAllParametersAreSet() thinks everything is OK. However, since it&apos;s an INOUT parameter it needs to be set even if it has been registered as an out parameter.&lt;/p&gt;

&lt;p&gt;We should make checkThatAllParametersAreSet() always raise an exception if an INOUT parameter isn&apos;t set.&lt;/p&gt;</comment>
                            <comment id="13542083" author="knutanders" created="Wed, 2 Jan 2013 11:09:37 +0000"  >&lt;p&gt;Attaching a patch that makes checkThatAllParametersAreSet() throw an exception if an INOUT parameter has not been set and adds a test case to ProcedureTest to verify that it works.&lt;/p&gt;

&lt;p&gt;The patch also enables the failing code in LangProcedureTest for the client driver. Note that LangProcedureTest does not run as part of suites.All yet, as it needs more fixes to run cleanly (Dag has a patch for that in &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-5945&quot; title=&quot;Inappropriate error message when calling a procedure as a function (as if it had a return value)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-5945&quot;&gt;&lt;del&gt;DERBY-5945&lt;/del&gt;&lt;/a&gt;, but it&apos;s not yet committed).&lt;/p&gt;

&lt;p&gt;All the regression tests ran cleanly with the patch.&lt;/p&gt;</comment>
                            <comment id="13542722" author="dagw" created="Thu, 3 Jan 2013 05:13:43 +0000"  >&lt;p&gt;The patch is straight-forward; looks good to me. +1&lt;br/&gt;
Made a comment on &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-5945&quot; title=&quot;Inappropriate error message when calling a procedure as a function (as if it had a return value)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-5945&quot;&gt;&lt;del&gt;DERBY-5945&lt;/del&gt;&lt;/a&gt; to enable LangProcedureTest when that issue is fixed.&lt;/p&gt;</comment>
                            <comment id="13542828" author="knutanders" created="Thu, 3 Jan 2013 10:05:35 +0000"  >&lt;p&gt;Thanks, Dag!&lt;/p&gt;

&lt;p&gt;Committed revision 1428256.&lt;/p&gt;</comment>
                            <comment id="14119550" author="knutanders" created="Wed, 3 Sep 2014 08:31:24 +0000"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;bulk update&amp;#93;&lt;/span&gt; Close all resolved issues that haven&apos;t been updated for more than one year.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12611402">DERBY-5945</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12365135">DERBY-2461</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12562899" name="d2516-1a.diff" size="5187" author="knutanders" created="Wed, 2 Jan 2013 11:09:37 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310200" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Bug behavior facts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10363"><![CDATA[Embedded/Client difference]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>23084</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12310090" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Issue &amp; fix info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10423"><![CDATA[Newcomer]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 12 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i06ok7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36913</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310050" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Urgency</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10053"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>