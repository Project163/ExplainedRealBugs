<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 13:42:39 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[DERBY-2979] Illegal Argument exception while running the svt, mailjdbc</title>
                <link>https://issues.apache.org/jira/browse/DERBY-2979</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;java.lang.IllegalArgumentException: n must be positive&lt;br/&gt;
        at java.util.Random.nextInt(Random.java:262)&lt;br/&gt;
        at org.apache.derbyTesting.system.mailjdbc.utils.DbTasks.readMail(DbTask&lt;br/&gt;
s.java:196)&lt;br/&gt;
        at org.apache.derbyTesting.system.mailjdbc.tasks.Browse.readInbox(Browse&lt;br/&gt;
.java:73)&lt;br/&gt;
        at org.apache.derbyTesting.system.mailjdbc.tasks.Browse.run(Browse.java:&lt;br/&gt;
48)&lt;br/&gt;
num: 6&lt;/p&gt;</description>
                <environment></environment>
        <key id="12374709">DERBY-2979</key>
            <summary>Illegal Argument exception while running the svt, mailjdbc</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mkutty">Manjula Kutty</assignee>
                                    <reporter username="mkutty">Manjula Kutty</reporter>
                        <labels>
                    </labels>
                <created>Thu, 26 Jul 2007 19:00:48 +0000</created>
                <updated>Thu, 18 Apr 2013 17:28:49 +0000</updated>
                            <resolved>Thu, 18 Apr 2013 17:28:49 +0000</resolved>
                                    <version>10.3.1.4</version>
                                    <fixVersion>10.8.1.2</fixVersion>
                                    <component>Test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12530874" author="mkutty" created="Thu, 27 Sep 2007 23:50:54 +0000"  >&lt;p&gt;Please find the attached files to fix this issue. Please review and if looks good please commit.&lt;/p&gt;</comment>
                            <comment id="12531696" author="mamtas" created="Tue, 2 Oct 2007 06:14:28 +0000"  >&lt;p&gt;Manjula, I just have one minor comment. I noticed that except one change, all the other changes in the patch look for &amp;lt;= 0. But one change (towards the end in the patch) looks as follows &lt;br/&gt;
if (count == 0)&lt;br/&gt;
Should we be checking for &amp;lt;= 0 rather than == 0, ie is it possible for count to have a value less than 0? &lt;/p&gt;</comment>
                            <comment id="12531863" author="mkutty" created="Tue, 2 Oct 2007 17:50:52 +0000"  >&lt;p&gt;Thanks for looking in to my patch. I will look into it and if necessary will uploead another patch&lt;/p&gt;</comment>
                            <comment id="12535349" author="mkutty" created="Tue, 16 Oct 2007 21:20:34 +0000"  >&lt;p&gt;The variable count is getting the value from the folder table and it can not have a value less than 0. So if the table does not have any rows , then the value of the count will be 0. Does that make sense? Please let me know if that is not the case.&lt;/p&gt;</comment>
                            <comment id="12535355" author="mamtas" created="Tue, 16 Oct 2007 21:41:23 +0000"  >&lt;p&gt;Your explanation of the row count sounds correct about how the value can&apos;t be &amp;lt; 0. thanks for checking Manjula.&lt;/p&gt;</comment>
                            <comment id="12535390" author="myrna" created="Wed, 17 Oct 2007 01:29:51 +0000"  >&lt;p&gt;I applied the patch to the trunk with revision 585297 and merged to 10.3 branch with revision 585303.  &lt;br/&gt;
I only built, didn&apos;t run the test. &lt;/p&gt;</comment>
                            <comment id="12693876" author="myrna" created="Mon, 30 Mar 2009 18:54:52 +0000"  >&lt;p&gt;I have seen this error even after the fix - in the test output to the console. For instance:&lt;br/&gt;
with derby 10.5.1.0 (757599):&lt;br/&gt;
java.lang.IllegalArgumentException&lt;br/&gt;
	at java.util.Random.nextInt(Unknown Source)&lt;br/&gt;
	at org.apache.derbyTesting.system.mailjdbc.utils.DbTasks.moveToFolders(DbTasks.java:359)&lt;br/&gt;
	at org.apache.derbyTesting.system.mailjdbc.tasks.Browse.moveToFolders(Browse.java:82)&lt;br/&gt;
	at org.apache.derbyTesting.system.mailjdbc.tasks.Browse.run(Browse.java:50)&lt;/p&gt;

&lt;p&gt;(after: java.lang.IllegalArgumentException&lt;br/&gt;
	at java.util.Random.nextInt(Unknown Source)&lt;br/&gt;
	at org.apache.derbyTesting.system.mailjdbc.utils.DbTasks.moveToFolders(DbTasks.java:359)&lt;br/&gt;
	at org.apache.derbyTesting.system.mailjdbc.tasks.Browse.moveToFolders(Browse.java:82)&lt;br/&gt;
	at org.apache.derbyTesting.system.mailjdbc.tasks.Browse.run(Browse.java:50))&lt;/p&gt;</comment>
                            <comment id="13635380" author="myrna" created="Thu, 18 Apr 2013 17:28:49 +0000"  >&lt;p&gt;I checked for this error in test run remains for the last few QA cycles (10.8.1, 10.8.3, 10.9.1, 10.10.1), but this error did not show up in those runs. It&apos;s likely that more recent work on the mailjdbc test (e.g. &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-4166&quot; title=&quot;improvements to the mailjdbc test&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-4166&quot;&gt;&lt;del&gt;DERBY-4166&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-4203&quot; title=&quot;Change mailjdbc and sstest system tests to be able to restart with the existing database instead of creating a new one so they can be used for upgrade testing&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-4203&quot;&gt;&lt;del&gt;DERBY-4203&lt;/del&gt;&lt;/a&gt;) fixed this problem. I&apos;m marking this fixed in 10.8.1 as that&apos;s the oldest results (where the problem does not show) that I&apos;ve still available (will disappear soon), although it was likely fixed earlier..&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12366709" name="DERBY-2979_diff" size="2339" author="mkutty" created="Thu, 27 Sep 2007 23:50:54 +0000"/>
                            <attachment id="12366708" name="DERBY-2979_stat" size="84" author="mkutty" created="Thu, 27 Sep 2007 23:50:54 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>23357</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 31 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i073pb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>39366</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>