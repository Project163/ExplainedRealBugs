<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 14:19:49 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[DERBY-4980] Replication tests lose derby.log for slave</title>
                <link>https://issues.apache.org/jira/browse/DERBY-4980</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;After running  ReplicationRun_Local_3_p1 I notice that of the two directories created, db_master and db_slave, only db_master contains a derby.log file. This is not so nice, since the log file is sometimes needed for test debugging &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12496161">DERBY-4980</key>
            <summary>Replication tests lose derby.log for slave</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dagw">Dag H. Wanvik</assignee>
                                    <reporter username="dagw">Dag H. Wanvik</reporter>
                        <labels>
                    </labels>
                <created>Thu, 20 Jan 2011 18:09:08 +0000</created>
                <updated>Tue, 19 Apr 2011 12:39:02 +0000</updated>
                            <resolved>Sat, 5 Feb 2011 01:03:33 +0000</resolved>
                                    <version>10.6.1.0</version>
                    <version>10.6.2.1</version>
                    <version>10.7.1.1</version>
                                    <fixVersion>10.8.1.2</fixVersion>
                                    <component>Test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12984318" author="dagw" created="Thu, 20 Jan 2011 18:21:31 +0000"  >&lt;p&gt;Uploading a preliminary patch that seems to fix this problem, derby-4980-1. The error is that&lt;br/&gt;
when starting the Derby server for the slave, the same path name is used for the server&apos;s working directory as for the master server (&quot;db_master&quot;). This means that the slave server can&apos;t open derby.log for writing since it&apos;s already opened by the master server. (Does this fact get logged to the console?) &lt;/p&gt;

&lt;p&gt;The patch sets the working directory for the slave correctly to the &quot;db_slave&quot; directory. &lt;/p&gt;

&lt;p&gt;SInce the fix is done in the replication test ReplicationRun superclass, other replication tests suffer from the same problem.&lt;/p&gt;</comment>
                            <comment id="12984327" author="dagw" created="Thu, 20 Jan 2011 18:42:14 +0000"  >&lt;p&gt;The behavior was introduced by &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-4417&quot; title=&quot;Enable distributed replication testing - master server, slave server and test client running on different hosts.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-4417&quot;&gt;DERBY-4417&lt;/a&gt; (since 10.6), revision 894607.&lt;/p&gt;</comment>
                            <comment id="12984388" author="dagw" created="Thu, 20 Jan 2011 20:41:44 +0000"  >&lt;p&gt;ReplicationSuite ran ok with the patch.&lt;/p&gt;</comment>
                            <comment id="12984396" author="dagw" created="Thu, 20 Jan 2011 20:58:50 +0000"  >&lt;p&gt;Just to answer my own question, &quot;Does this fact get logged to the console?&quot;:&lt;/p&gt;

&lt;p&gt;derby.log is being opened with &quot;-Dderby.infolog.append=true&quot; so that means the contents of both servers logs go to the same derby.log file. Without this option, I still see no error on the console when I start two servers with the same current directory, but stuff would likely be lost.&lt;/p&gt;</comment>
                            <comment id="12990856" author="dagw" created="Sat, 5 Feb 2011 01:03:33 +0000"  >&lt;p&gt;Committed fix as svn 1067366, closing.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12468870" name="derby-4980-1.diff" size="792" author="dagw" created="Thu, 20 Jan 2011 18:21:31 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310200" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Bug behavior facts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10420"><![CDATA[Regression]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>24571</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 42 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i06m6v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36529</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>