<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 14:12:51 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[DERBY-4738] correct error prompt for nonpositive length in Blob.setBytesX()</title>
                <link>https://issues.apache.org/jira/browse/DERBY-4738</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;In Blob.setBytesX(), when a nonpositive length value (len) is passed in, a SqlException with ClientMessageId of SQLState.BLOB_NONPOSITIVE_LENGTH is created, however, it uses length, a wrong length value, which is still zero here.&lt;/p&gt;

&lt;p&gt;if ( len &amp;lt; 0 ) &lt;/p&gt;
{
            throw new SqlException(agent_.logWriter_,
                new ClientMessageId(SQLState.BLOB_NONPOSITIVE_LENGTH),
                new Integer(length));
        }</description>
                <environment></environment>
        <key id="12468803">DERBY-4738</key>
            <summary>correct error prompt for nonpositive length in Blob.setBytesX()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="yunlee">Yun Lee</assignee>
                                    <reporter username="yunlee">Yun Lee</reporter>
                        <labels>
                    </labels>
                <created>Thu, 8 Jul 2010 09:07:19 +0000</created>
                <updated>Mon, 29 Nov 2010 14:22:59 +0000</updated>
                            <resolved>Thu, 8 Jul 2010 19:53:47 +0000</resolved>
                                    <version>10.7.1.1</version>
                                    <fixVersion>10.7.1.1</fixVersion>
                                    <component>JDBC</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12886289" author="yunlee" created="Thu, 8 Jul 2010 09:09:55 +0000"  >&lt;p&gt;In the patch, the nonpositive value is set by len.&lt;/p&gt;</comment>
                            <comment id="12886340" author="knutanders" created="Thu, 8 Jul 2010 15:03:19 +0000"  >&lt;p&gt;Hi Yun. Thanks for the patch. The fix looks correct to me. Did the regression tests run cleanly with patch?&lt;/p&gt;

&lt;p&gt;Perhaps it would also be a good idea to stop setting length to 0 in the beginning of the method, so that the compiler could tell us if someone tries to use the variable before it&apos;s initialized.&lt;/p&gt;</comment>
                            <comment id="12886423" author="knutanders" created="Thu, 8 Jul 2010 19:29:50 +0000"  >&lt;p&gt;All the regression tests ran cleanly in my environment.&lt;br/&gt;
Committed revision 961895.&lt;/p&gt;</comment>
                            <comment id="12886435" author="knutanders" created="Thu, 8 Jul 2010 19:53:09 +0000"  >&lt;p&gt;The attached follow-up patch (init_length.diff) removes the initialization of the length variable to 0 from the top of the method, and moves the declaration of the variable down to the point where it&apos;s set to its real value. This will make the compiler complain if someone tries to use the length variable before it has been properly initialized.&lt;/p&gt;

&lt;p&gt;Committed revision 961903.&lt;/p&gt;</comment>
                            <comment id="12886588" author="yunlee" created="Fri, 9 Jul 2010 02:16:10 +0000"  >&lt;p&gt;Thanks, Knut. Before I attached the patch, I just run BlobAccessTest and it passed. I will run regression tests for a extensive test next time. Thanks for your advice.&lt;/p&gt;

&lt;p&gt;I agree with your patch on moving the declaration of the length variable. More work need to be done on this method, just pointed out in Derby-3898. &lt;/p&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                                                <inwardlinks description="is part of">
                                        <issuelink>
            <issuekey id="12461296">DERBY-4609</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12448962" name="derby-4738.patch" size="575" author="yunlee" created="Thu, 8 Jul 2010 09:09:55 +0000"/>
                            <attachment id="12448963" name="derby-4738.stat" size="56" author="yunlee" created="Thu, 8 Jul 2010 09:09:55 +0000"/>
                            <attachment id="12448999" name="init_length.diff" size="837" author="knutanders" created="Thu, 8 Jul 2010 19:53:09 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>24435</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 20 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i06ty7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>37786</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>