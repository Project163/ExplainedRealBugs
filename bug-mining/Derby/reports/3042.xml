<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 14:48:24 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[DERBY-6704] Hang in AutoloadTest.spawnProcess:JDBCDriversEmbeddedTest on Mac/jdk7,8</title>
                <link>https://issues.apache.org/jira/browse/DERBY-6704</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;In our release tests for 10.11 we have seen this stack trace:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; org.apache.derbyTesting.functionTests.tests.jdbcapi.AutoloadTest.spawnProcess:JDBCDriversEmbeddedTest	2701.548 s
 junit.framework.AssertionFailedError: Test process failed:Spawned org.apache.derbyTesting.functionTests.tests.jdbcapi.JDBCDriversEmbeddedTest exitCode=143
STDOUT:
..
 at org.apache.derbyTesting.functionTests.tests.jdbcapi.AutoloadTest.spawnProcess(AutoloadTest.java:256)
 at org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:118)
 at org.apache.derbyTesting.junit.BaseJDBCTestCase.runBareOverridable(BaseJDBCTestCase.java:440)
 at org.apache.derbyTesting.junit.BaseJDBCTestCase.runBare(BaseJDBCTestCase.java:457)
 at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)
 at junit.extensions.TestSetup$1.protect(TestSetup.java:21)
 at junit.extensions.TestSetup.run(TestSetup.java:25)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;presumably because the spawned process is killed by the test framework; it had been executing for 2701 second, but we don&apos;t have much insight into what happened to the subprocess because we don&apos;t collect its std our or std err.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12733850">DERBY-6704</key>
            <summary>Hang in AutoloadTest.spawnProcess:JDBCDriversEmbeddedTest on Mac/jdk7,8</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="dagw">Dag H. Wanvik</reporter>
                        <labels>
                    </labels>
                <created>Wed, 13 Aug 2014 19:14:17 +0000</created>
                <updated>Thu, 15 Oct 2015 16:10:14 +0000</updated>
                                                                            <component>JDBC</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="14095989" author="dagw" created="Wed, 13 Aug 2014 19:34:58 +0000"  >&lt;p&gt;Uploading a patch that collects std out and err for the spawned subprocesses, and also forward the debug options &quot;derby.tests.debug&quot; and &quot;derby.tests.trace&quot; to the subprocesses. If any of those are&lt;br/&gt;
set, we collect the std err and std out and print them interleaved with that of the top process. For example, if the jdbcapi suite is run with &quot;derby.tests.trace=true&quot;, one would see the following out the tests std out:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;run:
.
(emb)jdbcapi.AutoloadTest.spawnProcess:AutoloadTest 
[ (stdout subprocess) .
  (stdout subprocess) (emb)jdbcapi.AutoloadTest.testEmbeddedNotStarted used 4 ms .
  (stdout subprocess) (emb)jdbcapi.AutoloadTest.testRegisteredDriver used 63 ms .
  (stdout subprocess) (emb)jdbcapi.AutoloadTest.testAutoNetworkServerBoot used 5101 ms .
  (stdout subprocess) (emb)jdbcapi.AutoloadTest.testSuccessfulConnect used 620 ms .
  (stdout subprocess) (emb)jdbcapi.AutoloadTest.testEmbeddedStarted used 0 ms .
  (stdout subprocess) (emb)jdbcapi.AutoloadTest.testUnsuccessfulConnect used 14 ms .
  (stdout subprocess) (emb)jdbcapi.AutoloadTest.testExplicitLoad used 8 ms .
  (stdout subprocess) (emb)jdbcapi.AutoloadTest.testAutoloadDriverUnregister used 576 ms .
  (stdout subprocess) (net)jdbcapi.AutoloadTest.testRegisteredDriver used 0 ms .
  (stdout subprocess) (net)jdbcapi.AutoloadTest.testSuccessfulConnect used 290 ms .
  (stdout subprocess) (net)jdbcapi.AutoloadTest.testUnsuccessfulConnect used 12 ms .
  (stdout subprocess) (net)jdbcapi.AutoloadTest.testExplicitLoad used 24 ms .
  (stdout subprocess) (emb)jdbcapi.AutoloadTest.testAssertShutdownOK used 183 ms .
  (stdout subprocess) (emb)jdbcapi.AutoloadTest.testShutdownDeRegister used 3 ms .
  (stdout subprocess) (emb)jdbcapi.AutoloadTest.testExplicitReload used 231 ms 
  (stdout subprocess) Time: 7.381
  (stdout subprocess) 
  (stdout subprocess) OK (15 tests)
  (stdout subprocess) 
  (stdout subprocess) ]


[ (stderr subprocess) ]

used 8709 ms .
(emb)jdbcapi.AutoloadTest.spawnProcess:JDBCDriversEmbeddedTest 
[ (stdout subprocess) .
  (stdout subprocess) (emb)jdbcapi.AutoloadTest.testRegisteredDriver used 459 ms .
  (stdout subprocess) (emb)jdbcapi.AutoloadTest.testAutoNetworkServerBoot used 144 ms .
  (stdout subprocess) (emb)jdbcapi.AutoloadTest.testSuccessfulConnect used 396 ms .
  (stdout subprocess) (emb)jdbcapi.AutoloadTest.testEmbeddedStarted used 0 ms .
  (stdout subprocess) (emb)jdbcapi.AutoloadTest.testUnsuccessfulConnect used 16 ms .
  (stdout subprocess) (emb)jdbcapi.AutoloadTest.testExplicitLoad used 9 ms .
  (stdout subprocess) (emb)jdbcapi.AutoloadTest.testAutoloadDriverUnregister used 555 ms .
  (stdout subprocess) (net)jdbcapi.AutoloadTest.testRegisteredDriver used 1 ms .
  (stdout subprocess) (net)jdbcapi.AutoloadTest.testSuccessfulConnect used 279 ms .
  (stdout subprocess) (net)jdbcapi.AutoloadTest.testUnsuccessfulConnect used 15 ms .
  (stdout subprocess) (net)jdbcapi.AutoloadTest.testExplicitLoad used 21 ms .
  (stdout subprocess) (emb)jdbcapi.AutoloadTest.testAssertShutdownOK used 173 ms .
  (stdout subprocess) (emb)jdbcapi.AutoloadTest.testShutdownDeRegister used 3 ms .
  (stdout subprocess) (emb)jdbcapi.AutoloadTest.testExplicitReload used 251 ms 
  (stdout subprocess) Time: 2.454
  (stdout subprocess) 
  (stdout subprocess) OK (14 tests)
  (stdout subprocess) 
  (stdout subprocess) ]


[ (stderr subprocess) ]

used 4008 ms .
(emb)jdbcapi.AutoloadTest.spawnProcess:JDBCDriversClientTest 
[ (stdout subprocess) .
  (stdout subprocess) (emb)jdbcapi.AutoloadTest.testEmbeddedNotStarted used 2 ms .
  (stdout subprocess) (emb)jdbcapi.AutoloadTest.testRegisteredDriver used 71 ms .
  (stdout subprocess) (emb)jdbcapi.AutoloadTest.testAutoNetworkServerBoot used 5104 ms .
  (stdout subprocess) (emb)jdbcapi.AutoloadTest.testSuccessfulConnect used 608 ms .
  (stdout subprocess) (emb)jdbcapi.AutoloadTest.testEmbeddedStarted used 0 ms .
  (stdout subprocess) (emb)jdbcapi.AutoloadTest.testUnsuccessfulConnect used 15 ms .
  (stdout subprocess) (emb)jdbcapi.AutoloadTest.testExplicitLoad used 7 ms .
  (stdout subprocess) (emb)jdbcapi.AutoloadTest.testAutoloadDriverUnregister used 600 ms .
  (stdout subprocess) (net)jdbcapi.AutoloadTest.testRegisteredDriver used 1 ms .
  (stdout subprocess) (net)jdbcapi.AutoloadTest.testSuccessfulConnect used 300 ms .
  (stdout subprocess) (net)jdbcapi.AutoloadTest.testUnsuccessfulConnect used 9 ms .
  (stdout subprocess) (net)jdbcapi.AutoloadTest.testExplicitLoad used 15 ms .
  (stdout subprocess) (emb)jdbcapi.AutoloadTest.testAssertShutdownOK used 187 ms .
  (stdout subprocess) (emb)jdbcapi.AutoloadTest.testShutdownDeRegister used 2 ms .
  (stdout subprocess) (emb)jdbcapi.AutoloadTest.testExplicitReload used 236 ms 
  (stdout subprocess) Time: 7.426
  (stdout subprocess) 
  (stdout subprocess) OK (15 tests)
  (stdout subprocess) 
  (stdout subprocess) ]


[ (stderr subprocess) ]

used 8509 ms .
(emb)jdbcapi.AutoloadTest.spawnProcess:JDBCDriversAllTest 
[ (stdout subprocess) .
  (stdout subprocess) (emb)jdbcapi.AutoloadTest.testRegisteredDriver used 413 ms .
  (stdout subprocess) (emb)jdbcapi.AutoloadTest.testAutoNetworkServerBoot used 5052 ms .
  (stdout subprocess) (emb)jdbcapi.AutoloadTest.testSuccessfulConnect used 373 ms .
  (stdout subprocess) (emb)jdbcapi.AutoloadTest.testEmbeddedStarted used 0 ms .
  (stdout subprocess) (emb)jdbcapi.AutoloadTest.testUnsuccessfulConnect used 11 ms .
  (stdout subprocess) (emb)jdbcapi.AutoloadTest.testExplicitLoad used 7 ms .
  (stdout subprocess) (emb)jdbcapi.AutoloadTest.testAutoloadDriverUnregister used 599 ms .
  (stdout subprocess) (net)jdbcapi.AutoloadTest.testRegisteredDriver used 0 ms .
  (stdout subprocess) (net)jdbcapi.AutoloadTest.testSuccessfulConnect used 298 ms .
  (stdout subprocess) (net)jdbcapi.AutoloadTest.testUnsuccessfulConnect used 15 ms .
  (stdout subprocess) (net)jdbcapi.AutoloadTest.testExplicitLoad used 23 ms .
  (stdout subprocess) (emb)jdbcapi.AutoloadTest.testAssertShutdownOK used 193 ms .
  (stdout subprocess) (emb)jdbcapi.AutoloadTest.testShutdownDeRegister used 2 ms .
  (stdout subprocess) (emb)jdbcapi.AutoloadTest.testExplicitReload used 210 ms 
  (stdout subprocess) Time: 7.454
  (stdout subprocess) 
  (stdout subprocess) OK (14 tests)
  (stdout subprocess) 
  (stdout subprocess) ]


[ (stderr subprocess) ]

used 8508 ms .
(emb)jdbcapi.AutoloadTest.spawnProcess:ConcurrentAutoloadTest 
[ (stdout subprocess) .
  (stdout subprocess) (emb)jdbcapi.ConcurrentAutoloadTest.testConcurrentAutoloading used 1054 ms 
  (stdout subprocess) Time: 1.09
  (stdout subprocess) 
  (stdout subprocess) OK (1 test)
  (stdout subprocess) 
  (stdout subprocess) ]


[ (stderr subprocess) ]

used 2006 ms 
Time: 32.222

OK (5 tests)

BUILD SUCCESSFUL (total time: 32 seconds)

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14096030" author="jira-bot" created="Wed, 13 Aug 2014 20:08:30 +0000"  >&lt;p&gt;Commit 1617825 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dagw&quot; class=&quot;user-hover&quot; rel=&quot;dagw&quot;&gt;dagw&lt;/a&gt; in branch &apos;code/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1617825&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1617825&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6704&quot; title=&quot;Hang in AutoloadTest.spawnProcess:JDBCDriversEmbeddedTest on Mac/jdk7,8&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6704&quot;&gt;DERBY-6704&lt;/a&gt; Hang in AutoloadTest.spawnProcess:JDBCDriversEmbeddedTest on Mac/jdk7,8&lt;/p&gt;

&lt;p&gt;Diagnostic patch to print the output of stderr and stdout from the&lt;br/&gt;
subprocesses if one of &lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;&quot;derby.tests.{trace,debug}&quot;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt; is true.&lt;/p&gt;</comment>
                            <comment id="14096144" author="knutanders" created="Wed, 13 Aug 2014 21:20:17 +0000"  >&lt;p&gt;I think we actually do see the output from the subprocess in the error message of the assert failure. The sub-process had printed &quot;..&quot; before it died. Not that it helps us much, though. It just tells us that it died while it was executing the second test case. Propagating derby.tests.trace and derby.tests.debug to the subprocess sounds like a good idea.&lt;/p&gt;</comment>
                            <comment id="14096964" author="dagw" created="Thu, 14 Aug 2014 13:40:56 +0000"  >&lt;p&gt;Thanks for that data point, Knut. Another idea if this doesn&apos;t give us any more hints, might be to have the parent process call jstack on the spawned process before killing it if it hangs (or increase the time before it gets killed and try to do it manually next time it hangs).&lt;/p&gt;</comment>
                            <comment id="14097982" author="dagw" created="Fri, 15 Aug 2014 00:42:59 +0000"  >&lt;p&gt;Uploading version b of this diagnostics patch. This version will also&lt;br/&gt;
try to get a jstack status of the hanging subprocess before killing it (only works on Unixen) - hopefully this would work also on MacOs; it uses a little dirty reflection to access a private PID field in the underlying Process class object before trying a jstack. For this to work, the test must also run using a JDK, a JRE doesn&apos;t have a jstack. &lt;/p&gt;</comment>
                            <comment id="14098068" author="jira-bot" created="Fri, 15 Aug 2014 02:12:12 +0000"  >&lt;p&gt;Commit 1618088 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dagw&quot; class=&quot;user-hover&quot; rel=&quot;dagw&quot;&gt;dagw&lt;/a&gt; in branch &apos;code/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1618088&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1618088&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6704&quot; title=&quot;Hang in AutoloadTest.spawnProcess:JDBCDriversEmbeddedTest on Mac/jdk7,8&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6704&quot;&gt;DERBY-6704&lt;/a&gt; Hang in AutoloadTest.spawnProcess:JDBCDriversEmbeddedTest on Mac/jdk7,8&lt;/p&gt;

&lt;p&gt;Patch derby-6704b: it collects std out and err for the spawned&lt;br/&gt;
subprocesses, and also forward the debug options &quot;derby.tests.debug&quot;&lt;br/&gt;
and &quot;derby.tests.trace&quot; to the subprocesses. If any of those are set,&lt;br/&gt;
we collect the std err and std out and print them interleaved with&lt;br/&gt;
that of the top process.&lt;/p&gt;

&lt;p&gt;The patch will also try to get a jstack status of a hanging subprocess&lt;br/&gt;
before killing it (only works on Unixen) - hopefully this would work&lt;br/&gt;
also on MacOs; it uses a little dirty reflection to access a private&lt;br/&gt;
PID field in the underlying Process class object before trying a&lt;br/&gt;
jstack. For this to work, the test must also run using an Oracle JDK,&lt;br/&gt;
a JRE doesn&apos;t have a jstack.&lt;/p&gt;</comment>
                            <comment id="14098075" author="jira-bot" created="Fri, 15 Aug 2014 02:22:00 +0000"  >&lt;p&gt;Commit 1618089 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dagw&quot; class=&quot;user-hover&quot; rel=&quot;dagw&quot;&gt;dagw&lt;/a&gt; in branch &apos;code/branches/10.11&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1618089&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1618089&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6704&quot; title=&quot;Hang in AutoloadTest.spawnProcess:JDBCDriversEmbeddedTest on Mac/jdk7,8&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6704&quot;&gt;DERBY-6704&lt;/a&gt; Hang in AutoloadTest.spawnProcess:JDBCDriversEmbeddedTest on Mac/jdk7,8&lt;/p&gt;

&lt;p&gt;Backport of diagnostics patch derby-6704b, svn 1618088.&lt;/p&gt;

&lt;p&gt;Patch derby-6704b: it collects std out and err for the spawned&lt;br/&gt;
subprocesses, and also forward the debug options &quot;derby.tests.debug&quot;&lt;br/&gt;
and &quot;derby.tests.trace&quot; to the subprocesses. If any of those are set,&lt;br/&gt;
we collect the std err and std out and print them interleaved with&lt;br/&gt;
that of the top process.&lt;/p&gt;

&lt;p&gt;The patch will also try to get a jstack status of a hanging subprocess&lt;br/&gt;
before killing it (only works on Unixen) - hopefully this would work&lt;br/&gt;
also on MacOs; it uses a little dirty reflection to access a private&lt;br/&gt;
PID field in the underlying Process class object before trying a&lt;br/&gt;
jstack. For this to work, the test must also run using an Oracle JDK,&lt;br/&gt;
a JRE doesn&apos;t have a jstack.&lt;/p&gt;</comment>
                            <comment id="14098224" author="knutanders" created="Fri, 15 Aug 2014 06:02:26 +0000"  >&lt;p&gt;The patch that went into the 10.11 branch, commented out most test cases in the jdbcapi suite. I assume that change was unintended?&lt;/p&gt;</comment>
                            <comment id="14100651" author="dagw" created="Mon, 18 Aug 2014 14:05:07 +0000"  >&lt;p&gt;In deed it was. Thanks.&lt;/p&gt;</comment>
                            <comment id="14100683" author="jira-bot" created="Mon, 18 Aug 2014 14:30:24 +0000"  >&lt;p&gt;Commit 1618619 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dagw&quot; class=&quot;user-hover&quot; rel=&quot;dagw&quot;&gt;dagw&lt;/a&gt; in branch &apos;code/branches/10.11&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1618619&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1618619&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6704&quot; title=&quot;Hang in AutoloadTest.spawnProcess:JDBCDriversEmbeddedTest on Mac/jdk7,8&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6704&quot;&gt;DERBY-6704&lt;/a&gt; Hang in AutoloadTest.spawnProcess:JDBCDriversEmbeddedTest on Mac/jdk7,8&lt;/p&gt;

&lt;p&gt;Revert accidental commenting out of lines in previous patch for this issue.&lt;/p&gt;</comment>
                            <comment id="14102190" author="rhillegas" created="Tue, 19 Aug 2014 13:11:15 +0000"  >&lt;p&gt;Attaching derby-6704-01-aa-cleanupJavadocWarnings.diff. This patch cleans up some javadoc warnings.&lt;/p&gt;

&lt;p&gt;Touches the following files:&lt;/p&gt;

&lt;p&gt;M       java/testing/org/apache/derbyTesting/functionTests/tests/jdbcapi/AutoloadTest.java&lt;br/&gt;
M       java/testing/org/apache/derbyTesting/junit/BaseTestCase.java&lt;/p&gt;</comment>
                            <comment id="14102192" author="jira-bot" created="Tue, 19 Aug 2014 13:12:02 +0000"  >&lt;p&gt;Commit 1618859 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rhillegas&quot; class=&quot;user-hover&quot; rel=&quot;rhillegas&quot;&gt;rhillegas&lt;/a&gt; in branch &apos;code/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1618859&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1618859&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6704&quot; title=&quot;Hang in AutoloadTest.spawnProcess:JDBCDriversEmbeddedTest on Mac/jdk7,8&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6704&quot;&gt;DERBY-6704&lt;/a&gt;: Cleanup some javadoc warnings; commit derby-6704-01-aa-cleanupJavadocWarnings.diff.&lt;/p&gt;</comment>
                            <comment id="14104898" author="jira-bot" created="Thu, 21 Aug 2014 01:11:17 +0000"  >&lt;p&gt;Commit 1619274 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=myrna&quot; class=&quot;user-hover&quot; rel=&quot;myrna&quot;&gt;myrna&lt;/a&gt; in branch &apos;code/branches/10.11&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1619274&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1619274&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6704&quot; title=&quot;Hang in AutoloadTest.spawnProcess:JDBCDriversEmbeddedTest on Mac/jdk7,8&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6704&quot;&gt;DERBY-6704&lt;/a&gt;; Hang in AutoloadTest.spawnProcess:JDBCDriversEmbeddedTest on Mac/jdk7,8&lt;br/&gt;
   merge of revision 1618859 from trunk to cleanup javadoc warnings.&lt;/p&gt;</comment>
                            <comment id="14110438" author="knutanders" created="Tue, 26 Aug 2014 07:32:07 +0000"  >&lt;p&gt;AutoloadTest failed again on trunk with extended diagnostics. Not on Mac this time, but the symptoms are similar (sub-process died with exit code 143). &lt;a href=&quot;http://download.java.net/javadesktop/derby/request_5595117/javadb-task-3919785.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://download.java.net/javadesktop/derby/request_5595117/javadb-task-3919785.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14110606" author="knutanders" created="Tue, 26 Aug 2014 11:11:24 +0000"  >&lt;p&gt;The latest failure may be a red herring. RuntimeInfoTest had failed earlier in the test run (&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-6714&quot; title=&quot;RuntimeInfoTest failed with insufficient data from server&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-6714&quot;&gt;&lt;del&gt;DERBY-6714&lt;/del&gt;&lt;/a&gt;). AutoloadTest seems to be waiting for the server port to become available. RuntimeInfoTest is supposed to shut down its server instance manually, but the failure happens just before it gets to the shutdown code, so there is a possibility that it&apos;s the server from that test that&apos;s blocking AutoloadTest.&lt;/p&gt;</comment>
                            <comment id="14110657" author="dagw" created="Tue, 26 Aug 2014 12:37:13 +0000"  >&lt;p&gt;I have a feeling that&apos;s what happened here earlier, too. Some test didn&apos;t succeed in shutting down a server, thus blocking the port for AutoloadTest.&lt;/p&gt;</comment>
                            <comment id="14139598" author="myrna" created="Thu, 18 Sep 2014 22:05:30 +0000"  >&lt;p&gt;With revision 1618088 [ &lt;a href=&quot;https://svn.apache.org/r1618088&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1618088&lt;/a&gt; ] we&apos;ve added some properties on behalf of the AutoloadTest to the derby_tests.policy which applies to all tests. Would it not be better to create a separate policy file for the AutoloadTest and add those properties &lt;b&gt;only&lt;/b&gt; there?&lt;/p&gt;</comment>
                            <comment id="14164055" author="mamtas" created="Wed, 8 Oct 2014 19:55:00 +0000"  >&lt;p&gt;Test failed on trunk(revision 1629794)&lt;br/&gt;
&lt;a href=&quot;http://people.apache.org/~myrnavl/derby_test_results/main/windows/testlog/ibm17/1629794-suites.All_diff.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://people.apache.org/~myrnavl/derby_test_results/main/windows/testlog/ibm17/1629794-suites.All_diff.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;1) spawnProcess:JDBCDriversEmbeddedTest(org.apache.derbyTesting.functionTests.tests.jdbcapi.AutoloadTest)junit.framework.AssertionFailedError: subprocess run failed: exit code==1&lt;/p&gt;

&lt;p&gt;[ (stdout subprocess) .&lt;br/&gt;
  (stdout subprocess) (emb)jdbcapi.AutoloadTest.testRegisteredDriver used 1981 ms .&lt;br/&gt;
  (stdout subprocess) (emb)jdbcapi.AutoloadTest.testAutoNetworkServerBoot used 343 ms .&lt;br/&gt;
  (stdout subprocess) (emb)jdbcapi.AutoloadTest.testSuccessfulConnect used 530 ms .&lt;br/&gt;
  (stdout subprocess) (emb)jdbcapi.AutoloadTest.testEmbeddedStarted used 0 ms .&lt;br/&gt;
  (stdout subprocess) (emb)jdbcapi.AutoloadTest.testUnsuccessfulConnect used 16 ms .&lt;br/&gt;
  (stdout subprocess) (emb)jdbcapi.AutoloadTest.testExplicitLoad used 15 ms .&lt;br/&gt;
  (stdout subprocess) (emb)jdbcapi.AutoloadTest.testAutoloadDriverUnregister used 156 ms ]&lt;/p&gt;

&lt;p&gt;[ (stderr subprocess) ]&lt;/p&gt;



&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;Subprocess -1 hanging, jstack result:End of jstack output&amp;#93;&lt;/span&gt;&lt;/p&gt;


&lt;p&gt;	at org.apache.derbyTesting.functionTests.tests.jdbcapi.AutoloadTest.spawnProcess(AutoloadTest.java:319)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:94)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseTestCase.runBare(BaseTestCase.java:120)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseJDBCTestCase.runBareOverridable(BaseJDBCTestCase.java:443)&lt;br/&gt;
	at org.apache.derbyTesting.junit.BaseJDBCTestCase.runBare(BaseJDBCTestCase.java:460)&lt;br/&gt;
	at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)&lt;br/&gt;
	at junit.extensions.TestSetup$1.protect(TestSetup.java:21)&lt;br/&gt;
	at junit.extensions.TestSetup.run(TestSetup.java:25)&lt;/p&gt;

&lt;p&gt;FAILURES!!!&lt;br/&gt;
Tests run: 19537,  Failures: 1,  Errors: 0&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12662750" name="derby-6704-01-aa-cleanupJavadocWarnings.diff" size="1167" author="rhillegas" created="Tue, 19 Aug 2014 13:11:15 +0000"/>
                            <attachment id="12661514" name="derby-6704.diff" size="2851" author="dagw" created="Wed, 13 Aug 2014 19:34:58 +0000"/>
                            <attachment id="12661957" name="derby-6704b.diff" size="21097" author="dagw" created="Fri, 15 Aug 2014 00:42:59 +0000"/>
                            <attachment id="12661958" name="derby-6704b.status" size="1232" author="dagw" created="Fri, 15 Aug 2014 00:42:59 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>411878</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 6 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1yuvz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>411869</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>