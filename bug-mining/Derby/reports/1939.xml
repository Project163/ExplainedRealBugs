<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 14:09:50 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[DERBY-4602] 10 failures and 11 errors with IBM weme6.2/j9/cdc-foundation after revision 922304 for DERBY-4483</title>
                <link>https://issues.apache.org/jira/browse/DERBY-4602</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;Since March 12 there&apos;s been 10 failures and 11 errors in the nightly test run with IBM&apos;s j2ME/CDC-foundation profile implementation, see: &lt;a href=&quot;http://people.apache.org/~myrnavl/derby_test_results/main/windows/testSummary-922467.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://people.apache.org/~myrnavl/derby_test_results/main/windows/testSummary-922467.html&lt;/a&gt;. Things were ok on March 10, see: &lt;a href=&quot;http://people.apache.org/~myrnavl/derby_test_results/main/windows/testSummary-921667.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://people.apache.org/~myrnavl/derby_test_results/main/windows/testSummary-921667.html&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;I believe these were the effect of the following checkin for &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-4483&quot; title=&quot;Provide a way to change the hash algorithm used by BUILTIN authentication&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-4483&quot;&gt;&lt;del&gt;DERBY-4483&lt;/del&gt;&lt;/a&gt;:&lt;/p&gt;

&lt;p&gt;r922304 | kahatlen | 2010-03-12 08:01:20 -0800 (Fri, 12 Mar 2010) | 8 lines&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-4483&quot; title=&quot;Provide a way to change the hash algorithm used by BUILTIN authentication&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-4483&quot;&gt;&lt;del&gt;DERBY-4483&lt;/del&gt;&lt;/a&gt;: Provide a way to change the hash algorithm used by BUILTIN authentication&lt;/p&gt;

&lt;p&gt;I&apos;ll attach the full failure stacks in a separate file, but I believe perhaps new tests have been added that need to be excluded from the run, because the provider doesn&apos;t support the intended mechanism.&lt;/p&gt;

&lt;p&gt;I&apos;d also be interested to know if these same failures occur with Sun&apos;s/Oracle&apos;s phoneME.&lt;/p&gt;

&lt;p&gt;This is the top of the first error:&lt;br/&gt;
-------------------&lt;br/&gt;
1) testVariousBuiltinAlgorithms(org.apache.derbyTesting.functionTests.tests.jdbcapi.AuthenticationTest)java.sql.SQLException: The message digest algorithm &apos;SHA-256&apos; is not supported by any of the available cryptography providers. Please install a cryptography provider that supports that algorithm, or specify another algorithm in the derby.authentication.builtin.algorithm property.&lt;br/&gt;
	at org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.Util.newEmbedSQLException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.Util.seeNextException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.TransactionResourceImpl.wrapInSQLException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.TransactionResourceImpl.handleException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedConnection.handleException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.ConnectionChild.handleException(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedStatement.executeStatement(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedPreparedStatement.executeStatement(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedCallableStatement.executeStatement(Unknown Source)&lt;br/&gt;
	at org.apache.derby.impl.jdbc.EmbedPreparedStatement.execute(Unknown Source)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.jdbcapi.AuthenticationTest.setDatabaseProperty(AuthenticationTest.java:1208)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.jdbcapi.AuthenticationTest.setDatabaseProperty(AuthenticationTest.java:1218)&lt;br/&gt;
	at org.apache.derbyTesting.functionTests.tests.jdbcapi.AuthenticationTest.testVariousBuiltinAlgorithms(AuthenticationTest.java:1118)&lt;br/&gt;
------------------&lt;/p&gt;

&lt;p&gt;The failures are likely a result of this - the stack shows issues like no cleaning up of databases etc.&lt;/p&gt;</description>
                <environment>IBM&amp;#39;s j2ME/cdc/foundation implementation (j9 jvm from weme6.2)</environment>
        <key id="12460598">DERBY-4602</key>
            <summary>10 failures and 11 errors with IBM weme6.2/j9/cdc-foundation after revision 922304 for DERBY-4483</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="knutanders">Knut Anders Hatlen</assignee>
                                    <reporter username="myrna">Myrna van Lunteren</reporter>
                        <labels>
                    </labels>
                <created>Mon, 29 Mar 2010 20:24:52 +0000</created>
                <updated>Fri, 23 Apr 2010 14:46:43 +0000</updated>
                            <resolved>Wed, 31 Mar 2010 21:06:53 +0000</resolved>
                                    <version>10.6.1.0</version>
                                    <fixVersion>10.6.1.0</fixVersion>
                                    <component>Services</component>
                    <component>Test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12851268" author="knutanders" created="Tue, 30 Mar 2010 06:02:53 +0000"  >&lt;p&gt;The failure in testVariousBuiltinAlgorithm() is not so serious in itself, as it could just be disabled on JVMs that don&apos;t support SHA-256. However, SHA-256 was made the default algorithm in revision 927368, so with a more recent version of trunk, you&apos;d probably see even more of these errors.&lt;/p&gt;

&lt;p&gt;The phoneME tests have been running cleanly after the &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-4483&quot; title=&quot;Provide a way to change the hash algorithm used by BUILTIN authentication&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-4483&quot;&gt;&lt;del&gt;DERBY-4483&lt;/del&gt;&lt;/a&gt; changes. &lt;a href=&quot;http://dbtg.foundry.sun.com/derby/test/Daily/javaME/testing/Limited/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://dbtg.foundry.sun.com/derby/test/Daily/javaME/testing/Limited/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12851291" author="knutanders" created="Tue, 30 Mar 2010 06:57:23 +0000"  >&lt;p&gt;If the problem is that SHA-256 is missing, we could always make SHA-1 the default algorithm (it must be supported on weme, since that&apos;s what the old authentication scheme used). But before we do that, it would be interesting to see which security providers are available on weme, and which message digest algorithms they support. Myrna, could you please attach the output produced by the attached java class on weme? Thanks.&lt;/p&gt;</comment>
                            <comment id="12851470" author="myrna" created="Tue, 30 Mar 2010 17:11:50 +0000"  >&lt;p&gt;The output with weme 6.2 is:&lt;br/&gt;
Digest algorithms:&lt;br/&gt;
  MD5&lt;br/&gt;
  SHA-1&lt;/p&gt;

&lt;p&gt;Providers:&lt;br/&gt;
  OTI&lt;br/&gt;
  J9JCE&lt;br/&gt;
  J9JSSE&lt;/p&gt;

&lt;p&gt;And indeed, there&apos;s more errors since March 25 (revision 927661) we&apos;ve now gotten up to 10 failures and 122 errors...(not all are because of missing SHA-256, some of those are due to a lock being held from some previous test, or similar trouble).&lt;/p&gt;

&lt;p&gt;Perhaps it&apos;s possible to have some exception code to have SHA-1 be the default for weme...The weme jvm is recognizable by a number of properties starting with &apos;com.ibm.oti&apos;... We already have one weme specific code snippet in BaseTestCase to find the executable name...&lt;/p&gt;</comment>
                            <comment id="12851485" author="knutanders" created="Tue, 30 Mar 2010 17:54:01 +0000"  >&lt;p&gt;Thanks Myrna. Looks like we don&apos;t have many options on that platform, then. We could have a different default for weme, but then we may run into portability issues when moving a database created on another platform to weme, so I think having the same default on all platforms is the safest choice.&lt;/p&gt;</comment>
                            <comment id="12851797" author="knutanders" created="Wed, 31 Mar 2010 10:04:56 +0000"  >&lt;p&gt;Rick also suggested (in a comment on &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-4483&quot; title=&quot;Provide a way to change the hash algorithm used by BUILTIN authentication&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-4483&quot;&gt;&lt;del&gt;DERBY-4483&lt;/del&gt;&lt;/a&gt;) that we should keep SHA-256 as the default on platforms that support it and fall back to SHA-1 on those that don&apos;t, so I&apos;m attaching a patch that makes the suggested changes and updates AuthenticationTest to skip tests for unsupported algorithms.&lt;/p&gt;</comment>
                            <comment id="12851801" author="knutanders" created="Wed, 31 Mar 2010 10:13:35 +0000"  >&lt;p&gt;I think we would need a release note if the 1a patch is committed to explain weme users what to do if they get a message saying algorithm not supported when they try to connect. (This may happen if they create a database on a more capable platform, enable authentication, and copy the database to a restricted platform.) I think the error message they&apos;ll see is pretty self-explanatory, but I still think a release note is in order, as users may wonder why this started happening now.&lt;/p&gt;</comment>
                            <comment id="12851831" author="knutanders" created="Wed, 31 Mar 2010 12:04:54 +0000"  >&lt;p&gt;Came to think about one issue... The 1a patch introduces a dependency on SHA-256 or SHA-1 being available at database creation time, even if the database does not actually use authentication. I think it would be better if it didn&apos;t fail when the database was created, but rather when/if the unsupported algorithm is attempted used, as it does today, so that it&apos;s still possible to create databases on JVMs without SHA-1 support as long as authentication is not used.&lt;/p&gt;</comment>
                            <comment id="12851834" author="knutanders" created="Wed, 31 Mar 2010 12:11:52 +0000"  >&lt;p&gt;Attaching release note.&lt;/p&gt;</comment>
                            <comment id="12851841" author="knutanders" created="Wed, 31 Mar 2010 12:32:48 +0000"  >&lt;p&gt;Attaching updated patch (1b) that does not fail on database creation if SHA-1 is not present.&lt;/p&gt;</comment>
                            <comment id="12852092" author="myrna" created="Wed, 31 Mar 2010 20:49:53 +0000"  >&lt;p&gt;I tried out the test lang.GrantRevokeTest with the patch, and it fails without, and passes with the patch. I&apos;ll assume the other issues will work also, I&apos;ll try a full test run later to confirm, but any other fall-out can be addressed in a new issue... +1 from me.&lt;/p&gt;</comment>
                            <comment id="12852105" author="knutanders" created="Wed, 31 Mar 2010 21:06:53 +0000"  >&lt;p&gt;Thanks for testing the patch, Myrna!&lt;br/&gt;
Committed revision 929715.&lt;/p&gt;</comment>
                            <comment id="12853458" author="myrna" created="Mon, 5 Apr 2010 17:47:19 +0000"  >&lt;p&gt;All tests pass again with weme 6.2. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12443752">DERBY-4483</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12440188" name="ListAlgorithms.java" size="712" author="knutanders" created="Tue, 30 Mar 2010 06:57:23 +0000"/>
                            <attachment id="12440327" name="derby-4602-1a.diff" size="6019" author="knutanders" created="Wed, 31 Mar 2010 10:04:56 +0000"/>
                            <attachment id="12440326" name="derby-4602-1a.stat" size="241" author="knutanders" created="Wed, 31 Mar 2010 10:04:56 +0000"/>
                            <attachment id="12440337" name="derby-4602-1b.diff" size="5011" author="knutanders" created="Wed, 31 Mar 2010 12:32:48 +0000"/>
                            <attachment id="12440099" name="j9errorsandfailures.txt" size="94769" author="myrna" created="Mon, 29 Mar 2010 20:25:25 +0000"/>
                            <attachment id="12440335" name="releaseNote.html" size="6270" author="knutanders" created="Wed, 31 Mar 2010 12:11:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310200" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Bug behavior facts</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10369"><![CDATA[Regression Test Failure]]></customfieldvalue>
    <customfieldvalue key="10361"><![CDATA[Security]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>24360</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12310090" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Issue &amp; fix info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10101"><![CDATA[Release Note Needed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 34 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i06w9b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>38160</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>