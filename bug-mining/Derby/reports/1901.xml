<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 14:08:03 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[DERBY-3852] J2EEDataSourceTest may ignore some failures</title>
                <link>https://issues.apache.org/jira/browse/DERBY-3852</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;I noticed that the method testConnectionErrorEvent() in J2EEDataSourceTest had many occurrences of code that was structured like this:&lt;/p&gt;

&lt;p&gt;  try &lt;/p&gt;
{
    // do something with a connection
  }
&lt;p&gt; catch (SQLException e) &lt;/p&gt;
{
    assertSQLState(&quot;...&quot;, e);
  }

&lt;p&gt;This code will only fail if an unexpected exception is thrown, not if the code in the try block fails to throw any exception at all.&lt;/p&gt;

&lt;p&gt;It may be that we can fix this by adding a call to fail() at the end of each try block. It may also be the case that the code is written like this because it is expected to throw exception with the embedded driver and succeed with the client driver (or the other way around). If the latter is the case, this should be made explicit, for instance by writing it like this:&lt;/p&gt;

&lt;p&gt;  try &lt;/p&gt;
{
    // do something with a connection
    assertFalse(usingEmbedded(), &quot;should have failed with the embedded driver&quot;);
  }
&lt;p&gt; catch (SQLException e) {&lt;br/&gt;
    if (!usingEmbedded()) &lt;/p&gt;
{
      throw e;
    }
&lt;p&gt;    assertSQLState(&quot;...&quot;, e);&lt;br/&gt;
  }&lt;/p&gt;</description>
                <environment></environment>
        <key id="12403070">DERBY-3852</key>
            <summary>J2EEDataSourceTest may ignore some failures</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="knutanders">Knut Anders Hatlen</assignee>
                                    <reporter username="knutanders">Knut Anders Hatlen</reporter>
                        <labels>
                    </labels>
                <created>Tue, 26 Aug 2008 14:04:08 +0000</created>
                <updated>Wed, 7 Jul 2010 22:17:57 +0000</updated>
                            <resolved>Wed, 7 Jul 2010 22:17:57 +0000</resolved>
                                    <version>10.5.1.1</version>
                                    <fixVersion>10.5.3.1</fixVersion>
                    <fixVersion>10.6.1.0</fixVersion>
                                    <component>Test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12806861" author="bryanpendleton" created="Sun, 31 Jan 2010 19:51:37 +0000"  >&lt;p&gt;It looks like this problem was fixed as part of the fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-3853&quot; title=&quot;Behaviour of setTypeMap() differs between embedded and client&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-3853&quot;&gt;&lt;del&gt;DERBY-3853&lt;/del&gt;&lt;/a&gt;, by revision 764217. I think we can close this one.&lt;/p&gt;</comment>
                            <comment id="12828044" author="knutanders" created="Mon, 1 Feb 2010 09:42:58 +0000"  >&lt;p&gt;It looks like most of it was fixed as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-3853&quot; title=&quot;Behaviour of setTypeMap() differs between embedded and client&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-3853&quot;&gt;&lt;del&gt;DERBY-3853&lt;/del&gt;&lt;/a&gt;, but I found one occurrence that wasn&apos;t fixed yet. The attached patch fixes that one too.&lt;/p&gt;

&lt;p&gt;Committed revision 905224.&lt;/p&gt;</comment>
                            <comment id="12884463" author="lilywei" created="Thu, 1 Jul 2010 22:14:34 +0000"  >&lt;p&gt;Reopen to 10.5 back port&lt;/p&gt;</comment>
                            <comment id="12886114" author="kmarsden" created="Wed, 7 Jul 2010 22:17:57 +0000"  >&lt;p&gt;re-closing after  change to 10.5&lt;/p&gt;

&lt;p&gt;Sending        .&lt;br/&gt;
Sending        java\testing\org\apache\derbyTesting\functionTests\tests\jdbcapi\&lt;br/&gt;
J2EEDataSourceTest.java&lt;br/&gt;
Transmitting file data .&lt;br/&gt;
Committed revision 961521.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310040">
                    <name>Required</name>
                                                                <inwardlinks description="is required by">
                                        <issuelink>
            <issuekey id="12468384">DERBY-4728</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12434372" name="assert.diff" size="678" author="knutanders" created="Mon, 1 Feb 2010 09:42:58 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>23878</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12310090" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Issue &amp; fix info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10423"><![CDATA[Newcomer]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 20 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i06v3b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>37971</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>