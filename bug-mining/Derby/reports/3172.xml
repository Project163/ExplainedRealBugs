<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 14:51:38 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[DERBY-7016] Adjust the set*CP scripts to include derbyshared.jar and to set a MODULEPATH variable as well</title>
                <link>https://issues.apache.org/jira/browse/DERBY-7016</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;The classpath-setting scripts need to include derbyshared.jar in the classpath and set MODULEPATH as well.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13197465">DERBY-7016</key>
            <summary>Adjust the set*CP scripts to include derbyshared.jar and to set a MODULEPATH variable as well</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rhillegas">Richard N. Hillegas</assignee>
                                    <reporter username="rhillegas">Richard N. Hillegas</reporter>
                        <labels>
                    </labels>
                <created>Fri, 9 Nov 2018 17:43:32 +0000</created>
                <updated>Thu, 29 Nov 2018 22:33:33 +0000</updated>
                            <resolved>Thu, 29 Nov 2018 22:33:27 +0000</resolved>
                                    <version>10.15.1.3</version>
                                    <fixVersion>10.15.1.3</fixVersion>
                                    <component>Demos/Scripts</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16682861" author="rhillegas" created="Sun, 11 Nov 2018 12:49:59 +0000"  >&lt;p&gt;Attaching derby-7016-01-aa-addSharedModule-setModulepath. This patch adds the shared module to the classpaths built by the classpath-building scripts and makes the scripts set a MODULEPATH variable also.&lt;/p&gt;

&lt;p&gt;Running with these scripts flushed out a problem with the tool module: its dependencies on the engine and client modules needed to be optional, as indicated by the new Derby module diagrams.&lt;/p&gt;

&lt;p&gt;I hand-tested the unix scripts with a simple heartbeat program. I tested an embedded connection to a Derby database and a remote client connection. I will run full tests.&lt;/p&gt;

&lt;p&gt;I will look for a machine on which to test the Windows scripts.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;--------------------------

M       bin/setEmbeddedCP
M       bin/setEmbeddedCP.bat
M       bin/setNetworkClientCP
M       bin/setNetworkClientCP.bat
M       bin/setNetworkServerCP
M       bin/setNetworkServerCP.bat

Add derbyshared.jar to the CLASSPATH variable set by these scripts.

--------------------------

M       java/org.apache.derby.tools/module-info.java

Relax the tool module&apos;s dependencies on the engine
and client modules so that they are optional.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16683020" author="bryanpendleton" created="Sun, 11 Nov 2018 21:44:21 +0000"  >&lt;p&gt;I can probably do some Windows testing of the scripts. Perhaps over Thanksgiving weekend? Are they already submitted to Subversion? If not, I&apos;d say go ahead and submit them, and I&apos;ll let you know if I encounter any problems.&lt;/p&gt;</comment>
                            <comment id="16683751" author="rhillegas" created="Mon, 12 Nov 2018 12:50:25 +0000"  >&lt;p&gt;Thanks, Bryan. I haven&apos;t submitted the patch yet. But I could check it in after running tests. I&apos;m on the road today.&lt;/p&gt;</comment>
                            <comment id="16686733" author="rhillegas" created="Wed, 14 Nov 2018 15:43:04 +0000"  >&lt;p&gt;Attaching derby-7016-01-ab-addSharedModule-setModulepath.diff.  This patch extends the previous version. It adds the shared module to the classpaths of the derby_shared scripts.&lt;/p&gt;

&lt;p&gt;Again, I have tested the unix versions of the additional scripts which the build generates into trunk/generated/bin. I will run tests. If they run cleanly, then I will check in this patch so that the Windows versions can be tested easily.&lt;/p&gt;


&lt;p&gt;Touches the following additional files:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;------------------

M       bin/derby_common.bat

The common code for setting the CLASSPATH variable for use by the
Windows scripts.

------------------

M       bin/templates/derby_common.sh

The common code for setting the CLASSPATH variable for use by the
unix scripts. The unix scripts are generated by the binscripts target
of the top level build file.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16691130" author="rhillegas" created="Sun, 18 Nov 2018 23:55:19 +0000"  >&lt;p&gt;Tests passed cleanly with the classpath and the modulepath after correcting the environmental problem noted on issue &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-7019&quot; title=&quot;Failure in XMLBindingTest&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-7019&quot;&gt;&lt;del&gt;DERBY-7019&lt;/del&gt;&lt;/a&gt;,&lt;/p&gt;</comment>
                            <comment id="16691131" author="jira-bot" created="Sun, 18 Nov 2018 23:56:52 +0000"  >&lt;p&gt;Commit 1846875 from rhillegas@apache.org in branch &apos;code/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1846875&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1846875&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-7016&quot; title=&quot;Adjust the set*CP scripts to include derbyshared.jar and to set a MODULEPATH variable as well&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-7016&quot;&gt;&lt;del&gt;DERBY-7016&lt;/del&gt;&lt;/a&gt;: Add derbyshared.jar to the CLASSPATH set by the Derby *CP scripts and set the MODULEPATH variable correspondingly; commit derby-7016-01-ab-addSharedModule-setModulepath.diff.&lt;/p&gt;</comment>
                            <comment id="16696129" author="bryanpendleton" created="Thu, 22 Nov 2018 17:06:35 +0000"  >&lt;p&gt;In this day and age of Modules, is it still possible simply to use derbyrun.jar? It&apos;s so *&lt;b&gt;vastly&lt;/b&gt;* more convenient than maintaining complicated lists of individual jar files.&lt;/p&gt;</comment>
                            <comment id="16696210" author="rhillegas" created="Thu, 22 Nov 2018 19:19:39 +0000"  >&lt;p&gt;Hey Bryan,&lt;/p&gt;

&lt;p&gt;I will ask the experts that question. It looks to me as though the -jar switch works with the classpath attribute in the booted jar file&apos;s manifest. I do not see any way to declare a modulepath in the manifest: &lt;a href=&quot;https://docs.oracle.com/javase/9/docs/specs/jar/jar.html#classpath&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://docs.oracle.com/javase/9/docs/specs/jar/jar.html#classpath&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Stand by...&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
-Rick&lt;/p&gt;</comment>
                            <comment id="16697394" author="rhillegas" created="Fri, 23 Nov 2018 17:45:38 +0000"  >&lt;p&gt;Here&apos;s what the experts have to say. Alan Bateman posted the following response to the Open JDK core-libs-dev mailing list on an email thread titled &quot;-jar option and the modulepath&quot;:&lt;/p&gt;

&lt;p&gt;&quot;There is no support for executable modular JARs at this time. It&apos;s part of a bigger topic that is tracked as #MultiModuleExecutableJARs. Some prototypes during JDK 9 but the decision at the time was to defer it to some future effort. So when you run with `java -jar` then it puts the JAR file on the class path (exactly as it did in all previous releases).&quot;&lt;/p&gt;</comment>
                            <comment id="16703920" author="rhillegas" created="Thu, 29 Nov 2018 22:32:45 +0000"  >&lt;p&gt;I have run some simple heartbeat tests of the scripts. I ran these tests on Windows 10, using Java 11 and a bin distribution built after the changes applied under &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-7020&quot; title=&quot;Fix release targets to account for modularization changes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-7020&quot;&gt;&lt;del&gt;DERBY-7020&lt;/del&gt;&lt;/a&gt;. My tests disclosed no problems.&lt;/p&gt;</comment>
                            <comment id="16703921" author="rhillegas" created="Thu, 29 Nov 2018 22:33:27 +0000"  >&lt;p&gt;Resolving this issue.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13084066">DERBY-6945</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12947741" name="derby-7016-01-aa-addSharedModule-setModulepath.diff" size="4929" author="rhillegas" created="Sun, 11 Nov 2018 12:49:36 +0000"/>
                            <attachment id="12948157" name="derby-7016-01-ab-addSharedModule-setModulepath.diff" size="6281" author="rhillegas" created="Wed, 14 Nov 2018 15:42:19 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 50 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|s00c1k:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310050" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Urgency</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10050"><![CDATA[Blocker]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>