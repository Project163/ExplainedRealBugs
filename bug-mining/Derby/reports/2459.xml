<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 14:30:02 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[DERBY-5521] JDBCMBeanTest#testAttributeDriverLevel uses Java assert in lieu of JUnit assert: no real testing happens</title>
                <link>https://issues.apache.org/jira/browse/DERBY-5521</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;Cf these lines:&lt;/p&gt;

&lt;p&gt;assert(driverLevelString.indexOf(&apos;?&apos;) == -1);&lt;br/&gt;
assert(driverLevelString.matches(&quot;^JRE - JDBC: &quot; + JDBCVersion + &quot;.*&quot;));&lt;/p&gt;

&lt;p&gt;The &quot;assert&quot; is a Java built-in rather than the JUnit assertTrue we need.&lt;/p&gt;

&lt;p&gt;The string driverLevelString is also wrong, since it is a mere toString of the bean name. We need to use getAttribute on it to get the driver level&lt;br/&gt;
for asserting.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12533900">DERBY-5521</key>
            <summary>JDBCMBeanTest#testAttributeDriverLevel uses Java assert in lieu of JUnit assert: no real testing happens</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dagw">Dag H. Wanvik</assignee>
                                    <reporter username="dagw">Dag H. Wanvik</reporter>
                        <labels>
                    </labels>
                <created>Mon, 5 Dec 2011 16:47:19 +0000</created>
                <updated>Fri, 9 Dec 2011 01:26:48 +0000</updated>
                            <resolved>Fri, 9 Dec 2011 01:26:07 +0000</resolved>
                                                    <fixVersion>10.9.1.0</fixVersion>
                                    <component>Test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13162890" author="dagw" created="Mon, 5 Dec 2011 17:32:18 +0000"  >&lt;p&gt;Attaching a patch for this. Cf also &lt;a href=&quot;https://issues.apache.org/jira/browse/DERBY-5519&quot; title=&quot;Update code in JVMInfo#derbyVMLevel to give correct results for Java 7 and provisionally for 8.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DERBY-5519&quot;&gt;&lt;del&gt;DERBY-5519&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13163113" author="knutanders" created="Mon, 5 Dec 2011 22:33:46 +0000"  >&lt;p&gt;The patch looks good. One small nit: assertEquals() should have the expected value as the first argument. Perhaps we should also pass driverLevelString as message argument to the two asserts, so we can see what&apos;s wrong if they ever fail?&lt;/p&gt;</comment>
                            <comment id="13164053" author="dagw" created="Wed, 7 Dec 2011 01:47:39 +0000"  >&lt;p&gt;Thanks, Knut. Committed derby-5521b taking that advice as svn 1211266. &lt;/p&gt;</comment>
                            <comment id="13164055" author="dagw" created="Wed, 7 Dec 2011 01:51:03 +0000"  >&lt;p&gt;Not suitable for backport, bug introduced post 10.8, closing.&lt;/p&gt;</comment>
                            <comment id="13165134" author="knutanders" created="Thu, 8 Dec 2011 10:17:54 +0000"  >&lt;p&gt;Seems to have caused a problem on Java 5:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://dbtg.foundry.sun.com/derby/test/Daily/jvm1.5/testing/testlog/sles/1211538-suitesAll_diff.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://dbtg.foundry.sun.com/derby/test/Daily/jvm1.5/testing/testlog/sles/1211538-suitesAll_diff.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;suitesAll fail *************************************************************&lt;br/&gt;
1) testAttributeDriverLevel(org.apache.derbyTesting.functionTests.tests.management.JDBCMBeanTest)junit.framework.AssertionFailedError: Unexpected driver level string: J2SE 5.0 - JDBC 3.0&lt;br/&gt;
2) testAttributeDriverLevel(org.apache.derbyTesting.functionTests.tests.management.JDBCMBeanTest)junit.framework.AssertionFailedError: Unexpected driver level string: J2SE 5.0 - JDBC 3.0&lt;br/&gt;
suitesAll fail *************************************************************&lt;/p&gt;</comment>
                            <comment id="13165731" author="dagw" created="Fri, 9 Dec 2011 01:25:24 +0000"  >&lt;p&gt;Committed this as svn 1212210, resolving&lt;/p&gt;

&lt;p&gt;Patch derby-5521-followup fixes a small issue with the regexp (JDK&lt;br/&gt;
name varied over time: J2SE -&amp;gt; Java SE) used in the test.&lt;/p&gt;</comment>
                            <comment id="13165732" author="dagw" created="Fri, 9 Dec 2011 01:26:07 +0000"  >&lt;p&gt;Tested manually with Java 1.5, Java 1.6 and Java 1.7.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12533702">DERBY-5519</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12506690" name="derby-5521-followup.diff" size="1104" author="dagw" created="Fri, 9 Dec 2011 01:25:24 +0000"/>
                            <attachment id="12506128" name="derby-5521.diff" size="1486" author="dagw" created="Mon, 5 Dec 2011 17:32:18 +0000"/>
                            <attachment id="12506374" name="derby-5521b.diff" size="1629" author="dagw" created="Wed, 7 Dec 2011 01:49:30 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>219626</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 50 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i06jvj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36154</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>