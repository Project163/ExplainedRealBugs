<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 13:31:39 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[DERBY-1991] Misleading stack traces for exceptions raised by the JDBC 4.0 embedded driver</title>
                <link>https://issues.apache.org/jira/browse/DERBY-1991</link>
                <project id="10594" key="DERBY">Derby</project>
                    <description>&lt;p&gt;When the embedded driver raises an SQLException, its stack trace always&lt;br/&gt;
says it is created in SQLExceptionFactory40.wrapArgsForTransportAcrossDRDA().&lt;br/&gt;
This is not correct.&lt;/p&gt;

&lt;p&gt;At some point, SQLExceptionFactory40.getSQLException() set the stack trace&lt;br/&gt;
of the SQLException to the stack trace of the non-SQLException that caused&lt;br/&gt;
it, if there were one. This was probably done to mimic the behaviour of&lt;br/&gt;
EmbedSQLException, which overrides printStackTrace() to achieve the&lt;br/&gt;
same. Later, code was added to ferry arguments over DRDA. This code created&lt;br/&gt;
a dummy exception which the old code interpreted as a non-SQLException&lt;br/&gt;
whose stack trace should be used for the main exception. Therefore, all&lt;br/&gt;
exceptions now have the same stack trace as the dummy exception created in&lt;br/&gt;
wrapArgsForTransportAcrossDRDA().&lt;/p&gt;

&lt;p&gt;I think the best solution is not to set the stack trace explicitly, not&lt;br/&gt;
even when the SQLException is caused by a non-SQLException.&lt;br/&gt;
EmbedSQLException overrides printStackTrace() because throwables in Java&lt;br/&gt;
1.3 didn&apos;t have initCause()/getCause(), so it was the only way to preserve&lt;br/&gt;
the original stack trace. Since the SQLExceptions in JDBC 4.0 have&lt;br/&gt;
initCause()/getCause(), there is no reason why the JDBC4 driver should&lt;br/&gt;
mimic EmbedSQLException&apos;s workaround for not having these methods.&lt;/p&gt;</description>
                <environment>Java SE 6, Derby with JDBC 4.0 compiled in.</environment>
        <key id="12353814">DERBY-1991</key>
            <summary>Misleading stack traces for exceptions raised by the JDBC 4.0 embedded driver</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="knutanders">Knut Anders Hatlen</assignee>
                                    <reporter username="knutanders">Knut Anders Hatlen</reporter>
                        <labels>
                    </labels>
                <created>Tue, 24 Oct 2006 07:20:37 +0000</created>
                <updated>Tue, 31 Oct 2006 08:45:39 +0000</updated>
                            <resolved>Tue, 31 Oct 2006 08:45:39 +0000</resolved>
                                    <version>10.2.1.6</version>
                                    <fixVersion>10.2.2.0</fixVersion>
                    <fixVersion>10.3.1.4</fixVersion>
                                    <component>JDBC</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12444233" author="knutanders" created="Tue, 24 Oct 2006 07:26:26 +0000"  >&lt;p&gt;Attaching a patch which makes SQLExceptionFactory40 not set the stack trace to the stack trace of the dummy exception. Derbyall passed on Java SE 6.&lt;/p&gt;</comment>
                            <comment id="12445846" author="knutanders" created="Tue, 31 Oct 2006 08:45:39 +0000"  >&lt;p&gt;Committed to trunk with revision 469410.&lt;br/&gt;
Committed to 10.2 with revision 469415.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12343508" name="derby-1991.diff" size="4224" author="knutanders" created="Tue, 24 Oct 2006 07:26:26 +0000"/>
                            <attachment id="12343509" name="derby-1991.stat" size="277" author="knutanders" created="Tue, 24 Oct 2006 07:26:26 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>22825</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            19 years, 5 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i079iv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>40309</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>