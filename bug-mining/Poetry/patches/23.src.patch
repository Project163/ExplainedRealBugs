diff --git a/poetry/utils/helpers.py b/poetry/utils/helpers.py
index 85d18a71..af68a6d0 100644
--- a/poetry/utils/helpers.py
+++ b/poetry/utils/helpers.py
@@ -34,19 +34,18 @@ def normalize_version(version):  # type: (str) -> str
     return str(Version(version))
 
 
+def _del_ro(action, name, exc):
+    os.chmod(name, stat.S_IWRITE)
+    os.remove(name)
+
+
 @contextmanager
 def temporary_directory(*args, **kwargs):
-    try:
-        from tempfile import TemporaryDirectory
-
-        with TemporaryDirectory(*args, **kwargs) as name:
-            yield name
-    except ImportError:
-        name = tempfile.mkdtemp(*args, **kwargs)
+    name = tempfile.mkdtemp(*args, **kwargs)
 
-        yield name
+    yield name
 
-        shutil.rmtree(name)
+    shutil.rmtree(name, onerror=_del_ro)
 
 
 def parse_requires(requires):  # type: (str) -> List[str]
