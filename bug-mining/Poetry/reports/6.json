{"url":"https://api.github.com/repos/python-poetry/poetry/issues/431","repository_url":"https://api.github.com/repos/python-poetry/poetry","labels_url":"https://api.github.com/repos/python-poetry/poetry/issues/431/labels{/name}","comments_url":"https://api.github.com/repos/python-poetry/poetry/issues/431/comments","events_url":"https://api.github.com/repos/python-poetry/poetry/issues/431/events","html_url":"https://github.com/python-poetry/poetry/issues/431","id":359611824,"node_id":"MDU6SXNzdWUzNTk2MTE4MjQ=","number":431,"title":"Are directories excluded by .gitignore and friends supposed to be included in setup.py package_data?","user":{"login":"ts826848","id":566572,"node_id":"MDQ6VXNlcjU2NjU3Mg==","avatar_url":"https://avatars.githubusercontent.com/u/566572?v=4","gravatar_id":"","url":"https://api.github.com/users/ts826848","html_url":"https://github.com/ts826848","followers_url":"https://api.github.com/users/ts826848/followers","following_url":"https://api.github.com/users/ts826848/following{/other_user}","gists_url":"https://api.github.com/users/ts826848/gists{/gist_id}","starred_url":"https://api.github.com/users/ts826848/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ts826848/subscriptions","organizations_url":"https://api.github.com/users/ts826848/orgs","repos_url":"https://api.github.com/users/ts826848/repos","events_url":"https://api.github.com/users/ts826848/events{/privacy}","received_events_url":"https://api.github.com/users/ts826848/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":851628021,"node_id":"MDU6TGFiZWw4NTE2MjgwMjE=","url":"https://api.github.com/repos/python-poetry/poetry/labels/kind/bug","name":"kind/bug","color":"f74a2a","default":false,"description":"Something isn't working as expected"},{"id":851634863,"node_id":"MDU6TGFiZWw4NTE2MzQ4NjM=","url":"https://api.github.com/repos/python-poetry/poetry/labels/area/build-system","name":"area/build-system","color":"7e56c4","default":false,"description":"Related to PEP 517 packaging (see poetry-core)"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2018-09-12T19:03:42Z","updated_at":"2024-03-03T04:05:34Z","closed_at":"2018-10-17T20:26:44Z","author_association":"NONE","type":null,"active_lock_reason":"resolved","sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"<!--\r\n  Hi there! Thank you for wanting to make Poetry better.\r\n\r\n  Before you submit this; let's make sure of a few things.\r\n  Please make sure the following boxes are ticked if they are correct.\r\n  If not, please try and fulfill these first.\r\n-->\r\n\r\n<!-- Checked checkbox should look like this: [x] -->\r\n- [x] I have searched the [issues](https://github.com/sdispater/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [x] I have searched the [documentation](https://poetry.eustace.io/docs/) and believe that my question is not covered.\r\n\r\n## Question\r\n<!-- Now feel free to write your question. Thanks again ðŸ™Œ â¤ï¸ -->\r\n\r\nShould `poetry build` exclude things ignored by a VCS from the generated `package_data` in `setup.py`? I find it rather odd that having something in a `.gitignore` results in it not being included in the generated `.tar.gz`, but still having it mentioned in `setup.py`.\r\n\r\nFor example, I have `.mypy_cache/` ignored in my `.gitignore` files. They are correctly excluded from the generated `.tar.gz` file, but I end up with the following in `setup.py`:\r\n\r\n```python3\r\npackage_data = \\\r\n{'': ['*'],\r\n 'test': ['.mypy_cache/*',\r\n          '.mypy_cache/3.7/*',\r\n          '.mypy_cache/3.7/collections/*',\r\n          '.mypy_cache/3.7/importlib/*',\r\n          '.mypy_cache/3.7/os/*']}\r\n```\r\n\r\nWhich, at least in my inexperienced eyes, indicates that `.mypy_cache/` and its contents are supposed to be installed, even though they aren't actually included in the source archive.\r\n\r\nIs this intended? And if not, is there an easy way of avoiding this behavior besides just removing `.mypy_cache/` prior to running `poetry build`?","closed_by":{"login":"sdispater","id":555648,"node_id":"MDQ6VXNlcjU1NTY0OA==","avatar_url":"https://avatars.githubusercontent.com/u/555648?v=4","gravatar_id":"","url":"https://api.github.com/users/sdispater","html_url":"https://github.com/sdispater","followers_url":"https://api.github.com/users/sdispater/followers","following_url":"https://api.github.com/users/sdispater/following{/other_user}","gists_url":"https://api.github.com/users/sdispater/gists{/gist_id}","starred_url":"https://api.github.com/users/sdispater/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sdispater/subscriptions","organizations_url":"https://api.github.com/users/sdispater/orgs","repos_url":"https://api.github.com/users/sdispater/repos","events_url":"https://api.github.com/users/sdispater/events{/privacy}","received_events_url":"https://api.github.com/users/sdispater/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/python-poetry/poetry/issues/431/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/python-poetry/poetry/issues/431/timeline","performed_via_github_app":null,"state_reason":"completed"}