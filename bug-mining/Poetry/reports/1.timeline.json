[{"actor":{"login":"diefans","id":513316,"node_id":"MDQ6VXNlcjUxMzMxNg==","avatar_url":"https://avatars.githubusercontent.com/u/513316?v=4","gravatar_id":"","url":"https://api.github.com/users/diefans","html_url":"https://github.com/diefans","followers_url":"https://api.github.com/users/diefans/followers","following_url":"https://api.github.com/users/diefans/following{/other_user}","gists_url":"https://api.github.com/users/diefans/gists{/gist_id}","starred_url":"https://api.github.com/users/diefans/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/diefans/subscriptions","organizations_url":"https://api.github.com/users/diefans/orgs","repos_url":"https://api.github.com/users/diefans/repos","events_url":"https://api.github.com/users/diefans/events{/privacy}","received_events_url":"https://api.github.com/users/diefans/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-20T09:11:57Z","updated_at":"2018-05-20T09:11:57Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/python-poetry/poetry/issues/123","repository_url":"https://api.github.com/repos/python-poetry/poetry","labels_url":"https://api.github.com/repos/python-poetry/poetry/issues/123/labels{/name}","comments_url":"https://api.github.com/repos/python-poetry/poetry/issues/123/comments","events_url":"https://api.github.com/repos/python-poetry/poetry/issues/123/events","html_url":"https://github.com/python-poetry/poetry/pull/123","id":324694934,"node_id":"MDExOlB1bGxSZXF1ZXN0MTg5MjI1NjU1","number":123,"title":"Add src to sys.path if module is in src","user":{"login":"diefans","id":513316,"node_id":"MDQ6VXNlcjUxMzMxNg==","avatar_url":"https://avatars.githubusercontent.com/u/513316?v=4","gravatar_id":"","url":"https://api.github.com/users/diefans","html_url":"https://github.com/diefans","followers_url":"https://api.github.com/users/diefans/followers","following_url":"https://api.github.com/users/diefans/following{/other_user}","gists_url":"https://api.github.com/users/diefans/gists{/gist_id}","starred_url":"https://api.github.com/users/diefans/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/diefans/subscriptions","organizations_url":"https://api.github.com/users/diefans/orgs","repos_url":"https://api.github.com/users/diefans/repos","events_url":"https://api.github.com/users/diefans/events{/privacy}","received_events_url":"https://api.github.com/users/diefans/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-05-20T09:11:57Z","updated_at":"2024-03-01T19:07:50Z","closed_at":"2018-05-21T22:07:28Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":"resolved","draft":false,"repository":{"id":123303402,"node_id":"MDEwOlJlcG9zaXRvcnkxMjMzMDM0MDI=","name":"poetry","full_name":"python-poetry/poetry","private":false,"owner":{"login":"python-poetry","id":48722593,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ4NzIyNTkz","avatar_url":"https://avatars.githubusercontent.com/u/48722593?v=4","gravatar_id":"","url":"https://api.github.com/users/python-poetry","html_url":"https://github.com/python-poetry","followers_url":"https://api.github.com/users/python-poetry/followers","following_url":"https://api.github.com/users/python-poetry/following{/other_user}","gists_url":"https://api.github.com/users/python-poetry/gists{/gist_id}","starred_url":"https://api.github.com/users/python-poetry/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/python-poetry/subscriptions","organizations_url":"https://api.github.com/users/python-poetry/orgs","repos_url":"https://api.github.com/users/python-poetry/repos","events_url":"https://api.github.com/users/python-poetry/events{/privacy}","received_events_url":"https://api.github.com/users/python-poetry/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/python-poetry/poetry","description":"Python packaging and dependency management made easy","fork":false,"url":"https://api.github.com/repos/python-poetry/poetry","forks_url":"https://api.github.com/repos/python-poetry/poetry/forks","keys_url":"https://api.github.com/repos/python-poetry/poetry/keys{/key_id}","collaborators_url":"https://api.github.com/repos/python-poetry/poetry/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/python-poetry/poetry/teams","hooks_url":"https://api.github.com/repos/python-poetry/poetry/hooks","issue_events_url":"https://api.github.com/repos/python-poetry/poetry/issues/events{/number}","events_url":"https://api.github.com/repos/python-poetry/poetry/events","assignees_url":"https://api.github.com/repos/python-poetry/poetry/assignees{/user}","branches_url":"https://api.github.com/repos/python-poetry/poetry/branches{/branch}","tags_url":"https://api.github.com/repos/python-poetry/poetry/tags","blobs_url":"https://api.github.com/repos/python-poetry/poetry/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/python-poetry/poetry/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/python-poetry/poetry/git/refs{/sha}","trees_url":"https://api.github.com/repos/python-poetry/poetry/git/trees{/sha}","statuses_url":"https://api.github.com/repos/python-poetry/poetry/statuses/{sha}","languages_url":"https://api.github.com/repos/python-poetry/poetry/languages","stargazers_url":"https://api.github.com/repos/python-poetry/poetry/stargazers","contributors_url":"https://api.github.com/repos/python-poetry/poetry/contributors","subscribers_url":"https://api.github.com/repos/python-poetry/poetry/subscribers","subscription_url":"https://api.github.com/repos/python-poetry/poetry/subscription","commits_url":"https://api.github.com/repos/python-poetry/poetry/commits{/sha}","git_commits_url":"https://api.github.com/repos/python-poetry/poetry/git/commits{/sha}","comments_url":"https://api.github.com/repos/python-poetry/poetry/comments{/number}","issue_comment_url":"https://api.github.com/repos/python-poetry/poetry/issues/comments{/number}","contents_url":"https://api.github.com/repos/python-poetry/poetry/contents/{+path}","compare_url":"https://api.github.com/repos/python-poetry/poetry/compare/{base}...{head}","merges_url":"https://api.github.com/repos/python-poetry/poetry/merges","archive_url":"https://api.github.com/repos/python-poetry/poetry/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/python-poetry/poetry/downloads","issues_url":"https://api.github.com/repos/python-poetry/poetry/issues{/number}","pulls_url":"https://api.github.com/repos/python-poetry/poetry/pulls{/number}","milestones_url":"https://api.github.com/repos/python-poetry/poetry/milestones{/number}","notifications_url":"https://api.github.com/repos/python-poetry/poetry/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/python-poetry/poetry/labels{/name}","releases_url":"https://api.github.com/repos/python-poetry/poetry/releases{/id}","deployments_url":"https://api.github.com/repos/python-poetry/poetry/deployments","created_at":"2018-02-28T15:23:47Z","updated_at":"2025-11-09T18:17:29Z","pushed_at":"2025-11-03T21:18:18Z","git_url":"git://github.com/python-poetry/poetry.git","ssh_url":"git@github.com:python-poetry/poetry.git","clone_url":"https://github.com/python-poetry/poetry.git","svn_url":"https://github.com/python-poetry/poetry","homepage":"https://python-poetry.org","size":23628,"stargazers_count":34020,"watchers_count":34020,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":2380,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":580,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["dependency-manager","package-manager","packaging","poetry","python"],"visibility":"public","forks":2380,"open_issues":580,"watchers":34020,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/python-poetry/poetry/pulls/123","html_url":"https://github.com/python-poetry/poetry/pull/123","diff_url":"https://github.com/python-poetry/poetry/pull/123.diff","patch_url":"https://github.com/python-poetry/poetry/pull/123.patch","merged_at":"2018-05-21T22:07:28Z"},"body":"fixes #122","reactions":{"url":"https://api.github.com/repos/python-poetry/poetry/issues/123/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/python-poetry/poetry/issues/123/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":1638018179,"node_id":"MDExOkNsb3NlZEV2ZW50MTYzODAxODE3OQ==","url":"https://api.github.com/repos/python-poetry/poetry/issues/events/1638018179","actor":{"login":"sdispater","id":555648,"node_id":"MDQ6VXNlcjU1NTY0OA==","avatar_url":"https://avatars.githubusercontent.com/u/555648?v=4","gravatar_id":"","url":"https://api.github.com/users/sdispater","html_url":"https://github.com/sdispater","followers_url":"https://api.github.com/users/sdispater/followers","following_url":"https://api.github.com/users/sdispater/following{/other_user}","gists_url":"https://api.github.com/users/sdispater/gists{/gist_id}","starred_url":"https://api.github.com/users/sdispater/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sdispater/subscriptions","organizations_url":"https://api.github.com/users/sdispater/orgs","repos_url":"https://api.github.com/users/sdispater/repos","events_url":"https://api.github.com/users/sdispater/events{/privacy}","received_events_url":"https://api.github.com/users/sdispater/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2018-05-21T22:07:28Z","state_reason":null,"performed_via_github_app":null},{"id":1638018223,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDE2MzgwMTgyMjM=","url":"https://api.github.com/repos/python-poetry/poetry/issues/events/1638018223","actor":{"login":"sdispater","id":555648,"node_id":"MDQ6VXNlcjU1NTY0OA==","avatar_url":"https://avatars.githubusercontent.com/u/555648?v=4","gravatar_id":"","url":"https://api.github.com/users/sdispater","html_url":"https://github.com/sdispater","followers_url":"https://api.github.com/users/sdispater/followers","following_url":"https://api.github.com/users/sdispater/following{/other_user}","gists_url":"https://api.github.com/users/sdispater/gists{/gist_id}","starred_url":"https://api.github.com/users/sdispater/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sdispater/subscriptions","organizations_url":"https://api.github.com/users/sdispater/orgs","repos_url":"https://api.github.com/users/sdispater/repos","events_url":"https://api.github.com/users/sdispater/events{/privacy}","received_events_url":"https://api.github.com/users/sdispater/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"0667c67a9ebcc9250ad8d70f74f0905cc9f20ab2","commit_url":"https://api.github.com/repos/python-poetry/poetry/commits/0667c67a9ebcc9250ad8d70f74f0905cc9f20ab2","created_at":"2018-05-21T22:07:29Z","performed_via_github_app":null},{"actor":{"login":"pawamoy","id":3999221,"node_id":"MDQ6VXNlcjM5OTkyMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3999221?v=4","gravatar_id":"","url":"https://api.github.com/users/pawamoy","html_url":"https://github.com/pawamoy","followers_url":"https://api.github.com/users/pawamoy/followers","following_url":"https://api.github.com/users/pawamoy/following{/other_user}","gists_url":"https://api.github.com/users/pawamoy/gists{/gist_id}","starred_url":"https://api.github.com/users/pawamoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pawamoy/subscriptions","organizations_url":"https://api.github.com/users/pawamoy/orgs","repos_url":"https://api.github.com/users/pawamoy/repos","events_url":"https://api.github.com/users/pawamoy/events{/privacy}","received_events_url":"https://api.github.com/users/pawamoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-04T16:28:19Z","updated_at":"2020-03-04T16:28:19Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/python-poetry/poetry/issues/1729","repository_url":"https://api.github.com/repos/python-poetry/poetry","labels_url":"https://api.github.com/repos/python-poetry/poetry/issues/1729/labels{/name}","comments_url":"https://api.github.com/repos/python-poetry/poetry/issues/1729/comments","events_url":"https://api.github.com/repos/python-poetry/poetry/issues/1729/events","html_url":"https://github.com/python-poetry/poetry/issues/1729","id":537506988,"node_id":"MDU6SXNzdWU1Mzc1MDY5ODg=","number":1729,"title":"Document that `poetry install` modifies PYTHONPATH","user":{"login":"thorbjornwolf","id":3935060,"node_id":"MDQ6VXNlcjM5MzUwNjA=","avatar_url":"https://avatars.githubusercontent.com/u/3935060?v=4","gravatar_id":"","url":"https://api.github.com/users/thorbjornwolf","html_url":"https://github.com/thorbjornwolf","followers_url":"https://api.github.com/users/thorbjornwolf/followers","following_url":"https://api.github.com/users/thorbjornwolf/following{/other_user}","gists_url":"https://api.github.com/users/thorbjornwolf/gists{/gist_id}","starred_url":"https://api.github.com/users/thorbjornwolf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thorbjornwolf/subscriptions","organizations_url":"https://api.github.com/users/thorbjornwolf/orgs","repos_url":"https://api.github.com/users/thorbjornwolf/repos","events_url":"https://api.github.com/users/thorbjornwolf/events{/privacy}","received_events_url":"https://api.github.com/users/thorbjornwolf/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1055741547,"node_id":"MDU6TGFiZWwxMDU1NzQxNTQ3","url":"https://api.github.com/repos/python-poetry/poetry/labels/area/docs","name":"area/docs","color":"86d8ad","default":false,"description":"Documentation issues/improvements"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2019-12-13T11:47:31Z","updated_at":"2024-03-02T19:04:04Z","closed_at":"2021-07-23T10:15:27Z","author_association":"NONE","type":null,"active_lock_reason":"resolved","sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":123303402,"node_id":"MDEwOlJlcG9zaXRvcnkxMjMzMDM0MDI=","name":"poetry","full_name":"python-poetry/poetry","private":false,"owner":{"login":"python-poetry","id":48722593,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ4NzIyNTkz","avatar_url":"https://avatars.githubusercontent.com/u/48722593?v=4","gravatar_id":"","url":"https://api.github.com/users/python-poetry","html_url":"https://github.com/python-poetry","followers_url":"https://api.github.com/users/python-poetry/followers","following_url":"https://api.github.com/users/python-poetry/following{/other_user}","gists_url":"https://api.github.com/users/python-poetry/gists{/gist_id}","starred_url":"https://api.github.com/users/python-poetry/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/python-poetry/subscriptions","organizations_url":"https://api.github.com/users/python-poetry/orgs","repos_url":"https://api.github.com/users/python-poetry/repos","events_url":"https://api.github.com/users/python-poetry/events{/privacy}","received_events_url":"https://api.github.com/users/python-poetry/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/python-poetry/poetry","description":"Python packaging and dependency management made easy","fork":false,"url":"https://api.github.com/repos/python-poetry/poetry","forks_url":"https://api.github.com/repos/python-poetry/poetry/forks","keys_url":"https://api.github.com/repos/python-poetry/poetry/keys{/key_id}","collaborators_url":"https://api.github.com/repos/python-poetry/poetry/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/python-poetry/poetry/teams","hooks_url":"https://api.github.com/repos/python-poetry/poetry/hooks","issue_events_url":"https://api.github.com/repos/python-poetry/poetry/issues/events{/number}","events_url":"https://api.github.com/repos/python-poetry/poetry/events","assignees_url":"https://api.github.com/repos/python-poetry/poetry/assignees{/user}","branches_url":"https://api.github.com/repos/python-poetry/poetry/branches{/branch}","tags_url":"https://api.github.com/repos/python-poetry/poetry/tags","blobs_url":"https://api.github.com/repos/python-poetry/poetry/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/python-poetry/poetry/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/python-poetry/poetry/git/refs{/sha}","trees_url":"https://api.github.com/repos/python-poetry/poetry/git/trees{/sha}","statuses_url":"https://api.github.com/repos/python-poetry/poetry/statuses/{sha}","languages_url":"https://api.github.com/repos/python-poetry/poetry/languages","stargazers_url":"https://api.github.com/repos/python-poetry/poetry/stargazers","contributors_url":"https://api.github.com/repos/python-poetry/poetry/contributors","subscribers_url":"https://api.github.com/repos/python-poetry/poetry/subscribers","subscription_url":"https://api.github.com/repos/python-poetry/poetry/subscription","commits_url":"https://api.github.com/repos/python-poetry/poetry/commits{/sha}","git_commits_url":"https://api.github.com/repos/python-poetry/poetry/git/commits{/sha}","comments_url":"https://api.github.com/repos/python-poetry/poetry/comments{/number}","issue_comment_url":"https://api.github.com/repos/python-poetry/poetry/issues/comments{/number}","contents_url":"https://api.github.com/repos/python-poetry/poetry/contents/{+path}","compare_url":"https://api.github.com/repos/python-poetry/poetry/compare/{base}...{head}","merges_url":"https://api.github.com/repos/python-poetry/poetry/merges","archive_url":"https://api.github.com/repos/python-poetry/poetry/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/python-poetry/poetry/downloads","issues_url":"https://api.github.com/repos/python-poetry/poetry/issues{/number}","pulls_url":"https://api.github.com/repos/python-poetry/poetry/pulls{/number}","milestones_url":"https://api.github.com/repos/python-poetry/poetry/milestones{/number}","notifications_url":"https://api.github.com/repos/python-poetry/poetry/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/python-poetry/poetry/labels{/name}","releases_url":"https://api.github.com/repos/python-poetry/poetry/releases{/id}","deployments_url":"https://api.github.com/repos/python-poetry/poetry/deployments","created_at":"2018-02-28T15:23:47Z","updated_at":"2025-11-09T18:17:29Z","pushed_at":"2025-11-03T21:18:18Z","git_url":"git://github.com/python-poetry/poetry.git","ssh_url":"git@github.com:python-poetry/poetry.git","clone_url":"https://github.com/python-poetry/poetry.git","svn_url":"https://github.com/python-poetry/poetry","homepage":"https://python-poetry.org","size":23628,"stargazers_count":34020,"watchers_count":34020,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":2380,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":580,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["dependency-manager","package-manager","packaging","poetry","python"],"visibility":"public","forks":2380,"open_issues":580,"watchers":34020,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"<!--\r\n  Hi there! Thank you for discovering and submitting an issue with our documentation.\r\n\r\n  Before you submit this; let's make sure of a few things.\r\n  Please make sure the following boxes are ticked if they are correct.\r\n  If not, please try and fulfill these first.\r\n-->\r\n\r\n<!-- Checked checkbox should look like this: [x] -->\r\n- [x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n\r\n## Issue\r\n<!-- Now feel free to write your issue, but please be descriptive! Thanks again ðŸ™Œ â¤ï¸ -->\r\nThank you very much for taking some of your valuable time to read this. I hope it'll be worth it!\r\n\r\n\r\n### What happens?\r\n`poetry install` with an existing conda environment and `src` layout silently and permanently adds `repo/src` to the environment's PYTHONPATH.\r\nThis behaviour is not documented (or, I didn't find it).\r\n\r\n<details>\r\n\r\n```\r\n$ conda create -n withsrc_py37 python=3.7\r\n$ conda activate withsrc_py37\r\n$ poetry new --src my-src-package\r\n$ cd my-src-package\r\n$ poetry run python -c \"import sys, pprint; pprint.pprint(sys.path)\"\r\n['',\r\n 'C:\\\\Users\\\\THW\\\\AppData\\\\Local\\\\Continuum\\\\anaconda3\\\\envs\\\\withsrc_py37\\\\python37.zip',\r\n 'C:\\\\Users\\\\THW\\\\AppData\\\\Local\\\\Continuum\\\\anaconda3\\\\envs\\\\withsrc_py37\\\\DLLs',\r\n 'C:\\\\Users\\\\THW\\\\AppData\\\\Local\\\\Continuum\\\\anaconda3\\\\envs\\\\withsrc_py37\\\\lib',\r\n 'C:\\\\Users\\\\THW\\\\AppData\\\\Local\\\\Continuum\\\\anaconda3\\\\envs\\\\withsrc_py37',\r\n 'C:\\\\Users\\\\THW\\\\AppData\\\\Local\\\\Continuum\\\\anaconda3\\\\envs\\\\withsrc_py37\\\\lib\\\\site-packages']\r\n$ poetry install\r\n$ poetry run python -c \"import sys, pprint; pprint.pprint(sys.path)\"\r\n['',\r\n 'C:\\\\Users\\\\THW\\\\AppData\\\\Local\\\\Continuum\\\\anaconda3\\\\envs\\\\withsrc_py37\\\\python37.zip',\r\n 'C:\\\\Users\\\\THW\\\\AppData\\\\Local\\\\Continuum\\\\anaconda3\\\\envs\\\\withsrc_py37\\\\DLLs',\r\n 'C:\\\\Users\\\\THW\\\\AppData\\\\Local\\\\Continuum\\\\anaconda3\\\\envs\\\\withsrc_py37\\\\lib',\r\n 'C:\\\\Users\\\\THW\\\\AppData\\\\Local\\\\Continuum\\\\anaconda3\\\\envs\\\\withsrc_py37',\r\n 'C:\\\\Users\\\\THW\\\\AppData\\\\Local\\\\Continuum\\\\anaconda3\\\\envs\\\\withsrc_py37\\\\lib\\\\site-packages',\r\n 'c:\\\\users\\\\thw\\\\repos\\\\my-src-package\\\\src']  # new!\r\n```\r\n\r\nThis change to `sys.path` persists after `conda deactivate` and `conda activate withsrc_py37`.\r\n\r\n</details>\r\n\r\n\r\n### Why am I surprised?\r\nThe idea (for me) with using the `src` layout is to make it really difficult to run tests against my source code. I want the tests to run against the built and installed package instead, as per [hynek](https://hynek.me/articles/testing-packaging/) and [ionelmc](https://blog.ionelmc.ro/2014/05/25/python-packaging/).\r\n\r\nMaking matters more murky, tox's test environments appear to inherit this PYTHONPATH. This puts the supposedly independent tox runs at risk of using the source code.\r\n\r\n\r\n### Why not a bug?\r\nI don't know if this is a bug, but I expect not: It seems that there's no consensus in the community whether the `src` layout is a good or bad idea, so this behaviour is quite possibly expected for some use cases. And besides, now that poetry is in stable, I guess documenting the current behaviour should come before changing it :grin:\r\n\r\n\r\n### Additional details\r\nOutput of `poetry debug info`:\r\n<details>\r\n\r\n```\r\nPoetry\r\nVersion: 1.0.0\r\nPython:  3.7.5\r\n\r\nVirtualenv\r\nPython:         3.7.5\r\nImplementation: CPython\r\nPath:           C:\\Users\\THW\\AppData\\Local\\Continuum\\anaconda3\\envs\\withsrc_py37\r\nValid:          True\r\n\r\nSystem\r\nPlatform: win32\r\nOS:       nt\r\nPython:   C:\\Users\\THW\\AppData\\Local\\Continuum\\anaconda3\\envs\\withsrc_py37\r\n```\r\n\r\n</details>\r\n\r\nWhat seems to be a highly related PR, \"Add src to sys.path if module is in src\": https://github.com/python-poetry/poetry/pull/123\r\n\r\nA PR that added documentation for the `--src` flag: https://github.com/python-poetry/poetry/pull/193\r\n","reactions":{"url":"https://api.github.com/repos/python-poetry/poetry/issues/1729/reactions","total_count":9,"+1":9,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/python-poetry/poetry/issues/1729/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"id":6473324698,"node_id":"REFE_lADOB1l16s4TWnMHzwAAAAGB1xia","url":"https://api.github.com/repos/python-poetry/poetry/issues/events/6473324698","actor":{"login":"dimbleby","id":875184,"node_id":"MDQ6VXNlcjg3NTE4NA==","avatar_url":"https://avatars.githubusercontent.com/u/875184?v=4","gravatar_id":"","url":"https://api.github.com/users/dimbleby","html_url":"https://github.com/dimbleby","followers_url":"https://api.github.com/users/dimbleby/followers","following_url":"https://api.github.com/users/dimbleby/following{/other_user}","gists_url":"https://api.github.com/users/dimbleby/gists{/gist_id}","starred_url":"https://api.github.com/users/dimbleby/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dimbleby/subscriptions","organizations_url":"https://api.github.com/users/dimbleby/orgs","repos_url":"https://api.github.com/users/dimbleby/repos","events_url":"https://api.github.com/users/dimbleby/events{/privacy}","received_events_url":"https://api.github.com/users/dimbleby/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"4db39a66a96395e79b4a1dc17b42d0fc29c96ee4","commit_url":"https://api.github.com/repos/dimbleby/poetry/commits/4db39a66a96395e79b4a1dc17b42d0fc29c96ee4","created_at":"2022-04-21T18:46:07Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/python-poetry/poetry/issues/comments/1975267965","html_url":"https://github.com/python-poetry/poetry/issues/122#issuecomment-1975267965","issue_url":"https://api.github.com/repos/python-poetry/poetry/issues/122","id":1975267965,"node_id":"IC_kwDOB1l16s51vDJ9","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2024-03-03T19:12:36Z","updated_at":"2024-03-03T19:12:36Z","body":"This issue has been automatically locked since there has not been any recent activity after it was closed. Please open a new issue for related bugs.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/python-poetry/poetry/issues/comments/1975267965/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":{"id":15368,"client_id":"Iv1.05c79e9ad1f6bdfa","slug":"github-actions","node_id":"MDM6QXBwMTUzNjg=","owner":{"login":"github","id":9919,"node_id":"MDEyOk9yZ2FuaXphdGlvbjk5MTk=","avatar_url":"https://avatars.githubusercontent.com/u/9919?v=4","gravatar_id":"","url":"https://api.github.com/users/github","html_url":"https://github.com/github","followers_url":"https://api.github.com/users/github/followers","following_url":"https://api.github.com/users/github/following{/other_user}","gists_url":"https://api.github.com/users/github/gists{/gist_id}","starred_url":"https://api.github.com/users/github/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github/subscriptions","organizations_url":"https://api.github.com/users/github/orgs","repos_url":"https://api.github.com/users/github/repos","events_url":"https://api.github.com/users/github/events{/privacy}","received_events_url":"https://api.github.com/users/github/received_events","type":"Organization","user_view_type":"public","site_admin":false},"name":"GitHub Actions","description":"Automate your workflow from idea to production","external_url":"https://help.github.com/en/actions","html_url":"https://github.com/apps/github-actions","created_at":"2018-07-30T09:30:17Z","updated_at":"2025-03-07T16:35:00Z","permissions":{"actions":"write","administration":"read","attestations":"write","checks":"write","contents":"write","deployments":"write","discussions":"write","issues":"write","merge_queues":"write","metadata":"read","models":"read","packages":"write","pages":"write","pull_requests":"write","repository_hooks":"write","repository_projects":"write","security_events":"write","statuses":"write","vulnerability_alerts":"read"},"events":["branch_protection_rule","check_run","check_suite","create","delete","deployment","deployment_status","discussion","discussion_comment","fork","gollum","issues","issue_comment","label","merge_group","milestone","page_build","project","project_card","project_column","public","pull_request","pull_request_review","pull_request_review_comment","push","registry_package","release","repository","repository_dispatch","status","watch","workflow_dispatch","workflow_run"]},"event":"commented","actor":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false}},{"id":11990924175,"node_id":"LOE_lADOB1l16s4TWnMHzwAAAALKtvuP","url":"https://api.github.com/repos/python-poetry/poetry/issues/events/11990924175","actor":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"event":"locked","commit_id":null,"commit_url":null,"created_at":"2024-03-03T19:12:36Z","lock_reason":"resolved","performed_via_github_app":null}]