{"url":"https://api.github.com/repos/python-poetry/poetry/issues/1074","repository_url":"https://api.github.com/repos/python-poetry/poetry","labels_url":"https://api.github.com/repos/python-poetry/poetry/issues/1074/labels{/name}","comments_url":"https://api.github.com/repos/python-poetry/poetry/issues/1074/comments","events_url":"https://api.github.com/repos/python-poetry/poetry/issues/1074/events","html_url":"https://github.com/python-poetry/poetry/issues/1074","id":440285770,"node_id":"MDU6SXNzdWU0NDAyODU3NzA=","number":1074,"title":"Env.run doesn't check return code if input is passed in","user":{"login":"Imaclean74","id":6381576,"node_id":"MDQ6VXNlcjYzODE1NzY=","avatar_url":"https://avatars.githubusercontent.com/u/6381576?v=4","gravatar_id":"","url":"https://api.github.com/users/Imaclean74","html_url":"https://github.com/Imaclean74","followers_url":"https://api.github.com/users/Imaclean74/followers","following_url":"https://api.github.com/users/Imaclean74/following{/other_user}","gists_url":"https://api.github.com/users/Imaclean74/gists{/gist_id}","starred_url":"https://api.github.com/users/Imaclean74/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Imaclean74/subscriptions","organizations_url":"https://api.github.com/users/Imaclean74/orgs","repos_url":"https://api.github.com/users/Imaclean74/repos","events_url":"https://api.github.com/users/Imaclean74/events{/privacy}","received_events_url":"https://api.github.com/users/Imaclean74/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2019-05-04T05:09:19Z","updated_at":"2024-03-03T16:06:19Z","closed_at":"2019-06-30T19:53:44Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":"resolved","sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"\r\n- [x] I am on the [latest](https://github.com/sdispater/poetry/releases/latest) Poetry version.\r\n- [x] I have searched the [issues](https://github.com/sdispater/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [x] If an exception occurs when executing a command, I executed it again in debug mode (`-vvv` option).\r\n\r\n- **OS version and name**:  macOS 10.14.3\r\n- **Poetry version**: 0.12.15\r\n\r\n## Issue\r\n\r\nEnv.run() is used internally for running a number of scripts to introspect the managed virtualenv and contained python. These scripts are passed as input to the function and then to subprocess.communicate(). However, in the case of an error from the spawned python process, the return code is not checked and any error text is passed back to the caller - which will assume its valid output. This makes for confusing error messages from poetry - making it harder to diagnose issues like #654 and #1071 \r\n\r\n\r\n","closed_by":{"login":"sdispater","id":555648,"node_id":"MDQ6VXNlcjU1NTY0OA==","avatar_url":"https://avatars.githubusercontent.com/u/555648?v=4","gravatar_id":"","url":"https://api.github.com/users/sdispater","html_url":"https://github.com/sdispater","followers_url":"https://api.github.com/users/sdispater/followers","following_url":"https://api.github.com/users/sdispater/following{/other_user}","gists_url":"https://api.github.com/users/sdispater/gists{/gist_id}","starred_url":"https://api.github.com/users/sdispater/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sdispater/subscriptions","organizations_url":"https://api.github.com/users/sdispater/orgs","repos_url":"https://api.github.com/users/sdispater/repos","events_url":"https://api.github.com/users/sdispater/events{/privacy}","received_events_url":"https://api.github.com/users/sdispater/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/python-poetry/poetry/issues/1074/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/python-poetry/poetry/issues/1074/timeline","performed_via_github_app":null,"state_reason":"completed"}