[{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/comments/54760464","html_url":"https://github.com/mitmproxy/mitmproxy/issues/353#issuecomment-54760464","issue_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/353","id":54760464,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NzYwNDY0","user":{"login":"mhils","id":1019198,"node_id":"MDQ6VXNlcjEwMTkxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1019198?v=4","gravatar_id":"","url":"https://api.github.com/users/mhils","html_url":"https://github.com/mhils","followers_url":"https://api.github.com/users/mhils/followers","following_url":"https://api.github.com/users/mhils/following{/other_user}","gists_url":"https://api.github.com/users/mhils/gists{/gist_id}","starred_url":"https://api.github.com/users/mhils/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhils/subscriptions","organizations_url":"https://api.github.com/users/mhils/orgs","repos_url":"https://api.github.com/users/mhils/repos","events_url":"https://api.github.com/users/mhils/events{/privacy}","received_events_url":"https://api.github.com/users/mhils/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-09-07T21:01:19Z","updated_at":"2014-09-07T21:01:19Z","body":"Hi Josh,\n\nthanks for the hint. We'll fix that ASAP. \nOn another note, BDFProxy is one of the larger projects I know that's based on libmproxy directly. \nDid you start with subclassing the Master class directly or have you considered writing it as an inline script? Given the relatively large size of BDFProxy, I'd love to hear whether there have been any issues with that.\n\nCheers,\nMax\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/comments/54760464/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mhils","id":1019198,"node_id":"MDQ6VXNlcjEwMTkxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1019198?v=4","gravatar_id":"","url":"https://api.github.com/users/mhils","html_url":"https://github.com/mhils","followers_url":"https://api.github.com/users/mhils/followers","following_url":"https://api.github.com/users/mhils/following{/other_user}","gists_url":"https://api.github.com/users/mhils/gists{/gist_id}","starred_url":"https://api.github.com/users/mhils/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhils/subscriptions","organizations_url":"https://api.github.com/users/mhils/orgs","repos_url":"https://api.github.com/users/mhils/repos","events_url":"https://api.github.com/users/mhils/events{/privacy}","received_events_url":"https://api.github.com/users/mhils/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":162245154,"node_id":"MDEyOkxhYmVsZWRFdmVudDE2MjI0NTE1NA==","url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/events/162245154","actor":{"login":"mhils","id":1019198,"node_id":"MDQ6VXNlcjEwMTkxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1019198?v=4","gravatar_id":"","url":"https://api.github.com/users/mhils","html_url":"https://github.com/mhils","followers_url":"https://api.github.com/users/mhils/followers","following_url":"https://api.github.com/users/mhils/following{/other_user}","gists_url":"https://api.github.com/users/mhils/gists{/gist_id}","starred_url":"https://api.github.com/users/mhils/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhils/subscriptions","organizations_url":"https://api.github.com/users/mhils/orgs","repos_url":"https://api.github.com/users/mhils/repos","events_url":"https://api.github.com/users/mhils/events{/privacy}","received_events_url":"https://api.github.com/users/mhils/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2014-09-07T21:01:23Z","label":{"name":"0.11","color":"fbca04"},"performed_via_github_app":null},{"id":162245155,"node_id":"MDEyOkxhYmVsZWRFdmVudDE2MjI0NTE1NQ==","url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/events/162245155","actor":{"login":"mhils","id":1019198,"node_id":"MDQ6VXNlcjEwMTkxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1019198?v=4","gravatar_id":"","url":"https://api.github.com/users/mhils","html_url":"https://github.com/mhils","followers_url":"https://api.github.com/users/mhils/followers","following_url":"https://api.github.com/users/mhils/following{/other_user}","gists_url":"https://api.github.com/users/mhils/gists{/gist_id}","starred_url":"https://api.github.com/users/mhils/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhils/subscriptions","organizations_url":"https://api.github.com/users/mhils/orgs","repos_url":"https://api.github.com/users/mhils/repos","events_url":"https://api.github.com/users/mhils/events{/privacy}","received_events_url":"https://api.github.com/users/mhils/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2014-09-07T21:01:23Z","label":{"name":"bug-confirmed","color":"f7c6c7"},"performed_via_github_app":null},{"id":162245159,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDE2MjI0NTE1OQ==","url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/events/162245159","actor":{"login":"mhils","id":1019198,"node_id":"MDQ6VXNlcjEwMTkxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1019198?v=4","gravatar_id":"","url":"https://api.github.com/users/mhils","html_url":"https://github.com/mhils","followers_url":"https://api.github.com/users/mhils/followers","following_url":"https://api.github.com/users/mhils/following{/other_user}","gists_url":"https://api.github.com/users/mhils/gists{/gist_id}","starred_url":"https://api.github.com/users/mhils/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhils/subscriptions","organizations_url":"https://api.github.com/users/mhils/orgs","repos_url":"https://api.github.com/users/mhils/repos","events_url":"https://api.github.com/users/mhils/events{/privacy}","received_events_url":"https://api.github.com/users/mhils/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2014-09-07T21:01:25Z","milestone":{"title":"0.11"},"performed_via_github_app":null},{"id":162245163,"node_id":"MDEzOkFzc2lnbmVkRXZlbnQxNjIyNDUxNjM=","url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/events/162245163","actor":{"login":"mhils","id":1019198,"node_id":"MDQ6VXNlcjEwMTkxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1019198?v=4","gravatar_id":"","url":"https://api.github.com/users/mhils","html_url":"https://github.com/mhils","followers_url":"https://api.github.com/users/mhils/followers","following_url":"https://api.github.com/users/mhils/following{/other_user}","gists_url":"https://api.github.com/users/mhils/gists{/gist_id}","starred_url":"https://api.github.com/users/mhils/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhils/subscriptions","organizations_url":"https://api.github.com/users/mhils/orgs","repos_url":"https://api.github.com/users/mhils/repos","events_url":"https://api.github.com/users/mhils/events{/privacy}","received_events_url":"https://api.github.com/users/mhils/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2014-09-07T21:01:27Z","assignee":{"login":"mhils","id":1019198,"node_id":"MDQ6VXNlcjEwMTkxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1019198?v=4","gravatar_id":"","url":"https://api.github.com/users/mhils","html_url":"https://github.com/mhils","followers_url":"https://api.github.com/users/mhils/followers","following_url":"https://api.github.com/users/mhils/following{/other_user}","gists_url":"https://api.github.com/users/mhils/gists{/gist_id}","starred_url":"https://api.github.com/users/mhils/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhils/subscriptions","organizations_url":"https://api.github.com/users/mhils/orgs","repos_url":"https://api.github.com/users/mhils/repos","events_url":"https://api.github.com/users/mhils/events{/privacy}","received_events_url":"https://api.github.com/users/mhils/received_events","type":"User","user_view_type":"public","site_admin":false},"performed_via_github_app":null},{"id":162493089,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDE2MjQ5MzA4OQ==","url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/events/162493089","actor":{"login":"mhils","id":1019198,"node_id":"MDQ6VXNlcjEwMTkxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1019198?v=4","gravatar_id":"","url":"https://api.github.com/users/mhils","html_url":"https://github.com/mhils","followers_url":"https://api.github.com/users/mhils/followers","following_url":"https://api.github.com/users/mhils/following{/other_user}","gists_url":"https://api.github.com/users/mhils/gists{/gist_id}","starred_url":"https://api.github.com/users/mhils/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhils/subscriptions","organizations_url":"https://api.github.com/users/mhils/orgs","repos_url":"https://api.github.com/users/mhils/repos","events_url":"https://api.github.com/users/mhils/events{/privacy}","received_events_url":"https://api.github.com/users/mhils/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"90a555cfee5f0ce14de58e5a945cd5cf3e8996d9","commit_url":"https://api.github.com/repos/mitmproxy/mitmproxy/commits/90a555cfee5f0ce14de58e5a945cd5cf3e8996d9","created_at":"2014-09-08T14:02:37Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/comments/54821989","html_url":"https://github.com/mitmproxy/mitmproxy/issues/353#issuecomment-54821989","issue_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/353","id":54821989,"node_id":"MDEyOklzc3VlQ29tbWVudDU0ODIxOTg5","user":{"login":"mhils","id":1019198,"node_id":"MDQ6VXNlcjEwMTkxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1019198?v=4","gravatar_id":"","url":"https://api.github.com/users/mhils","html_url":"https://github.com/mhils","followers_url":"https://api.github.com/users/mhils/followers","following_url":"https://api.github.com/users/mhils/following{/other_user}","gists_url":"https://api.github.com/users/mhils/gists{/gist_id}","starred_url":"https://api.github.com/users/mhils/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhils/subscriptions","organizations_url":"https://api.github.com/users/mhils/orgs","repos_url":"https://api.github.com/users/mhils/repos","events_url":"https://api.github.com/users/mhils/events{/privacy}","received_events_url":"https://api.github.com/users/mhils/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-09-08T14:04:37Z","updated_at":"2014-09-08T14:04:37Z","body":"Hi Josh,\n\nall examples have been updated. Let me know if you have any further issues, happy to help! :-)\n\nCheers,\nMax\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/comments/54821989/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mhils","id":1019198,"node_id":"MDQ6VXNlcjEwMTkxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1019198?v=4","gravatar_id":"","url":"https://api.github.com/users/mhils","html_url":"https://github.com/mhils","followers_url":"https://api.github.com/users/mhils/followers","following_url":"https://api.github.com/users/mhils/following{/other_user}","gists_url":"https://api.github.com/users/mhils/gists{/gist_id}","starred_url":"https://api.github.com/users/mhils/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhils/subscriptions","organizations_url":"https://api.github.com/users/mhils/orgs","repos_url":"https://api.github.com/users/mhils/repos","events_url":"https://api.github.com/users/mhils/events{/privacy}","received_events_url":"https://api.github.com/users/mhils/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":162494249,"node_id":"MDExOkNsb3NlZEV2ZW50MTYyNDk0MjQ5","url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/events/162494249","actor":{"login":"mhils","id":1019198,"node_id":"MDQ6VXNlcjEwMTkxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1019198?v=4","gravatar_id":"","url":"https://api.github.com/users/mhils","html_url":"https://github.com/mhils","followers_url":"https://api.github.com/users/mhils/followers","following_url":"https://api.github.com/users/mhils/following{/other_user}","gists_url":"https://api.github.com/users/mhils/gists{/gist_id}","starred_url":"https://api.github.com/users/mhils/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhils/subscriptions","organizations_url":"https://api.github.com/users/mhils/orgs","repos_url":"https://api.github.com/users/mhils/repos","events_url":"https://api.github.com/users/mhils/events{/privacy}","received_events_url":"https://api.github.com/users/mhils/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2014-09-08T14:04:37Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/comments/54827419","html_url":"https://github.com/mitmproxy/mitmproxy/issues/353#issuecomment-54827419","issue_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/353","id":54827419,"node_id":"MDEyOklzc3VlQ29tbWVudDU0ODI3NDE5","user":{"login":"secretsquirrel","id":1679850,"node_id":"MDQ6VXNlcjE2Nzk4NTA=","avatar_url":"https://avatars.githubusercontent.com/u/1679850?v=4","gravatar_id":"","url":"https://api.github.com/users/secretsquirrel","html_url":"https://github.com/secretsquirrel","followers_url":"https://api.github.com/users/secretsquirrel/followers","following_url":"https://api.github.com/users/secretsquirrel/following{/other_user}","gists_url":"https://api.github.com/users/secretsquirrel/gists{/gist_id}","starred_url":"https://api.github.com/users/secretsquirrel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/secretsquirrel/subscriptions","organizations_url":"https://api.github.com/users/secretsquirrel/orgs","repos_url":"https://api.github.com/users/secretsquirrel/repos","events_url":"https://api.github.com/users/secretsquirrel/events{/privacy}","received_events_url":"https://api.github.com/users/secretsquirrel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-09-08T14:31:21Z","updated_at":"2014-09-08T14:31:21Z","body":"Hi Max,\n\nThanks! I appreciate it.  So, I used it as a script, following the example in stickycookies actually.  I just want to ensure that BDFProxy supports .11, right now it's on .10 (Current Kali-Linux build).  After I support .11, I'll be moving on to implementing the streaming of non-patched binaries, which will be determined by the config file (while/black listing rules).\n\nThanks again!\n-Josh \n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/comments/54827419/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"secretsquirrel","id":1679850,"node_id":"MDQ6VXNlcjE2Nzk4NTA=","avatar_url":"https://avatars.githubusercontent.com/u/1679850?v=4","gravatar_id":"","url":"https://api.github.com/users/secretsquirrel","html_url":"https://github.com/secretsquirrel","followers_url":"https://api.github.com/users/secretsquirrel/followers","following_url":"https://api.github.com/users/secretsquirrel/following{/other_user}","gists_url":"https://api.github.com/users/secretsquirrel/gists{/gist_id}","starred_url":"https://api.github.com/users/secretsquirrel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/secretsquirrel/subscriptions","organizations_url":"https://api.github.com/users/secretsquirrel/orgs","repos_url":"https://api.github.com/users/secretsquirrel/repos","events_url":"https://api.github.com/users/secretsquirrel/events{/privacy}","received_events_url":"https://api.github.com/users/secretsquirrel/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":162532400,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDE2MjUzMjQwMA==","url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/events/162532400","actor":{"login":"mhils","id":1019198,"node_id":"MDQ6VXNlcjEwMTkxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1019198?v=4","gravatar_id":"","url":"https://api.github.com/users/mhils","html_url":"https://github.com/mhils","followers_url":"https://api.github.com/users/mhils/followers","following_url":"https://api.github.com/users/mhils/following{/other_user}","gists_url":"https://api.github.com/users/mhils/gists{/gist_id}","starred_url":"https://api.github.com/users/mhils/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhils/subscriptions","organizations_url":"https://api.github.com/users/mhils/orgs","repos_url":"https://api.github.com/users/mhils/repos","events_url":"https://api.github.com/users/mhils/events{/privacy}","received_events_url":"https://api.github.com/users/mhils/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"ebd539b49f0706918e979dc921cf454ae448eaf9","commit_url":"https://api.github.com/repos/mitmproxy/mitmproxy/commits/ebd539b49f0706918e979dc921cf454ae448eaf9","created_at":"2014-09-08T15:03:37Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/comments/54837108","html_url":"https://github.com/mitmproxy/mitmproxy/issues/353#issuecomment-54837108","issue_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/353","id":54837108,"node_id":"MDEyOklzc3VlQ29tbWVudDU0ODM3MTA4","user":{"login":"mhils","id":1019198,"node_id":"MDQ6VXNlcjEwMTkxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1019198?v=4","gravatar_id":"","url":"https://api.github.com/users/mhils","html_url":"https://github.com/mhils","followers_url":"https://api.github.com/users/mhils/followers","following_url":"https://api.github.com/users/mhils/following{/other_user}","gists_url":"https://api.github.com/users/mhils/gists{/gist_id}","starred_url":"https://api.github.com/users/mhils/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhils/subscriptions","organizations_url":"https://api.github.com/users/mhils/orgs","repos_url":"https://api.github.com/users/mhils/repos","events_url":"https://api.github.com/users/mhils/events{/privacy}","received_events_url":"https://api.github.com/users/mhils/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-09-08T15:24:46Z","updated_at":"2014-09-08T15:24:46Z","body":"Hi Josh,\n\nsorry for the confusion - the stickycookie example is _not_ an inline script. We basically provide two options: (a) inline scripts or (b) directly using libmproxy. Here's an example of an inline script: [modify_response_body.py](https://github.com/mitmproxy/mitmproxy/blob/master/examples/modify_response_body.py). The main difference is that while you run scripts based on libmproxy as isolated tools, inline scripts run as an addition of mitmproxy/mitmdump (`-s \"script.py script-args\"`). This brings a couple of advantages (fewer libmproxy internals to care about, built-in concurrency using `@concurrent`, combination with other scripts, ...). \n\nI've seen quite many people preferring the libmproxy way, and I'm personally wondering why. I think we had some documentation issues here (your comment seems to validate this), but if you feel that there are any other shortcomings, please let me know.\n\nRegarding the response streaming, simply setting flow.response.stream = True should be sufficient (see [this](https://github.com/mitmproxy/mitmproxy/blob/master/examples/stream.py) inline script).\n\nCheers,\nMax\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/comments/54837108/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mhils","id":1019198,"node_id":"MDQ6VXNlcjEwMTkxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1019198?v=4","gravatar_id":"","url":"https://api.github.com/users/mhils","html_url":"https://github.com/mhils","followers_url":"https://api.github.com/users/mhils/followers","following_url":"https://api.github.com/users/mhils/following{/other_user}","gists_url":"https://api.github.com/users/mhils/gists{/gist_id}","starred_url":"https://api.github.com/users/mhils/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhils/subscriptions","organizations_url":"https://api.github.com/users/mhils/orgs","repos_url":"https://api.github.com/users/mhils/repos","events_url":"https://api.github.com/users/mhils/events{/privacy}","received_events_url":"https://api.github.com/users/mhils/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/comments/54839148","html_url":"https://github.com/mitmproxy/mitmproxy/issues/353#issuecomment-54839148","issue_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/353","id":54839148,"node_id":"MDEyOklzc3VlQ29tbWVudDU0ODM5MTQ4","user":{"login":"secretsquirrel","id":1679850,"node_id":"MDQ6VXNlcjE2Nzk4NTA=","avatar_url":"https://avatars.githubusercontent.com/u/1679850?v=4","gravatar_id":"","url":"https://api.github.com/users/secretsquirrel","html_url":"https://github.com/secretsquirrel","followers_url":"https://api.github.com/users/secretsquirrel/followers","following_url":"https://api.github.com/users/secretsquirrel/following{/other_user}","gists_url":"https://api.github.com/users/secretsquirrel/gists{/gist_id}","starred_url":"https://api.github.com/users/secretsquirrel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/secretsquirrel/subscriptions","organizations_url":"https://api.github.com/users/secretsquirrel/orgs","repos_url":"https://api.github.com/users/secretsquirrel/repos","events_url":"https://api.github.com/users/secretsquirrel/events{/privacy}","received_events_url":"https://api.github.com/users/secretsquirrel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-09-08T15:37:11Z","updated_at":"2014-09-08T15:37:11Z","body":"AH.  OK.  I prefer using libmproxy because it seems easier to hack at the internals to get what I need.  BDFProxy is pretty barebones with logging to file and simple scrolling output.\n\nAwesome. Thanks about implementing the streaming, I'll work on it if I have some time before DerbyCon. :D\n\nMaximilian Hils wrote:\n\n> Hi Josh,\n> \n> sorry for the confusion - the stickycookie example is /not/ an inline\n> script. We basically provide two options: (a) inline scripts or (b)\n> directly using libmproxy. Here's an example of an inline script:\n> modify_response_body.py\n> https://github.com/mitmproxy/mitmproxy/blob/master/examples/modify_response_body.py.\n> The main difference is that while you run scripts based on libmproxy\n> as isolated tools, inline scripts run as an addition of\n> mitmproxy/mitmdump (|-s \"script.py script-args\"|). This brings a\n> couple of advantages (fewer libmproxy internals to care about,\n> built-in concurrency using |@concurrent|, combination with other\n> scripts, ...).\n> \n> I've seen quite many people preferring the libmproxy way, and I'm\n> personally wondering why. I think we had some documentation issues\n> here (your comment seems to validate this), but if you feel that there\n> are any other shortcomings, please let me know.\n> \n> Regarding the response streaming, simply setting flow.response.stream\n> = True should be sufficient (see this\n> https://github.com/mitmproxy/mitmproxy/blob/master/examples/stream.py inline\n> script).\n> \n> Cheers,\n> Max\n> \n> —\n> Reply to this email directly or view it on GitHub\n> https://github.com/mitmproxy/mitmproxy/issues/353#issuecomment-54837108.\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/comments/54839148/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"secretsquirrel","id":1679850,"node_id":"MDQ6VXNlcjE2Nzk4NTA=","avatar_url":"https://avatars.githubusercontent.com/u/1679850?v=4","gravatar_id":"","url":"https://api.github.com/users/secretsquirrel","html_url":"https://github.com/secretsquirrel","followers_url":"https://api.github.com/users/secretsquirrel/followers","following_url":"https://api.github.com/users/secretsquirrel/following{/other_user}","gists_url":"https://api.github.com/users/secretsquirrel/gists{/gist_id}","starred_url":"https://api.github.com/users/secretsquirrel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/secretsquirrel/subscriptions","organizations_url":"https://api.github.com/users/secretsquirrel/orgs","repos_url":"https://api.github.com/users/secretsquirrel/repos","events_url":"https://api.github.com/users/secretsquirrel/events{/privacy}","received_events_url":"https://api.github.com/users/secretsquirrel/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":162554820,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTYyNTU0ODIw","url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/events/162554820","actor":{"login":"Concurrent","id":515378,"node_id":"MDEyOk9yZ2FuaXphdGlvbjUxNTM3OA==","avatar_url":"https://avatars.githubusercontent.com/u/515378?v=4","gravatar_id":"","url":"https://api.github.com/users/Concurrent","html_url":"https://github.com/Concurrent","followers_url":"https://api.github.com/users/Concurrent/followers","following_url":"https://api.github.com/users/Concurrent/following{/other_user}","gists_url":"https://api.github.com/users/Concurrent/gists{/gist_id}","starred_url":"https://api.github.com/users/Concurrent/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Concurrent/subscriptions","organizations_url":"https://api.github.com/users/Concurrent/orgs","repos_url":"https://api.github.com/users/Concurrent/repos","events_url":"https://api.github.com/users/Concurrent/events{/privacy}","received_events_url":"https://api.github.com/users/Concurrent/received_events","type":"Organization","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2014-09-08T15:37:11Z","performed_via_github_app":null},{"id":162554821,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE2MjU1NDgyMQ==","url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/events/162554821","actor":{"login":"Concurrent","id":515378,"node_id":"MDEyOk9yZ2FuaXphdGlvbjUxNTM3OA==","avatar_url":"https://avatars.githubusercontent.com/u/515378?v=4","gravatar_id":"","url":"https://api.github.com/users/Concurrent","html_url":"https://github.com/Concurrent","followers_url":"https://api.github.com/users/Concurrent/followers","following_url":"https://api.github.com/users/Concurrent/following{/other_user}","gists_url":"https://api.github.com/users/Concurrent/gists{/gist_id}","starred_url":"https://api.github.com/users/Concurrent/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Concurrent/subscriptions","organizations_url":"https://api.github.com/users/Concurrent/orgs","repos_url":"https://api.github.com/users/Concurrent/repos","events_url":"https://api.github.com/users/Concurrent/events{/privacy}","received_events_url":"https://api.github.com/users/Concurrent/received_events","type":"Organization","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2014-09-08T15:37:11Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/comments/54901469","html_url":"https://github.com/mitmproxy/mitmproxy/issues/353#issuecomment-54901469","issue_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/353","id":54901469,"node_id":"MDEyOklzc3VlQ29tbWVudDU0OTAxNDY5","user":{"login":"mhils","id":1019198,"node_id":"MDQ6VXNlcjEwMTkxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1019198?v=4","gravatar_id":"","url":"https://api.github.com/users/mhils","html_url":"https://github.com/mhils","followers_url":"https://api.github.com/users/mhils/followers","following_url":"https://api.github.com/users/mhils/following{/other_user}","gists_url":"https://api.github.com/users/mhils/gists{/gist_id}","starred_url":"https://api.github.com/users/mhils/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhils/subscriptions","organizations_url":"https://api.github.com/users/mhils/orgs","repos_url":"https://api.github.com/users/mhils/repos","events_url":"https://api.github.com/users/mhils/events{/privacy}","received_events_url":"https://api.github.com/users/mhils/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-09-08T23:14:06Z","updated_at":"2014-09-08T23:14:06Z","body":"Thanks for the feedback.\nI just took quick a look at the BDFProxy code - neat stuff! I think the inline script approach would work pretty well for you, but that alone is of course no reason to rewrite your code. However, keep in mind that the master is single-threaded, so when handle_response blocks because it patches a binary, all traffic through the proxy is paused. I don't know how fast your patching method is, but if speed tends to become an issue, you should reconsider using inline scripts (with `@concurrent`) again. :-)\n\nCheers,\nMax\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/comments/54901469/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mhils","id":1019198,"node_id":"MDQ6VXNlcjEwMTkxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1019198?v=4","gravatar_id":"","url":"https://api.github.com/users/mhils","html_url":"https://github.com/mhils","followers_url":"https://api.github.com/users/mhils/followers","following_url":"https://api.github.com/users/mhils/following{/other_user}","gists_url":"https://api.github.com/users/mhils/gists{/gist_id}","starred_url":"https://api.github.com/users/mhils/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhils/subscriptions","organizations_url":"https://api.github.com/users/mhils/orgs","repos_url":"https://api.github.com/users/mhils/repos","events_url":"https://api.github.com/users/mhils/events{/privacy}","received_events_url":"https://api.github.com/users/mhils/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/comments/54917378","html_url":"https://github.com/mitmproxy/mitmproxy/issues/353#issuecomment-54917378","issue_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/353","id":54917378,"node_id":"MDEyOklzc3VlQ29tbWVudDU0OTE3Mzc4","user":{"login":"secretsquirrel","id":1679850,"node_id":"MDQ6VXNlcjE2Nzk4NTA=","avatar_url":"https://avatars.githubusercontent.com/u/1679850?v=4","gravatar_id":"","url":"https://api.github.com/users/secretsquirrel","html_url":"https://github.com/secretsquirrel","followers_url":"https://api.github.com/users/secretsquirrel/followers","following_url":"https://api.github.com/users/secretsquirrel/following{/other_user}","gists_url":"https://api.github.com/users/secretsquirrel/gists{/gist_id}","starred_url":"https://api.github.com/users/secretsquirrel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/secretsquirrel/subscriptions","organizations_url":"https://api.github.com/users/secretsquirrel/orgs","repos_url":"https://api.github.com/users/secretsquirrel/repos","events_url":"https://api.github.com/users/secretsquirrel/events{/privacy}","received_events_url":"https://api.github.com/users/secretsquirrel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-09-09T02:51:42Z","updated_at":"2014-09-09T02:51:42Z","body":"Cool, I'll look at the inline script option also.\n\nOn Sep 8, 2014, at 7:14 PM, Maximilian Hils notifications@github.com\nwrote:\n\nThanks for the feedback.\nI just took quick a look at the BDFProxy code - neat stuff! I think the\ninline script approach would work pretty well for you, but that alone is of\ncourse no reason to rewrite your code. However, keep in mind that the\nmaster is single-threaded, so when handle_response blocks because it\npatches a binary, all traffic through the proxy is paused. I don't know how\nfast your patching method is, but if speed tends to become an issue, you\nshould reconsider using inline scripts (with @concurrent) again. :-)\n\nCheers,\nMax\n\n—\nReply to this email directly or view it on GitHub\nhttps://github.com/mitmproxy/mitmproxy/issues/353#issuecomment-54901469.\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/comments/54917378/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"secretsquirrel","id":1679850,"node_id":"MDQ6VXNlcjE2Nzk4NTA=","avatar_url":"https://avatars.githubusercontent.com/u/1679850?v=4","gravatar_id":"","url":"https://api.github.com/users/secretsquirrel","html_url":"https://github.com/secretsquirrel","followers_url":"https://api.github.com/users/secretsquirrel/followers","following_url":"https://api.github.com/users/secretsquirrel/following{/other_user}","gists_url":"https://api.github.com/users/secretsquirrel/gists{/gist_id}","starred_url":"https://api.github.com/users/secretsquirrel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/secretsquirrel/subscriptions","organizations_url":"https://api.github.com/users/secretsquirrel/orgs","repos_url":"https://api.github.com/users/secretsquirrel/repos","events_url":"https://api.github.com/users/secretsquirrel/events{/privacy}","received_events_url":"https://api.github.com/users/secretsquirrel/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":162855768,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTYyODU1NzY4","url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/events/162855768","actor":{"login":"Concurrent","id":515378,"node_id":"MDEyOk9yZ2FuaXphdGlvbjUxNTM3OA==","avatar_url":"https://avatars.githubusercontent.com/u/515378?v=4","gravatar_id":"","url":"https://api.github.com/users/Concurrent","html_url":"https://github.com/Concurrent","followers_url":"https://api.github.com/users/Concurrent/followers","following_url":"https://api.github.com/users/Concurrent/following{/other_user}","gists_url":"https://api.github.com/users/Concurrent/gists{/gist_id}","starred_url":"https://api.github.com/users/Concurrent/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Concurrent/subscriptions","organizations_url":"https://api.github.com/users/Concurrent/orgs","repos_url":"https://api.github.com/users/Concurrent/repos","events_url":"https://api.github.com/users/Concurrent/events{/privacy}","received_events_url":"https://api.github.com/users/Concurrent/received_events","type":"Organization","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2014-09-09T02:51:42Z","performed_via_github_app":null},{"id":162855769,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE2Mjg1NTc2OQ==","url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/events/162855769","actor":{"login":"Concurrent","id":515378,"node_id":"MDEyOk9yZ2FuaXphdGlvbjUxNTM3OA==","avatar_url":"https://avatars.githubusercontent.com/u/515378?v=4","gravatar_id":"","url":"https://api.github.com/users/Concurrent","html_url":"https://github.com/Concurrent","followers_url":"https://api.github.com/users/Concurrent/followers","following_url":"https://api.github.com/users/Concurrent/following{/other_user}","gists_url":"https://api.github.com/users/Concurrent/gists{/gist_id}","starred_url":"https://api.github.com/users/Concurrent/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Concurrent/subscriptions","organizations_url":"https://api.github.com/users/Concurrent/orgs","repos_url":"https://api.github.com/users/Concurrent/repos","events_url":"https://api.github.com/users/Concurrent/events{/privacy}","received_events_url":"https://api.github.com/users/Concurrent/received_events","type":"Organization","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2014-09-09T02:51:42Z","performed_via_github_app":null}]