[{"id":11698228787,"node_id":"LE_lADOAAfumM5-OABVzwAAAAK5RM4z","url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/events/11698228787","actor":{"login":"owlux","id":45324938,"node_id":"MDQ6VXNlcjQ1MzI0OTM4","avatar_url":"https://avatars.githubusercontent.com/u/45324938?v=4","gravatar_id":"","url":"https://api.github.com/users/owlux","html_url":"https://github.com/owlux","followers_url":"https://api.github.com/users/owlux/followers","following_url":"https://api.github.com/users/owlux/following{/other_user}","gists_url":"https://api.github.com/users/owlux/gists{/gist_id}","starred_url":"https://api.github.com/users/owlux/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/owlux/subscriptions","organizations_url":"https://api.github.com/users/owlux/orgs","repos_url":"https://api.github.com/users/owlux/repos","events_url":"https://api.github.com/users/owlux/events{/privacy}","received_events_url":"https://api.github.com/users/owlux/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-02-05T03:26:19Z","label":{"name":"kind/triage","color":"006b75"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/comments/1926173578","html_url":"https://github.com/mitmproxy/mitmproxy/issues/6646#issuecomment-1926173578","issue_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/6646","id":1926173578,"node_id":"IC_kwDOAAfumM5yzxOK","user":{"login":"owlux","id":45324938,"node_id":"MDQ6VXNlcjQ1MzI0OTM4","avatar_url":"https://avatars.githubusercontent.com/u/45324938?v=4","gravatar_id":"","url":"https://api.github.com/users/owlux","html_url":"https://github.com/owlux","followers_url":"https://api.github.com/users/owlux/followers","following_url":"https://api.github.com/users/owlux/following{/other_user}","gists_url":"https://api.github.com/users/owlux/gists{/gist_id}","starred_url":"https://api.github.com/users/owlux/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/owlux/subscriptions","organizations_url":"https://api.github.com/users/owlux/orgs","repos_url":"https://api.github.com/users/owlux/repos","events_url":"https://api.github.com/users/owlux/events{/privacy}","received_events_url":"https://api.github.com/users/owlux/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-02-05T03:35:17Z","updated_at":"2024-02-05T03:35:17Z","body":"I have not looked into why such timestamps are logged.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/comments/1926173578/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"owlux","id":45324938,"node_id":"MDQ6VXNlcjQ1MzI0OTM4","avatar_url":"https://avatars.githubusercontent.com/u/45324938?v=4","gravatar_id":"","url":"https://api.github.com/users/owlux","html_url":"https://github.com/owlux","followers_url":"https://api.github.com/users/owlux/followers","following_url":"https://api.github.com/users/owlux/following{/other_user}","gists_url":"https://api.github.com/users/owlux/gists{/gist_id}","starred_url":"https://api.github.com/users/owlux/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/owlux/subscriptions","organizations_url":"https://api.github.com/users/owlux/orgs","repos_url":"https://api.github.com/users/owlux/repos","events_url":"https://api.github.com/users/owlux/events{/privacy}","received_events_url":"https://api.github.com/users/owlux/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/comments/1926624271","html_url":"https://github.com/mitmproxy/mitmproxy/issues/6646#issuecomment-1926624271","issue_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/6646","id":1926624271,"node_id":"IC_kwDOAAfumM5y1fQP","user":{"login":"mhils","id":1019198,"node_id":"MDQ6VXNlcjEwMTkxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1019198?v=4","gravatar_id":"","url":"https://api.github.com/users/mhils","html_url":"https://github.com/mhils","followers_url":"https://api.github.com/users/mhils/followers","following_url":"https://api.github.com/users/mhils/following{/other_user}","gists_url":"https://api.github.com/users/mhils/gists{/gist_id}","starred_url":"https://api.github.com/users/mhils/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhils/subscriptions","organizations_url":"https://api.github.com/users/mhils/orgs","repos_url":"https://api.github.com/users/mhils/repos","events_url":"https://api.github.com/users/mhils/events{/privacy}","received_events_url":"https://api.github.com/users/mhils/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-02-05T10:07:12Z","updated_at":"2024-02-05T10:07:12Z","body":"Thanks for filing this! We should fix the root cause here (negative durations) and not apply bandaids.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/comments/1926624271/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mhils","id":1019198,"node_id":"MDQ6VXNlcjEwMTkxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1019198?v=4","gravatar_id":"","url":"https://api.github.com/users/mhils","html_url":"https://github.com/mhils","followers_url":"https://api.github.com/users/mhils/followers","following_url":"https://api.github.com/users/mhils/following{/other_user}","gists_url":"https://api.github.com/users/mhils/gists{/gist_id}","starred_url":"https://api.github.com/users/mhils/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhils/subscriptions","organizations_url":"https://api.github.com/users/mhils/orgs","repos_url":"https://api.github.com/users/mhils/repos","events_url":"https://api.github.com/users/mhils/events{/privacy}","received_events_url":"https://api.github.com/users/mhils/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/comments/1926629610","html_url":"https://github.com/mitmproxy/mitmproxy/issues/6646#issuecomment-1926629610","issue_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/6646","id":1926629610,"node_id":"IC_kwDOAAfumM5y1gjq","user":{"login":"mhils","id":1019198,"node_id":"MDQ6VXNlcjEwMTkxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1019198?v=4","gravatar_id":"","url":"https://api.github.com/users/mhils","html_url":"https://github.com/mhils","followers_url":"https://api.github.com/users/mhils/followers","following_url":"https://api.github.com/users/mhils/following{/other_user}","gists_url":"https://api.github.com/users/mhils/gists{/gist_id}","starred_url":"https://api.github.com/users/mhils/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhils/subscriptions","organizations_url":"https://api.github.com/users/mhils/orgs","repos_url":"https://api.github.com/users/mhils/repos","events_url":"https://api.github.com/users/mhils/events{/privacy}","received_events_url":"https://api.github.com/users/mhils/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-02-05T10:10:00Z","updated_at":"2024-02-05T10:10:00Z","body":"More concretely: We currently seem to use client/server-provided timestamps. We shouldn't do that at all, but use local (trusted) timestamps.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/comments/1926629610/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mhils","id":1019198,"node_id":"MDQ6VXNlcjEwMTkxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1019198?v=4","gravatar_id":"","url":"https://api.github.com/users/mhils","html_url":"https://github.com/mhils","followers_url":"https://api.github.com/users/mhils/followers","following_url":"https://api.github.com/users/mhils/following{/other_user}","gists_url":"https://api.github.com/users/mhils/gists{/gist_id}","starred_url":"https://api.github.com/users/mhils/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhils/subscriptions","organizations_url":"https://api.github.com/users/mhils/orgs","repos_url":"https://api.github.com/users/mhils/repos","events_url":"https://api.github.com/users/mhils/events{/privacy}","received_events_url":"https://api.github.com/users/mhils/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"mhils","id":1019198,"node_id":"MDQ6VXNlcjEwMTkxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1019198?v=4","gravatar_id":"","url":"https://api.github.com/users/mhils","html_url":"https://github.com/mhils","followers_url":"https://api.github.com/users/mhils/followers","following_url":"https://api.github.com/users/mhils/following{/other_user}","gists_url":"https://api.github.com/users/mhils/gists{/gist_id}","starred_url":"https://api.github.com/users/mhils/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhils/subscriptions","organizations_url":"https://api.github.com/users/mhils/orgs","repos_url":"https://api.github.com/users/mhils/repos","events_url":"https://api.github.com/users/mhils/events{/privacy}","received_events_url":"https://api.github.com/users/mhils/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-27T09:41:02Z","updated_at":"2024-11-27T09:41:02Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/7356","repository_url":"https://api.github.com/repos/mitmproxy/mitmproxy","labels_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/7356/labels{/name}","comments_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/7356/comments","events_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/7356/events","html_url":"https://github.com/mitmproxy/mitmproxy/issues/7356","id":2696716521,"node_id":"I_kwDOAAfumM6gvKDp","number":7356,"title":"'ValueError: math domain error' when rendering certain DNS requests","user":{"login":"nneonneo","id":75449,"node_id":"MDQ6VXNlcjc1NDQ5","avatar_url":"https://avatars.githubusercontent.com/u/75449?v=4","gravatar_id":"","url":"https://api.github.com/users/nneonneo","html_url":"https://github.com/nneonneo","followers_url":"https://api.github.com/users/nneonneo/followers","following_url":"https://api.github.com/users/nneonneo/following{/other_user}","gists_url":"https://api.github.com/users/nneonneo/gists{/gist_id}","starred_url":"https://api.github.com/users/nneonneo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nneonneo/subscriptions","organizations_url":"https://api.github.com/users/nneonneo/orgs","repos_url":"https://api.github.com/users/nneonneo/repos","events_url":"https://api.github.com/users/nneonneo/events{/privacy}","received_events_url":"https://api.github.com/users/nneonneo/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":466930397,"node_id":"MDU6TGFiZWw0NjY5MzAzOTc=","url":"https://api.github.com/repos/mitmproxy/mitmproxy/labels/kind/triage","name":"kind/triage","color":"006b75","default":false,"description":"Unclassified issues"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-11-27T02:10:39Z","updated_at":"2024-11-27T09:41:11Z","closed_at":"2024-11-27T09:41:11Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":519832,"node_id":"MDEwOlJlcG9zaXRvcnk1MTk4MzI=","name":"mitmproxy","full_name":"mitmproxy/mitmproxy","private":false,"owner":{"login":"mitmproxy","id":4652787,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ2NTI3ODc=","avatar_url":"https://avatars.githubusercontent.com/u/4652787?v=4","gravatar_id":"","url":"https://api.github.com/users/mitmproxy","html_url":"https://github.com/mitmproxy","followers_url":"https://api.github.com/users/mitmproxy/followers","following_url":"https://api.github.com/users/mitmproxy/following{/other_user}","gists_url":"https://api.github.com/users/mitmproxy/gists{/gist_id}","starred_url":"https://api.github.com/users/mitmproxy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mitmproxy/subscriptions","organizations_url":"https://api.github.com/users/mitmproxy/orgs","repos_url":"https://api.github.com/users/mitmproxy/repos","events_url":"https://api.github.com/users/mitmproxy/events{/privacy}","received_events_url":"https://api.github.com/users/mitmproxy/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/mitmproxy/mitmproxy","description":"An interactive TLS-capable intercepting HTTP proxy for penetration testers and software developers.","fork":false,"url":"https://api.github.com/repos/mitmproxy/mitmproxy","forks_url":"https://api.github.com/repos/mitmproxy/mitmproxy/forks","keys_url":"https://api.github.com/repos/mitmproxy/mitmproxy/keys{/key_id}","collaborators_url":"https://api.github.com/repos/mitmproxy/mitmproxy/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/mitmproxy/mitmproxy/teams","hooks_url":"https://api.github.com/repos/mitmproxy/mitmproxy/hooks","issue_events_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/events{/number}","events_url":"https://api.github.com/repos/mitmproxy/mitmproxy/events","assignees_url":"https://api.github.com/repos/mitmproxy/mitmproxy/assignees{/user}","branches_url":"https://api.github.com/repos/mitmproxy/mitmproxy/branches{/branch}","tags_url":"https://api.github.com/repos/mitmproxy/mitmproxy/tags","blobs_url":"https://api.github.com/repos/mitmproxy/mitmproxy/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/mitmproxy/mitmproxy/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/mitmproxy/mitmproxy/git/refs{/sha}","trees_url":"https://api.github.com/repos/mitmproxy/mitmproxy/git/trees{/sha}","statuses_url":"https://api.github.com/repos/mitmproxy/mitmproxy/statuses/{sha}","languages_url":"https://api.github.com/repos/mitmproxy/mitmproxy/languages","stargazers_url":"https://api.github.com/repos/mitmproxy/mitmproxy/stargazers","contributors_url":"https://api.github.com/repos/mitmproxy/mitmproxy/contributors","subscribers_url":"https://api.github.com/repos/mitmproxy/mitmproxy/subscribers","subscription_url":"https://api.github.com/repos/mitmproxy/mitmproxy/subscription","commits_url":"https://api.github.com/repos/mitmproxy/mitmproxy/commits{/sha}","git_commits_url":"https://api.github.com/repos/mitmproxy/mitmproxy/git/commits{/sha}","comments_url":"https://api.github.com/repos/mitmproxy/mitmproxy/comments{/number}","issue_comment_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/comments{/number}","contents_url":"https://api.github.com/repos/mitmproxy/mitmproxy/contents/{+path}","compare_url":"https://api.github.com/repos/mitmproxy/mitmproxy/compare/{base}...{head}","merges_url":"https://api.github.com/repos/mitmproxy/mitmproxy/merges","archive_url":"https://api.github.com/repos/mitmproxy/mitmproxy/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/mitmproxy/mitmproxy/downloads","issues_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues{/number}","pulls_url":"https://api.github.com/repos/mitmproxy/mitmproxy/pulls{/number}","milestones_url":"https://api.github.com/repos/mitmproxy/mitmproxy/milestones{/number}","notifications_url":"https://api.github.com/repos/mitmproxy/mitmproxy/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/mitmproxy/mitmproxy/labels{/name}","releases_url":"https://api.github.com/repos/mitmproxy/mitmproxy/releases{/id}","deployments_url":"https://api.github.com/repos/mitmproxy/mitmproxy/deployments","created_at":"2010-02-16T04:10:13Z","updated_at":"2025-11-09T17:55:49Z","pushed_at":"2025-11-09T14:36:54Z","git_url":"git://github.com/mitmproxy/mitmproxy.git","ssh_url":"git@github.com:mitmproxy/mitmproxy.git","clone_url":"https://github.com/mitmproxy/mitmproxy.git","svn_url":"https://github.com/mitmproxy/mitmproxy","homepage":"https://mitmproxy.org","size":67124,"stargazers_count":41160,"watchers_count":41160,"language":"Python","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":4359,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":387,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["debugging","http","http2","man-in-the-middle","mitmproxy","proxy","python","security","ssl","tls","websocket"],"visibility":"public","forks":4359,"open_issues":387,"watchers":41160,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"#### Problem Description\r\nWhen using Wireguard mode, some DNS responses appear to arrive before the request is finished. This results in a negative duration value, which causes the console UI to repeatedly throw errors of the following form:\r\n\r\n```\r\nerror: [07:30:01.291] Unhandled error in task.\r\nTraceback (most recent call last):\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/asyncio/events.py\", line 80, in _run\r\n    self._context.run(self._callback, *self._args)\r\n  File \"/lib/python3.10/site-packages/urwid/event_loop/asyncio_loop.py\", line 104, in wrapper\r\n    return callback(*args, **kwargs)\r\n  File \"/lib/python3.10/site-packages/urwid/display/_posix_raw_display.py\", line 273, in wrapper\r\n    return self.parse_input(event_loop, callback, self.get_available_raw_input())\r\n  File \"/lib/python3.10/site-packages/urwid/display/_raw_display_base.py\", line 488, in parse_input\r\n    callback(decoded_codes, raw_codes)\r\n  File \"/lib/python3.10/site-packages/urwid/event_loop/main_loop.py\", line 466, in _update\r\n    self.process_input(keys)\r\n  File \"/lib/python3.10/site-packages/urwid/event_loop/main_loop.py\", line 566, in process_input\r\n    handled_key = self._topmost_widget.keypress(self.screen_size, key)\r\n  File \"/lib/python3.10/site-packages/mitmproxy/tools/console/window.py\", line 301, in keypress\r\n    k = super().keypress(size, k)\r\n  File \"/lib/python3.10/site-packages/urwid/widget/frame.py\", line 526, in keypress\r\n    return self.body.keypress((maxcol, remaining), key)\r\n  File \"/lib/python3.10/site-packages/urwid/widget/widget.py\", line 729, in keypress\r\n    return get_delegate(self).keypress(size, key)\r\n  File \"/lib/python3.10/site-packages/mitmproxy/tools/console/window.py\", line 42, in keypress\r\n    ret = super().keypress(size, key)\r\n  File \"/lib/python3.10/site-packages/urwid/widget/frame.py\", line 526, in keypress\r\n    return self.body.keypress((maxcol, remaining), key)\r\n  File \"/lib/python3.10/site-packages/mitmproxy/tools/console/flowlist.py\", line 102, in keypress\r\n    return urwid.ListBox.keypress(self, size, key)\r\n  File \"/lib/python3.10/site-packages/urwid/widget/listbox.py\", line 1345, in keypress\r\n    return actual_key(self._keypress_page_up((maxcol, maxrow)))\r\n  File \"/lib/python3.10/site-packages/urwid/widget/listbox.py\", line 1567, in _keypress_page_up\r\n    widget, pos = self._body.get_prev(pos)\r\n  File \"/lib/python3.10/site-packages/mitmproxy/tools/console/flowlist.py\", line 81, in get_prev\r\n    return self._get(pos - 1)\r\n  File \"/lib/python3.10/site-packages/mitmproxy/tools/console/flowlist.py\", line 75, in _get\r\n    return FlowItem(self.master, self.master.view[pos]), pos\r\n  File \"/lib/python3.10/site-packages/mitmproxy/tools/console/flowlist.py\", line 13, in __init__\r\n    w = self.get_text()\r\n  File \"/lib/python3.10/site-packages/mitmproxy/tools/console/flowlist.py\", line 24, in get_text\r\n    return common.format_flow(\r\n  File \"/lib/python3.10/site-packages/mitmproxy/tools/console/common.py\", line 796, in format_flow\r\n    return format_dns_flow(\r\n  File \"/lib/python3.10/site-packages/mitmproxy/tools/console/common.py\", line 723, in format_dns_flow\r\n    duration_pretty, duration_style = format_duration(duration)\r\n  File \"/lib/python3.10/site-packages/mitmproxy/tools/console/common.py\", line 349, in format_duration\r\n    99 - 100 * min(math.log2(1 + 1000 * duration) / 12, 0.99)\r\nValueError: math domain error\r\n```\r\n\r\nNotably, I left mitmproxy running overnight and the memory usage ballooned to 14 GB - all due to copies of this message (the Wireguard client had already disconnected).\r\n\r\n#### Steps to reproduce the behavior:\r\n1. Load the attached [dns.mitmproxy](https://github.com/user-attachments/files/17927796/dns.mitmproxy.zip) file (`mitmproxy -r dns.mitmproxy -n`)\r\n2. The middle DNS request displays with a negative duration\r\n3. Watch as the event log fills with errors\r\n\r\n#### System Information\r\n\r\nMitmproxy: 11.0.1\r\nPython:    3.10.11\r\nOpenSSL:   OpenSSL 3.3.2 3 Sep 2024\r\nPlatform:  macOS-14.6.1-x86_64-i386-64bit\r\n\r\n#### Suggested Fix\r\n\r\nAn immediate fix would be to ensure that `duration` is not negative in `format_duration`, e.g. to clamp it to zero if it is negative. It may also be worth figuring out why and how a DNS request can have a negative duration; this is observed with some regularity on my network. Finally, a crash in the renderer should not produce such a huge volume of logging; perhaps a minor rendering failure should produce a single log message and the resulting failure cached to avoid log explosions.","reactions":{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/7356/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/7356/timeline","performed_via_github_app":null,"state_reason":"not_planned"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/comments/2503404194","html_url":"https://github.com/mitmproxy/mitmproxy/issues/6646#issuecomment-2503404194","issue_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/6646","id":2503404194,"node_id":"IC_kwDOAAfumM6VNuqi","user":{"login":"mhils","id":1019198,"node_id":"MDQ6VXNlcjEwMTkxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1019198?v=4","gravatar_id":"","url":"https://api.github.com/users/mhils","html_url":"https://github.com/mhils","followers_url":"https://api.github.com/users/mhils/followers","following_url":"https://api.github.com/users/mhils/following{/other_user}","gists_url":"https://api.github.com/users/mhils/gists{/gist_id}","starred_url":"https://api.github.com/users/mhils/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhils/subscriptions","organizations_url":"https://api.github.com/users/mhils/orgs","repos_url":"https://api.github.com/users/mhils/repos","events_url":"https://api.github.com/users/mhils/events{/privacy}","received_events_url":"https://api.github.com/users/mhils/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-27T09:45:33Z","updated_at":"2024-11-27T09:45:33Z","body":"Contrary to my previous point, #7356 makes a good point on that we should also not fail for existing saved flows with this issue.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/comments/2503404194/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mhils","id":1019198,"node_id":"MDQ6VXNlcjEwMTkxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1019198?v=4","gravatar_id":"","url":"https://api.github.com/users/mhils","html_url":"https://github.com/mhils","followers_url":"https://api.github.com/users/mhils/followers","following_url":"https://api.github.com/users/mhils/following{/other_user}","gists_url":"https://api.github.com/users/mhils/gists{/gist_id}","starred_url":"https://api.github.com/users/mhils/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhils/subscriptions","organizations_url":"https://api.github.com/users/mhils/orgs","repos_url":"https://api.github.com/users/mhils/repos","events_url":"https://api.github.com/users/mhils/events{/privacy}","received_events_url":"https://api.github.com/users/mhils/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":15450076465,"node_id":"REFE_lADOAAfumM5-OABVzwAAAAOY5XUx","url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/events/15450076465","actor":{"login":"mhils","id":1019198,"node_id":"MDQ6VXNlcjEwMTkxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1019198?v=4","gravatar_id":"","url":"https://api.github.com/users/mhils","html_url":"https://github.com/mhils","followers_url":"https://api.github.com/users/mhils/followers","following_url":"https://api.github.com/users/mhils/following{/other_user}","gists_url":"https://api.github.com/users/mhils/gists{/gist_id}","starred_url":"https://api.github.com/users/mhils/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhils/subscriptions","organizations_url":"https://api.github.com/users/mhils/orgs","repos_url":"https://api.github.com/users/mhils/repos","events_url":"https://api.github.com/users/mhils/events{/privacy}","received_events_url":"https://api.github.com/users/mhils/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"625eea4eb734e5eb24684250597879094534f025","commit_url":"https://api.github.com/repos/mhils/mitmproxy/commits/625eea4eb734e5eb24684250597879094534f025","created_at":"2024-11-27T09:56:51Z","performed_via_github_app":null},{"actor":{"login":"mhils","id":1019198,"node_id":"MDQ6VXNlcjEwMTkxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1019198?v=4","gravatar_id":"","url":"https://api.github.com/users/mhils","html_url":"https://github.com/mhils","followers_url":"https://api.github.com/users/mhils/followers","following_url":"https://api.github.com/users/mhils/following{/other_user}","gists_url":"https://api.github.com/users/mhils/gists{/gist_id}","starred_url":"https://api.github.com/users/mhils/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhils/subscriptions","organizations_url":"https://api.github.com/users/mhils/orgs","repos_url":"https://api.github.com/users/mhils/repos","events_url":"https://api.github.com/users/mhils/events{/privacy}","received_events_url":"https://api.github.com/users/mhils/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-27T09:58:14Z","updated_at":"2024-11-27T09:58:14Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/7358","repository_url":"https://api.github.com/repos/mitmproxy/mitmproxy","labels_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/7358/labels{/name}","comments_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/7358/comments","events_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/7358/events","html_url":"https://github.com/mitmproxy/mitmproxy/pull/7358","id":2697936219,"node_id":"PR_kwDOAAfumM6DUEBx","number":7358,"title":"Don't crash UI on negative durations","user":{"login":"mhils","id":1019198,"node_id":"MDQ6VXNlcjEwMTkxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1019198?v=4","gravatar_id":"","url":"https://api.github.com/users/mhils","html_url":"https://github.com/mhils","followers_url":"https://api.github.com/users/mhils/followers","following_url":"https://api.github.com/users/mhils/following{/other_user}","gists_url":"https://api.github.com/users/mhils/gists{/gist_id}","starred_url":"https://api.github.com/users/mhils/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhils/subscriptions","organizations_url":"https://api.github.com/users/mhils/orgs","repos_url":"https://api.github.com/users/mhils/repos","events_url":"https://api.github.com/users/mhils/events{/privacy}","received_events_url":"https://api.github.com/users/mhils/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-11-27T09:58:13Z","updated_at":"2024-11-27T10:07:08Z","closed_at":"2024-11-27T10:07:07Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":519832,"node_id":"MDEwOlJlcG9zaXRvcnk1MTk4MzI=","name":"mitmproxy","full_name":"mitmproxy/mitmproxy","private":false,"owner":{"login":"mitmproxy","id":4652787,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ2NTI3ODc=","avatar_url":"https://avatars.githubusercontent.com/u/4652787?v=4","gravatar_id":"","url":"https://api.github.com/users/mitmproxy","html_url":"https://github.com/mitmproxy","followers_url":"https://api.github.com/users/mitmproxy/followers","following_url":"https://api.github.com/users/mitmproxy/following{/other_user}","gists_url":"https://api.github.com/users/mitmproxy/gists{/gist_id}","starred_url":"https://api.github.com/users/mitmproxy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mitmproxy/subscriptions","organizations_url":"https://api.github.com/users/mitmproxy/orgs","repos_url":"https://api.github.com/users/mitmproxy/repos","events_url":"https://api.github.com/users/mitmproxy/events{/privacy}","received_events_url":"https://api.github.com/users/mitmproxy/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/mitmproxy/mitmproxy","description":"An interactive TLS-capable intercepting HTTP proxy for penetration testers and software developers.","fork":false,"url":"https://api.github.com/repos/mitmproxy/mitmproxy","forks_url":"https://api.github.com/repos/mitmproxy/mitmproxy/forks","keys_url":"https://api.github.com/repos/mitmproxy/mitmproxy/keys{/key_id}","collaborators_url":"https://api.github.com/repos/mitmproxy/mitmproxy/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/mitmproxy/mitmproxy/teams","hooks_url":"https://api.github.com/repos/mitmproxy/mitmproxy/hooks","issue_events_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/events{/number}","events_url":"https://api.github.com/repos/mitmproxy/mitmproxy/events","assignees_url":"https://api.github.com/repos/mitmproxy/mitmproxy/assignees{/user}","branches_url":"https://api.github.com/repos/mitmproxy/mitmproxy/branches{/branch}","tags_url":"https://api.github.com/repos/mitmproxy/mitmproxy/tags","blobs_url":"https://api.github.com/repos/mitmproxy/mitmproxy/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/mitmproxy/mitmproxy/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/mitmproxy/mitmproxy/git/refs{/sha}","trees_url":"https://api.github.com/repos/mitmproxy/mitmproxy/git/trees{/sha}","statuses_url":"https://api.github.com/repos/mitmproxy/mitmproxy/statuses/{sha}","languages_url":"https://api.github.com/repos/mitmproxy/mitmproxy/languages","stargazers_url":"https://api.github.com/repos/mitmproxy/mitmproxy/stargazers","contributors_url":"https://api.github.com/repos/mitmproxy/mitmproxy/contributors","subscribers_url":"https://api.github.com/repos/mitmproxy/mitmproxy/subscribers","subscription_url":"https://api.github.com/repos/mitmproxy/mitmproxy/subscription","commits_url":"https://api.github.com/repos/mitmproxy/mitmproxy/commits{/sha}","git_commits_url":"https://api.github.com/repos/mitmproxy/mitmproxy/git/commits{/sha}","comments_url":"https://api.github.com/repos/mitmproxy/mitmproxy/comments{/number}","issue_comment_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/comments{/number}","contents_url":"https://api.github.com/repos/mitmproxy/mitmproxy/contents/{+path}","compare_url":"https://api.github.com/repos/mitmproxy/mitmproxy/compare/{base}...{head}","merges_url":"https://api.github.com/repos/mitmproxy/mitmproxy/merges","archive_url":"https://api.github.com/repos/mitmproxy/mitmproxy/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/mitmproxy/mitmproxy/downloads","issues_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues{/number}","pulls_url":"https://api.github.com/repos/mitmproxy/mitmproxy/pulls{/number}","milestones_url":"https://api.github.com/repos/mitmproxy/mitmproxy/milestones{/number}","notifications_url":"https://api.github.com/repos/mitmproxy/mitmproxy/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/mitmproxy/mitmproxy/labels{/name}","releases_url":"https://api.github.com/repos/mitmproxy/mitmproxy/releases{/id}","deployments_url":"https://api.github.com/repos/mitmproxy/mitmproxy/deployments","created_at":"2010-02-16T04:10:13Z","updated_at":"2025-11-09T17:55:49Z","pushed_at":"2025-11-09T14:36:54Z","git_url":"git://github.com/mitmproxy/mitmproxy.git","ssh_url":"git@github.com:mitmproxy/mitmproxy.git","clone_url":"https://github.com/mitmproxy/mitmproxy.git","svn_url":"https://github.com/mitmproxy/mitmproxy","homepage":"https://mitmproxy.org","size":67124,"stargazers_count":41160,"watchers_count":41160,"language":"Python","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":4359,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":387,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["debugging","http","http2","man-in-the-middle","mitmproxy","proxy","python","security","ssl","tls","websocket"],"visibility":"public","forks":4359,"open_issues":387,"watchers":41160,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/pulls/7358","html_url":"https://github.com/mitmproxy/mitmproxy/pull/7358","diff_url":"https://github.com/mitmproxy/mitmproxy/pull/7358.diff","patch_url":"https://github.com/mitmproxy/mitmproxy/pull/7358.patch","merged_at":"2024-11-27T10:07:07Z"},"body":"#### Description\r\n\r\nThis fixes #6646.\r\n\r\n#### Checklist\r\n\r\n - [x] I have added an entry to the CHANGELOG.\r\n","reactions":{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/7358/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/7358/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":15450236425,"node_id":"CE_lADOAAfumM5-OABVzwAAAAOY5-YJ","url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/events/15450236425","actor":{"login":"mhils","id":1019198,"node_id":"MDQ6VXNlcjEwMTkxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1019198?v=4","gravatar_id":"","url":"https://api.github.com/users/mhils","html_url":"https://github.com/mhils","followers_url":"https://api.github.com/users/mhils/followers","following_url":"https://api.github.com/users/mhils/following{/other_user}","gists_url":"https://api.github.com/users/mhils/gists{/gist_id}","starred_url":"https://api.github.com/users/mhils/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhils/subscriptions","organizations_url":"https://api.github.com/users/mhils/orgs","repos_url":"https://api.github.com/users/mhils/repos","events_url":"https://api.github.com/users/mhils/events{/privacy}","received_events_url":"https://api.github.com/users/mhils/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2024-11-27T10:07:09Z","state_reason":null,"performed_via_github_app":null},{"id":15450236460,"node_id":"CE_lADOAAfumM5-OABVzwAAAAOY5-Ys","url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/events/15450236460","actor":{"login":"mhils","id":1019198,"node_id":"MDQ6VXNlcjEwMTkxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1019198?v=4","gravatar_id":"","url":"https://api.github.com/users/mhils","html_url":"https://github.com/mhils","followers_url":"https://api.github.com/users/mhils/followers","following_url":"https://api.github.com/users/mhils/following{/other_user}","gists_url":"https://api.github.com/users/mhils/gists{/gist_id}","starred_url":"https://api.github.com/users/mhils/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhils/subscriptions","organizations_url":"https://api.github.com/users/mhils/orgs","repos_url":"https://api.github.com/users/mhils/repos","events_url":"https://api.github.com/users/mhils/events{/privacy}","received_events_url":"https://api.github.com/users/mhils/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"29918474b7fc724952b0cebf0724d45926609f68","commit_url":"https://api.github.com/repos/mitmproxy/mitmproxy/commits/29918474b7fc724952b0cebf0724d45926609f68","created_at":"2024-11-27T10:07:09Z","state_reason":null,"performed_via_github_app":null},{"id":15451243124,"node_id":"REFE_lADOAAfumM5-OABVzwAAAAOY90J0","url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/events/15451243124","actor":{"login":"pull[bot]","id":39814207,"node_id":"MDM6Qm90Mzk4MTQyMDc=","avatar_url":"https://avatars.githubusercontent.com/in/12910?v=4","gravatar_id":"","url":"https://api.github.com/users/pull%5Bbot%5D","html_url":"https://github.com/apps/pull","followers_url":"https://api.github.com/users/pull%5Bbot%5D/followers","following_url":"https://api.github.com/users/pull%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/pull%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/pull%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pull%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/pull%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/pull%5Bbot%5D/repos","events_url":"https://api.github.com/users/pull%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/pull%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"29918474b7fc724952b0cebf0724d45926609f68","commit_url":"https://api.github.com/repos/annihilatorrrr/mitmproxy/commits/29918474b7fc724952b0cebf0724d45926609f68","created_at":"2024-11-27T11:26:10Z","performed_via_github_app":null}]