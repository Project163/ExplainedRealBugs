{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/2738","repository_url":"https://api.github.com/repos/mitmproxy/mitmproxy","labels_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/2738/labels{/name}","comments_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/2738/comments","events_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/2738/events","html_url":"https://github.com/mitmproxy/mitmproxy/issues/2738","id":285273580,"node_id":"MDU6SXNzdWUyODUyNzM1ODA=","number":2738,"title":"Mitmproxy lets us interact with other tab, when focusing on the other one.","user":{"login":"kajojify","id":20267977,"node_id":"MDQ6VXNlcjIwMjY3OTc3","avatar_url":"https://avatars.githubusercontent.com/u/20267977?v=4","gravatar_id":"","url":"https://api.github.com/users/kajojify","html_url":"https://github.com/kajojify","followers_url":"https://api.github.com/users/kajojify/followers","following_url":"https://api.github.com/users/kajojify/following{/other_user}","gists_url":"https://api.github.com/users/kajojify/gists{/gist_id}","starred_url":"https://api.github.com/users/kajojify/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kajojify/subscriptions","organizations_url":"https://api.github.com/users/kajojify/orgs","repos_url":"https://api.github.com/users/kajojify/repos","events_url":"https://api.github.com/users/kajojify/events{/privacy}","received_events_url":"https://api.github.com/users/kajojify/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":79336502,"node_id":"MDU6TGFiZWw3OTMzNjUwMg==","url":"https://api.github.com/repos/mitmproxy/mitmproxy/labels/kind/bug","name":"kind/bug","color":"d93f0b","default":false,"description":null},{"id":426474723,"node_id":"MDU6TGFiZWw0MjY0NzQ3MjM=","url":"https://api.github.com/repos/mitmproxy/mitmproxy/labels/area/console","name":"area/console","color":"fef2c0","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2017-12-31T19:43:51Z","updated_at":"2018-01-04T15:36:24Z","closed_at":"2018-01-04T15:36:24Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"##### Steps to reproduce the problem:\r\n\r\n1. Open mitmproxy.\r\n2. Press `-` to open two pane layout.\r\n3. Start intercepting something.\r\n4. Choose any flow to see **Flow details**.\r\n5. Change focus on other tab by pressing `Shift+Tab`.\r\n6. Click on \"Request\" or \"Response\" by pressing left button of mouse.\r\n\r\n![2017-12-31 19-52-30](https://user-images.githubusercontent.com/20267977/34463805-5bb3ebd0-ee70-11e7-883b-c6dc720e4127.png)\r\n\r\nI am getting:\r\n```\r\nTraceback (most recent call last):\r\n  File \"mitmproxy/tools/console/master.py\", line 216, in run\r\n  File \"site-packages/urwid/main_loop.py\", line 278, in run\r\n  File \"site-packages/urwid/main_loop.py\", line 376, in _run\r\n  File \"site-packages/urwid/main_loop.py\", line 682, in run\r\n  File \"site-packages/urwid/main_loop.py\", line 719, in _loop\r\n  File \"site-packages/urwid/raw_display.py\", line 393, in <lambda>\r\n  File \"site-packages/urwid/raw_display.py\", line 493, in parse_input\r\n  File \"site-packages/urwid/main_loop.py\", line 403, in _update\r\n  File \"site-packages/urwid/main_loop.py\", line 500, in process_input\r\n  File \"mitmproxy/tools/console/window.py\", line 277, in mouse_event\r\n  File \"site-packages/urwid/container.py\", line 1169, in mouse_event\r\n  File \"site-packages/urwid/container.py\", line 1687, in mouse_event\r\n  File \"site-packages/urwid/container.py\", line 1169, in mouse_event\r\n  File \"site-packages/urwid/container.py\", line 1169, in mouse_event\r\n  File \"site-packages/urwid/container.py\", line 1148, in mouse_event\r\n  File \"site-packages/urwid/container.py\", line 2201, in mouse_event\r\n  File \"mitmproxy/tools/console/tabs.py\", line 19, in mouse_event\r\n  File \"mitmproxy/tools/console/tabs.py\", line 34, in change_tab\r\n  File \"mitmproxy/tools/console/tabs.py\", line 73, in show\r\n  File \"mitmproxy/tools/console/flowview.py\", line 86, in view_response\r\n  File \"mitmproxy/tools/console/flowview.py\", line 160, in conn_text\r\n  File \"mitmproxy/command.py\", line 221, in call\r\n  File \"mitmproxy/command.py\", line 212, in call_args\r\n  File \"mitmproxy/command.py\", line 101, in call\r\n  File \"mitmproxy/command.py\", line 251, in wrapper\r\n  File \"mitmproxy/tools/console/consoleaddons.py\", line 514, in flowview_mode\r\nmitmproxy.exceptions.CommandError: Not viewing a flow.\r\n```\r\n\r\n##### Any other comments? What have you tried so far?\r\nI think the problem is mitmproxy lets us to interact with other tab, when focusing on other.\r\nSo, we can click on different stuff in not focused tab by pressing left button of mouse.\r\n\r\nIt is possible due to https://github.com/mitmproxy/mitmproxy/blob/master/mitmproxy/tools/console/tabs.py\r\n(in particular https://github.com/mitmproxy/mitmproxy/blob/master/mitmproxy/tools/console/tabs.py#L17).\r\n\r\n`tabs.Tabs` is the superclass for `HelpView` and `FlowDetails` classes, so the problem is relevant to \"Flow details\" and \"Help\" tabs. Continue to work on it.\r\n\r\n\r\n##### System information\r\n\r\nMitmproxy: 3.0.0.dev1101 (commit d9d4d15) binary\r\nPython:    3.5.2\r\nOpenSSL:   OpenSSL 1.1.0g  2 Nov 2017\r\nPlatform:  Linux-4.4.0-104-generic-x86_64-with-debian-stretch-sid\r\n\r\n  ","closed_by":{"login":"mhils","id":1019198,"node_id":"MDQ6VXNlcjEwMTkxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1019198?v=4","gravatar_id":"","url":"https://api.github.com/users/mhils","html_url":"https://github.com/mhils","followers_url":"https://api.github.com/users/mhils/followers","following_url":"https://api.github.com/users/mhils/following{/other_user}","gists_url":"https://api.github.com/users/mhils/gists{/gist_id}","starred_url":"https://api.github.com/users/mhils/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhils/subscriptions","organizations_url":"https://api.github.com/users/mhils/orgs","repos_url":"https://api.github.com/users/mhils/repos","events_url":"https://api.github.com/users/mhils/events{/privacy}","received_events_url":"https://api.github.com/users/mhils/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/2738/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/2738/timeline","performed_via_github_app":null,"state_reason":"completed"}