[{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/comments/380588770","html_url":"https://github.com/mitmproxy/mitmproxy/issues/3051#issuecomment-380588770","issue_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/3051","id":380588770,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDU4ODc3MA==","user":{"login":"madsmtm","id":10577181,"node_id":"MDQ6VXNlcjEwNTc3MTgx","avatar_url":"https://avatars.githubusercontent.com/u/10577181?v=4","gravatar_id":"","url":"https://api.github.com/users/madsmtm","html_url":"https://github.com/madsmtm","followers_url":"https://api.github.com/users/madsmtm/followers","following_url":"https://api.github.com/users/madsmtm/following{/other_user}","gists_url":"https://api.github.com/users/madsmtm/gists{/gist_id}","starred_url":"https://api.github.com/users/madsmtm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/madsmtm/subscriptions","organizations_url":"https://api.github.com/users/madsmtm/orgs","repos_url":"https://api.github.com/users/madsmtm/repos","events_url":"https://api.github.com/users/madsmtm/events{/privacy}","received_events_url":"https://api.github.com/users/madsmtm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-11T20:41:23Z","updated_at":"2018-04-11T20:41:23Z","body":"Can confirm, on MacOS High Sierra, Windows 10 and Kali Linux (The only linux distribution i had lying around ;) )\r\n\r\n```\r\nMitmproxy: 3.0.4 \r\nPython:    3.6.0\r\nOpenSSL:   OpenSSL 1.1.0h  27 Mar 2018\r\nPlatform:  Darwin-17.4.0-x86_64-i386-64bit\r\n```\r\n\r\n```\r\nMitmproxy: 3.0.4\r\nPython:    3.6.5\r\nOpenSSL:   OpenSSL 1.1.0h  27 Mar 2018\r\nPlatform:  Windows-10-10.0.16299-SP0\r\n```\r\n\r\n```\r\nMitmproxy: 3.0.4 \r\nPython:    3.6.5rc1\r\nOpenSSL:   OpenSSL 1.1.0h  27 Mar 2018\r\nPlatform:  Linux-4.13.0-kali1-amd64-x86_64-with-Kali-kali-rolling-kali-rolling\r\n```","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/comments/380588770/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"madsmtm","id":10577181,"node_id":"MDQ6VXNlcjEwNTc3MTgx","avatar_url":"https://avatars.githubusercontent.com/u/10577181?v=4","gravatar_id":"","url":"https://api.github.com/users/madsmtm","html_url":"https://github.com/madsmtm","followers_url":"https://api.github.com/users/madsmtm/followers","following_url":"https://api.github.com/users/madsmtm/following{/other_user}","gists_url":"https://api.github.com/users/madsmtm/gists{/gist_id}","starred_url":"https://api.github.com/users/madsmtm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/madsmtm/subscriptions","organizations_url":"https://api.github.com/users/madsmtm/orgs","repos_url":"https://api.github.com/users/madsmtm/repos","events_url":"https://api.github.com/users/madsmtm/events{/privacy}","received_events_url":"https://api.github.com/users/madsmtm/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/comments/381288586","html_url":"https://github.com/mitmproxy/mitmproxy/issues/3051#issuecomment-381288586","issue_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/3051","id":381288586,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTI4ODU4Ng==","user":{"login":"cortesi","id":22544,"node_id":"MDQ6VXNlcjIyNTQ0","avatar_url":"https://avatars.githubusercontent.com/u/22544?v=4","gravatar_id":"","url":"https://api.github.com/users/cortesi","html_url":"https://github.com/cortesi","followers_url":"https://api.github.com/users/cortesi/followers","following_url":"https://api.github.com/users/cortesi/following{/other_user}","gists_url":"https://api.github.com/users/cortesi/gists{/gist_id}","starred_url":"https://api.github.com/users/cortesi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cortesi/subscriptions","organizations_url":"https://api.github.com/users/cortesi/orgs","repos_url":"https://api.github.com/users/cortesi/repos","events_url":"https://api.github.com/users/cortesi/events{/privacy}","received_events_url":"https://api.github.com/users/cortesi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-14T00:15:15Z","updated_at":"2018-04-14T00:15:15Z","body":"Hi there. Thanks for the report - this slipped through the cracks in addon option refactoring. Now that our core has been decomposed, we're forced to be super precise about what exactly we mean with the default filter specification to mitmdump. which is a good thing. \r\n\r\n* Filtering when we read a file using the `-r` flag is simple. We set the `readfile_filter` option, each flow loaded from disk is checked, and is skipped if it doesn't match. I've fixed this in #3056. \r\n* When we are streaming flows live, things are trickier. At first glance, the user might expect mitmdump to kill flows that don't match the filter. However, a flow can match the filter specification at any point in its lifecycle as data is added progressively (clientconnect -> requestheaders -> request, etc.). This means we can only conclusively say that a flow *doesn't* match a filter after its last event, by which point it has already been sent and received. This doesn't fly. I think the only sane option here is to make clear this is a *display filter only*, which means we only set the `dumper_filter` option.\r\n* The final case is writing flows to file with the `-w` flag. We need to set the `save_stream_filter` option to cover this. \r\n\r\nIn all, this means the default filter is a shortcut for setting the `readfile_filter`, `dumper_filter` and `save_stream_filter` options. \r\n\r\n\r\n\r\n\r\n\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/comments/381288586/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cortesi","id":22544,"node_id":"MDQ6VXNlcjIyNTQ0","avatar_url":"https://avatars.githubusercontent.com/u/22544?v=4","gravatar_id":"","url":"https://api.github.com/users/cortesi","html_url":"https://github.com/cortesi","followers_url":"https://api.github.com/users/cortesi/followers","following_url":"https://api.github.com/users/cortesi/following{/other_user}","gists_url":"https://api.github.com/users/cortesi/gists{/gist_id}","starred_url":"https://api.github.com/users/cortesi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cortesi/subscriptions","organizations_url":"https://api.github.com/users/cortesi/orgs","repos_url":"https://api.github.com/users/cortesi/repos","events_url":"https://api.github.com/users/cortesi/events{/privacy}","received_events_url":"https://api.github.com/users/cortesi/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1574476879,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDE1NzQ0NzY4Nzk=","url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/events/1574476879","actor":{"login":"cortesi","id":22544,"node_id":"MDQ6VXNlcjIyNTQ0","avatar_url":"https://avatars.githubusercontent.com/u/22544?v=4","gravatar_id":"","url":"https://api.github.com/users/cortesi","html_url":"https://github.com/cortesi","followers_url":"https://api.github.com/users/cortesi/followers","following_url":"https://api.github.com/users/cortesi/following{/other_user}","gists_url":"https://api.github.com/users/cortesi/gists{/gist_id}","starred_url":"https://api.github.com/users/cortesi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cortesi/subscriptions","organizations_url":"https://api.github.com/users/cortesi/orgs","repos_url":"https://api.github.com/users/cortesi/repos","events_url":"https://api.github.com/users/cortesi/events{/privacy}","received_events_url":"https://api.github.com/users/cortesi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"909a02ea0310d3b4ff822d4f3fbc07dd21ad36a1","commit_url":"https://api.github.com/repos/cortesi/mitmproxy/commits/909a02ea0310d3b4ff822d4f3fbc07dd21ad36a1","created_at":"2018-04-14T08:55:59Z","performed_via_github_app":null},{"id":1574719324,"node_id":"MDExOkNsb3NlZEV2ZW50MTU3NDcxOTMyNA==","url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/events/1574719324","actor":{"login":"cortesi","id":22544,"node_id":"MDQ6VXNlcjIyNTQ0","avatar_url":"https://avatars.githubusercontent.com/u/22544?v=4","gravatar_id":"","url":"https://api.github.com/users/cortesi","html_url":"https://github.com/cortesi","followers_url":"https://api.github.com/users/cortesi/followers","following_url":"https://api.github.com/users/cortesi/following{/other_user}","gists_url":"https://api.github.com/users/cortesi/gists{/gist_id}","starred_url":"https://api.github.com/users/cortesi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cortesi/subscriptions","organizations_url":"https://api.github.com/users/cortesi/orgs","repos_url":"https://api.github.com/users/cortesi/repos","events_url":"https://api.github.com/users/cortesi/events{/privacy}","received_events_url":"https://api.github.com/users/cortesi/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"909a02ea0310d3b4ff822d4f3fbc07dd21ad36a1","commit_url":"https://api.github.com/repos/mitmproxy/mitmproxy/commits/909a02ea0310d3b4ff822d4f3fbc07dd21ad36a1","created_at":"2018-04-14T22:03:35Z","state_reason":null,"performed_via_github_app":null},{"id":1588008729,"node_id":"MDE5OkNvbW1lbnREZWxldGVkRXZlbnQxNTg4MDA4NzI5","url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/events/1588008729","actor":{"login":"mitmproxy","id":4652787,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ2NTI3ODc=","avatar_url":"https://avatars.githubusercontent.com/u/4652787?v=4","gravatar_id":"","url":"https://api.github.com/users/mitmproxy","html_url":"https://github.com/mitmproxy","followers_url":"https://api.github.com/users/mitmproxy/followers","following_url":"https://api.github.com/users/mitmproxy/following{/other_user}","gists_url":"https://api.github.com/users/mitmproxy/gists{/gist_id}","starred_url":"https://api.github.com/users/mitmproxy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mitmproxy/subscriptions","organizations_url":"https://api.github.com/users/mitmproxy/orgs","repos_url":"https://api.github.com/users/mitmproxy/repos","events_url":"https://api.github.com/users/mitmproxy/events{/privacy}","received_events_url":"https://api.github.com/users/mitmproxy/received_events","type":"Organization","user_view_type":"public","site_admin":false},"event":"comment_deleted","commit_id":null,"commit_url":null,"created_at":"2018-04-22T21:08:20Z","performed_via_github_app":null}]