[{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/comments/378906500","html_url":"https://github.com/mitmproxy/mitmproxy/issues/3038#issuecomment-378906500","issue_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/3038","id":378906500,"node_id":"MDEyOklzc3VlQ29tbWVudDM3ODkwNjUwMA==","user":{"login":"kam800","id":2962788,"node_id":"MDQ6VXNlcjI5NjI3ODg=","avatar_url":"https://avatars.githubusercontent.com/u/2962788?v=4","gravatar_id":"","url":"https://api.github.com/users/kam800","html_url":"https://github.com/kam800","followers_url":"https://api.github.com/users/kam800/followers","following_url":"https://api.github.com/users/kam800/following{/other_user}","gists_url":"https://api.github.com/users/kam800/gists{/gist_id}","starred_url":"https://api.github.com/users/kam800/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kam800/subscriptions","organizations_url":"https://api.github.com/users/kam800/orgs","repos_url":"https://api.github.com/users/kam800/repos","events_url":"https://api.github.com/users/kam800/events{/privacy}","received_events_url":"https://api.github.com/users/kam800/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-05T11:36:14Z","updated_at":"2018-04-05T11:36:14Z","body":"I thought this was a problem with my servers. Thanks for this workaround üëç ","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/comments/378906500/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"kam800","id":2962788,"node_id":"MDQ6VXNlcjI5NjI3ODg=","avatar_url":"https://avatars.githubusercontent.com/u/2962788?v=4","gravatar_id":"","url":"https://api.github.com/users/kam800","html_url":"https://github.com/kam800","followers_url":"https://api.github.com/users/kam800/followers","following_url":"https://api.github.com/users/kam800/following{/other_user}","gists_url":"https://api.github.com/users/kam800/gists{/gist_id}","starred_url":"https://api.github.com/users/kam800/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kam800/subscriptions","organizations_url":"https://api.github.com/users/kam800/orgs","repos_url":"https://api.github.com/users/kam800/repos","events_url":"https://api.github.com/users/kam800/events{/privacy}","received_events_url":"https://api.github.com/users/kam800/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/comments/378907904","html_url":"https://github.com/mitmproxy/mitmproxy/issues/3038#issuecomment-378907904","issue_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/3038","id":378907904,"node_id":"MDEyOklzc3VlQ29tbWVudDM3ODkwNzkwNA==","user":{"login":"mhils","id":1019198,"node_id":"MDQ6VXNlcjEwMTkxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1019198?v=4","gravatar_id":"","url":"https://api.github.com/users/mhils","html_url":"https://github.com/mhils","followers_url":"https://api.github.com/users/mhils/followers","following_url":"https://api.github.com/users/mhils/following{/other_user}","gists_url":"https://api.github.com/users/mhils/gists{/gist_id}","starred_url":"https://api.github.com/users/mhils/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhils/subscriptions","organizations_url":"https://api.github.com/users/mhils/orgs","repos_url":"https://api.github.com/users/mhils/repos","events_url":"https://api.github.com/users/mhils/events{/privacy}","received_events_url":"https://api.github.com/users/mhils/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-05T11:42:03Z","updated_at":"2018-04-05T11:42:25Z","body":"Thanks for the super useful bug report! We should re-connect in these cases, not sure why we don't do this anymore.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/comments/378907904/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mhils","id":1019198,"node_id":"MDQ6VXNlcjEwMTkxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1019198?v=4","gravatar_id":"","url":"https://api.github.com/users/mhils","html_url":"https://github.com/mhils","followers_url":"https://api.github.com/users/mhils/followers","following_url":"https://api.github.com/users/mhils/following{/other_user}","gists_url":"https://api.github.com/users/mhils/gists{/gist_id}","starred_url":"https://api.github.com/users/mhils/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhils/subscriptions","organizations_url":"https://api.github.com/users/mhils/orgs","repos_url":"https://api.github.com/users/mhils/repos","events_url":"https://api.github.com/users/mhils/events{/privacy}","received_events_url":"https://api.github.com/users/mhils/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"mhils","id":1019198,"node_id":"MDQ6VXNlcjEwMTkxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1019198?v=4","gravatar_id":"","url":"https://api.github.com/users/mhils","html_url":"https://github.com/mhils","followers_url":"https://api.github.com/users/mhils/followers","following_url":"https://api.github.com/users/mhils/following{/other_user}","gists_url":"https://api.github.com/users/mhils/gists{/gist_id}","starred_url":"https://api.github.com/users/mhils/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhils/subscriptions","organizations_url":"https://api.github.com/users/mhils/orgs","repos_url":"https://api.github.com/users/mhils/repos","events_url":"https://api.github.com/users/mhils/events{/privacy}","received_events_url":"https://api.github.com/users/mhils/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-05T11:53:44Z","updated_at":"2018-04-05T11:53:44Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/3043","repository_url":"https://api.github.com/repos/mitmproxy/mitmproxy","labels_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/3043/labels{/name}","comments_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/3043/comments","events_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/3043/events","html_url":"https://github.com/mitmproxy/mitmproxy/issues/3043","id":311579424,"node_id":"MDU6SXNzdWUzMTE1Nzk0MjQ=","number":3043,"title":"Random requests fail with \"Server  disconnected, 502\"","user":{"login":"knlr","id":1219683,"node_id":"MDQ6VXNlcjEyMTk2ODM=","avatar_url":"https://avatars.githubusercontent.com/u/1219683?v=4","gravatar_id":"","url":"https://api.github.com/users/knlr","html_url":"https://github.com/knlr","followers_url":"https://api.github.com/users/knlr/followers","following_url":"https://api.github.com/users/knlr/following{/other_user}","gists_url":"https://api.github.com/users/knlr/gists{/gist_id}","starred_url":"https://api.github.com/users/knlr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/knlr/subscriptions","organizations_url":"https://api.github.com/users/knlr/orgs","repos_url":"https://api.github.com/users/knlr/repos","events_url":"https://api.github.com/users/knlr/events{/privacy}","received_events_url":"https://api.github.com/users/knlr/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-04-05T11:52:20Z","updated_at":"2018-04-05T11:53:45Z","closed_at":"2018-04-05T11:53:44Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":519832,"node_id":"MDEwOlJlcG9zaXRvcnk1MTk4MzI=","name":"mitmproxy","full_name":"mitmproxy/mitmproxy","private":false,"owner":{"login":"mitmproxy","id":4652787,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ2NTI3ODc=","avatar_url":"https://avatars.githubusercontent.com/u/4652787?v=4","gravatar_id":"","url":"https://api.github.com/users/mitmproxy","html_url":"https://github.com/mitmproxy","followers_url":"https://api.github.com/users/mitmproxy/followers","following_url":"https://api.github.com/users/mitmproxy/following{/other_user}","gists_url":"https://api.github.com/users/mitmproxy/gists{/gist_id}","starred_url":"https://api.github.com/users/mitmproxy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mitmproxy/subscriptions","organizations_url":"https://api.github.com/users/mitmproxy/orgs","repos_url":"https://api.github.com/users/mitmproxy/repos","events_url":"https://api.github.com/users/mitmproxy/events{/privacy}","received_events_url":"https://api.github.com/users/mitmproxy/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/mitmproxy/mitmproxy","description":"An interactive TLS-capable intercepting HTTP proxy for penetration testers and software developers.","fork":false,"url":"https://api.github.com/repos/mitmproxy/mitmproxy","forks_url":"https://api.github.com/repos/mitmproxy/mitmproxy/forks","keys_url":"https://api.github.com/repos/mitmproxy/mitmproxy/keys{/key_id}","collaborators_url":"https://api.github.com/repos/mitmproxy/mitmproxy/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/mitmproxy/mitmproxy/teams","hooks_url":"https://api.github.com/repos/mitmproxy/mitmproxy/hooks","issue_events_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/events{/number}","events_url":"https://api.github.com/repos/mitmproxy/mitmproxy/events","assignees_url":"https://api.github.com/repos/mitmproxy/mitmproxy/assignees{/user}","branches_url":"https://api.github.com/repos/mitmproxy/mitmproxy/branches{/branch}","tags_url":"https://api.github.com/repos/mitmproxy/mitmproxy/tags","blobs_url":"https://api.github.com/repos/mitmproxy/mitmproxy/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/mitmproxy/mitmproxy/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/mitmproxy/mitmproxy/git/refs{/sha}","trees_url":"https://api.github.com/repos/mitmproxy/mitmproxy/git/trees{/sha}","statuses_url":"https://api.github.com/repos/mitmproxy/mitmproxy/statuses/{sha}","languages_url":"https://api.github.com/repos/mitmproxy/mitmproxy/languages","stargazers_url":"https://api.github.com/repos/mitmproxy/mitmproxy/stargazers","contributors_url":"https://api.github.com/repos/mitmproxy/mitmproxy/contributors","subscribers_url":"https://api.github.com/repos/mitmproxy/mitmproxy/subscribers","subscription_url":"https://api.github.com/repos/mitmproxy/mitmproxy/subscription","commits_url":"https://api.github.com/repos/mitmproxy/mitmproxy/commits{/sha}","git_commits_url":"https://api.github.com/repos/mitmproxy/mitmproxy/git/commits{/sha}","comments_url":"https://api.github.com/repos/mitmproxy/mitmproxy/comments{/number}","issue_comment_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/comments{/number}","contents_url":"https://api.github.com/repos/mitmproxy/mitmproxy/contents/{+path}","compare_url":"https://api.github.com/repos/mitmproxy/mitmproxy/compare/{base}...{head}","merges_url":"https://api.github.com/repos/mitmproxy/mitmproxy/merges","archive_url":"https://api.github.com/repos/mitmproxy/mitmproxy/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/mitmproxy/mitmproxy/downloads","issues_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues{/number}","pulls_url":"https://api.github.com/repos/mitmproxy/mitmproxy/pulls{/number}","milestones_url":"https://api.github.com/repos/mitmproxy/mitmproxy/milestones{/number}","notifications_url":"https://api.github.com/repos/mitmproxy/mitmproxy/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/mitmproxy/mitmproxy/labels{/name}","releases_url":"https://api.github.com/repos/mitmproxy/mitmproxy/releases{/id}","deployments_url":"https://api.github.com/repos/mitmproxy/mitmproxy/deployments","created_at":"2010-02-16T04:10:13Z","updated_at":"2025-11-09T17:55:49Z","pushed_at":"2025-11-09T14:36:54Z","git_url":"git://github.com/mitmproxy/mitmproxy.git","ssh_url":"git@github.com:mitmproxy/mitmproxy.git","clone_url":"https://github.com/mitmproxy/mitmproxy.git","svn_url":"https://github.com/mitmproxy/mitmproxy","homepage":"https://mitmproxy.org","size":67124,"stargazers_count":41160,"watchers_count":41160,"language":"Python","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":4359,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":387,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["debugging","http","http2","man-in-the-middle","mitmproxy","proxy","python","security","ssl","tls","websocket"],"visibility":"public","forks":4359,"open_issues":387,"watchers":41160,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Random requests (~1 in 5) fail with the above message in the flow list in red.\r\n\r\nThe client receives the following response:\r\n{ Status Code: 502, Headers {\r\n    Connection =     (\r\n        close\r\n    );\r\n    \"Content-Length\" =     (\r\n        256\r\n    );\r\n    \"Content-Type\" =     (\r\n        \"text/html\"\r\n    );\r\n    Server =     (\r\n        \"mitmproxy 3.0.3\"\r\n    );\r\n} }\r\n\r\n\r\n\r\n##### Steps to reproduce the problem:\r\n\r\n1. Use mitmproxy\r\n\r\n\r\n##### Any other comments? What have you tried so far?\r\n\r\nI'm developing iOS apps and have my device pointing to mitmproxy that runs on my Mac.\r\n\r\nTested without mitmproxy and all requests succeed.\r\nTried different web services (apps) and they all fail randomly.\r\n\r\n##### System information\r\n\r\nMitmproxy: 3.0.3 \r\nPython:    3.6.5\r\nOpenSSL:   OpenSSL 1.0.2o  27 Mar 2018\r\nPlatform:  Darwin-17.5.0-x86_64-i386-64bit\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/3043/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/3043/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/comments/378916394","html_url":"https://github.com/mitmproxy/mitmproxy/issues/3038#issuecomment-378916394","issue_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/3038","id":378916394,"node_id":"MDEyOklzc3VlQ29tbWVudDM3ODkxNjM5NA==","user":{"login":"mhils","id":1019198,"node_id":"MDQ6VXNlcjEwMTkxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1019198?v=4","gravatar_id":"","url":"https://api.github.com/users/mhils","html_url":"https://github.com/mhils","followers_url":"https://api.github.com/users/mhils/followers","following_url":"https://api.github.com/users/mhils/following{/other_user}","gists_url":"https://api.github.com/users/mhils/gists{/gist_id}","starred_url":"https://api.github.com/users/mhils/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhils/subscriptions","organizations_url":"https://api.github.com/users/mhils/orgs","repos_url":"https://api.github.com/users/mhils/repos","events_url":"https://api.github.com/users/mhils/events{/privacy}","received_events_url":"https://api.github.com/users/mhils/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-05T12:18:06Z","updated_at":"2018-04-05T12:18:06Z","body":"Ok, I found some easy steps to reproduce this:\r\n\r\n```\r\n$ pathod\r\n$ mitmdump --mode reverse:http://localhost:9999 -vvv\r\n$ pathoc localhost:8080 \"get:'/p/200:da'\" get:/p/200\r\n```","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/comments/378916394/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mhils","id":1019198,"node_id":"MDQ6VXNlcjEwMTkxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1019198?v=4","gravatar_id":"","url":"https://api.github.com/users/mhils","html_url":"https://github.com/mhils","followers_url":"https://api.github.com/users/mhils/followers","following_url":"https://api.github.com/users/mhils/following{/other_user}","gists_url":"https://api.github.com/users/mhils/gists{/gist_id}","starred_url":"https://api.github.com/users/mhils/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhils/subscriptions","organizations_url":"https://api.github.com/users/mhils/orgs","repos_url":"https://api.github.com/users/mhils/repos","events_url":"https://api.github.com/users/mhils/events{/privacy}","received_events_url":"https://api.github.com/users/mhils/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1558603788,"node_id":"MDEyOkxhYmVsZWRFdmVudDE1NTg2MDM3ODg=","url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/events/1558603788","actor":{"login":"mhils","id":1019198,"node_id":"MDQ6VXNlcjEwMTkxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1019198?v=4","gravatar_id":"","url":"https://api.github.com/users/mhils","html_url":"https://github.com/mhils","followers_url":"https://api.github.com/users/mhils/followers","following_url":"https://api.github.com/users/mhils/following{/other_user}","gists_url":"https://api.github.com/users/mhils/gists{/gist_id}","starred_url":"https://api.github.com/users/mhils/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhils/subscriptions","organizations_url":"https://api.github.com/users/mhils/orgs","repos_url":"https://api.github.com/users/mhils/repos","events_url":"https://api.github.com/users/mhils/events{/privacy}","received_events_url":"https://api.github.com/users/mhils/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2018-04-05T12:18:15Z","label":{"name":"kind/bug","color":"d93f0b"},"performed_via_github_app":null},{"id":1558603790,"node_id":"MDEyOkxhYmVsZWRFdmVudDE1NTg2MDM3OTA=","url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/events/1558603790","actor":{"login":"mhils","id":1019198,"node_id":"MDQ6VXNlcjEwMTkxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1019198?v=4","gravatar_id":"","url":"https://api.github.com/users/mhils","html_url":"https://github.com/mhils","followers_url":"https://api.github.com/users/mhils/followers","following_url":"https://api.github.com/users/mhils/following{/other_user}","gists_url":"https://api.github.com/users/mhils/gists{/gist_id}","starred_url":"https://api.github.com/users/mhils/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhils/subscriptions","organizations_url":"https://api.github.com/users/mhils/orgs","repos_url":"https://api.github.com/users/mhils/repos","events_url":"https://api.github.com/users/mhils/events{/privacy}","received_events_url":"https://api.github.com/users/mhils/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2018-04-05T12:18:15Z","label":{"name":"area/protocols","color":"fef2c0"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/comments/378918637","html_url":"https://github.com/mitmproxy/mitmproxy/issues/3038#issuecomment-378918637","issue_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/3038","id":378918637,"node_id":"MDEyOklzc3VlQ29tbWVudDM3ODkxODYzNw==","user":{"login":"mhils","id":1019198,"node_id":"MDQ6VXNlcjEwMTkxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1019198?v=4","gravatar_id":"","url":"https://api.github.com/users/mhils","html_url":"https://github.com/mhils","followers_url":"https://api.github.com/users/mhils/followers","following_url":"https://api.github.com/users/mhils/following{/other_user}","gists_url":"https://api.github.com/users/mhils/gists{/gist_id}","starred_url":"https://api.github.com/users/mhils/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhils/subscriptions","organizations_url":"https://api.github.com/users/mhils/orgs","repos_url":"https://api.github.com/users/mhils/repos","events_url":"https://api.github.com/users/mhils/events{/privacy}","received_events_url":"https://api.github.com/users/mhils/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-05T12:27:21Z","updated_at":"2018-04-05T12:27:21Z","body":"`git bisect` reveals this was broken in https://github.com/mitmproxy/mitmproxy/commit/9e1902be62ba5a6c8d6d1496b3cb18f7deb0e583.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/comments/378918637/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mhils","id":1019198,"node_id":"MDQ6VXNlcjEwMTkxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1019198?v=4","gravatar_id":"","url":"https://api.github.com/users/mhils","html_url":"https://github.com/mhils","followers_url":"https://api.github.com/users/mhils/followers","following_url":"https://api.github.com/users/mhils/following{/other_user}","gists_url":"https://api.github.com/users/mhils/gists{/gist_id}","starred_url":"https://api.github.com/users/mhils/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhils/subscriptions","organizations_url":"https://api.github.com/users/mhils/orgs","repos_url":"https://api.github.com/users/mhils/repos","events_url":"https://api.github.com/users/mhils/events{/privacy}","received_events_url":"https://api.github.com/users/mhils/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1558700350,"node_id":"MDEzOkFzc2lnbmVkRXZlbnQxNTU4NzAwMzUw","url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/events/1558700350","actor":{"login":"mhils","id":1019198,"node_id":"MDQ6VXNlcjEwMTkxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1019198?v=4","gravatar_id":"","url":"https://api.github.com/users/mhils","html_url":"https://github.com/mhils","followers_url":"https://api.github.com/users/mhils/followers","following_url":"https://api.github.com/users/mhils/following{/other_user}","gists_url":"https://api.github.com/users/mhils/gists{/gist_id}","starred_url":"https://api.github.com/users/mhils/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhils/subscriptions","organizations_url":"https://api.github.com/users/mhils/orgs","repos_url":"https://api.github.com/users/mhils/repos","events_url":"https://api.github.com/users/mhils/events{/privacy}","received_events_url":"https://api.github.com/users/mhils/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2018-04-05T13:07:56Z","assignee":{"login":"mhils","id":1019198,"node_id":"MDQ6VXNlcjEwMTkxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1019198?v=4","gravatar_id":"","url":"https://api.github.com/users/mhils","html_url":"https://github.com/mhils","followers_url":"https://api.github.com/users/mhils/followers","following_url":"https://api.github.com/users/mhils/following{/other_user}","gists_url":"https://api.github.com/users/mhils/gists{/gist_id}","starred_url":"https://api.github.com/users/mhils/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhils/subscriptions","organizations_url":"https://api.github.com/users/mhils/orgs","repos_url":"https://api.github.com/users/mhils/repos","events_url":"https://api.github.com/users/mhils/events{/privacy}","received_events_url":"https://api.github.com/users/mhils/received_events","type":"User","user_view_type":"public","site_admin":false},"performed_via_github_app":null},{"id":1558750810,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDE1NTg3NTA4MTA=","url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/events/1558750810","actor":{"login":"mhils","id":1019198,"node_id":"MDQ6VXNlcjEwMTkxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1019198?v=4","gravatar_id":"","url":"https://api.github.com/users/mhils","html_url":"https://github.com/mhils","followers_url":"https://api.github.com/users/mhils/followers","following_url":"https://api.github.com/users/mhils/following{/other_user}","gists_url":"https://api.github.com/users/mhils/gists{/gist_id}","starred_url":"https://api.github.com/users/mhils/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhils/subscriptions","organizations_url":"https://api.github.com/users/mhils/orgs","repos_url":"https://api.github.com/users/mhils/repos","events_url":"https://api.github.com/users/mhils/events{/privacy}","received_events_url":"https://api.github.com/users/mhils/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"50ea3aa420588d67acc17022a9824e819d22c4b1","commit_url":"https://api.github.com/repos/mhils/mitmproxy/commits/50ea3aa420588d67acc17022a9824e819d22c4b1","created_at":"2018-04-05T13:30:54Z","performed_via_github_app":null},{"actor":{"login":"mhils","id":1019198,"node_id":"MDQ6VXNlcjEwMTkxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1019198?v=4","gravatar_id":"","url":"https://api.github.com/users/mhils","html_url":"https://github.com/mhils","followers_url":"https://api.github.com/users/mhils/followers","following_url":"https://api.github.com/users/mhils/following{/other_user}","gists_url":"https://api.github.com/users/mhils/gists{/gist_id}","starred_url":"https://api.github.com/users/mhils/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhils/subscriptions","organizations_url":"https://api.github.com/users/mhils/orgs","repos_url":"https://api.github.com/users/mhils/repos","events_url":"https://api.github.com/users/mhils/events{/privacy}","received_events_url":"https://api.github.com/users/mhils/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-05T13:32:27Z","updated_at":"2018-04-05T13:32:27Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/3044","repository_url":"https://api.github.com/repos/mitmproxy/mitmproxy","labels_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/3044/labels{/name}","comments_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/3044/comments","events_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/3044/events","html_url":"https://github.com/mitmproxy/mitmproxy/pull/3044","id":311611792,"node_id":"MDExOlB1bGxSZXF1ZXN0MTc5Njc3MjMy","number":3044,"title":"fix http retry timeout","user":{"login":"mhils","id":1019198,"node_id":"MDQ6VXNlcjEwMTkxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1019198?v=4","gravatar_id":"","url":"https://api.github.com/users/mhils","html_url":"https://github.com/mhils","followers_url":"https://api.github.com/users/mhils/followers","following_url":"https://api.github.com/users/mhils/following{/other_user}","gists_url":"https://api.github.com/users/mhils/gists{/gist_id}","starred_url":"https://api.github.com/users/mhils/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhils/subscriptions","organizations_url":"https://api.github.com/users/mhils/orgs","repos_url":"https://api.github.com/users/mhils/repos","events_url":"https://api.github.com/users/mhils/events{/privacy}","received_events_url":"https://api.github.com/users/mhils/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-04-05T13:32:27Z","updated_at":"2018-04-05T14:00:20Z","closed_at":"2018-04-05T13:45:20Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":519832,"node_id":"MDEwOlJlcG9zaXRvcnk1MTk4MzI=","name":"mitmproxy","full_name":"mitmproxy/mitmproxy","private":false,"owner":{"login":"mitmproxy","id":4652787,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ2NTI3ODc=","avatar_url":"https://avatars.githubusercontent.com/u/4652787?v=4","gravatar_id":"","url":"https://api.github.com/users/mitmproxy","html_url":"https://github.com/mitmproxy","followers_url":"https://api.github.com/users/mitmproxy/followers","following_url":"https://api.github.com/users/mitmproxy/following{/other_user}","gists_url":"https://api.github.com/users/mitmproxy/gists{/gist_id}","starred_url":"https://api.github.com/users/mitmproxy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mitmproxy/subscriptions","organizations_url":"https://api.github.com/users/mitmproxy/orgs","repos_url":"https://api.github.com/users/mitmproxy/repos","events_url":"https://api.github.com/users/mitmproxy/events{/privacy}","received_events_url":"https://api.github.com/users/mitmproxy/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/mitmproxy/mitmproxy","description":"An interactive TLS-capable intercepting HTTP proxy for penetration testers and software developers.","fork":false,"url":"https://api.github.com/repos/mitmproxy/mitmproxy","forks_url":"https://api.github.com/repos/mitmproxy/mitmproxy/forks","keys_url":"https://api.github.com/repos/mitmproxy/mitmproxy/keys{/key_id}","collaborators_url":"https://api.github.com/repos/mitmproxy/mitmproxy/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/mitmproxy/mitmproxy/teams","hooks_url":"https://api.github.com/repos/mitmproxy/mitmproxy/hooks","issue_events_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/events{/number}","events_url":"https://api.github.com/repos/mitmproxy/mitmproxy/events","assignees_url":"https://api.github.com/repos/mitmproxy/mitmproxy/assignees{/user}","branches_url":"https://api.github.com/repos/mitmproxy/mitmproxy/branches{/branch}","tags_url":"https://api.github.com/repos/mitmproxy/mitmproxy/tags","blobs_url":"https://api.github.com/repos/mitmproxy/mitmproxy/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/mitmproxy/mitmproxy/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/mitmproxy/mitmproxy/git/refs{/sha}","trees_url":"https://api.github.com/repos/mitmproxy/mitmproxy/git/trees{/sha}","statuses_url":"https://api.github.com/repos/mitmproxy/mitmproxy/statuses/{sha}","languages_url":"https://api.github.com/repos/mitmproxy/mitmproxy/languages","stargazers_url":"https://api.github.com/repos/mitmproxy/mitmproxy/stargazers","contributors_url":"https://api.github.com/repos/mitmproxy/mitmproxy/contributors","subscribers_url":"https://api.github.com/repos/mitmproxy/mitmproxy/subscribers","subscription_url":"https://api.github.com/repos/mitmproxy/mitmproxy/subscription","commits_url":"https://api.github.com/repos/mitmproxy/mitmproxy/commits{/sha}","git_commits_url":"https://api.github.com/repos/mitmproxy/mitmproxy/git/commits{/sha}","comments_url":"https://api.github.com/repos/mitmproxy/mitmproxy/comments{/number}","issue_comment_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/comments{/number}","contents_url":"https://api.github.com/repos/mitmproxy/mitmproxy/contents/{+path}","compare_url":"https://api.github.com/repos/mitmproxy/mitmproxy/compare/{base}...{head}","merges_url":"https://api.github.com/repos/mitmproxy/mitmproxy/merges","archive_url":"https://api.github.com/repos/mitmproxy/mitmproxy/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/mitmproxy/mitmproxy/downloads","issues_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues{/number}","pulls_url":"https://api.github.com/repos/mitmproxy/mitmproxy/pulls{/number}","milestones_url":"https://api.github.com/repos/mitmproxy/mitmproxy/milestones{/number}","notifications_url":"https://api.github.com/repos/mitmproxy/mitmproxy/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/mitmproxy/mitmproxy/labels{/name}","releases_url":"https://api.github.com/repos/mitmproxy/mitmproxy/releases{/id}","deployments_url":"https://api.github.com/repos/mitmproxy/mitmproxy/deployments","created_at":"2010-02-16T04:10:13Z","updated_at":"2025-11-09T17:55:49Z","pushed_at":"2025-11-09T14:36:54Z","git_url":"git://github.com/mitmproxy/mitmproxy.git","ssh_url":"git@github.com:mitmproxy/mitmproxy.git","clone_url":"https://github.com/mitmproxy/mitmproxy.git","svn_url":"https://github.com/mitmproxy/mitmproxy","homepage":"https://mitmproxy.org","size":67124,"stargazers_count":41160,"watchers_count":41160,"language":"Python","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":4359,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":387,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["debugging","http","http2","man-in-the-middle","mitmproxy","proxy","python","security","ssl","tls","websocket"],"visibility":"public","forks":4359,"open_issues":387,"watchers":41160,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/pulls/3044","html_url":"https://github.com/mitmproxy/mitmproxy/pull/3044","diff_url":"https://github.com/mitmproxy/mitmproxy/pull/3044.diff","patch_url":"https://github.com/mitmproxy/mitmproxy/pull/3044.patch","merged_at":"2018-04-05T13:45:19Z"},"body":"This fixes #3038. The problem with the old implementation is that `self.send_request_headers(f.request)` may not raise, which makes us fail in scenarios where we shouldn't.\r\n\r\nIf this is successful, we should roll a 3.0.x patch release.","reactions":{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/3044/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/3044/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":1558785591,"node_id":"MDExOkNsb3NlZEV2ZW50MTU1ODc4NTU5MQ==","url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/events/1558785591","actor":{"login":"mhils","id":1019198,"node_id":"MDQ6VXNlcjEwMTkxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1019198?v=4","gravatar_id":"","url":"https://api.github.com/users/mhils","html_url":"https://github.com/mhils","followers_url":"https://api.github.com/users/mhils/followers","following_url":"https://api.github.com/users/mhils/following{/other_user}","gists_url":"https://api.github.com/users/mhils/gists{/gist_id}","starred_url":"https://api.github.com/users/mhils/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhils/subscriptions","organizations_url":"https://api.github.com/users/mhils/orgs","repos_url":"https://api.github.com/users/mhils/repos","events_url":"https://api.github.com/users/mhils/events{/privacy}","received_events_url":"https://api.github.com/users/mhils/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2018-04-05T13:45:19Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/comments/378943843","html_url":"https://github.com/mitmproxy/mitmproxy/issues/3038#issuecomment-378943843","issue_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/3038","id":378943843,"node_id":"MDEyOklzc3VlQ29tbWVudDM3ODk0Mzg0Mw==","user":{"login":"abridgett","id":1436440,"node_id":"MDQ6VXNlcjE0MzY0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/1436440?v=4","gravatar_id":"","url":"https://api.github.com/users/abridgett","html_url":"https://github.com/abridgett","followers_url":"https://api.github.com/users/abridgett/followers","following_url":"https://api.github.com/users/abridgett/following{/other_user}","gists_url":"https://api.github.com/users/abridgett/gists{/gist_id}","starred_url":"https://api.github.com/users/abridgett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abridgett/subscriptions","organizations_url":"https://api.github.com/users/abridgett/orgs","repos_url":"https://api.github.com/users/abridgett/repos","events_url":"https://api.github.com/users/abridgett/events{/privacy}","received_events_url":"https://api.github.com/users/abridgett/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-05T13:53:21Z","updated_at":"2018-04-05T13:53:21Z","body":"wow, that was super speedy!  Almost disappointing that I'll have to remove my workaround so quickly :)","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/comments/378943843/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"abridgett","id":1436440,"node_id":"MDQ6VXNlcjE0MzY0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/1436440?v=4","gravatar_id":"","url":"https://api.github.com/users/abridgett","html_url":"https://github.com/abridgett","followers_url":"https://api.github.com/users/abridgett/followers","following_url":"https://api.github.com/users/abridgett/following{/other_user}","gists_url":"https://api.github.com/users/abridgett/gists{/gist_id}","starred_url":"https://api.github.com/users/abridgett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abridgett/subscriptions","organizations_url":"https://api.github.com/users/abridgett/orgs","repos_url":"https://api.github.com/users/abridgett/repos","events_url":"https://api.github.com/users/abridgett/events{/privacy}","received_events_url":"https://api.github.com/users/abridgett/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1558860557,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDE1NTg4NjA1NTc=","url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/events/1558860557","actor":{"login":"mhils","id":1019198,"node_id":"MDQ6VXNlcjEwMTkxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1019198?v=4","gravatar_id":"","url":"https://api.github.com/users/mhils","html_url":"https://github.com/mhils","followers_url":"https://api.github.com/users/mhils/followers","following_url":"https://api.github.com/users/mhils/following{/other_user}","gists_url":"https://api.github.com/users/mhils/gists{/gist_id}","starred_url":"https://api.github.com/users/mhils/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhils/subscriptions","organizations_url":"https://api.github.com/users/mhils/orgs","repos_url":"https://api.github.com/users/mhils/repos","events_url":"https://api.github.com/users/mhils/events{/privacy}","received_events_url":"https://api.github.com/users/mhils/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"1d0113c4ef905cb5bd7105faa73964425f2f0e7b","commit_url":"https://api.github.com/repos/mhils/mitmproxy/commits/1d0113c4ef905cb5bd7105faa73964425f2f0e7b","created_at":"2018-04-05T14:15:47Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/comments/378963644","html_url":"https://github.com/mitmproxy/mitmproxy/issues/3038#issuecomment-378963644","issue_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/3038","id":378963644,"node_id":"MDEyOklzc3VlQ29tbWVudDM3ODk2MzY0NA==","user":{"login":"mhils","id":1019198,"node_id":"MDQ6VXNlcjEwMTkxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1019198?v=4","gravatar_id":"","url":"https://api.github.com/users/mhils","html_url":"https://github.com/mhils","followers_url":"https://api.github.com/users/mhils/followers","following_url":"https://api.github.com/users/mhils/following{/other_user}","gists_url":"https://api.github.com/users/mhils/gists{/gist_id}","starred_url":"https://api.github.com/users/mhils/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhils/subscriptions","organizations_url":"https://api.github.com/users/mhils/orgs","repos_url":"https://api.github.com/users/mhils/repos","events_url":"https://api.github.com/users/mhils/events{/privacy}","received_events_url":"https://api.github.com/users/mhils/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-05T14:51:25Z","updated_at":"2018-04-05T14:51:25Z","body":"Thanks again for the great report. There have been quite many reports regarding 502 errors, and e.g. @alekseynp helped a lot in #3003. I wasn't sure on the root cause for now though, your report helped a lot. If everything goes as planned, we'll ship a 3.0.4 bugfix release in an hour.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/comments/378963644/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mhils","id":1019198,"node_id":"MDQ6VXNlcjEwMTkxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1019198?v=4","gravatar_id":"","url":"https://api.github.com/users/mhils","html_url":"https://github.com/mhils","followers_url":"https://api.github.com/users/mhils/followers","following_url":"https://api.github.com/users/mhils/following{/other_user}","gists_url":"https://api.github.com/users/mhils/gists{/gist_id}","starred_url":"https://api.github.com/users/mhils/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhils/subscriptions","organizations_url":"https://api.github.com/users/mhils/orgs","repos_url":"https://api.github.com/users/mhils/repos","events_url":"https://api.github.com/users/mhils/events{/privacy}","received_events_url":"https://api.github.com/users/mhils/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1558950186,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTU1ODk1MDE4Ng==","url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/events/1558950186","actor":{"login":"alekseynp","id":4382608,"node_id":"MDQ6VXNlcjQzODI2MDg=","avatar_url":"https://avatars.githubusercontent.com/u/4382608?v=4","gravatar_id":"","url":"https://api.github.com/users/alekseynp","html_url":"https://github.com/alekseynp","followers_url":"https://api.github.com/users/alekseynp/followers","following_url":"https://api.github.com/users/alekseynp/following{/other_user}","gists_url":"https://api.github.com/users/alekseynp/gists{/gist_id}","starred_url":"https://api.github.com/users/alekseynp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alekseynp/subscriptions","organizations_url":"https://api.github.com/users/alekseynp/orgs","repos_url":"https://api.github.com/users/alekseynp/repos","events_url":"https://api.github.com/users/alekseynp/events{/privacy}","received_events_url":"https://api.github.com/users/alekseynp/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-04-05T14:51:25Z","performed_via_github_app":null},{"id":1558950188,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE1NTg5NTAxODg=","url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/events/1558950188","actor":{"login":"alekseynp","id":4382608,"node_id":"MDQ6VXNlcjQzODI2MDg=","avatar_url":"https://avatars.githubusercontent.com/u/4382608?v=4","gravatar_id":"","url":"https://api.github.com/users/alekseynp","html_url":"https://github.com/alekseynp","followers_url":"https://api.github.com/users/alekseynp/followers","following_url":"https://api.github.com/users/alekseynp/following{/other_user}","gists_url":"https://api.github.com/users/alekseynp/gists{/gist_id}","starred_url":"https://api.github.com/users/alekseynp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alekseynp/subscriptions","organizations_url":"https://api.github.com/users/alekseynp/orgs","repos_url":"https://api.github.com/users/alekseynp/repos","events_url":"https://api.github.com/users/alekseynp/events{/privacy}","received_events_url":"https://api.github.com/users/alekseynp/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-04-05T14:51:25Z","performed_via_github_app":null},{"id":1558964818,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDE1NTg5NjQ4MTg=","url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/events/1558964818","actor":{"login":"mhils","id":1019198,"node_id":"MDQ6VXNlcjEwMTkxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1019198?v=4","gravatar_id":"","url":"https://api.github.com/users/mhils","html_url":"https://github.com/mhils","followers_url":"https://api.github.com/users/mhils/followers","following_url":"https://api.github.com/users/mhils/following{/other_user}","gists_url":"https://api.github.com/users/mhils/gists{/gist_id}","starred_url":"https://api.github.com/users/mhils/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhils/subscriptions","organizations_url":"https://api.github.com/users/mhils/orgs","repos_url":"https://api.github.com/users/mhils/repos","events_url":"https://api.github.com/users/mhils/events{/privacy}","received_events_url":"https://api.github.com/users/mhils/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"8f2bc6d352de63eb42fdd00d5b237776399d4bfd","commit_url":"https://api.github.com/repos/mhils/mitmproxy/commits/8f2bc6d352de63eb42fdd00d5b237776399d4bfd","created_at":"2018-04-05T14:57:13Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/comments/378995771","html_url":"https://github.com/mitmproxy/mitmproxy/issues/3038#issuecomment-378995771","issue_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/3038","id":378995771,"node_id":"MDEyOklzc3VlQ29tbWVudDM3ODk5NTc3MQ==","user":{"login":"mhils","id":1019198,"node_id":"MDQ6VXNlcjEwMTkxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1019198?v=4","gravatar_id":"","url":"https://api.github.com/users/mhils","html_url":"https://github.com/mhils","followers_url":"https://api.github.com/users/mhils/followers","following_url":"https://api.github.com/users/mhils/following{/other_user}","gists_url":"https://api.github.com/users/mhils/gists{/gist_id}","starred_url":"https://api.github.com/users/mhils/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhils/subscriptions","organizations_url":"https://api.github.com/users/mhils/orgs","repos_url":"https://api.github.com/users/mhils/repos","events_url":"https://api.github.com/users/mhils/events{/privacy}","received_events_url":"https://api.github.com/users/mhils/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-05T16:27:46Z","updated_at":"2018-04-05T16:27:46Z","body":"We just released mitmproxy 3.0.4, which includes a whole bunch of bugfixes but most importantly should fix this issue. Thanks again for reporting this, everyone! üòÉ ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/comments/378995771/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mhils","id":1019198,"node_id":"MDQ6VXNlcjEwMTkxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1019198?v=4","gravatar_id":"","url":"https://api.github.com/users/mhils","html_url":"https://github.com/mhils","followers_url":"https://api.github.com/users/mhils/followers","following_url":"https://api.github.com/users/mhils/following{/other_user}","gists_url":"https://api.github.com/users/mhils/gists{/gist_id}","starred_url":"https://api.github.com/users/mhils/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhils/subscriptions","organizations_url":"https://api.github.com/users/mhils/orgs","repos_url":"https://api.github.com/users/mhils/repos","events_url":"https://api.github.com/users/mhils/events{/privacy}","received_events_url":"https://api.github.com/users/mhils/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"mhils","id":1019198,"node_id":"MDQ6VXNlcjEwMTkxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1019198?v=4","gravatar_id":"","url":"https://api.github.com/users/mhils","html_url":"https://github.com/mhils","followers_url":"https://api.github.com/users/mhils/followers","following_url":"https://api.github.com/users/mhils/following{/other_user}","gists_url":"https://api.github.com/users/mhils/gists{/gist_id}","starred_url":"https://api.github.com/users/mhils/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhils/subscriptions","organizations_url":"https://api.github.com/users/mhils/orgs","repos_url":"https://api.github.com/users/mhils/repos","events_url":"https://api.github.com/users/mhils/events{/privacy}","received_events_url":"https://api.github.com/users/mhils/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-05T16:28:26Z","updated_at":"2018-04-05T16:28:26Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/3036","repository_url":"https://api.github.com/repos/mitmproxy/mitmproxy","labels_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/3036/labels{/name}","comments_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/3036/comments","events_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/3036/events","html_url":"https://github.com/mitmproxy/mitmproxy/issues/3036","id":311126432,"node_id":"MDU6SXNzdWUzMTExMjY0MzI=","number":3036,"title":"502 server disconnected response, SSL","user":{"login":"dsultanr","id":1683476,"node_id":"MDQ6VXNlcjE2ODM0NzY=","avatar_url":"https://avatars.githubusercontent.com/u/1683476?v=4","gravatar_id":"","url":"https://api.github.com/users/dsultanr","html_url":"https://github.com/dsultanr","followers_url":"https://api.github.com/users/dsultanr/followers","following_url":"https://api.github.com/users/dsultanr/following{/other_user}","gists_url":"https://api.github.com/users/dsultanr/gists{/gist_id}","starred_url":"https://api.github.com/users/dsultanr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsultanr/subscriptions","organizations_url":"https://api.github.com/users/dsultanr/orgs","repos_url":"https://api.github.com/users/dsultanr/repos","events_url":"https://api.github.com/users/dsultanr/events{/privacy}","received_events_url":"https://api.github.com/users/dsultanr/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-04-04T08:09:24Z","updated_at":"2018-04-05T17:50:33Z","closed_at":"2018-04-05T16:28:26Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":519832,"node_id":"MDEwOlJlcG9zaXRvcnk1MTk4MzI=","name":"mitmproxy","full_name":"mitmproxy/mitmproxy","private":false,"owner":{"login":"mitmproxy","id":4652787,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ2NTI3ODc=","avatar_url":"https://avatars.githubusercontent.com/u/4652787?v=4","gravatar_id":"","url":"https://api.github.com/users/mitmproxy","html_url":"https://github.com/mitmproxy","followers_url":"https://api.github.com/users/mitmproxy/followers","following_url":"https://api.github.com/users/mitmproxy/following{/other_user}","gists_url":"https://api.github.com/users/mitmproxy/gists{/gist_id}","starred_url":"https://api.github.com/users/mitmproxy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mitmproxy/subscriptions","organizations_url":"https://api.github.com/users/mitmproxy/orgs","repos_url":"https://api.github.com/users/mitmproxy/repos","events_url":"https://api.github.com/users/mitmproxy/events{/privacy}","received_events_url":"https://api.github.com/users/mitmproxy/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/mitmproxy/mitmproxy","description":"An interactive TLS-capable intercepting HTTP proxy for penetration testers and software developers.","fork":false,"url":"https://api.github.com/repos/mitmproxy/mitmproxy","forks_url":"https://api.github.com/repos/mitmproxy/mitmproxy/forks","keys_url":"https://api.github.com/repos/mitmproxy/mitmproxy/keys{/key_id}","collaborators_url":"https://api.github.com/repos/mitmproxy/mitmproxy/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/mitmproxy/mitmproxy/teams","hooks_url":"https://api.github.com/repos/mitmproxy/mitmproxy/hooks","issue_events_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/events{/number}","events_url":"https://api.github.com/repos/mitmproxy/mitmproxy/events","assignees_url":"https://api.github.com/repos/mitmproxy/mitmproxy/assignees{/user}","branches_url":"https://api.github.com/repos/mitmproxy/mitmproxy/branches{/branch}","tags_url":"https://api.github.com/repos/mitmproxy/mitmproxy/tags","blobs_url":"https://api.github.com/repos/mitmproxy/mitmproxy/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/mitmproxy/mitmproxy/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/mitmproxy/mitmproxy/git/refs{/sha}","trees_url":"https://api.github.com/repos/mitmproxy/mitmproxy/git/trees{/sha}","statuses_url":"https://api.github.com/repos/mitmproxy/mitmproxy/statuses/{sha}","languages_url":"https://api.github.com/repos/mitmproxy/mitmproxy/languages","stargazers_url":"https://api.github.com/repos/mitmproxy/mitmproxy/stargazers","contributors_url":"https://api.github.com/repos/mitmproxy/mitmproxy/contributors","subscribers_url":"https://api.github.com/repos/mitmproxy/mitmproxy/subscribers","subscription_url":"https://api.github.com/repos/mitmproxy/mitmproxy/subscription","commits_url":"https://api.github.com/repos/mitmproxy/mitmproxy/commits{/sha}","git_commits_url":"https://api.github.com/repos/mitmproxy/mitmproxy/git/commits{/sha}","comments_url":"https://api.github.com/repos/mitmproxy/mitmproxy/comments{/number}","issue_comment_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/comments{/number}","contents_url":"https://api.github.com/repos/mitmproxy/mitmproxy/contents/{+path}","compare_url":"https://api.github.com/repos/mitmproxy/mitmproxy/compare/{base}...{head}","merges_url":"https://api.github.com/repos/mitmproxy/mitmproxy/merges","archive_url":"https://api.github.com/repos/mitmproxy/mitmproxy/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/mitmproxy/mitmproxy/downloads","issues_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues{/number}","pulls_url":"https://api.github.com/repos/mitmproxy/mitmproxy/pulls{/number}","milestones_url":"https://api.github.com/repos/mitmproxy/mitmproxy/milestones{/number}","notifications_url":"https://api.github.com/repos/mitmproxy/mitmproxy/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/mitmproxy/mitmproxy/labels{/name}","releases_url":"https://api.github.com/repos/mitmproxy/mitmproxy/releases{/id}","deployments_url":"https://api.github.com/repos/mitmproxy/mitmproxy/deployments","created_at":"2010-02-16T04:10:13Z","updated_at":"2025-11-09T17:55:49Z","pushed_at":"2025-11-09T14:36:54Z","git_url":"git://github.com/mitmproxy/mitmproxy.git","ssh_url":"git@github.com:mitmproxy/mitmproxy.git","clone_url":"https://github.com/mitmproxy/mitmproxy.git","svn_url":"https://github.com/mitmproxy/mitmproxy","homepage":"https://mitmproxy.org","size":67124,"stargazers_count":41160,"watchers_count":41160,"language":"Python","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":4359,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":387,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["debugging","http","http2","man-in-the-middle","mitmproxy","proxy","python","security","ssl","tls","websocket"],"visibility":"public","forks":4359,"open_issues":387,"watchers":41160,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"##### Steps to reproduce the problem:\r\n\r\n1. the request must be repeated a few times (page reload), 10-15 times in chrome (mine is chromium 65.0.3325.181)\r\n\r\nhttps://search.tez-tour.com/tariffsearch/refs?callback=jsonp1522770924501&_=1522770924725&locale=ru&rfCityId=345\r\n\r\ncould be also reproduced on another host and url (ssl only)\r\nalso I can't reproduce the issue by curl\r\n\r\nHAR:\r\n[dump.har.txt](https://github.com/mitmproxy/mitmproxy/files/1874875/dump.har.txt)\r\n\r\npcap key \r\n`CLIENT_RANDOM 73c073fb0b36203e0804d5b106daa69e827a28b8727d8f76636cf8a59a6dd729 595b421c229a47c77e5c44386070e1c630b6f249579479c38e14a334a44abb0b523dee9321cb11d1a498ae7ec74d8522`\r\n\r\npcap from tcpdump is attached\r\nthere are a few successful requests and last one is unsuccessful in pcap\r\n[capture.zip](https://github.com/mitmproxy/mitmproxy/files/1874777/capture.zip)\r\n\r\nchrome://net-internals output\r\n[chrome-net-internals.txt](https://github.com/mitmproxy/mitmproxy/files/1874879/chrome-net-internals.txt)\r\n\r\n\r\nfinally mitmdump -v output\r\n[mitmdump0404.log](https://github.com/mitmproxy/mitmproxy/files/1874881/mitmdump0404.log)\r\n\r\n\r\n##### System information\r\nMitmproxy: 3.0.3\r\nPython:    3.6.4\r\nOpenSSL:   OpenSSL 1.1.0g  2 Nov 2017\r\nPlatform:  Linux-3.10.0-693.17.1.el7.x86_64-x86_64-with-centos-7.4.1708-Core\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/3036/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/3036/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"mhils","id":1019198,"node_id":"MDQ6VXNlcjEwMTkxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1019198?v=4","gravatar_id":"","url":"https://api.github.com/users/mhils","html_url":"https://github.com/mhils","followers_url":"https://api.github.com/users/mhils/followers","following_url":"https://api.github.com/users/mhils/following{/other_user}","gists_url":"https://api.github.com/users/mhils/gists{/gist_id}","starred_url":"https://api.github.com/users/mhils/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhils/subscriptions","organizations_url":"https://api.github.com/users/mhils/orgs","repos_url":"https://api.github.com/users/mhils/repos","events_url":"https://api.github.com/users/mhils/events{/privacy}","received_events_url":"https://api.github.com/users/mhils/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-05T17:39:44Z","updated_at":"2018-04-05T17:39:44Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/3003","repository_url":"https://api.github.com/repos/mitmproxy/mitmproxy","labels_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/3003/labels{/name}","comments_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/3003/comments","events_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/3003/events","html_url":"https://github.com/mitmproxy/mitmproxy/issues/3003","id":306736540,"node_id":"MDU6SXNzdWUzMDY3MzY1NDA=","number":3003,"title":"Chrome HTTPS TlsException(\"(-1, \\'Unexpected EOF\\')\",) TlsException(\"(104, \\'ECONNRESET\\')\",)","user":{"login":"alekseynp","id":4382608,"node_id":"MDQ6VXNlcjQzODI2MDg=","avatar_url":"https://avatars.githubusercontent.com/u/4382608?v=4","gravatar_id":"","url":"https://api.github.com/users/alekseynp","html_url":"https://github.com/alekseynp","followers_url":"https://api.github.com/users/alekseynp/followers","following_url":"https://api.github.com/users/alekseynp/following{/other_user}","gists_url":"https://api.github.com/users/alekseynp/gists{/gist_id}","starred_url":"https://api.github.com/users/alekseynp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alekseynp/subscriptions","organizations_url":"https://api.github.com/users/alekseynp/orgs","repos_url":"https://api.github.com/users/alekseynp/repos","events_url":"https://api.github.com/users/alekseynp/events{/privacy}","received_events_url":"https://api.github.com/users/alekseynp/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":466930397,"node_id":"MDU6TGFiZWw0NjY5MzAzOTc=","url":"https://api.github.com/repos/mitmproxy/mitmproxy/labels/kind/triage","name":"kind/triage","color":"006b75","default":false,"description":"Unclassified issues"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":13,"created_at":"2018-03-20T05:45:13Z","updated_at":"2018-04-05T17:39:44Z","closed_at":"2018-04-05T17:39:44Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":519832,"node_id":"MDEwOlJlcG9zaXRvcnk1MTk4MzI=","name":"mitmproxy","full_name":"mitmproxy/mitmproxy","private":false,"owner":{"login":"mitmproxy","id":4652787,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ2NTI3ODc=","avatar_url":"https://avatars.githubusercontent.com/u/4652787?v=4","gravatar_id":"","url":"https://api.github.com/users/mitmproxy","html_url":"https://github.com/mitmproxy","followers_url":"https://api.github.com/users/mitmproxy/followers","following_url":"https://api.github.com/users/mitmproxy/following{/other_user}","gists_url":"https://api.github.com/users/mitmproxy/gists{/gist_id}","starred_url":"https://api.github.com/users/mitmproxy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mitmproxy/subscriptions","organizations_url":"https://api.github.com/users/mitmproxy/orgs","repos_url":"https://api.github.com/users/mitmproxy/repos","events_url":"https://api.github.com/users/mitmproxy/events{/privacy}","received_events_url":"https://api.github.com/users/mitmproxy/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/mitmproxy/mitmproxy","description":"An interactive TLS-capable intercepting HTTP proxy for penetration testers and software developers.","fork":false,"url":"https://api.github.com/repos/mitmproxy/mitmproxy","forks_url":"https://api.github.com/repos/mitmproxy/mitmproxy/forks","keys_url":"https://api.github.com/repos/mitmproxy/mitmproxy/keys{/key_id}","collaborators_url":"https://api.github.com/repos/mitmproxy/mitmproxy/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/mitmproxy/mitmproxy/teams","hooks_url":"https://api.github.com/repos/mitmproxy/mitmproxy/hooks","issue_events_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/events{/number}","events_url":"https://api.github.com/repos/mitmproxy/mitmproxy/events","assignees_url":"https://api.github.com/repos/mitmproxy/mitmproxy/assignees{/user}","branches_url":"https://api.github.com/repos/mitmproxy/mitmproxy/branches{/branch}","tags_url":"https://api.github.com/repos/mitmproxy/mitmproxy/tags","blobs_url":"https://api.github.com/repos/mitmproxy/mitmproxy/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/mitmproxy/mitmproxy/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/mitmproxy/mitmproxy/git/refs{/sha}","trees_url":"https://api.github.com/repos/mitmproxy/mitmproxy/git/trees{/sha}","statuses_url":"https://api.github.com/repos/mitmproxy/mitmproxy/statuses/{sha}","languages_url":"https://api.github.com/repos/mitmproxy/mitmproxy/languages","stargazers_url":"https://api.github.com/repos/mitmproxy/mitmproxy/stargazers","contributors_url":"https://api.github.com/repos/mitmproxy/mitmproxy/contributors","subscribers_url":"https://api.github.com/repos/mitmproxy/mitmproxy/subscribers","subscription_url":"https://api.github.com/repos/mitmproxy/mitmproxy/subscription","commits_url":"https://api.github.com/repos/mitmproxy/mitmproxy/commits{/sha}","git_commits_url":"https://api.github.com/repos/mitmproxy/mitmproxy/git/commits{/sha}","comments_url":"https://api.github.com/repos/mitmproxy/mitmproxy/comments{/number}","issue_comment_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/comments{/number}","contents_url":"https://api.github.com/repos/mitmproxy/mitmproxy/contents/{+path}","compare_url":"https://api.github.com/repos/mitmproxy/mitmproxy/compare/{base}...{head}","merges_url":"https://api.github.com/repos/mitmproxy/mitmproxy/merges","archive_url":"https://api.github.com/repos/mitmproxy/mitmproxy/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/mitmproxy/mitmproxy/downloads","issues_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues{/number}","pulls_url":"https://api.github.com/repos/mitmproxy/mitmproxy/pulls{/number}","milestones_url":"https://api.github.com/repos/mitmproxy/mitmproxy/milestones{/number}","notifications_url":"https://api.github.com/repos/mitmproxy/mitmproxy/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/mitmproxy/mitmproxy/labels{/name}","releases_url":"https://api.github.com/repos/mitmproxy/mitmproxy/releases{/id}","deployments_url":"https://api.github.com/repos/mitmproxy/mitmproxy/deployments","created_at":"2010-02-16T04:10:13Z","updated_at":"2025-11-09T17:55:49Z","pushed_at":"2025-11-09T14:36:54Z","git_url":"git://github.com/mitmproxy/mitmproxy.git","ssh_url":"git@github.com:mitmproxy/mitmproxy.git","clone_url":"https://github.com/mitmproxy/mitmproxy.git","svn_url":"https://github.com/mitmproxy/mitmproxy","homepage":"https://mitmproxy.org","size":67124,"stargazers_count":41160,"watchers_count":41160,"language":"Python","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":4359,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":387,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["debugging","http","http2","man-in-the-middle","mitmproxy","proxy","python","security","ssl","tls","websocket"],"visibility":"public","forks":4359,"open_issues":387,"watchers":41160,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"##### Problem\r\n\r\nI'm having trouble with HTTPS only partially working with Chrome.\r\nMy log is littered with:\r\n```\r\n::1:59896: Failed to send error response to client: ClientHandshakeException('Cannot establish TLS with client (sni: mtalk.google.com): TlsException(\"(-1, \\'Unexpected EOF\\')\",)',)\r\n```\r\nand alternatively:\r\n```\r\n::1:60456: Failed to send error response to client: ClientHandshakeException('Cannot establish TLS with client (sni: translate.googleapis.com): TlsException(\"(104, \\'ECONNRESET\\')\",)',)\r\n```\r\n\r\nThis is definitely a problem. For one it means a lot of pages I bring up are 502 Bad Gateway.\r\nNo one domain is consistently good or bad.\r\n\r\nTypical examples:\r\n```log\r\n[::1]:60452: clientconnect\r\n::1:60452: Set new server address: mtalk.google.com:5228\r\n::1:60452: Establish TLS with client\r\n::1:60452: Failed to send error response to client: ClientHandshakeException('Cannot establish TLS with client (sni: mtalk.google.com): TlsException(\"(-1, \\'Unexpected EOF\\')\",)',)\r\n[::1]:60452: CONNECT mtalk.google.com:5228\r\n    Host: mtalk.google.com:5228\r\n    Proxy-Connection: keep-alive\r\n << Cannot establish TLS with client (sni: mtalk.google.com): TlsException(\"(-1, 'Unexpected EOF')\",)\r\n```\r\n\r\nAnd\r\n```log\r\n::1:60456: serverconnect\r\n  -> ('translate.googleapis.com', 443)\r\n::1:60456: Establish TLS with server\r\n::1:60456: ALPN selected by server: h2\r\n::1:60456: Establish TLS with client\r\n::1:60456: ALPN for client: b'h2'\r\n::1:60456: Failed to send error response to client: ClientHandshakeException('Cannot establish TLS with client (sni: translate.googleapis.com): TlsException(\"(104, \\'ECONNRESET\\')\",)',)\r\n[::1]:60456: CONNECT translate.googleapis.com:443\r\n    Host: translate.googleapis.com:443\r\n    Proxy-Connection: keep-alive\r\n    User-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/65.0.3325.162 Safari/537.36\r\n << Cannot establish TLS with client (sni: translate.googleapis.com): TlsException(\"(104, 'ECONNRESET')\",)\r\n```\r\n\r\nBut there are successes!\r\n```log\r\n::1:60464: serverconnect\r\n  -> ('translate.googleapis.com', 443)\r\n::1:60464: Establish TLS with server\r\n::1:60464: ALPN selected by server: h2\r\n::1:60464: Establish TLS with client\r\n::1:60464: ALPN for client: b'h2'\r\n::1:60464: HTTP2 Event from client\r\n  -> <RemoteSettingsChanged changed_settings:{ChangedSetting(setting=SettingCodes.HEADER_TABLE_SIZE, original_value=4096, new_value=65536), ChangedSetting(setting=SettingCodes.MAX_CONCURRENT_STREAMS, original_value=None, new_value=1000), ChangedSetting(setting=SettingCodes.INITIAL_WINDOW_SIZE, original_value=65535, new_value=6291456)}>\r\n::1:60464: HTTP2 Event from client\r\n  -> <WindowUpdated stream_id:0, delta:15663105>\r\n::1:60464: HTTP2 Event from client\r\n  -> <RequestReceived stream_id:1, headers:[(b':method', b'GET'), (b':authority', b'translate.googleapis.com'), (b':scheme', b'https'), (b':path', b'/translate_a/l?client=chrome&hl=en&key=AIzaSyBOti4mM-6x9WDnZIjIeyEU21OpBXqWBgw'), (b'user-agent', b'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/65.0.3325.162 Safari/537.36'), (b'accept-encoding', b'gzip, deflate, br')]>\r\n::1:60464: HTTP2 Event from client\r\n  -> <StreamEnded stream_id:1>\r\n::1:60464: HTTP2 Event from client\r\n  -> <PriorityUpdated stream_id:1, weight:147, depends_on:0, exclusive:True>\r\n::1:60464: HTTP/2 PRIORITY frame surpressed. Use --http2-priority to enable forwarding.\r\n::1:60464: HTTP2 Event from server\r\n  -> <RemoteSettingsChanged changed_settings:{ChangedSetting(setting=SettingCodes.MAX_CONCURRENT_STREAMS, original_value=None, new_value=100), ChangedSetting(setting=SettingCodes.INITIAL_WINDOW_SIZE, original_value=65535, new_value=1048576), ChangedSetting(setting=SettingCodes.MAX_HEADER_LIST_SIZE, original_value=None, new_value=16384)}>\r\n::1:60464: HTTP2 Event from server\r\n  -> <WindowUpdated stream_id:0, delta:983041>\r\n::1:60464: HTTP2 Event from client\r\n  -> <SettingsAcknowledged changed_settings:{ChangedSetting(setting=SettingCodes.INITIAL_WINDOW_SIZE, original_value=65535, new_value=1048576), ChangedSetting(setting=SettingCodes.MAX_CONCURRENT_STREAMS, original_value=100, new_value=100), ChangedSetting(setting=SettingCodes.MAX_HEADER_LIST_SIZE, original_value=65536, new_value=16384)}>\r\n::1:60464: HTTP2 Event from server\r\n  -> <SettingsAcknowledged changed_settings:{ChangedSetting(setting=SettingCodes.HEADER_TABLE_SIZE, original_value=4096, new_value=65536), ChangedSetting(setting=SettingCodes.INITIAL_WINDOW_SIZE, original_value=65535, new_value=6291456), ChangedSetting(setting=SettingCodes.MAX_CONCURRENT_STREAMS, original_value=100, new_value=1000)}>\r\n::1:60464: HTTP2 Event from server\r\n  -> <SettingsAcknowledged changed_settings:{}>\r\n::1:60464: HTTP2 Event from client\r\n  -> <SettingsAcknowledged changed_settings:{}>\r\n::1:60464: request\r\n  -> Request(GET translate.googleapis.com:443/translate_a/l?client=chrome&hl=en&key=AIzaSyBOti4mM-6x9WDnZIjIeyEU21OpBXqWBgw)\r\n::1:60464: HTTP/2 PRIORITY information in HEADERS frame surpressed. Use --http2-priority to enable forwarding.\r\n::1:60464: HTTP2 Event from server\r\n  -> <ResponseReceived stream_id:1, headers:[(b':status', b'200'), (b'date', b'Tue, 20 Mar 2018 05:33:04 GMT'), (b'expires', b'Tue, 20 Mar 2018 05:33:04 GMT'), (b'cache-control', b'private, max-age=86400'), (b'content-type', b'application/json; charset=UTF-8'), (b'content-language', b'en'), (b'x-content-type-options', b'nosniff'), (b'content-disposition', b'attachment; filename=\"f.txt\"'), (b'content-encoding', b'gzip'), (b'server', b'HTTP server (unknown)'), (b'content-length', b'880'), (b'x-xss-protection', b'1; mode=block'), (b'alt-svc', b'hq=\":443\"; ma=2592000; quic=51303431; quic=51303339; quic=51303335,quic=\":443\"; ma=2592000; v=\"41,39,35\"')]>\r\n::1:60464: HTTP2 Event from server\r\n  -> <DataReceived stream_id:1, flow_controlled_length:886, data:1f8b08000000000002ffed95db72db3610865f45>\r\n::1:60464: HTTP2 Event from server\r\n  -> <DataReceived stream_id:1, flow_controlled_length:49, data:>\r\n::1:60464: HTTP2 Event from server\r\n  -> <StreamEnded stream_id:1>\r\n::1:60464: response\r\n  -> Response(200 , application/json; charset=UTF-8, 880b)\r\n[::1]:60464: GET https://translate.googleapis.com/translate_a/l?client=chrome&hl=en&key=AIzaSyBOti4mM-6x9WDnZIjIeyEU21OpBXqWBgw HTTP/2.0\r\n    :authority: translate.googleapis.com\r\n    user-agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/65.0.3325.162 Safari/537.36\r\n    accept-encoding: gzip, deflate, br\r\n << 200  880b\r\n    date: Tue, 20 Mar 2018 05:33:04 GMT\r\n    expires: Tue, 20 Mar 2018 05:33:04 GMT\r\n    cache-control: private, max-age=86400\r\n    content-type: application/json; charset=UTF-8\r\n    content-language: en\r\n    x-content-type-options: nosniff\r\n    content-disposition: attachment; filename=\"f.txt\"\r\n    content-encoding: gzip\r\n    server: HTTP server (unknown)\r\n    content-length: 880\r\n    x-xss-protection: 1; mode=block\r\n    alt-svc: hq=\":443\"; ma=2592000; quic=51303431; quic=51303339; quic=51303335,quic=\":443\"; ma=2592000; v=\"41,39,35\"\r\n\r\n```\r\n\r\nI run mitmdump with:\r\n`mitmdump -v > log.log &`\r\nand then follow with:\r\n`google-chrome --proxy-server=localhost:8080 --ignore-certificate-errors --incognito https://github.com`\r\n\r\nI have a more complex docker container in production, but the above is enough to reproduce the error. Trusting the CA certificate enables me to drop the `--ignore-certificate-errors` flag but does not remove the problem.\r\n\r\n##### System information\r\n```\r\nmitmdump --version\r\nMitmproxy: 3.0.3\r\nPython:    3.6.3\r\nOpenSSL:   OpenSSL 1.1.0g  2 Nov 2017\r\nPlatform:  Linux-4.13.0-37-generic-x86_64-with-debian-stretch-sid\r\n```\r\n\r\nIn case it will help...\r\n##### Massive Log\r\nhttps://gist.github.com/mhils/05ec80e1f60e4525cbfdb3e61011e074\r\n(edit by @mhils: happy to delete this at anytime, just moved it out of here to reduce length)","reactions":{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/3003/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/3003/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"}]