{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/4525","repository_url":"https://api.github.com/repos/mitmproxy/mitmproxy","labels_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/4525/labels{/name}","comments_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/4525/comments","events_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/4525/events","html_url":"https://github.com/mitmproxy/mitmproxy/issues/4525","id":839900154,"node_id":"MDU6SXNzdWU4Mzk5MDAxNTQ=","number":4525,"title":"Passphrase given in the command line is visible in the process list  ","user":{"login":"johndoe422","id":30309651,"node_id":"MDQ6VXNlcjMwMzA5NjUx","avatar_url":"https://avatars.githubusercontent.com/u/30309651?v=4","gravatar_id":"","url":"https://api.github.com/users/johndoe422","html_url":"https://github.com/johndoe422","followers_url":"https://api.github.com/users/johndoe422/followers","following_url":"https://api.github.com/users/johndoe422/following{/other_user}","gists_url":"https://api.github.com/users/johndoe422/gists{/gist_id}","starred_url":"https://api.github.com/users/johndoe422/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/johndoe422/subscriptions","organizations_url":"https://api.github.com/users/johndoe422/orgs","repos_url":"https://api.github.com/users/johndoe422/repos","events_url":"https://api.github.com/users/johndoe422/events{/privacy}","received_events_url":"https://api.github.com/users/johndoe422/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":466930397,"node_id":"MDU6TGFiZWw0NjY5MzAzOTc=","url":"https://api.github.com/repos/mitmproxy/mitmproxy/labels/kind/triage","name":"kind/triage","color":"006b75","default":false,"description":"Unclassified issues"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2021-03-24T16:23:48Z","updated_at":"2021-03-30T08:02:39Z","closed_at":"2021-03-30T08:02:39Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"#### Problem Description\r\nMitmproxy accepts cert-passphrase as one of the command-line options. If the user gives a passphrase like this while running the mitmproxy, anyone having access to a command line on that server can see the passphrase by listing the running processes.\r\n\r\n#### Steps to reproduce the behavior:\r\n1. Create a self-signed certificate using openssl, make sure you give a passphrase for the certificate. \r\n2. Run mitmproxy/mitmdump/mitmweb with the command line options as shown\r\nmitmdump --certs *.mydomain.com=mycert.pem cert-passphrase abcd \r\n3. Take a Linux terminal and issue the command ps -ef | grep mitm\r\n4. You can see the passphrase given to mitmdump command in clear text\r\n\r\nThis is a security issue in my opinion. Some programs effectively hide such sensitive inputs that are given as command-line arguments. They do this by rewriting the command line args in an obfuscated manner and by rerunning the program by itself. In this way, the sensitive data that came along via command-line arguments will be visible for a split second, but that is still better than making them always visible as long as the program is running.\r\n\r\n","closed_by":{"login":"mhils","id":1019198,"node_id":"MDQ6VXNlcjEwMTkxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1019198?v=4","gravatar_id":"","url":"https://api.github.com/users/mhils","html_url":"https://github.com/mhils","followers_url":"https://api.github.com/users/mhils/followers","following_url":"https://api.github.com/users/mhils/following{/other_user}","gists_url":"https://api.github.com/users/mhils/gists{/gist_id}","starred_url":"https://api.github.com/users/mhils/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhils/subscriptions","organizations_url":"https://api.github.com/users/mhils/orgs","repos_url":"https://api.github.com/users/mhils/repos","events_url":"https://api.github.com/users/mhils/events{/privacy}","received_events_url":"https://api.github.com/users/mhils/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/4525/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/4525/timeline","performed_via_github_app":null,"state_reason":"completed"}