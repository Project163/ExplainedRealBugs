{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/317","repository_url":"https://api.github.com/repos/mitmproxy/mitmproxy","labels_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/317/labels{/name}","comments_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/317/comments","events_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/317/events","html_url":"https://github.com/mitmproxy/mitmproxy/issues/317","id":38927913,"node_id":"MDU6SXNzdWUzODkyNzkxMw==","number":317,"title":"Is it possible to wildcard an https2http proxy?","user":{"login":"clarkewd","id":156377,"node_id":"MDQ6VXNlcjE1NjM3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/156377?v=4","gravatar_id":"","url":"https://api.github.com/users/clarkewd","html_url":"https://github.com/clarkewd","followers_url":"https://api.github.com/users/clarkewd/followers","following_url":"https://api.github.com/users/clarkewd/following{/other_user}","gists_url":"https://api.github.com/users/clarkewd/gists{/gist_id}","starred_url":"https://api.github.com/users/clarkewd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clarkewd/subscriptions","organizations_url":"https://api.github.com/users/clarkewd/orgs","repos_url":"https://api.github.com/users/clarkewd/repos","events_url":"https://api.github.com/users/clarkewd/events{/privacy}","received_events_url":"https://api.github.com/users/clarkewd/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/milestones/4","html_url":"https://github.com/mitmproxy/mitmproxy/milestone/4","labels_url":"https://api.github.com/repos/mitmproxy/mitmproxy/milestones/4/labels","id":673178,"node_id":"MDk6TWlsZXN0b25lNjczMTc4","number":4,"title":"0.11","description":"","creator":{"login":"mhils","id":1019198,"node_id":"MDQ6VXNlcjEwMTkxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1019198?v=4","gravatar_id":"","url":"https://api.github.com/users/mhils","html_url":"https://github.com/mhils","followers_url":"https://api.github.com/users/mhils/followers","following_url":"https://api.github.com/users/mhils/following{/other_user}","gists_url":"https://api.github.com/users/mhils/gists{/gist_id}","starred_url":"https://api.github.com/users/mhils/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhils/subscriptions","organizations_url":"https://api.github.com/users/mhils/orgs","repos_url":"https://api.github.com/users/mhils/repos","events_url":"https://api.github.com/users/mhils/events{/privacy}","received_events_url":"https://api.github.com/users/mhils/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":43,"state":"closed","created_at":"2014-05-28T16:11:10Z","updated_at":"2014-11-11T10:21:37Z","due_on":null,"closed_at":"2014-11-11T10:21:10Z"},"comments":2,"created_at":"2014-07-28T20:13:50Z","updated_at":"2014-08-03T00:02:07Z","closed_at":"2014-08-03T00:01:58Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Hi Max,\n\nWould it be possible to do something like this:\n\n```\nmitmproxy -R https2http://\\*:80\n```\n\nThe idea would be that it would match all SSL traffic and redirect it to http, for multiple domains. The use would be for testing SSL when developing locally. Granted it works if the URL that is accessed in the browser is `https://localhost:8080` and the command is `mitmproxy -R https2http://localhost:80` - but my issue is that I have multiple local domain names setup in my `/etc/hosts` file.\n\nBasically it throws this error:\n\n> You attempted to reach `https://sandbox`, but instead you actually reached a server identifying itself as `https://localhost`\n\nI checked out the [Reverse Proxy Documentation Issue](https://github.com/mitmproxy/mitmproxy/issues/304) and the [SSL23_GET_CLIENT_HELLO](https://github.com/mitmproxy/mitmproxy/issues/311) issues, and I realize that the `https2http` / `http2https` features are still undocumented but was still not able to figure this out.\n\nI guess this could be the issue with the `CONNECT` before `REQUEST` way that the SSL handshake works? ... basically that the server name has to be specified via the command line since the hostname is not sent with the `CONNECT` ?\n\nHowever, with the [Complication 3: Server Name Indication](http://mitmproxy.org/doc/howmitmproxy.html) it looks like there are some possible workarounds. Are they already built in or would this have to be something we would need to write?\n\nThanks!\n","closed_by":{"login":"mhils","id":1019198,"node_id":"MDQ6VXNlcjEwMTkxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1019198?v=4","gravatar_id":"","url":"https://api.github.com/users/mhils","html_url":"https://github.com/mhils","followers_url":"https://api.github.com/users/mhils/followers","following_url":"https://api.github.com/users/mhils/following{/other_user}","gists_url":"https://api.github.com/users/mhils/gists{/gist_id}","starred_url":"https://api.github.com/users/mhils/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhils/subscriptions","organizations_url":"https://api.github.com/users/mhils/orgs","repos_url":"https://api.github.com/users/mhils/repos","events_url":"https://api.github.com/users/mhils/events{/privacy}","received_events_url":"https://api.github.com/users/mhils/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/317/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/317/timeline","performed_via_github_app":null,"state_reason":"completed"}