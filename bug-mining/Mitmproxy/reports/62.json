{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/384","repository_url":"https://api.github.com/repos/mitmproxy/mitmproxy","labels_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/384/labels{/name}","comments_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/384/comments","events_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/384/events","html_url":"https://github.com/mitmproxy/mitmproxy/issues/384","id":46326030,"node_id":"MDU6SXNzdWU0NjMyNjAzMA==","number":384,"title":"mitmproxy is an order of magnitude slower than Charles","user":{"login":"xrd","id":17064,"node_id":"MDQ6VXNlcjE3MDY0","avatar_url":"https://avatars.githubusercontent.com/u/17064?v=4","gravatar_id":"","url":"https://api.github.com/users/xrd","html_url":"https://github.com/xrd","followers_url":"https://api.github.com/users/xrd/followers","following_url":"https://api.github.com/users/xrd/following{/other_user}","gists_url":"https://api.github.com/users/xrd/gists{/gist_id}","starred_url":"https://api.github.com/users/xrd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xrd/subscriptions","organizations_url":"https://api.github.com/users/xrd/orgs","repos_url":"https://api.github.com/users/xrd/repos","events_url":"https://api.github.com/users/xrd/events{/privacy}","received_events_url":"https://api.github.com/users/xrd/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":79336502,"node_id":"MDU6TGFiZWw3OTMzNjUwMg==","url":"https://api.github.com/repos/mitmproxy/mitmproxy/labels/kind/bug","name":"kind/bug","color":"d93f0b","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/milestones/6","html_url":"https://github.com/mitmproxy/mitmproxy/milestone/6","labels_url":"https://api.github.com/repos/mitmproxy/mitmproxy/milestones/6/labels","id":836500,"node_id":"MDk6TWlsZXN0b25lODM2NTAw","number":6,"title":"0.11.2","description":"","creator":{"login":"cortesi","id":22544,"node_id":"MDQ6VXNlcjIyNTQ0","avatar_url":"https://avatars.githubusercontent.com/u/22544?v=4","gravatar_id":"","url":"https://api.github.com/users/cortesi","html_url":"https://github.com/cortesi","followers_url":"https://api.github.com/users/cortesi/followers","following_url":"https://api.github.com/users/cortesi/following{/other_user}","gists_url":"https://api.github.com/users/cortesi/gists{/gist_id}","starred_url":"https://api.github.com/users/cortesi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cortesi/subscriptions","organizations_url":"https://api.github.com/users/cortesi/orgs","repos_url":"https://api.github.com/users/cortesi/repos","events_url":"https://api.github.com/users/cortesi/events{/privacy}","received_events_url":"https://api.github.com/users/cortesi/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":8,"state":"closed","created_at":"2014-10-22T20:20:12Z","updated_at":"2014-12-29T22:44:36Z","due_on":null,"closed_at":"2014-12-29T22:44:36Z"},"comments":6,"created_at":"2014-10-20T21:10:11Z","updated_at":"2014-11-05T23:01:11Z","closed_at":"2014-11-05T21:51:56Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I love mitmproxy but it seems to be _an order of magnitude_ slower than [Charles](http://www.charlesproxy.com/). \n\nI'm using the following script:\n\n```\n#!/usr/bin/env ruby\n\nand_then = Time.now()\nputs \"Starting charles: #{and_then}\"\n100.times do |i|\n  `curl -s --proxy http://localhost:8888 http://google.com`\nend\nand_now = Time.now()\nputs \"Ending charles: #{and_now - and_then}\"\n\nand_then = Time.now()\nputs \"Starting mitmproxy: #{and_then}\"\n100.times do |i|\n  `curl -s --proxy http://localhost:8080 http://google.com`\nend\nand_now = Time.now()\nputs \"Ending mitmproxy: #{and_now - and_then}\"\n```\n\nMy results are this:\n\n```\nStarting charles: 2014-10-20 14:07:19 -0700\nEnding charles: 1.567501\nStarting mitmproxy: 2014-10-20 14:07:21 -0700\nEnding mitmproxy: 19.765162\n```\n\nIs this inevitable given mitmproxy is written in python and Charles is compiled object code? Or, is my test suspect?\n\nThis is important because my client app (running on an iPhone) thinks the network has dropped when I use mitmproxy rather than Charles.\n","closed_by":{"login":"cortesi","id":22544,"node_id":"MDQ6VXNlcjIyNTQ0","avatar_url":"https://avatars.githubusercontent.com/u/22544?v=4","gravatar_id":"","url":"https://api.github.com/users/cortesi","html_url":"https://github.com/cortesi","followers_url":"https://api.github.com/users/cortesi/followers","following_url":"https://api.github.com/users/cortesi/following{/other_user}","gists_url":"https://api.github.com/users/cortesi/gists{/gist_id}","starred_url":"https://api.github.com/users/cortesi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cortesi/subscriptions","organizations_url":"https://api.github.com/users/cortesi/orgs","repos_url":"https://api.github.com/users/cortesi/repos","events_url":"https://api.github.com/users/cortesi/events{/privacy}","received_events_url":"https://api.github.com/users/cortesi/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/384/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/384/timeline","performed_via_github_app":null,"state_reason":"completed"}