[{"id":492881261,"node_id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50NDkyODgxMjYx","url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/events/492881261","actor":{"login":"colemickens","id":327028,"node_id":"MDQ6VXNlcjMyNzAyOA==","avatar_url":"https://avatars.githubusercontent.com/u/327028?v=4","gravatar_id":"","url":"https://api.github.com/users/colemickens","html_url":"https://github.com/colemickens","followers_url":"https://api.github.com/users/colemickens/followers","following_url":"https://api.github.com/users/colemickens/following{/other_user}","gists_url":"https://api.github.com/users/colemickens/gists{/gist_id}","starred_url":"https://api.github.com/users/colemickens/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/colemickens/subscriptions","organizations_url":"https://api.github.com/users/colemickens/orgs","repos_url":"https://api.github.com/users/colemickens/repos","events_url":"https://api.github.com/users/colemickens/events{/privacy}","received_events_url":"https://api.github.com/users/colemickens/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2015-12-15T23:32:20Z","rename":{"from":"mitmproxy crashes: AttributeError: 'NoneType' objcet has no attribute 'host'","to":"mitmproxy crashes: AttributeError: 'NoneType' object has no attribute 'host'"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/comments/164936098","html_url":"https://github.com/mitmproxy/mitmproxy/issues/861#issuecomment-164936098","issue_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/861","id":164936098,"node_id":"MDEyOklzc3VlQ29tbWVudDE2NDkzNjA5OA==","user":{"login":"colemickens","id":327028,"node_id":"MDQ6VXNlcjMyNzAyOA==","avatar_url":"https://avatars.githubusercontent.com/u/327028?v=4","gravatar_id":"","url":"https://api.github.com/users/colemickens","html_url":"https://github.com/colemickens","followers_url":"https://api.github.com/users/colemickens/followers","following_url":"https://api.github.com/users/colemickens/following{/other_user}","gists_url":"https://api.github.com/users/colemickens/gists{/gist_id}","starred_url":"https://api.github.com/users/colemickens/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/colemickens/subscriptions","organizations_url":"https://api.github.com/users/colemickens/orgs","repos_url":"https://api.github.com/users/colemickens/repos","events_url":"https://api.github.com/users/colemickens/events{/privacy}","received_events_url":"https://api.github.com/users/colemickens/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-15T23:35:40Z","updated_at":"2015-12-15T23:36:33Z","body":"```\n$ mitmproxy --version\nmitmproxy 0.15\n```\n\n```\n$ yaourt -Ss python2-netlib | grep installed\ncommunity/python2-netlib 0.15-1 [installed]\n```\n\n```\n$ uname -a\nLinux pixel 4.2.7-10ph #1 SMP Thu Dec 10 21:20:35 PST 2015 x86_64 GNU/Linux\n```\n\nRunning up-to-date Arch (I guess except the kernel because of the device I'm on).\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/comments/164936098/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"colemickens","id":327028,"node_id":"MDQ6VXNlcjMyNzAyOA==","avatar_url":"https://avatars.githubusercontent.com/u/327028?v=4","gravatar_id":"","url":"https://api.github.com/users/colemickens","html_url":"https://github.com/colemickens","followers_url":"https://api.github.com/users/colemickens/followers","following_url":"https://api.github.com/users/colemickens/following{/other_user}","gists_url":"https://api.github.com/users/colemickens/gists{/gist_id}","starred_url":"https://api.github.com/users/colemickens/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/colemickens/subscriptions","organizations_url":"https://api.github.com/users/colemickens/orgs","repos_url":"https://api.github.com/users/colemickens/repos","events_url":"https://api.github.com/users/colemickens/events{/privacy}","received_events_url":"https://api.github.com/users/colemickens/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/comments/164936774","html_url":"https://github.com/mitmproxy/mitmproxy/issues/861#issuecomment-164936774","issue_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/861","id":164936774,"node_id":"MDEyOklzc3VlQ29tbWVudDE2NDkzNjc3NA==","user":{"login":"colemickens","id":327028,"node_id":"MDQ6VXNlcjMyNzAyOA==","avatar_url":"https://avatars.githubusercontent.com/u/327028?v=4","gravatar_id":"","url":"https://api.github.com/users/colemickens","html_url":"https://github.com/colemickens","followers_url":"https://api.github.com/users/colemickens/followers","following_url":"https://api.github.com/users/colemickens/following{/other_user}","gists_url":"https://api.github.com/users/colemickens/gists{/gist_id}","starred_url":"https://api.github.com/users/colemickens/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/colemickens/subscriptions","organizations_url":"https://api.github.com/users/colemickens/orgs","repos_url":"https://api.github.com/users/colemickens/repos","events_url":"https://api.github.com/users/colemickens/events{/privacy}","received_events_url":"https://api.github.com/users/colemickens/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-15T23:39:48Z","updated_at":"2015-12-15T23:39:48Z","body":"It's a bit hard to repro. It doesn't occur if I `wget https://www.google.com` or `wget https://www.yahoo.com` but it does occur when using Azure's \"azure-xplat-cli\" tool. \n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/comments/164936774/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"colemickens","id":327028,"node_id":"MDQ6VXNlcjMyNzAyOA==","avatar_url":"https://avatars.githubusercontent.com/u/327028?v=4","gravatar_id":"","url":"https://api.github.com/users/colemickens","html_url":"https://github.com/colemickens","followers_url":"https://api.github.com/users/colemickens/followers","following_url":"https://api.github.com/users/colemickens/following{/other_user}","gists_url":"https://api.github.com/users/colemickens/gists{/gist_id}","starred_url":"https://api.github.com/users/colemickens/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/colemickens/subscriptions","organizations_url":"https://api.github.com/users/colemickens/orgs","repos_url":"https://api.github.com/users/colemickens/repos","events_url":"https://api.github.com/users/colemickens/events{/privacy}","received_events_url":"https://api.github.com/users/colemickens/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/comments/165204790","html_url":"https://github.com/mitmproxy/mitmproxy/issues/861#issuecomment-165204790","issue_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/861","id":165204790,"node_id":"MDEyOklzc3VlQ29tbWVudDE2NTIwNDc5MA==","user":{"login":"mhils","id":1019198,"node_id":"MDQ6VXNlcjEwMTkxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1019198?v=4","gravatar_id":"","url":"https://api.github.com/users/mhils","html_url":"https://github.com/mhils","followers_url":"https://api.github.com/users/mhils/followers","following_url":"https://api.github.com/users/mhils/following{/other_user}","gists_url":"https://api.github.com/users/mhils/gists{/gist_id}","starred_url":"https://api.github.com/users/mhils/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhils/subscriptions","organizations_url":"https://api.github.com/users/mhils/orgs","repos_url":"https://api.github.com/users/mhils/repos","events_url":"https://api.github.com/users/mhils/events{/privacy}","received_events_url":"https://api.github.com/users/mhils/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-16T18:31:12Z","updated_at":"2015-12-16T18:31:12Z","body":"Thanks. This looks like your client just connects to the proxy's IP and immediately starts to negotiate TLS. If you are running an explicit proxy (http://docs.mitmproxy.org/en/stable/howmitmproxy.html, http://docs.mitmproxy.org/en/stable/modes.html), your client should send a `CONNECT` request first. So, this is looks like a misbehaving client to me?\n\n(We should not raise an exception nonetheless, but that won't fix your client I'm afraid)\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/comments/165204790/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mhils","id":1019198,"node_id":"MDQ6VXNlcjEwMTkxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1019198?v=4","gravatar_id":"","url":"https://api.github.com/users/mhils","html_url":"https://github.com/mhils","followers_url":"https://api.github.com/users/mhils/followers","following_url":"https://api.github.com/users/mhils/following{/other_user}","gists_url":"https://api.github.com/users/mhils/gists{/gist_id}","starred_url":"https://api.github.com/users/mhils/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhils/subscriptions","organizations_url":"https://api.github.com/users/mhils/orgs","repos_url":"https://api.github.com/users/mhils/repos","events_url":"https://api.github.com/users/mhils/events{/privacy}","received_events_url":"https://api.github.com/users/mhils/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":493816599,"node_id":"MDEyOkxhYmVsZWRFdmVudDQ5MzgxNjU5OQ==","url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/events/493816599","actor":{"login":"mhils","id":1019198,"node_id":"MDQ6VXNlcjEwMTkxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1019198?v=4","gravatar_id":"","url":"https://api.github.com/users/mhils","html_url":"https://github.com/mhils","followers_url":"https://api.github.com/users/mhils/followers","following_url":"https://api.github.com/users/mhils/following{/other_user}","gists_url":"https://api.github.com/users/mhils/gists{/gist_id}","starred_url":"https://api.github.com/users/mhils/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhils/subscriptions","organizations_url":"https://api.github.com/users/mhils/orgs","repos_url":"https://api.github.com/users/mhils/repos","events_url":"https://api.github.com/users/mhils/events{/privacy}","received_events_url":"https://api.github.com/users/mhils/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2015-12-16T18:31:25Z","label":{"name":"bug","color":"f7c6c7"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/comments/165247911","html_url":"https://github.com/mitmproxy/mitmproxy/issues/861#issuecomment-165247911","issue_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/861","id":165247911,"node_id":"MDEyOklzc3VlQ29tbWVudDE2NTI0NzkxMQ==","user":{"login":"colemickens","id":327028,"node_id":"MDQ6VXNlcjMyNzAyOA==","avatar_url":"https://avatars.githubusercontent.com/u/327028?v=4","gravatar_id":"","url":"https://api.github.com/users/colemickens","html_url":"https://github.com/colemickens","followers_url":"https://api.github.com/users/colemickens/followers","following_url":"https://api.github.com/users/colemickens/following{/other_user}","gists_url":"https://api.github.com/users/colemickens/gists{/gist_id}","starred_url":"https://api.github.com/users/colemickens/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/colemickens/subscriptions","organizations_url":"https://api.github.com/users/colemickens/orgs","repos_url":"https://api.github.com/users/colemickens/repos","events_url":"https://api.github.com/users/colemickens/events{/privacy}","received_events_url":"https://api.github.com/users/colemickens/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-16T21:13:07Z","updated_at":"2015-12-16T21:13:07Z","body":"Thanks for the information. I've asked around and it seems that github.com/Azure/azure-xplat-cli\nis using node's request library (https://www.npmjs.com/package/request).\n\nAccording to their docs, they send a CONNECT:\n\n> If you specify a proxy option, then the request (and any subsequent redirects) will be sent via a connection to the proxy server.\n> \n> If your endpoint is an https url, and you are using a proxy, then request will send a CONNECT request to the proxy server first, and then use the supplied connection to connect to the endpoint.\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/comments/165247911/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"colemickens","id":327028,"node_id":"MDQ6VXNlcjMyNzAyOA==","avatar_url":"https://avatars.githubusercontent.com/u/327028?v=4","gravatar_id":"","url":"https://api.github.com/users/colemickens","html_url":"https://github.com/colemickens","followers_url":"https://api.github.com/users/colemickens/followers","following_url":"https://api.github.com/users/colemickens/following{/other_user}","gists_url":"https://api.github.com/users/colemickens/gists{/gist_id}","starred_url":"https://api.github.com/users/colemickens/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/colemickens/subscriptions","organizations_url":"https://api.github.com/users/colemickens/orgs","repos_url":"https://api.github.com/users/colemickens/repos","events_url":"https://api.github.com/users/colemickens/events{/privacy}","received_events_url":"https://api.github.com/users/colemickens/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/comments/165253629","html_url":"https://github.com/mitmproxy/mitmproxy/issues/861#issuecomment-165253629","issue_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/861","id":165253629,"node_id":"MDEyOklzc3VlQ29tbWVudDE2NTI1MzYyOQ==","user":{"login":"colemickens","id":327028,"node_id":"MDQ6VXNlcjMyNzAyOA==","avatar_url":"https://avatars.githubusercontent.com/u/327028?v=4","gravatar_id":"","url":"https://api.github.com/users/colemickens","html_url":"https://github.com/colemickens","followers_url":"https://api.github.com/users/colemickens/followers","following_url":"https://api.github.com/users/colemickens/following{/other_user}","gists_url":"https://api.github.com/users/colemickens/gists{/gist_id}","starred_url":"https://api.github.com/users/colemickens/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/colemickens/subscriptions","organizations_url":"https://api.github.com/users/colemickens/orgs","repos_url":"https://api.github.com/users/colemickens/repos","events_url":"https://api.github.com/users/colemickens/events{/privacy}","received_events_url":"https://api.github.com/users/colemickens/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-16T21:25:41Z","updated_at":"2015-12-16T21:25:41Z","body":"I think this was entirely user error actually.\n\nI was doing:\n\n```\nexport HTTPS_PROXY=https://localhost:8080\nexport https_proxy=https://localhost:8080\n```\n\nwhen I should have been:\n\n```\nexport HTTPS_PROXY=http://localhost:8080\nexport https_proxy=http://localhost:8080\n```\n\nSorry for the noise and thank you for the support!\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/comments/165253629/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"colemickens","id":327028,"node_id":"MDQ6VXNlcjMyNzAyOA==","avatar_url":"https://avatars.githubusercontent.com/u/327028?v=4","gravatar_id":"","url":"https://api.github.com/users/colemickens","html_url":"https://github.com/colemickens","followers_url":"https://api.github.com/users/colemickens/followers","following_url":"https://api.github.com/users/colemickens/following{/other_user}","gists_url":"https://api.github.com/users/colemickens/gists{/gist_id}","starred_url":"https://api.github.com/users/colemickens/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/colemickens/subscriptions","organizations_url":"https://api.github.com/users/colemickens/orgs","repos_url":"https://api.github.com/users/colemickens/repos","events_url":"https://api.github.com/users/colemickens/events{/privacy}","received_events_url":"https://api.github.com/users/colemickens/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":494002266,"node_id":"MDExOkNsb3NlZEV2ZW50NDk0MDAyMjY2","url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/events/494002266","actor":{"login":"colemickens","id":327028,"node_id":"MDQ6VXNlcjMyNzAyOA==","avatar_url":"https://avatars.githubusercontent.com/u/327028?v=4","gravatar_id":"","url":"https://api.github.com/users/colemickens","html_url":"https://github.com/colemickens","followers_url":"https://api.github.com/users/colemickens/followers","following_url":"https://api.github.com/users/colemickens/following{/other_user}","gists_url":"https://api.github.com/users/colemickens/gists{/gist_id}","starred_url":"https://api.github.com/users/colemickens/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/colemickens/subscriptions","organizations_url":"https://api.github.com/users/colemickens/orgs","repos_url":"https://api.github.com/users/colemickens/repos","events_url":"https://api.github.com/users/colemickens/events{/privacy}","received_events_url":"https://api.github.com/users/colemickens/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2015-12-16T21:25:41Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/comments/165261325","html_url":"https://github.com/mitmproxy/mitmproxy/issues/861#issuecomment-165261325","issue_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/861","id":165261325,"node_id":"MDEyOklzc3VlQ29tbWVudDE2NTI2MTMyNQ==","user":{"login":"mhils","id":1019198,"node_id":"MDQ6VXNlcjEwMTkxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1019198?v=4","gravatar_id":"","url":"https://api.github.com/users/mhils","html_url":"https://github.com/mhils","followers_url":"https://api.github.com/users/mhils/followers","following_url":"https://api.github.com/users/mhils/following{/other_user}","gists_url":"https://api.github.com/users/mhils/gists{/gist_id}","starred_url":"https://api.github.com/users/mhils/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhils/subscriptions","organizations_url":"https://api.github.com/users/mhils/orgs","repos_url":"https://api.github.com/users/mhils/repos","events_url":"https://api.github.com/users/mhils/events{/privacy}","received_events_url":"https://api.github.com/users/mhils/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-16T21:50:56Z","updated_at":"2015-12-16T21:50:56Z","body":"Thanks for clearing this up! :smiley: I'll reopen this as we don't want to raise an exception here nonetheless.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/comments/165261325/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mhils","id":1019198,"node_id":"MDQ6VXNlcjEwMTkxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1019198?v=4","gravatar_id":"","url":"https://api.github.com/users/mhils","html_url":"https://github.com/mhils","followers_url":"https://api.github.com/users/mhils/followers","following_url":"https://api.github.com/users/mhils/following{/other_user}","gists_url":"https://api.github.com/users/mhils/gists{/gist_id}","starred_url":"https://api.github.com/users/mhils/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhils/subscriptions","organizations_url":"https://api.github.com/users/mhils/orgs","repos_url":"https://api.github.com/users/mhils/repos","events_url":"https://api.github.com/users/mhils/events{/privacy}","received_events_url":"https://api.github.com/users/mhils/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":494028803,"node_id":"MDEzOlJlb3BlbmVkRXZlbnQ0OTQwMjg4MDM=","url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/events/494028803","actor":{"login":"mhils","id":1019198,"node_id":"MDQ6VXNlcjEwMTkxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1019198?v=4","gravatar_id":"","url":"https://api.github.com/users/mhils","html_url":"https://github.com/mhils","followers_url":"https://api.github.com/users/mhils/followers","following_url":"https://api.github.com/users/mhils/following{/other_user}","gists_url":"https://api.github.com/users/mhils/gists{/gist_id}","starred_url":"https://api.github.com/users/mhils/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhils/subscriptions","organizations_url":"https://api.github.com/users/mhils/orgs","repos_url":"https://api.github.com/users/mhils/repos","events_url":"https://api.github.com/users/mhils/events{/privacy}","received_events_url":"https://api.github.com/users/mhils/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"reopened","commit_id":null,"commit_url":null,"created_at":"2015-12-16T21:50:56Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/comments/165365910","html_url":"https://github.com/mitmproxy/mitmproxy/issues/861#issuecomment-165365910","issue_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/861","id":165365910,"node_id":"MDEyOklzc3VlQ29tbWVudDE2NTM2NTkxMA==","user":{"login":"mankalamanishkumar","id":16332592,"node_id":"MDQ6VXNlcjE2MzMyNTky","avatar_url":"https://avatars.githubusercontent.com/u/16332592?v=4","gravatar_id":"","url":"https://api.github.com/users/mankalamanishkumar","html_url":"https://github.com/mankalamanishkumar","followers_url":"https://api.github.com/users/mankalamanishkumar/followers","following_url":"https://api.github.com/users/mankalamanishkumar/following{/other_user}","gists_url":"https://api.github.com/users/mankalamanishkumar/gists{/gist_id}","starred_url":"https://api.github.com/users/mankalamanishkumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mankalamanishkumar/subscriptions","organizations_url":"https://api.github.com/users/mankalamanishkumar/orgs","repos_url":"https://api.github.com/users/mankalamanishkumar/repos","events_url":"https://api.github.com/users/mankalamanishkumar/events{/privacy}","received_events_url":"https://api.github.com/users/mankalamanishkumar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-17T07:19:42Z","updated_at":"2015-12-24T09:32:39Z","body":"Hi All,\n         when i am running following command\nmitmdump -s add_header.py\ni am getting following issue\n\n```\nTraceback (most recent call last):\n  File \"/root/Downloads/mitmproxy/libmproxy/proxy/server.py\", line 120, in handle\n    root_layer()\n  File \"/root/Downloads/mitmproxy/libmproxy/proxy/modes/http_proxy.py\", line 10, in __call__\n    layer()\n  File \"/root/Downloads/mitmproxy/libmproxy/protocol/tls.py\", line 267, in __call__\n    self._establish_tls_with_client_and_server()\n  File \"/root/Downloads/mitmproxy/libmproxy/protocol/tls.py\", line 392, in _establish_tls_with_client_and_server\n    six.reraise(*sys.exc_info())\n  File \"/root/Downloads/mitmproxy/libmproxy/protocol/tls.py\", line 389, in _establish_tls_with_client_and_server\n    self._establish_tls_with_client()\n  File \"/root/Downloads/mitmproxy/libmproxy/protocol/tls.py\", line 398, in _establish_tls_with_client\n    cert, key, chain_file = self._find_cert()\n  File \"/root/Downloads/mitmproxy/libmproxy/protocol/tls.py\", line 497, in _find_cert\n    host = self.server_conn.address.host\nAttributeError: 'NoneType' object has no attribute 'host'\n\nmitmproxy has crashed!\nPlease lodge a bug report at: https://github.com/mitmproxy/mitmproxy\n```\n\nFollowing is my system configuration and setup.\n1. # uname -a\nLinux tn646-OptiPlex-745 4.2.3 #2 SMP Fri Oct 9 14:59:32 IST 2015 x86_64 x86_64 x86_64 GNU/Linux\n1. $mitmdump --version\n   mitmdump 0.15\n\n3 Setup\n\nLinux1_host-------------|Linux2_host with mitmdump|-------------Internet\n\nWhen i am trying to open http websites from Linux1_host(firefox 28.0) i observed above mentioned trace in Linux2_host and here both Linux host are ubuntu.\nPlease help me here.\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/comments/165365910/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mankalamanishkumar","id":16332592,"node_id":"MDQ6VXNlcjE2MzMyNTky","avatar_url":"https://avatars.githubusercontent.com/u/16332592?v=4","gravatar_id":"","url":"https://api.github.com/users/mankalamanishkumar","html_url":"https://github.com/mankalamanishkumar","followers_url":"https://api.github.com/users/mankalamanishkumar/followers","following_url":"https://api.github.com/users/mankalamanishkumar/following{/other_user}","gists_url":"https://api.github.com/users/mankalamanishkumar/gists{/gist_id}","starred_url":"https://api.github.com/users/mankalamanishkumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mankalamanishkumar/subscriptions","organizations_url":"https://api.github.com/users/mankalamanishkumar/orgs","repos_url":"https://api.github.com/users/mankalamanishkumar/repos","events_url":"https://api.github.com/users/mankalamanishkumar/events{/privacy}","received_events_url":"https://api.github.com/users/mankalamanishkumar/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"Leseratte10","id":6040787,"node_id":"MDQ6VXNlcjYwNDA3ODc=","avatar_url":"https://avatars.githubusercontent.com/u/6040787?v=4","gravatar_id":"","url":"https://api.github.com/users/Leseratte10","html_url":"https://github.com/Leseratte10","followers_url":"https://api.github.com/users/Leseratte10/followers","following_url":"https://api.github.com/users/Leseratte10/following{/other_user}","gists_url":"https://api.github.com/users/Leseratte10/gists{/gist_id}","starred_url":"https://api.github.com/users/Leseratte10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Leseratte10/subscriptions","organizations_url":"https://api.github.com/users/Leseratte10/orgs","repos_url":"https://api.github.com/users/Leseratte10/repos","events_url":"https://api.github.com/users/Leseratte10/events{/privacy}","received_events_url":"https://api.github.com/users/Leseratte10/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-25T13:17:05Z","updated_at":"2015-12-25T13:17:05Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/869","repository_url":"https://api.github.com/repos/mitmproxy/mitmproxy","labels_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/869/labels{/name}","comments_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/869/comments","events_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/869/events","html_url":"https://github.com/mitmproxy/mitmproxy/issues/869","id":123876474,"node_id":"MDU6SXNzdWUxMjM4NzY0NzQ=","number":869,"title":"Mitmproxy crashes","user":{"login":"Leseratte10","id":6040787,"node_id":"MDQ6VXNlcjYwNDA3ODc=","avatar_url":"https://avatars.githubusercontent.com/u/6040787?v=4","gravatar_id":"","url":"https://api.github.com/users/Leseratte10","html_url":"https://github.com/Leseratte10","followers_url":"https://api.github.com/users/Leseratte10/followers","following_url":"https://api.github.com/users/Leseratte10/following{/other_user}","gists_url":"https://api.github.com/users/Leseratte10/gists{/gist_id}","starred_url":"https://api.github.com/users/Leseratte10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Leseratte10/subscriptions","organizations_url":"https://api.github.com/users/Leseratte10/orgs","repos_url":"https://api.github.com/users/Leseratte10/repos","events_url":"https://api.github.com/users/Leseratte10/events{/privacy}","received_events_url":"https://api.github.com/users/Leseratte10/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2015-12-25T12:15:40Z","updated_at":"2015-12-25T13:36:09Z","closed_at":"2015-12-25T13:36:09Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":519832,"node_id":"MDEwOlJlcG9zaXRvcnk1MTk4MzI=","name":"mitmproxy","full_name":"mitmproxy/mitmproxy","private":false,"owner":{"login":"mitmproxy","id":4652787,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ2NTI3ODc=","avatar_url":"https://avatars.githubusercontent.com/u/4652787?v=4","gravatar_id":"","url":"https://api.github.com/users/mitmproxy","html_url":"https://github.com/mitmproxy","followers_url":"https://api.github.com/users/mitmproxy/followers","following_url":"https://api.github.com/users/mitmproxy/following{/other_user}","gists_url":"https://api.github.com/users/mitmproxy/gists{/gist_id}","starred_url":"https://api.github.com/users/mitmproxy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mitmproxy/subscriptions","organizations_url":"https://api.github.com/users/mitmproxy/orgs","repos_url":"https://api.github.com/users/mitmproxy/repos","events_url":"https://api.github.com/users/mitmproxy/events{/privacy}","received_events_url":"https://api.github.com/users/mitmproxy/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/mitmproxy/mitmproxy","description":"An interactive TLS-capable intercepting HTTP proxy for penetration testers and software developers.","fork":false,"url":"https://api.github.com/repos/mitmproxy/mitmproxy","forks_url":"https://api.github.com/repos/mitmproxy/mitmproxy/forks","keys_url":"https://api.github.com/repos/mitmproxy/mitmproxy/keys{/key_id}","collaborators_url":"https://api.github.com/repos/mitmproxy/mitmproxy/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/mitmproxy/mitmproxy/teams","hooks_url":"https://api.github.com/repos/mitmproxy/mitmproxy/hooks","issue_events_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/events{/number}","events_url":"https://api.github.com/repos/mitmproxy/mitmproxy/events","assignees_url":"https://api.github.com/repos/mitmproxy/mitmproxy/assignees{/user}","branches_url":"https://api.github.com/repos/mitmproxy/mitmproxy/branches{/branch}","tags_url":"https://api.github.com/repos/mitmproxy/mitmproxy/tags","blobs_url":"https://api.github.com/repos/mitmproxy/mitmproxy/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/mitmproxy/mitmproxy/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/mitmproxy/mitmproxy/git/refs{/sha}","trees_url":"https://api.github.com/repos/mitmproxy/mitmproxy/git/trees{/sha}","statuses_url":"https://api.github.com/repos/mitmproxy/mitmproxy/statuses/{sha}","languages_url":"https://api.github.com/repos/mitmproxy/mitmproxy/languages","stargazers_url":"https://api.github.com/repos/mitmproxy/mitmproxy/stargazers","contributors_url":"https://api.github.com/repos/mitmproxy/mitmproxy/contributors","subscribers_url":"https://api.github.com/repos/mitmproxy/mitmproxy/subscribers","subscription_url":"https://api.github.com/repos/mitmproxy/mitmproxy/subscription","commits_url":"https://api.github.com/repos/mitmproxy/mitmproxy/commits{/sha}","git_commits_url":"https://api.github.com/repos/mitmproxy/mitmproxy/git/commits{/sha}","comments_url":"https://api.github.com/repos/mitmproxy/mitmproxy/comments{/number}","issue_comment_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/comments{/number}","contents_url":"https://api.github.com/repos/mitmproxy/mitmproxy/contents/{+path}","compare_url":"https://api.github.com/repos/mitmproxy/mitmproxy/compare/{base}...{head}","merges_url":"https://api.github.com/repos/mitmproxy/mitmproxy/merges","archive_url":"https://api.github.com/repos/mitmproxy/mitmproxy/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/mitmproxy/mitmproxy/downloads","issues_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues{/number}","pulls_url":"https://api.github.com/repos/mitmproxy/mitmproxy/pulls{/number}","milestones_url":"https://api.github.com/repos/mitmproxy/mitmproxy/milestones{/number}","notifications_url":"https://api.github.com/repos/mitmproxy/mitmproxy/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/mitmproxy/mitmproxy/labels{/name}","releases_url":"https://api.github.com/repos/mitmproxy/mitmproxy/releases{/id}","deployments_url":"https://api.github.com/repos/mitmproxy/mitmproxy/deployments","created_at":"2010-02-16T04:10:13Z","updated_at":"2025-11-09T17:55:49Z","pushed_at":"2025-11-09T14:36:54Z","git_url":"git://github.com/mitmproxy/mitmproxy.git","ssh_url":"git@github.com:mitmproxy/mitmproxy.git","clone_url":"https://github.com/mitmproxy/mitmproxy.git","svn_url":"https://github.com/mitmproxy/mitmproxy","homepage":"https://mitmproxy.org","size":67124,"stargazers_count":41160,"watchers_count":41160,"language":"Python","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":4359,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":387,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["debugging","http","http2","man-in-the-middle","mitmproxy","proxy","python","security","ssl","tls","websocket"],"visibility":"public","forks":4359,"open_issues":387,"watchers":41160,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"As soon as a device tries to access a HTTPS URL, mitmproxy crashes and tells me to lodge a bug report: \n\n```\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/dist-packages/libmproxy/proxy/server.py\", line 120, in handle\n    root_layer()\n  File \"/usr/local/lib/python2.7/dist-packages/libmproxy/proxy/modes/http_proxy.py\", line 10, in __call__\n    layer()\n  File \"/usr/local/lib/python2.7/dist-packages/libmproxy/protocol/tls.py\", line 267, in __call__\n    self._establish_tls_with_client_and_server()\n  File \"/usr/local/lib/python2.7/dist-packages/libmproxy/protocol/tls.py\", line 392, in _establish_tls_with_client_and_server\n    six.reraise(*sys.exc_info())\n  File \"/usr/local/lib/python2.7/dist-packages/libmproxy/protocol/tls.py\", line 389, in _establish_tls_with_client_and_server\n    self._establish_tls_with_client()\n  File \"/usr/local/lib/python2.7/dist-packages/libmproxy/protocol/tls.py\", line 398, in _establish_tls_with_client\n    cert, key, chain_file = self._find_cert()\n  File \"/usr/local/lib/python2.7/dist-packages/libmproxy/protocol/tls.py\", line 497, in _find_cert\n    host = self.server_conn.address.host\nAttributeError: 'NoneType' object has no attribute 'host'\n\nmitmproxy has crashed!\nPlease lodge a bug report at: https://github.com/mitmproxy/mitmproxy\n```\n\nThis happens with the command line `$ sudo mitmproxy -p 443` and the domain I'd like to intercept has the local IP of my computer set in my DNS server. \n\nI cannot use the proxy function as my device refuses to use a proxy \"for security reasons\". \nEDIT: Oops, seems as if this is the same bug as in #861 .\nIs there a way to fix that? Directly connecting to MITMproxy without Proxy?\n","reactions":{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/869/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/869/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/comments/167235956","html_url":"https://github.com/mitmproxy/mitmproxy/issues/861#issuecomment-167235956","issue_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/861","id":167235956,"node_id":"MDEyOklzc3VlQ29tbWVudDE2NzIzNTk1Ng==","user":{"login":"Leseratte10","id":6040787,"node_id":"MDQ6VXNlcjYwNDA3ODc=","avatar_url":"https://avatars.githubusercontent.com/u/6040787?v=4","gravatar_id":"","url":"https://api.github.com/users/Leseratte10","html_url":"https://github.com/Leseratte10","followers_url":"https://api.github.com/users/Leseratte10/followers","following_url":"https://api.github.com/users/Leseratte10/following{/other_user}","gists_url":"https://api.github.com/users/Leseratte10/gists{/gist_id}","starred_url":"https://api.github.com/users/Leseratte10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Leseratte10/subscriptions","organizations_url":"https://api.github.com/users/Leseratte10/orgs","repos_url":"https://api.github.com/users/Leseratte10/repos","events_url":"https://api.github.com/users/Leseratte10/events{/privacy}","received_events_url":"https://api.github.com/users/Leseratte10/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-25T13:40:25Z","updated_at":"2015-12-25T13:40:25Z","body":"I have the same issue. I use a device which does not support proxies so I've set up mitmproxy to listen on port 443 and use a DNS server to make the device connect to my computer instead of the website it wants to connect to. This raises this error on mitmproxy - why doesn't this work without proxying?\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/comments/167235956/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Leseratte10","id":6040787,"node_id":"MDQ6VXNlcjYwNDA3ODc=","avatar_url":"https://avatars.githubusercontent.com/u/6040787?v=4","gravatar_id":"","url":"https://api.github.com/users/Leseratte10","html_url":"https://github.com/Leseratte10","followers_url":"https://api.github.com/users/Leseratte10/followers","following_url":"https://api.github.com/users/Leseratte10/following{/other_user}","gists_url":"https://api.github.com/users/Leseratte10/gists{/gist_id}","starred_url":"https://api.github.com/users/Leseratte10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Leseratte10/subscriptions","organizations_url":"https://api.github.com/users/Leseratte10/orgs","repos_url":"https://api.github.com/users/Leseratte10/repos","events_url":"https://api.github.com/users/Leseratte10/events{/privacy}","received_events_url":"https://api.github.com/users/Leseratte10/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/comments/167236151","html_url":"https://github.com/mitmproxy/mitmproxy/issues/861#issuecomment-167236151","issue_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/861","id":167236151,"node_id":"MDEyOklzc3VlQ29tbWVudDE2NzIzNjE1MQ==","user":{"login":"mhils","id":1019198,"node_id":"MDQ6VXNlcjEwMTkxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1019198?v=4","gravatar_id":"","url":"https://api.github.com/users/mhils","html_url":"https://github.com/mhils","followers_url":"https://api.github.com/users/mhils/followers","following_url":"https://api.github.com/users/mhils/following{/other_user}","gists_url":"https://api.github.com/users/mhils/gists{/gist_id}","starred_url":"https://api.github.com/users/mhils/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhils/subscriptions","organizations_url":"https://api.github.com/users/mhils/orgs","repos_url":"https://api.github.com/users/mhils/repos","events_url":"https://api.github.com/users/mhils/events{/privacy}","received_events_url":"https://api.github.com/users/mhils/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-25T13:46:33Z","updated_at":"2015-12-25T13:46:33Z","body":"Take a look at http://docs.mitmproxy.org/en/stable/modes.html#transparent-proxy - what you're doing (DNS redirection) does not work, as mitmproxy is unable to figure out the original destination (as in the red illustration).\n\nYou can usually customize the standard gateway on the device, so I'd suggest doing that.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/comments/167236151/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mhils","id":1019198,"node_id":"MDQ6VXNlcjEwMTkxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1019198?v=4","gravatar_id":"","url":"https://api.github.com/users/mhils","html_url":"https://github.com/mhils","followers_url":"https://api.github.com/users/mhils/followers","following_url":"https://api.github.com/users/mhils/following{/other_user}","gists_url":"https://api.github.com/users/mhils/gists{/gist_id}","starred_url":"https://api.github.com/users/mhils/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhils/subscriptions","organizations_url":"https://api.github.com/users/mhils/orgs","repos_url":"https://api.github.com/users/mhils/repos","events_url":"https://api.github.com/users/mhils/events{/privacy}","received_events_url":"https://api.github.com/users/mhils/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/comments/167236242","html_url":"https://github.com/mitmproxy/mitmproxy/issues/861#issuecomment-167236242","issue_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/861","id":167236242,"node_id":"MDEyOklzc3VlQ29tbWVudDE2NzIzNjI0Mg==","user":{"login":"Leseratte10","id":6040787,"node_id":"MDQ6VXNlcjYwNDA3ODc=","avatar_url":"https://avatars.githubusercontent.com/u/6040787?v=4","gravatar_id":"","url":"https://api.github.com/users/Leseratte10","html_url":"https://github.com/Leseratte10","followers_url":"https://api.github.com/users/Leseratte10/followers","following_url":"https://api.github.com/users/Leseratte10/following{/other_user}","gists_url":"https://api.github.com/users/Leseratte10/gists{/gist_id}","starred_url":"https://api.github.com/users/Leseratte10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Leseratte10/subscriptions","organizations_url":"https://api.github.com/users/Leseratte10/orgs","repos_url":"https://api.github.com/users/Leseratte10/repos","events_url":"https://api.github.com/users/Leseratte10/events{/privacy}","received_events_url":"https://api.github.com/users/Leseratte10/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-25T13:49:36Z","updated_at":"2015-12-25T13:49:36Z","body":"Setting the default gateway to my computers IP resulted in the device not connecting at all (error) and mitmproxy doesn't show anything. \n\nCan't I just tell mitmproxy the correct destination host to forward all requests to? The device just connects to one single HTTPS site. \n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/comments/167236242/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Leseratte10","id":6040787,"node_id":"MDQ6VXNlcjYwNDA3ODc=","avatar_url":"https://avatars.githubusercontent.com/u/6040787?v=4","gravatar_id":"","url":"https://api.github.com/users/Leseratte10","html_url":"https://github.com/Leseratte10","followers_url":"https://api.github.com/users/Leseratte10/followers","following_url":"https://api.github.com/users/Leseratte10/following{/other_user}","gists_url":"https://api.github.com/users/Leseratte10/gists{/gist_id}","starred_url":"https://api.github.com/users/Leseratte10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Leseratte10/subscriptions","organizations_url":"https://api.github.com/users/Leseratte10/orgs","repos_url":"https://api.github.com/users/Leseratte10/repos","events_url":"https://api.github.com/users/Leseratte10/events{/privacy}","received_events_url":"https://api.github.com/users/Leseratte10/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/comments/167236299","html_url":"https://github.com/mitmproxy/mitmproxy/issues/861#issuecomment-167236299","issue_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/861","id":167236299,"node_id":"MDEyOklzc3VlQ29tbWVudDE2NzIzNjI5OQ==","user":{"login":"mhils","id":1019198,"node_id":"MDQ6VXNlcjEwMTkxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1019198?v=4","gravatar_id":"","url":"https://api.github.com/users/mhils","html_url":"https://github.com/mhils","followers_url":"https://api.github.com/users/mhils/followers","following_url":"https://api.github.com/users/mhils/following{/other_user}","gists_url":"https://api.github.com/users/mhils/gists{/gist_id}","starred_url":"https://api.github.com/users/mhils/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhils/subscriptions","organizations_url":"https://api.github.com/users/mhils/orgs","repos_url":"https://api.github.com/users/mhils/repos","events_url":"https://api.github.com/users/mhils/events{/privacy}","received_events_url":"https://api.github.com/users/mhils/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-25T13:51:04Z","updated_at":"2015-12-25T13:51:04Z","body":"If you only have a single target address, just setup mitmproxy as a reverse proxy (see same docs page) and you should be good. :smiley:\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/comments/167236299/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mhils","id":1019198,"node_id":"MDQ6VXNlcjEwMTkxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1019198?v=4","gravatar_id":"","url":"https://api.github.com/users/mhils","html_url":"https://github.com/mhils","followers_url":"https://api.github.com/users/mhils/followers","following_url":"https://api.github.com/users/mhils/following{/other_user}","gists_url":"https://api.github.com/users/mhils/gists{/gist_id}","starred_url":"https://api.github.com/users/mhils/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhils/subscriptions","organizations_url":"https://api.github.com/users/mhils/orgs","repos_url":"https://api.github.com/users/mhils/repos","events_url":"https://api.github.com/users/mhils/events{/privacy}","received_events_url":"https://api.github.com/users/mhils/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"dufferzafar","id":1449512,"node_id":"MDQ6VXNlcjE0NDk1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1449512?v=4","gravatar_id":"","url":"https://api.github.com/users/dufferzafar","html_url":"https://github.com/dufferzafar","followers_url":"https://api.github.com/users/dufferzafar/followers","following_url":"https://api.github.com/users/dufferzafar/following{/other_user}","gists_url":"https://api.github.com/users/dufferzafar/gists{/gist_id}","starred_url":"https://api.github.com/users/dufferzafar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dufferzafar/subscriptions","organizations_url":"https://api.github.com/users/dufferzafar/orgs","repos_url":"https://api.github.com/users/dufferzafar/repos","events_url":"https://api.github.com/users/dufferzafar/events{/privacy}","received_events_url":"https://api.github.com/users/dufferzafar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-01-26T08:47:08Z","updated_at":"2016-01-26T08:47:08Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/888","repository_url":"https://api.github.com/repos/mitmproxy/mitmproxy","labels_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/888/labels{/name}","comments_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/888/comments","events_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/888/events","html_url":"https://github.com/mitmproxy/mitmproxy/issues/888","id":127351512,"node_id":"MDU6SXNzdWUxMjczNTE1MTI=","number":888,"title":"Crash when using --tcp if no server_name extension","user":{"login":"jquesnelle","id":687076,"node_id":"MDQ6VXNlcjY4NzA3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/687076?v=4","gravatar_id":"","url":"https://api.github.com/users/jquesnelle","html_url":"https://github.com/jquesnelle","followers_url":"https://api.github.com/users/jquesnelle/followers","following_url":"https://api.github.com/users/jquesnelle/following{/other_user}","gists_url":"https://api.github.com/users/jquesnelle/gists{/gist_id}","starred_url":"https://api.github.com/users/jquesnelle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jquesnelle/subscriptions","organizations_url":"https://api.github.com/users/jquesnelle/orgs","repos_url":"https://api.github.com/users/jquesnelle/repos","events_url":"https://api.github.com/users/jquesnelle/events{/privacy}","received_events_url":"https://api.github.com/users/jquesnelle/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":79336502,"node_id":"MDU6TGFiZWw3OTMzNjUwMg==","url":"https://api.github.com/repos/mitmproxy/mitmproxy/labels/kind/bug","name":"kind/bug","color":"d93f0b","default":false,"description":null}],"state":"closed","locked":false,"assignee":{"login":"mhils","id":1019198,"node_id":"MDQ6VXNlcjEwMTkxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1019198?v=4","gravatar_id":"","url":"https://api.github.com/users/mhils","html_url":"https://github.com/mhils","followers_url":"https://api.github.com/users/mhils/followers","following_url":"https://api.github.com/users/mhils/following{/other_user}","gists_url":"https://api.github.com/users/mhils/gists{/gist_id}","starred_url":"https://api.github.com/users/mhils/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhils/subscriptions","organizations_url":"https://api.github.com/users/mhils/orgs","repos_url":"https://api.github.com/users/mhils/repos","events_url":"https://api.github.com/users/mhils/events{/privacy}","received_events_url":"https://api.github.com/users/mhils/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"mhils","id":1019198,"node_id":"MDQ6VXNlcjEwMTkxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1019198?v=4","gravatar_id":"","url":"https://api.github.com/users/mhils","html_url":"https://github.com/mhils","followers_url":"https://api.github.com/users/mhils/followers","following_url":"https://api.github.com/users/mhils/following{/other_user}","gists_url":"https://api.github.com/users/mhils/gists{/gist_id}","starred_url":"https://api.github.com/users/mhils/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhils/subscriptions","organizations_url":"https://api.github.com/users/mhils/orgs","repos_url":"https://api.github.com/users/mhils/repos","events_url":"https://api.github.com/users/mhils/events{/privacy}","received_events_url":"https://api.github.com/users/mhils/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":3,"created_at":"2016-01-19T02:33:20Z","updated_at":"2016-02-02T17:18:09Z","closed_at":"2016-02-02T17:18:09Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":519832,"node_id":"MDEwOlJlcG9zaXRvcnk1MTk4MzI=","name":"mitmproxy","full_name":"mitmproxy/mitmproxy","private":false,"owner":{"login":"mitmproxy","id":4652787,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ2NTI3ODc=","avatar_url":"https://avatars.githubusercontent.com/u/4652787?v=4","gravatar_id":"","url":"https://api.github.com/users/mitmproxy","html_url":"https://github.com/mitmproxy","followers_url":"https://api.github.com/users/mitmproxy/followers","following_url":"https://api.github.com/users/mitmproxy/following{/other_user}","gists_url":"https://api.github.com/users/mitmproxy/gists{/gist_id}","starred_url":"https://api.github.com/users/mitmproxy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mitmproxy/subscriptions","organizations_url":"https://api.github.com/users/mitmproxy/orgs","repos_url":"https://api.github.com/users/mitmproxy/repos","events_url":"https://api.github.com/users/mitmproxy/events{/privacy}","received_events_url":"https://api.github.com/users/mitmproxy/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/mitmproxy/mitmproxy","description":"An interactive TLS-capable intercepting HTTP proxy for penetration testers and software developers.","fork":false,"url":"https://api.github.com/repos/mitmproxy/mitmproxy","forks_url":"https://api.github.com/repos/mitmproxy/mitmproxy/forks","keys_url":"https://api.github.com/repos/mitmproxy/mitmproxy/keys{/key_id}","collaborators_url":"https://api.github.com/repos/mitmproxy/mitmproxy/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/mitmproxy/mitmproxy/teams","hooks_url":"https://api.github.com/repos/mitmproxy/mitmproxy/hooks","issue_events_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/events{/number}","events_url":"https://api.github.com/repos/mitmproxy/mitmproxy/events","assignees_url":"https://api.github.com/repos/mitmproxy/mitmproxy/assignees{/user}","branches_url":"https://api.github.com/repos/mitmproxy/mitmproxy/branches{/branch}","tags_url":"https://api.github.com/repos/mitmproxy/mitmproxy/tags","blobs_url":"https://api.github.com/repos/mitmproxy/mitmproxy/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/mitmproxy/mitmproxy/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/mitmproxy/mitmproxy/git/refs{/sha}","trees_url":"https://api.github.com/repos/mitmproxy/mitmproxy/git/trees{/sha}","statuses_url":"https://api.github.com/repos/mitmproxy/mitmproxy/statuses/{sha}","languages_url":"https://api.github.com/repos/mitmproxy/mitmproxy/languages","stargazers_url":"https://api.github.com/repos/mitmproxy/mitmproxy/stargazers","contributors_url":"https://api.github.com/repos/mitmproxy/mitmproxy/contributors","subscribers_url":"https://api.github.com/repos/mitmproxy/mitmproxy/subscribers","subscription_url":"https://api.github.com/repos/mitmproxy/mitmproxy/subscription","commits_url":"https://api.github.com/repos/mitmproxy/mitmproxy/commits{/sha}","git_commits_url":"https://api.github.com/repos/mitmproxy/mitmproxy/git/commits{/sha}","comments_url":"https://api.github.com/repos/mitmproxy/mitmproxy/comments{/number}","issue_comment_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/comments{/number}","contents_url":"https://api.github.com/repos/mitmproxy/mitmproxy/contents/{+path}","compare_url":"https://api.github.com/repos/mitmproxy/mitmproxy/compare/{base}...{head}","merges_url":"https://api.github.com/repos/mitmproxy/mitmproxy/merges","archive_url":"https://api.github.com/repos/mitmproxy/mitmproxy/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/mitmproxy/mitmproxy/downloads","issues_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues{/number}","pulls_url":"https://api.github.com/repos/mitmproxy/mitmproxy/pulls{/number}","milestones_url":"https://api.github.com/repos/mitmproxy/mitmproxy/milestones{/number}","notifications_url":"https://api.github.com/repos/mitmproxy/mitmproxy/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/mitmproxy/mitmproxy/labels{/name}","releases_url":"https://api.github.com/repos/mitmproxy/mitmproxy/releases{/id}","deployments_url":"https://api.github.com/repos/mitmproxy/mitmproxy/deployments","created_at":"2010-02-16T04:10:13Z","updated_at":"2025-11-09T17:55:49Z","pushed_at":"2025-11-09T14:36:54Z","git_url":"git://github.com/mitmproxy/mitmproxy.git","ssh_url":"git@github.com:mitmproxy/mitmproxy.git","clone_url":"https://github.com/mitmproxy/mitmproxy.git","svn_url":"https://github.com/mitmproxy/mitmproxy","homepage":"https://mitmproxy.org","size":67124,"stargazers_count":41160,"watchers_count":41160,"language":"Python","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":4359,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":387,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["debugging","http","http2","man-in-the-middle","mitmproxy","proxy","python","security","ssl","tls","websocket"],"visibility":"public","forks":4359,"open_issues":387,"watchers":41160,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"I'm using --tcp in the hopes of transparently proxying SSL. The MITMed device is connecting via TLS without the \"server_name\" extension in the Client Hello. When this happens, I get the following crash (it looks like it's not checking to see if there is no host name for the connection). Reproduced this from the v0.15 tag\n\n```\nTraceback (most recent call last):\n  File \"/home/jeffq/mitmproxy-src/libmproxy/proxy/server.py\", line 120, in handle\n    root_layer()\n  File \"/home/jeffq/mitmproxy-src/libmproxy/proxy/modes/http_proxy.py\", line 10, in __call__\n    layer()\n  File \"/home/jeffq/mitmproxy-src/libmproxy/protocol/tls.py\", line 267, in __call__\n    self._establish_tls_with_client_and_server()\n  File \"/home/jeffq/mitmproxy-src/libmproxy/protocol/tls.py\", line 392, in _establish_tls_with_client_and_server\n    six.reraise(*sys.exc_info())\n  File \"/home/jeffq/mitmproxy-src/libmproxy/protocol/tls.py\", line 389, in _establish_tls_with_client_and_server\n    self._establish_tls_with_client()\n  File \"/home/jeffq/mitmproxy-src/libmproxy/protocol/tls.py\", line 398, in _establish_tls_with_client\n    cert, key, chain_file = self._find_cert()\n  File \"/home/jeffq/mitmproxy-src/libmproxy/protocol/tls.py\", line 497, in _find_cert\n    host = self.server_conn.address.host\nAttributeError: 'NoneType' object has no attribute 'host'\n\nmitmproxy has crashed!\nPlease lodge a bug report at: https://github.com/mitmproxy/mitmproxy\n```\n","reactions":{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/888/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/888/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"id":526277978,"node_id":"MDEzOkFzc2lnbmVkRXZlbnQ1MjYyNzc5Nzg=","url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/events/526277978","actor":{"login":"mhils","id":1019198,"node_id":"MDQ6VXNlcjEwMTkxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1019198?v=4","gravatar_id":"","url":"https://api.github.com/users/mhils","html_url":"https://github.com/mhils","followers_url":"https://api.github.com/users/mhils/followers","following_url":"https://api.github.com/users/mhils/following{/other_user}","gists_url":"https://api.github.com/users/mhils/gists{/gist_id}","starred_url":"https://api.github.com/users/mhils/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhils/subscriptions","organizations_url":"https://api.github.com/users/mhils/orgs","repos_url":"https://api.github.com/users/mhils/repos","events_url":"https://api.github.com/users/mhils/events{/privacy}","received_events_url":"https://api.github.com/users/mhils/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2016-01-26T10:25:27Z","assignee":{"login":"mhils","id":1019198,"node_id":"MDQ6VXNlcjEwMTkxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1019198?v=4","gravatar_id":"","url":"https://api.github.com/users/mhils","html_url":"https://github.com/mhils","followers_url":"https://api.github.com/users/mhils/followers","following_url":"https://api.github.com/users/mhils/following{/other_user}","gists_url":"https://api.github.com/users/mhils/gists{/gist_id}","starred_url":"https://api.github.com/users/mhils/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhils/subscriptions","organizations_url":"https://api.github.com/users/mhils/orgs","repos_url":"https://api.github.com/users/mhils/repos","events_url":"https://api.github.com/users/mhils/events{/privacy}","received_events_url":"https://api.github.com/users/mhils/received_events","type":"User","user_view_type":"public","site_admin":false},"performed_via_github_app":null},{"id":536174903,"node_id":"MDExOkNsb3NlZEV2ZW50NTM2MTc0OTAz","url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/events/536174903","actor":{"login":"mhils","id":1019198,"node_id":"MDQ6VXNlcjEwMTkxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1019198?v=4","gravatar_id":"","url":"https://api.github.com/users/mhils","html_url":"https://github.com/mhils","followers_url":"https://api.github.com/users/mhils/followers","following_url":"https://api.github.com/users/mhils/following{/other_user}","gists_url":"https://api.github.com/users/mhils/gists{/gist_id}","starred_url":"https://api.github.com/users/mhils/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhils/subscriptions","organizations_url":"https://api.github.com/users/mhils/orgs","repos_url":"https://api.github.com/users/mhils/repos","events_url":"https://api.github.com/users/mhils/events{/privacy}","received_events_url":"https://api.github.com/users/mhils/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"8c4d8b37855ff86d4a40cd4520968cd6f41b55cc","commit_url":"https://api.github.com/repos/mitmproxy/mitmproxy/commits/8c4d8b37855ff86d4a40cd4520968cd6f41b55cc","created_at":"2016-02-02T17:18:09Z","state_reason":null,"performed_via_github_app":null},{"actor":{"login":"mhils","id":1019198,"node_id":"MDQ6VXNlcjEwMTkxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1019198?v=4","gravatar_id":"","url":"https://api.github.com/users/mhils","html_url":"https://github.com/mhils","followers_url":"https://api.github.com/users/mhils/followers","following_url":"https://api.github.com/users/mhils/following{/other_user}","gists_url":"https://api.github.com/users/mhils/gists{/gist_id}","starred_url":"https://api.github.com/users/mhils/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhils/subscriptions","organizations_url":"https://api.github.com/users/mhils/orgs","repos_url":"https://api.github.com/users/mhils/repos","events_url":"https://api.github.com/users/mhils/events{/privacy}","received_events_url":"https://api.github.com/users/mhils/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-02-04T17:03:12Z","updated_at":"2016-02-04T17:03:12Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/913","repository_url":"https://api.github.com/repos/mitmproxy/mitmproxy","labels_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/913/labels{/name}","comments_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/913/comments","events_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/913/events","html_url":"https://github.com/mitmproxy/mitmproxy/issues/913","id":131307931,"node_id":"MDU6SXNzdWUxMzEzMDc5MzE=","number":913,"title":"Crash report","user":{"login":"akosma","id":55348,"node_id":"MDQ6VXNlcjU1MzQ4","avatar_url":"https://avatars.githubusercontent.com/u/55348?v=4","gravatar_id":"","url":"https://api.github.com/users/akosma","html_url":"https://github.com/akosma","followers_url":"https://api.github.com/users/akosma/followers","following_url":"https://api.github.com/users/akosma/following{/other_user}","gists_url":"https://api.github.com/users/akosma/gists{/gist_id}","starred_url":"https://api.github.com/users/akosma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akosma/subscriptions","organizations_url":"https://api.github.com/users/akosma/orgs","repos_url":"https://api.github.com/users/akosma/repos","events_url":"https://api.github.com/users/akosma/events{/privacy}","received_events_url":"https://api.github.com/users/akosma/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":79336502,"node_id":"MDU6TGFiZWw3OTMzNjUwMg==","url":"https://api.github.com/repos/mitmproxy/mitmproxy/labels/kind/bug","name":"kind/bug","color":"d93f0b","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2016-02-04T10:39:28Z","updated_at":"2016-02-04T17:03:22Z","closed_at":"2016-02-04T17:03:12Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":519832,"node_id":"MDEwOlJlcG9zaXRvcnk1MTk4MzI=","name":"mitmproxy","full_name":"mitmproxy/mitmproxy","private":false,"owner":{"login":"mitmproxy","id":4652787,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ2NTI3ODc=","avatar_url":"https://avatars.githubusercontent.com/u/4652787?v=4","gravatar_id":"","url":"https://api.github.com/users/mitmproxy","html_url":"https://github.com/mitmproxy","followers_url":"https://api.github.com/users/mitmproxy/followers","following_url":"https://api.github.com/users/mitmproxy/following{/other_user}","gists_url":"https://api.github.com/users/mitmproxy/gists{/gist_id}","starred_url":"https://api.github.com/users/mitmproxy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mitmproxy/subscriptions","organizations_url":"https://api.github.com/users/mitmproxy/orgs","repos_url":"https://api.github.com/users/mitmproxy/repos","events_url":"https://api.github.com/users/mitmproxy/events{/privacy}","received_events_url":"https://api.github.com/users/mitmproxy/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/mitmproxy/mitmproxy","description":"An interactive TLS-capable intercepting HTTP proxy for penetration testers and software developers.","fork":false,"url":"https://api.github.com/repos/mitmproxy/mitmproxy","forks_url":"https://api.github.com/repos/mitmproxy/mitmproxy/forks","keys_url":"https://api.github.com/repos/mitmproxy/mitmproxy/keys{/key_id}","collaborators_url":"https://api.github.com/repos/mitmproxy/mitmproxy/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/mitmproxy/mitmproxy/teams","hooks_url":"https://api.github.com/repos/mitmproxy/mitmproxy/hooks","issue_events_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/events{/number}","events_url":"https://api.github.com/repos/mitmproxy/mitmproxy/events","assignees_url":"https://api.github.com/repos/mitmproxy/mitmproxy/assignees{/user}","branches_url":"https://api.github.com/repos/mitmproxy/mitmproxy/branches{/branch}","tags_url":"https://api.github.com/repos/mitmproxy/mitmproxy/tags","blobs_url":"https://api.github.com/repos/mitmproxy/mitmproxy/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/mitmproxy/mitmproxy/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/mitmproxy/mitmproxy/git/refs{/sha}","trees_url":"https://api.github.com/repos/mitmproxy/mitmproxy/git/trees{/sha}","statuses_url":"https://api.github.com/repos/mitmproxy/mitmproxy/statuses/{sha}","languages_url":"https://api.github.com/repos/mitmproxy/mitmproxy/languages","stargazers_url":"https://api.github.com/repos/mitmproxy/mitmproxy/stargazers","contributors_url":"https://api.github.com/repos/mitmproxy/mitmproxy/contributors","subscribers_url":"https://api.github.com/repos/mitmproxy/mitmproxy/subscribers","subscription_url":"https://api.github.com/repos/mitmproxy/mitmproxy/subscription","commits_url":"https://api.github.com/repos/mitmproxy/mitmproxy/commits{/sha}","git_commits_url":"https://api.github.com/repos/mitmproxy/mitmproxy/git/commits{/sha}","comments_url":"https://api.github.com/repos/mitmproxy/mitmproxy/comments{/number}","issue_comment_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/comments{/number}","contents_url":"https://api.github.com/repos/mitmproxy/mitmproxy/contents/{+path}","compare_url":"https://api.github.com/repos/mitmproxy/mitmproxy/compare/{base}...{head}","merges_url":"https://api.github.com/repos/mitmproxy/mitmproxy/merges","archive_url":"https://api.github.com/repos/mitmproxy/mitmproxy/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/mitmproxy/mitmproxy/downloads","issues_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues{/number}","pulls_url":"https://api.github.com/repos/mitmproxy/mitmproxy/pulls{/number}","milestones_url":"https://api.github.com/repos/mitmproxy/mitmproxy/milestones{/number}","notifications_url":"https://api.github.com/repos/mitmproxy/mitmproxy/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/mitmproxy/mitmproxy/labels{/name}","releases_url":"https://api.github.com/repos/mitmproxy/mitmproxy/releases{/id}","deployments_url":"https://api.github.com/repos/mitmproxy/mitmproxy/deployments","created_at":"2010-02-16T04:10:13Z","updated_at":"2025-11-09T17:55:49Z","pushed_at":"2025-11-09T14:36:54Z","git_url":"git://github.com/mitmproxy/mitmproxy.git","ssh_url":"git@github.com:mitmproxy/mitmproxy.git","clone_url":"https://github.com/mitmproxy/mitmproxy.git","svn_url":"https://github.com/mitmproxy/mitmproxy","homepage":"https://mitmproxy.org","size":67124,"stargazers_count":41160,"watchers_count":41160,"language":"Python","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":4359,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":387,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["debugging","http","http2","man-in-the-middle","mitmproxy","proxy","python","security","ssl","tls","websocket"],"visibility":"public","forks":4359,"open_issues":387,"watchers":41160,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"##### Steps to reproduce the problem:\n\nJust launched mitmproxy, setup a mobile device to use it as proxy, started browsing the web on the device, this happened:\n\n```\nTraceback (most recent call last):\n  File \"/usr/local/Cellar/mitmproxy/0.15/libexec/lib/python2.7/site-packages/libmproxy/proxy/server.py\", line 120, in handle\n    root_layer()\n  File \"/usr/local/Cellar/mitmproxy/0.15/libexec/lib/python2.7/site-packages/libmproxy/proxy/modes/http_proxy.py\", line 10, in __call__\n    layer()\n  File \"/usr/local/Cellar/mitmproxy/0.15/libexec/lib/python2.7/site-packages/libmproxy/protocol/tls.py\", line 267, in __call__\n    self._establish_tls_with_client_and_server()\n  File \"/usr/local/Cellar/mitmproxy/0.15/libexec/lib/python2.7/site-packages/libmproxy/protocol/tls.py\", line 392, in _establish_tls_with_client_and_server\n    six.reraise(*sys.exc_info())\n  File \"/usr/local/Cellar/mitmproxy/0.15/libexec/lib/python2.7/site-packages/libmproxy/protocol/tls.py\", line 389, in _establish_tls_with_client_and_server\n    self._establish_tls_with_client()\n  File \"/usr/local/Cellar/mitmproxy/0.15/libexec/lib/python2.7/site-packages/libmproxy/protocol/tls.py\", line 398, in _establish_tls_with_client\n    cert, key, chain_file = self._find_cert()\n  File \"/usr/local/Cellar/mitmproxy/0.15/libexec/lib/python2.7/site-packages/libmproxy/protocol/tls.py\", line 497, in _find_cert\n    host = self.server_conn.address.host\nAttributeError: 'NoneType' object has no attribute 'host'\n```\n##### What is the expected behavior?\n\nNot crash.\n##### What went wrong?\n\nCrash.\n##### Any other comments?\n\nNope.\n\n---\n\nmitmproxy version: 0.15\nOperating System: OS X El Capitan 10.11.3\n","reactions":{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/913/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/913/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"mhils","id":1019198,"node_id":"MDQ6VXNlcjEwMTkxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1019198?v=4","gravatar_id":"","url":"https://api.github.com/users/mhils","html_url":"https://github.com/mhils","followers_url":"https://api.github.com/users/mhils/followers","following_url":"https://api.github.com/users/mhils/following{/other_user}","gists_url":"https://api.github.com/users/mhils/gists{/gist_id}","starred_url":"https://api.github.com/users/mhils/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhils/subscriptions","organizations_url":"https://api.github.com/users/mhils/orgs","repos_url":"https://api.github.com/users/mhils/repos","events_url":"https://api.github.com/users/mhils/events{/privacy}","received_events_url":"https://api.github.com/users/mhils/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-22T22:22:30Z","updated_at":"2016-07-22T22:22:30Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/1409","repository_url":"https://api.github.com/repos/mitmproxy/mitmproxy","labels_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/1409/labels{/name}","comments_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/1409/comments","events_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/1409/events","html_url":"https://github.com/mitmproxy/mitmproxy/issues/1409","id":167143386,"node_id":"MDU6SXNzdWUxNjcxNDMzODY=","number":1409,"title":"mitmproxy has crashed! AttributeError: 'NoneType' object has no attribute 'host'","user":{"login":"shrikantkaramkar","id":6853589,"node_id":"MDQ6VXNlcjY4NTM1ODk=","avatar_url":"https://avatars.githubusercontent.com/u/6853589?v=4","gravatar_id":"","url":"https://api.github.com/users/shrikantkaramkar","html_url":"https://github.com/shrikantkaramkar","followers_url":"https://api.github.com/users/shrikantkaramkar/followers","following_url":"https://api.github.com/users/shrikantkaramkar/following{/other_user}","gists_url":"https://api.github.com/users/shrikantkaramkar/gists{/gist_id}","starred_url":"https://api.github.com/users/shrikantkaramkar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shrikantkaramkar/subscriptions","organizations_url":"https://api.github.com/users/shrikantkaramkar/orgs","repos_url":"https://api.github.com/users/shrikantkaramkar/repos","events_url":"https://api.github.com/users/shrikantkaramkar/events{/privacy}","received_events_url":"https://api.github.com/users/shrikantkaramkar/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2016-07-22T22:20:33Z","updated_at":"2016-07-22T22:22:44Z","closed_at":"2016-07-22T22:22:30Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":519832,"node_id":"MDEwOlJlcG9zaXRvcnk1MTk4MzI=","name":"mitmproxy","full_name":"mitmproxy/mitmproxy","private":false,"owner":{"login":"mitmproxy","id":4652787,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQ2NTI3ODc=","avatar_url":"https://avatars.githubusercontent.com/u/4652787?v=4","gravatar_id":"","url":"https://api.github.com/users/mitmproxy","html_url":"https://github.com/mitmproxy","followers_url":"https://api.github.com/users/mitmproxy/followers","following_url":"https://api.github.com/users/mitmproxy/following{/other_user}","gists_url":"https://api.github.com/users/mitmproxy/gists{/gist_id}","starred_url":"https://api.github.com/users/mitmproxy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mitmproxy/subscriptions","organizations_url":"https://api.github.com/users/mitmproxy/orgs","repos_url":"https://api.github.com/users/mitmproxy/repos","events_url":"https://api.github.com/users/mitmproxy/events{/privacy}","received_events_url":"https://api.github.com/users/mitmproxy/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/mitmproxy/mitmproxy","description":"An interactive TLS-capable intercepting HTTP proxy for penetration testers and software developers.","fork":false,"url":"https://api.github.com/repos/mitmproxy/mitmproxy","forks_url":"https://api.github.com/repos/mitmproxy/mitmproxy/forks","keys_url":"https://api.github.com/repos/mitmproxy/mitmproxy/keys{/key_id}","collaborators_url":"https://api.github.com/repos/mitmproxy/mitmproxy/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/mitmproxy/mitmproxy/teams","hooks_url":"https://api.github.com/repos/mitmproxy/mitmproxy/hooks","issue_events_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/events{/number}","events_url":"https://api.github.com/repos/mitmproxy/mitmproxy/events","assignees_url":"https://api.github.com/repos/mitmproxy/mitmproxy/assignees{/user}","branches_url":"https://api.github.com/repos/mitmproxy/mitmproxy/branches{/branch}","tags_url":"https://api.github.com/repos/mitmproxy/mitmproxy/tags","blobs_url":"https://api.github.com/repos/mitmproxy/mitmproxy/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/mitmproxy/mitmproxy/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/mitmproxy/mitmproxy/git/refs{/sha}","trees_url":"https://api.github.com/repos/mitmproxy/mitmproxy/git/trees{/sha}","statuses_url":"https://api.github.com/repos/mitmproxy/mitmproxy/statuses/{sha}","languages_url":"https://api.github.com/repos/mitmproxy/mitmproxy/languages","stargazers_url":"https://api.github.com/repos/mitmproxy/mitmproxy/stargazers","contributors_url":"https://api.github.com/repos/mitmproxy/mitmproxy/contributors","subscribers_url":"https://api.github.com/repos/mitmproxy/mitmproxy/subscribers","subscription_url":"https://api.github.com/repos/mitmproxy/mitmproxy/subscription","commits_url":"https://api.github.com/repos/mitmproxy/mitmproxy/commits{/sha}","git_commits_url":"https://api.github.com/repos/mitmproxy/mitmproxy/git/commits{/sha}","comments_url":"https://api.github.com/repos/mitmproxy/mitmproxy/comments{/number}","issue_comment_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/comments{/number}","contents_url":"https://api.github.com/repos/mitmproxy/mitmproxy/contents/{+path}","compare_url":"https://api.github.com/repos/mitmproxy/mitmproxy/compare/{base}...{head}","merges_url":"https://api.github.com/repos/mitmproxy/mitmproxy/merges","archive_url":"https://api.github.com/repos/mitmproxy/mitmproxy/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/mitmproxy/mitmproxy/downloads","issues_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues{/number}","pulls_url":"https://api.github.com/repos/mitmproxy/mitmproxy/pulls{/number}","milestones_url":"https://api.github.com/repos/mitmproxy/mitmproxy/milestones{/number}","notifications_url":"https://api.github.com/repos/mitmproxy/mitmproxy/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/mitmproxy/mitmproxy/labels{/name}","releases_url":"https://api.github.com/repos/mitmproxy/mitmproxy/releases{/id}","deployments_url":"https://api.github.com/repos/mitmproxy/mitmproxy/deployments","created_at":"2010-02-16T04:10:13Z","updated_at":"2025-11-09T17:55:49Z","pushed_at":"2025-11-09T14:36:54Z","git_url":"git://github.com/mitmproxy/mitmproxy.git","ssh_url":"git@github.com:mitmproxy/mitmproxy.git","clone_url":"https://github.com/mitmproxy/mitmproxy.git","svn_url":"https://github.com/mitmproxy/mitmproxy","homepage":"https://mitmproxy.org","size":67124,"stargazers_count":41160,"watchers_count":41160,"language":"Python","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":4359,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":387,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["debugging","http","http2","man-in-the-middle","mitmproxy","proxy","python","security","ssl","tls","websocket"],"visibility":"public","forks":4359,"open_issues":387,"watchers":41160,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"##### Steps to reproduce the problem:\n1. Redirect multiple requests requests\n##### What is the expected behavior?\n##### What went wrong?\n##### Any other comments? What have you tried so far?\n\n```\nmitmproxy has crashed!\nPlease lodge a bug report at: https://github.com/mitmproxy/mitmproxy\n```\n\n```\nTraceback (most recent call last):\n  File \"/Library/Python/2.7/site-packages/libmproxy/proxy/server.py\", line 120, in handle\n    root_layer()\n  File \"/Library/Python/2.7/site-packages/libmproxy/proxy/modes/http_proxy.py\", line 10, in __call__\n    layer()\n  File \"/Library/Python/2.7/site-packages/libmproxy/protocol/tls.py\", line 267, in __call__\n    self._establish_tls_with_client_and_server()\n  File \"/Library/Python/2.7/site-packages/libmproxy/protocol/tls.py\", line 392, in _establish_tls_with_client_and_server\n    six.reraise(*sys.exc_info())\n  File \"/Library/Python/2.7/site-packages/libmproxy/protocol/tls.py\", line 389, in _establish_tls_with_client_and_server\n    self._establish_tls_with_client()\n  File \"/Library/Python/2.7/site-packages/libmproxy/protocol/tls.py\", line 398, in _establish_tls_with_client\n    cert, key, chain_file = self._find_cert()\n  File \"/Library/Python/2.7/site-packages/libmproxy/protocol/tls.py\", line 497, in _find_cert\n    host = self.server_conn.address.host\nAttributeError: 'NoneType' object has no attribute 'host'\n```\n\n---\n\nMitmproxy Version:\nOperating System:\n\n<!-- Please use the mitmproxy forums (https://discourse.mitmproxy.org/) for support/how-to questions. Thanks! :) -->\n","reactions":{"url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/1409/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mitmproxy/mitmproxy/issues/1409/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"}]