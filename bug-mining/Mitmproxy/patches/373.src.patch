diff --git a/mitmproxy/master.py b/mitmproxy/master.py
index 720e19c3c..f34e66f67 100644
--- a/mitmproxy/master.py
+++ b/mitmproxy/master.py
@@ -73,7 +73,7 @@ class Master:
 
         self.addons.trigger("done")
 
-    def run(self, func=None):
+    def run(self):
         loop = asyncio.get_event_loop()
         self.run_loop(loop.run_forever)
 
diff --git a/mitmproxy/tools/console/consoleaddons.py b/mitmproxy/tools/console/consoleaddons.py
index 7d31811d6..6d1505602 100644
--- a/mitmproxy/tools/console/consoleaddons.py
+++ b/mitmproxy/tools/console/consoleaddons.py
@@ -60,18 +60,6 @@ class UnsupportedLog:
             f.close_message,
             f.close_reason))
 
-    def tcp_message(self, f):
-        message = f.messages[-1]
-        direction = "->" if message.from_client else "<-"
-        ctx.log.info("{client_host}:{client_port} {direction} tcp {direction} {server_host}:{server_port}".format(
-            client_host=f.client_conn.peername[0],
-            client_port=f.client_conn.peername[1],
-            server_host=f.server_conn.address[0],
-            server_port=f.server_conn.address[1],
-            direction=direction,
-        ))
-        ctx.log.debug(strutils.bytes_to_escaped_str(message.content))
-
 
 class ConsoleAddon:
     """
diff --git a/mitmproxy/tools/console/flowdetailview.py b/mitmproxy/tools/console/flowdetailview.py
index aa3d449c8..0844ac4d6 100644
--- a/mitmproxy/tools/console/flowdetailview.py
+++ b/mitmproxy/tools/console/flowdetailview.py
@@ -69,7 +69,7 @@ def flowdetails(state, flow: mitmproxy.flow.Flow):
             ]
 
             if c.altnames:
-                parts.append(("Alt names", ", ".join(strutils.bytes_to_escaped_str(x) for x in c.altnames)))
+                parts.append(("Alt names", ", ".join(c.altnames)))
             text.extend(
                 common.format_keyvals(parts, indent=4)
             )
diff --git a/mitmproxy/tools/console/window.py b/mitmproxy/tools/console/window.py
index fb2e8c1e6..bb8bdb28c 100644
--- a/mitmproxy/tools/console/window.py
+++ b/mitmproxy/tools/console/window.py
@@ -1,18 +1,18 @@
 import re
 
 import urwid
+from mitmproxy.tools.console import commands
 from mitmproxy.tools.console import common
-from mitmproxy.tools.console import signals
-from mitmproxy.tools.console import statusbar
+from mitmproxy.tools.console import eventlog
 from mitmproxy.tools.console import flowlist
 from mitmproxy.tools.console import flowview
-from mitmproxy.tools.console import commands
+from mitmproxy.tools.console import grideditor
+from mitmproxy.tools.console import help
 from mitmproxy.tools.console import keybindings
 from mitmproxy.tools.console import options
 from mitmproxy.tools.console import overlay
-from mitmproxy.tools.console import help
-from mitmproxy.tools.console import grideditor
-from mitmproxy.tools.console import eventlog
+from mitmproxy.tools.console import signals
+from mitmproxy.tools.console import statusbar
 
 
 class StackWidget(urwid.Frame):
@@ -52,23 +52,23 @@ class WindowStack:
     def __init__(self, master, base):
         self.master = master
         self.windows = dict(
-            flowlist = flowlist.FlowListBox(master),
-            flowview = flowview.FlowView(master),
-            commands = commands.Commands(master),
-            keybindings = keybindings.KeyBindings(master),
-            options = options.Options(master),
-            help = help.HelpView(master),
-            eventlog = eventlog.EventLog(master),
-
-            edit_focus_query = grideditor.QueryEditor(master),
-            edit_focus_cookies = grideditor.CookieEditor(master),
-            edit_focus_setcookies = grideditor.SetCookieEditor(master),
-            edit_focus_setcookie_attrs = grideditor.CookieAttributeEditor(master),
+            flowlist=flowlist.FlowListBox(master),
+            flowview=flowview.FlowView(master),
+            commands=commands.Commands(master),
+            keybindings=keybindings.KeyBindings(master),
+            options=options.Options(master),
+            help=help.HelpView(master),
+            eventlog=eventlog.EventLog(master),
+
+            edit_focus_query=grideditor.QueryEditor(master),
+            edit_focus_cookies=grideditor.CookieEditor(master),
+            edit_focus_setcookies=grideditor.SetCookieEditor(master),
+            edit_focus_setcookie_attrs=grideditor.CookieAttributeEditor(master),
             edit_focus_multipart_form=grideditor.RequestMultipartEditor(master),
             edit_focus_urlencoded_form=grideditor.RequestUrlEncodedEditor(master),
-            edit_focus_path = grideditor.PathEditor(master),
-            edit_focus_request_headers = grideditor.RequestHeaderEditor(master),
-            edit_focus_response_headers = grideditor.ResponseHeaderEditor(master),
+            edit_focus_path=grideditor.PathEditor(master),
+            edit_focus_request_headers=grideditor.RequestHeaderEditor(master),
+            edit_focus_response_headers=grideditor.ResponseHeaderEditor(master),
         )
         self.stack = [base]
         self.overlay = None
@@ -127,8 +127,8 @@ class Window(urwid.Frame):
         self.statusbar = statusbar.StatusBar(master)
         super().__init__(
             None,
-            header = None,
-            footer = urwid.AttrWrap(self.statusbar, "background")
+            header=None,
+            footer=urwid.AttrWrap(self.statusbar, "background")
         )
         self.master = master
         self.master.view.sig_view_refresh.connect(self.view_changed)
@@ -295,8 +295,8 @@ class Window(urwid.Frame):
         if not k:
             if args[1] == "mouse drag":
                 signals.status_message.send(
-                    message = "Hold down fn, shift, alt or ctrl to select text or use the --set console_mouse=false parameter.",
-                    expire = 1
+                    message="Hold down fn, shift, alt or ctrl to select text or use the --set console_mouse=false parameter.",
+                    expire=1
                 )
             elif args[1] == "mouse press" and args[2] == 4:
                 self.keypress(args[0], "up")
