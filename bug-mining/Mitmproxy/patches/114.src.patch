diff --git a/libmproxy/flow.py b/libmproxy/flow.py
index d735b9ece..8ee017f67 100644
--- a/libmproxy/flow.py
+++ b/libmproxy/flow.py
@@ -244,13 +244,9 @@ class ServerPlaybackState:
         _, _, path, _, query, _ = urlparse.urlparse(r.url)
         queriesArray = urlparse.parse_qsl(query, keep_blank_values=True)
 
-        # scheme should match the client connection to be able to replay
-        # although r.scheme may have been changed to http to connect to upstream server
-        scheme = "https" if flow.client_conn and flow.client_conn.ssl_established else "http"
-
         key = [
             str(r.port),
-            str(scheme),
+            str(r.scheme),
             str(r.method),
             str(path),
         ]
