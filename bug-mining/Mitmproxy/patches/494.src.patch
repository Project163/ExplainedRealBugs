diff --git a/CHANGELOG.md b/CHANGELOG.md
index bd8f10b0a..6b667cdb3 100644
--- a/CHANGELOG.md
+++ b/CHANGELOG.md
@@ -11,6 +11,8 @@
   ([#7346](https://github.com/mitmproxy/mitmproxy/pull/7346), @injust)
 - Fix a bug where a custom CA would raise an error.
   ([#7355](https://github.com/mitmproxy/mitmproxy/pull/7355), @nneonneo)
+- Fix a bug where the mitmproxy UI would crash on negative durations.
+  ([#7358](https://github.com/mitmproxy/mitmproxy/pull/7358), @mhils)
 
 ## 24 November 2024: mitmproxy 11.0.1
 
diff --git a/mitmproxy/tools/console/common.py b/mitmproxy/tools/console/common.py
index 28f4714a5..d02354c36 100644
--- a/mitmproxy/tools/console/common.py
+++ b/mitmproxy/tools/console/common.py
@@ -346,7 +346,7 @@ def format_http_content_type(content_type: str) -> tuple[str, str]:
 def format_duration(duration: float) -> tuple[str, str]:
     pretty_duration = human.pretty_duration(duration)
     style = "gradient_%02d" % int(
-        99 - 100 * min(math.log2(1 + 1000 * duration) / 12, 0.99)
+        99 - 100 * min(math.log2(max(1.0, 1000 * duration)) / 12, 0.99)
     )
     return pretty_duration, style
 
diff --git a/test/mitmproxy/tools/console/test_common.py b/test/mitmproxy/tools/console/test_common.py
index b7461bad9..b81c2491c 100644
--- a/test/mitmproxy/tools/console/test_common.py
+++ b/test/mitmproxy/tools/console/test_common.py
@@ -2,6 +2,7 @@ import urwid
 
 from mitmproxy.test import tflow
 from mitmproxy.tools.console import common
+from mitmproxy.tools.console.common import format_duration
 
 
 def test_format_flow():
@@ -13,6 +14,13 @@ def test_format_flow():
             )
 
 
+def test_format_durations():
+    assert format_duration(-0.1) == ("-100ms", "gradient_99")
+    assert format_duration(0) == ("0ms", "gradient_99")
+    assert format_duration(0.1) == ("100ms", "gradient_43")
+    assert format_duration(100) == ("100s", "gradient_00")
+
+
 def test_format_keyvals():
     assert common.format_keyvals(
         [
