diff --git a/CHANGELOG.md b/CHANGELOG.md
index c9fb64e53..a9a2a3893 100644
--- a/CHANGELOG.md
+++ b/CHANGELOG.md
@@ -6,6 +6,8 @@
   ([#5699](https://github.com/mitmproxy/mitmproxy/issues/5699), @mhils))
 * Hard exit when mitmproxy cannot write logs, fixes endless loop when parent process exits.
   ([#4669](https://github.com/mitmproxy/mitmproxy/issues/4669), @Prinzhorn))
+* Fix an permission error affecting the Docker images.
+  ([#5700](https://github.com/mitmproxy/mitmproxy/issues/5700), @mhils))
 
 
 ## 28 October 2022: mitmproxy 9.0.0
diff --git a/release/docker/docker-entrypoint.sh b/release/docker/docker-entrypoint.sh
index 93449c066..0cf853da6 100755
--- a/release/docker/docker-entrypoint.sh
+++ b/release/docker/docker-entrypoint.sh
@@ -7,14 +7,17 @@ set -o nounset
 
 MITMPROXY_PATH="/home/mitmproxy/.mitmproxy"
 
+if [ -f "$MITMPROXY_PATH/mitmproxy-ca.pem" ]; then
+  f="$MITMPROXY_PATH/mitmproxy-ca.pem"
+else
+  f="$MITMPROXY_PATH"
+fi
+usermod -o \
+    -u $(stat -c "%u" "$f") \
+    -g $(stat -c "%g" "$f") \
+    mitmproxy
+
 if [[ "$1" = "mitmdump" || "$1" = "mitmproxy" || "$1" = "mitmweb" ]]; then
-  mkdir -p "$MITMPROXY_PATH"
-  if [ -f "$MITMPROXY_PATH/mitmproxy-ca.pem" ]; then
-    usermod -o \
-        -u $(stat -c "%u" "$MITMPROXY_PATH/mitmproxy-ca.pem") \
-        -g $(stat -c "%g" "$MITMPROXY_PATH/mitmproxy-ca.pem") \
-        mitmproxy
-  fi
   gosu mitmproxy "$@"
 else
   exec "$@"
