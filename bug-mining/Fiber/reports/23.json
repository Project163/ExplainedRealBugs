{"url":"https://api.github.com/repos/gofiber/fiber/issues/2882","repository_url":"https://api.github.com/repos/gofiber/fiber","labels_url":"https://api.github.com/repos/gofiber/fiber/issues/2882/labels{/name}","comments_url":"https://api.github.com/repos/gofiber/fiber/issues/2882/comments","events_url":"https://api.github.com/repos/gofiber/fiber/issues/2882/events","html_url":"https://github.com/gofiber/fiber/issues/2882","id":2154983713,"node_id":"I_kwDODfYWS86AcnEh","number":2882,"title":":bug: [BUG]: CORS panic with AcceptOrigins with whitespace","user":{"login":"sixcolors","id":6501251,"node_id":"MDQ6VXNlcjY1MDEyNTE=","avatar_url":"https://avatars.githubusercontent.com/u/6501251?v=4","gravatar_id":"","url":"https://api.github.com/users/sixcolors","html_url":"https://github.com/sixcolors","followers_url":"https://api.github.com/users/sixcolors/followers","following_url":"https://api.github.com/users/sixcolors/following{/other_user}","gists_url":"https://api.github.com/users/sixcolors/gists{/gist_id}","starred_url":"https://api.github.com/users/sixcolors/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sixcolors/subscriptions","organizations_url":"https://api.github.com/users/sixcolors/orgs","repos_url":"https://api.github.com/users/sixcolors/repos","events_url":"https://api.github.com/users/sixcolors/events{/privacy}","received_events_url":"https://api.github.com/users/sixcolors/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2064310319,"node_id":"MDU6TGFiZWwyMDY0MzEwMzE5","url":"https://api.github.com/repos/gofiber/fiber/labels/%E2%98%A2%EF%B8%8F%20Bug","name":"‚ò¢Ô∏è Bug","color":"e11d21","default":false,"description":""}],"state":"closed","locked":false,"assignee":{"login":"sixcolors","id":6501251,"node_id":"MDQ6VXNlcjY1MDEyNTE=","avatar_url":"https://avatars.githubusercontent.com/u/6501251?v=4","gravatar_id":"","url":"https://api.github.com/users/sixcolors","html_url":"https://github.com/sixcolors","followers_url":"https://api.github.com/users/sixcolors/followers","following_url":"https://api.github.com/users/sixcolors/following{/other_user}","gists_url":"https://api.github.com/users/sixcolors/gists{/gist_id}","starred_url":"https://api.github.com/users/sixcolors/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sixcolors/subscriptions","organizations_url":"https://api.github.com/users/sixcolors/orgs","repos_url":"https://api.github.com/users/sixcolors/repos","events_url":"https://api.github.com/users/sixcolors/events{/privacy}","received_events_url":"https://api.github.com/users/sixcolors/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"sixcolors","id":6501251,"node_id":"MDQ6VXNlcjY1MDEyNTE=","avatar_url":"https://avatars.githubusercontent.com/u/6501251?v=4","gravatar_id":"","url":"https://api.github.com/users/sixcolors","html_url":"https://github.com/sixcolors","followers_url":"https://api.github.com/users/sixcolors/followers","following_url":"https://api.github.com/users/sixcolors/following{/other_user}","gists_url":"https://api.github.com/users/sixcolors/gists{/gist_id}","starred_url":"https://api.github.com/users/sixcolors/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sixcolors/subscriptions","organizations_url":"https://api.github.com/users/sixcolors/orgs","repos_url":"https://api.github.com/users/sixcolors/repos","events_url":"https://api.github.com/users/sixcolors/events{/privacy}","received_events_url":"https://api.github.com/users/sixcolors/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":1,"created_at":"2024-02-26T19:42:19Z","updated_at":"2024-03-01T12:19:34Z","closed_at":"2024-03-01T12:19:33Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"This looks like a bug to me.\r\n\r\nwill confirm shortly.\r\n\r\n_Originally posted by @sixcolors in https://github.com/gofiber/fiber/pull/2881#pullrequestreview-1901517609_\r\n\r\nExample code:\r\n  \r\n```go\r\npackage main\r\n\r\nimport (\r\n\t\"github.com/gofiber/fiber/v2\"\r\n\t\"github.com/gofiber/fiber/v2/middleware/cors\"\r\n)\r\n\r\nfunc main() {\r\n\tapp := fiber.New()\r\n\r\n\tapp.Use(cors.New(\r\n\t\tcors.Config{\r\n\t\t\tAllowOrigins: \"http://first-url.com, http://second-url.com\",\r\n\t\t\tAllowHeaders: \"Origin, Content-Type, Accept\",\r\n\t\t},\r\n\t))\r\n\r\n\tapp.Get(\"/\", func(c *fiber.Ctx) error {\r\n\t\treturn c.SendString(\"Hello, World üëã!\")\r\n\t})\r\n\r\n\tapp.Listen(\":3000\")\r\n}\r\n\r\n/*\r\nTo test the CORS policy, add the following lines to /etc/hosts:\r\n\r\n127.0.0.1 first-url.com\r\n127.0.0.1 second-url.com\r\n\r\nthen you can use the following curl command:\r\n\r\ncurl -H \"Origin: http://first-url.com\" \\\r\n     -H \"Access-Control-Request-Method: GET\" \\\r\n     -H \"Access-Control-Request-Headers: Origin, Content-Type, Accept\" \\\r\n     -X OPTIONS --verbose \\\r\n     http://localhost:3000\r\n*/\r\n```\r\n\r\noutput:\r\n\r\n```bash\r\n2024/02/26 14:53:41.612331 cors.go:125: [Warn] [CORS] Invalid origin format in configuration:  http://second-url.com\r\npanic: [CORS] Invalid origin provided in configuration\r\n```","closed_by":{"login":"gaby","id":835733,"node_id":"MDQ6VXNlcjgzNTczMw==","avatar_url":"https://avatars.githubusercontent.com/u/835733?v=4","gravatar_id":"","url":"https://api.github.com/users/gaby","html_url":"https://github.com/gaby","followers_url":"https://api.github.com/users/gaby/followers","following_url":"https://api.github.com/users/gaby/following{/other_user}","gists_url":"https://api.github.com/users/gaby/gists{/gist_id}","starred_url":"https://api.github.com/users/gaby/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaby/subscriptions","organizations_url":"https://api.github.com/users/gaby/orgs","repos_url":"https://api.github.com/users/gaby/repos","events_url":"https://api.github.com/users/gaby/events{/privacy}","received_events_url":"https://api.github.com/users/gaby/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/gofiber/fiber/issues/2882/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/gofiber/fiber/issues/2882/timeline","performed_via_github_app":null,"state_reason":"completed"}