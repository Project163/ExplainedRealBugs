{"url":"https://api.github.com/repos/fmtlib/fmt/issues/2642","repository_url":"https://api.github.com/repos/fmtlib/fmt","labels_url":"https://api.github.com/repos/fmtlib/fmt/issues/2642/labels{/name}","comments_url":"https://api.github.com/repos/fmtlib/fmt/issues/2642/comments","events_url":"https://api.github.com/repos/fmtlib/fmt/issues/2642/events","html_url":"https://github.com/fmtlib/fmt/issues/2642","id":1076933430,"node_id":"I_kwDOAGurSs5AMLM2","number":2642,"title":"Support for 'user-defined' namespace","user":{"login":"jstrzebonski","id":14062470,"node_id":"MDQ6VXNlcjE0MDYyNDcw","avatar_url":"https://avatars.githubusercontent.com/u/14062470?v=4","gravatar_id":"","url":"https://api.github.com/users/jstrzebonski","html_url":"https://github.com/jstrzebonski","followers_url":"https://api.github.com/users/jstrzebonski/followers","following_url":"https://api.github.com/users/jstrzebonski/following{/other_user}","gists_url":"https://api.github.com/users/jstrzebonski/gists{/gist_id}","starred_url":"https://api.github.com/users/jstrzebonski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jstrzebonski/subscriptions","organizations_url":"https://api.github.com/users/jstrzebonski/orgs","repos_url":"https://api.github.com/users/jstrzebonski/repos","events_url":"https://api.github.com/users/jstrzebonski/events{/privacy}","received_events_url":"https://api.github.com/users/jstrzebonski/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-12-10T14:57:39Z","updated_at":"2021-12-10T16:28:27Z","closed_at":"2021-12-10T16:28:27Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"We're using fmt in a library https://github.com/DARMA-tasking/vt, which can be next linked to an app, that itself uses fmt for its own purposes. We'd like to protect ourselves from any kind of ODR violations or ABI mismatch problems, or anything alike. It seems that the simplest way would be to just use our own namespace inside of the fmt namespace. \r\n\r\nAt first I wanted to simply define `FMT_BEGIN_NAMESPACE` to something like\r\n```cpp\r\n#define FMT_BEGIN_NAMESPACE \\\r\n  namespace fmt {           \\\r\n  FMT_INLINE_NAMESPACE vt {\r\n#endif\r\n```\r\n\r\nbut in `core.h` there's one place where `fmt::<version>` is explicitly used\r\n```cpp\r\nvoid to_string_view(...);\r\nusing fmt::v8::to_string_view;\r\n```\r\n\r\nWhat I did in the end was adding another macro, and replacing explicit references to version, with that macro\r\n\r\n```cpp\r\n#ifndef FMT_INLINE_NAMESPACE_NAME\r\n#  define FMT_INLINE_NAMESPACE_NAME v7\r\n#endif\r\n```\r\n\r\nCould something like this be added to fmt, to add possibility to easily define own namespace for fmt?\r\n\r\nFor reference, here's a PR to our library with described changes:\r\nDARMA-tasking/vt#1618","closed_by":{"login":"vitaut","id":576385,"node_id":"MDQ6VXNlcjU3NjM4NQ==","avatar_url":"https://avatars.githubusercontent.com/u/576385?v=4","gravatar_id":"","url":"https://api.github.com/users/vitaut","html_url":"https://github.com/vitaut","followers_url":"https://api.github.com/users/vitaut/followers","following_url":"https://api.github.com/users/vitaut/following{/other_user}","gists_url":"https://api.github.com/users/vitaut/gists{/gist_id}","starred_url":"https://api.github.com/users/vitaut/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vitaut/subscriptions","organizations_url":"https://api.github.com/users/vitaut/orgs","repos_url":"https://api.github.com/users/vitaut/repos","events_url":"https://api.github.com/users/vitaut/events{/privacy}","received_events_url":"https://api.github.com/users/vitaut/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/fmtlib/fmt/issues/2642/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/fmtlib/fmt/issues/2642/timeline","performed_via_github_app":null,"state_reason":"completed"}