<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:18:27 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[LANG-1704] ImmutablePair and ImmutableTriple implementation don&apos;t match final in Javadoc</title>
                <link>https://issues.apache.org/jira/browse/LANG-1704</link>
                <project id="12310481" key="LANG">Commons Lang</project>
                    <description>&lt;p&gt;As of commons-lang3 3.13.0, the ImmutablePair and ImmutableTriple classes are no longer final, even though their javadocs claim that they are. This is a problem because you can now subclass those and, for example, make an effectively mutable object that could be passed to a method with a parameter of type ImmutablePair.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13545361">LANG-1704</key>
            <summary>ImmutablePair and ImmutableTriple implementation don&apos;t match final in Javadoc</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="zman0900">Dan Ziemba</reporter>
                        <labels>
                    </labels>
                <created>Sat, 29 Jul 2023 00:13:49 +0000</created>
                <updated>Sun, 30 Jul 2023 10:20:49 +0000</updated>
                            <resolved>Sat, 29 Jul 2023 12:34:24 +0000</resolved>
                                    <version>3.13.0</version>
                                    <fixVersion>3.14.0</fixVersion>
                                    <component>lang.tuple.*</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17748789" author="erans" created="Sat, 29 Jul 2023 06:54:44 +0000"  >&lt;blockquote&gt;&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;...&amp;#93;&lt;/span&gt; classes are no longer final, even though their javadocs claim that they are.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I agree that the change performed in commit 940b79b59c7e3b6db1d7ff64ce3350ded1481e61 (with no associated JIRA page) should be reverted.&lt;/p&gt;

&lt;p&gt;The constructors should be made &quot;private&quot;.&lt;/p&gt;</comment>
                            <comment id="17748798" author="alexherbert" created="Sat, 29 Jul 2023 08:32:36 +0000"  >&lt;p&gt;Note: Now 3.13.0 is released changing back to final for the class would be a binary incompatible change. A reversion would require an exclusion on the compatibility check.&lt;/p&gt;

&lt;p&gt;Any class extending this would have to reimplement the storage of the pair to be mutable. But it is still possible, and not in keeping with the supposed intention of the class.&lt;/p&gt;</comment>
                            <comment id="17748815" author="garydgregory" created="Sat, 29 Jul 2023 12:25:55 +0000"  >&lt;p&gt;The API should stay as extensible, the use cases are:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Allow typed subclasses, for example, MyCustomPair extends ImmutablePair&amp;lt;Foo, Bar&amp;gt;&lt;/li&gt;
	&lt;li&gt;Allow inline subclasses, for example, new ImmutablePair(foo, bar) { some overrides } (handy when writing tests).&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I have use cases for both of these (at work).&lt;/p&gt;</comment>
                            <comment id="17748816" author="garydgregory" created="Sat, 29 Jul 2023 12:28:41 +0000"  >&lt;p&gt;WRT: &quot;This is a problem because you can now subclass those and, for example, make an effectively mutable object that could be passed to a method with a parameter of type ImmutablePair.&quot;&lt;/p&gt;

&lt;p&gt;If you create or use a subclass, then you are in a different use case. There is code everywhere where subclassing &lt;em&gt;can&lt;/em&gt; &quot;subvert&quot; the intent of the parent class.&lt;/p&gt;

&lt;p&gt;I will update the Javadoc.&lt;/p&gt;</comment>
                            <comment id="17748837" author="zman0900" created="Sat, 29 Jul 2023 16:07:39 +0000"  >&lt;p&gt;I&apos;d argue that removing final was already breaking change. Existing code that depends on the semantics of ImmutablePair can not safely upgrade to 3.13.0 because those semantics have now changed. If your use case requires extending the class, why not either:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Start with MutablePair&lt;/li&gt;
	&lt;li&gt;Just write a custom class&lt;/li&gt;
	&lt;li&gt;For tests, use a mocking framework such as Mockito that can mock final classes.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17748841" author="garydgregory" created="Sat, 29 Jul 2023 16:51:13 +0000"  >&lt;p&gt;&quot;I&apos;d argue that removing final was already breaking change.&quot;&lt;/p&gt;

&lt;p&gt;That&apos;s never going to be true because:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;It does not break binary compatibility&lt;/li&gt;
	&lt;li&gt;It does not break source compatibility&#160;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17748915" author="erans" created="Sun, 30 Jul 2023 10:20:49 +0000"  >&lt;blockquote&gt;&lt;p&gt;That&apos;s never going to be true ...&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;IIUC, the OP said that the change broke his use-case.  Maybe we need more details on this but I can imagine that subverting the (strong) typing system is not a good idea (passing an &quot;ImmutablePair&amp;lt;A,B&amp;gt;&quot; that could not be immutable also breaks the caller&apos;s expectation).&lt;br/&gt;
That functionality may have been broken, independently of the change being binary and/or source compatible.&lt;br/&gt;
Immutable data-structures much simplify usage, with some trade-off (like no support for inheritance).&lt;/p&gt;

&lt;p&gt;What was the intended functionality?&lt;br/&gt;
Why the class was previously &quot;final&quot;?&lt;br/&gt;
Depending on the answer, removing &quot;final&quot; was wrong, or name of the class was ill-chosen.&lt;/p&gt;

&lt;blockquote&gt;
&lt;ul&gt;
	&lt;li&gt;Allow typed subclasses, for example, MyCustomPair extends ImmutablePair&amp;lt;Foo, Bar&amp;gt;&lt;/li&gt;
	&lt;li&gt;Allow inline subclasses, for example, new ImmutablePair(foo, bar) { some overrides } (handy when writing tests).&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;

&lt;p&gt;AFAIK, this can be achieved through composition (more lines of code, sure) increasing encapsulation, and thus safety.  The latter is reduced when increasing visibility; doing so for the sake of unit tests is not good.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 14 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1jghs:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>