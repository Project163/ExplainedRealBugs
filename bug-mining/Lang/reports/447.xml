<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:17:21 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[LANG-872] EqualsBuilder methods append(Object[],Object[]) and append(Object,Object) treats array class dirrerently</title>
                <link>https://issues.apache.org/jira/browse/LANG-872</link>
                <project id="12310481" key="LANG">Commons Lang</project>
                    <description>&lt;p&gt;Method &lt;tt&gt;EqualsBuilder.append(Object[],Object[])&lt;/tt&gt; ignores classes of passed arrays and returns true if contents of both arrays are equal.&lt;br/&gt;
Method &lt;tt&gt;EqualsBuilder.append(Object,Object)&lt;/tt&gt; returns false immediately if types of passed array arguments are different.&lt;/p&gt;

&lt;p&gt;For example:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testEqualsArrays() {
        &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;[] aArray = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;[] {&lt;span class=&quot;code-quote&quot;&gt;&quot;Value&quot;&lt;/span&gt;};
        &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;[] bArray = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] {&lt;span class=&quot;code-quote&quot;&gt;&quot;Value&quot;&lt;/span&gt;};

        &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; compareAsArrays = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; EqualsBuilder().append(aArray, bArray).isEquals();
        &lt;span class=&quot;code-comment&quot;&gt;// compareAsArrays is &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
&lt;/span&gt;
        &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; aObj  = aArray;
        &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; bObj  = bArray;
        &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; compareAsObjects = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; EqualsBuilder().append(aObj, bObj).isEquals();
        &lt;span class=&quot;code-comment&quot;&gt;// compareAsObjects is &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;
&lt;/span&gt;
        assertTrue(compareAsArrays == compareAsObjects); &lt;span class=&quot;code-comment&quot;&gt;//Fails
&lt;/span&gt;    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Results of both methods should be consistent.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12633614">LANG-872</key>
            <summary>EqualsBuilder methods append(Object[],Object[]) and append(Object,Object) treats array class dirrerently</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="dmjones500">Duncan Jones</assignee>
                                    <reporter username="algirdas">Algirdas Ra&#353;&#269;ius</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 Feb 2013 13:43:30 +0000</created>
                <updated>Mon, 12 Dec 2016 15:28:04 +0000</updated>
                            <resolved>Mon, 12 Dec 2016 15:28:03 +0000</resolved>
                                    <version>2.6</version>
                    <version>3.1</version>
                                                    <component>lang.builder.*</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13584681" author="dmjones500" created="Fri, 22 Feb 2013 20:58:46 +0000"  >&lt;p&gt;Looks like a bug to me. Attached is a patch that incorporates your test (just changed the &lt;tt&gt;assertTrue&lt;/tt&gt; to &lt;tt&gt;assertEquals&lt;/tt&gt;) and a fix to &lt;tt&gt;EqualsBuilder&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="13584692" author="dmjones500" created="Fri, 22 Feb 2013 21:02:46 +0000"  >&lt;p&gt;Having said that... &lt;tt&gt;java.util.Arrays.deepEquals()&lt;/tt&gt; and &lt;tt&gt;java.util.Arrays.equals()&lt;/tt&gt; would also state that the arrays are equal. Not what I would expect, but that would suggest the commons-lang implementation is not unusual.&lt;/p&gt;</comment>
                            <comment id="13584769" author="algirdas" created="Fri, 22 Feb 2013 22:26:38 +0000"  >&lt;p&gt;I suggest that for compatibility with &lt;tt&gt;java.util.Arrays.deepEquals()&lt;/tt&gt; and &lt;tt&gt;java.util.Arrays.equals()&lt;/tt&gt; class &lt;tt&gt;EqualsBuilder&lt;/tt&gt; should also compare only array contents but not class of array itself. So &lt;tt&gt;append(Object, Object)&lt;/tt&gt; should be fixed and not &lt;tt&gt;append(Object[], Object[])&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="13585068" author="dmjones500" created="Sat, 23 Feb 2013 08:02:58 +0000"  >&lt;blockquote&gt;
&lt;p&gt;So &lt;tt&gt;append(Object, Object)&lt;/tt&gt; should be fixed and not &lt;tt&gt;append(Object[], Object[])&lt;/tt&gt;.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I don&apos;t think &lt;tt&gt;append(Object, Object)&lt;/tt&gt; should be returning true for a &lt;tt&gt;String[]&lt;/tt&gt; and a &lt;tt&gt;Object[]&lt;/tt&gt;, because &lt;tt&gt;aArray.equals(bArray)&lt;/tt&gt; is &lt;tt&gt;false&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;Perhaps the Javadocs should change to make it clear the array comparison is contents-based only?&lt;/p&gt;</comment>
                            <comment id="15742257" author="dmjones500" created="Mon, 12 Dec 2016 15:28:03 +0000"  >&lt;p&gt;I&apos;ve added an explanation to the Javadoc to explain how &lt;tt&gt;append(Object[],Object[])&lt;/tt&gt; works. I think that&apos;s sufficient to resolve this issue.&lt;/p&gt;

&lt;p&gt;Please re-open and comment if you disagree!.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Repository: commons-lang&lt;br/&gt;
Updated Branches:&lt;br/&gt;
 refs/heads/master 31fcd3bd8 -&amp;gt; f13d18cff&lt;/p&gt;


&lt;p&gt;Javadoc change to address &lt;a href=&quot;https://issues.apache.org/jira/browse/LANG-872&quot; title=&quot;EqualsBuilder methods append(Object[],Object[]) and append(Object,Object) treats array class dirrerently&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LANG-872&quot;&gt;&lt;del&gt;LANG-872&lt;/del&gt;&lt;/a&gt;. &lt;/p&gt;

&lt;p&gt;Javadocs for append(Object[],Object[]) updated to indicate it only&lt;br/&gt;
compares the contents of the arrays, not the type of the arrays.&lt;/p&gt;

&lt;p&gt;Project: &lt;a href=&quot;http://git-wip-us.apache.org/repos/asf/commons-lang/repo&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://git-wip-us.apache.org/repos/asf/commons-lang/repo&lt;/a&gt;&lt;br/&gt;
Commit: &lt;a href=&quot;http://git-wip-us.apache.org/repos/asf/commons-lang/commit/f13d18cf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://git-wip-us.apache.org/repos/asf/commons-lang/commit/f13d18cf&lt;/a&gt;&lt;br/&gt;
Tree: &lt;a href=&quot;http://git-wip-us.apache.org/repos/asf/commons-lang/tree/f13d18cf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://git-wip-us.apache.org/repos/asf/commons-lang/tree/f13d18cf&lt;/a&gt;&lt;br/&gt;
Diff: &lt;a href=&quot;http://git-wip-us.apache.org/repos/asf/commons-lang/diff/f13d18cf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://git-wip-us.apache.org/repos/asf/commons-lang/diff/f13d18cf&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12570533" name="commons-lang3-LANG-872.patch" size="1750" author="dmjones500" created="Fri, 22 Feb 2013 20:58:46 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314109</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 48 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1i7dj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314454</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>