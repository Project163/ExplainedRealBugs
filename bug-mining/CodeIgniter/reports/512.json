{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/5561","repository_url":"https://api.github.com/repos/bcit-ci/CodeIgniter","labels_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/5561/labels{/name}","comments_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/5561/comments","events_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/5561/events","html_url":"https://github.com/bcit-ci/CodeIgniter/issues/5561","id":347073536,"node_id":"MDU6SXNzdWUzNDcwNzM1MzY=","number":5561,"title":"mysqli driver requires unnecessary parameters for SSL","user":{"login":"sdsalyer","id":596870,"node_id":"MDQ6VXNlcjU5Njg3MA==","avatar_url":"https://avatars.githubusercontent.com/u/596870?v=4","gravatar_id":"","url":"https://api.github.com/users/sdsalyer","html_url":"https://github.com/sdsalyer","followers_url":"https://api.github.com/users/sdsalyer/followers","following_url":"https://api.github.com/users/sdsalyer/following{/other_user}","gists_url":"https://api.github.com/users/sdsalyer/gists{/gist_id}","starred_url":"https://api.github.com/users/sdsalyer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sdsalyer/subscriptions","organizations_url":"https://api.github.com/users/sdsalyer/orgs","repos_url":"https://api.github.com/users/sdsalyer/repos","events_url":"https://api.github.com/users/sdsalyer/events{/privacy}","received_events_url":"https://api.github.com/users/sdsalyer/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":140924,"node_id":"MDU6TGFiZWwxNDA5MjQ=","url":"https://api.github.com/repos/bcit-ci/CodeIgniter/labels/Bug","name":"Bug","color":"eb2420","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/milestones/21","html_url":"https://github.com/bcit-ci/CodeIgniter/milestone/21","labels_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/milestones/21/labels","id":3427519,"node_id":"MDk6TWlsZXN0b25lMzQyNzUxOQ==","number":21,"title":"3.1.10","description":"","creator":{"login":"narfbg","id":1058011,"node_id":"MDQ6VXNlcjEwNTgwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1058011?v=4","gravatar_id":"","url":"https://api.github.com/users/narfbg","html_url":"https://github.com/narfbg","followers_url":"https://api.github.com/users/narfbg/followers","following_url":"https://api.github.com/users/narfbg/following{/other_user}","gists_url":"https://api.github.com/users/narfbg/gists{/gist_id}","starred_url":"https://api.github.com/users/narfbg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narfbg/subscriptions","organizations_url":"https://api.github.com/users/narfbg/orgs","repos_url":"https://api.github.com/users/narfbg/repos","events_url":"https://api.github.com/users/narfbg/events{/privacy}","received_events_url":"https://api.github.com/users/narfbg/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":16,"state":"closed","created_at":"2018-06-15T10:50:51Z","updated_at":"2019-01-31T16:41:01Z","due_on":null,"closed_at":"2019-01-31T16:41:01Z"},"comments":0,"created_at":"2018-08-02T15:55:00Z","updated_at":"2018-08-22T11:23:51Z","closed_at":"2018-08-22T11:23:51Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Hi there,\r\n\r\nI think this may be an issue at the below line in mysqli driver. I'm not familiar with CI, but was attempting to install InvoicePlane, which is built with CI, and ran into this issue. I have a separate application and database server, with the database server accessible only on intranet for MySQL over SSL. However, I use self-signed certificate and normally do not have to supply any certificate-related details to connect from the application server -- whether via `mysql` client commandline tool or from WordPress applications (which also use `mysqli_real_connect`).\r\n\r\nTherefore, it may be worth reconsidering the block of code starting with the line below. I was not able to open a database connection from this CI-powered application without supplying one of the `$ssl` array values, even though it should not strictly be required?\r\n\r\nFor example, supplying the cipher should be unnecessary when verify is turned off, but I needed some value in the array to enable the `MYSQLI_CLIENT_SSL` flag.\r\n ```\r\n$sslConfig = array(\r\n     'ssl_verify' => false,\r\n     'ssl_cipher' => 'DHE-RSA-AES256-SHA'\r\n );\r\n\r\n$db['default'] = array(\r\n    // ...\r\n    'encrypt' => $sslConfig,\r\n    // ...\r\n);\r\n```\r\n\r\nhttps://github.com/bcit-ci/CodeIgniter/blob/b1769f962d74adff766666e2b3e055191bf94b63/system/database/drivers/mysqli/mysqli_driver.php#L170\r\n\r\nHope this helps!","closed_by":{"login":"narfbg","id":1058011,"node_id":"MDQ6VXNlcjEwNTgwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1058011?v=4","gravatar_id":"","url":"https://api.github.com/users/narfbg","html_url":"https://github.com/narfbg","followers_url":"https://api.github.com/users/narfbg/followers","following_url":"https://api.github.com/users/narfbg/following{/other_user}","gists_url":"https://api.github.com/users/narfbg/gists{/gist_id}","starred_url":"https://api.github.com/users/narfbg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narfbg/subscriptions","organizations_url":"https://api.github.com/users/narfbg/orgs","repos_url":"https://api.github.com/users/narfbg/repos","events_url":"https://api.github.com/users/narfbg/events{/privacy}","received_events_url":"https://api.github.com/users/narfbg/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/5561/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/5561/timeline","performed_via_github_app":null,"state_reason":"completed"}