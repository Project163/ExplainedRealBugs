[{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/245860702","html_url":"https://github.com/bcit-ci/CodeIgniter/issues/4804#issuecomment-245860702","issue_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/4804","id":245860702,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTg2MDcwMg==","user":{"login":"narfbg","id":1058011,"node_id":"MDQ6VXNlcjEwNTgwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1058011?v=4","gravatar_id":"","url":"https://api.github.com/users/narfbg","html_url":"https://github.com/narfbg","followers_url":"https://api.github.com/users/narfbg/followers","following_url":"https://api.github.com/users/narfbg/following{/other_user}","gists_url":"https://api.github.com/users/narfbg/gists{/gist_id}","starred_url":"https://api.github.com/users/narfbg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narfbg/subscriptions","organizations_url":"https://api.github.com/users/narfbg/orgs","repos_url":"https://api.github.com/users/narfbg/repos","events_url":"https://api.github.com/users/narfbg/events{/privacy}","received_events_url":"https://api.github.com/users/narfbg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-09T09:08:42Z","updated_at":"2016-09-09T09:08:42Z","body":"How exactly are you using it?\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/245860702/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"narfbg","id":1058011,"node_id":"MDQ6VXNlcjEwNTgwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1058011?v=4","gravatar_id":"","url":"https://api.github.com/users/narfbg","html_url":"https://github.com/narfbg","followers_url":"https://api.github.com/users/narfbg/followers","following_url":"https://api.github.com/users/narfbg/following{/other_user}","gists_url":"https://api.github.com/users/narfbg/gists{/gist_id}","starred_url":"https://api.github.com/users/narfbg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narfbg/subscriptions","organizations_url":"https://api.github.com/users/narfbg/orgs","repos_url":"https://api.github.com/users/narfbg/repos","events_url":"https://api.github.com/users/narfbg/events{/privacy}","received_events_url":"https://api.github.com/users/narfbg/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/245870661","html_url":"https://github.com/bcit-ci/CodeIgniter/issues/4804#issuecomment-245870661","issue_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/4804","id":245870661,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTg3MDY2MQ==","user":{"login":"iam-adty","id":14975280,"node_id":"MDQ6VXNlcjE0OTc1Mjgw","avatar_url":"https://avatars.githubusercontent.com/u/14975280?v=4","gravatar_id":"","url":"https://api.github.com/users/iam-adty","html_url":"https://github.com/iam-adty","followers_url":"https://api.github.com/users/iam-adty/followers","following_url":"https://api.github.com/users/iam-adty/following{/other_user}","gists_url":"https://api.github.com/users/iam-adty/gists{/gist_id}","starred_url":"https://api.github.com/users/iam-adty/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iam-adty/subscriptions","organizations_url":"https://api.github.com/users/iam-adty/orgs","repos_url":"https://api.github.com/users/iam-adty/repos","events_url":"https://api.github.com/users/iam-adty/events{/privacy}","received_events_url":"https://api.github.com/users/iam-adty/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-09T09:53:16Z","updated_at":"2016-09-09T10:00:45Z","body":"thanks for asking. thinkin again about how exactly i am using it, i just realize the mistake on my code.\n\nthis is how i use it:\n`public function insert_language($general_data = [], $language_data = [])\n{\n    $insert_id = 0;\n    $status = NULL;\n\n```\n$parent = [];\n$child = [];\nforeach ($language_data as $key => $value)\n{\n    if(empty($parent))\n    {\n        $parent = array_merge($general_data, $value, ['language' => $key]);\n    }\n    else\n    {\n        $child[] = array_merge($general_data, $value, ['language' => $key]);\n    }\n}\n\n$this->db->trans_start();\n\n$insert_parent = $this->db->insert($this->table, $parent);\n$parent_id = $this->db->insert_id();\n\narray_walk($child, function(&$item, $key, $parent_id){\n    $item['parent_id'] = $parent_id;\n}, $parent_id);\n\n$insert_child = $this->db->insert_batch($this->table, $child);\n\n$this->db->trans_complete();\n$status = $this->db->trans_status();\n\nreturn [\n    'status' => $status,\n    'id' => $parent_id,\n    'child_count' => $insert_child,\n    'error' => $this->db->error()\n];\n```\n\n}`\n\nthe error occurred because the use array_walk on the array before executing insert_batch. the array_walk cause the index of the array out of bound. if i add\n`reset($child)`\nbefore insert_batch, it works normal.\n\nmy point here is the different behavior of PHP5.6 and PHP7. on PHP5.6, my code works without resetting the index of the array. but on PHP7 i have to reset the index of the array.\n\nwhat do you think about this? i think there should be a code to prevent this case.\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/245870661/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"iam-adty","id":14975280,"node_id":"MDQ6VXNlcjE0OTc1Mjgw","avatar_url":"https://avatars.githubusercontent.com/u/14975280?v=4","gravatar_id":"","url":"https://api.github.com/users/iam-adty","html_url":"https://github.com/iam-adty","followers_url":"https://api.github.com/users/iam-adty/followers","following_url":"https://api.github.com/users/iam-adty/following{/other_user}","gists_url":"https://api.github.com/users/iam-adty/gists{/gist_id}","starred_url":"https://api.github.com/users/iam-adty/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iam-adty/subscriptions","organizations_url":"https://api.github.com/users/iam-adty/orgs","repos_url":"https://api.github.com/users/iam-adty/repos","events_url":"https://api.github.com/users/iam-adty/events{/privacy}","received_events_url":"https://api.github.com/users/iam-adty/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/245885867","html_url":"https://github.com/bcit-ci/CodeIgniter/issues/4804#issuecomment-245885867","issue_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/4804","id":245885867,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTg4NTg2Nw==","user":{"login":"narfbg","id":1058011,"node_id":"MDQ6VXNlcjEwNTgwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1058011?v=4","gravatar_id":"","url":"https://api.github.com/users/narfbg","html_url":"https://github.com/narfbg","followers_url":"https://api.github.com/users/narfbg/followers","following_url":"https://api.github.com/users/narfbg/following{/other_user}","gists_url":"https://api.github.com/users/narfbg/gists{/gist_id}","starred_url":"https://api.github.com/users/narfbg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narfbg/subscriptions","organizations_url":"https://api.github.com/users/narfbg/orgs","repos_url":"https://api.github.com/users/narfbg/repos","events_url":"https://api.github.com/users/narfbg/events{/privacy}","received_events_url":"https://api.github.com/users/narfbg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-09T11:15:11Z","updated_at":"2016-09-09T11:15:11Z","body":"I don't see a behavioral change between PHP 5.6 and 7.0: https://3v4l.org/aV0PR\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/245885867/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"narfbg","id":1058011,"node_id":"MDQ6VXNlcjEwNTgwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1058011?v=4","gravatar_id":"","url":"https://api.github.com/users/narfbg","html_url":"https://github.com/narfbg","followers_url":"https://api.github.com/users/narfbg/followers","following_url":"https://api.github.com/users/narfbg/following{/other_user}","gists_url":"https://api.github.com/users/narfbg/gists{/gist_id}","starred_url":"https://api.github.com/users/narfbg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narfbg/subscriptions","organizations_url":"https://api.github.com/users/narfbg/orgs","repos_url":"https://api.github.com/users/narfbg/repos","events_url":"https://api.github.com/users/narfbg/events{/privacy}","received_events_url":"https://api.github.com/users/narfbg/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"narfbg","id":1058011,"node_id":"MDQ6VXNlcjEwNTgwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1058011?v=4","gravatar_id":"","url":"https://api.github.com/users/narfbg","html_url":"https://github.com/narfbg","followers_url":"https://api.github.com/users/narfbg/followers","following_url":"https://api.github.com/users/narfbg/following{/other_user}","gists_url":"https://api.github.com/users/narfbg/gists{/gist_id}","starred_url":"https://api.github.com/users/narfbg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narfbg/subscriptions","organizations_url":"https://api.github.com/users/narfbg/orgs","repos_url":"https://api.github.com/users/narfbg/repos","events_url":"https://api.github.com/users/narfbg/events{/privacy}","received_events_url":"https://api.github.com/users/narfbg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-09T11:18:13Z","updated_at":"2016-09-09T11:18:13Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/4803","repository_url":"https://api.github.com/repos/bcit-ci/CodeIgniter","labels_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/4803/labels{/name}","comments_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/4803/comments","events_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/4803/events","html_url":"https://github.com/bcit-ci/CodeIgniter/pull/4803","id":175960621,"node_id":"MDExOlB1bGxSZXF1ZXN0ODQ2MTU5NTc=","number":4803,"title":"quick fix error insert_batch using PHP7","user":{"login":"iam-adty","id":14975280,"node_id":"MDQ6VXNlcjE0OTc1Mjgw","avatar_url":"https://avatars.githubusercontent.com/u/14975280?v=4","gravatar_id":"","url":"https://api.github.com/users/iam-adty","html_url":"https://github.com/iam-adty","followers_url":"https://api.github.com/users/iam-adty/followers","following_url":"https://api.github.com/users/iam-adty/following{/other_user}","gists_url":"https://api.github.com/users/iam-adty/gists{/gist_id}","starred_url":"https://api.github.com/users/iam-adty/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iam-adty/subscriptions","organizations_url":"https://api.github.com/users/iam-adty/orgs","repos_url":"https://api.github.com/users/iam-adty/repos","events_url":"https://api.github.com/users/iam-adty/events{/privacy}","received_events_url":"https://api.github.com/users/iam-adty/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2016-09-09T08:58:28Z","updated_at":"2016-09-30T09:42:34Z","closed_at":"2016-09-30T09:42:34Z","author_association":"NONE","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":2234102,"node_id":"MDEwOlJlcG9zaXRvcnkyMjM0MTAy","name":"CodeIgniter","full_name":"bcit-ci/CodeIgniter","private":false,"owner":{"login":"bcit-ci","id":8863432,"node_id":"MDEyOk9yZ2FuaXphdGlvbjg4NjM0MzI=","avatar_url":"https://avatars.githubusercontent.com/u/8863432?v=4","gravatar_id":"","url":"https://api.github.com/users/bcit-ci","html_url":"https://github.com/bcit-ci","followers_url":"https://api.github.com/users/bcit-ci/followers","following_url":"https://api.github.com/users/bcit-ci/following{/other_user}","gists_url":"https://api.github.com/users/bcit-ci/gists{/gist_id}","starred_url":"https://api.github.com/users/bcit-ci/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bcit-ci/subscriptions","organizations_url":"https://api.github.com/users/bcit-ci/orgs","repos_url":"https://api.github.com/users/bcit-ci/repos","events_url":"https://api.github.com/users/bcit-ci/events{/privacy}","received_events_url":"https://api.github.com/users/bcit-ci/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/bcit-ci/CodeIgniter","description":"Open Source PHP Framework (originally from EllisLab)","fork":false,"url":"https://api.github.com/repos/bcit-ci/CodeIgniter","forks_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/forks","keys_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/keys{/key_id}","collaborators_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/teams","hooks_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/hooks","issue_events_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/events{/number}","events_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/events","assignees_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/assignees{/user}","branches_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/branches{/branch}","tags_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/tags","blobs_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/git/refs{/sha}","trees_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/git/trees{/sha}","statuses_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/statuses/{sha}","languages_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/languages","stargazers_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/stargazers","contributors_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/contributors","subscribers_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/subscribers","subscription_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/subscription","commits_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/commits{/sha}","git_commits_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/git/commits{/sha}","comments_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/comments{/number}","issue_comment_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments{/number}","contents_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/contents/{+path}","compare_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/compare/{base}...{head}","merges_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/merges","archive_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/downloads","issues_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues{/number}","pulls_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/pulls{/number}","milestones_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/milestones{/number}","notifications_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/labels{/name}","releases_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/releases{/id}","deployments_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/deployments","created_at":"2011-08-19T13:34:00Z","updated_at":"2025-11-10T12:47:16Z","pushed_at":"2024-07-15T07:39:54Z","git_url":"git://github.com/bcit-ci/CodeIgniter.git","ssh_url":"git@github.com:bcit-ci/CodeIgniter.git","clone_url":"https://github.com/bcit-ci/CodeIgniter.git","svn_url":"https://github.com/bcit-ci/CodeIgniter","homepage":"https://codeigniter.com/","size":54780,"stargazers_count":18235,"watchers_count":18235,"language":"PHP","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":7636,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":105,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["php","php-framework","php7","php8"],"visibility":"public","forks":7636,"open_issues":105,"watchers":18235,"default_branch":"develop","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/pulls/4803","html_url":"https://github.com/bcit-ci/CodeIgniter/pull/4803","diff_url":"https://github.com/bcit-ci/CodeIgniter/pull/4803.diff","patch_url":"https://github.com/bcit-ci/CodeIgniter/pull/4803.patch","merged_at":null},"body":"add reset($key) on line 1548\n","reactions":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/4803/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/4803/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/245915656","html_url":"https://github.com/bcit-ci/CodeIgniter/issues/4804#issuecomment-245915656","issue_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/4804","id":245915656,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTkxNTY1Ng==","user":{"login":"iam-adty","id":14975280,"node_id":"MDQ6VXNlcjE0OTc1Mjgw","avatar_url":"https://avatars.githubusercontent.com/u/14975280?v=4","gravatar_id":"","url":"https://api.github.com/users/iam-adty","html_url":"https://github.com/iam-adty","followers_url":"https://api.github.com/users/iam-adty/followers","following_url":"https://api.github.com/users/iam-adty/following{/other_user}","gists_url":"https://api.github.com/users/iam-adty/gists{/gist_id}","starred_url":"https://api.github.com/users/iam-adty/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iam-adty/subscriptions","organizations_url":"https://api.github.com/users/iam-adty/orgs","repos_url":"https://api.github.com/users/iam-adty/repos","events_url":"https://api.github.com/users/iam-adty/events{/privacy}","received_events_url":"https://api.github.com/users/iam-adty/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-09T13:39:53Z","updated_at":"2016-09-09T13:44:53Z","body":"OK, no behavioral change. It has to be my machine then. But, the test return a bool(false) value on 5.6 and 7.0. It should return an array value, isn't? The function `_object_to_array()` don't accept value other than object, so it will return the original value. If this function got a bool(false) value, which is returned by `current($key)` if the index is out of bound, a warning message will appear because `array_keys()` only accept array. Then the generated SQL won't be perfect. It's missing field names.\n\n> Error Number: 1136\n> Column count doesn't match value count at row 1\n> INSERT INTO `prudentialkh_content` () VALUES ('','[]','en',77,99,'draft','2016-09-09 13:35:04','','EVENT')\n> Filename: core/MY_Model.php\n> Line Number: 804\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/245915656/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"iam-adty","id":14975280,"node_id":"MDQ6VXNlcjE0OTc1Mjgw","avatar_url":"https://avatars.githubusercontent.com/u/14975280?v=4","gravatar_id":"","url":"https://api.github.com/users/iam-adty","html_url":"https://github.com/iam-adty","followers_url":"https://api.github.com/users/iam-adty/followers","following_url":"https://api.github.com/users/iam-adty/following{/other_user}","gists_url":"https://api.github.com/users/iam-adty/gists{/gist_id}","starred_url":"https://api.github.com/users/iam-adty/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iam-adty/subscriptions","organizations_url":"https://api.github.com/users/iam-adty/orgs","repos_url":"https://api.github.com/users/iam-adty/repos","events_url":"https://api.github.com/users/iam-adty/events{/privacy}","received_events_url":"https://api.github.com/users/iam-adty/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/245919312","html_url":"https://github.com/bcit-ci/CodeIgniter/issues/4804#issuecomment-245919312","issue_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/4804","id":245919312,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTkxOTMxMg==","user":{"login":"narfbg","id":1058011,"node_id":"MDQ6VXNlcjEwNTgwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1058011?v=4","gravatar_id":"","url":"https://api.github.com/users/narfbg","html_url":"https://github.com/narfbg","followers_url":"https://api.github.com/users/narfbg/followers","following_url":"https://api.github.com/users/narfbg/following{/other_user}","gists_url":"https://api.github.com/users/narfbg/gists{/gist_id}","starred_url":"https://api.github.com/users/narfbg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narfbg/subscriptions","organizations_url":"https://api.github.com/users/narfbg/orgs","repos_url":"https://api.github.com/users/narfbg/repos","events_url":"https://api.github.com/users/narfbg/events{/privacy}","received_events_url":"https://api.github.com/users/narfbg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-09T13:53:33Z","updated_at":"2016-09-09T13:53:33Z","body":"... I'm not sure I understand what you're trying to say.\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/245919312/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"narfbg","id":1058011,"node_id":"MDQ6VXNlcjEwNTgwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1058011?v=4","gravatar_id":"","url":"https://api.github.com/users/narfbg","html_url":"https://github.com/narfbg","followers_url":"https://api.github.com/users/narfbg/followers","following_url":"https://api.github.com/users/narfbg/following{/other_user}","gists_url":"https://api.github.com/users/narfbg/gists{/gist_id}","starred_url":"https://api.github.com/users/narfbg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narfbg/subscriptions","organizations_url":"https://api.github.com/users/narfbg/orgs","repos_url":"https://api.github.com/users/narfbg/repos","events_url":"https://api.github.com/users/narfbg/events{/privacy}","received_events_url":"https://api.github.com/users/narfbg/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/245932774","html_url":"https://github.com/bcit-ci/CodeIgniter/issues/4804#issuecomment-245932774","issue_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/4804","id":245932774,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTkzMjc3NA==","user":{"login":"iam-adty","id":14975280,"node_id":"MDQ6VXNlcjE0OTc1Mjgw","avatar_url":"https://avatars.githubusercontent.com/u/14975280?v=4","gravatar_id":"","url":"https://api.github.com/users/iam-adty","html_url":"https://github.com/iam-adty","followers_url":"https://api.github.com/users/iam-adty/followers","following_url":"https://api.github.com/users/iam-adty/following{/other_user}","gists_url":"https://api.github.com/users/iam-adty/gists{/gist_id}","starred_url":"https://api.github.com/users/iam-adty/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iam-adty/subscriptions","organizations_url":"https://api.github.com/users/iam-adty/orgs","repos_url":"https://api.github.com/users/iam-adty/repos","events_url":"https://api.github.com/users/iam-adty/events{/privacy}","received_events_url":"https://api.github.com/users/iam-adty/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-09T14:39:00Z","updated_at":"2016-09-09T14:39:00Z","body":"I'm sorry for my bad language or explanation. Try this code on your machine with PHP 5.6 and 7.0,\n\n$data = [\n    [ 'name' => 'john'],\n    ['name' => 'doe']\n];\narray_walk($data, function(&$item){\n    $item['email'] = $item['name'] . '@email.com';\n});\n$this->db->insert_batch('user', $data);\n\ndon't bother with error 'no database salected'. i intentionally left database name blank.\n\nI got this when using PHP 5.6\n![screenshot from 2016-09-09 21-30-26](https://cloud.githubusercontent.com/assets/14975280/18390519/b3ae54b6-76d4-11e6-8826-7a6bd671c930.png)\n\nand for PHP 7.0\n![screenshot from 2016-09-09 21-29-12](https://cloud.githubusercontent.com/assets/14975280/18390541/c1503f30-76d4-11e6-9bb1-6782fd509784.png)\n![screenshot from 2016-09-09 21-29-19](https://cloud.githubusercontent.com/assets/14975280/18390553/c7dc3b74-76d4-11e6-8014-042dcbae4d59.png)\n\nFYI. I use vagrant ubuntu/xenial64 with PHP from ppa:ondrej/php\nhope it help.\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/245932774/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"iam-adty","id":14975280,"node_id":"MDQ6VXNlcjE0OTc1Mjgw","avatar_url":"https://avatars.githubusercontent.com/u/14975280?v=4","gravatar_id":"","url":"https://api.github.com/users/iam-adty","html_url":"https://github.com/iam-adty","followers_url":"https://api.github.com/users/iam-adty/followers","following_url":"https://api.github.com/users/iam-adty/following{/other_user}","gists_url":"https://api.github.com/users/iam-adty/gists{/gist_id}","starred_url":"https://api.github.com/users/iam-adty/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iam-adty/subscriptions","organizations_url":"https://api.github.com/users/iam-adty/orgs","repos_url":"https://api.github.com/users/iam-adty/repos","events_url":"https://api.github.com/users/iam-adty/events{/privacy}","received_events_url":"https://api.github.com/users/iam-adty/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/245944485","html_url":"https://github.com/bcit-ci/CodeIgniter/issues/4804#issuecomment-245944485","issue_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/4804","id":245944485,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTk0NDQ4NQ==","user":{"login":"narfbg","id":1058011,"node_id":"MDQ6VXNlcjEwNTgwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1058011?v=4","gravatar_id":"","url":"https://api.github.com/users/narfbg","html_url":"https://github.com/narfbg","followers_url":"https://api.github.com/users/narfbg/followers","following_url":"https://api.github.com/users/narfbg/following{/other_user}","gists_url":"https://api.github.com/users/narfbg/gists{/gist_id}","starred_url":"https://api.github.com/users/narfbg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narfbg/subscriptions","organizations_url":"https://api.github.com/users/narfbg/orgs","repos_url":"https://api.github.com/users/narfbg/repos","events_url":"https://api.github.com/users/narfbg/events{/privacy}","received_events_url":"https://api.github.com/users/narfbg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-09T15:19:13Z","updated_at":"2016-09-09T15:19:13Z","body":"Please don't use screenshots.\n\nYes, I see that a broken input causes a broken result - that's obvious. What I don't understand is what you claim is the problem and why.\n\nAre you still talking about a portability issue between PHP 5.6 and 7.0?\nOr are you talking about a different issue?\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/245944485/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"narfbg","id":1058011,"node_id":"MDQ6VXNlcjEwNTgwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1058011?v=4","gravatar_id":"","url":"https://api.github.com/users/narfbg","html_url":"https://github.com/narfbg","followers_url":"https://api.github.com/users/narfbg/followers","following_url":"https://api.github.com/users/narfbg/following{/other_user}","gists_url":"https://api.github.com/users/narfbg/gists{/gist_id}","starred_url":"https://api.github.com/users/narfbg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narfbg/subscriptions","organizations_url":"https://api.github.com/users/narfbg/orgs","repos_url":"https://api.github.com/users/narfbg/repos","events_url":"https://api.github.com/users/narfbg/events{/privacy}","received_events_url":"https://api.github.com/users/narfbg/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/246573170","html_url":"https://github.com/bcit-ci/CodeIgniter/issues/4804#issuecomment-246573170","issue_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/4804","id":246573170,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NjU3MzE3MA==","user":{"login":"iam-adty","id":14975280,"node_id":"MDQ6VXNlcjE0OTc1Mjgw","avatar_url":"https://avatars.githubusercontent.com/u/14975280?v=4","gravatar_id":"","url":"https://api.github.com/users/iam-adty","html_url":"https://github.com/iam-adty","followers_url":"https://api.github.com/users/iam-adty/followers","following_url":"https://api.github.com/users/iam-adty/following{/other_user}","gists_url":"https://api.github.com/users/iam-adty/gists{/gist_id}","starred_url":"https://api.github.com/users/iam-adty/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iam-adty/subscriptions","organizations_url":"https://api.github.com/users/iam-adty/orgs","repos_url":"https://api.github.com/users/iam-adty/repos","events_url":"https://api.github.com/users/iam-adty/events{/privacy}","received_events_url":"https://api.github.com/users/iam-adty/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-13T04:51:24Z","updated_at":"2016-09-13T04:51:24Z","body":"Sorry for my late response. Actually i don't know what issue is. But i don't think it is a portability issue between PHP 5.6 and 7.0 because the on your test it returns the same value.\n\nI think the problem here is the array handling in CI. You see, if i use `array_walk()` before `$this->db->insert_batch()` it would fail because the array index is out of bound. At first, I think this is a portability issue between PHP 5.6 and 7.0. But when I look and test my code again and also read the warning message generated by CI, it isn't it. The root of the error mentioned by the warning message is in the CI system. On the other hand, the documentation didn't mention to reset my array before going into `$this->db->insert_batch()`. It's a bit confusing for me.\n\nSo, if you get what i'm saying here. I'd like to suggest to add a reset/checking code in CI system for array value provided by the user before going into loops or array operation.\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/246573170/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"iam-adty","id":14975280,"node_id":"MDQ6VXNlcjE0OTc1Mjgw","avatar_url":"https://avatars.githubusercontent.com/u/14975280?v=4","gravatar_id":"","url":"https://api.github.com/users/iam-adty","html_url":"https://github.com/iam-adty","followers_url":"https://api.github.com/users/iam-adty/followers","following_url":"https://api.github.com/users/iam-adty/following{/other_user}","gists_url":"https://api.github.com/users/iam-adty/gists{/gist_id}","starred_url":"https://api.github.com/users/iam-adty/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iam-adty/subscriptions","organizations_url":"https://api.github.com/users/iam-adty/orgs","repos_url":"https://api.github.com/users/iam-adty/repos","events_url":"https://api.github.com/users/iam-adty/events{/privacy}","received_events_url":"https://api.github.com/users/iam-adty/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/247549477","html_url":"https://github.com/bcit-ci/CodeIgniter/issues/4804#issuecomment-247549477","issue_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/4804","id":247549477,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NzU0OTQ3Nw==","user":{"login":"narfbg","id":1058011,"node_id":"MDQ6VXNlcjEwNTgwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1058011?v=4","gravatar_id":"","url":"https://api.github.com/users/narfbg","html_url":"https://github.com/narfbg","followers_url":"https://api.github.com/users/narfbg/followers","following_url":"https://api.github.com/users/narfbg/following{/other_user}","gists_url":"https://api.github.com/users/narfbg/gists{/gist_id}","starred_url":"https://api.github.com/users/narfbg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narfbg/subscriptions","organizations_url":"https://api.github.com/users/narfbg/orgs","repos_url":"https://api.github.com/users/narfbg/repos","events_url":"https://api.github.com/users/narfbg/events{/privacy}","received_events_url":"https://api.github.com/users/narfbg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-16T08:45:37Z","updated_at":"2016-09-16T08:45:37Z","body":"We accept arrays in thousands of places and if we `reset()` here, we should do it everywhere ...\n\nPlease come back again when you can more clearly define the problem.\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/247549477/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"narfbg","id":1058011,"node_id":"MDQ6VXNlcjEwNTgwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1058011?v=4","gravatar_id":"","url":"https://api.github.com/users/narfbg","html_url":"https://github.com/narfbg","followers_url":"https://api.github.com/users/narfbg/followers","following_url":"https://api.github.com/users/narfbg/following{/other_user}","gists_url":"https://api.github.com/users/narfbg/gists{/gist_id}","starred_url":"https://api.github.com/users/narfbg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narfbg/subscriptions","organizations_url":"https://api.github.com/users/narfbg/orgs","repos_url":"https://api.github.com/users/narfbg/repos","events_url":"https://api.github.com/users/narfbg/events{/privacy}","received_events_url":"https://api.github.com/users/narfbg/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/250703108","html_url":"https://github.com/bcit-ci/CodeIgniter/issues/4804#issuecomment-250703108","issue_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/4804","id":250703108,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MDcwMzEwOA==","user":{"login":"iam-adty","id":14975280,"node_id":"MDQ6VXNlcjE0OTc1Mjgw","avatar_url":"https://avatars.githubusercontent.com/u/14975280?v=4","gravatar_id":"","url":"https://api.github.com/users/iam-adty","html_url":"https://github.com/iam-adty","followers_url":"https://api.github.com/users/iam-adty/followers","following_url":"https://api.github.com/users/iam-adty/following{/other_user}","gists_url":"https://api.github.com/users/iam-adty/gists{/gist_id}","starred_url":"https://api.github.com/users/iam-adty/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iam-adty/subscriptions","organizations_url":"https://api.github.com/users/iam-adty/orgs","repos_url":"https://api.github.com/users/iam-adty/repos","events_url":"https://api.github.com/users/iam-adty/events{/privacy}","received_events_url":"https://api.github.com/users/iam-adty/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-30T09:39:17Z","updated_at":"2016-09-30T09:39:17Z","body":"OK. Thanks @narfbg for your response. Case closed.\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/250703108/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"iam-adty","id":14975280,"node_id":"MDQ6VXNlcjE0OTc1Mjgw","avatar_url":"https://avatars.githubusercontent.com/u/14975280?v=4","gravatar_id":"","url":"https://api.github.com/users/iam-adty","html_url":"https://github.com/iam-adty","followers_url":"https://api.github.com/users/iam-adty/followers","following_url":"https://api.github.com/users/iam-adty/following{/other_user}","gists_url":"https://api.github.com/users/iam-adty/gists{/gist_id}","starred_url":"https://api.github.com/users/iam-adty/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iam-adty/subscriptions","organizations_url":"https://api.github.com/users/iam-adty/orgs","repos_url":"https://api.github.com/users/iam-adty/repos","events_url":"https://api.github.com/users/iam-adty/events{/privacy}","received_events_url":"https://api.github.com/users/iam-adty/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":808223068,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50ODA4MjIzMDY4","url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/events/808223068","actor":{"login":"narfbg","id":1058011,"node_id":"MDQ6VXNlcjEwNTgwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1058011?v=4","gravatar_id":"","url":"https://api.github.com/users/narfbg","html_url":"https://github.com/narfbg","followers_url":"https://api.github.com/users/narfbg/followers","following_url":"https://api.github.com/users/narfbg/following{/other_user}","gists_url":"https://api.github.com/users/narfbg/gists{/gist_id}","starred_url":"https://api.github.com/users/narfbg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narfbg/subscriptions","organizations_url":"https://api.github.com/users/narfbg/orgs","repos_url":"https://api.github.com/users/narfbg/repos","events_url":"https://api.github.com/users/narfbg/events{/privacy}","received_events_url":"https://api.github.com/users/narfbg/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2016-09-30T09:39:17Z","performed_via_github_app":null},{"id":808223069,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDgwODIyMzA2OQ==","url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/events/808223069","actor":{"login":"narfbg","id":1058011,"node_id":"MDQ6VXNlcjEwNTgwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1058011?v=4","gravatar_id":"","url":"https://api.github.com/users/narfbg","html_url":"https://github.com/narfbg","followers_url":"https://api.github.com/users/narfbg/followers","following_url":"https://api.github.com/users/narfbg/following{/other_user}","gists_url":"https://api.github.com/users/narfbg/gists{/gist_id}","starred_url":"https://api.github.com/users/narfbg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narfbg/subscriptions","organizations_url":"https://api.github.com/users/narfbg/orgs","repos_url":"https://api.github.com/users/narfbg/repos","events_url":"https://api.github.com/users/narfbg/events{/privacy}","received_events_url":"https://api.github.com/users/narfbg/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2016-09-30T09:39:18Z","performed_via_github_app":null},{"id":808223071,"node_id":"MDExOkNsb3NlZEV2ZW50ODA4MjIzMDcx","url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/events/808223071","actor":{"login":"iam-adty","id":14975280,"node_id":"MDQ6VXNlcjE0OTc1Mjgw","avatar_url":"https://avatars.githubusercontent.com/u/14975280?v=4","gravatar_id":"","url":"https://api.github.com/users/iam-adty","html_url":"https://github.com/iam-adty","followers_url":"https://api.github.com/users/iam-adty/followers","following_url":"https://api.github.com/users/iam-adty/following{/other_user}","gists_url":"https://api.github.com/users/iam-adty/gists{/gist_id}","starred_url":"https://api.github.com/users/iam-adty/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iam-adty/subscriptions","organizations_url":"https://api.github.com/users/iam-adty/orgs","repos_url":"https://api.github.com/users/iam-adty/repos","events_url":"https://api.github.com/users/iam-adty/events{/privacy}","received_events_url":"https://api.github.com/users/iam-adty/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2016-09-30T09:39:18Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/250705103","html_url":"https://github.com/bcit-ci/CodeIgniter/issues/4804#issuecomment-250705103","issue_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/4804","id":250705103,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MDcwNTEwMw==","user":{"login":"narfbg","id":1058011,"node_id":"MDQ6VXNlcjEwNTgwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1058011?v=4","gravatar_id":"","url":"https://api.github.com/users/narfbg","html_url":"https://github.com/narfbg","followers_url":"https://api.github.com/users/narfbg/followers","following_url":"https://api.github.com/users/narfbg/following{/other_user}","gists_url":"https://api.github.com/users/narfbg/gists{/gist_id}","starred_url":"https://api.github.com/users/narfbg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narfbg/subscriptions","organizations_url":"https://api.github.com/users/narfbg/orgs","repos_url":"https://api.github.com/users/narfbg/repos","events_url":"https://api.github.com/users/narfbg/events{/privacy}","received_events_url":"https://api.github.com/users/narfbg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-30T09:49:43Z","updated_at":"2016-09-30T09:49:43Z","body":"This is not a support tickets system, we don't handle issues based on individuals' problems. There's likely a bug here, it's just unknown what exactly.\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/250705103/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"narfbg","id":1058011,"node_id":"MDQ6VXNlcjEwNTgwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1058011?v=4","gravatar_id":"","url":"https://api.github.com/users/narfbg","html_url":"https://github.com/narfbg","followers_url":"https://api.github.com/users/narfbg/followers","following_url":"https://api.github.com/users/narfbg/following{/other_user}","gists_url":"https://api.github.com/users/narfbg/gists{/gist_id}","starred_url":"https://api.github.com/users/narfbg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narfbg/subscriptions","organizations_url":"https://api.github.com/users/narfbg/orgs","repos_url":"https://api.github.com/users/narfbg/repos","events_url":"https://api.github.com/users/narfbg/events{/privacy}","received_events_url":"https://api.github.com/users/narfbg/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":808234992,"node_id":"MDEzOlJlb3BlbmVkRXZlbnQ4MDgyMzQ5OTI=","url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/events/808234992","actor":{"login":"narfbg","id":1058011,"node_id":"MDQ6VXNlcjEwNTgwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1058011?v=4","gravatar_id":"","url":"https://api.github.com/users/narfbg","html_url":"https://github.com/narfbg","followers_url":"https://api.github.com/users/narfbg/followers","following_url":"https://api.github.com/users/narfbg/following{/other_user}","gists_url":"https://api.github.com/users/narfbg/gists{/gist_id}","starred_url":"https://api.github.com/users/narfbg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narfbg/subscriptions","organizations_url":"https://api.github.com/users/narfbg/orgs","repos_url":"https://api.github.com/users/narfbg/repos","events_url":"https://api.github.com/users/narfbg/events{/privacy}","received_events_url":"https://api.github.com/users/narfbg/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"reopened","commit_id":null,"commit_url":null,"created_at":"2016-09-30T09:49:43Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/250728377","html_url":"https://github.com/bcit-ci/CodeIgniter/issues/4804#issuecomment-250728377","issue_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/4804","id":250728377,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MDcyODM3Nw==","user":{"login":"tianhe1986","id":19562319,"node_id":"MDQ6VXNlcjE5NTYyMzE5","avatar_url":"https://avatars.githubusercontent.com/u/19562319?v=4","gravatar_id":"","url":"https://api.github.com/users/tianhe1986","html_url":"https://github.com/tianhe1986","followers_url":"https://api.github.com/users/tianhe1986/followers","following_url":"https://api.github.com/users/tianhe1986/following{/other_user}","gists_url":"https://api.github.com/users/tianhe1986/gists{/gist_id}","starred_url":"https://api.github.com/users/tianhe1986/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tianhe1986/subscriptions","organizations_url":"https://api.github.com/users/tianhe1986/orgs","repos_url":"https://api.github.com/users/tianhe1986/repos","events_url":"https://api.github.com/users/tianhe1986/events{/privacy}","received_events_url":"https://api.github.com/users/tianhe1986/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-09-30T12:07:07Z","updated_at":"2016-09-30T12:07:07Z","body":"@narfbg @iam-adty \nI tried this, with passing variable in the same way as in `CI_DB_query_builder`  . [https://3v4l.org/kgkll](https://3v4l.org/kgkll)\nIt seems that internal pointer was reset when passing array to other function with PHP 5.6, but remained with PHP 7.0. \n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/250728377/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tianhe1986","id":19562319,"node_id":"MDQ6VXNlcjE5NTYyMzE5","avatar_url":"https://avatars.githubusercontent.com/u/19562319?v=4","gravatar_id":"","url":"https://api.github.com/users/tianhe1986","html_url":"https://github.com/tianhe1986","followers_url":"https://api.github.com/users/tianhe1986/followers","following_url":"https://api.github.com/users/tianhe1986/following{/other_user}","gists_url":"https://api.github.com/users/tianhe1986/gists{/gist_id}","starred_url":"https://api.github.com/users/tianhe1986/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tianhe1986/subscriptions","organizations_url":"https://api.github.com/users/tianhe1986/orgs","repos_url":"https://api.github.com/users/tianhe1986/repos","events_url":"https://api.github.com/users/tianhe1986/events{/privacy}","received_events_url":"https://api.github.com/users/tianhe1986/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":808367584,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50ODA4MzY3NTg0","url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/events/808367584","actor":{"login":"narfbg","id":1058011,"node_id":"MDQ6VXNlcjEwNTgwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1058011?v=4","gravatar_id":"","url":"https://api.github.com/users/narfbg","html_url":"https://github.com/narfbg","followers_url":"https://api.github.com/users/narfbg/followers","following_url":"https://api.github.com/users/narfbg/following{/other_user}","gists_url":"https://api.github.com/users/narfbg/gists{/gist_id}","starred_url":"https://api.github.com/users/narfbg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narfbg/subscriptions","organizations_url":"https://api.github.com/users/narfbg/orgs","repos_url":"https://api.github.com/users/narfbg/repos","events_url":"https://api.github.com/users/narfbg/events{/privacy}","received_events_url":"https://api.github.com/users/narfbg/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2016-09-30T12:07:07Z","performed_via_github_app":null},{"id":808367585,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDgwODM2NzU4NQ==","url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/events/808367585","actor":{"login":"narfbg","id":1058011,"node_id":"MDQ6VXNlcjEwNTgwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1058011?v=4","gravatar_id":"","url":"https://api.github.com/users/narfbg","html_url":"https://github.com/narfbg","followers_url":"https://api.github.com/users/narfbg/followers","following_url":"https://api.github.com/users/narfbg/following{/other_user}","gists_url":"https://api.github.com/users/narfbg/gists{/gist_id}","starred_url":"https://api.github.com/users/narfbg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narfbg/subscriptions","organizations_url":"https://api.github.com/users/narfbg/orgs","repos_url":"https://api.github.com/users/narfbg/repos","events_url":"https://api.github.com/users/narfbg/events{/privacy}","received_events_url":"https://api.github.com/users/narfbg/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2016-09-30T12:07:07Z","performed_via_github_app":null},{"id":808367586,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50ODA4MzY3NTg2","url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/events/808367586","actor":{"login":"iam-adty","id":14975280,"node_id":"MDQ6VXNlcjE0OTc1Mjgw","avatar_url":"https://avatars.githubusercontent.com/u/14975280?v=4","gravatar_id":"","url":"https://api.github.com/users/iam-adty","html_url":"https://github.com/iam-adty","followers_url":"https://api.github.com/users/iam-adty/followers","following_url":"https://api.github.com/users/iam-adty/following{/other_user}","gists_url":"https://api.github.com/users/iam-adty/gists{/gist_id}","starred_url":"https://api.github.com/users/iam-adty/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iam-adty/subscriptions","organizations_url":"https://api.github.com/users/iam-adty/orgs","repos_url":"https://api.github.com/users/iam-adty/repos","events_url":"https://api.github.com/users/iam-adty/events{/privacy}","received_events_url":"https://api.github.com/users/iam-adty/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2016-09-30T12:07:07Z","performed_via_github_app":null},{"id":808367587,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDgwODM2NzU4Nw==","url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/events/808367587","actor":{"login":"iam-adty","id":14975280,"node_id":"MDQ6VXNlcjE0OTc1Mjgw","avatar_url":"https://avatars.githubusercontent.com/u/14975280?v=4","gravatar_id":"","url":"https://api.github.com/users/iam-adty","html_url":"https://github.com/iam-adty","followers_url":"https://api.github.com/users/iam-adty/followers","following_url":"https://api.github.com/users/iam-adty/following{/other_user}","gists_url":"https://api.github.com/users/iam-adty/gists{/gist_id}","starred_url":"https://api.github.com/users/iam-adty/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iam-adty/subscriptions","organizations_url":"https://api.github.com/users/iam-adty/orgs","repos_url":"https://api.github.com/users/iam-adty/repos","events_url":"https://api.github.com/users/iam-adty/events{/privacy}","received_events_url":"https://api.github.com/users/iam-adty/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2016-09-30T12:07:07Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/270013930","html_url":"https://github.com/bcit-ci/CodeIgniter/issues/4804#issuecomment-270013930","issue_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/4804","id":270013930,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MDAxMzkzMA==","user":{"login":"vlakoff","id":544424,"node_id":"MDQ6VXNlcjU0NDQyNA==","avatar_url":"https://avatars.githubusercontent.com/u/544424?v=4","gravatar_id":"","url":"https://api.github.com/users/vlakoff","html_url":"https://github.com/vlakoff","followers_url":"https://api.github.com/users/vlakoff/followers","following_url":"https://api.github.com/users/vlakoff/following{/other_user}","gists_url":"https://api.github.com/users/vlakoff/gists{/gist_id}","starred_url":"https://api.github.com/users/vlakoff/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vlakoff/subscriptions","organizations_url":"https://api.github.com/users/vlakoff/orgs","repos_url":"https://api.github.com/users/vlakoff/repos","events_url":"https://api.github.com/users/vlakoff/events{/privacy}","received_events_url":"https://api.github.com/users/vlakoff/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-02T19:54:55Z","updated_at":"2017-01-02T20:23:37Z","body":"See this [snippet](https://3v4l.org/9M2dD). There is a change starting from PHP 5.3.14, 5.4.4 and 7.0.0. Note PHP 7.1.0 changes back to the previous behavior.\r\n\r\nAbout the issue here, though in one small snippet PHP 5.6 and 7.0 show the same behavior, it should be considered as undetermined.\r\n\r\nThe proper way to get the first element is to use `reset()` instead of `current()`. The function returns the element as well. It resets the array pointer, but usually it affects the array only inside the function scope (unless it is passed by reference, or returned).\r\n\r\nAnd if you really don't want to affect the array pointer:\r\n```php\r\nfunction head($array) {\r\n    return reset($array);\r\n}\r\n```","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/270013930/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"vlakoff","id":544424,"node_id":"MDQ6VXNlcjU0NDQyNA==","avatar_url":"https://avatars.githubusercontent.com/u/544424?v=4","gravatar_id":"","url":"https://api.github.com/users/vlakoff","html_url":"https://github.com/vlakoff","followers_url":"https://api.github.com/users/vlakoff/followers","following_url":"https://api.github.com/users/vlakoff/following{/other_user}","gists_url":"https://api.github.com/users/vlakoff/gists{/gist_id}","starred_url":"https://api.github.com/users/vlakoff/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vlakoff/subscriptions","organizations_url":"https://api.github.com/users/vlakoff/orgs","repos_url":"https://api.github.com/users/vlakoff/repos","events_url":"https://api.github.com/users/vlakoff/events{/privacy}","received_events_url":"https://api.github.com/users/vlakoff/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/270015423","html_url":"https://github.com/bcit-ci/CodeIgniter/issues/4804#issuecomment-270015423","issue_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/4804","id":270015423,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MDAxNTQyMw==","user":{"login":"vlakoff","id":544424,"node_id":"MDQ6VXNlcjU0NDQyNA==","avatar_url":"https://avatars.githubusercontent.com/u/544424?v=4","gravatar_id":"","url":"https://api.github.com/users/vlakoff","html_url":"https://github.com/vlakoff","followers_url":"https://api.github.com/users/vlakoff/followers","following_url":"https://api.github.com/users/vlakoff/following{/other_user}","gists_url":"https://api.github.com/users/vlakoff/gists{/gist_id}","starred_url":"https://api.github.com/users/vlakoff/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vlakoff/subscriptions","organizations_url":"https://api.github.com/users/vlakoff/orgs","repos_url":"https://api.github.com/users/vlakoff/repos","events_url":"https://api.github.com/users/vlakoff/events{/privacy}","received_events_url":"https://api.github.com/users/vlakoff/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-02T20:11:15Z","updated_at":"2017-01-02T20:11:15Z","body":"You can also do this:\r\n```php\r\n// Initialize if array is possibly empty\r\n$first_key = null;\r\n$first_value = null;\r\n\r\nforeach ($array as $key => $value) {\r\n    $first_key = $key;\r\n    $first_value = $value;\r\n    break;\r\n}\r\n```\r\nAlternative, but be cautious of line order:\r\n```php\r\n// Line order is important!\r\n$first_value = reset($array);\r\n$first_key = key($array);\r\n```","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/270015423/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"vlakoff","id":544424,"node_id":"MDQ6VXNlcjU0NDQyNA==","avatar_url":"https://avatars.githubusercontent.com/u/544424?v=4","gravatar_id":"","url":"https://api.github.com/users/vlakoff","html_url":"https://github.com/vlakoff","followers_url":"https://api.github.com/users/vlakoff/followers","following_url":"https://api.github.com/users/vlakoff/following{/other_user}","gists_url":"https://api.github.com/users/vlakoff/gists{/gist_id}","starred_url":"https://api.github.com/users/vlakoff/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vlakoff/subscriptions","organizations_url":"https://api.github.com/users/vlakoff/orgs","repos_url":"https://api.github.com/users/vlakoff/repos","events_url":"https://api.github.com/users/vlakoff/events{/privacy}","received_events_url":"https://api.github.com/users/vlakoff/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/270104567","html_url":"https://github.com/bcit-ci/CodeIgniter/issues/4804#issuecomment-270104567","issue_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/4804","id":270104567,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MDEwNDU2Nw==","user":{"login":"narfbg","id":1058011,"node_id":"MDQ6VXNlcjEwNTgwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1058011?v=4","gravatar_id":"","url":"https://api.github.com/users/narfbg","html_url":"https://github.com/narfbg","followers_url":"https://api.github.com/users/narfbg/followers","following_url":"https://api.github.com/users/narfbg/following{/other_user}","gists_url":"https://api.github.com/users/narfbg/gists{/gist_id}","starred_url":"https://api.github.com/users/narfbg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narfbg/subscriptions","organizations_url":"https://api.github.com/users/narfbg/orgs","repos_url":"https://api.github.com/users/narfbg/repos","events_url":"https://api.github.com/users/narfbg/events{/privacy}","received_events_url":"https://api.github.com/users/narfbg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-03T12:30:58Z","updated_at":"2017-01-03T12:30:58Z","body":"@vlakoff So, the cleanest patch possible would be this?\r\n\r\n<pre>\r\ndiff --git a/system/database/DB_query_builder.php b/system/database/DB_query_builder.php\r\nindex 3f1a802..ab19d97 100644\r\n--- a/system/database/DB_query_builder.php\r\n+++ b/system/database/DB_query_builder.php\r\n@@ -1553,7 +1553,7 @@ abstract class CI_DB_query_builder extends CI_DB_driver {\r\n \r\n                is_bool($escape) OR $escape = $this->_protect_identifiers;\r\n \r\n-               $keys = array_keys($this->_object_to_array(current($key)));\r\n+               $keys = array_keys($this->_object_to_array(reset($key)));\r\n                sort($keys);\r\n \r\n                foreach ($key as $row)\r\n</pre>\r\n\r\nIf so, it looks very reasonable to me regardless of what causes the issue.\r\n\r\nBut the problem so far for me has been that everybody is discussing the CI internals, and nobody actually giving an accurate description of what the issue is. Is it just developers passing arrays with modified pointers, or does CI move that pointer somewhere?","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/270104567/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"narfbg","id":1058011,"node_id":"MDQ6VXNlcjEwNTgwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1058011?v=4","gravatar_id":"","url":"https://api.github.com/users/narfbg","html_url":"https://github.com/narfbg","followers_url":"https://api.github.com/users/narfbg/followers","following_url":"https://api.github.com/users/narfbg/following{/other_user}","gists_url":"https://api.github.com/users/narfbg/gists{/gist_id}","starred_url":"https://api.github.com/users/narfbg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narfbg/subscriptions","organizations_url":"https://api.github.com/users/narfbg/orgs","repos_url":"https://api.github.com/users/narfbg/repos","events_url":"https://api.github.com/users/narfbg/events{/privacy}","received_events_url":"https://api.github.com/users/narfbg/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":909714754,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50OTA5NzE0NzU0","url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/events/909714754","actor":{"login":"vlakoff","id":544424,"node_id":"MDQ6VXNlcjU0NDQyNA==","avatar_url":"https://avatars.githubusercontent.com/u/544424?v=4","gravatar_id":"","url":"https://api.github.com/users/vlakoff","html_url":"https://github.com/vlakoff","followers_url":"https://api.github.com/users/vlakoff/followers","following_url":"https://api.github.com/users/vlakoff/following{/other_user}","gists_url":"https://api.github.com/users/vlakoff/gists{/gist_id}","starred_url":"https://api.github.com/users/vlakoff/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vlakoff/subscriptions","organizations_url":"https://api.github.com/users/vlakoff/orgs","repos_url":"https://api.github.com/users/vlakoff/repos","events_url":"https://api.github.com/users/vlakoff/events{/privacy}","received_events_url":"https://api.github.com/users/vlakoff/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2017-01-03T12:30:58Z","performed_via_github_app":null},{"id":909714755,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDkwOTcxNDc1NQ==","url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/events/909714755","actor":{"login":"vlakoff","id":544424,"node_id":"MDQ6VXNlcjU0NDQyNA==","avatar_url":"https://avatars.githubusercontent.com/u/544424?v=4","gravatar_id":"","url":"https://api.github.com/users/vlakoff","html_url":"https://github.com/vlakoff","followers_url":"https://api.github.com/users/vlakoff/followers","following_url":"https://api.github.com/users/vlakoff/following{/other_user}","gists_url":"https://api.github.com/users/vlakoff/gists{/gist_id}","starred_url":"https://api.github.com/users/vlakoff/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vlakoff/subscriptions","organizations_url":"https://api.github.com/users/vlakoff/orgs","repos_url":"https://api.github.com/users/vlakoff/repos","events_url":"https://api.github.com/users/vlakoff/events{/privacy}","received_events_url":"https://api.github.com/users/vlakoff/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2017-01-03T12:30:58Z","performed_via_github_app":null},{"id":909715015,"node_id":"MDEyOkxhYmVsZWRFdmVudDkwOTcxNTAxNQ==","url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/events/909715015","actor":{"login":"narfbg","id":1058011,"node_id":"MDQ6VXNlcjEwNTgwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1058011?v=4","gravatar_id":"","url":"https://api.github.com/users/narfbg","html_url":"https://github.com/narfbg","followers_url":"https://api.github.com/users/narfbg/followers","following_url":"https://api.github.com/users/narfbg/following{/other_user}","gists_url":"https://api.github.com/users/narfbg/gists{/gist_id}","starred_url":"https://api.github.com/users/narfbg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narfbg/subscriptions","organizations_url":"https://api.github.com/users/narfbg/orgs","repos_url":"https://api.github.com/users/narfbg/repos","events_url":"https://api.github.com/users/narfbg/events{/privacy}","received_events_url":"https://api.github.com/users/narfbg/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2017-01-03T12:31:17Z","label":{"name":"Looking Into It","color":"02e10c"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/270137215","html_url":"https://github.com/bcit-ci/CodeIgniter/issues/4804#issuecomment-270137215","issue_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/4804","id":270137215,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MDEzNzIxNQ==","user":{"login":"vlakoff","id":544424,"node_id":"MDQ6VXNlcjU0NDQyNA==","avatar_url":"https://avatars.githubusercontent.com/u/544424?v=4","gravatar_id":"","url":"https://api.github.com/users/vlakoff","html_url":"https://github.com/vlakoff","followers_url":"https://api.github.com/users/vlakoff/followers","following_url":"https://api.github.com/users/vlakoff/following{/other_user}","gists_url":"https://api.github.com/users/vlakoff/gists{/gist_id}","starred_url":"https://api.github.com/users/vlakoff/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vlakoff/subscriptions","organizations_url":"https://api.github.com/users/vlakoff/orgs","repos_url":"https://api.github.com/users/vlakoff/repos","events_url":"https://api.github.com/users/vlakoff/events{/privacy}","received_events_url":"https://api.github.com/users/vlakoff/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-01-03T15:18:43Z","updated_at":"2017-01-03T15:26:59Z","body":"Yes, this is the fix to apply.\r\n\r\nSome quick demo of the issue:\r\n```php\r\n$users = [\r\n    ['name' => 'foo'],\r\n    ['name' => 'bar'],\r\n];\r\n\r\nwhile ($user = next($users)) { // or array_walk(), etc.\r\n    // ...\r\n}\r\n\r\n// now array pointer is after the last element\r\n\r\n$qb->insert_batch('users_table', $users); // boom\r\n```","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/270137215/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"vlakoff","id":544424,"node_id":"MDQ6VXNlcjU0NDQyNA==","avatar_url":"https://avatars.githubusercontent.com/u/544424?v=4","gravatar_id":"","url":"https://api.github.com/users/vlakoff","html_url":"https://github.com/vlakoff","followers_url":"https://api.github.com/users/vlakoff/followers","following_url":"https://api.github.com/users/vlakoff/following{/other_user}","gists_url":"https://api.github.com/users/vlakoff/gists{/gist_id}","starred_url":"https://api.github.com/users/vlakoff/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vlakoff/subscriptions","organizations_url":"https://api.github.com/users/vlakoff/orgs","repos_url":"https://api.github.com/users/vlakoff/repos","events_url":"https://api.github.com/users/vlakoff/events{/privacy}","received_events_url":"https://api.github.com/users/vlakoff/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":909936570,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDkwOTkzNjU3MA==","url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/events/909936570","actor":{"login":"narfbg","id":1058011,"node_id":"MDQ6VXNlcjEwNTgwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1058011?v=4","gravatar_id":"","url":"https://api.github.com/users/narfbg","html_url":"https://github.com/narfbg","followers_url":"https://api.github.com/users/narfbg/followers","following_url":"https://api.github.com/users/narfbg/following{/other_user}","gists_url":"https://api.github.com/users/narfbg/gists{/gist_id}","starred_url":"https://api.github.com/users/narfbg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narfbg/subscriptions","organizations_url":"https://api.github.com/users/narfbg/orgs","repos_url":"https://api.github.com/users/narfbg/repos","events_url":"https://api.github.com/users/narfbg/events{/privacy}","received_events_url":"https://api.github.com/users/narfbg/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"51c84f3a436ecfebe371177ba5537b9e475cc3c6","commit_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/commits/51c84f3a436ecfebe371177ba5537b9e475cc3c6","created_at":"2017-01-03T15:42:38Z","performed_via_github_app":null},{"id":909936666,"node_id":"MDExOkNsb3NlZEV2ZW50OTA5OTM2NjY2","url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/events/909936666","actor":{"login":"narfbg","id":1058011,"node_id":"MDQ6VXNlcjEwNTgwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1058011?v=4","gravatar_id":"","url":"https://api.github.com/users/narfbg","html_url":"https://github.com/narfbg","followers_url":"https://api.github.com/users/narfbg/followers","following_url":"https://api.github.com/users/narfbg/following{/other_user}","gists_url":"https://api.github.com/users/narfbg/gists{/gist_id}","starred_url":"https://api.github.com/users/narfbg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narfbg/subscriptions","organizations_url":"https://api.github.com/users/narfbg/orgs","repos_url":"https://api.github.com/users/narfbg/repos","events_url":"https://api.github.com/users/narfbg/events{/privacy}","received_events_url":"https://api.github.com/users/narfbg/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2017-01-03T15:42:41Z","state_reason":null,"performed_via_github_app":null}]