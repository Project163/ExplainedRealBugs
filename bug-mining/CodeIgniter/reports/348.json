{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/3318","repository_url":"https://api.github.com/repos/bcit-ci/CodeIgniter","labels_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/3318/labels{/name}","comments_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/3318/comments","events_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/3318/events","html_url":"https://github.com/bcit-ci/CodeIgniter/issues/3318","id":48156062,"node_id":"MDU6SXNzdWU0ODE1NjA2Mg==","number":3318,"title":"error load language","user":{"login":"OctavioFuenzalida","id":686390,"node_id":"MDQ6VXNlcjY4NjM5MA==","avatar_url":"https://avatars.githubusercontent.com/u/686390?v=4","gravatar_id":"","url":"https://api.github.com/users/OctavioFuenzalida","html_url":"https://github.com/OctavioFuenzalida","followers_url":"https://api.github.com/users/OctavioFuenzalida/followers","following_url":"https://api.github.com/users/OctavioFuenzalida/following{/other_user}","gists_url":"https://api.github.com/users/OctavioFuenzalida/gists{/gist_id}","starred_url":"https://api.github.com/users/OctavioFuenzalida/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/OctavioFuenzalida/subscriptions","organizations_url":"https://api.github.com/users/OctavioFuenzalida/orgs","repos_url":"https://api.github.com/users/OctavioFuenzalida/repos","events_url":"https://api.github.com/users/OctavioFuenzalida/events{/privacy}","received_events_url":"https://api.github.com/users/OctavioFuenzalida/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2014-11-08T05:09:45Z","updated_at":"2014-11-08T13:15:57Z","closed_at":"2014-11-08T13:15:57Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"when language is loaded, an error occurs\n\n$autoload['libraries'] = array('database', 'account/authentication', 'account/authorization', 'account/recaptcha', 'account/gravatar', 'form_validation');\n\nUnable to load the requested language file: language/spanish/Array_lang.php\n\nCorrection:\n\n./system/core/Lang.php\n\n public function load($langfile, $idiom = '', $return = FALSE, $add_suffix = TRUE, $alt_path = '') {\n        if (is_array($langfile))\n        {\n            foreach ($langfile as $value)\n            {\n                $this->load($value, $idiom, $return, $add_suffix, $alt_path);\n                //fix\n               // return  $this->load($value, $idiom, $return, $add_suffix, $alt_path);\n            }\n        }\n        else   //fix\n        {\n            $langfile = str_replace('.php', '', $langfile);\n            if ($add_suffix === TRUE)\n            {\n                $langfile = preg_replace('/_lang$/', '', $langfile) . '_lang';\n            }\n\n```\n        $langfile .= '.php';\n\n        if (empty($idiom) OR ! ctype_alpha($idiom))\n        {\n            $config = & get_config();\n            $idiom = empty($config['language']) ? 'english' : $config['language'];\n        }\n\n        if ($return === FALSE && isset($this->is_loaded[$langfile]) && $this->is_loaded[$langfile] === $idiom)\n        {\n            return;\n        }\n\n        // Load the base file, so any others found can override it\n        $basepath = BASEPATH . 'language/' . $idiom . '/' . $langfile;\n        if (($found = file_exists($basepath)) === TRUE)\n        {\n            include($basepath);\n        }\n\n        // Do we have an alternative path to look in?\n        if ($alt_path !== '')\n        {\n            $alt_path .= 'language/' . $idiom . '/' . $langfile;\n            if (file_exists($alt_path))\n            {\n                include($alt_path);\n                $found = TRUE;\n            }\n        }\n        else\n        {\n            foreach (get_instance()->load->get_package_paths(TRUE) as $package_path)\n            {\n                $package_path .= 'language/' . $idiom . '/' . $langfile;\n                if ($basepath !== $package_path && file_exists($package_path))\n                {\n                    include($package_path);\n                    $found = TRUE;\n                    break;\n                }\n            }\n        }\n\n        if ($found !== TRUE)\n        {\n            show_error('Unable to load the requested language file: language/' . $idiom . '/' . $langfile);\n        }\n\n        if (!isset($lang) OR ! is_array($lang))\n        {\n            log_message('error', 'Language file contains no data: language/' . $idiom . '/' . $langfile);\n\n            if ($return === TRUE)\n            {\n                return array();\n            }\n            return;\n        }\n\n        if ($return === TRUE)\n        {\n            return $lang;\n        }\n\n        $this->is_loaded[$langfile] = $idiom;\n        $this->language = array_merge($this->language, $lang);\n\n        log_message('debug', 'Language file loaded: language/' . $idiom . '/' . $langfile);\n        return TRUE;\n    }//fix\n}\n```\n","closed_by":{"login":"narfbg","id":1058011,"node_id":"MDQ6VXNlcjEwNTgwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1058011?v=4","gravatar_id":"","url":"https://api.github.com/users/narfbg","html_url":"https://github.com/narfbg","followers_url":"https://api.github.com/users/narfbg/followers","following_url":"https://api.github.com/users/narfbg/following{/other_user}","gists_url":"https://api.github.com/users/narfbg/gists{/gist_id}","starred_url":"https://api.github.com/users/narfbg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narfbg/subscriptions","organizations_url":"https://api.github.com/users/narfbg/orgs","repos_url":"https://api.github.com/users/narfbg/repos","events_url":"https://api.github.com/users/narfbg/events{/privacy}","received_events_url":"https://api.github.com/users/narfbg/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/3318/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/3318/timeline","performed_via_github_app":null,"state_reason":"completed"}