{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/195","repository_url":"https://api.github.com/repos/bcit-ci/CodeIgniter","labels_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/195/labels{/name}","comments_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/195/comments","events_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/195/events","html_url":"https://github.com/bcit-ci/CodeIgniter/issues/195","id":1442513,"node_id":"MDU6SXNzdWUxNDQyNTEz","number":195,"title":"bug in download helper","user":{"login":"bitbucket-import","id":991171,"node_id":"MDQ6VXNlcjk5MTE3MQ==","avatar_url":"https://avatars.githubusercontent.com/u/991171?v=4","gravatar_id":"","url":"https://api.github.com/users/bitbucket-import","html_url":"https://github.com/bitbucket-import","followers_url":"https://api.github.com/users/bitbucket-import/followers","following_url":"https://api.github.com/users/bitbucket-import/following{/other_user}","gists_url":"https://api.github.com/users/bitbucket-import/gists{/gist_id}","starred_url":"https://api.github.com/users/bitbucket-import/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bitbucket-import/subscriptions","organizations_url":"https://api.github.com/users/bitbucket-import/orgs","repos_url":"https://api.github.com/users/bitbucket-import/repos","events_url":"https://api.github.com/users/bitbucket-import/events{/privacy}","received_events_url":"https://api.github.com/users/bitbucket-import/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2011-08-19T14:50:51Z","updated_at":"2012-01-25T08:59:09Z","closed_at":"2012-01-25T08:59:09Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"In the download helper around line 81 there is an implicit assumption that the http user agent string is set. However according to the http spec it is not required. Failing for outsider software to provide to provide a UA string causes a PHP notice undefined constant.\n\nAs the download helper is used to force downloads (its only method), this results in a corrupt download as the download's contents now start with a php notice.\n\nA patch has been enclosed that sets a blank useragent string if none is set, fixing the issue.\n\nAn example of software that does not provide a useragent string is the excellent DcUpdater (http://www.donationcoder.com/Software/Mouser/Updater/).\n\n(http://tools.ietf.org/html/rfc2616#section-14.43)\n //User agents SHOULD include this field with    requests.//\n\n//SHOULD   This word, or the adjective \"RECOMMENDED\", mean that there\n   may exist valid reasons in particular circumstances to ignore a\n   particular item, but the full implications must be understood and\n   carefully weighed before choosing a different course.//\n","closed_by":{"login":"philsturgeon","id":67381,"node_id":"MDQ6VXNlcjY3Mzgx","avatar_url":"https://avatars.githubusercontent.com/u/67381?v=4","gravatar_id":"","url":"https://api.github.com/users/philsturgeon","html_url":"https://github.com/philsturgeon","followers_url":"https://api.github.com/users/philsturgeon/followers","following_url":"https://api.github.com/users/philsturgeon/following{/other_user}","gists_url":"https://api.github.com/users/philsturgeon/gists{/gist_id}","starred_url":"https://api.github.com/users/philsturgeon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/philsturgeon/subscriptions","organizations_url":"https://api.github.com/users/philsturgeon/orgs","repos_url":"https://api.github.com/users/philsturgeon/repos","events_url":"https://api.github.com/users/philsturgeon/events{/privacy}","received_events_url":"https://api.github.com/users/philsturgeon/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/195/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/195/timeline","performed_via_github_app":null,"state_reason":"completed"}