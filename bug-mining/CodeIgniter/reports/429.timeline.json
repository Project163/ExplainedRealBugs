[{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/167035338","html_url":"https://github.com/bcit-ci/CodeIgniter/issues/4331#issuecomment-167035338","issue_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/4331","id":167035338,"node_id":"MDEyOklzc3VlQ29tbWVudDE2NzAzNTMzOA==","user":{"login":"namjeongho","id":1900742,"node_id":"MDQ6VXNlcjE5MDA3NDI=","avatar_url":"https://avatars.githubusercontent.com/u/1900742?v=4","gravatar_id":"","url":"https://api.github.com/users/namjeongho","html_url":"https://github.com/namjeongho","followers_url":"https://api.github.com/users/namjeongho/followers","following_url":"https://api.github.com/users/namjeongho/following{/other_user}","gists_url":"https://api.github.com/users/namjeongho/gists{/gist_id}","starred_url":"https://api.github.com/users/namjeongho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/namjeongho/subscriptions","organizations_url":"https://api.github.com/users/namjeongho/orgs","repos_url":"https://api.github.com/users/namjeongho/repos","events_url":"https://api.github.com/users/namjeongho/events{/privacy}","received_events_url":"https://api.github.com/users/namjeongho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-24T03:23:03Z","updated_at":"2015-12-24T03:23:03Z","body":"I think DB_driver's member variable '$conn_id' should be preserved to get conn_id->connect_errno event though connection fails.\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/167035338/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"namjeongho","id":1900742,"node_id":"MDQ6VXNlcjE5MDA3NDI=","avatar_url":"https://avatars.githubusercontent.com/u/1900742?v=4","gravatar_id":"","url":"https://api.github.com/users/namjeongho","html_url":"https://github.com/namjeongho","followers_url":"https://api.github.com/users/namjeongho/followers","following_url":"https://api.github.com/users/namjeongho/following{/other_user}","gists_url":"https://api.github.com/users/namjeongho/gists{/gist_id}","starred_url":"https://api.github.com/users/namjeongho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/namjeongho/subscriptions","organizations_url":"https://api.github.com/users/namjeongho/orgs","repos_url":"https://api.github.com/users/namjeongho/repos","events_url":"https://api.github.com/users/namjeongho/events{/privacy}","received_events_url":"https://api.github.com/users/namjeongho/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/167591119","html_url":"https://github.com/bcit-ci/CodeIgniter/issues/4331#issuecomment-167591119","issue_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/4331","id":167591119,"node_id":"MDEyOklzc3VlQ29tbWVudDE2NzU5MTExOQ==","user":{"login":"mwhitneysdsu","id":1537529,"node_id":"MDQ6VXNlcjE1Mzc1Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/1537529?v=4","gravatar_id":"","url":"https://api.github.com/users/mwhitneysdsu","html_url":"https://github.com/mwhitneysdsu","followers_url":"https://api.github.com/users/mwhitneysdsu/followers","following_url":"https://api.github.com/users/mwhitneysdsu/following{/other_user}","gists_url":"https://api.github.com/users/mwhitneysdsu/gists{/gist_id}","starred_url":"https://api.github.com/users/mwhitneysdsu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mwhitneysdsu/subscriptions","organizations_url":"https://api.github.com/users/mwhitneysdsu/orgs","repos_url":"https://api.github.com/users/mwhitneysdsu/repos","events_url":"https://api.github.com/users/mwhitneysdsu/events{/privacy}","received_events_url":"https://api.github.com/users/mwhitneysdsu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-28T15:44:59Z","updated_at":"2015-12-28T15:47:51Z","body":"mysqli_driver's [error method](https://github.com/bcit-ci/CodeIgniter/blob/develop/system/database/drivers/mysqli/mysqli_driver.php#L452) checks whether `$this->conn_id->connect_errno` is empty, but never checks whether `$this->conn_id` itself is false. If it did this, it could either attempt to use `mysqli_connect_errno()` and `mysqli_connect_error()` to get the error information, or get the error number/message when the connection fails and store it in a private property to be retrieved when error() is called and `$this->conn_id === FALSE`.\n\nAlso, `simple_query()` in [DB_driver](https://github.com/bcit-ci/CodeIgniter/blob/develop/system/database/DB_driver.php#L730) doesn't check the result of `$this->initialize()` (which returns FALSE in the case of a connection error) before calling `$this->_execute($sql)`, which, at least in the MySQLi driver, doesn't check whether `$this->conn_id` is false before calling `$this->conn_id->query()`.\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/167591119/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mwhitneysdsu","id":1537529,"node_id":"MDQ6VXNlcjE1Mzc1Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/1537529?v=4","gravatar_id":"","url":"https://api.github.com/users/mwhitneysdsu","html_url":"https://github.com/mwhitneysdsu","followers_url":"https://api.github.com/users/mwhitneysdsu/followers","following_url":"https://api.github.com/users/mwhitneysdsu/following{/other_user}","gists_url":"https://api.github.com/users/mwhitneysdsu/gists{/gist_id}","starred_url":"https://api.github.com/users/mwhitneysdsu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mwhitneysdsu/subscriptions","organizations_url":"https://api.github.com/users/mwhitneysdsu/orgs","repos_url":"https://api.github.com/users/mwhitneysdsu/repos","events_url":"https://api.github.com/users/mwhitneysdsu/events{/privacy}","received_events_url":"https://api.github.com/users/mwhitneysdsu/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":503011109,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDUwMzAxMTEwOQ==","url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/events/503011109","actor":{"login":"narfbg","id":1058011,"node_id":"MDQ6VXNlcjEwNTgwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1058011?v=4","gravatar_id":"","url":"https://api.github.com/users/narfbg","html_url":"https://github.com/narfbg","followers_url":"https://api.github.com/users/narfbg/followers","following_url":"https://api.github.com/users/narfbg/following{/other_user}","gists_url":"https://api.github.com/users/narfbg/gists{/gist_id}","starred_url":"https://api.github.com/users/narfbg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narfbg/subscriptions","organizations_url":"https://api.github.com/users/narfbg/orgs","repos_url":"https://api.github.com/users/narfbg/repos","events_url":"https://api.github.com/users/narfbg/events{/privacy}","received_events_url":"https://api.github.com/users/narfbg/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"f3ddda7ee890d5375f5c4fece118b7663dc465e2","commit_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/commits/f3ddda7ee890d5375f5c4fece118b7663dc465e2","created_at":"2015-12-30T19:39:04Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/168062165","html_url":"https://github.com/bcit-ci/CodeIgniter/issues/4331#issuecomment-168062165","issue_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/4331","id":168062165,"node_id":"MDEyOklzc3VlQ29tbWVudDE2ODA2MjE2NQ==","user":{"login":"narfbg","id":1058011,"node_id":"MDQ6VXNlcjEwNTgwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1058011?v=4","gravatar_id":"","url":"https://api.github.com/users/narfbg","html_url":"https://github.com/narfbg","followers_url":"https://api.github.com/users/narfbg/followers","following_url":"https://api.github.com/users/narfbg/following{/other_user}","gists_url":"https://api.github.com/users/narfbg/gists{/gist_id}","starred_url":"https://api.github.com/users/narfbg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narfbg/subscriptions","organizations_url":"https://api.github.com/users/narfbg/orgs","repos_url":"https://api.github.com/users/narfbg/repos","events_url":"https://api.github.com/users/narfbg/events{/privacy}","received_events_url":"https://api.github.com/users/narfbg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-30T19:40:16Z","updated_at":"2015-12-30T19:40:16Z","body":"Fixed with the above-referenced commit.\n\n@mwhitneysdsu You're linking to the develop branch which is for 3.1-dev and was recently changed to throw exceptions instead of returning FALSE.\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/168062165/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"narfbg","id":1058011,"node_id":"MDQ6VXNlcjEwNTgwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1058011?v=4","gravatar_id":"","url":"https://api.github.com/users/narfbg","html_url":"https://github.com/narfbg","followers_url":"https://api.github.com/users/narfbg/followers","following_url":"https://api.github.com/users/narfbg/following{/other_user}","gists_url":"https://api.github.com/users/narfbg/gists{/gist_id}","starred_url":"https://api.github.com/users/narfbg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narfbg/subscriptions","organizations_url":"https://api.github.com/users/narfbg/orgs","repos_url":"https://api.github.com/users/narfbg/repos","events_url":"https://api.github.com/users/narfbg/events{/privacy}","received_events_url":"https://api.github.com/users/narfbg/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":503011880,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NTAzMDExODgw","url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/events/503011880","actor":{"login":"mwhitneysdsu","id":1537529,"node_id":"MDQ6VXNlcjE1Mzc1Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/1537529?v=4","gravatar_id":"","url":"https://api.github.com/users/mwhitneysdsu","html_url":"https://github.com/mwhitneysdsu","followers_url":"https://api.github.com/users/mwhitneysdsu/followers","following_url":"https://api.github.com/users/mwhitneysdsu/following{/other_user}","gists_url":"https://api.github.com/users/mwhitneysdsu/gists{/gist_id}","starred_url":"https://api.github.com/users/mwhitneysdsu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mwhitneysdsu/subscriptions","organizations_url":"https://api.github.com/users/mwhitneysdsu/orgs","repos_url":"https://api.github.com/users/mwhitneysdsu/repos","events_url":"https://api.github.com/users/mwhitneysdsu/events{/privacy}","received_events_url":"https://api.github.com/users/mwhitneysdsu/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2015-12-30T19:40:16Z","performed_via_github_app":null},{"id":503011881,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDUwMzAxMTg4MQ==","url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/events/503011881","actor":{"login":"mwhitneysdsu","id":1537529,"node_id":"MDQ6VXNlcjE1Mzc1Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/1537529?v=4","gravatar_id":"","url":"https://api.github.com/users/mwhitneysdsu","html_url":"https://github.com/mwhitneysdsu","followers_url":"https://api.github.com/users/mwhitneysdsu/followers","following_url":"https://api.github.com/users/mwhitneysdsu/following{/other_user}","gists_url":"https://api.github.com/users/mwhitneysdsu/gists{/gist_id}","starred_url":"https://api.github.com/users/mwhitneysdsu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mwhitneysdsu/subscriptions","organizations_url":"https://api.github.com/users/mwhitneysdsu/orgs","repos_url":"https://api.github.com/users/mwhitneysdsu/repos","events_url":"https://api.github.com/users/mwhitneysdsu/events{/privacy}","received_events_url":"https://api.github.com/users/mwhitneysdsu/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2015-12-30T19:40:16Z","performed_via_github_app":null},{"id":503011882,"node_id":"MDExOkNsb3NlZEV2ZW50NTAzMDExODgy","url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/events/503011882","actor":{"login":"narfbg","id":1058011,"node_id":"MDQ6VXNlcjEwNTgwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1058011?v=4","gravatar_id":"","url":"https://api.github.com/users/narfbg","html_url":"https://github.com/narfbg","followers_url":"https://api.github.com/users/narfbg/followers","following_url":"https://api.github.com/users/narfbg/following{/other_user}","gists_url":"https://api.github.com/users/narfbg/gists{/gist_id}","starred_url":"https://api.github.com/users/narfbg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narfbg/subscriptions","organizations_url":"https://api.github.com/users/narfbg/orgs","repos_url":"https://api.github.com/users/narfbg/repos","events_url":"https://api.github.com/users/narfbg/events{/privacy}","received_events_url":"https://api.github.com/users/narfbg/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2015-12-30T19:40:16Z","state_reason":null,"performed_via_github_app":null},{"id":503011899,"node_id":"MDEyOkxhYmVsZWRFdmVudDUwMzAxMTg5OQ==","url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/events/503011899","actor":{"login":"narfbg","id":1058011,"node_id":"MDQ6VXNlcjEwNTgwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1058011?v=4","gravatar_id":"","url":"https://api.github.com/users/narfbg","html_url":"https://github.com/narfbg","followers_url":"https://api.github.com/users/narfbg/followers","following_url":"https://api.github.com/users/narfbg/following{/other_user}","gists_url":"https://api.github.com/users/narfbg/gists{/gist_id}","starred_url":"https://api.github.com/users/narfbg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narfbg/subscriptions","organizations_url":"https://api.github.com/users/narfbg/orgs","repos_url":"https://api.github.com/users/narfbg/repos","events_url":"https://api.github.com/users/narfbg/events{/privacy}","received_events_url":"https://api.github.com/users/narfbg/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2015-12-30T19:40:19Z","label":{"name":"Bug","color":"eb2420"},"performed_via_github_app":null},{"id":503011931,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDUwMzAxMTkzMQ==","url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/events/503011931","actor":{"login":"narfbg","id":1058011,"node_id":"MDQ6VXNlcjEwNTgwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1058011?v=4","gravatar_id":"","url":"https://api.github.com/users/narfbg","html_url":"https://github.com/narfbg","followers_url":"https://api.github.com/users/narfbg/followers","following_url":"https://api.github.com/users/narfbg/following{/other_user}","gists_url":"https://api.github.com/users/narfbg/gists{/gist_id}","starred_url":"https://api.github.com/users/narfbg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narfbg/subscriptions","organizations_url":"https://api.github.com/users/narfbg/orgs","repos_url":"https://api.github.com/users/narfbg/repos","events_url":"https://api.github.com/users/narfbg/events{/privacy}","received_events_url":"https://api.github.com/users/narfbg/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2015-12-30T19:40:21Z","milestone":{"title":"3.0.4"},"performed_via_github_app":null}]