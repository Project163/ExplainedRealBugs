{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/427","repository_url":"https://api.github.com/repos/bcit-ci/CodeIgniter","labels_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/427/labels{/name}","comments_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/427/comments","events_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/427/events","html_url":"https://github.com/bcit-ci/CodeIgniter/issues/427","id":1617630,"node_id":"MDU6SXNzdWUxNjE3NjMw","number":427,"title":"strip_image_tags input prepping function not working (Form validation library)","user":{"login":"OljaPetrovic","id":1042163,"node_id":"MDQ6VXNlcjEwNDIxNjM=","avatar_url":"https://avatars.githubusercontent.com/u/1042163?v=4","gravatar_id":"","url":"https://api.github.com/users/OljaPetrovic","html_url":"https://github.com/OljaPetrovic","followers_url":"https://api.github.com/users/OljaPetrovic/followers","following_url":"https://api.github.com/users/OljaPetrovic/following{/other_user}","gists_url":"https://api.github.com/users/OljaPetrovic/gists{/gist_id}","starred_url":"https://api.github.com/users/OljaPetrovic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/OljaPetrovic/subscriptions","organizations_url":"https://api.github.com/users/OljaPetrovic/orgs","repos_url":"https://api.github.com/users/OljaPetrovic/repos","events_url":"https://api.github.com/users/OljaPetrovic/events{/privacy}","received_events_url":"https://api.github.com/users/OljaPetrovic/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":140924,"node_id":"MDU6TGFiZWwxNDA5MjQ=","url":"https://api.github.com/repos/bcit-ci/CodeIgniter/labels/Bug","name":"Bug","color":"eb2420","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2011-09-11T11:07:53Z","updated_at":"2012-06-26T21:53:11Z","closed_at":"2012-06-26T21:53:11Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I'm having a problem with the Form validation library.\n\nThe strip_image_tags input prepping function is not working.\n\nThe library looks for it in the Input class, but it's just not there. I can only find it in the security helper. If I try to use strip_image_tags with the validation library, I get the error \"Call to undefined method CI_Input::strip_image_tags() in /var/www/testgroundz/system/libraries/Form_validation.php\" because Form_validation tries to call $this->CI->input->strip_image_tags($str); and there is no strip_image_tags in system/core/Input.php.\n\nI did a\ngrep -r 'function strip_image_tags' .\nin the CodeIgniter folder.\nand I only found it in the security helper, and Form_validation.php which tries to call the Input class.\n\nMaybe Form_validation.php could simply call the security_helper instead?\nWhich means that this piece of code:\n\n```\n    function strip_image_tags($str)\n    {\n            return $this->CI->input->strip_image_tags($str);              \n    }\n```\n\ncould be substituted with\n\n```\n    function strip_image_tags($str)\n    {\n            return strip_image_tags($str);\n    }\n```\n\nand security helper would need to be loaded. Maybe it could be loaded by the Form_validation library, either only when it's actually used or in the constructor, like it loads the form helper.\n\nThe code for strip_image_tags exists in the helper, no need to duplicate it I guess).\n\n// Automatically load the form helper\n                $this->CI->load->helper('form');\n                $this->CI->load->helper('security'); #added this\n\nThank you very much for your attention. I hope I got everything right even though I am not an expert. If I got something wrong, do let me know. Any feedback would be good and would teach me something. I see that this problem has been coming up on the forum for years, and have looked at the old source code as well, and found the same problem.\n\nI want to help improve CodeIgniter and form security. Hope this helps.\n\nGreets, thank you for all the effor you put into the wonderful and extremely useful framework CodeIgniter,\nkeep up the good work,\nOlja Petrovic\n","closed_by":{"login":"narfbg","id":1058011,"node_id":"MDQ6VXNlcjEwNTgwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1058011?v=4","gravatar_id":"","url":"https://api.github.com/users/narfbg","html_url":"https://github.com/narfbg","followers_url":"https://api.github.com/users/narfbg/followers","following_url":"https://api.github.com/users/narfbg/following{/other_user}","gists_url":"https://api.github.com/users/narfbg/gists{/gist_id}","starred_url":"https://api.github.com/users/narfbg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narfbg/subscriptions","organizations_url":"https://api.github.com/users/narfbg/orgs","repos_url":"https://api.github.com/users/narfbg/repos","events_url":"https://api.github.com/users/narfbg/events{/privacy}","received_events_url":"https://api.github.com/users/narfbg/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/427/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/427/timeline","performed_via_github_app":null,"state_reason":"completed"}