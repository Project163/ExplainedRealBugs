[{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/74414731","html_url":"https://github.com/bcit-ci/CodeIgniter/issues/3593#issuecomment-74414731","issue_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/3593","id":74414731,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDE0NzMx","user":{"login":"Ignasimg","id":2076465,"node_id":"MDQ6VXNlcjIwNzY0NjU=","avatar_url":"https://avatars.githubusercontent.com/u/2076465?v=4","gravatar_id":"","url":"https://api.github.com/users/Ignasimg","html_url":"https://github.com/Ignasimg","followers_url":"https://api.github.com/users/Ignasimg/followers","following_url":"https://api.github.com/users/Ignasimg/following{/other_user}","gists_url":"https://api.github.com/users/Ignasimg/gists{/gist_id}","starred_url":"https://api.github.com/users/Ignasimg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ignasimg/subscriptions","organizations_url":"https://api.github.com/users/Ignasimg/orgs","repos_url":"https://api.github.com/users/Ignasimg/repos","events_url":"https://api.github.com/users/Ignasimg/events{/privacy}","received_events_url":"https://api.github.com/users/Ignasimg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-15T12:01:12Z","updated_at":"2015-02-15T12:01:12Z","body":"I discarded the last \"solution\" since someone could be accepting extra unencoded characters and that would make them receive encoded ones.\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/74414731/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Ignasimg","id":2076465,"node_id":"MDQ6VXNlcjIwNzY0NjU=","avatar_url":"https://avatars.githubusercontent.com/u/2076465?v=4","gravatar_id":"","url":"https://api.github.com/users/Ignasimg","html_url":"https://github.com/Ignasimg","followers_url":"https://api.github.com/users/Ignasimg/followers","following_url":"https://api.github.com/users/Ignasimg/following{/other_user}","gists_url":"https://api.github.com/users/Ignasimg/gists{/gist_id}","starred_url":"https://api.github.com/users/Ignasimg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ignasimg/subscriptions","organizations_url":"https://api.github.com/users/Ignasimg/orgs","repos_url":"https://api.github.com/users/Ignasimg/repos","events_url":"https://api.github.com/users/Ignasimg/events{/privacy}","received_events_url":"https://api.github.com/users/Ignasimg/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/74426754","html_url":"https://github.com/bcit-ci/CodeIgniter/issues/3593#issuecomment-74426754","issue_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/3593","id":74426754,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDI2NzU0","user":{"login":"aanbar","id":1263408,"node_id":"MDQ6VXNlcjEyNjM0MDg=","avatar_url":"https://avatars.githubusercontent.com/u/1263408?v=4","gravatar_id":"","url":"https://api.github.com/users/aanbar","html_url":"https://github.com/aanbar","followers_url":"https://api.github.com/users/aanbar/followers","following_url":"https://api.github.com/users/aanbar/following{/other_user}","gists_url":"https://api.github.com/users/aanbar/gists{/gist_id}","starred_url":"https://api.github.com/users/aanbar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aanbar/subscriptions","organizations_url":"https://api.github.com/users/aanbar/orgs","repos_url":"https://api.github.com/users/aanbar/repos","events_url":"https://api.github.com/users/aanbar/events{/privacy}","received_events_url":"https://api.github.com/users/aanbar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-15T17:25:57Z","updated_at":"2015-02-15T17:25:57Z","body":"I think the new way is the right way of doing it, I don't want anyone bypassing the protection by encoding something that isn't allowed.\n\nYou're better off using sessions to store that base64 characters, As you're no longer limited to the 4K size which was there in the previous version of codeigniter.\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/74426754/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"aanbar","id":1263408,"node_id":"MDQ6VXNlcjEyNjM0MDg=","avatar_url":"https://avatars.githubusercontent.com/u/1263408?v=4","gravatar_id":"","url":"https://api.github.com/users/aanbar","html_url":"https://github.com/aanbar","followers_url":"https://api.github.com/users/aanbar/followers","following_url":"https://api.github.com/users/aanbar/following{/other_user}","gists_url":"https://api.github.com/users/aanbar/gists{/gist_id}","starred_url":"https://api.github.com/users/aanbar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aanbar/subscriptions","organizations_url":"https://api.github.com/users/aanbar/orgs","repos_url":"https://api.github.com/users/aanbar/repos","events_url":"https://api.github.com/users/aanbar/events{/privacy}","received_events_url":"https://api.github.com/users/aanbar/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/74434990","html_url":"https://github.com/bcit-ci/CodeIgniter/issues/3593#issuecomment-74434990","issue_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/3593","id":74434990,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDM0OTkw","user":{"login":"Ignasimg","id":2076465,"node_id":"MDQ6VXNlcjIwNzY0NjU=","avatar_url":"https://avatars.githubusercontent.com/u/2076465?v=4","gravatar_id":"","url":"https://api.github.com/users/Ignasimg","html_url":"https://github.com/Ignasimg","followers_url":"https://api.github.com/users/Ignasimg/followers","following_url":"https://api.github.com/users/Ignasimg/following{/other_user}","gists_url":"https://api.github.com/users/Ignasimg/gists{/gist_id}","starred_url":"https://api.github.com/users/Ignasimg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ignasimg/subscriptions","organizations_url":"https://api.github.com/users/Ignasimg/orgs","repos_url":"https://api.github.com/users/Ignasimg/repos","events_url":"https://api.github.com/users/Ignasimg/events{/privacy}","received_events_url":"https://api.github.com/users/Ignasimg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-15T20:24:38Z","updated_at":"2015-02-15T20:24:38Z","body":"You are not bypassing anything.\n\nIf an user types the url /foo/bar/%3D\nthe bar method in foo controller should receive the parameter \"%3D\" (which was what correctly happened on 2.2.0)\n\nThe bypass would be if you check the url using the %3D and then you send the controller the urldecoded version (in this case being the = character) which would also break the rule of receiving what the user actually wrote on the url.\n\nAnd the session or anywhere else than the url don't make any sense in my case, I'm identifiying resources by their id which is a binary string converted to base64 for convinience. (But again, that's not the real issue)\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/74434990/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Ignasimg","id":2076465,"node_id":"MDQ6VXNlcjIwNzY0NjU=","avatar_url":"https://avatars.githubusercontent.com/u/2076465?v=4","gravatar_id":"","url":"https://api.github.com/users/Ignasimg","html_url":"https://github.com/Ignasimg","followers_url":"https://api.github.com/users/Ignasimg/followers","following_url":"https://api.github.com/users/Ignasimg/following{/other_user}","gists_url":"https://api.github.com/users/Ignasimg/gists{/gist_id}","starred_url":"https://api.github.com/users/Ignasimg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ignasimg/subscriptions","organizations_url":"https://api.github.com/users/Ignasimg/orgs","repos_url":"https://api.github.com/users/Ignasimg/repos","events_url":"https://api.github.com/users/Ignasimg/events{/privacy}","received_events_url":"https://api.github.com/users/Ignasimg/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/74480080","html_url":"https://github.com/bcit-ci/CodeIgniter/issues/3593#issuecomment-74480080","issue_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/3593","id":74480080,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDgwMDgw","user":{"login":"narfbg","id":1058011,"node_id":"MDQ6VXNlcjEwNTgwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1058011?v=4","gravatar_id":"","url":"https://api.github.com/users/narfbg","html_url":"https://github.com/narfbg","followers_url":"https://api.github.com/users/narfbg/followers","following_url":"https://api.github.com/users/narfbg/following{/other_user}","gists_url":"https://api.github.com/users/narfbg/gists{/gist_id}","starred_url":"https://api.github.com/users/narfbg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narfbg/subscriptions","organizations_url":"https://api.github.com/users/narfbg/orgs","repos_url":"https://api.github.com/users/narfbg/repos","events_url":"https://api.github.com/users/narfbg/events{/privacy}","received_events_url":"https://api.github.com/users/narfbg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-16T09:27:28Z","updated_at":"2015-02-16T09:27:28Z","body":"This is not an issue.\n\nAlso, the server variable to use for URI fetching is configurable, it's just the default that has changed.\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/74480080/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"narfbg","id":1058011,"node_id":"MDQ6VXNlcjEwNTgwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1058011?v=4","gravatar_id":"","url":"https://api.github.com/users/narfbg","html_url":"https://github.com/narfbg","followers_url":"https://api.github.com/users/narfbg/followers","following_url":"https://api.github.com/users/narfbg/following{/other_user}","gists_url":"https://api.github.com/users/narfbg/gists{/gist_id}","starred_url":"https://api.github.com/users/narfbg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narfbg/subscriptions","organizations_url":"https://api.github.com/users/narfbg/orgs","repos_url":"https://api.github.com/users/narfbg/repos","events_url":"https://api.github.com/users/narfbg/events{/privacy}","received_events_url":"https://api.github.com/users/narfbg/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":236197742,"node_id":"MDExOkNsb3NlZEV2ZW50MjM2MTk3NzQy","url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/events/236197742","actor":{"login":"narfbg","id":1058011,"node_id":"MDQ6VXNlcjEwNTgwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1058011?v=4","gravatar_id":"","url":"https://api.github.com/users/narfbg","html_url":"https://github.com/narfbg","followers_url":"https://api.github.com/users/narfbg/followers","following_url":"https://api.github.com/users/narfbg/following{/other_user}","gists_url":"https://api.github.com/users/narfbg/gists{/gist_id}","starred_url":"https://api.github.com/users/narfbg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narfbg/subscriptions","organizations_url":"https://api.github.com/users/narfbg/orgs","repos_url":"https://api.github.com/users/narfbg/repos","events_url":"https://api.github.com/users/narfbg/events{/privacy}","received_events_url":"https://api.github.com/users/narfbg/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2015-02-16T09:27:28Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/74498550","html_url":"https://github.com/bcit-ci/CodeIgniter/issues/3593#issuecomment-74498550","issue_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/3593","id":74498550,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDk4NTUw","user":{"login":"Ignasimg","id":2076465,"node_id":"MDQ6VXNlcjIwNzY0NjU=","avatar_url":"https://avatars.githubusercontent.com/u/2076465?v=4","gravatar_id":"","url":"https://api.github.com/users/Ignasimg","html_url":"https://github.com/Ignasimg","followers_url":"https://api.github.com/users/Ignasimg/followers","following_url":"https://api.github.com/users/Ignasimg/following{/other_user}","gists_url":"https://api.github.com/users/Ignasimg/gists{/gist_id}","starred_url":"https://api.github.com/users/Ignasimg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ignasimg/subscriptions","organizations_url":"https://api.github.com/users/Ignasimg/orgs","repos_url":"https://api.github.com/users/Ignasimg/repos","events_url":"https://api.github.com/users/Ignasimg/events{/privacy}","received_events_url":"https://api.github.com/users/Ignasimg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-16T12:00:30Z","updated_at":"2015-02-16T12:11:56Z","body":"Sorry? So it's broken but it's not an issue... you are funny.\n\n~~You might argue it's a php or apache bug for doing weird things on the PATH_INFO~~, but not an issue?!?!\n\nTake a look at [RFC 3986](http://www.faqs.org/rfcs/rfc3986.html) (section 2.4 when to encode or decode)\nFor the record: \"When a URI is dereferenced, the components and subcomponents significant to the scheme-specific dereferencing process (if any) must be parsed and separated before the percent-encoded octets within those components can be safely decoded\"\n\nIn other words and bringing it to CI you shouldn't decode the url at least until you've determined the parts of the URL (controller / method / arguments...) and hence also done the safety check for unallowed characters.\n\nOr are you making your own standard on top of that?\n\nAnd no ofense but saying the URI fetching is configurable is like saying I should keep it in session... of course is configurable, I can also configure my website to don't use CI at all... but we are not talking about that, we are talking about something that's broken. (And actually was also broken on 2.2.0, but because of the default behaviour aparently no one noticed)\n\nEdit: Actually  just checked [RFC 3875](http://www.ietf.org/rfc/rfc3875) section 4.1.5 and PATH_INFO must be decoded, so the actual problem is in CI using PATH_INFO (unless as said you want to have your own RFC CI30)\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/74498550/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Ignasimg","id":2076465,"node_id":"MDQ6VXNlcjIwNzY0NjU=","avatar_url":"https://avatars.githubusercontent.com/u/2076465?v=4","gravatar_id":"","url":"https://api.github.com/users/Ignasimg","html_url":"https://github.com/Ignasimg","followers_url":"https://api.github.com/users/Ignasimg/followers","following_url":"https://api.github.com/users/Ignasimg/following{/other_user}","gists_url":"https://api.github.com/users/Ignasimg/gists{/gist_id}","starred_url":"https://api.github.com/users/Ignasimg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ignasimg/subscriptions","organizations_url":"https://api.github.com/users/Ignasimg/orgs","repos_url":"https://api.github.com/users/Ignasimg/repos","events_url":"https://api.github.com/users/Ignasimg/events{/privacy}","received_events_url":"https://api.github.com/users/Ignasimg/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/74502667","html_url":"https://github.com/bcit-ci/CodeIgniter/issues/3593#issuecomment-74502667","issue_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/3593","id":74502667,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTAyNjY3","user":{"login":"narfbg","id":1058011,"node_id":"MDQ6VXNlcjEwNTgwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1058011?v=4","gravatar_id":"","url":"https://api.github.com/users/narfbg","html_url":"https://github.com/narfbg","followers_url":"https://api.github.com/users/narfbg/followers","following_url":"https://api.github.com/users/narfbg/following{/other_user}","gists_url":"https://api.github.com/users/narfbg/gists{/gist_id}","starred_url":"https://api.github.com/users/narfbg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narfbg/subscriptions","organizations_url":"https://api.github.com/users/narfbg/orgs","repos_url":"https://api.github.com/users/narfbg/repos","events_url":"https://api.github.com/users/narfbg/events{/privacy}","received_events_url":"https://api.github.com/users/narfbg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-16T12:41:03Z","updated_at":"2015-02-16T12:41:03Z","body":"I'm not saying it's broken but it's not an issue. I'm saying it's not broken, which is why it's not an issue.\nIf you want me to be more specific, I'll say it this way: It's not a CodeIgniter issue.\n\nWe don't decide how PHP works and unless completely necessary, we won't try to work around it. If not for anything else, if we change how it works, more people will be complaining that their URIs are no longer decoded ... we can't satisfy every single use case. We try to satisfy the majority of use cases and there are numerous ways for you to achieve what you want (personally, I'd just pick an URL-safe version of Base64).\nIt's also unclear why you claim that it is an issue at all (excluding the fact that you've used URL-encoding once to work-around the URI filter) - if the URI filter doesn't get decoded data, it simply won't work.\n\nI might also be misunderstanding what you're saying, but your comments so far only say that something is being decoded by default and you just don't want to happen ... that doesn't look like a bug description.\n\nAnd no offense meant either, but we don't have that many configuration options just so you can ignore them and rely on auto-detection. Auto-detection is present because CI tries to be friendly even to the most inexperienced users and zero configuration always means easier usage, but it should never be relied on for anything beyond a fast setup. I'd expect somebody who uses IETF RFCs as their argument to have that in mind by default ...\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/74502667/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"narfbg","id":1058011,"node_id":"MDQ6VXNlcjEwNTgwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1058011?v=4","gravatar_id":"","url":"https://api.github.com/users/narfbg","html_url":"https://github.com/narfbg","followers_url":"https://api.github.com/users/narfbg/followers","following_url":"https://api.github.com/users/narfbg/following{/other_user}","gists_url":"https://api.github.com/users/narfbg/gists{/gist_id}","starred_url":"https://api.github.com/users/narfbg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narfbg/subscriptions","organizations_url":"https://api.github.com/users/narfbg/orgs","repos_url":"https://api.github.com/users/narfbg/repos","events_url":"https://api.github.com/users/narfbg/events{/privacy}","received_events_url":"https://api.github.com/users/narfbg/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/74545635","html_url":"https://github.com/bcit-ci/CodeIgniter/issues/3593#issuecomment-74545635","issue_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/3593","id":74545635,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTQ1NjM1","user":{"login":"Ignasimg","id":2076465,"node_id":"MDQ6VXNlcjIwNzY0NjU=","avatar_url":"https://avatars.githubusercontent.com/u/2076465?v=4","gravatar_id":"","url":"https://api.github.com/users/Ignasimg","html_url":"https://github.com/Ignasimg","followers_url":"https://api.github.com/users/Ignasimg/followers","following_url":"https://api.github.com/users/Ignasimg/following{/other_user}","gists_url":"https://api.github.com/users/Ignasimg/gists{/gist_id}","starred_url":"https://api.github.com/users/Ignasimg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ignasimg/subscriptions","organizations_url":"https://api.github.com/users/Ignasimg/orgs","repos_url":"https://api.github.com/users/Ignasimg/repos","events_url":"https://api.github.com/users/Ignasimg/events{/privacy}","received_events_url":"https://api.github.com/users/Ignasimg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-16T17:38:41Z","updated_at":"2015-02-16T17:38:41Z","body":"You say: \"if we change how it works, more people will be complaining that their URIs are no longer decoded\"\nThe funny thing of your sentence is that up to 2.2.0 CI didn't decode the URI, and I'm sure you know better than me, but I quickly looked up on the issues and couldn't find a signle one complaining about their URIs not being decoded.\n\nYou say you can't satisfy every use case, and that's simply wrong, you CAN satisfy every use case, if you don't interfere with the use case itself. If you do interfere in the use case, some use cases will break.\n\n\"If the URI filter doesn't get decoded data it simply won't work\" - wrong! the URI filter should get and hence use the very same data that the user browser requested. (And the very same data that the controller is going to receive!)\n\nAnd you completely understand what I'm saying, the URI is being decoded by default, and it's not I don't want it to happen, it's it shouldn't happen, unless as said you want to have your own CI standard over those of RFC. (In which case I would stop discussing cause the palm of my hand wouldn't let me read your comments)\n\nAnd as I see it, it's nothing about making CI more convinient for inexperienced users, whoever has a link on their pages with percent-encoded values, is because they explicitly made it (up to now I don't know anyone who encodes links with special characters \"by hand\") so I wonder, what's more convinient for both, experienced and inexperienced users, let the user handle it's values as she wishes (no interfering)? or make a funny guess that she wants it decoded and so decode it (interfering)? \n\nIn fact it's quite similar with the input class, in the input class you can request the raw value or the xss / mysql injection filtered one, right? I don't know you, but I can conceive a framework without the xss / sqlinjection filters, but I can't conceive one without the raw version.\n\nAnd finally, (if you say you won't change it, it's ok, but plz answer those 2 questions):\n1- Why was _detect_uri method removed in 3.0?\n2- Which CGI have you seen that doesn't actually fill SCRIPT_NAME and REQUEST_URI?\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/74545635/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Ignasimg","id":2076465,"node_id":"MDQ6VXNlcjIwNzY0NjU=","avatar_url":"https://avatars.githubusercontent.com/u/2076465?v=4","gravatar_id":"","url":"https://api.github.com/users/Ignasimg","html_url":"https://github.com/Ignasimg","followers_url":"https://api.github.com/users/Ignasimg/followers","following_url":"https://api.github.com/users/Ignasimg/following{/other_user}","gists_url":"https://api.github.com/users/Ignasimg/gists{/gist_id}","starred_url":"https://api.github.com/users/Ignasimg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ignasimg/subscriptions","organizations_url":"https://api.github.com/users/Ignasimg/orgs","repos_url":"https://api.github.com/users/Ignasimg/repos","events_url":"https://api.github.com/users/Ignasimg/events{/privacy}","received_events_url":"https://api.github.com/users/Ignasimg/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/74585759","html_url":"https://github.com/bcit-ci/CodeIgniter/issues/3593#issuecomment-74585759","issue_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/3593","id":74585759,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTg1NzU5","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-16T22:59:19Z","updated_at":"2015-02-16T22:59:19Z","body":"Can you just add the disallowed characters to **$config['permitted_uri_chars']**?\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/74585759/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/74594053","html_url":"https://github.com/bcit-ci/CodeIgniter/issues/3593#issuecomment-74594053","issue_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/3593","id":74594053,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTk0MDUz","user":{"login":"narfbg","id":1058011,"node_id":"MDQ6VXNlcjEwNTgwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1058011?v=4","gravatar_id":"","url":"https://api.github.com/users/narfbg","html_url":"https://github.com/narfbg","followers_url":"https://api.github.com/users/narfbg/followers","following_url":"https://api.github.com/users/narfbg/following{/other_user}","gists_url":"https://api.github.com/users/narfbg/gists{/gist_id}","starred_url":"https://api.github.com/users/narfbg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narfbg/subscriptions","organizations_url":"https://api.github.com/users/narfbg/orgs","repos_url":"https://api.github.com/users/narfbg/repos","events_url":"https://api.github.com/users/narfbg/events{/privacy}","received_events_url":"https://api.github.com/users/narfbg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-17T00:03:17Z","updated_at":"2015-02-17T00:03:17Z","body":"@drivingmenuts\n\nIt's _configuration_, you can add anything you wish for yourself. If we added to the default every character that somebody might need, it would be pointless.\n\n@Ignasimg \n\nLook, I may just turn out to be wrong about some of this, but first you'll have to tone it down a bit and then be more clear about what it is exactly that you see as a problem. I'm usually not that polite when somebody acts as cocky as you and I'm only still replying because I feel you might have a valid point. But currently, you're not helping ...\n\nFirst of all, your initial description only showed that url-encoding doesn't work for you and for some reason you don't want to extend your permitted_uri_chars list for no obvious reason. You also claimed that _detect_uri() was removed and asked why ...\nWell, I don't consider that a bug report and hence why I closed the issue. And _detect_uri() was not removed - the URI class as a whole went through refactoring and the method is now called _parse_request_uri().\n\nI'll ignore your attitude afterwards, but if you read the actual [CGI spec](http://www.faqs.org/rfcs/rfc3875.html), you'll see that CI is using PATH_INFO for exactly what it was designed for.\n\nAnd again, as I said - you shouldn't be relying on autodetection. Configuration is made _for_ people like you and you shouldn't be ignoring it on the grounds that auto-detection should always work like you want it. PATH_INFO was simply given precedence over REQUEST_URI in the auto-detection process and there's nothing wrong about that.\n\n3b72eb58e61581b7e92012a322be48e216491d7c\n9dd2dbb8b9a3edecddcb3907b65a402fd1ae71b4 (yes, people have complained)\n\nNow, I want to answer to this in particular:\n\n> up to now I don't know anyone who encodes links with special characters \"by hand\"\n\nAttackers do, directly on the URI. And that's why the permitted_uri_chars filter exists ... it would be completely pointless otherwise, it wouldn't exist and we wouldn't be having this conversation. If the filter is applied before URL-decoding, anybody would be able to bypass it because they'd always be able to just URL-encode the characters they want to get through the filter.\n\nAlso:\n\n> And you completely understand what I'm saying\n\nNo, I didn't understand what you meant before your last comment and I'm still not quite sure if you're complaining about not having _detect_uri(), about URL-decoding by default, about using PATH_INFO or all of the three and why ... Even if you're correct in what you're saying, at least one of those complaints would be void.\n\n---\n\nI've got no problem admitting that I was wrong in something, but so far I'm just not convinced. Please drop the snarky remarks and try to explain yourself better.\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/74594053/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"narfbg","id":1058011,"node_id":"MDQ6VXNlcjEwNTgwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1058011?v=4","gravatar_id":"","url":"https://api.github.com/users/narfbg","html_url":"https://github.com/narfbg","followers_url":"https://api.github.com/users/narfbg/followers","following_url":"https://api.github.com/users/narfbg/following{/other_user}","gists_url":"https://api.github.com/users/narfbg/gists{/gist_id}","starred_url":"https://api.github.com/users/narfbg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narfbg/subscriptions","organizations_url":"https://api.github.com/users/narfbg/orgs","repos_url":"https://api.github.com/users/narfbg/repos","events_url":"https://api.github.com/users/narfbg/events{/privacy}","received_events_url":"https://api.github.com/users/narfbg/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":236635115,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjM2NjM1MTE1","url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/events/236635115","actor":null,"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2015-02-17T00:03:17Z","performed_via_github_app":null},{"id":236635116,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIzNjYzNTExNg==","url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/events/236635116","actor":null,"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2015-02-17T00:03:17Z","performed_via_github_app":null},{"id":236635117,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjM2NjM1MTE3","url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/events/236635117","actor":{"login":"Ignasimg","id":2076465,"node_id":"MDQ6VXNlcjIwNzY0NjU=","avatar_url":"https://avatars.githubusercontent.com/u/2076465?v=4","gravatar_id":"","url":"https://api.github.com/users/Ignasimg","html_url":"https://github.com/Ignasimg","followers_url":"https://api.github.com/users/Ignasimg/followers","following_url":"https://api.github.com/users/Ignasimg/following{/other_user}","gists_url":"https://api.github.com/users/Ignasimg/gists{/gist_id}","starred_url":"https://api.github.com/users/Ignasimg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ignasimg/subscriptions","organizations_url":"https://api.github.com/users/Ignasimg/orgs","repos_url":"https://api.github.com/users/Ignasimg/repos","events_url":"https://api.github.com/users/Ignasimg/events{/privacy}","received_events_url":"https://api.github.com/users/Ignasimg/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2015-02-17T00:03:17Z","performed_via_github_app":null},{"id":236635118,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDIzNjYzNTExOA==","url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/events/236635118","actor":{"login":"Ignasimg","id":2076465,"node_id":"MDQ6VXNlcjIwNzY0NjU=","avatar_url":"https://avatars.githubusercontent.com/u/2076465?v=4","gravatar_id":"","url":"https://api.github.com/users/Ignasimg","html_url":"https://github.com/Ignasimg","followers_url":"https://api.github.com/users/Ignasimg/followers","following_url":"https://api.github.com/users/Ignasimg/following{/other_user}","gists_url":"https://api.github.com/users/Ignasimg/gists{/gist_id}","starred_url":"https://api.github.com/users/Ignasimg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ignasimg/subscriptions","organizations_url":"https://api.github.com/users/Ignasimg/orgs","repos_url":"https://api.github.com/users/Ignasimg/repos","events_url":"https://api.github.com/users/Ignasimg/events{/privacy}","received_events_url":"https://api.github.com/users/Ignasimg/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2015-02-17T00:03:17Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/74594210","html_url":"https://github.com/bcit-ci/CodeIgniter/issues/3593#issuecomment-74594210","issue_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/3593","id":74594210,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTk0MjEw","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-17T00:05:35Z","updated_at":"2015-02-17T00:05:35Z","body":"Sorry for the confusion, I was responding to Ignasimg. \n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/74594210/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/74595178","html_url":"https://github.com/bcit-ci/CodeIgniter/issues/3593#issuecomment-74595178","issue_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/3593","id":74595178,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTk1MTc4","user":{"login":"narfbg","id":1058011,"node_id":"MDQ6VXNlcjEwNTgwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1058011?v=4","gravatar_id":"","url":"https://api.github.com/users/narfbg","html_url":"https://github.com/narfbg","followers_url":"https://api.github.com/users/narfbg/followers","following_url":"https://api.github.com/users/narfbg/following{/other_user}","gists_url":"https://api.github.com/users/narfbg/gists{/gist_id}","starred_url":"https://api.github.com/users/narfbg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narfbg/subscriptions","organizations_url":"https://api.github.com/users/narfbg/orgs","repos_url":"https://api.github.com/users/narfbg/repos","events_url":"https://api.github.com/users/narfbg/events{/privacy}","received_events_url":"https://api.github.com/users/narfbg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-17T00:17:35Z","updated_at":"2015-02-17T00:17:35Z","body":"Oh ... my bad, I wasn't sure myself, but helpful suggestions are rare around here. :/\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/74595178/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"narfbg","id":1058011,"node_id":"MDQ6VXNlcjEwNTgwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1058011?v=4","gravatar_id":"","url":"https://api.github.com/users/narfbg","html_url":"https://github.com/narfbg","followers_url":"https://api.github.com/users/narfbg/followers","following_url":"https://api.github.com/users/narfbg/following{/other_user}","gists_url":"https://api.github.com/users/narfbg/gists{/gist_id}","starred_url":"https://api.github.com/users/narfbg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narfbg/subscriptions","organizations_url":"https://api.github.com/users/narfbg/orgs","repos_url":"https://api.github.com/users/narfbg/repos","events_url":"https://api.github.com/users/narfbg/events{/privacy}","received_events_url":"https://api.github.com/users/narfbg/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/74612992","html_url":"https://github.com/bcit-ci/CodeIgniter/issues/3593#issuecomment-74612992","issue_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/3593","id":74612992,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NjEyOTky","user":{"login":"Ignasimg","id":2076465,"node_id":"MDQ6VXNlcjIwNzY0NjU=","avatar_url":"https://avatars.githubusercontent.com/u/2076465?v=4","gravatar_id":"","url":"https://api.github.com/users/Ignasimg","html_url":"https://github.com/Ignasimg","followers_url":"https://api.github.com/users/Ignasimg/followers","following_url":"https://api.github.com/users/Ignasimg/following{/other_user}","gists_url":"https://api.github.com/users/Ignasimg/gists{/gist_id}","starred_url":"https://api.github.com/users/Ignasimg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ignasimg/subscriptions","organizations_url":"https://api.github.com/users/Ignasimg/orgs","repos_url":"https://api.github.com/users/Ignasimg/repos","events_url":"https://api.github.com/users/Ignasimg/events{/privacy}","received_events_url":"https://api.github.com/users/Ignasimg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-17T03:42:04Z","updated_at":"2015-02-17T03:42:04Z","body":"Ok sorry about my attitude, let's start again and hopefully I can explain myself better\n\n1- I'm not complaining about MY problem (it was solved even before I posted the first post, maybe I shouldn't had explained all the bullshit, but I tought it was useful to know why I happened to need it)\n\n2- I'm complaining about CI using PATH_INFO, which takes some arbitrary action on the URI, particularly urldecoding it.\n\n3- There is no bypassing as long as what you check is what later CI uses to call the controller. If as you say an attacker wants to insert an equal symbol into the controller using %3D in the URI, two things might happen: CI uses the decoded version and simply refuses the request because it contains invalid characters, or CI uses the encoded version to check, the check is successful and the controller receives %3D (hence the attack also failed, cause attacker wanted an \"=\" not \"%3D\").\n(Whoever argues this might still be a security risk cause some third party tool (such as a database) might decode it, yes I agree, but take care of such security risk is not a URI business but a third-party driver business)\n\n4- You say according to [RFC3875](http://www.ietf.org/rfc/rfc3875) PATH_INFO is being used exactly for what it was designed for. And I guess you are refering to the \"identifies the resource or sub-resource to be returned by the CGI script\" part. But it also states: \"Unlike a URI path, the PATH_INFO is not URL-encoded, and cannot contain path-segment parameters.\".\nI'm not sure if a controller and method should be called a resource or a parameter, but what I'm sure is that CI (and any decent framework nowadays) shall support path-segment parameters.\n\n5- About the people you mention complaining about not automatically decoding the url: \n#388 is simply wrong. What happens is the browser automatically encodes those and so you should decode them by yourself when you want to use it.\n#705 is the real issue. But after thinking a little bit I think the solution to this should be that the router internally urlencodes the keys of the array, taking care not to encode slashes and wildcards, and also keep the not-encoded ones (for CLI and weird browsers that don't auto encode URLs) in other words, I think the router should emulate the browser behaviour to encode the funny characters.\n\n6- Yet another use case I just happened to notice, and I'll explain all the story like before, but IT'S ALREADY SOLVED! I have a website in chinese and I have some links like /foo/bar/[a few chinese characters] luckily or not the browser automagically percent-encodes the characters, older version of CI checks against the encoded one, no problem, (with the default allowed characters). If using PATH_INFO or the urldecoded version of REQUEST_URI to check for it, you gotta add \"weird\" rules on the allowed characters to keep your functionality. And not only chinese but spanish, french, german, russian, greek, ... I guess every language but english. And the more special characters a language has the more weird rules you need to add... do you guys seriously think this is normal?\n\n7- I really took some time searching for people on google who couldn't reported their server let REQUEST_URI empty, and the every post complaining is either > 10 years old, or referencing IIS (which are somewhat less old but between 3 and 6 years old) and regarding IIS I didn't try it but there seems to be an official fix for that [kb2277918](http://support2.microsoft.com/kb/2277918) so I don't see any reason why we shouldn't be using raw REQUEST_URI and only this (beside the CLI)\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/74612992/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Ignasimg","id":2076465,"node_id":"MDQ6VXNlcjIwNzY0NjU=","avatar_url":"https://avatars.githubusercontent.com/u/2076465?v=4","gravatar_id":"","url":"https://api.github.com/users/Ignasimg","html_url":"https://github.com/Ignasimg","followers_url":"https://api.github.com/users/Ignasimg/followers","following_url":"https://api.github.com/users/Ignasimg/following{/other_user}","gists_url":"https://api.github.com/users/Ignasimg/gists{/gist_id}","starred_url":"https://api.github.com/users/Ignasimg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ignasimg/subscriptions","organizations_url":"https://api.github.com/users/Ignasimg/orgs","repos_url":"https://api.github.com/users/Ignasimg/repos","events_url":"https://api.github.com/users/Ignasimg/events{/privacy}","received_events_url":"https://api.github.com/users/Ignasimg/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/74891143","html_url":"https://github.com/bcit-ci/CodeIgniter/issues/3593#issuecomment-74891143","issue_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/3593","id":74891143,"node_id":"MDEyOklzc3VlQ29tbWVudDc0ODkxMTQz","user":{"login":"narfbg","id":1058011,"node_id":"MDQ6VXNlcjEwNTgwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1058011?v=4","gravatar_id":"","url":"https://api.github.com/users/narfbg","html_url":"https://github.com/narfbg","followers_url":"https://api.github.com/users/narfbg/followers","following_url":"https://api.github.com/users/narfbg/following{/other_user}","gists_url":"https://api.github.com/users/narfbg/gists{/gist_id}","starred_url":"https://api.github.com/users/narfbg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narfbg/subscriptions","organizations_url":"https://api.github.com/users/narfbg/orgs","repos_url":"https://api.github.com/users/narfbg/repos","events_url":"https://api.github.com/users/narfbg/events{/privacy}","received_events_url":"https://api.github.com/users/narfbg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-18T16:08:36Z","updated_at":"2015-02-18T16:08:36Z","body":"> 1- I'm not complaining about MY problem (it was solved even before I posted the first post, maybe I shouldn't had explained all the bullshit, but I tought it was useful to know why I happened to need it)\n> \n> 2- I'm complaining about CI using PATH_INFO, which takes some arbitrary action on the URI, particularly urldecoding it.\n\nOK, at least that is clear now.\n\n> 3- There is no bypassing as long as what you check is what later CI uses to call the controller. If as you say an attacker wants to insert an equal symbol into the controller using %3D in the URI, two things might happen: CI uses the decoded version and simply refuses the request because it contains invalid characters, or CI uses the encoded version to check, the check is successful and the controller receives %3D (hence the attack also failed, cause attacker wanted an \"=\" not \"%3D\").\n> (Whoever argues this might still be a security risk cause some third party tool (such as a database) might decode it, yes I agree, but take care of such security risk is not a URI business but a third-party driver business)\n\nIt seems to me that you don't understand that filter's purpose and that in turn leads you to conclusions that make the filter feature seem irrelevant. You're not saying that directly, but encoding didn't matter to the filter - that's the logical conclusion.\n\nIt's not a magic filter to prevent SQL injections (although it may help with that), nor intended to reject invalid URI characters. It's _supposed_ to validate input data by a user-configured pattern. Yes, there's a big scary warning about it in the config.php file, but that's only because our users tend to be quite careless about input validation and that's a way to encourage them to be more restrictive. \n\nAt the end of the day, it is still _your_ configuration and _your_ rules - if you need to allow '=' because it's part of a valid URL input for you, you should absolutely add it to the pattern.\n\n> 4- You say according to RFC3875 PATH_INFO is being used exactly for what it was designed for. And I guess you are refering to the \"identifies the resource or sub-resource to be returned by the CGI script\" part. But it also states: \"Unlike a URI path, the PATH_INFO is not URL-encoded, and cannot contain path-segment parameters.\".\n> I'm not sure if a controller and method should be called a resource or a parameter, but what I'm sure is that CI (and any decent framework nowadays) shall support path-segment parameters.\n\nYes, a controller/method pair is essentially the resource that you access. You are correct about the rest however, so I guess you will get what you want. :)\n\n> 5- About the people you mention complaining about not automatically decoding the url:\n> #388 is simply wrong. What happens is the browser automatically encodes those and so you should decode them by yourself when you want to use it.\n> #705 is the real issue. But after thinking a little bit I think the solution to this should be that the router internally urlencodes the keys of the array, taking care not to encode slashes and wildcards, and also keep the not-encoded ones (for CLI and weird browsers that don't auto encode URLs) in other words, I think the router should emulate the browser behaviour to encode the funny characters.\n\nNo ... that's too much requirements to satisfy for something that's not the router's job anyway.\n\nTo be honest, I never liked those suggestions, but my point stands - people simply want this behavior because it's makes life easier for them, and they do and will complain when they don't have it.\n\nSo at this point I'm thinking a configuration value that enables automatic URL-decoding for those who want it.\n\n> 6- Yet another use case I just happened to notice, and I'll explain all the story like before, but IT'S ALREADY SOLVED! I have a website in chinese and I have some links like /foo/bar/[a few chinese characters] luckily or not the browser automagically percent-encodes the characters, older version of CI checks against the encoded one, no problem, (with the default allowed characters). If using PATH_INFO or the urldecoded version of REQUEST_URI to check for it, you gotta add \"weird\" rules on the allowed characters to keep your functionality. And not only chinese but spanish, french, german, russian, greek, ... I guess every language but english. And the more special characters a language has the more weird rules you need to add... do you guys seriously think this is normal?\n\nNo, I don't think using non-ASCII characters in an URI is normal and I'd rather discourage it.\n\nI did think of a better example on my own however - you may want to use slashes _inside_ of an URI path parameter, which automatic decoding prevents you from doing.\n\n> 7- I really took some time searching for people on google who couldn't reported their server let REQUEST_URI empty, and the every post complaining is either > 10 years old, or referencing IIS (which are somewhat less old but between 3 and 6 years old) and regarding IIS I didn't try it but there seems to be an official fix for that kb2277918 so I don't see any reason why we shouldn't be using raw REQUEST_URI and only this (beside the CLI)\n\nWell, it wasn't a case for not using REQUEST_URI. It was a case for using PATH_INFO because it's simply easier to work with - it requires less manipulation and that results in improved performance. Obviously, we didn't have your arguments presented at the time, so ... that's that.\n\n---\n\nWill commit the necessary changes shortly, thanks for your patience.\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/74891143/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"narfbg","id":1058011,"node_id":"MDQ6VXNlcjEwNTgwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1058011?v=4","gravatar_id":"","url":"https://api.github.com/users/narfbg","html_url":"https://github.com/narfbg","followers_url":"https://api.github.com/users/narfbg/followers","following_url":"https://api.github.com/users/narfbg/following{/other_user}","gists_url":"https://api.github.com/users/narfbg/gists{/gist_id}","starred_url":"https://api.github.com/users/narfbg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narfbg/subscriptions","organizations_url":"https://api.github.com/users/narfbg/orgs","repos_url":"https://api.github.com/users/narfbg/repos","events_url":"https://api.github.com/users/narfbg/events{/privacy}","received_events_url":"https://api.github.com/users/narfbg/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":237892910,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDIzNzg5MjkxMA==","url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/events/237892910","actor":{"login":"narfbg","id":1058011,"node_id":"MDQ6VXNlcjEwNTgwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1058011?v=4","gravatar_id":"","url":"https://api.github.com/users/narfbg","html_url":"https://github.com/narfbg","followers_url":"https://api.github.com/users/narfbg/followers","following_url":"https://api.github.com/users/narfbg/following{/other_user}","gists_url":"https://api.github.com/users/narfbg/gists{/gist_id}","starred_url":"https://api.github.com/users/narfbg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narfbg/subscriptions","organizations_url":"https://api.github.com/users/narfbg/orgs","repos_url":"https://api.github.com/users/narfbg/repos","events_url":"https://api.github.com/users/narfbg/events{/privacy}","received_events_url":"https://api.github.com/users/narfbg/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"0ae4e6c0bd95b7264bee735fb635f317c882bbef","commit_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/commits/0ae4e6c0bd95b7264bee735fb635f317c882bbef","created_at":"2015-02-18T19:15:20Z","performed_via_github_app":null},{"actor":{"login":"narfbg","id":1058011,"node_id":"MDQ6VXNlcjEwNTgwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1058011?v=4","gravatar_id":"","url":"https://api.github.com/users/narfbg","html_url":"https://github.com/narfbg","followers_url":"https://api.github.com/users/narfbg/followers","following_url":"https://api.github.com/users/narfbg/following{/other_user}","gists_url":"https://api.github.com/users/narfbg/gists{/gist_id}","starred_url":"https://api.github.com/users/narfbg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narfbg/subscriptions","organizations_url":"https://api.github.com/users/narfbg/orgs","repos_url":"https://api.github.com/users/narfbg/repos","events_url":"https://api.github.com/users/narfbg/events{/privacy}","received_events_url":"https://api.github.com/users/narfbg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-02-21T17:06:03Z","updated_at":"2015-02-21T17:06:03Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/3612","repository_url":"https://api.github.com/repos/bcit-ci/CodeIgniter","labels_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/3612/labels{/name}","comments_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/3612/comments","events_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/3612/events","html_url":"https://github.com/bcit-ci/CodeIgniter/issues/3612","id":58457094,"node_id":"MDU6SXNzdWU1ODQ1NzA5NA==","number":3612,"title":"Filter URI","user":{"login":"aanbar","id":1263408,"node_id":"MDQ6VXNlcjEyNjM0MDg=","avatar_url":"https://avatars.githubusercontent.com/u/1263408?v=4","gravatar_id":"","url":"https://api.github.com/users/aanbar","html_url":"https://github.com/aanbar","followers_url":"https://api.github.com/users/aanbar/followers","following_url":"https://api.github.com/users/aanbar/following{/other_user}","gists_url":"https://api.github.com/users/aanbar/gists{/gist_id}","starred_url":"https://api.github.com/users/aanbar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aanbar/subscriptions","organizations_url":"https://api.github.com/users/aanbar/orgs","repos_url":"https://api.github.com/users/aanbar/repos","events_url":"https://api.github.com/users/aanbar/events{/privacy}","received_events_url":"https://api.github.com/users/aanbar/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2015-02-21T12:01:01Z","updated_at":"2015-02-26T09:53:30Z","closed_at":"2015-02-26T09:53:30Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":2234102,"node_id":"MDEwOlJlcG9zaXRvcnkyMjM0MTAy","name":"CodeIgniter","full_name":"bcit-ci/CodeIgniter","private":false,"owner":{"login":"bcit-ci","id":8863432,"node_id":"MDEyOk9yZ2FuaXphdGlvbjg4NjM0MzI=","avatar_url":"https://avatars.githubusercontent.com/u/8863432?v=4","gravatar_id":"","url":"https://api.github.com/users/bcit-ci","html_url":"https://github.com/bcit-ci","followers_url":"https://api.github.com/users/bcit-ci/followers","following_url":"https://api.github.com/users/bcit-ci/following{/other_user}","gists_url":"https://api.github.com/users/bcit-ci/gists{/gist_id}","starred_url":"https://api.github.com/users/bcit-ci/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bcit-ci/subscriptions","organizations_url":"https://api.github.com/users/bcit-ci/orgs","repos_url":"https://api.github.com/users/bcit-ci/repos","events_url":"https://api.github.com/users/bcit-ci/events{/privacy}","received_events_url":"https://api.github.com/users/bcit-ci/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/bcit-ci/CodeIgniter","description":"Open Source PHP Framework (originally from EllisLab)","fork":false,"url":"https://api.github.com/repos/bcit-ci/CodeIgniter","forks_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/forks","keys_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/keys{/key_id}","collaborators_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/teams","hooks_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/hooks","issue_events_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/events{/number}","events_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/events","assignees_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/assignees{/user}","branches_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/branches{/branch}","tags_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/tags","blobs_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/git/refs{/sha}","trees_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/git/trees{/sha}","statuses_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/statuses/{sha}","languages_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/languages","stargazers_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/stargazers","contributors_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/contributors","subscribers_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/subscribers","subscription_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/subscription","commits_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/commits{/sha}","git_commits_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/git/commits{/sha}","comments_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/comments{/number}","issue_comment_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments{/number}","contents_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/contents/{+path}","compare_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/compare/{base}...{head}","merges_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/merges","archive_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/downloads","issues_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues{/number}","pulls_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/pulls{/number}","milestones_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/milestones{/number}","notifications_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/labels{/name}","releases_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/releases{/id}","deployments_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/deployments","created_at":"2011-08-19T13:34:00Z","updated_at":"2025-11-10T12:47:16Z","pushed_at":"2024-07-15T07:39:54Z","git_url":"git://github.com/bcit-ci/CodeIgniter.git","ssh_url":"git@github.com:bcit-ci/CodeIgniter.git","clone_url":"https://github.com/bcit-ci/CodeIgniter.git","svn_url":"https://github.com/bcit-ci/CodeIgniter","homepage":"https://codeigniter.com/","size":54780,"stargazers_count":18235,"watchers_count":18235,"language":"PHP","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":7636,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":105,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["php","php-framework","php7","php8"],"visibility":"public","forks":7636,"open_issues":105,"watchers":18235,"default_branch":"develop","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"The last commit to URI class made the filter practically useless.\n\nI think the filter_uri shouldn't be getting the $str by reference & it should match against decoded version of $str for the sake of preventing a not allowed characters from being passed.\n\nAside from that, The location of which the filter uri is called isn't convenient, I think it should be moved to a lower area & have a hook or it should be called prior to executing a controller method (after constructor) this would allow overriding the permitted_uri_chars from constructor for certain method from within the constructor of the controller.\n","reactions":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/3612/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/3612/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"narfbg","id":1058011,"node_id":"MDQ6VXNlcjEwNTgwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1058011?v=4","gravatar_id":"","url":"https://api.github.com/users/narfbg","html_url":"https://github.com/narfbg","followers_url":"https://api.github.com/users/narfbg/followers","following_url":"https://api.github.com/users/narfbg/following{/other_user}","gists_url":"https://api.github.com/users/narfbg/gists{/gist_id}","starred_url":"https://api.github.com/users/narfbg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narfbg/subscriptions","organizations_url":"https://api.github.com/users/narfbg/orgs","repos_url":"https://api.github.com/users/narfbg/repos","events_url":"https://api.github.com/users/narfbg/events{/privacy}","received_events_url":"https://api.github.com/users/narfbg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-30T09:51:43Z","updated_at":"2015-09-30T09:51:43Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/4147","repository_url":"https://api.github.com/repos/bcit-ci/CodeIgniter","labels_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/4147/labels{/name}","comments_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/4147/comments","events_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/4147/events","html_url":"https://github.com/bcit-ci/CodeIgniter/issues/4147","id":108961749,"node_id":"MDU6SXNzdWUxMDg5NjE3NDk=","number":4147,"title":"urlencoded parameters should get decoded","user":{"login":"KN4CK3R","id":1666336,"node_id":"MDQ6VXNlcjE2NjYzMzY=","avatar_url":"https://avatars.githubusercontent.com/u/1666336?v=4","gravatar_id":"","url":"https://api.github.com/users/KN4CK3R","html_url":"https://github.com/KN4CK3R","followers_url":"https://api.github.com/users/KN4CK3R/followers","following_url":"https://api.github.com/users/KN4CK3R/following{/other_user}","gists_url":"https://api.github.com/users/KN4CK3R/gists{/gist_id}","starred_url":"https://api.github.com/users/KN4CK3R/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KN4CK3R/subscriptions","organizations_url":"https://api.github.com/users/KN4CK3R/orgs","repos_url":"https://api.github.com/users/KN4CK3R/repos","events_url":"https://api.github.com/users/KN4CK3R/events{/privacy}","received_events_url":"https://api.github.com/users/KN4CK3R/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2015-09-29T21:16:50Z","updated_at":"2015-09-30T09:51:43Z","closed_at":"2015-09-30T09:51:43Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":2234102,"node_id":"MDEwOlJlcG9zaXRvcnkyMjM0MTAy","name":"CodeIgniter","full_name":"bcit-ci/CodeIgniter","private":false,"owner":{"login":"bcit-ci","id":8863432,"node_id":"MDEyOk9yZ2FuaXphdGlvbjg4NjM0MzI=","avatar_url":"https://avatars.githubusercontent.com/u/8863432?v=4","gravatar_id":"","url":"https://api.github.com/users/bcit-ci","html_url":"https://github.com/bcit-ci","followers_url":"https://api.github.com/users/bcit-ci/followers","following_url":"https://api.github.com/users/bcit-ci/following{/other_user}","gists_url":"https://api.github.com/users/bcit-ci/gists{/gist_id}","starred_url":"https://api.github.com/users/bcit-ci/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bcit-ci/subscriptions","organizations_url":"https://api.github.com/users/bcit-ci/orgs","repos_url":"https://api.github.com/users/bcit-ci/repos","events_url":"https://api.github.com/users/bcit-ci/events{/privacy}","received_events_url":"https://api.github.com/users/bcit-ci/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/bcit-ci/CodeIgniter","description":"Open Source PHP Framework (originally from EllisLab)","fork":false,"url":"https://api.github.com/repos/bcit-ci/CodeIgniter","forks_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/forks","keys_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/keys{/key_id}","collaborators_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/teams","hooks_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/hooks","issue_events_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/events{/number}","events_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/events","assignees_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/assignees{/user}","branches_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/branches{/branch}","tags_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/tags","blobs_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/git/refs{/sha}","trees_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/git/trees{/sha}","statuses_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/statuses/{sha}","languages_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/languages","stargazers_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/stargazers","contributors_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/contributors","subscribers_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/subscribers","subscription_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/subscription","commits_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/commits{/sha}","git_commits_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/git/commits{/sha}","comments_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/comments{/number}","issue_comment_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments{/number}","contents_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/contents/{+path}","compare_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/compare/{base}...{head}","merges_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/merges","archive_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/downloads","issues_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues{/number}","pulls_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/pulls{/number}","milestones_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/milestones{/number}","notifications_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/labels{/name}","releases_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/releases{/id}","deployments_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/deployments","created_at":"2011-08-19T13:34:00Z","updated_at":"2025-11-10T12:47:16Z","pushed_at":"2024-07-15T07:39:54Z","git_url":"git://github.com/bcit-ci/CodeIgniter.git","ssh_url":"git@github.com:bcit-ci/CodeIgniter.git","clone_url":"https://github.com/bcit-ci/CodeIgniter.git","svn_url":"https://github.com/bcit-ci/CodeIgniter","homepage":"https://codeigniter.com/","size":54780,"stargazers_count":18235,"watchers_count":18235,"language":"PHP","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":7636,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":105,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["php","php-framework","php7","php8"],"visibility":"public","forks":7636,"open_issues":105,"watchers":18235,"default_branch":"develop","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"```\nclass Test extends CI_Controller\n{\n    public function index($param = '')\n    {\n        var_dump($param);\n        var_dump(urldecode($param));\n    }\n}\n```\n\nCall it with http://.../test/index/ or http://.../test/index/%C3%B6 (every browser should call the encoded one and most display the decoded one) and you will get the output:\n\n```\nstring '%C3%B6' (length=6)\nstring '' (length=2)\n```\n\nI would expect to get the '' directly. Currently CI forces me to manually urldecode every string parameter that could contain a special character.\n","reactions":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/4147/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/4147/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"aanbar","id":1263408,"node_id":"MDQ6VXNlcjEyNjM0MDg=","avatar_url":"https://avatars.githubusercontent.com/u/1263408?v=4","gravatar_id":"","url":"https://api.github.com/users/aanbar","html_url":"https://github.com/aanbar","followers_url":"https://api.github.com/users/aanbar/followers","following_url":"https://api.github.com/users/aanbar/following{/other_user}","gists_url":"https://api.github.com/users/aanbar/gists{/gist_id}","starred_url":"https://api.github.com/users/aanbar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aanbar/subscriptions","organizations_url":"https://api.github.com/users/aanbar/orgs","repos_url":"https://api.github.com/users/aanbar/repos","events_url":"https://api.github.com/users/aanbar/events{/privacy}","received_events_url":"https://api.github.com/users/aanbar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-12T15:11:30Z","updated_at":"2015-10-12T15:11:30Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/4169","repository_url":"https://api.github.com/repos/bcit-ci/CodeIgniter","labels_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/4169/labels{/name}","comments_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/4169/comments","events_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/4169/events","html_url":"https://github.com/bcit-ci/CodeIgniter/issues/4169","id":110992609,"node_id":"MDU6SXNzdWUxMTA5OTI2MDk=","number":4169,"title":"Undocumented/Uninteded behaviour in URI parsing","user":{"login":"druu","id":694590,"node_id":"MDQ6VXNlcjY5NDU5MA==","avatar_url":"https://avatars.githubusercontent.com/u/694590?v=4","gravatar_id":"","url":"https://api.github.com/users/druu","html_url":"https://github.com/druu","followers_url":"https://api.github.com/users/druu/followers","following_url":"https://api.github.com/users/druu/following{/other_user}","gists_url":"https://api.github.com/users/druu/gists{/gist_id}","starred_url":"https://api.github.com/users/druu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/druu/subscriptions","organizations_url":"https://api.github.com/users/druu/orgs","repos_url":"https://api.github.com/users/druu/repos","events_url":"https://api.github.com/users/druu/events{/privacy}","received_events_url":"https://api.github.com/users/druu/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":144140,"node_id":"MDU6TGFiZWwxNDQxNDA=","url":"https://api.github.com/repos/bcit-ci/CodeIgniter/labels/Duplicate","name":"Duplicate","color":"DDDDDD","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2015-10-12T15:01:57Z","updated_at":"2015-10-13T11:39:55Z","closed_at":"2015-10-12T15:24:02Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":2234102,"node_id":"MDEwOlJlcG9zaXRvcnkyMjM0MTAy","name":"CodeIgniter","full_name":"bcit-ci/CodeIgniter","private":false,"owner":{"login":"bcit-ci","id":8863432,"node_id":"MDEyOk9yZ2FuaXphdGlvbjg4NjM0MzI=","avatar_url":"https://avatars.githubusercontent.com/u/8863432?v=4","gravatar_id":"","url":"https://api.github.com/users/bcit-ci","html_url":"https://github.com/bcit-ci","followers_url":"https://api.github.com/users/bcit-ci/followers","following_url":"https://api.github.com/users/bcit-ci/following{/other_user}","gists_url":"https://api.github.com/users/bcit-ci/gists{/gist_id}","starred_url":"https://api.github.com/users/bcit-ci/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bcit-ci/subscriptions","organizations_url":"https://api.github.com/users/bcit-ci/orgs","repos_url":"https://api.github.com/users/bcit-ci/repos","events_url":"https://api.github.com/users/bcit-ci/events{/privacy}","received_events_url":"https://api.github.com/users/bcit-ci/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/bcit-ci/CodeIgniter","description":"Open Source PHP Framework (originally from EllisLab)","fork":false,"url":"https://api.github.com/repos/bcit-ci/CodeIgniter","forks_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/forks","keys_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/keys{/key_id}","collaborators_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/teams","hooks_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/hooks","issue_events_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/events{/number}","events_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/events","assignees_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/assignees{/user}","branches_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/branches{/branch}","tags_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/tags","blobs_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/git/refs{/sha}","trees_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/git/trees{/sha}","statuses_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/statuses/{sha}","languages_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/languages","stargazers_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/stargazers","contributors_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/contributors","subscribers_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/subscribers","subscription_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/subscription","commits_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/commits{/sha}","git_commits_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/git/commits{/sha}","comments_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/comments{/number}","issue_comment_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments{/number}","contents_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/contents/{+path}","compare_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/compare/{base}...{head}","merges_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/merges","archive_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/downloads","issues_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues{/number}","pulls_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/pulls{/number}","milestones_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/milestones{/number}","notifications_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/labels{/name}","releases_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/releases{/id}","deployments_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/deployments","created_at":"2011-08-19T13:34:00Z","updated_at":"2025-11-10T12:47:16Z","pushed_at":"2024-07-15T07:39:54Z","git_url":"git://github.com/bcit-ci/CodeIgniter.git","ssh_url":"git@github.com:bcit-ci/CodeIgniter.git","clone_url":"https://github.com/bcit-ci/CodeIgniter.git","svn_url":"https://github.com/bcit-ci/CodeIgniter","homepage":"https://codeigniter.com/","size":54780,"stargazers_count":18235,"watchers_count":18235,"language":"PHP","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":7636,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":105,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["php","php-framework","php7","php8"],"visibility":"public","forks":7636,"open_issues":105,"watchers":18235,"default_branch":"develop","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Assume this simple test-controller:\n\n``` php\nclass Home extends CI_Controller {\n    public function test($p) {\n        var_dump($p); die();\n    }\n}\n```\n\nWhen visiting the url `example.com/home/test/what is happening` you get the following outputs when `uri_protocol` is set to `AUTO`:\n\nCI 2.x: `string 'what is happening' (length=17)`\nCI 3.x: `string 'what%20is%20happening' (length=21)`\n\nI would expect it to behave like CI 2.x's handling, but in fact you have to set the `uri_protocol` to `PATH_INFO`.\n\nNow this is either missing in the Docs/Upgrade Guides, or an actual error in https://github.com/bcit-ci/CodeIgniter/blob/3.0-stable/system/core/URI.php#L119-L134\n\nLast known working version: CI 3.0.0-rc1\n","reactions":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/4169/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/4169/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"}]