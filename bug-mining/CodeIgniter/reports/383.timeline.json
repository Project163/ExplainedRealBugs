[{"id":328573130,"node_id":"MDExOkNsb3NlZEV2ZW50MzI4NTczMTMw","url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/events/328573130","actor":{"login":"narfbg","id":1058011,"node_id":"MDQ6VXNlcjEwNTgwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1058011?v=4","gravatar_id":"","url":"https://api.github.com/users/narfbg","html_url":"https://github.com/narfbg","followers_url":"https://api.github.com/users/narfbg/followers","following_url":"https://api.github.com/users/narfbg/following{/other_user}","gists_url":"https://api.github.com/users/narfbg/gists{/gist_id}","starred_url":"https://api.github.com/users/narfbg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narfbg/subscriptions","organizations_url":"https://api.github.com/users/narfbg/orgs","repos_url":"https://api.github.com/users/narfbg/repos","events_url":"https://api.github.com/users/narfbg/events{/privacy}","received_events_url":"https://api.github.com/users/narfbg/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"29de16588458b1abc1b2fb4d125bd9fe04e755c6","commit_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/commits/29de16588458b1abc1b2fb4d125bd9fe04e755c6","created_at":"2015-06-11T14:44:44Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/111178601","html_url":"https://github.com/bcit-ci/CodeIgniter/issues/3904#issuecomment-111178601","issue_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/3904","id":111178601,"node_id":"MDEyOklzc3VlQ29tbWVudDExMTE3ODYwMQ==","user":{"login":"jamieburchell","id":3270426,"node_id":"MDQ6VXNlcjMyNzA0MjY=","avatar_url":"https://avatars.githubusercontent.com/u/3270426?v=4","gravatar_id":"","url":"https://api.github.com/users/jamieburchell","html_url":"https://github.com/jamieburchell","followers_url":"https://api.github.com/users/jamieburchell/followers","following_url":"https://api.github.com/users/jamieburchell/following{/other_user}","gists_url":"https://api.github.com/users/jamieburchell/gists{/gist_id}","starred_url":"https://api.github.com/users/jamieburchell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamieburchell/subscriptions","organizations_url":"https://api.github.com/users/jamieburchell/orgs","repos_url":"https://api.github.com/users/jamieburchell/repos","events_url":"https://api.github.com/users/jamieburchell/events{/privacy}","received_events_url":"https://api.github.com/users/jamieburchell/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-06-11T15:46:48Z","updated_at":"2015-06-11T15:47:18Z","body":"I can't think of a situation where having an anonymous function without an error label (example 2) is useful? There is no way to set an error message without using example 1, but I guess this is just by design given you are looking for things that are callable.\n\nJust a thought, but would this syntax be cleaner for assigning a label to a function?\n\n```\n$this->form_validation->set_rules('image', 'Image', [\n    'trim',\n    'label' => function($value) {\n        $this->upload_image();\n    }\n]);\n```\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/111178601/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jamieburchell","id":3270426,"node_id":"MDQ6VXNlcjMyNzA0MjY=","avatar_url":"https://avatars.githubusercontent.com/u/3270426?v=4","gravatar_id":"","url":"https://api.github.com/users/jamieburchell","html_url":"https://github.com/jamieburchell","followers_url":"https://api.github.com/users/jamieburchell/followers","following_url":"https://api.github.com/users/jamieburchell/following{/other_user}","gists_url":"https://api.github.com/users/jamieburchell/gists{/gist_id}","starred_url":"https://api.github.com/users/jamieburchell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamieburchell/subscriptions","organizations_url":"https://api.github.com/users/jamieburchell/orgs","repos_url":"https://api.github.com/users/jamieburchell/repos","events_url":"https://api.github.com/users/jamieburchell/events{/privacy}","received_events_url":"https://api.github.com/users/jamieburchell/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/112099695","html_url":"https://github.com/bcit-ci/CodeIgniter/issues/3904#issuecomment-112099695","issue_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/3904","id":112099695,"node_id":"MDEyOklzc3VlQ29tbWVudDExMjA5OTY5NQ==","user":{"login":"narfbg","id":1058011,"node_id":"MDQ6VXNlcjEwNTgwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1058011?v=4","gravatar_id":"","url":"https://api.github.com/users/narfbg","html_url":"https://github.com/narfbg","followers_url":"https://api.github.com/users/narfbg/followers","following_url":"https://api.github.com/users/narfbg/following{/other_user}","gists_url":"https://api.github.com/users/narfbg/gists{/gist_id}","starred_url":"https://api.github.com/users/narfbg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narfbg/subscriptions","organizations_url":"https://api.github.com/users/narfbg/orgs","repos_url":"https://api.github.com/users/narfbg/repos","events_url":"https://api.github.com/users/narfbg/events{/privacy}","received_events_url":"https://api.github.com/users/narfbg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-06-15T15:04:47Z","updated_at":"2015-06-15T15:04:47Z","body":"It's not necessarily a validation function ... it could modify the input as well (e.g. like `trim()`). As for the alternative syntax - sure, it's nice, but we already use the other one and this library is becoming a maintenance hell as it is. Introducing another one doesn't really bring any benefit other than being \"nice\".\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/112099695/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"narfbg","id":1058011,"node_id":"MDQ6VXNlcjEwNTgwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1058011?v=4","gravatar_id":"","url":"https://api.github.com/users/narfbg","html_url":"https://github.com/narfbg","followers_url":"https://api.github.com/users/narfbg/followers","following_url":"https://api.github.com/users/narfbg/following{/other_user}","gists_url":"https://api.github.com/users/narfbg/gists{/gist_id}","starred_url":"https://api.github.com/users/narfbg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narfbg/subscriptions","organizations_url":"https://api.github.com/users/narfbg/orgs","repos_url":"https://api.github.com/users/narfbg/repos","events_url":"https://api.github.com/users/narfbg/events{/privacy}","received_events_url":"https://api.github.com/users/narfbg/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":382463394,"node_id":"MDEyOkxhYmVsZWRFdmVudDM4MjQ2MzM5NA==","url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/events/382463394","actor":{"login":"narfbg","id":1058011,"node_id":"MDQ6VXNlcjEwNTgwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1058011?v=4","gravatar_id":"","url":"https://api.github.com/users/narfbg","html_url":"https://github.com/narfbg","followers_url":"https://api.github.com/users/narfbg/followers","following_url":"https://api.github.com/users/narfbg/following{/other_user}","gists_url":"https://api.github.com/users/narfbg/gists{/gist_id}","starred_url":"https://api.github.com/users/narfbg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narfbg/subscriptions","organizations_url":"https://api.github.com/users/narfbg/orgs","repos_url":"https://api.github.com/users/narfbg/repos","events_url":"https://api.github.com/users/narfbg/events{/privacy}","received_events_url":"https://api.github.com/users/narfbg/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2015-08-14T11:02:24Z","label":{"name":"Bug","color":"e10c02"},"performed_via_github_app":null},{"id":382463420,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDM4MjQ2MzQyMA==","url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/events/382463420","actor":{"login":"narfbg","id":1058011,"node_id":"MDQ6VXNlcjEwNTgwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1058011?v=4","gravatar_id":"","url":"https://api.github.com/users/narfbg","html_url":"https://github.com/narfbg","followers_url":"https://api.github.com/users/narfbg/followers","following_url":"https://api.github.com/users/narfbg/following{/other_user}","gists_url":"https://api.github.com/users/narfbg/gists{/gist_id}","starred_url":"https://api.github.com/users/narfbg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narfbg/subscriptions","organizations_url":"https://api.github.com/users/narfbg/orgs","repos_url":"https://api.github.com/users/narfbg/repos","events_url":"https://api.github.com/users/narfbg/events{/privacy}","received_events_url":"https://api.github.com/users/narfbg/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2015-08-14T11:02:26Z","milestone":{"title":"3.0.1"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/142424693","html_url":"https://github.com/bcit-ci/CodeIgniter/issues/3904#issuecomment-142424693","issue_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/3904","id":142424693,"node_id":"MDEyOklzc3VlQ29tbWVudDE0MjQyNDY5Mw==","user":{"login":"GloryFish","id":94730,"node_id":"MDQ6VXNlcjk0NzMw","avatar_url":"https://avatars.githubusercontent.com/u/94730?v=4","gravatar_id":"","url":"https://api.github.com/users/GloryFish","html_url":"https://github.com/GloryFish","followers_url":"https://api.github.com/users/GloryFish/followers","following_url":"https://api.github.com/users/GloryFish/following{/other_user}","gists_url":"https://api.github.com/users/GloryFish/gists{/gist_id}","starred_url":"https://api.github.com/users/GloryFish/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GloryFish/subscriptions","organizations_url":"https://api.github.com/users/GloryFish/orgs","repos_url":"https://api.github.com/users/GloryFish/repos","events_url":"https://api.github.com/users/GloryFish/events{/privacy}","received_events_url":"https://api.github.com/users/GloryFish/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-22T21:13:56Z","updated_at":"2015-09-22T21:25:17Z","body":"We ran into this issue in our project. We are updating a CI 2.x project to 3.0.1 and have existing custom validation rules defined like so:\n\n``` php\n$this->form_validation->set_rules($identifier, $description, 'trim|is_natural|alpha_dash_space_apos|less_than[2]');\n```\n\nand we implement that rule in a function like so:\n\n``` php\n  function alpha_dash_space_apos($str) {\n    if (! preg_match(\"/^([-a-z_ '])+$/i\", $str)) {\n      $this->set_message('alpha_dash_space_apos', 'The %s field may only contain letters, spaces, apostrophies, underscores, and dashes.');\n      return FALSE;\n    } else {\n      return TRUE;\n    }\n  }\n```\n\nThe [current documentation](https://www.codeigniter.com/userguide3/libraries/form_validation.html#prepping-data) says \"Any native PHP function that accepts one parameter can be used as a rule, like `htmlspecialchars()`, `trim()`, etc.\". However,  the current implementation of Form_validation::_execute() skips callbacks defined as strings (liek we do above) if the field is empty and required, unless the string begins with 'callback_'. \n\nI believe changing the [check in _execute()](https://github.com/bcit-ci/CodeIgniter/blob/938c7e4e4d874189fec2bec8532ed70bb8c52f05/system/libraries/Form_validation.php#L606-L614) to this:\n\n``` php\nif (is_string($rule) && strncmp($rule, 'callback_', 9) === 0) {\n    $callback = TRUE;\n    $rules = array(1 => $rule);\n    break;\n}\n```\n\nresolves the issue. With this change, rules defined as a string with a prefix of 'callable_' will be set as a rule AND any string which is callable will also be included, even when the field is empty and not required. This ensures that all defined rules will be correctly invoked.\n\nHowever, this leads to the case that @jamieburchell mentions where it's possible to define a validation rule without an error string. This happens if you specify the name of a custom function and return a BOOL from that function or if you supply a native PHP function that returns a BOOL (e.g. `is_array`) and that function does not explicitly call `set_message()` before returning `FALSE`.\n\nI think the underlying problem is that the `Form_validation` class conflates field validation with field \"prepping\". Validation functions are expected to return a BOOL and some error message needs to be provided. Prepping functions need to return a modified value and don't prevent form submissions; they don't need a defined error message. With the current API,  it's very easy to define a validation with just a string name as if it was a prepping function.\n\nI think `set_rules()` should explicitly only support validation rules so that the error message requirement can be enforced. Then a new `set_prep()` method should be added for specifying data transformation functions which don't need error messages.\n\nThat way you can't accidentally define a validation rule with no error message that gets skipped when the posted data is empty. \n\nAt the very least, the documentation should _not_ say \"Any native PHP function that accepts one parameter can be used as a rule\" as that seems to be clearly incorrect.\n\n_Update: typo fixes_\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/142424693/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"GloryFish","id":94730,"node_id":"MDQ6VXNlcjk0NzMw","avatar_url":"https://avatars.githubusercontent.com/u/94730?v=4","gravatar_id":"","url":"https://api.github.com/users/GloryFish","html_url":"https://github.com/GloryFish","followers_url":"https://api.github.com/users/GloryFish/followers","following_url":"https://api.github.com/users/GloryFish/following{/other_user}","gists_url":"https://api.github.com/users/GloryFish/gists{/gist_id}","starred_url":"https://api.github.com/users/GloryFish/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GloryFish/subscriptions","organizations_url":"https://api.github.com/users/GloryFish/orgs","repos_url":"https://api.github.com/users/GloryFish/repos","events_url":"https://api.github.com/users/GloryFish/events{/privacy}","received_events_url":"https://api.github.com/users/GloryFish/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":416356382,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDE2MzU2Mzgy","url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/events/416356382","actor":{"login":"jamieburchell","id":3270426,"node_id":"MDQ6VXNlcjMyNzA0MjY=","avatar_url":"https://avatars.githubusercontent.com/u/3270426?v=4","gravatar_id":"","url":"https://api.github.com/users/jamieburchell","html_url":"https://github.com/jamieburchell","followers_url":"https://api.github.com/users/jamieburchell/followers","following_url":"https://api.github.com/users/jamieburchell/following{/other_user}","gists_url":"https://api.github.com/users/jamieburchell/gists{/gist_id}","starred_url":"https://api.github.com/users/jamieburchell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamieburchell/subscriptions","organizations_url":"https://api.github.com/users/jamieburchell/orgs","repos_url":"https://api.github.com/users/jamieburchell/repos","events_url":"https://api.github.com/users/jamieburchell/events{/privacy}","received_events_url":"https://api.github.com/users/jamieburchell/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2015-09-22T21:13:56Z","performed_via_github_app":null},{"id":416356383,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQxNjM1NjM4Mw==","url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/events/416356383","actor":{"login":"jamieburchell","id":3270426,"node_id":"MDQ6VXNlcjMyNzA0MjY=","avatar_url":"https://avatars.githubusercontent.com/u/3270426?v=4","gravatar_id":"","url":"https://api.github.com/users/jamieburchell","html_url":"https://github.com/jamieburchell","followers_url":"https://api.github.com/users/jamieburchell/followers","following_url":"https://api.github.com/users/jamieburchell/following{/other_user}","gists_url":"https://api.github.com/users/jamieburchell/gists{/gist_id}","starred_url":"https://api.github.com/users/jamieburchell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamieburchell/subscriptions","organizations_url":"https://api.github.com/users/jamieburchell/orgs","repos_url":"https://api.github.com/users/jamieburchell/repos","events_url":"https://api.github.com/users/jamieburchell/events{/privacy}","received_events_url":"https://api.github.com/users/jamieburchell/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2015-09-22T21:13:56Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/142528100","html_url":"https://github.com/bcit-ci/CodeIgniter/issues/3904#issuecomment-142528100","issue_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/3904","id":142528100,"node_id":"MDEyOklzc3VlQ29tbWVudDE0MjUyODEwMA==","user":{"login":"narfbg","id":1058011,"node_id":"MDQ6VXNlcjEwNTgwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1058011?v=4","gravatar_id":"","url":"https://api.github.com/users/narfbg","html_url":"https://github.com/narfbg","followers_url":"https://api.github.com/users/narfbg/followers","following_url":"https://api.github.com/users/narfbg/following{/other_user}","gists_url":"https://api.github.com/users/narfbg/gists{/gist_id}","starred_url":"https://api.github.com/users/narfbg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narfbg/subscriptions","organizations_url":"https://api.github.com/users/narfbg/orgs","repos_url":"https://api.github.com/users/narfbg/repos","events_url":"https://api.github.com/users/narfbg/events{/privacy}","received_events_url":"https://api.github.com/users/narfbg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-23T08:28:37Z","updated_at":"2015-09-23T08:28:37Z","body":"Lack of the 'required' rule means that an empty value is acceptable - that's the whole point of having 'required' in the first place.\n\nAnd the documentation is not incorrect, because `set_message()` isn't the only way to map error messages to rule names.\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/142528100/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"narfbg","id":1058011,"node_id":"MDQ6VXNlcjEwNTgwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1058011?v=4","gravatar_id":"","url":"https://api.github.com/users/narfbg","html_url":"https://github.com/narfbg","followers_url":"https://api.github.com/users/narfbg/followers","following_url":"https://api.github.com/users/narfbg/following{/other_user}","gists_url":"https://api.github.com/users/narfbg/gists{/gist_id}","starred_url":"https://api.github.com/users/narfbg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narfbg/subscriptions","organizations_url":"https://api.github.com/users/narfbg/orgs","repos_url":"https://api.github.com/users/narfbg/repos","events_url":"https://api.github.com/users/narfbg/events{/privacy}","received_events_url":"https://api.github.com/users/narfbg/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/142651896","html_url":"https://github.com/bcit-ci/CodeIgniter/issues/3904#issuecomment-142651896","issue_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/3904","id":142651896,"node_id":"MDEyOklzc3VlQ29tbWVudDE0MjY1MTg5Ng==","user":{"login":"GloryFish","id":94730,"node_id":"MDQ6VXNlcjk0NzMw","avatar_url":"https://avatars.githubusercontent.com/u/94730?v=4","gravatar_id":"","url":"https://api.github.com/users/GloryFish","html_url":"https://github.com/GloryFish","followers_url":"https://api.github.com/users/GloryFish/followers","following_url":"https://api.github.com/users/GloryFish/following{/other_user}","gists_url":"https://api.github.com/users/GloryFish/gists{/gist_id}","starred_url":"https://api.github.com/users/GloryFish/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GloryFish/subscriptions","organizations_url":"https://api.github.com/users/GloryFish/orgs","repos_url":"https://api.github.com/users/GloryFish/repos","events_url":"https://api.github.com/users/GloryFish/events{/privacy}","received_events_url":"https://api.github.com/users/GloryFish/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-23T16:16:47Z","updated_at":"2015-09-23T16:16:47Z","body":"Check out this example. If I define a validation scenario like this:\n\n``` php\n$this->form_validation->set_message('my_custom_validation', '{field} failed validation');\n\n$this->form_validation->set_rules('my_field', 'My field',\n  array(\n    array(\n      'my_custom_validation',\n      function($str) {\n        return FALSE;\n      }\n    ),\n  )\n);\n```\n\nEven though the field is not required, the Form Validation library will run the callback, validation for 'my_field' will fail, and the message will be displayed.\n\nHowever, if I define the rule like so:\n\n``` php\nfunction my_custom_validation($str) {\n    return FALSE;\n}\n\n$this->form_validation->set_message('my_custom_validation', '{field} failed validation');\n\n$this->form_validation->set_rules('my_field', 'My field', 'my_custom_validation');\n```\n\nmy validation function will never be called by the library. You get different behavior based on how the rule is defined. \n\nThe reason why is because the code [here](https://github.com/bcit-ci/CodeIgniter/blob/938c7e4e4d874189fec2bec8532ed70bb8c52f05/system/libraries/Form_validation.php#L606-L614) has no code path for the case where a supplied rule name _doesn't_ begin with 'callback_' but is still callable. \n\nMy change proposed above handles this case explicitly.\n\nSince the code here goes out of it's way to check for additional defined rules even when the field _isn't_ required, I don't think it's correct to say that \"Lack of the 'required' rule means that an empty value is acceptable\".\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/142651896/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"GloryFish","id":94730,"node_id":"MDQ6VXNlcjk0NzMw","avatar_url":"https://avatars.githubusercontent.com/u/94730?v=4","gravatar_id":"","url":"https://api.github.com/users/GloryFish","html_url":"https://github.com/GloryFish","followers_url":"https://api.github.com/users/GloryFish/followers","following_url":"https://api.github.com/users/GloryFish/following{/other_user}","gists_url":"https://api.github.com/users/GloryFish/gists{/gist_id}","starred_url":"https://api.github.com/users/GloryFish/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GloryFish/subscriptions","organizations_url":"https://api.github.com/users/GloryFish/orgs","repos_url":"https://api.github.com/users/GloryFish/repos","events_url":"https://api.github.com/users/GloryFish/events{/privacy}","received_events_url":"https://api.github.com/users/GloryFish/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/142673998","html_url":"https://github.com/bcit-ci/CodeIgniter/issues/3904#issuecomment-142673998","issue_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/3904","id":142673998,"node_id":"MDEyOklzc3VlQ29tbWVudDE0MjY3Mzk5OA==","user":{"login":"narfbg","id":1058011,"node_id":"MDQ6VXNlcjEwNTgwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1058011?v=4","gravatar_id":"","url":"https://api.github.com/users/narfbg","html_url":"https://github.com/narfbg","followers_url":"https://api.github.com/users/narfbg/followers","following_url":"https://api.github.com/users/narfbg/following{/other_user}","gists_url":"https://api.github.com/users/narfbg/gists{/gist_id}","starred_url":"https://api.github.com/users/narfbg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narfbg/subscriptions","organizations_url":"https://api.github.com/users/narfbg/orgs","repos_url":"https://api.github.com/users/narfbg/repos","events_url":"https://api.github.com/users/narfbg/events{/privacy}","received_events_url":"https://api.github.com/users/narfbg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-23T17:34:47Z","updated_at":"2015-09-23T17:34:47Z","body":"I was very careful in picking the word 'acceptable' there ... it is not incorrect exactly because it leaves room for exceptions. And still, honestly, what use do you see in the 'required' rule if not that? Determining whether empty values are accepted is literally its only purpose.\n\nNow, I do have to admit one thing - I have no fucking idea why 'callback_' rules specifically would still run for empty values when there's no 'required' rule. That's something that goes way back before I became involved with CI.\nHowever, if I have to guess, there is some logic in _callbacks_ (not just callables, but callbacks - a tiny difference) always running because, originally, those were only controller methods prefixed by 'callback_', and controllers are objects, which means they maintain some kind of state and therefore can be used to execute side-effect logic that's not just validation or sanitization (logging perhaps? who knows ... the possibilities are endless).\nWhether people actually use them that way is another story, but that statefulness is what's different between a class method and what you're trying to do with a regular function.\n\nThe so called \"callables\" were just designed as a more flexible version of \"callbacks\", but it really refers to closures, or anonymous functions, and not really all callables.\nEvery rule (except 'required') is a callable and so this \"callables\" exception wouldn't make any sense otherwise. Your proposed change makes everything _but_ the predefined rules from `CI_Form_validation` to run at all times, which makes even less sense. :)\n\nYes, it's all confusing and buried under a pile of confusing and at times probably improper terms, so I certainly don't blame you for not getting the logic behind it, but it's just the way it is and it _does_ work as intended.\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/142673998/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"narfbg","id":1058011,"node_id":"MDQ6VXNlcjEwNTgwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1058011?v=4","gravatar_id":"","url":"https://api.github.com/users/narfbg","html_url":"https://github.com/narfbg","followers_url":"https://api.github.com/users/narfbg/followers","following_url":"https://api.github.com/users/narfbg/following{/other_user}","gists_url":"https://api.github.com/users/narfbg/gists{/gist_id}","starred_url":"https://api.github.com/users/narfbg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narfbg/subscriptions","organizations_url":"https://api.github.com/users/narfbg/orgs","repos_url":"https://api.github.com/users/narfbg/repos","events_url":"https://api.github.com/users/narfbg/events{/privacy}","received_events_url":"https://api.github.com/users/narfbg/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/142694631","html_url":"https://github.com/bcit-ci/CodeIgniter/issues/3904#issuecomment-142694631","issue_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/3904","id":142694631,"node_id":"MDEyOklzc3VlQ29tbWVudDE0MjY5NDYzMQ==","user":{"login":"GloryFish","id":94730,"node_id":"MDQ6VXNlcjk0NzMw","avatar_url":"https://avatars.githubusercontent.com/u/94730?v=4","gravatar_id":"","url":"https://api.github.com/users/GloryFish","html_url":"https://github.com/GloryFish","followers_url":"https://api.github.com/users/GloryFish/followers","following_url":"https://api.github.com/users/GloryFish/following{/other_user}","gists_url":"https://api.github.com/users/GloryFish/gists{/gist_id}","starred_url":"https://api.github.com/users/GloryFish/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GloryFish/subscriptions","organizations_url":"https://api.github.com/users/GloryFish/orgs","repos_url":"https://api.github.com/users/GloryFish/repos","events_url":"https://api.github.com/users/GloryFish/events{/privacy}","received_events_url":"https://api.github.com/users/GloryFish/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-23T18:49:34Z","updated_at":"2015-09-23T18:56:49Z","body":"Thank you for taking the time to review and respond.\n\nYour point about class or closure state is well taken. With that in mind, allow me to phrase my understanding of the code's intent and you can tell me if I'm on the right track:\n\n\"Generally speaking, if a field is empty and isn't required, additional validation functions will not be run against the empty field. However, if there is a custom validation rule defined which is a Class based callback (\"_callback\") or a closure, the system will always call it so that additional state information can be utilized.\" \n\nI think that is what the code expresses and what you intend with the code in `_execute()`. If that's true then that seems reasonable.\n\nI think the documentation could be updated in two small ways to make this more clear:\n1. Make it explicit that ordinarily, validation rules aren't run if a field is empty and not required, however the module _will_ call custom controller-based callbacks or anonymous functions every time.\n2. Change the wording in the \"Prepping Data\" section from \"Any native PHP function that accepts one parameter can be used as a **rule**, like `htmlspecialchars()`, `trim()`, etc.\" to \"Any native PHP function that accepts one parameter can be used as a **prepping function**, like `htmlspecialchars()`, `trim()`, etc.\"\n\nIt's reasonable to me that prepping functions wouldn't run if the field is empty, but it's surprising if certain custom rules defined in a specific way don't run every time. Making it explicit that defining custom validation rules with just a string is not the expected use case clears this up.\n\nAlso, I think the Upgrade documentation should mention this because it is a change of behavior from 2.0 to 3.0. (I _think_ the change occurred [here](https://github.com/bcit-ci/CodeIgniter/commit/4b90a3746e929f6bbf2b83c71948665c0c31d1fe) although I may be misreading it.)\n\nOur 2.0 code implemented some custom form validation functions which we invoked by including them in a piped string passed to `set_rules()`. These functions were generic validation functions which weren't specific to any particular controller. The 2.0 code called these every time. When we moved to 3.0 we noticed that they were only called when the field was not empty.\n\nI'm not sure how unusual this situation might be, but if you look at the _Cascading Rules_ and _Prepping Data_ sections in the [old documentation](https://ellislab.com/codeigniter/user-guide/libraries/form_validation.html#cascadingrules) it looks like a very reasonable approach for implementing generic custom rules that don't belong in a specific Controller class. This is what we did in our project back in the day.\n\nI first noticed this issue when I went to add a new \"conditional required\" rule which needed to do some state checking and I needed it to run every time. I have since re-implemented our rules in a small library using the callback functionality rather than with a string identifier and it's working properly.\n\nIf the documentation changes above had been in place I would have saved a whole lot of time and just converted all the rules during our initial upgrade.\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/142694631/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"GloryFish","id":94730,"node_id":"MDQ6VXNlcjk0NzMw","avatar_url":"https://avatars.githubusercontent.com/u/94730?v=4","gravatar_id":"","url":"https://api.github.com/users/GloryFish","html_url":"https://github.com/GloryFish","followers_url":"https://api.github.com/users/GloryFish/followers","following_url":"https://api.github.com/users/GloryFish/following{/other_user}","gists_url":"https://api.github.com/users/GloryFish/gists{/gist_id}","starred_url":"https://api.github.com/users/GloryFish/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GloryFish/subscriptions","organizations_url":"https://api.github.com/users/GloryFish/orgs","repos_url":"https://api.github.com/users/GloryFish/repos","events_url":"https://api.github.com/users/GloryFish/events{/privacy}","received_events_url":"https://api.github.com/users/GloryFish/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/142917352","html_url":"https://github.com/bcit-ci/CodeIgniter/issues/3904#issuecomment-142917352","issue_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/3904","id":142917352,"node_id":"MDEyOklzc3VlQ29tbWVudDE0MjkxNzM1Mg==","user":{"login":"narfbg","id":1058011,"node_id":"MDQ6VXNlcjEwNTgwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1058011?v=4","gravatar_id":"","url":"https://api.github.com/users/narfbg","html_url":"https://github.com/narfbg","followers_url":"https://api.github.com/users/narfbg/followers","following_url":"https://api.github.com/users/narfbg/following{/other_user}","gists_url":"https://api.github.com/users/narfbg/gists{/gist_id}","starred_url":"https://api.github.com/users/narfbg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narfbg/subscriptions","organizations_url":"https://api.github.com/users/narfbg/orgs","repos_url":"https://api.github.com/users/narfbg/repos","events_url":"https://api.github.com/users/narfbg/events{/privacy}","received_events_url":"https://api.github.com/users/narfbg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-09-24T12:45:03Z","updated_at":"2015-09-24T12:45:03Z","body":"> Your point about class or closure state is well taken. With that in mind, allow me to phrase my understanding of the code's intent and you can tell me if I'm on the right track:\n> \n> \"Generally speaking, if a field is empty and isn't required, additional validation functions will not be run against the empty field. However, if there is a custom validation rule defined which is a Class based callback (\"_callback\") or a closure, the system will always call it so that additional state information can be utilized.\"\n> \n> I think that is what the code expresses and what you intend with the code in `_execute()`. If that's true then that seems reasonable.\n\nCorrect.\n\n> Make it explicit that ordinarily, validation rules aren't run if a field is empty and not required, however the module will call custom controller-based callbacks or anonymous functions every time.\n\nAgreed.\n\n> Change the wording in the \"Prepping Data\" section from \"Any native PHP function that accepts one parameter can be used as a rule, like htmlspecialchars(), trim(), etc.\" to \"Any native PHP function that accepts one parameter can be used as a prepping function, like htmlspecialchars(), trim(), etc.\"\n\nIf this specific sentence is under the \"Prepping Data\" section, I agree in principle that \"prepping function\" is better than \"rule\" here, but otherwise than that ... it seems to me that you're implying the statement itself is wrong and it's not - it would be perfectly correct to say it for validation rules.\nFor example, using `ctype_digit()` as a validation rule is perfectly fine.\n\nI also get the feeling that you don't quite understand what is meant by \"native PHP function\" and that's what got you into this whole thing ... The word \"native\" in there means that we're talking about functions defined by PHP itself and it is there for one reason only - to discourage you from declaring rules as regular global functions.\nIt is obviously possible, because there's no technical difference in how that function would be called, but you were never supposed to do that in the first place.\n\n> It's reasonable to me that prepping functions wouldn't run if the field is empty, but it's surprising if certain custom rules defined in a specific way don't run every time. Making it explicit that defining custom validation rules with just a string is not the expected use case clears this up.\n\n... I think I answered that in my last sentence above. :)\n\n> Also, I think the Upgrade documentation should mention this because it is a change of behavior from 2.0 to 3.0.\n\nThe behavior that you expected was never the intended one. If it is a change in behavior, it's just a regular bugfix and as such it doesn't belong in the upgrade instructions.\n\n> I'm not sure how unusual this situation might be, but if you look at the Cascading Rules and Prepping Data sections in the old documentation it looks like a very reasonable approach for implementing generic custom rules that don't belong in a specific Controller class. This is what we did in our project back in the day.\n\nNo it doesn't ... nothing in there suggests usage of regular functions as validation rules. And there are at least two more ways to have rules not tied to a specific controller, that are widely used with CodeIgniter and not just for form validation - putting them in MY_Controller, or in MY_Form_validation. The latter being more reasonable IMO.\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/142917352/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"narfbg","id":1058011,"node_id":"MDQ6VXNlcjEwNTgwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1058011?v=4","gravatar_id":"","url":"https://api.github.com/users/narfbg","html_url":"https://github.com/narfbg","followers_url":"https://api.github.com/users/narfbg/followers","following_url":"https://api.github.com/users/narfbg/following{/other_user}","gists_url":"https://api.github.com/users/narfbg/gists{/gist_id}","starred_url":"https://api.github.com/users/narfbg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narfbg/subscriptions","organizations_url":"https://api.github.com/users/narfbg/orgs","repos_url":"https://api.github.com/users/narfbg/repos","events_url":"https://api.github.com/users/narfbg/events{/privacy}","received_events_url":"https://api.github.com/users/narfbg/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"narfbg","id":1058011,"node_id":"MDQ6VXNlcjEwNTgwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1058011?v=4","gravatar_id":"","url":"https://api.github.com/users/narfbg","html_url":"https://github.com/narfbg","followers_url":"https://api.github.com/users/narfbg/followers","following_url":"https://api.github.com/users/narfbg/following{/other_user}","gists_url":"https://api.github.com/users/narfbg/gists{/gist_id}","starred_url":"https://api.github.com/users/narfbg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narfbg/subscriptions","organizations_url":"https://api.github.com/users/narfbg/orgs","repos_url":"https://api.github.com/users/narfbg/repos","events_url":"https://api.github.com/users/narfbg/events{/privacy}","received_events_url":"https://api.github.com/users/narfbg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-10-05T07:35:41Z","updated_at":"2015-10-05T07:35:41Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/4156","repository_url":"https://api.github.com/repos/bcit-ci/CodeIgniter","labels_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/4156/labels{/name}","comments_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/4156/comments","events_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/4156/events","html_url":"https://github.com/bcit-ci/CodeIgniter/issues/4156","id":109708378,"node_id":"MDU6SXNzdWUxMDk3MDgzNzg=","number":4156,"title":"Form validation callback function in helpers","user":{"login":"vlad-datacat","id":8087231,"node_id":"MDQ6VXNlcjgwODcyMzE=","avatar_url":"https://avatars.githubusercontent.com/u/8087231?v=4","gravatar_id":"","url":"https://api.github.com/users/vlad-datacat","html_url":"https://github.com/vlad-datacat","followers_url":"https://api.github.com/users/vlad-datacat/followers","following_url":"https://api.github.com/users/vlad-datacat/following{/other_user}","gists_url":"https://api.github.com/users/vlad-datacat/gists{/gist_id}","starred_url":"https://api.github.com/users/vlad-datacat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vlad-datacat/subscriptions","organizations_url":"https://api.github.com/users/vlad-datacat/orgs","repos_url":"https://api.github.com/users/vlad-datacat/repos","events_url":"https://api.github.com/users/vlad-datacat/events{/privacy}","received_events_url":"https://api.github.com/users/vlad-datacat/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2015-10-04T22:19:22Z","updated_at":"2015-10-05T07:35:41Z","closed_at":"2015-10-05T07:35:41Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":2234102,"node_id":"MDEwOlJlcG9zaXRvcnkyMjM0MTAy","name":"CodeIgniter","full_name":"bcit-ci/CodeIgniter","private":false,"owner":{"login":"bcit-ci","id":8863432,"node_id":"MDEyOk9yZ2FuaXphdGlvbjg4NjM0MzI=","avatar_url":"https://avatars.githubusercontent.com/u/8863432?v=4","gravatar_id":"","url":"https://api.github.com/users/bcit-ci","html_url":"https://github.com/bcit-ci","followers_url":"https://api.github.com/users/bcit-ci/followers","following_url":"https://api.github.com/users/bcit-ci/following{/other_user}","gists_url":"https://api.github.com/users/bcit-ci/gists{/gist_id}","starred_url":"https://api.github.com/users/bcit-ci/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bcit-ci/subscriptions","organizations_url":"https://api.github.com/users/bcit-ci/orgs","repos_url":"https://api.github.com/users/bcit-ci/repos","events_url":"https://api.github.com/users/bcit-ci/events{/privacy}","received_events_url":"https://api.github.com/users/bcit-ci/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/bcit-ci/CodeIgniter","description":"Open Source PHP Framework (originally from EllisLab)","fork":false,"url":"https://api.github.com/repos/bcit-ci/CodeIgniter","forks_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/forks","keys_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/keys{/key_id}","collaborators_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/teams","hooks_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/hooks","issue_events_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/events{/number}","events_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/events","assignees_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/assignees{/user}","branches_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/branches{/branch}","tags_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/tags","blobs_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/git/refs{/sha}","trees_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/git/trees{/sha}","statuses_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/statuses/{sha}","languages_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/languages","stargazers_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/stargazers","contributors_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/contributors","subscribers_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/subscribers","subscription_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/subscription","commits_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/commits{/sha}","git_commits_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/git/commits{/sha}","comments_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/comments{/number}","issue_comment_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments{/number}","contents_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/contents/{+path}","compare_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/compare/{base}...{head}","merges_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/merges","archive_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/downloads","issues_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues{/number}","pulls_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/pulls{/number}","milestones_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/milestones{/number}","notifications_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/labels{/name}","releases_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/releases{/id}","deployments_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/deployments","created_at":"2011-08-19T13:34:00Z","updated_at":"2025-11-10T12:47:16Z","pushed_at":"2024-07-15T07:39:54Z","git_url":"git://github.com/bcit-ci/CodeIgniter.git","ssh_url":"git@github.com:bcit-ci/CodeIgniter.git","clone_url":"https://github.com/bcit-ci/CodeIgniter.git","svn_url":"https://github.com/bcit-ci/CodeIgniter","homepage":"https://codeigniter.com/","size":54780,"stargazers_count":18235,"watchers_count":18235,"language":"PHP","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":7636,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":105,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["php","php-framework","php7","php8"],"visibility":"public","forks":7636,"open_issues":105,"watchers":18235,"default_branch":"develop","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Validating common things like dates submitted in a form across a large application would be easier if the callback function could leave in helpers. Currently a callback function is not recognized if stored in a helper file, but works if moved direct into the controller that does validation.\n","reactions":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/4156/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/4156/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"narfbg","id":1058011,"node_id":"MDQ6VXNlcjEwNTgwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1058011?v=4","gravatar_id":"","url":"https://api.github.com/users/narfbg","html_url":"https://github.com/narfbg","followers_url":"https://api.github.com/users/narfbg/followers","following_url":"https://api.github.com/users/narfbg/following{/other_user}","gists_url":"https://api.github.com/users/narfbg/gists{/gist_id}","starred_url":"https://api.github.com/users/narfbg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narfbg/subscriptions","organizations_url":"https://api.github.com/users/narfbg/orgs","repos_url":"https://api.github.com/users/narfbg/repos","events_url":"https://api.github.com/users/narfbg/events{/privacy}","received_events_url":"https://api.github.com/users/narfbg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-12-03T14:53:19Z","updated_at":"2015-12-03T14:53:19Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/4284","repository_url":"https://api.github.com/repos/bcit-ci/CodeIgniter","labels_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/4284/labels{/name}","comments_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/4284/comments","events_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/4284/events","html_url":"https://github.com/bcit-ci/CodeIgniter/issues/4284","id":120184079,"node_id":"MDU6SXNzdWUxMjAxODQwNzk=","number":4284,"title":"Form validation skipped for empty checkboxes using callable","user":{"login":"WouterFlorijn","id":7816704,"node_id":"MDQ6VXNlcjc4MTY3MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/7816704?v=4","gravatar_id":"","url":"https://api.github.com/users/WouterFlorijn","html_url":"https://github.com/WouterFlorijn","followers_url":"https://api.github.com/users/WouterFlorijn/followers","following_url":"https://api.github.com/users/WouterFlorijn/following{/other_user}","gists_url":"https://api.github.com/users/WouterFlorijn/gists{/gist_id}","starred_url":"https://api.github.com/users/WouterFlorijn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WouterFlorijn/subscriptions","organizations_url":"https://api.github.com/users/WouterFlorijn/orgs","repos_url":"https://api.github.com/users/WouterFlorijn/repos","events_url":"https://api.github.com/users/WouterFlorijn/events{/privacy}","received_events_url":"https://api.github.com/users/WouterFlorijn/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":144140,"node_id":"MDU6TGFiZWwxNDQxNDA=","url":"https://api.github.com/repos/bcit-ci/CodeIgniter/labels/Duplicate","name":"Duplicate","color":"DDDDDD","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2015-12-03T14:32:48Z","updated_at":"2015-12-03T15:31:30Z","closed_at":"2015-12-03T14:53:19Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":2234102,"node_id":"MDEwOlJlcG9zaXRvcnkyMjM0MTAy","name":"CodeIgniter","full_name":"bcit-ci/CodeIgniter","private":false,"owner":{"login":"bcit-ci","id":8863432,"node_id":"MDEyOk9yZ2FuaXphdGlvbjg4NjM0MzI=","avatar_url":"https://avatars.githubusercontent.com/u/8863432?v=4","gravatar_id":"","url":"https://api.github.com/users/bcit-ci","html_url":"https://github.com/bcit-ci","followers_url":"https://api.github.com/users/bcit-ci/followers","following_url":"https://api.github.com/users/bcit-ci/following{/other_user}","gists_url":"https://api.github.com/users/bcit-ci/gists{/gist_id}","starred_url":"https://api.github.com/users/bcit-ci/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bcit-ci/subscriptions","organizations_url":"https://api.github.com/users/bcit-ci/orgs","repos_url":"https://api.github.com/users/bcit-ci/repos","events_url":"https://api.github.com/users/bcit-ci/events{/privacy}","received_events_url":"https://api.github.com/users/bcit-ci/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/bcit-ci/CodeIgniter","description":"Open Source PHP Framework (originally from EllisLab)","fork":false,"url":"https://api.github.com/repos/bcit-ci/CodeIgniter","forks_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/forks","keys_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/keys{/key_id}","collaborators_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/teams","hooks_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/hooks","issue_events_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/events{/number}","events_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/events","assignees_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/assignees{/user}","branches_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/branches{/branch}","tags_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/tags","blobs_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/git/refs{/sha}","trees_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/git/trees{/sha}","statuses_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/statuses/{sha}","languages_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/languages","stargazers_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/stargazers","contributors_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/contributors","subscribers_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/subscribers","subscription_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/subscription","commits_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/commits{/sha}","git_commits_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/git/commits{/sha}","comments_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/comments{/number}","issue_comment_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments{/number}","contents_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/contents/{+path}","compare_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/compare/{base}...{head}","merges_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/merges","archive_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/downloads","issues_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues{/number}","pulls_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/pulls{/number}","milestones_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/milestones{/number}","notifications_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/labels{/name}","releases_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/releases{/id}","deployments_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/deployments","created_at":"2011-08-19T13:34:00Z","updated_at":"2025-11-10T12:47:16Z","pushed_at":"2024-07-15T07:39:54Z","git_url":"git://github.com/bcit-ci/CodeIgniter.git","ssh_url":"git@github.com:bcit-ci/CodeIgniter.git","clone_url":"https://github.com/bcit-ci/CodeIgniter.git","svn_url":"https://github.com/bcit-ci/CodeIgniter","homepage":"https://codeigniter.com/","size":54780,"stargazers_count":18235,"watchers_count":18235,"language":"PHP","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":7636,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":105,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["php","php-framework","php7","php8"],"visibility":"public","forks":7636,"open_issues":105,"watchers":18235,"default_branch":"develop","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"I explained the complete problem and solution here: http://stackoverflow.com/a/34068582/2622860\n\nYou can simply copy-paste my code into the Form_validation library to fix the issue.\n\nThanks\n","reactions":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/4284/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/4284/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"}]