[{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/9909727","html_url":"https://github.com/bcit-ci/CodeIgniter/issues/1946#issuecomment-9909727","issue_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/1946","id":9909727,"node_id":"MDEyOklzc3VlQ29tbWVudDk5MDk3Mjc=","user":{"login":"GDmac","id":156334,"node_id":"MDQ6VXNlcjE1NjMzNA==","avatar_url":"https://avatars.githubusercontent.com/u/156334?v=4","gravatar_id":"","url":"https://api.github.com/users/GDmac","html_url":"https://github.com/GDmac","followers_url":"https://api.github.com/users/GDmac/followers","following_url":"https://api.github.com/users/GDmac/following{/other_user}","gists_url":"https://api.github.com/users/GDmac/gists{/gist_id}","starred_url":"https://api.github.com/users/GDmac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GDmac/subscriptions","organizations_url":"https://api.github.com/users/GDmac/orgs","repos_url":"https://api.github.com/users/GDmac/repos","events_url":"https://api.github.com/users/GDmac/events{/privacy}","received_events_url":"https://api.github.com/users/GDmac/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2012-10-30T15:25:09Z","updated_at":"2012-10-31T08:54:23Z","body":"Looking at the mysql-driver it does expect key to be either string or an array,\nAre you on 3.x develop? If yes, could you do a test <del>leaving that code out? (the whole check for array that is)</del>\n\nEDIT: i'm guessing it should have a test included for the primary key,\nin the mysql-driver it implodes the primary_key array,\nbut  for regular keys it checks if a key might be an array itself.\nI'm guessing the conditional in DB_forge that you mention probably should read\n\n``` php\nif ($primary && is_array($key))\n{\n  // ...\n}\n```\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/9909727/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"GDmac","id":156334,"node_id":"MDQ6VXNlcjE1NjMzNA==","avatar_url":"https://avatars.githubusercontent.com/u/156334?v=4","gravatar_id":"","url":"https://api.github.com/users/GDmac","html_url":"https://github.com/GDmac","followers_url":"https://api.github.com/users/GDmac/followers","following_url":"https://api.github.com/users/GDmac/following{/other_user}","gists_url":"https://api.github.com/users/GDmac/gists{/gist_id}","starred_url":"https://api.github.com/users/GDmac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GDmac/subscriptions","organizations_url":"https://api.github.com/users/GDmac/orgs","repos_url":"https://api.github.com/users/GDmac/repos","events_url":"https://api.github.com/users/GDmac/events{/privacy}","received_events_url":"https://api.github.com/users/GDmac/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/9913787","html_url":"https://github.com/bcit-ci/CodeIgniter/issues/1946#issuecomment-9913787","issue_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/1946","id":9913787,"node_id":"MDEyOklzc3VlQ29tbWVudDk5MTM3ODc=","user":{"login":"gootik","id":972202,"node_id":"MDQ6VXNlcjk3MjIwMg==","avatar_url":"https://avatars.githubusercontent.com/u/972202?v=4","gravatar_id":"","url":"https://api.github.com/users/gootik","html_url":"https://github.com/gootik","followers_url":"https://api.github.com/users/gootik/followers","following_url":"https://api.github.com/users/gootik/following{/other_user}","gists_url":"https://api.github.com/users/gootik/gists{/gist_id}","starred_url":"https://api.github.com/users/gootik/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gootik/subscriptions","organizations_url":"https://api.github.com/users/gootik/orgs","repos_url":"https://api.github.com/users/gootik/repos","events_url":"https://api.github.com/users/gootik/events{/privacy}","received_events_url":"https://api.github.com/users/gootik/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2012-10-30T17:01:09Z","updated_at":"2012-10-30T17:01:09Z","body":"I'll write up a test with your suggestion. But you're right that should fix it.\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/9913787/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"gootik","id":972202,"node_id":"MDQ6VXNlcjk3MjIwMg==","avatar_url":"https://avatars.githubusercontent.com/u/972202?v=4","gravatar_id":"","url":"https://api.github.com/users/gootik","html_url":"https://github.com/gootik","followers_url":"https://api.github.com/users/gootik/followers","following_url":"https://api.github.com/users/gootik/following{/other_user}","gists_url":"https://api.github.com/users/gootik/gists{/gist_id}","starred_url":"https://api.github.com/users/gootik/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gootik/subscriptions","organizations_url":"https://api.github.com/users/gootik/orgs","repos_url":"https://api.github.com/users/gootik/repos","events_url":"https://api.github.com/users/gootik/events{/privacy}","received_events_url":"https://api.github.com/users/gootik/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":28230995,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDI4MjMwOTk1","url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/events/28230995","actor":{"login":"GDmac","id":156334,"node_id":"MDQ6VXNlcjE1NjMzNA==","avatar_url":"https://avatars.githubusercontent.com/u/156334?v=4","gravatar_id":"","url":"https://api.github.com/users/GDmac","html_url":"https://github.com/GDmac","followers_url":"https://api.github.com/users/GDmac/followers","following_url":"https://api.github.com/users/GDmac/following{/other_user}","gists_url":"https://api.github.com/users/GDmac/gists{/gist_id}","starred_url":"https://api.github.com/users/GDmac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GDmac/subscriptions","organizations_url":"https://api.github.com/users/GDmac/orgs","repos_url":"https://api.github.com/users/GDmac/repos","events_url":"https://api.github.com/users/GDmac/events{/privacy}","received_events_url":"https://api.github.com/users/GDmac/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"a13e43d63dd5ee756350a9ea111b727e4292e562","commit_url":"https://api.github.com/repos/GDmac/CodeIgniter/commits/a13e43d63dd5ee756350a9ea111b727e4292e562","created_at":"2012-10-31T15:56:25Z","performed_via_github_app":null},{"id":28271182,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDI4MjcxMTgy","url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/events/28271182","actor":{"login":"GDmac","id":156334,"node_id":"MDQ6VXNlcjE1NjMzNA==","avatar_url":"https://avatars.githubusercontent.com/u/156334?v=4","gravatar_id":"","url":"https://api.github.com/users/GDmac","html_url":"https://github.com/GDmac","followers_url":"https://api.github.com/users/GDmac/followers","following_url":"https://api.github.com/users/GDmac/following{/other_user}","gists_url":"https://api.github.com/users/GDmac/gists{/gist_id}","starred_url":"https://api.github.com/users/GDmac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GDmac/subscriptions","organizations_url":"https://api.github.com/users/GDmac/orgs","repos_url":"https://api.github.com/users/GDmac/repos","events_url":"https://api.github.com/users/GDmac/events{/privacy}","received_events_url":"https://api.github.com/users/GDmac/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"dc6fba5492a215b40c254ed6f704c580427cdfea","commit_url":"https://api.github.com/repos/GDmac/CodeIgniter/commits/dc6fba5492a215b40c254ed6f704c580427cdfea","created_at":"2012-10-31T22:02:57Z","performed_via_github_app":null},{"actor":{"login":"GDmac","id":156334,"node_id":"MDQ6VXNlcjE1NjMzNA==","avatar_url":"https://avatars.githubusercontent.com/u/156334?v=4","gravatar_id":"","url":"https://api.github.com/users/GDmac","html_url":"https://github.com/GDmac","followers_url":"https://api.github.com/users/GDmac/followers","following_url":"https://api.github.com/users/GDmac/following{/other_user}","gists_url":"https://api.github.com/users/GDmac/gists{/gist_id}","starred_url":"https://api.github.com/users/GDmac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GDmac/subscriptions","organizations_url":"https://api.github.com/users/GDmac/orgs","repos_url":"https://api.github.com/users/GDmac/repos","events_url":"https://api.github.com/users/GDmac/events{/privacy}","received_events_url":"https://api.github.com/users/GDmac/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2012-11-03T10:54:11Z","updated_at":"2012-11-03T10:54:11Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/1939","repository_url":"https://api.github.com/repos/bcit-ci/CodeIgniter","labels_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/1939/labels{/name}","comments_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/1939/comments","events_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/1939/events","html_url":"https://github.com/bcit-ci/CodeIgniter/pull/1939","id":7923143,"node_id":"MDExOlB1bGxSZXF1ZXN0MjgwMDQzOQ==","number":1939,"title":"Fixed creation of non-primary composite keys.","user":{"login":"AgentConundrum","id":2388406,"node_id":"MDQ6VXNlcjIzODg0MDY=","avatar_url":"https://avatars.githubusercontent.com/u/2388406?v=4","gravatar_id":"","url":"https://api.github.com/users/AgentConundrum","html_url":"https://github.com/AgentConundrum","followers_url":"https://api.github.com/users/AgentConundrum/followers","following_url":"https://api.github.com/users/AgentConundrum/following{/other_user}","gists_url":"https://api.github.com/users/AgentConundrum/gists{/gist_id}","starred_url":"https://api.github.com/users/AgentConundrum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AgentConundrum/subscriptions","organizations_url":"https://api.github.com/users/AgentConundrum/orgs","repos_url":"https://api.github.com/users/AgentConundrum/repos","events_url":"https://api.github.com/users/AgentConundrum/events{/privacy}","received_events_url":"https://api.github.com/users/AgentConundrum/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2012-10-28T21:32:38Z","updated_at":"2014-06-25T21:42:08Z","closed_at":"2012-11-05T21:25:15Z","author_association":"NONE","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":2234102,"node_id":"MDEwOlJlcG9zaXRvcnkyMjM0MTAy","name":"CodeIgniter","full_name":"bcit-ci/CodeIgniter","private":false,"owner":{"login":"bcit-ci","id":8863432,"node_id":"MDEyOk9yZ2FuaXphdGlvbjg4NjM0MzI=","avatar_url":"https://avatars.githubusercontent.com/u/8863432?v=4","gravatar_id":"","url":"https://api.github.com/users/bcit-ci","html_url":"https://github.com/bcit-ci","followers_url":"https://api.github.com/users/bcit-ci/followers","following_url":"https://api.github.com/users/bcit-ci/following{/other_user}","gists_url":"https://api.github.com/users/bcit-ci/gists{/gist_id}","starred_url":"https://api.github.com/users/bcit-ci/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bcit-ci/subscriptions","organizations_url":"https://api.github.com/users/bcit-ci/orgs","repos_url":"https://api.github.com/users/bcit-ci/repos","events_url":"https://api.github.com/users/bcit-ci/events{/privacy}","received_events_url":"https://api.github.com/users/bcit-ci/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/bcit-ci/CodeIgniter","description":"Open Source PHP Framework (originally from EllisLab)","fork":false,"url":"https://api.github.com/repos/bcit-ci/CodeIgniter","forks_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/forks","keys_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/keys{/key_id}","collaborators_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/teams","hooks_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/hooks","issue_events_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/events{/number}","events_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/events","assignees_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/assignees{/user}","branches_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/branches{/branch}","tags_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/tags","blobs_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/git/refs{/sha}","trees_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/git/trees{/sha}","statuses_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/statuses/{sha}","languages_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/languages","stargazers_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/stargazers","contributors_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/contributors","subscribers_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/subscribers","subscription_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/subscription","commits_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/commits{/sha}","git_commits_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/git/commits{/sha}","comments_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/comments{/number}","issue_comment_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments{/number}","contents_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/contents/{+path}","compare_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/compare/{base}...{head}","merges_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/merges","archive_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/downloads","issues_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues{/number}","pulls_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/pulls{/number}","milestones_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/milestones{/number}","notifications_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/labels{/name}","releases_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/releases{/id}","deployments_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/deployments","created_at":"2011-08-19T13:34:00Z","updated_at":"2025-11-10T12:47:16Z","pushed_at":"2024-07-15T07:39:54Z","git_url":"git://github.com/bcit-ci/CodeIgniter.git","ssh_url":"git@github.com:bcit-ci/CodeIgniter.git","clone_url":"https://github.com/bcit-ci/CodeIgniter.git","svn_url":"https://github.com/bcit-ci/CodeIgniter","homepage":"https://codeigniter.com/","size":54780,"stargazers_count":18235,"watchers_count":18235,"language":"PHP","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":7636,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":105,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["php","php-framework","php7","php8"],"visibility":"public","forks":7636,"open_issues":105,"watchers":18235,"default_branch":"develop","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/pulls/1939","html_url":"https://github.com/bcit-ci/CodeIgniter/pull/1939","diff_url":"https://github.com/bcit-ci/CodeIgniter/pull/1939.diff","patch_url":"https://github.com/bcit-ci/CodeIgniter/pull/1939.patch","merged_at":null},"body":"Modified CI_DB_forge::add_key() to only recursively add each key in an passed array of keys if they're meant to be primary keys.\n\nOtherwise, the array needs to be maintained so that composite keys are preserved.\n","reactions":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/1939/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/1939/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":28548577,"node_id":"MDExOkNsb3NlZEV2ZW50Mjg1NDg1Nzc=","url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/events/28548577","actor":{"login":"alexbilbie","id":77991,"node_id":"MDQ6VXNlcjc3OTkx","avatar_url":"https://avatars.githubusercontent.com/u/77991?v=4","gravatar_id":"","url":"https://api.github.com/users/alexbilbie","html_url":"https://github.com/alexbilbie","followers_url":"https://api.github.com/users/alexbilbie/followers","following_url":"https://api.github.com/users/alexbilbie/following{/other_user}","gists_url":"https://api.github.com/users/alexbilbie/gists{/gist_id}","starred_url":"https://api.github.com/users/alexbilbie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexbilbie/subscriptions","organizations_url":"https://api.github.com/users/alexbilbie/orgs","repos_url":"https://api.github.com/users/alexbilbie/repos","events_url":"https://api.github.com/users/alexbilbie/events{/privacy}","received_events_url":"https://api.github.com/users/alexbilbie/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"dc6fba5492a215b40c254ed6f704c580427cdfea","commit_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/commits/dc6fba5492a215b40c254ed6f704c580427cdfea","created_at":"2012-11-05T13:52:09Z","state_reason":null,"performed_via_github_app":null},{"id":28548578,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDI4NTQ4NTc4","url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/events/28548578","actor":{"login":"alexbilbie","id":77991,"node_id":"MDQ6VXNlcjc3OTkx","avatar_url":"https://avatars.githubusercontent.com/u/77991?v=4","gravatar_id":"","url":"https://api.github.com/users/alexbilbie","html_url":"https://github.com/alexbilbie","followers_url":"https://api.github.com/users/alexbilbie/followers","following_url":"https://api.github.com/users/alexbilbie/following{/other_user}","gists_url":"https://api.github.com/users/alexbilbie/gists{/gist_id}","starred_url":"https://api.github.com/users/alexbilbie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexbilbie/subscriptions","organizations_url":"https://api.github.com/users/alexbilbie/orgs","repos_url":"https://api.github.com/users/alexbilbie/repos","events_url":"https://api.github.com/users/alexbilbie/events{/privacy}","received_events_url":"https://api.github.com/users/alexbilbie/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"f4a448e2be54dd0c4054acc0fde316a6a3c41a80","commit_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/commits/f4a448e2be54dd0c4054acc0fde316a6a3c41a80","created_at":"2012-11-05T13:52:09Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/10088610","html_url":"https://github.com/bcit-ci/CodeIgniter/issues/1946#issuecomment-10088610","issue_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/1946","id":10088610,"node_id":"MDEyOklzc3VlQ29tbWVudDEwMDg4NjEw","user":{"login":"narfbg","id":1058011,"node_id":"MDQ6VXNlcjEwNTgwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1058011?v=4","gravatar_id":"","url":"https://api.github.com/users/narfbg","html_url":"https://github.com/narfbg","followers_url":"https://api.github.com/users/narfbg/followers","following_url":"https://api.github.com/users/narfbg/following{/other_user}","gists_url":"https://api.github.com/users/narfbg/gists{/gist_id}","starred_url":"https://api.github.com/users/narfbg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narfbg/subscriptions","organizations_url":"https://api.github.com/users/narfbg/orgs","repos_url":"https://api.github.com/users/narfbg/repos","events_url":"https://api.github.com/users/narfbg/events{/privacy}","received_events_url":"https://api.github.com/users/narfbg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2012-11-05T21:26:29Z","updated_at":"2012-11-05T21:26:29Z","body":"Now, for the reason I kept this one and #1948 open ... who wants to try and break DB Forge after this commit: a287a34c215903d3452023d74149eb5880125715 (do not open unless you want JS formatting thousands of lines of code).\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/10088610/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"narfbg","id":1058011,"node_id":"MDQ6VXNlcjEwNTgwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1058011?v=4","gravatar_id":"","url":"https://api.github.com/users/narfbg","html_url":"https://github.com/narfbg","followers_url":"https://api.github.com/users/narfbg/followers","following_url":"https://api.github.com/users/narfbg/following{/other_user}","gists_url":"https://api.github.com/users/narfbg/gists{/gist_id}","starred_url":"https://api.github.com/users/narfbg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narfbg/subscriptions","organizations_url":"https://api.github.com/users/narfbg/orgs","repos_url":"https://api.github.com/users/narfbg/repos","events_url":"https://api.github.com/users/narfbg/events{/privacy}","received_events_url":"https://api.github.com/users/narfbg/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/10263712","html_url":"https://github.com/bcit-ci/CodeIgniter/issues/1946#issuecomment-10263712","issue_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/1946","id":10263712,"node_id":"MDEyOklzc3VlQ29tbWVudDEwMjYzNzEy","user":{"login":"GDmac","id":156334,"node_id":"MDQ6VXNlcjE1NjMzNA==","avatar_url":"https://avatars.githubusercontent.com/u/156334?v=4","gravatar_id":"","url":"https://api.github.com/users/GDmac","html_url":"https://github.com/GDmac","followers_url":"https://api.github.com/users/GDmac/followers","following_url":"https://api.github.com/users/GDmac/following{/other_user}","gists_url":"https://api.github.com/users/GDmac/gists{/gist_id}","starred_url":"https://api.github.com/users/GDmac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GDmac/subscriptions","organizations_url":"https://api.github.com/users/GDmac/orgs","repos_url":"https://api.github.com/users/GDmac/repos","events_url":"https://api.github.com/users/GDmac/events{/privacy}","received_events_url":"https://api.github.com/users/GDmac/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2012-11-11T06:28:53Z","updated_at":"2012-11-11T07:28:42Z","body":"I made a small forge for the sessions table to test things out. @narfbg \n\nthis shows an sql error, the table is created not the less,\nand the key (on last_activity) is not set.\n\nhttps://gist.github.com/4053937\n\n**EDIT**\nadditional, i don't see a method to set key names, is there one at all?\n\n**EDIT2**\ni first stuffed this forge into a migration 001 but that causes other issues as well.\ne.g. the database failure halts processing, migration number is then not updated, \nbut the table however was created. (i'll submit a separate issue for the migrate stuff).\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/10263712/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"GDmac","id":156334,"node_id":"MDQ6VXNlcjE1NjMzNA==","avatar_url":"https://avatars.githubusercontent.com/u/156334?v=4","gravatar_id":"","url":"https://api.github.com/users/GDmac","html_url":"https://github.com/GDmac","followers_url":"https://api.github.com/users/GDmac/followers","following_url":"https://api.github.com/users/GDmac/following{/other_user}","gists_url":"https://api.github.com/users/GDmac/gists{/gist_id}","starred_url":"https://api.github.com/users/GDmac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GDmac/subscriptions","organizations_url":"https://api.github.com/users/GDmac/orgs","repos_url":"https://api.github.com/users/GDmac/repos","events_url":"https://api.github.com/users/GDmac/events{/privacy}","received_events_url":"https://api.github.com/users/GDmac/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":29149519,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjkxNDk1MTk=","url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/events/29149519","actor":{"login":"narfbg","id":1058011,"node_id":"MDQ6VXNlcjEwNTgwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1058011?v=4","gravatar_id":"","url":"https://api.github.com/users/narfbg","html_url":"https://github.com/narfbg","followers_url":"https://api.github.com/users/narfbg/followers","following_url":"https://api.github.com/users/narfbg/following{/other_user}","gists_url":"https://api.github.com/users/narfbg/gists{/gist_id}","starred_url":"https://api.github.com/users/narfbg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narfbg/subscriptions","organizations_url":"https://api.github.com/users/narfbg/orgs","repos_url":"https://api.github.com/users/narfbg/repos","events_url":"https://api.github.com/users/narfbg/events{/privacy}","received_events_url":"https://api.github.com/users/narfbg/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2012-11-11T06:28:53Z","performed_via_github_app":null},{"id":29149520,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI5MTQ5NTIw","url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/events/29149520","actor":{"login":"narfbg","id":1058011,"node_id":"MDQ6VXNlcjEwNTgwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1058011?v=4","gravatar_id":"","url":"https://api.github.com/users/narfbg","html_url":"https://github.com/narfbg","followers_url":"https://api.github.com/users/narfbg/followers","following_url":"https://api.github.com/users/narfbg/following{/other_user}","gists_url":"https://api.github.com/users/narfbg/gists{/gist_id}","starred_url":"https://api.github.com/users/narfbg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narfbg/subscriptions","organizations_url":"https://api.github.com/users/narfbg/orgs","repos_url":"https://api.github.com/users/narfbg/repos","events_url":"https://api.github.com/users/narfbg/events{/privacy}","received_events_url":"https://api.github.com/users/narfbg/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2012-11-11T06:28:53Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/10263974","html_url":"https://github.com/bcit-ci/CodeIgniter/issues/1946#issuecomment-10263974","issue_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/1946","id":10263974,"node_id":"MDEyOklzc3VlQ29tbWVudDEwMjYzOTc0","user":{"login":"GDmac","id":156334,"node_id":"MDQ6VXNlcjE1NjMzNA==","avatar_url":"https://avatars.githubusercontent.com/u/156334?v=4","gravatar_id":"","url":"https://api.github.com/users/GDmac","html_url":"https://github.com/GDmac","followers_url":"https://api.github.com/users/GDmac/followers","following_url":"https://api.github.com/users/GDmac/following{/other_user}","gists_url":"https://api.github.com/users/GDmac/gists{/gist_id}","starred_url":"https://api.github.com/users/GDmac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GDmac/subscriptions","organizations_url":"https://api.github.com/users/GDmac/orgs","repos_url":"https://api.github.com/users/GDmac/repos","events_url":"https://api.github.com/users/GDmac/events{/privacy}","received_events_url":"https://api.github.com/users/GDmac/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2012-11-11T07:28:36Z","updated_at":"2012-11-11T07:28:36Z","body":"It seems the problem is in the _process_indexes where it returns `$sqls (array)` by default in DB_forge,\nbut for the mysqli and mysql forge drivers it returns a `$sql` string.\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/10263974/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"GDmac","id":156334,"node_id":"MDQ6VXNlcjE1NjMzNA==","avatar_url":"https://avatars.githubusercontent.com/u/156334?v=4","gravatar_id":"","url":"https://api.github.com/users/GDmac","html_url":"https://github.com/GDmac","followers_url":"https://api.github.com/users/GDmac/followers","following_url":"https://api.github.com/users/GDmac/following{/other_user}","gists_url":"https://api.github.com/users/GDmac/gists{/gist_id}","starred_url":"https://api.github.com/users/GDmac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GDmac/subscriptions","organizations_url":"https://api.github.com/users/GDmac/orgs","repos_url":"https://api.github.com/users/GDmac/repos","events_url":"https://api.github.com/users/GDmac/events{/privacy}","received_events_url":"https://api.github.com/users/GDmac/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/10265920","html_url":"https://github.com/bcit-ci/CodeIgniter/issues/1946#issuecomment-10265920","issue_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/1946","id":10265920,"node_id":"MDEyOklzc3VlQ29tbWVudDEwMjY1OTIw","user":{"login":"narfbg","id":1058011,"node_id":"MDQ6VXNlcjEwNTgwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1058011?v=4","gravatar_id":"","url":"https://api.github.com/users/narfbg","html_url":"https://github.com/narfbg","followers_url":"https://api.github.com/users/narfbg/followers","following_url":"https://api.github.com/users/narfbg/following{/other_user}","gists_url":"https://api.github.com/users/narfbg/gists{/gist_id}","starred_url":"https://api.github.com/users/narfbg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narfbg/subscriptions","organizations_url":"https://api.github.com/users/narfbg/orgs","repos_url":"https://api.github.com/users/narfbg/repos","events_url":"https://api.github.com/users/narfbg/events{/privacy}","received_events_url":"https://api.github.com/users/narfbg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2012-11-11T12:01:44Z","updated_at":"2012-11-11T12:01:44Z","body":"No, that was by design. A property was missing: b0a97c100f5e7edc5e21ec7d07f768cd3b5618da\n\nOn choosing key names - I don't think this was ever possible, the docs don't say anything about it.\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/10265920/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"narfbg","id":1058011,"node_id":"MDQ6VXNlcjEwNTgwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1058011?v=4","gravatar_id":"","url":"https://api.github.com/users/narfbg","html_url":"https://github.com/narfbg","followers_url":"https://api.github.com/users/narfbg/followers","following_url":"https://api.github.com/users/narfbg/following{/other_user}","gists_url":"https://api.github.com/users/narfbg/gists{/gist_id}","starred_url":"https://api.github.com/users/narfbg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narfbg/subscriptions","organizations_url":"https://api.github.com/users/narfbg/orgs","repos_url":"https://api.github.com/users/narfbg/repos","events_url":"https://api.github.com/users/narfbg/events{/privacy}","received_events_url":"https://api.github.com/users/narfbg/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/10265969","html_url":"https://github.com/bcit-ci/CodeIgniter/issues/1946#issuecomment-10265969","issue_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/1946","id":10265969,"node_id":"MDEyOklzc3VlQ29tbWVudDEwMjY1OTY5","user":{"login":"GDmac","id":156334,"node_id":"MDQ6VXNlcjE1NjMzNA==","avatar_url":"https://avatars.githubusercontent.com/u/156334?v=4","gravatar_id":"","url":"https://api.github.com/users/GDmac","html_url":"https://github.com/GDmac","followers_url":"https://api.github.com/users/GDmac/followers","following_url":"https://api.github.com/users/GDmac/following{/other_user}","gists_url":"https://api.github.com/users/GDmac/gists{/gist_id}","starred_url":"https://api.github.com/users/GDmac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GDmac/subscriptions","organizations_url":"https://api.github.com/users/GDmac/orgs","repos_url":"https://api.github.com/users/GDmac/repos","events_url":"https://api.github.com/users/GDmac/events{/privacy}","received_events_url":"https://api.github.com/users/GDmac/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2012-11-11T12:09:27Z","updated_at":"2012-11-11T12:33:56Z","body":"It was never possible. \n...but ... If you look at the table definition in the session user_guide,\nhttp://codeigniter.com/user_guide/libraries/sessions.html\nyou can see the writer knew of its existane\n`KEY `last_activity_idx` (`last_activity`)`\n\nedit: if there's a rationale to support named keys,  duplicate keys is definitely the main one\nhttp://www.mysqlperformanceblog.com/2008/05/28/should-you-name-indexes-while-doing-alter-table/\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/10265969/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"GDmac","id":156334,"node_id":"MDQ6VXNlcjE1NjMzNA==","avatar_url":"https://avatars.githubusercontent.com/u/156334?v=4","gravatar_id":"","url":"https://api.github.com/users/GDmac","html_url":"https://github.com/GDmac","followers_url":"https://api.github.com/users/GDmac/followers","following_url":"https://api.github.com/users/GDmac/following{/other_user}","gists_url":"https://api.github.com/users/GDmac/gists{/gist_id}","starred_url":"https://api.github.com/users/GDmac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GDmac/subscriptions","organizations_url":"https://api.github.com/users/GDmac/orgs","repos_url":"https://api.github.com/users/GDmac/repos","events_url":"https://api.github.com/users/GDmac/events{/privacy}","received_events_url":"https://api.github.com/users/GDmac/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/10279022","html_url":"https://github.com/bcit-ci/CodeIgniter/issues/1946#issuecomment-10279022","issue_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/1946","id":10279022,"node_id":"MDEyOklzc3VlQ29tbWVudDEwMjc5MDIy","user":{"login":"GDmac","id":156334,"node_id":"MDQ6VXNlcjE1NjMzNA==","avatar_url":"https://avatars.githubusercontent.com/u/156334?v=4","gravatar_id":"","url":"https://api.github.com/users/GDmac","html_url":"https://github.com/GDmac","followers_url":"https://api.github.com/users/GDmac/followers","following_url":"https://api.github.com/users/GDmac/following{/other_user}","gists_url":"https://api.github.com/users/GDmac/gists{/gist_id}","starred_url":"https://api.github.com/users/GDmac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GDmac/subscriptions","organizations_url":"https://api.github.com/users/GDmac/orgs","repos_url":"https://api.github.com/users/GDmac/repos","events_url":"https://api.github.com/users/GDmac/events{/privacy}","received_events_url":"https://api.github.com/users/GDmac/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2012-11-12T07:26:21Z","updated_at":"2012-11-12T07:26:21Z","body":"OK, i overlooked that dbforge does add a key name to a key, you can just not name it yourself.\ne.g. the key is added as the column name `KEY `column_name` (`column_name`)`\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/10279022/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"GDmac","id":156334,"node_id":"MDQ6VXNlcjE1NjMzNA==","avatar_url":"https://avatars.githubusercontent.com/u/156334?v=4","gravatar_id":"","url":"https://api.github.com/users/GDmac","html_url":"https://github.com/GDmac","followers_url":"https://api.github.com/users/GDmac/followers","following_url":"https://api.github.com/users/GDmac/following{/other_user}","gists_url":"https://api.github.com/users/GDmac/gists{/gist_id}","starred_url":"https://api.github.com/users/GDmac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GDmac/subscriptions","organizations_url":"https://api.github.com/users/GDmac/orgs","repos_url":"https://api.github.com/users/GDmac/repos","events_url":"https://api.github.com/users/GDmac/events{/privacy}","received_events_url":"https://api.github.com/users/GDmac/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/10279132","html_url":"https://github.com/bcit-ci/CodeIgniter/issues/1946#issuecomment-10279132","issue_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/1946","id":10279132,"node_id":"MDEyOklzc3VlQ29tbWVudDEwMjc5MTMy","user":{"login":"GDmac","id":156334,"node_id":"MDQ6VXNlcjE1NjMzNA==","avatar_url":"https://avatars.githubusercontent.com/u/156334?v=4","gravatar_id":"","url":"https://api.github.com/users/GDmac","html_url":"https://github.com/GDmac","followers_url":"https://api.github.com/users/GDmac/followers","following_url":"https://api.github.com/users/GDmac/following{/other_user}","gists_url":"https://api.github.com/users/GDmac/gists{/gist_id}","starred_url":"https://api.github.com/users/GDmac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GDmac/subscriptions","organizations_url":"https://api.github.com/users/GDmac/orgs","repos_url":"https://api.github.com/users/GDmac/repos","events_url":"https://api.github.com/users/GDmac/events{/privacy}","received_events_url":"https://api.github.com/users/GDmac/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2012-11-12T07:34:27Z","updated_at":"2012-11-12T07:49:18Z","body":"Am i correct to assume that you can't use `dbforge->addkey()` after the table has been created?\nThe user_guide, under add_key() and add_field(), says these **'must' be followed by create_table()**.\n\nThe only way (i see) to add keys to an existing table is to use `add_column()` with a literal string:\n`dbforge->add_column('ci_sessions', \"KEY `ua_key` (`user_agent`)\")`\n\n**Issue:**\nCreating indexes, when creating a table, is generally handled by the storage engine driver.\nBut, if you can only ADD indexes or keys with the use of literal strings, (for instance inside Migrations),\ndoesn't the use of these literal strings defeat the purpose of DB drivers?\ne.g. having to add the literal string for all different types of storage engines, instead of letting the driver handle this?\n\nedit: is there a way to drop keys as well? e.g. `ALTER TABLE `ci_sessions` DROP INDEX `ua_key`;`\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/10279132/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"GDmac","id":156334,"node_id":"MDQ6VXNlcjE1NjMzNA==","avatar_url":"https://avatars.githubusercontent.com/u/156334?v=4","gravatar_id":"","url":"https://api.github.com/users/GDmac","html_url":"https://github.com/GDmac","followers_url":"https://api.github.com/users/GDmac/followers","following_url":"https://api.github.com/users/GDmac/following{/other_user}","gists_url":"https://api.github.com/users/GDmac/gists{/gist_id}","starred_url":"https://api.github.com/users/GDmac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GDmac/subscriptions","organizations_url":"https://api.github.com/users/GDmac/orgs","repos_url":"https://api.github.com/users/GDmac/repos","events_url":"https://api.github.com/users/GDmac/events{/privacy}","received_events_url":"https://api.github.com/users/GDmac/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/10279599","html_url":"https://github.com/bcit-ci/CodeIgniter/issues/1946#issuecomment-10279599","issue_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/1946","id":10279599,"node_id":"MDEyOklzc3VlQ29tbWVudDEwMjc5NTk5","user":{"login":"narfbg","id":1058011,"node_id":"MDQ6VXNlcjEwNTgwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1058011?v=4","gravatar_id":"","url":"https://api.github.com/users/narfbg","html_url":"https://github.com/narfbg","followers_url":"https://api.github.com/users/narfbg/followers","following_url":"https://api.github.com/users/narfbg/following{/other_user}","gists_url":"https://api.github.com/users/narfbg/gists{/gist_id}","starred_url":"https://api.github.com/users/narfbg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narfbg/subscriptions","organizations_url":"https://api.github.com/users/narfbg/orgs","repos_url":"https://api.github.com/users/narfbg/repos","events_url":"https://api.github.com/users/narfbg/events{/privacy}","received_events_url":"https://api.github.com/users/narfbg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2012-11-12T08:06:27Z","updated_at":"2012-11-12T11:54:28Z","body":"Yes, you are correct.\nYes, that is the only way, but you were never supposed to do that, so it doesn't defeat anything.\n\nI don't think that there's a way to drop keys. This as well as adding keys should be considered feature requests.\n\nEdit:\n\nA feature request for adding keys without a `create_table()` call already exists: #1729\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/10279599/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"narfbg","id":1058011,"node_id":"MDQ6VXNlcjEwNTgwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1058011?v=4","gravatar_id":"","url":"https://api.github.com/users/narfbg","html_url":"https://github.com/narfbg","followers_url":"https://api.github.com/users/narfbg/followers","following_url":"https://api.github.com/users/narfbg/following{/other_user}","gists_url":"https://api.github.com/users/narfbg/gists{/gist_id}","starred_url":"https://api.github.com/users/narfbg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narfbg/subscriptions","organizations_url":"https://api.github.com/users/narfbg/orgs","repos_url":"https://api.github.com/users/narfbg/repos","events_url":"https://api.github.com/users/narfbg/events{/privacy}","received_events_url":"https://api.github.com/users/narfbg/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"cjbuchmann","id":526429,"node_id":"MDQ6VXNlcjUyNjQyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/526429?v=4","gravatar_id":"","url":"https://api.github.com/users/cjbuchmann","html_url":"https://github.com/cjbuchmann","followers_url":"https://api.github.com/users/cjbuchmann/followers","following_url":"https://api.github.com/users/cjbuchmann/following{/other_user}","gists_url":"https://api.github.com/users/cjbuchmann/gists{/gist_id}","starred_url":"https://api.github.com/users/cjbuchmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cjbuchmann/subscriptions","organizations_url":"https://api.github.com/users/cjbuchmann/orgs","repos_url":"https://api.github.com/users/cjbuchmann/repos","events_url":"https://api.github.com/users/cjbuchmann/events{/privacy}","received_events_url":"https://api.github.com/users/cjbuchmann/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2012-11-24T10:44:33Z","updated_at":"2013-03-10T10:30:31Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/2027","repository_url":"https://api.github.com/repos/bcit-ci/CodeIgniter","labels_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/2027/labels{/name}","comments_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/2027/comments","events_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/2027/events","html_url":"https://github.com/bcit-ci/CodeIgniter/issues/2027","id":8627025,"node_id":"MDU6SXNzdWU4NjI3MDI1","number":2027,"title":"add_key() in DB Forge is not behaving correctly","user":{"login":"cjbuchmann","id":526429,"node_id":"MDQ6VXNlcjUyNjQyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/526429?v=4","gravatar_id":"","url":"https://api.github.com/users/cjbuchmann","html_url":"https://github.com/cjbuchmann","followers_url":"https://api.github.com/users/cjbuchmann/followers","following_url":"https://api.github.com/users/cjbuchmann/following{/other_user}","gists_url":"https://api.github.com/users/cjbuchmann/gists{/gist_id}","starred_url":"https://api.github.com/users/cjbuchmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cjbuchmann/subscriptions","organizations_url":"https://api.github.com/users/cjbuchmann/orgs","repos_url":"https://api.github.com/users/cjbuchmann/repos","events_url":"https://api.github.com/users/cjbuchmann/events{/privacy}","received_events_url":"https://api.github.com/users/cjbuchmann/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2012-11-24T10:44:33Z","updated_at":"2012-11-25T15:20:31Z","closed_at":"2012-11-25T15:20:16Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":2234102,"node_id":"MDEwOlJlcG9zaXRvcnkyMjM0MTAy","name":"CodeIgniter","full_name":"bcit-ci/CodeIgniter","private":false,"owner":{"login":"bcit-ci","id":8863432,"node_id":"MDEyOk9yZ2FuaXphdGlvbjg4NjM0MzI=","avatar_url":"https://avatars.githubusercontent.com/u/8863432?v=4","gravatar_id":"","url":"https://api.github.com/users/bcit-ci","html_url":"https://github.com/bcit-ci","followers_url":"https://api.github.com/users/bcit-ci/followers","following_url":"https://api.github.com/users/bcit-ci/following{/other_user}","gists_url":"https://api.github.com/users/bcit-ci/gists{/gist_id}","starred_url":"https://api.github.com/users/bcit-ci/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bcit-ci/subscriptions","organizations_url":"https://api.github.com/users/bcit-ci/orgs","repos_url":"https://api.github.com/users/bcit-ci/repos","events_url":"https://api.github.com/users/bcit-ci/events{/privacy}","received_events_url":"https://api.github.com/users/bcit-ci/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/bcit-ci/CodeIgniter","description":"Open Source PHP Framework (originally from EllisLab)","fork":false,"url":"https://api.github.com/repos/bcit-ci/CodeIgniter","forks_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/forks","keys_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/keys{/key_id}","collaborators_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/teams","hooks_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/hooks","issue_events_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/events{/number}","events_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/events","assignees_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/assignees{/user}","branches_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/branches{/branch}","tags_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/tags","blobs_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/git/refs{/sha}","trees_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/git/trees{/sha}","statuses_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/statuses/{sha}","languages_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/languages","stargazers_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/stargazers","contributors_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/contributors","subscribers_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/subscribers","subscription_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/subscription","commits_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/commits{/sha}","git_commits_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/git/commits{/sha}","comments_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/comments{/number}","issue_comment_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments{/number}","contents_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/contents/{+path}","compare_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/compare/{base}...{head}","merges_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/merges","archive_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/downloads","issues_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues{/number}","pulls_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/pulls{/number}","milestones_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/milestones{/number}","notifications_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/labels{/name}","releases_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/releases{/id}","deployments_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/deployments","created_at":"2011-08-19T13:34:00Z","updated_at":"2025-11-10T12:47:16Z","pushed_at":"2024-07-15T07:39:54Z","git_url":"git://github.com/bcit-ci/CodeIgniter.git","ssh_url":"git@github.com:bcit-ci/CodeIgniter.git","clone_url":"https://github.com/bcit-ci/CodeIgniter.git","svn_url":"https://github.com/bcit-ci/CodeIgniter","homepage":"https://codeigniter.com/","size":54780,"stargazers_count":18235,"watchers_count":18235,"language":"PHP","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":7636,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":105,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["php","php-framework","php7","php8"],"visibility":"public","forks":7636,"open_issues":105,"watchers":18235,"default_branch":"develop","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"So it looks like this issue was submitted here : https://github.com/EllisLab/CodeIgniter/issues/1946, but has since been closed. Following the thread comment, I didn't see any resolution to the problem at all.\n\nthis code should create a key called blog_name_blog_label\n\n``` php\n$this->dbforge->add_key(array('blog_name', 'blog_label'));\n```\n\nunfortunately, it just throws a warning\n\n```\nSeverity: Warning\n\nMessage: Illegal offset type in isset or empty\n\nFilename: mysqli/mysqli_forge.php\n\nLine Number: 184\n```\n\nLooking through the code, I noticed that the mysqli_forge.php file on line 184 doesn't handle keys that are arrays, thus the problem shown above.\n\n``` php\n// these keys can be arrays\nif ( ! isset($this->fields[$this->keys[$i]]))\n{\n  unset($this->keys[$i]);\n  continue;\n}\n```\n\nthe fix is simple enough\n\n``` php\nif(is_array($this->keys[$i]))\n{\n  foreach($this->keys[$i] as $key)\n  {\n    if( ! isset($this->fields[$key]))\n    {\n      unset($this->keys[$i]);\n      break;\n    }\n  }\n}\nelse\n{\n  if ( ! isset($this->fields[$this->keys[$i]]))\n  {\n    unset($this->keys[$i]);\n    continue;\n  }\n}\n```\n\nHowever I'm not sure about just 'unsetting' the values. Would it make more sense to throw an error here instead?\n","reactions":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/2027/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/2027/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"id":54649598,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDU0NjQ5NTk4","url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/events/54649598","actor":{"login":"nonchip","id":601018,"node_id":"MDQ6VXNlcjYwMTAxOA==","avatar_url":"https://avatars.githubusercontent.com/u/601018?v=4","gravatar_id":"","url":"https://api.github.com/users/nonchip","html_url":"https://github.com/nonchip","followers_url":"https://api.github.com/users/nonchip/followers","following_url":"https://api.github.com/users/nonchip/following{/other_user}","gists_url":"https://api.github.com/users/nonchip/gists{/gist_id}","starred_url":"https://api.github.com/users/nonchip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nonchip/subscriptions","organizations_url":"https://api.github.com/users/nonchip/orgs","repos_url":"https://api.github.com/users/nonchip/repos","events_url":"https://api.github.com/users/nonchip/events{/privacy}","received_events_url":"https://api.github.com/users/nonchip/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"b6f962139f7474817a08294b7b18202d4f17a3a3","commit_url":"https://api.github.com/repos/nonchip/CodeIgniter/commits/b6f962139f7474817a08294b7b18202d4f17a3a3","created_at":"2013-06-29T18:43:07Z","performed_via_github_app":null},{"id":54649625,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDU0NjQ5NjI1","url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/events/54649625","actor":{"login":"nonchip","id":601018,"node_id":"MDQ6VXNlcjYwMTAxOA==","avatar_url":"https://avatars.githubusercontent.com/u/601018?v=4","gravatar_id":"","url":"https://api.github.com/users/nonchip","html_url":"https://github.com/nonchip","followers_url":"https://api.github.com/users/nonchip/followers","following_url":"https://api.github.com/users/nonchip/following{/other_user}","gists_url":"https://api.github.com/users/nonchip/gists{/gist_id}","starred_url":"https://api.github.com/users/nonchip/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nonchip/subscriptions","organizations_url":"https://api.github.com/users/nonchip/orgs","repos_url":"https://api.github.com/users/nonchip/repos","events_url":"https://api.github.com/users/nonchip/events{/privacy}","received_events_url":"https://api.github.com/users/nonchip/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"1b2d8aef9e09ca0f5b02d0dad85150f0d7f3b1e6","commit_url":"https://api.github.com/repos/nonchip/CodeIgniter/commits/1b2d8aef9e09ca0f5b02d0dad85150f0d7f3b1e6","created_at":"2013-06-29T18:43:07Z","performed_via_github_app":null}]