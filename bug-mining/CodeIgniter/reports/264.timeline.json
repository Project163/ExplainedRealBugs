[{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/20220767","html_url":"https://github.com/bcit-ci/CodeIgniter/issues/2503#issuecomment-20220767","issue_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/2503","id":20220767,"node_id":"MDEyOklzc3VlQ29tbWVudDIwMjIwNzY3","user":{"login":"AkenRoberts","id":563886,"node_id":"MDQ6VXNlcjU2Mzg4Ng==","avatar_url":"https://avatars.githubusercontent.com/u/563886?v=4","gravatar_id":"","url":"https://api.github.com/users/AkenRoberts","html_url":"https://github.com/AkenRoberts","followers_url":"https://api.github.com/users/AkenRoberts/followers","following_url":"https://api.github.com/users/AkenRoberts/following{/other_user}","gists_url":"https://api.github.com/users/AkenRoberts/gists{/gist_id}","starred_url":"https://api.github.com/users/AkenRoberts/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AkenRoberts/subscriptions","organizations_url":"https://api.github.com/users/AkenRoberts/orgs","repos_url":"https://api.github.com/users/AkenRoberts/repos","events_url":"https://api.github.com/users/AkenRoberts/events{/privacy}","received_events_url":"https://api.github.com/users/AkenRoberts/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-06-29T00:03:36Z","updated_at":"2013-06-29T00:03:36Z","body":"Appears to be an edge case that wasn't considered when implementing the dash-to-underscore replacement.\n\nThis is something that comes down to developer preference. While you would want the raw URI value to capture your wildcard (CI doesn't know if your application will be using it as a method or not), someone else might want to retain the converted value so they can directly match it to a method containing an underscore. Either way CI's code goes, someone won't be happy (at least the way it sits right now). Maybe if there's enough community feedback, we could put reasoning behind which solution is used.\n\nI'd prefer to see more control over if / when the replacement occurs. It should be a configuration option from the start, so there are no surprises for developers. It would be really ideal if you could control it on a per-controller / per-method basis or what have you, but I haven't investigated enough to offer any kind of suggestion or solution for achieving that (or if it's even possible, given that the routing happens before any controller instantiation).\n\nJust keep in mind that modifying the core is more difficult to track when updating. While it involves repeating some code, it may be more prudent to utilize `URI::segment()` or something for the time being.\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/20220767/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"AkenRoberts","id":563886,"node_id":"MDQ6VXNlcjU2Mzg4Ng==","avatar_url":"https://avatars.githubusercontent.com/u/563886?v=4","gravatar_id":"","url":"https://api.github.com/users/AkenRoberts","html_url":"https://github.com/AkenRoberts","followers_url":"https://api.github.com/users/AkenRoberts/followers","following_url":"https://api.github.com/users/AkenRoberts/following{/other_user}","gists_url":"https://api.github.com/users/AkenRoberts/gists{/gist_id}","starred_url":"https://api.github.com/users/AkenRoberts/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AkenRoberts/subscriptions","organizations_url":"https://api.github.com/users/AkenRoberts/orgs","repos_url":"https://api.github.com/users/AkenRoberts/repos","events_url":"https://api.github.com/users/AkenRoberts/events{/privacy}","received_events_url":"https://api.github.com/users/AkenRoberts/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/20907771","html_url":"https://github.com/bcit-ci/CodeIgniter/issues/2503#issuecomment-20907771","issue_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/2503","id":20907771,"node_id":"MDEyOklzc3VlQ29tbWVudDIwOTA3Nzcx","user":{"login":"ragboyjr","id":1975857,"node_id":"MDQ6VXNlcjE5NzU4NTc=","avatar_url":"https://avatars.githubusercontent.com/u/1975857?v=4","gravatar_id":"","url":"https://api.github.com/users/ragboyjr","html_url":"https://github.com/ragboyjr","followers_url":"https://api.github.com/users/ragboyjr/followers","following_url":"https://api.github.com/users/ragboyjr/following{/other_user}","gists_url":"https://api.github.com/users/ragboyjr/gists{/gist_id}","starred_url":"https://api.github.com/users/ragboyjr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ragboyjr/subscriptions","organizations_url":"https://api.github.com/users/ragboyjr/orgs","repos_url":"https://api.github.com/users/ragboyjr/repos","events_url":"https://api.github.com/users/ragboyjr/events{/privacy}","received_events_url":"https://api.github.com/users/ragboyjr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-07-12T22:26:13Z","updated_at":"2013-07-12T22:26:13Z","body":"Agreed.\n\nI found another issue with CI routing and the `_remap` function. First though, here's the use case. I'm using _remap because I want my users to go to /video/{youtube_id} to view their videos ({youtube_id} is an actual youtube_id). With that in mind, some youtube id's start with '_' (underscore). CI has a security check to make sure that urls methods don't start with underscores. I don't know why that is there, but it was an issue.\n\nFor a temporary fix, if a user is using the `_remap` function then I just don't do the security check, but I don't know you'll want to deal with that.\n\nPersonally, I don't know why there is that security check, why not just use `public`, `protected`, `private` to hide methods from the url.\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/20907771/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ragboyjr","id":1975857,"node_id":"MDQ6VXNlcjE5NzU4NTc=","avatar_url":"https://avatars.githubusercontent.com/u/1975857?v=4","gravatar_id":"","url":"https://api.github.com/users/ragboyjr","html_url":"https://github.com/ragboyjr","followers_url":"https://api.github.com/users/ragboyjr/followers","following_url":"https://api.github.com/users/ragboyjr/following{/other_user}","gists_url":"https://api.github.com/users/ragboyjr/gists{/gist_id}","starred_url":"https://api.github.com/users/ragboyjr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ragboyjr/subscriptions","organizations_url":"https://api.github.com/users/ragboyjr/orgs","repos_url":"https://api.github.com/users/ragboyjr/repos","events_url":"https://api.github.com/users/ragboyjr/events{/privacy}","received_events_url":"https://api.github.com/users/ragboyjr/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/20909914","html_url":"https://github.com/bcit-ci/CodeIgniter/issues/2503#issuecomment-20909914","issue_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/2503","id":20909914,"node_id":"MDEyOklzc3VlQ29tbWVudDIwOTA5OTE0","user":{"login":"AkenRoberts","id":563886,"node_id":"MDQ6VXNlcjU2Mzg4Ng==","avatar_url":"https://avatars.githubusercontent.com/u/563886?v=4","gravatar_id":"","url":"https://api.github.com/users/AkenRoberts","html_url":"https://github.com/AkenRoberts","followers_url":"https://api.github.com/users/AkenRoberts/followers","following_url":"https://api.github.com/users/AkenRoberts/following{/other_user}","gists_url":"https://api.github.com/users/AkenRoberts/gists{/gist_id}","starred_url":"https://api.github.com/users/AkenRoberts/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AkenRoberts/subscriptions","organizations_url":"https://api.github.com/users/AkenRoberts/orgs","repos_url":"https://api.github.com/users/AkenRoberts/repos","events_url":"https://api.github.com/users/AkenRoberts/events{/privacy}","received_events_url":"https://api.github.com/users/AkenRoberts/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-07-12T23:28:17Z","updated_at":"2013-07-12T23:28:17Z","body":"The underscore prefix is there for backwards compatibility. The proper way is to use protected/private to control availability via the URL.\n\n> Prefixing method names with an underscore will also prevent them from being called. This is a legacy feature that is left for backwards-compatibility.\n\nAn underscore in the second segment will work fine with a proper route (including if the routed controller uses `_remap()`). Since the underscore check is done against the method that is determined _after_ routing. (e.g. `rsegment`). So the following would easily allow for an underscore in the second segment of the URI:\n\n``` php\n$route['video/(:any)'] = 'video/view/$1';\n```\n\nI agree that it is a little unsuspecting or ideal for your scenario, but again it's more of an edge case. Refactoring the whole way controller methods are validated just for this would be overkill, especially since there's an easy fix available.\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/20909914/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"AkenRoberts","id":563886,"node_id":"MDQ6VXNlcjU2Mzg4Ng==","avatar_url":"https://avatars.githubusercontent.com/u/563886?v=4","gravatar_id":"","url":"https://api.github.com/users/AkenRoberts","html_url":"https://github.com/AkenRoberts","followers_url":"https://api.github.com/users/AkenRoberts/followers","following_url":"https://api.github.com/users/AkenRoberts/following{/other_user}","gists_url":"https://api.github.com/users/AkenRoberts/gists{/gist_id}","starred_url":"https://api.github.com/users/AkenRoberts/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AkenRoberts/subscriptions","organizations_url":"https://api.github.com/users/AkenRoberts/orgs","repos_url":"https://api.github.com/users/AkenRoberts/repos","events_url":"https://api.github.com/users/AkenRoberts/events{/privacy}","received_events_url":"https://api.github.com/users/AkenRoberts/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":57275027,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDU3Mjc1MDI3","url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/events/57275027","actor":{"login":"narfbg","id":1058011,"node_id":"MDQ6VXNlcjEwNTgwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1058011?v=4","gravatar_id":"","url":"https://api.github.com/users/narfbg","html_url":"https://github.com/narfbg","followers_url":"https://api.github.com/users/narfbg/followers","following_url":"https://api.github.com/users/narfbg/following{/other_user}","gists_url":"https://api.github.com/users/narfbg/gists{/gist_id}","starred_url":"https://api.github.com/users/narfbg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narfbg/subscriptions","organizations_url":"https://api.github.com/users/narfbg/orgs","repos_url":"https://api.github.com/users/narfbg/repos","events_url":"https://api.github.com/users/narfbg/events{/privacy}","received_events_url":"https://api.github.com/users/narfbg/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"08fec7bdf846daa3dfa4114310f065294ac092fc","commit_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/commits/08fec7bdf846daa3dfa4114310f065294ac092fc","created_at":"2013-07-19T16:07:29Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/21259550","html_url":"https://github.com/bcit-ci/CodeIgniter/issues/2503#issuecomment-21259550","issue_url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/2503","id":21259550,"node_id":"MDEyOklzc3VlQ29tbWVudDIxMjU5NTUw","user":{"login":"narfbg","id":1058011,"node_id":"MDQ6VXNlcjEwNTgwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1058011?v=4","gravatar_id":"","url":"https://api.github.com/users/narfbg","html_url":"https://github.com/narfbg","followers_url":"https://api.github.com/users/narfbg/followers","following_url":"https://api.github.com/users/narfbg/following{/other_user}","gists_url":"https://api.github.com/users/narfbg/gists{/gist_id}","starred_url":"https://api.github.com/users/narfbg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narfbg/subscriptions","organizations_url":"https://api.github.com/users/narfbg/orgs","repos_url":"https://api.github.com/users/narfbg/repos","events_url":"https://api.github.com/users/narfbg/events{/privacy}","received_events_url":"https://api.github.com/users/narfbg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-07-19T16:09:24Z","updated_at":"2013-07-19T16:09:24Z","body":"Replacing is now configurable.\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/comments/21259550/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"narfbg","id":1058011,"node_id":"MDQ6VXNlcjEwNTgwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1058011?v=4","gravatar_id":"","url":"https://api.github.com/users/narfbg","html_url":"https://github.com/narfbg","followers_url":"https://api.github.com/users/narfbg/followers","following_url":"https://api.github.com/users/narfbg/following{/other_user}","gists_url":"https://api.github.com/users/narfbg/gists{/gist_id}","starred_url":"https://api.github.com/users/narfbg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narfbg/subscriptions","organizations_url":"https://api.github.com/users/narfbg/orgs","repos_url":"https://api.github.com/users/narfbg/repos","events_url":"https://api.github.com/users/narfbg/events{/privacy}","received_events_url":"https://api.github.com/users/narfbg/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":57275307,"node_id":"MDExOkNsb3NlZEV2ZW50NTcyNzUzMDc=","url":"https://api.github.com/repos/bcit-ci/CodeIgniter/issues/events/57275307","actor":{"login":"narfbg","id":1058011,"node_id":"MDQ6VXNlcjEwNTgwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1058011?v=4","gravatar_id":"","url":"https://api.github.com/users/narfbg","html_url":"https://github.com/narfbg","followers_url":"https://api.github.com/users/narfbg/followers","following_url":"https://api.github.com/users/narfbg/following{/other_user}","gists_url":"https://api.github.com/users/narfbg/gists{/gist_id}","starred_url":"https://api.github.com/users/narfbg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narfbg/subscriptions","organizations_url":"https://api.github.com/users/narfbg/orgs","repos_url":"https://api.github.com/users/narfbg/repos","events_url":"https://api.github.com/users/narfbg/events{/privacy}","received_events_url":"https://api.github.com/users/narfbg/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2013-07-19T16:09:24Z","state_reason":null,"performed_via_github_app":null}]