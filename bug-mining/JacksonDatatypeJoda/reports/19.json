{"url":"https://api.github.com/repos/FasterXML/jackson-datatype-joda/issues/162","repository_url":"https://api.github.com/repos/FasterXML/jackson-datatype-joda","labels_url":"https://api.github.com/repos/FasterXML/jackson-datatype-joda/issues/162/labels{/name}","comments_url":"https://api.github.com/repos/FasterXML/jackson-datatype-joda/issues/162/comments","events_url":"https://api.github.com/repos/FasterXML/jackson-datatype-joda/issues/162/events","html_url":"https://github.com/FasterXML/jackson-datatype-joda/issues/162","id":2959678333,"node_id":"I_kwDOACP7XM6waRt9","number":162,"title":"Cannot serialize `org.joda.time.Hours`/`Minutes`/`Seconds`/`Months`/`Years`/`Weeks`","user":{"login":"bestbugwriter","id":4133268,"node_id":"MDQ6VXNlcjQxMzMyNjg=","avatar_url":"https://avatars.githubusercontent.com/u/4133268?v=4","gravatar_id":"","url":"https://api.github.com/users/bestbugwriter","html_url":"https://github.com/bestbugwriter","followers_url":"https://api.github.com/users/bestbugwriter/followers","following_url":"https://api.github.com/users/bestbugwriter/following{/other_user}","gists_url":"https://api.github.com/users/bestbugwriter/gists{/gist_id}","starred_url":"https://api.github.com/users/bestbugwriter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bestbugwriter/subscriptions","organizations_url":"https://api.github.com/users/bestbugwriter/orgs","repos_url":"https://api.github.com/users/bestbugwriter/repos","events_url":"https://api.github.com/users/bestbugwriter/events{/privacy}","received_events_url":"https://api.github.com/users/bestbugwriter/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2025-03-31T07:25:25Z","updated_at":"2025-03-31T22:03:10Z","closed_at":"2025-03-31T22:03:10Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"@cowtowncoder @JooHyukKim \n\nopen another issue regarding this problem\n\nI found that some other classes similar to Days, such as Hours and Years, also don't work. Do I need to write a serialization and deserialization class for each of them separately?\n\nthis is my code:\n\n```\n    public static void main(String[] args) throws IOException {\n\n        Map<String, Object> map = new HashMap<>();\n        map.put(\"dateTime\",  new DateTime());\n        map.put(\"years\", Years.years(1));\n        map.put(\"months\", Months.months(2));\n        map.put(\"weeks\", Weeks.weeks(3));\n        map.put(\"days\", Days.days(4));\n        map.put(\"hours\", Hours.hours(5));\n        map.put(\"minutes\", Minutes.minutes(6));\n        map.put(\"seconds\", Seconds.seconds(7));\n\n\n        ObjectMapper objectMapper = new ObjectMapper();\n        objectMapper.registerModule(new JodaModule());\n\n        String json = objectMapper.writeValueAsString(map);\n        System.out.println(json);\n\n        String json1 = \"{\\\"dateTime\\\":1743059899339,\\\"hours\\\":\\\"5h\\\",\\\"seconds\\\":\\\"7s\\\",\\\"months\\\":\\\"2M\\\",\\\"weeks\\\":\\\"3w\\\",\\\"minutes\\\":\\\"6m\\\",\\\"days\\\":\\\"4d\\\",\\\"years\\\":\\\"1y\\\"}\";\n        System.out.println(objectMapper.readValue(json1, Map.class));\n    }\n\n```\n\nand this is my exception:\n\n```\nException in thread \"main\" com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Joda date/time type `org.joda.time.Hours` not supported by default: add Module \"com.fasterxml.jackson.datatype:jackson-datatype-joda\" to enable handling (through reference chain: java.util.HashMap[\"hours\"])\n\tat com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77)\n\tat com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1340)\n\tat com.fasterxml.jackson.databind.ser.impl.UnsupportedTypeSerializer.serialize(UnsupportedTypeSerializer.java:35)\n\tat com.fasterxml.jackson.databind.ser.std.MapSerializer.serializeFields(MapSerializer.java:808)\n\tat com.fasterxml.jackson.databind.ser.std.MapSerializer.serializeWithoutTypeInfo(MapSerializer.java:764)\n\tat com.fasterxml.jackson.databind.ser.std.MapSerializer.serialize(MapSerializer.java:720)\n\tat com.fasterxml.jackson.databind.ser.std.MapSerializer.serialize(MapSerializer.java:35)\n\tat com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:502)\n\tat com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:341)\n\tat com.fasterxml.jackson.databind.ObjectMapper._writeValueAndClose(ObjectMapper.java:4819)\n\tat com.fasterxml.jackson.databind.ObjectMapper.writeValueAsString(ObjectMapper.java:4060)\n\tat azkaban.utils.JSONUtils.main(JSONUtils.java:353)\n```\n\nplease help me fix this issue like this:\n[issues-160](https://github.com/FasterXML/jackson-datatype-joda/issues/160)\n[pr-161](https://github.com/FasterXML/jackson-datatype-joda/pull/161)\n\n","closed_by":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/FasterXML/jackson-datatype-joda/issues/162/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/FasterXML/jackson-datatype-joda/issues/162/timeline","performed_via_github_app":null,"state_reason":"completed"}