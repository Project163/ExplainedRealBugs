<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:24:49 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HTTPCORE-754] StrictConnPool unable to acquire lock under multi threaded application causing DeadlineTimeoutException exception being thrown</title>
                <link>https://issues.apache.org/jira/browse/HTTPCORE-754</link>
                <project id="12310340" key="HTTPCORE">HttpComponents HttpCore</project>
                    <description>&lt;p&gt;Under load when two different threads try to get a connection one thread will be able to get the connection lease and another thread will fail with misleading &lt;b&gt;DeadlineTimeoutException&lt;/b&gt; exception.&lt;/p&gt;

&lt;p&gt;Exception&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;20/Jun/2023:16:08:03-133&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; - Deadline: +292278994-08-17T07:12:55.807+0000, 9223370349577492674 MILLISECONDS overdue&lt;br/&gt;
org.apache.hc.core5.util.DeadlineTimeoutException: Deadline: +292278994-08-17T07:12:55.807+0000, 9223370349577492674 MILLISECONDS overdue&lt;br/&gt;
 at org.apache.hc.core5.util.DeadlineTimeoutException.from(DeadlineTimeoutException.java:49) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;httpcore5-5.2.2.jar:5.2.2&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.hc.core5.pool.StrictConnPool.lease(StrictConnPool.java:217) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;httpcore5-5.2.2.jar:5.2.2&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.hc.client5.http.impl.nio.PoolingAsyncClientConnectionManager$3.&amp;lt;init&amp;gt;(PoolingAsyncClientConnectionManager.java:271) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;httpclient5-5.2.1.jar:5.2.1&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.hc.client5.http.impl.nio.PoolingAsyncClientConnectionManager.lease(PoolingAsyncClientConnectionManager.java:266) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;httpclient5-5.2.1.jar:5.2.1&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.hc.client5.http.impl.async.InternalHttpAsyncExecRuntime.acquireEndpoint(InternalHttpAsyncExecRuntime.java:105) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;httpclient5-5.2.1.jar:5.2.1&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.hc.client5.http.impl.async.AsyncConnectExec.execute(AsyncConnectExec.java:141) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;httpclient5-5.2.1.jar:5.2.1&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.hc.client5.http.impl.async.AsyncExecChainElement.execute(AsyncExecChainElement.java:54) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;httpclient5-5.2.1.jar:5.2.1&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.hc.client5.http.impl.async.AsyncProtocolExec.internalExecute(AsyncProtocolExec.java:207) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;httpclient5-5.2.1.jar:5.2.1&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.hc.client5.http.impl.async.AsyncProtocolExec.execute(AsyncProtocolExec.java:172) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;httpclient5-5.2.1.jar:5.2.1&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.hc.client5.http.impl.async.AsyncExecChainElement.execute(AsyncExecChainElement.java:54) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;httpclient5-5.2.1.jar:5.2.1&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.hc.client5.http.impl.async.AsyncHttpRequestRetryExec.internalExecute(AsyncHttpRequestRetryExec.java:97) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;httpclient5-5.2.1.jar:5.2.1&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.hc.client5.http.impl.async.AsyncHttpRequestRetryExec.execute(AsyncHttpRequestRetryExec.java:184) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;httpclient5-5.2.1.jar:5.2.1&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.hc.client5.http.impl.async.AsyncExecChainElement.execute(AsyncExecChainElement.java:54) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;httpclient5-5.2.1.jar:5.2.1&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.hc.client5.http.impl.async.InternalAbstractHttpAsyncClient.executeImmediate(InternalAbstractHttpAsyncClient.java:347) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;httpclient5-5.2.1.jar:5.2.1&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.hc.client5.http.impl.async.InternalAbstractHttpAsyncClient.lambda$doExecute$0(InternalAbstractHttpAsyncClient.java:205) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;httpclient5-5.2.1.jar:5.2.1&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.hc.core5.http.nio.support.BasicRequestProducer.sendRequest(BasicRequestProducer.java:93) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;httpcore5-5.2.2.jar:5.2.2&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.hc.client5.http.impl.async.InternalAbstractHttpAsyncClient.doExecute(InternalAbstractHttpAsyncClient.java:178) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;httpclient5-5.2.1.jar:5.2.1&amp;#93;&lt;/span&gt;&lt;br/&gt;
 at org.apache.hc.client5.http.impl.async.CloseableHttpAsyncClient.execute(CloseableHttpAsyncClient.java:97) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;httpclient5-5.2.1.jar:5.2.1&amp;#93;&lt;/span&gt;&lt;br/&gt;
&#160;&lt;/p&gt;

&lt;p&gt;DeadlineTimeoutException error is misleading in this case and actually HTTPCore it is unable to acquire lock (From the exception provided earlier Line 217 of StrictConnPool.java). Timeout of 0 means don&apos;t wait as per java docs of ReentrantLock. So in my case it looks like already one thread acquired lock and another thread now trying to acquire lock and as TimeOut value is 0, that thread is returning back and causing that exception to be thrown. As per HTTPClient java docs a timeout of 0 to setConnectionRequestTimeout means infinite timeout.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Use below code to generate misleading error&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;&#160;&#160; &#160; &#160; &#160; Timeout requestTimeout = Timeout.ZERO_MILLISECONDS;&lt;br/&gt;
&#160;&#160; &#160; &#160; &#160; final Deadline deadline = Deadline.calculate(requestTimeout);&lt;br/&gt;
&#160;&#160; &#160; &#160; &#160; System.out.println(DeadlineTimeoutException.from(deadline));&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13541975">HTTPCORE-754</key>
            <summary>StrictConnPool unable to acquire lock under multi threaded application causing DeadlineTimeoutException exception being thrown</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="olegk">Oleg Kalnichevski</assignee>
                                    <reporter username="ssreenivas">Sreenivas S</reporter>
                        <labels>
                    </labels>
                <created>Thu, 29 Jun 2023 16:57:08 +0000</created>
                <updated>Thu, 14 Mar 2024 08:22:31 +0000</updated>
                            <resolved>Thu, 6 Jul 2023 08:00:33 +0000</resolved>
                                    <version>5.2</version>
                    <version>5.2.2</version>
                                    <fixVersion>5.2.3</fixVersion>
                    <fixVersion>5.3-alpha1</fixVersion>
                                    <component>HttpCore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17738678" author="jira-bot" created="Thu, 29 Jun 2023 17:05:08 +0000"  >&lt;p&gt;Commit b7bcbe55e622fd76829c31b42f457a3e73c8bf78 in httpcomponents-core&apos;s branch refs/heads/&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCORE-754&quot; title=&quot;StrictConnPool unable to acquire lock under multi threaded application causing DeadlineTimeoutException exception being thrown&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCORE-754&quot;&gt;&lt;del&gt;HTTPCORE-754&lt;/del&gt;&lt;/a&gt; from Oleg Kalnichevski&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=httpcomponents-core.git;h=b7bcbe55e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=httpcomponents-core.git;h=b7bcbe55e&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCORE-754&quot; title=&quot;StrictConnPool unable to acquire lock under multi threaded application causing DeadlineTimeoutException exception being thrown&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCORE-754&quot;&gt;&lt;del&gt;HTTPCORE-754&lt;/del&gt;&lt;/a&gt;: StrictConnPool fails to correctly handle infinite request timeout&lt;/p&gt;</comment>
                            <comment id="17738695" author="olegk" created="Thu, 29 Jun 2023 17:08:51 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ssreenivas&quot; class=&quot;user-hover&quot; rel=&quot;ssreenivas&quot;&gt;ssreenivas&lt;/a&gt; Please review / test the proposed fix:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/httpcomponents-core/commit/b7bcbe55e622fd76829c31b42f457a3e73c8bf78&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/httpcomponents-core/commit/b7bcbe55e622fd76829c31b42f457a3e73c8bf78&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Oleg&lt;/p&gt;</comment>
                            <comment id="17739073" author="JIRAUSER301136" created="Fri, 30 Jun 2023 13:02:50 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=olegk&quot; class=&quot;user-hover&quot; rel=&quot;olegk&quot;&gt;olegk&lt;/a&gt; ,&lt;/p&gt;

&lt;p&gt;Same issue even with new code, but now error message is different (See below for stacktrace). From javadocs of &lt;b&gt;ReentrantLock&lt;/b&gt; API it looks like &lt;b&gt;trylock&lt;/b&gt; will return false immediately if lock is acquired by another thread. So probably we need to use &lt;b&gt;lock / lockInterruptibly&lt;/b&gt; instead of &lt;b&gt;trylock&lt;/b&gt; method.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13061005/13061005_image-2023-06-30-18-27-24-293.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;30/Jun/2023:12:48:16-115&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; - No deadline (infinite)&lt;br/&gt;
org.apache.hc.core5.util.DeadlineTimeoutException: No deadline (infinite)&lt;br/&gt;
&#160; &#160; at org.apache.hc.core5.util.DeadlineTimeoutException.from(DeadlineTimeoutException.java:49) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;httpcore5-5.2.3-SNAPSHOT.jar:5.2.3-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
&#160; &#160; at org.apache.hc.core5.pool.StrictConnPool.lease(StrictConnPool.java:221) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;httpcore5-5.2.3-SNAPSHOT.jar:5.2.3-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
&#160; &#160; at org.apache.hc.client5.http.impl.nio.PoolingAsyncClientConnectionManager$3.&amp;lt;init&amp;gt;(PoolingAsyncClientConnectionManager.java:271) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;httpclient5-5.2.1.jar:5.2.1&amp;#93;&lt;/span&gt;&lt;br/&gt;
&#160; &#160; at org.apache.hc.client5.http.impl.nio.PoolingAsyncClientConnectionManager.lease(PoolingAsyncClientConnectionManager.java:266) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;httpclient5-5.2.1.jar:5.2.1&amp;#93;&lt;/span&gt;&lt;br/&gt;
&#160; &#160; at org.apache.hc.client5.http.impl.async.InternalHttpAsyncExecRuntime.acquireEndpoint(InternalHttpAsyncExecRuntime.java:105) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;httpclient5-5.2.1.jar:5.2.1&amp;#93;&lt;/span&gt;&lt;br/&gt;
&#160; &#160; at org.apache.hc.client5.http.impl.async.AsyncConnectExec.execute(AsyncConnectExec.java:141) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;httpclient5-5.2.1.jar:5.2.1&amp;#93;&lt;/span&gt;&lt;br/&gt;
&#160; &#160; at org.apache.hc.client5.http.impl.async.AsyncExecChainElement.execute(AsyncExecChainElement.java:54) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;httpclient5-5.2.1.jar:5.2.1&amp;#93;&lt;/span&gt;&lt;br/&gt;
&#160; &#160; at org.apache.hc.client5.http.impl.async.AsyncProtocolExec.internalExecute(AsyncProtocolExec.java:207) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;httpclient5-5.2.1.jar:5.2.1&amp;#93;&lt;/span&gt;&lt;br/&gt;
&#160; &#160; at org.apache.hc.client5.http.impl.async.AsyncProtocolExec.execute(AsyncProtocolExec.java:172) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;httpclient5-5.2.1.jar:5.2.1&amp;#93;&lt;/span&gt;&lt;br/&gt;
&#160; &#160; at org.apache.hc.client5.http.impl.async.AsyncExecChainElement.execute(AsyncExecChainElement.java:54) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;httpclient5-5.2.1.jar:5.2.1&amp;#93;&lt;/span&gt;&lt;br/&gt;
&#160; &#160; at org.apache.hc.client5.http.impl.async.AsyncHttpRequestRetryExec.internalExecute(AsyncHttpRequestRetryExec.java:97) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;httpclient5-5.2.1.jar:5.2.1&amp;#93;&lt;/span&gt;&lt;br/&gt;
&#160; &#160; at org.apache.hc.client5.http.impl.async.AsyncHttpRequestRetryExec.execute(AsyncHttpRequestRetryExec.java:184) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;httpclient5-5.2.1.jar:5.2.1&amp;#93;&lt;/span&gt;&lt;br/&gt;
&#160; &#160; at org.apache.hc.client5.http.impl.async.AsyncExecChainElement.execute(AsyncExecChainElement.java:54) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;httpclient5-5.2.1.jar:5.2.1&amp;#93;&lt;/span&gt;&lt;br/&gt;
&#160; &#160; at org.apache.hc.client5.http.impl.async.InternalAbstractHttpAsyncClient.executeImmediate(InternalAbstractHttpAsyncClient.java:347) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;httpclient5-5.2.1.jar:5.2.1&amp;#93;&lt;/span&gt;&lt;br/&gt;
&#160; &#160; at org.apache.hc.client5.http.impl.async.InternalAbstractHttpAsyncClient.lambda$doExecute$0(InternalAbstractHttpAsyncClient.java:205) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;httpclient5-5.2.1.jar:5.2.1&amp;#93;&lt;/span&gt;&lt;br/&gt;
&#160; &#160; at org.apache.hc.core5.http.nio.support.BasicRequestProducer.sendRequest(BasicRequestProducer.java:93) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;httpcore5-5.2.3-SNAPSHOT.jar:5.2.3-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
&#160; &#160; at org.apache.hc.client5.http.impl.async.InternalAbstractHttpAsyncClient.doExecute(InternalAbstractHttpAsyncClient.java:178) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;httpclient5-5.2.1.jar:5.2.1&amp;#93;&lt;/span&gt;&lt;br/&gt;
&#160; &#160; at org.apache.hc.client5.http.impl.async.CloseableHttpAsyncClient.execute(CloseableHttpAsyncClient.java:97) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;httpclient5-5.2.1.jar:5.2.1&amp;#93;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="17739143" author="jira-bot" created="Fri, 30 Jun 2023 15:46:23 +0000"  >&lt;p&gt;Commit 8f7a7c23911c2bb5c338baff566f98e11a9e9722 in httpcomponents-core&apos;s branch refs/heads/&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCORE-754&quot; title=&quot;StrictConnPool unable to acquire lock under multi threaded application causing DeadlineTimeoutException exception being thrown&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCORE-754&quot;&gt;&lt;del&gt;HTTPCORE-754&lt;/del&gt;&lt;/a&gt; from Oleg Kalnichevski&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=httpcomponents-core.git;h=8f7a7c239&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=httpcomponents-core.git;h=8f7a7c239&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCORE-754&quot; title=&quot;StrictConnPool unable to acquire lock under multi threaded application causing DeadlineTimeoutException exception being thrown&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCORE-754&quot;&gt;&lt;del&gt;HTTPCORE-754&lt;/del&gt;&lt;/a&gt;: Correct formatting of infinite deadline&lt;/p&gt;</comment>
                            <comment id="17739144" author="jira-bot" created="Fri, 30 Jun 2023 15:46:23 +0000"  >&lt;p&gt;Commit 277370dd8d01de896cae9dd63604dbf8be59cfe2 in httpcomponents-core&apos;s branch refs/heads/&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCORE-754&quot; title=&quot;StrictConnPool unable to acquire lock under multi threaded application causing DeadlineTimeoutException exception being thrown&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCORE-754&quot;&gt;&lt;del&gt;HTTPCORE-754&lt;/del&gt;&lt;/a&gt; from Oleg Kalnichevski&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=httpcomponents-core.git;h=277370dd8&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=httpcomponents-core.git;h=277370dd8&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCORE-754&quot; title=&quot;StrictConnPool unable to acquire lock under multi threaded application causing DeadlineTimeoutException exception being thrown&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCORE-754&quot;&gt;&lt;del&gt;HTTPCORE-754&lt;/del&gt;&lt;/a&gt;: StrictConnPool fails to correctly handle infinite request timeout&lt;/p&gt;</comment>
                            <comment id="17739145" author="olegk" created="Fri, 30 Jun 2023 15:47:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ssreenivas&quot; class=&quot;user-hover&quot; rel=&quot;ssreenivas&quot;&gt;ssreenivas&lt;/a&gt; you are absolutely correct. My bad. Please review another take:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/httpcomponents-core/tree/HTTPCORE-754&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/httpcomponents-core/tree/HTTPCORE-754&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Oleg&lt;/p&gt;</comment>
                            <comment id="17739241" author="JIRAUSER301136" created="Fri, 30 Jun 2023 22:50:03 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=olegk&quot; class=&quot;user-hover&quot; rel=&quot;olegk&quot;&gt;olegk&lt;/a&gt; The new fix worked. Please validate if we want to use &lt;b&gt;lock / lockInterruptibly&lt;/b&gt; method. I have modified the source and rebuild jars and tested with both of them and both works fine.&lt;/p&gt;

&lt;p&gt;Sreenivas&lt;/p&gt;</comment>
                            <comment id="17739921" author="jira-bot" created="Tue, 4 Jul 2023 13:15:37 +0000"  >&lt;p&gt;Commit da565a8f81b46d50a389badb7d4748d48bceec12 in httpcomponents-core&apos;s branch refs/heads/&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCORE-754&quot; title=&quot;StrictConnPool unable to acquire lock under multi threaded application causing DeadlineTimeoutException exception being thrown&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCORE-754&quot;&gt;&lt;del&gt;HTTPCORE-754&lt;/del&gt;&lt;/a&gt; from Oleg Kalnichevski&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=httpcomponents-core.git;h=da565a8f8&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=httpcomponents-core.git;h=da565a8f8&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCORE-754&quot; title=&quot;StrictConnPool unable to acquire lock under multi threaded application causing DeadlineTimeoutException exception being thrown&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCORE-754&quot;&gt;&lt;del&gt;HTTPCORE-754&lt;/del&gt;&lt;/a&gt;: StrictConnPool fails to correctly handle infinite request timeout&lt;/p&gt;</comment>
                            <comment id="17739923" author="olegk" created="Tue, 4 Jul 2023 13:18:44 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ssreenivas&quot; class=&quot;user-hover&quot; rel=&quot;ssreenivas&quot;&gt;ssreenivas&lt;/a&gt; &lt;b&gt;lockInterruptibly&lt;/b&gt; appears to be handling thread interruption better. Please take one last look at the latest version.&lt;/p&gt;

&lt;p&gt;Oleg&lt;/p&gt;</comment>
                            <comment id="17739940" author="JIRAUSER301136" created="Tue, 4 Jul 2023 14:44:57 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=olegk&quot; class=&quot;user-hover&quot; rel=&quot;olegk&quot;&gt;olegk&lt;/a&gt; I have modified the source code and tested with &lt;b&gt;lockInterruptibly&lt;/b&gt; method usage as well and it works fine. I have seen your commit as well and the changes i have made locally and tested are same as your commit changes.&lt;/p&gt;

&lt;p&gt;Sreenivas&lt;/p&gt;</comment>
                            <comment id="17740471" author="jira-bot" created="Thu, 6 Jul 2023 07:58:30 +0000"  >&lt;p&gt;Commit 243a7e8293560b88208d89e49a3205cd09c555b6 in httpcomponents-core&apos;s branch refs/heads/master from Oleg Kalnichevski&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=httpcomponents-core.git;h=243a7e829&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=httpcomponents-core.git;h=243a7e829&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCORE-754&quot; title=&quot;StrictConnPool unable to acquire lock under multi threaded application causing DeadlineTimeoutException exception being thrown&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCORE-754&quot;&gt;&lt;del&gt;HTTPCORE-754&lt;/del&gt;&lt;/a&gt;: Correct formatting of infinite deadline&lt;/p&gt;</comment>
                            <comment id="17740472" author="jira-bot" created="Thu, 6 Jul 2023 07:58:30 +0000"  >&lt;p&gt;Commit aa5bdbbbce7385e67de585c86cb34155b7cb1bd2 in httpcomponents-core&apos;s branch refs/heads/master from Oleg Kalnichevski&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=httpcomponents-core.git;h=aa5bdbbbc&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=httpcomponents-core.git;h=aa5bdbbbc&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCORE-754&quot; title=&quot;StrictConnPool unable to acquire lock under multi threaded application causing DeadlineTimeoutException exception being thrown&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCORE-754&quot;&gt;&lt;del&gt;HTTPCORE-754&lt;/del&gt;&lt;/a&gt;: StrictConnPool fails to correctly handle infinite request timeout&lt;/p&gt;</comment>
                            <comment id="17740473" author="olegk" created="Thu, 6 Jul 2023 08:00:33 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ssreenivas&quot; class=&quot;user-hover&quot; rel=&quot;ssreenivas&quot;&gt;ssreenivas&lt;/a&gt; You help is much appreciated.&lt;/p&gt;

&lt;p&gt;Fix committed to master.&lt;/p&gt;

&lt;p&gt;Oleg&lt;/p&gt;</comment>
                            <comment id="17765638" author="jira-bot" created="Fri, 15 Sep 2023 13:30:12 +0000"  >&lt;p&gt;Commit 4695f251ca0f2bbb7fb40472ed5a769ebccb3c73 in httpcomponents-core&apos;s branch refs/heads/master from Oleg Kalnichevski&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=httpcomponents-core.git;h=4695f251c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=httpcomponents-core.git;h=4695f251c&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCORE-754&quot; title=&quot;StrictConnPool unable to acquire lock under multi threaded application causing DeadlineTimeoutException exception being thrown&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCORE-754&quot;&gt;&lt;del&gt;HTTPCORE-754&lt;/del&gt;&lt;/a&gt;: Correct formatting of infinite deadline&lt;/p&gt;</comment>
                            <comment id="17765639" author="jira-bot" created="Fri, 15 Sep 2023 13:30:13 +0000"  >&lt;p&gt;Commit 0b126eeff4ab7227c47d075a0c048333f60f2c56 in httpcomponents-core&apos;s branch refs/heads/master from Oleg Kalnichevski&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=httpcomponents-core.git;h=0b126eeff&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=httpcomponents-core.git;h=0b126eeff&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCORE-754&quot; title=&quot;StrictConnPool unable to acquire lock under multi threaded application causing DeadlineTimeoutException exception being thrown&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCORE-754&quot;&gt;&lt;del&gt;HTTPCORE-754&lt;/del&gt;&lt;/a&gt;: StrictConnPool fails to correctly handle infinite request timeout&lt;/p&gt;</comment>
                            <comment id="17767205" author="jira-bot" created="Wed, 20 Sep 2023 17:13:59 +0000"  >&lt;p&gt;Commit 4695f251ca0f2bbb7fb40472ed5a769ebccb3c73 in httpcomponents-core&apos;s branch refs/heads/dependabot/maven/io.reactivex.rxjava3-rxjava-3.1.7 from Oleg Kalnichevski&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=httpcomponents-core.git;h=4695f251c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=httpcomponents-core.git;h=4695f251c&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCORE-754&quot; title=&quot;StrictConnPool unable to acquire lock under multi threaded application causing DeadlineTimeoutException exception being thrown&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCORE-754&quot;&gt;&lt;del&gt;HTTPCORE-754&lt;/del&gt;&lt;/a&gt;: Correct formatting of infinite deadline&lt;/p&gt;</comment>
                            <comment id="17767206" author="jira-bot" created="Wed, 20 Sep 2023 17:13:59 +0000"  >&lt;p&gt;Commit 0b126eeff4ab7227c47d075a0c048333f60f2c56 in httpcomponents-core&apos;s branch refs/heads/dependabot/maven/io.reactivex.rxjava3-rxjava-3.1.7 from Oleg Kalnichevski&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=httpcomponents-core.git;h=0b126eeff&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=httpcomponents-core.git;h=0b126eeff&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCORE-754&quot; title=&quot;StrictConnPool unable to acquire lock under multi threaded application causing DeadlineTimeoutException exception being thrown&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCORE-754&quot;&gt;&lt;del&gt;HTTPCORE-754&lt;/del&gt;&lt;/a&gt;: StrictConnPool fails to correctly handle infinite request timeout&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13061005" name="image-2023-06-30-18-27-24-293.png" size="225835" author="ssreenivas" created="Fri, 30 Jun 2023 12:57:25 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12314421" key="com.atlassian.jira.plugin.system.customfieldtypes:labels">
                        <customfieldname>Language</customfieldname>
                        <customfieldvalues>
                                        <label>JAVA</label>
            <label>Java</label>
            <label>java</label>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 7 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1ivo8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>