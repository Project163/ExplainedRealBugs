<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:23:47 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HTTPCORE-427] Expired SSL connections are not getting closed.</title>
                <link>https://issues.apache.org/jira/browse/HTTPCORE-427</link>
                <project id="12310340" key="HTTPCORE">HttpComponents HttpCore</project>
                    <description>&lt;p&gt;We have a case where the far end server returns the HTTP Keep-Alive response header timeout=5 seconds. When a SSL connection on connection pool expires, it tries to close the connection by sending an SSL ALERT notify to the far end. The server does not respond to the alert and doesn&apos;t close the connection. Since the connection has a socketTimeout set to 0 onRelease(), the connection hangs forever. A socket is lost every time this occurs. We&apos;re eventually running out of ephemeral ports and getting exception Caused by: java.net.BindException: Address already in use.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12990551">HTTPCORE-427</key>
            <summary>Expired SSL connections are not getting closed.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="nhan.thuan.nguyen">Nhan Thuan Nguyen</reporter>
                        <labels>
                    </labels>
                <created>Mon, 18 Jul 2016 20:48:33 +0000</created>
                <updated>Tue, 26 Jul 2016 08:13:39 +0000</updated>
                            <resolved>Sat, 23 Jul 2016 11:04:48 +0000</resolved>
                                    <version>4.4.5</version>
                                    <fixVersion>4.4.6</fixVersion>
                    <fixVersion>5.0-alpha2</fixVersion>
                                    <component>HttpCore NIO</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15383814" author="olegk" created="Tue, 19 Jul 2016 08:47:14 +0000"  >&lt;p&gt;Nhan,&lt;br/&gt;
Could you please generate a context of log of the session as described here &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; and attach it to this ticket?&lt;/p&gt;

&lt;p&gt;Oleg&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://hc.apache.org/httpcomponents-client-4.5.x/logging.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hc.apache.org/httpcomponents-client-4.5.x/logging.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15384222" author="nhan.thuan.nguyen" created="Tue, 19 Jul 2016 14:26:28 +0000"  >&lt;p&gt;The connection expired, see line 36 in this log.&lt;/p&gt;</comment>
                            <comment id="15390658" author="olegk" created="Sat, 23 Jul 2016 11:04:48 +0000"  >&lt;p&gt;Should be fixed in SVN trunk and 4.4.x. Please review / re-test and close.&lt;/p&gt;

&lt;p&gt;Oleg&lt;/p&gt;</comment>
                            <comment id="15392349" author="nhan.thuan.nguyen" created="Mon, 25 Jul 2016 17:32:51 +0000"  >&lt;p&gt;Thank you Oleg. It works.&lt;/p&gt;

&lt;p&gt;Just a quick question, why didn&apos;t you use the socket timeout setting from request config?&lt;/p&gt;</comment>
                            <comment id="15392350" author="nhan.thuan.nguyen" created="Mon, 25 Jul 2016 17:33:13 +0000"  >&lt;p&gt;That works.&lt;/p&gt;</comment>
                            <comment id="15392351" author="nhan.thuan.nguyen" created="Mon, 25 Jul 2016 17:34:05 +0000"  >&lt;p&gt;When do I expect version 4.4.6 to be released? &lt;/p&gt;</comment>
                            <comment id="15393403" author="olegk" created="Tue, 26 Jul 2016 08:13:39 +0000"  >&lt;p&gt;&lt;tt&gt;RequestConfig&lt;/tt&gt; settings are not available at the I/O session level. These are protocol level parameters. I had to pick some (more or less) reasonable default value. I guess if SSL session cannot be gracefully terminated within a second it should be OK to presume something is wrong and to force-close the session.&lt;/p&gt;

&lt;p&gt;Oleg&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12818827" name="httpasync-107.log" size="5999" author="nhan.thuan.nguyen" created="Tue, 19 Jul 2016 14:26:28 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 16 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i315wf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>