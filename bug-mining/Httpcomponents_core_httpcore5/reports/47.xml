<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:24:18 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HTTPCORE-608] Performance Regression with SessionInputBufferImpl</title>
                <link>https://issues.apache.org/jira/browse/HTTPCORE-608</link>
                <project id="12310340" key="HTTPCORE">HttpComponents HttpCore</project>
                    <description>&lt;p&gt;I recently started testing client 5.0-beta6 and I&apos;m seeing very noticeable performance regressions with 5.0-beta6 over 5.0-beta5. In my application, I normally maintain ~100MB/s down. 5.0-beta6 seems to be struggling to maintain 1MB/s. &lt;/p&gt;

&lt;p&gt;I tracked it down to this commit&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/httpcomponents-core/commit/fd2d0c2004e858d4f30aad5cf64f19045005811c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/httpcomponents-core/commit/fd2d0c2004e858d4f30aad5cf64f19045005811c&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I don&apos;t fully understand the change, but profiling shows that expandCapacity is always being triggered and copying/resizing the buffer.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13263264">HTTPCORE-608</key>
            <summary>Performance Regression with SessionInputBufferImpl</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="desmondyeung">Desmond Yeung</reporter>
                        <labels>
                    </labels>
                <created>Fri, 18 Oct 2019 20:26:36 +0000</created>
                <updated>Sun, 20 Oct 2019 11:09:37 +0000</updated>
                            <resolved>Sun, 20 Oct 2019 11:09:37 +0000</resolved>
                                    <version>5.0-beta9</version>
                                    <fixVersion>5.0-beta10</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16955127" author="olegk" created="Sat, 19 Oct 2019 09:48:34 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=desmondyeung&quot; class=&quot;user-hover&quot; rel=&quot;desmondyeung&quot;&gt;desmondyeung&lt;/a&gt; How exactly do you measure throughput? How can I reproduce your findings locally? &lt;/p&gt;

&lt;p&gt;Oleg&lt;/p&gt;</comment>
                            <comment id="16955135" author="jira-bot" created="Sat, 19 Oct 2019 10:41:11 +0000"  >&lt;p&gt;Commit 8a2962d375359254c9fb806cacd1017bc333e0fe in httpcomponents-core&apos;s branch refs/heads/bug-fixes from Oleg Kalnichevski&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=httpcomponents-core.git;h=8a2962d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=httpcomponents-core.git;h=8a2962d&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCORE-608&quot; title=&quot;Performance Regression with SessionInputBufferImpl&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCORE-608&quot;&gt;&lt;del&gt;HTTPCORE-608&lt;/del&gt;&lt;/a&gt;, regression: fixes regression introduced by fd2d0c2004e858d4f30aad5cf64f19045005811c&lt;/p&gt;</comment>
                            <comment id="16955136" author="olegk" created="Sat, 19 Oct 2019 10:43:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=desmondyeung&quot; class=&quot;user-hover&quot; rel=&quot;desmondyeung&quot;&gt;desmondyeung&lt;/a&gt; Damn. That one liner was, of course, wrong and has led to unnecessary buffer expansion.  Please try this fix &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;Oleg&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/httpcomponents-core/commit/8a2962d375359254c9fb806cacd1017bc333e0fe&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/httpcomponents-core/commit/8a2962d375359254c9fb806cacd1017bc333e0fe&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16955165" author="jira-bot" created="Sat, 19 Oct 2019 13:59:41 +0000"  >&lt;p&gt;Commit 614e219d62fb4341738f0d04ac635bf9cc560280 in httpcomponents-core&apos;s branch refs/heads/bug-fixes from Oleg Kalnichevski&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=httpcomponents-core.git;h=614e219&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=httpcomponents-core.git;h=614e219&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCORE-608&quot; title=&quot;Performance Regression with SessionInputBufferImpl&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCORE-608&quot;&gt;&lt;del&gt;HTTPCORE-608&lt;/del&gt;&lt;/a&gt;, regression: fixes regression introduced by fd2d0c2004e858d4f30aad5cf64f19045005811c&lt;/p&gt;</comment>
                            <comment id="16955451" author="jira-bot" created="Sun, 20 Oct 2019 11:08:32 +0000"  >&lt;p&gt;Commit 614e219d62fb4341738f0d04ac635bf9cc560280 in httpcomponents-core&apos;s branch refs/heads/master from Oleg Kalnichevski&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=httpcomponents-core.git;h=614e219&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=httpcomponents-core.git;h=614e219&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCORE-608&quot; title=&quot;Performance Regression with SessionInputBufferImpl&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCORE-608&quot;&gt;&lt;del&gt;HTTPCORE-608&lt;/del&gt;&lt;/a&gt;, regression: fixes regression introduced by fd2d0c2004e858d4f30aad5cf64f19045005811c&lt;/p&gt;</comment>
                            <comment id="16955452" author="olegk" created="Sun, 20 Oct 2019 11:09:37 +0000"  >&lt;p&gt;Merged to master. &lt;/p&gt;

&lt;p&gt;Please re-open the ticket if the performance problem still persists.&lt;/p&gt;

&lt;p&gt;Oleg&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 3 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z07qw0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>