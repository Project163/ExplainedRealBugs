<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:24:52 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HTTPCORE-763] Behaviour of BasicHttpRequest wrt. path is inconsistent</title>
                <link>https://issues.apache.org/jira/browse/HTTPCORE-763</link>
                <project id="12310340" key="HTTPCORE">HttpComponents HttpCore</project>
                    <description>&lt;p&gt;The &lt;a href=&quot;https://github.com/apache/httpcomponents-core/blob/26b3bc6d6dc56587afdb12d84361009d55a5197f/httpcore5/src/main/java/org/apache/hc/core5/http/message/BasicHttpRequest.java#L210&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Setter for &lt;tt&gt;path&lt;/tt&gt; in &lt;tt&gt;BasicHttpRequest&lt;/tt&gt;&lt;/a&gt; checks whether the parameter &lt;tt&gt;path&lt;/tt&gt; starts with two slashes and - if so - throws an &lt;tt&gt;IllegalArgumentException&lt;/tt&gt; (through the call to &lt;a href=&quot;https://github.com/apache/httpcomponents-core/blob/26b3bc6d6dc56587afdb12d84361009d55a5197f/httpcore5/src/main/java/org/apache/hc/core5/util/Args.java#L39&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;&lt;tt&gt;Args.check(...)&lt;/tt&gt;&lt;/a&gt;. Similarly, method &lt;a href=&quot;https://github.com/apache/httpcomponents-core/blob/26b3bc6d6dc56587afdb12d84361009d55a5197f/httpcore5/src/main/java/org/apache/hc/core5/http/message/BasicHttpRequest.java#L264&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;&lt;tt&gt;setUri(...)&lt;/tt&gt;&lt;/a&gt; checks the raw path from tur &lt;tt&gt;URI&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;This leads to inconsistent behaviour. A constructor call like:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; BasicHttpRequest(&lt;span class=&quot;code-quote&quot;&gt;&quot;GET&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;http&quot;&lt;/span&gt;, URIAuthority.create(&lt;span class=&quot;code-quote&quot;&gt;&quot;google.com&quot;&lt;/span&gt;), &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-comment&quot;&gt;//search/asdf?q=foobar&quot;&lt;/span&gt;);&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;works fine, while a constructor call like:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; BasicHttpRequest(&lt;span class=&quot;code-quote&quot;&gt;&quot;GET&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;http&quot;&lt;/span&gt;, URIAuthority.create(&lt;span class=&quot;code-quote&quot;&gt;&quot;google.com&quot;&lt;/span&gt;), &lt;span class=&quot;code-quote&quot;&gt;&quot;doesNotMatter&quot;&lt;/span&gt;)
            .setPath(&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-comment&quot;&gt;//search/asdf?q=foobar&quot;&lt;/span&gt;);&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;or&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; BasicHttpRequest(&lt;span class=&quot;code-quote&quot;&gt;&quot;GET&quot;&lt;/span&gt;, URI.create(&lt;span class=&quot;code-quote&quot;&gt;&quot;https:&lt;span class=&quot;code-comment&quot;&gt;//www.google.com//search/asdf?q=foobar&quot;&lt;/span&gt;));&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;throws an &lt;tt&gt;IllegalArgumentException&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;The Class &lt;tt&gt;BasicHttpRequest&lt;/tt&gt; was extended in &lt;a href=&quot;https://github.com/apache/httpcomponents-core/commit/1614d5d5a5de6f4faadff9ecb566982d56b65179&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;commit &lt;tt&gt;1614d5d&lt;/tt&gt;&lt;/a&gt; and is present since.&lt;/p&gt;

&lt;p&gt;I think what should happen is that the path should only be checked for &lt;tt&gt;//&lt;/tt&gt; if the &lt;tt&gt;authority&lt;/tt&gt; is not set since &lt;a href=&quot;https://www.rfc-editor.org/rfc/rfc3986#section-3&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;RFC 3986 in section 3&lt;/a&gt; specifies:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
   The scheme and path components are required, though the path may be
   empty (no characters).  When authority is present, the path must
   either be empty or begin with a slash (&lt;span class=&quot;code-quote&quot;&gt;&quot;/&quot;&lt;/span&gt;) character.  When
   authority is not present, the path cannot begin with two slash
   characters (&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-comment&quot;&gt;//&quot;&lt;/span&gt;).&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13564743">HTTPCORE-763</key>
            <summary>Behaviour of BasicHttpRequest wrt. path is inconsistent</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="turing85">Marco Bungart</reporter>
                        <labels>
                    </labels>
                <created>Mon, 15 Jan 2024 14:43:28 +0000</created>
                <updated>Thu, 18 Jan 2024 17:29:24 +0000</updated>
                            <resolved>Mon, 15 Jan 2024 16:31:15 +0000</resolved>
                                    <version>5.1</version>
                    <version>5.2</version>
                    <version>5.3-alpha1</version>
                                    <fixVersion>5.3-alpha2</fixVersion>
                                    <component>HttpCore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="17806856" author="JIRAUSER285210" created="Mon, 15 Jan 2024 14:45:26 +0000"  >&lt;p&gt;The problem seems to be isolated, the fix seems very minor. If you give the go-ahead, then I can provide a PR.&lt;/p&gt;</comment>
                            <comment id="17806859" author="olegk" created="Mon, 15 Jan 2024 14:49:40 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=turing85&quot; class=&quot;user-hover&quot; rel=&quot;turing85&quot;&gt;turing85&lt;/a&gt; Feel free to propose a fix.&lt;/p&gt;

&lt;p&gt;Oleg&lt;/p&gt;</comment>
                            <comment id="17806870" author="olegk" created="Mon, 15 Jan 2024 15:12:30 +0000"  >&lt;p&gt;&amp;gt; If you give the go-ahead, then I can provide a PR.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=turing85&quot; class=&quot;user-hover&quot; rel=&quot;turing85&quot;&gt;turing85&lt;/a&gt; A PR at GitHub is &lt;em&gt;the&lt;/em&gt; way to go.&lt;/p&gt;

&lt;p&gt;Please also note that a valid HTTP request message (HTTP/1.1 and above) always requires an authority. The request path must never start with a double slash sequence.&lt;/p&gt;

&lt;p&gt;Oleg&lt;/p&gt;</comment>
                            <comment id="17806884" author="JIRAUSER285210" created="Mon, 15 Jan 2024 15:47:53 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=olegk&quot; class=&quot;user-hover&quot; rel=&quot;olegk&quot;&gt;olegk&lt;/a&gt;&lt;br/&gt;
Should we throw a &lt;tt&gt;new IllegalArgumentException(&quot;authority must be set&quot;);&lt;/tt&gt; in this case?&lt;/p&gt;</comment>
                            <comment id="17806885" author="olegk" created="Mon, 15 Jan 2024 15:58:19 +0000"  >&lt;p&gt;&amp;gt; Should we throw a &lt;tt&gt;new IllegalArgumentException(&quot;authority must be set&quot;);&lt;/tt&gt; in this case?&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=turing85&quot; class=&quot;user-hover&quot; rel=&quot;turing85&quot;&gt;turing85&lt;/a&gt; No, we should not. The authority may be set by the protocol handler depending on the execution pipeline. It may be null at the request construction time but will be checked and enforced at the execution time. See `RequestValidateHost` for reference. Theoretically the path check could also be executed there and trigger a `ProtocolException` at execution time.&lt;/p&gt;

&lt;p&gt;Oleg&lt;/p&gt;</comment>
                            <comment id="17806891" author="JIRAUSER285210" created="Mon, 15 Jan 2024 16:07:56 +0000"  >&lt;p&gt;okay &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17806893" author="JIRAUSER285210" created="Mon, 15 Jan 2024 16:14:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=olegk&quot; class=&quot;user-hover&quot; rel=&quot;olegk&quot;&gt;olegk&lt;/a&gt; PR: &lt;a href=&quot;https://github.com/apache/httpcomponents-core/pull/451&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/httpcomponents-core/pull/451&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17806897" author="jira-bot" created="Mon, 15 Jan 2024 16:30:41 +0000"  >&lt;p&gt;Commit c99f4a81677cd34b17c7e73eef47654acb8713d5 in httpcomponents-core&apos;s branch refs/heads/master from Marco Bungart&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=httpcomponents-core.git;h=c99f4a816&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=httpcomponents-core.git;h=c99f4a816&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCORE-763&quot; title=&quot;Behaviour of BasicHttpRequest wrt. path is inconsistent&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCORE-763&quot;&gt;&lt;del&gt;HTTPCORE-763&lt;/del&gt;&lt;/a&gt;: remove checks that assert a path does not start with &quot;//&quot;&lt;/p&gt;</comment>
                            <comment id="17806898" author="olegk" created="Mon, 15 Jan 2024 16:31:15 +0000"  >&lt;p&gt;Committed to master.&lt;/p&gt;

&lt;p&gt;Oleg&lt;/p&gt;</comment>
                            <comment id="17806900" author="JIRAUSER285210" created="Mon, 15 Jan 2024 16:32:18 +0000"  >&lt;p&gt;Thank you very much &#128077; &lt;/p&gt;</comment>
                            <comment id="17807080" author="JIRAUSER285210" created="Tue, 16 Jan 2024 07:38:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=olegk&quot; class=&quot;user-hover&quot; rel=&quot;olegk&quot;&gt;olegk&lt;/a&gt; is there a possibility to backport the fix to version &lt;tt&gt;5.2&lt;/tt&gt; (and then release with, e.g., version &lt;tt&gt;5.2.5&lt;/tt&gt;)?&lt;/p&gt;</comment>
                            <comment id="17807126" author="jira-bot" created="Tue, 16 Jan 2024 09:08:10 +0000"  >&lt;p&gt;Commit 266223192451e5d77a75329f6701701fc66fb709 in httpcomponents-core&apos;s branch refs/heads/5.2.x from Marco Bungart&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=httpcomponents-core.git;h=266223192&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=httpcomponents-core.git;h=266223192&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCORE-763&quot; title=&quot;Behaviour of BasicHttpRequest wrt. path is inconsistent&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCORE-763&quot;&gt;&lt;del&gt;HTTPCORE-763&lt;/del&gt;&lt;/a&gt;: remove checks that assert a path does not start with &quot;//&quot;&lt;/p&gt;</comment>
                            <comment id="17807129" author="olegk" created="Tue, 16 Jan 2024 09:09:42 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=turing85&quot; class=&quot;user-hover&quot; rel=&quot;turing85&quot;&gt;turing85&lt;/a&gt; I cherry-picked the change-set to 5.2.x but I cannot promise a release any time soon.&lt;/p&gt;

&lt;p&gt;Oleg&lt;/p&gt;</comment>
                            <comment id="17808320" author="JIRAUSER285210" created="Thu, 18 Jan 2024 17:29:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=olegk&quot; class=&quot;user-hover&quot; rel=&quot;olegk&quot;&gt;olegk&lt;/a&gt; okay &#128578; Thanks!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10430"><![CDATA[Patch]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12314421" key="com.atlassian.jira.plugin.system.customfieldtypes:labels">
                        <customfieldname>Language</customfieldname>
                        <customfieldvalues>
                                        <label>Java</label>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 42 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1mrc8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>