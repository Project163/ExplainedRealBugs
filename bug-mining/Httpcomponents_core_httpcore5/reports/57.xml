<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:24:30 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HTTPCORE-655] IdentityInputStream javadoc regarding close() does not match implementation</title>
                <link>https://issues.apache.org/jira/browse/HTTPCORE-655</link>
                <project id="12310340" key="HTTPCORE">HttpComponents HttpCore</project>
                    <description>&lt;p&gt;The &lt;a href=&quot;https://hc.apache.org/httpcomponents-core-ga/httpcore/apidocs/org/apache/http/impl/io/IdentityInputStream.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;documentation for &lt;tt&gt;IdentityInputStream&lt;/tt&gt;&lt;/a&gt; says:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Note that this class NEVER closes the underlying stream, even when close gets called. Instead, it will read until the end of the stream (until &lt;tt&gt;-1&lt;/tt&gt; is returned).&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Similarly the &lt;a href=&quot;https://hc.apache.org/httpcomponents-client-4.4.x/tutorial/html/fundamentals.html#d5e145&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;tutorials&lt;/a&gt; also say:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;closing the content stream&amp;#93;&lt;/span&gt; will attempt to keep the underlying connection alive by consuming the entity content&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;However, it appears that is not actually true. The &lt;a href=&quot;https://github.com/apache/httpcomponents-core/blob/master/httpcore5/src/main/java/org/apache/hc/core5/http/impl/io/IdentityInputStream.java#L78-L80&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;implementation&lt;/a&gt; does not try to read the remaining content.&lt;/p&gt;

&lt;p&gt;Note however, that changing this might break existing applications because it appears not many users are aware of this behavior (which can be seen by the number of reports about &lt;tt&gt;ChunkedInputStream.close()&lt;/tt&gt; blocking forever).&lt;/p&gt;</description>
                <environment></environment>
        <key id="13347195">HTTPCORE-655</key>
            <summary>IdentityInputStream javadoc regarding close() does not match implementation</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="Marcono1234">Marcono1234</reporter>
                        <labels>
                    </labels>
                <created>Mon, 21 Dec 2020 20:13:29 +0000</created>
                <updated>Fri, 2 Apr 2021 10:46:31 +0000</updated>
                            <resolved>Thu, 24 Dec 2020 16:27:57 +0000</resolved>
                                    <version>4.4.14</version>
                    <version>5.0.3</version>
                                    <fixVersion>5.1-beta3</fixVersion>
                    <fixVersion>5.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17253493" author="olegk" created="Tue, 22 Dec 2020 13:28:22 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Marcono1234&quot; class=&quot;user-hover&quot; rel=&quot;Marcono1234&quot;&gt;Marcono1234&lt;/a&gt; Please submit the changes you are proposing as a PR at GitHub.&lt;/p&gt;

&lt;p&gt;Oleg&lt;/p&gt;</comment>
                            <comment id="17253590" author="marcono1234" created="Tue, 22 Dec 2020 15:53:53 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=olegk&quot; class=&quot;user-hover&quot; rel=&quot;olegk&quot;&gt;olegk&lt;/a&gt;, I am not completely sure what the correct behavior is. Since you added this documentation section in commit &lt;a href=&quot;https://github.com/apache/httpcomponents-core/commit/b100d5acce997fd21301b56e4a4c49bb2c69d4e7#diff-bd47ebea894f07611c91cd9a425af3c77521362845e63a74342e4bb8fb6c7d83&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;&lt;tt&gt;b100d5acce997fd21301b56e4a4c49bb2c69d4e7&lt;/tt&gt;&lt;/a&gt;, could you please adjust it so it behaves as intended?&lt;/p&gt;</comment>
                            <comment id="17253597" author="olegk" created="Tue, 22 Dec 2020 16:11:58 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Marcono1234&quot; class=&quot;user-hover&quot; rel=&quot;Marcono1234&quot;&gt;Marcono1234&lt;/a&gt; The commit in question was made in year 2008 and I am not sure it bears any relevance to the current code base. The actual implementation obviously makes no attempts to read the remaining content as the connection is going to be terminated anyway.&lt;/p&gt;

&lt;p&gt;Oleg&lt;/p&gt;</comment>
                            <comment id="17254128" author="marcono1234" created="Wed, 23 Dec 2020 15:55:33 +0000"  >&lt;blockquote&gt;
&lt;p&gt;as the connection is gong to be terminated anyway&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Could you explain that a little bit please? I am not that familiar with the HTTP protocol, but I thought since HTTP 1.1 connections are by default always reused.&lt;br/&gt;
Would the correct solution then be to remove that part of the &lt;tt&gt;IdentityInputStream&lt;/tt&gt; documentation?&lt;/p&gt;</comment>
                            <comment id="17254155" author="olegk" created="Wed, 23 Dec 2020 17:17:51 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Marcono1234&quot; class=&quot;user-hover&quot; rel=&quot;Marcono1234&quot;&gt;Marcono1234&lt;/a&gt; Something along these lines:&lt;br/&gt;
```&lt;br/&gt;
Note that this class NEVER closes the underlying stream, even when close&lt;br/&gt;
gets called.  Instead, it will mark the underlying connection as no longer valid.&lt;br/&gt;
```&lt;/p&gt;</comment>
                            <comment id="17254587" author="jira-bot" created="Thu, 24 Dec 2020 16:18:44 +0000"  >&lt;p&gt;Commit ae3953384791eb7dcfd6dd98fd388881a2ee5abf in httpcomponents-core&apos;s branch refs/heads/master from Marcono1234&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=httpcomponents-core.git;h=ae39533&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=httpcomponents-core.git;h=ae39533&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCORE-655&quot; title=&quot;IdentityInputStream javadoc regarding close() does not match implementation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCORE-655&quot;&gt;&lt;del&gt;HTTPCORE-655&lt;/del&gt;&lt;/a&gt;: Improve HTTP input and output streams&apos; documentation regarding close() (#240)&lt;/p&gt;
</comment>
                            <comment id="17254591" author="jira-bot" created="Thu, 24 Dec 2020 16:26:01 +0000"  >&lt;p&gt;Commit 21143d48fb17a3efb44198c0b08c3947ed7718ef in httpcomponents-core&apos;s branch refs/heads/5.0.x from Marcono1234&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=httpcomponents-core.git;h=21143d4&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=httpcomponents-core.git;h=21143d4&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCORE-655&quot; title=&quot;IdentityInputStream javadoc regarding close() does not match implementation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCORE-655&quot;&gt;&lt;del&gt;HTTPCORE-655&lt;/del&gt;&lt;/a&gt;: Improve HTTP input and output streams&apos; documentation regarding close() (#240)&lt;/p&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 46 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0lpr4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>