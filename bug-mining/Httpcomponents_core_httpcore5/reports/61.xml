<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:24:32 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HTTPCORE-672] Inactive connection validation hangs on HTTP/2 connections after server sends GOAWAY</title>
                <link>https://issues.apache.org/jira/browse/HTTPCORE-672</link>
                <project id="12310340" key="HTTPCORE">HttpComponents HttpCore</project>
                    <description>&lt;p&gt;I&apos;ve discovered that HTTP/2 inactive connection validation hangs forever if a GOAWAY frame has previously been received on that connection. I&apos;ve captured DEBUG logs showing the effect of validating such a connection.&lt;/p&gt;

&lt;p&gt;Without inactive connection validation:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;01 Apr 2021 11:17:32,251 [DEBUG] (coral-client-orchestrator-19) org.apache.hc.client5.http.impl.async.InternalAbstractHttpAsyncClient: ex-00000002: preparing request execution
01 Apr 2021 11:17:32,252 [DEBUG] (coral-client-orchestrator-19) org.apache.hc.client5.http.impl.async.AsyncProtocolExec: ex-00000002: target auth state: UNCHALLENGED
01 Apr 2021 11:17:32,252 [DEBUG] (coral-client-orchestrator-19) org.apache.hc.client5.http.impl.async.AsyncProtocolExec: ex-00000002: proxy auth state: UNCHALLENGED
01 Apr 2021 11:17:32,252 [DEBUG] (coral-client-orchestrator-19) org.apache.hc.client5.http.impl.async.AsyncConnectExec: ex-00000002: acquiring connection with route {}-&amp;gt;http://localhost:8000
01 Apr 2021 11:17:32,252 [DEBUG] (coral-client-orchestrator-19) org.apache.hc.client5.http.impl.async.InternalHttpAsyncClient: ex-00000002: acquiring endpoint (2500 MILLISECONDS)
01 Apr 2021 11:17:32,252 [DEBUG] (coral-client-orchestrator-19) org.apache.hc.client5.http.impl.nio.PoolingAsyncClientConnectionManager: ex-00000002: endpoint lease request (2500 MILLISECONDS) [route: {}-&amp;gt;http://localhost:8000][total available: 1; route allocated: 1 of 2147483647; total allocated: 1 of 2147483647]
01 Apr 2021 11:17:32,252 [DEBUG] (coral-client-orchestrator-19) org.apache.hc.client5.http.impl.nio.PoolingAsyncClientConnectionManager: ex-00000002: endpoint leased [route: {}-&amp;gt;http://localhost:8000][total available: 0; route allocated: 1 of 2147483647; total allocated: 1 of 2147483647]
01 Apr 2021 11:17:32,253 [DEBUG] (coral-client-orchestrator-19) org.apache.hc.client5.http.impl.nio.PoolingAsyncClientConnectionManager: ex-00000002: acquired ep-00000001
01 Apr 2021 11:17:32,253 [DEBUG] (coral-client-orchestrator-19) org.apache.hc.client5.http.impl.nio.DefaultManagedAsyncClientConnection: c-00000000: Shutdown connection IMMEDIATE
01 Apr 2021 11:17:32,253 [DEBUG] (coral-client-orchestrator-19) org.apache.hc.client5.http.impl.async.InternalHttpAsyncClient: ex-00000002: acquired endpoint ep-00000001
01 Apr 2021 11:17:32,253 [DEBUG] (coral-client-orchestrator-19) org.apache.hc.client5.http.impl.async.InternalHttpAsyncClient: ep-00000001: connecting endpoint (2500 MILLISECONDS)
01 Apr 2021 11:17:32,253 [DEBUG] (coral-client-orchestrator-19) org.apache.hc.client5.http.impl.nio.PoolingAsyncClientConnectionManager: ep-00000001: connecting endpoint to http://localhost:8000 (2500 MILLISECONDS)
01 Apr 2021 11:17:32,253 [DEBUG] (coral-client-orchestrator-19) org.apache.hc.client5.http.impl.nio.MultihomeIOSessionRequester: http://localhost:8000: resolving remote address
01 Apr 2021 11:17:32,253 [DEBUG] (coral-client-orchestrator-19) org.apache.hc.client5.http.impl.nio.MultihomeIOSessionRequester: http://localhost:8000: resolved to [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1]
01 Apr 2021 11:17:32,253 [DEBUG] (coral-client-orchestrator-19) org.apache.hc.client5.http.impl.nio.MultihomeIOSessionRequester: http://localhost:8000: connecting null to localhost/127.0.0.1:8000 (2500 MILLISECONDS)
01 Apr 2021 11:17:32,254 [DEBUG] (httpclient-dispatch-2) org.apache.hc.client5.http.impl.nio.MultihomeIOSessionRequester: http://localhost:8000: connected c-00000001 /127.0.0.1:50735-&amp;gt;localhost/127.0.0.1:8000
01 Apr 2021 11:17:32,254 [DEBUG] (httpclient-dispatch-2) org.apache.hc.client5.http.impl.nio.PoolingAsyncClientConnectionManager: ep-00000001: connected c-00000001
01 Apr 2021 11:17:32,254 [DEBUG] (httpclient-dispatch-2) org.apache.hc.client5.http.impl.async.InternalHttpAsyncClient: ep-00000001: endpoint connected
01 Apr 2021 11:17:32,254 [DEBUG] (httpclient-dispatch-2) org.apache.hc.client5.http.impl.async.AsyncConnectExec: ex-00000002: connected to target
01 Apr 2021 11:17:32,254 [DEBUG] (httpclient-dispatch-2) org.apache.hc.client5.http.impl.async.AsyncConnectExec: ex-00000002: route fully established&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;With inactive connection validation:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;01 Apr 2021 11:00:19,656 [DEBUG] (coral-client-orchestrator-19) org.apache.hc.client5.http.impl.async.InternalAbstractHttpAsyncClient: ex-00000002: preparing request execution
01 Apr 2021 11:00:19,657 [DEBUG] (coral-client-orchestrator-19) org.apache.hc.client5.http.impl.async.AsyncProtocolExec: ex-00000002: target auth state: UNCHALLENGED
01 Apr 2021 11:00:19,657 [DEBUG] (coral-client-orchestrator-19) org.apache.hc.client5.http.impl.async.AsyncProtocolExec: ex-00000002: proxy auth state: UNCHALLENGED
01 Apr 2021 11:00:19,657 [DEBUG] (coral-client-orchestrator-19) org.apache.hc.client5.http.impl.async.AsyncConnectExec: ex-00000002: acquiring connection with route {}-&amp;gt;http://localhost:8000
01 Apr 2021 11:00:19,657 [DEBUG] (coral-client-orchestrator-19) org.apache.hc.client5.http.impl.async.InternalHttpAsyncClient: ex-00000002: acquiring endpoint (2500 MILLISECONDS)
01 Apr 2021 11:00:19,657 [DEBUG] (coral-client-orchestrator-19) org.apache.hc.client5.http.impl.nio.PoolingAsyncClientConnectionManager: ex-00000002: endpoint lease request (2500 MILLISECONDS) [route: {}-&amp;gt;http://localhost:8000][total available: 1; route allocated: 1 of 2147483647; total allocated: 1 of 2147483647]
01 Apr 2021 11:00:19,658 [DEBUG] (coral-client-orchestrator-19) org.apache.hc.client5.http.impl.nio.DefaultManagedAsyncClientConnection: c-00000000: PingCommand with IMMEDIATE priority
[ nothing happens ]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13369216">HTTPCORE-672</key>
            <summary>Inactive connection validation hangs on HTTP/2 connections after server sends GOAWAY</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rschmitt">Ryan Schmitt</reporter>
                        <labels>
                    </labels>
                <created>Thu, 1 Apr 2021 23:30:38 +0000</created>
                <updated>Fri, 2 Apr 2021 18:30:05 +0000</updated>
                            <resolved>Fri, 2 Apr 2021 18:30:05 +0000</resolved>
                                    <version>5.0.3</version>
                    <version>5.1</version>
                                    <fixVersion>5.1.1</fixVersion>
                    <fixVersion>5.2-alpha1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="17313797" author="olegk" created="Fri, 2 Apr 2021 10:57:01 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rschmitt&quot; class=&quot;user-hover&quot; rel=&quot;rschmitt&quot;&gt;rschmitt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;It looks like the `#validateSession` method in H2ConnPool is the culprit. Please review.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/httpcomponents-core/pull/278&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/httpcomponents-core/pull/278&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Oleg&lt;/p&gt;</comment>
                            <comment id="17314009" author="jira-bot" created="Fri, 2 Apr 2021 18:07:56 +0000"  >&lt;p&gt;Commit b4e29c715344ed09af4725cfbf4e36879258f022 in httpcomponents-core&apos;s branch refs/heads/master from Oleg Kalnichevski&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=httpcomponents-core.git;h=b4e29c7&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=httpcomponents-core.git;h=b4e29c7&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCORE-672&quot; title=&quot;Inactive connection validation hangs on HTTP/2 connections after server sends GOAWAY&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCORE-672&quot;&gt;&lt;del&gt;HTTPCORE-672&lt;/del&gt;&lt;/a&gt;: H2ConnPool incorrectly handles validation of closed sessions&lt;/p&gt;</comment>
                            <comment id="17314018" author="jira-bot" created="Fri, 2 Apr 2021 18:26:02 +0000"  >&lt;p&gt;Commit c27944b72447e3f59cdf780f6337ddadc6ed0dcc in httpcomponents-core&apos;s branch refs/heads/5.0.x from Oleg Kalnichevski&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=httpcomponents-core.git;h=c27944b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=httpcomponents-core.git;h=c27944b&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCORE-672&quot; title=&quot;Inactive connection validation hangs on HTTP/2 connections after server sends GOAWAY&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCORE-672&quot;&gt;&lt;del&gt;HTTPCORE-672&lt;/del&gt;&lt;/a&gt;: H2ConnPool incorrectly handles validation of closed sessions&lt;/p&gt;</comment>
                            <comment id="17314020" author="jira-bot" created="Fri, 2 Apr 2021 18:29:52 +0000"  >&lt;p&gt;Commit 50c7acf53d70d71057debcf062ae00a93cb533cb in httpcomponents-core&apos;s branch refs/heads/5.1.x from Oleg Kalnichevski&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=httpcomponents-core.git;h=50c7acf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=httpcomponents-core.git;h=50c7acf&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCORE-672&quot; title=&quot;Inactive connection validation hangs on HTTP/2 connections after server sends GOAWAY&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCORE-672&quot;&gt;&lt;del&gt;HTTPCORE-672&lt;/del&gt;&lt;/a&gt;: H2ConnPool incorrectly handles validation of closed sessions&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 32 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0pgy0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>