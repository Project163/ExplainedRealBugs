<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:23:55 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HTTPCORE-488] SingleCoreIOReactor.connect methods timeout parameter do not have effect.</title>
                <link>https://issues.apache.org/jira/browse/HTTPCORE-488</link>
                <project id="12310340" key="HTTPCORE">HttpComponents HttpCore</project>
                    <description>&lt;p&gt;In my opinion , timeout parameter in connect method means connectTimeout.&lt;br/&gt;
In InternalConnectChannel.onIOEvent ,if (readyOps &amp;amp; SelectionKey.OP_CONNECT) != 0 then the socketChannel will connect to the server.However , at this time,&lt;br/&gt;
Perhaps It is connection time out already.&lt;br/&gt;
So i suggest check connecttimeout at InternalConnectChannel.onIOEvent methods &lt;br/&gt;
When there is SelectionKey.OP_CONNECT event happend&lt;/p&gt;</description>
                <environment></environment>
        <key id="13099749">HTTPCORE-488</key>
            <summary>SingleCoreIOReactor.connect methods timeout parameter do not have effect.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="silver9886">silver9886</reporter>
                        <labels>
                    </labels>
                <created>Tue, 5 Sep 2017 07:57:31 +0000</created>
                <updated>Wed, 6 Sep 2017 14:38:11 +0000</updated>
                            <resolved>Wed, 6 Sep 2017 13:01:08 +0000</resolved>
                                    <version>5.0-alpha4</version>
                                    <fixVersion>5.0-beta1</fixVersion>
                                    <component>HttpCore NIO</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="16153289" author="olegk" created="Tue, 5 Sep 2017 08:50:52 +0000"  >&lt;p&gt;I am not sure I understand. Please raise a PR with proposed changes.&lt;/p&gt;

&lt;p&gt;Oleg&lt;/p&gt;</comment>
                            <comment id="16154927" author="githubbot" created="Wed, 6 Sep 2017 07:25:19 +0000"  >&lt;p&gt;GitHub user xiaohu-zhang opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/httpcomponents-core/pull/51&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/httpcomponents-core/pull/51&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Check connecttimeout when SelectionKey.OP_CONNECT event happend&lt;/p&gt;

&lt;p&gt;    related to &lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCORE-488&quot; title=&quot;SingleCoreIOReactor.connect methods timeout parameter do not have effect.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCORE-488&quot;&gt;&lt;del&gt;HTTPCORE-488&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
    InternalConnectChannel onTimeout should also invoke close method&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/xiaohu-zhang/httpcomponents-core&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/xiaohu-zhang/httpcomponents-core&lt;/a&gt; checkconnecttimeout&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/httpcomponents-core/pull/51.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/httpcomponents-core/pull/51.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #51&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 4d7a18420cd66dd17387b845b324b241281d7fcc&lt;br/&gt;
Author: xiaohu-zhang &amp;lt;silver9886@126.com&amp;gt;&lt;br/&gt;
Date:   2017-08-29T14:11:24Z&lt;/p&gt;

&lt;p&gt;    setting time limit on processPending methods&lt;/p&gt;

&lt;p&gt;    setting time limit to avoid the SingleCoreIOReactor&apos;s time be exhausted&lt;br/&gt;
    and then  block the remaining work to do.&lt;/p&gt;

&lt;p&gt;commit b6043b3aa94c65b23bb39804342a7826dc236eae&lt;br/&gt;
Author: xiaohu-zhang &amp;lt;silver9886@126.com&amp;gt;&lt;br/&gt;
Date:   2017-08-30T03:27:04Z&lt;/p&gt;

&lt;p&gt;    Merge branch &apos;master&apos; of &lt;a href=&quot;https://github.com/apache/httpcomponents-core/commits/master&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/httpcomponents-core/commits/master&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;commit 6349d9223c01b9533d38a19e3100b7d1c81f5bae&lt;br/&gt;
Author: xiaohu-zhang &amp;lt;silver9886@126.com&amp;gt;&lt;br/&gt;
Date:   2017-09-04T10:49:58Z&lt;/p&gt;

&lt;p&gt;    commit for merge from remove trank&lt;/p&gt;

&lt;p&gt;commit d55b119b7fb9dffa7b74020a704265947eed1abb&lt;br/&gt;
Author: xiaohu-zhang &amp;lt;silver9886@126.com&amp;gt;&lt;br/&gt;
Date:   2017-09-04T11:10:24Z&lt;/p&gt;

&lt;p&gt;    Merge branch &apos;master&apos; of &lt;a href=&quot;https://github.com/apache/httpcomponents-core&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/httpcomponents-core&lt;/a&gt; into checkconnecttimeout&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;Conflicts:&lt;/li&gt;
	&lt;li&gt;httpcore5/src/main/java/org/apache/hc/core5/reactor/SingleCoreIOReactor.java&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;commit 1f81fa7809f0f7c2af7cb1eee60447c3dc2534f0&lt;br/&gt;
Author: xiaohu-zhang &amp;lt;silver9886@126.com&amp;gt;&lt;br/&gt;
Date:   2017-09-04T11:21:26Z&lt;/p&gt;

&lt;p&gt;    test commit&lt;/p&gt;

&lt;p&gt;commit 5f0d50af647d478ac19da8790f23c5e4135cf5a3&lt;br/&gt;
Author: xiaohu-zhang &amp;lt;silver9886@126.com&amp;gt;&lt;br/&gt;
Date:   2017-09-04T11:24:43Z&lt;/p&gt;

&lt;p&gt;    Revert &quot;test commit&quot;&lt;/p&gt;

&lt;p&gt;    This reverts commit 1f81fa7809f0f7c2af7cb1eee60447c3dc2534f0.&lt;/p&gt;

&lt;p&gt;commit c70f59c84eb5378f4d203d8c5b9cc9d301d2e86c&lt;br/&gt;
Author: xiaohu-zhang &amp;lt;silver9886@126.com&amp;gt;&lt;br/&gt;
Date:   2017-09-04T11:28:10Z&lt;/p&gt;

&lt;p&gt;    Revert &quot;Revert &quot;test commit&quot;&quot;&lt;/p&gt;

&lt;p&gt;    This reverts commit 5f0d50af647d478ac19da8790f23c5e4135cf5a3.&lt;/p&gt;

&lt;p&gt;commit 4c38f0560dd5f80a16816c5d8d32b89439ecec24&lt;br/&gt;
Author: xiaohu-zhang &amp;lt;silver9886@126.com&amp;gt;&lt;br/&gt;
Date:   2017-09-04T11:29:26Z&lt;/p&gt;

&lt;p&gt;    test&lt;/p&gt;

&lt;p&gt;commit 6c564282d0e77878af06729747873dbb0e373fff&lt;br/&gt;
Author: xiaohu-zhang &amp;lt;silver9886@126.com&amp;gt;&lt;br/&gt;
Date:   2017-09-06T03:08:07Z&lt;/p&gt;

&lt;p&gt;    deal with connect time out&lt;br/&gt;
    add unit test&lt;/p&gt;

&lt;p&gt;commit b0e26899cb39b5927b2ca5983aea4dcceeb29ce5&lt;br/&gt;
Author: xiaohu-zhang &amp;lt;silver9886@126.com&amp;gt;&lt;br/&gt;
Date:   2017-09-06T04:34:28Z&lt;/p&gt;

&lt;p&gt;    modify with checkstyle&lt;/p&gt;

&lt;p&gt;commit 3002e710b2f83b0c7f606dfb4c95ef9203fa6d9b&lt;br/&gt;
Author: xiaohu-zhang &amp;lt;silver9886@126.com&amp;gt;&lt;br/&gt;
Date:   2017-09-06T07:12:40Z&lt;/p&gt;

&lt;p&gt;    add unrun unit test&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16155294" author="jira-bot" created="Wed, 6 Sep 2017 12:52:53 +0000"  >&lt;p&gt;Commit 6e22c52f689597741503ce2a85881b249f4728f4 in httpcomponents-core&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=silver9886&quot; class=&quot;user-hover&quot; rel=&quot;silver9886&quot;&gt;silver9886&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=httpcomponents-core.git;h=6e22c52&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=httpcomponents-core.git;h=6e22c52&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCORE-488&quot; title=&quot;SingleCoreIOReactor.connect methods timeout parameter do not have effect.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCORE-488&quot;&gt;&lt;del&gt;HTTPCORE-488&lt;/del&gt;&lt;/a&gt;: SingleCoreIOReactor#connect timeout parameter has no effect&lt;/p&gt;</comment>
                            <comment id="16155297" author="olegk" created="Wed, 6 Sep 2017 13:01:08 +0000"  >&lt;p&gt;Committed to master with changes. I also decided to not commit test cases due to their dependency on external hosts / availability of local ports and the fact that they were not really testing the fix in question.&lt;/p&gt;

&lt;p&gt;Please review and close.&lt;/p&gt;

&lt;p&gt;Oleg &lt;/p&gt;</comment>
                            <comment id="16155385" author="silver9886" created="Wed, 6 Sep 2017 14:00:45 +0000"  >&lt;p&gt;I think we have to discuss about it. In the pr,&lt;br/&gt;
SingleCoreIOReactor.java&lt;br/&gt;
channel.setLastEventTime(System.currentTimeMillis());&lt;br/&gt;
is very useful.&lt;br/&gt;
In the truck code,lastEventTime change in handleIOEvent method ,that is the time accept the SelectionKey.OP_CONNECT event.but it should be set right after&lt;br/&gt;
socketChannel.connect(sessionRequest.remoteAddress);then the checkTimeout(now) in the InternalConnectChannel&lt;br/&gt;
will calculate the time duration between connect and OP_CONNECT event,and chck if it is connect timeout.&lt;/p&gt;</comment>
                            <comment id="16155400" author="olegk" created="Wed, 6 Sep 2017 14:07:17 +0000"  >&lt;p&gt;The &lt;tt&gt;lastEventTime&lt;/tt&gt; is set in the &lt;tt&gt;InternalConnectChannel&lt;/tt&gt; constructor pretty much immediately after &lt;tt&gt;socketChannel.connect&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;Oleg&lt;/p&gt;</comment>
                            <comment id="16155424" author="silver9886" created="Wed, 6 Sep 2017 14:21:22 +0000"  >&lt;p&gt;you are right ! your change is execlent&#65292;I ignore the super constructor . The commit is perfect.&lt;/p&gt;</comment>
                            <comment id="16155447" author="olegk" created="Wed, 6 Sep 2017 14:36:31 +0000"  >&lt;p&gt;Cool. Please close the PR at Github if you are happy with the change-set.&lt;/p&gt;

&lt;p&gt;Oleg&lt;/p&gt;</comment>
                            <comment id="16155450" author="githubbot" created="Wed, 6 Sep 2017 14:38:11 +0000"  >&lt;p&gt;Github user xiaohu-zhang closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/httpcomponents-core/pull/51&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/httpcomponents-core/pull/51&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 10 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3jn3b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>