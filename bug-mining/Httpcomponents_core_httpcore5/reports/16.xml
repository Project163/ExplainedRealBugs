<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:23:54 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HTTPCORE-472] incorrect &quot;Maximum line length limit exceeded&quot; detection is possible</title>
                <link>https://issues.apache.org/jira/browse/HTTPCORE-472</link>
                <project id="12310340" key="HTTPCORE">HttpComponents HttpCore</project>
                    <description>&lt;p&gt;the error is in org.apache.http.impl.io.SessionInputBufferImpl#readLine(org.apache.http.util.CharArrayBuffer)&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (maxLineLen &amp;gt; 0) {
                &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; currentLen = &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.linebuffer.length()
                        + (pos &amp;gt; 0 ? pos : &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.bufferlen) - &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.bufferpos;
                &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (currentLen &amp;gt;= maxLineLen) {
                    &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; MessageConstraintException(&lt;span class=&quot;code-quote&quot;&gt;&quot;Maximum line length limit exceeded&quot;&lt;/span&gt;);
                }
            }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;If LF chanced to be at the beginning of the buffer, &lt;tt&gt;currentLen&lt;/tt&gt; is calculated incorrectly. It should be &lt;tt&gt;this.linebuffer.length() + pos - this.bufferpos&lt;/tt&gt;, so, effectively &lt;tt&gt;this.linebuffer.length() + 0 - 0&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;E.g. if maxLineLen=10000, buffer.length=8192 (the default setting), a line is 9000, then it doesn&apos;t fit the buffer, thus it&apos;s 1st part is read into &lt;tt&gt;linebuffer&lt;/tt&gt;, 2nd part is read into &lt;tt&gt;buffer&lt;/tt&gt;. If the 9000 line&apos;s terminating LF chances to be the 1st char of that buffer, and after that line it follows more header data, say, exceeding 8192 bytes - then the code calculates &lt;tt&gt;currentLen = linebuffer.length() + bufferlen - bufferpos = 9000+ 8192 - 0&lt;/tt&gt; &amp;gt; 10000, while actual line length is just 9000.&lt;/p&gt;

&lt;p&gt;I think the fix is to replace &lt;tt&gt;(pos &amp;gt; 0 ? pos : this.bufferlen)&lt;/tt&gt; to &lt;tt&gt;(pos &amp;gt; -1 ? pos : this.bufferlen)&lt;/tt&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13079872">HTTPCORE-472</key>
            <summary>incorrect &quot;Maximum line length limit exceeded&quot; detection is possible</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="olegk">Oleg Kalnichevski</assignee>
                                    <reporter username="anakonechny">Artem Nakonechnyy</reporter>
                        <labels>
                    </labels>
                <created>Wed, 14 Jun 2017 20:45:16 +0000</created>
                <updated>Fri, 16 Jun 2017 09:12:53 +0000</updated>
                            <resolved>Thu, 15 Jun 2017 13:26:06 +0000</resolved>
                                    <version>4.4.6</version>
                                    <fixVersion>4.4.7</fixVersion>
                    <fixVersion>5.0-alpha4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16050360" author="jira-bot" created="Thu, 15 Jun 2017 11:32:53 +0000"  >&lt;p&gt;Commit 721b50f56f5d3f4914f057ec79883d9a372ef076 in httpcomponents-core&apos;s branch refs/heads/4.4.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=olegk&quot; class=&quot;user-hover&quot; rel=&quot;olegk&quot;&gt;olegk&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=httpcomponents-core.git;h=721b50f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=httpcomponents-core.git;h=721b50f&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCORE-472&quot; title=&quot;incorrect &amp;quot;Maximum line length limit exceeded&amp;quot; detection is possible&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCORE-472&quot;&gt;&lt;del&gt;HTTPCORE-472&lt;/del&gt;&lt;/a&gt;: Fixed problem with blocking message parsers incorrectly throwing &quot;Maximum line length limit exceeded&quot; exception in some corner cases&lt;/p&gt;</comment>
                            <comment id="16050361" author="jira-bot" created="Thu, 15 Jun 2017 11:33:53 +0000"  >&lt;p&gt;Commit 0877c288253c1e431eb2b59107d8a037d07a6d80 in httpcomponents-core&apos;s branch refs/heads/4.4.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=olegk&quot; class=&quot;user-hover&quot; rel=&quot;olegk&quot;&gt;olegk&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=httpcomponents-core.git;h=0877c28&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=httpcomponents-core.git;h=0877c28&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCORE-472&quot; title=&quot;incorrect &amp;quot;Maximum line length limit exceeded&amp;quot; detection is possible&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCORE-472&quot;&gt;&lt;del&gt;HTTPCORE-472&lt;/del&gt;&lt;/a&gt;: Fixed problem with blocking message parsers incorrectly throwing &quot;Maximum line length limit exceeded&quot; exception in some corner cases&lt;/p&gt;</comment>
                            <comment id="16050475" author="jira-bot" created="Thu, 15 Jun 2017 13:25:07 +0000"  >&lt;p&gt;Commit 09d65b9b3e4aefe9c36b1a5ee6b8d6944e411302 in httpcomponents-core&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=olegk&quot; class=&quot;user-hover&quot; rel=&quot;olegk&quot;&gt;olegk&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=httpcomponents-core.git;h=09d65b9&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=httpcomponents-core.git;h=09d65b9&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCORE-472&quot; title=&quot;incorrect &amp;quot;Maximum line length limit exceeded&amp;quot; detection is possible&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCORE-472&quot;&gt;&lt;del&gt;HTTPCORE-472&lt;/del&gt;&lt;/a&gt;: Fixed problem with blocking message parsers incorrectly throwing &quot;Maximum line length limit exceeded&quot; exception in some corner cases&lt;/p&gt;</comment>
                            <comment id="16050477" author="olegk" created="Thu, 15 Jun 2017 13:26:06 +0000"  >&lt;p&gt;Fixed in master and 4.4.x branch. Please review and close.&lt;/p&gt;

&lt;p&gt;Oleg&lt;/p&gt;</comment>
                            <comment id="16050507" author="anakonechny" created="Thu, 15 Jun 2017 13:46:52 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=olegk&quot; class=&quot;user-hover&quot; rel=&quot;olegk&quot;&gt;olegk&lt;/a&gt; thanks, looks good to me, not sure your message was towards me, I should close?&lt;/p&gt;</comment>
                            <comment id="16051624" author="olegk" created="Fri, 16 Jun 2017 08:57:56 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anakonechny&quot; class=&quot;user-hover&quot; rel=&quot;anakonechny&quot;&gt;anakonechny&lt;/a&gt; If you are satisfied with the resolution you might want to close the issue.&lt;/p&gt;

&lt;p&gt;Oleg&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 22 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3ga4v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>