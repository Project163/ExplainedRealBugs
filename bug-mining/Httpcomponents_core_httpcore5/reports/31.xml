<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:24:05 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HTTPCORE-578] Incorrect serialization of HeaderGroup</title>
                <link>https://issues.apache.org/jira/browse/HTTPCORE-578</link>
                <project id="12310340" key="HTTPCORE">HttpComponents HttpCore</project>
                    <description>&lt;p&gt;While updating from HttpClient 4.4.1 to 4.5.8 we immediately faced an issue where the following NPE was thrown.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Caused by: java.lang.NullPointerException 
at org.apache.http.impl.client.cache.CacheValidityPolicy.getAgeValue(CacheValidityPolicy.java:236) 
at org.apache.http.impl.client.cache.CacheValidityPolicy.getCorrectedReceivedAgeSecs(CacheValidityPolicy.java:253) 
at org.apache.http.impl.client.cache.CacheValidityPolicy.getCorrectedInitialAgeSecs(CacheValidityPolicy.java:263) 
at org.apache.http.impl.client.cache.CacheValidityPolicy.getCurrentAgeSecs(CacheValidityPolicy.java:54) 
at org.apache.http.impl.client.cache.CacheValidityPolicy.isResponseFresh(CacheValidityPolicy.java:77) 
at org.apache.http.impl.client.cache.CachedResponseSuitabilityChecker.isFreshEnough(CachedResponseSuitabilityChecker.java:76) 
at org.apache.http.impl.client.cache.CachedResponseSuitabilityChecker.canCachedResponseBeUsed(CachedResponseSuitabilityChecker.java:147) 
at org.apache.http.impl.client.cache.CachingExec.handleCacheHit(CachingExec.java:291) 
at org.apache.http.impl.client.cache.CachingExec.execute(CachingExec.java:277) 
at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) 
at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) 
at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) 
at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) 
at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) 
at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:108)&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Determining the cause wasn&apos;t that obvious, at least not to me. Therefore I thought it would be a good idea to file an issue for documentation purpose. Maybe someone also has a good idea how to address it.&lt;/p&gt;

&lt;p&gt;We use the HttpClient in conjunction with the HttpClient Caching module and configured it to use the Memcached storage (MemcachedHttpCacheStorage). Our memcached infrastructure systems are running all the time, also while we are updating our applications using it. The memcached store serialized representations of HttpCacheEntry. An HttpCacheEntry consists of a HeaderGroup instance (from HttpCore).&lt;/p&gt;

&lt;p&gt;It looks like this class received a change (between HttpCore 4.4.1 and 4.4.2) which changed the serialization, although its serialVersionUID wasn&apos;t changed:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/httpcomponents-core/commit/040af07704592c8acb98a5a47cbf6b90c17fe0e0#diff-5a11091c948c5a8abd9bcc6bb4f7bc0f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/httpcomponents-core/commit/040af07704592c8acb98a5a47cbf6b90c17fe0e0#diff-5a11091c948c5a8abd9bcc6bb4f7bc0f&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;effectively resulting in an NPE while accessing its new final member EMPTY (which is NULL after deserializing an object created with HttpClient 4.4.1 with a newer version).&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Header[] EMPTY = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Header[] {};&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I have not yet had a chance to check what would have happened, if the serialVersionUID were changed, but I expect the MemcachedHttpCacheStorage to create some sort of SerializationException which may have handled even before in a much more graceful manner. I will test this once I find the time.&lt;/p&gt;

&lt;p&gt;For now we had to do a quick fallback to the old HttpClient version. Next I need to look for a good solution as during rolling software upgrades we will always have a time, were both HttpClient versions are in parallel usage and the response caching seems to be essential (so simply turning off the cache usage during the upgrade, flushing the cache and turning it on once all servers are up with the new HttpClient version also does not seem to be a great option).&lt;/p&gt;

&lt;p&gt;I&apos;m looking forward for any ideas. Please also feel free to adjust/move this ticket accordingly! It turned out not to be a bug in HttpClient Cache itself, but I thought this would be a more logical place than HttpCore as it likely only affects certain Cache usage scenarios.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13234158">HTTPCORE-578</key>
            <summary>Incorrect serialization of HeaderGroup</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ehubert">Eric Hubert</reporter>
                        <labels>
                    </labels>
                <created>Sun, 19 May 2019 08:35:43 +0000</created>
                <updated>Tue, 7 Jan 2020 03:53:46 +0000</updated>
                            <resolved>Mon, 20 May 2019 14:07:40 +0000</resolved>
                                    <version>4.4.11</version>
                    <version>5.0-beta7</version>
                                    <fixVersion>4.4.12</fixVersion>
                    <fixVersion>5.0-beta8</fixVersion>
                                    <component>HttpCore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="16843398" author="olegk" created="Sun, 19 May 2019 11:23:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ehubert&quot; class=&quot;user-hover&quot; rel=&quot;ehubert&quot;&gt;ehubert&lt;/a&gt; The caching module&#160;has been&#160;lacking people willing to maintain&#160;it for quite some time.&lt;/p&gt;

&lt;p&gt;If you cannot afford flushing the existing cache please consider creating a custom &lt;tt&gt;HttpCacheEntrySerializer&lt;/tt&gt; that does not rely on Java serialization. Please also consider contributing it back to the project.&lt;/p&gt;

&lt;p&gt;Oleg&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16843416" author="garydgregory" created="Sun, 19 May 2019 12:52:14 +0000"  >&lt;p&gt;Should we null-guard this method?&lt;/p&gt;</comment>
                            <comment id="16843420" author="olegk" created="Sun, 19 May 2019 13:09:30 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=garydgregory&quot; class=&quot;user-hover&quot; rel=&quot;garydgregory&quot;&gt;garydgregory&lt;/a&gt; It is a mystery to me how &lt;tt&gt;HttpCacheEntry&lt;/tt&gt; entry might end up being null at that point. It should not be. So, null check at that point in that method makes little sense as far as I am concerned, but leave it up to one who picks up this issue.&lt;/p&gt;

&lt;p&gt;Oleg&lt;/p&gt;</comment>
                            <comment id="16843423" author="ehubert" created="Sun, 19 May 2019 13:25:08 +0000"  >&lt;p&gt;Thanks for your answer &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=olegk&quot; class=&quot;user-hover&quot; rel=&quot;olegk&quot;&gt;olegk&lt;/a&gt;. I also thought into this direction, but it looks like the&#160;&lt;tt&gt;HttpCacheEntrySerializer&lt;/tt&gt; may not be used here for this cache storage implementation. I think I would have to follow the hints given in the class java doc of &lt;tt&gt;MemcachedHttpCacheStorage&lt;/tt&gt; given by the original author &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cimjmoore&quot; class=&quot;user-hover&quot; rel=&quot;cimjmoore&quot;&gt;cimjmoore&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
* There is a &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; serialization scheme provided &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;, although you can provide
* your own implementations of {@link MemcachedCacheEntry} and
* {@link MemcachedCacheEntryFactory} to customize &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; serialization.&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;What type of serialization framework you would think of replacing Java serialization here? Jackson, Kryo?&lt;/p&gt;</comment>
                            <comment id="16843427" author="olegk" created="Sun, 19 May 2019 13:35:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ehubert&quot; class=&quot;user-hover&quot; rel=&quot;ehubert&quot;&gt;ehubert&lt;/a&gt; I would&#160;probably start off by looking into&#160;something absolutely&#160;trivial first&#160;such as writing out cache entry attributes into &lt;tt&gt;ByteArrayBuffer&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;Oleg&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16843429" author="ehubert" created="Sun, 19 May 2019 13:40:08 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=olegk&quot; class=&quot;user-hover&quot; rel=&quot;olegk&quot;&gt;olegk&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=garydgregory&quot; class=&quot;user-hover&quot; rel=&quot;garydgregory&quot;&gt;garydgregory&lt;/a&gt; The stacktrace is confusing, what is &lt;tt&gt;null&lt;/tt&gt;, is the usually initialized final member &lt;tt&gt;EMPTY&lt;/tt&gt; of &lt;tt&gt;HeaderGroup&lt;/tt&gt;. The actuall NPE occurs directly in http-core&apos;s &lt;tt&gt;org.apache.http.mesage.HeaderGroup&lt;/tt&gt; in the following line:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/httpcomponents-core/blob/4.4.x/httpcore/src/main/java/org/apache/http/message/HeaderGroup.java#L189&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/httpcomponents-core/blob/4.4.x/httpcore/src/main/java/org/apache/http/message/HeaderGroup.java#L189&lt;/a&gt;&lt;br/&gt;
{{}}&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; headersFound != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; ? headersFound.toArray(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Header[headersFound.size()]) : EMPTY;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I wrote a small test serializing an HttpCacheEntry from HttpClient 4.5.8 using http-core 4.4.11 and deserialized it checking this EMPTY afterwards (all fine). The same serialized with HttpClient 4.4.1 and http-core 4.4.1, but then deserialized with HttpClient 4.5.8 using http-core 4.4.11 and EMPTY was null explaning the NPE we noticed in real life.&lt;/p&gt;</comment>
                            <comment id="16843434" author="olegk" created="Sun, 19 May 2019 13:47:17 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ehubert&quot; class=&quot;user-hover&quot; rel=&quot;ehubert&quot;&gt;ehubert&lt;/a&gt; Damn it. The EMPTY variable was meant to be static. I think this is the root cause of the problem. &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Header[] EMPTY = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Header[] {};
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;br/&gt;
Oleg&lt;/p&gt;</comment>
                            <comment id="16843449" author="garydgregory" created="Sun, 19 May 2019 14:30:47 +0000"  >&lt;p&gt;For sure, that should be a static.&lt;/p&gt;</comment>
                            <comment id="16843458" author="ehubert" created="Sun, 19 May 2019 14:49:56 +0000"  >&lt;p&gt;Yes, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=olegk&quot; class=&quot;user-hover&quot; rel=&quot;olegk&quot;&gt;olegk&lt;/a&gt; - you are absolutely right - changing this to static would immediately solve this issue. Could this change be done with an upcoming http-core release of the 4.x series?&lt;/p&gt;</comment>
                            <comment id="16843732" author="olegk" created="Mon, 20 May 2019 07:41:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ehubert&quot; class=&quot;user-hover&quot; rel=&quot;ehubert&quot;&gt;ehubert&lt;/a&gt; I&apos;ll try to get around to releasing new versions of HttpCore and HttpClient in June.&lt;/p&gt;

&lt;p&gt;Oleg&lt;/p&gt;</comment>
                            <comment id="16843745" author="ehubert" created="Mon, 20 May 2019 07:51:21 +0000"  >&lt;p&gt;Many thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=olegk&quot; class=&quot;user-hover&quot; rel=&quot;olegk&quot;&gt;olegk&lt;/a&gt;!&lt;/p&gt;</comment>
                            <comment id="16843968" author="jira-bot" created="Mon, 20 May 2019 13:37:08 +0000"  >&lt;p&gt;Commit 32c9a0930288fac208a02ee0a84e4607899c499c in httpcomponents-core&apos;s branch refs/heads/master from Gary Gregory&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=httpcomponents-core.git;h=32c9a09&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=httpcomponents-core.git;h=32c9a09&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;(&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCORE-578&quot; title=&quot;Incorrect serialization of HeaderGroup&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCORE-578&quot;&gt;&lt;del&gt;HTTPCORE-578&lt;/del&gt;&lt;/a&gt;) Incorrect serialization of HeaderGroup (#127)&lt;/p&gt;
</comment>
                            <comment id="16843983" author="jira-bot" created="Mon, 20 May 2019 13:55:58 +0000"  >&lt;p&gt;Commit 5b525196a430c1b935a5c2c8f7b10903e67dad6e in httpcomponents-core&apos;s branch refs/heads/master from Gary Gregory&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=httpcomponents-core.git;h=5b52519&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=httpcomponents-core.git;h=5b52519&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCORE-578&quot; title=&quot;Incorrect serialization of HeaderGroup&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCORE-578&quot;&gt;&lt;del&gt;HTTPCORE-578&lt;/del&gt;&lt;/a&gt; Incorrect serialization of HeaderGroup #127.&lt;/p&gt;</comment>
                            <comment id="16843991" author="jira-bot" created="Mon, 20 May 2019 14:06:29 +0000"  >&lt;p&gt;Commit fb38b824b5158fdb17bb59ba72ff260fc3c272ee in httpcomponents-core&apos;s branch refs/heads/4.4.x from Gary Gregory&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=httpcomponents-core.git;h=fb38b82&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=httpcomponents-core.git;h=fb38b82&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;(&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCORE-578&quot; title=&quot;Incorrect serialization of HeaderGroup&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCORE-578&quot;&gt;&lt;del&gt;HTTPCORE-578&lt;/del&gt;&lt;/a&gt;) Incorrect serialization of HeaderGroup (#127)&lt;/p&gt;
</comment>
                            <comment id="16843996" author="olegk" created="Mon, 20 May 2019 14:07:40 +0000"  >&lt;p&gt;Fixed in master and 4.4.x&lt;/p&gt;

&lt;p&gt;Oleg&lt;/p&gt;</comment>
                            <comment id="16853266" author="jira-bot" created="Fri, 31 May 2019 17:51:05 +0000"  >&lt;p&gt;Commit 5b525196a430c1b935a5c2c8f7b10903e67dad6e in httpcomponents-core&apos;s branch refs/heads/message-support from Gary Gregory&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=httpcomponents-core.git;h=5b52519&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=httpcomponents-core.git;h=5b52519&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCORE-578&quot; title=&quot;Incorrect serialization of HeaderGroup&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCORE-578&quot;&gt;&lt;del&gt;HTTPCORE-578&lt;/del&gt;&lt;/a&gt; Incorrect serialization of HeaderGroup #127.&lt;/p&gt;</comment>
                            <comment id="16862429" author="ehubert" created="Wed, 12 Jun 2019 20:11:00 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=olegk&quot; class=&quot;user-hover&quot; rel=&quot;olegk&quot;&gt;olegk&lt;/a&gt;: I noticed the release of HttpClient 4.5.9, but no prior release of HttpCore. Does this mean there will be follow-up releases in June (HttpCore 4.4.12 with HttpClient 4.5.10 using it)? Hopefully it just did not slip through the cracks for this release.&lt;/p&gt;</comment>
                            <comment id="16862510" author="olegk" created="Wed, 12 Jun 2019 22:34:06 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ehubert&quot; class=&quot;user-hover&quot; rel=&quot;ehubert&quot;&gt;ehubert&lt;/a&gt; HttpCore 4.4.x releases are fully binary compatible. Once HttpCore 4.4.12 is released it can be used with HttpClient 4.5.9 (or any 4.5.x version for that matter) without any problem.&lt;/p&gt;

&lt;p&gt;Oleg&lt;/p&gt;</comment>
                            <comment id="16863264" author="ehubert" created="Thu, 13 Jun 2019 16:44:35 +0000"  >&lt;p&gt;Sure, was planning to use HttpClient 4.5.9 with HttpCore 4.4.12 once released in case there won&apos;t be a new HttpClient release close to that time, but I still guess most end users do not think (much) about HttpCore at all, but just declare their dependency on HttpClient and rely on its transitive dependencies.&lt;/p&gt;</comment>
                            <comment id="16978033" author="sgifford" created="Wed, 20 Nov 2019 03:17:20 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=olegk&quot; class=&quot;user-hover&quot; rel=&quot;olegk&quot;&gt;olegk&lt;/a&gt;&#160;We have faced a similar problem, and are working on a new serializer that is more robust than Java Object serialization.&lt;/p&gt;

&lt;p&gt;What sorts of requirements would you have for accepting it back as a contribution to the project?&#160; For example right now our serializer is using Jackson and the BSON plugin, would you accept something with those dependencies back into the project, or it&apos;s too heavyweight?&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;

&lt;p&gt;----Scott.&lt;/p&gt;</comment>
                            <comment id="16978220" author="olegk" created="Wed, 20 Nov 2019 09:01:03 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sgifford&quot; class=&quot;user-hover&quot; rel=&quot;sgifford&quot;&gt;sgifford&lt;/a&gt;&#160;HttpCore has a policy of zero external dependencies. It does not even use a logging framework for its event logging. We could only bring in something that big as an optional module within the project or probably as a companion external project.&lt;/p&gt;

&lt;p&gt;I maintain my own HttpCore extension project with somewhat similar footprint outside Apache HttpComponents.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/ok2c/httpcomponents-jackson&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/ok2c/httpcomponents-jackson&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Oleg&lt;/p&gt;</comment>
                            <comment id="16996927" author="sgifford" created="Mon, 16 Dec 2019 02:36:03 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=olegk&quot; class=&quot;user-hover&quot; rel=&quot;olegk&quot;&gt;olegk&lt;/a&gt;&#160;Understood, I have adjusted my approach to use no dependencies, instead using the existing ability to write to HTTP as a serialization mechanism, and the ability to read from HTTP as a deserialization mechanism.&#160; Proposed contribution in&#160;&lt;a href=&quot;https://issues.apache.org/jira/projects/HTTPCORE/issues/HTTPCORE-615&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;HTTPCORE-615&lt;/a&gt;&#160;and: &lt;a href=&quot;https://github.com/apache/httpcomponents-client/pull/187&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/httpcomponents-client/pull/187&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17009354" author="sgifford" created="Tue, 7 Jan 2020 03:53:46 +0000"  >&lt;p&gt;A serializer based on HTTP (instead of Java object serialization) is available experimentally in the 5.0 client, for details see:&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCORE-615&quot; title=&quot;Implement more robust cache serializer with an HTTP-like storage format (replacing existing one based on Java Object Serialization)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCORE-615&quot;&gt;&lt;del&gt;HTTPCORE-615&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;There is a version of this serializer for the 4.x client available in a forked repo here:&lt;br/&gt;
&lt;a href=&quot;https://github.com/scottgifford/httpcomponents-client/tree/4.5.x-cache-http-with-benchmark&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/scottgifford/httpcomponents-client/tree/4.5.x-cache-http-with-benchmark&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Interested in any feedback on either version, please get in touch if you try it out or would like to and need more info.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13274667">HTTPCORE-615</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 44 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z02txs:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>