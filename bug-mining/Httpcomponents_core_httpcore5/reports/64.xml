<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:24:35 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HTTPCORE-684] Connection is unexpectedly closed with http1.1, TLS, old nginx </title>
                <link>https://issues.apache.org/jira/browse/HTTPCORE-684</link>
                <project id="12310340" key="HTTPCORE">HttpComponents HttpCore</project>
                    <description>&lt;p&gt;Hello.&lt;br/&gt;
We use AsyncHttpClient from Apache HttpClient5 (version 5.1).&lt;br/&gt;
We faced an error when connection is unexpectedly closed using TLS, forced HTTP/1.1, and nginx version older 1.18.0.&lt;/p&gt;

&lt;p&gt;In the log below the server responds with 200 OK and an empty body.&lt;br/&gt;
We can see response headers but connection is prematurely closed.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[2021-08-16T20:22:50.950+03:00] &#8230; [headers] c-0000000000 &amp;lt;&amp;lt; HTTP/1.1 200 OK
[2021-08-16T20:22:50.950+03:00] &#8230; [headers] c-0000000000 &amp;lt;&amp;lt; Server: nginx
[2021-08-16T20:22:50.950+03:00] &#8230; [headers] c-0000000000 &amp;lt;&amp;lt; Date: Mon, 16 Aug 2021 17:22:50 GMT
[2021-08-16T20:22:50.951+03:00] &#8230; [headers] c-0000000000 &amp;lt;&amp;lt; Content-Type: text/html; charset=UTF-8
[2021-08-16T20:22:50.951+03:00] &#8230; [headers] c-0000000000 &amp;lt;&amp;lt; Connection: close
[2021-08-16T20:22:50.951+03:00] &#8230; [headers] c-0000000000 &amp;lt;&amp;lt; Set-Cookie: &amp;lt;masked cookie&amp;gt;; expires=Sat, 21-Aug-2021 17:22:50 GMT; Max-Age=432000; path=/
[2021-08-16T20:22:50.951+03:00] &#8230; [headers] c-0000000000 &amp;lt;&amp;lt; Expires: Thu, 19 Nov 1981 08:52:00 GMT
[2021-08-16T20:22:50.951+03:00] &#8230; [headers] c-0000000000 &amp;lt;&amp;lt; Cache-Control: no-store, no-cache, must-revalidate
[2021-08-16T20:22:50.951+03:00] &#8230; [headers] c-0000000000 &amp;lt;&amp;lt; Pragma: no-cache
[2021-08-16T20:22:50.954+03:00] &#8230; [HttpAsyncMainClientExec] ex-0000000001 consume response HTTP/1.1 200 OK, entity len -9223372036854775807
[2021-08-16T20:22:50.967+03:00] &#8230; [HttpAsyncMainClientExec] ex-0000000001 execution failed: Connection is closed
[2021-08-16T20:22:50.968+03:00] &#8230; [InternalAbstractHttpAsyncClient] ex-0000000001 request failed: Connection is closed
[2021-08-16T20:22:50.968+03:00] &#8230; [PoolingAsyncClientConnectionManager] ep-0000000000 close IMMEDIATE
[2021-08-16T20:22:50.968+03:00] &#8230; [DefaultManagedAsyncClientConnection] c-0000000000 Shutdown connection IMMEDIATE
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;That happens with the almost default configuration of the HTTP client (only versionPolicy and tlsStrategy are configured). &lt;/p&gt;

&lt;p&gt;To reproduce such behavior all of these conditions must be met:&lt;br/&gt;
1) Server must be accessed via nginx version older 1.18.0 (I tested 1.16.1 and 1.18.0);&lt;br/&gt;
2) A request contains a body;&lt;br/&gt;
3) A response doesn&apos;t contain &quot;Content-Length&quot; header;&lt;br/&gt;
4) TLS is used.&lt;br/&gt;
5) HTTP/1.1 is used.&lt;/p&gt;

&lt;p&gt;I think there is a bug. We&apos;ve tried httpclient5 (classic, version 5.1) and AsyncHttpClient (Netty based). Both of them work correctly.&lt;/p&gt;
</description>
                <environment>nginx version older 1.18.0</environment>
        <key id="13398286">HTTPCORE-684</key>
            <summary>Connection is unexpectedly closed with http1.1, TLS, old nginx </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="horyukova">Vitalina Komarova</reporter>
                        <labels>
                    </labels>
                <created>Mon, 30 Aug 2021 17:56:59 +0000</created>
                <updated>Mon, 6 Sep 2021 15:09:56 +0000</updated>
                            <resolved>Mon, 6 Sep 2021 08:04:59 +0000</resolved>
                                    <version>5.0.3</version>
                    <version>5.1.1</version>
                                    <fixVersion>5.1.2</fixVersion>
                    <fixVersion>5.2-alpha1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17406889" author="olegk" created="Mon, 30 Aug 2021 18:30:21 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=horyukova&quot; class=&quot;user-hover&quot; rel=&quot;horyukova&quot;&gt;horyukova&lt;/a&gt;&#160;Please provide two wire / context logs: one from HttpClient 5.1 (classic) and another one from HttpAsyncClient 5.1.&#160;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://hc.apache.org/httpcomponents-client-5.1.x/logging.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hc.apache.org/httpcomponents-client-5.1.x/logging.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;It looks like there is a difference in handling of identity (delimited by the end of stream) encoded response messages.&lt;/p&gt;

&lt;p&gt;Oleg&lt;/p&gt;</comment>
                            <comment id="17406893" author="olegk" created="Mon, 30 Aug 2021 18:37:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=horyukova&quot; class=&quot;user-hover&quot; rel=&quot;horyukova&quot;&gt;horyukova&lt;/a&gt;&#160;Oh, and a Docker image like this one &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; would really help.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/httpcomponents-core/blob/master/httpcore5-testing/docker/nginx/Dockerfile&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/httpcomponents-core/blob/master/httpcore5-testing/docker/nginx/Dockerfile&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17407348" author="jira-bot" created="Tue, 31 Aug 2021 13:39:21 +0000"  >&lt;p&gt;Commit 98768bd0995fe6c902c37cf005b562d60eaa68b0 in httpcomponents-client&apos;s branch refs/heads/5.1.x from Oleg Kalnichevski&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=httpcomponents-client.git;h=98768bd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=httpcomponents-client.git;h=98768bd&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCORE-684&quot; title=&quot;Connection is unexpectedly closed with http1.1, TLS, old nginx &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCORE-684&quot;&gt;&lt;del&gt;HTTPCLIENT-2173&lt;/del&gt;&lt;/a&gt;: async pooling connection manager to close half-open connection gracefully&lt;/p&gt;</comment>
                            <comment id="17407349" author="jira-bot" created="Tue, 31 Aug 2021 13:39:23 +0000"  >&lt;p&gt;Commit 75a694cdd51b85b2d50bda2efc8416cb2e432d15 in httpcomponents-client&apos;s branch refs/heads/5.1.x from Oleg Kalnichevski&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=httpcomponents-client.git;h=75a694c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=httpcomponents-client.git;h=75a694c&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCORE-684&quot; title=&quot;Connection is unexpectedly closed with http1.1, TLS, old nginx &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCORE-684&quot;&gt;&lt;del&gt;HTTPCLIENT-2173&lt;/del&gt;&lt;/a&gt;: test case for identity transfer encoded response messages&lt;/p&gt;</comment>
                            <comment id="17407358" author="jira-bot" created="Tue, 31 Aug 2021 13:46:25 +0000"  >&lt;p&gt;Commit d234e555dbd5d94016ccd5c46f456514e5b89720 in httpcomponents-client&apos;s branch refs/heads/5.1.x from Oleg Kalnichevski&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=httpcomponents-client.git;h=d234e55&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=httpcomponents-client.git;h=d234e55&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCORE-684&quot; title=&quot;Connection is unexpectedly closed with http1.1, TLS, old nginx &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCORE-684&quot;&gt;&lt;del&gt;HTTPCLIENT-2173&lt;/del&gt;&lt;/a&gt;: test case for identity transfer encoded response messages&lt;/p&gt;</comment>
                            <comment id="17407366" author="olegk" created="Tue, 31 Aug 2021 13:58:27 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=horyukova&quot; class=&quot;user-hover&quot; rel=&quot;horyukova&quot;&gt;horyukova&lt;/a&gt; I took a look at our integration tests for identity transfer encoded response messages I found out that we had a test in core but not in client. I added an integration test case to specifically exercise a similar request / response exchange as described in your report. The test case passes for me. Could you please upgrade to the latest 5.1.x snapshot and tweak the test to trigger the same failure? &lt;/p&gt;

&lt;p&gt;Oleg&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/httpcomponents-client/blob/5.1.x/httpclient5-testing/src/test/java/org/apache/hc/client5/testing/async/TestHttp1Async.java#L148&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/httpcomponents-client/blob/5.1.x/httpclient5-testing/src/test/java/org/apache/hc/client5/testing/async/TestHttp1Async.java#L148&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17407641" author="horyukova" created="Tue, 31 Aug 2021 20:25:28 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=olegk&quot; class=&quot;user-hover&quot; rel=&quot;olegk&quot;&gt;olegk&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&amp;gt; Oh, and a Docker image like this one &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; would really help&lt;br/&gt;
&lt;a href=&quot;https://github.com/layfe/docker_images&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/layfe/docker_images&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&amp;gt; Please provide two wire / context logs&lt;br/&gt;
I&apos;v added the logs:&lt;br/&gt;
1) ok_sync_5_1.txt - success from HttpClient 5.1 (classic) &lt;br/&gt;
2) broken_async_5_1.txt - fail from HttpAsyncClient 5.1.&lt;br/&gt;
3) ok_async_without_body_5_1.txt - success from HttpAsyncClient 5.1. The only change is an empty request body&lt;/p&gt;

&lt;p&gt;&amp;gt; Could you please upgrade to the latest 5.1.x snapshot &lt;br/&gt;
I tried latest 5.1.x snapshot (with your commit), but the result is the same (unexpectedly closed). &lt;br/&gt;
There are the logs (broken_async_snapshot.txt).&lt;br/&gt;
I noticed that the changed line is not called.&lt;/p&gt;</comment>
                            <comment id="17407923" author="olegk" created="Wed, 1 Sep 2021 07:37:30 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=horyukova&quot; class=&quot;user-hover&quot; rel=&quot;horyukova&quot;&gt;horyukova&lt;/a&gt; I think I know what the problem may be. I will look into it. Thank you for your help with a reproducer.&lt;/p&gt;

&lt;p&gt;Oleg&lt;/p&gt;</comment>
                            <comment id="17409463" author="olegk" created="Fri, 3 Sep 2021 11:49:26 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=horyukova&quot; class=&quot;user-hover&quot; rel=&quot;horyukova&quot;&gt;horyukova&lt;/a&gt; While looking into your report I found out that all versions of HttpCore 5.x were not correctly terminating message exchanges with an entity enclosing request and an identity transfer encoded response. I also added more integration tests for various message exchages with an identity transfer encoded response.&lt;/p&gt;

&lt;p&gt;This commit &lt;em&gt;may&lt;/em&gt; or &lt;em&gt;may not&lt;/em&gt; fix your particular issue but I would really appreciate if could you upgrade to this HttpCore snapshot &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;, re-test your code locally and let me know the outcome. In the meantime I will be trying to deploy nginx to Docker and see if I can reproduce the defect in my environment.&lt;/p&gt;

&lt;p&gt;Oleg&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/httpcomponents-core/tree/identity_te_bug_fix&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/httpcomponents-core/tree/identity_te_bug_fix&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17409541" author="olegk" created="Fri, 3 Sep 2021 14:50:28 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=horyukova&quot; class=&quot;user-hover&quot; rel=&quot;horyukova&quot;&gt;horyukova&lt;/a&gt; I deployed the image, ran the test and got the expected message exchange with curl&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;oleg@ok2c:~/src/personal/docker_images/async$ curl -v --cacert ./localhost.crt https://localhost:12345/
*   Trying 127.0.0.1:12345...
* TCP_NODELAY set
* Connected to localhost (127.0.0.1) port 12345 (#0)
* ALPN, offering h2
* ALPN, offering http/1.1
* successfully set certificate verify locations:
*   CAfile: ./localhost.crt
  CApath: /etc/ssl/certs
* TLSv1.3 (OUT), TLS handshake, Client hello (1):
* TLSv1.3 (IN), TLS handshake, Server hello (2):
* TLSv1.2 (IN), TLS handshake, Certificate (11):
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
* TLSv1.2 (IN), TLS handshake, Server finished (14):
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):
* TLSv1.2 (OUT), TLS handshake, Finished (20):
* TLSv1.2 (IN), TLS handshake, Finished (20):
* SSL connection using TLSv1.2 / ECDHE-RSA-AES256-GCM-SHA384
* ALPN, server accepted to use h2
* Server certificate:
*  subject: C=RU; ST=Rus; L=Spb; O=localhost; OU=localhost; CN=localhost; emailAddress=localhost
*  start date: Aug 24 19:38:49 2021 GMT
*  expire date: Aug 24 19:38:49 2022 GMT
*  common name: localhost (matched)
*  issuer: C=RU; ST=Rus; L=Spb; O=localhost; OU=localhost; CN=localhost; emailAddress=localhost
*  SSL certificate verify ok.
* Using HTTP2, server supports multi-use
* Connection state changed (HTTP/2 confirmed)
* Copying HTTP/2 data in stream buffer to connection buffer after upgrade: len=0
* Using Stream ID: 1 (easy handle 0x562872544e10)
&amp;gt; GET / HTTP/2
&amp;gt; Host: localhost:12345
&amp;gt; user-agent: curl/7.68.0
&amp;gt; accept: */*
&amp;gt; 
* Connection state changed (MAX_CONCURRENT_STREAMS == 128)!
&amp;lt; HTTP/2 200 
&amp;lt; server: nginx/1.18.0
&amp;lt; date: Fri, 03 Sep 2021 14:41:42 GMT
&amp;lt; 

* Connection #0 to host localhost left intact
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I am not sure how it is relevant to the original issue report regarding older ngnix&apos;s behavior with TLS1.2 and http/1.1.&lt;/p&gt;

&lt;p&gt;Please clarify.&lt;/p&gt;

&lt;p&gt;Oleg&lt;/p&gt;</comment>
                            <comment id="17409588" author="horyukova" created="Fri, 3 Sep 2021 16:12:49 +0000"  >&lt;p&gt;sorry for the inaccurate instructions.&lt;br/&gt;
running the docker provides a url to test the client.&lt;/p&gt;

&lt;p&gt;I added a method to run the client on the provided url - now it is enough to run the method to reproduce the behavior&lt;br/&gt;
&lt;a href=&quot;https://github.com/layfe/docker_images/blob/main/src/main/java/ru/horyukova/AsyncApacheTest.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/layfe/docker_images/blob/main/src/main/java/ru/horyukova/AsyncApacheTest.java&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;is that ok? &lt;/p&gt;</comment>
                            <comment id="17409609" author="horyukova" created="Fri, 3 Sep 2021 16:49:51 +0000"  >&lt;p&gt;the branch httpcore/identity_te_bug_fix gives the same result (execution failed: Connection is closed)&lt;/p&gt;</comment>
                            <comment id="17409651" author="olegk" created="Fri, 3 Sep 2021 18:11:20 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=horyukova&quot; class=&quot;user-hover&quot; rel=&quot;horyukova&quot;&gt;horyukova&lt;/a&gt;&#160;I can reproduce the issue now in my development environment and am looking into it. Thank you so much for having prepared a super quality reproducer.&lt;/p&gt;

&lt;p&gt;Oleg&lt;/p&gt;</comment>
                            <comment id="17409906" author="jira-bot" created="Sat, 4 Sep 2021 08:50:40 +0000"  >&lt;p&gt;Commit 4bc58d4df935d43c5171d4c5174a180f2e78a739 in httpcomponents-core&apos;s branch refs/heads/&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCORE-684&quot; title=&quot;Connection is unexpectedly closed with http1.1, TLS, old nginx &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCORE-684&quot;&gt;&lt;del&gt;HTTPCORE-684&lt;/del&gt;&lt;/a&gt; from Oleg Kalnichevski&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=httpcomponents-core.git;h=4bc58d4&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=httpcomponents-core.git;h=4bc58d4&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCORE-684&quot; title=&quot;Connection is unexpectedly closed with http1.1, TLS, old nginx &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCORE-684&quot;&gt;&lt;del&gt;HTTPCORE-684&lt;/del&gt;&lt;/a&gt;: async SSL i/o session fails to propagate end-of-stream events to the protocol handler. This can cause a failure in handling of identity transfer encoded HTTP/1.1 response messages&lt;/p&gt;</comment>
                            <comment id="17409912" author="olegk" created="Sat, 4 Sep 2021 09:04:48 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=horyukova&quot; class=&quot;user-hover&quot; rel=&quot;horyukova&quot;&gt;horyukova&lt;/a&gt;&#160;Please review / test the fix:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/httpcomponents-core/tree/HTTPCORE-684&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/httpcomponents-core/tree/HTTPCORE-684&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Oleg&lt;/p&gt;</comment>
                            <comment id="17410041" author="horyukova" created="Sat, 4 Sep 2021 20:54:26 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=olegk&quot; class=&quot;user-hover&quot; rel=&quot;olegk&quot;&gt;olegk&lt;/a&gt;,  thank you so much. Now it works fine (a branch &lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCORE-684&quot; title=&quot;Connection is unexpectedly closed with http1.1, TLS, old nginx &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCORE-684&quot;&gt;&lt;del&gt;HTTPCORE-684&lt;/del&gt;&lt;/a&gt;)&lt;/p&gt;</comment>
                            <comment id="17410402" author="jira-bot" created="Mon, 6 Sep 2021 06:52:48 +0000"  >&lt;p&gt;Commit 26bfbf1f59a22a27e54408016f8fcd3787679ed3 in httpcomponents-core&apos;s branch refs/heads/5.1.x from Oleg Kalnichevski&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=httpcomponents-core.git;h=26bfbf1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=httpcomponents-core.git;h=26bfbf1&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCORE-684&quot; title=&quot;Connection is unexpectedly closed with http1.1, TLS, old nginx &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCORE-684&quot;&gt;&lt;del&gt;HTTPCORE-684&lt;/del&gt;&lt;/a&gt;: async SSL i/o session fails to propagate end-of-stream events to the protocol handler. This can cause a failure in handling of identity transfer encoded HTTP/1.1 response messages&lt;/p&gt;</comment>
                            <comment id="17410419" author="jira-bot" created="Mon, 6 Sep 2021 07:08:04 +0000"  >&lt;p&gt;Commit a1195d434a8083c58f0418bf625b0a6cf718a1c7 in httpcomponents-core&apos;s branch refs/heads/5.0.x from Oleg Kalnichevski&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=httpcomponents-core.git;h=a1195d4&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=httpcomponents-core.git;h=a1195d4&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCORE-684&quot; title=&quot;Connection is unexpectedly closed with http1.1, TLS, old nginx &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCORE-684&quot;&gt;&lt;del&gt;HTTPCORE-684&lt;/del&gt;&lt;/a&gt;: async SSL i/o session fails to propagate end-of-stream events to the protocol handler. This can cause a failure in handling of identity transfer encoded HTTP/1.1 response messages&lt;/p&gt;</comment>
                            <comment id="17410436" author="jira-bot" created="Mon, 6 Sep 2021 07:34:25 +0000"  >&lt;p&gt;Commit dcfa0f2974abd7cbf50be745f3197f0b977a7e07 in httpcomponents-core&apos;s branch refs/heads/master from Oleg Kalnichevski&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=httpcomponents-core.git;h=dcfa0f2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=httpcomponents-core.git;h=dcfa0f2&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HTTPCORE-684&quot; title=&quot;Connection is unexpectedly closed with http1.1, TLS, old nginx &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HTTPCORE-684&quot;&gt;&lt;del&gt;HTTPCORE-684&lt;/del&gt;&lt;/a&gt;: async SSL i/o session fails to propagate end-of-stream events to the protocol handler. This can cause a failure in handling of identity transfer encoded HTTP/1.1 response messages&lt;/p&gt;</comment>
                            <comment id="17410505" author="horyukova" created="Mon, 6 Sep 2021 09:42:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=olegk&quot; class=&quot;user-hover&quot; rel=&quot;olegk&quot;&gt;olegk&lt;/a&gt; When can we expect the release?&lt;/p&gt;</comment>
                            <comment id="17410671" author="olegk" created="Mon, 6 Sep 2021 15:09:56 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=horyukova&quot; class=&quot;user-hover&quot; rel=&quot;horyukova&quot;&gt;horyukova&lt;/a&gt;&#160;Likely by the end of the month.&lt;/p&gt;

&lt;p&gt;Oleg&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13032806" name="broken_async_5_1.txt" size="16184" author="horyukova" created="Tue, 31 Aug 2021 20:24:10 +0000"/>
                            <attachment id="13032805" name="broken_async_snapshot.txt" size="16617" author="horyukova" created="Tue, 31 Aug 2021 20:24:10 +0000"/>
                            <attachment id="13032808" name="ok_async_without_body_5_1.txt" size="16113" author="horyukova" created="Tue, 31 Aug 2021 20:25:32 +0000"/>
                            <attachment id="13032807" name="ok_sync_5_1.txt" size="9964" author="horyukova" created="Tue, 31 Aug 2021 20:24:10 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 9 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0uff4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>