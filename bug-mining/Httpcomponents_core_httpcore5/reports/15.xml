<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:23:54 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HTTPCORE-455] The client does not check if the IO thread is alive</title>
                <link>https://issues.apache.org/jira/browse/HTTPCORE-455</link>
                <project id="12310340" key="HTTPCORE">HttpComponents HttpCore</project>
                    <description>&lt;p&gt;When I developed with the latest HttpAsyncclient, it was hard for me to know whether the IO thread in BaseIOReactor was alive&#12290; For example, if I throw an error in the callback&#65292;the IO thread will terminate,but the connecting thread  will not check if the IO thread is alive,and will still add new  channels to the dispatcher&#12290;&lt;/p&gt;

&lt;p&gt;The java code:&lt;/p&gt;

&lt;p&gt; CloseableHttpAsyncClient client = HttpAsyncClients.custom().build();&lt;br/&gt;
        client.start();&lt;br/&gt;
        HttpUriRequest getRequest = new HttpGet(&quot;www.google.com&quot;);&lt;br/&gt;
        client.execute(getRequest, new FutureCallback&amp;lt;HttpResponse&amp;gt;() {&lt;br/&gt;
            @Override&lt;br/&gt;
            public void completed(HttpResponse result) &lt;/p&gt;
{
                throw new StackOverflowError();
            }

&lt;p&gt;            @Override&lt;br/&gt;
            public void failed(Exception ex) {&lt;/p&gt;

&lt;p&gt;            }&lt;/p&gt;

&lt;p&gt;            @Override&lt;br/&gt;
            public void cancelled() {&lt;/p&gt;

&lt;p&gt;            }&lt;br/&gt;
        });&lt;br/&gt;
        for(int i = 0 ; i &amp;lt; 100 ; i++){&lt;br/&gt;
            client.execute(getRequest, new FutureCallback&amp;lt;HttpResponse&amp;gt;() {&lt;br/&gt;
                @Override&lt;br/&gt;
                public void completed(HttpResponse result) {&lt;/p&gt;

&lt;p&gt;                }&lt;/p&gt;

&lt;p&gt;                @Override&lt;br/&gt;
                public void failed(Exception ex) {&lt;/p&gt;

&lt;p&gt;                }&lt;/p&gt;

&lt;p&gt;                @Override&lt;br/&gt;
                public void cancelled() {&lt;/p&gt;

&lt;p&gt;                }&lt;br/&gt;
            });&lt;br/&gt;
        }&lt;/p&gt;

&lt;p&gt;one of the IO threads is dead&#65292;but the java Error dose not be caught&#65292;and hte client will continue work and add new channels to the dispather, but the newChannel queue will be not be consumed, so I want to know is there any method to deal with this situation.&lt;br/&gt;
Thanks&lt;/p&gt;</description>
                <environment>Mac OSX, Java 8</environment>
        <key id="13065383">HTTPCORE-455</key>
            <summary>The client does not check if the IO thread is alive</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="feiying">Allen</reporter>
                        <labels>
                    </labels>
                <created>Thu, 20 Apr 2017 03:05:13 +0000</created>
                <updated>Tue, 2 May 2017 06:40:22 +0000</updated>
                            <resolved>Tue, 25 Apr 2017 07:17:20 +0000</resolved>
                                                    <fixVersion>4.4.7</fixVersion>
                    <fixVersion>5.0-alpha3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15981626" author="olegk" created="Mon, 24 Apr 2017 18:27:52 +0000"  >&lt;p&gt;Fixed in SVN trunk and 4.4.x branch. Please review and close.&lt;/p&gt;

&lt;p&gt;Oleg&lt;/p&gt;</comment>
                            <comment id="15982272" author="feiying" created="Tue, 25 Apr 2017 02:01:45 +0000"  >&lt;p&gt;The latest version of httpcore-nio in maven repository is 4.4.6&#65292;the worker thread catch exception but not throwable, and the connecting thread just checked whether  an exception happened&#12290;Once an unknown error happens, the worker thread will stop but the connecting thread will never know,it seems that the problem dose not be fixed in the 4.4.6&#12290;&lt;/p&gt;</comment>
                            <comment id="15982273" author="feiying" created="Tue, 25 Apr 2017 02:02:36 +0000"  >&lt;p&gt;The latest version of httpcore-nio in maven repository is 4.4.6&#65292;the worker thread catch exception but not throwable, and the connecting thread just checked whether an exception happened&#12290;Once an unknown error happens, the worker thread will stop but the connecting thread will never know,it seems that the problem dose not be fixed in the 4.4.6&#12290;&lt;/p&gt;</comment>
                            <comment id="15982486" author="olegk" created="Tue, 25 Apr 2017 07:18:40 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/httpcore/commit/efb11b8fd0b54dab147f3c4f63eebf62ae11863c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/httpcore/commit/efb11b8fd0b54dab147f3c4f63eebf62ae11863c&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Oleg&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10431"><![CDATA[Important]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 29 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3dufj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>