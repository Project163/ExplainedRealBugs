diff --git a/httpcore5/src/main/java/org/apache/hc/core5/reactor/IOSessionImpl.java b/httpcore5/src/main/java/org/apache/hc/core5/reactor/IOSessionImpl.java
index e7e1e7e83..f03a61a83 100644
--- a/httpcore5/src/main/java/org/apache/hc/core5/reactor/IOSessionImpl.java
+++ b/httpcore5/src/main/java/org/apache/hc/core5/reactor/IOSessionImpl.java
@@ -142,20 +142,25 @@ public int getEventMask() {
 
     @Override
     public void setEventMask(final int newValue) {
-        if (isStatusClosed()) {
-            return;
+        lock.lock();
+        try {
+            if (isStatusClosed()) {
+                return;
+            }
+            this.key.interestOps(newValue);
+        } finally {
+            lock.unlock();
         }
-        this.key.interestOps(newValue);
         this.key.selector().wakeup();
     }
 
     @Override
     public void setEvent(final int op) {
-        if (isStatusClosed()) {
-            return;
-        }
         lock.lock();
         try {
+            if (isStatusClosed()) {
+                return;
+            }
             this.key.interestOps(this.key.interestOps() | op);
         } finally {
             lock.unlock();
@@ -165,11 +170,11 @@ public void setEvent(final int op) {
 
     @Override
     public void clearEvent(final int op) {
-        if (isStatusClosed()) {
-            return;
-        }
         lock.lock();
         try {
+            if (isStatusClosed()) {
+                return;
+            }
             this.key.interestOps(this.key.interestOps() & ~op);
         } finally {
             lock.unlock();
