{"url":"https://api.github.com/repos/google/ExoPlayer/issues/3351","repository_url":"https://api.github.com/repos/google/ExoPlayer","labels_url":"https://api.github.com/repos/google/ExoPlayer/issues/3351/labels{/name}","comments_url":"https://api.github.com/repos/google/ExoPlayer/issues/3351/comments","events_url":"https://api.github.com/repos/google/ExoPlayer/issues/3351/events","html_url":"https://github.com/google/ExoPlayer/issues/3351","id":265262652,"node_id":"MDU6SXNzdWUyNjUyNjI2NTI=","number":3351,"title":"java.io.EOFException: ExoPlayer does not play local short MP4 file","user":{"login":"AndroVid","id":32763974,"node_id":"MDQ6VXNlcjMyNzYzOTc0","avatar_url":"https://avatars.githubusercontent.com/u/32763974?v=4","gravatar_id":"","url":"https://api.github.com/users/AndroVid","html_url":"https://github.com/AndroVid","followers_url":"https://api.github.com/users/AndroVid/followers","following_url":"https://api.github.com/users/AndroVid/following{/other_user}","gists_url":"https://api.github.com/users/AndroVid/gists{/gist_id}","starred_url":"https://api.github.com/users/AndroVid/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndroVid/subscriptions","organizations_url":"https://api.github.com/users/AndroVid/orgs","repos_url":"https://api.github.com/users/AndroVid/repos","events_url":"https://api.github.com/users/AndroVid/events{/privacy}","received_events_url":"https://api.github.com/users/AndroVid/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":106814989,"node_id":"MDU6TGFiZWwxMDY4MTQ5ODk=","url":"https://api.github.com/repos/google/ExoPlayer/labels/bug","name":"bug","color":"fc2929","default":true,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2017-10-13T11:51:54Z","updated_at":"2018-02-11T13:33:58Z","closed_at":"2017-10-13T19:43:07Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Hi, we are moving from MediaPlayer to ExoPlayer but when we try to play the attached file ExoPlayer fails with the following exception. The same file is succesfully played with MediaPlayer. ExoPlayer plays all other files successfully, but there is a problem with this file. \r\n\r\nExoPlayer version: 2.5.3\r\nTEsted on: 1. Android-26 (X86 Emulator) 2. Samsung Galaxy J7 (SM-J710FQ) Android 7.0\r\n\r\nExoPlayer is created with default settings:\r\n\r\n```\r\n        m_BandwidthMeter = new DefaultBandwidthMeter();\r\n\r\n        m_VideoTrackSelectionFactory =\r\n                new AdaptiveTrackSelection.Factory(m_BandwidthMeter);\r\n\r\n        // Produces DataSource instances through which media data is loaded.\r\n        String appName = getApplicationContext().getPackageName();\r\n        m_DataSourceFactory = new DefaultDataSourceFactory(this,\r\n                Util.getUserAgent(this, appName), m_BandwidthMeter );\r\n\r\n        // Produces Extractor instances for parsing the media data.\r\n        m_ExtractorsFactory = new DefaultExtractorsFactory();\r\n\t\t\r\n        m_TrackSelector = new DefaultTrackSelector( m_VideoTrackSelectionFactory);\r\n\r\n        m_VideoPlayer = ExoPlayerFactory.newSimpleInstance(this, m_TrackSelector );\r\n```\r\n```\r\nI/ExoPlayerImpl: Init 7b1e44d [ExoPlayerLib/2.5.3] [generic_x86, Android SDK built for x86, Google, 26]\r\nE/ExoPlayerImplInternal: Source error.\r\n                                                                         java.io.EOFException\r\n                                                                             at com.google.android.exoplayer2.extractor.DefaultExtractorInput.readFromDataSource(DefaultExtractorInput.java:262)\r\n                                                                             at com.google.android.exoplayer2.extractor.DefaultExtractorInput.readFully(DefaultExtractorInput.java:70)\r\n                                                                             at com.google.android.exoplayer2.extractor.DefaultExtractorInput.readFully(DefaultExtractorInput.java:79)\r\n                                                                             at com.google.android.exoplayer2.extractor.mp4.Mp4Extractor.readAtomPayload(Mp4Extractor.java:266)\r\n                                                                             at com.google.android.exoplayer2.extractor.mp4.Mp4Extractor.read(Mp4Extractor.java:147)\r\n                                                                             at com.google.android.exoplayer2.source.ExtractorMediaPeriod$ExtractingLoadable.load(ExtractorMediaPeriod.java:704)\r\n                                                                             at com.google.android.exoplayer2.upstream.Loader$LoadTask.run(Loader.java:315)\r\n                                                                             at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1162)\r\n                                                                             at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:636)\r\n                                                                             at java.lang.Thread.run(Thread.java:764)\r\n```\r\n\r\n[big_buck_bunny_720p_ExoPlayer_not_play.zip](https://github.com/google/ExoPlayer/files/1382382/big_buck_bunny_720p_ExoPlayer_not_play.zip)\r\n\r\n","closed_by":{"login":"ojw28","id":7881572,"node_id":"MDQ6VXNlcjc4ODE1NzI=","avatar_url":"https://avatars.githubusercontent.com/u/7881572?v=4","gravatar_id":"","url":"https://api.github.com/users/ojw28","html_url":"https://github.com/ojw28","followers_url":"https://api.github.com/users/ojw28/followers","following_url":"https://api.github.com/users/ojw28/following{/other_user}","gists_url":"https://api.github.com/users/ojw28/gists{/gist_id}","starred_url":"https://api.github.com/users/ojw28/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ojw28/subscriptions","organizations_url":"https://api.github.com/users/ojw28/orgs","repos_url":"https://api.github.com/users/ojw28/repos","events_url":"https://api.github.com/users/ojw28/events{/privacy}","received_events_url":"https://api.github.com/users/ojw28/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/google/ExoPlayer/issues/3351/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/google/ExoPlayer/issues/3351/timeline","performed_via_github_app":null,"state_reason":"completed"}