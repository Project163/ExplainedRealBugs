<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 17:55:34 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FILEUPLOAD-234] Bug in docs: tmp file delete conditions in &quot;Resource Cleanup&quot; section of &quot;using.html&quot;</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-234</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;The guide at &lt;a href=&quot;http://commons.apache.org/proper/commons-fileupload/using.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://commons.apache.org/proper/commons-fileupload/using.html&lt;/a&gt; incorrectly writes: &quot;Such temporary files are deleted automatically, if they are no longer used (more precisely, if the corresponding instance of java.io.File is garbage collected.&quot;.&lt;/p&gt;

&lt;p&gt;(The following affects maven version: &lt;a href=&quot;http://search.maven.org/#artifactdetails&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://search.maven.org/#artifactdetails&lt;/a&gt;|commons-fileupload|commons-fileupload|1.2.2|jar )&lt;/p&gt;

&lt;p&gt;However, the code for org.apache.commons.io.FileCleaningTracker.Tracker.Tracker(...) passes org.apache.commons.fileupload.disk.DiskFileItemFactory.this specified by org.apache.commons.fileupload.disk.DiskFileItemFactory.createItem(String, String, boolean, String) in tracker.track(result.getTempFile(), this), and not java.io.File. I.e. the &quot;using.html&quot; guide must be corrected.&lt;/p&gt;

&lt;p&gt;The correct (fixed) phrasing is: &lt;/p&gt;

&lt;p&gt;&quot;Such temporary files are deleted automatically, if they are no longer used (more precisely, if the corresponding instance of org.apache.commons.fileupload.disk.DiskFileItemFactory is garbage collected.&quot;.&lt;/p&gt;

&lt;p&gt;(The following affects maven version: &lt;a href=&quot;http://search.maven.org/#artifactdetails&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://search.maven.org/#artifactdetails&lt;/a&gt;|commons-fileupload|commons-fileupload|1.3|jar )&lt;/p&gt;

&lt;p&gt;However, the code for org.apache.commons.io.FileCleaningTracker.Tracker.Tracker(...) passes DiskFileItem.this specified by org.apache.commons.fileupload.disk.DiskFileItemFactory.createItem(String, String, boolean, String) in DiskFileItem result=&lt;span class=&quot;error&quot;&gt;&amp;#91;...&amp;#93;&lt;/span&gt;; &lt;span class=&quot;error&quot;&gt;&amp;#91;...&amp;#93;&lt;/span&gt;; tracker.track(result.getTempFile(), result), and not java.io.File. I.e. the &quot;using.html&quot; guide must be corrected.&lt;/p&gt;

&lt;p&gt;The correct (fixed) phrasing is: &lt;/p&gt;

&lt;p&gt;&quot;Such temporary files are deleted automatically, if they are no longer used (more precisely, if the corresponding instance of org.apache.commons.fileupload.disk.DiskFileItem is garbage collected.&quot;.&lt;/p&gt;

&lt;p&gt;(The following holds for both versions 1.2.2 and 1.3)&lt;/p&gt;

&lt;p&gt;The correct (fixed) phrasing is: &lt;/p&gt;

&lt;p&gt;&quot;Such temporary files are deleted automatically, if they are no longer used (more precisely, if the corresponding instance of org.apache.commons.fileupload.disk.DiskFileItem (for commons-fileupload v.1.3) and instance of org.apache.commons.fileupload.disk.DiskFileItemFactory (for commons-fileupload v.1.2.2) is garbage collected.&quot;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12652619">FILEUPLOAD-234</key>
            <summary>Bug in docs: tmp file delete conditions in &quot;Resource Cleanup&quot; section of &quot;using.html&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="egphilippov">Evgeniy Philippov</reporter>
                        <labels>
                    </labels>
                <created>Thu, 13 Jun 2013 11:39:14 +0000</created>
                <updated>Tue, 5 Feb 2019 14:11:44 +0000</updated>
                            <resolved>Tue, 11 Nov 2014 15:06:08 +0000</resolved>
                                    <version>1.3</version>
                                    <fixVersion>1.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14206520" author="tn" created="Tue, 11 Nov 2014 15:06:08 +0000"  >&lt;p&gt;Fixed in r1638131.&lt;/p&gt;

&lt;p&gt;Thanks for the report.&lt;/p&gt;</comment>
                            <comment id="14703414" author="jonenst" created="Wed, 19 Aug 2015 17:29:31 +0000"  >&lt;p&gt;The section also has&lt;br/&gt;
&quot;&lt;br/&gt;
Disabling cleanup of temporary files&lt;/p&gt;

&lt;p&gt;To disable tracking of temporary files, you may set the FileCleaningTracker to null. Consequently, created files will no longer be tracked. In particular, they will no longer be deleted automatically.&lt;br/&gt;
&quot;&lt;br/&gt;
But disabling the tracking is not enough to prevent the file associated with DiskFileItem to be deleted because DiskFileItem also has a finalize method which gets called by the garbage collector at some point anyway.&lt;/p&gt;

&lt;p&gt;So I would add in the intro&lt;br/&gt;
&quot;&lt;br/&gt;
This is done silently either by the org.apache.commons.io.FileCleaner class, which starts a reaper thread, or by the finalize() method of DiskFileItem, whichever is called first. Using the reaper thread is optional. To use the reaper thread, see below. Usually, using the reaper thread allows to remove the files earlier and more deterministically than waiting for the garbage collector to call the finalize() method. It is not possible to disable the cleanup of temporary files when DiskFileItem is garbage collected.&lt;br/&gt;
&quot;&lt;br/&gt;
 and remove the &quot;Disabling cleanup of temporary files&quot; section:&lt;/p&gt;

&lt;p&gt;Jon Harper&lt;/p&gt;</comment>
                            <comment id="16760841" author="chtompki" created="Tue, 5 Feb 2019 14:11:44 +0000"  >&lt;p&gt;1.4 Released&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10020">
                    <name>Cloners</name>
                                                                <inwardlinks description="is cloned by">
                                        <issuelink>
            <issuekey id="12924425">FILEUPLOAD-270</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>332943</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 40 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1lfon:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>333271</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>