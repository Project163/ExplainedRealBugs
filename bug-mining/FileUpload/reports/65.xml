<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 17:55:33 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FILEUPLOAD-248] [DISK] Unsafe file move operation (possibly swallowing write errors)</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-248</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;Because of a fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-246&quot; title=&quot;FileUpload should use IOUtils.closeQuietly where relevant&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-246&quot;&gt;&lt;del&gt;FILEUPLOAD-246&lt;/del&gt;&lt;/a&gt; I noticed that there is a fileRenameOrCopy function which swallows exceptions on the OutputStream#close() method. This is unsafe since a lot of filesystem operations can fail in exactly this step.&lt;/p&gt;

&lt;p&gt;There is also a Commons IO Utility which does rename or copy, so the whole code block could be removed.&lt;/p&gt;

&lt;p&gt;Problem is here in Line 416: &lt;a href=&quot;http://svn.apache.org/viewvc/commons/proper/fileupload/trunk/src/main/java/org/apache/commons/fileupload/disk/DiskFileItem.java?revision=1568691&amp;amp;view=markup&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc/commons/proper/fileupload/trunk/src/main/java/org/apache/commons/fileupload/disk/DiskFileItem.java?revision=1568691&amp;amp;view=markup&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Besides using FileUtil.move() another option would be to add a out.close() before the catch.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Source&lt;/p&gt;</environment>
        <key id="12695383">FILEUPLOAD-248</key>
            <summary>[DISK] Unsafe file move operation (possibly swallowing write errors)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="b.eckenfels">Bernd Eckenfels</assignee>
                                    <reporter username="b.eckenfels">Bernd Eckenfels</reporter>
                        <labels>
                    </labels>
                <created>Sat, 15 Feb 2014 22:43:17 +0000</created>
                <updated>Tue, 5 Feb 2019 14:11:41 +0000</updated>
                            <resolved>Mon, 19 May 2014 22:34:30 +0000</resolved>
                                    <version>1.4</version>
                                    <fixVersion>1.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13902594" author="sebb@apache.org" created="Sun, 16 Feb 2014 00:37:46 +0000"  >&lt;p&gt;Agreed it would make more sense to use the method from Commons IO.&lt;/p&gt;</comment>
                            <comment id="14002512" author="b.eckenfels" created="Mon, 19 May 2014 22:34:30 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-248&quot; title=&quot;[DISK] Unsafe file move operation (possibly swallowing write errors)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-248&quot;&gt;&lt;del&gt;FILEUPLOAD-248&lt;/del&gt;&lt;/a&gt; DiskFileItem might suppress critical IOExceptions on rename - use FileUtil.move instead.&lt;br/&gt;
Also: close input stream silently to make delete more probable. Remove unneeded BufferedInputStream indirection for readFully().&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1596086&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1596086&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16760835" author="chtompki" created="Tue, 5 Feb 2019 14:11:41 +0000"  >&lt;p&gt;1.4 Released&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>373891</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 40 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sfkf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>374191</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>