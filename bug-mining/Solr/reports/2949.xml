<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:13:23 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-9030] The &apos;downnode&apos; command can trip asserts in ZkStateWriter</title>
                <link>https://issues.apache.org/jira/browse/SOLR-9030</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;While working on &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9014&quot; title=&quot;Deprecate and reduce usage of ClusterState methods which may make calls to ZK via the lazy collection reference&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9014&quot;&gt;&lt;del&gt;SOLR-9014&lt;/del&gt;&lt;/a&gt; I came across a strange test failure.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;   [junit4] ERROR   16.9s | AsyncCallRequestStatusResponseTest.testAsyncCallStatusResponse &amp;lt;&amp;lt;&amp;lt;
   [junit4]    &amp;gt; Throwable #1: com.carrotsearch.randomizedtesting.UncaughtExceptionError: Captured an uncaught exception in thread: &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;[id=46, name=OverseerStateUpdate-95769832112259076-127.0.0.1:51135_z_oeg%2Ft-n_0000000000, state=RUNNABLE, group=Overseer state updater.]
   [junit4]    &amp;gt; 	at __randomizedtesting.SeedInfo.seed([91F68DA7E10807C3:CBF7E84BCF328A1A]:0)
   [junit4]    &amp;gt; Caused by: java.lang.AssertionError
   [junit4]    &amp;gt; 	at __randomizedtesting.SeedInfo.seed([91F68DA7E10807C3]:0)
   [junit4]    &amp;gt; 	at org.apache.solr.cloud.overseer.ZkStateWriter.writePendingUpdates(ZkStateWriter.java:231)
   [junit4]    &amp;gt; 	at org.apache.solr.cloud.Overseer$ClusterStateUpdater.run(Overseer.java:240)
   [junit4]    &amp;gt; 	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The underlying problem can manifest by tripping the above assert or a BadVersionException as well. I found that this was introduced in &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7281&quot; title=&quot;Add an overseer action to publish an entire node as &amp;#39;down&amp;#39;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7281&quot;&gt;&lt;del&gt;SOLR-7281&lt;/del&gt;&lt;/a&gt; where a new &apos;downnode&apos; command was added.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12961645">SOLR-9030</key>
            <summary>The &apos;downnode&apos; command can trip asserts in ZkStateWriter</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="shalin">Shalin Shekhar Mangar</assignee>
                                    <reporter username="shalin">Shalin Shekhar Mangar</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 Apr 2016 13:43:00 +0000</created>
                <updated>Wed, 2 Oct 2019 17:24:10 +0000</updated>
                            <resolved>Fri, 17 Jun 2016 20:57:30 +0000</resolved>
                                                    <fixVersion>5.5.2</fixVersion>
                    <fixVersion>5.6</fixVersion>
                    <fixVersion>6.0.1</fixVersion>
                    <fixVersion>6.1</fixVersion>
                    <fixVersion>7.0</fixVersion>
                                    <component>SolrCloud</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="15253949" author="shalinmangar" created="Fri, 22 Apr 2016 13:44:27 +0000"  >&lt;p&gt;Although it can be reproduced in many tests rarely, I found it in AsyncCallRequestStatusResponseTest. Beasting this test finds the failure pretty often.&lt;/p&gt;</comment>
                            <comment id="15254262" author="markrmiller@gmail.com" created="Fri, 22 Apr 2016 17:23:29 +0000"  >&lt;p&gt;Why does that assert even exist?&lt;/p&gt;</comment>
                            <comment id="15254280" author="markrmiller@gmail.com" created="Fri, 22 Apr 2016 17:29:16 +0000"  >&lt;blockquote&gt;&lt;p&gt;or a BadVersionException as well&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;And shouldn&apos;t we expect that that can happen and deal with it appropriately? (A retry or something?)&lt;/p&gt;

&lt;p&gt;Not that something else might not be off, but it just seems like that assert is strange, and we should handle the case when the setData fails due to a version conflict - seems odd to specify a version to expect to update and then not deal with a failure.&lt;/p&gt;</comment>
                            <comment id="15254288" author="shalinmangar" created="Fri, 22 Apr 2016 17:34:46 +0000"  >&lt;p&gt;It exists to ensure that we do not update/overwrite a cluster state if we had no idea of its previous znode version. Also the default value of znode in a DocCollection is -1. If left unchecked, ZK will overwrite the value in the state without the CAS checks that we rely on.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;And shouldn&apos;t we expect that that can happen and deal with it appropriately? (A retry or something?)&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yes and it does recover automatically. A BadVersionException will cause the complete cluster state to be re-fetched from ZK and the operation is retried. In production environments, the BadVersionException will not be a problem but the overwriting of state can be.&lt;/p&gt;</comment>
                            <comment id="15257309" author="dragonsinth" created="Tue, 26 Apr 2016 00:11:48 +0000"  >&lt;p&gt;Can you try making DocCollection.znodeVersion be private final int?  It&apos;s currently marked as non-final, which makes no sense because it&apos;s never updated.  It&apos;s a long shot, but setting a final instance variable in a constructor gives a stronger concurrency / visibility guarantee than setting a non-final instance var.&lt;/p&gt;</comment>
                            <comment id="15257312" author="dragonsinth" created="Tue, 26 Apr 2016 00:13:06 +0000"  >&lt;p&gt;BTW, can you paste in the beast command you&apos;re using?  I can try it also.&lt;/p&gt;</comment>
                            <comment id="15258043" author="markrmiller@gmail.com" created="Tue, 26 Apr 2016 13:06:38 +0000"  >&lt;blockquote&gt;&lt;p&gt;Can you try making DocCollection.znodeVersion be private final int? It&apos;s currently marked as non-final, which makes no sense because it&apos;s never updated. It&apos;s a long shot, but setting a final instance variable in a constructor gives a stronger concurrency / visibility guarantee than setting a non-final instance var.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;That should not be true should it? An effectively immutable field should have the same thread safety as a final field?&lt;/p&gt;</comment>
                            <comment id="15258071" author="markrmiller@gmail.com" created="Tue, 26 Apr 2016 13:21:29 +0000"  >&lt;p&gt;Of course we should make that final anyway, I&apos;m just trying to make sure I understand - we should be fine with effectively immutable because clusterState is published via volatile right? Final is required when you share an object across threads and don&apos;t safely publish it somehow.&lt;/p&gt;</comment>
                            <comment id="15258110" author="shalinmangar" created="Tue, 26 Apr 2016 13:47:21 +0000"  >&lt;p&gt;You can reproduce using:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;ant -Dtestcase=AsyncCallRequestStatusResponseTest -Dbeast.iters=50 beast
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This particular assert is tripped when the following hold true:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;control_collection is in state format 1&lt;/li&gt;
	&lt;li&gt;collection1 is in state format 2&lt;/li&gt;
	&lt;li&gt;collection1 is created but not written to ZK &amp;#8211; znode version is -1&lt;/li&gt;
	&lt;li&gt;downnode modifies at least two collections (in the above test, it modifies control_collection and collection1)&lt;/li&gt;
	&lt;li&gt;maybeFlushBefore logic is tripped when modifying control_collection (because it is in a different state format) &amp;#8211; this flushes collection1 &amp;#8211; znode version is now 0&lt;/li&gt;
	&lt;li&gt;now the change made by downnode to collection1 trips the assert because when &apos;downnode&apos; was executed, the returned ZkWriteCommand had collection1 with version -1 but now it is 0.&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;One way to solve this problem i.e. to avoid the overwriting would be to use a sentinel value other than -1 for znodeVersion because ZK considers -1 as any version in CAS. If we can use, say Integer.MAX_VALUE then the logic to retry on version conflict will automatically take care of this problem and we can remove the assert too.&lt;/p&gt;</comment>
                            <comment id="15258560" author="dragonsinth" created="Tue, 26 Apr 2016 17:58:10 +0000"  >&lt;p&gt;The final keyword conveys special thread-safety semantics in the JMM.&lt;br/&gt;
&lt;a href=&quot;https://docs.oracle.com/javase/specs/jls/se7/html/jls-17.html#jls-17.5&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://docs.oracle.com/javase/specs/jls/se7/html/jls-17.html#jls-17.5&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I don&apos;t know that this is actually the bug, but because DocCollection initializes znodeVersion to -1 before subsequently setting it to the &apos;correct&apos; value, it&apos;s not out of the question that this could expose a data race that marking the field &apos;final&apos; would have prevented.  We should make that change anyway.  Here&apos;s another description with a code example:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.cs.umd.edu/~pugh/java/memoryModel/jsr-133-faq.html#finalRight&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.cs.umd.edu/~pugh/java/memoryModel/jsr-133-faq.html#finalRight&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I don&apos;t think &quot;effectively final&quot; has any special meaning for instance fields; the compiler can infer that local variables are effectively final through static analysis, but the compiler can&apos;t know whether or not you might modify a non-final instance field via reflection.&lt;/p&gt;</comment>
                            <comment id="15258571" author="dragonsinth" created="Tue, 26 Apr 2016 18:03:24 +0000"  >&lt;p&gt;Nice digging!  Can I just say for the record, I&apos;m not a huge fan of ZkStateWriter in its current formulation.  Would love to chat sometime about its design and how we could improve it.&lt;/p&gt;</comment>
                            <comment id="15259068" author="markrmiller@gmail.com" created="Tue, 26 Apr 2016 22:24:24 +0000"  >&lt;p&gt;Like I said though, those thread-safety semantics apply when you share an object across threads without safe publication. We do safe publication in this case.&lt;/p&gt;

&lt;p&gt;When DocCollection is shared across threads, it&apos;s container object (clusterstate) is published with a volatile (or an atomicreference now?), and any member fields of that volatile object will be fully initialized and sharable across threads as long as they are effectively immutable.&lt;/p&gt;

&lt;p&gt;If we wanted to just share a DocCollection across threads and there was no memory barrier, then they would have to be final and take advantage of the special thread safety semantics in the JVM.&lt;/p&gt;</comment>
                            <comment id="15259219" author="dragonsinth" created="Tue, 26 Apr 2016 23:59:26 +0000"  >&lt;p&gt;I did say it was a long shot. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
Still, any reason for me not to do the 1-liner and make it final?&lt;/p&gt;</comment>
                            <comment id="15262376" author="markrmiller@gmail.com" created="Thu, 28 Apr 2016 15:49:23 +0000"  >&lt;blockquote&gt;&lt;p&gt;Of course we should make that final anyway&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I just wanted to make sure my understanding was correct - I was less sure when I first commented, going by memory, did a lot of reading by the time of my second comment. Pretty confident in my assessment currently. It&apos;s just important, because if I was wrong, we should try and fix a bunch of faulty code, as I&apos;m sure there is more code like this. As it is, final is better, but not required. You can count on a volatile field having it&apos;s constructor run and all of it&apos;s fields being initialized as if it all happened in a single thread.&lt;/p&gt;</comment>
                            <comment id="15263124" author="dragonsinth" created="Thu, 28 Apr 2016 22:06:14 +0000"  >&lt;p&gt;Glad you wrote back to clarify, this got me to go do some reading as well and I agree with your conclusions.&lt;/p&gt;</comment>
                            <comment id="15270465" author="shalinmangar" created="Wed, 4 May 2016 10:51:27 +0000"  >&lt;p&gt;Yeah you have said that before. I am all for simplifying and improving it but I don&apos;t have an idea right now. I&apos;d be happy to hear your thoughts.&lt;/p&gt;</comment>
                            <comment id="15270875" author="dragonsinth" created="Wed, 4 May 2016 15:54:07 +0000"  >&lt;p&gt;ZkStateWriter is basically a write cache.  It should be much simpler than it is.  A few things that bug me in no particular order:&lt;/p&gt;

&lt;p&gt;1) Tracking lastStateFormat / lastCollectionName and in general having a maybeFlushBefore / maybeFlushAfter makes no real sense to me.  If ZkStateWriter were capable of operating as a perfect write cache, the &lt;b&gt;content&lt;/b&gt; of what&apos;s being written should never force a flush.  It should be able to just always keep queuing operations until the desired time delay is hit, or it&apos;s flushed from the outside.&lt;/p&gt;

&lt;p&gt;2) ZkStateWriter&apos;s ClusterState liveNodes should probably be a view on ZkStateReader&apos;s ClusterState liveNode.&lt;/p&gt;

&lt;p&gt;3) ZkWriteCallback - the one place this is used is the Overseer stateUpdateQueue handling.  I think the way that loop works would ZkStateWriter could be done a little better.  Ideally, I would want to peek up to N children at a time from that queue, send them all through ZkStateWriter in succession, flush, then remove those N items from the stateUpdateQueue.   If the flush failed from some reason, it could return a count of items committed so we could remove that many items from the stateUpdateQueue.  It seems a little nuts to have a second workQueue in operation the way it is today.  I get that in some situations we&apos;d end up doing more net cluster state writes, but I think we&apos;d still do fewer net writes to ZK since we do so much queue management.&lt;/p&gt;</comment>
                            <comment id="15271600" author="shalinmangar" created="Wed, 4 May 2016 22:57:57 +0000"  >&lt;p&gt;Patch which uses Integer.MAX_VALUE as the default znodeVersion and removes the assert in ZkStateWriter. The &apos;downnode&apos; still has the problem that I described above but with this patch it will cause a BadVersionException which the Overseer is designed to recover from.&lt;/p&gt;</comment>
                            <comment id="15271607" author="shalinmangar" created="Wed, 4 May 2016 23:05:07 +0000"  >&lt;p&gt;Regarding #1, somebody still has to determine when to flush, maybe we just always do it time-based. In that case the logic can move (back) to Overseer. This flushing logic used to live in Overseer initially but it made things complicated so I moved it out to ZkStateWriter to simplify the overseer loop.&lt;/p&gt;

&lt;p&gt;For #2 &amp;#8211; the ZkStateWriter&apos;s live nodes aren&apos;t used anywhere. It is only for correctness that I always copy over live nodes from the ZkStateReader. I don&apos;t mind doing this though.&lt;/p&gt;

&lt;p&gt;For #3 &amp;#8211; I never liked ZkWriteCallback even though I wrote that bit. It was always a hack. I like your idea of peeking N items at a time.&lt;/p&gt;

&lt;p&gt;Let&apos;s create separate issues to track these improvements.&lt;/p&gt;</comment>
                            <comment id="15271647" author="shalinmangar" created="Wed, 4 May 2016 23:45:13 +0000"  >&lt;p&gt;I made the znode version final as well. I&apos;ll commit this now.&lt;/p&gt;</comment>
                            <comment id="15271650" author="jira-bot" created="Wed, 4 May 2016 23:46:59 +0000"  >&lt;p&gt;Commit c2662f24ac171c38aa17c0b7bbae0fd6b43652b5 in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=shalin&quot; class=&quot;user-hover&quot; rel=&quot;shalin&quot;&gt;shalin&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=c2662f2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=c2662f2&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9030&quot; title=&quot;The &amp;#39;downnode&amp;#39; command can trip asserts in ZkStateWriter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9030&quot;&gt;&lt;del&gt;SOLR-9030&lt;/del&gt;&lt;/a&gt;: The &apos;downnode&apos; overseer command can trip asserts in ZkStateWriter&lt;/p&gt;</comment>
                            <comment id="15271654" author="jira-bot" created="Wed, 4 May 2016 23:48:38 +0000"  >&lt;p&gt;Commit 827573b1a7bda2ae853f03c518f313e5992c1a7c in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=shalin&quot; class=&quot;user-hover&quot; rel=&quot;shalin&quot;&gt;shalin&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=827573b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=827573b&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9030&quot; title=&quot;The &amp;#39;downnode&amp;#39; command can trip asserts in ZkStateWriter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9030&quot;&gt;&lt;del&gt;SOLR-9030&lt;/del&gt;&lt;/a&gt;: Added a code comment as to why we use Integer.MAX_VALUE instead of -1&lt;/p&gt;</comment>
                            <comment id="15272166" author="jira-bot" created="Thu, 5 May 2016 10:28:41 +0000"  >&lt;p&gt;Commit 29f69975022e6937e75091237e884fead444d07b in lucene-solr&apos;s branch refs/heads/branch_6x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=shalin&quot; class=&quot;user-hover&quot; rel=&quot;shalin&quot;&gt;shalin&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=29f6997&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=29f6997&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9030&quot; title=&quot;The &amp;#39;downnode&amp;#39; command can trip asserts in ZkStateWriter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9030&quot;&gt;&lt;del&gt;SOLR-9030&lt;/del&gt;&lt;/a&gt;: The &apos;downnode&apos; overseer command can trip asserts in ZkStateWriter&lt;br/&gt;
(cherry picked from commit c2662f2)&lt;/p&gt;</comment>
                            <comment id="15272170" author="jira-bot" created="Thu, 5 May 2016 10:33:44 +0000"  >&lt;p&gt;Commit ee45e83439a69e67037413304c32e3caf0bfb1d2 in lucene-solr&apos;s branch refs/heads/branch_6x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=shalin&quot; class=&quot;user-hover&quot; rel=&quot;shalin&quot;&gt;shalin&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=ee45e83&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=ee45e83&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9030&quot; title=&quot;The &amp;#39;downnode&amp;#39; command can trip asserts in ZkStateWriter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9030&quot;&gt;&lt;del&gt;SOLR-9030&lt;/del&gt;&lt;/a&gt;: Added a code comment as to why we use Integer.MAX_VALUE instead of -1&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 827573b1a7bda2ae853f03c518f313e5992c1a7c)&lt;/p&gt;</comment>
                            <comment id="15272190" author="shalinmangar" created="Thu, 5 May 2016 10:51:14 +0000"  >&lt;p&gt;I renamed the issue to remove the part about BadVersionException because that is to be expected with the current design but handled already.&lt;/p&gt;

&lt;p&gt;Let&apos;s create separate issues for ZkStateWriter/Overseer improvements.&lt;/p&gt;

&lt;p&gt;Thanks Mark and Scott!&lt;/p&gt;</comment>
                            <comment id="15277139" author="hossman" created="Mon, 9 May 2016 22:01:07 +0000"  >
&lt;p&gt;Manually correcting fixVersion per Step #S5 of &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-7271&quot; title=&quot;Cleanup jira&amp;#39;s concept of &amp;#39;master&amp;#39; and &amp;#39;6.0&amp;#39;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LUCENE-7271&quot;&gt;&lt;del&gt;LUCENE-7271&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15294253" author="steve_rowe" created="Fri, 20 May 2016 21:23:41 +0000"  >&lt;p&gt;Reopening to backport to 6.0.1.&lt;/p&gt;</comment>
                            <comment id="15294257" author="jira-bot" created="Fri, 20 May 2016 21:24:28 +0000"  >&lt;p&gt;Commit 4330710c114b6161ca78a0d92adaa273b92fad88 in lucene-solr&apos;s branch refs/heads/branch_6_0 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=shalin&quot; class=&quot;user-hover&quot; rel=&quot;shalin&quot;&gt;shalin&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=4330710&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=4330710&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9030&quot; title=&quot;The &amp;#39;downnode&amp;#39; command can trip asserts in ZkStateWriter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9030&quot;&gt;&lt;del&gt;SOLR-9030&lt;/del&gt;&lt;/a&gt;: The &apos;downnode&apos; overseer command can trip asserts in ZkStateWriter&lt;br/&gt;
(cherry picked from commit c2662f2)&lt;/p&gt;</comment>
                            <comment id="15294258" author="jira-bot" created="Fri, 20 May 2016 21:24:29 +0000"  >&lt;p&gt;Commit a6adc681be2514f61d8e785ca360c204c2c60131 in lucene-solr&apos;s branch refs/heads/branch_6_0 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=shalin&quot; class=&quot;user-hover&quot; rel=&quot;shalin&quot;&gt;shalin&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=a6adc68&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=a6adc68&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9030&quot; title=&quot;The &amp;#39;downnode&amp;#39; command can trip asserts in ZkStateWriter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9030&quot;&gt;&lt;del&gt;SOLR-9030&lt;/del&gt;&lt;/a&gt;: Added a code comment as to why we use Integer.MAX_VALUE instead of -1&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 827573b1a7bda2ae853f03c518f313e5992c1a7c)&lt;/p&gt;</comment>
                            <comment id="15305369" author="steve_rowe" created="Sat, 28 May 2016 13:38:26 +0000"  >&lt;p&gt;Bulk close issues included in the 6.0.1 release.&lt;/p&gt;</comment>
                            <comment id="15336933" author="steve_rowe" created="Fri, 17 Jun 2016 20:56:45 +0000"  >&lt;p&gt;Reopening to backport to 5.6 and 5.5.2.&lt;/p&gt;</comment>
                            <comment id="15336934" author="jira-bot" created="Fri, 17 Jun 2016 20:57:20 +0000"  >&lt;p&gt;Commit fb6f42a7bc311f7cb95653db6718c6eac94090c1 in lucene-solr&apos;s branch refs/heads/branch_5_5 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=shalin&quot; class=&quot;user-hover&quot; rel=&quot;shalin&quot;&gt;shalin&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=fb6f42a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=fb6f42a&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9030&quot; title=&quot;The &amp;#39;downnode&amp;#39; command can trip asserts in ZkStateWriter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9030&quot;&gt;&lt;del&gt;SOLR-9030&lt;/del&gt;&lt;/a&gt;: The &apos;downnode&apos; overseer command can trip asserts in ZkStateWriter&lt;br/&gt;
(cherry picked from commit c2662f2)&lt;/p&gt;</comment>
                            <comment id="15336935" author="jira-bot" created="Fri, 17 Jun 2016 20:57:22 +0000"  >&lt;p&gt;Commit e62e6c4b79cfe297d1b34c26bd1911ec5d448ca4 in lucene-solr&apos;s branch refs/heads/branch_5x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=shalin&quot; class=&quot;user-hover&quot; rel=&quot;shalin&quot;&gt;shalin&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=e62e6c4&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=e62e6c4&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9030&quot; title=&quot;The &amp;#39;downnode&amp;#39; command can trip asserts in ZkStateWriter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9030&quot;&gt;&lt;del&gt;SOLR-9030&lt;/del&gt;&lt;/a&gt;: The &apos;downnode&apos; overseer command can trip asserts in ZkStateWriter&lt;br/&gt;
(cherry picked from commit c2662f2)&lt;/p&gt;</comment>
                            <comment id="15336940" author="jira-bot" created="Fri, 17 Jun 2016 20:59:05 +0000"  >&lt;p&gt;Commit 71a28b100712706a002eb364bcaa88b81b86a04e in lucene-solr&apos;s branch refs/heads/branch_5_5 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=shalin&quot; class=&quot;user-hover&quot; rel=&quot;shalin&quot;&gt;shalin&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=71a28b1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=71a28b1&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9030&quot; title=&quot;The &amp;#39;downnode&amp;#39; command can trip asserts in ZkStateWriter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9030&quot;&gt;&lt;del&gt;SOLR-9030&lt;/del&gt;&lt;/a&gt;: Added a code comment as to why we use Integer.MAX_VALUE instead of -1&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 827573b1a7bda2ae853f03c518f313e5992c1a7c)&lt;/p&gt;</comment>
                            <comment id="15336941" author="jira-bot" created="Fri, 17 Jun 2016 20:59:06 +0000"  >&lt;p&gt;Commit 394822de751f93cd39d01f26b352f299193ee31c in lucene-solr&apos;s branch refs/heads/branch_5x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=shalin&quot; class=&quot;user-hover&quot; rel=&quot;shalin&quot;&gt;shalin&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=394822d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=394822d&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9030&quot; title=&quot;The &amp;#39;downnode&amp;#39; command can trip asserts in ZkStateWriter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9030&quot;&gt;&lt;del&gt;SOLR-9030&lt;/del&gt;&lt;/a&gt;: Added a code comment as to why we use Integer.MAX_VALUE instead of -1&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 827573b1a7bda2ae853f03c518f313e5992c1a7c)&lt;/p&gt;</comment>
                            <comment id="15349803" author="steve_rowe" created="Sat, 25 Jun 2016 20:33:52 +0000"  >&lt;p&gt;Bulk close issues released with 5.5.2.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12802315" name="SOLR-9030.patch" size="2739" author="shalin" created="Wed, 4 May 2016 23:45:13 +0000"/>
                            <attachment id="12802302" name="SOLR-9030.patch" size="2713" author="shalin" created="Wed, 4 May 2016 22:57:57 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 21 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2wl9j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>