<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 05:12:31 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-17837] BALANCESHARDUNIQUE with `preferredLeader` sets property for PULL nodes</title>
                <link>https://issues.apache.org/jira/browse/SOLR-17837</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;The `preferredLeader` property can be set using the collection admin BALANCESHARDUNIQUE action. However if you run this on a cloud in a TLOG/PULL configuration, PULL nodes are also included in the balancing distribution. This seems to be an incorrect behavior as PULL nodes can never be elected leader.&lt;/p&gt;

&lt;p&gt;For `preferredLeader` property, only NRT/TLOG nodes should be considered&lt;/p&gt;</description>
                <environment></environment>
        <key id="13625571">SOLR-17837</key>
            <summary>BALANCESHARDUNIQUE with `preferredLeader` sets property for PULL nodes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="houston">Houston Putman</assignee>
                                    <reporter username="liangkaiwen">Kevin Liang</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Tue, 5 Aug 2025 18:11:46 +0000</created>
                <updated>Fri, 7 Nov 2025 08:38:09 +0000</updated>
                            <resolved>Fri, 12 Sep 2025 21:57:16 +0000</resolved>
                                    <version>9.8.1</version>
                                    <fixVersion>9.10</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="7800">2h 10m</timespent>
                                <comments>
                            <comment id="18019947" author="jira-bot" created="Fri, 12 Sep 2025 21:46:26 +0000"  >&lt;p&gt;Commit b69f698b3c5ca0ff9d51d7f6387e39caa281c115 in solr&apos;s branch refs/heads/main from Kevin Liang&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=b69f698b3c5&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=b69f698b3c5&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-17837&quot; title=&quot;BALANCESHARDUNIQUE with `preferredLeader` sets property for PULL nodes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-17837&quot;&gt;&lt;del&gt;SOLR-17837&lt;/del&gt;&lt;/a&gt;: Omit PULL replicas from preferredLeader prop distribution (#3451)&lt;/p&gt;

&lt;p&gt;Co-authored-by: kliang78 &amp;lt;kliang78@bloomberg.net&amp;gt;&lt;br/&gt;
Co-authored-by: Houston Putman &amp;lt;houston@apache.org&amp;gt;&lt;/p&gt;</comment>
                            <comment id="18019949" author="jira-bot" created="Fri, 12 Sep 2025 21:54:46 +0000"  >&lt;p&gt;Commit 9ce1eefcde7df27a1d48cd14e7d51f1234df2afa in solr&apos;s branch refs/heads/branch_9x from Kevin Liang&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=9ce1eefcde7&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=9ce1eefcde7&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-17837&quot; title=&quot;BALANCESHARDUNIQUE with `preferredLeader` sets property for PULL nodes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-17837&quot;&gt;&lt;del&gt;SOLR-17837&lt;/del&gt;&lt;/a&gt;: Omit PULL replicas from preferredLeader prop distribution (#3451)&lt;/p&gt;

&lt;p&gt;Co-authored-by: kliang78 &amp;lt;kliang78@bloomberg.net&amp;gt;&lt;br/&gt;
Co-authored-by: Houston Putman &amp;lt;houston@apache.org&amp;gt;&lt;br/&gt;
(cherry picked from commit b69f698b3c5ca0ff9d51d7f6387e39caa281c115)&lt;/p&gt;</comment>
                            <comment id="18020074" author="jira-bot" created="Sat, 13 Sep 2025 20:47:47 +0000"  >&lt;p&gt;Commit b69f698b3c5ca0ff9d51d7f6387e39caa281c115 in solr&apos;s branch refs/heads/dependabot/gradle/netty-4.2.5.Final from Kevin Liang&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=b69f698b3c5&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=b69f698b3c5&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-17837&quot; title=&quot;BALANCESHARDUNIQUE with `preferredLeader` sets property for PULL nodes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-17837&quot;&gt;&lt;del&gt;SOLR-17837&lt;/del&gt;&lt;/a&gt;: Omit PULL replicas from preferredLeader prop distribution (#3451)&lt;/p&gt;

&lt;p&gt;Co-authored-by: kliang78 &amp;lt;kliang78@bloomberg.net&amp;gt;&lt;br/&gt;
Co-authored-by: Houston Putman &amp;lt;houston@apache.org&amp;gt;&lt;/p&gt;</comment>
                            <comment id="18022852" author="hossman" created="Thu, 25 Sep 2025 16:44:36 +0000"  >&lt;p&gt;FYI: The test changes here seem to cause TestReplicaProperties to trigger &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-3696&quot; title=&quot;LBHttpSolrServer&amp;#39;s aliveCheckExecutor is not closed in RecoveryZkTest (and possibly other tests)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-3696&quot;&gt;&lt;del&gt;SOLR-3696&lt;/del&gt;&lt;/a&gt; fairly often on main (which is great! because it helped me track down the cause)&lt;/p&gt;</comment>
                            <comment id="18036148" author="janhoy" created="Fri, 7 Nov 2025 08:38:09 +0000"  >&lt;p&gt;Closing after the 9.10.0 release&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12600814">SOLR-3696</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1x49k:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>