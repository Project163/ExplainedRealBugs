<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:21:21 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-10357] When sow=false, edismax&amp;standard query parsers should handle per-fieldtype autoGeneratePhraseQueries by setting QueryBuilder.autoGenerateMultiTermSynonymsQuery</title>
                <link>https://issues.apache.org/jira/browse/SOLR-10357</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;Right now, the options to not split on whitespace (&lt;tt&gt;sow=false&lt;/tt&gt;) and to autogenerate phrase queries (&lt;tt&gt;autoGeneratePhraseQueries=&quot;true&quot;&lt;/tt&gt;) will cause queries to throw an exception, since they are incompatible.&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;QueryBuilder.autoGenerateMultiTermSynonymsPhraseQuery&lt;/tt&gt;, introduced in &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-7638&quot; title=&quot;Optimize graph query produced by QueryBuilder&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LUCENE-7638&quot;&gt;&lt;del&gt;LUCENE-7638&lt;/del&gt;&lt;/a&gt;, is the graph query version of Solr&apos;s per-fieldtype &lt;tt&gt;autoGeneratePhraseQueries&lt;/tt&gt; option, and is not incompatible with &lt;tt&gt;sow=false&lt;/tt&gt;.  &lt;/p&gt;

&lt;p&gt;So &lt;tt&gt;autoGeneratePhraseQueries=&quot;true&quot;&lt;/tt&gt; should cause  &lt;tt&gt;QueryBuilder.autoGenerateMultiTermSynonymsPhraseQuery&lt;/tt&gt; to be set to true when &lt;tt&gt;sow=false&lt;/tt&gt;, rather than triggering an exception.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13058771">SOLR-10357</key>
            <summary>When sow=false, edismax&amp;standard query parsers should handle per-fieldtype autoGeneratePhraseQueries by setting QueryBuilder.autoGenerateMultiTermSynonymsQuery</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sarowe">Steven Rowe</assignee>
                                    <reporter username="sarowe">Steven Rowe</reporter>
                        <labels>
                    </labels>
                <created>Fri, 24 Mar 2017 00:25:02 +0000</created>
                <updated>Sat, 8 Jun 2019 15:33:35 +0000</updated>
                            <resolved>Tue, 28 Mar 2017 22:41:14 +0000</resolved>
                                                    <fixVersion>6.6</fixVersion>
                    <fixVersion>7.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15940225" author="dsmiley" created="Fri, 24 Mar 2017 12:13:22 +0000"  >&lt;p&gt;+1 to the idea.&lt;/p&gt;</comment>
                            <comment id="15944141" author="steve_rowe" created="Mon, 27 Mar 2017 22:23:42 +0000"  >&lt;p&gt;Patch implementing the idea.  &lt;/p&gt;

&lt;p&gt;There remains an issue: the original auto-gen use case (for e.g. &lt;tt&gt;wifi =&amp;gt; wi fi&lt;/tt&gt;, replacing a single token with multiple tokens, but no overlapping terms) still doesn&apos;t auto-generate a phrase query for &lt;tt&gt;wi fi&lt;/tt&gt; if synonyms are replaced rather than expanded when  &lt;tt&gt;QueryBuilder.autoGenerateMultiTermSynonymsQuery&lt;/tt&gt; is set to &lt;tt&gt;true&lt;/tt&gt;.  So this is not (yet) a complete solution.  IMHO this is a weakness of how &lt;tt&gt;QueryBuilder&lt;/tt&gt; decides whether to invoke &quot;graph&quot; processing, currently only when a posLength &amp;gt; 1 is encountered (as when there are &lt;b&gt;overlapping&lt;/b&gt; multi-word synonyms).&lt;/p&gt;

&lt;p&gt;This patch changes the test schema named &lt;tt&gt;schema12.xml&lt;/tt&gt; to use the graph-aware versions of the synonym and word delimiter filters.  Instead of committing as-is (pending full testing and precommit, not yet done), I&apos;ll do the rote schema conversions on &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10343&quot; title=&quot;Update Solr default/example and test configs to use SynonymGraphFilterFactory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10343&quot;&gt;&lt;del&gt;SOLR-10343&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10344&quot; title=&quot;Update Solr default/example and test configs to use WordDelimiterGraphFilterFactory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10344&quot;&gt;&lt;del&gt;SOLR-10344&lt;/del&gt;&lt;/a&gt; and set those as blockers of this issue; that seems like a more appropriate way to handle whatever conflicts might come up from other uses of &lt;tt&gt;schema12.xml&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="15945449" author="steve_rowe" created="Tue, 28 Mar 2017 16:06:48 +0000"  >&lt;p&gt;Updated patch after committing &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10343&quot; title=&quot;Update Solr default/example and test configs to use SynonymGraphFilterFactory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10343&quot;&gt;&lt;del&gt;SOLR-10343&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10344&quot; title=&quot;Update Solr default/example and test configs to use WordDelimiterGraphFilterFactory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10344&quot;&gt;&lt;del&gt;SOLR-10344&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Running tests and precommit now.&lt;/p&gt;</comment>
                            <comment id="15946094" author="steve_rowe" created="Tue, 28 Mar 2017 22:35:24 +0000"  >&lt;p&gt;Final patch.  Previous patches were missing QueryParser.java changes (I directly changed this file, then regenerated from QueryParser.jj, then made a patch...)&lt;/p&gt;

&lt;p&gt;Solr tests and precommit pass.  Committing shortly.&lt;/p&gt;</comment>
                            <comment id="15946111" author="jira-bot" created="Tue, 28 Mar 2017 22:40:21 +0000"  >&lt;p&gt;Commit da2cfda02fe539c42f1794fc56a478a3acc7d111 in lucene-solr&apos;s branch refs/heads/branch_6x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=steve_rowe&quot; class=&quot;user-hover&quot; rel=&quot;steve_rowe&quot;&gt;steve_rowe&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=da2cfda&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=da2cfda&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10357&quot; title=&quot;When sow=false, edismax&amp;amp;standard query parsers should handle per-fieldtype autoGeneratePhraseQueries by setting QueryBuilder.autoGenerateMultiTermSynonymsQuery&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10357&quot;&gt;&lt;del&gt;SOLR-10357&lt;/del&gt;&lt;/a&gt;: Enable edismax and standard query parsers to handle the option combination sow=false / autoGeneratePhraseQueries=true by setting QueryBuilder.autoGenerateMultiTermSynonymsQuery&lt;/p&gt;</comment>
                            <comment id="15946112" author="jira-bot" created="Tue, 28 Mar 2017 22:40:24 +0000"  >&lt;p&gt;Commit 0a689f4d95e981e99ae0e80741e7cf1fa74ff60f in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=steve_rowe&quot; class=&quot;user-hover&quot; rel=&quot;steve_rowe&quot;&gt;steve_rowe&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=0a689f4&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=0a689f4&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10357&quot; title=&quot;When sow=false, edismax&amp;amp;standard query parsers should handle per-fieldtype autoGeneratePhraseQueries by setting QueryBuilder.autoGenerateMultiTermSynonymsQuery&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10357&quot;&gt;&lt;del&gt;SOLR-10357&lt;/del&gt;&lt;/a&gt;: Enable edismax and standard query parsers to handle the option combination sow=false / autoGeneratePhraseQueries=true by setting QueryBuilder.autoGenerateMultiTermSynonymsQuery&lt;/p&gt;</comment>
                            <comment id="15946497" author="dsmiley" created="Wed, 29 Mar 2017 04:02:30 +0000"  >&lt;p&gt;Thanks Steve.&lt;/p&gt;</comment>
                            <comment id="16004760" author="jira-bot" created="Wed, 10 May 2017 14:24:37 +0000"  >&lt;p&gt;Commit 7d164a1dbe825703d835aa912edd98b660e2a8c4 in lucene-solr&apos;s branch refs/heads/branch_6_6 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=steve_rowe&quot; class=&quot;user-hover&quot; rel=&quot;steve_rowe&quot;&gt;steve_rowe&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=7d164a1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=7d164a1&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10357&quot; title=&quot;When sow=false, edismax&amp;amp;standard query parsers should handle per-fieldtype autoGeneratePhraseQueries by setting QueryBuilder.autoGenerateMultiTermSynonymsQuery&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10357&quot;&gt;&lt;del&gt;SOLR-10357&lt;/del&gt;&lt;/a&gt;: add attribution to CHANGES entry&lt;/p&gt;</comment>
                            <comment id="16004761" author="jira-bot" created="Wed, 10 May 2017 14:24:40 +0000"  >&lt;p&gt;Commit f0e6e89a420b8f8f98aecc69a4d459a409f0d09c in lucene-solr&apos;s branch refs/heads/branch_6x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=steve_rowe&quot; class=&quot;user-hover&quot; rel=&quot;steve_rowe&quot;&gt;steve_rowe&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=f0e6e89&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=f0e6e89&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10357&quot; title=&quot;When sow=false, edismax&amp;amp;standard query parsers should handle per-fieldtype autoGeneratePhraseQueries by setting QueryBuilder.autoGenerateMultiTermSynonymsQuery&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10357&quot;&gt;&lt;del&gt;SOLR-10357&lt;/del&gt;&lt;/a&gt;: add attribution to CHANGES entry&lt;/p&gt;</comment>
                            <comment id="16004762" author="jira-bot" created="Wed, 10 May 2017 14:24:44 +0000"  >&lt;p&gt;Commit 4cc20d27cd2da40801ca15ba1478a43a1a121781 in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=steve_rowe&quot; class=&quot;user-hover&quot; rel=&quot;steve_rowe&quot;&gt;steve_rowe&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=4cc20d2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=4cc20d2&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10357&quot; title=&quot;When sow=false, edismax&amp;amp;standard query parsers should handle per-fieldtype autoGeneratePhraseQueries by setting QueryBuilder.autoGenerateMultiTermSynonymsQuery&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10357&quot;&gt;&lt;del&gt;SOLR-10357&lt;/del&gt;&lt;/a&gt;: add attribution to CHANGES entry&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="13056857">SOLR-10310</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="13058344">SOLR-10343</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13058345">SOLR-10344</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12860953" name="SOLR-10357.patch" size="25413" author="sarowe" created="Tue, 28 Mar 2017 22:35:24 +0000"/>
                            <attachment id="12860894" name="SOLR-10357.patch" size="25508" author="sarowe" created="Tue, 28 Mar 2017 16:06:48 +0000"/>
                            <attachment id="12860752" name="SOLR-10357.patch" size="26477" author="sarowe" created="Mon, 27 Mar 2017 22:23:42 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 27 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3cq9b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>