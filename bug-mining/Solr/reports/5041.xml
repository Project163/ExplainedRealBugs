<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:59:35 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-16771] &quot;Logging &gt; Level&quot; UI/API does not properly get/update loggers with &apos;unset&apos; Level</title>
                <link>https://issues.apache.org/jira/browse/SOLR-16771</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>
&lt;p&gt;If you&apos;re using the Solr Admin UI, or the underlying &lt;tt&gt;/admin/info/logging&lt;/tt&gt; request handler, the option to &apos;unset&apos; a log level (so the specified logger will inherit the effective level from it&apos;s parent) doesn&apos;t actually work.&lt;/p&gt;

&lt;p&gt;This is because the underlying &lt;tt&gt;Log4j2Watcher&lt;/tt&gt; impl is explicitly calling &lt;tt&gt;LoggerConfig.setLevel(Level.OFF)&lt;/tt&gt; &amp;#8211; meaning it won&apos;t log anything regardless of what it&apos;s parent logger setting is.&lt;/p&gt;

&lt;p&gt;The correct behavior is to use &lt;tt&gt;LoggerConfig.setLevel(null)&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;While looking into this, I realized that the impls of &lt;tt&gt;Log4j2Watcher.getAllLoggers()&lt;/tt&gt; and &lt;tt&gt;Log4j2Watcher.Log4j2Info.isSet()&lt;/tt&gt; are also really bizarre and don&apos;t make much sense &amp;#8211; making it impossible to tell in the UI which classes &lt;b&gt;actually&lt;/b&gt; have a &apos;set&apos; value in the underlying Log4j2 configuration.&lt;/p&gt;

&lt;p&gt;( Just because a &lt;tt&gt;LoggerConfig&lt;/tt&gt; exists for a loggerName, doesn&apos;t mean it&apos;s &lt;tt&gt;Level&lt;/tt&gt; is &quot;set&quot; &amp;#8211; but the code currently assumes it does. That&apos;s the distinction between &lt;tt&gt;LoggerConfig.getLevel()&lt;/tt&gt; and &lt;tt&gt;LoggerConfig.getExplicitLevel()&lt;/tt&gt; &amp;#8211; the later may return null.)&lt;/p&gt;
</description>
                <environment></environment>
        <key id="13534051">SOLR-16771</key>
            <summary>&quot;Logging &gt; Level&quot; UI/API does not properly get/update loggers with &apos;unset&apos; Level</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hossman">Chris M. Hostetter</assignee>
                                    <reporter username="hossman">Chris M. Hostetter</reporter>
                        <labels>
                    </labels>
                <created>Tue, 25 Apr 2023 20:34:31 +0000</created>
                <updated>Fri, 17 Oct 2025 20:05:47 +0000</updated>
                            <resolved>Wed, 3 May 2023 19:35:36 +0000</resolved>
                                                    <fixVersion>9.3</fixVersion>
                    <fixVersion>10.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17716432" author="hossman" created="Tue, 25 Apr 2023 20:35:29 +0000"  >
&lt;p&gt;Attaching a patch to fix all this.&lt;/p&gt;

&lt;p&gt;I&apos;m surprised at how long this bug has existed.&lt;/p&gt;

&lt;p&gt;What&apos;s really wild is that the old &lt;tt&gt;Log4jWatcher&lt;/tt&gt; handled the &lt;tt&gt;setLevel(Level.OFF)&lt;/tt&gt; case correctly (although it&apos;s &lt;tt&gt;Log4Info.isSet()&lt;/tt&gt; impl seems like it was equally buggy in terms of returning info about what is/isn&apos;t set)&lt;/p&gt;
</comment>
                            <comment id="17719032" author="jira-bot" created="Wed, 3 May 2023 19:00:16 +0000"  >&lt;p&gt;Commit 0788fb488b78a31347738bbc481041f115f673f0 in solr&apos;s branch refs/heads/main from Chris M. Hostetter&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=0788fb488b7&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=0788fb488b7&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16771&quot; title=&quot;&amp;quot;Logging &amp;gt; Level&amp;quot; UI/API does not properly get/update loggers with &amp;#39;unset&amp;#39; Level&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16771&quot;&gt;&lt;del&gt;SOLR-16771&lt;/del&gt;&lt;/a&gt;: Fixed behavior and handling of &apos;unset&apos; logging levels in /admin/info/logging API and related Admin UI&lt;/p&gt;</comment>
                            <comment id="17719039" author="jira-bot" created="Wed, 3 May 2023 19:34:55 +0000"  >&lt;p&gt;Commit 3c85e495203ea2cf83622b56bdd150231553b94e in solr&apos;s branch refs/heads/branch_9x from Chris M. Hostetter&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=3c85e495203&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=3c85e495203&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16771&quot; title=&quot;&amp;quot;Logging &amp;gt; Level&amp;quot; UI/API does not properly get/update loggers with &amp;#39;unset&amp;#39; Level&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16771&quot;&gt;&lt;del&gt;SOLR-16771&lt;/del&gt;&lt;/a&gt;: Fixed behavior and handling of &apos;unset&apos; logging levels in /admin/info/logging API and related Admin UI&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 0788fb488b78a31347738bbc481041f115f673f0)&lt;/p&gt;</comment>
                            <comment id="17745741" author="houston" created="Fri, 21 Jul 2023 20:40:34 +0000"  >&lt;p&gt;Closing after the 9.3.0 release&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13057572" name="SOLR-16771.patch" size="17924" author="hossman" created="Tue, 25 Apr 2023 20:35:02 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 16 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1hj34:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>