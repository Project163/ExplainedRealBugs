<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:19:59 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-10134] EmbeddedSolrServer does not support SchemaAPI</title>
                <link>https://issues.apache.org/jira/browse/SOLR-10134</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;The EmbeddedSolrServer server does not support calls to the POST methods of SchemaAPI using SolRJ api. The reason is that the httpMethod param is never set by the EmbeddedSolrServer#request(SolrRequest, String) and this is later required by the SchemaHandler class that actually performs the call at SchemaHandler#handleRequestBody(SolrQueryRequest, SolrQueryResponse). &lt;/p&gt;

&lt;p&gt;Proposal is to enhance the EmbeddedSolrServer to forward the httpMethod at aprox row 174 with the following: &quot;req.getContext().put(&quot;httpMethod&quot;, request.getMethod().name());&quot;. This change requires the Factory methods of SolrJ to add the intended method to be used example : new SchemaRequest.AddField(....) should append the POST method similar to how the SchemaRequest.Field appends the GET method.&lt;/p&gt;

&lt;p&gt;I have written a separate EmbeddedSolrServer that replaces the one in SolR. It works for now and fields can be created on the fly using the SchemaAPI of the solrj client, but would like to be able to remove this workaround.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13042946">SOLR-10134</key>
            <summary>EmbeddedSolrServer does not support SchemaAPI</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="robert_alex">Robert Alexandersson</reporter>
                        <labels>
                            <label>test-driven</label>
                    </labels>
                <created>Tue, 14 Feb 2017 13:41:37 +0000</created>
                <updated>Sat, 8 Jun 2019 15:34:39 +0000</updated>
                            <resolved>Wed, 1 Mar 2017 14:21:13 +0000</resolved>
                                    <version>6.4.1</version>
                                    <fixVersion>6.5</fixVersion>
                    <fixVersion>7.0</fixVersion>
                                    <component>Server</component>
                    <component>SolrJ</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                    <workratio workratioPercent="16"/>
                                    <progress percentage="16">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="16" backgroundColor="#51a825"/>
                                                    <row percentage="84" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="16">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="16" backgroundColor="#51a825"/>
                                                    <row percentage="84" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="7200">2h</timeoriginalestimate>
                            <timeestimate seconds="6000">1h 40m</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="15869582" author="mkhludnev" created="Thu, 16 Feb 2017 09:14:48 +0000"  >&lt;p&gt;can you create a patch? &lt;/p&gt;</comment>
                            <comment id="15870187" author="robert_alex" created="Thu, 16 Feb 2017 16:09:02 +0000"  >&lt;p&gt;Path uploaded and can be found here as well: &lt;a href=&quot;https://github.com/alero/lucene-solr/commit/3603832e3d4fdb3bfe3fa9eb27202b71dda4e068&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/alero/lucene-solr/commit/3603832e3d4fdb3bfe3fa9eb27202b71dda4e068&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15870303" author="mkhludnev" created="Thu, 16 Feb 2017 17:11:58 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=alero&quot; class=&quot;user-hover&quot; rel=&quot;alero&quot;&gt;alero&lt;/a&gt;, can you also contribute a test? &lt;/p&gt;</comment>
                            <comment id="15871482" author="githubbot" created="Fri, 17 Feb 2017 09:05:01 +0000"  >&lt;p&gt;GitHub user alero opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/lucene-solr/pull/158&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/lucene-solr/pull/158&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10134&quot; title=&quot;EmbeddedSolrServer does not support SchemaAPI&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10134&quot;&gt;&lt;del&gt;SOLR-10134&lt;/del&gt;&lt;/a&gt; - Support SchemaAPI in EmbeddedSolrServer&lt;/p&gt;

&lt;p&gt;    Adds support for changing the schema in mutable mode and using EmbeddedSolrServer&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/alero/lucene-solr&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/alero/lucene-solr&lt;/a&gt; master&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/lucene-solr/pull/158.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/lucene-solr/pull/158.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #158&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 3603832e3d4fdb3bfe3fa9eb27202b71dda4e068&lt;br/&gt;
Author: Robert Alexandersson &amp;lt;robert.alexandersson@gmail.com&amp;gt;&lt;br/&gt;
Date:   2017-02-16T16:06:20Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10134&quot; title=&quot;EmbeddedSolrServer does not support SchemaAPI&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10134&quot;&gt;&lt;del&gt;SOLR-10134&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Added the httpMethod param to context so SolR SchemaAPI can handle POST calls&lt;/p&gt;

&lt;p&gt;commit 6de410703d0e1be497289017ca1e1c1c4d8303bd&lt;br/&gt;
Author: Robert Alexandersson &amp;lt;robert.alexandersson@gmail.com&amp;gt;&lt;br/&gt;
Date:   2017-02-17T07:54:43Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10134&quot; title=&quot;EmbeddedSolrServer does not support SchemaAPI&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10134&quot;&gt;&lt;del&gt;SOLR-10134&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Added testcase and enabled the SchemaHandler to parse the incoming command&lt;/p&gt;

&lt;p&gt;commit 09559122d445aa4efa4cf9beffa6622120fe5f6f&lt;br/&gt;
Author: Robert Alexandersson &amp;lt;robert.alexandersson@gmail.com&amp;gt;&lt;br/&gt;
Date:   2017-02-17T07:59:25Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10134&quot; title=&quot;EmbeddedSolrServer does not support SchemaAPI&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10134&quot;&gt;&lt;del&gt;SOLR-10134&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Added testcase and enabled the SchemaHandler to parse the incoming command&lt;/p&gt;

&lt;p&gt;commit dc02bcf8de62169dbbe9674c5d5f899c5064e37c&lt;br/&gt;
Author: Robert Alexandersson &amp;lt;robert.alexandersson@gmail.com&amp;gt;&lt;br/&gt;
Date:   2017-02-17T09:03:00Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10134&quot; title=&quot;EmbeddedSolrServer does not support SchemaAPI&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10134&quot;&gt;&lt;del&gt;SOLR-10134&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Improved the test case and added a failing test for immutable config&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15871484" author="robert_alex" created="Fri, 17 Feb 2017 09:05:49 +0000"  >&lt;p&gt;I have added a test and noticed that the code had changed quite alot in this so needed to add change more to support the EmbeddedSolrServer requests. It does seem like you are in need of adding more tests in general for the EmbeddedSolrServer as it seems to get lost in the main &quot;http&quot; flows.  The tests and code changes can be found in PR on github, &lt;a href=&quot;https://github.com/apache/lucene-solr/pull/158&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/lucene-solr/pull/158&lt;/a&gt; &lt;/p&gt;</comment>
                            <comment id="15875045" author="mkhludnev" created="Mon, 20 Feb 2017 20:53:36 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=robert_alex&quot; class=&quot;user-hover&quot; rel=&quot;robert_alex&quot;&gt;robert_alex&lt;/a&gt;, the patch is great. I&apos;m tweaking it a little to reduce test footprint. wip.&lt;/p&gt;</comment>
                            <comment id="15879284" author="mkhludnev" created="Wed, 22 Feb 2017 21:37:27 +0000"  >&lt;p&gt;feedback for &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12854074/12854074_SOLR-10134.patch&quot; title=&quot;SOLR-10134.patch attached to SOLR-10134&quot;&gt;SOLR-10134.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; is so welcomed!! &lt;/p&gt;</comment>
                            <comment id="15889532" author="jira-bot" created="Wed, 1 Mar 2017 05:32:46 +0000"  >&lt;p&gt;Commit 0baf2fa33cef485df94649fd408c22e6430b68cf in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mkhludnev&quot; class=&quot;user-hover&quot; rel=&quot;mkhludnev&quot;&gt;mkhludnev&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=0baf2fa&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=0baf2fa&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10134&quot; title=&quot;EmbeddedSolrServer does not support SchemaAPI&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10134&quot;&gt;&lt;del&gt;SOLR-10134&lt;/del&gt;&lt;/a&gt;: EmbeddedSolrServer handles SchemaAPI requests&lt;/p&gt;</comment>
                            <comment id="15889662" author="jira-bot" created="Wed, 1 Mar 2017 07:11:54 +0000"  >&lt;p&gt;Commit bce1417fceeed2054f16565e96dc49268c1b2ea1 in lucene-solr&apos;s branch refs/heads/branch_6x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mkhludnev&quot; class=&quot;user-hover&quot; rel=&quot;mkhludnev&quot;&gt;mkhludnev&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=bce1417&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=bce1417&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10134&quot; title=&quot;EmbeddedSolrServer does not support SchemaAPI&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10134&quot;&gt;&lt;del&gt;SOLR-10134&lt;/del&gt;&lt;/a&gt;: EmbeddedSolrServer handles SchemaAPI requests&lt;/p&gt;</comment>
                            <comment id="15890248" author="mkhludnev" created="Wed, 1 Mar 2017 14:22:17 +0000"  >&lt;p&gt;We&apos;ve done! &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=robert_alex&quot; class=&quot;user-hover&quot; rel=&quot;robert_alex&quot;&gt;robert_alex&lt;/a&gt;, happy testing! &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12959170">SOLR-8994</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12854074" name="SOLR-10134.patch" size="14760" author="mkhl" created="Wed, 22 Feb 2017 22:09:11 +0000"/>
                            <attachment id="12854070" name="SOLR-10134.patch" size="9565" author="mkhl" created="Wed, 22 Feb 2017 21:37:27 +0000"/>
                            <attachment id="12853086" name="SOLR-10134.patch" size="1183" author="robert_alex" created="Thu, 16 Feb 2017 16:08:09 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10431"><![CDATA[Important]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 37 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3a25z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>