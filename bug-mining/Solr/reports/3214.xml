<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:18:52 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-9644] MoreLikeThis parsers SimpleMLTQParser and CloudMLTQParser don&apos;t handle boosts properly</title>
                <link>https://issues.apache.org/jira/browse/SOLR-9644</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;It seems SimpleMLTQParser and CloudMLTQParser should be able to handle boost parameters, but it&apos;s not working properly. I&apos;ll make a pull request to add tests and fix both.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13012340">SOLR-9644</key>
            <summary>MoreLikeThis parsers SimpleMLTQParser and CloudMLTQParser don&apos;t handle boosts properly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="anshum">Anshum Gupta</assignee>
                                    <reporter username="emaijala">Ere Maijala</reporter>
                        <labels>
                            <label>patch</label>
                    </labels>
                <created>Fri, 14 Oct 2016 12:37:06 +0000</created>
                <updated>Sat, 8 Jun 2019 15:32:37 +0000</updated>
                            <resolved>Mon, 13 Mar 2017 16:46:28 +0000</resolved>
                                    <version>6.2.1</version>
                                    <fixVersion>6.4</fixVersion>
                    <fixVersion>7.0</fixVersion>
                                    <component>MoreLikeThis</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="15581496" author="githubbot" created="Mon, 17 Oct 2016 07:40:03 +0000"  >&lt;p&gt;GitHub user EreMaijala opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/lucene-solr/pull/98&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/lucene-solr/pull/98&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9644&quot; title=&quot;MoreLikeThis parsers SimpleMLTQParser and CloudMLTQParser don&amp;#39;t handle boosts properly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9644&quot;&gt;&lt;del&gt;SOLR-9644&lt;/del&gt;&lt;/a&gt;: Fix boost handling in SimpleMLTQParser and CloudMLTQParser.&lt;/p&gt;

&lt;p&gt;    Both parsers tried to handle field boosts but didn&apos;t do it properly. This pull request includes the following changes to both:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Parse boosts from qf even if boost=false to avoid errors.&lt;/li&gt;
	&lt;li&gt;Use the field names from the boost parsing so that they are always clean.&lt;/li&gt;
	&lt;li&gt;Add tests for the same query with and without boosting.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    Also fixed is an additional problem in CloudMLTQParser where it added IndexableField type fields to the filtered document as is, which caused the document to include field definition strings such as &quot;stored&quot; and &quot;indexed&quot;. This caused the MLT query to return records including these terms under some circumstances.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/EreMaijala/lucene-solr&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/EreMaijala/lucene-solr&lt;/a&gt; master&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/lucene-solr/pull/98.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/lucene-solr/pull/98.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #98&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 70ad5ccbb4a5b39b16f41c58dd5ee058811b6d9c&lt;br/&gt;
Author: Ere Maijala &amp;lt;ere.maijala@helsinki.fi&amp;gt;&lt;br/&gt;
Date:   2016-10-17T07:02:40Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9644&quot; title=&quot;MoreLikeThis parsers SimpleMLTQParser and CloudMLTQParser don&amp;#39;t handle boosts properly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9644&quot;&gt;&lt;del&gt;SOLR-9644&lt;/del&gt;&lt;/a&gt; Fixed SimpleMLTQParser and CloudMLTQParser to handle boosts properly and CloudMLTQParser to only extract actual values from IndexableField type fields to the filtered document.&lt;/p&gt;

&lt;p&gt;commit e10b9385df5c3183e80ed084fa48b0c4da9dd476&lt;br/&gt;
Author: Ere Maijala &amp;lt;ere.maijala@helsinki.fi&amp;gt;&lt;br/&gt;
Date:   2016-10-17T07:30:36Z&lt;/p&gt;

&lt;p&gt;    Improved the SimpleMLTQParserTest test case so that it actually shows a difference in results when boosting is used.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15581511" author="githubbot" created="Mon, 17 Oct 2016 07:46:23 +0000"  >&lt;p&gt;Github user EreMaijala commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/lucene-solr/pull/98&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/lucene-solr/pull/98&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    This should apply cleanly to branch_6x too (apart from CHANGES.txt obviously).&lt;/p&gt;</comment>
                            <comment id="15581515" author="githubbot" created="Mon, 17 Oct 2016 07:49:02 +0000"  >&lt;p&gt;Github user EreMaijala commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/lucene-solr/pull/98&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/lucene-solr/pull/98&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Note also that the old boost test cases were pretty useless, but I left them untouched to make sure their results are not affected.&lt;/p&gt;</comment>
                            <comment id="15782390" author="anshumg" created="Wed, 28 Dec 2016 08:24:13 +0000"  >&lt;p&gt;I&apos;ll take a look at this some time this week.&lt;/p&gt;</comment>
                            <comment id="15782944" author="emaijala" created="Wed, 28 Dec 2016 14:02:32 +0000"  >&lt;p&gt;Thanks! Note that the commits from 17th should apply to 6x branch too (or at least they did at the time).&lt;/p&gt;</comment>
                            <comment id="15796568" author="anshumg" created="Tue, 3 Jan 2017 23:41:20 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=emaijala&quot; class=&quot;user-hover&quot; rel=&quot;emaijala&quot;&gt;emaijala&lt;/a&gt; can you update the patch ? I end up with a lot of conflicts when I try to apply this to the current master.&lt;/p&gt;

&lt;p&gt;If you don&apos;t have the time right now, let me know and I&apos;ll take it up.&lt;/p&gt;</comment>
                            <comment id="15797987" author="emaijala" created="Wed, 4 Jan 2017 11:20:03 +0000"  >&lt;p&gt;Added patches for master and branch_6x. For some reason GitHub said that there are no conflicts, but the patch couldn&apos;t be applied, so I decided to attach proper patches.&lt;/p&gt;</comment>
                            <comment id="15797989" author="emaijala" created="Wed, 4 Jan 2017 11:20:56 +0000"  >&lt;p&gt;Sorry about that. I&apos;m not sure why GitHub thought there were no conflicts, but proper patches now attached.&lt;/p&gt;</comment>
                            <comment id="15797991" author="githubbot" created="Wed, 4 Jan 2017 11:21:57 +0000"  >&lt;p&gt;Github user EreMaijala commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/lucene-solr/pull/98&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/lucene-solr/pull/98&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Closing this pull request and continuing with traditional patches in the JIRA issue.&lt;/p&gt;</comment>
                            <comment id="15797992" author="githubbot" created="Wed, 4 Jan 2017 11:21:58 +0000"  >&lt;p&gt;Github user EreMaijala closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/lucene-solr/pull/98&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/lucene-solr/pull/98&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15803192" author="anshumg" created="Fri, 6 Jan 2017 01:47:08 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=emaijala&quot; class=&quot;user-hover&quot; rel=&quot;emaijala&quot;&gt;emaijala&lt;/a&gt;. I&apos;ll take a look.&lt;/p&gt;</comment>
                            <comment id="15812891" author="jira-bot" created="Mon, 9 Jan 2017 21:26:27 +0000"  >&lt;p&gt;Commit 2b4e3dd941a7a88274f2a86f18ea57a9d95e4364 in lucene-solr&apos;s branch refs/heads/master from anshum&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=2b4e3dd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=2b4e3dd&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9644&quot; title=&quot;MoreLikeThis parsers SimpleMLTQParser and CloudMLTQParser don&amp;#39;t handle boosts properly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9644&quot;&gt;&lt;del&gt;SOLR-9644&lt;/del&gt;&lt;/a&gt;: Fixed SimpleMLTQParser and CloudMLTQParser to handle boosts properly and CloudMLTQParser to only extract actual values from IndexableField type fields to the filtered document.&lt;/p&gt;</comment>
                            <comment id="15812939" author="anshumg" created="Mon, 9 Jan 2017 21:43:03 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=emaijala&quot; class=&quot;user-hover&quot; rel=&quot;emaijala&quot;&gt;emaijala&lt;/a&gt; I just noticed that the patches for master and branch_6x are different but they shouldn&apos;t be. There isn&apos;t any real difference between the two.&lt;br/&gt;
Also, the tests seem different.&lt;/p&gt;</comment>
                            <comment id="15813099" author="jira-bot" created="Mon, 9 Jan 2017 22:48:46 +0000"  >&lt;p&gt;Commit dcb836500a8d5f8dd0d59264ad0061e5a2926c20 in lucene-solr&apos;s branch refs/heads/branch_6x from anshum&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=dcb8365&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=dcb8365&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9644&quot; title=&quot;MoreLikeThis parsers SimpleMLTQParser and CloudMLTQParser don&amp;#39;t handle boosts properly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9644&quot;&gt;&lt;del&gt;SOLR-9644&lt;/del&gt;&lt;/a&gt;: Fixed SimpleMLTQParser and CloudMLTQParser to handle boosts properly and CloudMLTQParser to only extract actual values from IndexableField type fields to the filtered document.&lt;/p&gt;</comment>
                            <comment id="15813106" author="anshumg" created="Mon, 9 Jan 2017 22:51:34 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=emaijala&quot; class=&quot;user-hover&quot; rel=&quot;emaijala&quot;&gt;emaijala&lt;/a&gt; I cherry-picked and made some changes to the tests instead of changing the underlying class and diverging them from each other on master and branch_6x. Can you test this out when you get a chance?&lt;/p&gt;</comment>
                            <comment id="15907812" author="ichattopadhyaya" created="Mon, 13 Mar 2017 16:46:13 +0000"  >&lt;p&gt;Seems to have been released as part of 6.4. Closing it out.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12985815">SOLR-9267</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12845515" name="SOLR-9644-branch_6x.patch" size="13945" author="emaijala" created="Wed, 4 Jan 2017 11:20:03 +0000"/>
                            <attachment id="12845514" name="SOLR-9644-master.patch" size="13315" author="emaijala" created="Wed, 4 Jan 2017 11:20:03 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10430"><![CDATA[Patch]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 36 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i34w7z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>