<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:50:30 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-16164] ConfigSet API returns error if untrusted user creates from _default configset</title>
                <link>https://issues.apache.org/jira/browse/SOLR-16164</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;Original title: getConfigMetadata() returns NPE if there is no metadata defined on zk node for configset&lt;/p&gt;

&lt;p&gt;While attempting to validate &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16110&quot; title=&quot;Using Schema/Config API breaks the File-Upload of Config Set File&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16110&quot;&gt;&lt;del&gt;SOLR-16110&lt;/del&gt;&lt;/a&gt;, I discovered that on main, if you attempt to create a configset via the Configset API, you get a NPE.   &lt;/p&gt;

&lt;p&gt;Utils.fromJSON doesn&apos;t handle getting a null, and the call zkClient.getData(CONFIGS_ZKNODE + &quot;/&quot; + configName, null, null, true) is returning a null byte array.&lt;/p&gt;





&lt;p&gt;curl &quot;http://localhost:8983/solr/admin/configs?action=CREATE&amp;amp;name=test&amp;amp;baseName=_default&quot;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13441375">SOLR-16164</key>
            <summary>ConfigSet API returns error if untrusted user creates from _default configset</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="krisden">Kevin Risden</assignee>
                                    <reporter username="epugh">Eric Pugh</reporter>
                        <labels>
                    </labels>
                <created>Sun, 24 Apr 2022 15:30:05 +0000</created>
                <updated>Thu, 12 May 2022 00:35:17 +0000</updated>
                            <resolved>Tue, 3 May 2022 13:36:07 +0000</resolved>
                                    <version>9.0</version>
                                    <fixVersion>9.0</fixVersion>
                                    <component>configset-api</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="7200">2h</timespent>
                                <comments>
                            <comment id="17527201" author="epugh" created="Sun, 24 Apr 2022 15:47:09 +0000"  >&lt;p&gt;actually, this bug appears to exist in branch_9_0, as well as branch_9x and main.&lt;/p&gt;</comment>
                            <comment id="17530150" author="risdenk" created="Fri, 29 Apr 2022 17:24:58 +0000"  >&lt;p&gt;I can confirm this is happening on 9.0 RC4:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
curl &lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//localhost:8983/solr/admin/configs?action=CREATE&amp;amp;name=test&amp;amp;baseName=_default&quot;&lt;/span&gt;
&lt;/span&gt;curl &lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//localhost:8983/solr/admin/configs?action=CREATE&amp;amp;name=test&amp;amp;baseConfigSet=_default&quot;&lt;/span&gt;
&lt;/span&gt;curl &quot;http:&lt;span class=&quot;code-comment&quot;&gt;//localhost:8983/solr/admin/configs?action=CREATE&amp;amp;name=test&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;all fail with:&lt;/p&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
{
  &lt;span class=&quot;code-quote&quot;&gt;&quot;responseHeader&quot;&lt;/span&gt;:{
    &lt;span class=&quot;code-quote&quot;&gt;&quot;status&quot;&lt;/span&gt;:500,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;QTime&quot;&lt;/span&gt;:1},
  &lt;span class=&quot;code-quote&quot;&gt;&quot;error&quot;&lt;/span&gt;:{
    &lt;span class=&quot;code-quote&quot;&gt;&quot;msg&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;Cannot read the array length because \&quot;&lt;/span&gt;utf8\&lt;span class=&quot;code-quote&quot;&gt;&quot; is &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;trace&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;java.lang.NullPointerException: Cannot read the array length because \&quot;&lt;/span&gt;utf8\&lt;span class=&quot;code-quote&quot;&gt;&quot; is &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;\n\tat org.apache.solr.common.util.Utils.fromJSON(Utils.java:305)\n\tat org.apache.solr.cloud.ZkConfigSetService.getConfigMetadata(ZkConfigSetService.java:239)\n\tat org.apache.solr.handler.admin.ConfigSetsHandler.isCurrentlyTrusted(ConfigSetsHandler.java:323)\n\tat org.apache.solr.handler.admin.ConfigSetsHandler$ConfigSetOperation$2.call(ConfigSetsHandler.java:436)\n\tat org.apache.solr.handler.admin.ConfigSetsHandler.invokeAction(ConfigSetsHandler.java:143)\n\tat org.apache.solr.handler.admin.ConfigSetsHandler.handleRequestBody(ConfigSetsHandler.java:116)\n\tat org.apache.solr.handler.RequestHandlerBase.handleRequest(RequestHandlerBase.java:207)\n\tat org.apache.solr.servlet.HttpSolrCall.handleAdmin(HttpSolrCall.java:941)\n\tat org.apache.solr.servlet.HttpSolrCall.handleAdminRequest(HttpSolrCall.java:893)\n\tat org.apache.solr.servlet.HttpSolrCall.call(HttpSolrCall.java:584)\n\tat org.apache.solr.servlet.SolrDispatchFilter.dispatch(SolrDispatchFilter.java:239)\n\tat org.apache.solr.servlet.SolrDispatchFilter.lambda$doFilter$0(SolrDispatchFilter.java:207)\n\tat org.apache.solr.servlet.ServletUtils.traceHttpRequestExecution2(ServletUtils.java:257)\n\tat org.apache.solr.servlet.ServletUtils.rateLimitRequest(ServletUtils.java:227)\n\tat org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:202)\n\tat org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:184)\n\tat org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:201)\n\tat org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1601)\n\tat org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:548)\n\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)\n\tat org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:600)\n\tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\n\tat org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:235)\n\tat org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1624)\n\tat org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)\n\tat org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1434)\n\tat org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)\n\tat org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:501)\n\tat org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1594)\n\tat org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)\n\tat org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1349)\n\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\n\tat org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:191)\n\tat org.eclipse.jetty.server.handler.InetAccessHandler.handle(InetAccessHandler.java:177)\n\tat org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:146)\n\tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\n\tat org.eclipse.jetty.rewrite.handler.RewriteHandler.handle(RewriteHandler.java:322)\n\tat org.eclipse.jetty.server.handler.gzip.GzipHandler.handle(GzipHandler.java:763)\n\tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\n\tat org.eclipse.jetty.server.Server.handle(Server.java:516)\n\tat org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:400)\n\tat org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:645)\n\tat org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:392)\n\tat org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:277)\n\tat org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)\n\tat org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105)\n\tat org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104)\n\tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:338)\n\tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:315)\n\tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:173)\n\tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:131)\n\tat org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:409)\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:883)\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1034)\n\tat java.base/java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:833)\n&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;code&quot;&lt;/span&gt;:500}}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</comment>
                            <comment id="17530166" author="risdenk" created="Fri, 29 Apr 2022 17:34:25 +0000"  >&lt;p&gt;Potentially relates to &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-15258&quot; title=&quot;ConfigSetService: add CRUD operations, subsume ZkConfigManager &quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-15258&quot;&gt;&lt;del&gt;SOLR-15258&lt;/del&gt;&lt;/a&gt; based on git changes to ZkConfigSetService.&lt;/p&gt;</comment>
                            <comment id="17530307" author="jira-bot" created="Sat, 30 Apr 2022 02:28:29 +0000"  >&lt;p&gt;Commit eb3026bfef91dee899a4af319ed1b49cf70e0b1c in solr&apos;s branch refs/heads/main from Eric Pugh&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=eb3026bfef9&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=eb3026bfef9&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16164&quot; title=&quot;ConfigSet API returns error if untrusted user creates from _default configset&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16164&quot;&gt;&lt;del&gt;SOLR-16164&lt;/del&gt;&lt;/a&gt;: ConfigSet API returns error if untrusted user creates from _default configset (#825)&lt;/p&gt;

&lt;p&gt;Co-authored-by: epugh@opensourceconnections.com &amp;lt;&amp;gt;&lt;br/&gt;
Co-authored-by: Kevin Risden &amp;lt;krisden@apache.org&amp;gt;&lt;/p&gt;</comment>
                            <comment id="17530309" author="jira-bot" created="Sat, 30 Apr 2022 02:32:01 +0000"  >&lt;p&gt;Commit 0d2b5aacdc8f799a3cb8a6ecaf7c151e8eab8a6d in solr&apos;s branch refs/heads/branch_9x from Eric Pugh&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=0d2b5aacdc8&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=0d2b5aacdc8&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16164&quot; title=&quot;ConfigSet API returns error if untrusted user creates from _default configset&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16164&quot;&gt;&lt;del&gt;SOLR-16164&lt;/del&gt;&lt;/a&gt;: ConfigSet API returns error if untrusted user creates from _default configset (#825)&lt;/p&gt;

&lt;p&gt;Co-authored-by: epugh@opensourceconnections.com &amp;lt;&amp;gt;&lt;br/&gt;
Co-authored-by: Kevin Risden &amp;lt;krisden@apache.org&amp;gt;&lt;/p&gt;</comment>
                            <comment id="17530310" author="risdenk" created="Sat, 30 Apr 2022 02:33:31 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=janhoy&quot; class=&quot;user-hover&quot; rel=&quot;janhoy&quot;&gt;janhoy&lt;/a&gt; I did NOT merge this into branch_9_0 yet. It should be possible to merge no problem and fixes the error in 9.0 RC4. If this doesn&apos;t get merged into branch_9_0, I can help fix the CHANGES.txt entry in branch_9x and main.&lt;/p&gt;</comment>
                            <comment id="17531198" author="jira-bot" created="Tue, 3 May 2022 13:35:40 +0000"  >&lt;p&gt;Commit d2fddf1c72e892b4ed241c1a0e7b795bb211d678 in solr&apos;s branch refs/heads/branch_9_0 from Eric Pugh&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=d2fddf1c72e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=d2fddf1c72e&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16164&quot; title=&quot;ConfigSet API returns error if untrusted user creates from _default configset&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16164&quot;&gt;&lt;del&gt;SOLR-16164&lt;/del&gt;&lt;/a&gt;: ConfigSet API returns error if untrusted user creates from _default configset (#825)&lt;/p&gt;

&lt;p&gt;Co-authored-by: epugh@opensourceconnections.com &amp;lt;&amp;gt;&lt;br/&gt;
Co-authored-by: Kevin Risden &amp;lt;krisden@apache.org&amp;gt;&lt;/p&gt;</comment>
                            <comment id="17531199" author="risdenk" created="Tue, 3 May 2022 13:36:07 +0000"  >&lt;p&gt;Merged to branch_9_0&lt;/p&gt;</comment>
                            <comment id="17535273" author="janhoy" created="Thu, 12 May 2022 00:26:12 +0000"  >&lt;p&gt;Closing after the 9.0.0 release&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13364728">SOLR-15258</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13435386">SOLR-16110</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 26 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z11r4g:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>