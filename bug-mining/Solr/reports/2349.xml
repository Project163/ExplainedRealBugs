<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:02:53 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-6956] OverseerCollectionProcessor and replicas on the overseer node can operate on stale cluster state</title>
                <link>https://issues.apache.org/jira/browse/SOLR-6956</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;I still see fails of this test sometimes:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java.lang.AssertionError: Should have had a good message here
	at __randomizedtesting.SeedInfo.seed([D765D9019AAF2D1E:56835719EDF04D22]:0)
	at org.junit.Assert.fail(Assert.java:93)
	at org.junit.Assert.assertTrue(Assert.java:43)
	at org.apache.solr.cloud.DeleteReplicaTest.deleteLiveReplicaTest(DeleteReplicaTest.java:138)
	at org.apache.solr.cloud.DeleteReplicaTest.doTest(DeleteReplicaTest.java:89)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12766660">SOLR-6956</key>
            <summary>OverseerCollectionProcessor and replicas on the overseer node can operate on stale cluster state</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="shalin">Shalin Shekhar Mangar</assignee>
                                    <reporter username="markrmiller@gmail.com">Mark Miller</reporter>
                        <labels>
                    </labels>
                <created>Sat, 10 Jan 2015 18:04:38 +0000</created>
                <updated>Mon, 9 May 2016 18:56:17 +0000</updated>
                            <resolved>Thu, 5 Mar 2015 06:32:38 +0000</resolved>
                                    <version>5.0</version>
                                    <fixVersion>5.1</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                    <component>SolrCloud</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="14321990" author="shalinmangar" created="Sun, 15 Feb 2015 13:46:08 +0000"  >&lt;p&gt;Looking through the logs of the latest failure of this test at &lt;a href=&quot;http://jenkins.thetaphi.de/job/Lucene-Solr-trunk-Linux/11802/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://jenkins.thetaphi.de/job/Lucene-Solr-trunk-Linux/11802/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This test waits for all replicas of a new collection to be &apos;active&apos; and then calls delete replica API with onlyIfDown=true and expects it to fail. It does this by matching the error message returned from the API call against the following string:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&apos;with onlyIfDown=&apos;true&apos;, but state is &apos;active&apos;&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;However, in this particular run, the API call does fail but because the OverseerCollectionProcessor finds the replica in &apos;recovering&apos; state instead of &apos;active&apos;, the returned error message doesn&apos;t match. So the fix to the test is easy. But what&apos;s more interesting is why the OverseerCollectionProcessor couldn&apos;t see the latest cluster state when the client could. In the logs too, I can see watchers being fired on the new cluster state before the call to delete replica is made. I&apos;ll dig a bit more before I commit a fix to the test.&lt;/p&gt;</comment>
                            <comment id="14322008" author="shalinmangar" created="Sun, 15 Feb 2015 14:44:14 +0000"  >&lt;p&gt;The full test log from jenkins is attached.&lt;/p&gt;

&lt;p&gt;The following is the interesting excerpt from the log:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[junit4]   2&amp;gt; 357522 T2350 oasco.ZkStateWriter.writePendingUpdates going to update_collection /collections/delLiveColl/state.json version: 10
   [junit4]   2&amp;gt; 357523 T2349 oascc.ZkStateReader$7.process A cluster state change: WatchedEvent state:SyncConnected type:NodeDataChanged path:/collections/delLiveColl/state.json, has occurred - updating... 
   [junit4]   2&amp;gt; 357523 T2450 oascc.ZkStateReader$7.process A cluster state change: WatchedEvent state:SyncConnected type:NodeDataChanged path:/collections/delLiveColl/state.json, has occurred - updating... 
   [junit4]   2&amp;gt; 357523 T2425 oascc.ZkStateReader$7.process A cluster state change: WatchedEvent state:SyncConnected type:NodeDataChanged path:/collections/delLiveColl/state.json, has occurred - updating... 
   [junit4]   2&amp;gt; 357523 T2381 oascc.ZkStateReader$7.process A cluster state change: WatchedEvent state:SyncConnected type:NodeDataChanged path:/collections/delLiveColl/state.json, has occurred - updating... 
   [junit4]   2&amp;gt; 357523 T2450 oascc.ZkStateReader.updateWatchedCollection Updating data &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; delLiveColl to ver 11 
   [junit4]   2&amp;gt; 357524 T2425 oascc.ZkStateReader.updateWatchedCollection Updating data &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; delLiveColl to ver 11 
   [junit4]   2&amp;gt; 357524 T2381 oascc.ZkStateReader.updateWatchedCollection Updating data &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; delLiveColl to ver 11 
   [junit4]   2&amp;gt; 357559 T2321 oasc.AbstractDistribZkTestBase.waitForRecoveriesToFinish Recoveries finished - collection: delLiveColl
   [junit4]   2&amp;gt; 357562 T2372 oass.SolrDispatchFilter.handleAdminRequest [admin] webapp=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; path=/admin/cores params={core=delLiveColl_shard1_replica1&amp;amp;action=STATUS&amp;amp;indexInfo=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&amp;amp;wt=javabin&amp;amp;version=2} status=0 QTime=1 
   [junit4]   2&amp;gt; 357565 T2339 oasha.CollectionsHandler.handleRemoveReplica Remove replica: replica=core_node1&amp;amp;action=deletereplica&amp;amp;collection=delLiveColl&amp;amp;shard=shard1&amp;amp;onlyIfDown=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&amp;amp;wt=javabin&amp;amp;version=2
   [junit4]   2&amp;gt; 357566 T2364 oasc.DistributedQueue$LatchWatcher.process NodeChildrenChanged fired on path /overseer/collection-queue-work state SyncConnected
   [junit4]   2&amp;gt; 357567 T2351 oasc.OverseerCollectionProcessor.run Overseer Collection Processor: Get the message id:/overseer/collection-queue-work/qn-0000000002 message:{
   [junit4]   2&amp;gt; 	  &lt;span class=&quot;code-quote&quot;&gt;&quot;operation&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;deletereplica&quot;&lt;/span&gt;,
   [junit4]   2&amp;gt; 	  &lt;span class=&quot;code-quote&quot;&gt;&quot;collection&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;delLiveColl&quot;&lt;/span&gt;,
   [junit4]   2&amp;gt; 	  &lt;span class=&quot;code-quote&quot;&gt;&quot;shard&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;shard1&quot;&lt;/span&gt;,
   [junit4]   2&amp;gt; 	  &lt;span class=&quot;code-quote&quot;&gt;&quot;replica&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;core_node1&quot;&lt;/span&gt;,
   [junit4]   2&amp;gt; 	  &lt;span class=&quot;code-quote&quot;&gt;&quot;onlyIfDown&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt;}
   [junit4]   2&amp;gt; 357567 T2489 oasc.OverseerCollectionProcessor.processMessage WARN OverseerCollectionProcessor.processMessage : deletereplica , {
   [junit4]   2&amp;gt; 	  &lt;span class=&quot;code-quote&quot;&gt;&quot;operation&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;deletereplica&quot;&lt;/span&gt;,
   [junit4]   2&amp;gt; 	  &lt;span class=&quot;code-quote&quot;&gt;&quot;collection&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;delLiveColl&quot;&lt;/span&gt;,
   [junit4]   2&amp;gt; 	  &lt;span class=&quot;code-quote&quot;&gt;&quot;shard&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;shard1&quot;&lt;/span&gt;,
   [junit4]   2&amp;gt; 	  &lt;span class=&quot;code-quote&quot;&gt;&quot;replica&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;core_node1&quot;&lt;/span&gt;,
   [junit4]   2&amp;gt; 	  &lt;span class=&quot;code-quote&quot;&gt;&quot;onlyIfDown&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt;}
   [junit4]   2&amp;gt; 357567 T2489 oasc.SolrException.log ERROR Collection: delLiveColl operation: deletereplica failed:org.apache.solr.common.SolrException: Attempted to remove replica : delLiveColl/shard1/core_node1 with onlyIfDown=&lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&apos;&lt;/span&gt;, but state is &lt;span class=&quot;code-quote&quot;&gt;&apos;recovering&apos;&lt;/span&gt;
   [junit4]   2&amp;gt; 		at org.apache.solr.cloud.OverseerCollectionProcessor.deleteReplica(OverseerCollectionProcessor.java:1079)
   [junit4]   2&amp;gt; 		at org.apache.solr.cloud.OverseerCollectionProcessor.processMessage(OverseerCollectionProcessor.java:631)
   [junit4]   2&amp;gt; 		at org.apache.solr.cloud.OverseerCollectionProcessor$Runner.run(OverseerCollectionProcessor.java:2862)
   [junit4]   2&amp;gt; 		at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
   [junit4]   2&amp;gt; 		at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
   [junit4]   2&amp;gt; 		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
   [junit4]   2&amp;gt; 	
   [junit4]   2&amp;gt; 357569 T2489 oasc.OverseerCollectionProcessor$Runner.run Overseer Collection Processor: Message id:/overseer/collection-queue-work/qn-0000000002 complete, response:{Operation deletereplica caused exception:=org.apache.solr.common.SolrException: Attempted to remove replica : delLiveColl/shard1/core_node1 with onlyIfDown=&lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&apos;&lt;/span&gt;, but state is &lt;span class=&quot;code-quote&quot;&gt;&apos;recovering&apos;&lt;/span&gt;,exception={msg=Attempted to remove replica : delLiveColl/shard1/core_node1 with onlyIfDown=&lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&apos;&lt;/span&gt;, but state is &lt;span class=&quot;code-quote&quot;&gt;&apos;recovering&apos;&lt;/span&gt;,rspCode=400}}
   [junit4]   2&amp;gt; 357570 T2364 oasc.DistributedQueue$LatchWatcher.process NodeDataChanged fired on path /overseer/collection-queue-work/qnr-0000000002 state SyncConnected
   [junit4]   2&amp;gt; 357570 T2364 oasc.DistributedQueue$LatchWatcher.process NodeChildrenChanged fired on path /overseer/collection-queue-work state SyncConnected
   [junit4]   2&amp;gt; 357571 T2364 oasc.DistributedQueue$LatchWatcher.process NodeChildrenChanged fired on path /overseer/collection-queue-work state SyncConnected
   [junit4]   2&amp;gt; 357572 T2339 oass.SolrDispatchFilter.handleAdminRequest [admin] webapp=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; path=/admin/collections params={replica=core_node1&amp;amp;action=deletereplica&amp;amp;collection=delLiveColl&amp;amp;shard=shard1&amp;amp;onlyIfDown=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&amp;amp;wt=javabin&amp;amp;version=2} status=400 QTime=7 
   [junit4]   2&amp;gt; 357574 T2321 oas.SolrTestCaseJ4.tearDown ###Ending deleteLiveReplicaTest
   [junit4]   2&amp;gt; 357577 T2321 oasc.ChaosMonkey.monkeyLog monkey: stop shard! 55369
   [junit4]   2&amp;gt; 357577 T2321 oasc.CoreContainer.shutdown Shutting down CoreContainer instance=802937226
   [junit4]   2&amp;gt; 357577 T2321 oasc.ZkController.publish publishing core=collection1 state=down collection=control_collection
   [junit4]   2&amp;gt; 357577 T2321 oasc.ZkController.publish numShards not found on descriptor - reading it from system property
   [junit4]   2&amp;gt; 357578 T2364 oasc.DistributedQueue$LatchWatcher.process NodeChildrenChanged fired on path /overseer/queue state SyncConnected
   [junit4]   2&amp;gt; 357578 T2321 oasc.ZkController.publish publishing core=delLiveColl_shard1_replica2 state=down collection=delLiveColl
   [junit4]   2&amp;gt; 357579 T2350 oasc.Overseer$ClusterStateUpdater.run processMessage: queueSize: 1, message = {
   [junit4]   2&amp;gt; 	  &lt;span class=&quot;code-quote&quot;&gt;&quot;core&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;collection1&quot;&lt;/span&gt;,
   [junit4]   2&amp;gt; 	  &lt;span class=&quot;code-quote&quot;&gt;&quot;core_node_name&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;core_node1&quot;&lt;/span&gt;,
   [junit4]   2&amp;gt; 	  &lt;span class=&quot;code-quote&quot;&gt;&quot;roles&quot;&lt;/span&gt;:&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;,
   [junit4]   2&amp;gt; 	  &lt;span class=&quot;code-quote&quot;&gt;&quot;base_url&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//127.0.0.1:55369&quot;&lt;/span&gt;,
&lt;/span&gt;   [junit4]   2&amp;gt; 	  &lt;span class=&quot;code-quote&quot;&gt;&quot;node_name&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;127.0.0.1:55369_&quot;&lt;/span&gt;,
   [junit4]   2&amp;gt; 	  &lt;span class=&quot;code-quote&quot;&gt;&quot;numShards&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;2&quot;&lt;/span&gt;,
   [junit4]   2&amp;gt; 	  &lt;span class=&quot;code-quote&quot;&gt;&quot;state&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;down&quot;&lt;/span&gt;,
   [junit4]   2&amp;gt; 	  &lt;span class=&quot;code-quote&quot;&gt;&quot;shard&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;shard1&quot;&lt;/span&gt;,
   [junit4]   2&amp;gt; 	  &lt;span class=&quot;code-quote&quot;&gt;&quot;collection&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;control_collection&quot;&lt;/span&gt;,
   [junit4]   2&amp;gt; 	  &lt;span class=&quot;code-quote&quot;&gt;&quot;operation&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;state&quot;&lt;/span&gt;} current state version: 6
   [junit4]   2&amp;gt; 357579 T2321 oasc.SolrCore.close [collection1]  CLOSING SolrCore org.apache.solr.core.SolrCore@6eb4277d
   [junit4]   2&amp;gt; 357579 T2350 oasco.ReplicaMutator.updateState Update state numShards=2 message={
   [junit4]   2&amp;gt; 	  &lt;span class=&quot;code-quote&quot;&gt;&quot;core&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;collection1&quot;&lt;/span&gt;,
   [junit4]   2&amp;gt; 	  &lt;span class=&quot;code-quote&quot;&gt;&quot;core_node_name&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;core_node1&quot;&lt;/span&gt;,
   [junit4]   2&amp;gt; 	  &lt;span class=&quot;code-quote&quot;&gt;&quot;roles&quot;&lt;/span&gt;:&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;,
   [junit4]   2&amp;gt; 	  &lt;span class=&quot;code-quote&quot;&gt;&quot;base_url&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//127.0.0.1:55369&quot;&lt;/span&gt;,
&lt;/span&gt;   [junit4]   2&amp;gt; 	  &lt;span class=&quot;code-quote&quot;&gt;&quot;node_name&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;127.0.0.1:55369_&quot;&lt;/span&gt;,
   [junit4]   2&amp;gt; 	  &lt;span class=&quot;code-quote&quot;&gt;&quot;numShards&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;2&quot;&lt;/span&gt;,
   [junit4]   2&amp;gt; 	  &lt;span class=&quot;code-quote&quot;&gt;&quot;state&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;down&quot;&lt;/span&gt;,
   [junit4]   2&amp;gt; 	  &lt;span class=&quot;code-quote&quot;&gt;&quot;shard&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;shard1&quot;&lt;/span&gt;,
   [junit4]   2&amp;gt; 	  &lt;span class=&quot;code-quote&quot;&gt;&quot;collection&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;control_collection&quot;&lt;/span&gt;,
   [junit4]   2&amp;gt; 	  &lt;span class=&quot;code-quote&quot;&gt;&quot;operation&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;state&quot;&lt;/span&gt;}
   [junit4]   2&amp;gt; 357579 T2321 oasc.ZkController.unRegisterConfListener  a listener was removed because of core close
   [junit4]   2&amp;gt; 357579 T2321 oasu.DirectUpdateHandler2.close closing DirectUpdateHandler2{commits=0,autocommits=0,soft autocommits=0,optimizes=0,rollbacks=0,expungeDeletes=0,docsPending=0,adds=0,deletesById=0,deletesByQuery=0,errors=0,cumulative_adds=0,cumulative_deletesById=0,cumulative_deletesByQuery=0,cumulative_errors=0,transaction_logs_total_size=0,transaction_logs_total_number=0}
   [junit4]   2&amp;gt; 357579 T2321 oasu.SolrCoreState.decrefSolrCoreState Closing SolrCoreState
   [junit4]   2&amp;gt; 357580 T2321 oasu.DefaultSolrCoreState.closeIndexWriter SolrCoreState ref count has reached 0 - closing IndexWriter
   [junit4]   2&amp;gt; 357580 T2321 oasu.DefaultSolrCoreState.closeIndexWriter closing IndexWriter with IndexWriterCloser
   [junit4]   2&amp;gt; 357580 T2364 oascc.ZkStateReader$2.process A cluster state change: WatchedEvent state:SyncConnected type:NodeDataChanged path:/clusterstate.json, has occurred - updating... (live nodes size: 5)
   [junit4]   2&amp;gt; 357580 T2381 oascc.ZkStateReader$2.process A cluster state change: WatchedEvent state:SyncConnected type:NodeDataChanged path:/clusterstate.json, has occurred - updating... (live nodes size: 5)
   [junit4]   2&amp;gt; 357580 T2425 oascc.ZkStateReader$2.process A cluster state change: WatchedEvent state:SyncConnected type:NodeDataChanged path:/clusterstate.json, has occurred - updating... (live nodes size: 5)
   [junit4]   2&amp;gt; 357580 T2450 oascc.ZkStateReader$2.process A cluster state change: WatchedEvent state:SyncConnected type:NodeDataChanged path:/clusterstate.json, has occurred - updating... (live nodes size: 5)
   [junit4]   2&amp;gt; 357580 T2403 oascc.ZkStateReader$2.process A cluster state change: WatchedEvent state:SyncConnected type:NodeDataChanged path:/clusterstate.json, has occurred - updating... (live nodes size: 5)
   [junit4]   2&amp;gt; 357580 T2321 oasc.SolrCore.closeSearcher [collection1] Closing main searcher on request.
   [junit4]   2&amp;gt; 357586 T2350 oasc.Overseer$ClusterStateUpdater.run processMessage: queueSize: 1, message = {
   [junit4]   2&amp;gt; 	  &lt;span class=&quot;code-quote&quot;&gt;&quot;core&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;delLiveColl_shard1_replica2&quot;&lt;/span&gt;,
   [junit4]   2&amp;gt; 	  &lt;span class=&quot;code-quote&quot;&gt;&quot;core_node_name&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;core_node2&quot;&lt;/span&gt;,
   [junit4]   2&amp;gt; 	  &lt;span class=&quot;code-quote&quot;&gt;&quot;roles&quot;&lt;/span&gt;:&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;,
   [junit4]   2&amp;gt; 	  &lt;span class=&quot;code-quote&quot;&gt;&quot;base_url&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//127.0.0.1:55369&quot;&lt;/span&gt;,
&lt;/span&gt;   [junit4]   2&amp;gt; 	  &lt;span class=&quot;code-quote&quot;&gt;&quot;node_name&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;127.0.0.1:55369_&quot;&lt;/span&gt;,
   [junit4]   2&amp;gt; 	  &lt;span class=&quot;code-quote&quot;&gt;&quot;numShards&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;2&quot;&lt;/span&gt;,
   [junit4]   2&amp;gt; 	  &lt;span class=&quot;code-quote&quot;&gt;&quot;state&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;down&quot;&lt;/span&gt;,
   [junit4]   2&amp;gt; 	  &lt;span class=&quot;code-quote&quot;&gt;&quot;shard&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;shard1&quot;&lt;/span&gt;,
   [junit4]   2&amp;gt; 	  &lt;span class=&quot;code-quote&quot;&gt;&quot;collection&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;delLiveColl&quot;&lt;/span&gt;,
   [junit4]   2&amp;gt; 	  &lt;span class=&quot;code-quote&quot;&gt;&quot;operation&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;state&quot;&lt;/span&gt;} current state version: 7
   [junit4]   2&amp;gt; 357587 T2350 oasco.ReplicaMutator.updateState Update state numShards=2 message={
   [junit4]   2&amp;gt; 	  &lt;span class=&quot;code-quote&quot;&gt;&quot;core&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;delLiveColl_shard1_replica2&quot;&lt;/span&gt;,
   [junit4]   2&amp;gt; 	  &lt;span class=&quot;code-quote&quot;&gt;&quot;core_node_name&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;core_node2&quot;&lt;/span&gt;,
   [junit4]   2&amp;gt; 	  &lt;span class=&quot;code-quote&quot;&gt;&quot;roles&quot;&lt;/span&gt;:&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;,
   [junit4]   2&amp;gt; 	  &lt;span class=&quot;code-quote&quot;&gt;&quot;base_url&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//127.0.0.1:55369&quot;&lt;/span&gt;,
&lt;/span&gt;   [junit4]   2&amp;gt; 	  &lt;span class=&quot;code-quote&quot;&gt;&quot;node_name&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;127.0.0.1:55369_&quot;&lt;/span&gt;,
   [junit4]   2&amp;gt; 	  &lt;span class=&quot;code-quote&quot;&gt;&quot;numShards&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;2&quot;&lt;/span&gt;,
   [junit4]   2&amp;gt; 	  &lt;span class=&quot;code-quote&quot;&gt;&quot;state&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;down&quot;&lt;/span&gt;,
   [junit4]   2&amp;gt; 	  &lt;span class=&quot;code-quote&quot;&gt;&quot;shard&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;shard1&quot;&lt;/span&gt;,
   [junit4]   2&amp;gt; 	  &lt;span class=&quot;code-quote&quot;&gt;&quot;collection&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;delLiveColl&quot;&lt;/span&gt;,
   [junit4]   2&amp;gt; 	  &lt;span class=&quot;code-quote&quot;&gt;&quot;operation&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;state&quot;&lt;/span&gt;}
   [junit4]   2&amp;gt; 357589 T2490 oasc.DistributedQueue$LatchWatcher.process NodeChildrenChanged fired on path /overseer/queue state SyncConnected
   [junit4]   2&amp;gt; 357589 T2350 oasco.ZkStateWriter.writePendingUpdates going to update_collection /collections/delLiveColl/state.json version: 11
   [junit4]   2&amp;gt; 357589 T2425 oascc.ZkStateReader$7.process A cluster state change: WatchedEvent state:SyncConnected type:NodeDataChanged path:/collections/delLiveColl/state.json, has occurred - updating... 
   [junit4]   2&amp;gt; 357589 T2450 oascc.ZkStateReader$7.process A cluster state change: WatchedEvent state:SyncConnected type:NodeDataChanged path:/collections/delLiveColl/state.json, has occurred - updating... 
   [junit4]   2&amp;gt; 357589 T2381 oascc.ZkStateReader$7.process A cluster state change: WatchedEvent state:SyncConnected type:NodeDataChanged path:/collections/delLiveColl/state.json, has occurred - updating... 
   [junit4]   2&amp;gt; 357590 T2425 oascc.ZkStateReader.updateWatchedCollection Updating data &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; delLiveColl to ver 12 
   [junit4]   2&amp;gt; 357590 T2381 oascc.ZkStateReader.updateWatchedCollection Updating data &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; delLiveColl to ver 12 
   [junit4]   2&amp;gt; 357590 T2450 oascc.ZkStateReader.updateWatchedCollection Updating data &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; delLiveColl to ver 12 
   [junit4]   2&amp;gt; 357593 T2349 oascc.ZkStateReader.updateWatchedCollection Updating data &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; delLiveColl to ver 12 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In this run, the test has 4 nodes and the collection being deleted has 2 shards and 4 replicas distributed across those 4 nodes. The overseer node itself hosts a replica of the collection being deleted. &lt;/p&gt;

&lt;p&gt;Notice that the Overseer updates the collection state currently at version 10 and 4 watcher threads fire to update state of &apos;delLiveColl&apos; to version 11. But the ZkStateReader.updateWatchedCollection method is only fired by three watchers. The thread T2349 doesn&apos;t execute the updateWatchedCollection method presumably because it is waiting for the update lock.&lt;/p&gt;

&lt;p&gt;I think this failure is linked to &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6554&quot; title=&quot;Speed up overseer operations for collections with stateFormat &amp;gt; 1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6554&quot;&gt;&lt;del&gt;SOLR-6554&lt;/del&gt;&lt;/a&gt; where my effort in making the overseer faster causes the update lock to be held up for a long time on the overseer node causing state updates to be not visible to anyone except the Overseer on that node. This is causing the OverseerCollectionProcessor to operate on stale state. This may likely be the reason for various other failures in our cloud tests.&lt;/p&gt;</comment>
                            <comment id="14322730" author="jira-bot" created="Mon, 16 Feb 2015 12:56:57 +0000"  >&lt;p&gt;Commit 1660104 from shalin@apache.org in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1660104&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1660104&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6956&quot; title=&quot;OverseerCollectionProcessor and replicas on the overseer node can operate on stale cluster state&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6956&quot;&gt;&lt;del&gt;SOLR-6956&lt;/del&gt;&lt;/a&gt;: Log collection name as well as live nodes size&lt;/p&gt;</comment>
                            <comment id="14322731" author="jira-bot" created="Mon, 16 Feb 2015 12:59:29 +0000"  >&lt;p&gt;Commit 1660105 from shalin@apache.org in branch &apos;dev/branches/branch_5x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1660105&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1660105&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6956&quot; title=&quot;OverseerCollectionProcessor and replicas on the overseer node can operate on stale cluster state&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6956&quot;&gt;&lt;del&gt;SOLR-6956&lt;/del&gt;&lt;/a&gt;: Log collection name as well as live nodes size&lt;/p&gt;</comment>
                            <comment id="14324377" author="shalinmangar" created="Tue, 17 Feb 2015 16:13:46 +0000"  >&lt;p&gt;There is no need to synchronize on the ZkStateReader&apos;s update lock inside the Overseer. It may have been necessary in the past but I don&apos;t see why it is useful today. The lock is anyway acquired by the reader if the cluster state is refreshed forcefully.&lt;/p&gt;

&lt;p&gt;This patch removes synchronization on the ZkStateReader.getUpdateLock inside the Overseer. This patch also combines the two work queue loops in the Overseer (first at overseer startup and second if refreshClusterState == true). I had kept them separate during &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6554&quot; title=&quot;Speed up overseer operations for collections with stateFormat &amp;gt; 1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6554&quot;&gt;&lt;del&gt;SOLR-6554&lt;/del&gt;&lt;/a&gt; because I thought that acquiring the update lock was necessary and we don&apos;t want to hold the lock while waiting for a peek.&lt;/p&gt;</comment>
                            <comment id="14324441" author="shalinmangar" created="Tue, 17 Feb 2015 16:51:56 +0000"  >&lt;p&gt;I added a force update cluster state before executing a collection API command. These are few and far in between and a force update will ensure that the latest state is visible to OverseerCollectionProcessor.&lt;/p&gt;</comment>
                            <comment id="14324477" author="shalinmangar" created="Tue, 17 Feb 2015 17:08:45 +0000"  >&lt;p&gt;Moved the updateClusterState call inside the try-catch block of processMessage. I&apos;ll commit this shortly.&lt;/p&gt;</comment>
                            <comment id="14324482" author="jira-bot" created="Tue, 17 Feb 2015 17:13:16 +0000"  >&lt;p&gt;Commit 1660449 from shalin@apache.org in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1660449&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1660449&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6956&quot; title=&quot;OverseerCollectionProcessor and replicas on the overseer node can operate on stale cluster state&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6956&quot;&gt;&lt;del&gt;SOLR-6956&lt;/del&gt;&lt;/a&gt;: OverseerCollectionProcessor and replicas on the overseer node can sometimes operate on stale cluster state&lt;/p&gt;</comment>
                            <comment id="14324490" author="jira-bot" created="Tue, 17 Feb 2015 17:19:45 +0000"  >&lt;p&gt;Commit 1660450 from shalin@apache.org in branch &apos;dev/branches/branch_5x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1660450&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1660450&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6956&quot; title=&quot;OverseerCollectionProcessor and replicas on the overseer node can operate on stale cluster state&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6956&quot;&gt;&lt;del&gt;SOLR-6956&lt;/del&gt;&lt;/a&gt;: OverseerCollectionProcessor and replicas on the overseer node can sometimes operate on stale cluster state&lt;/p&gt;</comment>
                            <comment id="14324523" author="jira-bot" created="Tue, 17 Feb 2015 17:34:28 +0000"  >&lt;p&gt;Commit 1660453 from shalin@apache.org in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1660453&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1660453&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6956&quot; title=&quot;OverseerCollectionProcessor and replicas on the overseer node can operate on stale cluster state&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6956&quot;&gt;&lt;del&gt;SOLR-6956&lt;/del&gt;&lt;/a&gt;: A better message for DeleteReplicaTest failures&lt;/p&gt;</comment>
                            <comment id="14324529" author="jira-bot" created="Tue, 17 Feb 2015 17:37:00 +0000"  >&lt;p&gt;Commit 1660455 from shalin@apache.org in branch &apos;dev/branches/branch_5x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1660455&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1660455&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6956&quot; title=&quot;OverseerCollectionProcessor and replicas on the overseer node can operate on stale cluster state&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6956&quot;&gt;&lt;del&gt;SOLR-6956&lt;/del&gt;&lt;/a&gt;: A better message for DeleteReplicaTest failures&lt;/p&gt;</comment>
                            <comment id="14325136" author="anshumg" created="Tue, 17 Feb 2015 23:46:42 +0000"  >&lt;p&gt;Seems like this broke the build (Jenkins is yet to get there).&lt;br/&gt;
The OCP tests are failing.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;   [junit4] ERROR   10.1s | OverseerCollectionProcessorTest.testReplicationCollectionNotCreatedDueToMaxShardsPerNodeLimit &amp;lt;&amp;lt;&amp;lt;
   [junit4]    &amp;gt; Throwable #1: java.lang.AssertionError:  Queue not empty within 10000 ms1424216414061
   [junit4]    &amp;gt; 	at org.apache.solr.cloud.OverseerCollectionProcessorTest.waitForEmptyQueue(OverseerCollectionProcessorTest.java:556)
   [junit4]    &amp;gt; 	at org.apache.solr.cloud.OverseerCollectionProcessorTest.testTemplate(OverseerCollectionProcessorTest.java:606)
   [junit4]    &amp;gt; 	at org.apache.solr.cloud.OverseerCollectionProcessorTest.testReplicationCollectionNotCreatedDueToMaxShardsPerNodeLimit(OverseerCollectionProcessorTest.java:737)
   [junit4]    &amp;gt; 	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)Throwable #2: com.carrotsearch.randomizedtesting.UncaughtExceptionError: Captured an uncaught exception in thread: &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;[id=21, name=OverseerThreadFactory-3-thread-1, state=RUNNABLE, group=TGRP-OverseerCollectionProcessorTest]
   [junit4]    &amp;gt; Caused by: java.lang.AssertionError: 
   [junit4]    &amp;gt;   Unexpected method call updateClusterState(&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;):
   [junit4]    &amp;gt;     getClusterProps(): expected: 1, actual: 0
   [junit4]    &amp;gt; 	at __randomizedtesting.SeedInfo.seed([1247AEAB11BEC8AF]:0)
   [junit4]    &amp;gt; 	at org.easymock.internal.MockInvocationHandler.invoke(MockInvocationHandler.java:45)
   [junit4]    &amp;gt; 	at org.easymock.internal.ObjectMethodsFilter.invoke(ObjectMethodsFilter.java:73)
   [junit4]    &amp;gt; 	at org.easymock.internal.ClassProxyFactory$MockMethodInterceptor.intercept(ClassProxyFactory.java:92)
   [junit4]    &amp;gt; 	at org.apache.solr.common.cloud.ZkStateReader$$EnhancerByCGLIB$$bb1422ab.updateClusterState(&amp;lt;generated&amp;gt;)
   [junit4]    &amp;gt; 	at org.apache.solr.cloud.OverseerCollectionProcessor.processMessage(OverseerCollectionProcessor.java:584)
   [junit4]    &amp;gt; 	at org.apache.solr.cloud.OverseerCollectionProcessor$Runner.run(OverseerCollectionProcessor.java:2864)
   [junit4]    &amp;gt; 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
   [junit4]    &amp;gt; 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
   [junit4]    &amp;gt; 	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14325168" author="jira-bot" created="Wed, 18 Feb 2015 00:07:33 +0000"  >&lt;p&gt;Commit 1660544 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anshumg&quot; class=&quot;user-hover&quot; rel=&quot;anshumg&quot;&gt;anshumg&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1660544&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1660544&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6956&quot; title=&quot;OverseerCollectionProcessor and replicas on the overseer node can operate on stale cluster state&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6956&quot;&gt;&lt;del&gt;SOLR-6956&lt;/del&gt;&lt;/a&gt;: Fixing the mocked OCP in OverseerCollectionProcessorTest&lt;/p&gt;</comment>
                            <comment id="14325182" author="jira-bot" created="Wed, 18 Feb 2015 00:16:55 +0000"  >&lt;p&gt;Commit 1660546 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anshumg&quot; class=&quot;user-hover&quot; rel=&quot;anshumg&quot;&gt;anshumg&lt;/a&gt; in branch &apos;dev/branches/branch_5x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1660546&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1660546&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6956&quot; title=&quot;OverseerCollectionProcessor and replicas on the overseer node can operate on stale cluster state&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6956&quot;&gt;&lt;del&gt;SOLR-6956&lt;/del&gt;&lt;/a&gt;: Fixing the mocked OCP in OverseerCollectionProcessorTest (merge from trunk)&lt;/p&gt;</comment>
                            <comment id="14348242" author="shalinmangar" created="Thu, 5 Mar 2015 06:29:50 +0000"  >&lt;p&gt;Thanks Anshum for fixing the OCP test. I haven&apos;t seen this failure since this patch was committed so I&apos;ll resolve this now.&lt;/p&gt;</comment>
                            <comment id="14495404" author="thelabdude" created="Wed, 15 Apr 2015 00:30:59 +0000"  >&lt;p&gt;Bulk close after 5.1 release&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12678838">SOLR-5437</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12698980" name="DeleteReplicaTest-failure.log" size="874721" author="shalin" created="Sun, 15 Feb 2015 14:44:14 +0000"/>
                            <attachment id="12699293" name="SOLR-6956.patch" size="14240" author="shalin" created="Tue, 17 Feb 2015 17:08:45 +0000"/>
                            <attachment id="12699287" name="SOLR-6956.patch" size="13589" author="shalin" created="Tue, 17 Feb 2015 16:51:56 +0000"/>
                            <attachment id="12699280" name="SOLR-6956.patch" size="12685" author="shalin" created="Tue, 17 Feb 2015 16:13:46 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 32 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2489r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>