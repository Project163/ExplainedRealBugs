<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:02:15 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-6920] During replication use checksums to verify if files are the same</title>
                <link>https://issues.apache.org/jira/browse/SOLR-6920</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;Currently we check if an index file on the master and slave is the same by checking if it&apos;s name and file length match. &lt;/p&gt;

&lt;p&gt;With &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-2446&quot; title=&quot;Add checksums to Lucene segment files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LUCENE-2446&quot;&gt;&lt;del&gt;LUCENE-2446&lt;/del&gt;&lt;/a&gt; we now have a checksums for each index file in the segment. We should leverage this to verify if two files are the same.&lt;/p&gt;

&lt;p&gt;Places like SnapPuller.isIndexStale and SnapPuller.downloadIndexFiles should check against the checksum also.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12765310">SOLR-6920</key>
            <summary>During replication use checksums to verify if files are the same</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="markrmiller@gmail.com">Mark Miller</assignee>
                                    <reporter username="varun">Varun Thacker</reporter>
                        <labels>
                    </labels>
                <created>Wed, 7 Jan 2015 07:23:14 +0000</created>
                <updated>Thu, 21 Nov 2019 00:42:14 +0000</updated>
                            <resolved>Mon, 9 Feb 2015 18:50:19 +0000</resolved>
                                                    <fixVersion>5.0</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                    <component>replication (java)</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="14267362" author="varunthacker" created="Wed, 7 Jan 2015 07:36:10 +0000"  >&lt;p&gt;Few tests fail with this patch -&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;   [junit4] Tests with failures:
   [junit4]   - org.apache.solr.cloud.BasicDistributedZk2Test.testDistribSearch
   [junit4]   - org.apache.solr.cloud.ShardSplitTest.testDistribSearch
   [junit4]   - org.apache.solr.cloud.SyncSliceTest.testDistribSearch
   [junit4]   - org.apache.solr.cloud.RecoveryZkTest.testDistribSearch
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;I picked ShardSplitTest.testDistribSearch and started investigating why is it failing always with the patch - &lt;/p&gt;

&lt;p&gt;I was seeing the following stack trace  - &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;53340 T166 C65 P58357 oasc.SolrException.log ERROR SnapPull failed :org.apache.solr.common.SolrException: Error opening &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; searcher
		at org.apache.solr.core.SolrCore.openNewSearcher(SolrCore.java:1603)
		at org.apache.solr.core.SolrCore.getSearcher(SolrCore.java:1715)
		at org.apache.solr.handler.SnapPuller.openNewSearcherAndUpdateCommitPoint(SnapPuller.java:680)
		at org.apache.solr.handler.SnapPuller.fetchLatestIndex(SnapPuller.java:496)
		at org.apache.solr.handler.ReplicationHandler.doFetch(ReplicationHandler.java:340)
		at org.apache.solr.cloud.RecoveryStrategy.replicate(RecoveryStrategy.java:163)
		at org.apache.solr.cloud.RecoveryStrategy.doRecovery(RecoveryStrategy.java:447)
		at org.apache.solr.cloud.RecoveryStrategy.run(RecoveryStrategy.java:235)
	Caused by: java.io.FileNotFoundException: _1_2.liv in dir=RAMDirectory@2fdfb9bd lockFactory=org.apache.lucene.store.SingleInstanceLockFactory@91b3fd9
		at org.apache.lucene.store.MockDirectoryWrapper.openInput(MockDirectoryWrapper.java:655)
		at org.apache.lucene.store.Directory.openChecksumInput(Directory.java:110)
		at org.apache.lucene.codecs.lucene50.Lucene50LiveDocsFormat.readLiveDocs(Lucene50LiveDocsFormat.java:84)
		at org.apache.lucene.codecs.asserting.AssertingLiveDocsFormat.readLiveDocs(AssertingLiveDocsFormat.java:64)
		at org.apache.lucene.index.SegmentReader.&amp;lt;init&amp;gt;(SegmentReader.java:101)
		at org.apache.lucene.index.ReadersAndUpdates.getReader(ReadersAndUpdates.java:134)
		at org.apache.lucene.index.ReadersAndUpdates.getReadOnlyClone(ReadersAndUpdates.java:186)
		at org.apache.lucene.index.StandardDirectoryReader.open(StandardDirectoryReader.java:94)
		at org.apache.lucene.index.IndexWriter.getReader(IndexWriter.java:430)
		at org.apache.lucene.index.StandardDirectoryReader.doOpenIfChanged(StandardDirectoryReader.java:268)
		at org.apache.lucene.index.DirectoryReader.openIfChanged(DirectoryReader.java:203)
		at org.apache.solr.core.SolrCore.openNewSearcher(SolrCore.java:1522)
		... 7 more
	
53344 T166 C65 P58357 oasc.SolrException.log ERROR Error &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; trying to recover:org.apache.solr.common.SolrException: Replication &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; recovery failed.
		at org.apache.solr.cloud.RecoveryStrategy.replicate(RecoveryStrategy.java:166)
		at org.apache.solr.cloud.RecoveryStrategy.doRecovery(RecoveryStrategy.java:447)
		at org.apache.solr.cloud.RecoveryStrategy.run(RecoveryStrategy.java:235)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This looked very similar to the problem we were trying to solve in &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6640&quot; title=&quot;Replication can cause index corruption.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6640&quot;&gt;&lt;del&gt;SOLR-6640&lt;/del&gt;&lt;/a&gt;. So I applied the patch from &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6640&quot; title=&quot;Replication can cause index corruption.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6640&quot;&gt;&lt;del&gt;SOLR-6640&lt;/del&gt;&lt;/a&gt; along with this patch and now  I am seeing these -&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;392008 T11 oasc.Diagnostics.logThreadDumps ERROR Gave up waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; recovery to finish.  THREAD DUMP:
	&lt;span class=&quot;code-quote&quot;&gt;&quot;qtp2004060070-174&quot;&lt;/span&gt; Id=174 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@42da41bf
		at sun.misc.Unsafe.park(Native Method)
		-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@42da41bf
		at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:226)
		at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2082)
		at org.eclipse.jetty.util.BlockingArrayQueue.poll(BlockingArrayQueue.java:342)
		at org.eclipse.jetty.util.thread.QueuedThreadPool.idleJobPoll(QueuedThreadPool.java:526)
		at org.eclipse.jetty.util.thread.QueuedThreadPool.access$600(QueuedThreadPool.java:44)
		at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:572)
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;RecoveryThread-collection1_shard1_1_replica2&quot;&lt;/span&gt; Id=168 TIMED_WAITING on java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;@1398321c
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.wait(Native Method)
		-  waiting on java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;@1398321c
		at org.apache.solr.update.DefaultSolrCoreState.closeIndexWriter(DefaultSolrCoreState.java:209)
		-  locked org.apache.solr.update.DefaultSolrCoreState@50d256b5
		at org.apache.solr.handler.SnapPuller.fetchLatestIndex(SnapPuller.java:469)
		at org.apache.solr.handler.ReplicationHandler.doFetch(ReplicationHandler.java:340)
		at org.apache.solr.cloud.RecoveryStrategy.replicate(RecoveryStrategy.java:163)
		at org.apache.solr.cloud.RecoveryStrategy.doRecovery(RecoveryStrategy.java:447)
		at org.apache.solr.cloud.RecoveryStrategy.run(RecoveryStrategy.java:235)
	
		&lt;span class=&quot;code-object&quot;&gt;Number&lt;/span&gt; of locked synchronizers = 1
		- java.util.concurrent.locks.ReentrantLock$NonfairSync@213aae87
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;searcherExecutor-61-thread-1&quot;&lt;/span&gt; Id=166 WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@6d01d650
		at sun.misc.Unsafe.park(Native Method)
		-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@6d01d650
		at java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)
		at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2043)
		at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)
		at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1068)
		at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
		at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;RecoveryThread-collection1_shard1_0_replica2&quot;&lt;/span&gt; Id=163 TIMED_WAITING on java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;@50e7ed31
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.wait(Native Method)
		-  waiting on java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;@50e7ed31
		at org.apache.solr.update.DefaultSolrCoreState.closeIndexWriter(DefaultSolrCoreState.java:209)
		-  locked org.apache.solr.update.DefaultSolrCoreState@3e7f8d5e
		at org.apache.solr.handler.SnapPuller.fetchLatestIndex(SnapPuller.java:469)
		at org.apache.solr.handler.ReplicationHandler.doFetch(ReplicationHandler.java:340)
		at org.apache.solr.cloud.RecoveryStrategy.replicate(RecoveryStrategy.java:163)
		at org.apache.solr.cloud.RecoveryStrategy.doRecovery(RecoveryStrategy.java:447)
		at org.apache.solr.cloud.RecoveryStrategy.run(RecoveryStrategy.java:235)
	
		&lt;span class=&quot;code-object&quot;&gt;Number&lt;/span&gt; of locked synchronizers = 1
		- java.util.concurrent.locks.ReentrantLock$NonfairSync@281a3660
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;searcherExecutor-56-thread-1&quot;&lt;/span&gt; Id=161 WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@2a855576
		at sun.misc.Unsafe.park(Native Method)
		-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@2a855576
		at java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)
		at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2043)
		at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)
		at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1068)
		at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
		at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;searcherExecutor-52-thread-1&quot;&lt;/span&gt; Id=156 WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@17adcbc9
		at sun.misc.Unsafe.park(Native Method)
		-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@17adcbc9
		at java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)
		at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2043)
		at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)
		at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1068)
		at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
		at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;searcherExecutor-48-thread-1&quot;&lt;/span&gt; Id=154 WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@131e0544
		at sun.misc.Unsafe.park(Native Method)
		-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@131e0544
		at java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)
		at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2043)
		at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)
		at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1068)
		at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
		at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;OverseerThreadFactory-5-thread-4&quot;&lt;/span&gt; Id=152 WAITING on java.util.concurrent.SynchronousQueue$TransferStack@17ebbd2a
		at sun.misc.Unsafe.park(Native Method)
		-  waiting on java.util.concurrent.SynchronousQueue$TransferStack@17ebbd2a
		at java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)
		at java.util.concurrent.SynchronousQueue$TransferStack.awaitFulfill(SynchronousQueue.java:458)
		at java.util.concurrent.SynchronousQueue$TransferStack.transfer(SynchronousQueue.java:359)
		at java.util.concurrent.SynchronousQueue.take(SynchronousQueue.java:925)
		at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1068)
		at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
		at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
		...
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;OverseerThreadFactory-5-thread-3&quot;&lt;/span&gt; Id=146 WAITING on java.util.concurrent.SynchronousQueue$TransferStack@17ebbd2a
		at sun.misc.Unsafe.park(Native Method)
		-  waiting on java.util.concurrent.SynchronousQueue$TransferStack@17ebbd2a
		at java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)
		at java.util.concurrent.SynchronousQueue$TransferStack.awaitFulfill(SynchronousQueue.java:458)
		at java.util.concurrent.SynchronousQueue$TransferStack.transfer(SynchronousQueue.java:359)
		at java.util.concurrent.SynchronousQueue.take(SynchronousQueue.java:925)
		at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1068)
		at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
		at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
		...
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;OverseerThreadFactory-5-thread-2&quot;&lt;/span&gt; Id=145 WAITING on java.util.concurrent.SynchronousQueue$TransferStack@17ebbd2a
		at sun.misc.Unsafe.park(Native Method)
		-  waiting on java.util.concurrent.SynchronousQueue$TransferStack@17ebbd2a
		at java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)
		at java.util.concurrent.SynchronousQueue$TransferStack.awaitFulfill(SynchronousQueue.java:458)
		at java.util.concurrent.SynchronousQueue$TransferStack.transfer(SynchronousQueue.java:359)
		at java.util.concurrent.SynchronousQueue.take(SynchronousQueue.java:925)
		at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1068)
		at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
		at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
		...
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;OverseerThreadFactory-5-thread-1&quot;&lt;/span&gt; Id=144 WAITING on java.util.concurrent.SynchronousQueue$TransferStack@17ebbd2a
		at sun.misc.Unsafe.park(Native Method)
		-  waiting on java.util.concurrent.SynchronousQueue$TransferStack@17ebbd2a
		at java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)
		at java.util.concurrent.SynchronousQueue$TransferStack.awaitFulfill(SynchronousQueue.java:458)
		at java.util.concurrent.SynchronousQueue$TransferStack.transfer(SynchronousQueue.java:359)
		at java.util.concurrent.SynchronousQueue.take(SynchronousQueue.java:925)
		at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1068)
		at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
		at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
		...
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;coreZkRegister-39-thread-1&quot;&lt;/span&gt; Id=136 WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@75d01caa
		at sun.misc.Unsafe.park(Native Method)
		-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@75d01caa
		at java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)
		at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2043)
		at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)
		at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1068)
		at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
		at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-57&quot;&lt;/span&gt; Id=134 WAITING on java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;@320a1953
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.wait(Native Method)
		-  waiting on java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;@320a1953
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.wait(&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.java:503)
		at org.apache.solr.core.CloserThread.run(CoreContainer.java:929)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;searcherExecutor-44-thread-1&quot;&lt;/span&gt; Id=133 WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@3504b1cf
		at sun.misc.Unsafe.park(Native Method)
		-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@3504b1cf
		at java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)
		at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2043)
		at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)
		at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1068)
		at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
		at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;TEST-ShardSplitTest.testDistribSearch-seed#[8490788943A65A5D]-EventThread&quot;&lt;/span&gt; Id=129 WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@4735a83a
		at sun.misc.Unsafe.park(Native Method)
		-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@4735a83a
		at java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)
		at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2043)
		at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)
		at org.apache.zookeeper.ClientCnxn$EventThread.run(ClientCnxn.java:494)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;TEST-ShardSplitTest.testDistribSearch-seed#[8490788943A65A5D]-SendThread(127.0.0.1:57967)&quot;&lt;/span&gt; Id=128 RUNNABLE (in &lt;span class=&quot;code-keyword&quot;&gt;native&lt;/span&gt;)
		at sun.nio.ch.KQueueArrayWrapper.kevent0(Native Method)
		at sun.nio.ch.KQueueArrayWrapper.poll(KQueueArrayWrapper.java:200)
		at sun.nio.ch.KQueueSelectorImpl.doSelect(KQueueSelectorImpl.java:103)
		at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:87)
		-  locked sun.nio.ch.Util$2@7b7a6620
		-  locked java.util.Collections$UnmodifiableSet@685b5a62
		-  locked sun.nio.ch.KQueueSelectorImpl@2c205e57
		at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:98)
		at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:349)
		at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1081)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;qtp860063164-124&quot;&lt;/span&gt; Id=124 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@111b863
		at sun.misc.Unsafe.park(Native Method)
		-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@111b863
		at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:226)
		at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2082)
		at org.eclipse.jetty.util.BlockingArrayQueue.poll(BlockingArrayQueue.java:342)
		at org.eclipse.jetty.util.thread.QueuedThreadPool.idleJobPoll(QueuedThreadPool.java:526)
		at org.eclipse.jetty.util.thread.QueuedThreadPool.access$600(QueuedThreadPool.java:44)
		at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:572)
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;qtp860063164-123&quot;&lt;/span&gt; Id=123 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@111b863
		at sun.misc.Unsafe.park(Native Method)
		-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@111b863
		at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:226)
		at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2082)
		at org.eclipse.jetty.util.BlockingArrayQueue.poll(BlockingArrayQueue.java:342)
		at org.eclipse.jetty.util.thread.QueuedThreadPool.idleJobPoll(QueuedThreadPool.java:526)
		at org.eclipse.jetty.util.thread.QueuedThreadPool.access$600(QueuedThreadPool.java:44)
		at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:572)
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;qtp860063164-122&quot;&lt;/span&gt; Id=122 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@111b863
		at sun.misc.Unsafe.park(Native Method)
		-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@111b863
		at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:226)
		at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2082)
		at org.eclipse.jetty.util.BlockingArrayQueue.poll(BlockingArrayQueue.java:342)
		at org.eclipse.jetty.util.thread.QueuedThreadPool.idleJobPoll(QueuedThreadPool.java:526)
		at org.eclipse.jetty.util.thread.QueuedThreadPool.access$600(QueuedThreadPool.java:44)
		at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:572)
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;qtp860063164-121&quot;&lt;/span&gt; Id=121 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@111b863
		at sun.misc.Unsafe.park(Native Method)
		-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@111b863
		at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:226)
		at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2082)
		at org.eclipse.jetty.util.BlockingArrayQueue.poll(BlockingArrayQueue.java:342)
		at org.eclipse.jetty.util.thread.QueuedThreadPool.idleJobPoll(QueuedThreadPool.java:526)
		at org.eclipse.jetty.util.thread.QueuedThreadPool.access$600(QueuedThreadPool.java:44)
		at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:572)
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;qtp860063164-120&quot;&lt;/span&gt; Id=120 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@111b863
		at sun.misc.Unsafe.park(Native Method)
		-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@111b863
		at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:226)
		at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2082)
		at org.eclipse.jetty.util.BlockingArrayQueue.poll(BlockingArrayQueue.java:342)
		at org.eclipse.jetty.util.thread.QueuedThreadPool.idleJobPoll(QueuedThreadPool.java:526)
		at org.eclipse.jetty.util.thread.QueuedThreadPool.access$600(QueuedThreadPool.java:44)
		at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:572)
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;qtp860063164-119&quot;&lt;/span&gt; Id=119 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@111b863
		at sun.misc.Unsafe.park(Native Method)
		-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@111b863
		at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:226)
		at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2082)
		at org.eclipse.jetty.util.BlockingArrayQueue.poll(BlockingArrayQueue.java:342)
		at org.eclipse.jetty.util.thread.QueuedThreadPool.idleJobPoll(QueuedThreadPool.java:526)
		at org.eclipse.jetty.util.thread.QueuedThreadPool.access$600(QueuedThreadPool.java:44)
		at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:572)
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;qtp860063164-118 Acceptor0 SelectChannelConnector@127.0.0.1:57992&quot;&lt;/span&gt; Id=118 RUNNABLE (in &lt;span class=&quot;code-keyword&quot;&gt;native&lt;/span&gt;)
		at sun.nio.ch.ServerSocketChannelImpl.accept0(Native Method)
		at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:241)
		-  locked java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;@32606c21
		at org.eclipse.jetty.server.nio.SelectChannelConnector.accept(SelectChannelConnector.java:109)
		at org.eclipse.jetty.server.AbstractConnector$Acceptor.run(AbstractConnector.java:938)
		at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:608)
		at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:543)
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;qtp860063164-117 Selector0&quot;&lt;/span&gt; Id=117 RUNNABLE (in &lt;span class=&quot;code-keyword&quot;&gt;native&lt;/span&gt;)
		at sun.nio.ch.KQueueArrayWrapper.kevent0(Native Method)
		at sun.nio.ch.KQueueArrayWrapper.poll(KQueueArrayWrapper.java:200)
		at sun.nio.ch.KQueueSelectorImpl.doSelect(KQueueSelectorImpl.java:103)
		at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:87)
		-  locked sun.nio.ch.Util$2@3f7ba2fc
		-  locked java.util.Collections$UnmodifiableSet@4d533b8b
		-  locked sun.nio.ch.KQueueSelectorImpl@27365e0f
		at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:98)
		at org.eclipse.jetty.io.nio.SelectorManager$SelectSet.doSelect(SelectorManager.java:569)
		at org.eclipse.jetty.io.nio.SelectorManager$1.run(SelectorManager.java:290)
		at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:608)
		...
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;HashSessionScavenger-4&quot;&lt;/span&gt; Id=116 TIMED_WAITING on java.util.TaskQueue@62593ee5
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.wait(Native Method)
		-  waiting on java.util.TaskQueue@62593ee5
		at java.util.TimerThread.mainLoop(Timer.java:552)
		at java.util.TimerThread.run(Timer.java:505)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;coreZkRegister-30-thread-1&quot;&lt;/span&gt; Id=113 WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@51305ed4
		at sun.misc.Unsafe.park(Native Method)
		-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@51305ed4
		at java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)
		at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2043)
		at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)
		at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1068)
		at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
		at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-45&quot;&lt;/span&gt; Id=111 WAITING on java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;@320a1953
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.wait(Native Method)
		-  waiting on java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;@320a1953
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.wait(&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.java:503)
		at org.apache.solr.core.CloserThread.run(CoreContainer.java:929)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;searcherExecutor-35-thread-1&quot;&lt;/span&gt; Id=110 WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@3ea1d9f0
		at sun.misc.Unsafe.park(Native Method)
		-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@3ea1d9f0
		at java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)
		at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2043)
		at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)
		at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1068)
		at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
		at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;TEST-ShardSplitTest.testDistribSearch-seed#[8490788943A65A5D]-EventThread&quot;&lt;/span&gt; Id=107 WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@73eb3baf
		at sun.misc.Unsafe.park(Native Method)
		-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@73eb3baf
		at java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)
		at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2043)
		at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)
		at org.apache.zookeeper.ClientCnxn$EventThread.run(ClientCnxn.java:494)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;TEST-ShardSplitTest.testDistribSearch-seed#[8490788943A65A5D]-SendThread(127.0.0.1:57967)&quot;&lt;/span&gt; Id=106 RUNNABLE (in &lt;span class=&quot;code-keyword&quot;&gt;native&lt;/span&gt;)
		at sun.nio.ch.KQueueArrayWrapper.kevent0(Native Method)
		at sun.nio.ch.KQueueArrayWrapper.poll(KQueueArrayWrapper.java:200)
		at sun.nio.ch.KQueueSelectorImpl.doSelect(KQueueSelectorImpl.java:103)
		at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:87)
		-  locked sun.nio.ch.Util$2@4f823fdd
		-  locked java.util.Collections$UnmodifiableSet@19498b68
		-  locked sun.nio.ch.KQueueSelectorImpl@41550ef
		at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:98)
		at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:349)
		at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1081)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;qtp695935058-102&quot;&lt;/span&gt; Id=102 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@13747d01
		at sun.misc.Unsafe.park(Native Method)
		-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@13747d01
		at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:226)
		at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2082)
		at org.eclipse.jetty.util.BlockingArrayQueue.poll(BlockingArrayQueue.java:342)
		at org.eclipse.jetty.util.thread.QueuedThreadPool.idleJobPoll(QueuedThreadPool.java:526)
		at org.eclipse.jetty.util.thread.QueuedThreadPool.access$600(QueuedThreadPool.java:44)
		at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:572)
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;qtp695935058-101&quot;&lt;/span&gt; Id=101 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@13747d01
		at sun.misc.Unsafe.park(Native Method)
		-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@13747d01
		at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:226)
		at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2082)
		at org.eclipse.jetty.util.BlockingArrayQueue.poll(BlockingArrayQueue.java:342)
		at org.eclipse.jetty.util.thread.QueuedThreadPool.idleJobPoll(QueuedThreadPool.java:526)
		at org.eclipse.jetty.util.thread.QueuedThreadPool.access$600(QueuedThreadPool.java:44)
		at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:572)
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;qtp695935058-100&quot;&lt;/span&gt; Id=100 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@13747d01
		at sun.misc.Unsafe.park(Native Method)
		-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@13747d01
		at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:226)
		at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2082)
		at org.eclipse.jetty.util.BlockingArrayQueue.poll(BlockingArrayQueue.java:342)
		at org.eclipse.jetty.util.thread.QueuedThreadPool.idleJobPoll(QueuedThreadPool.java:526)
		at org.eclipse.jetty.util.thread.QueuedThreadPool.access$600(QueuedThreadPool.java:44)
		at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:572)
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;qtp695935058-99&quot;&lt;/span&gt; Id=99 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@13747d01
		at sun.misc.Unsafe.park(Native Method)
		-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@13747d01
		at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:226)
		at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2082)
		at org.eclipse.jetty.util.BlockingArrayQueue.poll(BlockingArrayQueue.java:342)
		at org.eclipse.jetty.util.thread.QueuedThreadPool.idleJobPoll(QueuedThreadPool.java:526)
		at org.eclipse.jetty.util.thread.QueuedThreadPool.access$600(QueuedThreadPool.java:44)
		at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:572)
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;qtp695935058-98&quot;&lt;/span&gt; Id=98 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@13747d01
		at sun.misc.Unsafe.park(Native Method)
		-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@13747d01
		at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:226)
		at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2082)
		at org.eclipse.jetty.util.BlockingArrayQueue.poll(BlockingArrayQueue.java:342)
		at org.eclipse.jetty.util.thread.QueuedThreadPool.idleJobPoll(QueuedThreadPool.java:526)
		at org.eclipse.jetty.util.thread.QueuedThreadPool.access$600(QueuedThreadPool.java:44)
		at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:572)
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;qtp695935058-97&quot;&lt;/span&gt; Id=97 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@13747d01
		at sun.misc.Unsafe.park(Native Method)
		-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@13747d01
		at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:226)
		at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2082)
		at org.eclipse.jetty.util.BlockingArrayQueue.poll(BlockingArrayQueue.java:342)
		at org.eclipse.jetty.util.thread.QueuedThreadPool.idleJobPoll(QueuedThreadPool.java:526)
		at org.eclipse.jetty.util.thread.QueuedThreadPool.access$600(QueuedThreadPool.java:44)
		at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:572)
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;qtp695935058-96 Acceptor0 SelectChannelConnector@127.0.0.1:57988&quot;&lt;/span&gt; Id=96 RUNNABLE (in &lt;span class=&quot;code-keyword&quot;&gt;native&lt;/span&gt;)
		at sun.nio.ch.ServerSocketChannelImpl.accept0(Native Method)
		at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:241)
		-  locked java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;@44bad6a1
		at org.eclipse.jetty.server.nio.SelectChannelConnector.accept(SelectChannelConnector.java:109)
		at org.eclipse.jetty.server.AbstractConnector$Acceptor.run(AbstractConnector.java:938)
		at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:608)
		at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:543)
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;qtp695935058-95 Selector0&quot;&lt;/span&gt; Id=95 RUNNABLE (in &lt;span class=&quot;code-keyword&quot;&gt;native&lt;/span&gt;)
		at sun.nio.ch.KQueueArrayWrapper.kevent0(Native Method)
		at sun.nio.ch.KQueueArrayWrapper.poll(KQueueArrayWrapper.java:200)
		at sun.nio.ch.KQueueSelectorImpl.doSelect(KQueueSelectorImpl.java:103)
		at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:87)
		-  locked sun.nio.ch.Util$2@c24ea6a
		-  locked java.util.Collections$UnmodifiableSet@6211a266
		-  locked sun.nio.ch.KQueueSelectorImpl@7f8f54f6
		at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:98)
		at org.eclipse.jetty.io.nio.SelectorManager$SelectSet.doSelect(SelectorManager.java:569)
		at org.eclipse.jetty.io.nio.SelectorManager$1.run(SelectorManager.java:290)
		at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:608)
		...
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;HashSessionScavenger-3&quot;&lt;/span&gt; Id=94 TIMED_WAITING on java.util.TaskQueue@1b1323e7
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.wait(Native Method)
		-  waiting on java.util.TaskQueue@1b1323e7
		at java.util.TimerThread.mainLoop(Timer.java:552)
		at java.util.TimerThread.run(Timer.java:505)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;coreZkRegister-21-thread-1&quot;&lt;/span&gt; Id=93 WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@59a2094
		at sun.misc.Unsafe.park(Native Method)
		-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@59a2094
		at java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)
		at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2043)
		at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)
		at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1068)
		at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
		at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-34&quot;&lt;/span&gt; Id=91 WAITING on java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;@320a1953
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.wait(Native Method)
		-  waiting on java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;@320a1953
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.wait(&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.java:503)
		at org.apache.solr.core.CloserThread.run(CoreContainer.java:929)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;searcherExecutor-26-thread-1&quot;&lt;/span&gt; Id=90 WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@49d0d76b
		at sun.misc.Unsafe.park(Native Method)
		-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@49d0d76b
		at java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)
		at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2043)
		at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)
		at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1068)
		at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
		at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;TEST-ShardSplitTest.testDistribSearch-seed#[8490788943A65A5D]-EventThread&quot;&lt;/span&gt; Id=87 WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@2deed7a9
		at sun.misc.Unsafe.park(Native Method)
		-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@2deed7a9
		at java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)
		at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2043)
		at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)
		at org.apache.zookeeper.ClientCnxn$EventThread.run(ClientCnxn.java:494)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;TEST-ShardSplitTest.testDistribSearch-seed#[8490788943A65A5D]-SendThread(127.0.0.1:57967)&quot;&lt;/span&gt; Id=86 RUNNABLE (in &lt;span class=&quot;code-keyword&quot;&gt;native&lt;/span&gt;)
		at sun.nio.ch.KQueueArrayWrapper.kevent0(Native Method)
		at sun.nio.ch.KQueueArrayWrapper.poll(KQueueArrayWrapper.java:200)
		at sun.nio.ch.KQueueSelectorImpl.doSelect(KQueueSelectorImpl.java:103)
		at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:87)
		-  locked sun.nio.ch.Util$2@38060b85
		-  locked java.util.Collections$UnmodifiableSet@14d97f8d
		-  locked sun.nio.ch.KQueueSelectorImpl@5a431ae9
		at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:98)
		at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:349)
		at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1081)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;qtp104014779-82&quot;&lt;/span&gt; Id=82 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@6b9be54a
		at sun.misc.Unsafe.park(Native Method)
		-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@6b9be54a
		at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:226)
		at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2082)
		at org.eclipse.jetty.util.BlockingArrayQueue.poll(BlockingArrayQueue.java:342)
		at org.eclipse.jetty.util.thread.QueuedThreadPool.idleJobPoll(QueuedThreadPool.java:526)
		at org.eclipse.jetty.util.thread.QueuedThreadPool.access$600(QueuedThreadPool.java:44)
		at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:572)
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;qtp104014779-81&quot;&lt;/span&gt; Id=81 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@6b9be54a
		at sun.misc.Unsafe.park(Native Method)
		-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@6b9be54a
		at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:226)
		at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2082)
		at org.eclipse.jetty.util.BlockingArrayQueue.poll(BlockingArrayQueue.java:342)
		at org.eclipse.jetty.util.thread.QueuedThreadPool.idleJobPoll(QueuedThreadPool.java:526)
		at org.eclipse.jetty.util.thread.QueuedThreadPool.access$600(QueuedThreadPool.java:44)
		at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:572)
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;qtp104014779-80&quot;&lt;/span&gt; Id=80 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@6b9be54a
		at sun.misc.Unsafe.park(Native Method)
		-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@6b9be54a
		at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:226)
		at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2082)
		at org.eclipse.jetty.util.BlockingArrayQueue.poll(BlockingArrayQueue.java:342)
		at org.eclipse.jetty.util.thread.QueuedThreadPool.idleJobPoll(QueuedThreadPool.java:526)
		at org.eclipse.jetty.util.thread.QueuedThreadPool.access$600(QueuedThreadPool.java:44)
		at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:572)
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;qtp104014779-79&quot;&lt;/span&gt; Id=79 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@6b9be54a
		at sun.misc.Unsafe.park(Native Method)
		-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@6b9be54a
		at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:226)
		at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2082)
		at org.eclipse.jetty.util.BlockingArrayQueue.poll(BlockingArrayQueue.java:342)
		at org.eclipse.jetty.util.thread.QueuedThreadPool.idleJobPoll(QueuedThreadPool.java:526)
		at org.eclipse.jetty.util.thread.QueuedThreadPool.access$600(QueuedThreadPool.java:44)
		at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:572)
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;qtp104014779-78&quot;&lt;/span&gt; Id=78 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@6b9be54a
		at sun.misc.Unsafe.park(Native Method)
		-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@6b9be54a
		at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:226)
		at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2082)
		at org.eclipse.jetty.util.BlockingArrayQueue.poll(BlockingArrayQueue.java:342)
		at org.eclipse.jetty.util.thread.QueuedThreadPool.idleJobPoll(QueuedThreadPool.java:526)
		at org.eclipse.jetty.util.thread.QueuedThreadPool.access$600(QueuedThreadPool.java:44)
		at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:572)
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;qtp104014779-77&quot;&lt;/span&gt; Id=77 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@6b9be54a
		at sun.misc.Unsafe.park(Native Method)
		-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@6b9be54a
		at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:226)
		at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2082)
		at org.eclipse.jetty.util.BlockingArrayQueue.poll(BlockingArrayQueue.java:342)
		at org.eclipse.jetty.util.thread.QueuedThreadPool.idleJobPoll(QueuedThreadPool.java:526)
		at org.eclipse.jetty.util.thread.QueuedThreadPool.access$600(QueuedThreadPool.java:44)
		at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:572)
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;qtp104014779-76 Acceptor0 SelectChannelConnector@127.0.0.1:57984&quot;&lt;/span&gt; Id=76 RUNNABLE (in &lt;span class=&quot;code-keyword&quot;&gt;native&lt;/span&gt;)
		at sun.nio.ch.ServerSocketChannelImpl.accept0(Native Method)
		at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:241)
		-  locked java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;@47ea9477
		at org.eclipse.jetty.server.nio.SelectChannelConnector.accept(SelectChannelConnector.java:109)
		at org.eclipse.jetty.server.AbstractConnector$Acceptor.run(AbstractConnector.java:938)
		at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:608)
		at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:543)
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;qtp104014779-75 Selector0&quot;&lt;/span&gt; Id=75 RUNNABLE (in &lt;span class=&quot;code-keyword&quot;&gt;native&lt;/span&gt;)
		at sun.nio.ch.KQueueArrayWrapper.kevent0(Native Method)
		at sun.nio.ch.KQueueArrayWrapper.poll(KQueueArrayWrapper.java:200)
		at sun.nio.ch.KQueueSelectorImpl.doSelect(KQueueSelectorImpl.java:103)
		at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:87)
		-  locked sun.nio.ch.Util$2@6e6869e3
		-  locked java.util.Collections$UnmodifiableSet@5a90f357
		-  locked sun.nio.ch.KQueueSelectorImpl@3a7d5d
		at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:98)
		at org.eclipse.jetty.io.nio.SelectorManager$SelectSet.doSelect(SelectorManager.java:569)
		at org.eclipse.jetty.io.nio.SelectorManager$1.run(SelectorManager.java:290)
		at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:608)
		...
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;HashSessionScavenger-2&quot;&lt;/span&gt; Id=74 TIMED_WAITING on java.util.TaskQueue@7ffc64c8
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.wait(Native Method)
		-  waiting on java.util.TaskQueue@7ffc64c8
		at java.util.TimerThread.mainLoop(Timer.java:552)
		at java.util.TimerThread.run(Timer.java:505)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;coreZkRegister-12-thread-1&quot;&lt;/span&gt; Id=73 WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@133cc81d
		at sun.misc.Unsafe.park(Native Method)
		-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@133cc81d
		at java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)
		at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2043)
		at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)
		at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1068)
		at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
		at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-23&quot;&lt;/span&gt; Id=71 WAITING on java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;@320a1953
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.wait(Native Method)
		-  waiting on java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;@320a1953
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.wait(&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.java:503)
		at org.apache.solr.core.CloserThread.run(CoreContainer.java:929)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;searcherExecutor-17-thread-1&quot;&lt;/span&gt; Id=70 WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@7b75f1c8
		at sun.misc.Unsafe.park(Native Method)
		-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@7b75f1c8
		at java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)
		at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2043)
		at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)
		at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1068)
		at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
		at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;TEST-ShardSplitTest.testDistribSearch-seed#[8490788943A65A5D]-EventThread&quot;&lt;/span&gt; Id=67 WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@7c54c0ca
		at sun.misc.Unsafe.park(Native Method)
		-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@7c54c0ca
		at java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)
		at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2043)
		at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)
		at org.apache.zookeeper.ClientCnxn$EventThread.run(ClientCnxn.java:494)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;TEST-ShardSplitTest.testDistribSearch-seed#[8490788943A65A5D]-SendThread(127.0.0.1:57967)&quot;&lt;/span&gt; Id=66 RUNNABLE (in &lt;span class=&quot;code-keyword&quot;&gt;native&lt;/span&gt;)
		at sun.nio.ch.KQueueArrayWrapper.kevent0(Native Method)
		at sun.nio.ch.KQueueArrayWrapper.poll(KQueueArrayWrapper.java:200)
		at sun.nio.ch.KQueueSelectorImpl.doSelect(KQueueSelectorImpl.java:103)
		at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:87)
		-  locked sun.nio.ch.Util$2@18adf136
		-  locked java.util.Collections$UnmodifiableSet@2ac95c29
		-  locked sun.nio.ch.KQueueSelectorImpl@657d478
		at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:98)
		at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:349)
		at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1081)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;qtp2004060070-62&quot;&lt;/span&gt; Id=62 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@42da41bf
		at sun.misc.Unsafe.park(Native Method)
		-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@42da41bf
		at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:226)
		at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2082)
		at org.eclipse.jetty.util.BlockingArrayQueue.poll(BlockingArrayQueue.java:342)
		at org.eclipse.jetty.util.thread.QueuedThreadPool.idleJobPoll(QueuedThreadPool.java:526)
		at org.eclipse.jetty.util.thread.QueuedThreadPool.access$600(QueuedThreadPool.java:44)
		at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:572)
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;qtp2004060070-61&quot;&lt;/span&gt; Id=61 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@42da41bf
		at sun.misc.Unsafe.park(Native Method)
		-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@42da41bf
		at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:226)
		at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2082)
		at org.eclipse.jetty.util.BlockingArrayQueue.poll(BlockingArrayQueue.java:342)
		at org.eclipse.jetty.util.thread.QueuedThreadPool.idleJobPoll(QueuedThreadPool.java:526)
		at org.eclipse.jetty.util.thread.QueuedThreadPool.access$600(QueuedThreadPool.java:44)
		at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:572)
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;qtp2004060070-59&quot;&lt;/span&gt; Id=59 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@42da41bf
		at sun.misc.Unsafe.park(Native Method)
		-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@42da41bf
		at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:226)
		at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2082)
		at org.eclipse.jetty.util.BlockingArrayQueue.poll(BlockingArrayQueue.java:342)
		at org.eclipse.jetty.util.thread.QueuedThreadPool.idleJobPoll(QueuedThreadPool.java:526)
		at org.eclipse.jetty.util.thread.QueuedThreadPool.access$600(QueuedThreadPool.java:44)
		at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:572)
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;qtp2004060070-58&quot;&lt;/span&gt; Id=58 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@42da41bf
		at sun.misc.Unsafe.park(Native Method)
		-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@42da41bf
		at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:226)
		at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2082)
		at org.eclipse.jetty.util.BlockingArrayQueue.poll(BlockingArrayQueue.java:342)
		at org.eclipse.jetty.util.thread.QueuedThreadPool.idleJobPoll(QueuedThreadPool.java:526)
		at org.eclipse.jetty.util.thread.QueuedThreadPool.access$600(QueuedThreadPool.java:44)
		at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:572)
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;qtp2004060070-57&quot;&lt;/span&gt; Id=57 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@42da41bf
		at sun.misc.Unsafe.park(Native Method)
		-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@42da41bf
		at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:226)
		at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2082)
		at org.eclipse.jetty.util.BlockingArrayQueue.poll(BlockingArrayQueue.java:342)
		at org.eclipse.jetty.util.thread.QueuedThreadPool.idleJobPoll(QueuedThreadPool.java:526)
		at org.eclipse.jetty.util.thread.QueuedThreadPool.access$600(QueuedThreadPool.java:44)
		at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:572)
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;qtp2004060070-56 Acceptor0 SelectChannelConnector@127.0.0.1:57977&quot;&lt;/span&gt; Id=56 RUNNABLE (in &lt;span class=&quot;code-keyword&quot;&gt;native&lt;/span&gt;)
		at sun.nio.ch.ServerSocketChannelImpl.accept0(Native Method)
		at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:241)
		-  locked java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;@703e1588
		at org.eclipse.jetty.server.nio.SelectChannelConnector.accept(SelectChannelConnector.java:109)
		at org.eclipse.jetty.server.AbstractConnector$Acceptor.run(AbstractConnector.java:938)
		at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:608)
		at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:543)
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;qtp2004060070-55 Selector0&quot;&lt;/span&gt; Id=55 RUNNABLE (in &lt;span class=&quot;code-keyword&quot;&gt;native&lt;/span&gt;)
		at sun.nio.ch.KQueueArrayWrapper.kevent0(Native Method)
		at sun.nio.ch.KQueueArrayWrapper.poll(KQueueArrayWrapper.java:200)
		at sun.nio.ch.KQueueSelectorImpl.doSelect(KQueueSelectorImpl.java:103)
		at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:87)
		-  locked sun.nio.ch.Util$2@49c6b334
		-  locked java.util.Collections$UnmodifiableSet@fd4cc87
		-  locked sun.nio.ch.KQueueSelectorImpl@89a39b8
		at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:98)
		at org.eclipse.jetty.io.nio.SelectorManager$SelectSet.doSelect(SelectorManager.java:569)
		at org.eclipse.jetty.io.nio.SelectorManager$1.run(SelectorManager.java:290)
		at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:608)
		...
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;HashSessionScavenger-1&quot;&lt;/span&gt; Id=54 TIMED_WAITING on java.util.TaskQueue@45436371
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.wait(Native Method)
		-  waiting on java.util.TaskQueue@45436371
		at java.util.TimerThread.mainLoop(Timer.java:552)
		at java.util.TimerThread.run(Timer.java:505)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;TEST-ShardSplitTest.testDistribSearch-seed#[8490788943A65A5D]-EventThread&quot;&lt;/span&gt; Id=48 WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@4b35b33d
		at sun.misc.Unsafe.park(Native Method)
		-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@4b35b33d
		at java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)
		at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2043)
		at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)
		at org.apache.zookeeper.ClientCnxn$EventThread.run(ClientCnxn.java:494)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;TEST-ShardSplitTest.testDistribSearch-seed#[8490788943A65A5D]-SendThread(127.0.0.1:57967)&quot;&lt;/span&gt; Id=47 RUNNABLE (in &lt;span class=&quot;code-keyword&quot;&gt;native&lt;/span&gt;)
		at sun.nio.ch.KQueueArrayWrapper.kevent0(Native Method)
		at sun.nio.ch.KQueueArrayWrapper.poll(KQueueArrayWrapper.java:200)
		at sun.nio.ch.KQueueSelectorImpl.doSelect(KQueueSelectorImpl.java:103)
		at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:87)
		-  locked sun.nio.ch.Util$2@270c253e
		-  locked java.util.Collections$UnmodifiableSet@9d5fa4f
		-  locked sun.nio.ch.KQueueSelectorImpl@6c7bbfee
		at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:98)
		at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:349)
		at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1081)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;coreZkRegister-2-thread-1&quot;&lt;/span&gt; Id=46 WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@3075d9e6
		at sun.misc.Unsafe.park(Native Method)
		-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@3075d9e6
		at java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)
		at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2043)
		at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)
		at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1068)
		at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
		at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-12&quot;&lt;/span&gt; Id=44 WAITING on java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;@320a1953
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.wait(Native Method)
		-  waiting on java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;@320a1953
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.wait(&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.java:503)
		at org.apache.solr.core.CloserThread.run(CoreContainer.java:929)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;searcherExecutor-8-thread-1&quot;&lt;/span&gt; Id=43 WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@934a3e5
		at sun.misc.Unsafe.park(Native Method)
		-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@934a3e5
		at java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)
		at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2043)
		at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)
		at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1068)
		at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
		at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;OverseerHdfsCoreFailoverThread-93101408575684611-127.0.0.1:57971__%2Fze-n_0000000000&quot;&lt;/span&gt; Id=41 TIMED_WAITING
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.sleep(Native Method)
		at org.apache.solr.cloud.OverseerAutoReplicaFailoverThread.run(OverseerAutoReplicaFailoverThread.java:136)
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;OverseerCollectionProcessor-93101408575684611-127.0.0.1:57971__%2Fze-n_0000000000&quot;&lt;/span&gt; Id=40 TIMED_WAITING on java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;@5ef4141b
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.wait(Native Method)
		-  waiting on java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;@5ef4141b
		at org.apache.solr.cloud.DistributedQueue$LatchWatcher.await(DistributedQueue.java:273)
		at org.apache.solr.cloud.DistributedQueue.getChildren(DistributedQueue.java:317)
		at org.apache.solr.cloud.DistributedQueue.peekTopN(DistributedQueue.java:444)
		at org.apache.solr.cloud.OverseerCollectionProcessor.run(OverseerCollectionProcessor.java:326)
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;OverseerStateUpdate-93101408575684611-127.0.0.1:57971__%2Fze-n_0000000000&quot;&lt;/span&gt; Id=39 TIMED_WAITING on java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;@6a542950
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.wait(Native Method)
		-  waiting on java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;@6a542950
		at org.apache.solr.cloud.DistributedQueue$LatchWatcher.await(DistributedQueue.java:273)
		at org.apache.solr.cloud.DistributedQueue.getChildren(DistributedQueue.java:317)
		at org.apache.solr.cloud.DistributedQueue.peek(DistributedQueue.java:591)
		at org.apache.solr.cloud.DistributedQueue.peek(DistributedQueue.java:569)
		at org.apache.solr.cloud.Overseer$ClusterStateUpdater.run(Overseer.java:215)
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;TEST-ShardSplitTest.testDistribSearch-seed#[8490788943A65A5D]-EventThread&quot;&lt;/span&gt; Id=37 WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@3b6479b9
		at sun.misc.Unsafe.park(Native Method)
		-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@3b6479b9
		at java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)
		at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2043)
		at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)
		at org.apache.zookeeper.ClientCnxn$EventThread.run(ClientCnxn.java:494)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;TEST-ShardSplitTest.testDistribSearch-seed#[8490788943A65A5D]-SendThread(127.0.0.1:57967)&quot;&lt;/span&gt; Id=36 RUNNABLE (in &lt;span class=&quot;code-keyword&quot;&gt;native&lt;/span&gt;)
		at sun.nio.ch.KQueueArrayWrapper.kevent0(Native Method)
		at sun.nio.ch.KQueueArrayWrapper.poll(KQueueArrayWrapper.java:200)
		at sun.nio.ch.KQueueSelectorImpl.doSelect(KQueueSelectorImpl.java:103)
		at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:87)
		-  locked sun.nio.ch.Util$2@5a077b5
		-  locked java.util.Collections$UnmodifiableSet@93b2d3b
		-  locked sun.nio.ch.KQueueSelectorImpl@197dcb62
		at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:98)
		at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:349)
		at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1081)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;qtp1641950186-32&quot;&lt;/span&gt; Id=32 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@11b39c01
		at sun.misc.Unsafe.park(Native Method)
		-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@11b39c01
		at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:226)
		at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2082)
		at org.eclipse.jetty.util.BlockingArrayQueue.poll(BlockingArrayQueue.java:342)
		at org.eclipse.jetty.util.thread.QueuedThreadPool.idleJobPoll(QueuedThreadPool.java:526)
		at org.eclipse.jetty.util.thread.QueuedThreadPool.access$600(QueuedThreadPool.java:44)
		at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:572)
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;qtp1641950186-31&quot;&lt;/span&gt; Id=31 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@11b39c01
		at sun.misc.Unsafe.park(Native Method)
		-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@11b39c01
		at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:226)
		at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2082)
		at org.eclipse.jetty.util.BlockingArrayQueue.poll(BlockingArrayQueue.java:342)
		at org.eclipse.jetty.util.thread.QueuedThreadPool.idleJobPoll(QueuedThreadPool.java:526)
		at org.eclipse.jetty.util.thread.QueuedThreadPool.access$600(QueuedThreadPool.java:44)
		at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:572)
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;qtp1641950186-30&quot;&lt;/span&gt; Id=30 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@11b39c01
		at sun.misc.Unsafe.park(Native Method)
		-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@11b39c01
		at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:226)
		at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2082)
		at org.eclipse.jetty.util.BlockingArrayQueue.poll(BlockingArrayQueue.java:342)
		at org.eclipse.jetty.util.thread.QueuedThreadPool.idleJobPoll(QueuedThreadPool.java:526)
		at org.eclipse.jetty.util.thread.QueuedThreadPool.access$600(QueuedThreadPool.java:44)
		at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:572)
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;qtp1641950186-29&quot;&lt;/span&gt; Id=29 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@11b39c01
		at sun.misc.Unsafe.park(Native Method)
		-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@11b39c01
		at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:226)
		at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2082)
		at org.eclipse.jetty.util.BlockingArrayQueue.poll(BlockingArrayQueue.java:342)
		at org.eclipse.jetty.util.thread.QueuedThreadPool.idleJobPoll(QueuedThreadPool.java:526)
		at org.eclipse.jetty.util.thread.QueuedThreadPool.access$600(QueuedThreadPool.java:44)
		at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:572)
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;qtp1641950186-28&quot;&lt;/span&gt; Id=28 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@11b39c01
		at sun.misc.Unsafe.park(Native Method)
		-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@11b39c01
		at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:226)
		at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2082)
		at org.eclipse.jetty.util.BlockingArrayQueue.poll(BlockingArrayQueue.java:342)
		at org.eclipse.jetty.util.thread.QueuedThreadPool.idleJobPoll(QueuedThreadPool.java:526)
		at org.eclipse.jetty.util.thread.QueuedThreadPool.access$600(QueuedThreadPool.java:44)
		at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:572)
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;qtp1641950186-27&quot;&lt;/span&gt; Id=27 TIMED_WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@11b39c01
		at sun.misc.Unsafe.park(Native Method)
		-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@11b39c01
		at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:226)
		at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2082)
		at org.eclipse.jetty.util.BlockingArrayQueue.poll(BlockingArrayQueue.java:342)
		at org.eclipse.jetty.util.thread.QueuedThreadPool.idleJobPoll(QueuedThreadPool.java:526)
		at org.eclipse.jetty.util.thread.QueuedThreadPool.access$600(QueuedThreadPool.java:44)
		at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:572)
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;qtp1641950186-26 Acceptor0 SelectChannelConnector@127.0.0.1:57971&quot;&lt;/span&gt; Id=26 RUNNABLE (in &lt;span class=&quot;code-keyword&quot;&gt;native&lt;/span&gt;)
		at sun.nio.ch.ServerSocketChannelImpl.accept0(Native Method)
		at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:241)
		-  locked java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;@26c70ebb
		at org.eclipse.jetty.server.nio.SelectChannelConnector.accept(SelectChannelConnector.java:109)
		at org.eclipse.jetty.server.AbstractConnector$Acceptor.run(AbstractConnector.java:938)
		at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:608)
		at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:543)
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;qtp1641950186-25 Selector0&quot;&lt;/span&gt; Id=25 RUNNABLE (in &lt;span class=&quot;code-keyword&quot;&gt;native&lt;/span&gt;)
		at sun.nio.ch.KQueueArrayWrapper.kevent0(Native Method)
		at sun.nio.ch.KQueueArrayWrapper.poll(KQueueArrayWrapper.java:200)
		at sun.nio.ch.KQueueSelectorImpl.doSelect(KQueueSelectorImpl.java:103)
		at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:87)
		-  locked sun.nio.ch.Util$2@2027048a
		-  locked java.util.Collections$UnmodifiableSet@b593a85
		-  locked sun.nio.ch.KQueueSelectorImpl@22ee5eed
		at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:98)
		at org.eclipse.jetty.io.nio.SelectorManager$SelectSet.doSelect(SelectorManager.java:569)
		at org.eclipse.jetty.io.nio.SelectorManager$1.run(SelectorManager.java:290)
		at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:608)
		...
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;HashSessionScavenger-0&quot;&lt;/span&gt; Id=24 TIMED_WAITING on java.util.TaskQueue@4f9a2b85
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.wait(Native Method)
		-  waiting on java.util.TaskQueue@4f9a2b85
		at java.util.TimerThread.mainLoop(Timer.java:552)
		at java.util.TimerThread.run(Timer.java:505)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;ProcessThread(sid:0 cport:-1):&quot;&lt;/span&gt; Id=16 WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@129f5197
		at sun.misc.Unsafe.park(Native Method)
		-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@129f5197
		at java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)
		at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2043)
		at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)
		at org.apache.zookeeper.server.PrepRequestProcessor.run(PrepRequestProcessor.java:120)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;SyncThread:0&quot;&lt;/span&gt; Id=15 WAITING on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@19a59a0e
		at sun.misc.Unsafe.park(Native Method)
		-  waiting on java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject@19a59a0e
		at java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)
		at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2043)
		at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)
		at org.apache.zookeeper.server.SyncRequestProcessor.run(SyncRequestProcessor.java:127)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;SessionTracker&quot;&lt;/span&gt; Id=14 TIMED_WAITING on org.apache.zookeeper.server.SessionTrackerImpl@47251a49
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.wait(Native Method)
		-  waiting on org.apache.zookeeper.server.SessionTrackerImpl@47251a49
		at org.apache.zookeeper.server.SessionTrackerImpl.run(SessionTrackerImpl.java:146)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;NIOServerCxn.Factory:0.0.0.0/0.0.0.0:0&quot;&lt;/span&gt; Id=13 RUNNABLE (in &lt;span class=&quot;code-keyword&quot;&gt;native&lt;/span&gt;)
		at sun.nio.ch.KQueueArrayWrapper.kevent0(Native Method)
		at sun.nio.ch.KQueueArrayWrapper.poll(KQueueArrayWrapper.java:200)
		at sun.nio.ch.KQueueSelectorImpl.doSelect(KQueueSelectorImpl.java:103)
		at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:87)
		-  locked sun.nio.ch.Util$2@54e0d31c
		-  locked java.util.Collections$UnmodifiableSet@7443fecc
		-  locked sun.nio.ch.KQueueSelectorImpl@1c0d3eb6
		at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:98)
		at org.apache.zookeeper.server.NIOServerCnxnFactory.run(NIOServerCnxnFactory.java:178)
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-1&quot;&lt;/span&gt; Id=12 WAITING on java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;@29902d1d
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.wait(Native Method)
		-  waiting on java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;@29902d1d
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.join(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:1281)
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.join(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:1355)
		at org.apache.zookeeper.server.NIOServerCnxnFactory.join(NIOServerCnxnFactory.java:302)
		at org.apache.solr.cloud.ZkTestServer$ZKServerMain.runFromConfig(ZkTestServer.java:303)
		at org.apache.solr.cloud.ZkTestServer$2.run(ZkTestServer.java:452)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;TEST-ShardSplitTest.testDistribSearch-seed#[8490788943A65A5D]&quot;&lt;/span&gt; Id=11 RUNNABLE
		at sun.management.ThreadImpl.dumpThreads0(Native Method)
		at sun.management.ThreadImpl.dumpAllThreads(ThreadImpl.java:446)
		at org.apache.solr.core.Diagnostics.logThreadDumps(Diagnostics.java:46)
		at org.apache.solr.cloud.AbstractDistribZkTestBase.waitForRecoveriesToFinish(AbstractDistribZkTestBase.java:176)
		at org.apache.solr.cloud.AbstractDistribZkTestBase.waitForRecoveriesToFinish(AbstractDistribZkTestBase.java:137)
		at org.apache.solr.cloud.AbstractDistribZkTestBase.waitForRecoveriesToFinish(AbstractDistribZkTestBase.java:132)
		at org.apache.solr.cloud.AbstractFullDistribZkTestBase.waitForRecoveriesToFinish(AbstractFullDistribZkTestBase.java:823)
		at org.apache.solr.cloud.ShardSplitTest.splitByUniqueKeyTest(ShardSplitTest.java:240)
		...
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;SUITE-ShardSplitTest-seed#[8490788943A65A5D]&quot;&lt;/span&gt; Id=10 TIMED_WAITING on java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;@6ed9b2f9
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.wait(Native Method)
		-  waiting on java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;@6ed9b2f9
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.join(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:1289)
		at com.carrotsearch.randomizedtesting.ThreadLeakControl.forkTimeoutingTask(ThreadLeakControl.java:803)
		at com.carrotsearch.randomizedtesting.ThreadLeakControl$2.evaluate(ThreadLeakControl.java:401)
		at com.carrotsearch.randomizedtesting.RandomizedRunner.runSuite(RandomizedRunner.java:642)
		at com.carrotsearch.randomizedtesting.RandomizedRunner.access$200(RandomizedRunner.java:129)
		at com.carrotsearch.randomizedtesting.RandomizedRunner$1.run(RandomizedRunner.java:559)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;Monitor Ctrl-Break&quot;&lt;/span&gt; Id=8 RUNNABLE (in &lt;span class=&quot;code-keyword&quot;&gt;native&lt;/span&gt;)
		at java.net.PlainSocketImpl.socketAccept(Native Method)
		at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:398)
		at java.net.ServerSocket.implAccept(ServerSocket.java:530)
		at java.net.ServerSocket.accept(ServerSocket.java:498)
		at com.intellij.rt.execution.application.AppMain$1.run(AppMain.java:85)
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;Signal Dispatcher&quot;&lt;/span&gt; Id=4 RUNNABLE
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;Finalizer&quot;&lt;/span&gt; Id=3 WAITING on java.lang.ref.ReferenceQueue$Lock@3881e03c
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.wait(Native Method)
		-  waiting on java.lang.ref.ReferenceQueue$Lock@3881e03c
		at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:135)
		at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:151)
		at java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:189)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;Reference Handler&quot;&lt;/span&gt; Id=2 WAITING on java.lang.ref.Reference$Lock@56a8a01f
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.wait(Native Method)
		-  waiting on java.lang.ref.Reference$Lock@56a8a01f
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.wait(&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.java:503)
		at java.lang.ref.Reference$ReferenceHandler.run(Reference.java:133)
	
	&lt;span class=&quot;code-quote&quot;&gt;&quot;main&quot;&lt;/span&gt; Id=1 WAITING on com.carrotsearch.randomizedtesting.RandomizedRunner$1@3058b2a9
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.wait(Native Method)
		-  waiting on com.carrotsearch.randomizedtesting.RandomizedRunner$1@3058b2a9
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.join(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:1281)
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.join(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:1355)
		at com.carrotsearch.randomizedtesting.RandomizedRunner.runSuite(RandomizedRunner.java:569)
		at com.carrotsearch.randomizedtesting.RandomizedRunner.run(RandomizedRunner.java:435)
		at org.junit.runner.JUnitCore.run(JUnitCore.java:157)
		at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:74)
		at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:211)
		...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Looking into why are the RecoveryThreads timing out.&lt;/p&gt;</comment>
                            <comment id="14267406" author="varunthacker" created="Wed, 7 Jan 2015 08:35:12 +0000"  >&lt;p&gt;When using a try-finally block code in &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6440&quot; title=&quot;Core status should throw an error if core doesn&amp;#39;t exist&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6440&quot;&gt;SOLR-6440&lt;/a&gt; the threads don&apos;t hang anymore. &lt;/p&gt;

&lt;p&gt;The test still fails because of errors like this - &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;391305 T11 C196 P59014 oasu.SolrIndexWriter.close ERROR Error closing IndexWriter java.lang.AssertionError: file _2_2.liv does not exist; files=[segments_2, _1.cfs, _3.si, _2.cfe, _1.si, _1.cfe, _3.cfe, _0.cfs, _0.cfe, _2.si, _0.si, _3.cfs, _2.cfs]
	at org.apache.lucene.index.IndexWriter.filesExist(IndexWriter.java:4232)
	at org.apache.lucene.index.IndexWriter.startCommit(IndexWriter.java:4303)
	at org.apache.lucene.index.IndexWriter.prepareCommitInternal(IndexWriter.java:2785)
	at org.apache.lucene.index.IndexWriter.commitInternal(IndexWriter.java:2888)
	at org.apache.lucene.index.IndexWriter.shutdown(IndexWriter.java:965)
	at org.apache.lucene.index.IndexWriter.close(IndexWriter.java:1008)
	at org.apache.solr.update.SolrIndexWriter.close(SolrIndexWriter.java:129)
	at org.apache.solr.update.DirectUpdateHandler2.closeWriter(DirectUpdateHandler2.java:804)
	at org.apache.solr.update.DefaultSolrCoreState.closeIndexWriter(DefaultSolrCoreState.java:68)
	at org.apache.solr.update.DefaultSolrCoreState.close(DefaultSolrCoreState.java:359)
	at org.apache.solr.update.SolrCoreState.decrefSolrCoreState(SolrCoreState.java:72)
	at org.apache.solr.core.SolrCore.close(SolrCore.java:1110)
	at org.apache.solr.core.SolrCores.close(SolrCores.java:117)
	at org.apache.solr.core.CoreContainer.shutdown(CoreContainer.java:366)
	at org.apache.solr.servlet.SolrDispatchFilter.destroy(SolrDispatchFilter.java:194)
	at org.apache.solr.cloud.ChaosMonkey.stopJettySolrRunner(ChaosMonkey.java:197)
	at org.apache.solr.cloud.ChaosMonkey.stop(ChaosMonkey.java:550)
	at org.apache.solr.cloud.AbstractFullDistribZkTestBase.destroyServers(AbstractFullDistribZkTestBase.java:1568)
	at org.apache.solr.BaseDistributedSearchTestCase.tearDown(BaseDistributedSearchTestCase.java:283)
	at org.apache.solr.cloud.AbstractDistribZkTestBase.tearDown(AbstractDistribZkTestBase.java:231)
	at org.apache.solr.cloud.AbstractFullDistribZkTestBase.tearDown(AbstractFullDistribZkTestBase.java:1546)
	at org.apache.solr.cloud.BasicDistributedZkTest.tearDown(BasicDistributedZkTest.java:1166)
	at org.apache.solr.cloud.ShardSplitTest.tearDown(ShardSplitTest.java:91)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at com.carrotsearch.randomizedtesting.RandomizedRunner.invoke(RandomizedRunner.java:1618)
	at com.carrotsearch.randomizedtesting.RandomizedRunner$8.evaluate(RandomizedRunner.java:885)
	at com.carrotsearch.randomizedtesting.rules.SystemPropertiesRestoreRule$1.evaluate(SystemPropertiesRestoreRule.java:53)
	at org.apache.lucene.util.TestRuleSetupTeardownChained$1.evaluate(TestRuleSetupTeardownChained.java:50)
	at org.apache.lucene.util.AbstractBeforeAfterRule$1.evaluate(AbstractBeforeAfterRule.java:46)
	at com.carrotsearch.randomizedtesting.rules.SystemPropertiesInvariantRule$1.evaluate(SystemPropertiesInvariantRule.java:55)
	at org.apache.lucene.util.TestRuleThreadAndTestName$1.evaluate(TestRuleThreadAndTestName.java:49)
	at org.apache.lucene.util.TestRuleIgnoreAfterMaxFailures$1.evaluate(TestRuleIgnoreAfterMaxFailures.java:65)
	at org.apache.lucene.util.TestRuleMarkFailure$1.evaluate(TestRuleMarkFailure.java:48)
	at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)
	at com.carrotsearch.randomizedtesting.ThreadLeakControl$StatementRunner.run(ThreadLeakControl.java:365)
	at com.carrotsearch.randomizedtesting.ThreadLeakControl.forkTimeoutingTask(ThreadLeakControl.java:798)
	at com.carrotsearch.randomizedtesting.ThreadLeakControl$3.evaluate(ThreadLeakControl.java:458)
	at com.carrotsearch.randomizedtesting.RandomizedRunner.runSingleTest(RandomizedRunner.java:836)
	at com.carrotsearch.randomizedtesting.RandomizedRunner$3.evaluate(RandomizedRunner.java:738)
	at com.carrotsearch.randomizedtesting.RandomizedRunner$4.evaluate(RandomizedRunner.java:772)
	at com.carrotsearch.randomizedtesting.RandomizedRunner$5.evaluate(RandomizedRunner.java:783)
	at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)
	at com.carrotsearch.randomizedtesting.rules.SystemPropertiesRestoreRule$1.evaluate(SystemPropertiesRestoreRule.java:53)
	at org.apache.lucene.util.AbstractBeforeAfterRule$1.evaluate(AbstractBeforeAfterRule.java:46)
	at org.apache.lucene.util.TestRuleStoreClassName$1.evaluate(TestRuleStoreClassName.java:42)
	at com.carrotsearch.randomizedtesting.rules.SystemPropertiesInvariantRule$1.evaluate(SystemPropertiesInvariantRule.java:55)
	at com.carrotsearch.randomizedtesting.rules.NoShadowingOrOverridesOnMethodsRule$1.evaluate(NoShadowingOrOverridesOnMethodsRule.java:39)
	at com.carrotsearch.randomizedtesting.rules.NoShadowingOrOverridesOnMethodsRule$1.evaluate(NoShadowingOrOverridesOnMethodsRule.java:39)
	at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)
	at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)
	at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)
	at org.apache.lucene.util.TestRuleAssertionsRequired$1.evaluate(TestRuleAssertionsRequired.java:54)
	at org.apache.lucene.util.TestRuleMarkFailure$1.evaluate(TestRuleMarkFailure.java:48)
	at org.apache.lucene.util.TestRuleIgnoreAfterMaxFailures$1.evaluate(TestRuleIgnoreAfterMaxFailures.java:65)
	at org.apache.lucene.util.TestRuleIgnoreTestSuites$1.evaluate(TestRuleIgnoreTestSuites.java:55)
	at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)
	at com.carrotsearch.randomizedtesting.ThreadLeakControl$StatementRunner.run(ThreadLeakControl.java:365)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;No .liv files get included with the logic change in ReplicationHandler.getFileList with the patch. Looking into that now.&lt;/p&gt;</comment>
                            <comment id="14272952" author="varunthacker" created="Sun, 11 Jan 2015 16:32:28 +0000"  >&lt;p&gt;Updated patch. Tests pass.&lt;/p&gt;

&lt;p&gt;The difference from the earlier patch is the API usage of SegmentInfos&lt;/p&gt;

&lt;p&gt;For reference, here is the link to the question I asked a question on the lucene user mailing list about the SegmentInfos API usage - &lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/lucene-java-user/201501.mbox/%3CCAEH2wZDm%2BEXEhWEyp9RoQDVffb7jJSG31A3WVGxV_TNCE%3D12zA%40mail.gmail.com%3E&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://mail-archives.apache.org/mod_mbox/lucene-java-user/201501.mbox/%3CCAEH2wZDm%2BEXEhWEyp9RoQDVffb7jJSG31A3WVGxV_TNCE%3D12zA%40mail.gmail.com%3E&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14275909" author="markrmiller@gmail.com" created="Tue, 13 Jan 2015 20:44:48 +0000"  >&lt;p&gt;This looks good. We should not need the back compat &amp;lt; 5.0 code AFAICT though.&lt;/p&gt;</comment>
                            <comment id="14276158" author="varunthacker" created="Tue, 13 Jan 2015 23:17:50 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;Thanks for the review!&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;We should not need the back compat &amp;lt; 5.0 code AFAICT though.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;From what I understand an index built pre &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-2446&quot; title=&quot;Add checksums to Lucene segment files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LUCENE-2446&quot;&gt;&lt;del&gt;LUCENE-2446&lt;/del&gt;&lt;/a&gt; would not have the checksum , so &lt;tt&gt;CodecUtil.retrieveChecksum(in)&lt;/tt&gt; would throw an error as the validation would fail. I guess the check should be 4_8 and not 5_0 though.&lt;/p&gt;</comment>
                            <comment id="14277707" author="markrmiller@gmail.com" created="Wed, 14 Jan 2015 21:22:13 +0000"  >&lt;p&gt;But isnt this just checking what solrconfig is set to? And that doesn&apos;t have to match what the index was built with?&lt;/p&gt;</comment>
                            <comment id="14293279" author="varunthacker" created="Tue, 27 Jan 2015 10:08:45 +0000"  >&lt;p&gt;Updated patch. This handles the back compat check correctly&lt;/p&gt;

&lt;p&gt;While running the tests I got a failure which can be reproduced with &lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;ant test  -Dtestcase=SyncSliceTest -Dtests.method=test -Dtests.seed=588DD6F3A8F57A44 -Dtests.slow=true -Dtests.locale=no_NO_NY -Dtests.timezone=America/Bahia -Dtests.asserts=true -Dtests.file.encoding=UTF-8&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The exception thrown is - &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;131990 T79 C17 P63349 oasc.SolrException.log ERROR java.lang.ArrayIndexOutOfBoundsException: -8
		at org.apache.lucene.store.RAMInputStream.readByte(RAMInputStream.java:73)
		at org.apache.lucene.store.DataInput.readInt(DataInput.java:98)
		at org.apache.lucene.store.MockIndexInputWrapper.readInt(MockIndexInputWrapper.java:159)
		at org.apache.lucene.codecs.CodecUtil.validateFooter(CodecUtil.java:414)
		at org.apache.lucene.codecs.CodecUtil.retrieveChecksum(CodecUtil.java:401)
		at org.apache.solr.handler.ReplicationHandler.getFileList(ReplicationHandler.java:445)
		at org.apache.solr.handler.ReplicationHandler.handleRequestBody(ReplicationHandler.java:212)
		at org.apache.solr.handler.RequestHandlerBase.handleRequest(RequestHandlerBase.java:144)
		at org.apache.solr.core.SolrCore.execute(SolrCore.java:2006)
		at org.apache.solr.servlet.SolrDispatchFilter.execute(SolrDispatchFilter.java:777)
		at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:413)
		at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:204)
		at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1419)
		at org.apache.solr.client.solrj.embedded.JettySolrRunner$DebugFilter.doFilter(JettySolrRunner.java:142)
		at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1419)
		at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:455)
		at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:229)
		at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:137)
		at org.eclipse.jetty.server.handler.GzipHandler.handle(GzipHandler.java:301)
		at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1077)
		at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:384)
		at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:193)
		at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1009)
		at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:135)
		at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:116)
		at org.eclipse.jetty.server.Server.handle(Server.java:368)
		at org.eclipse.jetty.server.AbstractHttpConnection.handleRequest(AbstractHttpConnection.java:489)
		at org.eclipse.jetty.server.AbstractHttpConnection.headerComplete(AbstractHttpConnection.java:942)
		at org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.headerComplete(AbstractHttpConnection.java:1004)
		at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:640)
		at org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:235)
		at org.eclipse.jetty.server.AsyncHttpConnection.handle(AsyncHttpConnection.java:82)
		at org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(SelectChannelEndPoint.java:628)
		at org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(SelectChannelEndPoint.java:52)
		at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:608)
		at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:543)
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;On debugging I found out the file which was causing it - &lt;br/&gt;
&lt;tt&gt;_0_MockRandom_0.sd&lt;/tt&gt; . This is a MockRandomPostingsFormat.SEED_EXT fille.&lt;/p&gt;

&lt;p&gt;Adding this to SyncSliceTest fixed the fail - &lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;@LuceneTestCase.SuppressCodecs({ &quot;MockRandom&quot; })&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt; but any other test could end up using it causing a failure. Any idea on how to tackle it&lt;/p&gt;</comment>
                            <comment id="14309351" author="markrmiller@gmail.com" created="Fri, 6 Feb 2015 15:57:57 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=varun&quot; class=&quot;user-hover&quot; rel=&quot;varun&quot;&gt;varun&lt;/a&gt;, can&apos;t we just calculate the checksum ourselves if we don&apos;t find it? So that we treat old segments right as well? This issue is critical for avoiding corrupted indexes on replication.&lt;/p&gt;</comment>
                            <comment id="14309353" author="markrmiller@gmail.com" created="Fri, 6 Feb 2015 16:00:05 +0000"  >&lt;blockquote&gt;&lt;p&gt;Any idea on how to tackle it&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;It seems like we can&apos;t be sure every file will have a checksum (at least in tests) and we have to recover properly if we find that it doesn&apos;t?&lt;/p&gt;</comment>
                            <comment id="14309370" author="markrmiller@gmail.com" created="Fri, 6 Feb 2015 16:15:40 +0000"  >&lt;blockquote&gt;&lt;p&gt;can&apos;t we just calculate the checksum ourselves if we don&apos;t find it?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I guess it would be fairly expensive for large files. For critical small files (the ones that always seem to come as the problem), perhaps we can do the checksum ourselves, or more likely, just always down .si and segments_n files regardless.&lt;/p&gt;</comment>
                            <comment id="14309393" author="varunthacker" created="Fri, 6 Feb 2015 16:27:21 +0000"  >&lt;blockquote&gt;&lt;p&gt;I guess it would be fairly expensive for large files. For critical small files (the ones that always seem to come as the problem), perhaps we can do the checksum ourselves, or more likely, just always down .si and segments_n files regardless.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Nice idea! So .si/segments_n/.liv should be downloaded again regardless. &lt;/p&gt;
</comment>
                            <comment id="14309437" author="markrmiller@gmail.com" created="Fri, 6 Feb 2015 17:05:01 +0000"  >&lt;p&gt;Here is a first pass at making the patch suitable for trunk.&lt;/p&gt;</comment>
                            <comment id="14309438" author="markrmiller@gmail.com" created="Fri, 6 Feb 2015 17:07:58 +0000"  >&lt;p&gt;For 5x, we will want to put the version checks back in.&lt;/p&gt;</comment>
                            <comment id="14309489" author="varunthacker" created="Fri, 6 Feb 2015 17:34:25 +0000"  >&lt;p&gt;Mark,&lt;/p&gt;

&lt;p&gt;In your patch if the file fails to retrieve a checksum and if its a .si/segments_n file then we will have to re-download the complete index. the reason being isStaleIndex will return true.&lt;/p&gt;

&lt;p&gt;Instead if we moved to the check into the if statement in downloadIndexFiles() to always re-download those files won&apos;t it be better?&lt;/p&gt;

&lt;p&gt;I think you have an extra file from HdfsTestUtil in the patch.&lt;/p&gt;</comment>
                            <comment id="14309538" author="markrmiller@gmail.com" created="Fri, 6 Feb 2015 18:08:48 +0000"  >&lt;blockquote&gt;&lt;p&gt;In your patch if the file fails to retrieve a checksum...&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Feel free to put up a follow on patch - this one is just a first draft. I&apos;ll be taking another pass when I get a chance as well.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I think you have an extra file from HdfsTestUtil in the patch.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;No, that&apos;s fixes an error I see in the test that shalin mentions in &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6640&quot; title=&quot;Replication can cause index corruption.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6640&quot;&gt;&lt;del&gt;SOLR-6640&lt;/del&gt;&lt;/a&gt; and led me back to this issue.&lt;/p&gt;</comment>
                            <comment id="14309694" author="markrmiller@gmail.com" created="Fri, 6 Feb 2015 19:20:19 +0000"  >&lt;p&gt;Another patch incorporating Varun&apos;s feedback and minor tweaks.&lt;/p&gt;</comment>
                            <comment id="14309701" author="markrmiller@gmail.com" created="Fri, 6 Feb 2015 19:23:46 +0000"  >&lt;p&gt;That patch did pick up cruft (TopGroupsShardResponseProcessor) from fooling around trying to fix a Solr fail triggered by a Lucene change. I&apos;ll put up a clean one in a moment.&lt;/p&gt;</comment>
                            <comment id="14309773" author="varunthacker" created="Fri, 6 Feb 2015 20:00:36 +0000"  >&lt;p&gt;1. Changed the log message in &lt;tt&gt;SnapPuller.compareFile()&lt;/tt&gt; since checksum won&apos;t be present in case of exception.&lt;br/&gt;
From - &lt;tt&gt;LOG.warn(&quot;File {} did not match. expected checksum is {} and actual is checksum {}. &quot; + &quot;expected length is {} and actual length is {}&quot;, filename, backupIndexFileChecksum indexFileChecksum, backupIndexFileLen, indexFileLen);&lt;/tt&gt;&lt;br/&gt;
To - &lt;tt&gt;LOG.warn(&quot;File {} did not match. expected length is {} and actual length is {}&quot;, filename,backupIndexFileLen, indexFileLen);&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;2. In &lt;tt&gt;SnapPuller.downloadIndexFiles&lt;/tt&gt; made &lt;tt&gt;(String) file.get(NAME))&lt;/tt&gt; into a variable for better readibility.&lt;/p&gt;

&lt;p&gt;3. The if condition still needs tweaking? We could still have a non checksummed/checksum threw error .si/.liv/segments_n file and be equal in length and we wouldn&apos;t re-download?&lt;/p&gt;

&lt;p&gt;Maybe the condition could be the check you initially proposed -&lt;br/&gt;
1. If file is a .si/.liv/segments_n file download regardless&lt;br/&gt;
2. else if  if (!compareResult.equal || downloadCompleteIndex) then re-download?&lt;/p&gt;</comment>
                            <comment id="14309788" author="markrmiller@gmail.com" created="Fri, 6 Feb 2015 20:08:33 +0000"  >&lt;blockquote&gt;&lt;p&gt;3&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I&apos;m not following - what are you seeing exactly? I read it as &apos;if a file was not checksummed, download anyway if it matches this file list&apos;.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;|| (!compareResult.checkSummed &amp;amp;&amp;amp; (((String) file.get(NAME)).endsWith(&quot;.si&quot;) || ((String) file.get(NAME)).endsWith(&quot;.liv&quot;)  || ((String) file.get(NAME)).startsWith(&quot;segments_&quot;)))&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;If the file is checksummed, we can rely on the checksum. What am I missing that you are seeing?&lt;/p&gt;</comment>
                            <comment id="14309895" author="varunthacker" created="Fri, 6 Feb 2015 20:56:29 +0000"  >&lt;p&gt;You&apos;re right. I got confused a bit with this portion &lt;tt&gt;!compareResult.equal&lt;/tt&gt; in the statement and replied too early.&lt;/p&gt;</comment>
                            <comment id="14309904" author="markrmiller@gmail.com" created="Fri, 6 Feb 2015 21:00:41 +0000"  >&lt;p&gt;Okay - I think we should put this in trunk and 5x to start jenkins on it.&lt;/p&gt;

&lt;p&gt;I&apos;ve moved my local machine to only running the 9 chaosmonkey jobs I have.&lt;/p&gt;

&lt;p&gt;If anyone is following along, more review would be good.&lt;/p&gt;

&lt;p&gt;I&apos;ll commit to trunk and let&apos;s work on a 5x patch.&lt;/p&gt;</comment>
                            <comment id="14309976" author="jira-bot" created="Fri, 6 Feb 2015 21:41:31 +0000"  >&lt;p&gt;Commit 1657969 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1657969&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1657969&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6920&quot; title=&quot;During replication use checksums to verify if files are the same&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6920&quot;&gt;&lt;del&gt;SOLR-6920&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6640&quot; title=&quot;Replication can cause index corruption.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6640&quot;&gt;&lt;del&gt;SOLR-6640&lt;/del&gt;&lt;/a&gt;: A replicated index can end up corrupted when small files end up with the same file name and size.&lt;/p&gt;</comment>
                            <comment id="14310300" author="markrmiller@gmail.com" created="Sat, 7 Feb 2015 00:34:24 +0000"  >&lt;p&gt;First pass at the 5x version.&lt;/p&gt;</comment>
                            <comment id="14310336" author="markrmiller@gmail.com" created="Sat, 7 Feb 2015 00:50:16 +0000"  >&lt;p&gt;New 5x patch to fix where Version is parsed in SnapPuller.&lt;/p&gt;</comment>
                            <comment id="14310565" author="varunthacker" created="Sat, 7 Feb 2015 05:29:57 +0000"  >&lt;p&gt;Hi Mark,&lt;/p&gt;

&lt;p&gt;In the 5.x patch, should we wrap &lt;tt&gt;fileMeta.put(CHECKSUM, CodecUtil.retrieveChecksum(in));&lt;/tt&gt; for the segments_n file in a try-catch block? &lt;/p&gt;</comment>
                            <comment id="14310785" author="markrmiller@gmail.com" created="Sat, 7 Feb 2015 15:54:39 +0000"  >&lt;p&gt;Yeah, good catch. I&apos;d almost like to do that on trunk as well just for consistency.&lt;/p&gt;</comment>
                            <comment id="14310792" author="markrmiller@gmail.com" created="Sat, 7 Feb 2015 16:15:55 +0000"  >&lt;p&gt;New patch - cleaned it up a bit, handled Varun&apos;s comment.&lt;/p&gt;</comment>
                            <comment id="14310806" author="markrmiller@gmail.com" created="Sat, 7 Feb 2015 16:37:42 +0000"  >&lt;p&gt;Been thinking about adding this since last night - should go in the trunk version too - this patch will also download any files under 100kb if there is no checksum - more future proof for new small files, alternate codec proof, etc.&lt;/p&gt;</comment>
                            <comment id="14310818" author="jira-bot" created="Sat, 7 Feb 2015 17:02:43 +0000"  >&lt;p&gt;Commit 1658078 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1658078&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1658078&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6920&quot; title=&quot;During replication use checksums to verify if files are the same&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6920&quot;&gt;&lt;del&gt;SOLR-6920&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6640&quot; title=&quot;Replication can cause index corruption.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6640&quot;&gt;&lt;del&gt;SOLR-6640&lt;/del&gt;&lt;/a&gt;: When we so not have a checksum for a file, always download files under 100kb and other small improvements.&lt;/p&gt;</comment>
                            <comment id="14310835" author="jira-bot" created="Sat, 7 Feb 2015 17:35:28 +0000"  >&lt;p&gt;Commit 1658083 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/branches/branch_5x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1658083&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1658083&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6920&quot; title=&quot;During replication use checksums to verify if files are the same&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6920&quot;&gt;&lt;del&gt;SOLR-6920&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6640&quot; title=&quot;Replication can cause index corruption.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6640&quot;&gt;&lt;del&gt;SOLR-6640&lt;/del&gt;&lt;/a&gt;: A replicated index can end up corrupted when small files end up with the same file name and size.&lt;/p&gt;</comment>
                            <comment id="14310853" author="jira-bot" created="Sat, 7 Feb 2015 18:14:47 +0000"  >&lt;p&gt;Commit 1658089 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1658089&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1658089&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6920&quot; title=&quot;During replication use checksums to verify if files are the same&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6920&quot;&gt;&lt;del&gt;SOLR-6920&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6640&quot; title=&quot;Replication can cause index corruption.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6640&quot;&gt;&lt;del&gt;SOLR-6640&lt;/del&gt;&lt;/a&gt;: Do not log an error when a file does not exist for comparison.&lt;/p&gt;</comment>
                            <comment id="14310856" author="jira-bot" created="Sat, 7 Feb 2015 18:19:52 +0000"  >&lt;p&gt;Commit 1658090 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/branches/branch_5x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1658090&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1658090&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6920&quot; title=&quot;During replication use checksums to verify if files are the same&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6920&quot;&gt;&lt;del&gt;SOLR-6920&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6640&quot; title=&quot;Replication can cause index corruption.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6640&quot;&gt;&lt;del&gt;SOLR-6640&lt;/del&gt;&lt;/a&gt;: Do not log an error when a file does not exist for comparison.&lt;/p&gt;</comment>
                            <comment id="14311095" author="jira-bot" created="Sun, 8 Feb 2015 03:56:15 +0000"  >&lt;p&gt;Commit 1658129 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1658129&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1658129&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6920&quot; title=&quot;During replication use checksums to verify if files are the same&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6920&quot;&gt;&lt;del&gt;SOLR-6920&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6640&quot; title=&quot;Replication can cause index corruption.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6640&quot;&gt;&lt;del&gt;SOLR-6640&lt;/del&gt;&lt;/a&gt;: Rename method to filesToAlwaysDownloadIfNoChecksums.&lt;/p&gt;</comment>
                            <comment id="14311100" author="jira-bot" created="Sun, 8 Feb 2015 04:01:20 +0000"  >&lt;p&gt;Commit 1658130 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/branches/branch_5x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1658130&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1658130&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6920&quot; title=&quot;During replication use checksums to verify if files are the same&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6920&quot;&gt;&lt;del&gt;SOLR-6920&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6640&quot; title=&quot;Replication can cause index corruption.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6640&quot;&gt;&lt;del&gt;SOLR-6640&lt;/del&gt;&lt;/a&gt;: Rename method to filesToAlwaysDownloadIfNoChecksums.&lt;/p&gt;</comment>
                            <comment id="14311491" author="jira-bot" created="Sun, 8 Feb 2015 18:51:59 +0000"  >&lt;p&gt;Commit 1658240 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/branches/lucene_solr_5_0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1658240&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1658240&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6920&quot; title=&quot;During replication use checksums to verify if files are the same&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6920&quot;&gt;&lt;del&gt;SOLR-6920&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6640&quot; title=&quot;Replication can cause index corruption.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6640&quot;&gt;&lt;del&gt;SOLR-6640&lt;/del&gt;&lt;/a&gt;: A replicated index can end up corrupted when small files end up with the same file name and size.&lt;/p&gt;</comment>
                            <comment id="14312601" author="jira-bot" created="Mon, 9 Feb 2015 18:42:10 +0000"  >&lt;p&gt;Commit 1658519 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1658519&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1658519&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6920&quot; title=&quot;During replication use checksums to verify if files are the same&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6920&quot;&gt;&lt;del&gt;SOLR-6920&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6640&quot; title=&quot;Replication can cause index corruption.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6640&quot;&gt;&lt;del&gt;SOLR-6640&lt;/del&gt;&lt;/a&gt;: Make constant and fix logging.&lt;/p&gt;</comment>
                            <comment id="14312611" author="jira-bot" created="Mon, 9 Feb 2015 18:48:25 +0000"  >&lt;p&gt;Commit 1658524 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/branches/branch_5x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1658524&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1658524&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6920&quot; title=&quot;During replication use checksums to verify if files are the same&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6920&quot;&gt;&lt;del&gt;SOLR-6920&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6640&quot; title=&quot;Replication can cause index corruption.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6640&quot;&gt;&lt;del&gt;SOLR-6640&lt;/del&gt;&lt;/a&gt;: Make constant and fix logging.&lt;/p&gt;</comment>
                            <comment id="14312615" author="markrmiller@gmail.com" created="Mon, 9 Feb 2015 18:50:19 +0000"  >&lt;p&gt;Thanks Varun, great job.&lt;/p&gt;</comment>
                            <comment id="14312629" author="jira-bot" created="Mon, 9 Feb 2015 18:56:05 +0000"  >&lt;p&gt;Commit 1658526 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/branches/lucene_solr_5_0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1658526&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1658526&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6920&quot; title=&quot;During replication use checksums to verify if files are the same&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6920&quot;&gt;&lt;del&gt;SOLR-6920&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6640&quot; title=&quot;Replication can cause index corruption.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6640&quot;&gt;&lt;del&gt;SOLR-6640&lt;/del&gt;&lt;/a&gt;: Make constant and fix logging.&lt;/p&gt;</comment>
                            <comment id="14332705" author="anshumg" created="Mon, 23 Feb 2015 05:01:26 +0000"  >&lt;p&gt;Bulk close after 5.0 release.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12773542">SOLR-7093</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12776611">SOLR-7134</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12749620">SOLR-6640</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12697265" name="SOLR-6920-5x.patch" size="19541" author="markrmiller@gmail.com" created="Sat, 7 Feb 2015 16:37:42 +0000"/>
                            <attachment id="12697261" name="SOLR-6920-5x.patch" size="19184" author="markrmiller@gmail.com" created="Sat, 7 Feb 2015 16:15:55 +0000"/>
                            <attachment id="12697195" name="SOLR-6920-5x.patch" size="18497" author="markrmiller@gmail.com" created="Sat, 7 Feb 2015 00:50:16 +0000"/>
                            <attachment id="12697192" name="SOLR-6920-5x.patch" size="18406" author="markrmiller@gmail.com" created="Sat, 7 Feb 2015 00:34:24 +0000"/>
                            <attachment id="12697108" name="SOLR-6920.patch" size="16755" author="varun" created="Fri, 6 Feb 2015 20:00:36 +0000"/>
                            <attachment id="12697095" name="SOLR-6920.patch" size="17611" author="markrmiller@gmail.com" created="Fri, 6 Feb 2015 19:20:19 +0000"/>
                            <attachment id="12697061" name="SOLR-6920.patch" size="15735" author="markrmiller@gmail.com" created="Fri, 6 Feb 2015 17:05:01 +0000"/>
                            <attachment id="12694758" name="SOLR-6920.patch" size="9529" author="varun" created="Tue, 27 Jan 2015 10:08:45 +0000"/>
                            <attachment id="12691559" name="SOLR-6920.patch" size="11627" author="varun" created="Sun, 11 Jan 2015 16:32:28 +0000"/>
                            <attachment id="12690510" name="SOLR-6920.patch" size="12274" author="varun" created="Wed, 7 Jan 2015 07:36:10 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>10.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 39 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i240tr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>