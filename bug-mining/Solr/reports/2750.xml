<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:10:12 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-8191] Guard against CloudSolrStream close method NullPointerException</title>
                <link>https://issues.apache.org/jira/browse/SOLR-8191</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;CloudSolrStream doesn&apos;t check if cloudSolrClient or solrStreams is null yielding a NullPointerException in those cases when close() is called on it.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12907420">SOLR-8191</key>
            <summary>Guard against CloudSolrStream close method NullPointerException</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="krisden">Kevin Risden</reporter>
                        <labels>
                    </labels>
                <created>Fri, 23 Oct 2015 14:25:46 +0000</created>
                <updated>Tue, 8 Oct 2019 14:50:45 +0000</updated>
                            <resolved>Wed, 16 Dec 2015 21:46:32 +0000</resolved>
                                    <version>6.0</version>
                                                    <component>SolrJ</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="15059213" author="gerlowskija" created="Wed, 16 Dec 2015 00:39:39 +0000"  >&lt;p&gt;The current patch still applies cleanly.  Fixing this NPE might not be hugely important, but this bug is blocking &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8190&quot; title=&quot;Implement Closeable on TupleStream&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-8190&quot;&gt;&lt;del&gt;SOLR-8190&lt;/del&gt;&lt;/a&gt;, which would be a nice improvement IMO. (Not a huge deal, but still a nice little tidbit).&lt;/p&gt;

&lt;p&gt;Looking at &lt;tt&gt;CloudSolrStream&lt;/tt&gt; a little closer though, it seems odd to perform a null-check on &lt;tt&gt;close()&lt;/tt&gt;, but not any of the other places that &lt;tt&gt;cloudSolrClient&lt;/tt&gt; is used.  For instance, check out the protected &lt;tt&gt;constructStreams()&lt;/tt&gt; method, which is invoked on each call to &lt;tt&gt;open()&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;Those are just my observations at a glance.  I&apos;m not very familiar with the SolrJ code, so maybe this isn&apos;t actually an issue.  Just wanted to mention it.  I&apos;m going to tinker around with this more tonight to see if I can learn more.&lt;/p&gt;</comment>
                            <comment id="15059422" author="gerlowskija" created="Wed, 16 Dec 2015 03:18:04 +0000"  >&lt;p&gt;After a little more attention, I think it&apos;d probably be safer to null-check in &lt;tt&gt;constructStreams&lt;/tt&gt; as well (see above).  That said, I&apos;m not sure if there was a rationale for avoiding this so far. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=risdenk&quot; class=&quot;user-hover&quot; rel=&quot;risdenk&quot;&gt;risdenk&lt;/a&gt;, was there a reason you hadn&apos;t done this in your initial patch?&lt;/p&gt;

&lt;p&gt;In any case, the patch does fix the NPE&apos;s exposed by closing the streams in the Streaming tests, so in that respect it looks good to me.&lt;/p&gt;

&lt;p&gt;Can someone with more familiarity with this part of the codebase (ideally someone willing to consider merging this) take a look at this patch please&lt;/p&gt;</comment>
                            <comment id="15059442" author="joel.bernstein" created="Wed, 16 Dec 2015 03:36:48 +0000"  >&lt;p&gt;Sure, I should have some time to review this ticket and &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8190&quot; title=&quot;Implement Closeable on TupleStream&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-8190&quot;&gt;&lt;del&gt;SOLR-8190&lt;/del&gt;&lt;/a&gt; tomorrow.&lt;/p&gt;</comment>
                            <comment id="15060016" author="risdenk" created="Wed, 16 Dec 2015 14:10:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gerlowskija&quot; class=&quot;user-hover&quot; rel=&quot;gerlowskija&quot;&gt;gerlowskija&lt;/a&gt; I hadn&apos;t looked for other places to do null-checks other than what was found by &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8190&quot; title=&quot;Implement Closeable on TupleStream&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-8190&quot;&gt;&lt;del&gt;SOLR-8190&lt;/del&gt;&lt;/a&gt;. As you said there are probably other places that need hardening.&lt;/p&gt;</comment>
                            <comment id="15060895" author="joel.bernstein" created="Wed, 16 Dec 2015 21:20:40 +0000"  >&lt;p&gt;Ok, this looks fine to me. &lt;/p&gt;</comment>
                            <comment id="15060931" author="jira-bot" created="Wed, 16 Dec 2015 21:41:57 +0000"  >&lt;p&gt;Commit 1720460 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jbernste&quot; class=&quot;user-hover&quot; rel=&quot;jbernste&quot;&gt;jbernste&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1720460&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1720460&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8191&quot; title=&quot;Guard against CloudSolrStream close method NullPointerException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-8191&quot;&gt;&lt;del&gt;SOLR-8191&lt;/del&gt;&lt;/a&gt;: Gaurd against CloudSolrStream close method NullPointerException&lt;/p&gt;</comment>
                            <comment id="15060943" author="jira-bot" created="Wed, 16 Dec 2015 21:45:33 +0000"  >&lt;p&gt;Commit 1720461 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jbernste&quot; class=&quot;user-hover&quot; rel=&quot;jbernste&quot;&gt;jbernste&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1720461&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1720461&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8191&quot; title=&quot;Guard against CloudSolrStream close method NullPointerException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-8191&quot;&gt;&lt;del&gt;SOLR-8191&lt;/del&gt;&lt;/a&gt;: Update CHANGES.txt&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12907415">SOLR-8190</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12768304" name="SOLR-8191.patch" size="1122" author="krisden" created="Fri, 23 Oct 2015 14:30:48 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 48 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2nfsf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>