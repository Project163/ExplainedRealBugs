<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:46:12 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-14961] ZkMaintenanceUtils.clean(...) doesn&apos;t delete files with same length</title>
                <link>https://issues.apache.org/jira/browse/SOLR-14961</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;When trying to delete zookeeper path and all of its subnodes via &lt;a href=&quot;#L263]&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;ZkMaintenanceUtils.clean(SolrZkClient zkClient, String path, Predicate&amp;lt;String&amp;gt; filter)&lt;/a&gt; the Operation fails silently, when a ZKNode contains more than 1 file with the same file name length.&lt;/p&gt;

&lt;p&gt;This is because of the String.length() comparator used in the Treeset for storing the paths. Paths with the same length are seen as equal and are not added to the set.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13336731">SOLR-14961</key>
            <summary>ZkMaintenanceUtils.clean(...) doesn&apos;t delete files with same length</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mdrob">Mike Drob</assignee>
                                    <reporter username="defonion">def onion</reporter>
                        <labels>
                            <label>newbie</label>
                    </labels>
                <created>Thu, 22 Oct 2020 13:46:50 +0000</created>
                <updated>Thu, 12 May 2022 00:26:55 +0000</updated>
                            <resolved>Mon, 2 Nov 2020 23:08:16 +0000</resolved>
                                    <version>8.0</version>
                    <version>8.1</version>
                    <version>8.2</version>
                    <version>8.3</version>
                    <version>8.4</version>
                    <version>8.5</version>
                    <version>8.6.3</version>
                                    <fixVersion>8.8</fixVersion>
                    <fixVersion>9.0</fixVersion>
                                    <component>SolrCloud</component>
                    <component>SolrJ</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="2400">40m</timespent>
                                <comments>
                            <comment id="17225005" author="jira-bot" created="Mon, 2 Nov 2020 23:02:10 +0000"  >&lt;p&gt;Commit e7f0294d85dbdc3d3499245c29bc269774c574e2 in lucene-solr&apos;s branch refs/heads/master from Michael Aleythe&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=e7f0294&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=e7f0294&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-14961&quot; title=&quot;ZkMaintenanceUtils.clean(...) doesn&amp;#39;t delete files with same length&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-14961&quot;&gt;&lt;del&gt;SOLR-14961&lt;/del&gt;&lt;/a&gt; ZkMaintenanceUtils.clean doesn&apos;t remove zk nodes with same length&lt;/p&gt;

&lt;p&gt;fixes #2042&lt;/p&gt;</comment>
                            <comment id="17225006" author="mdrob" created="Mon, 2 Nov 2020 23:08:16 +0000"  >&lt;p&gt;I committed this and back ported to 8.x as well. Thanks for the patch, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=defonion&quot; class=&quot;user-hover&quot; rel=&quot;defonion&quot;&gt;defonion&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17225007" author="jira-bot" created="Mon, 2 Nov 2020 23:08:32 +0000"  >&lt;p&gt;Commit d2c88e3a912bb3882f01e95de5901298a753f915 in lucene-solr&apos;s branch refs/heads/branch_8x from Michael Aleythe&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=d2c88e3&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=d2c88e3&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-14961&quot; title=&quot;ZkMaintenanceUtils.clean(...) doesn&amp;#39;t delete files with same length&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-14961&quot;&gt;&lt;del&gt;SOLR-14961&lt;/del&gt;&lt;/a&gt; ZkMaintenanceUtils.clean doesn&apos;t remove zk nodes with same length&lt;/p&gt;

&lt;p&gt;fixes #2042&lt;/p&gt;</comment>
                            <comment id="17535692" author="janhoy" created="Thu, 12 May 2022 00:26:55 +0000"  >&lt;p&gt;Closing after the 9.0.0 release&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 26 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0jx9c:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>