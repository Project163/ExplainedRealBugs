<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:26:47 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-3264] SolrResourceLoader logging about &quot;Solr home set to&quot; is very missleading/broken in multicore</title>
                <link>https://issues.apache.org/jira/browse/SOLR-3264</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;the SolrResourceLoader constructor has this bit of logging left over from the days before multicore...&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;    log.info(&quot;Solr home set to &apos;&quot; + this.instanceDir + &quot;&apos;&quot;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;but this is confusing and missleading since there are N+1 SOlrResourceLoaders in a given solr instance (1 for the CoreContainer, and N for the N cores) and only one of them is refering to the &lt;b&gt;true&lt;/b&gt; &quot;Solr Home&quot; dir, the others are refering to the &lt;b&gt;instanceDir&lt;/b&gt; of the respective cores.&lt;/p&gt;

&lt;p&gt;For example, using the 3.5 example and running &lt;tt&gt;java -Dsolr.solr.home=multicore -jar start.jar&lt;/tt&gt; you&apos;ll see...&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Mar 21, 2012 7:02:46 PM org.apache.solr.core.SolrResourceLoader locateSolrHome
INFO: JNDI not configured for solr (NoInitialContextEx)
Mar 21, 2012 7:02:46 PM org.apache.solr.core.SolrResourceLoader locateSolrHome
INFO: using system property solr.solr.home: multicore
Mar 21, 2012 7:02:46 PM org.apache.solr.core.SolrResourceLoader &amp;lt;init&amp;gt;
INFO: Solr home set to &apos;multicore/&apos;
Mar 21, 2012 7:02:46 PM org.apache.solr.servlet.SolrDispatchFilter init
INFO: SolrDispatchFilter.init()
Mar 21, 2012 7:02:46 PM org.apache.solr.core.SolrResourceLoader locateSolrHome
INFO: JNDI not configured for solr (NoInitialContextEx)
Mar 21, 2012 7:02:46 PM org.apache.solr.core.SolrResourceLoader locateSolrHome
INFO: using system property solr.solr.home: multicore
Mar 21, 2012 7:02:46 PM org.apache.solr.core.CoreContainer$Initializer initialize
INFO: looking for solr.xml: /home/hossman/lucene/lucene-3.5.0_tag/solr/example/multicore/solr.xml
Mar 21, 2012 7:02:46 PM org.apache.solr.core.SolrResourceLoader locateSolrHome
INFO: JNDI not configured for solr (NoInitialContextEx)
Mar 21, 2012 7:02:46 PM org.apache.solr.core.SolrResourceLoader locateSolrHome
INFO: using system property solr.solr.home: multicore
Mar 21, 2012 7:02:46 PM org.apache.solr.core.CoreContainer &amp;lt;init&amp;gt;
INFO: New CoreContainer: solrHome=multicore/ instance=108681753
Mar 21, 2012 7:02:46 PM org.apache.solr.core.SolrResourceLoader &amp;lt;init&amp;gt;
INFO: Solr home set to &apos;multicore/&apos;
Mar 21, 2012 7:02:46 PM org.apache.solr.core.SolrResourceLoader &amp;lt;init&amp;gt;
INFO: Solr home set to &apos;multicore/core0/&apos;

...lots of logs about initing core0...

INFO: registering core: core0
Mar 21, 2012 7:02:47 PM org.apache.solr.core.SolrCore registerSearcher
INFO: [core0] Registered new searcher Searcher@5dde45e2 main
Mar 21, 2012 7:02:47 PM org.apache.solr.core.SolrResourceLoader &amp;lt;init&amp;gt;
INFO: Solr home set to &apos;multicore/core1/&apos;
Mar 21, 2012 7:02:47 PM org.apache.solr.core.SolrConfig &amp;lt;init&amp;gt;

...lots of logs about initing core1...

Mar 21, 2012 7:02:47 PM org.apache.solr.core.CoreContainer register
INFO: registering core: core1
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;we should revamp/add some of the log messages from CoreContainer and SolrResourceLoader to make it more clear what the one true solr home is, and when SolrresourceLoader is being used for an instanceDir of a single core.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12547538">SOLR-3264</key>
            <summary>SolrResourceLoader logging about &quot;Solr home set to&quot; is very missleading/broken in multicore</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hossman">Chris M. Hostetter</assignee>
                                    <reporter username="hossman">Chris M. Hostetter</reporter>
                        <labels>
                    </labels>
                <created>Thu, 22 Mar 2012 02:06:42 +0000</created>
                <updated>Fri, 10 May 2013 10:39:43 +0000</updated>
                            <resolved>Tue, 27 Mar 2012 01:30:13 +0000</resolved>
                                                    <fixVersion>3.6</fixVersion>
                    <fixVersion>4.0-ALPHA</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13236222" author="hossman" created="Fri, 23 Mar 2012 00:38:25 +0000"  >&lt;p&gt;here&apos;s a quick pass at trying to clean this up.  &lt;/p&gt;

&lt;p&gt;in addition to pure logging changes (new info lines in CoreContainer about the solrHome and the individual cores being created, and more specific logging in SolrResourceLoader about why it&apos;s using the dir it&apos;s useing) this also moves arround some of the initialization code in CoreContainer so we don&apos;t redundently call locateSolrHome over and over.&lt;/p&gt;

&lt;p&gt;unfortunately there is still double logging from locateSolrHome when using solr.war, because SolrDispatchFilter constructs a little one off Config instance, which constructs a one off SolrResourceInstance.  I didn&apos;t wnat to try messing with that though since i don&apos;t really understand it, and it doesn&apos;t really seem to hurt anything (at least all those mentions are truly about hte solr home, not instance dirs being refered to as solr home)&lt;/p&gt;</comment>
                            <comment id="13236223" author="hossman" created="Fri, 23 Mar 2012 00:39:21 +0000"  >&lt;p&gt;i think it would be good to get this into 3.6&lt;/p&gt;</comment>
                            <comment id="13239069" author="markrmiller@gmail.com" created="Tue, 27 Mar 2012 00:34:18 +0000"  >&lt;p&gt;+1 - the patch looks good to me.&lt;/p&gt;</comment>
                            <comment id="13239102" author="hossman" created="Tue, 27 Mar 2012 01:30:13 +0000"  >&lt;p&gt;Committed revision 1305697. - trunk&lt;br/&gt;
Committed revision 1305703. - 3x&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12519559" name="SOLR-3264.patch" size="4850" author="hossman" created="Fri, 23 Mar 2012 00:38:25 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>232636</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 35 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i03fpj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>17978</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>