<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:45:36 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-5659] Ignore or throw proper error message for bad delete containing bad composite ID</title>
                <link>https://issues.apache.org/jira/browse/SOLR-5659</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;The following error is thrown when sending deleteById via SolrJ with ID ending with an exclamation mark, it is also the case for deletes by id via the URL. For some curious reason delete by query using the id field does not fail, but i would expect the same behaviour.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;fails: /solr/update?commit=true&amp;amp;stream.body=&amp;lt;delete&amp;gt;&amp;lt;id&amp;gt;a!&amp;lt;/id&amp;gt;&amp;lt;/delete&amp;gt;&lt;/li&gt;
	&lt;li&gt;ok: /solr/update?commit=true&amp;amp;stream.body=&amp;lt;delete&amp;gt;&amp;lt;query&amp;gt;id:a!&amp;lt;/query&amp;gt;&amp;lt;/delete&amp;gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;2014-01-22 15:32:48,826 ERROR [solr.core.SolrCore] - [http-8080-exec-5] - : java.lang.ArrayIndexOutOfBoundsException: 1
        at org.apache.solr.common.cloud.CompositeIdRouter$KeyParser.getHash(CompositeIdRouter.java:291)
        at org.apache.solr.common.cloud.CompositeIdRouter.sliceHash(CompositeIdRouter.java:58)
        at org.apache.solr.common.cloud.HashBasedRouter.getTargetSlice(HashBasedRouter.java:33)
        at org.apache.solr.update.processor.DistributedUpdateProcessor.setupRequest(DistributedUpdateProcessor.java:218)
        at org.apache.solr.update.processor.DistributedUpdateProcessor.processDelete(DistributedUpdateProcessor.java:961)
        at org.apache.solr.update.processor.UpdateRequestProcessor.processDelete(UpdateRequestProcessor.java:55)
        at org.apache.solr.handler.loader.XMLLoader.processDelete(XMLLoader.java:347)
        at org.apache.solr.handler.loader.XMLLoader.processUpdate(XMLLoader.java:278)
        at org.apache.solr.handler.loader.XMLLoader.load(XMLLoader.java:174)
        at org.apache.solr.handler.UpdateRequestHandler$1.load(UpdateRequestHandler.java:92)
        at org.apache.solr.handler.ContentStreamHandlerBase.handleRequestBody(ContentStreamHandlerBase.java:74)
        at org.apache.solr.handler.RequestHandlerBase.handleRequest(RequestHandlerBase.java:135)
        at org.apache.solr.core.SolrCore.execute(SolrCore.java:1915)
        at org.apache.solr.servlet.SolrDispatchFilter.execute(SolrDispatchFilter.java:785)
        at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:418)
        at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:203)
        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)
        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)
        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)
        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)
        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)
        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)
        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:293)
        at org.apache.coyote.http11.Http11NioProcessor.process(Http11NioProcessor.java:889)
        at org.apache.coyote.http11.Http11NioProtocol$Http11ConnectionHandler.process(Http11NioProtocol.java:744)
        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:2282)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
        at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:724) 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;See also: &lt;a href=&quot;http://lucene.472066.n3.nabble.com/AIOOBException-on-trunk-since-21st-or-22nd-build-td4112753.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://lucene.472066.n3.nabble.com/AIOOBException-on-trunk-since-21st-or-22nd-build-td4112753.html&lt;/a&gt;&lt;/p&gt;</description>
                <environment>&lt;p&gt;5.0-SNAPSHOT 1480985:1559676M - markus - 2014-01-20 13:48:08&lt;/p&gt;</environment>
        <key id="12690761">SOLR-5659</key>
            <summary>Ignore or throw proper error message for bad delete containing bad composite ID</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="anshum">Anshum Gupta</assignee>
                                    <reporter username="markus17">Markus Jelsma</reporter>
                        <labels>
                    </labels>
                <created>Thu, 23 Jan 2014 12:50:26 +0000</created>
                <updated>Mon, 9 May 2016 18:48:45 +0000</updated>
                            <resolved>Fri, 7 Feb 2014 08:16:55 +0000</resolved>
                                    <version>6.0</version>
                                    <fixVersion>4.7</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                    <component>SolrCloud</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="13892096" author="yseeley@gmail.com" created="Wed, 5 Feb 2014 13:30:49 +0000"  >&lt;p&gt;This sounds like a bug in CompositeIdRouter - there should not be any ID for which it throws an exception (it was made the default because it is completely transparent, other than the hash codes it produces).&lt;/p&gt;</comment>
                            <comment id="13892107" author="shalinmangar" created="Wed, 5 Feb 2014 13:47:37 +0000"  >&lt;p&gt;Yes, I think this was introduced with &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5320&quot; title=&quot;Multi level compositeId router&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5320&quot;&gt;&lt;del&gt;SOLR-5320&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13893938" author="anshumg" created="Thu, 6 Feb 2014 22:57:28 +0000"  >&lt;p&gt;Fix and a test which fails without the patch.&lt;/p&gt;</comment>
                            <comment id="13894274" author="shalinmangar" created="Fri, 7 Feb 2014 07:50:22 +0000"  >&lt;p&gt;Thanks Anshum. I added a delete by ID with an id ending with &apos;!&apos; to the test. I&apos;ll commit this shortly.&lt;/p&gt;</comment>
                            <comment id="13894288" author="jira-bot" created="Fri, 7 Feb 2014 08:13:49 +0000"  >&lt;p&gt;Commit 1565572 from shalin@apache.org in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1565572&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1565572&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5659&quot; title=&quot;Ignore or throw proper error message for bad delete containing bad composite ID&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5659&quot;&gt;&lt;del&gt;SOLR-5659&lt;/del&gt;&lt;/a&gt;: Add test for compositeId ending with a separator char&lt;/p&gt;</comment>
                            <comment id="13894289" author="jira-bot" created="Fri, 7 Feb 2014 08:15:03 +0000"  >&lt;p&gt;Commit 1565573 from shalin@apache.org in branch &apos;dev/branches/branch_4x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1565573&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1565573&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5659&quot; title=&quot;Ignore or throw proper error message for bad delete containing bad composite ID&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5659&quot;&gt;&lt;del&gt;SOLR-5659&lt;/del&gt;&lt;/a&gt;: Add test for compositeId ending with a separator char&lt;/p&gt;</comment>
                            <comment id="13894292" author="shalinmangar" created="Fri, 7 Feb 2014 08:16:55 +0000"  >&lt;p&gt;Thanks Markus and Anshum!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12627571" name="SOLR-5659.patch" size="2680" author="shalin" created="Fri, 7 Feb 2014 07:50:22 +0000"/>
                            <attachment id="12627489" name="SOLR-5659.patch" size="2500" author="anshum" created="Thu, 6 Feb 2014 22:57:28 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>369499</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 41 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ropb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>369804</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>