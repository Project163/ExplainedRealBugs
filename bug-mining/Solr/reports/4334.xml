<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:40:52 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-13834] ZkController#getSolrCloudManager() creates a new instance of ZkStateReader</title>
                <link>https://issues.apache.org/jira/browse/SOLR-13834</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;It should be reusing the existing ZkStateReader instance . Multiple ZkStateReader instance have different visibility to the ZK state and cause race conditions&lt;/p&gt;</description>
                <environment></environment>
        <key id="13261652">SOLR-13834</key>
            <summary>ZkController#getSolrCloudManager() creates a new instance of ZkStateReader</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ichattopadhyaya">Ishan Chattopadhyaya</assignee>
                                    <reporter username="noble.paul">Noble Paul</reporter>
                        <labels>
                    </labels>
                <created>Thu, 10 Oct 2019 21:37:05 +0000</created>
                <updated>Tue, 10 Nov 2020 18:24:30 +0000</updated>
                            <resolved>Tue, 15 Oct 2019 09:24:41 +0000</resolved>
                                                    <fixVersion>8.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="16949543" author="ichattopadhyaya" created="Fri, 11 Oct 2019 15:20:37 +0000"  >&lt;p&gt;Credit for the discovery and the fix lies with &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=claygoddard&quot; class=&quot;user-hover&quot; rel=&quot;claygoddard&quot;&gt;claygoddard&lt;/a&gt;. We shall post a patch soon.&lt;/p&gt;</comment>
                            <comment id="16949619" author="jira-bot" created="Fri, 11 Oct 2019 16:45:37 +0000"  >&lt;p&gt;Commit 1a45b35baf765b4ab13bf2edf7fc664af7d6d6c4 in lucene-solr&apos;s branch refs/heads/jira/&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13834&quot; title=&quot;ZkController#getSolrCloudManager() creates a new instance of ZkStateReader&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13834&quot;&gt;&lt;del&gt;SOLR-13834&lt;/del&gt;&lt;/a&gt; from Ishan Chattopadhyaya&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=1a45b35&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=1a45b35&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13834&quot; title=&quot;ZkController#getSolrCloudManager() creates a new instance of ZkStateReader&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13834&quot;&gt;&lt;del&gt;SOLR-13834&lt;/del&gt;&lt;/a&gt;: ZkController#getSolrCloudManager() now uses the same ZkStateReader instance instead of instantiating a new one&lt;/p&gt;

&lt;p&gt;ZkController#getSolrCloudManager() created a new instance of ZkStateReader, thereby causing mismatch in the&lt;br/&gt;
visibility of the cluster state and, as a result, undesired race conditions.&lt;/p&gt;</comment>
                            <comment id="16949626" author="ichattopadhyaya" created="Fri, 11 Oct 2019 16:49:51 +0000"  >&lt;p&gt;Would appreciate if someone can please review. I&apos;m planning to commit this shortly, preferably for 8.3. In case someone is planning to review, please let me know and I&apos;ll hold off on the merge.&lt;/p&gt;</comment>
                            <comment id="16951758" author="jira-bot" created="Tue, 15 Oct 2019 09:21:30 +0000"  >&lt;p&gt;Commit e2b160b865a1e85c19a12971bbd1eec99c52a68e in lucene-solr&apos;s branch refs/heads/master from Ishan Chattopadhyaya&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=e2b160b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=e2b160b&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13834&quot; title=&quot;ZkController#getSolrCloudManager() creates a new instance of ZkStateReader&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13834&quot;&gt;&lt;del&gt;SOLR-13834&lt;/del&gt;&lt;/a&gt;: ZkController#getSolrCloudManager() now uses the same ZkStateReader instance instead of instantiating a new one&lt;/p&gt;

&lt;p&gt;ZkController#getSolrCloudManager() created a new instance of ZkStateReader, thereby causing mismatch in the&lt;br/&gt;
visibility of the cluster state and, as a result, undesired race conditions.&lt;/p&gt;</comment>
                            <comment id="16951760" author="jira-bot" created="Tue, 15 Oct 2019 09:22:30 +0000"  >&lt;p&gt;Commit fb4b2a8834173616b0b2cc15e72267f89a432d0c in lucene-solr&apos;s branch refs/heads/branch_8x from Ishan Chattopadhyaya&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=fb4b2a8&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=fb4b2a8&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13834&quot; title=&quot;ZkController#getSolrCloudManager() creates a new instance of ZkStateReader&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13834&quot;&gt;&lt;del&gt;SOLR-13834&lt;/del&gt;&lt;/a&gt;: ZkController#getSolrCloudManager() now uses the same ZkStateReader instance instead of instantiating a new one&lt;/p&gt;

&lt;p&gt;ZkController#getSolrCloudManager() created a new instance of ZkStateReader, thereby causing mismatch in the&lt;br/&gt;
visibility of the cluster state and, as a result, undesired race conditions.&lt;/p&gt;</comment>
                            <comment id="16951761" author="jira-bot" created="Tue, 15 Oct 2019 09:22:58 +0000"  >&lt;p&gt;Commit f882d9ab9bc80b7a562e41e36345ae25c540244e in lucene-solr&apos;s branch refs/heads/branch_8_3 from Ishan Chattopadhyaya&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=f882d9a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=f882d9a&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13834&quot; title=&quot;ZkController#getSolrCloudManager() creates a new instance of ZkStateReader&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13834&quot;&gt;&lt;del&gt;SOLR-13834&lt;/del&gt;&lt;/a&gt;: ZkController#getSolrCloudManager() now uses the same ZkStateReader instance instead of instantiating a new one&lt;/p&gt;

&lt;p&gt;ZkController#getSolrCloudManager() created a new instance of ZkStateReader, thereby causing mismatch in the&lt;br/&gt;
visibility of the cluster state and, as a result, undesired race conditions.&lt;/p&gt;</comment>
                            <comment id="16951762" author="ichattopadhyaya" created="Tue, 15 Oct 2019 09:24:41 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=claygoddard&quot; class=&quot;user-hover&quot; rel=&quot;claygoddard&quot;&gt;claygoddard&lt;/a&gt;! Hopefully, Solr community will benefit more from your expertise in times to come.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 5 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z07hew:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>