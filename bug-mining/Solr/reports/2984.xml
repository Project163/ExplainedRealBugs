<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:14:00 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-8612] DIH JdbcDataSource - statement not always closed</title>
                <link>https://issues.apache.org/jira/browse/SOLR-8612</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;There are several cases where the Statement used by JdbcDataSource is not closed, potentially resulting in too many open connections:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;an exception is throw in the &lt;tt&gt;ResultSetIterator&lt;/tt&gt; constructor&lt;/li&gt;
	&lt;li&gt;the result set is null in the &lt;tt&gt;ResultSetIterator&lt;/tt&gt; constructor&lt;/li&gt;
	&lt;li&gt;an exception is thrown during import and the import is aborted (onError flag set to abort)&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12934784">SOLR-8612</key>
            <summary>DIH JdbcDataSource - statement not always closed</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mkhl">Mikhail Khludnev</assignee>
                                    <reporter username="tinexw">Kristine Jetzke</reporter>
                        <labels>
                    </labels>
                <created>Thu, 28 Jan 2016 11:55:03 +0000</created>
                <updated>Fri, 15 Jul 2016 19:30:39 +0000</updated>
                            <resolved>Fri, 17 Jun 2016 23:22:51 +0000</resolved>
                                    <version>5.4.1</version>
                                    <fixVersion>5.5.2</fixVersion>
                    <fixVersion>5.6</fixVersion>
                    <fixVersion>6.0.2</fixVersion>
                    <fixVersion>6.1</fixVersion>
                    <fixVersion>7.0</fixVersion>
                                    <component>contrib - DataImportHandler</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="15121276" author="tinexw" created="Thu, 28 Jan 2016 11:55:54 +0000"  >&lt;p&gt;I attached a patch fixing the mentioned issues. It also fixes &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-3409&quot; title=&quot;NPE: JdbcDataSource should handle null ResultSet&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-3409&quot;&gt;&lt;del&gt;SOLR-3409&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15135194" author="githubbot" created="Fri, 5 Feb 2016 22:52:35 +0000"  >&lt;p&gt;GitHub user tinexw opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/lucene-solr/pull/6&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/lucene-solr/pull/6&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8612&quot; title=&quot;DIH JdbcDataSource - statement not always closed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-8612&quot;&gt;&lt;del&gt;SOLR-8612&lt;/del&gt;&lt;/a&gt; DIH JdbcDataSource: Always close ResultSet and Statement &lt;/p&gt;

&lt;p&gt;    and also some more minor changes for better extensibility (&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8618&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SOLR-8618&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/tinexw/lucene-solr&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/tinexw/lucene-solr&lt;/a&gt; master&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/lucene-solr/pull/6.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/lucene-solr/pull/6.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #6&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 77d86ef11a1898109c0abf41a8123052d41ae69f&lt;br/&gt;
Author: tinexw &amp;lt;kristine.jetzke@kreuzwerker.de&amp;gt;&lt;br/&gt;
Date:   2016-02-05T22:42:18Z&lt;/p&gt;

&lt;p&gt;    Always close ResultSet and Statement and also some more changes for&lt;br/&gt;
    better extensibility&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15312949" author="mkhludnev" created="Thu, 2 Jun 2016 19:56:04 +0000"  >&lt;p&gt;removed &lt;b&gt;synchronized&lt;/b&gt;, because I think they are redundant - DIH has no threads anymore.&lt;br/&gt;
Tests are perfect, and passed well. &lt;br/&gt;
I&apos;m going to commit it soon, maybe tomorrow.    &lt;/p&gt;</comment>
                            <comment id="15316958" author="jira-bot" created="Mon, 6 Jun 2016 18:44:30 +0000"  >&lt;p&gt;Commit 24fa92959d11e49d1c838a4496772f72a623b9b5 in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mkhludnev&quot; class=&quot;user-hover&quot; rel=&quot;mkhludnev&quot;&gt;mkhludnev&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=24fa929&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=24fa929&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8612&quot; title=&quot;DIH JdbcDataSource - statement not always closed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-8612&quot;&gt;&lt;del&gt;SOLR-8612&lt;/del&gt;&lt;/a&gt;: closing JDBC Statement on exceptions from JdbcDataSource in DataImportHandler aka DIH (Kristine Jetzke via Mikhail Khludnev)&lt;/p&gt;</comment>
                            <comment id="15317013" author="jira-bot" created="Mon, 6 Jun 2016 19:07:30 +0000"  >&lt;p&gt;Commit 22e5d31cdc9e94aec8043fd451ae1918b5062528 in lucene-solr&apos;s branch refs/heads/branch_6x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mkhludnev&quot; class=&quot;user-hover&quot; rel=&quot;mkhludnev&quot;&gt;mkhludnev&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=22e5d31&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=22e5d31&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8612&quot; title=&quot;DIH JdbcDataSource - statement not always closed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-8612&quot;&gt;&lt;del&gt;SOLR-8612&lt;/del&gt;&lt;/a&gt;: closing JDBC Statement on exceptions from JdbcDataSource in DataImportHandler aka DIH (Kristine Jetzke via Mikhail Khludnev)&lt;/p&gt;</comment>
                            <comment id="15317132" author="mkhludnev" created="Mon, 6 Jun 2016 20:09:52 +0000"  >&lt;p&gt;Commit message a little bit superfluous, but I think it&apos;s forgivable. &lt;/p&gt;</comment>
                            <comment id="15337189" author="steve_rowe" created="Fri, 17 Jun 2016 23:16:24 +0000"  >&lt;p&gt;Reopening to backport to 6.0.2, 5.6 and 5.5.2.&lt;/p&gt;</comment>
                            <comment id="15337198" author="jira-bot" created="Fri, 17 Jun 2016 23:22:36 +0000"  >&lt;p&gt;Commit 0cd5356a7305be90f7817bd00906e09a5ef2d736 in lucene-solr&apos;s branch refs/heads/branch_5_5 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mkhludnev&quot; class=&quot;user-hover&quot; rel=&quot;mkhludnev&quot;&gt;mkhludnev&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=0cd5356&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=0cd5356&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8612&quot; title=&quot;DIH JdbcDataSource - statement not always closed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-8612&quot;&gt;&lt;del&gt;SOLR-8612&lt;/del&gt;&lt;/a&gt;: closing JDBC Statement on exceptions from JdbcDataSource in DataImportHandler aka DIH (Kristine Jetzke via Mikhail Khludnev)&lt;/p&gt;</comment>
                            <comment id="15337199" author="jira-bot" created="Fri, 17 Jun 2016 23:22:38 +0000"  >&lt;p&gt;Commit 66dd9bc63b0492a00bd55a9cc986818ef81afb95 in lucene-solr&apos;s branch refs/heads/branch_5x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mkhludnev&quot; class=&quot;user-hover&quot; rel=&quot;mkhludnev&quot;&gt;mkhludnev&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=66dd9bc&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=66dd9bc&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8612&quot; title=&quot;DIH JdbcDataSource - statement not always closed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-8612&quot;&gt;&lt;del&gt;SOLR-8612&lt;/del&gt;&lt;/a&gt;: closing JDBC Statement on exceptions from JdbcDataSource in DataImportHandler aka DIH (Kristine Jetzke via Mikhail Khludnev)&lt;/p&gt;</comment>
                            <comment id="15337200" author="jira-bot" created="Fri, 17 Jun 2016 23:22:39 +0000"  >&lt;p&gt;Commit 7e2252cbc0b0783b442d0f76d5312ec6f379f0ae in lucene-solr&apos;s branch refs/heads/branch_6_0 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mkhludnev&quot; class=&quot;user-hover&quot; rel=&quot;mkhludnev&quot;&gt;mkhludnev&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=7e2252c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=7e2252c&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8612&quot; title=&quot;DIH JdbcDataSource - statement not always closed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-8612&quot;&gt;&lt;del&gt;SOLR-8612&lt;/del&gt;&lt;/a&gt;: closing JDBC Statement on exceptions from JdbcDataSource in DataImportHandler aka DIH (Kristine Jetzke via Mikhail Khludnev)&lt;/p&gt;</comment>
                            <comment id="15349787" author="steve_rowe" created="Sat, 25 Jun 2016 20:33:48 +0000"  >&lt;p&gt;Bulk close issues released with 5.5.2.&lt;/p&gt;</comment>
                            <comment id="15353049" author="githubbot" created="Tue, 28 Jun 2016 14:14:20 +0000"  >&lt;p&gt;Github user shalinmangar commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/lucene-solr/pull/6&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/lucene-solr/pull/6&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    This has already been merged so this pull request can be closed.&lt;/p&gt;</comment>
                            <comment id="15376836" author="githubbot" created="Thu, 14 Jul 2016 12:43:07 +0000"  >&lt;p&gt;Github user tinexw closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/lucene-solr/pull/6&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/lucene-solr/pull/6&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310060">
                    <name>Container</name>
                                            <outwardlinks description="contains">
                                        <issuelink>
            <issuekey id="12983826">SOLR-9256</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12552545">SOLR-3409</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12807811" name="SOLR-8612.patch" size="17581" author="mkhl" created="Thu, 2 Jun 2016 19:56:04 +0000"/>
                            <attachment id="12786580" name="SOLR-8612.patch" size="17738" author="tinexw" created="Fri, 5 Feb 2016 22:43:13 +0000"/>
                            <attachment id="12786323" name="SOLR-8612.patch" size="16226" author="tinexw" created="Thu, 4 Feb 2016 20:03:07 +0000"/>
                            <attachment id="12785409" name="SOLR-8612.patch" size="16208" author="tinexw" created="Sun, 31 Jan 2016 17:33:53 +0000"/>
                            <attachment id="12784902" name="SOLR-8612.patch" size="11665" author="tinexw" created="Thu, 28 Jan 2016 11:55:34 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 18 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2s3af:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>