<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:30:15 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-11834] [Ref-Guide] Wrong documentation for subquery transformer</title>
                <link>https://issues.apache.org/jira/browse/SOLR-11834</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;Documentation for subquery transformation mentioned that to retrieve the field, it should be specified in both fl parameter&lt;br/&gt;
&lt;a href=&quot;https://lucene.apache.org/solr/guide/7_2/transforming-result-documents.html#subquery-result-fields&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://lucene.apache.org/solr/guide/7_2/transforming-result-documents.html#subquery-result-fields&lt;/a&gt;&lt;br/&gt;
But there is no such restriction in code.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13129505">SOLR-11834</key>
            <summary>[Ref-Guide] Wrong documentation for subquery transformer</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mkhl">Mikhail Khludnev</assignee>
                                    <reporter username="munendrasn">Munendra S N</reporter>
                        <labels>
                    </labels>
                <created>Tue, 9 Jan 2018 11:56:22 +0000</created>
                <updated>Sat, 8 Jun 2019 15:14:08 +0000</updated>
                            <resolved>Thu, 18 Jan 2018 13:29:42 +0000</resolved>
                                                    <fixVersion>7.5</fixVersion>
                    <fixVersion>8.0</fixVersion>
                                    <component>documentation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="3600">1h</timeoriginalestimate>
                            <timeestimate seconds="3600">1h</timeestimate>
                                        <comments>
                            <comment id="16318336" author="munendrasn" created="Tue, 9 Jan 2018 12:30:28 +0000"  >&lt;p&gt;Attaching the patch&lt;/p&gt;</comment>
                            <comment id="16318484" author="mkhludnev" created="Tue, 9 Jan 2018 14:24:57 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=munendrasn&quot; class=&quot;user-hover&quot; rel=&quot;munendrasn&quot;&gt;munendrasn&lt;/a&gt;, thanks for contributing documentation, it&apos;s quite important. But, despite there is no such restriction in code, I&apos;m afraid it works as described due to some implicit behavior, like top level writer filters subquery result fields as well. &lt;br/&gt;
Have you explicitly tested that top level fl doesn&apos;t limit subqueries fields? &lt;/p&gt;</comment>
                            <comment id="16318608" author="munendrasn" created="Tue, 9 Jan 2018 15:38:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mkhludnev&quot; class=&quot;user-hover&quot; rel=&quot;mkhludnev&quot;&gt;mkhludnev&lt;/a&gt;&lt;br/&gt;
I did test this.&lt;/p&gt;

&lt;p&gt;On my local setup, &lt;br/&gt;
Solr in stand alone mode (with master branch)&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
http:&lt;span class=&quot;code-comment&quot;&gt;//localhost:8983/solr/blockjoin70001-1492010056/select?q=*&amp;amp;fl=type_s,uniqueId,children:[subquery]&amp;amp;children.q=*&amp;amp;children.fl=review_dt,uniqueId&amp;amp;children.logParamsList=q,fl,rows&amp;amp;rows=2&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;response for the above request&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-json&quot;&gt;
{
    &lt;span class=&quot;code-quote&quot;&gt;&quot;responseHeader&quot;&lt;/span&gt;: {
        &lt;span class=&quot;code-quote&quot;&gt;&quot;status&quot;&lt;/span&gt;: 0,
        &lt;span class=&quot;code-quote&quot;&gt;&quot;QTime&quot;&lt;/span&gt;: 2,
        &lt;span class=&quot;code-quote&quot;&gt;&quot;params&quot;&lt;/span&gt;: {
            &lt;span class=&quot;code-quote&quot;&gt;&quot;q&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;*&quot;&lt;/span&gt;,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;children.logParamsList&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;q,fl,rows&quot;&lt;/span&gt;,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;children.fl&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;review_dt,uniqueId&quot;&lt;/span&gt;,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;fl&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;type_s,uniqueId,children:[subquery]&quot;&lt;/span&gt;,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;children.q&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;*&quot;&lt;/span&gt;,
            &lt;span class=&quot;code-quote&quot;&gt;&quot;rows&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;2&quot;&lt;/span&gt;
        }
    },
    &lt;span class=&quot;code-quote&quot;&gt;&quot;response&quot;&lt;/span&gt;: {
        &lt;span class=&quot;code-quote&quot;&gt;&quot;numFound&quot;&lt;/span&gt;: 12,
        &lt;span class=&quot;code-quote&quot;&gt;&quot;start&quot;&lt;/span&gt;: 0,
        &lt;span class=&quot;code-quote&quot;&gt;&quot;docs&quot;&lt;/span&gt;: [
            {
                &lt;span class=&quot;code-quote&quot;&gt;&quot;uniqueId&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;book2_c1&quot;&lt;/span&gt;,
                &lt;span class=&quot;code-quote&quot;&gt;&quot;type_s&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;review&quot;&lt;/span&gt;,
                &lt;span class=&quot;code-quote&quot;&gt;&quot;children&quot;&lt;/span&gt;: {
                    &lt;span class=&quot;code-quote&quot;&gt;&quot;numFound&quot;&lt;/span&gt;: 12,
                    &lt;span class=&quot;code-quote&quot;&gt;&quot;start&quot;&lt;/span&gt;: 0,
                    &lt;span class=&quot;code-quote&quot;&gt;&quot;docs&quot;&lt;/span&gt;: [
                        {
                            &lt;span class=&quot;code-quote&quot;&gt;&quot;uniqueId&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;book2_c1&quot;&lt;/span&gt;,
                            &lt;span class=&quot;code-quote&quot;&gt;&quot;review_dt&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;2015-01-03T14:30:00Z&quot;&lt;/span&gt;
                        },
                        {
                            &lt;span class=&quot;code-quote&quot;&gt;&quot;uniqueId&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;book2_c2&quot;&lt;/span&gt;,
                            &lt;span class=&quot;code-quote&quot;&gt;&quot;review_dt&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;2015-04-10T09:00:00Z&quot;&lt;/span&gt;
                        },
                        {
                            &lt;span class=&quot;code-quote&quot;&gt;&quot;uniqueId&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;book2&quot;&lt;/span&gt;
                        },
                        {
                            &lt;span class=&quot;code-quote&quot;&gt;&quot;uniqueId&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;book1_c1&quot;&lt;/span&gt;,
                            &lt;span class=&quot;code-quote&quot;&gt;&quot;review_dt&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;2015-01-03T14:30:00Z&quot;&lt;/span&gt;
                        },
                        {
                            &lt;span class=&quot;code-quote&quot;&gt;&quot;uniqueId&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;book1_c2&quot;&lt;/span&gt;,
                            &lt;span class=&quot;code-quote&quot;&gt;&quot;review_dt&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;2014-03-15T12:00:00Z&quot;&lt;/span&gt;
                        },
                        {
                            &lt;span class=&quot;code-quote&quot;&gt;&quot;uniqueId&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;book1&quot;&lt;/span&gt;
                        },
                        {
                            &lt;span class=&quot;code-quote&quot;&gt;&quot;uniqueId&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;book4&quot;&lt;/span&gt;
                        },
                        {
                            &lt;span class=&quot;code-quote&quot;&gt;&quot;uniqueId&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;book4&quot;&lt;/span&gt;
                        },
                        {
                            &lt;span class=&quot;code-quote&quot;&gt;&quot;uniqueId&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;book4&quot;&lt;/span&gt;
                        },
                        {
                            &lt;span class=&quot;code-quote&quot;&gt;&quot;uniqueId&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;book4_c1&quot;&lt;/span&gt;,
                            &lt;span class=&quot;code-quote&quot;&gt;&quot;review_dt&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;2015-01-03T14:30:00Z&quot;&lt;/span&gt;
                        }
                    ]
                }
            },
            {
                &lt;span class=&quot;code-quote&quot;&gt;&quot;uniqueId&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;book2_c2&quot;&lt;/span&gt;,
                &lt;span class=&quot;code-quote&quot;&gt;&quot;type_s&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;review&quot;&lt;/span&gt;,
                &lt;span class=&quot;code-quote&quot;&gt;&quot;children&quot;&lt;/span&gt;: {
                    &lt;span class=&quot;code-quote&quot;&gt;&quot;numFound&quot;&lt;/span&gt;: 12,
                    &lt;span class=&quot;code-quote&quot;&gt;&quot;start&quot;&lt;/span&gt;: 0,
                    &lt;span class=&quot;code-quote&quot;&gt;&quot;docs&quot;&lt;/span&gt;: [
                        {
                            &lt;span class=&quot;code-quote&quot;&gt;&quot;uniqueId&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;book2_c1&quot;&lt;/span&gt;,
                            &lt;span class=&quot;code-quote&quot;&gt;&quot;review_dt&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;2015-01-03T14:30:00Z&quot;&lt;/span&gt;
                        },
                        {
                            &lt;span class=&quot;code-quote&quot;&gt;&quot;uniqueId&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;book2_c2&quot;&lt;/span&gt;,
                            &lt;span class=&quot;code-quote&quot;&gt;&quot;review_dt&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;2015-04-10T09:00:00Z&quot;&lt;/span&gt;
                        },
                        {
                            &lt;span class=&quot;code-quote&quot;&gt;&quot;uniqueId&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;book2&quot;&lt;/span&gt;
                        },
                        {
                            &lt;span class=&quot;code-quote&quot;&gt;&quot;uniqueId&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;book1_c1&quot;&lt;/span&gt;,
                            &lt;span class=&quot;code-quote&quot;&gt;&quot;review_dt&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;2015-01-03T14:30:00Z&quot;&lt;/span&gt;
                        },
                        {
                            &lt;span class=&quot;code-quote&quot;&gt;&quot;uniqueId&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;book1_c2&quot;&lt;/span&gt;,
                            &lt;span class=&quot;code-quote&quot;&gt;&quot;review_dt&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;2014-03-15T12:00:00Z&quot;&lt;/span&gt;
                        },
                        {
                            &lt;span class=&quot;code-quote&quot;&gt;&quot;uniqueId&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;book1&quot;&lt;/span&gt;
                        },
                        {
                            &lt;span class=&quot;code-quote&quot;&gt;&quot;uniqueId&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;book4&quot;&lt;/span&gt;
                        },
                        {
                            &lt;span class=&quot;code-quote&quot;&gt;&quot;uniqueId&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;book4&quot;&lt;/span&gt;
                        },
                        {
                            &lt;span class=&quot;code-quote&quot;&gt;&quot;uniqueId&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;book4&quot;&lt;/span&gt;
                        },
                        {
                            &lt;span class=&quot;code-quote&quot;&gt;&quot;uniqueId&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;book4_c1&quot;&lt;/span&gt;,
                            &lt;span class=&quot;code-quote&quot;&gt;&quot;review_dt&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;2015-01-03T14:30:00Z&quot;&lt;/span&gt;
                        }
                    ]
                }
            }
        ]
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I also tested with solrColud(Solr version 6.6.2.) The collection had single shard with 3/4 replicas. It is working as expected.&lt;br/&gt;
I have also verified the XML response&lt;/p&gt;</comment>
                            <comment id="16319643" author="mkhludnev" created="Wed, 10 Jan 2018 03:31:28 +0000"  >&lt;p&gt;hm.. I checked tests and it works fine like here.&lt;br/&gt;
I can only find &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9396&quot; title=&quot;[subquery] transformer doesn&amp;#39;t automatically request needed fields, only other fields in fl can be used as input to subquery&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9396&quot;&gt;SOLR-9396&lt;/a&gt; and following &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10571&quot; title=&quot;[subquery] requires field to be specified in both fl and subquery.fl to be responded in subquery results&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10571&quot;&gt;&lt;del&gt;SOLR-10571&lt;/del&gt;&lt;/a&gt;. &lt;br/&gt;
I&apos;m nearly ready to apply the patch, but really want to hear one more opinion. &lt;/p&gt;</comment>
                            <comment id="16329214" author="munendrasn" created="Wed, 17 Jan 2018 19:03:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mkhludnev&quot; class=&quot;user-hover&quot; rel=&quot;mkhludnev&quot;&gt;mkhludnev&lt;/a&gt;&lt;br/&gt;
Any update??&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9396&quot; title=&quot;[subquery] transformer doesn&amp;#39;t automatically request needed fields, only other fields in fl can be used as input to subquery&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9396&quot;&gt;SOLR-9396&lt;/a&gt; is different from &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10571&quot; title=&quot;[subquery] requires field to be specified in both fl and subquery.fl to be responded in subquery results&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10571&quot;&gt;&lt;del&gt;SOLR-10571&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
If I&apos;m not wrong, Former is related to join condition in subquery while searching. Later (&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10571&quot; title=&quot;[subquery] requires field to be specified in both fl and subquery.fl to be responded in subquery results&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10571&quot;&gt;&lt;del&gt;SOLR-10571&lt;/del&gt;&lt;/a&gt;) is related to fl parameter but I couldn&apos;t reproduce the behavior. As that JIRA was created by you, would it be possible to provide more details?  &lt;/p&gt;</comment>
                            <comment id="16329320" author="mkhludnev" created="Wed, 17 Jan 2018 19:49:18 +0000"  >&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/12906459/12906459_SOLR-11834.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;fixed space.&lt;/p&gt;</comment>
                            <comment id="16329331" author="jira-bot" created="Wed, 17 Jan 2018 19:52:32 +0000"  >&lt;p&gt;Commit 42832f8839785eb9abefe8eba65a236360eec5e1 in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mkhludnev&quot; class=&quot;user-hover&quot; rel=&quot;mkhludnev&quot;&gt;mkhludnev&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=42832f8&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=42832f8&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11834&quot; title=&quot;[Ref-Guide] Wrong documentation for subquery transformer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-11834&quot;&gt;&lt;del&gt;SOLR-11834&lt;/del&gt;&lt;/a&gt;: ref-guide: &lt;span class=&quot;error&quot;&gt;&amp;#91;subquery&amp;#93;&lt;/span&gt; doesn&apos;t need top level fl to repeat subq.fl&lt;/p&gt;</comment>
                            <comment id="16329336" author="jira-bot" created="Wed, 17 Jan 2018 19:54:44 +0000"  >&lt;p&gt;Commit edb59ae49b236fd3e368c030ca290ac9b57b2dcb in lucene-solr&apos;s branch refs/heads/branch_7x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mkhludnev&quot; class=&quot;user-hover&quot; rel=&quot;mkhludnev&quot;&gt;mkhludnev&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=edb59ae&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=edb59ae&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11834&quot; title=&quot;[Ref-Guide] Wrong documentation for subquery transformer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-11834&quot;&gt;&lt;del&gt;SOLR-11834&lt;/del&gt;&lt;/a&gt;: ref-guide: &lt;span class=&quot;error&quot;&gt;&amp;#91;subquery&amp;#93;&lt;/span&gt; doesn&apos;t need top level fl to repeat subq.fl&lt;/p&gt;</comment>
                            <comment id="16330504" author="mkhludnev" created="Thu, 18 Jan 2018 13:29:42 +0000"  >&lt;p&gt;Thank you, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=munendrasn&quot; class=&quot;user-hover&quot; rel=&quot;munendrasn&quot;&gt;munendrasn&lt;/a&gt;! (I&apos;m still puzzled, will see if anyone encounter any issues)&lt;/p&gt;</comment>
                            <comment id="16552385" author="munendrasn" created="Mon, 23 Jul 2018 06:24:00 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mkhludnev&quot; class=&quot;user-hover&quot; rel=&quot;mkhludnev&quot;&gt;mkhludnev&lt;/a&gt;&lt;br/&gt;
I encountered a problem using subquery transformer with multi-sharded collections.&lt;br/&gt;
In all others cases (standalone and single sharded), it works as expected.&lt;br/&gt;
With multi-sharded collections, subquery&apos;s fl should always be a subset of main query&apos;s fl&lt;/p&gt;

&lt;p&gt;I wanted to know why it works for standalone/single sharded but doesn&apos;t work for multi-sharded. So, did a little digging into the code&lt;br/&gt;
In case of standalone/single sharded, subquery response would be added as result Context and Response Writer handle writing result context(here, subquery&apos;s fl is available)&lt;br/&gt;
In case of multi-sharded, first pass is similar to standalone/single sharded. In case of a sharded request, all shard responses would be collected then the final response would be formed (as per my understanding, please correct if I&apos;m wrong).&lt;br/&gt;
In the final response, subquery&apos;s response would SolrDocumentList. In case of SolrDocumentList, main&apos;s query fl is used in the responseWriter hence, this issue&lt;/p&gt;</comment>
                            <comment id="16552443" author="mkhludnev" created="Mon, 23 Jul 2018 07:45:13 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=munendrasn&quot; class=&quot;user-hover&quot; rel=&quot;munendrasn&quot;&gt;munendrasn&lt;/a&gt;, I don&apos;t know why it work this way. It just seems to me we need to rollback the documentation change. Right? &lt;/p&gt;</comment>
                            <comment id="16552490" author="munendrasn" created="Mon, 23 Jul 2018 08:40:27 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mkhludnev&quot; class=&quot;user-hover&quot; rel=&quot;mkhludnev&quot;&gt;mkhludnev&lt;/a&gt;&lt;br/&gt;
I think this issue is not restricted to only Subuqery docTransformer.  Any DocTransformer which supports querying would have this issue in case of multi-sharded. I think that is why the childDocTransformer response is handled like &lt;a href=&quot;https://github.com/apache/lucene-solr/blob/master/solr/core/src/java/org/apache/solr/response/JSONWriter.java#L118&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;this&lt;/a&gt;&lt;br/&gt;
Should there be a JIRA to track this??&lt;/p&gt;


&lt;p&gt;For now, It is better to revert Documentation changes. Should the changes mention the issue is related only to multi-sharded??&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;To appear in subquery document list, a field should be specified both fl parameters, in main one fl (despite the main result documents have no this field) and in subquery&apos;s one e.g., `foo.fl`. Of course, you can use wildcard in any or both of these parameters. For example, if field title should appear in categories subquery, it can be done via one of these ways.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This was the previous documentation. Here, it should be made clear that subquery&apos;s fl must be subset of main query&apos;s fl parameter. (if not already)&lt;/p&gt;</comment>
                            <comment id="16575103" author="mkhludnev" created="Thu, 9 Aug 2018 16:33:33 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=munendrasn&quot; class=&quot;user-hover&quot; rel=&quot;munendrasn&quot;&gt;munendrasn&lt;/a&gt;, would you mind to review &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12935001/12935001_SOLR-11834.patch&quot; title=&quot;SOLR-11834.patch attached to SOLR-11834&quot;&gt;SOLR-11834.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;?&lt;/p&gt;</comment>
                            <comment id="16575150" author="munendrasn" created="Thu, 9 Aug 2018 17:13:11 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mkhludnev&quot; class=&quot;user-hover&quot; rel=&quot;mkhludnev&quot;&gt;mkhludnev&lt;/a&gt;&lt;br/&gt;
LGTM&lt;/p&gt;</comment>
                            <comment id="16575182" author="jira-bot" created="Thu, 9 Aug 2018 17:34:29 +0000"  >&lt;p&gt;Commit 63fc1246f7d30c73bff0fdbf344216a34efdc554 in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mkhludnev&quot; class=&quot;user-hover&quot; rel=&quot;mkhludnev&quot;&gt;mkhludnev&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=63fc124&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=63fc124&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11834&quot; title=&quot;[Ref-Guide] Wrong documentation for subquery transformer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-11834&quot;&gt;&lt;del&gt;SOLR-11834&lt;/del&gt;&lt;/a&gt;: rollback &lt;span class=&quot;error&quot;&gt;&amp;#91;subquery&amp;#93;&lt;/span&gt; fields documentation&lt;/p&gt;</comment>
                            <comment id="16575999" author="jira-bot" created="Fri, 10 Aug 2018 09:13:53 +0000"  >&lt;p&gt;Commit 63fc1246f7d30c73bff0fdbf344216a34efdc554 in lucene-solr&apos;s branch refs/heads/jira/http2 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mkhludnev&quot; class=&quot;user-hover&quot; rel=&quot;mkhludnev&quot;&gt;mkhludnev&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=63fc124&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=63fc124&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11834&quot; title=&quot;[Ref-Guide] Wrong documentation for subquery transformer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-11834&quot;&gt;&lt;del&gt;SOLR-11834&lt;/del&gt;&lt;/a&gt;: rollback &lt;span class=&quot;error&quot;&gt;&amp;#91;subquery&amp;#93;&lt;/span&gt; fields documentation&lt;/p&gt;</comment>
                            <comment id="16602354" author="jira-bot" created="Mon, 3 Sep 2018 17:06:02 +0000"  >&lt;p&gt;Commit f1182269f6caca4f6800aa123f8b405c21aabce0 in lucene-solr&apos;s branch refs/heads/branch_7x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mkhludnev&quot; class=&quot;user-hover&quot; rel=&quot;mkhludnev&quot;&gt;mkhludnev&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=f118226&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=f118226&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11834&quot; title=&quot;[Ref-Guide] Wrong documentation for subquery transformer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-11834&quot;&gt;&lt;del&gt;SOLR-11834&lt;/del&gt;&lt;/a&gt;: rollback &lt;span class=&quot;error&quot;&gt;&amp;#91;subquery&amp;#93;&lt;/span&gt; fields documentation&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13067012">SOLR-10571</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12935001" name="SOLR-11834.patch" size="1558" author="mkhl" created="Thu, 9 Aug 2018 16:32:43 +0000"/>
                            <attachment id="12905278" name="SOLR-11834.patch" size="1543" author="munendrasn" created="Tue, 9 Jan 2018 12:30:24 +0000"/>
                            <attachment id="12906459" name="SOLR-11834.png" size="63822" author="mkhl" created="Wed, 17 Jan 2018 19:48:58 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 11 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3ooiv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>