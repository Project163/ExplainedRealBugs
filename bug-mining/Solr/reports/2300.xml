<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:01:47 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-7018] &quot;bin/solr status&quot; error after calling &quot;bin/solr stop&quot; against a cluster started using &quot;bin/solr -e cloud&quot;</title>
                <link>https://issues.apache.org/jira/browse/SOLR-7018</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;Start a cluster using &lt;tt&gt;bin/solr -e cloud -noprompt&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;Run &lt;tt&gt;bin/solr stop&lt;/tt&gt;.  This will only stop one of the two nodes, using the default port 8983.  (This in itself is a problem.)&lt;/p&gt;

&lt;p&gt;Run &lt;tt&gt;bin/solr status&lt;/tt&gt;.  Previously I thought that this process hung because it took a while to return, but just now I tried it again and got this:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ bin/solr status

Found 1 Solr nodes: 

Solr process 88680 running on port 7574
Failed to get system information from http://localhost:7574/solr/ due to: org.apache.solr.client.solrj.SolrServerException: KeeperErrorCode = ConnectionLoss for /overseer/collection-queue-work/qn-
	at org.apache.solr.util.SolrCLI.getJson(SolrCLI.java:513)
	at org.apache.solr.util.SolrCLI.getJson(SolrCLI.java:456)
	at org.apache.solr.util.SolrCLI$StatusTool.getCloudStatus(SolrCLI.java:697)
	at org.apache.solr.util.SolrCLI$StatusTool.reportStatus(SolrCLI.java:680)
	at org.apache.solr.util.SolrCLI$StatusTool.runTool(SolrCLI.java:638)
	at org.apache.solr.util.SolrCLI.main(SolrCLI.java:203)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12769375">SOLR-7018</key>
            <summary>&quot;bin/solr status&quot; error after calling &quot;bin/solr stop&quot; against a cluster started using &quot;bin/solr -e cloud&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="thelabdude">Timothy Potter</assignee>
                                    <reporter username="sarowe">Steven Rowe</reporter>
                        <labels>
                    </labels>
                <created>Thu, 22 Jan 2015 17:34:32 +0000</created>
                <updated>Mon, 9 May 2016 18:52:08 +0000</updated>
                            <resolved>Thu, 22 Jan 2015 19:19:33 +0000</resolved>
                                                    <fixVersion>5.0</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14287823" author="thelabdude" created="Thu, 22 Jan 2015 17:35:46 +0000"  >&lt;p&gt;This should be considered a blocker for 5.0 - it&apos;s a trivial fix btw - since it can cause confusion and issues with bin/solr status ... cooking up a patch now.&lt;/p&gt;</comment>
                            <comment id="14287975" author="thelabdude" created="Thu, 22 Jan 2015 18:53:40 +0000"  >&lt;p&gt;Here&apos;s a patch that addresses this issue using the following logic:&lt;/p&gt;

&lt;p&gt;1) If there is only 1 Solr node running, then &lt;tt&gt;bin/solr stop&lt;/tt&gt; will stop it.&lt;/p&gt;

&lt;p&gt;2) If there is more than 1 node running, then &lt;tt&gt;bin/solr stop&lt;/tt&gt; will generate an error message and the script will exit 1&lt;/p&gt;

&lt;p&gt;While a bit nuanced, I think being able to just do &quot;stop&quot; when running 1 node is a nice thing to have.&lt;/p&gt;</comment>
                            <comment id="14288032" author="jira-bot" created="Thu, 22 Jan 2015 19:17:07 +0000"  >&lt;p&gt;Commit 1654015 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thelabdude&quot; class=&quot;user-hover&quot; rel=&quot;thelabdude&quot;&gt;thelabdude&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1654015&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1654015&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7018&quot; title=&quot;&amp;quot;bin/solr status&amp;quot; error after calling &amp;quot;bin/solr stop&amp;quot; against a cluster started using &amp;quot;bin/solr -e cloud&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7018&quot;&gt;&lt;del&gt;SOLR-7018&lt;/del&gt;&lt;/a&gt;: bin/solr stop should stop if there is only one node running or generate an error message prompting the user to be explicit about which of multiple nodes to stop using the -p or -all options&lt;/p&gt;</comment>
                            <comment id="14288036" author="jira-bot" created="Thu, 22 Jan 2015 19:17:38 +0000"  >&lt;p&gt;Commit 1654016 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thelabdude&quot; class=&quot;user-hover&quot; rel=&quot;thelabdude&quot;&gt;thelabdude&lt;/a&gt; in branch &apos;dev/branches/branch_5x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1654016&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1654016&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7018&quot; title=&quot;&amp;quot;bin/solr status&amp;quot; error after calling &amp;quot;bin/solr stop&amp;quot; against a cluster started using &amp;quot;bin/solr -e cloud&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7018&quot;&gt;&lt;del&gt;SOLR-7018&lt;/del&gt;&lt;/a&gt;: bin/solr stop should stop if there is only one node running or generate an error message prompting the user to be explicit about which of multiple nodes to stop using the -p or -all options&lt;/p&gt;</comment>
                            <comment id="14288038" author="jira-bot" created="Thu, 22 Jan 2015 19:19:23 +0000"  >&lt;p&gt;Commit 1654019 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thelabdude&quot; class=&quot;user-hover&quot; rel=&quot;thelabdude&quot;&gt;thelabdude&lt;/a&gt; in branch &apos;dev/branches/lucene_solr_5_0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1654019&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1654019&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7018&quot; title=&quot;&amp;quot;bin/solr status&amp;quot; error after calling &amp;quot;bin/solr stop&amp;quot; against a cluster started using &amp;quot;bin/solr -e cloud&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7018&quot;&gt;&lt;del&gt;SOLR-7018&lt;/del&gt;&lt;/a&gt;: bin/solr stop should stop if there is only one node running or generate an error message prompting the user to be explicit about which of multiple nodes to stop using the -p or -all options&lt;/p&gt;</comment>
                            <comment id="14332746" author="anshumg" created="Mon, 23 Feb 2015 05:01:41 +0000"  >&lt;p&gt;Bulk close after 5.0 release.&lt;/p&gt;</comment>
                            <comment id="14490519" author="obates" created="Fri, 10 Apr 2015 23:11:36 +0000"  >&lt;p&gt;I think for people new to solr it may helpful to note why that behavior occurs (i.e. stopping one node breaks the cluster). And the reason is that `bin/solr -e cloud` uses an embedded zookeeper. Killing one node takes down zookeeper and hence the solr cluster stop responding...right?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12693955" name="SOLR-7018.patch" size="1548" author="thelabdude" created="Thu, 22 Jan 2015 18:53:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 32 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i24ohz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>