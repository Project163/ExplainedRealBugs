<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:30:27 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-3783] Facet pivots produces NPE when facet.missing is turned on</title>
                <link>https://issues.apache.org/jira/browse/SOLR-3783</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;We get an http 500 as follow :&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;lst name=&lt;span class=&quot;code-quote&quot;&gt;&quot;error&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;trace&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;java.lang.NullPointerException&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/str&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;int name=&lt;span class=&quot;code-quote&quot;&gt;&quot;code&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;500&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/int&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/lst&amp;gt;&lt;/span&gt;

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;When facet.missing is turned on and combined with facet.pivot (if one of the pivot-faceted fields have missing counts &lt;sup&gt;-&lt;/sup&gt;)&lt;/p&gt;

&lt;p&gt;Ideally, the decission tree could be computing for the missing &quot;entries&quot; using the &lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt; -field:[* TO *] &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt; query but it might be a performance issue on a large index (I guess)&lt;/p&gt;

&lt;p&gt;The fallback to this could be to raise a 400 error with a clean message telling that both parameters can&apos;t be combined and then the documentation should be modified accordingly.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12606046">SOLR-3783</key>
            <summary>Facet pivots produces NPE when facet.missing is turned on</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hossman">Chris M. Hostetter</assignee>
                                    <reporter username="tanguy">Tanguy Moal</reporter>
                        <labels>
                    </labels>
                <created>Tue, 4 Sep 2012 09:26:23 +0000</created>
                <updated>Mon, 9 May 2016 18:54:10 +0000</updated>
                            <resolved>Thu, 20 Sep 2012 00:22:07 +0000</resolved>
                                                    <fixVersion>4.0</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                    <component>SearchComponents - other</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13459240" author="hossman" created="Thu, 20 Sep 2012 00:15:22 +0000"  >&lt;p&gt;Thanks for reporting this Tanguy,&lt;/p&gt;

&lt;p&gt;The NPE is definitely bad, a pretty clear oversight in the pivot facet code - fixing it doesn&apos;t seem to be that hard.&lt;/p&gt;

&lt;p&gt;patch includes test updated tests (which also fixes what appeared to be a mistake in the test &amp;#8211; comment suggested it was checking data about the second pivot but it was still checking hte first)&lt;/p&gt;</comment>
                            <comment id="13459245" author="hossman" created="Thu, 20 Sep 2012 00:22:07 +0000"  >&lt;p&gt;Committed revision 1387824.&lt;br/&gt;
Committed revision 1387825. - 4x&lt;/p&gt;</comment>
                            <comment id="13459435" author="tanguy" created="Thu, 20 Sep 2012 08:11:50 +0000"  >&lt;p&gt;Thank you very much!&lt;/p&gt;

&lt;p&gt;I just patched my copy of Solr 4.0 Beta with it and redeployed my snapshot. Works like a charm.&lt;/p&gt;</comment>
                            <comment id="13610796" author="commit-tag-bot" created="Fri, 22 Mar 2013 16:35:56 +0000"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;branch_4x commit&amp;#93;&lt;/span&gt; Chris M. Hostetter&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1387825&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1387825&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-3783&quot; title=&quot;Facet pivots produces NPE when facet.missing is turned on&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-3783&quot;&gt;&lt;del&gt;SOLR-3783&lt;/del&gt;&lt;/a&gt;: Fixed Pivot Faceting to work with facet.missing=true (merge r1387824)&lt;/p&gt;</comment>
                            <comment id="13654001" author="thetaphi" created="Fri, 10 May 2013 10:33:42 +0000"  >&lt;p&gt;Closed after release.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12545830" name="SOLR-3783.patch" size="9502" author="hossman" created="Thu, 20 Sep 2012 00:15:22 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>243207</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 28 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i03cnr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>17484</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>