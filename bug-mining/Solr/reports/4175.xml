<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:37:43 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-13331] Atomic Update Multivalue remove does not work</title>
                <link>https://issues.apache.org/jira/browse/SOLR-13331</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;When using JavaBinCodec the values of collections are of type ByteArrayUtf8CharSequence, existing field values are Strings so the remove Operation does not have any effect.&lt;/p&gt;

&lt;p&gt;The relevant code is located in class AtomicUpdateDocumentMerger method doRemove.&lt;/p&gt;

&lt;p&gt;The method parameter fieldVal contains the collection values of type ByteArrayUtf8CharSequence, the variable original contains the collection of Strings&lt;/p&gt;</description>
                <environment>&lt;p&gt;Standalone Solr Server&lt;/p&gt;</environment>
        <key id="13222434">SOLR-13331</key>
            <summary>Atomic Update Multivalue remove does not work</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gerlowskija">Jason Gerlowski</assignee>
                                    <reporter username="thomas.woeckinger">Thomas W&#246;ckinger</reporter>
                        <labels>
                            <label>patch</label>
                            <label>pull-request-available</label>
                            <label>ready-to-commit</label>
                            <label>test</label>
                    </labels>
                <created>Mon, 18 Mar 2019 23:21:22 +0000</created>
                <updated>Wed, 12 Jun 2019 15:00:50 +0000</updated>
                            <resolved>Tue, 11 Jun 2019 22:24:02 +0000</resolved>
                                    <version>7.7</version>
                    <version>7.7.1</version>
                    <version>8.0</version>
                                    <fixVersion>7.7.2</fixVersion>
                    <fixVersion>8.1</fixVersion>
                    <fixVersion>9.0</fixVersion>
                                    <component>UpdateRequestProcessors</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>11</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="16795474" author="thomas.woeckinger" created="Mon, 18 Mar 2019 23:25:18 +0000"  >&lt;p&gt;The interesting lines of code are from 399 to 403 in class AtomicUpdateDocumentMerger.&lt;/p&gt;

&lt;p&gt;I think the toNativeType has to tread the conversation from ByteArrayUtf8CharSequence to String&lt;/p&gt;</comment>
                            <comment id="16795857" author="thomas.woeckinger" created="Tue, 19 Mar 2019 09:19:28 +0000"  >&lt;p&gt;The used field was a TextField. I think unit tests should be added for know conversions.&lt;/p&gt;</comment>
                            <comment id="16796085" author="thomas.woeckinger" created="Tue, 19 Mar 2019 13:39:36 +0000"  >&lt;p&gt;I can provide a patch for TextField, but i have to do more testing for all the other types. So i am not sure that toNativeType is the right place to fix this issue.&lt;/p&gt;</comment>
                            <comment id="16800763" author="thomas.woeckinger" created="Mon, 25 Mar 2019 14:51:13 +0000"  >&lt;p&gt;Additional tests result in problems with following FieldType (Listing format: FieldType / Expected Type / Given Type):&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;BinaryField / ByteBuffer / byte[]&lt;/li&gt;
	&lt;li&gt;CollationField / String / ByteArrayUtf8CharSequence&lt;/li&gt;
	&lt;li&gt;DateRangeField / String / ByteArrayUtf8CharSequence&lt;/li&gt;
	&lt;li&gt;EnumField / EnumFieldValue / ByteArrayUtf8CharSequence&lt;/li&gt;
	&lt;li&gt;EnumFieldType / EnumFieldValue / ByteArrayUtf8CharSequence&lt;/li&gt;
	&lt;li&gt;ExternalFileField / String / ByteArrayUtf8CharSequence&lt;/li&gt;
	&lt;li&gt;ICUCollationField / String / ByteArrayUtf8CharSequence&lt;/li&gt;
	&lt;li&gt;LatLonPointSpatialField / String / ByteArrayUtf8CharSequence&lt;/li&gt;
	&lt;li&gt;LatLonType / String / ByteArrayUtf8CharSequence&lt;/li&gt;
	&lt;li&gt;PointType / String / ByteArrayUtf8CharSequence&lt;/li&gt;
	&lt;li&gt;RandomSortField / String / ByteArrayUtf8CharSequence&lt;/li&gt;
	&lt;li&gt;SpatialRecursivePrefixTreeFieldType / String / ByteArrayUtf8CharSequence&lt;/li&gt;
	&lt;li&gt;StrField / String / ByteArrayUtf8CharSequence&lt;/li&gt;
	&lt;li&gt;TextField / String / ByteArrayUtf8CharSequence&lt;/li&gt;
	&lt;li&gt;UUIDField org.apache.solr.common.SolrException: TransactionLog doesn&apos;t know how to serialize class java.util.UUID; try implementing ObjectResolver?&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;It seams there is another bug with UUIDField, i will create a different one.&lt;/p&gt;

&lt;p&gt;From my point of view it seems that changing the toNativeType int the class org.apache.solr.schema.FieldType&lt;/p&gt;

&lt;p&gt;public Object toNativeType(Object val) {&lt;/p&gt;

&lt;p&gt;&#160;&#160;&#160; if (val instanceof CharSequence) &lt;/p&gt;
{
&#160;&#160;&#160;&#160;&#160; return ((CharSequence) val).toString();
&#160;&#160;&#160; }
&lt;p&gt;&#160;&#160;&#160; return val;&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16801319" author="lucenesolrqa" created="Tue, 26 Mar 2019 02:26:16 +0000"  >&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/error.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;b&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;&lt;/b&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Vote &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Subsystem &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Runtime &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Comment &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; &lt;font color=&quot;brown&quot;&gt; Prechecks &lt;/font&gt; &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;red&quot;&gt;-1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;red&quot;&gt; test4tests &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;red&quot;&gt;  0m  0s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;red&quot;&gt; The patch doesn&apos;t appear to include any new or modified tests. Please justify why no new tests are needed for this patch. Also please list what manual steps were performed to verify this patch. &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; &lt;font color=&quot;brown&quot;&gt; master Compile Tests &lt;/font&gt; &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; compile &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  3m 51s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; master passed &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; &lt;font color=&quot;brown&quot;&gt; Patch Compile Tests &lt;/font&gt; &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; compile &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  2m 13s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; the patch passed &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; javac &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  2m 13s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; the patch passed &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; Release audit (RAT) &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  2m 13s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; the patch passed &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; Check forbidden APIs &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  2m 13s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; the patch passed &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; Validate source patterns &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  2m 13s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; the patch passed &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; &lt;font color=&quot;brown&quot;&gt; Other Tests &lt;/font&gt; &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; unit &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; 89m 54s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; core in the patch passed. &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;black&quot;&gt;&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;black&quot;&gt; &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;black&quot;&gt;100m 27s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;black&quot;&gt; &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Subsystem &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Report/Notes &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; JIRA Issue &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13331&quot; title=&quot;Atomic Update Multivalue remove does not work&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13331&quot;&gt;&lt;del&gt;SOLR-13331&lt;/del&gt;&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; JIRA Patch URL &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12963634/Fix-SOLR13331-Add-toNativeType-implementations.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12963634/Fix-SOLR13331-Add-toNativeType-implementations.patch&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Optional Tests &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  compile  javac  unit  ratsources  checkforbiddenapis  validatesourcepatterns  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; uname &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Linux lucene2-us-west.apache.org 4.4.0-112-generic #135-Ubuntu SMP Fri Jan 19 11:48:36 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Build tool &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; ant &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Personality &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; /home/jenkins/jenkins-slave/workspace/PreCommit-SOLR-Build/sourcedir/dev-tools/test-patch/lucene-solr-yetus-personality.sh &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; git revision &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; master / 361d1e8 &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; ant &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; version: Apache Ant(TM) version 1.9.6 compiled on July 20 2018 &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Default Java &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 1.8.0_191 &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  Test Results &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://builds.apache.org/job/PreCommit-SOLR-Build/356/testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-SOLR-Build/356/testReport/&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; modules &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; C: solr/core U: solr/core &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Console output &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://builds.apache.org/job/PreCommit-SOLR-Build/356/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-SOLR-Build/356/console&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Powered by &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Apache Yetus 0.7.0   &lt;a href=&quot;http://yetus.apache.org&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://yetus.apache.org&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;



&lt;p&gt;This message was automatically generated.&lt;/p&gt;
</comment>
                            <comment id="16808006" author="gerlowskija" created="Tue, 2 Apr 2019 18:31:17 +0000"  >&lt;p&gt;Hi Thomas. Thanks for putting in some real legwork on this.  Particularly for testing with all the different field types.&lt;/p&gt;

&lt;p&gt;Adding the &lt;tt&gt;ByteArrayUtf8CharSequence&lt;/tt&gt;-&amp;gt;&lt;tt&gt;String&lt;/tt&gt; conversion to the base &lt;tt&gt;FieldType&lt;/tt&gt; class as you suggest will fix a lot of these errors.  I&apos;m a little leery that it might have side effects we don&apos;t want, but I&apos;m still investigating and hopefully I can rule that out.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=noble.paul&quot; class=&quot;user-hover&quot; rel=&quot;noble.paul&quot;&gt;noble.paul&lt;/a&gt; Any thoughts on using &lt;tt&gt;FieldType.toNativeType&lt;/tt&gt; to correct this issue?  You&apos;ve got more context on how some of the other ByteArrayUtf8CharSequence issues were handled, figured I&apos;d see if this fix looked OK to you...&lt;/p&gt;

&lt;p&gt;If nothing else turns up, I&apos;ll put together a test for this and merge in a day or two.&lt;/p&gt;</comment>
                            <comment id="16808100" author="noble.paul" created="Tue, 2 Apr 2019 19:48:13 +0000"  >&lt;blockquote&gt;&lt;p&gt;Any thoughts on using&#160;&lt;tt&gt;FieldType.toNativeType&lt;/tt&gt;&#160;to correct this issue?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;This should be good.&#160;The objective is to keep the ByteArrayCharSequence around for all operations where it can be directly used. Atomic operations are can afford to pay the price for the conversions.&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16808622" author="gerlowskija" created="Wed, 3 Apr 2019 11:30:27 +0000"  >&lt;p&gt;Thanks for the double-check Noble.  As an aside, I didn&apos;t really understand the implications of the ByteArrayUtf8CharSequence stuff until working through this JIRA...it&apos;s a little concerning.  NamedList sucks as an interface, but it provided us with a really important guarantee- it ensured that requests get represented in a uniform way regardless of the initial format they came in as (xml, javabin, etc.)&lt;/p&gt;

&lt;p&gt;Prior to the BAUCS stuff, if the same request was made via JSON, XML, and javabin the resulting NamedList would have been the same.  Internal Solr code only had to worry about handling one semi-canonical form of the data.  This seems like a pretty fundamental abstraction that BAUCS breaks.  I get that it saves us some object creation and brings some other efficiencies, but I question whether it&apos;s worth it at the current cost.&lt;/p&gt;

&lt;p&gt;This isn&apos;t anything new, I just didn&apos;t have my head around it until now.  And anyway, it&apos;s a digression from the discussion here...&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;Added some tests to Thomas&apos; existing patch, but otherwise it was ready to go.  Have tests running now and will commit as soon as they pass.&lt;/p&gt;</comment>
                            <comment id="16809155" author="lucenesolrqa" created="Wed, 3 Apr 2019 19:52:02 +0000"  >&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/error.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;b&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;&lt;/b&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Vote &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Subsystem &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Runtime &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Comment &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; &lt;font color=&quot;brown&quot;&gt; Prechecks &lt;/font&gt; &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; test4tests &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  0m  0s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; The patch appears to include 1 new or modified test files. &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; &lt;font color=&quot;brown&quot;&gt; master Compile Tests &lt;/font&gt; &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; compile &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  1m 39s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; master passed &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; &lt;font color=&quot;brown&quot;&gt; Patch Compile Tests &lt;/font&gt; &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; compile &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  1m 27s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; the patch passed &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; javac &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  1m 27s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; the patch passed &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; Release audit (RAT) &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  1m 27s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; the patch passed &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; Check forbidden APIs &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  1m 27s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; the patch passed &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; Validate source patterns &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  1m 27s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; the patch passed &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; &lt;font color=&quot;brown&quot;&gt; Other Tests &lt;/font&gt; &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;red&quot;&gt;-1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;red&quot;&gt; unit &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;red&quot;&gt; 43m 33s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;red&quot;&gt; core in the patch failed. &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;black&quot;&gt;&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;black&quot;&gt; &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;black&quot;&gt; 49m 19s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;black&quot;&gt; &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Reason &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Tests &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Failed junit tests &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; solr.update.processor.AtomicUpdateRemovalJavabinTest &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Subsystem &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Report/Notes &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; JIRA Issue &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13331&quot; title=&quot;Atomic Update Multivalue remove does not work&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13331&quot;&gt;&lt;del&gt;SOLR-13331&lt;/del&gt;&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; JIRA Patch URL &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12964692/SOLR-13331.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12964692/SOLR-13331.patch&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Optional Tests &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  compile  javac  unit  ratsources  checkforbiddenapis  validatesourcepatterns  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; uname &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Linux lucene1-us-west 4.4.0-137-generic #163~14.04.1-Ubuntu SMP Mon Sep 24 17:14:57 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Build tool &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; ant &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Personality &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; /home/jenkins/jenkins-slave/workspace/PreCommit-SOLR-Build/sourcedir/dev-tools/test-patch/lucene-solr-yetus-personality.sh &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; git revision &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; master / 6596ed1 &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; ant &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; version: Apache Ant(TM) version 1.9.3 compiled on July 24 2018 &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Default Java &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 1.8.0_191 &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; unit &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://builds.apache.org/job/PreCommit-SOLR-Build/365/artifact/out/patch-unit-solr_core.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-SOLR-Build/365/artifact/out/patch-unit-solr_core.txt&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  Test Results &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://builds.apache.org/job/PreCommit-SOLR-Build/365/testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-SOLR-Build/365/testReport/&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; modules &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; C: solr solr/core U: solr &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Console output &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://builds.apache.org/job/PreCommit-SOLR-Build/365/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-SOLR-Build/365/console&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Powered by &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Apache Yetus 0.7.0   &lt;a href=&quot;http://yetus.apache.org&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://yetus.apache.org&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;



&lt;p&gt;This message was automatically generated.&lt;/p&gt;
</comment>
                            <comment id="16809716" author="jira-bot" created="Thu, 4 Apr 2019 10:52:08 +0000"  >&lt;p&gt;Commit 9b44fba0d49a25b815698bb163708146fffd7f91 in lucene-solr&apos;s branch refs/heads/master from Jason Gerlowski&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=9b44fba&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=9b44fba&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13331&quot; title=&quot;Atomic Update Multivalue remove does not work&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13331&quot;&gt;&lt;del&gt;SOLR-13331&lt;/del&gt;&lt;/a&gt;: Fix AtomicUpdate &apos;remove&apos; ops in SolrJ&lt;/p&gt;

&lt;p&gt;The racent change introducing ByteArrayUtf8CharSequence altered the&lt;br/&gt;
NamedLists produced by atomic-update requests so that they include&lt;br/&gt;
instances of this class for requests coming in as javabin.  This is a&lt;br/&gt;
problem for &apos;remove&apos; atomic-updates, which need to be able to compare&lt;br/&gt;
these ByteArrayUtf8CharSequence instances with existing field values&lt;br/&gt;
represented as Strings.  equals() would always return false, and&lt;br/&gt;
&apos;remove&apos; operations would have no effect.&lt;/p&gt;

&lt;p&gt;This commit converts items as necessary to allow atomic-update&lt;br/&gt;
operations to work as expected.&lt;/p&gt;</comment>
                            <comment id="16809718" author="jira-bot" created="Thu, 4 Apr 2019 10:53:18 +0000"  >&lt;p&gt;Commit 4b86a396805ea690c9d31770ecaf783b38106000 in lucene-solr&apos;s branch refs/heads/branch_8x from Jason Gerlowski&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=4b86a39&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=4b86a39&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13331&quot; title=&quot;Atomic Update Multivalue remove does not work&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13331&quot;&gt;&lt;del&gt;SOLR-13331&lt;/del&gt;&lt;/a&gt;: Fix AtomicUpdate &apos;remove&apos; ops in SolrJ&lt;/p&gt;

&lt;p&gt;The racent change introducing ByteArrayUtf8CharSequence altered the&lt;br/&gt;
NamedLists produced by atomic-update requests so that they include&lt;br/&gt;
instances of this class for requests coming in as javabin.  This is a&lt;br/&gt;
problem for &apos;remove&apos; atomic-updates, which need to be able to compare&lt;br/&gt;
these ByteArrayUtf8CharSequence instances with existing field values&lt;br/&gt;
represented as Strings.  equals() would always return false, and&lt;br/&gt;
&apos;remove&apos; operations would have no effect.&lt;/p&gt;

&lt;p&gt;This commit converts items as necessary to allow atomic-update&lt;br/&gt;
operations to work as expected.&lt;/p&gt;</comment>
                            <comment id="16809721" author="gerlowskija" created="Thu, 4 Apr 2019 10:55:58 +0000"  >&lt;p&gt;Fixed a test bug in the previous patch and committed it earlier this morning.  Closing out this JIRA.&lt;/p&gt;

&lt;p&gt;Thanks again Thomas for the detailed report and all the work put into the fix!&lt;/p&gt;</comment>
                            <comment id="16816802" author="jira-bot" created="Sat, 13 Apr 2019 02:32:24 +0000"  >&lt;p&gt;Commit cfddbe1126523f84b9d7f7f98c55af9e8fd0f405 in lucene-solr&apos;s branch refs/heads/branch_7_7 from Jason Gerlowski&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=cfddbe1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=cfddbe1&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13331&quot; title=&quot;Atomic Update Multivalue remove does not work&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13331&quot;&gt;&lt;del&gt;SOLR-13331&lt;/del&gt;&lt;/a&gt;: Fix AtomicUpdate &apos;remove&apos; ops in SolrJ&lt;/p&gt;

&lt;p&gt;The racent change introducing ByteArrayUtf8CharSequence altered the&lt;br/&gt;
NamedLists produced by atomic-update requests so that they include&lt;br/&gt;
instances of this class for requests coming in as javabin.  This is a&lt;br/&gt;
problem for &apos;remove&apos; atomic-updates, which need to be able to compare&lt;br/&gt;
these ByteArrayUtf8CharSequence instances with existing field values&lt;br/&gt;
represented as Strings.  equals() would always return false, and&lt;br/&gt;
&apos;remove&apos; operations would have no effect.&lt;/p&gt;

&lt;p&gt;This commit converts items as necessary to allow atomic-update&lt;br/&gt;
operations to work as expected.&lt;/p&gt;</comment>
                            <comment id="16831505" author="thomas.woeckinger" created="Thu, 2 May 2019 09:30:52 +0000"  >&lt;p&gt;I didn&apos;t had time for the issue the last few week, i will start adding test cases, should i start a new issue for this?&lt;/p&gt;

&lt;p&gt;I think it is also a good idea to backport this to 7.x, should i provide a patch for this to?&lt;/p&gt;</comment>
                            <comment id="16831535" author="gerlowskija" created="Thu, 2 May 2019 10:30:32 +0000"  >&lt;p&gt;Hi Thomas, no need.  I committed a fix for this, and it&apos;ll be available in 7.7.2, and starting in 8.1.&lt;/p&gt;</comment>
                            <comment id="16833554" author="thomas.woeckinger" created="Mon, 6 May 2019 07:10:38 +0000"  >&lt;p&gt;I nearly finished refactoring and unit tests, is it possible to do a pull request over github?&lt;/p&gt;</comment>
                            <comment id="16833692" author="gerlowskija" created="Mon, 6 May 2019 10:50:11 +0000"  >&lt;p&gt;Yes, if that&apos;s how you prefer to package things up.  Committers who have configured their accounts correctly should be able to merge PRs directly from the Github UI.  I had some trouble doing this the last time I tried, but this will be a good opportunity to force me to fix that.  Please tag me in the comments of your PR if you put one together, so I don&apos;t miss it. (username: gerlowskija)&lt;/p&gt;</comment>
                            <comment id="16834807" author="thomas.woeckinger" created="Tue, 7 May 2019 14:24:31 +0000"  >&lt;p&gt;I am finished with testing, found two other issues and fixed them too, will create an PR now.&lt;/p&gt;

&lt;p&gt;Is it easier to create an PR against master or is branch 8.x sufficient?&lt;/p&gt;

&lt;p&gt;I think it is easy to refactor the&#160; EmbeddedSolrServer to use different codecs than JavaBinCodec, to allow testing of other codecs too.&lt;/p&gt;</comment>
                            <comment id="16834821" author="gerlowskija" created="Tue, 7 May 2019 14:40:53 +0000"  >&lt;p&gt;Base things off of master, if you can.  Generally changes get merged to &lt;tt&gt;master&lt;/tt&gt; first, and then are backported to particular release branches as needed once.  So it&apos;s almost always master-first.&lt;/p&gt;</comment>
                            <comment id="16834889" author="thomas.woeckinger" created="Tue, 7 May 2019 15:36:48 +0000"  >&lt;p&gt;PR for master created &lt;a href=&quot;https://github.com/apache/lucene-solr/pull/665&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/lucene-solr/pull/665&lt;/a&gt;, i can do the same for 8.x and 7.x after you reviewed the PR of the master&lt;/p&gt;</comment>
                            <comment id="16837037" author="thomas.woeckinger" created="Fri, 10 May 2019 08:46:25 +0000"  >&lt;p&gt;Pushed again, binary values are now supported when using XML codec&lt;/p&gt;</comment>
                            <comment id="16838691" author="thomas.woeckinger" created="Mon, 13 May 2019 16:37:43 +0000"  >&lt;p&gt;Fixes missing for BinaryField, BoolField, UUIDField and a corner case for EnumField&lt;/p&gt;</comment>
                            <comment id="16840424" author="dsmiley" created="Wed, 15 May 2019 13:53:48 +0000"  >&lt;p&gt;Jason said:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;This seems like a pretty fundamental abstraction that BAUCS breaks. I get that it saves us some object creation and brings some other efficiencies, but I question whether it&apos;s worth it at the current cost.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;+1 I couldn&apos;t of said it better myself.  Very concerning.  Also underscores the need for code reviews by implication; &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-12992&quot; title=&quot;Avoid creating Strings from BytesRef in ExportWriter &quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-12992&quot;&gt;&lt;del&gt;SOLR-12992&lt;/del&gt;&lt;/a&gt; had no review but it touches important stuff.  CC &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=noble.paul&quot; class=&quot;user-hover&quot; rel=&quot;noble.paul&quot;&gt;noble.paul&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16840777" author="noble.paul" created="Wed, 15 May 2019 21:21:15 +0000"  >&lt;blockquote&gt;&lt;p&gt;I couldn&apos;t of said it better myself. Very concerning. &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;After the bugs surfaced I realized one thing , almost none of our tests use javabin which is the most commonly used format . if we had any of these tests using javabin, it could&apos;ve been caught and rectified. Interestingly most of them still use XML which nobody uses&lt;/p&gt;

&lt;p&gt;We need to ensure that tests run with json+ javabin too. &lt;/p&gt;

&lt;p&gt;I&apos;ve just created &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13473&quot; title=&quot;Ensure that the tests use JSON,javabin to update docs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13473&quot;&gt;SOLR-13473&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16845806" author="gerlowskija" created="Wed, 22 May 2019 11:54:23 +0000"  >&lt;blockquote&gt;&lt;p&gt;We need to ensure that tests run with json+ javabin too. &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I&apos;m totally behind any effort to better randomize the wire format used by our tests.   David&apos;s &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11872&quot; title=&quot;Refactor test infra to work with a managed SolrClient; ditch TestHarness&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-11872&quot;&gt;SOLR-11872&lt;/a&gt; would be a huge step forward in that regard.  I&apos;m for that effort independent of this issue here.&lt;/p&gt;

&lt;p&gt;That said, I don&apos;t think better testing really fixes the issue here if the underlying abstraction remains broken.  We&apos;re addressing the &quot;symptoms&quot;  (serialization issues with individual APIs/features), but ignoring the &quot;disease&quot; (the broken BAUCS abstraction).  Without fixing that, we&apos;re going to see these issues crop up for years as new features get added.&lt;/p&gt;</comment>
                            <comment id="16845818" author="gerlowskija" created="Wed, 22 May 2019 12:06:30 +0000"  >&lt;p&gt;Also, I haven&apos;t forgotten about your PR Thomas.  I&apos;m hoping to review it soon.&lt;/p&gt;

&lt;p&gt;That said, &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11872&quot; title=&quot;Refactor test infra to work with a managed SolrClient; ditch TestHarness&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-11872&quot;&gt;SOLR-11872&lt;/a&gt; has gained some recent attention, and that might be a better path forward for expanding our JavaBinCodec test coverage in the long term.  That JIRA is a much larger effort, but would ultimately bring codec randomization to a large group of tests, since many already use the base class involved there.  Hard to tell whether that removes the need for your proposed EmbeddedSolrTestBase or not until I find time to take a look.  But apologies again for the delay and I&apos;m hoping to get to it soon. &lt;/p&gt;</comment>
                            <comment id="16846375" author="noble.paul" created="Thu, 23 May 2019 02:28:59 +0000"  >&lt;blockquote&gt;&lt;p&gt;but ignoring the &quot;disease&quot; (the broken BAUCS abstraction).&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;It&apos;s not an abstraction. it is an optimization.&#160;We will not be a make changes confidently unless we have proper test coverage.&#160;&lt;/p&gt;</comment>
                            <comment id="16846379" author="noble.paul" created="Thu, 23 May 2019 02:34:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thomas.woeckinger&quot; class=&quot;user-hover&quot; rel=&quot;thomas.woeckinger&quot;&gt;thomas.woeckinger&lt;/a&gt; I&apos;m assuming the changes need to be reviewed are in the PR? one small thing . You have added a lot of code changes which makes it harder to review (like adding &lt;tt&gt;final&lt;/tt&gt; to variables and reformatting) . If we need to make such changes we should open another PR so that reviewing is easy&lt;/p&gt;</comment>
                            <comment id="16846819" author="gerlowskija" created="Thu, 23 May 2019 15:59:25 +0000"  >&lt;blockquote&gt;&lt;p&gt;It&apos;s not an abstraction. it is an optimization. We will not be a make changes confidently unless we have proper test coverage. &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Of course Noble.  I&apos;m not trying to argue against improving the tests.  I&apos;m trying to make the point that even with better tests, this BAUCS decision will be biting us for awhile, and we should consider other changes too.&lt;/p&gt;

&lt;p&gt;Before the BAUCS change, devs didn&apos;t have to think about the wire-format at all while parsing requests.  Now the wire format matters.  So the BAUCS change has taken something that was relatively simple for devs and that happens a bazillion times in our codebase and it made it harder (or at least trappier).  You, David, Thomas, and I all know about this problem now and we&apos;ll probably remember it the next time we write NamedList parsing code.  But the 200 or so other Solr contributors won&apos;t.  And the thousands of SolrJ users exposed to this definitely won&apos;t.  Mistakes are going to be made.&lt;/p&gt;

&lt;p&gt;Improved test coverage will catch some of these issues.  And that&apos;s great.  But if we wake up tomorrow with a test base that randomizes the wire-format, and everything changed over to use it...our test coverage is still full of gaps.  Issues are still going to get through.  Absolutely we should attend to our tests.  But it&apos;d be foolish to not also reconsider the reason NamedList parsing code is now more difficult in the first place.&lt;/p&gt;</comment>
                            <comment id="16846932" author="noble.paul" created="Thu, 23 May 2019 18:05:46 +0000"  >&lt;blockquote&gt;&lt;p&gt;&#160;But the 200 or so other Solr contributors won&apos;t.&#160;&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I think you are confused where it is used. NamedLists are not deserialized as BAUCS by default. You get Strings only by default. You have to explicitly ask for it (JavabinCodec#setReadStringAsCharSeq(boolean flag)). Today there are only 2 places it is used.&#160;&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;JavabinLoader . This is where we are seeing bugs today. I hope they will go away , if we make all the tests send docs in all formats&lt;/li&gt;
	&lt;li&gt;HttpShardHandler . It uses javabin 100% of the time. So the format issue does not arise.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="16860972" author="janhoy" created="Tue, 11 Jun 2019 12:09:47 +0000"  >&lt;p&gt;Since this is now released in 7.7.2, can we please close this Jira and open a new one for further improvements?&lt;/p&gt;</comment>
                            <comment id="16861015" author="thomas.woeckinger" created="Tue, 11 Jun 2019 12:59:55 +0000"  >&lt;p&gt;The issue was closed to early, not all types where fixed by the first patch, PR &lt;a href=&quot;https://github.com/apache/lucene-solr/pull/665&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/lucene-solr/pull/665&lt;/a&gt; fixes them for all known types but depends on &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13347&quot; title=&quot;Error writing Transaction log for UUIDField&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13347&quot;&gt;&lt;del&gt;SOLR-13347&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16861058" author="janhoy" created="Tue, 11 Jun 2019 13:50:42 +0000"  >&lt;p&gt;Yes, but since the partial solution is released in a product we need a way to distinguish between that and the full solution that will land in 8.x.&lt;/p&gt;

&lt;p&gt;So I propose to close this and continue work in another Jira issue, which may then potentially be back ported to 7.7.3. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gerlowskija&quot; class=&quot;user-hover&quot; rel=&quot;gerlowskija&quot;&gt;gerlowskija&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="16861311" author="dawinter" created="Tue, 11 Jun 2019 18:22:29 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=janhoy&quot; class=&quot;user-hover&quot; rel=&quot;janhoy&quot;&gt;janhoy&lt;/a&gt; you mentioned in&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13285&quot; title=&quot;ByteArrayUtf8CharSequence cannot be cast to java.lang.String exception during replication&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13285&quot;&gt;&lt;del&gt;SOLR-13285&lt;/del&gt;&lt;/a&gt; that this item here &#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13331&quot; title=&quot;Atomic Update Multivalue remove does not work&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13331&quot;&gt;&lt;del&gt;SOLR-13331&lt;/del&gt;&lt;/a&gt;&#160;will address the issue I added to &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13285&quot; title=&quot;ByteArrayUtf8CharSequence cannot be cast to java.lang.String exception during replication&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13285&quot;&gt;&lt;del&gt;SOLR-13285&lt;/del&gt;&lt;/a&gt;. I added some more debug information there.&#160;&lt;/p&gt;

&lt;p&gt;If there are known issues for a just released version, I would really appreciate if the release manager could add a warning to the release and may pull up the release date for the next update to get a fix for just a show stopper issue. If may help people in update consideration.&lt;/p&gt;</comment>
                            <comment id="16861560" author="janhoy" created="Tue, 11 Jun 2019 22:24:02 +0000"  >&lt;p&gt;Closing again, since this the commits on this JIRA is already released in both 7.7.2 and 8.1.0.&lt;/p&gt;</comment>
                            <comment id="16861561" author="janhoy" created="Tue, 11 Jun 2019 22:26:53 +0000"  >&lt;p&gt;Whoever will work on further improvements as discussed after April 13th, please open a &lt;b&gt;new&lt;/b&gt; JIRA to continue that work. We cannot have one JIRA number which contains different code in different branches.&lt;/p&gt;</comment>
                            <comment id="16861855" author="dawinter" created="Wed, 12 Jun 2019 08:07:38 +0000"  >&lt;p&gt;Thanks for the update. New issue opened:&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13538&quot; title=&quot;ClassCastException: ByteArrayUtf8CharSequence cannot be cast to java.lang.String&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13538&quot;&gt;&lt;del&gt;SOLR-13538&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16861860" author="noble.paul" created="Wed, 12 Jun 2019 08:17:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dawinter&quot; class=&quot;user-hover&quot; rel=&quot;dawinter&quot;&gt;dawinter&lt;/a&gt; can you test this with &lt;tt&gt;branch_8x&lt;/tt&gt; or &lt;tt&gt;branch_7_7&lt;/tt&gt; and confirm that the issue still exists?&lt;/p&gt;</comment>
                            <comment id="16861903" author="thomas.woeckinger" created="Wed, 12 Jun 2019 08:53:36 +0000"  >&lt;p&gt;Created new issue &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13539&quot; title=&quot;Atomic Update Multivalue remove does not work for field types UUID, Enums, Bool  and Binary&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13539&quot;&gt;&lt;del&gt;SOLR-13539&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16861909" author="janhoy" created="Wed, 12 Jun 2019 08:57:15 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dawinter&quot; class=&quot;user-hover&quot; rel=&quot;dawinter&quot;&gt;dawinter&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thomas.woeckinger&quot; class=&quot;user-hover&quot; rel=&quot;thomas.woeckinger&quot;&gt;thomas.woeckinger&lt;/a&gt;. Do&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13538&quot; title=&quot;ClassCastException: ByteArrayUtf8CharSequence cannot be cast to java.lang.String&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13538&quot;&gt;&lt;del&gt;SOLR-13538&lt;/del&gt;&lt;/a&gt; and&#160;&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13539&quot; title=&quot;Atomic Update Multivalue remove does not work for field types UUID, Enums, Bool  and Binary&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13539&quot;&gt;&lt;del&gt;SOLR-13539&lt;/del&gt;&lt;/a&gt; describe the same bug or are they distinct?&lt;/p&gt;</comment>
                            <comment id="16862186" author="gerlowskija" created="Wed, 12 Jun 2019 15:00:34 +0000"  >&lt;blockquote&gt;&lt;p&gt;Fixes missing for BinaryField, BoolField, UUIDField and a corner case for EnumField&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Oh no.  I completely missed this update from Thomas, which indicated that there were still non-test issues to tackle in this JIRA.  I hadn&apos;t realized this until now.  Sorry for not catching it sooner.&lt;/p&gt;

&lt;p&gt;I agree with Jan.  We&apos;ll need to handle subsequent fixes in additional JIRA tickets to avoid ambiguity about which part of the fix is available where.  Will chime in over on 13538/9.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="13233331">SOLR-13471</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13218954">SOLR-13285</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                                                <inwardlinks description="is part of">
                                        <issuelink>
            <issuekey id="13238977">SOLR-13539</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13215919">SOLR-13255</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13223790">SOLR-13347</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13215752">SOLR-13249</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12963634" name="Fix-SOLR13331-Add-toNativeType-implementations.patch" size="1424" author="thomas.woeckinger" created="Mon, 25 Mar 2019 15:05:07 +0000"/>
                            <attachment id="12964692" name="SOLR-13331.patch" size="10288" author="gerlowskija" created="Wed, 3 Apr 2019 11:14:45 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 22 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z00u60:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>