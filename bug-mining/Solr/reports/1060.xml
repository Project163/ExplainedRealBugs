<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:30:32 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-3884] smoke tester on cygwin fails when testing example due to tlog recovery</title>
                <link>https://issues.apache.org/jira/browse/SOLR-3884</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;while testing out 4.0-rc0, sarowe noted the he was seeing the smoke tester script fail while sanity checking the solr example.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://mail-archives.apache.org/mod_mbox/lucene-dev/201209.mbox/%3C6C78E97C707B5B4C8CC61D44F87545863ED73E@SUEX10-mbx-03.ad.syr.edu%3E&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://mail-archives.apache.org/mod_mbox/lucene-dev/201209.mbox/%3C6C78E97C707B5B4C8CC61D44F87545863ED73E@SUEX10-mbx-03.ad.syr.edu%3E&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The crux of the issue seems to be...&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;the same directory is reused for testing the example in java6 and then java7&lt;/li&gt;
	&lt;li&gt;in some versions of cygwin, SIGINT does not do a clean shutdown of jetty+solr (with jvm close hooks that would do a hard commit)&lt;/li&gt;
	&lt;li&gt;when solr is shutdown uncleanly (the java6 run), the tlog is used on startup of the next (java7) run.&lt;/li&gt;
	&lt;li&gt;tlog recovery concurrent with rapid updates on startup can be problematic, commits may be ignored.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The underlying questions about dealing with tlog recovery and concurrent updates from external clients have been spun off into &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-3888&quot; title=&quot;need beter handling of external add/commit requests during tlog recovery&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-3888&quot;&gt;SOLR-3888&lt;/a&gt;.  this issue is focusing on changes that should be considered for the smoke tester.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12608941">SOLR-3884</key>
            <summary>smoke tester on cygwin fails when testing example due to tlog recovery</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sarowe">Steven Rowe</assignee>
                                    <reporter username="hossman">Chris M. Hostetter</reporter>
                        <labels>
                    </labels>
                <created>Mon, 24 Sep 2012 22:53:09 +0000</created>
                <updated>Mon, 9 May 2016 18:48:37 +0000</updated>
                            <resolved>Tue, 25 Sep 2012 19:59:46 +0000</resolved>
                                                    <fixVersion>4.0</fixVersion>
                    <fixVersion>4.1</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="13462233" author="hossman" created="Mon, 24 Sep 2012 23:02:54 +0000"  >&lt;p&gt;The crux of hte issue i (think i) see is that the smoke tester tries to sanity check the same example dir twice in succession, once with java6 and once with java7.  in sarowe&apos;s case, it&apos;s always the java7 version that fails (if it fails) and here are some interesting tidbits from the output/log he posted...&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;    test solr example w/ Java 6...
      start Solr instance (log=/home/sarowe/temp/tmpDir/unpack/apache-solr-4.0.0/solr-example.log)...
      startup done
      test utf8...
      index example docs...
      run query...
      stop server (SIGINT)...
    test solr example w/ Java 7...
      start Solr instance (log=/home/sarowe/temp/tmpDir/unpack/apache-solr-4.0.0/solr-example.log)...
      startup done
      test utf8...
      index example docs...
      run query...
FAILED: response is:
&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;
&amp;lt;response&amp;gt;
&amp;lt;lst name=&quot;responseHeader&quot;&amp;gt;&amp;lt;int name=&quot;status&quot;&amp;gt;0&amp;lt;/int&amp;gt;&amp;lt;int name=&quot;QTime&quot;&amp;gt;0&amp;lt;/int&amp;gt;&amp;lt;lst name=&quot;params&quot;&amp;gt;&amp;lt;str
name=&quot;q&quot;&amp;gt;video&amp;lt;/str&amp;gt;&amp;lt;/lst&amp;gt;&amp;lt;/lst&amp;gt;&amp;lt;result name=&quot;response&quot; numFound=&quot;0&quot; start=&quot;0&quot;&amp;gt;&amp;lt;/result&amp;gt;
&amp;lt;/response&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So the requests to index &amp;amp; query data all succced, but the results are not what is expected (no docs found for a simple query)&lt;/p&gt;

&lt;p&gt;Then we look at the log from that failed second run o the example...&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;...
INFO: registering core: collection1
Sep 24, 2012 2:08:58 PM org.apache.solr.update.UpdateLog$LogReplayer doReplay
WARNING: Starting log replay tlog{file=solr\collection1\data\tlog\tlog.0000000000000000000 refcount=2} active=false
starting pos=0
Sep 24, 2012 2:08:58 PM org.apache.solr.servlet.SolrDispatchFilter init
INFO: user.dir=C:\cygwin\home\sarowe\temp\tmpDir\unpack\apache-solr-4.0.0\example
Sep 24, 2012 2:08:58 PM org.apache.solr.servlet.SolrDispatchFilter init
INFO: SolrDispatchFilter.init() done
2012-09-24 14:08:58.105:INFO:oejs.AbstractConnector:Started SocketConnector@0.0.0.0:8983
Sep 24, 2012 2:08:58 PM org.apache.solr.core.SolrDeletionPolicy onInit
INFO: SolrDeletionPolicy.onInit: commits:num=1
        commit{dir=NRTCachingDirectory(org.apache.lucene.store.MMapDirectory@C:\cygwin\home\sarowe\temp\tmpDir\unpac
k\apache-solr-4.0.0\example\solr\collection1\data\index
lockFactory=org.apache.lucene.store.NativeFSLockFactory@7ea69d83; maxCacheMB=48.0
maxMergeSizeMB=4.0),segFN=segments_1,generation=1,filenames=[segments_1]
Sep 24, 2012 2:08:58 PM org.apache.solr.core.SolrDeletionPolicy updateCommits
INFO: newest commit = 1
Sep 24, 2012 2:08:58 PM org.apache.solr.update.DirectUpdateHandler2 commit
INFO: start
commit{flags=2,_version_=0,optimize=false,openSearcher=true,waitSearcher=true,expungeDeletes=false,softCommit=false}
Sep 24, 2012 2:08:58 PM org.apache.solr.core.SolrCore execute
INFO: [collection1] webapp=/solr path=/select params={wt=python&amp;amp;q=hello&amp;amp;params=explicit} hits=0 status=0 QTime=1 
Sep 24, 2012 2:08:58 PM org.apache.solr.core.SolrCore execute
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;...so we have astartup detecting things in the transaction log that need to be replayed, and a commit starts &amp;#8211; meanwhile requests fro mthe smoke script (checking utf8) are comming in.  After that we start getting real example documents...&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;...
INFO: [collection1] webapp=/solr path=/update params={} {add=[EN7800GTX/2DHTV/256M (1414015368091926528), 100-435805
(1414015368095072256)]} 0 6
Sep 24, 2012 2:08:59 PM org.apache.solr.update.processor.DistributedUpdateProcessor processCommit
INFO: Ignoring commit while not ACTIVE - state: REPLAYING replay:0
Sep 24, 2012 2:08:59 PM org.apache.solr.update.processor.LogUpdateProcessor finish
INFO: [collection1] webapp=/solr path=/update params={softCommit=true} {commit=} 0 1
Sep 24, 2012 2:08:59 PM org.apache.solr.core.SolrCore execute
INFO: [collection1] webapp=/solr path=/select/ params={q=video} hits=0 status=0 QTime=0
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;...and that&apos;s where things look wonky to me &amp;#8211; the smoke script explicitly sent in a bunch of documents, and asked for a commit, but aparently even though the client was given a success response, that commit was evidently ignored because solr was in &quot;REPLAYING&quot; mode, so then the subsequent query didn&apos;t find the docs it was expecting.&lt;/p&gt;</comment>
                            <comment id="13462234" author="markrmiller@gmail.com" created="Mon, 24 Sep 2012 23:03:37 +0000"  >&lt;p&gt;I guess it looks like its recovering from a replay log? And it skips commits while it does this.&lt;/p&gt;

&lt;p&gt;So the problem may just be that we accept updates before we are ready?&lt;/p&gt;

&lt;p&gt;I&apos;ve got to head out for a while, but can look into it more later if no one else jumps on it.&lt;/p&gt;</comment>
                            <comment id="13462235" author="markrmiller@gmail.com" created="Mon, 24 Sep 2012 23:04:36 +0000"  >&lt;p&gt;Didn&apos;t see your post first Hossman - right, that&apos;s about what I see happening.&lt;/p&gt;</comment>
                            <comment id="13462254" author="hossman" created="Mon, 24 Sep 2012 23:26:19 +0000"  >&lt;p&gt;I &lt;em&gt;think&lt;/em&gt; this is somewhat related to &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-3861&quot; title=&quot;Refactor SolrCoreState so that it&amp;#39;s managed by SolrCore .&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-3861&quot;&gt;&lt;del&gt;SOLR-3861&lt;/del&gt;&lt;/a&gt; in that the only reason we see these problems during tlog REPLAY is because there was no hard commit on shutdown of the first instance.  (if i&apos;m right: we&apos;ll see a RejectedExecutionException in sarowe&apos;s first solr-example.log from the autocommit during shutdown) but independent of that we still need to think about how to better deal with documents comming in during RECOVERY&lt;/p&gt;

&lt;p&gt;On IRC miller suggested that perhaps Solr should block and not accept new updates until REPLAY is done (ideally by not listing on the socket i would think) &lt;/p&gt;

&lt;p&gt;a short term way of addressing this in the smoke tester (if we don&apos;t have a better fix for 4.0) would be to have hte smoke tester explicitly request a hard commit before doing a shutdown of the server, or using a new clean directory (w/o any tlog or previous docs) when running the example for the  second time.&lt;/p&gt;</comment>
                            <comment id="13462271" author="yseeley@gmail.com" created="Mon, 24 Sep 2012 23:52:36 +0000"  >&lt;blockquote&gt;&lt;p&gt;So the problem may just be that we accept updates before we are ready?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yes, sounds like it from the diagnosis that Hoss gave.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I think this is somewhat related to &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-3861&quot; title=&quot;Refactor SolrCoreState so that it&amp;#39;s managed by SolrCore .&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-3861&quot;&gt;&lt;del&gt;SOLR-3861&lt;/del&gt;&lt;/a&gt; in that the only reason we see these problems during tlog REPLAY is because there was no hard commit on shutdown of the first instance.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I was just going to ask this (why we are seeing a tlog recovery in the first place).  We always used to do a commit on shutdown, and I had to add an explicit test hook to disable this for TestRecovery (DirectUpdateHandler2.commitOnClose = false&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;but independent of that we still need to think about how to better deal with documents comming in during RECOVERY&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;We buffer them to the tlog.  They will get added eventually.&lt;br/&gt;
What we should really think about is documents coming in during recovery that aren&apos;t from a leader and we aren&apos;t in cloud mode (hence we won&apos;t forward to a leader).  Perhaps we should fail the update?&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;On IRC miller suggested that perhaps Solr should block and not accept new updates until REPLAY is done (ideally by not listing on the socket i would think)&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Hmmm, yeah I guess that would work too, only if we don&apos;t advertise the core being in recovery mode to the cluster.  We &lt;b&gt;don&apos;t&lt;/b&gt; want the leader to be forwarding updates if we&apos;re going to block.&lt;/p&gt;</comment>
                            <comment id="13462300" author="yseeley@gmail.com" created="Tue, 25 Sep 2012 00:38:47 +0000"  >&lt;p&gt;Hmmm, just did as simple manual test, and I see evidence of a final commit.&lt;br/&gt;
I started a clean stock server, executed &quot;post.sh *xml&quot; (after commenting out the commit command in the script), then pressed ^C immediately after the docs are added (before any autocommit could kick in.).&lt;/p&gt;

&lt;p&gt;Last lines on the console:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;INFO: [collection1] webapp=/solr path=/update params={} {add=[EN7800GTX/2DHTV/256M (1414039066694909952), 100-435805 (1414039066700152832)]} 0 10
^C2012-09-24 20:25:44.817:INFO:oejs.Server:Graceful shutdown SocketConnector@0.0.0.0:8983
2012-09-24 20:25:44.817:INFO:oejs.Server:Graceful shutdown o.e.j.w.WebAppContext{/solr,file:/opt/code/lusolr/solr/example/solr-webapp/webapp/},/opt/code/lusolr/solr/example/webapps/solr.war
2012-09-24 20:25:45.887:INFO:oejsh.ContextHandler:stopped o.e.j.w.WebAppContext{/solr,file:/opt/code/lusolr/solr/example/solr-webapp/webapp/},/opt/code/lusolr/solr/example/webapps/solr.war
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The only tlog was &quot;capped&quot; (an indicator that everything in the log was subjected to a hard commit, hence there should be no need to tlog recovery on restart).&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
/opt/code/lusolr/solr/example/solr/collection1/data/tlog$ tail -n1 tlog.0000000000000000000 
0??D`-SOLR_TLOG_END/opt/code/lusolr/solr/example/solr/collection1/data/tlog$ 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Starting the server again showed no indication of a tlog replay/recovery.&lt;br/&gt;
So I guess this is something more esoteric related to &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-3861&quot; title=&quot;Refactor SolrCoreState so that it&amp;#39;s managed by SolrCore .&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-3861&quot;&gt;&lt;del&gt;SOLR-3861&lt;/del&gt;&lt;/a&gt; that I don&apos;t understand yet (and doesn&apos;t happen all the time).&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;autocommit during shutdown&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;FYI, the final commit should be done regardless of any autocommits being enabled, so I assume you&apos;re just referring to that commit, and not a real autocommit triggered by time or number of documents that happens to coincide with shutdown.&lt;/p&gt;</comment>
                            <comment id="13462362" author="markrmiller@gmail.com" created="Tue, 25 Sep 2012 02:16:05 +0000"  >&lt;p&gt;I don&apos;t think it does happen every time - others seem to have run the smoke test and not seen it at all, steve saw it some runs, I see it every run on my really fast comp. So I&apos;m guessing there is some timing involved.&lt;/p&gt;</comment>
                            <comment id="13462384" author="markrmiller@gmail.com" created="Tue, 25 Sep 2012 02:56:35 +0000"  >&lt;p&gt;Hmm...I tried with the &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-3861&quot; title=&quot;Refactor SolrCoreState so that it&amp;#39;s managed by SolrCore .&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-3861&quot;&gt;&lt;del&gt;SOLR-3861&lt;/del&gt;&lt;/a&gt; fix and I still see a fail. The log shows Solr starting and then stopping, but the &apos;test utf8&apos; fails with ERROR: Solr is not up.&lt;/p&gt;</comment>
                            <comment id="13462688" author="steve_rowe" created="Tue, 25 Sep 2012 12:21:40 +0000"  >&lt;blockquote&gt;
&lt;p&gt;a short term way of addressing this in the smoke tester (if we don&apos;t have a better fix for 4.0) would be to have hte smoke tester explicitly request a hard commit before doing a shutdown of the server, or using a new clean directory (w/o any tlog or previous docs) when running the example for the second time.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I tried the clean directory approach - here&apos;s the smokeTestRelease.py patch:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Index: dev-tools/scripts/smokeTestRelease.py
===================================================================
--- dev-tools/scripts/smokeTestRelease.py       (revision 1389823)
+++ dev-tools/scripts/smokeTestRelease.py       (working copy)
@@ -533,11 +533,21 @@
     if project == &apos;lucene&apos;:
       testDemo(isSrc, version)
     else:
+      print(&apos;    copying unpacked distribution...&apos;)
+      java6UnpackPath = &apos;%s-java6&apos; %unpackPath
+      if os.path.exists(java6UnpackPath):
+        shutil.rmtree(java6UnpackPath)
+      shutil.copytree(unpackPath, java6UnpackPath)
       print(&apos;    test solr example w/ Java 6...&apos;)
-      testSolrExample(unpackPath, JAVA6_HOME, False)
+      testSolrExample(java6UnpackPath, JAVA6_HOME, False)
 
+      print(&apos;    copying unpacked distribution...&apos;)
+      java7UnpackPath = &apos;%s-java7&apos; %unpackPath
+      if os.path.exists(java7UnpackPath):
+        shutil.rmtree(java7UnpackPath)
+      shutil.copytree(unpackPath, java7UnpackPath)
       print(&apos;    test solr example w/ Java 7...&apos;)
-      testSolrExample(unpackPath, JAVA7_HOME, False)
+      testSolrExample(java7UnpackPath, JAVA7_HOME, False)
 
   testChangesText(&apos;.&apos;, version, project)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;But this seemed to have no effect - the failure still happens:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Test Solr...
  test basics...
  get KEYS
    0.1 MB
  download apache-solr-4.0.0-src.tgz...
    29.8 MB
    verify md5/sha1 digests
    verify sig
      GPG: gpg: WARNING: using insecure memory!
    verify trust
      GPG: gpg: WARNING: using insecure memory!
      GPG: gpg: WARNING: This key is not certified with a trusted signature!
  download apache-solr-4.0.0.tgz...
    102.8 MB
    verify md5/sha1 digests
    verify sig
      GPG: gpg: WARNING: using insecure memory!
    verify trust
      GPG: gpg: WARNING: using insecure memory!
      GPG: gpg: WARNING: This key is not certified with a trusted signature!
  download apache-solr-4.0.0.zip...
    107.0 MB
    verify md5/sha1 digests
    verify sig
      GPG: gpg: WARNING: using insecure memory!
    verify trust
      GPG: gpg: WARNING: using insecure memory!
      GPG: gpg: WARNING: This key is not certified with a trusted signature!
    unpack apache-solr-4.0.0.tgz...
    copying unpacked distribution...
    test solr example w/ Java 6...
      start Solr instance (log=/home/sarowe/temp/tmpDir/unpack/apache-solr-4.0.0-java6/solr-example.log)...
      startup done
      test utf8...
      index example docs...
      run query...
      stop server (SIGINT)...
    copying unpacked distribution...
    test solr example w/ Java 7...
      start Solr instance (log=/home/sarowe/temp/tmpDir/unpack/apache-solr-4.0.0-java7/solr-example.log)...
      startup done
      test utf8...
      index example docs...
      run query...
FAILED: response is:
&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;
&amp;lt;response&amp;gt;
&amp;lt;lst name=&quot;responseHeader&quot;&amp;gt;&amp;lt;int name=&quot;status&quot;&amp;gt;0&amp;lt;/int&amp;gt;&amp;lt;int name=&quot;QTime&quot;&amp;gt;1&amp;lt;/int&amp;gt;&amp;lt;lst name=&quot;params&quot;&amp;gt;&amp;lt;str name=&quot;q&quot;&amp;gt;video&amp;lt;/str&amp;gt;&amp;lt;/lst&amp;gt;&amp;lt;/lst&amp;gt;&amp;lt;result name=&quot;response&quot; numFound=&quot;0&quot; start=&quot;0&quot;&amp;gt;&amp;lt;/result&amp;gt;
&amp;lt;/response&amp;gt;

      stop server (SIGINT)...
Traceback (most recent call last):
  File &quot;dev-tools/scripts/smokeTestRelease.py&quot;, line 1133, in &amp;lt;module&amp;gt;
  File &quot;dev-tools/scripts/smokeTestRelease.py&quot;, line 1081, in main
  File &quot;dev-tools/scripts/smokeTestRelease.py&quot;, line 1123, in smokeTest
  File &quot;dev-tools/scripts/smokeTestRelease.py&quot;, line 424, in unpack
  File &quot;dev-tools/scripts/smokeTestRelease.py&quot;, line 550, in verifyUnpacked
  File &quot;dev-tools/scripts/smokeTestRelease.py&quot;, line 622, in testSolrExample
RuntimeError: query on solr example instance failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Attaching the &lt;tt&gt;solr-example.log&lt;/tt&gt; files from each directory.&lt;/p&gt;</comment>
                            <comment id="13462737" author="steve_rowe" created="Tue, 25 Sep 2012 13:46:39 +0000"  >&lt;blockquote&gt;&lt;p&gt;I don&apos;t think it does happen every time - others seem to have run the smoke test and not seen it at all, steve saw it some runs, I see it every run on my really fast comp. So I&apos;m guessing there is some timing involved.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Mark, what OS are you running the smoke tester on?&lt;/p&gt;

&lt;p&gt;On another Win7+Cygwin box, the smoke tester succeeds for me.&lt;/p&gt;</comment>
                            <comment id="13462739" author="rcmuir" created="Tue, 25 Sep 2012 13:51:04 +0000"  >&lt;p&gt;Strange too, I&apos;ve run the smoketester over 100 times and not encountered this. and sometimes my computer is busy doing other things too.&lt;/p&gt;</comment>
                            <comment id="13462803" author="markrmiller@gmail.com" created="Tue, 25 Sep 2012 14:49:59 +0000"  >&lt;p&gt;I&apos;m running it on Ubuntu 12.04.&lt;/p&gt;</comment>
                            <comment id="13462809" author="rcmuir" created="Tue, 25 Sep 2012 14:55:55 +0000"  >&lt;p&gt;Me too:&lt;/p&gt;

&lt;p&gt;Distributor ID:	Ubuntu&lt;br/&gt;
Description:	Ubuntu 12.04 LTS&lt;br/&gt;
Release:	12.04&lt;br/&gt;
Codename:	precise&lt;/p&gt;


&lt;p&gt;I run &apos;ant nightly-smoke&apos; like this:&lt;/p&gt;

&lt;p&gt;ant -DJAVA7_HOME=/usr/local/jdk1.7.0_01 -DJAVA6_HOME=/usr/local/jdk1.6.0_27 nightly-smoke&lt;/p&gt;</comment>
                            <comment id="13462860" author="hossman" created="Tue, 25 Sep 2012 15:20:56 +0000"  >&lt;blockquote&gt;
&lt;p&gt;I tried the clean directory approach - here&apos;s the smokeTestRelease.py patch:&lt;br/&gt;
...&lt;br/&gt;
But this seemed to have no effect - the failure still happens:&lt;br/&gt;
...&lt;br/&gt;
Attaching the solr-example.log files from each directory.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;If these logs you attached on 25/Sep/12 are what you got &lt;b&gt;with&lt;/b&gt; the patch then something &lt;em&gt;really&lt;/em&gt; weird is going on &amp;#8211; because using a clean example dir there&apos;s no logical reason why it should have been doing tlog recovery in either run.&lt;/p&gt;</comment>
                            <comment id="13462881" author="steve_rowe" created="Tue, 25 Sep 2012 15:34:38 +0000"  >&lt;blockquote&gt;&lt;p&gt;If these logs you attached on 25/Sep/12 are what you got with the patch then something really weird is going on &#8211; because using a clean example dir there&apos;s no logical reason why it should have been doing tlog recovery in either run.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;those two logs are &lt;b&gt;with&lt;/b&gt; the patch.&lt;/p&gt;</comment>
                            <comment id="13462996" author="yseeley@gmail.com" created="Tue, 25 Sep 2012 17:21:38 +0000"  >&lt;p&gt;Something to watch out for on Windows/cygwin:&lt;br/&gt;
I&apos;ve noticed that ^C in cygwin no longer works to stop the JVM.&lt;br/&gt;
Doing a &quot;kill -2&quot; on the java process from a different window seems to immediately abort the JVM (no graceful shutdown that does a commit).&lt;br/&gt;
The latter may be happening with the python script too?&lt;/p&gt;</comment>
                            <comment id="13463018" author="hossman" created="Tue, 25 Sep 2012 17:36:42 +0000"  >&lt;blockquote&gt;
&lt;p&gt;Doing a &quot;kill -2&quot; on the java process from a different window seems to immediately abort the JVM (no graceful shutdown that does a commit).&lt;br/&gt;
The latter may be happening with the python script too?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;That could explain how a tlog would be left in the directory after calling the testSolrExample() method, but it still leaves some open questions...&lt;/p&gt;

&lt;p&gt;1) according to sarowe, he&apos;s seeing this problem (and his smoke test logs show tlog recovery) even when using a pristine copy of the &quot;unpack&quot; dir - so why is there a tlog in that case?&lt;/p&gt;

&lt;p&gt;2) how should tlog recovery be &quot;fixed&quot; to better handle this situation (ie: docs &amp;amp; commits coming in during recovery) in a real world situation.&lt;/p&gt;</comment>
                            <comment id="13463019" author="hossman" created="Tue, 25 Sep 2012 17:38:18 +0000"  >&lt;blockquote&gt;&lt;p&gt;1) according to sarowe, he&apos;s seeing this problem (and his smoke test logs show tlog recovery) even when using a pristine copy of the &quot;unpack&quot; dir - so why is there a tlog in that case?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Hmm.. talking with sarowe on IRC, i think there may be a bug in his patch ... he cloned the unpackDir he passes to testSolrExample, but i don&apos;t think testSolrExample actaully uses that unpack dir for anything, it appears to just run the example relative the CWD.&lt;/p&gt;
</comment>
                            <comment id="13463030" author="yseeley@gmail.com" created="Tue, 25 Sep 2012 17:46:47 +0000"  >&lt;blockquote&gt;&lt;p&gt;I&apos;ve noticed that ^C in cygwin no longer works to stop the JVM.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I think it might be this: &lt;a href=&quot;http://cygwin.com/ml/cygwin/2012-07/msg00250.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://cygwin.com/ml/cygwin/2012-07/msg00250.html&lt;/a&gt;&lt;br/&gt;
The author does note that the Java shutdown hook is no longer called though.&lt;/p&gt;</comment>
                            <comment id="13463034" author="steve_rowe" created="Tue, 25 Sep 2012 17:47:46 +0000"  >&lt;blockquote&gt;
&lt;p&gt;Hmm.. talking with sarowe on IRC, i think there may be a bug in his patch ... he cloned the unpackDir he passes to testSolrExample, but i don&apos;t think testSolrExample actaully uses that unpack dir for anything, it appears to just run the example relative the CWD.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yup, buggy patch, I didn&apos;t chdir to the unpacked copy, so it was still sharing the original dir between the two runs.  Here&apos;s the hopefully fixed patch:&lt;/p&gt;

&lt;p&gt;&lt;b&gt;edit&lt;/b&gt; &lt;tt&gt;chdir&lt;/tt&gt; -&amp;gt; &lt;tt&gt;os.chdir&lt;/tt&gt;&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Index: dev-tools/scripts/smokeTestRelease.py
===================================================================
--- dev-tools/scripts/smokeTestRelease.py       (revision 1389823)
+++ dev-tools/scripts/smokeTestRelease.py       (working copy)
@@ -533,12 +536,26 @@
     if project == &apos;lucene&apos;:
       testDemo(isSrc, version)
     else:
+      print(&apos;    copying unpacked distribution...&apos;)
+      java6UnpackPath = &apos;%s-java6&apos; %unpackPath
+      if os.path.exists(java6UnpackPath):
+        shutil.rmtree(java6UnpackPath)
+      shutil.copytree(unpackPath, java6UnpackPath)
+      os.chdir(java6UnpackPath)
       print(&apos;    test solr example w/ Java 6...&apos;)
-      testSolrExample(unpackPath, JAVA6_HOME, False)
+      testSolrExample(java6UnpackPath, JAVA6_HOME, False)
 
+      print(&apos;    copying unpacked distribution...&apos;)
+      java7UnpackPath = &apos;%s-java7&apos; %unpackPath
+      if os.path.exists(java7UnpackPath):
+        shutil.rmtree(java7UnpackPath)
+      shutil.copytree(unpackPath, java7UnpackPath)
+      os.chdir(java7UnpackPath)
       print(&apos;    test solr example w/ Java 7...&apos;)
-      testSolrExample(unpackPath, JAVA7_HOME, False)
+      testSolrExample(java7UnpackPath, JAVA7_HOME, False)
 
+      os.chdir(unpackPath)
+
   testChangesText(&apos;.&apos;, version, project)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13463066" author="hossman" created="Tue, 25 Sep 2012 18:06:38 +0000"  >&lt;p&gt;updated issue summary now that tlog questions have been spun off into &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-3888&quot; title=&quot;need beter handling of external add/commit requests during tlog recovery&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-3888&quot;&gt;SOLR-3888&lt;/a&gt;.  For 4.0 we should focus on addressing the smoke tester to run the example in a more consistent way &amp;#8211; ie: not re-use the directory when running the example with diff jvms.  We can always make the the smoke tester explicitly trigger tlog recoery and smoke test that as a distinct task (done in both jvms) as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-3888&quot; title=&quot;need beter handling of external add/commit requests during tlog recovery&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-3888&quot;&gt;SOLR-3888&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13463068" author="markrmiller@gmail.com" created="Tue, 25 Sep 2012 18:08:07 +0000"  >&lt;p&gt;Yeah, it turns out my fail in the utf-8 test is a little different i&lt;br/&gt;
noticed last night. Still don&apos;t know the root cause. Fails every time&lt;br/&gt;
though.&lt;/p&gt;




&lt;p&gt;&amp;#8211; &lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Mark&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13463069" author="steve_rowe" created="Tue, 25 Sep 2012 18:08:53 +0000"  >&lt;p&gt;The smoke tester with the latest patch succeeds.  I&apos;ll run it a couple more times&lt;/p&gt;</comment>
                            <comment id="13463100" author="steve_rowe" created="Tue, 25 Sep 2012 18:35:35 +0000"  >&lt;blockquote&gt;
&lt;p&gt;I think it might be this: &lt;a href=&quot;http://cygwin.com/ml/cygwin/2012-07/msg00250.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://cygwin.com/ml/cygwin/2012-07/msg00250.html&lt;/a&gt;&lt;br/&gt;
The author does note that the Java shutdown hook is no longer called though.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;In an earlier thread a workaround is given - from &lt;a href=&quot;http://cygwin.com/ml/cygwin/2012-05/msg00482.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://cygwin.com/ml/cygwin/2012-05/msg00482.html&lt;/a&gt;:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Since apparently nobody wants to take ownership of this regression&lt;br/&gt;
I&apos;ll point out the workaround, for the benefit of those googling&lt;br/&gt;
and landing on this thread: start Java with -Xrs and use Ctrl-Break&lt;br/&gt;
instead of Ctrl-C. This will disable thread dump and break any&lt;br/&gt;
application that relies on normal signal handling, though.&lt;/p&gt;&lt;/blockquote&gt;

</comment>
                            <comment id="13463157" author="steve_rowe" created="Tue, 25 Sep 2012 19:59:46 +0000"  >&lt;p&gt;Committed the &lt;tt&gt;smokeTestRelease.py&lt;/tt&gt; patch that starts each binary Solr distribution example test with a clean copy of the unpacked distribution:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;lucene_solr_4_0: &lt;a href=&quot;http://svn.apache.org/viewvc?rev=1390046&amp;amp;view=rev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1390046&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;branch_4x: &lt;a href=&quot;http://svn.apache.org/viewvc?rev=1390053&amp;amp;view=rev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1390053&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;trunk: &lt;a href=&quot;http://svn.apache.org/viewvc?rev=1390055&amp;amp;view=rev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1390055&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13463292" author="steve_rowe" created="Tue, 25 Sep 2012 22:32:46 +0000"  >&lt;blockquote&gt;&lt;p&gt;I&apos;ve noticed that ^C in cygwin no longer works to stop the JVM.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Ctrl-C doesn&apos;t stop Cygwin Python for me - running &lt;tt&gt;smokeTestRelease.py&lt;/tt&gt; anyway - but from cygwin terminal, xterm, and rxvt, Ctrl-C &lt;b&gt;does&lt;/b&gt; halt Solr started via &lt;tt&gt;java -jar start.jar&lt;/tt&gt; from the unpacked binary distribution&apos;s &lt;tt&gt;example/&lt;/tt&gt; directory.&lt;/p&gt;

&lt;p&gt;My cygwin version (from &lt;tt&gt;uname -srv&lt;/tt&gt;):&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;CYGWIN_NT-6.1-WOW64 1.7.16(0.262/5/3) 2012-07-20 22:55&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13463332" author="steve_rowe" created="Tue, 25 Sep 2012 23:11:14 +0000"  >&lt;p&gt;Although under Cygwin Ctrl-C halts java programs for me, the shutdown hook isn&apos;t invoked, e.g.:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;ShutdownHookTest {
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void main(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; args[]) {
    &lt;span class=&quot;code-object&quot;&gt;Runtime&lt;/span&gt;.getRuntime().addShutdownHook(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;() {
      &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void run() {
        &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.err.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;Hook invoked.&quot;&lt;/span&gt;);
      }
    });
    &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;) {}
  }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;When I run the above and hit Ctrl-C from Cygwin I don&apos;t see anything printed to the console.  So this is consistent with the behavior Yonik saw with &lt;tt&gt;kill -2&lt;/tt&gt; from another window.&lt;/p&gt;

&lt;p&gt;By contrast, from a cmd terminal window, the message does get printed to the console.&lt;/p&gt;</comment>
                            <comment id="13463367" author="jkrupan" created="Tue, 25 Sep 2012 23:52:55 +0000"  >&lt;p&gt;It failed in the Java 1.6 tests for me:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    test solr example w/ Java 6...
      start Solr instance (log=/home/projects/lucene_solr_4_0/smoke-temp/unpack/apache-solr-4.0.0/solr-example.log)...
      startup done
      test utf8...
      index example docs...
      run query...
FAILED: response is:
&amp;lt;?xml version=&lt;span class=&quot;code-quote&quot;&gt;&quot;1.0&quot;&lt;/span&gt; encoding=&lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-8&quot;&lt;/span&gt;?&amp;gt;
&amp;lt;response&amp;gt;
&amp;lt;lst name=&lt;span class=&quot;code-quote&quot;&gt;&quot;responseHeader&quot;&lt;/span&gt;&amp;gt;&amp;lt;&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;status&quot;&lt;/span&gt;&amp;gt;0&amp;lt;/&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;&amp;gt;&amp;lt;&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;QTime&quot;&lt;/span&gt;&amp;gt;0&amp;lt;/&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;&amp;gt;&amp;lt;lst name=&lt;span class=&quot;code-quote&quot;&gt;&quot;params&quot;&lt;/span&gt;&amp;gt;&amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;q&quot;&lt;/span&gt;&amp;gt;video&amp;lt;/str&amp;gt;&amp;lt;/lst&amp;gt;&amp;lt;/lst&amp;gt;&amp;lt;result name=&lt;span class=&quot;code-quote&quot;&gt;&quot;response&quot;&lt;/span&gt; numFound=&lt;span class=&quot;code-quote&quot;&gt;&quot;0&quot;&lt;/span&gt; start=&lt;span class=&quot;code-quote&quot;&gt;&quot;0&quot;&lt;/span&gt;&amp;gt;&amp;lt;/result&amp;gt;
&amp;lt;/response&amp;gt;

      stop server (SIGINT)...
Traceback (most recent call last):
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;dev-tools/scripts/smokeTestRelease.py&quot;&lt;/span&gt;, line 1123, in &amp;lt;module&amp;gt;
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;dev-tools/scripts/smokeTestRelease.py&quot;&lt;/span&gt;, line 1071, in main
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;dev-tools/scripts/smokeTestRelease.py&quot;&lt;/span&gt;, line 1113, in smokeTest
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;dev-tools/scripts/smokeTestRelease.py&quot;&lt;/span&gt;, line 424, in unpack
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;dev-tools/scripts/smokeTestRelease.py&quot;&lt;/span&gt;, line 537, in verifyUnpacked
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;dev-tools/scripts/smokeTestRelease.py&quot;&lt;/span&gt;, line 612, in testSolrExample
RuntimeError: query on solr example instance failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13463371" author="steve_rowe" created="Tue, 25 Sep 2012 23:56:25 +0000"  >&lt;p&gt;Jack, it looks like you haven&apos;t updated your working copy since I committed the fix?  For branch_4x you need at least r1390053.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12608501">SOLR-3861</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12609094">SOLR-3888</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12609100">SOLR-3889</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12546500" name="java6.solr-example.log" size="30937" author="sarowe" created="Tue, 25 Sep 2012 12:21:40 +0000"/>
                            <attachment id="12546501" name="java7.solr-example.log" size="29613" author="sarowe" created="Tue, 25 Sep 2012 12:21:40 +0000"/>
                            <attachment id="12546433" name="solr-example.log" size="26450" author="markrmiller@gmail.com" created="Tue, 25 Sep 2012 02:56:54 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>243112</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 9 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i03c2n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>17389</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>