<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:56:28 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-16686] When using bin/solr zk cp, a non-zk destination requires a path, won&apos;t work with bare filename</title>
                <link>https://issues.apache.org/jira/browse/SOLR-16686</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;I uploaded a security.json file from a bare filename, manipulated the security config in the UI, then tried to download the modified file.&#160; The download failed.&lt;/p&gt;

&lt;p&gt;This is the command used to upload:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-none&quot;&gt;
/opt/solr/bin/solr zk cp security.json zk:/security.json -z localhost:9983
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This is the command I tried that didn&apos;t work:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-none&quot;&gt;
/opt/solr/bin/solr zk cp zk:/security.json security.json -z localhost:9983
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;If I change it to this, it works:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-none&quot;&gt;
/opt/solr/bin/solr zk cp zk:/security.json ./security.json -z localhost:9983
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The problem here is that it parses the local filename to extract the path component and then uses that to get a FileSystem object.&#160; With the bare filename, there IS no path info to be extracted, so it gets null and the code fails.&lt;/p&gt;

&lt;p&gt;Instead, if the extracted path is null, it should use the current working directory as the path.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13527337">SOLR-16686</key>
            <summary>When using bin/solr zk cp, a non-zk destination requires a path, won&apos;t work with bare filename</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="elyograg">Shawn Heisey</assignee>
                                    <reporter username="elyograg">Shawn Heisey</reporter>
                        <labels>
                            <label>patch</label>
                    </labels>
                <created>Mon, 6 Mar 2023 20:37:48 +0000</created>
                <updated>Mon, 27 Mar 2023 18:04:22 +0000</updated>
                            <resolved>Tue, 14 Mar 2023 01:07:23 +0000</resolved>
                                    <version>9.1</version>
                                    <fixVersion>9.2</fixVersion>
                                    <component>SolrCloud</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17697135" author="elyograg" created="Mon, 6 Mar 2023 20:39:25 +0000"  >&lt;p&gt;Haven&apos;t looked at the code yet.&#160; I ran into this on 9.2.0-SNAPSHOT, freshly built from branch_9x.&#160; I expect it will also be a problem in earlier versions.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17697491" author="elyograg" created="Tue, 7 Mar 2023 15:36:38 +0000"  >&lt;p&gt;Patch that fixes the problem.&#160; Still need to run the precommit checks.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17697538" author="elyograg" created="Tue, 7 Mar 2023 17:07:48 +0000"  >&lt;p&gt;Running check on main, I am getting two very consistent failures in ClusteringComponentDistributedTest that seem completely unrelated.&#160; Proceeding with commit.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17697559" author="elyograg" created="Tue, 7 Mar 2023 17:47:11 +0000"  >&lt;p&gt;Failure was very consistent with OpenJDK 17.&#160; Using OpenJDK 11, it passed the first time.&#160; The build is a lot faster with JDK 17 than 11.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17697587" author="elyograg" created="Tue, 7 Mar 2023 18:54:46 +0000"  >&lt;p&gt;An unmodified main branch also fails the same tests.&#160; So JDK17 is producing the failures, they don&apos;t happen with JDK11.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17697588" author="elyograg" created="Tue, 7 Mar 2023 18:55:40 +0000"  >&lt;p&gt;An interesting side note:&#160; The build appears to be a lot faster with JDK 17.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17697591" author="jira-bot" created="Tue, 7 Mar 2023 18:59:00 +0000"  >&lt;p&gt;Commit bccf03690f5521839e27e3630fbdf4e64255e0c9 in solr&apos;s branch refs/heads/main from Shawn Heisey&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=bccf03690f5&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=bccf03690f5&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16686&quot; title=&quot;When using bin/solr zk cp, a non-zk destination requires a path, won&amp;#39;t work with bare filename&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16686&quot;&gt;&lt;del&gt;SOLR-16686&lt;/del&gt;&lt;/a&gt;:  Fix &apos;bin/solr zk cp&apos; to work with a bare destination filename.&lt;/p&gt;</comment>
                            <comment id="17697594" author="jira-bot" created="Tue, 7 Mar 2023 19:04:47 +0000"  >&lt;p&gt;Commit 2a39d7d4dbad9e2fa6d012f452117c0954dabc58 in solr&apos;s branch refs/heads/branch_9x from Shawn Heisey&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=2a39d7d4dba&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=2a39d7d4dba&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16686&quot; title=&quot;When using bin/solr zk cp, a non-zk destination requires a path, won&amp;#39;t work with bare filename&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16686&quot;&gt;&lt;del&gt;SOLR-16686&lt;/del&gt;&lt;/a&gt;:  Fix &apos;bin/solr zk cp&apos; to work with a bare destination filename.&lt;/p&gt;</comment>
                            <comment id="17697595" author="jira-bot" created="Tue, 7 Mar 2023 19:07:00 +0000"  >&lt;p&gt;Commit 02df55afc818ab76f2b3fd504dcf8d357e52557f in solr&apos;s branch refs/heads/main from Shawn Heisey&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=02df55afc81&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=02df55afc81&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16686&quot; title=&quot;When using bin/solr zk cp, a non-zk destination requires a path, won&amp;#39;t work with bare filename&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16686&quot;&gt;&lt;del&gt;SOLR-16686&lt;/del&gt;&lt;/a&gt;: A little bit of cleanup.&lt;/p&gt;</comment>
                            <comment id="17697596" author="jira-bot" created="Tue, 7 Mar 2023 19:07:40 +0000"  >&lt;p&gt;Commit d308c17a36644831adafb1d0b5a98193dee9b79b in solr&apos;s branch refs/heads/branch_9x from Shawn Heisey&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=d308c17a366&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=d308c17a366&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16686&quot; title=&quot;When using bin/solr zk cp, a non-zk destination requires a path, won&amp;#39;t work with bare filename&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16686&quot;&gt;&lt;del&gt;SOLR-16686&lt;/del&gt;&lt;/a&gt;: A little bit of cleanup.&lt;/p&gt;</comment>
                            <comment id="17699805" author="houston" created="Mon, 13 Mar 2023 19:15:46 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=elyograg&quot; class=&quot;user-hover&quot; rel=&quot;elyograg&quot;&gt;elyograg&lt;/a&gt; I see that you put the CHANGES.txt version as 9.3, but it was merged into 9x before the 9.2 branch was cut. So this should make it into 9.2. Could you add a fixVersion on this Jira and also move the changes.txt section across main, branch_9x and branch_9_2?&lt;/p&gt;</comment>
                            <comment id="17699887" author="elyograg" created="Tue, 14 Mar 2023 00:56:17 +0000"  >&lt;p&gt;So sorry for making a mistake!&#160; I thought it was in the 9.2 section.&#160; I will take a look and commit fixes.&lt;/p&gt;</comment>
                            <comment id="17699888" author="jira-bot" created="Tue, 14 Mar 2023 01:01:30 +0000"  >&lt;p&gt;Commit aa9680caf2710f55ad0992b7661fd9a7253931f1 in solr&apos;s branch refs/heads/main from Shawn Heisey&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=aa9680caf27&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=aa9680caf27&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16686&quot; title=&quot;When using bin/solr zk cp, a non-zk destination requires a path, won&amp;#39;t work with bare filename&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16686&quot;&gt;&lt;del&gt;SOLR-16686&lt;/del&gt;&lt;/a&gt;:  Fix CHANGES.txt mistake, moved to 9.2&lt;/p&gt;</comment>
                            <comment id="17699890" author="jira-bot" created="Tue, 14 Mar 2023 01:05:12 +0000"  >&lt;p&gt;Commit 6db2cb88ef2245101f1ef7489999483005741262 in solr&apos;s branch refs/heads/branch_9x from Shawn Heisey&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=6db2cb88ef2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=6db2cb88ef2&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16686&quot; title=&quot;When using bin/solr zk cp, a non-zk destination requires a path, won&amp;#39;t work with bare filename&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16686&quot;&gt;&lt;del&gt;SOLR-16686&lt;/del&gt;&lt;/a&gt;:  Fix CHANGES.txt mistake, moved to 9.2&lt;/p&gt;</comment>
                            <comment id="17699891" author="jira-bot" created="Tue, 14 Mar 2023 01:06:18 +0000"  >&lt;p&gt;Commit 19221ddedd39e92679a684e81d03786987a53a98 in solr&apos;s branch refs/heads/branch_9_2 from Shawn Heisey&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=19221ddedd3&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=19221ddedd3&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16686&quot; title=&quot;When using bin/solr zk cp, a non-zk destination requires a path, won&amp;#39;t work with bare filename&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16686&quot;&gt;&lt;del&gt;SOLR-16686&lt;/del&gt;&lt;/a&gt;:  Fix CHANGES.txt mistake, moved to 9.2&lt;/p&gt;</comment>
                            <comment id="17699892" author="elyograg" created="Tue, 14 Mar 2023 01:07:05 +0000"  >&lt;p&gt;CHANGES.txt fixed on 3 branches.&lt;/p&gt;</comment>
                            <comment id="17699900" author="houston" created="Tue, 14 Mar 2023 01:48:08 +0000"  >&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                            <comment id="17705581" author="houston" created="Mon, 27 Mar 2023 18:04:22 +0000"  >&lt;p&gt;Closing after the 9.2.0 release&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13056113" name="SOLR_16686.patch" size="826" author="elyograg" created="Tue, 7 Mar 2023 15:35:42 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 33 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1gdrk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>