<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:30:41 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-11974] TestCollapseQParserPlugin.testStringCollapse() failure</title>
                <link>https://issues.apache.org/jira/browse/SOLR-11974</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;Reproducing branch_7x seed from my Jenkins - reproduces for me on master too:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Checking out Revision 6ae6ce2f42b61b117c31149ac87b1cb3d6ffe440 (refs/remotes/origin/branch_7x)
[...]
   [junit4]   2&amp;gt; NOTE: reproduce with: ant test  -Dtestcase=TestCollapseQParserPlugin -Dtests.method=testStringCollapse -Dtests.seed=32531513E27A1FB -Dtests.slow=true -Dtests.locale=fr-LU -Dtests.timezone=Europe/Warsaw -Dtests.asserts=true -Dtests.file.encoding=UTF-8
   [junit4] FAILURE 1.15s J5  | TestCollapseQParserPlugin.testStringCollapse &amp;lt;&amp;lt;&amp;lt;
   [junit4]    &amp;gt; Throwable #1: java.lang.AssertionError
   [junit4]    &amp;gt; 	at __randomizedtesting.SeedInfo.seed([32531513E27A1FB:F6AD0130F74002EF]:0)
   [junit4]    &amp;gt; 	at org.apache.lucene.index.AssertingLeafReader$AssertingSortedDocValues.advanceExact(AssertingLeafReader.java:617)
   [junit4]    &amp;gt; 	at org.apache.solr.search.CollapsingQParserPlugin$OrdScoreCollector.collect(CollapsingQParserPlugin.java:557)
   [junit4]    &amp;gt; 	at org.apache.lucene.search.MatchAllDocsQuery$1$1.score(MatchAllDocsQuery.java:62)
   [junit4]    &amp;gt; 	at org.apache.lucene.search.BulkScorer.score(BulkScorer.java:39)
   [junit4]    &amp;gt; 	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:660)
   [junit4]    &amp;gt; 	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:462)
   [junit4]    &amp;gt; 	at org.apache.solr.search.Grouping.searchWithTimeLimiter(Grouping.java:447)
   [junit4]    &amp;gt; 	at org.apache.solr.search.Grouping.execute(Grouping.java:395)
   [junit4]    &amp;gt; 	at org.apache.solr.handler.component.QueryComponent.doProcessGroupedSearch(QueryComponent.java:1409)
   [junit4]    &amp;gt; 	at org.apache.solr.handler.component.QueryComponent.process(QueryComponent.java:367)
   [junit4]    &amp;gt; 	at org.apache.solr.handler.component.SearchHandler.handleRequestBody(SearchHandler.java:295)
   [junit4]    &amp;gt; 	at org.apache.solr.handler.RequestHandlerBase.handleRequest(RequestHandlerBase.java:195)
   [junit4]    &amp;gt; 	at org.apache.solr.core.SolrCore.execute(SolrCore.java:2503)
   [junit4]    &amp;gt; 	at org.apache.solr.util.TestHarness.query(TestHarness.java:337)
   [junit4]    &amp;gt; 	at org.apache.solr.util.TestHarness.query(TestHarness.java:319)
   [junit4]    &amp;gt; 	at org.apache.solr.SolrTestCaseJ4.assertQ(SolrTestCaseJ4.java:876)
   [junit4]    &amp;gt; 	at org.apache.solr.SolrTestCaseJ4.assertQ(SolrTestCaseJ4.java:862)
   [junit4]    &amp;gt; 	at org.apache.solr.search.TestCollapseQParserPlugin.testCollapseQueries(TestCollapseQParserPlugin.java:768)
   [junit4]    &amp;gt; 	at org.apache.solr.search.TestCollapseQParserPlugin.testStringCollapse(TestCollapseQParserPlugin.java:213)
   [junit4]    &amp;gt; 	at java.lang.Thread.run(Thread.java:748)
[...]
   [junit4]   2&amp;gt; NOTE: test params are: codec=Asserting(Lucene70): {text_ws=FSTOrd50, term_s=PostingsFormat(name=Memory), id=PostingsFormat(name=MockRandom), group_s=PostingsFormat(name=MockRandom), group_s_dv=FSTOrd50}, docValues:{id_i=DocValuesFormat(name=Direct), group_i=DocValuesFormat(name=Direct), group_ti_dv=DocValuesFormat(name=Lucene70), _version_=DocValuesFormat(name=Asserting), test_l=DocValuesFormat(name=Direct), group_tf_dv=DocValuesFormat(name=Memory), test_i=DocValuesFormat(name=Lucene70), group_f=DocValuesFormat(name=Asserting), test_f=DocValuesFormat(name=Memory), group_s_dv=DocValuesFormat(name=Asserting)}, maxPointsInLeafNode=1995, maxMBSortInHeap=7.1608710565771645, sim=RandomSimilarity(queryNorm=false): {}, locale=fr-LU, timezone=Europe/Warsaw
   [junit4]   2&amp;gt; NOTE: Linux 4.1.0-custom2-amd64 amd64/Oracle Corporation 1.8.0_151 (64-bit)/cpus=16,threads=1,free=168356360,total=529530880
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I see this elsewhere in the log, multiple times:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;   [junit4]   2&amp;gt; 484673 ERROR (TEST-TestCollapseQParserPlugin.testNumericCollapse-seed#[32531513E27A1FB]) [    ] o.a.s.h.RequestHandlerBase java.lang.RuntimeException: java.io.IOException: min/max must be Int or Float field types when collapsing on numeric fields
   [junit4]   2&amp;gt; 	at org.apache.solr.search.CollapsingQParserPlugin$CollapsingPostFilter.getFilterCollector(CollapsingQParserPlugin.java:377)
   [junit4]   2&amp;gt; 	at org.apache.solr.search.SolrIndexSearcher.getProcessedFilter(SolrIndexSearcher.java:1085)
   [junit4]   2&amp;gt; 	at org.apache.solr.search.SolrIndexSearcher.getDocListNC(SolrIndexSearcher.java:1541)
   [junit4]   2&amp;gt; 	at org.apache.solr.search.SolrIndexSearcher.getDocListC(SolrIndexSearcher.java:1417)
   [junit4]   2&amp;gt; 	at org.apache.solr.search.SolrIndexSearcher.search(SolrIndexSearcher.java:584)
   [junit4]   2&amp;gt; 	at org.apache.solr.handler.component.QueryComponent.doProcessUngroupedSearch(QueryComponent.java:1435)
   [junit4]   2&amp;gt; 	at org.apache.solr.handler.component.QueryComponent.process(QueryComponent.java:375)
   [junit4]   2&amp;gt; 	at org.apache.solr.handler.component.SearchHandler.handleRequestBody(SearchHandler.java:295)
   [junit4]   2&amp;gt; 	at org.apache.solr.handler.RequestHandlerBase.handleRequest(RequestHandlerBase.java:195)
   [junit4]   2&amp;gt; 	at org.apache.solr.core.SolrCore.execute(SolrCore.java:2503)
   [junit4]   2&amp;gt; 	at org.apache.solr.util.TestHarness.query(TestHarness.java:337)
   [junit4]   2&amp;gt; 	at org.apache.solr.util.TestHarness.query(TestHarness.java:319)
   [junit4]   2&amp;gt; 	at org.apache.solr.SolrTestCaseJ4.assertQ(SolrTestCaseJ4.java:876)
   [junit4]   2&amp;gt; 	at org.apache.solr.SolrTestCaseJ4.assertQ(SolrTestCaseJ4.java:862)
   [junit4]   2&amp;gt; 	at org.apache.solr.search.TestCollapseQParserPlugin.testCollapseQueries(TestCollapseQParserPlugin.java:617)
   [junit4]   2&amp;gt; 	at org.apache.solr.search.TestCollapseQParserPlugin.testNumericCollapse(TestCollapseQParserPlugin.java:220)
   [junit4]   2&amp;gt; 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
   [junit4]   2&amp;gt; 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
   [junit4]   2&amp;gt; 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
   [junit4]   2&amp;gt; 	at java.lang.reflect.Method.invoke(Method.java:498)
   [junit4]   2&amp;gt; 	at com.carrotsearch.randomizedtesting.RandomizedRunner.invoke(RandomizedRunner.java:1737)
   [junit4]   2&amp;gt; 	at com.carrotsearch.randomizedtesting.RandomizedRunner$8.evaluate(RandomizedRunner.java:934)
   [junit4]   2&amp;gt; 	at com.carrotsearch.randomizedtesting.RandomizedRunner$9.evaluate(RandomizedRunner.java:970)
   [junit4]   2&amp;gt; 	at com.carrotsearch.randomizedtesting.RandomizedRunner$10.evaluate(RandomizedRunner.java:984)
   [junit4]   2&amp;gt; 	at com.carrotsearch.randomizedtesting.rules.SystemPropertiesRestoreRule$1.evaluate(SystemPropertiesRestoreRule.java:57)
   [junit4]   2&amp;gt; 	at org.apache.lucene.util.TestRuleSetupTeardownChained$1.evaluate(TestRuleSetupTeardownChained.java:49)
   [junit4]   2&amp;gt; 	at org.apache.lucene.util.AbstractBeforeAfterRule$1.evaluate(AbstractBeforeAfterRule.java:45)
   [junit4]   2&amp;gt; 	at org.apache.lucene.util.TestRuleThreadAndTestName$1.evaluate(TestRuleThreadAndTestName.java:48)
   [junit4]   2&amp;gt; 	at org.apache.lucene.util.TestRuleIgnoreAfterMaxFailures$1.evaluate(TestRuleIgnoreAfterMaxFailures.java:64)
   [junit4]   2&amp;gt; 	at org.apache.lucene.util.TestRuleMarkFailure$1.evaluate(TestRuleMarkFailure.java:47)
   [junit4]   2&amp;gt; 	at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)
   [junit4]   2&amp;gt; 	at com.carrotsearch.randomizedtesting.ThreadLeakControl$StatementRunner.run(ThreadLeakControl.java:368)
   [junit4]   2&amp;gt; 	at com.carrotsearch.randomizedtesting.ThreadLeakControl.forkTimeoutingTask(ThreadLeakControl.java:817)
   [junit4]   2&amp;gt; 	at com.carrotsearch.randomizedtesting.ThreadLeakControl$3.evaluate(ThreadLeakControl.java:468)
   [junit4]   2&amp;gt; 	at com.carrotsearch.randomizedtesting.RandomizedRunner.runSingleTest(RandomizedRunner.java:943)
   [junit4]   2&amp;gt; 	at com.carrotsearch.randomizedtesting.RandomizedRunner$5.evaluate(RandomizedRunner.java:829)
   [junit4]   2&amp;gt; 	at com.carrotsearch.randomizedtesting.RandomizedRunner$6.evaluate(RandomizedRunner.java:879)
   [junit4]   2&amp;gt; 	at com.carrotsearch.randomizedtesting.RandomizedRunner$7.evaluate(RandomizedRunner.java:890)
   [junit4]   2&amp;gt; 	at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)
   [junit4]   2&amp;gt; 	at com.carrotsearch.randomizedtesting.rules.SystemPropertiesRestoreRule$1.evaluate(SystemPropertiesRestoreRule.java:57)
   [junit4]   2&amp;gt; 	at org.apache.lucene.util.AbstractBeforeAfterRule$1.evaluate(AbstractBeforeAfterRule.java:45)
   [junit4]   2&amp;gt; 	at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)
   [junit4]   2&amp;gt; 	at org.apache.lucene.util.TestRuleStoreClassName$1.evaluate(TestRuleStoreClassName.java:41)
   [junit4]   2&amp;gt; 	at com.carrotsearch.randomizedtesting.rules.NoShadowingOrOverridesOnMethodsRule$1.evaluate(NoShadowingOrOverridesOnMethodsRule.java:40)
   [junit4]   2&amp;gt; 	at com.carrotsearch.randomizedtesting.rules.NoShadowingOrOverridesOnMethodsRule$1.evaluate(NoShadowingOrOverridesOnMethodsRule.java:40)
   [junit4]   2&amp;gt; 	at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)
   [junit4]   2&amp;gt; 	at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)
   [junit4]   2&amp;gt; 	at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)
   [junit4]   2&amp;gt; 	at org.apache.lucene.util.TestRuleAssertionsRequired$1.evaluate(TestRuleAssertionsRequired.java:53)
   [junit4]   2&amp;gt; 	at org.apache.lucene.util.TestRuleMarkFailure$1.evaluate(TestRuleMarkFailure.java:47)
   [junit4]   2&amp;gt; 	at org.apache.lucene.util.TestRuleIgnoreAfterMaxFailures$1.evaluate(TestRuleIgnoreAfterMaxFailures.java:64)
   [junit4]   2&amp;gt; 	at org.apache.lucene.util.TestRuleIgnoreTestSuites$1.evaluate(TestRuleIgnoreTestSuites.java:54)
   [junit4]   2&amp;gt; 	at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)
   [junit4]   2&amp;gt; 	at com.carrotsearch.randomizedtesting.ThreadLeakControl$StatementRunner.run(ThreadLeakControl.java:368)
   [junit4]   2&amp;gt; 	at java.lang.Thread.run(Thread.java:748)
   [junit4]   2&amp;gt; Caused by: java.io.IOException: min/max must be Int or Float field types when collapsing on numeric fields
   [junit4]   2&amp;gt; 	at org.apache.solr.search.CollapsingQParserPlugin$IntFieldValueCollector.&amp;lt;init&amp;gt;(CollapsingQParserPlugin.java:1159)
   [junit4]   2&amp;gt; 	at org.apache.solr.search.CollapsingQParserPlugin$CollectorFactory.getCollector(CollapsingQParserPlugin.java:1401)
   [junit4]   2&amp;gt; 	at org.apache.solr.search.CollapsingQParserPlugin$CollapsingPostFilter.getFilterCollector(CollapsingQParserPlugin.java:366)
   [junit4]   2&amp;gt; 	... 54 more
   [junit4]   2&amp;gt; 
   [junit4]   2&amp;gt; 484681 INFO  (TEST-TestCollapseQParserPlugin.testNumericCollapse-seed#[32531513E27A1FB]) [    ] o.a.s.c.S.Request [collection1]  webapp=null path=null params={q=*:*&amp;amp;fq={!collapse+field%3Dgroup_i+min%3Dtest_l}&amp;amp;sort=test_i+desc} status=500 QTime=63
   [junit4]   2&amp;gt; 484681 ERROR (TEST-TestCollapseQParserPlugin.testNumericCollapse-seed#[32531513E27A1FB]) [    ] o.a.s.SolrTestCaseJ4 REQUEST FAILED: q=*:*&amp;amp;fq={!collapse+field%3Dgroup_i+min%3Dtest_l}&amp;amp;sort=test_i+desc:java.lang.RuntimeException: java.io.IOException: min/max must be Int or Float field types when collapsing on numeric fields
   [junit4]   2&amp;gt; 	at org.apache.solr.search.CollapsingQParserPlugin$CollapsingPostFilter.getFilterCollector(CollapsingQParserPlugin.java:377)
   [junit4]   2&amp;gt; 	at org.apache.solr.search.SolrIndexSearcher.getProcessedFilter(SolrIndexSearcher.java:1085)
   [junit4]   2&amp;gt; 	at org.apache.solr.search.SolrIndexSearcher.getDocListNC(SolrIndexSearcher.java:1541)
   [junit4]   2&amp;gt; 	at org.apache.solr.search.SolrIndexSearcher.getDocListC(SolrIndexSearcher.java:1417)
   [junit4]   2&amp;gt; 	at org.apache.solr.search.SolrIndexSearcher.search(SolrIndexSearcher.java:584)
   [junit4]   2&amp;gt; 	at org.apache.solr.handler.component.QueryComponent.doProcessUngroupedSearch(QueryComponent.java:1435)
   [junit4]   2&amp;gt; 	at org.apache.solr.handler.component.QueryComponent.process(QueryComponent.java:375)
   [junit4]   2&amp;gt; 	at org.apache.solr.handler.component.SearchHandler.handleRequestBody(SearchHandler.java:295)
   [junit4]   2&amp;gt; 	at org.apache.solr.handler.RequestHandlerBase.handleRequest(RequestHandlerBase.java:195)
   [junit4]   2&amp;gt; 	at org.apache.solr.core.SolrCore.execute(SolrCore.java:2503)
   [junit4]   2&amp;gt; 	at org.apache.solr.util.TestHarness.query(TestHarness.java:337)
   [junit4]   2&amp;gt; 	at org.apache.solr.util.TestHarness.query(TestHarness.java:319)
   [junit4]   2&amp;gt; 	at org.apache.solr.SolrTestCaseJ4.assertQ(SolrTestCaseJ4.java:876)
   [junit4]   2&amp;gt; 	at org.apache.solr.SolrTestCaseJ4.assertQ(SolrTestCaseJ4.java:862)
   [junit4]   2&amp;gt; 	at org.apache.solr.search.TestCollapseQParserPlugin.testCollapseQueries(TestCollapseQParserPlugin.java:617)
   [junit4]   2&amp;gt; 	at org.apache.solr.search.TestCollapseQParserPlugin.testNumericCollapse(TestCollapseQParserPlugin.java:220)
   [junit4]   2&amp;gt; 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
   [junit4]   2&amp;gt; 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
   [junit4]   2&amp;gt; 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
   [junit4]   2&amp;gt; 	at java.lang.reflect.Method.invoke(Method.java:498)
   [junit4]   2&amp;gt; 	at com.carrotsearch.randomizedtesting.RandomizedRunner.invoke(RandomizedRunner.java:1737)
   [junit4]   2&amp;gt; 	at com.carrotsearch.randomizedtesting.RandomizedRunner$8.evaluate(RandomizedRunner.java:934)
   [junit4]   2&amp;gt; 	at com.carrotsearch.randomizedtesting.RandomizedRunner$9.evaluate(RandomizedRunner.java:970)
   [junit4]   2&amp;gt; 	at com.carrotsearch.randomizedtesting.RandomizedRunner$10.evaluate(RandomizedRunner.java:984)
   [junit4]   2&amp;gt; 	at com.carrotsearch.randomizedtesting.rules.SystemPropertiesRestoreRule$1.evaluate(SystemPropertiesRestoreRule.java:57)
   [junit4]   2&amp;gt; 	at org.apache.lucene.util.TestRuleSetupTeardownChained$1.evaluate(TestRuleSetupTeardownChained.java:49)
   [junit4]   2&amp;gt; 	at org.apache.lucene.util.AbstractBeforeAfterRule$1.evaluate(AbstractBeforeAfterRule.java:45)
   [junit4]   2&amp;gt; 	at org.apache.lucene.util.TestRuleThreadAndTestName$1.evaluate(TestRuleThreadAndTestName.java:48)
   [junit4]   2&amp;gt; 	at org.apache.lucene.util.TestRuleIgnoreAfterMaxFailures$1.evaluate(TestRuleIgnoreAfterMaxFailures.java:64)
   [junit4]   2&amp;gt; 	at org.apache.lucene.util.TestRuleMarkFailure$1.evaluate(TestRuleMarkFailure.java:47)
   [junit4]   2&amp;gt; 	at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)
   [junit4]   2&amp;gt; 	at com.carrotsearch.randomizedtesting.ThreadLeakControl$StatementRunner.run(ThreadLeakControl.java:368)
   [junit4]   2&amp;gt; 	at com.carrotsearch.randomizedtesting.ThreadLeakControl.forkTimeoutingTask(ThreadLeakControl.java:817)
   [junit4]   2&amp;gt; 	at com.carrotsearch.randomizedtesting.ThreadLeakControl$3.evaluate(ThreadLeakControl.java:468)
   [junit4]   2&amp;gt; 	at com.carrotsearch.randomizedtesting.RandomizedRunner.runSingleTest(RandomizedRunner.java:943)
   [junit4]   2&amp;gt; 	at com.carrotsearch.randomizedtesting.RandomizedRunner$5.evaluate(RandomizedRunner.java:829)
   [junit4]   2&amp;gt; 	at com.carrotsearch.randomizedtesting.RandomizedRunner$6.evaluate(RandomizedRunner.java:879)
   [junit4]   2&amp;gt; 	at com.carrotsearch.randomizedtesting.RandomizedRunner$7.evaluate(RandomizedRunner.java:890)
   [junit4]   2&amp;gt; 	at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)
   [junit4]   2&amp;gt; 	at com.carrotsearch.randomizedtesting.rules.SystemPropertiesRestoreRule$1.evaluate(SystemPropertiesRestoreRule.java:57)
   [junit4]   2&amp;gt; 	at org.apache.lucene.util.AbstractBeforeAfterRule$1.evaluate(AbstractBeforeAfterRule.java:45)
   [junit4]   2&amp;gt; 	at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)
   [junit4]   2&amp;gt; 	at org.apache.lucene.util.TestRuleStoreClassName$1.evaluate(TestRuleStoreClassName.java:41)
   [junit4]   2&amp;gt; 	at com.carrotsearch.randomizedtesting.rules.NoShadowingOrOverridesOnMethodsRule$1.evaluate(NoShadowingOrOverridesOnMethodsRule.java:40)
   [junit4]   2&amp;gt; 	at com.carrotsearch.randomizedtesting.rules.NoShadowingOrOverridesOnMethodsRule$1.evaluate(NoShadowingOrOverridesOnMethodsRule.java:40)
   [junit4]   2&amp;gt; 	at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)
   [junit4]   2&amp;gt; 	at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)
   [junit4]   2&amp;gt; 	at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)
   [junit4]   2&amp;gt; 	at org.apache.lucene.util.TestRuleAssertionsRequired$1.evaluate(TestRuleAssertionsRequired.java:53)
   [junit4]   2&amp;gt; 	at org.apache.lucene.util.TestRuleMarkFailure$1.evaluate(TestRuleMarkFailure.java:47)
   [junit4]   2&amp;gt; 	at org.apache.lucene.util.TestRuleIgnoreAfterMaxFailures$1.evaluate(TestRuleIgnoreAfterMaxFailures.java:64)
   [junit4]   2&amp;gt; 	at org.apache.lucene.util.TestRuleIgnoreTestSuites$1.evaluate(TestRuleIgnoreTestSuites.java:54)
   [junit4]   2&amp;gt; 	at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)
   [junit4]   2&amp;gt; 	at com.carrotsearch.randomizedtesting.ThreadLeakControl$StatementRunner.run(ThreadLeakControl.java:368)
   [junit4]   2&amp;gt; 	at java.lang.Thread.run(Thread.java:748)
   [junit4]   2&amp;gt; Caused by: java.io.IOException: min/max must be Int or Float field types when collapsing on numeric fields
   [junit4]   2&amp;gt; 	at org.apache.solr.search.CollapsingQParserPlugin$IntFieldValueCollector.&amp;lt;init&amp;gt;(CollapsingQParserPlugin.java:1159)
   [junit4]   2&amp;gt; 	at org.apache.solr.search.CollapsingQParserPlugin$CollectorFactory.getCollector(CollapsingQParserPlugin.java:1401)
   [junit4]   2&amp;gt; 	at org.apache.solr.search.CollapsingQParserPlugin$CollapsingPostFilter.getFilterCollector(CollapsingQParserPlugin.java:366)
   [junit4]   2&amp;gt; 	... 54 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13137932">SOLR-11974</key>
            <summary>TestCollapseQParserPlugin.testStringCollapse() failure</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sarowe">Steven Rowe</reporter>
                        <labels>
                    </labels>
                <created>Mon, 12 Feb 2018 18:35:06 +0000</created>
                <updated>Thu, 12 Dec 2019 05:04:39 +0000</updated>
                            <resolved>Thu, 12 Dec 2019 05:04:39 +0000</resolved>
                                                                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="16361261" author="steve_rowe" created="Mon, 12 Feb 2018 18:51:10 +0000"  >&lt;p&gt;Failure started with the &lt;tt&gt;aa157f18335&lt;/tt&gt; commit on &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-8152&quot; title=&quot;Simplify conditionals in JoinUtil &quot; class=&quot;issue-link&quot; data-issue-key=&quot;LUCENE-8152&quot;&gt;&lt;del&gt;LUCENE-8152&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="16361321" author="jpountz" created="Mon, 12 Feb 2018 19:31:51 +0000"  >&lt;p&gt;It looks like the refactoring on &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-8152&quot; title=&quot;Simplify conditionals in JoinUtil &quot; class=&quot;issue-link&quot; data-issue-key=&quot;LUCENE-8152&quot;&gt;&lt;del&gt;LUCENE-8152&lt;/del&gt;&lt;/a&gt; exposes a pre-existing bug with this seed (not all seeds make the test fail). I&apos;ll look into it more tomorrow and mark the test with AwaitsFix for now.&lt;/p&gt;</comment>
                            <comment id="16361325" author="jira-bot" created="Mon, 12 Feb 2018 19:33:24 +0000"  >&lt;p&gt;Commit 91fbdfc15e84dc48cb019360a138fac6745265c8 in lucene-solr&apos;s branch refs/heads/branch_7x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jpountz&quot; class=&quot;user-hover&quot; rel=&quot;jpountz&quot;&gt;jpountz&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=91fbdfc&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=91fbdfc&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11974&quot; title=&quot;TestCollapseQParserPlugin.testStringCollapse() failure&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-11974&quot;&gt;&lt;del&gt;SOLR-11974&lt;/del&gt;&lt;/a&gt;: Disable test.&lt;/p&gt;</comment>
                            <comment id="16361326" author="jira-bot" created="Mon, 12 Feb 2018 19:33:25 +0000"  >&lt;p&gt;Commit b3ea634d7dd037127f5815e6fb50e75d896251b2 in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jpountz&quot; class=&quot;user-hover&quot; rel=&quot;jpountz&quot;&gt;jpountz&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=b3ea634&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=b3ea634&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11974&quot; title=&quot;TestCollapseQParserPlugin.testStringCollapse() failure&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-11974&quot;&gt;&lt;del&gt;SOLR-11974&lt;/del&gt;&lt;/a&gt;: Disable test.&lt;/p&gt;</comment>
                            <comment id="16362062" author="jpountz" created="Tue, 13 Feb 2018 09:45:05 +0000"  >&lt;p&gt;This is a problem with the &lt;tt&gt;oas.search.Grouping&lt;/tt&gt; class: the grouping collector is created via a post filter and is then consumed twice, which breaks the invariant that collectors are called on increasing doc ids. Could someone who is more familiar with grouping and post filters help look into it?&lt;/p&gt;</comment>
                            <comment id="16362268" author="joel.bernstein" created="Tue, 13 Feb 2018 13:00:53 +0000"  >&lt;p&gt;I was surprised to see that we have test case that involved Grouping with the CollapsingQParserPlugin. The CollapsingQParserPlugin really should only be used with results that have not already been collapsed or grouped.&lt;/p&gt;</comment>
                            <comment id="16365375" author="jpountz" created="Thu, 15 Feb 2018 10:45:29 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jbernste&quot; class=&quot;user-hover&quot; rel=&quot;jbernste&quot;&gt;jbernste&lt;/a&gt; So is this test invalid? Should we try to detect when invalid combinations like this are requested?&lt;/p&gt;</comment>
                            <comment id="16365488" author="mkrio" created="Thu, 15 Feb 2018 12:58:45 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jbernste&quot; class=&quot;user-hover&quot; rel=&quot;jbernste&quot;&gt;jbernste&lt;/a&gt;&#160;FYI Not sure if this is related but there are several bugs open due to (intentional or not) chaining of CollapsingQParserPlugins. See&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8807&quot; title=&quot;NPE during spell checking when result collapsing is activated and index got more than one segment.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-8807&quot;&gt;&lt;del&gt;SOLR-8807&lt;/del&gt;&lt;/a&gt;,&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9104&quot; title=&quot;NPE in CollapsingQParser when two fq={!collapse} and zero results&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9104&quot;&gt;&lt;del&gt;SOLR-9104&lt;/del&gt;&lt;/a&gt;,&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10336&quot; title=&quot;NPE during queryCache warming&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10336&quot;&gt;&lt;del&gt;SOLR-10336&lt;/del&gt;&lt;/a&gt;,&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10885&quot; title=&quot;NullPointerException when run collapse filter &quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10885&quot;&gt;&lt;del&gt;SOLR-10885&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7435&quot; title=&quot;NPE can occur if CollapsingQParserPlugin is used two or more times in the same query&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7435&quot;&gt;&lt;del&gt;SOLR-7435&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="16994208" author="munendrasn" created="Thu, 12 Dec 2019 05:04:39 +0000"  >&lt;p&gt;This test has been removed in &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13970&quot; title=&quot;Collapse/Expand and Grouping are not designed to work together, we should fail requests that specify both gracefully&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13970&quot;&gt;&lt;del&gt;SOLR-13970&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13270743">SOLR-13970</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="13135648">LUCENE-8152</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 48 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3q30f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>