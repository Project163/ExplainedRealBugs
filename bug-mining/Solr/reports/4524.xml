<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:44:43 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-14554] BMW algorithm isn&apos;t used when scores are requested</title>
                <link>https://issues.apache.org/jira/browse/SOLR-14554</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;This is because, when scores are requested, we use MultiCollector, and it will end up using a scorer that explicitly skips delegating calls to set the minimum competitive score:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
@Override
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void setScorer(Scorable scorer) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (cacheScores) {
        scorer = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ScoreCachingWrappingScorer(scorer);
      }
      scorer = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; FilterScorable(scorer) {
        @Override
        &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void setMinCompetitiveScore(&lt;span class=&quot;code-object&quot;&gt;float&lt;/span&gt; minScore) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
          &lt;span class=&quot;code-comment&quot;&gt;// Ignore calls to setMinCompetitiveScore so that &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; we wrap two
&lt;/span&gt;          &lt;span class=&quot;code-comment&quot;&gt;// collectors and one of them wants to skip low-scoring hits, then
&lt;/span&gt;          &lt;span class=&quot;code-comment&quot;&gt;// the other collector still sees all hits. We could &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; to reconcile
&lt;/span&gt;          &lt;span class=&quot;code-comment&quot;&gt;// min scores and take the maximum min score across collectors, but
&lt;/span&gt;          &lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; is very unlikely to be helpful in practice.
&lt;/span&gt;        }

      };
      &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; i = 0; i &amp;lt; numCollectors; ++i) {
        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; LeafCollector c = collectors[i];
        c.setScorer(scorer);
      }
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13310478">SOLR-14554</key>
            <summary>BMW algorithm isn&apos;t used when scores are requested</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tflobbe">Tomas Eduardo Fernandez Lobbe</assignee>
                                    <reporter username="tflobbe">Tomas Eduardo Fernandez Lobbe</reporter>
                        <labels>
                    </labels>
                <created>Tue, 9 Jun 2020 21:16:18 +0000</created>
                <updated>Wed, 15 Jul 2020 15:21:48 +0000</updated>
                            <resolved>Tue, 23 Jun 2020 00:13:51 +0000</resolved>
                                    <version>8.6</version>
                    <version>9.0</version>
                                    <fixVersion>8.6</fixVersion>
                    <fixVersion>9.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="17142488" author="jira-bot" created="Mon, 22 Jun 2020 23:51:09 +0000"  >&lt;p&gt;Commit a1be1de67e641229236dfd4648a71030b8a86fc7 in lucene-solr&apos;s branch refs/heads/master from Tomas Eduardo Fernandez Lobbe&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=a1be1de&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=a1be1de&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-14554&quot; title=&quot;BMW algorithm isn&amp;#39;t used when scores are requested&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-14554&quot;&gt;&lt;del&gt;SOLR-14554&lt;/del&gt;&lt;/a&gt;: Let Solr use WAND algorithm when scores are requested (#1566)&lt;/p&gt;

&lt;p&gt;Make MaxScoreCollector set minCompetitiveScore&lt;/p&gt;</comment>
                            <comment id="17142498" author="jira-bot" created="Tue, 23 Jun 2020 00:11:26 +0000"  >&lt;p&gt;Commit 885da40f34095bed9efa419f9b2774d3549d88df in lucene-solr&apos;s branch refs/heads/branch_8x from Tomas Eduardo Fernandez Lobbe&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=885da40&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=885da40&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-14554&quot; title=&quot;BMW algorithm isn&amp;#39;t used when scores are requested&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-14554&quot;&gt;&lt;del&gt;SOLR-14554&lt;/del&gt;&lt;/a&gt;: Let Solr use WAND algorithm when scores are requested (#1566)&lt;/p&gt;

&lt;p&gt;Make MaxScoreCollector set minCompetitiveScore&lt;/p&gt;</comment>
                            <comment id="17158255" author="broustant" created="Wed, 15 Jul 2020 15:09:00 +0000"  >&lt;p&gt;Closing after the 8.6.0 release&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13219220">SOLR-13289</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13310755">LUCENE-9402</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 17 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0fopk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>