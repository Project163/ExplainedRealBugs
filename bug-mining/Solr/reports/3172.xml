<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:17:56 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-9736] HttpSolrCall always prefer leader</title>
                <link>https://issues.apache.org/jira/browse/SOLR-9736</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;Currently, `HttpSolrCall.getCoreByCollection` always picks the first available leader ( or first replica ) of the first slice. It puts undue pressure on leaders and quite possibly on the wrong ones&lt;/p&gt;</description>
                <environment></environment>
        <key id="13018797">SOLR-9736</key>
            <summary>HttpSolrCall always prefer leader</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="shalin">Shalin Shekhar Mangar</assignee>
                                    <reporter username="caomanhdat">Cao Manh Dat</reporter>
                        <labels>
                    </labels>
                <created>Mon, 7 Nov 2016 10:37:50 +0000</created>
                <updated>Wed, 2 Oct 2019 17:23:38 +0000</updated>
                            <resolved>Tue, 15 Nov 2016 08:57:58 +0000</resolved>
                                                    <fixVersion>6.4</fixVersion>
                    <fixVersion>7.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="15643806" author="caomanhdat" created="Mon, 7 Nov 2016 10:40:59 +0000"  >&lt;p&gt;The first attempt for this issue.&lt;/p&gt;</comment>
                            <comment id="15646254" author="caomanhdat" created="Tue, 8 Nov 2016 02:47:07 +0000"  >&lt;p&gt;Cleaner patch for this issue.&lt;/p&gt;</comment>
                            <comment id="15663837" author="shalinmangar" created="Mon, 14 Nov 2016 12:51:31 +0000"  >&lt;p&gt;This helps reduce load on leader cores but doesn&apos;t solve the real problem which is that we might still send the request to the wrong leader. But this is a good first step.&lt;/p&gt;

&lt;p&gt;I updated the patch to add basic javadocs on the new methods in DocCollection as well as on the new RandomIterator class.&lt;/p&gt;</comment>
                            <comment id="15663939" author="shalinmangar" created="Mon, 14 Nov 2016 13:37:44 +0000"  >&lt;p&gt;Upon beasting the new test, I found a reproducible failure:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;ant test  -Dtestcase=HttpSolrCallGetCoreTest -Dtests.method=test -Dtests.seed=9083D720C9C2C732 -Dtests.locale=es-CU -Dtests.timezone=America/Guatemala -Dtests.asserts=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; -Dtests.file.encoding=UTF-8
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Dat, can you please take a look?&lt;/p&gt;</comment>
                            <comment id="15665726" author="caomanhdat" created="Tue, 15 Nov 2016 01:58:48 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=shalin&quot; class=&quot;user-hover&quot; rel=&quot;shalin&quot;&gt;shalin&lt;/a&gt; Thank you for review my patch, because the cores are chosen randomly so we can miss some core is chosen in the test.&lt;/p&gt;

&lt;p&gt;Updated patch, in this patch I modified the test to run more request, to make sure that all the &lt;br/&gt;
cores are chosen ( I ran the test about 300 times and it still passed )&lt;/p&gt;</comment>
                            <comment id="15666546" author="jira-bot" created="Tue, 15 Nov 2016 08:48:40 +0000"  >&lt;p&gt;Commit 0d290ae136b246918eb8e7257a2197cee9910199 in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=shalin&quot; class=&quot;user-hover&quot; rel=&quot;shalin&quot;&gt;shalin&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=0d290ae&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=0d290ae&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9736&quot; title=&quot;HttpSolrCall always prefer leader&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9736&quot;&gt;&lt;del&gt;SOLR-9736&lt;/del&gt;&lt;/a&gt;: Solr resolves the collection name against the first available leader or first replica of the first slice&lt;/p&gt;</comment>
                            <comment id="15666549" author="jira-bot" created="Tue, 15 Nov 2016 08:49:12 +0000"  >&lt;p&gt;Commit eedc284c4d45bf26bca8b92e7a86a45b0c9e2330 in lucene-solr&apos;s branch refs/heads/branch_6x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=shalin&quot; class=&quot;user-hover&quot; rel=&quot;shalin&quot;&gt;shalin&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=eedc284&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=eedc284&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9736&quot; title=&quot;HttpSolrCall always prefer leader&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9736&quot;&gt;&lt;del&gt;SOLR-9736&lt;/del&gt;&lt;/a&gt;: Solr resolves the collection name against the first available leader or first replica of the first slice&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 0d290ae)&lt;/p&gt;</comment>
                            <comment id="15666569" author="shalinmangar" created="Tue, 15 Nov 2016 08:57:59 +0000"  >&lt;p&gt;Thanks Dat!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12838897" name="SOLR-9736.patch" size="13542" author="caomanhdat" created="Tue, 15 Nov 2016 01:58:48 +0000"/>
                            <attachment id="12838750" name="SOLR-9736.patch" size="13557" author="shalin" created="Mon, 14 Nov 2016 12:51:31 +0000"/>
                            <attachment id="12837899" name="SOLR-9736.patch" size="13186" author="caomanhdat" created="Tue, 8 Nov 2016 02:47:07 +0000"/>
                            <attachment id="12837736" name="SOLR-9736.patch" size="16238" author="caomanhdat" created="Mon, 7 Nov 2016 10:40:59 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 1 week ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i35zxj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>