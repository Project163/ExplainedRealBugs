<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:07:38 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-8026] DistribJoinFromCollectionTest test failures</title>
                <link>https://issues.apache.org/jira/browse/SOLR-8026</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;Trunk DistribJoinFromCollectionTest is failing for me locally and appears be failing on jenkins as well. Here is the error from my local machine. &lt;/p&gt;


&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;junit4&amp;#93;&lt;/span&gt;   2&amp;gt; NOTE: reproduce with: ant test  -Dtestcase=DistribJoinFromCollectionTest -Dtests.method=test -Dtests.seed=5C8C1B007BE0841E -Dtests.slow=true -Dtests.locale=it -Dtests.timezone=Australia/Melbourne -Dtests.asserts=true -Dtests.file.encoding=ISO-8859-1&lt;br/&gt;
   &lt;span class=&quot;error&quot;&gt;&amp;#91;junit4&amp;#93;&lt;/span&gt; FAILURE 44.4s | DistribJoinFromCollectionTest.test &amp;lt;&amp;lt;&amp;lt;&lt;br/&gt;
   &lt;span class=&quot;error&quot;&gt;&amp;#91;junit4&amp;#93;&lt;/span&gt;    &amp;gt; Throwable #1: java.lang.AssertionError: &lt;br/&gt;
   &lt;span class=&quot;error&quot;&gt;&amp;#91;junit4&amp;#93;&lt;/span&gt;    &amp;gt; Expected: not &quot;1.0&quot;&lt;br/&gt;
   &lt;span class=&quot;error&quot;&gt;&amp;#91;junit4&amp;#93;&lt;/span&gt;    &amp;gt;      got: &quot;1.0&quot;&lt;br/&gt;
   &lt;span class=&quot;error&quot;&gt;&amp;#91;junit4&amp;#93;&lt;/span&gt;    &amp;gt; 	at __randomizedtesting.SeedInfo.seed(&lt;span class=&quot;error&quot;&gt;&amp;#91;5C8C1B007BE0841E:D4D824DAD51CE9E6&amp;#93;&lt;/span&gt;:0)&lt;br/&gt;
   &lt;span class=&quot;error&quot;&gt;&amp;#91;junit4&amp;#93;&lt;/span&gt;    &amp;gt; 	at org.apache.solr.cloud.DistribJoinFromCollectionTest.assertScore(DistribJoinFromCollectionTest.java:170)&lt;br/&gt;
   &lt;span class=&quot;error&quot;&gt;&amp;#91;junit4&amp;#93;&lt;/span&gt;    &amp;gt; 	at org.apache.solr.cloud.DistribJoinFromCollectionTest.testJoins(DistribJoinFromCollectionTest.java:132)&lt;br/&gt;
   &lt;span class=&quot;error&quot;&gt;&amp;#91;junit4&amp;#93;&lt;/span&gt;    &amp;gt; 	at org.apache.solr.cloud.DistribJoinFromCollectionTest.test(DistribJoinFromCollectionTest.java:100)&lt;br/&gt;
   &lt;span class=&quot;error&quot;&gt;&amp;#91;junit4&amp;#93;&lt;/span&gt;    &amp;gt; 	at org.apache.solr.BaseDistributedSearchTestCase$ShardsRepeatRule$ShardsFixedStatement.callStatement(BaseDistributedSearchTestCase.java:963)&lt;br/&gt;
   &lt;span class=&quot;error&quot;&gt;&amp;#91;junit4&amp;#93;&lt;/span&gt;    &amp;gt; 	at org.apache.solr.BaseDistributedSearchTestCase$ShardsRepeatRule$ShardsStatement.evaluate(BaseDistributedSearchTestCase.java:938)&lt;br/&gt;
   &lt;span class=&quot;error&quot;&gt;&amp;#91;junit4&amp;#93;&lt;/span&gt;    &amp;gt; 	at java.lang.Thread.run(Thread.java:745)&lt;br/&gt;
   &lt;span class=&quot;error&quot;&gt;&amp;#91;junit4&amp;#93;&lt;/span&gt;   2&amp;gt; 44372 INFO  (SUITE-DistribJoinFromCollectionTest-seed#&lt;span class=&quot;error&quot;&gt;&amp;#91;5C8C1B007BE0841E&amp;#93;&lt;/span&gt;-worker) &lt;span class=&quot;error&quot;&gt;&amp;#91;n:127.0.0.1:59399_ c:from_1x2 s:shard1 r:core_node2 x:from_1x2_shard1_replica2&amp;#93;&lt;/span&gt; o.a.s.SolrTestCaseJ4 ###deleteCore&lt;/p&gt;</description>
                <environment></environment>
        <key id="12862877">SOLR-8026</key>
            <summary>DistribJoinFromCollectionTest test failures</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mkhl">Mikhail Khludnev</assignee>
                                    <reporter username="jbernste">Joel Bernstein</reporter>
                        <labels>
                    </labels>
                <created>Wed, 9 Sep 2015 22:04:17 +0000</created>
                <updated>Mon, 9 May 2016 18:48:31 +0000</updated>
                            <resolved>Fri, 18 Sep 2015 18:18:13 +0000</resolved>
                                    <version>6.0</version>
                                    <fixVersion>5.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14737689" author="joel.bernstein" created="Wed, 9 Sep 2015 22:13:27 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jpountz&quot; class=&quot;user-hover&quot; rel=&quot;jpountz&quot;&gt;jpountz&lt;/a&gt;, perhaps a change in &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-6590&quot; title=&quot;Explore different ways to apply boosts&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LUCENE-6590&quot;&gt;&lt;del&gt;LUCENE-6590&lt;/del&gt;&lt;/a&gt; is causing the error?&lt;/p&gt;</comment>
                            <comment id="14737870" author="mkhludnev" created="Thu, 10 Sep 2015 00:24:31 +0000"  >&lt;p&gt;It seems like scoring values somehow changed. The older straightforward asserts don&apos;t work anymore. I&apos;m commenting assert for score. &lt;/p&gt;</comment>
                            <comment id="14737875" author="yseeley@gmail.com" created="Thu, 10 Sep 2015 00:27:49 +0000"  >&lt;p&gt;Or maybe &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-6758&quot; title=&quot;Adding a SHOULD clause to a BQ over an empty field clears the score when using DefaultSimilarity&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LUCENE-6758&quot;&gt;&lt;del&gt;LUCENE-6758&lt;/del&gt;&lt;/a&gt; ? &lt;br/&gt;
&lt;a href=&quot;http://jenkins.thetaphi.de/job/Lucene-Solr-trunk-Linux/14166/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://jenkins.thetaphi.de/job/Lucene-Solr-trunk-Linux/14166/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;All of the trunk jenkins are now failing.&lt;/p&gt;</comment>
                            <comment id="14737877" author="jira-bot" created="Thu, 10 Sep 2015 00:29:45 +0000"  >&lt;p&gt;Commit 1702138 from mkhl@apache.org in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1702138&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1702138&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8026&quot; title=&quot;DistribJoinFromCollectionTest test failures&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-8026&quot;&gt;&lt;del&gt;SOLR-8026&lt;/del&gt;&lt;/a&gt;: ignoring score values asserts on cloud score join (&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7775&quot; title=&quot;support SolrCloud collection as fromIndex param in query-time join&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7775&quot;&gt;&lt;del&gt;SOLR-7775&lt;/del&gt;&lt;/a&gt;)&lt;/p&gt;</comment>
                            <comment id="14737880" author="mkhludnev" created="Thu, 10 Sep 2015 00:31:08 +0000"  >&lt;p&gt;Excuse me for commiting w/o review. it&apos;s too late for me. &lt;/p&gt;</comment>
                            <comment id="14737916" author="yseeley@gmail.com" created="Thu, 10 Sep 2015 00:57:45 +0000"  >&lt;p&gt;Confirmed, the test passes before this commit ( &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-6758&quot; title=&quot;Adding a SHOULD clause to a BQ over an empty field clears the score when using DefaultSimilarity&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LUCENE-6758&quot;&gt;&lt;del&gt;LUCENE-6758&lt;/del&gt;&lt;/a&gt; ) and fails after.&lt;br/&gt;
Anything that compares scores needs to change...&lt;/p&gt;</comment>
                            <comment id="14740271" author="mkhludnev" created="Fri, 11 Sep 2015 06:16:05 +0000"  >&lt;p&gt;the test relied on fractional scores coming from any query to distinguish between scoring and nonscoring join, which has 1.0 score hardcoded.&lt;br/&gt;
After the boosting refactoring, trivial term query returns evenly normalized score 1.0 (what a breakthrough!) that sadly made both joins indistinguishable. Here is the patch, which adds a weird term to skew weight normalization. Thus, &quot;from&quot; query is changed from &lt;tt&gt;match_s:c&lt;/tt&gt; to &lt;tt&gt;match_s:c match_s:not_1_0_score_after_weight_normalization&lt;/tt&gt;&lt;br/&gt;
Test works again! (until nonexistent terms are ignored during normalization)&lt;br/&gt;
Please review   &lt;/p&gt;</comment>
                            <comment id="14745106" author="mkhludnev" created="Tue, 15 Sep 2015 09:11:37 +0000"  >&lt;p&gt;I understand that no one have a time to review. Since it&apos;s only test change, I bring it back (commit) in a day or two.  &lt;/p&gt;</comment>
                            <comment id="14847345" author="jira-bot" created="Fri, 18 Sep 2015 12:22:58 +0000"  >&lt;p&gt;Commit 1703817 from mkhl@apache.org in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1703817&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1703817&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8026&quot; title=&quot;DistribJoinFromCollectionTest test failures&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-8026&quot;&gt;&lt;del&gt;SOLR-8026&lt;/del&gt;&lt;/a&gt;: skew test query to get factional scores for assert&lt;/p&gt;</comment>
                            <comment id="14876082" author="mkhludnev" created="Fri, 18 Sep 2015 18:18:13 +0000"  >&lt;p&gt;passed &lt;a href=&quot;http://jenkins.thetaphi.de/job/Lucene-Solr-trunk-Linux/14241/testReport/org.apache.solr.cloud/DistribJoinFromCollectionTest/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://jenkins.thetaphi.de/job/Lucene-Solr-trunk-Linux/14241/testReport/org.apache.solr.cloud/DistribJoinFromCollectionTest/&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12844275">SOLR-7775</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="12857882">LUCENE-6758</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12755335" name="SOLR-8026.patch" size="6292" author="mkhl" created="Fri, 11 Sep 2015 06:16:05 +0000"/>
                            <attachment id="12755036" name="SOLR-8026.patch" size="979" author="mkhl" created="Thu, 10 Sep 2015 00:24:31 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 9 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2jyuf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>