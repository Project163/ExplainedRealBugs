<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:34:29 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-10028] SegmentsInfoRequestHandlerTest.testSegmentInfosVersion fails in master</title>
                <link>https://issues.apache.org/jira/browse/SOLR-10028</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;Failed in Jenkins: &lt;a href=&quot;https://jenkins.thetaphi.de/job/Lucene-Solr-master-Solaris/1092/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://jenkins.thetaphi.de/job/Lucene-Solr-master-Solaris/1092/&lt;/a&gt;&lt;br/&gt;
It reproduces consistently in my mac also with the latest master (ca50e5b61c2d8bfb703169cea2fb0ab20fd24c6b):&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;ant test  -Dtestcase=SegmentsInfoRequestHandlerTest -Dtests.method=testSegmentInfosVersion -Dtests.seed=619B9D838D6F1E29 -Dtests.slow=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; -Dtests.locale=en-AU -Dtests.timezone=America/Manaus -Dtests.asserts=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; -Dtests.file.encoding=ISO-8859-1
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;There are similar failures in previous Jenkins builds since last month&lt;/p&gt;</description>
                <environment></environment>
        <key id="13037204">SOLR-10028</key>
            <summary>SegmentsInfoRequestHandlerTest.testSegmentInfosVersion fails in master</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tflobbe">Tomas Eduardo Fernandez Lobbe</assignee>
                                    <reporter username="tflobbe">Tomas Eduardo Fernandez Lobbe</reporter>
                        <labels>
                    </labels>
                <created>Mon, 23 Jan 2017 22:57:56 +0000</created>
                <updated>Sat, 8 Jun 2019 15:33:34 +0000</updated>
                            <resolved>Mon, 27 Aug 2018 21:07:32 +0000</resolved>
                                                    <fixVersion>7.5</fixVersion>
                    <fixVersion>8.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15867849" author="steve_rowe" created="Wed, 15 Feb 2017 13:39:54 +0000"  >&lt;p&gt;My Jenkins found a reproducing branch_6x seed:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;   [junit4]   2&amp;gt; NOTE: reproduce with: ant test  -Dtestcase=SegmentsInfoRequestHandlerTest -Dtests.method=testSegmentInfosVersion -Dtests.seed=C5730E96C615C052 -Dtests.slow=true -Dtests.locale=ko -Dtests.timezone=America/Paramaribo -Dtests.asserts=true -Dtests.file.encoding=UTF-8
   [junit4] ERROR   0.04s J2  | SegmentsInfoRequestHandlerTest.testSegmentInfosVersion &amp;lt;&amp;lt;&amp;lt;
   [junit4]    &amp;gt; Throwable #1: java.lang.RuntimeException: Exception during query
   [junit4]    &amp;gt; 	at __randomizedtesting.SeedInfo.seed([C5730E96C615C052:3DAD9B7EBE791101]:0)
   [junit4]    &amp;gt; 	at org.apache.solr.SolrTestCaseJ4.assertQ(SolrTestCaseJ4.java:918)
   [junit4]    &amp;gt; 	at org.apache.solr.handler.admin.SegmentsInfoRequestHandlerTest.testSegmentInfosVersion(SegmentsInfoRequestHandlerTest.java:70)
   [junit4]    &amp;gt; 	at java.lang.Thread.run(Thread.java:745)
   [junit4]    &amp;gt; Caused by: java.lang.RuntimeException: REQUEST FAILED: xpath=2=count(//lst[@name=&apos;segments&apos;]/lst/str[@name=&apos;version&apos;][.=&apos;6.5.0&apos;])
   [junit4]    &amp;gt; 	xml response was: &amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;
   [junit4]    &amp;gt; &amp;lt;response&amp;gt;
   [junit4]    &amp;gt; &amp;lt;lst name=&quot;responseHeader&quot;&amp;gt;&amp;lt;int name=&quot;status&quot;&amp;gt;0&amp;lt;/int&amp;gt;&amp;lt;int name=&quot;QTime&quot;&amp;gt;8&amp;lt;/int&amp;gt;&amp;lt;/lst&amp;gt;&amp;lt;lst name=&quot;segments&quot;&amp;gt;&amp;lt;lst name=&quot;_0&quot;&amp;gt;&amp;lt;str name=&quot;name&quot;&amp;gt;_0&amp;lt;/str&amp;gt;&amp;lt;int name=&quot;delCount&quot;&amp;gt;1&amp;lt;/int&amp;gt;&amp;lt;long name=&quot;sizeInBytes&quot;&amp;gt;2047&amp;lt;/long&amp;gt;&amp;lt;int name=&quot;size&quot;&amp;gt;4&amp;lt;/int&amp;gt;&amp;lt;date name=&quot;age&quot;&amp;gt;2017-02-14T22:04:42.631Z&amp;lt;/date&amp;gt;&amp;lt;str name=&quot;source&quot;&amp;gt;flush&amp;lt;/str&amp;gt;&amp;lt;str name=&quot;version&quot;&amp;gt;6.5.0&amp;lt;/str&amp;gt;&amp;lt;/lst&amp;gt;&amp;lt;lst name=&quot;_1&quot;&amp;gt;&amp;lt;str name=&quot;name&quot;&amp;gt;_1&amp;lt;/str&amp;gt;&amp;lt;int name=&quot;delCount&quot;&amp;gt;0&amp;lt;/int&amp;gt;&amp;lt;long name=&quot;sizeInBytes&quot;&amp;gt;1869&amp;lt;/long&amp;gt;&amp;lt;int name=&quot;size&quot;&amp;gt;1&amp;lt;/int&amp;gt;&amp;lt;date name=&quot;age&quot;&amp;gt;2017-02-14T22:04:42.684Z&amp;lt;/date&amp;gt;&amp;lt;str name=&quot;source&quot;&amp;gt;flush&amp;lt;/str&amp;gt;&amp;lt;str name=&quot;version&quot;&amp;gt;6.5.0&amp;lt;/str&amp;gt;&amp;lt;/lst&amp;gt;&amp;lt;lst name=&quot;_2&quot;&amp;gt;&amp;lt;str name=&quot;name&quot;&amp;gt;_2&amp;lt;/str&amp;gt;&amp;lt;int name=&quot;delCount&quot;&amp;gt;0&amp;lt;/int&amp;gt;&amp;lt;long name=&quot;sizeInBytes&quot;&amp;gt;1980&amp;lt;/long&amp;gt;&amp;lt;int name=&quot;size&quot;&amp;gt;4&amp;lt;/int&amp;gt;&amp;lt;date name=&quot;age&quot;&amp;gt;2017-02-14T22:04:42.752Z&amp;lt;/date&amp;gt;&amp;lt;str name=&quot;source&quot;&amp;gt;flush&amp;lt;/str&amp;gt;&amp;lt;str name=&quot;version&quot;&amp;gt;6.5.0&amp;lt;/str&amp;gt;&amp;lt;/lst&amp;gt;&amp;lt;lst name=&quot;_3&quot;&amp;gt;&amp;lt;str name=&quot;name&quot;&amp;gt;_3&amp;lt;/str&amp;gt;&amp;lt;int name=&quot;delCount&quot;&amp;gt;0&amp;lt;/int&amp;gt;&amp;lt;long name=&quot;sizeInBytes&quot;&amp;gt;1869&amp;lt;/long&amp;gt;&amp;lt;int name=&quot;size&quot;&amp;gt;1&amp;lt;/int&amp;gt;&amp;lt;date name=&quot;age&quot;&amp;gt;2017-02-14T22:04:42.775Z&amp;lt;/date&amp;gt;&amp;lt;str name=&quot;source&quot;&amp;gt;flush&amp;lt;/str&amp;gt;&amp;lt;str name=&quot;version&quot;&amp;gt;6.5.0&amp;lt;/str&amp;gt;&amp;lt;/lst&amp;gt;&amp;lt;/lst&amp;gt;
   [junit4]    &amp;gt; &amp;lt;/response&amp;gt;
   [junit4]    &amp;gt; 	request was:qt=/admin/segments&amp;amp;wt=xml
   [junit4]    &amp;gt; 	at org.apache.solr.SolrTestCaseJ4.assertQ(SolrTestCaseJ4.java:911)
   [junit4]    &amp;gt; 	... 40 more
[...]
   [junit4]   2&amp;gt; NOTE: test params are: codec=Asserting(Lucene62), sim=RandomSimilarity(queryNorm=false,coord=crazy): {}, locale=ko, timezone=America/Paramaribo
   [junit4]   2&amp;gt; NOTE: Linux 4.1.0-custom2-amd64 amd64/Oracle Corporation 1.8.0_77 (64-bit)/cpus=16,threads=1,free=190574568,total=525860864
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15884379" author="steve_rowe" created="Sat, 25 Feb 2017 20:57:04 +0000"  >&lt;p&gt;My Jenkins found a reproducing master seed:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Checking out Revision 99e8ef2304b67712d45a2393e649c5319aaac972 (refs/remotes/origin/master)
[...]
   [junit4]   2&amp;gt; 553808 ERROR (TEST-SegmentsInfoRequestHandlerTest.testSegmentInfosVersion-seed#[8EE283F9B925B4AC]) [    ] o.a.s.SolrTestCaseJ4 REQUEST FAILED: xpath=2=count(//lst[@name=&apos;segments&apos;]/lst/str[@name=&apos;version&apos;][.=&apos;7.0.0&apos;])
   [junit4]   2&amp;gt; 	xml response was: &amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;
   [junit4]   2&amp;gt; &amp;lt;response&amp;gt;
   [junit4]   2&amp;gt; &amp;lt;lst name=&quot;responseHeader&quot;&amp;gt;&amp;lt;int name=&quot;status&quot;&amp;gt;0&amp;lt;/int&amp;gt;&amp;lt;int name=&quot;QTime&quot;&amp;gt;1&amp;lt;/int&amp;gt;&amp;lt;/lst&amp;gt;&amp;lt;lst name=&quot;segments&quot;&amp;gt;&amp;lt;lst name=&quot;_0&quot;&amp;gt;&amp;lt;str name=&quot;name&quot;&amp;gt;_0&amp;lt;/str&amp;gt;&amp;lt;int name=&quot;delCount&quot;&amp;gt;1&amp;lt;/int&amp;gt;&amp;lt;long name=&quot;sizeInBytes&quot;&amp;gt;2534&amp;lt;/long&amp;gt;&amp;lt;int name=&quot;size&quot;&amp;gt;4&amp;lt;/int&amp;gt;&amp;lt;date name=&quot;age&quot;&amp;gt;2017-02-25T02:51:39.320Z&amp;lt;/date&amp;gt;&amp;lt;str name=&quot;source&quot;&amp;gt;flush&amp;lt;/str&amp;gt;&amp;lt;str name=&quot;version&quot;&amp;gt;7.0.0&amp;lt;/str&amp;gt;&amp;lt;/lst&amp;gt;&amp;lt;lst name=&quot;_1&quot;&amp;gt;&amp;lt;str name=&quot;name&quot;&amp;gt;_1&amp;lt;/str&amp;gt;&amp;lt;int name=&quot;delCount&quot;&amp;gt;0&amp;lt;/int&amp;gt;&amp;lt;long name=&quot;sizeInBytes&quot;&amp;gt;2356&amp;lt;/long&amp;gt;&amp;lt;int name=&quot;size&quot;&amp;gt;1&amp;lt;/int&amp;gt;&amp;lt;date name=&quot;age&quot;&amp;gt;2017-02-25T02:51:39.328Z&amp;lt;/date&amp;gt;&amp;lt;str name=&quot;source&quot;&amp;gt;flush&amp;lt;/str&amp;gt;&amp;lt;str name=&quot;version&quot;&amp;gt;7.0.0&amp;lt;/str&amp;gt;&amp;lt;/lst&amp;gt;&amp;lt;lst name=&quot;_2&quot;&amp;gt;&amp;lt;str name=&quot;name&quot;&amp;gt;_2&amp;lt;/str&amp;gt;&amp;lt;int name=&quot;delCount&quot;&amp;gt;0&amp;lt;/int&amp;gt;&amp;lt;long name=&quot;sizeInBytes&quot;&amp;gt;2467&amp;lt;/long&amp;gt;&amp;lt;int name=&quot;size&quot;&amp;gt;4&amp;lt;/int&amp;gt;&amp;lt;date name=&quot;age&quot;&amp;gt;2017-02-25T02:51:39.341Z&amp;lt;/date&amp;gt;&amp;lt;str name=&quot;source&quot;&amp;gt;flush&amp;lt;/str&amp;gt;&amp;lt;str name=&quot;version&quot;&amp;gt;7.0.0&amp;lt;/str&amp;gt;&amp;lt;/lst&amp;gt;&amp;lt;lst name=&quot;_3&quot;&amp;gt;&amp;lt;str name=&quot;name&quot;&amp;gt;_3&amp;lt;/str&amp;gt;&amp;lt;int name=&quot;delCount&quot;&amp;gt;0&amp;lt;/int&amp;gt;&amp;lt;long name=&quot;sizeInBytes&quot;&amp;gt;2356&amp;lt;/long&amp;gt;&amp;lt;int name=&quot;size&quot;&amp;gt;1&amp;lt;/int&amp;gt;&amp;lt;date name=&quot;age&quot;&amp;gt;2017-02-25T02:51:39.343Z&amp;lt;/date&amp;gt;&amp;lt;str name=&quot;source&quot;&amp;gt;flush&amp;lt;/str&amp;gt;&amp;lt;str name=&quot;version&quot;&amp;gt;7.0.0&amp;lt;/str&amp;gt;&amp;lt;/lst&amp;gt;&amp;lt;/lst&amp;gt;
   [junit4]   2&amp;gt; &amp;lt;/response&amp;gt;
   [junit4]   2&amp;gt; 
   [junit4]   2&amp;gt; 	request was:qt=/admin/segments&amp;amp;wt=xml
   [junit4]   2&amp;gt; 553808 ERROR (TEST-SegmentsInfoRequestHandlerTest.testSegmentInfosVersion-seed#[8EE283F9B925B4AC]) [    ] o.a.s.SolrTestCaseJ4 REQUEST FAILED: qt=/admin/segments&amp;amp;wt=xml:java.lang.RuntimeException: REQUEST FAILED: xpath=2=count(//lst[@name=&apos;segments&apos;]/lst/str[@name=&apos;version&apos;][.=&apos;7.0.0&apos;])
   [junit4]   2&amp;gt; 	xml response was: &amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;
   [junit4]   2&amp;gt; &amp;lt;response&amp;gt;
   [junit4]   2&amp;gt; &amp;lt;lst name=&quot;responseHeader&quot;&amp;gt;&amp;lt;int name=&quot;status&quot;&amp;gt;0&amp;lt;/int&amp;gt;&amp;lt;int name=&quot;QTime&quot;&amp;gt;1&amp;lt;/int&amp;gt;&amp;lt;/lst&amp;gt;&amp;lt;lst name=&quot;segments&quot;&amp;gt;&amp;lt;lst name=&quot;_0&quot;&amp;gt;&amp;lt;str name=&quot;name&quot;&amp;gt;_0&amp;lt;/str&amp;gt;&amp;lt;int name=&quot;delCount&quot;&amp;gt;1&amp;lt;/int&amp;gt;&amp;lt;long name=&quot;sizeInBytes&quot;&amp;gt;2534&amp;lt;/long&amp;gt;&amp;lt;int name=&quot;size&quot;&amp;gt;4&amp;lt;/int&amp;gt;&amp;lt;date name=&quot;age&quot;&amp;gt;2017-02-25T02:51:39.320Z&amp;lt;/date&amp;gt;&amp;lt;str name=&quot;source&quot;&amp;gt;flush&amp;lt;/str&amp;gt;&amp;lt;str name=&quot;version&quot;&amp;gt;7.0.0&amp;lt;/str&amp;gt;&amp;lt;/lst&amp;gt;&amp;lt;lst name=&quot;_1&quot;&amp;gt;&amp;lt;str name=&quot;name&quot;&amp;gt;_1&amp;lt;/str&amp;gt;&amp;lt;int name=&quot;delCount&quot;&amp;gt;0&amp;lt;/int&amp;gt;&amp;lt;long name=&quot;sizeInBytes&quot;&amp;gt;2356&amp;lt;/long&amp;gt;&amp;lt;int name=&quot;size&quot;&amp;gt;1&amp;lt;/int&amp;gt;&amp;lt;date name=&quot;age&quot;&amp;gt;2017-02-25T02:51:39.328Z&amp;lt;/date&amp;gt;&amp;lt;str name=&quot;source&quot;&amp;gt;flush&amp;lt;/str&amp;gt;&amp;lt;str name=&quot;version&quot;&amp;gt;7.0.0&amp;lt;/str&amp;gt;&amp;lt;/lst&amp;gt;&amp;lt;lst name=&quot;_2&quot;&amp;gt;&amp;lt;str name=&quot;name&quot;&amp;gt;_2&amp;lt;/str&amp;gt;&amp;lt;int name=&quot;delCount&quot;&amp;gt;0&amp;lt;/int&amp;gt;&amp;lt;long name=&quot;sizeInBytes&quot;&amp;gt;2467&amp;lt;/long&amp;gt;&amp;lt;int name=&quot;size&quot;&amp;gt;4&amp;lt;/int&amp;gt;&amp;lt;date name=&quot;age&quot;&amp;gt;2017-02-25T02:51:39.341Z&amp;lt;/date&amp;gt;&amp;lt;str name=&quot;source&quot;&amp;gt;flush&amp;lt;/str&amp;gt;&amp;lt;str name=&quot;version&quot;&amp;gt;7.0.0&amp;lt;/str&amp;gt;&amp;lt;/lst&amp;gt;&amp;lt;lst name=&quot;_3&quot;&amp;gt;&amp;lt;str name=&quot;name&quot;&amp;gt;_3&amp;lt;/str&amp;gt;&amp;lt;int name=&quot;delCount&quot;&amp;gt;0&amp;lt;/int&amp;gt;&amp;lt;long name=&quot;sizeInBytes&quot;&amp;gt;2356&amp;lt;/long&amp;gt;&amp;lt;int name=&quot;size&quot;&amp;gt;1&amp;lt;/int&amp;gt;&amp;lt;date name=&quot;age&quot;&amp;gt;2017-02-25T02:51:39.343Z&amp;lt;/date&amp;gt;&amp;lt;str name=&quot;source&quot;&amp;gt;flush&amp;lt;/str&amp;gt;&amp;lt;str name=&quot;version&quot;&amp;gt;7.0.0&amp;lt;/str&amp;gt;&amp;lt;/lst&amp;gt;&amp;lt;/lst&amp;gt;
   [junit4]   2&amp;gt; &amp;lt;/response&amp;gt;
   [junit4]   2&amp;gt; 
   [junit4]   2&amp;gt; 	request was:qt=/admin/segments&amp;amp;wt=xml
   [junit4]   2&amp;gt; 	at org.apache.solr.SolrTestCaseJ4.assertQ(SolrTestCaseJ4.java:912)
   [junit4]   2&amp;gt; 	at org.apache.solr.handler.admin.SegmentsInfoRequestHandlerTest.testSegmentInfosVersion(SegmentsInfoRequestHandlerTest.java:70)
   [junit4]   2&amp;gt; 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
   [junit4]   2&amp;gt; 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
   [junit4]   2&amp;gt; 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
   [junit4]   2&amp;gt; 	at java.lang.reflect.Method.invoke(Method.java:498)
   [junit4]   2&amp;gt; 	at com.carrotsearch.randomizedtesting.RandomizedRunner.invoke(RandomizedRunner.java:1713)
   [junit4]   2&amp;gt; 	at com.carrotsearch.randomizedtesting.RandomizedRunner$8.evaluate(RandomizedRunner.java:907)
   [junit4]   2&amp;gt; 	at com.carrotsearch.randomizedtesting.RandomizedRunner$9.evaluate(RandomizedRunner.java:943)
   [junit4]   2&amp;gt; 	at com.carrotsearch.randomizedtesting.RandomizedRunner$10.evaluate(RandomizedRunner.java:957)
   [junit4]   2&amp;gt; 	at com.carrotsearch.randomizedtesting.rules.SystemPropertiesRestoreRule$1.evaluate(SystemPropertiesRestoreRule.java:57)
   [junit4]   2&amp;gt; 	at org.apache.lucene.util.TestRuleSetupTeardownChained$1.evaluate(TestRuleSetupTeardownChained.java:49)
   [junit4]   2&amp;gt; 	at org.apache.lucene.util.AbstractBeforeAfterRule$1.evaluate(AbstractBeforeAfterRule.java:45)
   [junit4]   2&amp;gt; 	at org.apache.lucene.util.TestRuleThreadAndTestName$1.evaluate(TestRuleThreadAndTestName.java:48)
   [junit4]   2&amp;gt; 	at org.apache.lucene.util.TestRuleIgnoreAfterMaxFailures$1.evaluate(TestRuleIgnoreAfterMaxFailures.java:64)
   [junit4]   2&amp;gt; 	at org.apache.lucene.util.TestRuleMarkFailure$1.evaluate(TestRuleMarkFailure.java:47)
   [junit4]   2&amp;gt; 	at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)
   [junit4]   2&amp;gt; 	at com.carrotsearch.randomizedtesting.ThreadLeakControl$StatementRunner.run(ThreadLeakControl.java:368)
   [junit4]   2&amp;gt; 	at com.carrotsearch.randomizedtesting.ThreadLeakControl.forkTimeoutingTask(ThreadLeakControl.java:817)
   [junit4]   2&amp;gt; 	at com.carrotsearch.randomizedtesting.ThreadLeakControl$3.evaluate(ThreadLeakControl.java:468)
   [junit4]   2&amp;gt; 	at com.carrotsearch.randomizedtesting.RandomizedRunner.runSingleTest(RandomizedRunner.java:916)
   [junit4]   2&amp;gt; 	at com.carrotsearch.randomizedtesting.RandomizedRunner$5.evaluate(RandomizedRunner.java:802)
   [junit4]   2&amp;gt; 	at com.carrotsearch.randomizedtesting.RandomizedRunner$6.evaluate(RandomizedRunner.java:852)
   [junit4]   2&amp;gt; 	at com.carrotsearch.randomizedtesting.RandomizedRunner$7.evaluate(RandomizedRunner.java:863)
   [junit4]   2&amp;gt; 	at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)
   [junit4]   2&amp;gt; 	at com.carrotsearch.randomizedtesting.rules.SystemPropertiesRestoreRule$1.evaluate(SystemPropertiesRestoreRule.java:57)
   [junit4]   2&amp;gt; 	at org.apache.lucene.util.AbstractBeforeAfterRule$1.evaluate(AbstractBeforeAfterRule.java:45)
   [junit4]   2&amp;gt; 	at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)
   [junit4]   2&amp;gt; 	at org.apache.lucene.util.TestRuleStoreClassName$1.evaluate(TestRuleStoreClassName.java:41)
   [junit4]   2&amp;gt; 	at com.carrotsearch.randomizedtesting.rules.NoShadowingOrOverridesOnMethodsRule$1.evaluate(NoShadowingOrOverridesOnMethodsRule.java:40)
   [junit4]   2&amp;gt; 	at com.carrotsearch.randomizedtesting.rules.NoShadowingOrOverridesOnMethodsRule$1.evaluate(NoShadowingOrOverridesOnMethodsRule.java:40)
   [junit4]   2&amp;gt; 	at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)
   [junit4]   2&amp;gt; 	at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)
   [junit4]   2&amp;gt; 	at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)
   [junit4]   2&amp;gt; 	at org.apache.lucene.util.TestRuleAssertionsRequired$1.evaluate(TestRuleAssertionsRequired.java:53)
   [junit4]   2&amp;gt; 	at org.apache.lucene.util.TestRuleMarkFailure$1.evaluate(TestRuleMarkFailure.java:47)
   [junit4]   2&amp;gt; 	at org.apache.lucene.util.TestRuleIgnoreAfterMaxFailures$1.evaluate(TestRuleIgnoreAfterMaxFailures.java:64)
   [junit4]   2&amp;gt; 	at org.apache.lucene.util.TestRuleIgnoreTestSuites$1.evaluate(TestRuleIgnoreTestSuites.java:54)
   [junit4]   2&amp;gt; 	at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)
   [junit4]   2&amp;gt; 	at com.carrotsearch.randomizedtesting.ThreadLeakControl$StatementRunner.run(ThreadLeakControl.java:368)
   [junit4]   2&amp;gt; 	at java.lang.Thread.run(Thread.java:745)
   [junit4]   2&amp;gt; 
   [junit4]   2&amp;gt; 553809 INFO  (TEST-SegmentsInfoRequestHandlerTest.testSegmentInfosVersion-seed#[8EE283F9B925B4AC]) [    ] o.a.s.SolrTestCaseJ4 ###Ending testSegmentInfosVersion
   [junit4]   2&amp;gt; NOTE: reproduce with: ant test  -Dtestcase=SegmentsInfoRequestHandlerTest -Dtests.method=testSegmentInfosVersion -Dtests.seed=8EE283F9B925B4AC -Dtests.slow=true -Dtests.locale=es-US -Dtests.timezone=America/Thunder_Bay -Dtests.asserts=true -Dtests.file.encoding=US-ASCII
   [junit4] ERROR   0.02s J6  | SegmentsInfoRequestHandlerTest.testSegmentInfosVersion &amp;lt;&amp;lt;&amp;lt;
   [junit4]    &amp;gt; Throwable #1: java.lang.RuntimeException: Exception during query
   [junit4]    &amp;gt; 	at __randomizedtesting.SeedInfo.seed([8EE283F9B925B4AC:763C1611C14965FF]:0)
   [junit4]    &amp;gt; 	at org.apache.solr.SolrTestCaseJ4.assertQ(SolrTestCaseJ4.java:919)
   [junit4]    &amp;gt; 	at org.apache.solr.handler.admin.SegmentsInfoRequestHandlerTest.testSegmentInfosVersion(SegmentsInfoRequestHandlerTest.java:70)
   [junit4]    &amp;gt; 	at java.lang.Thread.run(Thread.java:745)
   [junit4]    &amp;gt; Caused by: java.lang.RuntimeException: REQUEST FAILED: xpath=2=count(//lst[@name=&apos;segments&apos;]/lst/str[@name=&apos;version&apos;][.=&apos;7.0.0&apos;])
   [junit4]    &amp;gt; 	xml response was: &amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;
   [junit4]    &amp;gt; &amp;lt;response&amp;gt;
   [junit4]    &amp;gt; &amp;lt;lst name=&quot;responseHeader&quot;&amp;gt;&amp;lt;int name=&quot;status&quot;&amp;gt;0&amp;lt;/int&amp;gt;&amp;lt;int name=&quot;QTime&quot;&amp;gt;1&amp;lt;/int&amp;gt;&amp;lt;/lst&amp;gt;&amp;lt;lst name=&quot;segments&quot;&amp;gt;&amp;lt;lst name=&quot;_0&quot;&amp;gt;&amp;lt;str name=&quot;name&quot;&amp;gt;_0&amp;lt;/str&amp;gt;&amp;lt;int name=&quot;delCount&quot;&amp;gt;1&amp;lt;/int&amp;gt;&amp;lt;long name=&quot;sizeInBytes&quot;&amp;gt;2534&amp;lt;/long&amp;gt;&amp;lt;int name=&quot;size&quot;&amp;gt;4&amp;lt;/int&amp;gt;&amp;lt;date name=&quot;age&quot;&amp;gt;2017-02-25T02:51:39.320Z&amp;lt;/date&amp;gt;&amp;lt;str name=&quot;source&quot;&amp;gt;flush&amp;lt;/str&amp;gt;&amp;lt;str name=&quot;version&quot;&amp;gt;7.0.0&amp;lt;/str&amp;gt;&amp;lt;/lst&amp;gt;&amp;lt;lst name=&quot;_1&quot;&amp;gt;&amp;lt;str name=&quot;name&quot;&amp;gt;_1&amp;lt;/str&amp;gt;&amp;lt;int name=&quot;delCount&quot;&amp;gt;0&amp;lt;/int&amp;gt;&amp;lt;long name=&quot;sizeInBytes&quot;&amp;gt;2356&amp;lt;/long&amp;gt;&amp;lt;int name=&quot;size&quot;&amp;gt;1&amp;lt;/int&amp;gt;&amp;lt;date name=&quot;age&quot;&amp;gt;2017-02-25T02:51:39.328Z&amp;lt;/date&amp;gt;&amp;lt;str name=&quot;source&quot;&amp;gt;flush&amp;lt;/str&amp;gt;&amp;lt;str name=&quot;version&quot;&amp;gt;7.0.0&amp;lt;/str&amp;gt;&amp;lt;/lst&amp;gt;&amp;lt;lst name=&quot;_2&quot;&amp;gt;&amp;lt;str name=&quot;name&quot;&amp;gt;_2&amp;lt;/str&amp;gt;&amp;lt;int name=&quot;delCount&quot;&amp;gt;0&amp;lt;/int&amp;gt;&amp;lt;long name=&quot;sizeInBytes&quot;&amp;gt;2467&amp;lt;/long&amp;gt;&amp;lt;int name=&quot;size&quot;&amp;gt;4&amp;lt;/int&amp;gt;&amp;lt;date name=&quot;age&quot;&amp;gt;2017-02-25T02:51:39.341Z&amp;lt;/date&amp;gt;&amp;lt;str name=&quot;source&quot;&amp;gt;flush&amp;lt;/str&amp;gt;&amp;lt;str name=&quot;version&quot;&amp;gt;7.0.0&amp;lt;/str&amp;gt;&amp;lt;/lst&amp;gt;&amp;lt;lst name=&quot;_3&quot;&amp;gt;&amp;lt;str name=&quot;name&quot;&amp;gt;_3&amp;lt;/str&amp;gt;&amp;lt;int name=&quot;delCount&quot;&amp;gt;0&amp;lt;/int&amp;gt;&amp;lt;long name=&quot;sizeInBytes&quot;&amp;gt;2356&amp;lt;/long&amp;gt;&amp;lt;int name=&quot;size&quot;&amp;gt;1&amp;lt;/int&amp;gt;&amp;lt;date name=&quot;age&quot;&amp;gt;2017-02-25T02:51:39.343Z&amp;lt;/date&amp;gt;&amp;lt;str name=&quot;source&quot;&amp;gt;flush&amp;lt;/str&amp;gt;&amp;lt;str name=&quot;version&quot;&amp;gt;7.0.0&amp;lt;/str&amp;gt;&amp;lt;/lst&amp;gt;&amp;lt;/lst&amp;gt;
   [junit4]    &amp;gt; &amp;lt;/response&amp;gt;
   [junit4]    &amp;gt; 	request was:qt=/admin/segments&amp;amp;wt=xml
   [junit4]    &amp;gt; 	at org.apache.solr.SolrTestCaseJ4.assertQ(SolrTestCaseJ4.java:912)
   [junit4]    &amp;gt; 	... 40 more
[...]
   [junit4]   2&amp;gt; NOTE: test params are: codec=Asserting(Lucene70): {name=TestBloomFilteredLucenePostings(BloomFilteringPostingsFormat(Lucene50(blocksize=128))), id=TestBloomFilteredLucenePostings(BloomFilteringPostingsFormat(Lucene50(blocksize=128)))}, docValues:{}, maxPointsInLeafNode=1213, maxMBSortInHeap=7.121275708198973, sim=RandomSimilarity(queryNorm=true): {}, locale=es-US, timezone=America/Thunder_Bay
   [junit4]   2&amp;gt; NOTE: Linux 4.1.0-custom2-amd64 amd64/Oracle Corporation 1.8.0_77 (64-bit)/cpus=16,threads=1,free=245347840,total=521666560
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16147320" author="steve_rowe" created="Wed, 30 Aug 2017 14:32:56 +0000"  >&lt;p&gt;Another reproducing master seed from my Jenkins:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Checking out Revision aa27148594b6f3e90754050ec55f1f286613f724 (refs/remotes/origin/master)
[...]
   [junit4]   2&amp;gt; NOTE: reproduce with: ant test  -Dtestcase=SegmentsInfoRequestHandlerTest -Dtests.method=testSegmentInfosVersion -Dtests.seed=EC71065150E2D03F -Dtests.slow=true -Dtests.locale=be-BY -Dtests.timezone=Pacific/Chuuk -Dtests.asserts=true -Dtests.file.encoding=US-ASCII
   [junit4] ERROR   0.01s J3  | SegmentsInfoRequestHandlerTest.testSegmentInfosVersion &amp;lt;&amp;lt;&amp;lt;
   [junit4]    &amp;gt; Throwable #1: java.lang.RuntimeException: Exception during query
   [junit4]    &amp;gt; 	at __randomizedtesting.SeedInfo.seed([EC71065150E2D03F:14AF93B9288E016C]:0)
   [junit4]    &amp;gt; 	at org.apache.solr.SolrTestCaseJ4.assertQ(SolrTestCaseJ4.java:880)
   [junit4]    &amp;gt; 	at org.apache.solr.handler.admin.SegmentsInfoRequestHandlerTest.testSegmentInfosVersion(SegmentsInfoRequestHandlerTest.java:68)
   [junit4]    &amp;gt; 	at java.lang.Thread.run(Thread.java:745)
   [junit4]    &amp;gt; Caused by: java.lang.RuntimeException: REQUEST FAILED: xpath=2=count(//lst[@name=&apos;segments&apos;]/lst/str[@name=&apos;version&apos;][.=&apos;8.0.0&apos;])
   [junit4]    &amp;gt; 	xml response was: &amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;
   [junit4]    &amp;gt; &amp;lt;response&amp;gt;
   [junit4]    &amp;gt; &amp;lt;lst name=&quot;responseHeader&quot;&amp;gt;&amp;lt;int name=&quot;status&quot;&amp;gt;0&amp;lt;/int&amp;gt;&amp;lt;int name=&quot;QTime&quot;&amp;gt;9&amp;lt;/int&amp;gt;&amp;lt;/lst&amp;gt;&amp;lt;lst name=&quot;segments&quot;&amp;gt;&amp;lt;lst name=&quot;_0&quot;&amp;gt;&amp;lt;str name=&quot;name&quot;&amp;gt;_0&amp;lt;/str&amp;gt;&amp;lt;int name=&quot;delCount&quot;&amp;gt;1&amp;lt;/int&amp;gt;&amp;lt;long name=&quot;sizeInBytes&quot;&amp;gt;1765&amp;lt;/long&amp;gt;&amp;lt;int name=&quot;size&quot;&amp;gt;2&amp;lt;/int&amp;gt;&amp;lt;date name=&quot;age&quot;&amp;gt;2017-08-30T02:27:48.336Z&amp;lt;/date&amp;gt;&amp;lt;str name=&quot;source&quot;&amp;gt;flush&amp;lt;/str&amp;gt;&amp;lt;str name=&quot;version&quot;&amp;gt;8.0.0&amp;lt;/str&amp;gt;&amp;lt;/lst&amp;gt;&amp;lt;lst name=&quot;_1&quot;&amp;gt;&amp;lt;str name=&quot;name&quot;&amp;gt;_1&amp;lt;/str&amp;gt;&amp;lt;int name=&quot;delCount&quot;&amp;gt;0&amp;lt;/int&amp;gt;&amp;lt;long name=&quot;sizeInBytes&quot;&amp;gt;1698&amp;lt;/long&amp;gt;&amp;lt;int name=&quot;size&quot;&amp;gt;2&amp;lt;/int&amp;gt;&amp;lt;date name=&quot;age&quot;&amp;gt;2017-08-30T02:27:48.338Z&amp;lt;/date&amp;gt;&amp;lt;str name=&quot;source&quot;&amp;gt;flush&amp;lt;/str&amp;gt;&amp;lt;str name=&quot;version&quot;&amp;gt;8.0.0&amp;lt;/str&amp;gt;&amp;lt;/lst&amp;gt;&amp;lt;lst name=&quot;_2&quot;&amp;gt;&amp;lt;str name=&quot;name&quot;&amp;gt;_2&amp;lt;/str&amp;gt;&amp;lt;int name=&quot;delCount&quot;&amp;gt;0&amp;lt;/int&amp;gt;&amp;lt;long name=&quot;sizeInBytes&quot;&amp;gt;1657&amp;lt;/long&amp;gt;&amp;lt;int name=&quot;size&quot;&amp;gt;1&amp;lt;/int&amp;gt;&amp;lt;date name=&quot;age&quot;&amp;gt;2017-08-30T02:27:48.356Z&amp;lt;/date&amp;gt;&amp;lt;str name=&quot;source&quot;&amp;gt;flush&amp;lt;/str&amp;gt;&amp;lt;str name=&quot;version&quot;&amp;gt;8.0.0&amp;lt;/str&amp;gt;&amp;lt;/lst&amp;gt;&amp;lt;lst name=&quot;_3&quot;&amp;gt;&amp;lt;str name=&quot;name&quot;&amp;gt;_3&amp;lt;/str&amp;gt;&amp;lt;int name=&quot;delCount&quot;&amp;gt;0&amp;lt;/int&amp;gt;&amp;lt;long name=&quot;sizeInBytes&quot;&amp;gt;1698&amp;lt;/long&amp;gt;&amp;lt;int name=&quot;size&quot;&amp;gt;2&amp;lt;/int&amp;gt;&amp;lt;date name=&quot;age&quot;&amp;gt;2017-08-30T02:27:48.380Z&amp;lt;/date&amp;gt;&amp;lt;str name=&quot;source&quot;&amp;gt;flush&amp;lt;/str&amp;gt;&amp;lt;str name=&quot;version&quot;&amp;gt;8.0.0&amp;lt;/str&amp;gt;&amp;lt;/lst&amp;gt;&amp;lt;lst name=&quot;_4&quot;&amp;gt;&amp;lt;str name=&quot;name&quot;&amp;gt;_4&amp;lt;/str&amp;gt;&amp;lt;int name=&quot;delCount&quot;&amp;gt;0&amp;lt;/int&amp;gt;&amp;lt;long name=&quot;sizeInBytes&quot;&amp;gt;1698&amp;lt;/long&amp;gt;&amp;lt;int name=&quot;size&quot;&amp;gt;2&amp;lt;/int&amp;gt;&amp;lt;date name=&quot;age&quot;&amp;gt;2017-08-30T02:27:48.382Z&amp;lt;/date&amp;gt;&amp;lt;str name=&quot;source&quot;&amp;gt;flush&amp;lt;/str&amp;gt;&amp;lt;str name=&quot;version&quot;&amp;gt;8.0.0&amp;lt;/str&amp;gt;&amp;lt;/lst&amp;gt;&amp;lt;lst name=&quot;_5&quot;&amp;gt;&amp;lt;str name=&quot;name&quot;&amp;gt;_5&amp;lt;/str&amp;gt;&amp;lt;int name=&quot;delCount&quot;&amp;gt;0&amp;lt;/int&amp;gt;&amp;lt;long name=&quot;sizeInBytes&quot;&amp;gt;1657&amp;lt;/long&amp;gt;&amp;lt;int name=&quot;size&quot;&amp;gt;1&amp;lt;/int&amp;gt;&amp;lt;date name=&quot;age&quot;&amp;gt;2017-08-30T02:27:48.401Z&amp;lt;/date&amp;gt;&amp;lt;str name=&quot;source&quot;&amp;gt;flush&amp;lt;/str&amp;gt;&amp;lt;str name=&quot;version&quot;&amp;gt;8.0.0&amp;lt;/str&amp;gt;&amp;lt;/lst&amp;gt;&amp;lt;/lst&amp;gt;
   [junit4]    &amp;gt; &amp;lt;/response&amp;gt;
   [junit4]    &amp;gt; 	request was:qt=/admin/segments&amp;amp;wt=xml
   [junit4]    &amp;gt; 	at org.apache.solr.SolrTestCaseJ4.assertQ(SolrTestCaseJ4.java:873)
[...]
   [junit4]   2&amp;gt; NOTE: test params are: codec=Asserting(Lucene70), sim=RandomSimilarity(queryNorm=false): {}, locale=be-BY, timezone=Pacific/Chuuk
   [junit4]   2&amp;gt; NOTE: Linux 4.1.0-custom2-amd64 amd64/Oracle Corporation 1.8.0_77 (64-bit)/cpus=16,threads=1,free=128365944,total=526909440
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16380529" author="steve_rowe" created="Wed, 28 Feb 2018 16:01:19 +0000"  >&lt;p&gt;Another reproducing master seed from &lt;a href=&quot;https://jenkins.thetaphi.de/job/Lucene-Solr-master-Linux/21552/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://jenkins.thetaphi.de/job/Lucene-Solr-master-Linux/21552/&lt;/a&gt;:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Checking out Revision 1485b7a4d72f5bf4123206d59716e75fb2706374 (refs/remotes/origin/master)
[...]
   [junit4]   2&amp;gt; NOTE: reproduce with: ant test  -Dtestcase=SegmentsInfoRequestHandlerTest -Dtests.method=testSegmentInfosVersion -Dtests.seed=13EBBD17E521ECA0 -Dtests.multiplier=3 -Dtests.slow=true -Dtests.locale=ar-LY -Dtests.timezone=Asia/Shanghai -Dtests.asserts=true -Dtests.file.encoding=ISO-8859-1
   [junit4] ERROR   0.01s J0 | SegmentsInfoRequestHandlerTest.testSegmentInfosVersion &amp;lt;&amp;lt;&amp;lt;
   [junit4]    &amp;gt; Throwable #1: java.lang.RuntimeException: Exception during query
   [junit4]    &amp;gt; 	at __randomizedtesting.SeedInfo.seed([13EBBD17E521ECA0:EB3528FF9D4D3DF3]:0)
   [junit4]    &amp;gt; 	at org.apache.solr.SolrTestCaseJ4.assertQ(SolrTestCaseJ4.java:904)
   [junit4]    &amp;gt; 	at org.apache.solr.handler.admin.SegmentsInfoRequestHandlerTest.testSegmentInfosVersion(SegmentsInfoRequestHandlerTest.java:68)
   [junit4]    &amp;gt; 	at java.lang.Thread.run(Thread.java:748)
   [junit4]    &amp;gt; Caused by: java.lang.RuntimeException: REQUEST FAILED: xpath=2=count(//lst[@name=&apos;segments&apos;]/lst/str[@name=&apos;version&apos;][.=&apos;8.0.0&apos;])
   [junit4]    &amp;gt; 	xml response was: &amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;
   [junit4]    &amp;gt; &amp;lt;response&amp;gt;
   [junit4]    &amp;gt; &amp;lt;lst name=&quot;responseHeader&quot;&amp;gt;&amp;lt;int name=&quot;status&quot;&amp;gt;0&amp;lt;/int&amp;gt;&amp;lt;int name=&quot;QTime&quot;&amp;gt;0&amp;lt;/int&amp;gt;&amp;lt;/lst&amp;gt;&amp;lt;lst name=&quot;segments&quot;&amp;gt;&amp;lt;lst name=&quot;_0&quot;&amp;gt;&amp;lt;str name=&quot;name&quot;&amp;gt;_0&amp;lt;/str&amp;gt;&amp;lt;int name=&quot;delCount&quot;&amp;gt;1&amp;lt;/int&amp;gt;&amp;lt;long name=&quot;sizeInBytes&quot;&amp;gt;1538&amp;lt;/long&amp;gt;&amp;lt;int name=&quot;size&quot;&amp;gt;3&amp;lt;/int&amp;gt;&amp;lt;date name=&quot;age&quot;&amp;gt;2018-02-28T14:42:32.213Z&amp;lt;/date&amp;gt;&amp;lt;str name=&quot;source&quot;&amp;gt;flush&amp;lt;/str&amp;gt;&amp;lt;str name=&quot;version&quot;&amp;gt;8.0.0&amp;lt;/str&amp;gt;&amp;lt;/lst&amp;gt;&amp;lt;lst name=&quot;_1&quot;&amp;gt;&amp;lt;str name=&quot;name&quot;&amp;gt;_1&amp;lt;/str&amp;gt;&amp;lt;int name=&quot;delCount&quot;&amp;gt;0&amp;lt;/int&amp;gt;&amp;lt;long name=&quot;sizeInBytes&quot;&amp;gt;1452&amp;lt;/long&amp;gt;&amp;lt;int name=&quot;size&quot;&amp;gt;2&amp;lt;/int&amp;gt;&amp;lt;date name=&quot;age&quot;&amp;gt;2018-02-28T14:42:32.216Z&amp;lt;/date&amp;gt;&amp;lt;str name=&quot;source&quot;&amp;gt;flush&amp;lt;/str&amp;gt;&amp;lt;str name=&quot;version&quot;&amp;gt;8.0.0&amp;lt;/str&amp;gt;&amp;lt;/lst&amp;gt;&amp;lt;lst name=&quot;_2&quot;&amp;gt;&amp;lt;str name=&quot;name&quot;&amp;gt;_2&amp;lt;/str&amp;gt;&amp;lt;int name=&quot;delCount&quot;&amp;gt;0&amp;lt;/int&amp;gt;&amp;lt;long name=&quot;sizeInBytes&quot;&amp;gt;1471&amp;lt;/long&amp;gt;&amp;lt;int name=&quot;size&quot;&amp;gt;3&amp;lt;/int&amp;gt;&amp;lt;date name=&quot;age&quot;&amp;gt;2018-02-28T14:42:32.226Z&amp;lt;/date&amp;gt;&amp;lt;str name=&quot;source&quot;&amp;gt;flush&amp;lt;/str&amp;gt;&amp;lt;str name=&quot;version&quot;&amp;gt;8.0.0&amp;lt;/str&amp;gt;&amp;lt;/lst&amp;gt;&amp;lt;lst name=&quot;_3&quot;&amp;gt;&amp;lt;str name=&quot;name&quot;&amp;gt;_3&amp;lt;/str&amp;gt;&amp;lt;int name=&quot;delCount&quot;&amp;gt;0&amp;lt;/int&amp;gt;&amp;lt;long name=&quot;sizeInBytes&quot;&amp;gt;1452&amp;lt;/long&amp;gt;&amp;lt;int name=&quot;size&quot;&amp;gt;2&amp;lt;/int&amp;gt;&amp;lt;date name=&quot;age&quot;&amp;gt;2018-02-28T14:42:32.229Z&amp;lt;/date&amp;gt;&amp;lt;str name=&quot;source&quot;&amp;gt;flush&amp;lt;/str&amp;gt;&amp;lt;str name=&quot;version&quot;&amp;gt;8.0.0&amp;lt;/str&amp;gt;&amp;lt;/lst&amp;gt;&amp;lt;/lst&amp;gt;
   [junit4]    &amp;gt; &amp;lt;/response&amp;gt;
   [junit4]    &amp;gt; 	request was:qt=/admin/segments&amp;amp;wt=xml
   [junit4]    &amp;gt; 	at org.apache.solr.SolrTestCaseJ4.assertQ(SolrTestCaseJ4.java:897)
   [junit4]    &amp;gt; 	... 40 more
[...]
   [junit4]   2&amp;gt; NOTE: test params are: codec=Asserting(Lucene70): {name=PostingsFormat(name=Memory), id=PostingsFormat(name=Memory)}, docValues:{}, maxPointsInLeafNode=84, maxMBSortInHeap=7.698471144201788, sim=Asserting(org.apache.lucene.search.similarities.AssertingSimilarity@1aa475d), locale=ar-LY, timezone=Asia/Shanghai
   [junit4]   2&amp;gt; NOTE: Linux 4.13.0-32-generic i386/Oracle Corporation 1.8.0_162 (32-bit)/cpus=8,threads=1,free=91685872,total=526123008
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16516422" author="steve_rowe" created="Mon, 18 Jun 2018 22:30:41 +0000"  >&lt;p&gt;Reproducing branch_7x seed, from &lt;a href=&quot;https://jenkins.thetaphi.de/job/Lucene-Solr-7.x-Linux/2131/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://jenkins.thetaphi.de/job/Lucene-Solr-7.x-Linux/2131/&lt;/a&gt; (not sure of git hash since the Jenkins job output has expired, but this seed fails reproducibly for me going back to commits in December 2017):&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;  [junit4]   2&amp;gt; NOTE: reproduce with: ant test  -Dtestcase=SegmentsInfoRequestHandlerTest -Dtests.method=testSegmentInfosVersion -Dtests.seed=9D8A7AA0EE660A09 -Dtests.multiplier=3 -Dtests.slow=true -Dtests.badapples=true -Dtests.locale=es-HN -Dtests.timezone=Eire -Dtests.asserts=true -Dtests.file.encoding=US-ASCII
  [junit4] ERROR   0.01s J0 | SegmentsInfoRequestHandlerTest.testSegmentInfosVersion &amp;lt;&amp;lt;&amp;lt;
  [junit4]    &amp;gt; Throwable #1: java.lang.RuntimeException: Exception during query
  [junit4]    &amp;gt; 	at __randomizedtesting.SeedInfo.seed([9D8A7AA0EE660A09:6554EF48960ADB5A]:0)
  [junit4]    &amp;gt; 	at org.apache.solr.SolrTestCaseJ4.assertQ(SolrTestCaseJ4.java:917)
  [junit4]    &amp;gt; 	at org.apache.solr.handler.admin.SegmentsInfoRequestHandlerTest.testSegmentInfosVersion(SegmentsInfoRequestHandlerTest.java:68)
  [junit4]    &amp;gt; 	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
  [junit4]    &amp;gt; 	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
  [junit4]    &amp;gt; 	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
  [junit4]    &amp;gt; 	at java.base/java.lang.reflect.Method.invoke(Method.java:564)
  [junit4]    &amp;gt; 	at java.base/java.lang.Thread.run(Thread.java:844)
  [junit4]    &amp;gt; Caused by: java.lang.RuntimeException: REQUEST FAILED: xpath=2=count(//lst[@name=&apos;segments&apos;]/lst/str[@name=&apos;version&apos;][.=&apos;7.5.0&apos;])
  [junit4]    &amp;gt; 	xml response was: &amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;
  [junit4]    &amp;gt; &amp;lt;response&amp;gt;
  [junit4]    &amp;gt; &amp;lt;lst name=&quot;responseHeader&quot;&amp;gt;&amp;lt;int name=&quot;status&quot;&amp;gt;0&amp;lt;/int&amp;gt;&amp;lt;int name=&quot;QTime&quot;&amp;gt;0&amp;lt;/int&amp;gt;&amp;lt;/lst&amp;gt;&amp;lt;lst name=&quot;segments&quot;&amp;gt;&amp;lt;lst name=&quot;_0&quot;&amp;gt;&amp;lt;str name=&quot;name&quot;&amp;gt;_0&amp;lt;/str&amp;gt;&amp;lt;int name=&quot;delCount&quot;&amp;gt;1&amp;lt;/int&amp;gt;&amp;lt;long name=&quot;sizeInBytes&quot;&amp;gt;1979&amp;lt;/long&amp;gt;&amp;lt;int name=&quot;size&quot;&amp;gt;3&amp;lt;/int&amp;gt;&amp;lt;date name=&quot;age&quot;&amp;gt;2018-06-15T07:43:40.696Z&amp;lt;/date&amp;gt;&amp;lt;str name=&quot;source&quot;&amp;gt;flush&amp;lt;/str&amp;gt;&amp;lt;str name=&quot;version&quot;&amp;gt;7.5.0&amp;lt;/str&amp;gt;&amp;lt;/lst&amp;gt;&amp;lt;lst name=&quot;_1&quot;&amp;gt;&amp;lt;str name=&quot;name&quot;&amp;gt;_1&amp;lt;/str&amp;gt;&amp;lt;int name=&quot;delCount&quot;&amp;gt;0&amp;lt;/int&amp;gt;&amp;lt;long name=&quot;sizeInBytes&quot;&amp;gt;1886&amp;lt;/long&amp;gt;&amp;lt;int name=&quot;size&quot;&amp;gt;2&amp;lt;/int&amp;gt;&amp;lt;date name=&quot;age&quot;&amp;gt;2018-06-15T07:43:40.726Z&amp;lt;/date&amp;gt;&amp;lt;str name=&quot;source&quot;&amp;gt;flush&amp;lt;/str&amp;gt;&amp;lt;str name=&quot;version&quot;&amp;gt;7.5.0&amp;lt;/str&amp;gt;&amp;lt;/lst&amp;gt;&amp;lt;lst name=&quot;_2&quot;&amp;gt;&amp;lt;str name=&quot;name&quot;&amp;gt;_2&amp;lt;/str&amp;gt;&amp;lt;int name=&quot;delCount&quot;&amp;gt;0&amp;lt;/int&amp;gt;&amp;lt;long name=&quot;sizeInBytes&quot;&amp;gt;1912&amp;lt;/long&amp;gt;&amp;lt;int name=&quot;size&quot;&amp;gt;3&amp;lt;/int&amp;gt;&amp;lt;date name=&quot;age&quot;&amp;gt;2018-06-15T07:43:40.766Z&amp;lt;/date&amp;gt;&amp;lt;str name=&quot;source&quot;&amp;gt;flush&amp;lt;/str&amp;gt;&amp;lt;str name=&quot;version&quot;&amp;gt;7.5.0&amp;lt;/str&amp;gt;&amp;lt;/lst&amp;gt;&amp;lt;lst name=&quot;_3&quot;&amp;gt;&amp;lt;str name=&quot;name&quot;&amp;gt;_3&amp;lt;/str&amp;gt;&amp;lt;int name=&quot;delCount&quot;&amp;gt;0&amp;lt;/int&amp;gt;&amp;lt;long name=&quot;sizeInBytes&quot;&amp;gt;1886&amp;lt;/long&amp;gt;&amp;lt;int name=&quot;size&quot;&amp;gt;2&amp;lt;/int&amp;gt;&amp;lt;date name=&quot;age&quot;&amp;gt;2018-06-15T07:43:40.772Z&amp;lt;/date&amp;gt;&amp;lt;str name=&quot;source&quot;&amp;gt;flush&amp;lt;/str&amp;gt;&amp;lt;str name=&quot;version&quot;&amp;gt;7.5.0&amp;lt;/str&amp;gt;&amp;lt;/lst&amp;gt;&amp;lt;/lst&amp;gt;
  [junit4]    &amp;gt; &amp;lt;/response&amp;gt;
  [junit4]    &amp;gt; 	request was:qt=/admin/segments&amp;amp;wt=xml
  [junit4]    &amp;gt; 	at org.apache.solr.SolrTestCaseJ4.assertQ(SolrTestCaseJ4.java:910)
  [junit4]    &amp;gt; 	... 39 more
[...]
  [junit4]   2&amp;gt; NOTE: test params are: codec=Asserting(Lucene70): {name=FSTOrd50, id=FSTOrd50}, docValues:{}, maxPointsInLeafNode=1659, maxMBSortInHeap=7.665671164568957, sim=RandomSimilarity(queryNorm=true): {}, locale=es-HN, timezone=Eire
  [junit4]   2&amp;gt; NOTE: Linux 4.13.0-41-generic amd64/Oracle Corporation 10.0.1 (64-bit)/cpus=8,threads=1,free=408649208,total=518979584
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16576590" author="cpoerschke" created="Fri, 10 Aug 2018 17:10:25 +0000"  >&lt;p&gt;Reproducing seed for &lt;tt&gt;master&lt;/tt&gt; branch from &lt;a href=&quot;https://jenkins.thetaphi.de/job/Lucene-Solr-master-Linux/22635/consoleFull&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://jenkins.thetaphi.de/job/Lucene-Solr-master-Linux/22635/consoleFull&lt;/a&gt; ( &lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/lucene-dev/201808.mbox/%3c1429107222.195.1533825604679.JavaMail.jenkins@serv1.sd-datasolutions.de%3e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://mail-archives.apache.org/mod_mbox/lucene-dev/201808.mbox/%3c1429107222.195.1533825604679.JavaMail.jenkins@serv1.sd-datasolutions.de%3e&lt;/a&gt; )&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
ant test  -Dtestcase=SegmentsInfoRequestHandlerTest -Dtests.method=testSegmentInfosVersion -Dtests.seed=2979CD498D660A0D -Dtests.multiplier=3 -Dtests.slow=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; -Dtests.locale=en-KN -Dtests.timezone=Europe/Sofia -Dtests.asserts=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; -Dtests.file.encoding=UTF-8
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I wonder if this is a test bug &amp;#8211; will attach proposed patch.&lt;/p&gt;</comment>
                            <comment id="16578780" author="tomasflobbe" created="Mon, 13 Aug 2018 18:47:08 +0000"  >&lt;p&gt;I agree &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cpoerschke&quot; class=&quot;user-hover&quot; rel=&quot;cpoerschke&quot;&gt;cpoerschke&lt;/a&gt;, this looks like a test bug. WDYT about this alternative patch, I feel it should also work and keeps the test assertions a bit tighter.&lt;/p&gt;</comment>
                            <comment id="16586213" author="cpoerschke" created="Mon, 20 Aug 2018 16:58:12 +0000"  >&lt;blockquote&gt;&lt;p&gt;... alternative patch, I feel it should also work and keeps the test assertions a bit tighter.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I like the idea of more specific assertions.&lt;/p&gt;

&lt;p&gt;If/Since this would check that the correct amount of segments info is returned, could a further future test perhaps even be then to specifically test that the returned segment ids are correct?&lt;/p&gt;

&lt;p&gt;If/Since &lt;tt&gt;testSegmentInfosData&lt;/tt&gt; gets the&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+    &lt;span class=&quot;code-comment&quot;&gt;// Lets just skip &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; test &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; number of segments is &amp;lt; 2
&lt;/span&gt;+    Assume.assumeTrue(numSegments &amp;gt;= 2);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;then could the earlier&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+    assertTrue(&lt;span class=&quot;code-quote&quot;&gt;&quot;Unexpected number of segment in the index: &quot;&lt;/span&gt; + numSegments, 
+        numSegments &amp;gt; 0 &amp;amp;&amp;amp; numSegments &amp;lt;= 2 );
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;in &lt;tt&gt;beforeClass&lt;/tt&gt; be skipped perhaps?&lt;/p&gt;</comment>
                            <comment id="16590616" author="tomasflobbe" created="Thu, 23 Aug 2018 18:05:18 +0000"  >&lt;blockquote&gt;&lt;p&gt;If/Since this would check that the correct amount of segments info is returned, could a further future test perhaps even be then to specifically test that the returned segment ids are correct?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;+1. I&apos;ll add that&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;If/Since testSegmentInfosData gets...&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;The goal was to quickly assert that the `numSegments` calculated made sense. That said, I think the &lt;tt&gt;&amp;lt;=2&lt;/tt&gt; is not right. I beasted this test with my modifications but I believe I&apos;d removed that. I&apos;ll check again and fix if necessary&lt;/p&gt;</comment>
                            <comment id="16592809" author="tomasflobbe" created="Sun, 26 Aug 2018 05:44:24 +0000"  >&lt;p&gt;I was missing a part of the fix. The problem could be the merge (decreasing the number of segments to 1) but it could also have been the flushing (having more segments than commits). I think I fixed this in my last patch by setting the MP to NoMergePolicy and setting the maxBufferedDocs and ramBufferSizeMB to high enough numbers to prevent flushing (otherwise those values are randomly set in the base test class). Also added a test for the segment names. &lt;/p&gt;</comment>
                            <comment id="16594009" author="tomasflobbe" created="Mon, 27 Aug 2018 17:37:25 +0000"  >&lt;p&gt;Just added some trivial changes to the test. Will commit in a moment&lt;/p&gt;</comment>
                            <comment id="16594224" author="jira-bot" created="Mon, 27 Aug 2018 21:06:25 +0000"  >&lt;p&gt;Commit d833b4c9d316a81c8d06cfd76adedd74a4936660 in lucene-solr&apos;s branch refs/heads/master from Tomas Fernandez Lobbe&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=d833b4c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=d833b4c&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10028&quot; title=&quot;SegmentsInfoRequestHandlerTest.testSegmentInfosVersion fails in master&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10028&quot;&gt;&lt;del&gt;SOLR-10028&lt;/del&gt;&lt;/a&gt;: Fix and improvements to SegmentsInfoRequestHandlerTest&lt;/p&gt;</comment>
                            <comment id="16594225" author="jira-bot" created="Mon, 27 Aug 2018 21:07:03 +0000"  >&lt;p&gt;Commit cc110264b3edaa54f393e83334d71ec43c6944c0 in lucene-solr&apos;s branch refs/heads/branch_7x from Tomas Fernandez Lobbe&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=cc11026&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=cc11026&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10028&quot; title=&quot;SegmentsInfoRequestHandlerTest.testSegmentInfosVersion fails in master&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10028&quot;&gt;&lt;del&gt;SOLR-10028&lt;/del&gt;&lt;/a&gt;: Fix and improvements to SegmentsInfoRequestHandlerTest&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12935418" name="SOLR-10028-alternative.patch" size="2647" author="tflobbe" created="Mon, 13 Aug 2018 18:45:33 +0000"/>
                            <attachment id="12937314" name="SOLR-10028.patch" size="4393" author="tflobbe" created="Mon, 27 Aug 2018 17:27:13 +0000"/>
                            <attachment id="12937159" name="SOLR-10028.patch" size="4182" author="tflobbe" created="Sun, 26 Aug 2018 05:41:04 +0000"/>
                            <attachment id="12935158" name="SOLR-10028.patch" size="1211" author="cpoerschke" created="Fri, 10 Aug 2018 17:11:41 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 12 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i393pj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>