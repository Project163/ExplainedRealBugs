<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:25:56 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-10944] Get expression fails to return EOF tuple </title>
                <link>https://issues.apache.org/jira/browse/SOLR-10944</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;Below is a simple let expr where search would not find a match and return 0 result.  In that case, we expect get(a) to show a EOF tuple while it is throwing exception.&lt;/p&gt;

&lt;p&gt;===&lt;br/&gt;
let(a=search(collection1,&lt;br/&gt;
                        q=id:999999999, &lt;br/&gt;
                        fl=&quot;id,business_email&quot;,&lt;br/&gt;
                        sort=&quot;business_email asc&quot;),&lt;br/&gt;
get(a)&lt;br/&gt;
)&lt;/p&gt;


&lt;p&gt;{&lt;br/&gt;
  &quot;result-set&quot;: {&lt;br/&gt;
    &quot;docs&quot;: [&lt;/p&gt;
      {
        &quot;EXCEPTION&quot;: &quot;Index: 0, Size: 0&quot;,
        &quot;EOF&quot;: true,
        &quot;RESPONSE_TIME&quot;: 8
      }
&lt;p&gt;    ]&lt;br/&gt;
  }&lt;br/&gt;
}&lt;/p&gt;</description>
                <environment></environment>
        <key id="13082167">SOLR-10944</key>
            <summary>Get expression fails to return EOF tuple </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="10003">Resolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="susheel2777@gmail.com">Susheel Kumar</reporter>
                        <labels>
                            <label>patch</label>
                    </labels>
                <created>Fri, 23 Jun 2017 16:31:33 +0000</created>
                <updated>Tue, 8 Oct 2019 14:50:39 +0000</updated>
                            <resolved>Tue, 25 Jul 2017 17:11:11 +0000</resolved>
                                    <version>6.6</version>
                                    <fixVersion>7.1</fixVersion>
                    <fixVersion>8.0</fixVersion>
                                    <component>search</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="16064787" author="susheel2777@gmail.com" created="Tue, 27 Jun 2017 12:57:01 +0000"  >&lt;p&gt;Hello,&lt;/p&gt;

&lt;p&gt;Attach is the patch where the below line causes &quot;Index 0, Size 0&quot; exception when get open the stream and since the list variable &quot;l&quot; has no elements, it throws error.&lt;/p&gt;

&lt;p&gt;Added a test as well.  Please let me know if need to be handled differently&lt;/p&gt;

&lt;p&gt;Bug&lt;br/&gt;
===&lt;br/&gt;
if(l.get(0) instanceof Tuple)&lt;/p&gt;

&lt;p&gt;Fix&lt;br/&gt;
===&lt;br/&gt;
Simply assign the iterator then checking for and later read will check for EOF &lt;/p&gt;

&lt;p&gt;tupleIterator = l.iterator();&lt;/p&gt;

</comment>
                            <comment id="16082910" author="susheel2777@gmail.com" created="Tue, 11 Jul 2017 20:27:45 +0000"  >&lt;p&gt;Hi Joel,&lt;/p&gt;

&lt;p&gt;Can you please review the patch, suggest any changes and commit to have it in next 7.x release.  This will be a simple fix but is very much required in simple to complex expressions involving Get expressions.&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Susheel&lt;/p&gt;</comment>
                            <comment id="16083973" author="joel.bernstein" created="Wed, 12 Jul 2017 13:30:00 +0000"  >&lt;p&gt;Yes, I&apos;ll review today.&lt;/p&gt;</comment>
                            <comment id="16100072" author="susheel2777@gmail.com" created="Tue, 25 Jul 2017 13:53:40 +0000"  >&lt;p&gt;Hi Joel,&lt;/p&gt;

&lt;p&gt;I finally have a complex streaming expression for solving my use case but it all relies on this simple fix. Would you be able to review/commit this patch so that i can look forward for 7.x release to use.&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Susheel&lt;/p&gt;


</comment>
                            <comment id="16100353" author="joel.bernstein" created="Tue, 25 Jul 2017 16:56:26 +0000"  >&lt;p&gt;Patch looks OK to me. I&apos;ll commit shortly.&lt;/p&gt;</comment>
                            <comment id="16100362" author="jira-bot" created="Tue, 25 Jul 2017 17:02:25 +0000"  >&lt;p&gt;Commit 81bc463ce5c553ca00372c376f1935d12a1995dd in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jbernste&quot; class=&quot;user-hover&quot; rel=&quot;jbernste&quot;&gt;jbernste&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=81bc463&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=81bc463&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10944&quot; title=&quot;Get expression fails to return EOF tuple &quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10944&quot;&gt;&lt;del&gt;SOLR-10944&lt;/del&gt;&lt;/a&gt;: Get expression fails to return EOF tuple&lt;/p&gt;</comment>
                            <comment id="16100367" author="jira-bot" created="Tue, 25 Jul 2017 17:06:48 +0000"  >&lt;p&gt;Commit 4eeb8b46fb9ed5768cf0814c303efda2985a1aec in lucene-solr&apos;s branch refs/heads/branch_7x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jbernste&quot; class=&quot;user-hover&quot; rel=&quot;jbernste&quot;&gt;jbernste&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=4eeb8b4&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=4eeb8b4&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10944&quot; title=&quot;Get expression fails to return EOF tuple &quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10944&quot;&gt;&lt;del&gt;SOLR-10944&lt;/del&gt;&lt;/a&gt;: Get expression fails to return EOF tuple&lt;/p&gt;</comment>
                            <comment id="16100368" author="jira-bot" created="Tue, 25 Jul 2017 17:09:23 +0000"  >&lt;p&gt;Commit 10875143b2eb4c6cd72c7a93e657833444498b66 in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jbernste&quot; class=&quot;user-hover&quot; rel=&quot;jbernste&quot;&gt;jbernste&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=1087514&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=1087514&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10944&quot; title=&quot;Get expression fails to return EOF tuple &quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10944&quot;&gt;&lt;del&gt;SOLR-10944&lt;/del&gt;&lt;/a&gt;: Update CHANGES.txt&lt;/p&gt;</comment>
                            <comment id="16100373" author="jira-bot" created="Tue, 25 Jul 2017 17:10:50 +0000"  >&lt;p&gt;Commit ca116ae152188176e78b630b0981a478d78df1bf in lucene-solr&apos;s branch refs/heads/branch_7x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jbernste&quot; class=&quot;user-hover&quot; rel=&quot;jbernste&quot;&gt;jbernste&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=ca116ae&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=ca116ae&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10944&quot; title=&quot;Get expression fails to return EOF tuple &quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10944&quot;&gt;&lt;del&gt;SOLR-10944&lt;/del&gt;&lt;/a&gt;: Update CHANGES.txt&lt;/p&gt;</comment>
                            <comment id="16100378" author="joel.bernstein" created="Tue, 25 Jul 2017 17:12:21 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=susheel2777%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;susheel2777@gmail.com&quot;&gt;susheel2777@gmail.com&lt;/a&gt;!&lt;/p&gt;</comment>
                            <comment id="16100436" author="susheel2777@gmail.com" created="Tue, 25 Jul 2017 17:48:46 +0000"  >&lt;p&gt;Thank you so much, Joel.&lt;/p&gt;</comment>
                            <comment id="16207295" author="shalinmangar" created="Tue, 17 Oct 2017 11:03:19 +0000"  >&lt;p&gt;Bulk close after 7.1.0 release&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12874681" name="SOLR-10944.patch" size="2829" author="susheel2777@gmail.com" created="Tue, 27 Jun 2017 12:49:49 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 5 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3go9j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>