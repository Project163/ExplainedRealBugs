<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:22:54 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-2644] DIH handler - when using threads=2 the default logging is set too high</title>
                <link>https://issues.apache.org/jira/browse/SOLR-2644</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;Setting threads parameter in DIH handler, every add outputs to the log in INFO level.&lt;br/&gt;
The only current solution is to set the following in log4j.properties:&lt;/p&gt;

&lt;p&gt;log4j.rootCategory=INFO, logfile&lt;br/&gt;
log4j.logger.org.apache.solr.handler.dataimport.DocBuilder=FATAL&lt;br/&gt;
log4j.logger.org.apache.solr.handler.dataimport.ThreadedEntityProcessorWrapper=FATAL&lt;/p&gt;

&lt;p&gt;These 2 log messages need to be changed to DEBUG.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12513448">SOLR-2644</key>
            <summary>DIH handler - when using threads=2 the default logging is set too high</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="shalin">Shalin Shekhar Mangar</assignee>
                                    <reporter username="billnbell">Bill Bell</reporter>
                        <labels>
                    </labels>
                <created>Sun, 10 Jul 2011 05:33:07 +0000</created>
                <updated>Fri, 16 Sep 2011 14:48:55 +0000</updated>
                            <resolved>Tue, 12 Jul 2011 09:27:03 +0000</resolved>
                                    <version>3.3</version>
                                    <fixVersion>3.4</fixVersion>
                    <fixVersion>4.0-ALPHA</fixVersion>
                                    <component>contrib - DataImportHandler</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13062824" author="billnbell" created="Sun, 10 Jul 2011 23:21:38 +0000"  >&lt;p&gt;Example of threads=&quot;2&quot;.&lt;br/&gt;
&amp;lt;document&amp;gt;&lt;br/&gt;
    &amp;lt;entity name=&quot;main&quot; threads=&quot;2&quot; transformer=&quot;RegexTransformer&quot;&lt;br/&gt;
       query=&quot;select * from table&quot;&amp;gt;&lt;br/&gt;
    &amp;lt;/entity&amp;gt;&lt;br/&gt;
&amp;lt;/document&amp;gt;&lt;/p&gt;</comment>
                            <comment id="13062827" author="billnbell" created="Sun, 10 Jul 2011 23:24:44 +0000"  >&lt;p&gt;Example logging:&lt;/p&gt;

&lt;p&gt;Jul 10, 2011 5:21:50 PM org.apache.solr.handler.dataimport.ThreadedEntityProcessorWrapper nextRow&lt;br/&gt;
INFO: arow : &lt;/p&gt;
{id=635, priority=1, prof_type=1, user_query=Clinical Biochemical Geneticist}
&lt;p&gt;Jul 10, 2011 5:21:50 PM org.apache.solr.handler.dataimport.ThreadedEntityProcessorWrapper nextRow&lt;br/&gt;
INFO: arow : &lt;/p&gt;
{id=636, priority=1, prof_type=1, user_query=Clinical Cytogeneticist}
&lt;p&gt;Jul 10, 2011 5:21:50 PM org.apache.solr.handler.dataimport.DocBuilder$EntityRunner runAThread&lt;br/&gt;
INFO: a row on docrootSolrInputDocument[{id=id(1.0)=&lt;/p&gt;
{635}
&lt;p&gt;, priority=priority(1.0)=&lt;/p&gt;
{1}, prof_type=prof_type(1.0)={1}
&lt;p&gt;, user_query=user_query(1.0)={Clinical Biochemical Geneticist}}]&lt;/p&gt;</comment>
                            <comment id="13062849" author="billnbell" created="Mon, 11 Jul 2011 04:19:38 +0000"  >&lt;p&gt;Example:&lt;/p&gt;

&lt;p&gt;Jul 10, 2011 10:17:54 PM org.apache.solr.handler.dataimport.ThreadedEntityProcessorWrapper nextRow&lt;br/&gt;
INFO: arow : &lt;/p&gt;
{id=622, priority=1, prof_type=3, user_query=Naturopath}
&lt;p&gt;Jul 10, 2011 10:17:54 PM org.apache.solr.handler.dataimport.DocBuilder$EntityRunner runAThread&lt;br/&gt;
INFO: a row on docrootSolrInputDocument[{id=id(1.0)=&lt;/p&gt;
{622}
&lt;p&gt;, priority=priority(1.0)=&lt;/p&gt;
{1}
&lt;p&gt;, prof_type=prof_type(1.0)=&lt;/p&gt;
{3}
&lt;p&gt;, user_query=user_query(1.0)={Naturopath}}]&lt;/p&gt;

&lt;p&gt;logging.properties blocks these 2 messages:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;# Default global logging level:
.level=INFO

# Write to a file:
handlers=java.util.logging.FileHandler

# Write log messages in XML format (SimpleFormatter or XMLFormatter)
java.util.logging.FileHandler.formatter=java.util.logging.SimpleFormatter

# Log to the current working directory, with log files named solrxxx.log
java.util.logging.FileHandler.pattern=C:/solr/jetty-6.1.25/jetty-6.1.25/solr/logs/Solr%u.log.txt

# Limiting size of output file in bytes: 1GB
java.util.logging.FileHandler.limit=1024000000

# &lt;span class=&quot;code-object&quot;&gt;Number&lt;/span&gt; of output files to cycle through, by appending an 
# integer to the base file name: (faster performance when set to &amp;gt; 1)
java.util.logging.FileHandler.count=1

java.util.logging.FileHandler.append=1

org.apache.solr.handler.dataimport.DocBuilder.level = SEVERE
org.apache.solr.handler.dataimport.ThreadedEntityProcessorWrapper.level = SEVERE
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

</comment>
                            <comment id="13063338" author="shalinmangar" created="Mon, 11 Jul 2011 13:42:01 +0000"  >&lt;p&gt;This was probably added for debugging. Attached patch to remove the extra logging.&lt;/p&gt;

&lt;p&gt;I&apos;ll commit shortly.&lt;/p&gt;</comment>
                            <comment id="13063664" author="billnbell" created="Tue, 12 Jul 2011 02:11:49 +0000"  >&lt;p&gt;New patch you forgot solr/contrib/dataimporthandler/src/java/org/apache/solr/handler/dataimport/DocBuilder.java.&lt;/p&gt;

&lt;p&gt;Also, I would rather change to debug and leave it.&lt;/p&gt;</comment>
                            <comment id="13063780" author="shalinmangar" created="Tue, 12 Jul 2011 09:10:36 +0000"  >&lt;p&gt;Thanks Bill.&lt;/p&gt;

&lt;p&gt;I&apos;ve added checked logging at both the places otherwise we pay the cost of Map.toString for nothing.&lt;/p&gt;

&lt;p&gt;I&apos;ll commit this shortly.&lt;/p&gt;</comment>
                            <comment id="13063786" author="shalinmangar" created="Tue, 12 Jul 2011 09:27:03 +0000"  >&lt;p&gt;Committed revision 1145502 on trunk and 1145509 on branch_3x.&lt;/p&gt;</comment>
                            <comment id="13106232" author="rcmuir" created="Fri, 16 Sep 2011 14:48:55 +0000"  >&lt;p&gt;bulk close for 3.4&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12486135" name="SOLR-2644-2.patch" size="1565" author="billnbell" created="Tue, 12 Jul 2011 02:10:22 +0000"/>
                            <attachment id="12486157" name="SOLR-2644.patch" size="1746" author="shalin" created="Tue, 12 Jul 2011 09:10:35 +0000"/>
                            <attachment id="12486060" name="SOLR-2644.patch" size="648" author="shalin" created="Mon, 11 Jul 2011 13:42:01 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4905</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 10 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i03jin:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>18595</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>