<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:44:07 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-13886] HDFSSyncSliceTest and SyncSliceTest started failing frequently</title>
                <link>https://issues.apache.org/jira/browse/SOLR-13886</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;While I can see some failures of this test in the past, they weren&apos;t frequent and were usually things like port bindings (maybe &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13871&quot; title=&quot;JettySolrRunner should stop trying to re-use ports on re-start&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13871&quot;&gt;SOLR-13871&lt;/a&gt;) or timeouts. I&apos;ve started this failure in Jenkins (and locally) frequently:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Build: https://jenkins.thetaphi.de/job/Lucene-Solr-master-MacOSX/5410/
Java: 64bit/jdk-13 -XX:-UseCompressedOops -XX:+UseParallelGC

2 tests failed.
FAILED:  org.apache.solr.cloud.SyncSliceTest.test

Error Message:
expected:&amp;lt;5&amp;gt; but was:&amp;lt;4&amp;gt;

Stack Trace:
java.lang.AssertionError: expected:&amp;lt;5&amp;gt; but was:&amp;lt;4&amp;gt;
        at __randomizedtesting.SeedInfo.seed([F8E3B768E16E848D:70B788B24F92E975]:0)
        at org.junit.Assert.fail(Assert.java:88)
        at org.junit.Assert.failNotEquals(Assert.java:834)
        at org.junit.Assert.assertEquals(Assert.java:645)
        at org.junit.Assert.assertEquals(Assert.java:631)
        at org.apache.solr.cloud.SyncSliceTest.test(SyncSliceTest.java:150)
        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
        at java.base/java.lang.reflect.Method.invoke(Method.java:567)
        at com.carrotsearch.randomizedtesting.RandomizedRunner.invoke(RandomizedRunner.java:1750)
        at com.carrotsearch.randomizedtesting.RandomizedRunner$8.evaluate(RandomizedRunner.java:938)
        at com.carrotsearch.randomizedtesting.RandomizedRunner$9.evaluate(RandomizedRunner.java:974)
        at com.carrotsearch.randomizedtesting.RandomizedRunner$10.evaluate(RandomizedRunner.java:988)
        at org.apache.solr.BaseDistributedSearchTestCase$ShardsRepeatRule$ShardsFixedStatement.callStatement(BaseDistributedSearchTestCase.java:1082)
        at org.apache.solr.BaseDistributedSearchTestCase$ShardsRepeatRule$ShardsStatement.evaluate(BaseDistributedSearchTestCase.java:1054)
        at com.carrotsearch.randomizedtesting.rules.SystemPropertiesRestoreRule$1.evaluate(SystemPropertiesRestoreRule.java:57)
        at org.apache.lucene.util.TestRuleSetupTeardownChained$1.evaluate(TestRuleSetupTeardownChained.java:49)
        at org.apache.lucene.util.AbstractBeforeAfterRule$1.evaluate(AbstractBeforeAfterRule.java:45)
        at org.apache.lucene.util.TestRuleThreadAndTestName$1.evaluate(TestRuleThreadAndTestName.java:48)
        at org.apache.lucene.util.TestRuleIgnoreAfterMaxFailures$1.evaluate(TestRuleIgnoreAfterMaxFailures.java:64)
        at org.apache.lucene.util.TestRuleMarkFailure$1.evaluate(TestRuleMarkFailure.java:47)
        at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)
        at com.carrotsearch.randomizedtesting.ThreadLeakControl$StatementRunner.run(ThreadLeakControl.java:368)
        at com.carrotsearch.randomizedtesting.ThreadLeakControl.forkTimeoutingTask(ThreadLeakControl.java:817)
        at com.carrotsearch.randomizedtesting.ThreadLeakControl$3.evaluate(ThreadLeakControl.java:468)
        at com.carrotsearch.randomizedtesting.RandomizedRunner.runSingleTest(RandomizedRunner.java:947)
        at com.carrotsearch.randomizedtesting.RandomizedRunner$5.evaluate(RandomizedRunner.java:832)
        at com.carrotsearch.randomizedtesting.RandomizedRunner$6.evaluate(RandomizedRunner.java:883)
        at com.carrotsearch.randomizedtesting.RandomizedRunner$7.evaluate(RandomizedRunner.java:894)
        at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)
        at com.carrotsearch.randomizedtesting.rules.SystemPropertiesRestoreRule$1.evaluate(SystemPropertiesRestoreRule.java:57)
        at org.apache.lucene.util.AbstractBeforeAfterRule$1.evaluate(AbstractBeforeAfterRule.java:45)
        at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)
        at org.apache.lucene.util.TestRuleStoreClassName$1.evaluate(TestRuleStoreClassName.java:41)
        at com.carrotsearch.randomizedtesting.rules.NoShadowingOrOverridesOnMethodsRule$1.evaluate(NoShadowingOrOverridesOnMethodsRule.java:40)
        at com.carrotsearch.randomizedtesting.rules.NoShadowingOrOverridesOnMethodsRule$1.evaluate(NoShadowingOrOverridesOnMethodsRule.java:40)
        at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)
        at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)
        at org.apache.lucene.util.TestRuleAssertionsRequired$1.evaluate(TestRuleAssertionsRequired.java:53)
        at org.apache.lucene.util.TestRuleMarkFailure$1.evaluate(TestRuleMarkFailure.java:47)
        at org.apache.lucene.util.TestRuleIgnoreAfterMaxFailures$1.evaluate(TestRuleIgnoreAfterMaxFailures.java:64)
        at org.apache.lucene.util.TestRuleIgnoreTestSuites$1.evaluate(TestRuleIgnoreTestSuites.java:54)
        at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)
        at com.carrotsearch.randomizedtesting.ThreadLeakControl$StatementRunner.run(ThreadLeakControl.java:368)
        at java.base/java.lang.Thread.run(Thread.java:830)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This is likely a regression&lt;/p&gt;</description>
                <environment></environment>
        <key id="13265809">SOLR-13886</key>
            <summary>HDFSSyncSliceTest and SyncSliceTest started failing frequently</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="krisden">Kevin Risden</assignee>
                                    <reporter username="tflobbe">Tomas Eduardo Fernandez Lobbe</reporter>
                        <labels>
                    </labels>
                <created>Fri, 1 Nov 2019 17:32:19 +0000</created>
                <updated>Wed, 15 Jul 2020 15:10:54 +0000</updated>
                            <resolved>Sun, 19 Apr 2020 22:15:22 +0000</resolved>
                                                    <fixVersion>8.6</fixVersion>
                                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17086551" author="risdenk" created="Sat, 18 Apr 2020 17:43:14 +0000"  >&lt;p&gt;HDFSSyncSliceTest started failing the exact same way as this. I looked into it and it looks like a race condition with the test not committing. The newly added document isn&apos;t available without the commit so the check fails to find it. &lt;/p&gt;</comment>
                            <comment id="17086560" author="risdenk" created="Sat, 18 Apr 2020 17:50:35 +0000"  >&lt;p&gt;FYI &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=erickerickson&quot; class=&quot;user-hover&quot; rel=&quot;erickerickson&quot;&gt;erickerickson&lt;/a&gt; since you were tracking this as part of weekly test failures.&lt;/p&gt;</comment>
                            <comment id="17086569" author="risdenk" created="Sat, 18 Apr 2020 18:07:43 +0000"  >&lt;p&gt;The patch attached fixes the issue with the following seed that was reproducing:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
ant test  -Dtestcase=HdfsSyncSliceTest -Dtests.method=test -Dtests.seed=8D96066C658EE14 -Dtests.nightly=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; -Dtests.slow=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; -Dtests.locale=en-TK -Dtests.timezone=Pacific/Fakaofo -Dtests.asserts=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; -Dtests.file.encoding=ISO-8859-1
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I&apos;ve also checked that this beasts with both Hdfs and the regular SyncSlideTest.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
ant beast -Dtestcase=&lt;span class=&quot;code-quote&quot;&gt;&apos;*SyncSliceTest&apos;&lt;/span&gt; -Dtests.method=test -Dtests.nightly=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; -Dtests.slow=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; -Dtests.asserts=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; -Dtests.locale=en-TK -Dbeast.iters=20
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;^^^ The locale in the above is to ensure that the HDFS test isn&apos;t skipped due to some invalid locales. This causes beast to fail when no valid test is found. I have checked w/ different locales and the patch still works.&lt;/p&gt;</comment>
                            <comment id="17086714" author="erickerickson" created="Sun, 19 Apr 2020 01:42:09 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=krisden&quot; class=&quot;user-hover&quot; rel=&quot;krisden&quot;&gt;krisden&lt;/a&gt; I&apos;m not doing anything special to track failures, just collating Hoss&apos; reports each week from here:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://fucit.org/solr-jenkins-reports/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://fucit.org/solr-jenkins-reports/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Go to the &quot;past 24h / 7 days&quot; section and you can pick a test. From there, I look over the last 4 weeks for my weekly report. Well, I wrote a program &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;.&lt;/p&gt;

&lt;p&gt;So by all means go ahead and push it. I&apos;d be happy to beast it overnight, apply the patch tomorrow and try again...&lt;/p&gt;




</comment>
                            <comment id="17087026" author="erickerickson" created="Sun, 19 Apr 2020 14:05:00 +0000"  >&lt;p&gt;Can&apos;t seem to run it at all, I&apos;m sure it&apos;s something wrong with my setup.&lt;/p&gt;

&lt;p&gt;So why not just push your fix. I&apos;ll leave a note for myself to check Hoss&apos; rollups specifically for these. There&apos;ll be nothing definitive until at least 24 hours after you push the fix, I usually give it a couple hours more at least in order to let the changes have a chance to work through the system.&lt;/p&gt;</comment>
                            <comment id="17087221" author="jira-bot" created="Sun, 19 Apr 2020 22:13:30 +0000"  >&lt;p&gt;Commit 89e14faca95259269b651164d952cc32d74fe9b3 in lucene-solr&apos;s branch refs/heads/master from Kevin Risden&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=89e14fa&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=89e14fa&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13886&quot; title=&quot;HDFSSyncSliceTest and SyncSliceTest started failing frequently&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13886&quot;&gt;&lt;del&gt;SOLR-13886&lt;/del&gt;&lt;/a&gt;: HDFSSyncSliceTest and SyncSliceTest started failing frequently&lt;/p&gt;

&lt;p&gt;Signed-off-by: Kevin Risden &amp;lt;krisden@apache.org&amp;gt;&lt;/p&gt;</comment>
                            <comment id="17087222" author="jira-bot" created="Sun, 19 Apr 2020 22:14:52 +0000"  >&lt;p&gt;Commit 62dd8ce860227506701122b8b46bb17aad94d85e in lucene-solr&apos;s branch refs/heads/branch_8x from Kevin Risden&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=62dd8ce&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=62dd8ce&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13886&quot; title=&quot;HDFSSyncSliceTest and SyncSliceTest started failing frequently&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13886&quot;&gt;&lt;del&gt;SOLR-13886&lt;/del&gt;&lt;/a&gt;: HDFSSyncSliceTest and SyncSliceTest started failing frequently&lt;/p&gt;

&lt;p&gt;Signed-off-by: Kevin Risden &amp;lt;krisden@apache.org&amp;gt;&lt;/p&gt;</comment>
                            <comment id="17091766" author="erickerickson" created="Fri, 24 Apr 2020 17:27:42 +0000"  >&lt;p&gt;BTW, I checked Hoss&apos; rollup yesterday and today for the previous 24 hours (48 hours total) and there are no failures reported for either of these, whereas there are for the last 7 days. So that&apos;s encouraging. Missed looking on Wednesday....&lt;/p&gt;

&lt;p&gt;The BadApple report next Monday will still pick up some runs from before this was checked in, so don&apos;t panic if you see that.&lt;/p&gt;</comment>
                            <comment id="17091773" author="risdenk" created="Fri, 24 Apr 2020 17:32:05 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=erickerickson&quot; class=&quot;user-hover&quot; rel=&quot;erickerickson&quot;&gt;erickerickson&lt;/a&gt; yea I&apos;ve been checking about once a day too and haven&apos;t seen any failures. It also fixed local Jenkins run failures I had seen for this test.&lt;/p&gt;</comment>
                            <comment id="17158392" author="broustant" created="Wed, 15 Jul 2020 15:10:54 +0000"  >&lt;p&gt;Closing after the 8.6.0 release&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13000376" name="SOLR-13886.patch" size="921" author="krisden" created="Sat, 18 Apr 2020 17:46:37 +0000"/>
                            <attachment id="13000377" name="SOLR-13886_jenkins_log.txt.gz" size="3728576" author="krisden" created="Sat, 18 Apr 2020 18:09:25 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 17 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z086lk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>