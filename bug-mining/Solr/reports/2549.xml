<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:06:17 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-7132] The Collections API ADDREPLICA command property.name is not reflected in the clusterstate until after Solr restarts</title>
                <link>https://issues.apache.org/jira/browse/SOLR-7132</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;If you do an ADDREPLICA command with &amp;amp;property.name=nonsense then go look at clusterstate.json, you&apos;ll see the default name for the replica. But if you then restart Solr, you see the name you specified on the create command, which is a bit confusing.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12776523">SOLR-7132</key>
            <summary>The Collections API ADDREPLICA command property.name is not reflected in the clusterstate until after Solr restarts</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="erickerickson">Erick Erickson</assignee>
                                    <reporter username="erickerickson">Erick Erickson</reporter>
                        <labels>
                    </labels>
                <created>Fri, 20 Feb 2015 19:42:03 +0000</created>
                <updated>Thu, 21 Nov 2019 00:42:08 +0000</updated>
                            <resolved>Fri, 10 Jul 2015 03:46:46 +0000</resolved>
                                    <version>5.1</version>
                    <version>6.0</version>
                                    <fixVersion>5.3</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14595098" author="erickerickson" created="Sun, 21 Jun 2015 16:12:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=varun&quot; class=&quot;user-hover&quot; rel=&quot;varun&quot;&gt;varun&lt;/a&gt; I put this JIRA on my list some time ago. We deprecated the &quot;name&quot; parameter in &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7499&quot; title=&quot;Deprecate the &amp;quot;name&amp;quot; parameter from the ADDREPLICA Collection API call&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7499&quot;&gt;&lt;del&gt;SOLR-7499&lt;/del&gt;&lt;/a&gt;. However, there&apos;s still a &quot;back door&quot; here since one can specify &quot;property.name&quot; in an ADDREPLICA command. Do you think is &quot;the right thing&quot; here would be to also dis-allow specifying &quot;property.name&quot; too?&lt;/p&gt;</comment>
                            <comment id="14597743" author="varunthacker" created="Tue, 23 Jun 2015 14:40:08 +0000"  >&lt;p&gt;Hi Erick,&lt;/p&gt;

&lt;p&gt;Yes we could also disallow &quot;property.name&quot; but this is my thinking currently. We have deprecated the name method for Solr 5.3 in &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7499&quot; title=&quot;Deprecate the &amp;quot;name&amp;quot; parameter from the ADDREPLICA Collection API call&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7499&quot;&gt;&lt;del&gt;SOLR-7499&lt;/del&gt;&lt;/a&gt;. We can remove it in Solr 5.4 . We don&apos;t make any changes to disallow &quot;property.name&quot; so that expert users who really have a use case of specifying the core name can use this method? &lt;/p&gt;

&lt;p&gt;We can still fix the bug that it only changes the name on a restart and not while creation.  What do you think?&lt;/p&gt;</comment>
                            <comment id="14598016" author="erickerickson" created="Tue, 23 Jun 2015 17:35:38 +0000"  >&lt;p&gt;Makes sense, I may actually get to this this week sometime.&lt;/p&gt;

&lt;p&gt;I do like making this obscure via requiring property.name to be specified. Making the option obvious does more harm than good IMO since it encourages people to shoot themselves in the foot. But deprecating it as you have done and allowing this &quot;back door&quot; keeps casual/new users from doing something bad because they see the &quot;name&quot; option but still allows someone who &lt;em&gt;really&lt;/em&gt; cares to control naming. Not that I&apos;d advise they do so, but you &lt;em&gt;know&lt;/em&gt; someone will want to &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14621584" author="erickerickson" created="Fri, 10 Jul 2015 01:46:22 +0000"  >&lt;p&gt;Final patch.&lt;/p&gt;</comment>
                            <comment id="14621587" author="jira-bot" created="Fri, 10 Jul 2015 01:47:45 +0000"  >&lt;p&gt;Commit 1690190 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=erickoerickson&quot; class=&quot;user-hover&quot; rel=&quot;erickoerickson&quot;&gt;erickoerickson&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1690190&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1690190&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7132&quot; title=&quot;The Collections API ADDREPLICA command property.name is not reflected in the clusterstate until after Solr restarts&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7132&quot;&gt;&lt;del&gt;SOLR-7132&lt;/del&gt;&lt;/a&gt;: The Collections API ADDREPLICA command property.name is not reflected in the clusterstate until after Solr restarts&lt;/p&gt;</comment>
                            <comment id="14621674" author="jira-bot" created="Fri, 10 Jul 2015 03:45:58 +0000"  >&lt;p&gt;Commit 1690198 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=erickoerickson&quot; class=&quot;user-hover&quot; rel=&quot;erickoerickson&quot;&gt;erickoerickson&lt;/a&gt; in branch &apos;dev/branches/branch_5x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1690198&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1690198&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7132&quot; title=&quot;The Collections API ADDREPLICA command property.name is not reflected in the clusterstate until after Solr restarts&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7132&quot;&gt;&lt;del&gt;SOLR-7132&lt;/del&gt;&lt;/a&gt;: The Collections API ADDREPLICA command property.name is not reflected in the clusterstate until after Solr restarts&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12744618" name="SOLR-7132.patch" size="7281" author="erickerickson" created="Fri, 10 Jul 2015 01:46:22 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 19 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i25vcf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>