<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:43:53 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-5510] genericCoreNodeNames=&quot;${genericCoreNodeNames:false}&quot; and old style solr.xml fails to create collection</title>
                <link>https://issues.apache.org/jira/browse/SOLR-5510</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;See this for some more details &lt;a href=&quot;https://gist.github.com/serba/1fe113e78ae7e01a4f58&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gist.github.com/serba/1fe113e78ae7e01a4f58&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This is a regression caused by &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5311&quot; title=&quot;Avoid registering replicas which are removed &quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5311&quot;&gt;&lt;del&gt;SOLR-5311&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;There are two reasons why a core does not have a reference in clusterstate&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;It is starting up for the first time (core creation)&lt;/li&gt;
	&lt;li&gt;Somebody invoked a DELETEREPLICA when the node itself was down&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;we neded to differentiate these two because for 1) the registration should succeed and for #2 the registration should fail&lt;/p&gt;

&lt;p&gt;The only way to do that was to check for the presence of the attribute coreNodeName in the core.properties. In case #1 it would be absent and in case#2 it would be present&lt;/p&gt;

&lt;p&gt;but when genericCoreNodeNames=&quot;${genericCoreNodeNames:false}&quot;&lt;/p&gt;

&lt;p&gt;ZkController#getCoreNodeName(getCoreNodeName) behaves similarly for both the cases and hence the failure&lt;/p&gt;</description>
                <environment></environment>
        <key id="12681634">SOLR-5510</key>
            <summary>genericCoreNodeNames=&quot;${genericCoreNodeNames:false}&quot; and old style solr.xml fails to create collection</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="noble.paul">Noble Paul</assignee>
                                    <reporter username="noble.paul">Noble Paul</reporter>
                        <labels>
                    </labels>
                <created>Wed, 27 Nov 2013 18:56:04 +0000</created>
                <updated>Mon, 24 Feb 2014 16:00:25 +0000</updated>
                            <resolved>Mon, 24 Feb 2014 16:00:25 +0000</resolved>
                                    <version>4.6</version>
                                    <fixVersion>4.6.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="13834032" author="noble.paul" created="Wed, 27 Nov 2013 18:58:54 +0000"  >&lt;p&gt;I feel the solution would be to eliminate the genericCoreNodeNames option. There should be only one way to create coreNodeName and that should be from the OverSeer&lt;/p&gt;</comment>
                            <comment id="13834048" author="markrmiller@gmail.com" created="Wed, 27 Nov 2013 19:16:06 +0000"  >&lt;p&gt;The genericCoreNodeNames option is there for back compatibility with those that have core names based on ip addresses from the first few SolrCloud releases.&lt;/p&gt;

&lt;p&gt;It doesn&apos;t &apos;create&apos; coreNodeNames - it&apos;s an option to get names like node_1, node_2, rather than 127.0.0.1_8888_solr,127.0.0.2_8881_solr, etc.&lt;/p&gt;</comment>
                            <comment id="13834052" author="markrmiller@gmail.com" created="Wed, 27 Nov 2013 19:18:00 +0000"  >&lt;p&gt;coreNodeName is different than genericCoreNodeNames and is important so that you can start up a new node and have it replace a node that died.&lt;/p&gt;</comment>
                            <comment id="13834660" author="noble.paul" created="Thu, 28 Nov 2013 09:46:27 +0000"  >&lt;p&gt;Ideally would like people to use collection admin commands to achieve this.&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;call DELETEREPLICA and remove a node that died&lt;/li&gt;
	&lt;li&gt;do a core create with appropriate collection/shard params or the upcoming addNode api&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;However , we should not break an existing functionality. My patch should fix this&lt;/p&gt;</comment>
                            <comment id="13836323" author="jira-bot" created="Mon, 2 Dec 2013 07:25:59 +0000"  >&lt;p&gt;Commit 1546922 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=noble.paul&quot; class=&quot;user-hover&quot; rel=&quot;noble.paul&quot;&gt;noble.paul&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1546922&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1546922&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5510&quot; title=&quot;genericCoreNodeNames=&amp;quot;${genericCoreNodeNames:false}&amp;quot; and old style solr.xml fails to create collection&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5510&quot;&gt;&lt;del&gt;SOLR-5510&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13836325" author="jira-bot" created="Mon, 2 Dec 2013 07:29:29 +0000"  >&lt;p&gt;Commit 1546923 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=noble.paul&quot; class=&quot;user-hover&quot; rel=&quot;noble.paul&quot;&gt;noble.paul&lt;/a&gt; in branch &apos;dev/branches/branch_4x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1546923&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1546923&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5510&quot; title=&quot;genericCoreNodeNames=&amp;quot;${genericCoreNodeNames:false}&amp;quot; and old style solr.xml fails to create collection&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5510&quot;&gt;&lt;del&gt;SOLR-5510&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13910340" author="janhoy" created="Mon, 24 Feb 2014 14:25:24 +0000"  >&lt;p&gt;Hi, there was a commit on this issue in December, but no mention in CHANGES. Is this fixed in 4.6.1 ?&lt;/p&gt;</comment>
                            <comment id="13910426" author="noble.paul" created="Mon, 24 Feb 2014 15:59:52 +0000"  >&lt;p&gt;Actually this was introduced as a part of &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5311&quot; title=&quot;Avoid registering replicas which are removed &quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5311&quot;&gt;&lt;del&gt;SOLR-5311&lt;/del&gt;&lt;/a&gt; which was reverted later. So this can be marked as fixed&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12616219" name="SOLR-5510.patch" size="1592" author="noble.paul" created="Thu, 28 Nov 2013 09:42:10 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>360898</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 39 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1q7nz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>361197</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>