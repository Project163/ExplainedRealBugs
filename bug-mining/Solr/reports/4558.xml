<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:45:30 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-14714] Solr.cmd in windows loads the incorrect jetty module when using java&gt;=9</title>
                <link>https://issues.apache.org/jira/browse/SOLR-14714</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;In Solr.cmd, when using SSL, there is a check to verify what version of java solr is running with. If this version of Java is greater or equal java 9 it will load the jetty https module while for java 8 it will use https8.&lt;/p&gt;

&lt;p&gt;However, this java version check is done before the java major version variable has been assigned. As a result, Solr in windows doesn&apos;t work when SSL is enabled.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;To fix this issue, it is enough if java checks are done before SSL checks.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;I have attached a patch with the modifications.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows environment running in Solr Cloud mode with SSL.&lt;/p&gt;</environment>
        <key id="13321285">SOLR-14714</key>
            <summary>Solr.cmd in windows loads the incorrect jetty module when using java&gt;=9</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="erickerickson">Erick Erickson</assignee>
                                    <reporter username="enpos">Endika Posadas</reporter>
                        <labels>
                            <label>Windows</label>
                            <label>startup</label>
                    </labels>
                <created>Thu, 6 Aug 2020 10:51:40 +0000</created>
                <updated>Wed, 2 Sep 2020 00:27:28 +0000</updated>
                            <resolved>Tue, 1 Sep 2020 15:53:21 +0000</resolved>
                                    <version>8.6</version>
                                    <fixVersion>8.6</fixVersion>
                                    <component>scripts and tools</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17179251" author="erickerickson" created="Mon, 17 Aug 2020 22:05:47 +0000"  >&lt;p&gt;I looked over these changes and it looks good to me. I&apos;ll check it in in a couple of days absent objections. I don&apos;t have a Windows machine to test with, but Endika is quite correct that the variable is used before it&apos;s set.&lt;/p&gt;</comment>
                            <comment id="17188413" author="jira-bot" created="Tue, 1 Sep 2020 12:35:56 +0000"  >&lt;p&gt;Commit 070237cd97cd5c1a3fc0663bd137c7b834c1088e in lucene-solr&apos;s branch refs/heads/master from Erick Erickson&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=070237c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=070237c&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-14714&quot; title=&quot;Solr.cmd in windows loads the incorrect jetty module when using java&amp;gt;=9&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-14714&quot;&gt;&lt;del&gt;SOLR-14714&lt;/del&gt;&lt;/a&gt;: Solr.cmd in windows loads the incorrect jetty module when using java&amp;gt;=9&lt;/p&gt;</comment>
                            <comment id="17188414" author="jira-bot" created="Tue, 1 Sep 2020 12:36:44 +0000"  >&lt;p&gt;Commit bb57150284090ddaa8adfedbaece96a259a2bc4c in lucene-solr&apos;s branch refs/heads/branch_8x from Erick Erickson&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=bb57150&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=bb57150&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-14714&quot; title=&quot;Solr.cmd in windows loads the incorrect jetty module when using java&amp;gt;=9&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-14714&quot;&gt;&lt;del&gt;SOLR-14714&lt;/del&gt;&lt;/a&gt;: Solr.cmd in windows loads the incorrect jetty module when using java&amp;gt;=9&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 070237cd97cd5c1a3fc0663bd137c7b834c1088e)&lt;/p&gt;</comment>
                            <comment id="17188416" author="erickerickson" created="Tue, 1 Sep 2020 12:38:25 +0000"  >&lt;p&gt;Added entry in CHANGES.txt&lt;/p&gt;</comment>
                            <comment id="17188417" author="erickerickson" created="Tue, 1 Sep 2020 12:39:39 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=enpos&quot; class=&quot;user-hover&quot; rel=&quot;enpos&quot;&gt;enpos&lt;/a&gt; Thanks! For future reference, out convention for patches is to just use the JIRA.patch, like the file I just attached. Multiple patches with the exact name are automatically handled and makes it easier to track the history (the most recent one is blue and all older ones are gray).&lt;/p&gt;

&lt;p&gt;Thanks again!&lt;/p&gt;</comment>
                            <comment id="17188545" author="thetaphi" created="Tue, 1 Sep 2020 15:20:13 +0000"  >&lt;p&gt;This has failed jenkins:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;&amp;gt; Task :validateSourcePatterns
tabs instead spaces: solr/bin/solr.cmd

&amp;gt; Task :validateSourcePatterns FAILED
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17188562" author="erickerickson" created="Tue, 1 Sep 2020 15:33:20 +0000"  >&lt;p&gt;Ian has volunteered to push a fix with another change he&apos;s doing, sorry about that. Thanks Ilan!&lt;/p&gt;</comment>
                            <comment id="17188584" author="erickerickson" created="Tue, 1 Sep 2020 15:53:21 +0000"  >&lt;p&gt;Thanks Ilan!&lt;/p&gt;</comment>
                            <comment id="17188618" author="jira-bot" created="Tue, 1 Sep 2020 16:36:08 +0000"  >&lt;p&gt;Commit 070237cd97cd5c1a3fc0663bd137c7b834c1088e in lucene-solr&apos;s branch refs/heads/&lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-9215&quot; title=&quot;replace checkJavaDocs.py with doclet&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LUCENE-9215&quot;&gt;&lt;del&gt;LUCENE-9215&lt;/del&gt;&lt;/a&gt; from Erick Erickson&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=070237c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=070237c&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-14714&quot; title=&quot;Solr.cmd in windows loads the incorrect jetty module when using java&amp;gt;=9&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-14714&quot;&gt;&lt;del&gt;SOLR-14714&lt;/del&gt;&lt;/a&gt;: Solr.cmd in windows loads the incorrect jetty module when using java&amp;gt;=9&lt;/p&gt;</comment>
                            <comment id="17188881" author="jira-bot" created="Wed, 2 Sep 2020 00:27:28 +0000"  >&lt;p&gt;Commit 070237cd97cd5c1a3fc0663bd137c7b834c1088e in lucene-solr&apos;s branch refs/heads/jira/&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-14383&quot; title=&quot;Fix indexing-nested-documents.adoc XML/JSON examples to be accurate, consistent, and clear&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-14383&quot;&gt;&lt;del&gt;SOLR-14383&lt;/del&gt;&lt;/a&gt; from Erick Erickson&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=070237c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=070237c&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-14714&quot; title=&quot;Solr.cmd in windows loads the incorrect jetty module when using java&amp;gt;=9&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-14714&quot;&gt;&lt;del&gt;SOLR-14714&lt;/del&gt;&lt;/a&gt;: Solr.cmd in windows loads the incorrect jetty module when using java&amp;gt;=9&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13010836" name="SOLR-14714.patch" size="5190" author="erickerickson" created="Tue, 1 Sep 2020 12:38:20 +0000"/>
                            <attachment id="13009182" name="load_java_info_first.patch" size="4750" author="enpos" created="Thu, 6 Aug 2020 10:51:29 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 11 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0hj1c:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>