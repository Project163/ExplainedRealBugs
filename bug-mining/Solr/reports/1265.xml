<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:34:27 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-4507] Cloud option not showing in admin UI when not using -DzkHost command line option</title>
                <link>https://issues.apache.org/jira/browse/SOLR-4507</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;I&apos;ve found out that in Solr 4.1, when using the zkHost attribute of the solr tag in solr.xml, instead of the -DzkHost command line option, SolrCloud works perfectly but the cloud option in the admin UI doesn&apos;t appear.&lt;/p&gt;

&lt;p&gt;Bug seems to be on app.js file in lines 316-322 in Solr 4.1 (406-412 in current trunk) when the UI tries to guess if SolrCloud is enabled. Not sure about the correct way of detecting if cloud is active but the current implementation is inconsistent with the funtionality available in solr.xml to provide the list of zkHosts.&lt;/p&gt;

&lt;p&gt;Afected snippet from app.js:&lt;/p&gt;
&lt;blockquote&gt;

&lt;p&gt;if( response.jvm &amp;amp;&amp;amp; response.jvm.jmx &amp;amp;&amp;amp; response.jvm.jmx.commandLineArgs )&lt;br/&gt;
{&lt;br/&gt;
  var command_line_args = response.jvm.jmx.commandLineArgs.join( &apos; | &apos; );&lt;br/&gt;
  environment_args = command_line_args.match( /-Dsolr.environment=((dev|test|prod)?&lt;span class=&quot;error&quot;&gt;&amp;#91;\w\d&amp;#93;&lt;/span&gt;*)/i );&lt;br/&gt;
  cloud_args = command_line_args.match( /-Dzk/i );&lt;br/&gt;
}&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;&lt;b&gt;How to reproduce&lt;/b&gt;&lt;br/&gt;
In a Solr ensemble using zookeeper, start up a node specifing the list of hosts in the zkHost attribute of the solr tag of solr.xml file and do not provide the -DzkHost atribute.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Result&lt;/b&gt;&lt;br/&gt;
The cloud option is not available on the admin UI for that node. Though the node is registered correctly as client in the zk ensemble and is working as expected. In fact if you directly access the &apos;htt://host:port/solr/#/~cloud&apos; url the cloud info is shown, but the option is still hidden.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Excepted result&lt;/b&gt;&lt;br/&gt;
When accesing the solr admin UI of the node the cloud menu option should be visible.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Linux&lt;/p&gt;</environment>
        <key id="12634400">SOLR-4507</key>
            <summary>Cloud option not showing in admin UI when not using -DzkHost command line option</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="markrmiller@gmail.com">Mark Miller</assignee>
                                    <reporter username="alfonso.presa">Alfonso Presa</reporter>
                        <labels>
                    </labels>
                <created>Wed, 27 Feb 2013 12:54:31 +0000</created>
                <updated>Mon, 9 May 2016 18:53:32 +0000</updated>
                            <resolved>Wed, 27 Feb 2013 15:29:32 +0000</resolved>
                                    <version>4.1</version>
                                    <fixVersion>4.2</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                    <component>SolrCloud</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13588301" author="alfonso.presa" created="Wed, 27 Feb 2013 13:11:31 +0000"  >&lt;p&gt;Doesn&apos;t seem that neither /solr/admin/system nor /solr/admin/cores provide any information about the Solr cloud is active when not using the -DzkHost command line argument &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;. &lt;/p&gt;

&lt;p&gt;After doing some researching, may be the easiest way to solve this issue could be calling to &lt;a href=&quot;http://host:port/solr/zookeeper&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://host:port/solr/zookeeper&lt;/a&gt; service and checking if response does contain a tree element, if so the #cloud element of the menu should be displayed.&lt;/p&gt;</comment>
                            <comment id="13588371" author="markrmiller@gmail.com" created="Wed, 27 Feb 2013 14:14:14 +0000"  >&lt;p&gt;Thanks for looking into this Alfonso.&lt;/p&gt;</comment>
                            <comment id="13588384" author="markrmiller@gmail.com" created="Wed, 27 Feb 2013 14:34:47 +0000"  >&lt;p&gt;I&apos;m thinking I&apos;ll just add something to the system output that tells if cloud mode is on.&lt;/p&gt;</comment>
                            <comment id="13588389" author="alfonso.presa" created="Wed, 27 Feb 2013 14:37:46 +0000"  >&lt;p&gt;That sounds like the perfect solution &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; (way better than mine). Thank you, Mark.&lt;/p&gt;</comment>
                            <comment id="13588416" author="commit-tag-bot" created="Wed, 27 Feb 2013 15:16:13 +0000"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;trunk commit&amp;#93;&lt;/span&gt; Mark Robert Miller&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1450800&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1450800&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-4507&quot; title=&quot;Cloud option not showing in admin UI when not using -DzkHost command line option&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-4507&quot;&gt;&lt;del&gt;SOLR-4507&lt;/del&gt;&lt;/a&gt;: The Cloud tab does not show up in the Admin UI if you set zkHost in solr.xml.&lt;/p&gt;</comment>
                            <comment id="13588427" author="commit-tag-bot" created="Wed, 27 Feb 2013 15:27:23 +0000"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;branch_4x commit&amp;#93;&lt;/span&gt; Mark Robert Miller&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1450801&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1450801&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-4507&quot; title=&quot;Cloud option not showing in admin UI when not using -DzkHost command line option&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-4507&quot;&gt;&lt;del&gt;SOLR-4507&lt;/del&gt;&lt;/a&gt;: The Cloud tab does not show up in the Admin UI if you set zkHost in solr.xml.&lt;/p&gt;</comment>
                            <comment id="13588429" author="markrmiller@gmail.com" created="Wed, 27 Feb 2013 15:29:32 +0000"  >&lt;p&gt;Thanks Alfonso!&lt;/p&gt;</comment>
                            <comment id="13588432" author="alfonso.presa" created="Wed, 27 Feb 2013 15:33:25 +0000"  >&lt;p&gt;Wow.... that was fast &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;. Thank you Mark!&lt;/p&gt;</comment>
                            <comment id="13653988" author="thetaphi" created="Fri, 10 May 2013 10:33:39 +0000"  >&lt;p&gt;Closed after release.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314893</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 28 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ic7j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>315237</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>