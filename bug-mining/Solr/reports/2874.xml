<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:12:03 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-8779] Fix missing InterruptedException handling in ZkStateReader</title>
                <link>https://issues.apache.org/jira/browse/SOLR-8779</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;I was debugging a zk session expired issue and saw this stack-trace&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;ERROR - 2016-03-03 06:55:53.873; [   ] org.apache.solr.common.SolrException; OverseerAutoReplicaFailoverThread had an error in its thread work loop.:org.apache.solr.common.SolrException: Error reading cluster properties
	at org.apache.solr.common.cloud.ZkStateReader.getClusterProps(ZkStateReader.java:738)
	at org.apache.solr.cloud.OverseerAutoReplicaFailoverThread.doWork(OverseerAutoReplicaFailoverThread.java:153)
	at org.apache.solr.cloud.OverseerAutoReplicaFailoverThread.run(OverseerAutoReplicaFailoverThread.java:132)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
Caused by: java.lang.InterruptedException: sleep interrupted
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.sleep(Native Method)
	at org.apache.solr.common.cloud.ZkCmdExecutor.retryDelay(ZkCmdExecutor.java:108)
	at org.apache.solr.common.cloud.ZkCmdExecutor.retryOperation(ZkCmdExecutor.java:76)
	at org.apache.solr.common.cloud.SolrZkClient.exists(SolrZkClient.java:308)
	at org.apache.solr.common.cloud.ZkStateReader.getClusterProps(ZkStateReader.java:731)
	... 3 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So I audited ZKStateReader and found a couple of places where an InterruptedException was caught but the interrupt flag wasn&apos;t set back.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12946476">SOLR-8779</key>
            <summary>Fix missing InterruptedException handling in ZkStateReader</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="varun">Varun Thacker</assignee>
                                    <reporter username="varun">Varun Thacker</reporter>
                        <labels>
                    </labels>
                <created>Thu, 3 Mar 2016 08:57:55 +0000</created>
                <updated>Thu, 21 Nov 2019 00:41:28 +0000</updated>
                            <resolved>Fri, 22 Apr 2016 00:20:37 +0000</resolved>
                                                    <fixVersion>5.5.1</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="15177516" author="varunthacker" created="Thu, 3 Mar 2016 09:04:05 +0000"  >&lt;p&gt;Simple patch which sets the interrupt flag back in &lt;tt&gt;ZkStateReader#readConfigName&lt;/tt&gt; , &lt;tt&gt;ZkStateReader#getClusterProps&lt;/tt&gt; , &lt;tt&gt;ZkStateReader#setClusterProperty&lt;/tt&gt; and &lt;tt&gt;ZkStateReader#getSecurityProps&lt;/tt&gt;&lt;/p&gt;</comment>
                            <comment id="15178019" author="dragonsinth" created="Thu, 3 Mar 2016 16:08:46 +0000"  >&lt;p&gt;LGTM&lt;/p&gt;</comment>
                            <comment id="15179835" author="varunthacker" created="Fri, 4 Mar 2016 12:44:15 +0000"  >&lt;p&gt;Thanks Scott for the review! &lt;/p&gt;

&lt;p&gt;I&apos;ll commit this soon.&lt;/p&gt;

&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nknize&quot; class=&quot;user-hover&quot; rel=&quot;nknize&quot;&gt;nknize&lt;/a&gt; , this is a bug . It&apos;s fine if I commit it to the 6_0 branch as well?&lt;/p&gt;</comment>
                            <comment id="15179931" author="nknize" created="Fri, 4 Mar 2016 14:22:34 +0000"  >&lt;blockquote&gt;&lt;p&gt;this is a bug . It&apos;s fine if I commit it to the 6_0 branch as well?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="15179958" author="jira-bot" created="Fri, 4 Mar 2016 14:42:27 +0000"  >&lt;p&gt;Commit 21bf9c6e8045adce3301a7a92766f9c43a49ba71 in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=varun&quot; class=&quot;user-hover&quot; rel=&quot;varun&quot;&gt;varun&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=21bf9c6&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=21bf9c6&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8779&quot; title=&quot;Fix missing InterruptedException handling in ZkStateReader&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-8779&quot;&gt;&lt;del&gt;SOLR-8779&lt;/del&gt;&lt;/a&gt;: Fix missing InterruptedException handling in ZkStateReader&lt;/p&gt;</comment>
                            <comment id="15179960" author="jira-bot" created="Fri, 4 Mar 2016 14:44:42 +0000"  >&lt;p&gt;Commit 1cbf22569a38add32eae22b38d5f02257ada3fed in lucene-solr&apos;s branch refs/heads/branch_6x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=varun&quot; class=&quot;user-hover&quot; rel=&quot;varun&quot;&gt;varun&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=1cbf225&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=1cbf225&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8779&quot; title=&quot;Fix missing InterruptedException handling in ZkStateReader&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-8779&quot;&gt;&lt;del&gt;SOLR-8779&lt;/del&gt;&lt;/a&gt;: Fix missing InterruptedException handling in ZkStateReader&lt;/p&gt;</comment>
                            <comment id="15179962" author="jira-bot" created="Fri, 4 Mar 2016 14:46:15 +0000"  >&lt;p&gt;Commit 45ddc181486c15022577b23f37e6bded1dadeef7 in lucene-solr&apos;s branch refs/heads/branch_6_0 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=varun&quot; class=&quot;user-hover&quot; rel=&quot;varun&quot;&gt;varun&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=45ddc18&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=45ddc18&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8779&quot; title=&quot;Fix missing InterruptedException handling in ZkStateReader&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-8779&quot;&gt;&lt;del&gt;SOLR-8779&lt;/del&gt;&lt;/a&gt;: Fix missing InterruptedException handling in ZkStateReader&lt;/p&gt;</comment>
                            <comment id="15252962" author="anshumg" created="Thu, 21 Apr 2016 23:01:52 +0000"  >&lt;p&gt;backport for 5.5.1&lt;/p&gt;</comment>
                            <comment id="15253073" author="anshumg" created="Fri, 22 Apr 2016 00:29:56 +0000"  >&lt;p&gt;branch_5x&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;commit 1ce5e533c551bf04fd256cd945be2cb9a261f069
Author: Varun Thacker &amp;lt;varunthacker1989@gmail.com&amp;gt;
Date:   Fri Mar 4 18:08:53 2016 +0530

    SOLR-8779: Fix missing InterruptedException handling in ZkStateReader
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;branch_5_5&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;commit 6024572a53fc3af8fbb2f3d0cf51cf46d7406350
Author: Varun Thacker &amp;lt;varunthacker1989@gmail.com&amp;gt;
Date:   Fri Mar 4 18:08:53 2016 +0530

    SOLR-8779: Fix missing InterruptedException handling in ZkStateReader
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12791132" name="SOLR-8779.patch" size="3416" author="varun" created="Thu, 3 Mar 2016 09:04:05 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 30 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u34f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>