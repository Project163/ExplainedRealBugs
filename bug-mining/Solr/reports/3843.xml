<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:31:32 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-12063] PeerSync and Leader Election skips delete-by-id and in-place updates when using CDCR</title>
                <link>https://issues.apache.org/jira/browse/SOLR-12063</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;CDCR implements it&apos;s own UpdateLog (CdcrUpdateLog) . We changed the encoding format in &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11003&quot; title=&quot;Enabling bi-directional CDCR on cluster for better failover&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-11003&quot;&gt;&lt;del&gt;SOLR-11003&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
PeerSync / LeaderElection code and CDCR checkpoint API call are unable to read delete-by-id&apos;s and in-place updates if they are present in the transaction log throwing a ClassCastException as a WARN&lt;/p&gt;

&lt;p&gt;Here&apos;s a stack trace for the WARN.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  [beaster]   2&amp;gt; 27394 WARN  (qtp97093533-72) [n:127.0.0.1:44658_solr c:cdcr-cluster1 s:shard1 r:core_node3 x:cdcr-cluster1_shard1_replica_n1] o.a.s.u.UpdateLog Unexpected log entry or corrupt log.  Entry=[2, -1594312216007409664, [B@28e6859c, &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;]
  [beaster]   2&amp;gt; java.lang.ClassCastException: java.lang.&lt;span class=&quot;code-object&quot;&gt;Boolean&lt;/span&gt; cannot be &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt; to [B
  [beaster]   2&amp;gt; 	at org.apache.solr.update.UpdateLog$RecentUpdates.update(UpdateLog.java:1443)
  [beaster]   2&amp;gt; 	at org.apache.solr.update.UpdateLog$RecentUpdates.&amp;lt;init&amp;gt;(UpdateLog.java:1340)
  [beaster]   2&amp;gt; 	at org.apache.solr.update.UpdateLog.getRecentUpdates(UpdateLog.java:1513)
  [beaster]   2&amp;gt; 	at org.apache.solr.handler.CdcrRequestHandler.handleShardCheckpointAction(CdcrRequestHandler.java:448)
  [beaster]   2&amp;gt; 	at org.apache.solr.handler.CdcrRequestHandler.handleRequestBody(CdcrRequestHandler.java:198)
  [beaster]   2&amp;gt; 	at org.apache.solr.handler.RequestHandlerBase.handleRequest(RequestHandlerBase.java:195)
  [beaster]   2&amp;gt; 	at org.apache.solr.core.SolrCore.execute(SolrCore.java:2503)
  [beaster]   2&amp;gt; 	at org.apache.solr.servlet.HttpSolrCall.execute(HttpSolrCall.java:711)
  [beaster]   2&amp;gt; 	at org.apache.solr.servlet.HttpSolrCall.call(HttpSolrCall.java:517)
  [beaster]   2&amp;gt; 	at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:384)
  [beaster]   2&amp;gt; 	at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:330)
  [beaster]   2&amp;gt; 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1637)
  [beaster]   2&amp;gt; 	at org.apache.solr.client.solrj.embedded.JettySolrRunner$DebugFilter.doFilter(JettySolrRunner.java:139)
  [beaster]   2&amp;gt; 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1637)
  [beaster]   2&amp;gt; 	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:533)
  [beaster]   2&amp;gt; 	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:188)
  [beaster]   2&amp;gt; 	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1595)
  [beaster]   2&amp;gt; 	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:188)
  [beaster]   2&amp;gt; 	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1253)
  [beaster]   2&amp;gt; 	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:168)
  [beaster]   2&amp;gt; 	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:473)
  [beaster]   2&amp;gt; 	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1564)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13143197">SOLR-12063</key>
            <summary>PeerSync and Leader Election skips delete-by-id and in-place updates when using CDCR</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="varun">Varun Thacker</assignee>
                                    <reporter username="sarkaramrit2@gmail.com">Amrit Sarkar</reporter>
                        <labels>
                    </labels>
                <created>Wed, 7 Mar 2018 12:09:07 +0000</created>
                <updated>Sat, 8 Jun 2019 15:11:38 +0000</updated>
                            <resolved>Sun, 18 Mar 2018 18:59:42 +0000</resolved>
                                    <version>7.2</version>
                    <version>7.2.1</version>
                                    <fixVersion>7.3</fixVersion>
                                    <component>CDCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="16389727" author="sarkaramrit2@gmail.com" created="Wed, 7 Mar 2018 15:53:02 +0000"  >&lt;p&gt;Patch uploaded, but not sure whether tests are needed for this.&lt;/p&gt;</comment>
                            <comment id="16390945" author="sarkaramrit2@gmail.com" created="Thu, 8 Mar 2018 09:04:30 +0000"  >&lt;p&gt;Issue:&lt;/p&gt;

&lt;p&gt;The tlog entry for &apos;DeleteById&apos; has 3 entries before 7.2: 1. operation 2. flags 3. payload.&lt;br/&gt;
and 4 after the CDCR bidirectional patch with 4th one: boolean denoting it is CDCR or not.&lt;/p&gt;

&lt;p&gt;UpdateLog.RecentUpdates are utilized very vividly in Recovery, PeerSync and in CDCR CollectionCheckpoint API.&lt;br/&gt;
In the RecentUpdates creation, update() method, DeleteByIdList gets created for replay where the the payload is loaded into the list by referring the last index of tlog entry (entry.size() - 1).&lt;br/&gt;
With Cdcr bidirectional patch, the payload is at the index &lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; of entry, instead of last, and hence the Recovery, PeerSync and Cdcr CollectionCheckpoint, when CDCR enabled, will have serious implications and issues.&lt;/p&gt;

&lt;p&gt;Fix:&lt;/p&gt;

&lt;p&gt;Throughout the project, the payload for DeleteById and DeleteByQuery is on index &lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; and that was the motivation behind attaching the Cdcr boolean to the back. If we change the tlog entry for payload for DeleteById to index &lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt;, everything gets in order.&lt;/p&gt;

&lt;p&gt;Verification:&lt;/p&gt;

&lt;p&gt;I have attached log outputs for &lt;tt&gt;TestStressRecovery&lt;/tt&gt; and &lt;tt&gt;PeerSyncTest&lt;/tt&gt; where the above fix is validated and the tests are running successfully, while printing &quot;DELETE LIST triggred here: &lt;span class=&quot;error&quot;&gt;&amp;#91;payload&amp;#93;&lt;/span&gt;&quot; to make sure we are reading from the right index.&lt;/p&gt;</comment>
                            <comment id="16392189" author="varunthacker" created="Fri, 9 Mar 2018 00:50:57 +0000"  >&lt;p&gt;Hi Amrit,&lt;/p&gt;

&lt;p&gt;Thanks for the detailed explanation.&lt;/p&gt;

&lt;p&gt;Can we add a delete-by-id and update-inplace request&#160;in&#160;CdcrRequestHandlerTest#testCheckpointActions and verify against checkpoint after each operation?&lt;/p&gt;

&lt;p&gt;Currently&#160;we have an add, delete-by-query and commit so those two operations are not tested.&lt;/p&gt;</comment>
                            <comment id="16392604" author="sarkaramrit2@gmail.com" created="Fri, 9 Mar 2018 08:47:59 +0000"  >&lt;p&gt;Hi Varun.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Can we add a delete-by-id and update-inplace request in CdcrRequestHandlerTest#testCheckpointActions and verify against checkpoint after each operation?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yeah this is really useful. Patch updated, uploaded with new tests, even checking the checkpoints received are legit ones.&lt;/p&gt;</comment>
                            <comment id="16393422" author="varunthacker" created="Fri, 9 Mar 2018 19:31:13 +0000"  >&lt;p&gt;Somewhere in the test case we are printing all the data in zookeeper. This happens multiple times and fills the console. Can we figure out where is this happening and fix it?&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;If I take the latest patch , revert the fix to the UpdateLog and run&#160;CdcrRequestHandlerTest it always succeeds.&#160; Can we reproduce this problem with a test case so that the fix can be validated?&lt;/p&gt;</comment>
                            <comment id="16393709" author="varunthacker" created="Fri, 9 Mar 2018 22:38:50 +0000"  >&lt;blockquote&gt;&lt;p&gt;Somewhere in the test case we are printing all the data in zookeeper. This happens multiple times and fills the console. Can we figure out where is this happening and fix it?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Created &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-12076&quot; title=&quot;Remove more usages of printLayout in CDCR tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-12076&quot;&gt;&lt;del&gt;SOLR-12076&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16395728" author="varunthacker" created="Mon, 12 Mar 2018 19:02:44 +0000"  >&lt;p&gt;Hi Amrit,&lt;/p&gt;

&lt;p&gt;I&apos;m trying to understand your latest patch.&lt;/p&gt;

&lt;p&gt;Here&apos;s a change you made to the UpdateLog&lt;/p&gt;

&lt;p&gt;Old:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (oper == UpdateLog.UPDATE_INPLACE &amp;amp;&amp;amp; entry.size() == 5) {
  update.previousVersion = (&lt;span class=&quot;code-object&quot;&gt;Long&lt;/span&gt;) entry.get(UpdateLog.PREV_VERSION_IDX);
}&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;New:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (oper == UpdateLog.UPDATE_INPLACE) {
  &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; ((update.log &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; CdcrTransactionLog &amp;amp;&amp;amp; entry.size() == 6) ||
      (!(update.log &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; CdcrTransactionLog) &amp;amp;&amp;amp; entry.size() == 5)) {
    update.previousVersion = (&lt;span class=&quot;code-object&quot;&gt;Long&lt;/span&gt;) entry.get(UpdateLog.PREV_VERSION_IDX);
  }
}&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;What&apos;s the difference in&#160;behaviour here? Will we simply drop in-place updates if the inner if clause if not satisfied with the new patch?&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16396204" author="sarkaramrit2@gmail.com" created="Mon, 12 Mar 2018 22:48:02 +0000"  >&lt;p&gt;In-place updates are never dropped in this part of the code. It only validates whether the &lt;tt&gt;prev-version&lt;/tt&gt; is to be assigned or not. If &lt;tt&gt;CdcrTransactionLog&lt;/tt&gt; and tlog entry size 6; &lt;tt&gt;TransactionLog&lt;/tt&gt;, &lt;tt&gt;HDFSTransationLog&lt;/tt&gt; and tlog entry size 5, assign the prev-version to newly created update objects created from respective tlogs. &lt;/p&gt;

&lt;p&gt;This prev-version value has signifiicane in distributed updates: &lt;tt&gt;DistributedUpdateProcessor:: waitForDependentUpdates()&lt;/tt&gt; to make sure the updates are executed in proper chronological order as in-places updates depends on previous full updates.&lt;/p&gt;</comment>
                            <comment id="16396863" author="sarkaramrit2@gmail.com" created="Tue, 13 Mar 2018 11:56:54 +0000"  >&lt;p&gt;If we have: &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    &amp;lt;updateLog class=&lt;span class=&quot;code-quote&quot;&gt;&quot;solr.CdcrUpdateLog&quot;&lt;/span&gt;&amp;gt;
      &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;dir&quot;&lt;/span&gt;&amp;gt;${solr.ulog.dir:}&amp;lt;/str&amp;gt;
      &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;maxNumLogsToKeep&quot;&lt;/span&gt;&amp;gt;${solr.ulog.maxNumLogsToKeep:10}&amp;lt;/str&amp;gt;
      &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;numRecordsToKeep&quot;&lt;/span&gt;&amp;gt;${solr.ulog.numRecordsToKeep:100}&amp;lt;/str&amp;gt;
      &amp;lt;&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;tlogDfsReplication&quot;&lt;/span&gt;&amp;gt;${solr.ulog.tlogDfsReplication:2}&amp;lt;/&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;&amp;gt;
    &amp;lt;/updateLog&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;in &lt;tt&gt;solrconfig-tlog.xml&lt;/tt&gt;; &lt;tt&gt;TestStressRecovery&lt;/tt&gt; throws the &lt;tt&gt;Unexpected log entry or corrupt log.  Entry=..........&lt;/tt&gt; but test doesn&apos;t fail&lt;/p&gt;</comment>
                            <comment id="16398113" author="varunthacker" created="Wed, 14 Mar 2018 05:19:12 +0000"  >&lt;blockquote&gt;&lt;p&gt;&lt;tt&gt;TestStressRecovery&lt;/tt&gt;&#160;throws the&#160;&lt;tt&gt;Unexpected log entry or corrupt log. Entry=..........&lt;/tt&gt;&#160;but test doesn&apos;t fail&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I think that&apos;s fine. Currently the design&#160;decision is to throw a WARN and not an Exception&#160;&lt;/p&gt;</comment>
                            <comment id="16398115" author="varunthacker" created="Wed, 14 Mar 2018 05:23:06 +0000"  >&lt;p&gt;Okay let&apos;s commit &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-12083&quot; title=&quot;RealTimeGetComponent fails for INPLACE_UPDATE when Cdcr enabled &quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-12083&quot;&gt;&lt;del&gt;SOLR-12083&lt;/del&gt;&lt;/a&gt; first and then use the randomization from there to&#160;TestStressRecovery as part of this patch ?&#160;&lt;/p&gt;</comment>
                            <comment id="16398180" author="sarkaramrit2@gmail.com" created="Wed, 14 Mar 2018 07:25:47 +0000"  >&lt;p&gt;If we got with the current &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-12083&quot; title=&quot;RealTimeGetComponent fails for INPLACE_UPDATE when Cdcr enabled &quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-12083&quot;&gt;&lt;del&gt;SOLR-12083&lt;/del&gt;&lt;/a&gt; patch, uploaded 14/03/18 1PM IST, we don&apos;t need to make any changes in &lt;tt&gt;TestStressRecovery&lt;/tt&gt;, underlying test framework will randomise ULog at core initialization.&lt;/p&gt;</comment>
                            <comment id="16399425" author="sarkaramrit2@gmail.com" created="Wed, 14 Mar 2018 21:10:46 +0000"  >&lt;p&gt;Updated patch, included &lt;tt&gt;TestStressRecovery&lt;/tt&gt;, precommit, beasts of 10 rounds pass.&lt;/p&gt;</comment>
                            <comment id="16402399" author="sarkaramrit2@gmail.com" created="Fri, 16 Mar 2018 19:48:11 +0000"  >&lt;p&gt;Here&apos;s the final iteration of the patch.&lt;br/&gt;
The CDCR checkpoint test has been enhanced to add a delete-by-id and in-place updates which will trigger the ClassCastException&lt;/p&gt;

&lt;p&gt;Also TestStressRecoveries will now test with the CDCR update log to give more test coverage going forward&lt;/p&gt;</comment>
                            <comment id="16402529" author="varunthacker" created="Fri, 16 Mar 2018 21:02:56 +0000"  >&lt;p&gt;I&apos;ve reviewed the latest patch with Amrit offline today.&lt;/p&gt;

&lt;p&gt;After which I ran precommit and tests on the latest patch.&#160; Committing this shortly.&lt;/p&gt;

&lt;p&gt;Like &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-12083&quot; title=&quot;RealTimeGetComponent fails for INPLACE_UPDATE when Cdcr enabled &quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-12083&quot;&gt;&lt;del&gt;SOLR-12083&lt;/del&gt;&lt;/a&gt; If Jenkins is happy today I&apos;ll check with the RM if it&apos;s okay to backport it to the release branch. If it&apos;s too late then i&apos;ll move the CHANGES to 7.4 on master and branch7x&lt;br/&gt;
&#160;&lt;/p&gt;</comment>
                            <comment id="16402535" author="varunthacker" created="Fri, 16 Mar 2018 21:06:29 +0000"  >&lt;p&gt;Whoops I tagged &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-12083&quot; title=&quot;RealTimeGetComponent fails for INPLACE_UPDATE when Cdcr enabled &quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-12083&quot;&gt;&lt;del&gt;SOLR-12083&lt;/del&gt;&lt;/a&gt; in the commit message . So the commits are tagged here:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-12083?focusedCommentId=16402531&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16402531&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SOLR-12083?focusedCommentId=16402531&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16402531&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-12083?focusedCommentId=16402532&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16402532&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SOLR-12083?focusedCommentId=16402532&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16402532&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I still need to fix the CHANGES entry. Doing that now&lt;/p&gt;</comment>
                            <comment id="16402536" author="jira-bot" created="Fri, 16 Mar 2018 21:08:20 +0000"  >&lt;p&gt;Commit 77954fe90a1c1d47ef43f861afb2a6a2e86a3ddd in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=varun_saxena&quot; class=&quot;user-hover&quot; rel=&quot;varun_saxena&quot;&gt;varun_saxena&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=77954fe&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=77954fe&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-12063&quot; title=&quot;PeerSync and Leader Election skips delete-by-id and in-place updates when using CDCR&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-12063&quot;&gt;&lt;del&gt;SOLR-12063&lt;/del&gt;&lt;/a&gt;: Fix the Jira number mentioned against the changes entry for this fix&lt;/p&gt;</comment>
                            <comment id="16402539" author="jira-bot" created="Fri, 16 Mar 2018 21:10:25 +0000"  >&lt;p&gt;Commit 43ad71eaa2ffdd6d453e046bb1c2cae7b4504ecf in lucene-solr&apos;s branch refs/heads/branch_7x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=varun_saxena&quot; class=&quot;user-hover&quot; rel=&quot;varun_saxena&quot;&gt;varun_saxena&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=43ad71e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=43ad71e&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-12063&quot; title=&quot;PeerSync and Leader Election skips delete-by-id and in-place updates when using CDCR&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-12063&quot;&gt;&lt;del&gt;SOLR-12063&lt;/del&gt;&lt;/a&gt;: Fix the Jira number mentioned against the changes entry for this fix&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 77954fe)&lt;/p&gt;</comment>
                            <comment id="16402540" author="varunthacker" created="Fri, 16 Mar 2018 21:10:50 +0000"  >&lt;p&gt;Until&#160;INFRA-15850&#160;is resolved the user tagged with the commit will not be me&#160;&lt;br/&gt;
&#160;&lt;/p&gt;</comment>
                            <comment id="16404124" author="jira-bot" created="Sun, 18 Mar 2018 18:59:13 +0000"  >&lt;p&gt;Commit 283e33a77f0e3c9ed20a12e88a6f89fa712406c1 in lucene-solr&apos;s branch refs/heads/branch_7_3 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=varun_saxena&quot; class=&quot;user-hover&quot; rel=&quot;varun_saxena&quot;&gt;varun_saxena&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=283e33a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=283e33a&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-12063&quot; title=&quot;PeerSync and Leader Election skips delete-by-id and in-place updates when using CDCR&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-12063&quot;&gt;&lt;del&gt;SOLR-12063&lt;/del&gt;&lt;/a&gt;: Fix PeerSync, Leader Election failures and CDCR checkpoint inconsistencies on a cluster running CDCR&lt;/p&gt;

&lt;p&gt;(cherry picked from commit c4d0223)&lt;/p&gt;</comment>
                            <comment id="16404125" author="varunthacker" created="Sun, 18 Mar 2018 18:59:42 +0000"  >&lt;p&gt;Thanks Amrit!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12914694" name="SOLR-12063.patch" size="7734" author="sarkaramrit2@gmail.com" created="Thu, 15 Mar 2018 12:49:24 +0000"/>
                            <attachment id="12914583" name="SOLR-12063.patch" size="11317" author="sarkaramrit2@gmail.com" created="Wed, 14 Mar 2018 21:11:02 +0000"/>
                            <attachment id="12913815" name="SOLR-12063.patch" size="6407" author="sarkaramrit2@gmail.com" created="Fri, 9 Mar 2018 19:45:29 +0000"/>
                            <attachment id="12913738" name="SOLR-12063.patch" size="5553" author="sarkaramrit2@gmail.com" created="Fri, 9 Mar 2018 08:48:16 +0000"/>
                            <attachment id="12913443" name="SOLR-12063.patch" size="795" author="sarkaramrit2@gmail.com" created="Wed, 7 Mar 2018 20:40:39 +0000"/>
                            <attachment id="12913374" name="SOLR-12063.patch" size="1338" author="sarkaramrit2@gmail.com" created="Wed, 7 Mar 2018 12:11:50 +0000"/>
                            <attachment id="12913565" name="test-report-PeerSyncTest" size="635787" author="sarkaramrit2@gmail.com" created="Thu, 8 Mar 2018 09:04:49 +0000"/>
                            <attachment id="12913566" name="test-report-TestStressRecovery" size="30364839" author="sarkaramrit2@gmail.com" created="Thu, 8 Mar 2018 09:04:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>8.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 35 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3qzfr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>