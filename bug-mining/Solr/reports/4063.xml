<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:35:18 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-12023] Autoscaling policy engine shuffles replicas needlessly and can also suggest nonexistent replicas to be moved</title>
                <link>https://issues.apache.org/jira/browse/SOLR-12023</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;A test that I wrote in &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11066&quot; title=&quot;Implement a scheduled trigger&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-11066&quot;&gt;&lt;del&gt;SOLR-11066&lt;/del&gt;&lt;/a&gt; found the following problem:&lt;/p&gt;

&lt;p&gt;Cluster: 2 nodes&lt;br/&gt;
Collection: 1 shard, 3 replicas, maxShardsPerNode=5&lt;br/&gt;
No autoscaling policy or preference applied&lt;/p&gt;

&lt;p&gt;When the trigger runs, the computed plan needlessly shuffles all three replicas and then proceeds to return suggestions with only numbers as core names. These cores do not exist. I found that these numbers are generated internally by the framework as placeholders for moved cores for further calculations. They should never ever be suggested to the users.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13140395">SOLR-12023</key>
            <summary>Autoscaling policy engine shuffles replicas needlessly and can also suggest nonexistent replicas to be moved</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="noble.paul">Noble Paul</assignee>
                                    <reporter username="shalin">Shalin Shekhar Mangar</reporter>
                        <labels>
                    </labels>
                <created>Fri, 23 Feb 2018 03:55:51 +0000</created>
                <updated>Wed, 2 Oct 2019 17:24:34 +0000</updated>
                            <resolved>Thu, 17 Jan 2019 06:26:34 +0000</resolved>
                                                    <fixVersion>7.6</fixVersion>
                    <fixVersion>8.0</fixVersion>
                                    <component>AutoScaling</component>
                    <component>SolrCloud</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16373885" author="shalinmangar" created="Fri, 23 Feb 2018 03:56:57 +0000"  >&lt;p&gt;Here is the full patch from &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11066&quot; title=&quot;Implement a scheduled trigger&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-11066&quot;&gt;&lt;del&gt;SOLR-11066&lt;/del&gt;&lt;/a&gt; with TriggerIntegrationTest.testScheduledTrigger that demonstrates the problem.&lt;/p&gt;</comment>
                            <comment id="16384009" author="shalinmangar" created="Fri, 2 Mar 2018 19:15:37 +0000"  >&lt;p&gt;The test failure no longer reproduces after &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-12031&quot; title=&quot;Refactor Policy framework to let state changes to be applied to all nodes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-12031&quot;&gt;&lt;del&gt;SOLR-12031&lt;/del&gt;&lt;/a&gt; was fixed so I am closing this issue as a duplicate.&lt;/p&gt;</comment>
                            <comment id="16667184" author="noble.paul" created="Mon, 29 Oct 2018 13:13:13 +0000"  >&lt;p&gt;Apparently this is still a problem&lt;/p&gt;</comment>
                            <comment id="16667253" author="ctargett" created="Mon, 29 Oct 2018 14:06:06 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=noble.paul&quot; class=&quot;user-hover&quot; rel=&quot;noble.paul&quot;&gt;noble.paul&lt;/a&gt;, it should be reopened then? It&apos;s marked as Closed now.&lt;/p&gt;</comment>
                            <comment id="16668501" author="jira-bot" created="Tue, 30 Oct 2018 10:36:43 +0000"  >&lt;p&gt;Commit 01c0172f40d43bfd2ea292069c385b1188ba5428 in lucene-solr&apos;s branch refs/heads/branch_7x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=noble.paul&quot; class=&quot;user-hover&quot; rel=&quot;noble.paul&quot;&gt;noble.paul&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=01c0172&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=01c0172&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-12023&quot; title=&quot;Autoscaling policy engine shuffles replicas needlessly and can also suggest nonexistent replicas to be moved&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-12023&quot;&gt;&lt;del&gt;SOLR-12023&lt;/del&gt;&lt;/a&gt;: Autoscaling policy engine shuffles replicas needlessly&lt;/p&gt;</comment>
                            <comment id="16668505" author="shalinmangar" created="Tue, 30 Oct 2018 10:40:41 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=noble.paul&quot; class=&quot;user-hover&quot; rel=&quot;noble.paul&quot;&gt;noble.paul&lt;/a&gt; - I see that the commit only fixes suggesting non-existent cores problem. What about the needlessly shuffling replicas &amp;#8211; is that already fixed? Also, where is the corresponding commit to master?&lt;/p&gt;</comment>
                            <comment id="16674343" author="jira-bot" created="Sun, 4 Nov 2018 08:24:08 +0000"  >&lt;p&gt;Commit eb359ca0790af505debf33a57c3bfb18eecbab4e in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=noble.paul&quot; class=&quot;user-hover&quot; rel=&quot;noble.paul&quot;&gt;noble.paul&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=eb359ca&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=eb359ca&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-12023&quot; title=&quot;Autoscaling policy engine shuffles replicas needlessly and can also suggest nonexistent replicas to be moved&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-12023&quot;&gt;&lt;del&gt;SOLR-12023&lt;/del&gt;&lt;/a&gt;: Autoscaling policy engine shuffles replicas needlessly&lt;/p&gt;</comment>
                            <comment id="16674345" author="noble.paul" created="Sun, 4 Nov 2018 08:24:36 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=shalin&quot; class=&quot;user-hover&quot; rel=&quot;shalin&quot;&gt;shalin&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;My push to master had failed .&lt;/p&gt;</comment>
                            <comment id="16674969" author="jira-bot" created="Mon, 5 Nov 2018 11:01:40 +0000"  >&lt;p&gt;Commit eb359ca0790af505debf33a57c3bfb18eecbab4e in lucene-solr&apos;s branch refs/heads/jira/http2 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=noble.paul&quot; class=&quot;user-hover&quot; rel=&quot;noble.paul&quot;&gt;noble.paul&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=eb359ca&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=eb359ca&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-12023&quot; title=&quot;Autoscaling policy engine shuffles replicas needlessly and can also suggest nonexistent replicas to be moved&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-12023&quot;&gt;&lt;del&gt;SOLR-12023&lt;/del&gt;&lt;/a&gt;: Autoscaling policy engine shuffles replicas needlessly&lt;/p&gt;</comment>
                            <comment id="16677071" author="hossman" created="Tue, 6 Nov 2018 17:45:21 +0000"  >&lt;p&gt;Noble: what the heck happened with your push to master?  did you just force push an old commit????&lt;/p&gt;

&lt;p&gt;eb359ca0790af505debf33a57c3bfb18eecbab4e broke a tone of stuff in CHANGES.txt &amp;#8211; including removing the entire 8.0 section, and deleting/moving a bunch of stuff going back as far as 7.3!?!&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;a=blobdiff;f=solr/CHANGES.txt;h=be31fe7f4793fd27f1213779bc0880281fa9c1df;hp=90cce5b27f9b770ceb85a9c4a10b4979041a8b05;hb=eb359ca;hpb=f669a1fb0e1ff974df93229c41cd397956cb1e9a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;a=blobdiff;f=solr/CHANGES.txt;h=be31fe7f4793fd27f1213779bc0880281fa9c1df;hp=90cce5b27f9b770ceb85a9c4a10b4979041a8b05;hb=eb359ca;hpb=f669a1fb0e1ff974df93229c41cd397956cb1e9a&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16677526" author="jira-bot" created="Wed, 7 Nov 2018 01:56:15 +0000"  >&lt;p&gt;Commit 6f6a880ec2126690bb363b2a591bed36c406caee in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=noble.paul&quot; class=&quot;user-hover&quot; rel=&quot;noble.paul&quot;&gt;noble.paul&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=6f6a880&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=6f6a880&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-12023&quot; title=&quot;Autoscaling policy engine shuffles replicas needlessly and can also suggest nonexistent replicas to be moved&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-12023&quot;&gt;&lt;del&gt;SOLR-12023&lt;/del&gt;&lt;/a&gt;: correcting wrong git merge&lt;/p&gt;</comment>
                            <comment id="16744433" author="ctargett" created="Wed, 16 Jan 2019 20:27:48 +0000"  >&lt;p&gt;Did the commits here get straightened out? Is this in a release? Can it be resolved again?&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="13086843">SOLR-11066</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13145863">SOLR-12116</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13140837">SOLR-12031</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12911665" name="SOLR-11066-failing.patch" size="30759" author="shalin" created="Fri, 23 Feb 2018 03:56:22 +0000"/>
                            <attachment id="12946176" name="SOLR-12023.patch" size="5462" author="noble.paul" created="Tue, 30 Oct 2018 07:33:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 43 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3qi73:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>