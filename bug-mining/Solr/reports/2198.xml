<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:59:38 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-6732] Back-compat break for LIR state in 4.10.2</title>
                <link>https://issues.apache.org/jira/browse/SOLR-6732</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;We changed the LIR state to be kept as a map but it is not back-compatible. The problem is that we&apos;re checking for map or string after parsing JSON but if the key has &quot;down&quot; as a string then json parsing will fail.&lt;/p&gt;

&lt;p&gt;This was introduced in &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6511&quot; title=&quot;Fencepost error in LeaderInitiatedRecoveryThread&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6511&quot;&gt;&lt;del&gt;SOLR-6511&lt;/del&gt;&lt;/a&gt;. This error will prevent anyone from upgrading to 4.10.2&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/lucene-solr-user/201411.mbox/%3C54636ED2.8040508@cytainment.de%3E&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://mail-archives.apache.org/mod_mbox/lucene-solr-user/201411.mbox/%3C54636ED2.8040508@cytainment.de%3E&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12754817">SOLR-6732</key>
            <summary>Back-compat break for LIR state in 4.10.2</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="thelabdude">Timothy Potter</assignee>
                                    <reporter username="shalin">Shalin Shekhar Mangar</reporter>
                        <labels>
                    </labels>
                <created>Wed, 12 Nov 2014 17:33:08 +0000</created>
                <updated>Mon, 23 Feb 2015 05:01:12 +0000</updated>
                            <resolved>Tue, 18 Nov 2014 22:14:52 +0000</resolved>
                                    <version>4.10.2</version>
                                    <fixVersion>4.10.3</fixVersion>
                    <fixVersion>5.0</fixVersion>
                                    <component>SolrCloud</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="14208770" author="shalinmangar" created="Wed, 12 Nov 2014 21:56:34 +0000"  >&lt;p&gt;I have reverted the change to store the LIR state as json switched it back to a string.&lt;/p&gt;</comment>
                            <comment id="14208844" author="anshumg" created="Wed, 12 Nov 2014 22:56:49 +0000"  >&lt;p&gt;Wouldn&apos;t this cause an issue for people who have already moved to 10.2 i.e. it reverts things and makes things fine for people who never noticed/moved to 10.2 but not for others. We should be injecting back compat handling for 10.2.&lt;/p&gt;</comment>
                            <comment id="14213822" author="thelabdude" created="Sun, 16 Nov 2014 00:56:25 +0000"  >&lt;p&gt;Here&apos;s an updated patch that should allow for hot, rolling upgrades - handling the String state or JSON map correctly. I&apos;ve added a unit test that checks for back-compat support.&lt;/p&gt;

&lt;p&gt;The other concern is a node running old code that expects a String state and not the JSON map. I think that will not cause any issues since it will just treat the map as a String; a recovering replica will just delete the value once it&apos;s active. &lt;/p&gt;

&lt;p&gt;However, before I commit this I&apos;ll do a rolling upgrade to ensure no issues when going from 4.8.x to 4.10.3&lt;/p&gt;</comment>
                            <comment id="14216906" author="jira-bot" created="Tue, 18 Nov 2014 22:11:47 +0000"  >&lt;p&gt;Commit 1640432 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thelabdude&quot; class=&quot;user-hover&quot; rel=&quot;thelabdude&quot;&gt;thelabdude&lt;/a&gt; in branch &apos;dev/branches/lucene_solr_4_10&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1640432&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1640432&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6732&quot; title=&quot;Back-compat break for LIR state in 4.10.2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6732&quot;&gt;&lt;del&gt;SOLR-6732&lt;/del&gt;&lt;/a&gt;: fix back-compat issue with unit test to verify solution&lt;/p&gt;</comment>
                            <comment id="14216912" author="jira-bot" created="Tue, 18 Nov 2014 22:14:42 +0000"  >&lt;p&gt;Commit 1640434 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thelabdude&quot; class=&quot;user-hover&quot; rel=&quot;thelabdude&quot;&gt;thelabdude&lt;/a&gt; in branch &apos;dev/branches/lucene_solr_4_10&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1640434&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1640434&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6732&quot; title=&quot;Back-compat break for LIR state in 4.10.2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6732&quot;&gt;&lt;del&gt;SOLR-6732&lt;/del&gt;&lt;/a&gt;: mention in changes&lt;/p&gt;</comment>
                            <comment id="14224901" author="anshumg" created="Tue, 25 Nov 2014 17:47:42 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thelabdude&quot; class=&quot;user-hover&quot; rel=&quot;thelabdude&quot;&gt;thelabdude&lt;/a&gt; : Can you commit this for trunk and 5x too (if it has to be)?&lt;/p&gt;</comment>
                            <comment id="14231650" author="jira-bot" created="Tue, 2 Dec 2014 15:42:06 +0000"  >&lt;p&gt;Commit 1642917 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thelabdude&quot; class=&quot;user-hover&quot; rel=&quot;thelabdude&quot;&gt;thelabdude&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1642917&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1642917&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6732&quot; title=&quot;Back-compat break for LIR state in 4.10.2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6732&quot;&gt;&lt;del&gt;SOLR-6732&lt;/del&gt;&lt;/a&gt;: back compat support needed in trunk and 5x to support upgrades from 4.10.1 to 5x&lt;/p&gt;</comment>
                            <comment id="14231664" author="jira-bot" created="Tue, 2 Dec 2014 15:48:16 +0000"  >&lt;p&gt;Commit 1642920 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thelabdude&quot; class=&quot;user-hover&quot; rel=&quot;thelabdude&quot;&gt;thelabdude&lt;/a&gt; in branch &apos;dev/branches/branch_5x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1642920&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1642920&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6732&quot; title=&quot;Back-compat break for LIR state in 4.10.2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6732&quot;&gt;&lt;del&gt;SOLR-6732&lt;/del&gt;&lt;/a&gt;: back compat support needed in trunk and 5x to support upgrades from 4.10.1 to 5x&lt;/p&gt;</comment>
                            <comment id="14332660" author="anshumg" created="Mon, 23 Feb 2015 05:01:11 +0000"  >&lt;p&gt;Bulk close after 5.0 release.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12681766" name="SOLR-6732.patch" size="6905" author="thelabdude" created="Sun, 16 Nov 2014 00:56:25 +0000"/>
                            <attachment id="12681150" name="SOLR-6732.patch" size="4793" author="shalin" created="Wed, 12 Nov 2014 21:56:34 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 39 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i22ai7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>