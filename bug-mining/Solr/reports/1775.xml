<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:46:02 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-5649] Small ConnectionManager improvements</title>
                <link>https://issues.apache.org/jira/browse/SOLR-5649</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;I was just looking through the ConnectionManager and want to jot these down before I forget them.  I&apos;m happy to make a patch if someone thinks it&apos;s valuable as well.&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&quot;clientConnected&quot; doesn&apos;t seem to be read, can be eliminated&lt;/li&gt;
	&lt;li&gt;&quot;state&quot; is a private volatile variable, but only used in one function &amp;#8211; seems unlikely private volatile is what is wanted&lt;/li&gt;
	&lt;li&gt;A comment explaining why disconnected() is not called in the case of Expired would be helpful (Expired means we have already waited the timeout period so we want to reject updates right away)&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12689896">SOLR-5649</key>
            <summary>Small ConnectionManager improvements</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="markrmiller@gmail.com">Mark Miller</assignee>
                                    <reporter username="gchanan">Gregory Chanan</reporter>
                        <labels>
                    </labels>
                <created>Mon, 20 Jan 2014 22:32:29 +0000</created>
                <updated>Mon, 9 May 2016 18:44:20 +0000</updated>
                            <resolved>Tue, 11 Feb 2014 21:21:18 +0000</resolved>
                                    <version>4.6.1</version>
                                    <fixVersion>4.7</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                    <component>SolrCloud</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13897312" author="markrmiller@gmail.com" created="Tue, 11 Feb 2014 00:04:00 +0000"  >&lt;blockquote&gt;&lt;p&gt;&quot;clientConnected&quot; doesn&apos;t seem to be read, can be eliminated&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yup, a relica from original code.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;&quot;state&quot; is a private volatile variable, but only used in one function &#8211; seems unlikely private volatile is what is wanted&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yeah, there used to be a getState method that we inherited but it is gone now.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;A comment explaining why disconnected() is not called in the case of Expired would be helpful (Expired means we have already waited the timeout period so we want to reject updates right away)&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;The current comment already says:&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;      // we don&apos;t call disconnected because there&lt;br/&gt;
      // is no need to start the timer - if we are expired&lt;br/&gt;
      // likelyExpired can just be set to true&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="13897313" author="markrmiller@gmail.com" created="Tue, 11 Feb 2014 00:06:24 +0000"  >&lt;p&gt;A couple additional items:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;We don&apos;t want to call connected() after updating the SolrZooKeeper instance in process - the new event thread will call on the connect event. We just want to start the reconnected thread and then that thread will process the thread death event and die.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;Greg mentioned to me he also noticed the connected status variable was now in a non synchronized block - it should be synchronized or changed to a volatile.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13897317" author="markrmiller@gmail.com" created="Tue, 11 Feb 2014 00:08:35 +0000"  >&lt;p&gt;A patch addressing the above issues.&lt;/p&gt;</comment>
                            <comment id="13898321" author="jira-bot" created="Tue, 11 Feb 2014 21:16:47 +0000"  >&lt;p&gt;Commit 1567399 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1567399&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1567399&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5649&quot; title=&quot;Small ConnectionManager improvements&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5649&quot;&gt;&lt;del&gt;SOLR-5649&lt;/del&gt;&lt;/a&gt;: Clean up some minor ConnectionManager issues.&lt;/p&gt;</comment>
                            <comment id="13898324" author="jira-bot" created="Tue, 11 Feb 2014 21:18:51 +0000"  >&lt;p&gt;Commit 1567400 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/branches/branch_4x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1567400&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1567400&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5649&quot; title=&quot;Small ConnectionManager improvements&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5649&quot;&gt;&lt;del&gt;SOLR-5649&lt;/del&gt;&lt;/a&gt;: Clean up some minor ConnectionManager issues.&lt;/p&gt;</comment>
                            <comment id="13898328" author="markrmiller@gmail.com" created="Tue, 11 Feb 2014 21:21:18 +0000"  >&lt;p&gt;Thanks Greg!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12628115" name="SOLR-5649.patch" size="2141" author="markrmiller@gmail.com" created="Tue, 11 Feb 2014 00:08:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368862</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 41 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1rkrz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>369166</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>