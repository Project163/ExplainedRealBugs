<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:40:34 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-13539] Atomic Update Multivalue remove does not work for field types UUID, Enums, Bool  and Binary</title>
                <link>https://issues.apache.org/jira/browse/SOLR-13539</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;When using JavaBinCodec the values of collections are of type ByteArrayUtf8CharSequence, existing field values are Strings so the remove Operation does not have any effect.&lt;br/&gt;
 This is related to following field types: UUID, Enums, Bool and Binary&lt;/p&gt;</description>
                <environment></environment>
        <key id="13238977">SOLR-13539</key>
            <summary>Atomic Update Multivalue remove does not work for field types UUID, Enums, Bool  and Binary</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gerlowskija">Jason Gerlowski</assignee>
                                    <reporter username="thomas.woeckinger">Thomas W&#246;ckinger</reporter>
                        <labels>
                    </labels>
                <created>Wed, 12 Jun 2019 08:52:47 +0000</created>
                <updated>Wed, 9 Oct 2019 10:56:45 +0000</updated>
                            <resolved>Wed, 9 Oct 2019 10:56:45 +0000</resolved>
                                    <version>7.7.2</version>
                    <version>8.1</version>
                    <version>8.1.1</version>
                                    <fixVersion>8.3</fixVersion>
                                    <component>UpdateRequestProcessors</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>6</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="43800">12h 10m</timespent>
                                <comments>
                            <comment id="16876164" author="jira-bot" created="Mon, 1 Jul 2019 12:54:11 +0000"  >&lt;p&gt;Commit 8242e6ce1da141e5585c0a8cd7ffc5953c5bf035 in lucene-solr&apos;s branch refs/heads/master from Jason Gerlowski&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=8242e6c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=8242e6c&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13539&quot; title=&quot;Atomic Update Multivalue remove does not work for field types UUID, Enums, Bool  and Binary&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13539&quot;&gt;&lt;del&gt;SOLR-13539&lt;/del&gt;&lt;/a&gt;: Fix mv update of UUID, enum, bool and binary fields&lt;/p&gt;

&lt;p&gt;Co-Authored-By: Thomas Wockinger&lt;/p&gt;</comment>
                            <comment id="16876204" author="jira-bot" created="Mon, 1 Jul 2019 14:00:25 +0000"  >&lt;p&gt;Commit 5abafaa4a3157237e321bc135d9e3b12c190fae0 in lucene-solr&apos;s branch refs/heads/branch_8x from Jason Gerlowski&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=5abafaa&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=5abafaa&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13539&quot; title=&quot;Atomic Update Multivalue remove does not work for field types UUID, Enums, Bool  and Binary&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13539&quot;&gt;&lt;del&gt;SOLR-13539&lt;/del&gt;&lt;/a&gt;: Fix mv update of UUID, enum, bool and binary fields&lt;/p&gt;

&lt;p&gt;Co-Authored-By: Thomas Wockinger&lt;/p&gt;</comment>
                            <comment id="16876265" author="jira-bot" created="Mon, 1 Jul 2019 15:26:22 +0000"  >&lt;p&gt;Commit e50e9c34683cd1b439f717faff074f7fabe871a5 in lucene-solr&apos;s branch refs/heads/branch_8_1 from Jason Gerlowski&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=e50e9c3&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=e50e9c3&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13539&quot; title=&quot;Atomic Update Multivalue remove does not work for field types UUID, Enums, Bool  and Binary&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13539&quot;&gt;&lt;del&gt;SOLR-13539&lt;/del&gt;&lt;/a&gt;: Fix mv update of UUID, enum, bool and binary fields&lt;/p&gt;

&lt;p&gt;Co-Authored-By: Thomas Wockinger&lt;/p&gt;</comment>
                            <comment id="16892750" author="thomas.woeckinger" created="Thu, 25 Jul 2019 13:36:32 +0000"  >&lt;p&gt;Pushed new version with additional DirectJson tests&lt;/p&gt;</comment>
                            <comment id="16900197" author="timowen" created="Mon, 5 Aug 2019 16:06:46 +0000"  >&lt;p&gt;Not sure if it&apos;s a similar issue or not, but we&apos;re seeing this problem with the &lt;tt&gt;removeregex&lt;/tt&gt; atomic update operation (class cast when it tries to turn the javabin values into a String, inside the doRemoveRegex method).&lt;/p&gt;

&lt;p&gt;btw I previously raised a Jira with more tests for these operations,&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9505&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SOLR-9505&lt;/a&gt;&#160;although I don&apos;t know if those would have caught the javabin problem.&lt;/p&gt;</comment>
                            <comment id="16900228" author="thomas.woeckinger" created="Mon, 5 Aug 2019 16:46:15 +0000"  >&lt;p&gt;First of all i think it is related and second i am pretty sure that &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gerlowskija&quot; class=&quot;user-hover&quot; rel=&quot;gerlowskija&quot;&gt;gerlowskija&lt;/a&gt; only merged it to branch v8, i am currently waiting on getting the whole tests on atomic updates into the main line too&lt;/p&gt;</comment>
                            <comment id="16900810" author="timowen" created="Tue, 6 Aug 2019 09:19:19 +0000"  >&lt;p&gt;Thanks Thomas, yes we&apos;re using 7.7.2 and having trouble, as we use AtomicUpdates heavily. We applied the patch from &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13538&quot; title=&quot;ClassCastException: ByteArrayUtf8CharSequence cannot be cast to java.lang.String&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13538&quot;&gt;&lt;del&gt;SOLR-13538&lt;/del&gt;&lt;/a&gt; and then we applied your patch from your Github PR (although we excluded the unit tests from your patch) which fixes most thing (thank you). I have attached a further patch we had to do locally to make removeregex work (it looks like it was fixed for the single value case, but multiple values were still failing) perhaps you could add that further fix onto your larger change, or if not I can raise a separate ticket.&lt;/p&gt;

&lt;p&gt;To be honest, this whole situation with the javabin change is getting confusing, with various partial fixes and it&apos;s not clear to me which fixes are on the 7.x branch. Right now, 7.7.2 standard is effectively broken. Thanks for your efforts to try and get this back stable.&lt;/p&gt;</comment>
                            <comment id="16900830" author="thomas.woeckinger" created="Tue, 6 Aug 2019 09:50:21 +0000"  >&lt;p&gt;I will have a look at your tests. If they are still failing at the master, i will create a different PR which is referencing your issue&lt;/p&gt;</comment>
                            <comment id="16904660" author="gerlowskija" created="Sun, 11 Aug 2019 14:06:45 +0000"  >&lt;blockquote&gt;&lt;p&gt;To be honest, this whole situation with the javabin change is getting confusing, with various partial fixes&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I agree, the situation has become quite confused.  Partially to blame is my slowness in reviewing some of Thomas&apos; PRs.  Also contributing is that this bug was found and reported in a handful of different JIRAs, each reporting various levels of progress and not kept up to date.&lt;/p&gt;

&lt;p&gt;(This is worth apologizing again for: I thought tags on github PRs were making it through my email filters, but apparently not.  My inattention on Thomas&apos; PR&apos;s is embarassing.  Sorry Thomas.  I&apos;m glad you tagged me on jira.)&lt;/p&gt;

&lt;p&gt;So let&apos;s try to clarify.  My understanding is that all of the atomic-update ByteArrayUtf8CharSequence cast issues have been fixed on &lt;tt&gt;master&lt;/tt&gt; and &lt;tt&gt;branch_8x&lt;/tt&gt;.  All the remaining open PRs are test improvements.  Thomas has two PR&apos;s open: PR #665 and PR #755.  It looks to me like #665 depends on #755 (755 introduces a new test-base, 665 changes some existing tests to use this new class).  And Tim has proposed some additional unit tests in &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9505&quot; title=&quot;Extra tests to confirm Atomic Update remove behaviour&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9505&quot;&gt;&lt;del&gt;SOLR-9505&lt;/del&gt;&lt;/a&gt; (as well as suggesting a change to our documentation).  At a glance both of these sets of test changes are complimentary to each other, and we can merge both of them after review.&lt;/p&gt;

&lt;p&gt;Does that match your understanding of things &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thomas.woeckinger&quot; class=&quot;user-hover&quot; rel=&quot;thomas.woeckinger&quot;&gt;thomas.woeckinger&lt;/a&gt;?&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;it&apos;s not clear to me which fixes are on the 7.x branch. Right now, 7.7.2 standard is effectively broken.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Thomas is right- I haven&apos;t made an attempt to backport this to the 7x code line.  Primarily because I don&apos;t expect any more 7x releases.  There might be a 7.7.3 if some serious security issue is found, but even in that case the aim would be to introduce as little change into 7.7.3 as possible, and only fix the security issue itself.  I can make a case for backporting if a 7.7.3 comes up, but there might be pushback depending on the release manager.&lt;/p&gt;</comment>
                            <comment id="16904989" author="thomas.woeckinger" created="Mon, 12 Aug 2019 08:51:51 +0000"  >&lt;p&gt;Yes, i agree.&lt;/p&gt;</comment>
                            <comment id="16910298" author="timowen" created="Mon, 19 Aug 2019 10:17:45 +0000"  >&lt;p&gt;Thanks Jason and Thomas for summarising.&lt;/p&gt;

&lt;p&gt;When you say all the cast issues are fixed on master and 8x, does that include the small patch I added to this ticket, for the removeregex multi-value situation?&lt;/p&gt;

&lt;p&gt;It seems a shame that these fixes are not going to be on the 7x branch, as I say above it means the last 7x release is effectively broken. For us, we&apos;re using 7.7.2 but with the various fixes added on our local build, so we&apos;re OK .. but others using 7x with atomic updates, and not prepared to use a local build, should be aware.&lt;/p&gt;</comment>
                            <comment id="16911848" author="gerlowskija" created="Wed, 21 Aug 2019 01:17:45 +0000"  >&lt;blockquote&gt;&lt;p&gt;When you say all the cast issues are fixed on master and 8x, does that include the small patch I added to this ticket, for the removeregex multi-value situation?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;It doesn&apos;t.  But I have bundled that in with Thomas&apos; changes in my local testing and will make sure it makes it to master and branch_8x.&lt;/p&gt;

&lt;p&gt;Speaking of which, test &quot;beast&quot; runs look pretty good, so I&apos;ll go forward with committing this later this week, or this weekend.&lt;/p&gt;</comment>
                            <comment id="16918660" author="jira-bot" created="Thu, 29 Aug 2019 14:15:55 +0000"  >&lt;p&gt;Commit 319cb005d314e6f15dd73339e99657d8e39218a4 in lucene-solr&apos;s branch refs/heads/master from Jason Gerlowski&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=319cb00&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=319cb00&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13539&quot; title=&quot;Atomic Update Multivalue remove does not work for field types UUID, Enums, Bool  and Binary&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13539&quot;&gt;&lt;del&gt;SOLR-13539&lt;/del&gt;&lt;/a&gt;: Introduce EmbeddedSolrServerTestBase&lt;/p&gt;

&lt;p&gt;This groundwork commit allows tests to randomize request content-type&lt;br/&gt;
more flexibly.  This will be taken advantage of by subsequent commits.&lt;/p&gt;

&lt;p&gt;Co-Authored-By: Thomas Woeckinger&lt;br/&gt;
Closes: #755&lt;/p&gt;</comment>
                            <comment id="16945864" author="jira-bot" created="Mon, 7 Oct 2019 12:55:44 +0000"  >&lt;p&gt;Commit 24afd959024999c4e21b6e1c22bc9a5d126e6725 in lucene-solr&apos;s branch refs/heads/master from Jason Gerlowski&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=24afd95&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=24afd95&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13539&quot; title=&quot;Atomic Update Multivalue remove does not work for field types UUID, Enums, Bool  and Binary&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13539&quot;&gt;&lt;del&gt;SOLR-13539&lt;/del&gt;&lt;/a&gt;: Improve atomic-update test coverage&lt;/p&gt;

&lt;p&gt;Closes #665&lt;/p&gt;</comment>
                            <comment id="16946070" author="jira-bot" created="Mon, 7 Oct 2019 17:39:12 +0000"  >&lt;p&gt;Commit ceb47042d1597c4add81cb8b8ec5a6d56d13711a in lucene-solr&apos;s branch refs/heads/master from Jason Gerlowski&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=ceb4704&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=ceb4704&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13539&quot; title=&quot;Atomic Update Multivalue remove does not work for field types UUID, Enums, Bool  and Binary&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13539&quot;&gt;&lt;del&gt;SOLR-13539&lt;/del&gt;&lt;/a&gt;: Fix MV removeregex atomic-updates&lt;/p&gt;

&lt;p&gt;Prior to this commit, the ByteArrayUtf8CharSequence issues had been&lt;br/&gt;
fixed on single value removeregex commands, but not if multiple regex&apos;s&lt;br/&gt;
were used.&lt;/p&gt;

&lt;p&gt;This commit fixes our NamedList parsing for this additional case.  It&lt;br/&gt;
also adds some tests for related atomic-update cases.&lt;/p&gt;

&lt;p&gt;Co-Authored-By: Tim Owen&lt;/p&gt;</comment>
                            <comment id="16946356" author="gerlowskija" created="Tue, 8 Oct 2019 00:46:36 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=TimOwen&quot; class=&quot;user-hover&quot; rel=&quot;TimOwen&quot;&gt;TimOwen&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thomas.woeckinger&quot; class=&quot;user-hover&quot; rel=&quot;thomas.woeckinger&quot;&gt;thomas.woeckinger&lt;/a&gt;, wanted to follow up on this.&lt;/p&gt;

&lt;p&gt;As far as I know, all the pieces of this are now merged into &lt;tt&gt;master&lt;/tt&gt;.&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;the original fixes for the UUID, bool, enum, etc. field types&lt;/li&gt;
	&lt;li&gt;Introduce an EmbeddedSolrServer test base-class (PR: 755)&lt;/li&gt;
	&lt;li&gt;New Xml and Javabin tests (PR: 665)&lt;/li&gt;
	&lt;li&gt;The patch attached on this issue covering a gap around mv removeregex operations&lt;/li&gt;
	&lt;li&gt;Some additional test cases and changes Tim authored on &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9505&quot; title=&quot;Extra tests to confirm Atomic Update remove behaviour&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9505&quot;&gt;&lt;del&gt;SOLR-9505&lt;/del&gt;&lt;/a&gt;.&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;Have I missed anything in the list above?  I&apos;m working on backporting these changes now so that they can all go into the 8.3 release.  Once that backporting is done I&apos;ll close this and the related issues.  But if I&apos;ve missed anything, let me know!&lt;/p&gt;</comment>
                            <comment id="16946436" author="jira-bot" created="Tue, 8 Oct 2019 03:13:19 +0000"  >&lt;p&gt;Commit 24afd959024999c4e21b6e1c22bc9a5d126e6725 in lucene-solr&apos;s branch refs/heads/jira/&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13821&quot; title=&quot;Package Store&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13821&quot;&gt;&lt;del&gt;SOLR-13821&lt;/del&gt;&lt;/a&gt; from Jason Gerlowski&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=24afd95&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=24afd95&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13539&quot; title=&quot;Atomic Update Multivalue remove does not work for field types UUID, Enums, Bool  and Binary&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13539&quot;&gt;&lt;del&gt;SOLR-13539&lt;/del&gt;&lt;/a&gt;: Improve atomic-update test coverage&lt;/p&gt;

&lt;p&gt;Closes #665&lt;/p&gt;</comment>
                            <comment id="16946438" author="jira-bot" created="Tue, 8 Oct 2019 03:13:25 +0000"  >&lt;p&gt;Commit ceb47042d1597c4add81cb8b8ec5a6d56d13711a in lucene-solr&apos;s branch refs/heads/jira/&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13821&quot; title=&quot;Package Store&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13821&quot;&gt;&lt;del&gt;SOLR-13821&lt;/del&gt;&lt;/a&gt; from Jason Gerlowski&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=ceb4704&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=ceb4704&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13539&quot; title=&quot;Atomic Update Multivalue remove does not work for field types UUID, Enums, Bool  and Binary&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13539&quot;&gt;&lt;del&gt;SOLR-13539&lt;/del&gt;&lt;/a&gt;: Fix MV removeregex atomic-updates&lt;/p&gt;

&lt;p&gt;Prior to this commit, the ByteArrayUtf8CharSequence issues had been&lt;br/&gt;
fixed on single value removeregex commands, but not if multiple regex&apos;s&lt;br/&gt;
were used.&lt;/p&gt;

&lt;p&gt;This commit fixes our NamedList parsing for this additional case.  It&lt;br/&gt;
also adds some tests for related atomic-update cases.&lt;/p&gt;

&lt;p&gt;Co-Authored-By: Tim Owen&lt;/p&gt;</comment>
                            <comment id="16946656" author="timowen" created="Tue, 8 Oct 2019 09:27:19 +0000"  >&lt;p&gt;That&apos;s great, thanks Jason.&lt;/p&gt;

&lt;p&gt;I will close &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9505&quot; title=&quot;Extra tests to confirm Atomic Update remove behaviour&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9505&quot;&gt;&lt;del&gt;SOLR-9505&lt;/del&gt;&lt;/a&gt; as that&apos;s now incorporated into this ticket&apos;s change so we don&apos;t need it anymore.&lt;/p&gt;</comment>
                            <comment id="16946691" author="jira-bot" created="Tue, 8 Oct 2019 10:32:53 +0000"  >&lt;p&gt;Commit 20e382984a704c1dabf704dae71857066f4c06dd in lucene-solr&apos;s branch refs/heads/branch_8x from Jason Gerlowski&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=20e3829&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=20e3829&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13539&quot; title=&quot;Atomic Update Multivalue remove does not work for field types UUID, Enums, Bool  and Binary&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13539&quot;&gt;&lt;del&gt;SOLR-13539&lt;/del&gt;&lt;/a&gt;: Introduce EmbeddedSolrServerTestBase&lt;/p&gt;

&lt;p&gt;This groundwork commit allows tests to randomize request content-type&lt;br/&gt;
more flexibly.  This will be taken advantage of by subsequent commits.&lt;/p&gt;

&lt;p&gt;Co-Authored-By: Thomas Woeckinger&lt;br/&gt;
Closes: #755&lt;/p&gt;</comment>
                            <comment id="16946692" author="jira-bot" created="Tue, 8 Oct 2019 10:32:57 +0000"  >&lt;p&gt;Commit f74edc6787093116f736055ed28712b01224c7f7 in lucene-solr&apos;s branch refs/heads/branch_8x from Jason Gerlowski&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=f74edc6&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=f74edc6&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13539&quot; title=&quot;Atomic Update Multivalue remove does not work for field types UUID, Enums, Bool  and Binary&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13539&quot;&gt;&lt;del&gt;SOLR-13539&lt;/del&gt;&lt;/a&gt;: Improve atomic-update test coverage&lt;/p&gt;

&lt;p&gt;Closes #665&lt;/p&gt;</comment>
                            <comment id="16946693" author="jira-bot" created="Tue, 8 Oct 2019 10:33:01 +0000"  >&lt;p&gt;Commit 5dc480f88f03e120c692e7695e4a80ef7e662113 in lucene-solr&apos;s branch refs/heads/branch_8x from Jason Gerlowski&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=5dc480f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=5dc480f&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13539&quot; title=&quot;Atomic Update Multivalue remove does not work for field types UUID, Enums, Bool  and Binary&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13539&quot;&gt;&lt;del&gt;SOLR-13539&lt;/del&gt;&lt;/a&gt;: Fix MV removeregex atomic-updates&lt;/p&gt;

&lt;p&gt;Prior to this commit, the ByteArrayUtf8CharSequence issues had been&lt;br/&gt;
fixed on single value removeregex commands, but not if multiple regex&apos;s&lt;br/&gt;
were used.&lt;/p&gt;

&lt;p&gt;This commit fixes our NamedList parsing for this additional case.  It&lt;br/&gt;
also adds some tests for related atomic-update cases.&lt;/p&gt;

&lt;p&gt;Co-Authored-By: Tim Owen&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="13233331">SOLR-13471</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13129850">SOLR-11841</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13238967">SOLR-13538</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="13223790">SOLR-13347</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13242498">SOLR-13592</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13256839">SOLR-13762</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                            <outwardlinks description="incorporates">
                                        <issuelink>
            <issuekey id="13222434">SOLR-13331</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12976798" name="SOLR-13539.patch" size="1071" author="TimOwen" created="Tue, 6 Aug 2019 09:14:22 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 6 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z03nlk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>