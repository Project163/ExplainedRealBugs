<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:42:51 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-14163] SOLR_SSL_CLIENT_HOSTNAME_VERIFICATION needs to work with Jetty server/client SSL contexts</title>
                <link>https://issues.apache.org/jira/browse/SOLR-14163</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-14106&quot; title=&quot;SSL with SOLR_SSL_NEED_CLIENT_AUTH not working since v8.2.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-14106&quot;&gt;&lt;del&gt;SOLR-14106&lt;/del&gt;&lt;/a&gt; ensured that Jetty ssl context used client and server correctly. This however requires that SOLR_SSL_CLIENT_HOSTNAME_VERIFICATION be handled slightly differently to ensure that only clients are affected.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13277422">SOLR-14163</key>
            <summary>SOLR_SSL_CLIENT_HOSTNAME_VERIFICATION needs to work with Jetty server/client SSL contexts</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="krisden">Kevin Risden</assignee>
                                    <reporter username="krisden">Kevin Risden</reporter>
                        <labels>
                    </labels>
                <created>Fri, 3 Jan 2020 20:06:42 +0000</created>
                <updated>Thu, 7 Sep 2023 16:26:07 +0000</updated>
                            <resolved>Thu, 9 Jan 2020 15:48:23 +0000</resolved>
                                    <version>8.4</version>
                                    <fixVersion>8.4.1</fixVersion>
                    <fixVersion>8.5</fixVersion>
                                    <component>Server</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="3000">50m</timespent>
                                <comments>
                            <comment id="17007736" author="risdenk" created="Fri, 3 Jan 2020 20:07:52 +0000"  >&lt;p&gt;Copying comment from &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-14106&quot; title=&quot;SSL with SOLR_SSL_NEED_CLIENT_AUTH not working since v8.2.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-14106&quot;&gt;&lt;del&gt;SOLR-14106&lt;/del&gt;&lt;/a&gt;:&lt;/p&gt;

&lt;p&gt;Ok so looked into this a bit. The split from one ssl context into Server to Client definitely applies here. I need to double check the logic, but it could very well be that right now after this change, SOLR_SSL_CLIENT_HOSTNAME_VERIFICATION doesn&apos;t work correctly anymore.&lt;/p&gt;

&lt;p&gt;When Jetty Server ssl context is used, endpoint verification is forced to be null. It doesn&apos;t make sense on the server side.&lt;/p&gt;

&lt;p&gt;When Jetty Client ssl context is used, endpoint verification should be enabled by default and should only be disabled if you don&apos;t want verification.&lt;/p&gt;

&lt;p&gt;So what this means is we need to slightly change how SOLR_SSL_CLIENT_HOSTNAME_VERIFICATION is implemented to apply only to the client ssl context it looks like. I opened &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-14163&quot; title=&quot;SOLR_SSL_CLIENT_HOSTNAME_VERIFICATION needs to work with Jetty server/client SSL contexts&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-14163&quot;&gt;&lt;del&gt;SOLR-14163&lt;/del&gt;&lt;/a&gt; for this.&lt;/p&gt;

&lt;p&gt;References:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://github.com/eclipse/jetty.project/issues/3454&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/eclipse/jetty.project/issues/3454&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://github.com/eclipse/jetty.project/issues/3633&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/eclipse/jetty.project/issues/3633&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17007747" author="janhoy" created="Fri, 3 Jan 2020 20:39:59 +0000"  >&lt;p&gt;Currently the default of &lt;tt&gt;SOLR_SSL_CLIENT_HOSTNAME_VERIFICATION&lt;/tt&gt;&#160;in bin/solr is &lt;tt&gt;HTTPS&lt;/tt&gt;, not &lt;tt&gt;false&lt;/tt&gt; as the docs says and the commented values in bin/solr suggests. And in &lt;tt&gt;bin/solr.cmd&lt;/tt&gt; it is not present at all...&lt;/p&gt;

&lt;p&gt;So you say we should still keep the {{SOLR_SSL_CLIENT_HOSTNAME_VERIFICATION&#160;}}setting, but let it take effect for Client only, i.e. for Solr inter-node communication, or for pure SolrJ usage.&lt;/p&gt;</comment>
                            <comment id="17007753" author="risdenk" created="Fri, 3 Jan 2020 20:45:35 +0000"  >&lt;blockquote&gt;&lt;p&gt;Currently the default of SOLR_SSL_CLIENT_HOSTNAME_VERIFICATION in bin/solr is HTTPS, not false as the docs says and the commented values in bin/solr suggests. And in bin/solr.cmd it is not present at all...&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yup it looks all over the map from &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13798&quot; title=&quot;SSL: Adding Enabling/Disabling client&amp;#39;s hostname verification config&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13798&quot;&gt;&lt;del&gt;SOLR-13798&lt;/del&gt;&lt;/a&gt;. It looks like &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13798&quot; title=&quot;SSL: Adding Enabling/Disabling client&amp;#39;s hostname verification config&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13798&quot;&gt;&lt;del&gt;SOLR-13798&lt;/del&gt;&lt;/a&gt; predates the Jetty ssl context split to client/server. I was looking at fixing at least bin/solr.cmd as well.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;So you say we should still keep the {{SOLR_SSL_CLIENT_HOSTNAME_VERIFICATION }}setting, but let it take effect for Client only, i.e. for Solr inter-node communication, or for pure SolrJ usage.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yea I think so. If we want to have the ability to disable it. I personally don&apos;t like the option to disable TLS things since correct certs are usually easier to create/use.&lt;/p&gt;</comment>
                            <comment id="17011949" author="jira-bot" created="Thu, 9 Jan 2020 15:29:14 +0000"  >&lt;p&gt;Commit 22155bf7a7cba8ddb9652d1b30aa1429c233fcc6 in lucene-solr&apos;s branch refs/heads/master from Kevin Risden&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=22155bf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=22155bf&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-14163&quot; title=&quot;SOLR_SSL_CLIENT_HOSTNAME_VERIFICATION needs to work with Jetty server/client SSL contexts&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-14163&quot;&gt;&lt;del&gt;SOLR-14163&lt;/del&gt;&lt;/a&gt;: SOLR_SSL_CLIENT_HOSTNAME_VERIFICATION needs to work with Jetty server/client SSL contexts&lt;/p&gt;

&lt;p&gt;Closes #1147&lt;/p&gt;

&lt;p&gt;Signed-off-by: Kevin Risden &amp;lt;krisden@apache.org&amp;gt;&lt;/p&gt;</comment>
                            <comment id="17011950" author="jira-bot" created="Thu, 9 Jan 2020 15:29:52 +0000"  >&lt;p&gt;Commit 49a06a1a14bec5913a0bc876014c03764ad30ed9 in lucene-solr&apos;s branch refs/heads/branch_8x from Kevin Risden&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=49a06a1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=49a06a1&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-14163&quot; title=&quot;SOLR_SSL_CLIENT_HOSTNAME_VERIFICATION needs to work with Jetty server/client SSL contexts&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-14163&quot;&gt;&lt;del&gt;SOLR-14163&lt;/del&gt;&lt;/a&gt;: SOLR_SSL_CLIENT_HOSTNAME_VERIFICATION needs to work with Jetty server/client SSL contexts&lt;/p&gt;

&lt;p&gt;Closes #1147&lt;/p&gt;

&lt;p&gt;Signed-off-by: Kevin Risden &amp;lt;krisden@apache.org&amp;gt;&lt;/p&gt;</comment>
                            <comment id="17011967" author="jira-bot" created="Thu, 9 Jan 2020 15:48:20 +0000"  >&lt;p&gt;Commit 312639c7653a02e402868208e7baa8f6670b9063 in lucene-solr&apos;s branch refs/heads/branch_8_4 from Kevin Risden&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=312639c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=312639c&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-14163&quot; title=&quot;SOLR_SSL_CLIENT_HOSTNAME_VERIFICATION needs to work with Jetty server/client SSL contexts&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-14163&quot;&gt;&lt;del&gt;SOLR-14163&lt;/del&gt;&lt;/a&gt;: SOLR_SSL_CLIENT_HOSTNAME_VERIFICATION needs to work with Jetty server/client SSL contexts&lt;/p&gt;

&lt;p&gt;Closes #1147&lt;/p&gt;

&lt;p&gt;Signed-off-by: Kevin Risden &amp;lt;krisden@apache.org&amp;gt;&lt;/p&gt;</comment>
                            <comment id="17011968" author="risdenk" created="Thu, 9 Jan 2020 15:48:23 +0000"  >&lt;p&gt;Thanks for the reviews &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=janhoy&quot; class=&quot;user-hover&quot; rel=&quot;janhoy&quot;&gt;janhoy&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17012115" author="jira-bot" created="Thu, 9 Jan 2020 18:22:40 +0000"  >&lt;p&gt;Commit 22155bf7a7cba8ddb9652d1b30aa1429c233fcc6 in lucene-solr&apos;s branch refs/heads/gradle-master from Kevin Risden&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=22155bf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=22155bf&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-14163&quot; title=&quot;SOLR_SSL_CLIENT_HOSTNAME_VERIFICATION needs to work with Jetty server/client SSL contexts&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-14163&quot;&gt;&lt;del&gt;SOLR-14163&lt;/del&gt;&lt;/a&gt;: SOLR_SSL_CLIENT_HOSTNAME_VERIFICATION needs to work with Jetty server/client SSL contexts&lt;/p&gt;

&lt;p&gt;Closes #1147&lt;/p&gt;

&lt;p&gt;Signed-off-by: Kevin Risden &amp;lt;krisden@apache.org&amp;gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                            <outwardlinks description="causes">
                                        <issuelink>
            <issuekey id="13549944">SOLR-16963</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13275040">SOLR-14106</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13259263">SOLR-13798</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13525752">SOLR-16679</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 44 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0a694:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>