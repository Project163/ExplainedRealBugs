<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:04:45 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-7470] jvm/filesystem dependent failures in SolrCloudExampleTest.testLoadDocsIntoGettingStartedCollection -- directory traversal order dependency</title>
                <link>https://issues.apache.org/jira/browse/SOLR-7470</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;SolrCloudExampleTest.testLoadDocsIntoGettingStartedCollection currently fails 100% reliably on my laptop, regardless of seed with a root cause of...&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;   [junit4]   2&amp;gt; 35968 T60 N:127.0.0.1:57372_ C:gettingstarted S:shard1 R:core_node1 c:gettingstarted_shard1_replica2 C15 oasc.SolrException.log ERROR org.apache.solr.common.SolrException: ERROR: [doc=VS1GB400C3] Error adding field &apos;price&apos;=&apos;74.99&apos; msg=For input string: &quot;74.99&quot;
   [junit4]   2&amp;gt; 		at org.apache.solr.update.DocumentBuilder.toDocument(DocumentBuilder.java:178)
   [junit4]   2&amp;gt; 		at org.apache.solr.update.AddUpdateCommand.getLuceneDocument(AddUpdateCommand.java:79)
   [junit4]   2&amp;gt; 		at org.apache.solr.update.DirectUpdateHandler2.addDoc0(DirectUpdateHandler2.java:237)
   [junit4]   2&amp;gt; 		at org.apache.solr.update.DirectUpdateHandler2.addDoc(DirectUpdateHandler2.java:163)
   [junit4]   2&amp;gt; 		at org.apache.solr.update.processor.RunUpdateProcessor.processAdd(RunUpdateProcessorFactory.java:69)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This test uses &quot;data_driven_schema_configs&quot; and indexes all of the &amp;#42;.xml files in &quot;example/exampledocs&quot;.&lt;/p&gt;

&lt;p&gt;Two factors seem to be contributing to the the reason this fails consistently for me (but not for jenkins or anyone else i&apos;ve seen complain)...&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;The &lt;tt&gt;File.listFiles(FileFilter)&lt;/tt&gt; method is used to iterate over the files&lt;/li&gt;
	&lt;li&gt;The &quot;mem.xml&quot; file has an integer price value: &lt;tt&gt;&amp;lt;field name=&quot;price&quot;&amp;gt;185&amp;lt;/field&amp;gt;&lt;/tt&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;&lt;tt&gt;listFiles&lt;/tt&gt; is documented that &quot;There is no guarantee that the name strings in the resulting array will appear in any specific order&quot; and evidently with my filesystem + JVM they come back in a consistent order everytime, which just so happens to put mem.xml in front of any other file that also has a &quot;price&quot; field.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12823942">SOLR-7470</key>
            <summary>jvm/filesystem dependent failures in SolrCloudExampleTest.testLoadDocsIntoGettingStartedCollection -- directory traversal order dependency</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hossman">Chris M. Hostetter</assignee>
                                    <reporter username="hossman">Chris M. Hostetter</reporter>
                        <labels>
                    </labels>
                <created>Fri, 24 Apr 2015 23:56:47 +0000</created>
                <updated>Mon, 9 May 2016 18:56:27 +0000</updated>
                            <resolved>Tue, 28 Apr 2015 21:17:59 +0000</resolved>
                                                    <fixVersion>5.2</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14512061" author="hossman" created="Fri, 24 Apr 2015 23:58:43 +0000"  >&lt;p&gt;Attached patch:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;fixes the test to index the xml files in a deterministic order dictated by the test seed.&lt;/li&gt;
	&lt;li&gt;fixes mem.xml to use float price value.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;If you apply the patch, and then revert the mem.xml change, anyone &amp;#8211; regardless of filesystem &amp;#8211; should be able to see the test reliably fail with this seed...&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;ant test  -Dtestcase=SolrCloudExampleTest -Dtests.method=testLoadDocsIntoGettingStartedCollection -Dtests.seed=2AD197B874223638:C770325C8CC3DD07 -Dtests.slow=true -Dtests.locale=es_PE -Dtests.timezone=Africa/Khartoum -Dtests.asserts=true -Dtests.file.encoding=UTF-8
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;...i&apos;m still hammering on the test to &lt;del&gt;verify there are no&lt;/del&gt; &lt;em&gt;attempt to identify&lt;/em&gt; other file orderings that trigger similar bugs.&lt;/p&gt;</comment>
                            <comment id="14514454" author="jira-bot" created="Mon, 27 Apr 2015 17:09:28 +0000"  >&lt;p&gt;Commit 1676337 from hossman@apache.org in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1676337&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1676337&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7470&quot; title=&quot;jvm/filesystem dependent failures in SolrCloudExampleTest.testLoadDocsIntoGettingStartedCollection -- directory traversal order dependency&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7470&quot;&gt;&lt;del&gt;SOLR-7470&lt;/del&gt;&lt;/a&gt;: Fix sample data to eliminate file order dependency for successful indexing, also fixed SolrCloudExampleTest to help catch this in the future&lt;/p&gt;</comment>
                            <comment id="14514508" author="jira-bot" created="Mon, 27 Apr 2015 17:36:36 +0000"  >&lt;p&gt;Commit 1676342 from hossman@apache.org in branch &apos;dev/branches/branch_5x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1676342&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1676342&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7470&quot; title=&quot;jvm/filesystem dependent failures in SolrCloudExampleTest.testLoadDocsIntoGettingStartedCollection -- directory traversal order dependency&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7470&quot;&gt;&lt;del&gt;SOLR-7470&lt;/del&gt;&lt;/a&gt;: Fix sample data to eliminate file order dependency for successful indexing, also fixed SolrCloudExampleTest to help catch this in the future (merge r1676337)&lt;/p&gt;</comment>
                            <comment id="14518086" author="hossman" created="Tue, 28 Apr 2015 21:17:59 +0000"  >&lt;p&gt;whoops ... aparently i forgot to close this the other day&lt;/p&gt;

&lt;p&gt;(committed fix after running a 500 random iterations w/o seeing any similar types of failures)&lt;/p&gt;</comment>
                            <comment id="14586954" author="anshumg" created="Mon, 15 Jun 2015 21:45:04 +0000"  >&lt;p&gt;Bulk close for 5.2.0.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="12819494">SOLR-7366</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12728097" name="SOLR-7470.patch" size="3214" author="hossman" created="Fri, 24 Apr 2015 23:58:43 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 23 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2dqzz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>