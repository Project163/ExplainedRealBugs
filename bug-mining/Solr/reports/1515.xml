<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:38:54 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-5173] Solr-core&apos;s Maven configuration includes test-only Hadoop dependencies as indirect compile-time dependencies</title>
                <link>https://issues.apache.org/jira/browse/SOLR-5173</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;Chris Collins &lt;a href=&quot;http://markmail.org/message/evhpcougs5ppafjk&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;reported on solr-user&lt;/a&gt; that solr-core 4.4 has dependencies on hadoop, and indirectly on jetty 6.&lt;/p&gt;

&lt;p&gt;As a workaround for Maven dependencies, the indirect jetty 6 dependency/ies can be excluded.&lt;/p&gt;

&lt;p&gt;The Maven configuration should exclude any compile-time (and also run-time) dependencies that are not Ant/Ivy compile- and run-time dependencies, including jetty 6.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12664350">SOLR-5173</key>
            <summary>Solr-core&apos;s Maven configuration includes test-only Hadoop dependencies as indirect compile-time dependencies</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sarowe">Steven Rowe</assignee>
                                    <reporter username="sarowe">Steven Rowe</reporter>
                        <labels>
                    </labels>
                <created>Mon, 19 Aug 2013 13:54:55 +0000</created>
                <updated>Mon, 9 May 2016 18:58:09 +0000</updated>
                            <resolved>Wed, 21 Aug 2013 20:33:47 +0000</resolved>
                                    <version>4.4</version>
                                    <fixVersion>4.5</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                    <component>Build</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13743830" author="rcmuir" created="Mon, 19 Aug 2013 14:03:58 +0000"  >&lt;blockquote&gt;
&lt;p&gt;I think we can just remove the jetty and jetty-util 6.1.26 license files from solr/licenses/, since we don&apos;t ship those jars.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Well as far as source release goes, we dont ship any jars. So do we really not care about licensing just because something is used by test code versus source code? Personally I would prefer if we still tracked this and didn&apos;t let it become a free-for-all.&lt;/p&gt;</comment>
                            <comment id="13743832" author="markrmiller@gmail.com" created="Mon, 19 Aug 2013 14:05:37 +0000"  >&lt;p&gt;I&apos;m also +1 on keeping those license files - the src release includes all test stuff, and I think it&apos;s just the safe play.&lt;/p&gt;</comment>
                            <comment id="13743841" author="steve_rowe" created="Mon, 19 Aug 2013 14:21:55 +0000"  >&lt;p&gt;Actually, I was wrong about the binary distribution containing Jetty 6 license files - it contains the .jar.sha1 files for Jetty 6, but not the license files.&lt;/p&gt;

&lt;p&gt;In fact, there is a whole bunch of .sha1 files included in the binary distribution that don&apos;t need to be there:&lt;/p&gt;

&lt;p&gt;solr-4.4.0/licenses/activation-1.1.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/AlchemyAPIAnnotator-2.3.1.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/ant-1.8.2.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/apache-mime4j-core-0.7.2.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/apache-mime4j-dom-0.7.2.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/attributes-binder-1.0.1.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/bcmail-jdk15-1.45.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/bcprov-jdk15-1.45.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/boilerpipe-1.1.0.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/carrot2-mini-3.6.2.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/cglib-nodep-2.2.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/commons-beanutils-1.7.0.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/commons-cli-1.2.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/commons-codec-1.7.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/commons-collections-3.2.1.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/commons-compress-1.4.1.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/commons-configuration-1.6.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/commons-digester-2.0.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/commons-fileupload-1.2.1.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/commons-io-2.1.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/commons-lang-2.6.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/concurrentlinkedhashmap-lru-1.2.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/derby-10.9.1.0.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/dom4j-1.6.1.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/easymock-3.0.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/fontbox-1.8.1.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/guava-14.0.1.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/hadoop-annotations-2.0.5-alpha.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/hadoop-auth-2.0.5-alpha.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/hadoop-common-2.0.5-alpha.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/hadoop-common-2.0.5-alpha-tests.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/hadoop-hdfs-2.0.5-alpha.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/hadoop-hdfs-2.0.5-alpha-tests.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/hppc-0.4.1.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/hsqldb-1.8.0.10.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/httpclient-4.2.3.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/httpcore-4.2.2.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/httpmime-4.2.3.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/icu4j-49.1.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/isoparser-1.0-RC-1.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/jackson-core-asl-1.7.4.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/jackson-mapper-asl-1.7.4.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/javax.servlet-api-3.0.1.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/jcl-over-slf4j-1.6.6.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/jdom-1.0.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/jempbox-1.8.1.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/jersey-core-1.16.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/jetty-6.1.26.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/jetty-continuation-8.1.10.v20130312.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/jetty-deploy-8.1.10.v20130312.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/jetty-http-8.1.10.v20130312.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/jetty-io-8.1.10.v20130312.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/jetty-jmx-8.1.10.v20130312.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/jetty-security-8.1.10.v20130312.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/jetty-server-8.1.10.v20130312.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/jetty-servlet-8.1.10.v20130312.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/jetty-util-6.1.26.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/jetty-util-8.1.10.v20130312.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/jetty-webapp-8.1.10.v20130312.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/jetty-xml-8.1.10.v20130312.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/joda-time-2.2.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/jsonic-1.2.7.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/jul-to-slf4j-1.6.6.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/junit-4.10.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/junit4-ant-2.0.10.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/juniversalchardet-1.0.3.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/langdetect-1.1-20120112.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/log4j-1.2.16.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/mahout-collections-1.0.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/mahout-math-0.6.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/mail-1.4.1.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/metadata-extractor-2.6.2.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/morfologik-fsa-1.5.5.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/morfologik-polish-1.5.5.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/morfologik-stemming-1.5.5.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/netcdf-4.2-min.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/noggit-0.5.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/objenesis-1.2.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/OpenCalaisAnnotator-2.3.1.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/org.restlet.ext.servlet-2.1.1.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/org.restlet-2.1.1.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/pdfbox-1.8.1.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/poi-3.9.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/poi-ooxml-3.9.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/poi-ooxml-schemas-3.9.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/poi-scratchpad-3.9.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/protobuf-java-2.4.0a.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/randomizedtesting-runner-2.0.10.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/rome-0.9.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/servlet-api-3.0.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/simple-xml-2.6.4.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/slf4j-api-1.6.6.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/slf4j-log4j12-1.6.6.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/spatial4j-0.3.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/start.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/Tagger-2.3.1.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/tagsoup-1.2.1.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/tika-core-1.4.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/tika-parsers-1.4.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/uimaj-core-2.3.1.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/velocity-1.7.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/velocity-tools-2.0.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/vorbis-java-core-0.1.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/vorbis-java-tika-0.1.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/WhitespaceTokenizer-2.3.1.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/wstx-asl-3.2.7.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/xercesImpl-2.9.1.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/xmlbeans-2.3.0.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/xz-1.0.jar.sha1&lt;br/&gt;
solr-4.4.0/licenses/zookeeper-3.4.5.jar.sha1&lt;/p&gt;</comment>
                            <comment id="13743862" author="steve_rowe" created="Mon, 19 Aug 2013 14:45:52 +0000"  >&lt;p&gt;Patch fixing Ivy and Maven configurations to treat hadoop-hdfs, hadoop-auth, and hadoop-annotations as test dependencies.&lt;/p&gt;

&lt;p&gt;This causes the following solr-core compilation warnings, presumably because hadoop-common is in the compilation classpath but hadoop-annotations is not - &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt;, is this a problem?:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;common.compile-core:&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;mkdir&amp;#93;&lt;/span&gt; Created dir: C:\cygwin\home\s\svn\lucene\dev\trunk2\solr\build\solr-core\classes\java&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; Compiling 615 source files to C:\cygwin\home\s\svn\lucene\dev\trunk2\solr\build\solr-core\classes\java&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; C:\cygwin\home\s\svn\lucene\dev\trunk2\solr\core\lib\hadoop-common-2.0.5-alpha.jar(org/apache/hadoop/fs/FileSystem.class): warning: Cannot find annotation method &apos;value()&apos; in type &apos;LimitedPrivate&apos;: class file for org.apache.hadoop.classification.InterfaceAudience not found&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; C:\cygwin\home\s\svn\lucene\dev\trunk2\solr\core\lib\hadoop-common-2.0.5-alpha.jar(org/apache/hadoop/fs/FileSystem.class): warning: Cannot find annotation method &apos;value()&apos; in type &apos;LimitedPrivate&apos;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; C:\cygwin\home\s\svn\lucene\dev\trunk2\solr\core\lib\hadoop-common-2.0.5-alpha.jar(org/apache/hadoop/fs/FileSystem.class): warning: Cannot find annotation method &apos;value()&apos; in type &apos;LimitedPrivate&apos;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; C:\cygwin\home\s\svn\lucene\dev\trunk2\solr\core\lib\hadoop-common-2.0.5-alpha.jar(org/apache/hadoop/fs/Path.class): warning: Cannot find annotation method &apos;value()&apos; in type &apos;LimitedPrivate&apos;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; C:\cygwin\home\s\svn\lucene\dev\trunk2\solr\core\lib\hadoop-common-2.0.5-alpha.jar(org/apache/hadoop/security/UserGroupInformation.class): warning: Cannot find annotation method &apos;value()&apos; in type &apos;LimitedPrivate&apos;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; C:\cygwin\home\s\svn\lucene\dev\trunk2\solr\core\lib\hadoop-common-2.0.5-alpha.jar(org/apache/hadoop/metrics/MetricsUtil.class): warning: Cannot find annotation method &apos;value()&apos; in type &apos;LimitedPrivate&apos;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; C:\cygwin\home\s\svn\lucene\dev\trunk2\solr\core\lib\hadoop-common-2.0.5-alpha.jar(org/apache/hadoop/metrics/Updater.class): warning: Cannot find annotation method &apos;value()&apos; in type &apos;LimitedPrivate&apos;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; C:\cygwin\home\s\svn\lucene\dev\trunk2\solr\core\lib\hadoop-common-2.0.5-alpha.jar(org/apache/hadoop/fs/FSDataInputStream.class): warning: Cannot find annotation method &apos;value()&apos; in type &apos;LimitedPrivate&apos;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; C:\cygwin\home\s\svn\lucene\dev\trunk2\solr\core\lib\hadoop-common-2.0.5-alpha.jar(org/apache/hadoop/fs/FSDataOutputStream.class): warning: Cannot find annotation method &apos;value()&apos; in type &apos;LimitedPrivate&apos;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; Note: Some input files use or override a deprecated API.&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; Note: Recompile with -Xlint:deprecation for details.&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; Note: Some input files use unchecked or unsafe operations.&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; Note: Recompile with -Xlint:unchecked for details.&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; 9 warnings&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="13745054" author="steve_rowe" created="Tue, 20 Aug 2013 15:29:29 +0000"  >&lt;p&gt;From a #solr-dev IRC conversation today:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;10:15 &amp;lt;markrmiller&amp;gt; i think those 3 jars are the compile time dependencies
10:16               it&apos;s the test jars that are not
10:16               the hdfs common jar requires auth and annotations for whatever reason
10:16               would be nice if they did something like we do with solrj for the client
10:17               but they dont

10:22 &amp;lt;sarowe&amp;gt;      compile succeeds with only hadoop-common, leaving out -auth,
10:22               -annotations, and -hdfs -- there&apos;s just a compilation warning about annotations
10:22               about solrj, I guess you mean a reduced-footprint set of dependencies?
10:23               runtime deps I mean

10:25 &amp;lt;markrmiller&amp;gt; perhaps its runtime then
10:25               been many months since I added them
10:26               but I seem to remember those 3 came in before any test work

10:26 &amp;lt;sarowe&amp;gt;      ok, I&apos;m confused - are you saying that the Ant setup as it is right now,
10:26               without my patch, is as it should be?
10:26               right now, the Ant/Ivy/dist setup for solr doesn&apos;t make a distinction
10:27               between compile-time and run-time dependencies

10:27 &amp;lt;markrmiller&amp;gt; not if it was shipping jetty 6
10:27               I&apos;ve got to look though
10:27               the first draft that i committed
10:27               it was setup right
10:27               all the test stuff was in the test framework
10:27               and core only had the min of what it needed

10:27 &amp;lt;sarowe&amp;gt;      jetty 6 did not ship with 4.4

10:27 &amp;lt;markrmiller&amp;gt; i thought that might be the case - its simply a dependency thing?

10:28 &amp;lt;sarowe&amp;gt;      it&apos;s a *maven* dependency thing
10:28               the direct deps for Ivy and Maven are the same

10:28 &amp;lt;markrmiller&amp;gt; not much can be done about it - unless they make a sep client jar
10:28               maven sucks in the world and thats what you get

10:28 &amp;lt;sarowe&amp;gt;      but Maven also pulls in Jetty 6 as an indirect dep

10:28 &amp;lt;markrmiller&amp;gt; yeah, thats a bummer
10:28               but nothing we can do
10:29               thats how maven and the hadoop guys have things

10:29 &amp;lt;sarowe&amp;gt;      well, we can exclude jetty 6 as an indirect dep

10:29 &amp;lt;markrmiller&amp;gt; there is prob a lot you can exclude

10:29 &amp;lt;sarowe&amp;gt;      I did exclude a bunch of stuff
10:30               but I didn&apos;t revisit the exclusions when I moved the test stuff
10:30               from test-framework to solr-core unfortunately

10:29 &amp;lt;markrmiller&amp;gt; i found the min jars i needed

10:31 &amp;lt;sarowe&amp;gt;      so to confirm about the -hdfs, -auth, and -annotations jars:
10:31               these are required at run-time, right?

10:31 &amp;lt;markrmiller&amp;gt; as far as I know yes
10:31               one sec, let me look at an older build

10:32 &amp;lt;sarowe&amp;gt;      thanks - I&apos;ll change the patch to keep them as compile-time deps then,
10:32               since as I said the Ant/Ivy setup doesn&apos;t make a distinction between
10:32               compile-time and run-time deps
10:32               assuming you find that the older build did that

10:34 &amp;lt;markrmiller&amp;gt; what I added and need for compile/runtime was:
10:35               common, hdfs, annotations, auth, commons-configuration, protobuf-java,
10:35               perhaps concurrentlinkedhashmap unless it was already there
10:35               &amp;lt;dependency org=&quot;org.apache.hadoop&quot; name=&quot;hadoop-common&quot; rev=&quot;${hadoop.version}&quot; transitive=&quot;false&quot;/&amp;gt;
10:35               &amp;lt;dependency org=&quot;org.apache.hadoop&quot; name=&quot;hadoop-hdfs&quot; rev=&quot;${hadoop.version}&quot; transitive=&quot;false&quot;/&amp;gt;
10:35               &amp;lt;dependency org=&quot;org.apache.hadoop&quot; name=&quot;hadoop-annotations&quot; rev=&quot;${hadoop.version}&quot; transitive=&quot;false&quot;/&amp;gt;
10:35               &amp;lt;dependency org=&quot;org.apache.hadoop&quot; name=&quot;hadoop-auth&quot; rev=&quot;${hadoop.version}&quot; transitive=&quot;false&quot;/&amp;gt;
10:35               &amp;lt;dependency org=&quot;commons-configuration&quot; name=&quot;commons-configuration&quot; rev=&quot;1.6&quot; transitive=&quot;false&quot;/&amp;gt;
10:35               &amp;lt;dependency org=&quot;com.google.protobuf&quot; name=&quot;protobuf-java&quot; rev=&quot;2.4.0a&quot; transitive=&quot;false&quot;/&amp;gt;
10:35               &amp;lt;dependency org=&quot;com.googlecode.concurrentlinkedhashmap&quot; name=&quot;concurrentlinkedhashmap-lru&quot; rev=&quot;1.2&quot; transitive=&quot;false&quot;/&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13746733" author="steve_rowe" created="Wed, 21 Aug 2013 19:05:42 +0000"  >&lt;p&gt;This patch no longer removes hadoop-auth, hadoop-hdfs, and hdfs-annotations as Ivy and Maven dependencies.  Instead, the solr-core Maven dependencies are trimmed down to a minimum, and no longer include indirect jetty 6 dependencies.&lt;/p&gt;

&lt;p&gt;Committing shortly.&lt;/p&gt;</comment>
                            <comment id="13746736" author="jira-bot" created="Wed, 21 Aug 2013 19:12:44 +0000"  >&lt;p&gt;Commit 1516264 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=steve_rowe&quot; class=&quot;user-hover&quot; rel=&quot;steve_rowe&quot;&gt;steve_rowe&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1516264&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1516264&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5173&quot; title=&quot;Solr-core&amp;#39;s Maven configuration includes test-only Hadoop dependencies as indirect compile-time dependencies&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5173&quot;&gt;&lt;del&gt;SOLR-5173&lt;/del&gt;&lt;/a&gt;: Solr-core&apos;s Maven configuration includes test-only Hadoop dependencies as indirect compile-time dependencies&lt;/p&gt;</comment>
                            <comment id="13746768" author="jira-bot" created="Wed, 21 Aug 2013 19:50:13 +0000"  >&lt;p&gt;Commit 1516273 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=steve_rowe&quot; class=&quot;user-hover&quot; rel=&quot;steve_rowe&quot;&gt;steve_rowe&lt;/a&gt; in branch &apos;dev/branches/branch_4x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1516273&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1516273&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5173&quot; title=&quot;Solr-core&amp;#39;s Maven configuration includes test-only Hadoop dependencies as indirect compile-time dependencies&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5173&quot;&gt;&lt;del&gt;SOLR-5173&lt;/del&gt;&lt;/a&gt;: Solr-core&apos;s Maven configuration includes test-only Hadoop dependencies as indirect compile-time dependencies (merged trunk r1516264)&lt;/p&gt;</comment>
                            <comment id="13746811" author="steve_rowe" created="Wed, 21 Aug 2013 20:33:47 +0000"  >&lt;p&gt;Committed to trunk and branch_4x.&lt;/p&gt;

&lt;p&gt;Thanks Chris!&lt;/p&gt;</comment>
                            <comment id="13787002" author="jpountz" created="Sat, 5 Oct 2013 10:18:40 +0000"  >&lt;p&gt;4.5 release -&amp;gt; bulk close&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12599251" name="SOLR-5173.patch" size="4694" author="sarowe" created="Wed, 21 Aug 2013 19:05:42 +0000"/>
                            <attachment id="12598765" name="SOLR-5173.patch" size="7270" author="sarowe" created="Mon, 19 Aug 2013 14:45:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>344351</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 7 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ndt3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>344651</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>