<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:37:46 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-13368] SchemaManager failures when processing schema update requests</title>
                <link>https://issues.apache.org/jira/browse/SOLR-13368</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;When sending a schema update requests occasionally &lt;tt&gt;SchemaManager&lt;/tt&gt; produces this error:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[junit4] 2&amp;gt; 508295 ERROR (qtp1376110895-5901) [n:127.0.0.1:48080_solr c:.system s:shard1 r:core_node2 x:.system_shard1_replica_n1] o.a.s.h.RequestHandlerBase org.apache.solr.common.SolrException: Error reading input &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; Can&lt;span class=&quot;code-quote&quot;&gt;&apos;t find resource &apos;&lt;/span&gt;schema.xml&lt;span class=&quot;code-quote&quot;&gt;&apos; in classpath or &apos;&lt;/span&gt;/configs/.system&apos;, cwd=/&lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt;/lib/jenkins/jobs/Lucene-Solr-tests-master/workspace/solr/build/solr-core/test/J5
[junit4] 2&amp;gt; at org.apache.solr.handler.SchemaHandler.handleRequestBody(SchemaHandler.java:94)
[junit4] 2&amp;gt; at org.apache.solr.handler.RequestHandlerBase.handleRequest(RequestHandlerBase.java:199)
[junit4] 2&amp;gt; at org.apache.solr.core.SolrCore.execute(SolrCore.java:2566)
[junit4] 2&amp;gt; at org.apache.solr.servlet.HttpSolrCall.execute(HttpSolrCall.java:711)
[junit4] 2&amp;gt; at org.apache.solr.servlet.HttpSolrCall.call(HttpSolrCall.java:516)
[junit4] 2&amp;gt; at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:394)
[junit4] 2&amp;gt; at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:340)
[junit4] 2&amp;gt; at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1610)
[junit4] 2&amp;gt; at org.apache.solr.client.solrj.embedded.JettySolrRunner$DebugFilter.doFilter(JettySolrRunner.java:165)
[junit4] 2&amp;gt; at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1610)
[junit4] 2&amp;gt; at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:540)
[junit4] 2&amp;gt; at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:255)
[junit4] 2&amp;gt; at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1588)
[junit4] 2&amp;gt; at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:255)
[junit4] 2&amp;gt; at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1345)
[junit4] 2&amp;gt; at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:203)
[junit4] 2&amp;gt; at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:480)
[junit4] 2&amp;gt; at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1557)
[junit4] 2&amp;gt; at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:201)
[junit4] 2&amp;gt; at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1247)
[junit4] 2&amp;gt; at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:144)
[junit4] 2&amp;gt; at org.eclipse.jetty.server.handler.gzip.GzipHandler.handle(GzipHandler.java:703)
[junit4] 2&amp;gt; at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)
[junit4] 2&amp;gt; at org.eclipse.jetty.server.Server.handle(Server.java:502)
[junit4] 2&amp;gt; at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:364)
[junit4] 2&amp;gt; at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:260)
[junit4] 2&amp;gt; at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:305)
[junit4] 2&amp;gt; at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:103)
[junit4] 2&amp;gt; at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:118)
[junit4] 2&amp;gt; at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:765)
[junit4] 2&amp;gt; at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:683)
[junit4] 2&amp;gt; at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:748)
[junit4] 2&amp;gt; Caused by: org.apache.solr.core.SolrResourceNotFoundException: Can&lt;span class=&quot;code-quote&quot;&gt;&apos;t find resource &apos;&lt;/span&gt;schema.xml&lt;span class=&quot;code-quote&quot;&gt;&apos; in classpath or &apos;&lt;/span&gt;/configs/.system&apos;, cwd=/&lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt;/lib/jenkins/jobs/Lucene-Solr-tests-master/workspace/solr/build/solr-core/test/J5
[junit4] 2&amp;gt; at org.apache.solr.cloud.ZkSolrResourceLoader.openResource(ZkSolrResourceLoader.java:130)
[junit4] 2&amp;gt; at org.apache.solr.schema.SchemaManager.getFreshManagedSchema(SchemaManager.java:422)
[junit4] 2&amp;gt; at org.apache.solr.schema.SchemaManager.doOperations(SchemaManager.java:105)
[junit4] 2&amp;gt; at org.apache.solr.schema.SchemaManager.performOperations(SchemaManager.java:83)
[junit4] 2&amp;gt; at org.apache.solr.handler.SchemaHandler.handleRequestBody(SchemaHandler.java:90)
[junit4] 2&amp;gt; ... 31 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This happens for regular SolrCloud collections bootstrapped from file-based configs. If the configuration allows schema editing then&#160;&lt;tt&gt;solr.xml&lt;/tt&gt; should be initially present in ZK, then it&apos;s replaced by &lt;tt&gt;managed-schema&lt;/tt&gt; but a backup &lt;tt&gt;solr.xml.bak&lt;/tt&gt; file still exists in ZK. In this situation &lt;tt&gt;SchemaManager&lt;/tt&gt; should not complain about the missing &lt;tt&gt;solr.xml&lt;/tt&gt; file.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13225873">SOLR-13368</key>
            <summary>SchemaManager failures when processing schema update requests</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ab">Andrzej Bialecki</assignee>
                                    <reporter username="ab">Andrzej Bialecki</reporter>
                        <labels>
                    </labels>
                <created>Wed, 3 Apr 2019 18:01:28 +0000</created>
                <updated>Thu, 12 May 2022 00:26:16 +0000</updated>
                            <resolved>Wed, 10 Apr 2019 09:13:05 +0000</resolved>
                                    <version>8.0</version>
                    <version>8.1</version>
                    <version>9.0</version>
                                    <fixVersion>8.1</fixVersion>
                    <fixVersion>9.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16810234" author="ab" created="Thu, 4 Apr 2019 19:58:47 +0000"  >&lt;p&gt;I suspect there&apos;s a race condition between upgrading from initial schema to managed schema (which involves removing &lt;tt&gt;schema.xml&lt;/tt&gt;) and when the resourceName property is set in the current schema.&lt;/p&gt;

&lt;p&gt;The patch adds some synchronization around this. I&apos;m not able to reproduce this locally, so if there are no objections I&apos;ll commit this change and we&apos;ll see how it fares on Jenkins.&lt;/p&gt;</comment>
                            <comment id="16812241" author="jira-bot" created="Mon, 8 Apr 2019 08:50:46 +0000"  >&lt;p&gt;Commit 0859be134db8abb5d7cf68dd49baa51acf8d0c44 in lucene-solr&apos;s branch refs/heads/master from Andrzej Bialecki&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=0859be1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=0859be1&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13368&quot; title=&quot;SchemaManager failures when processing schema update requests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13368&quot;&gt;&lt;del&gt;SOLR-13368&lt;/del&gt;&lt;/a&gt;: Tentative fix for a race condition in managed schema initialization.&lt;/p&gt;</comment>
                            <comment id="16812272" author="jira-bot" created="Mon, 8 Apr 2019 09:30:47 +0000"  >&lt;p&gt;Commit f3cdd326bd8582eb12fb076db280ebb4c29dfef6 in lucene-solr&apos;s branch refs/heads/branch_8x from Andrzej Bialecki&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=f3cdd32&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=f3cdd32&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13368&quot; title=&quot;SchemaManager failures when processing schema update requests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13368&quot;&gt;&lt;del&gt;SOLR-13368&lt;/del&gt;&lt;/a&gt;: Tentative fix for a race condition in managed schema initialization.&lt;/p&gt;</comment>
                            <comment id="16813348" author="jira-bot" created="Tue, 9 Apr 2019 12:49:52 +0000"  >&lt;p&gt;Commit 0859be134db8abb5d7cf68dd49baa51acf8d0c44 in lucene-solr&apos;s branch refs/heads/jira/&lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-8738&quot; title=&quot;Bump minimum Java version requirement to 11&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LUCENE-8738&quot;&gt;&lt;del&gt;LUCENE-8738&lt;/del&gt;&lt;/a&gt; from Andrzej Bialecki&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=0859be1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=0859be1&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13368&quot; title=&quot;SchemaManager failures when processing schema update requests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13368&quot;&gt;&lt;del&gt;SOLR-13368&lt;/del&gt;&lt;/a&gt;: Tentative fix for a race condition in managed schema initialization.&lt;/p&gt;</comment>
                            <comment id="17535315" author="janhoy" created="Thu, 12 May 2022 00:26:16 +0000"  >&lt;p&gt;Closing after the 9.0.0 release&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12964909" name="SOLR-13368.patch" size="2772" author="ab" created="Thu, 4 Apr 2019 19:56:31 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 26 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z01f9k:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>