<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:59:23 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-16774] Document Docker version requirement for Solr 9.2 Docker image</title>
                <link>https://issues.apache.org/jira/browse/SOLR-16774</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;I&apos;m on Fedora 37. Docker version 20.10.3.&lt;/p&gt;

&lt;p&gt;Trying to run 9.2 docker image:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
 docker run -it --name solr1 -h solr1 solr:9.2.0 /opt/solr/bin/solr -c -f&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;runs into errors:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
 Java not found, or an error was encountered when running java.
A working Java 11 JRE is required to run Solr!
Please install latest version of Java 11 or set JAVA_HOME properly.
Command that we tried: &lt;span class=&quot;code-quote&quot;&gt;&apos;/opt/java/openjdk/bin/java -version&apos;&lt;/span&gt;, with response:
[0.012s][warning][os,thread] Failed to start thread &lt;span class=&quot;code-quote&quot;&gt;&quot;GC &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;#0&quot;&lt;/span&gt; - pthread_create failed (EPERM) &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; attributes: stacksize: 1024k, guardsize: 4k, detached.
#
# There is insufficient memory &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; the Java &lt;span class=&quot;code-object&quot;&gt;Runtime&lt;/span&gt; Environment to &lt;span class=&quot;code-keyword&quot;&gt;continue&lt;/span&gt;.
# Cannot create worker GC thread. Out of system resources.
# An error report file with more information is saved as:
# /tmp/hs_err_pid20.logDebug information:
JAVA_HOME: /opt/java/openjdk
Active Path:
/opt/solr/bin:/opt/solr/docker/scripts:/opt/solr/prometheus-exporter/bin:/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;All 8x, 9.0, 9.1 docker images running properly.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13534374">SOLR-16774</key>
            <summary>Document Docker version requirement for Solr 9.2 Docker image</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="janhoy">Jan H&#248;ydahl</assignee>
                                    <reporter username="ichattopadhyaya">Ishan Chattopadhyaya</reporter>
                        <labels>
                    </labels>
                <created>Fri, 28 Apr 2023 00:17:49 +0000</created>
                <updated>Wed, 12 Mar 2025 15:51:28 +0000</updated>
                            <resolved>Tue, 2 May 2023 11:25:55 +0000</resolved>
                                                    <fixVersion>9.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="3000">50m</timespent>
                                <comments>
                            <comment id="17717408" author="ichattopadhyaya" created="Fri, 28 Apr 2023 00:18:34 +0000"  >&lt;p&gt;In case this is not user error, and requires a fix, it will be a good candidate for 9.2.1 release.&lt;/p&gt;</comment>
                            <comment id="17717409" author="ichattopadhyaya" created="Fri, 28 Apr 2023 00:23:04 +0000"  >&lt;p&gt;My guess is that &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16665&quot; title=&quot;Upgrade OS version for base Docker image to jammy (Ubuntu 22)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16665&quot;&gt;&lt;del&gt;SOLR-16665&lt;/del&gt;&lt;/a&gt; is the reason for this regression.&lt;/p&gt;</comment>
                            <comment id="17717513" author="janhoy" created="Fri, 28 Apr 2023 08:10:40 +0000"  >&lt;p&gt;No problems here... Can you try on another computer? Or run &lt;tt&gt;docker image rm solr:9.2.0&lt;/tt&gt; first to clean up the image?&lt;/p&gt;</comment>
                            <comment id="17717517" author="janhoy" created="Fri, 28 Apr 2023 08:19:33 +0000"  >&lt;p&gt;Sorry, you are correct. It is related to &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16665&quot; title=&quot;Upgrade OS version for base Docker image to jammy (Ubuntu 22)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16665&quot;&gt;&lt;del&gt;SOLR-16665&lt;/del&gt;&lt;/a&gt;, but it is on purpose. We kept Solr&apos;s base image on Ubuntu 20.x until v9.2 for max back-compat with older docker engines. But as noted in upgrade notes &lt;a href=&quot;https://solr.apache.org/guide/solr/latest/upgrade-notes/major-changes-in-solr-9.html#docker&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://solr.apache.org/guide/solr/latest/upgrade-notes/major-changes-in-solr-9.html#docker&lt;/a&gt; for 9.2 we now use Ubuntu 22. Older docker engines are not compatible with such new Linux versions.&lt;/p&gt;

&lt;p&gt;I think we could add a sentence to the upgrade notes and say that &quot;Solr docker image now requires Docker engine v20.10.10.&lt;/p&gt;

&lt;p&gt;So if you upgrade your docker to 20.10.10 you should be fine. This is thus not a bug but an undocumented requirement.&lt;/p&gt;</comment>
                            <comment id="17717521" author="janhoy" created="Fri, 28 Apr 2023 08:29:32 +0000"  >&lt;p&gt;See PR &lt;a href=&quot;https://github.com/apache/solr/pull/1595&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/solr/pull/1595&lt;/a&gt; for upgrade notes update.&lt;/p&gt;

&lt;p&gt;Would also be nice if our docker image would detect this and exit with a decent error message, but don&apos;t know how to achieve that.&lt;/p&gt;</comment>
                            <comment id="17717523" author="ichattopadhyaya" created="Fri, 28 Apr 2023 08:32:55 +0000"  >&lt;p&gt;I think we should downgrade back to Ubuntu 20 for maximum compatibility. Or else, switch to something else like Debian or Alpine etc (hoping those don&apos;t suffer from this issue).&lt;/p&gt;</comment>
                            <comment id="17717526" author="ichattopadhyaya" created="Fri, 28 Apr 2023 08:34:45 +0000"  >&lt;p&gt;I keep my systems as latest as possible (Fedora 37) on a best effort basis. If doing all the reasonable things, I end up with an unsupported docker version, many others will also fall into this problem.&lt;/p&gt;</comment>
                            <comment id="17717542" author="janhoy" created="Fri, 28 Apr 2023 08:48:25 +0000"  >&lt;p&gt;Can you try a workaround found &lt;a href=&quot;https://github.com/linuxserver/docker-nzbhydra2/issues/20#issuecomment-1119688892&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;here&lt;/a&gt;?&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
docker run --security-opt seccomp=unconfined -it --rm solr:9.2.0 solr -c -f
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;If it works, we could document it too...&lt;/p&gt;</comment>
                            <comment id="17717724" author="houston" created="Fri, 28 Apr 2023 15:24:48 +0000"  >&lt;p&gt;That version of docker is over 2 years old.&lt;/p&gt;

&lt;p&gt;Docker 20.10.10 (The minimum supported version now) has been out for over 1.5 years. I think that&apos;s a reasonable amount of time to wait and expect people to upgrade. Does Fedora 37 not support newer (supported) versions of Docker?&lt;/p&gt;

&lt;p&gt;I have no issue switching to Debian, but I&apos;m not sure we could do that in a minor version release, given back-compat issues. (Alpine comes with its own issues and I wouldn&apos;t support using it for the default image)&lt;/p&gt;

&lt;p&gt;I&apos;m with Jan, in thinking that we can just document this in the ref-guide. Possibly on the dockerHub page as well.&lt;/p&gt;</comment>
                            <comment id="17717729" author="ichattopadhyaya" created="Fri, 28 Apr 2023 15:41:54 +0000"  >&lt;blockquote&gt;&lt;p&gt;Can you try a workaround found &lt;a href=&quot;https://github.com/linuxserver/docker-nzbhydra2/issues/20#issuecomment-1119688892&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;here&lt;/a&gt;?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I upgraded docker version, and it is no longer reproducible.&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Does Fedora 37 not support newer (supported) versions of Docker?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yes, it does. I had installed docker via Fedy (&lt;a href=&quot;https://github.com/rpmfusion-infra/fedy),&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/rpmfusion-infra/fedy&lt;/a&gt; ), which might have been the reason behind the old version not being updated. I removed docker, installed afresh and landed up on &lt;tt&gt;Docker version 23.0.2, build 569dd73&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;I agree with Jan that we could document this better, maybe by way of a more helpful error message. Though, it is outside my expertise to do so quickly at the moment.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17717730" author="ichattopadhyaya" created="Fri, 28 Apr 2023 15:43:29 +0000"  >&lt;blockquote&gt;&lt;p&gt;If it works, we could document it too...&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I have an identical system that has old docker version. I&apos;ll test this workaround over the weekend and report back. Thanks for taking a look!&lt;/p&gt;</comment>
                            <comment id="17717866" author="ichattopadhyaya" created="Sat, 29 Apr 2023 02:40:07 +0000"  >&lt;blockquote&gt;&lt;p&gt;Can you try a workaround found &lt;a href=&quot;https://github.com/linuxserver/docker-nzbhydra2/issues/20#issuecomment-1119688892&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;here&lt;/a&gt;?&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
docker run --security-opt seccomp=unconfined -it --rm solr:9.2.0 solr -c -f
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;If it works, we could document it too...&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Verified that it works on old docker (20.x).&lt;/p&gt;</comment>
                            <comment id="17717997" author="janhoy" created="Sun, 30 Apr 2023 00:20:17 +0000"  >&lt;p&gt;Thanks for checking Ishan. See my last comment in the PR, do you think the &quot;TIP&quot; paragraph (or something similar) should be added?&lt;/p&gt;</comment>
                            <comment id="17718524" author="jira-bot" created="Tue, 2 May 2023 11:22:48 +0000"  >&lt;p&gt;Commit e89ab86e611e49338dd827e9adcc4e5218870110 in solr&apos;s branch refs/heads/main from Jan H&#248;ydahl&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=e89ab86e611&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=e89ab86e611&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16774&quot; title=&quot;Document Docker version requirement for Solr 9.2 Docker image&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16774&quot;&gt;&lt;del&gt;SOLR-16774&lt;/del&gt;&lt;/a&gt;: Docker version requirement documented (#1595)&lt;/p&gt;
</comment>
                            <comment id="17718525" author="jira-bot" created="Tue, 2 May 2023 11:23:43 +0000"  >&lt;p&gt;Commit 042c6a59c3b1ad9de0b4664206e2a5587e964684 in solr&apos;s branch refs/heads/branch_9x from Jan H&#248;ydahl&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=042c6a59c3b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=042c6a59c3b&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16774&quot; title=&quot;Document Docker version requirement for Solr 9.2 Docker image&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16774&quot;&gt;&lt;del&gt;SOLR-16774&lt;/del&gt;&lt;/a&gt;: Docker version requirement documented (#1595)&lt;/p&gt;
</comment>
                            <comment id="17718526" author="jira-bot" created="Tue, 2 May 2023 11:24:13 +0000"  >&lt;p&gt;Commit cee644bf88801916e0be19987c39dd3ce52c91d5 in solr&apos;s branch refs/heads/branch_9_2 from Jan H&#248;ydahl&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=cee644bf888&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=cee644bf888&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16774&quot; title=&quot;Document Docker version requirement for Solr 9.2 Docker image&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16774&quot;&gt;&lt;del&gt;SOLR-16774&lt;/del&gt;&lt;/a&gt;: Docker version requirement documented (#1595)&lt;/p&gt;
</comment>
                            <comment id="17718527" author="janhoy" created="Tue, 2 May 2023 11:25:55 +0000"  >&lt;p&gt;Documented in upgrade notes for 9.2 that we now require v20.10.0 or newer, and a docker command line flag that can be used as a workaround. See PR for details.&lt;/p&gt;</comment>
                            <comment id="17745731" author="houston" created="Fri, 21 Jul 2023 20:40:33 +0000"  >&lt;p&gt;Closing after the 9.3.0 release&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 16 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1hl2o:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>