<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:46:50 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-5620] Race condition while setting ZkStateReader.aliases</title>
                <link>https://issues.apache.org/jira/browse/SOLR-5620</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;Noticed while working on &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5615&quot; title=&quot;Deadlock while trying to recover after a ZK session expiry&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5615&quot;&gt;&lt;del&gt;SOLR-5615&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://github.com/apache/lucene-solr/pull/15&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/lucene-solr/pull/15&lt;/a&gt; for a patch.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12687892">SOLR-5620</key>
            <summary>Race condition while setting ZkStateReader.aliases</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="markrmiller@gmail.com">Mark Miller</assignee>
                                    <reporter username="andyetitmoves">Ramkumar Aiyengar</reporter>
                        <labels>
                    </labels>
                <created>Wed, 8 Jan 2014 16:48:11 +0000</created>
                <updated>Mon, 31 Jul 2017 22:00:39 +0000</updated>
                            <resolved>Thu, 20 Feb 2014 16:54:08 +0000</resolved>
                                    <version>4.6</version>
                                    <fixVersion>4.7</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                    <component>SolrCloud</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="13865625" author="andyetitmoves" created="Wed, 8 Jan 2014 16:48:35 +0000"  >&lt;p&gt;I added a synchronized section around updateAliases just for consistency with the Watcher code in my second commit, though I am unsure of why it&apos;s even present in the Watcher code in the first place?&lt;/p&gt;</comment>
                            <comment id="13904979" author="markrmiller@gmail.com" created="Wed, 19 Feb 2014 01:44:25 +0000"  >&lt;p&gt;I think it&apos;s actually just left over from back when nodes updated cluster state via retries directly to zk rather than going through the overseer. I think that protected all reads and sets of the state? I&apos;m not sure, I&apos;d have to spend some more time on it. Someone else was involved in a lot of that refactoring, so I don&apos;t have a complete memory of it. Not positive if it was even need for the reads then, but who knows what all the code look like at the time.&lt;/p&gt;

&lt;p&gt;I can&apos;t see how we need it for reading the aliases though - but we do want that volatile of course.&lt;/p&gt;</comment>
                            <comment id="13904992" author="jira-bot" created="Wed, 19 Feb 2014 01:58:17 +0000"  >&lt;p&gt;Commit 1569603 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1569603&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1569603&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5620&quot; title=&quot;Race condition while setting ZkStateReader.aliases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5620&quot;&gt;&lt;del&gt;SOLR-5620&lt;/del&gt;&lt;/a&gt;: ZKStateReader.aliases should be volatile to ensure all threads see the latest aliases.&lt;/p&gt;</comment>
                            <comment id="13904996" author="jira-bot" created="Wed, 19 Feb 2014 01:59:58 +0000"  >&lt;p&gt;Commit 1569604 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/branches/branch_4x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1569604&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1569604&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5620&quot; title=&quot;Race condition while setting ZkStateReader.aliases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5620&quot;&gt;&lt;del&gt;SOLR-5620&lt;/del&gt;&lt;/a&gt;: ZKStateReader.aliases should be volatile to ensure all threads see the latest aliases.&lt;/p&gt;</comment>
                            <comment id="13905003" author="jira-bot" created="Wed, 19 Feb 2014 02:02:48 +0000"  >&lt;p&gt;Commit 1569606 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/branches/lucene_solr_4_7&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1569606&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1569606&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5620&quot; title=&quot;Race condition while setting ZkStateReader.aliases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5620&quot;&gt;&lt;del&gt;SOLR-5620&lt;/del&gt;&lt;/a&gt;: ZKStateReader.aliases should be volatile to ensure all threads see the latest aliases.&lt;/p&gt;</comment>
                            <comment id="13905578" author="andyetitmoves" created="Wed, 19 Feb 2014 15:48:23 +0000"  >&lt;p&gt;Thanks for picking up Mark!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>366899</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 39 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1r8rr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>367210</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>