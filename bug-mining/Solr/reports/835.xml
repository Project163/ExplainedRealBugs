<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:26:27 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-3196] partialResults response header not propagated in distributed search</title>
                <link>https://issues.apache.org/jira/browse/SOLR-3196</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;For &lt;tt&gt;timeAllowed=true&lt;/tt&gt; requests, the response contains a &lt;tt&gt;partialResults&lt;/tt&gt; header that indicates when a search was terminated early due to running out of time.  This header is being discarded by the collator.  Patch to follow.  &lt;/p&gt;</description>
                <environment></environment>
        <key id="12545010">SOLR-3196</key>
            <summary>partialResults response header not propagated in distributed search</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rblack">Russell Black</reporter>
                        <labels>
                            <label>patch</label>
                    </labels>
                <created>Sat, 3 Mar 2012 00:15:00 +0000</created>
                <updated>Fri, 10 May 2013 10:41:05 +0000</updated>
                            <resolved>Thu, 15 Mar 2012 17:13:53 +0000</resolved>
                                    <version>3.5</version>
                    <version>4.0-ALPHA</version>
                                    <fixVersion>3.6</fixVersion>
                    <fixVersion>4.0-ALPHA</fixVersion>
                                    <component>search</component>
                        <due></due>
                            <votes>2</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13221510" author="markrmiller@gmail.com" created="Sat, 3 Mar 2012 04:26:44 +0000"  >&lt;p&gt;Nice, thanks guys. We should prob add a simple test too - I can probably take this issue on if no one else jumps on it.&lt;/p&gt;</comment>
                            <comment id="13223789" author="rblack" created="Tue, 6 Mar 2012 23:21:10 +0000"  >&lt;p&gt;I looked into writing a test case for this, but ran into some difficulties.  The problem is that for the small data sets used by the test cases, all queries return within 1 millisecond, so I can&apos;t force the timeout.  (1 ms is the lowest value supported for the timeAllowed parameter, passing 0 is the same as not passing a timeout).  I haven&apos;t been able to come up with a query that takes sufficiently long to test &lt;tt&gt;timeAllowed&lt;/tt&gt;.  It appears that there are no test cases that test for the presence of the &lt;tt&gt;partialResults&lt;/tt&gt; header even for non-distributed searches.  I am confident that this patch works, however, since I have tested it thoroughly in our own index.  It&apos;s a pretty uncomplicated patch.  &lt;/p&gt;</comment>
                            <comment id="13224779" author="rblack" created="Wed, 7 Mar 2012 22:14:57 +0000"  >&lt;p&gt;Will it be possible to have this committed to 3x as well?  The patch should apply just fine to the 3x branch and we&apos;d love to have this make it into 3.6.&lt;/p&gt;</comment>
                            <comment id="13228490" author="erickerickson" created="Tue, 13 Mar 2012 16:25:05 +0000"  >&lt;p&gt;Patch didn&apos;t apply to 3x, apparently a few things moved around.&lt;/p&gt;

&lt;p&gt;Russel: &lt;br/&gt;
Could you take a quick check and see if this looks OK for 3x?&lt;/p&gt;

&lt;p&gt;Any back-compat issues with changing what comes back in the responseHeader?&lt;/p&gt;</comment>
                            <comment id="13228513" author="rblack" created="Tue, 13 Mar 2012 16:49:55 +0000"  >&lt;p&gt;Erick, &lt;/p&gt;

&lt;p&gt;Thanks for trying, i&apos;ll take a look at what&apos;s going on.  &lt;/p&gt;</comment>
                            <comment id="13228573" author="rblack" created="Tue, 13 Mar 2012 18:37:37 +0000"  >&lt;p&gt;I&apos;m not sure why the original patch fails to apply to 3x.  However, your patch looks good to me.  &lt;/p&gt;

&lt;p&gt;I don&apos;t see any problems with backwards compatibility.  This patch has the effect of adding a &lt;tt&gt;partialResults true&lt;/tt&gt; header, making it behave the same as a non-distributed request for time limited queries.  It&apos;s hard for me to imagine a situation where this would break backwards-compatibility.&lt;/p&gt;</comment>
                            <comment id="13230330" author="erickerickson" created="Thu, 15 Mar 2012 17:13:53 +0000"  >&lt;p&gt;4.x r: 1301097&lt;br/&gt;
3.6 r: 1301096&lt;/p&gt;

&lt;p&gt;Right, after looking a bit more closely, there&apos;s nothing here that would break back-compat, that was just my paranoia was at work.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12518197" name="SOLR-3196-3x.patch" size="1415" author="erickerickson" created="Tue, 13 Mar 2012 16:25:05 +0000"/>
                            <attachment id="12516906" name="SOLR-3196-partialResults-header.patch" size="1491" author="rblack" created="Sat, 3 Mar 2012 00:23:37 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>230196</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 36 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i03g4n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>18046</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>