<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:22:12 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-10425] PointFields ignore indexed=&quot;false&quot;</title>
                <link>https://issues.apache.org/jira/browse/SOLR-10425</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;(NOTE: description below focuses on &lt;tt&gt;IntPointField&lt;/tt&gt;, but problem seems to affect all &lt;tt&gt;PointField&lt;/tt&gt; subclasses)&lt;/p&gt;

&lt;p&gt;There seems to be a disconnect between &lt;tt&gt;PointField.createFields&lt;/tt&gt; -&amp;gt; &lt;tt&gt;IntPointField.createField&lt;/tt&gt; -&amp;gt; &lt;tt&gt;PointField.isFieldUsed&lt;/tt&gt; that results in an &lt;tt&gt;org.apache.lucene.document.IntPoint&lt;/tt&gt; being created for each field value, even if field is &lt;tt&gt;indexed=&quot;false&quot;&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;Steps to reproduce...&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;bin/solr -e techproducts
...
curl -X POST -H &apos;Content-type:application/json&apos; --data-binary &apos;{
  &quot;add-field&quot;:{
     &quot;name&quot;:&quot;hoss_points_check&quot;,
     &quot;type&quot;:&quot;pint&quot;,
     &quot;stored&quot;:true,
     &quot;docValues&quot;:false,
     &quot;indexed&quot;:false}
}&apos; http://localhost:8983/solr/techproducts/schema
...
curl -X POST -H &apos;Content-type:application/json&apos; --data-binary &apos;[{&quot;id&quot;:&quot;HOSS&quot;,&quot;hoss_points_check&quot;:42}]&apos; &apos;http://localhost:8983/solr/techproducts/update/json?commit=true&apos;
...
curl &apos;http://localhost:8983/solr/techproducts/query?q=id:HOSS&apos;
{
  &quot;responseHeader&quot;:{
    &quot;status&quot;:0,
    &quot;QTime&quot;:3,
    &quot;params&quot;:{
      &quot;q&quot;:&quot;id:HOSS&quot;}},
  &quot;response&quot;:{&quot;numFound&quot;:1,&quot;start&quot;:0,&quot;docs&quot;:[
      {
        &quot;id&quot;:&quot;HOSS&quot;,
        &quot;hoss_points_check&quot;:42,
        &quot;_version_&quot;:1563795876337418240}]
  }}
curl &apos;http://localhost:8983/solr/techproducts/query?q=hoss_points_check:42&apos;
{
  &quot;responseHeader&quot;:{
    &quot;status&quot;:0,
    &quot;QTime&quot;:2,
    &quot;params&quot;:{
      &quot;q&quot;:&quot;hoss_points_check:42&quot;}},
  &quot;response&quot;:{&quot;numFound&quot;:1,&quot;start&quot;:0,&quot;docs&quot;:[
      {
        &quot;id&quot;:&quot;HOSS&quot;,
        &quot;hoss_points_check&quot;:42,
        &quot;_version_&quot;:1563795876337418240}]
  }}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Note that I can search on the doc using the  &quot;hoss_points_check&quot; field even though it is &lt;tt&gt;docValues=&quot;false&quot; indexed=&quot;false&quot;&lt;/tt&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13061590">SOLR-10425</key>
            <summary>PointFields ignore indexed=&quot;false&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tflobbe">Tomas Eduardo Fernandez Lobbe</assignee>
                                    <reporter username="hossman">Chris M. Hostetter</reporter>
                        <labels>
                    </labels>
                <created>Wed, 5 Apr 2017 00:47:44 +0000</created>
                <updated>Wed, 2 Oct 2019 17:30:28 +0000</updated>
                            <resolved>Thu, 6 Apr 2017 22:54:42 +0000</resolved>
                                                    <fixVersion>6.5.1</fixVersion>
                    <fixVersion>6.6</fixVersion>
                    <fixVersion>7.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15956133" author="hossman" created="Wed, 5 Apr 2017 00:53:14 +0000"  >
&lt;p&gt;At first glance, I thought maybe this may have been an intentional design choice that tomas made with the mindset of:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;users should not declare a &quot;Point&quot; field unless they definitely wanted a BKD Point structure on disk&lt;/li&gt;
	&lt;li&gt;the &lt;tt&gt;&quot;indexed&quot;&lt;/tt&gt; should only apply to creating the &lt;tt&gt;Terms&lt;/tt&gt; based inverted index files, not the BKD points files&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;But this doesn&apos;t jive with the existing test configs (such as &lt;tt&gt;schema-point.xml&lt;/tt&gt;) where many point fields explicitly use &lt;tt&gt;indexed=&quot;true&quot;&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;It&apos;s also really important to ensure we have &lt;em&gt;some&lt;/em&gt; way to support users who want an &quot;integer&quot; type field that is &lt;tt&gt;stored=&quot;true&quot;&lt;/tt&gt; but don&apos;t care about it being searchable/sortable w/o wasting disk space &amp;#8211; even once/if we deprecate/remove &lt;tt&gt;TrieIntField&lt;/tt&gt;}&lt;/p&gt;


&lt;hr /&gt;

&lt;p&gt;I believe the fix here is a pretty straight forward: &lt;tt&gt;IntPointField.createField&lt;/tt&gt; should ignore &lt;tt&gt;isFieldUsed()&lt;/tt&gt; and just check &lt;tt&gt;field.indexed()&lt;/tt&gt; &amp;#8211; allthough some other tweaks/null-checks may be needed in &lt;tt&gt;PointField.createFields&lt;/tt&gt; &amp;amp; obviously we should get a lot more tests of these edge cases to smoke those out.&lt;/p&gt;

&lt;p&gt;i&apos;m hoping &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tflobbe&quot; class=&quot;user-hover&quot; rel=&quot;tflobbe&quot;&gt;tflobbe&lt;/a&gt;  will chime in with a sanity check that i&apos;m not missing some major reason why things work this way before i go too deep down hte rabit hole of writting new tests.&lt;/p&gt;</comment>
                            <comment id="15956174" author="tomasflobbe" created="Wed, 5 Apr 2017 01:52:36 +0000"  >&lt;p&gt;This is not intentional. My intention with PointFields was always to make them look exactly the same as TrieFields to the end user, so features should work the same way. This needs to be fixed. &lt;br/&gt;
What about moving the &lt;tt&gt;isFieldUsed()&lt;/tt&gt; check to &lt;tt&gt;createFields(...)&lt;/tt&gt;, and then just checking if indexed=true before calling &lt;tt&gt;createField(...)&lt;/tt&gt;? That way the fix just goes to the superclass, and &lt;tt&gt;createField&lt;/tt&gt; always creates?&lt;/p&gt;</comment>
                            <comment id="15957452" author="tomasflobbe" created="Wed, 5 Apr 2017 19:04:42 +0000"  >&lt;p&gt;This is still WIP. Here is an attempt for fixing this issue and some tests. The new tests pass now after the changes in PointField, but other tests fail because we try to use PointInSet query for DV-only fields. &lt;/p&gt;</comment>
                            <comment id="15957546" author="tomasflobbe" created="Wed, 5 Apr 2017 20:00:36 +0000"  >&lt;p&gt;This patch fixes the issue with the set query&lt;/p&gt;</comment>
                            <comment id="15957576" author="hossman" created="Wed, 5 Apr 2017 20:20:17 +0000"  >&lt;p&gt;tomas: per our IRC conversation this morning, here&apos;s the (test only) patch i&apos;ve been working on.&lt;/p&gt;

&lt;p&gt;there&apos;s still some nocommits around beefing up the multivalued exact query testing that i&apos;ll working on after i grab some lunch, but the 2 other things i wanted to draw your attention to (which we probably want to split out into new jiras?)...&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;the test schema explicitly declares many fields as &lt;tt&gt;useDocValuesAsStored=&quot;true&quot;&lt;/tt&gt; but that&apos;s actually the default based on the schema version=1.6 &amp;#8211; making me suspicious of tests that are depending on that, or tests assuming that other fields don&apos;t have that.&lt;/li&gt;
	&lt;li&gt;when i tried to write a &lt;tt&gt;testNonReturnable&lt;/tt&gt; it fails for fields that have docvalues &amp;#8211; even using new fields that i explicitly put &lt;tt&gt;useDocValuesAsStored=false&lt;/tt&gt; on.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15957686" author="tomasflobbe" created="Wed, 5 Apr 2017 21:07:15 +0000"  >&lt;p&gt;thanks Hoss. &lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;the test schema explicitly declares many fields as useDocValuesAsStored=&quot;true&quot; but that&apos;s actually the default based on the schema version=1.6 &#8211; making me suspicious of tests that are depending on that, or tests assuming that other fields don&apos;t have that.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Good point. Maybe we can explicitly set useDocValuesAsStored=&quot;true&quot; in other fields?&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;when i tried to write a testNonReturnable it fails for fields that have docvalues &#8211; even using new fields that i explicitly put useDocValuesAsStored=false on.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I&apos;ll take a look. In the &lt;tt&gt;testInternals&lt;/tt&gt; method I just added I included this code:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (LeafReaderContext leave : ir.leaves()) {
        LeafReader reader = leave.reader();
        &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; i = 0; i &amp;lt; reader.numDocs(); i++) {
          Document doc = reader.document(i, Collections.singleton(field));
          &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (sf.stored()) {
            assertNotNull(doc.get(field));
          } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
            assertNull(doc.get(field));
          }
        }
      }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;That passes the tests...&lt;/p&gt;</comment>
                            <comment id="15957846" author="tomasflobbe" created="Wed, 5 Apr 2017 22:06:24 +0000"  >&lt;p&gt;Merged patch&lt;/p&gt;</comment>
                            <comment id="15957956" author="hossman" created="Wed, 5 Apr 2017 22:51:30 +0000"  >&lt;p&gt;tomas: i haven&apos;t had a change to look at your latest patch, and i have to go offline for the rest of the day, but FWIW here&apos;s the whitebox test i was working on...&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testWhiteboxCreateFields() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
    &lt;span class=&quot;code-comment&quot;&gt;// TODO: add a &lt;span class=&quot;code-quote&quot;&gt;&quot;coverage&quot;&lt;/span&gt; check that all points based dynamic fields in the schema are accounted &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;?
&lt;/span&gt;    
    doWhiteboxCreateFields(&lt;span class=&quot;code-quote&quot;&gt;&quot;whitebox_p_i_dv&quot;&lt;/span&gt;, IntPoint.class, 42, &lt;span class=&quot;code-quote&quot;&gt;&quot;42&quot;&lt;/span&gt;);
    doWhiteboxCreateFields(&lt;span class=&quot;code-quote&quot;&gt;&quot;whitebox_p_i_mv&quot;&lt;/span&gt;, IntPoint.class, 42, &lt;span class=&quot;code-quote&quot;&gt;&quot;42&quot;&lt;/span&gt;);
    
    doWhiteboxCreateFields(&lt;span class=&quot;code-quote&quot;&gt;&quot;whitebox_p_i_ni&quot;&lt;/span&gt;, IntPoint.class, 42, &lt;span class=&quot;code-quote&quot;&gt;&quot;42&quot;&lt;/span&gt;);

    &lt;span class=&quot;code-comment&quot;&gt;// nocommit: TEST ALL THE FIELDS
&lt;/span&gt;
    
  }
  
  /** nocommit: jdocs, @see callAndCheckCreateFields, verifies same result &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; all values (string or type specific)
   */
  &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; void doWhiteboxCreateFields(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; fieldName, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt; pointType, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;... values) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
    List&amp;lt;IndexableField&amp;gt; firstResult = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
    &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; value : values) {
      List&amp;lt;IndexableField&amp;gt; result = callAndCheckCreateFields(fieldName, pointType, value);
      assertNotNull(value + &lt;span class=&quot;code-quote&quot;&gt;&quot; =&amp;gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;&quot;&lt;/span&gt;, result);
      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; == firstResult) {
        firstResult = result;
      } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
        &lt;span class=&quot;code-comment&quot;&gt;// nocommit: why doesn&apos;t &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; check pass? are some IndexableFields not implementing equals?
&lt;/span&gt;        &lt;span class=&quot;code-comment&quot;&gt;// assertEquals(firstResult, result);
&lt;/span&gt;      }
    }
  }

  &lt;span class=&quot;code-comment&quot;&gt;/** nocommit: jdocs, returns the result of createFields after doing some sanity checks */&lt;/span&gt;
  &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; List&amp;lt;IndexableField&amp;gt; callAndCheckCreateFields(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; fieldName, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt; pointType, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; value) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {

    
    &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; SchemaField sf = h.getCore().getLatestSchema().getField(fieldName);

    &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; List&amp;lt;IndexableField&amp;gt; results = sf.createFields(value);
    &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Set&amp;lt;IndexableField&amp;gt; resultSet = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; LinkedHashSet&amp;lt;&amp;gt;(results);
    assertEquals(&lt;span class=&quot;code-quote&quot;&gt;&quot;duplicates found in results? &quot;&lt;/span&gt; + results.toString(),
                 results.size(), resultSet.size());

    &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Set&amp;lt;&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;&amp;gt; resultClasses = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; HashSet&amp;lt;&amp;gt;();
    &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (IndexableField f : results) {
      resultClasses.add(f.getClass());
      
      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; ( ! sf.hasDocValues() ) {
        assertFalse(f.toString(),
                    (f &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; NumericDocValuesField) ||
                    (f &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; SortedNumericDocValuesField));
      }
    }

    assertEquals(&lt;span class=&quot;code-quote&quot;&gt;&quot;stored&quot;&lt;/span&gt;, sf.stored(), resultClasses.contains(StoredField.class));
    assertEquals(&lt;span class=&quot;code-quote&quot;&gt;&quot;indexed&quot;&lt;/span&gt;, sf.indexed(), resultClasses.contains(pointType));
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (sf.multiValued()) {
      assertEquals(&lt;span class=&quot;code-quote&quot;&gt;&quot;docvalues&quot;&lt;/span&gt;, sf.hasDocValues(), resultClasses.contains(SortedNumericDocValuesField.class));
    } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
      assertEquals(&lt;span class=&quot;code-quote&quot;&gt;&quot;docvalues&quot;&lt;/span&gt;, sf.hasDocValues(), resultClasses.contains(NumericDocValuesField.class));
    }

    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; results;
  }

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15958098" author="tomasflobbe" created="Thu, 6 Apr 2017 00:30:08 +0000"  >&lt;p&gt;Added &lt;tt&gt;testWhiteboxCreateFields&lt;/tt&gt; to the patch. Testing all the point dynamic fields&lt;/p&gt;</comment>
                            <comment id="15959408" author="hossman" created="Thu, 6 Apr 2017 17:42:21 +0000"  >&lt;p&gt;Updated patch...&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;testPointFieldMultiValuedExactQuery now includes a &quot;searchable&quot; boolean and has callers that pass false&lt;/li&gt;
	&lt;li&gt;cleaned up nocommits and related dead (test) code for ideas i had that didn&apos;t pan out&lt;/li&gt;
	&lt;li&gt;cleaned up the test javadocs&lt;/li&gt;
	&lt;li&gt;spun off &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10437&quot; title=&quot;Improve test coverage of useDocValuesAsStored=false&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10437&quot;&gt;&lt;del&gt;SOLR-10437&lt;/del&gt;&lt;/a&gt; &amp;amp; &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10438&quot; title=&quot;schema-point.xml and TestPointFields have suspicious assumptions about useDocValuesAsStored&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10438&quot;&gt;&lt;del&gt;SOLR-10438&lt;/del&gt;&lt;/a&gt; as distinct issues and cited them as appropriate in comments/&amp;#64;AwaitsFix&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15959411" author="hossman" created="Thu, 6 Apr 2017 17:42:47 +0000"  >&lt;p&gt;I&apos;m running precommit &amp;amp; full test suite now ... i&apos;ll commit &amp;amp; backport this afternoon unless tomas beats me to it.&lt;/p&gt;</comment>
                            <comment id="15959601" author="jira-bot" created="Thu, 6 Apr 2017 19:40:49 +0000"  >&lt;p&gt;Commit 6e5f6fab53b8c6f4acbebd51c346173829a3247a in lucene-solr&apos;s branch refs/heads/master from Chris Hostetter&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=6e5f6fa&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=6e5f6fa&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10425&quot; title=&quot;PointFields ignore indexed=&amp;quot;false&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10425&quot;&gt;&lt;del&gt;SOLR-10425&lt;/del&gt;&lt;/a&gt;: Fix indexed=&quot;false&quot; on numeric PointFields&lt;/p&gt;</comment>
                            <comment id="15959602" author="jira-bot" created="Thu, 6 Apr 2017 19:41:40 +0000"  >&lt;p&gt;Commit ac2c2adaeb98fb7cd5048be4d16785ed502ece14 in lucene-solr&apos;s branch refs/heads/branch_6x from Chris Hostetter&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=ac2c2ad&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=ac2c2ad&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10425&quot; title=&quot;PointFields ignore indexed=&amp;quot;false&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10425&quot;&gt;&lt;del&gt;SOLR-10425&lt;/del&gt;&lt;/a&gt;: Fix indexed=&quot;false&quot; on numeric PointFields&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 6e5f6fab53b8c6f4acbebd51c346173829a3247a)&lt;/p&gt;

&lt;p&gt;Resolved Conflicts:&lt;br/&gt;
 1) 6x still has boost support in createFields&lt;br/&gt;
 2) 6x doesn&apos;t have the an iterator based API for DocValues (used in tests)&lt;/p&gt;

&lt;p&gt;	solr/core/src/java/org/apache/solr/schema/DatePointField.java&lt;br/&gt;
	solr/core/src/java/org/apache/solr/schema/DoublePointField.java&lt;br/&gt;
	solr/core/src/java/org/apache/solr/schema/FloatPointField.java&lt;br/&gt;
	solr/core/src/java/org/apache/solr/schema/IntPointField.java&lt;br/&gt;
	solr/core/src/java/org/apache/solr/schema/LongPointField.java&lt;br/&gt;
	solr/core/src/java/org/apache/solr/schema/PointField.java&lt;/p&gt;</comment>
                            <comment id="15959603" author="jira-bot" created="Thu, 6 Apr 2017 19:41:44 +0000"  >&lt;p&gt;Commit cf3fc6dc802c244513fb7a8056f477dbf3e731c3 in lucene-solr&apos;s branch refs/heads/branch_6x from Chris Hostetter&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=cf3fc6d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=cf3fc6d&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10425&quot; title=&quot;PointFields ignore indexed=&amp;quot;false&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10425&quot;&gt;&lt;del&gt;SOLR-10425&lt;/del&gt;&lt;/a&gt;: Merge remote-tracking branch &apos;refs/remotes/origin/branch_6x&apos; into branch_6x&lt;/p&gt;</comment>
                            <comment id="15959606" author="hossman" created="Thu, 6 Apr 2017 19:43:27 +0000"  >&lt;p&gt;NOTE: the backport to 6x was messy because of other API changes, for thatreason i&apos;m not going to push to branch_6_5 (for 6.5.1) until someone else looks over the 6x changes&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tflobbe&quot; class=&quot;user-hover&quot; rel=&quot;tflobbe&quot;&gt;tflobbe&lt;/a&gt;: if you think the changes look ok, feel free to push the 6.5 backport &amp;#8211; no need to wait on me.&lt;/p&gt;</comment>
                            <comment id="15959750" author="tomasflobbe" created="Thu, 6 Apr 2017 21:05:04 +0000"  >&lt;p&gt;Changes look good to me. The conflicts were, #1 in createFIelds (just add the boost) and #2 only in the tests, right? I cherry-picked the 6.x commit locally and I&apos;m running tests in branch_6_5. I&apos;ll push that once tests pass.&lt;/p&gt;</comment>
                            <comment id="15959846" author="jira-bot" created="Thu, 6 Apr 2017 22:00:37 +0000"  >&lt;p&gt;Commit bfa2d837c4695b96096d03d4349e88042c862423 in lucene-solr&apos;s branch refs/heads/branch_6_5 from Chris Hostetter&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=bfa2d83&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=bfa2d83&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10425&quot; title=&quot;PointFields ignore indexed=&amp;quot;false&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10425&quot;&gt;&lt;del&gt;SOLR-10425&lt;/del&gt;&lt;/a&gt;: Fix indexed=&quot;false&quot; on numeric PointFields&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 6e5f6fab53b8c6f4acbebd51c346173829a3247a)&lt;/p&gt;

&lt;p&gt;Resolved Conflicts:&lt;br/&gt;
 1) 6x still has boost support in createFields&lt;br/&gt;
 2) 6x doesn&apos;t have the an iterator based API for DocValues (used in tests)&lt;/p&gt;

&lt;p&gt;	solr/core/src/java/org/apache/solr/schema/DatePointField.java&lt;br/&gt;
	solr/core/src/java/org/apache/solr/schema/DoublePointField.java&lt;br/&gt;
	solr/core/src/java/org/apache/solr/schema/FloatPointField.java&lt;br/&gt;
	solr/core/src/java/org/apache/solr/schema/IntPointField.java&lt;br/&gt;
	solr/core/src/java/org/apache/solr/schema/LongPointField.java&lt;br/&gt;
	solr/core/src/java/org/apache/solr/schema/PointField.java&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12862334" name="SOLR-10425.patch" size="58281" author="hossman" created="Thu, 6 Apr 2017 17:42:21 +0000"/>
                            <attachment id="12862201" name="SOLR-10425.patch" size="51819" author="tflobbe" created="Thu, 6 Apr 2017 00:30:08 +0000"/>
                            <attachment id="12862180" name="SOLR-10425.patch" size="45797" author="tflobbe" created="Wed, 5 Apr 2017 22:06:24 +0000"/>
                            <attachment id="12862144" name="SOLR-10425.patch" size="26205" author="tflobbe" created="Wed, 5 Apr 2017 20:00:36 +0000"/>
                            <attachment id="12862138" name="SOLR-10425.patch" size="16684" author="tflobbe" created="Wed, 5 Apr 2017 19:04:42 +0000"/>
                            <attachment id="12862148" name="SOLR-10425_hoss.patch" size="26895" author="hossman" created="Wed, 5 Apr 2017 20:20:17 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 32 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3d7nb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>