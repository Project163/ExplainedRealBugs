<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:52:11 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-16477] Collection RENAME api creates broken alias</title>
                <link>https://issues.apache.org/jira/browse/SOLR-16477</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;Renaming a collection results in a broken alias (name as the source param) pointing to a non-existent collection (named as the target param).&lt;/p&gt;

&lt;p&gt;Steps to reproduce:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;First create a new collection
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;bin/solr create -c films -s 2 -rf 2
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;Second issue rename call
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;&amp;gt; curl -X POST &quot;http://127.0.0.1:8983/solr/admin/collections?action=RENAME&amp;amp;name=films&amp;amp;target=morefilms&quot;
{ &quot;responseHeader&quot;:{ &quot;status&quot;:0, &quot;QTime&quot;:125}}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;This will create an alias called &apos;films&apos; pointing to a collection named &apos;morefilms&apos;, when it should be the other way around.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;&amp;gt; curl -X GET http://localhost:8983/api/cluster/aliases
{
&#160; &quot;responseHeader&quot;: {
&#160; &#160; &quot;status&quot;: 0,
&#160; &#160; &quot;QTime&quot;: 0
&#160; },
&#160; &quot;aliases&quot;: {
&#160; &#160; &quot;films&quot;: &quot;morefilms&quot;
&#160; },
&#160; &quot;properties&quot;: {}
} &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13051389/13051389_broken-alias.png&quot; height=&quot;250&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;


&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13487131">SOLR-16477</key>
            <summary>Collection RENAME api creates broken alias</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="krisden">Kevin Risden</assignee>
                                    <reporter username="stillalex">Alex Deparvu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 19 Oct 2022 16:35:00 +0000</created>
                <updated>Fri, 17 Oct 2025 20:04:54 +0000</updated>
                            <resolved>Wed, 26 Oct 2022 21:43:57 +0000</resolved>
                                    <version>9.0</version>
                    <version>8.11.2</version>
                    <version>9.1</version>
                                    <fixVersion>8.11.3</fixVersion>
                    <fixVersion>9.2</fixVersion>
                    <fixVersion>10.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="7800">2h 10m</timespent>
                                <comments>
                            <comment id="17620611" author="alex.parvulescu" created="Wed, 19 Oct 2022 21:32:12 +0000"  >&lt;p&gt;I am working on a PR for this&lt;/p&gt;</comment>
                            <comment id="17623996" author="alex.parvulescu" created="Tue, 25 Oct 2022 19:12:56 +0000"  >&lt;p&gt;I was able to repro this bug via SolrJ client too&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
SolrClient client = getSolrClient();
SolrRequest request = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; CollectionAdminRequest.Rename(&lt;span class=&quot;code-quote&quot;&gt;&quot;films&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;morefilms&quot;&lt;/span&gt;);
NamedList&amp;lt;&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;&amp;gt; response = client.request(request);
&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(response); &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;response&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;{responseHeader={status=0, QTime=128}} &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;behavior is the same, you are getting an alias called &apos;films&apos; pointing to a broken collection names &apos;morefilms&apos;&lt;/p&gt;</comment>
                            <comment id="17624002" author="risdenk" created="Tue, 25 Oct 2022 19:36:55 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stillalex&quot; class=&quot;user-hover&quot; rel=&quot;stillalex&quot;&gt;stillalex&lt;/a&gt; can you add to the description potentially 2 things to show how this is failing:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;the aliases list showing films pointing to morefilms - something like `curl -X GET &lt;a href=&quot;http://localhost:8983/api/cluster/aliases&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8983/api/cluster/aliases&lt;/a&gt;`&lt;/li&gt;
	&lt;li&gt;potentially a select command showing the query failing? something like `curl -X GET &lt;a href=&quot;http://localhost:8983/solr/morefilms/select?q=*:*&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8983/solr/morefilms/select?q=*:*&lt;/a&gt;`&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;ideally these would both show the issue - since right now the descriptions shared all have status=0 so no detail showing the actual failure.&lt;/p&gt;</comment>
                            <comment id="17624018" author="alex.parvulescu" created="Tue, 25 Oct 2022 20:00:57 +0000"  >&lt;p&gt;good point &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=krisden&quot; class=&quot;user-hover&quot; rel=&quot;krisden&quot;&gt;krisden&lt;/a&gt;, I missed this on the bug report. should be updated now.&lt;/p&gt;</comment>
                            <comment id="17624762" author="jira-bot" created="Wed, 26 Oct 2022 21:14:01 +0000"  >&lt;p&gt;Commit 8c11b3325e2bd377202937bef4f158a05ab9051b in solr&apos;s branch refs/heads/main from Alex&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=8c11b3325e2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=8c11b3325e2&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16477&quot; title=&quot;Collection RENAME api creates broken alias&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16477&quot;&gt;&lt;del&gt;SOLR-16477&lt;/del&gt;&lt;/a&gt;: Collection RENAME api creates broken alias (#1127)&lt;/p&gt;

&lt;p&gt;Co-authored-by: Kevin Risden &amp;lt;krisden@apache.org&amp;gt;&lt;/p&gt;</comment>
                            <comment id="17624764" author="jira-bot" created="Wed, 26 Oct 2022 21:18:14 +0000"  >&lt;p&gt;Commit 5d251ffb1500056f45d16cc8721b4c8ad5502bb0 in solr&apos;s branch refs/heads/branch_9x from Alex&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=5d251ffb150&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=5d251ffb150&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16477&quot; title=&quot;Collection RENAME api creates broken alias&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16477&quot;&gt;&lt;del&gt;SOLR-16477&lt;/del&gt;&lt;/a&gt;: Collection RENAME api creates broken alias (#1127)&lt;/p&gt;

&lt;p&gt;Co-authored-by: Kevin Risden &amp;lt;krisden@apache.org&amp;gt;&lt;/p&gt;</comment>
                            <comment id="17624768" author="jira-bot" created="Wed, 26 Oct 2022 21:44:03 +0000"  >&lt;p&gt;Commit 59828cbc51b160d3f636fbdf279bafa35e3fc4e7 in lucene-solr&apos;s branch refs/heads/branch_8_11 from Alex&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=59828cbc51b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=59828cbc51b&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16477&quot; title=&quot;Collection RENAME api creates broken alias&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16477&quot;&gt;&lt;del&gt;SOLR-16477&lt;/del&gt;&lt;/a&gt;: Collection RENAME api creates broken alias (#1127)&lt;/p&gt;

&lt;p&gt;Co-authored-by: Kevin Risden &amp;lt;krisden@apache.org&amp;gt;&lt;/p&gt;</comment>
                            <comment id="17624769" author="risdenk" created="Wed, 26 Oct 2022 21:44:08 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stillalex&quot; class=&quot;user-hover&quot; rel=&quot;stillalex&quot;&gt;stillalex&lt;/a&gt; for reporting and the PR.&lt;/p&gt;</comment>
                            <comment id="17705499" author="houston" created="Mon, 27 Mar 2023 18:04:13 +0000"  >&lt;p&gt;Closing after the 9.2.0 release&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13051389" name="broken-alias.png" size="565486" author="stillalex" created="Tue, 25 Oct 2022 19:57:02 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 33 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z19ico:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>