<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:05:43 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-7616] Facet statistics throw exception when result set is bigger than 30,000 roughly.</title>
                <link>https://issues.apache.org/jira/browse/SOLR-7616</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;6/1/2015, 12:36:57 PM&lt;br/&gt;
ERROR&lt;br/&gt;
null&lt;br/&gt;
SolrCore&lt;br/&gt;
java.lang.ArrayIndexOutOfBoundsException: 1069&lt;br/&gt;
java.lang.ArrayIndexOutOfBoundsException: 1069&lt;br/&gt;
	at org.apache.solr.search.facet.UniqueAgg$NumericAcc.collect(UniqueAgg.java:227)&lt;br/&gt;
	at org.apache.solr.search.facet.FacetProcessor.collect(FacetRequest.java:306)&lt;br/&gt;
	at org.apache.solr.search.facet.FacetFieldProcessorNumeric.calcFacets(FacetFieldProcessorNumeric.java:339)&lt;br/&gt;
	at org.apache.solr.search.facet.FacetFieldProcessorNumeric.process(FacetFieldProcessorNumeric.java:151)&lt;br/&gt;
	at org.apache.solr.search.facet.FacetProcessor.processSubs(FacetRequest.java:267)&lt;br/&gt;
	at org.apache.solr.search.facet.FacetProcessor.fillBucket(FacetRequest.java:354)&lt;br/&gt;
	at org.apache.solr.search.facet.FacetQueryProcessor.process(FacetQuery.java:57)&lt;br/&gt;
	at org.apache.solr.search.facet.FacetModule.process(FacetModule.java:87)&lt;br/&gt;
	at org.apache.solr.handler.component.SearchHandler.handleRequestBody(SearchHandler.java:255)&lt;br/&gt;
	at org.apache.solr.handler.RequestHandlerBase.handleRequest(RequestHandlerBase.java:143)&lt;br/&gt;
	at org.apache.solr.core.SolrCore.execute(SolrCore.java:2066)&lt;br/&gt;
	at org.apache.solr.servlet.HttpSolrCall.execute(HttpSolrCall.java:634)&lt;br/&gt;
	at org.apache.solr.servlet.HttpSolrCall.call(HttpSolrCall.java:438)&lt;br/&gt;
	at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:227)&lt;br/&gt;
	at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:196)&lt;br/&gt;
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)&lt;br/&gt;
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:585)&lt;br/&gt;
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)&lt;br/&gt;
	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:577)&lt;br/&gt;
	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:223)&lt;br/&gt;
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1127)&lt;br/&gt;
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:515)&lt;br/&gt;
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185)&lt;br/&gt;
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1061)&lt;br/&gt;
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)&lt;br/&gt;
	at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:215)&lt;br/&gt;
	at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:110)&lt;br/&gt;
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:97)&lt;br/&gt;
	at org.eclipse.jetty.server.Server.handle(Server.java:497)&lt;br/&gt;
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:310)&lt;br/&gt;
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:257)&lt;br/&gt;
	at org.eclipse.jetty.io.AbstractConnection$2.run(AbstractConnection.java:540)&lt;br/&gt;
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:635)&lt;br/&gt;
	at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:555)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:745)&lt;br/&gt;
6/1/2015, 12:36:57 PM&lt;br/&gt;
ERROR&lt;br/&gt;
null&lt;br/&gt;
SolrDispatchFilter&lt;br/&gt;
null:java.lang.ArrayIndexOutOfBoundsException: 1069&lt;br/&gt;
null:java.lang.ArrayIndexOutOfBoundsException: 1069&lt;br/&gt;
	at org.apache.solr.search.facet.UniqueAgg$NumericAcc.collect(UniqueAgg.java:227)&lt;br/&gt;
	at org.apache.solr.search.facet.FacetProcessor.collect(FacetRequest.java:306)&lt;br/&gt;
	at org.apache.solr.search.facet.FacetFieldProcessorNumeric.calcFacets(FacetFieldProcessorNumeric.java:339)&lt;br/&gt;
	at org.apache.solr.search.facet.FacetFieldProcessorNumeric.process(FacetFieldProcessorNumeric.java:151)&lt;br/&gt;
	at org.apache.solr.search.facet.FacetProcessor.processSubs(FacetRequest.java:267)&lt;br/&gt;
	at org.apache.solr.search.facet.FacetProcessor.fillBucket(FacetRequest.java:354)&lt;br/&gt;
	at org.apache.solr.search.facet.FacetQueryProcessor.process(FacetQuery.java:57)&lt;br/&gt;
	at org.apache.solr.search.facet.FacetModule.process(FacetModule.java:87)&lt;br/&gt;
	at org.apache.solr.handler.component.SearchHandler.handleRequestBody(SearchHandler.java:255)&lt;br/&gt;
	at org.apache.solr.handler.RequestHandlerBase.handleRequest(RequestHandlerBase.java:143)&lt;br/&gt;
	at org.apache.solr.core.SolrCore.execute(SolrCore.java:2066)&lt;br/&gt;
	at org.apache.solr.servlet.HttpSolrCall.execute(HttpSolrCall.java:634)&lt;br/&gt;
	at org.apache.solr.servlet.HttpSolrCall.call(HttpSolrCall.java:438)&lt;br/&gt;
	at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:227)&lt;br/&gt;
	at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:196)&lt;br/&gt;
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)&lt;br/&gt;
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:585)&lt;br/&gt;
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)&lt;br/&gt;
	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:577)&lt;br/&gt;
	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:223)&lt;br/&gt;
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1127)&lt;br/&gt;
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:515)&lt;br/&gt;
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185)&lt;br/&gt;
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1061)&lt;br/&gt;
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)&lt;br/&gt;
	at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:215)&lt;br/&gt;
	at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:110)&lt;br/&gt;
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:97)&lt;br/&gt;
	at org.eclipse.jetty.server.Server.handle(Server.java:497)&lt;br/&gt;
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:310)&lt;br/&gt;
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:257)&lt;br/&gt;
	at org.eclipse.jetty.io.AbstractConnection$2.run(AbstractConnection.java:540)&lt;br/&gt;
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:635)&lt;br/&gt;
	at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:555)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:745)&lt;/p&gt;</description>
                <environment>&lt;p&gt;5.3 june 1st build in windows jdk 1.8&lt;/p&gt;</environment>
        <key id="12834305">SOLR-7616</key>
            <summary>Facet statistics throw exception when result set is bigger than 30,000 roughly.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="yseeley@gmail.com">Yonik Seeley</assignee>
                                    <reporter username="flashflexpro">Gary Yang</reporter>
                        <labels>
                            <label>analytics</label>
                            <label>facet</label>
                            <label>grouping</label>
                            <label>statistics</label>
                    </labels>
                <created>Mon, 1 Jun 2015 17:16:11 +0000</created>
                <updated>Tue, 16 Jun 2015 11:54:36 +0000</updated>
                            <resolved>Tue, 9 Jun 2015 14:12:39 +0000</resolved>
                                    <version>5.2</version>
                    <version>5.3</version>
                                    <fixVersion>5.2.1</fixVersion>
                                    <component>Facet Module</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14570802" author="yseeley@gmail.com" created="Wed, 3 Jun 2015 13:26:11 +0000"  >&lt;p&gt;Thanks for the report Gary, i&apos;m looking into this now...&lt;/p&gt;</comment>
                            <comment id="14570889" author="yseeley@gmail.com" created="Wed, 3 Jun 2015 14:16:03 +0000"  >&lt;p&gt;Silly bug in resize on UniqueAgg for numerics.  This will currently only trigger when faceting a numeric field and using unique() as a subfacet on another numeric field.&lt;/p&gt;</comment>
                            <comment id="14570964" author="jira-bot" created="Wed, 3 Jun 2015 15:03:30 +0000"  >&lt;p&gt;Commit 1683357 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yonik%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;yonik@apache.org&quot;&gt;yonik@apache.org&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1683357&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1683357&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7616&quot; title=&quot;Facet statistics throw exception when result set is bigger than 30,000 roughly.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7616&quot;&gt;&lt;del&gt;SOLR-7616&lt;/del&gt;&lt;/a&gt;: fix UniqueAgg.NumericAcc.resize&lt;/p&gt;</comment>
                            <comment id="14570966" author="jira-bot" created="Wed, 3 Jun 2015 15:04:02 +0000"  >&lt;p&gt;Commit 1683358 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yonik%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;yonik@apache.org&quot;&gt;yonik@apache.org&lt;/a&gt; in branch &apos;dev/branches/branch_5x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1683358&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1683358&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7616&quot; title=&quot;Facet statistics throw exception when result set is bigger than 30,000 roughly.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7616&quot;&gt;&lt;del&gt;SOLR-7616&lt;/del&gt;&lt;/a&gt;: fix UniqueAgg.NumericAcc.resize&lt;/p&gt;</comment>
                            <comment id="14571561" author="flashflexpro" created="Wed, 3 Jun 2015 20:02:56 +0000"  >&lt;p&gt;Verified by local build.&lt;/p&gt;

&lt;p&gt;Thanks Yonik for such a quick response, this gives us huge confidence in Solr!&lt;/p&gt;

&lt;p&gt;Keep going!&lt;/p&gt;</comment>
                            <comment id="14578918" author="jira-bot" created="Tue, 9 Jun 2015 14:04:29 +0000"  >&lt;p&gt;Commit 1684426 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yonik%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;yonik@apache.org&quot;&gt;yonik@apache.org&lt;/a&gt; in branch &apos;dev/branches/lucene_solr_5_2&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1684426&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1684426&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7616&quot; title=&quot;Facet statistics throw exception when result set is bigger than 30,000 roughly.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7616&quot;&gt;&lt;del&gt;SOLR-7616&lt;/del&gt;&lt;/a&gt;: fix UniqueAgg.NumericAcc.resize&lt;/p&gt;</comment>
                            <comment id="14578919" author="jira-bot" created="Tue, 9 Jun 2015 14:06:42 +0000"  >&lt;p&gt;Commit 1684427 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yonik%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;yonik@apache.org&quot;&gt;yonik@apache.org&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1684427&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1684427&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7616&quot; title=&quot;Facet statistics throw exception when result set is bigger than 30,000 roughly.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7616&quot;&gt;&lt;del&gt;SOLR-7616&lt;/del&gt;&lt;/a&gt;: move to 5.2.1 section in CHANGES.txt&lt;/p&gt;</comment>
                            <comment id="14578923" author="jira-bot" created="Tue, 9 Jun 2015 14:09:43 +0000"  >&lt;p&gt;Commit 1684429 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yonik%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;yonik@apache.org&quot;&gt;yonik@apache.org&lt;/a&gt; in branch &apos;dev/branches/branch_5x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1684429&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1684429&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7616&quot; title=&quot;Facet statistics throw exception when result set is bigger than 30,000 roughly.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7616&quot;&gt;&lt;del&gt;SOLR-7616&lt;/del&gt;&lt;/a&gt;: move to 5.2.1 section in CHANGES.txt&lt;/p&gt;</comment>
                            <comment id="14578929" author="yseeley@gmail.com" created="Tue, 9 Jun 2015 14:12:21 +0000"  >&lt;p&gt;Reopened to move to 5.2.1&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12737281" name="SOLR-7616.patch" size="2236" author="yseeley@gmail.com" created="Wed, 3 Jun 2015 14:16:03 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 24 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2fgtb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>