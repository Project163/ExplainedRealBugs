<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:50:11 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-16090] JWTAuthPlugin exception when signature validation fails</title>
                <link>https://issues.apache.org/jira/browse/SOLR-16090</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;I am trying to use Azure AD as the backend for the JWTAuthPlugin. I got it to sign-in and let me use the admin portal, however, we are getting the following error message in the logs on every api request back to solr through the portal:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2022-03-09 20:26:27.411 INFO &#160;(qtp1515403487-23) [ &#160; ] o.a.s.s.SolrDispatchFilter Error authenticating =&amp;gt; org.jose4j.jwt.consumer.InvalidJwtException: JWT processing failed. Additional details: [[17] Unable to process JOSE object (cause: org.jose4j.lang.JoseException: Parsing error: org.jose4j.json.internal.json_simple.parser.ParseException: Unexpected character (�) at position 0.): Bearer eyJ0eXAiOiJKV1QiLCJub25jZSI6IjNMdTkzNmFsLTZkUG1udkIxalp2Skd2WDN5Y1FpSU1NTkx0c0dIUG9USXciLCJhbGciOiJSUzI1NiIsIng1dCI6ImpTMVhvMU9XRGpfNTJ2YndHTmd2UU8yVnpNYyIsImtpZCI6ImpTMVhvMU9XRGpfNTJ2YndHTmd2UU8yVnpNYyJ9.eyJhdWQiOiIwMDAwMDAwMy0wMDAwLTAwMDAtYzAwMC0wMDAwMDAwMDAwMDAiLCJpc3MiOiJodHRwczovL3N0cy53aW5kb3dzLm5ldC84OTI4YzU4ZC01MjEyLTQ3YjAtYTU0OS04ZTkyZTUxMjQ0YmYvIiwiaWF0IjoxNjQ2ODU3Mjg2LCJuYmYiOjE2NDY4NTcyODYsImV4cCI6MTY0Njg2MjIxNiwiYWNjdCI6MCwiYWNyIjoiMSIsImFjcnMiOlsidXJuOnVzZXI6cmVnaXN0ZXJzZWN1cml0eWluZm8iXSwiYWlvIjoiQVVRQXUvOFRBQUFBbXpDUlhzbEgwNHFOR1paT2g5TGx2MnFBZkE2ZzYwTWFlWkRRWUc2bG02TU5nVHN3MmZHdVhHRDI5eUxWdFRHcURPcWFVMFF3eDdvc0s3ZDhJcUswaGc9PSIsImFsdHNlY2lkIjoiMTpsaXZlLmNvbTowMDAzMDAwMEZDNDZEREQxIiwiYW1yIjpbInB3ZCJdLCJhcHBfZGlzcGxheW5hbWUiOiJlZHMtc29sciIsImFwcGlkIjoiYmY3YTFiODgtNGM3MC00ODFkLWJjZTgtM2UyZmE5MGExOTAzIiwiYXBwaWRhY3IiOiIwIiwiZW1haWwiOiJlY29va2VAbWFjdS5jb20iLCJmYW1pbHlfbmFtZSI6IkNvb2tlMiIsImdpdmVuX25hbWUiOiJFZHdhcmQyIiwiaGFzd2lkcyI6InRydWUiLCJpZHAiOiJsaXZlLmNvbSIsImlkdHlwIjoidXNlciIsImlwYWRkciI6IjcxLjE5OS4xLjIxIiwibmFtZSI6IkVkd2FyZDIgQ29va2UyIiwib2lkIjoiYWMzOTdmMzYtZDMxOC00OTM2LTk1OGMtNDc2MmI4ZDU0NDJjIiwicGxhdGYiOiIzIiwicHVpZCI6IjEwMDMwMDAwQUMwODYyQTUiLCJyaCI6IjAuQVJ3QWpjVW9pUkpTc0VlbFNZNlM1UkpFdndNQUFBQUFBQUFBd0FBQUFBQUFBQUFwQUYwLiIsInNjcCI6Im9wZW5pZCBVc2VyLlJlYWQgcHJvZmlsZSBlbWFpbCIsInNpZ25pbl9zdGF0ZSI6WyJrbXNpIl0sInN1YiI6ImNWZmNINFZMZk50N3RLcGhsOVdMWVRzdmd6cE5iNTAwNndGT2gzX1V2RWciLCJ0ZW5hbnRfcmVnaW9uX3Njb3BlIjoiTkEiLCJ0aWQiOiI4OTI4YzU4ZC01MjEyLTQ3YjAtYTU0OS04ZTkyZTUxMjQ0YmYiLCJ1bmlxdWVfbmFtZSI6ImxpdmUuY29tI2Vjb29rZUBtYWN1LmNvbSIsInV0aSI6IlRHaVZwY1M3ajBXN1JXa3hteEdpQUEiLCJ2ZXIiOiIxLjAiLCJ4bXNfc3QiOnsic3ViIjoiSFpVUTNaSjZCMmtEUjQ3RlJtU1paLS1fUjV2U3NVdV9ZWk1YNUxONmdQZyJ9LCJ4bXNfdGNkdCI6MTUzMDYzNjc2M30.Y5V_AJphcqqZ_fTEyrDUCT8Uqok4K6_XmueLvfvKk_lTNLl-ALC9lpssSGwAnMOS5F2ZFUnAXtGjq0nW6rHF-9yfEoFFRf-16wyqBqnt7HfFQHO8MWxF7eghipQv-2xXY3P4icrtun90NesvtNQWeupT_SfY79h-HiZkXqxXlcShqzTTD2IJWd5fgk8YPY-6BgbafIqokwsB4Xr14e4F3kXeD-T4SHXKyquSt5ekAg_Tq0hQ3ODgIcJOmZyeOlExuz8mbGf5KWjQ7Zr8O2BHjp3HaE3FrK9rPqsx1yxRnPZPVA78LIh1WI_5d-ltoZ9oGJibp2ulfqEhiBU1XP3zrA]
&#160; &#160; &#160; &#160; at org.jose4j.jwt.consumer.JwtConsumer.process(JwtConsumer.java:413)
org.jose4j.jwt.consumer.InvalidJwtException: JWT processing failed. Additional details: [[17] Unable to process JOSE object (cause: org.jose4j.lang.JoseException: Parsing error: org.jose4j.json.internal.json_simple.parser.ParseException: Unexpected character (�) at position 0.): Bearer eyJ0eXAiOiJKV1QiLCJub25jZSI6IjNMdTkzNmFsLTZkUG1udkIxalp2Skd2WDN5Y1FpSU1NTkx0c0dIUG9USXciLCJhbGciOiJSUzI1NiIsIng1dCI6ImpTMVhvMU9XRGpfNTJ2YndHTmd2UU8yVnpNYyIsImtpZCI6ImpTMVhvMU9XRGpfNTJ2YndHTmd2UU8yVnpNYyJ9.eyJhdWQiOiIwMDAwMDAwMy0wMDAwLTAwMDAtYzAwMC0wMDAwMDAwMDAwMDAiLCJpc3MiOiJodHRwczovL3N0cy53aW5kb3dzLm5ldC84OTI4YzU4ZC01MjEyLTQ3YjAtYTU0OS04ZTkyZTUxMjQ0YmYvIiwiaWF0IjoxNjQ2ODU3Mjg2LCJuYmYiOjE2NDY4NTcyODYsImV4cCI6MTY0Njg2MjIxNiwiYWNjdCI6MCwiYWNyIjoiMSIsImFjcnMiOlsidXJuOnVzZXI6cmVnaXN0ZXJzZWN1cml0eWluZm8iXSwiYWlvIjoiQVVRQXUvOFRBQUFBbXpDUlhzbEgwNHFOR1paT2g5TGx2MnFBZkE2ZzYwTWFlWkRRWUc2bG02TU5nVHN3MmZHdVhHRDI5eUxWdFRHcURPcWFVMFF3eDdvc0s3ZDhJcUswaGc9PSIsImFsdHNlY2lkIjoiMTpsaXZlLmNvbTowMDAzMDAwMEZDNDZEREQxIiwiYW1yIjpbInB3ZCJdLCJhcHBfZGlzcGxheW5hbWUiOiJlZHMtc29sciIsImFwcGlkIjoiYmY3YTFiODgtNGM3MC00ODFkLWJjZTgtM2UyZmE5MGExOTAzIiwiYXBwaWRhY3IiOiIwIiwiZW1haWwiOiJlY29va2VAbWFjdS5jb20iLCJmYW1pbHlfbmFtZSI6IkNvb2tlMiIsImdpdmVuX25hbWUiOiJFZHdhcmQyIiwiaGFzd2lkcyI6InRydWUiLCJpZHAiOiJsaXZlLmNvbSIsImlkdHlwIjoidXNlciIsImlwYWRkciI6IjcxLjE5OS4xLjIxIiwibmFtZSI6IkVkd2FyZDIgQ29va2UyIiwib2lkIjoiYWMzOTdmMzYtZDMxOC00OTM2LTk1OGMtNDc2MmI4ZDU0NDJjIiwicGxhdGYiOiIzIiwicHVpZCI6IjEwMDMwMDAwQUMwODYyQTUiLCJyaCI6IjAuQVJ3QWpjVW9pUkpTc0VlbFNZNlM1UkpFdndNQUFBQUFBQUFBd0FBQUFBQUFBQUFwQUYwLiIsInNjcCI6Im9wZW5pZCBVc2VyLlJlYWQgcHJvZmlsZSBlbWFpbCIsInNpZ25pbl9zdGF0ZSI6WyJrbXNpIl0sInN1YiI6ImNWZmNINFZMZk50N3RLcGhsOVdMWVRzdmd6cE5iNTAwNndGT2gzX1V2RWciLCJ0ZW5hbnRfcmVnaW9uX3Njb3BlIjoiTkEiLCJ0aWQiOiI4OTI4YzU4ZC01MjEyLTQ3YjAtYTU0OS04ZTkyZTUxMjQ0YmYiLCJ1bmlxdWVfbmFtZSI6ImxpdmUuY29tI2Vjb29rZUBtYWN1LmNvbSIsInV0aSI6IlRHaVZwY1M3ajBXN1JXa3hteEdpQUEiLCJ2ZXIiOiIxLjAiLCJ4bXNfc3QiOnsic3ViIjoiSFpVUTNaSjZCMmtEUjQ3RlJtU1paLS1fUjV2U3NVdV9ZWk1YNUxONmdQZyJ9LCJ4bXNfdGNkdCI6MTUzMDYzNjc2M30.Y5V_AJphcqqZ_fTEyrDUCT8Uqok4K6_XmueLvfvKk_lTNLl-ALC9lpssSGwAnMOS5F2ZFUnAXtGjq0nW6rHF-9yfEoFFRf-16wyqBqnt7HfFQHO8MWxF7eghipQv-2xXY3P4icrtun90NesvtNQWeupT_SfY79h-HiZkXqxXlcShqzTTD2IJWd5fgk8YPY-6BgbafIqokwsB4Xr14e4F3kXeD-T4SHXKyquSt5ekAg_Tq0hQ3ODgIcJOmZyeOlExuz8mbGf5KWjQ7Zr8O2BHjp3HaE3FrK9rPqsx1yxRnPZPVA78LIh1WI_5d-ltoZ9oGJibp2ulfqEhiBU1XP3zrA]
&#160; &#160; &#160; &#160; at org.jose4j.jwt.consumer.JwtConsumer.process(JwtConsumer.java:413) ~[?:?]
&#160; &#160; &#160; &#160; at org.jose4j.jwt.consumer.JwtConsumer.processToClaims(JwtConsumer.java:171) ~[?:?]
&#160; &#160; &#160; &#160; at org.apache.solr.security.JWTAuthPlugin.doAuthenticate(JWTAuthPlugin.java:304) ~[?:?]
&#160; &#160; &#160; &#160; at org.apache.solr.security.AuthenticationPlugin.authenticate(AuthenticationPlugin.java:88) ~[?:?]
&#160; &#160; &#160; &#160; at org.apache.solr.servlet.SolrDispatchFilter.authenticateRequest(SolrDispatchFilter.java:518) ~[?:?]
&#160; &#160; &#160; &#160; at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:411) ~[?:?]
&#160; &#160; &#160; &#160; at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:357) ~[?:?]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:201) ~[jetty-servlet-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1601) ~[jetty-servlet-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:548) ~[jetty-servlet-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143) ~[jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:600) ~[jetty-security-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127) ~[jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:235) ~[jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1624) ~[jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233) ~[jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1434) ~[jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188) ~[jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:501) ~[jetty-servlet-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1594) ~[jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186) ~[jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1349) ~[jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141) ~[jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:191) ~[jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.handler.InetAccessHandler.handle(InetAccessHandler.java:177) ~[jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:146) ~[jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127) ~[jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.rewrite.handler.RewriteHandler.handle(RewriteHandler.java:322) ~[jetty-rewrite-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.handler.gzip.GzipHandler.handle(GzipHandler.java:763) ~[jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127) ~[jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.Server.handle(Server.java:516) ~[jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:400) ~[jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:645) ~[jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:392) ~[jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:277) ~[jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311) ~[jetty-io-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105) ~[jetty-io-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104) ~[jetty-io-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:338) ~[jetty-util-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:315) ~[jetty-util-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:173) ~[jetty-util-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:131) ~[jetty-util-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:409) ~[jetty-util-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:883) ~[jetty-util-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1034) ~[jetty-util-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(Unknown Source) [?:?]
Caused by: org.jose4j.lang.JoseException: Parsing error: org.jose4j.json.internal.json_simple.parser.ParseException: Unexpected character (�) at position 0.
&#160; &#160; &#160; &#160; at org.jose4j.json.JsonUtil.parseJson(JsonUtil.java:66) ~[?:?]
&#160; &#160; &#160; &#160; at org.jose4j.jwx.Headers.setEncodedHeader(Headers.java:117) ~[?:?]
&#160; &#160; &#160; &#160; at org.jose4j.jwx.JsonWebStructure.setEncodedHeader(JsonWebStructure.java:127) ~[?:?]
&#160; &#160; &#160; &#160; at org.jose4j.jws.JsonWebSignature.setCompactSerializationParts(JsonWebSignature.java:110) ~[?:?]
&#160; &#160; &#160; &#160; at org.jose4j.jwx.JsonWebStructure.fromCompactSerialization(JsonWebStructure.java:94) ~[?:?]
&#160; &#160; &#160; &#160; at org.jose4j.jwt.consumer.JwtConsumer.process(JwtConsumer.java:327) ~[?:?]
&#160; &#160; &#160; &#160; ... 45 more
Caused by: org.jose4j.json.internal.json_simple.parser.ParseException: Unexpected character (�) at position 0.
&#160; &#160; &#160; &#160; at org.jose4j.json.internal.json_simple.parser.Yylex.yylex(Yylex.java:612) ~[?:?]
&#160; &#160; &#160; &#160; at org.jose4j.json.internal.json_simple.parser.JSONParser.nextToken(JSONParser.java:269) ~[?:?]
&#160; &#160; &#160; &#160; at org.jose4j.json.internal.json_simple.parser.JSONParser.parse(JSONParser.java:118) ~[?:?]
&#160; &#160; &#160; &#160; at org.jose4j.json.internal.json_simple.parser.JSONParser.parse(JSONParser.java:81) ~[?:?]
&#160; &#160; &#160; &#160; at org.jose4j.json.JsonUtil.parseJson(JsonUtil.java:62) ~[?:?]
&#160; &#160; &#160; &#160; at org.jose4j.jwx.Headers.setEncodedHeader(Headers.java:117) ~[?:?]
&#160; &#160; &#160; &#160; at org.jose4j.jwx.JsonWebStructure.setEncodedHeader(JsonWebStructure.java:127) ~[?:?]
&#160; &#160; &#160; &#160; at org.jose4j.jws.JsonWebSignature.setCompactSerializationParts(JsonWebSignature.java:110) ~[?:?]
&#160; &#160; &#160; &#160; at org.jose4j.jwx.JsonWebStructure.fromCompactSerialization(JsonWebStructure.java:94) ~[?:?]
&#160; &#160; &#160; &#160; at org.jose4j.jwt.consumer.JwtConsumer.process(JwtConsumer.java:327) ~[?:?]
&#160; &#160; &#160; &#160; ... 45 more
2022-03-09 20:26:27.411 WARN &#160;(qtp1515403487-23) [ &#160; ] o.e.j.s.HttpChannel /solr/admin/info/system =&amp;gt; org.apache.solr.common.SolrException: Error during request authentication,
&#160; &#160; &#160; &#160; at org.apache.solr.servlet.SolrDispatchFilter.authenticateRequest(SolrDispatchFilter.java:524)
org.apache.solr.common.SolrException: Error during request authentication,
&#160; &#160; &#160; &#160; at org.apache.solr.servlet.SolrDispatchFilter.authenticateRequest(SolrDispatchFilter.java:524) ~[?:?]
&#160; &#160; &#160; &#160; at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:411) ~[?:?]
&#160; &#160; &#160; &#160; at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:357) ~[?:?]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:201) ~[jetty-servlet-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1601) ~[jetty-servlet-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:548) ~[jetty-servlet-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143) ~[jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:600) ~[jetty-security-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127) ~[jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:235) ~[jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1624) ~[jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233) ~[jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1434) ~[jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188) ~[jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:501) ~[jetty-servlet-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1594) ~[jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186) ~[jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1349) ~[jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141) ~[jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:191) ~[jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.handler.InetAccessHandler.handle(InetAccessHandler.java:177) ~[jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:146) ~[jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127) ~[jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.rewrite.handler.RewriteHandler.handle(RewriteHandler.java:322) ~[jetty-rewrite-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.handler.gzip.GzipHandler.handle(GzipHandler.java:763) ~[jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127) ~[jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.Server.handle(Server.java:516) ~[jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:400) ~[jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:645) ~[jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:392) ~[jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:277) ~[jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311) ~[jetty-io-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105) ~[jetty-io-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104) ~[jetty-io-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:338) ~[jetty-util-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:315) ~[jetty-util-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:173) ~[jetty-util-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:131) ~[jetty-util-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:409) ~[jetty-util-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:883) ~[jetty-util-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1034) ~[jetty-util-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(Unknown Source) [?:?]
Caused by: org.jose4j.jwt.consumer.InvalidJwtException: JWT processing failed. Additional details: [[17] Unable to process JOSE object (cause: org.jose4j.lang.JoseException: Parsing error: org.jose4j.json.internal.json_simple.parser.ParseException: Unexpected character (�) at position 0.): Bearer eyJ0eXAiOiJKV1QiLCJub25jZSI6IjNMdTkzNmFsLTZkUG1udkIxalp2Skd2WDN5Y1FpSU1NTkx0c0dIUG9USXciLCJhbGciOiJSUzI1NiIsIng1dCI6ImpTMVhvMU9XRGpfNTJ2YndHTmd2UU8yVnpNYyIsImtpZCI6ImpTMVhvMU9XRGpfNTJ2YndHTmd2UU8yVnpNYyJ9.eyJhdWQiOiIwMDAwMDAwMy0wMDAwLTAwMDAtYzAwMC0wMDAwMDAwMDAwMDAiLCJpc3MiOiJodHRwczovL3N0cy53aW5kb3dzLm5ldC84OTI4YzU4ZC01MjEyLTQ3YjAtYTU0OS04ZTkyZTUxMjQ0YmYvIiwiaWF0IjoxNjQ2ODU3Mjg2LCJuYmYiOjE2NDY4NTcyODYsImV4cCI6MTY0Njg2MjIxNiwiYWNjdCI6MCwiYWNyIjoiMSIsImFjcnMiOlsidXJuOnVzZXI6cmVnaXN0ZXJzZWN1cml0eWluZm8iXSwiYWlvIjoiQVVRQXUvOFRBQUFBbXpDUlhzbEgwNHFOR1paT2g5TGx2MnFBZkE2ZzYwTWFlWkRRWUc2bG02TU5nVHN3MmZHdVhHRDI5eUxWdFRHcURPcWFVMFF3eDdvc0s3ZDhJcUswaGc9PSIsImFsdHNlY2lkIjoiMTpsaXZlLmNvbTowMDAzMDAwMEZDNDZEREQxIiwiYW1yIjpbInB3ZCJdLCJhcHBfZGlzcGxheW5hbWUiOiJlZHMtc29sciIsImFwcGlkIjoiYmY3YTFiODgtNGM3MC00ODFkLWJjZTgtM2UyZmE5MGExOTAzIiwiYXBwaWRhY3IiOiIwIiwiZW1haWwiOiJlY29va2VAbWFjdS5jb20iLCJmYW1pbHlfbmFtZSI6IkNvb2tlMiIsImdpdmVuX25hbWUiOiJFZHdhcmQyIiwiaGFzd2lkcyI6InRydWUiLCJpZHAiOiJsaXZlLmNvbSIsImlkdHlwIjoidXNlciIsImlwYWRkciI6IjcxLjE5OS4xLjIxIiwibmFtZSI6IkVkd2FyZDIgQ29va2UyIiwib2lkIjoiYWMzOTdmMzYtZDMxOC00OTM2LTk1OGMtNDc2MmI4ZDU0NDJjIiwicGxhdGYiOiIzIiwicHVpZCI6IjEwMDMwMDAwQUMwODYyQTUiLCJyaCI6IjAuQVJ3QWpjVW9pUkpTc0VlbFNZNlM1UkpFdndNQUFBQUFBQUFBd0FBQUFBQUFBQUFwQUYwLiIsInNjcCI6Im9wZW5pZCBVc2VyLlJlYWQgcHJvZmlsZSBlbWFpbCIsInNpZ25pbl9zdGF0ZSI6WyJrbXNpIl0sInN1YiI6ImNWZmNINFZMZk50N3RLcGhsOVdMWVRzdmd6cE5iNTAwNndGT2gzX1V2RWciLCJ0ZW5hbnRfcmVnaW9uX3Njb3BlIjoiTkEiLCJ0aWQiOiI4OTI4YzU4ZC01MjEyLTQ3YjAtYTU0OS04ZTkyZTUxMjQ0YmYiLCJ1bmlxdWVfbmFtZSI6ImxpdmUuY29tI2Vjb29rZUBtYWN1LmNvbSIsInV0aSI6IlRHaVZwY1M3ajBXN1JXa3hteEdpQUEiLCJ2ZXIiOiIxLjAiLCJ4bXNfc3QiOnsic3ViIjoiSFpVUTNaSjZCMmtEUjQ3RlJtU1paLS1fUjV2U3NVdV9ZWk1YNUxONmdQZyJ9LCJ4bXNfdGNkdCI6MTUzMDYzNjc2M30.Y5V_AJphcqqZ_fTEyrDUCT8Uqok4K6_XmueLvfvKk_lTNLl-ALC9lpssSGwAnMOS5F2ZFUnAXtGjq0nW6rHF-9yfEoFFRf-16wyqBqnt7HfFQHO8MWxF7eghipQv-2xXY3P4icrtun90NesvtNQWeupT_SfY79h-HiZkXqxXlcShqzTTD2IJWd5fgk8YPY-6BgbafIqokwsB4Xr14e4F3kXeD-T4SHXKyquSt5ekAg_Tq0hQ3ODgIcJOmZyeOlExuz8mbGf5KWjQ7Zr8O2BHjp3HaE3FrK9rPqsx1yxRnPZPVA78LIh1WI_5d-ltoZ9oGJibp2ulfqEhiBU1XP3zrA]
&#160; &#160; &#160; &#160; at org.jose4j.jwt.consumer.JwtConsumer.process(JwtConsumer.java:413) ~[?:?]
&#160; &#160; &#160; &#160; at org.jose4j.jwt.consumer.JwtConsumer.processToClaims(JwtConsumer.java:171) ~[?:?]
&#160; &#160; &#160; &#160; at org.apache.solr.security.JWTAuthPlugin.doAuthenticate(JWTAuthPlugin.java:304) ~[?:?]
&#160; &#160; &#160; &#160; at org.apache.solr.security.AuthenticationPlugin.authenticate(AuthenticationPlugin.java:88) ~[?:?]
&#160; &#160; &#160; &#160; at org.apache.solr.servlet.SolrDispatchFilter.authenticateRequest(SolrDispatchFilter.java:518) ~[?:?]
&#160; &#160; &#160; &#160; ... 41 more
Caused by: org.jose4j.lang.JoseException: Parsing error: org.jose4j.json.internal.json_simple.parser.ParseException: Unexpected character (�) at position 0.
&#160; &#160; &#160; &#160; at org.jose4j.json.JsonUtil.parseJson(JsonUtil.java:66) ~[?:?]
&#160; &#160; &#160; &#160; at org.jose4j.jwx.Headers.setEncodedHeader(Headers.java:117) ~[?:?]
&#160; &#160; &#160; &#160; at org.jose4j.jwx.JsonWebStructure.setEncodedHeader(JsonWebStructure.java:127) ~[?:?]
&#160; &#160; &#160; &#160; at org.jose4j.jws.JsonWebSignature.setCompactSerializationParts(JsonWebSignature.java:110) ~[?:?]
&#160; &#160; &#160; &#160; at org.jose4j.jwx.JsonWebStructure.fromCompactSerialization(JsonWebStructure.java:94) ~[?:?]
&#160; &#160; &#160; &#160; at org.jose4j.jwt.consumer.JwtConsumer.process(JwtConsumer.java:327) ~[?:?]
&#160; &#160; &#160; &#160; at org.jose4j.jwt.consumer.JwtConsumer.processToClaims(JwtConsumer.java:171) ~[?:?]
&#160; &#160; &#160; &#160; at org.apache.solr.security.JWTAuthPlugin.doAuthenticate(JWTAuthPlugin.java:304) ~[?:?]
&#160; &#160; &#160; &#160; at org.apache.solr.security.AuthenticationPlugin.authenticate(AuthenticationPlugin.java:88) ~[?:?]
&#160; &#160; &#160; &#160; at org.apache.solr.servlet.SolrDispatchFilter.authenticateRequest(SolrDispatchFilter.java:518) ~[?:?]
&#160; &#160; &#160; &#160; ... 41 more
Caused by: org.jose4j.json.internal.json_simple.parser.ParseException: Unexpected character (�) at position 0.
&#160; &#160; &#160; &#160; at org.jose4j.json.internal.json_simple.parser.Yylex.yylex(Yylex.java:612) ~[?:?]
&#160; &#160; &#160; &#160; at org.jose4j.json.internal.json_simple.parser.JSONParser.nextToken(JSONParser.java:269) ~[?:?]
&#160; &#160; &#160; &#160; at org.jose4j.json.internal.json_simple.parser.JSONParser.parse(JSONParser.java:118) ~[?:?]
&#160; &#160; &#160; &#160; at org.jose4j.json.internal.json_simple.parser.JSONParser.parse(JSONParser.java:81) ~[?:?]
&#160; &#160; &#160; &#160; at org.jose4j.json.JsonUtil.parseJson(JsonUtil.java:62) ~[?:?]
&#160; &#160; &#160; &#160; at org.jose4j.jwx.Headers.setEncodedHeader(Headers.java:117) ~[?:?]
&#160; &#160; &#160; &#160; at org.jose4j.jwx.JsonWebStructure.setEncodedHeader(JsonWebStructure.java:127) ~[?:?]
&#160; &#160; &#160; &#160; at org.jose4j.jws.JsonWebSignature.setCompactSerializationParts(JsonWebSignature.java:110) ~[?:?]
&#160; &#160; &#160; &#160; at org.jose4j.jwx.JsonWebStructure.fromCompactSerialization(JsonWebStructure.java:94) ~[?:?]
&#160; &#160; &#160; &#160; at org.jose4j.jwt.consumer.JwtConsumer.process(JwtConsumer.java:327) ~[?:?]
&#160; &#160; &#160; &#160; at org.jose4j.jwt.consumer.JwtConsumer.processToClaims(JwtConsumer.java:171) ~[?:?]
&#160; &#160; &#160; &#160; at org.apache.solr.security.JWTAuthPlugin.doAuthenticate(JWTAuthPlugin.java:304) ~[?:?]
&#160; &#160; &#160; &#160; at org.apache.solr.security.AuthenticationPlugin.authenticate(AuthenticationPlugin.java:88) ~[?:?]
&#160; &#160; &#160; &#160; at org.apache.solr.servlet.SolrDispatchFilter.authenticateRequest(SolrDispatchFilter.java:518) ~[?:?]
  &#160; &#160; &#160; ... 41 more&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13432949">SOLR-16090</key>
            <summary>JWTAuthPlugin exception when signature validation fails</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="janhoy">Jan H&#248;ydahl</assignee>
                                    <reporter username="ecooke">Edward Cooke</reporter>
                        <labels>
                            <label>JWT</label>
                            <label>OAuth2</label>
                    </labels>
                <created>Wed, 9 Mar 2022 20:39:03 +0000</created>
                <updated>Thu, 12 May 2022 00:35:23 +0000</updated>
                            <resolved>Fri, 11 Mar 2022 15:32:03 +0000</resolved>
                                    <version>8.11.1</version>
                                    <fixVersion>9.0</fixVersion>
                                    <component>Authentication</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="17503846" author="JIRAUSER286376" created="Wed, 9 Mar 2022 21:01:08 +0000"  >&lt;p&gt;If it helps or makes any difference, we are running Solr in Kubernetes with the 8.11.1 image.&lt;/p&gt;

&lt;p&gt;This is the contents of the security.json (obfuscated)&lt;br/&gt;
&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
{
 &#160; &#160; &lt;span class=&quot;code-quote&quot;&gt;&quot;authentication&quot;&lt;/span&gt;: {
 &#160; &#160; &#160; &#160; &lt;span class=&quot;code-quote&quot;&gt;&quot;class&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;solr.JWTAuthPlugin&quot;&lt;/span&gt;,
 &#160; &#160; &#160; &#160; &lt;span class=&quot;code-quote&quot;&gt;&quot;scope&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;openid&quot;&lt;/span&gt;,
 &#160; &#160; &#160; &#160; &lt;span class=&quot;code-quote&quot;&gt;&quot;blockUnknown&quot;&lt;/span&gt;: &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;,
 &#160; &#160; &#160; &#160; &lt;span class=&quot;code-quote&quot;&gt;&quot;redirectUris&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;https:&lt;span class=&quot;code-comment&quot;&gt;//SOLRDOMAIN/solr/&quot;&lt;/span&gt;,
&lt;/span&gt; &#160; &#160; &#160; &#160; &lt;span class=&quot;code-quote&quot;&gt;&quot;principalClaim&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt;,
 &#160; &#160; &#160; &#160; &lt;span class=&quot;code-quote&quot;&gt;&quot;rolesClaim&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;roles&quot;&lt;/span&gt;,
 &#160; &#160; &#160; &#160; &lt;span class=&quot;code-quote&quot;&gt;&quot;issuers&quot;&lt;/span&gt;: [
       &#160; &#160; &#160; {
 &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;AzureAD&quot;&lt;/span&gt;,
 &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &lt;span class=&quot;code-quote&quot;&gt;&quot;wellKnownUrl&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;https:&lt;span class=&quot;code-comment&quot;&gt;//login.microsoftonline.com/TENANTID/v2.0/.well-known/openid-configuration&quot;&lt;/span&gt;,
&lt;/span&gt; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &lt;span class=&quot;code-quote&quot;&gt;&quot;clientId&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;CLIENTID&quot;&lt;/span&gt;,
 &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &lt;span class=&quot;code-quote&quot;&gt;&quot;aud&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;solr:admin&quot;&lt;/span&gt;,
 &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &lt;span class=&quot;code-quote&quot;&gt;&quot;iss&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;https:&lt;span class=&quot;code-comment&quot;&gt;//sts.windows.net/TENANTID/&quot;&lt;/span&gt;
&lt;/span&gt; &#160; &#160; &#160; &#160; &#160; &#160; }
 &#160; &#160; &#160; &#160; ]
 &#160; &#160; }
}&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;br/&gt;
I went digging through the jose4j source code and it looks like it is creating a new string with UTF-8 encoding. My guess is that it is dying on a byte order mark being added by java&apos;s &quot;new String&quot;.&lt;/p&gt;</comment>
                            <comment id="17503906" author="janhoy" created="Wed, 9 Mar 2022 23:22:57 +0000"  >&lt;p&gt;Signature validation failed, and then during further error processing you hit a line:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/solr/blob/main/solr/modules/jwt-auth/src/java/org/apache/solr/security/jwt/JWTAuthPlugin.java#L408&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/solr/blob/main/solr/modules/jwt-auth/src/java/org/apache/solr/security/jwt/JWTAuthPlugin.java#L408&lt;/a&gt;&lt;br/&gt;
This line is buggy as it passes the entire http header to &lt;tt&gt;jwtConsumer.processToClaims(&lt;/tt&gt;, whle it should have passed the jwt only.&lt;/p&gt;</comment>
                            <comment id="17503908" author="JIRAUSER286376" created="Wed, 9 Mar 2022 23:34:22 +0000"  >&lt;p&gt;I&apos;m not sure I&apos;m following you.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;According to the stack trace it is a bad character in the resulting json from the base64 data. Everything I&apos;ve tried with the JWT token, showed no invalid characters. It started with a {, not an unknown character. I&apos;ve looked at the decoded byte array from the base64 to make sure it wasn&apos;t getting stripped somewhere.&lt;/p&gt;

&lt;p&gt;&#160;&lt;br/&gt;
Caused by: org.jose4j.json.internal.json_simple.parser.ParseException: Unexpected character (�) at position 0.&lt;br/&gt;
&#160; &#160; &#160; &#160; at org.jose4j.json.internal.json_simple.parser.Yylex.yylex(Yylex.java:612) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;?:?&amp;#93;&lt;/span&gt;&lt;br/&gt;
&#160; &#160; &#160; &#160; at org.jose4j.json.internal.json_simple.parser.JSONParser.nextToken(JSONParser.java:269) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;?:?&amp;#93;&lt;/span&gt;&lt;br/&gt;
&#160; &#160; &#160; &#160; at org.jose4j.json.internal.json_simple.parser.JSONParser.parse(JSONParser.java:118) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;?:?&amp;#93;&lt;/span&gt;&lt;br/&gt;
&#160; &#160; &#160; &#160; at org.jose4j.json.internal.json_simple.parser.JSONParser.parse(JSONParser.java:81) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;?:?&amp;#93;&lt;/span&gt;&lt;br/&gt;
&#160; &#160; &#160; &#160; at org.jose4j.json.JsonUtil.parseJson(JsonUtil.java:62) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;?:?&amp;#93;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="17503910" author="janhoy" created="Wed, 9 Mar 2022 23:57:27 +0000"  >&lt;p&gt;So in line 408 we pass the string &quot;Bearer ey....&quot; to a method that expects plain jwt &quot;ey...&quot;, thus it complains. But this parsing only happens in the case of SIGNATURE_INVALID. See Pull Request for proposed fix. Perhaps you can try to reproduce with the fix in place?&lt;/p&gt;

&lt;p&gt;Don&apos;t know why the JWT you receive from Microsoft does not pass the signature test..&lt;/p&gt;</comment>
                            <comment id="17503925" author="JIRAUSER286376" created="Thu, 10 Mar 2022 00:41:35 +0000"  >&lt;p&gt;Ok, that makes sense now. I&apos;ll try with the proposed fix and see what happens. I&apos;ll also look more in to why that is failing the check.&lt;/p&gt;</comment>
                            <comment id="17503976" author="JIRAUSER286376" created="Thu, 10 Mar 2022 03:20:49 +0000"  >&lt;p&gt;I keep getting this exception when starting solr with the auth plugin enabled:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2022-03-10 03:18:56.799 ERROR (main) [ &#160; ] o.a.s.s.CoreContainerProvider Could not start Solr. Check solr/home property and the logs
2022-03-10 03:18:56.815 ERROR (main) [ &#160; ] o.a.s.c.SolrCore &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; =&amp;gt; org.apache.solr.common.SolrException: &#160;Error loading class &lt;span class=&quot;code-quote&quot;&gt;&apos;solr.JWTAuthPlugin&apos;&lt;/span&gt;
&#160; &#160; &#160; &#160; at org.apache.solr.core.SolrResourceLoader.findClass(SolrResourceLoader.java:549)
org.apache.solr.common.SolrException: &#160;Error loading class &lt;span class=&quot;code-quote&quot;&gt;&apos;solr.JWTAuthPlugin&apos;&lt;/span&gt;
&#160; &#160; &#160; &#160; at org.apache.solr.core.SolrResourceLoader.findClass(SolrResourceLoader.java:549) ~[?:?]
&#160; &#160; &#160; &#160; at org.apache.solr.core.SolrResourceLoader.newInstance(SolrResourceLoader.java:610) ~[?:?]
&#160; &#160; &#160; &#160; at org.apache.solr.core.CoreContainer.initializeAuthenticationPlugin(CoreContainer.java:523) ~[?:?]
&#160; &#160; &#160; &#160; at org.apache.solr.core.CoreContainer.reloadSecurityProperties(CoreContainer.java:1055) ~[?:?]
&#160; &#160; &#160; &#160; at org.apache.solr.core.CoreContainer.load(CoreContainer.java:767) ~[?:?]
&#160; &#160; &#160; &#160; at org.apache.solr.servlet.CoreContainerProvider.createCoreContainer(CoreContainerProvider.java:376) ~[?:?]
&#160; &#160; &#160; &#160; at org.apache.solr.servlet.CoreContainerProvider.init(CoreContainerProvider.java:226) ~[?:?]
&#160; &#160; &#160; &#160; at org.apache.solr.servlet.CoreContainerProvider.contextInitialized(CoreContainerProvider.java:110) ~[?:?]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.handler.ContextHandler.callContextInitialized(ContextHandler.java:1067) ~[jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.servlet.ServletContextHandler.callContextInitialized(ServletContextHandler.java:572) ~[jetty-servlet-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.handler.ContextHandler.contextInitialized(ContextHandler.java:996) ~[jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.servlet.ServletHandler.initialize(ServletHandler.java:746) ~[jetty-servlet-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:379) ~[jetty-servlet-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.webapp.WebAppContext.startWebapp(WebAppContext.java:1449) ~[jetty-webapp-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1414) ~[jetty-webapp-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:910) ~[jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.servlet.ServletContextHandler.doStart(ServletContextHandler.java:288) ~[jetty-servlet-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:524) ~[jetty-webapp-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73) ~[jetty-util-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:169) ~[jetty-util-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:117) ~[jetty-util-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:97) ~[jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73) ~[jetty-util-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:169) ~[jetty-util-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:110) ~[jetty-util-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:97) ~[jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73) ~[jetty-util-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:169) ~[jetty-util-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:117) ~[jetty-util-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:97) ~[jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73) ~[jetty-util-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:169) ~[jetty-util-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:110) ~[jetty-util-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:97) ~[jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73) ~[jetty-util-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:169) ~[jetty-util-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:110) ~[jetty-util-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:97) ~[jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.handler.gzip.GzipHandler.doStart(GzipHandler.java:426) ~[jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73) ~[jetty-util-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:169) ~[jetty-util-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.Server.start(Server.java:423) ~[jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:110) ~[jetty-util-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:97) ~[jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.Server.doStart(Server.java:387) ~[jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73) ~[jetty-util-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.xml.XmlConfiguration.lambda$main$3(XmlConfiguration.java:1907) ~[jetty-xml-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at java.security.AccessController.doPrivileged(Native Method) ~[?:?]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.xml.XmlConfiguration.main(XmlConfiguration.java:1857) ~[jetty-xml-9.4.44.v20210927.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]
&#160; &#160; &#160; &#160; at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[?:?]
&#160; &#160; &#160; &#160; at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[?:?]
&#160; &#160; &#160; &#160; at java.lang.reflect.Method.invoke(Unknown Source) ~[?:?]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.start.Main.invokeMain(Main.java:218) ~[start.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.start.Main.start(Main.java:491) ~[start.jar:9.4.44.v20210927]
&#160; &#160; &#160; &#160; at org.eclipse.jetty.start.Main.main(Main.java:77) ~[start.jar:9.4.44.v20210927]
Caused by: java.lang.ClassNotFoundException: solr.JWTAuthPlugin
&#160; &#160; &#160; &#160; at java.net.URLClassLoader.findClass(Unknown Source) ~[?:?]
&#160; &#160; &#160; &#160; at java.lang.&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.loadClass(Unknown Source) ~[?:?]
&#160; &#160; &#160; &#160; at java.net.FactoryURLClassLoader.loadClass(Unknown Source) ~[?:?]
&#160; &#160; &#160; &#160; at java.lang.&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.loadClass(Unknown Source) ~[?:?]
&#160; &#160; &#160; &#160; at java.lang.&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;.forName0(Native Method) ~[?:?]
&#160; &#160; &#160; &#160; at java.lang.&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;.forName(Unknown Source) ~[?:?]
&#160; &#160; &#160; &#160; at org.apache.solr.core.SolrResourceLoader.findClass(SolrResourceLoader.java:533) ~[?:?]
&#160; &#160; &#160; &#160; ... 55 more &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17504047" author="janhoy" created="Thu, 10 Mar 2022 07:39:42 +0000"  >&lt;p&gt;Have you built your own version from main branch?&lt;/p&gt;

&lt;p&gt;Note that the auth plugin is now a module, while it was part of core before, so you need to activate it:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
export SOLR_MODULES=jwt-auth
bin/solr start -c
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17504048" author="janhoy" created="Thu, 10 Mar 2022 07:42:58 +0000"  >&lt;p&gt;Or you could check out branch_8_11 from the &lt;a href=&quot;https://github.com/apache/lucene-solr&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/lucene-solr&lt;/a&gt; repository and apply a similar patch&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Index: solr/core/src/java/org/apache/solr/security/JWTAuthPlugin.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
&amp;lt;+&amp;gt;UTF-8
===================================================================
diff --git a/solr/core/src/java/org/apache/solr/security/JWTAuthPlugin.java b/solr/core/src/java/org/apache/solr/security/JWTAuthPlugin.java
--- a/solr/core/src/java/org/apache/solr/security/JWTAuthPlugin.java &#160; &#160;(revision 607cab7ea25937c6854b5372b679d114edbfcf1a)
+++ b/solr/core/src/java/org/apache/solr/security/JWTAuthPlugin.java &#160; &#160;(date 1646868315832)
@@ -301,7 +301,7 @@
&#160; &#160; &#160;JWTAuthenticationResponse authResponse = authenticate(header);
&#160; &#160; &#160;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; exceptionMessage = authResponse.getJwtException() != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; ? authResponse.getJwtException().getMessage() : &quot;&quot;;
&#160; &#160; &#160;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (AuthCode.SIGNATURE_INVALID.equals(authResponse.getAuthCode())) {
- &#160; &#160; &#160;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; issuer = jwtConsumer.processToClaims(header).getIssuer();
+ &#160; &#160; &#160;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; issuer = jwtConsumer.processToClaims(parseAuthorizationHeader(header)).getIssuer();
&#160; &#160; &#160; &#160;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (issuer != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
&#160; &#160; &#160; &#160; &#160;Optional&amp;lt;JWTIssuerConfig&amp;gt; issuerConfig = issuerConfigs.stream().filter(ic -&amp;gt; issuer.equals(ic.getIss())).findFirst();
&#160; &#160; &#160; &#160; &#160;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (issuerConfig.isPresent() &amp;amp;&amp;amp; issuerConfig.get().usesHttpsJwk()) { &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17504669" author="JIRAUSER286376" created="Fri, 11 Mar 2022 01:09:38 +0000"  >&lt;p&gt;With your pull request I was able to build an image with it and just got the image running in the cluster.&lt;/p&gt;

&lt;p&gt;With the new log message it is indeed saying the signature is invalid. I&apos;m still researching that.&lt;/p&gt;</comment>
                            <comment id="17504727" author="JIRAUSER286376" created="Fri, 11 Mar 2022 05:02:37 +0000"  >&lt;p&gt;I think it had something to do with the scope. When I changed it to a value other than one for Microsoft Graph (like User.Read) I then started to get a message stating a required claim wasn&apos;t found. Removing the scope from the config altogether fixed it and now auth is required to get in to the admin portal. Thanks.&lt;/p&gt;</comment>
                            <comment id="17504894" author="janhoy" created="Fri, 11 Mar 2022 12:10:18 +0000"  >&lt;p&gt;Thanks for testing. We can push the bug fix for 9.0&lt;/p&gt;</comment>
                            <comment id="17504895" author="jira-bot" created="Fri, 11 Mar 2022 12:11:52 +0000"  >&lt;p&gt;Commit cf27e77daf3bd425cbd9c1b8ee7607357432a3be in solr&apos;s branch refs/heads/main from Jan H&#248;ydahl&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=cf27e77&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=cf27e77&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16090&quot; title=&quot;JWTAuthPlugin exception when signature validation fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16090&quot;&gt;&lt;del&gt;SOLR-16090&lt;/del&gt;&lt;/a&gt; Better error message when JWT auth SIGNATURE_INVALID during token parsing (#737)&lt;/p&gt;
</comment>
                            <comment id="17504898" author="jira-bot" created="Fri, 11 Mar 2022 12:22:34 +0000"  >&lt;p&gt;Commit dea7402e51bcb1d11ba65aca19deb9018a6a9a9e in solr&apos;s branch refs/heads/branch_9x from Jan H&#248;ydahl&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=dea7402&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=dea7402&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16090&quot; title=&quot;JWTAuthPlugin exception when signature validation fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16090&quot;&gt;&lt;del&gt;SOLR-16090&lt;/del&gt;&lt;/a&gt; Better error message when JWT auth SIGNATURE_INVALID during token parsing (#737)&lt;/p&gt;

&lt;p&gt;(cherry picked from commit cf27e77daf3bd425cbd9c1b8ee7607357432a3be)&lt;/p&gt;</comment>
                            <comment id="17504900" author="jira-bot" created="Fri, 11 Mar 2022 12:30:19 +0000"  >&lt;p&gt;Commit 4608c5d6bb66a614b3e1bf2a7a5c47abf97e13a5 in solr&apos;s branch refs/heads/branch_9_0 from Jan H&#248;ydahl&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=4608c5d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=4608c5d&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16090&quot; title=&quot;JWTAuthPlugin exception when signature validation fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16090&quot;&gt;&lt;del&gt;SOLR-16090&lt;/del&gt;&lt;/a&gt; Better error message when JWT auth SIGNATURE_INVALID during token parsing (#737)&lt;/p&gt;

&lt;p&gt;(cherry picked from commit cf27e77daf3bd425cbd9c1b8ee7607357432a3be)&lt;/p&gt;</comment>
                            <comment id="17506692" author="jira-bot" created="Tue, 15 Mar 2022 04:37:46 +0000"  >&lt;p&gt;Commit cf27e77daf3bd425cbd9c1b8ee7607357432a3be in solr&apos;s branch refs/heads/jira/SOLR15715_1 from Jan H&#248;ydahl&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=cf27e77&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=cf27e77&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16090&quot; title=&quot;JWTAuthPlugin exception when signature validation fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16090&quot;&gt;&lt;del&gt;SOLR-16090&lt;/del&gt;&lt;/a&gt; Better error message when JWT auth SIGNATURE_INVALID during token parsing (#737)&lt;/p&gt;
</comment>
                            <comment id="17535705" author="janhoy" created="Thu, 12 May 2022 00:26:56 +0000"  >&lt;p&gt;Closing after the 9.0.0 release&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 26 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z10c7s:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>