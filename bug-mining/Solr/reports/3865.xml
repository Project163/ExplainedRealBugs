<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:31:54 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-11673] ReplicationHandler race-condition between deleting slave index and commit in master</title>
                <link>https://issues.apache.org/jira/browse/SOLR-11673</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;failure in master &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6228?focusedCommentId=16266007&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16266007&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;described in SOLR-6228&lt;/a&gt;.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  2&amp;gt; NOTE: reproduce with: ant test  -Dtestcase=TestReplicationHandler -Dtests.method=doTestIndexAndConfigReplication -Dtests.seed=C541E9C9CC845BA5 -Dtests.slow=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; -Dtests.locale=es-BO -Dtests.timezone=Africa/Addis_Ababa -Dtests.asserts=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; -Dtests.file.encoding=US-ASCII
[10:13:23.442] ERROR   36.6s | TestReplicationHandler.doTestIndexAndConfigReplication &amp;lt;&amp;lt;&amp;lt;
   &amp;gt; Throwable #1: java.lang.IndexOutOfBoundsException: Index: 0, Size: 0
   &amp;gt;    at __randomizedtesting.SeedInfo.seed([C541E9C9CC845BA5:D109B29CEF83E6BB]:0)
   &amp;gt;    at java.util.ArrayList.rangeCheck(ArrayList.java:653)
   &amp;gt;    at java.util.ArrayList.get(ArrayList.java:429)
   &amp;gt;    at org.apache.solr.handler.TestReplicationHandler.doTestIndexAndConfigReplication(TestReplicationHandler.java:561)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Easily reproducible in master by beast.  &lt;/p&gt;</description>
                <environment></environment>
        <key id="13120797">SOLR-11673</key>
            <summary>ReplicationHandler race-condition between deleting slave index and commit in master</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mkhl">Mikhail Khludnev</assignee>
                                    <reporter username="mkhl">Mikhail Khludnev</reporter>
                        <labels>
                    </labels>
                <created>Sun, 26 Nov 2017 17:39:49 +0000</created>
                <updated>Wed, 2 Oct 2019 17:30:34 +0000</updated>
                            <resolved>Mon, 2 Apr 2018 16:59:48 +0000</resolved>
                                                    <fixVersion>7.4</fixVersion>
                    <fixVersion>8.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>9</watches>
                                                                                                                <comments>
                            <comment id="16266111" author="mkhludnev" created="Sun, 26 Nov 2017 18:02:46 +0000"  >&lt;p&gt;it looks like this &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  2&amp;gt; 5913 INFO  (indexFetcher-47-thread-1) [    x:collection1] o.a.s.h.IndexFetcher Master&apos;s generation: 1
  2&amp;gt; 5913 INFO  (indexFetcher-47-thread-1) [    x:collection1] o.a.s.h.IndexFetcher Master&apos;s version: 0
  2&amp;gt; 5913 INFO  (indexFetcher-47-thread-1) [    x:collection1] o.a.s.h.IndexFetcher Slave&apos;s generation: 1
  2&amp;gt; 5913 INFO  (indexFetcher-47-thread-1) [    x:collection1] o.a.s.h.IndexFetcher Slave&apos;s version: 0
  2&amp;gt; 5913 INFO  (indexFetcher-47-thread-1) [    x:collection1] o.a.s.h.IndexFetcher New index in Master. Deleting mine...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Slave has launched. &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  2&amp;gt; 5915 INFO  (qtp1591236769-56) [    x:collection1] o.a.s.u.p.LogUpdateProcessorFactory [collection1]  webapp=/solr path=/update params={wt=javabin&amp;amp;version=2}{add=[2000]} 0 2
  2&amp;gt; 5916 INFO  (qtp1591236769-56) [    x:collection1] o.a.s.u.DirectUpdateHandler2 start commit{,optimize=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;,openSearcher=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;,waitSearcher=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;,expungeDeletes=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;,softCommit=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;,
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;commit in master&lt;br/&gt;
And slave miss it, since it reset to the same timestamp as master&apos;s commit&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  2&amp;gt; 6903 INFO  (indexFetcher-47-thread-1) [    x:collection1] o.a.s.h.IndexFetcher Master&apos;s generation: 2
  2&amp;gt; 6904 INFO  (indexFetcher-47-thread-1) [    x:collection1] o.a.s.h.IndexFetcher Master&apos;s version: 1507446809140
  2&amp;gt; 6904 INFO  (indexFetcher-47-thread-1) [    x:collection1] o.a.s.h.IndexFetcher Slave&apos;s generation: 2
  2&amp;gt; 6904 INFO  (indexFetcher-47-thread-1) [    x:collection1] o.a.s.h.IndexFetcher Slave&apos;s version: 1507446809140
  2&amp;gt; 6904 INFO  (indexFetcher-47-thread-1) [    x:collection1] o.a.s.h.IndexFetcher Slave in sync with master.
  2&amp;gt; 6962 INFO  (qtp922057044-80) [    x:collection1] o.a.s.c.S.Request [collection1]  webapp=/solr path=/select params={q=*:*&amp;amp;sort=id+desc&amp;amp;wt=javabin&amp;amp;version=2} hits=0 status=0 QTime=0
  2&amp;gt; 6964 INFO  (TEST-TestReplicationHandler.doTestIndexAndConfigReplication-seed#[C541E9C9CC845BA5]) [    ] o.a.s.h.TestReplicationHandler Waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; 1 docs
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; 
&lt;p&gt;..&lt;/p&gt;</comment>
                            <comment id="16266112" author="mkhludnev" created="Sun, 26 Nov 2017 18:05:21 +0000"  >&lt;p&gt;&lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12899307/12899307_SOLR-11673-test-fix.patch&quot; title=&quot;SOLR-11673-test-fix.patch attached to SOLR-11673&quot;&gt;SOLR-11673-test-fix.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; the simple currentTimeMillis() spin in test makes the beast happy.&lt;br/&gt;
But the question is, can&apos;t we reset slave index more reliable? &lt;/p&gt;</comment>
                            <comment id="16266149" author="mkhludnev" created="Sun, 26 Nov 2017 19:32:03 +0000"  >&lt;p&gt;&lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12899309/12899309_SOLR-11673-skipCommitOnMasterVersionZero.patch&quot; title=&quot;SOLR-11673-skipCommitOnMasterVersionZero.patch attached to SOLR-11673&quot;&gt;SOLR-11673-skipCommitOnMasterVersionZero.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&lt;br/&gt;
fixes TestReplicationHandler.doTestIndexAndConfigReplication by setting &lt;br/&gt;
&lt;tt&gt;skipCommitOnMasterVersionZero=true&lt;/tt&gt;. And I suppose it always makes sense, &lt;a href=&quot;https://github.com/apache/lucene-solr/blob/master/solr/core/src/java/org/apache/solr/handler/IndexFetcher.java#L455&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;see here&lt;/a&gt;, &lt;tt&gt;commit()&lt;/tt&gt; in alternative branch is a clear race with master commit(). WDYT?&lt;br/&gt;
beast command is:&lt;br/&gt;
&lt;tt&gt;ant beast -Dbeast.iters=10  -Dtestcase=TestReplicationHandler -Dtests.method=doTestIndexAndConfigReplication  -Dtests.slow=true&lt;/tt&gt;  &lt;/p&gt;
</comment>
                            <comment id="16268425" author="mkhludnev" created="Tue, 28 Nov 2017 09:14:48 +0000"  >&lt;p&gt;&lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12899577/12899577_SOLR-11673-reproducer.patch&quot; title=&quot;SOLR-11673-reproducer.patch attached to SOLR-11673&quot;&gt;SOLR-11673-reproducer.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; adding timeout to &lt;tt&gt;IndexFetcher&lt;/tt&gt; just to reproduce the issue. For my i5 laptop it fails roughly about 2 of 100 iters.  &lt;/p&gt;</comment>
                            <comment id="16275887" author="mkhludnev" created="Sun, 3 Dec 2017 11:41:05 +0000"  >&lt;p&gt;&lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12900370/12900370_doTestIndexAndConfigReplication-consoleText.txt&quot; title=&quot;doTestIndexAndConfigReplication-consoleText.txt attached to SOLR-11673&quot;&gt;doTestIndexAndConfigReplication-consoleText.txt&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; CI failure&lt;/p&gt;</comment>
                            <comment id="16283979" author="tomasflobbe" created="Fri, 8 Dec 2017 18:23:23 +0000"  >&lt;p&gt;I think this is the same issue described in &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10751&quot; title=&quot;Master/Slave IndexVersion conflict&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10751&quot;&gt;SOLR-10751&lt;/a&gt;, although I thought this was fixed by &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11293&quot; title=&quot;Possible data loss when index of tlog replica is not empty but latestVersions of master equals 0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-11293&quot;&gt;&lt;del&gt;SOLR-11293&lt;/del&gt;&lt;/a&gt;. Looks like it&apos;s not?&lt;/p&gt;</comment>
                            <comment id="16284256" author="mkhludnev" created="Fri, 8 Dec 2017 21:33:42 +0000"  >&lt;p&gt;quoting &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11293?focusedCommentId=16182379&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16182379&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SOLR-11293?focusedCommentId=16182379&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16182379&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;In case of masterVersion = zero, tlog replica won&apos;t do commit, just open new searcher.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Here is what the parameter &lt;tt&gt;skipCommitOnMasterVersionZero&lt;/tt&gt; was introduced for. &lt;br/&gt;
But the thing is that it always makes sense (all tests are passed). The points are:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;there is a race condition between initial slave commit and the first meaningful master commit, the later might just be ignored.&lt;/li&gt;
	&lt;li&gt;I don&apos;t see a reason behind &lt;a href=&quot;https://github.com/apache/lucene-solr/blame/master/solr/core/src/java/org/apache/solr/handler/IndexFetcher.java#L458&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;that slave commit&lt;/a&gt; at all. Could it happen that it was necessary some time ago and now it just breaks the test(s) rarely?&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Thanks for responding, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tflobbe&quot; class=&quot;user-hover&quot; rel=&quot;tflobbe&quot;&gt;tflobbe&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16284271" author="tomasflobbe" created="Fri, 8 Dec 2017 21:43:04 +0000"  >&lt;blockquote&gt;&lt;p&gt;I don&apos;t see a reason behind that slave commit at all. Could it happen that it was necessary some time ago and now it just breaks the test(s) rarely?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Maybe I&apos;m missing something, but doesn&apos;t the deleteAll requires the commit?&lt;/p&gt;</comment>
                            <comment id="16284290" author="mkhludnev" created="Fri, 8 Dec 2017 21:52:41 +0000"  >&lt;p&gt;I don&apos;t know, but I see that &lt;tt&gt;skipCommitOnMasterVersionZero&lt;/tt&gt; bypasses it successfully. Perhaps just by &lt;em&gt;updating commit point&lt;/em&gt;, whatever it means.&lt;/p&gt;</comment>
                            <comment id="16284765" author="caomanhdat" created="Sat, 9 Dec 2017 14:53:09 +0000"  >&lt;p&gt;Hi, so the fix in &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11293&quot; title=&quot;Possible data loss when index of tlog replica is not empty but latestVersions of master equals 0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-11293&quot;&gt;&lt;del&gt;SOLR-11293&lt;/del&gt;&lt;/a&gt; solved a problem in ReplicationHandler when it gets used by tlog replicas ( so &lt;tt&gt;skipCommitOnMasterVersionZero==true&lt;/tt&gt; only in case of tlog replicas ). I did not confident enough to always enable that flag to true in all cases.&lt;/p&gt;</comment>
                            <comment id="16284982" author="mkhludnev" created="Sat, 9 Dec 2017 20:29:32 +0000"  >&lt;p&gt;&lt;a href=&quot;https://jenkins.thetaphi.de/job/Lucene-Solr-7.2-Linux/37/testReport/junit/org.apache.solr.handler/TestReplicationHandler/doTestIndexAndConfigReplication/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://jenkins.thetaphi.de/job/Lucene-Solr-7.2-Linux/37/testReport/junit/org.apache.solr.handler/TestReplicationHandler/doTestIndexAndConfigReplication/&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
org.apache.solr.handler.TestReplicationHandler.doTestIndexAndConfigReplication

Failing &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; the past 1 build (Since Unstable#37 )
Took 31 sec.
Error Message

Index: 0, Size: 0
Stacktrace

java.lang.IndexOutOfBoundsException: Index: 0, Size: 0
	at __randomizedtesting.SeedInfo.seed([5416020D95B2758D:405E5958B6B5C893]:0)
	at java.util.ArrayList.rangeCheck(ArrayList.java:653)
	at java.util.ArrayList.get(ArrayList.java:429)
	at org.apache.solr.handler.TestReplicationHandler.doTestIndexAndConfigReplication(TestReplicationHandler.java:561
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16287189" author="mkhludnev" created="Tue, 12 Dec 2017 06:32:23 +0000"  >&lt;p&gt;Build: &lt;a href=&quot;https://jenkins.thetaphi.de/job/Lucene-Solr-7.x-Linux/977/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://jenkins.thetaphi.de/job/Lucene-Solr-7.x-Linux/977/&lt;/a&gt;&lt;br/&gt;
Java: 64bit/jdk-10-ea+32 -XX:-UseCompressedOops -XX:+UseSerialGC&lt;/p&gt;

&lt;p&gt;1 tests failed.&lt;br/&gt;
FAILED:  org.apache.solr.handler.TestReplicationHandler.doTestIndexAndConfigReplication&lt;/p&gt;

&lt;p&gt;Error Message:&lt;br/&gt;
Index 0 out-of-bounds for length 0&lt;/p&gt;

&lt;p&gt;Stack Trace:&lt;br/&gt;
java.lang.IndexOutOfBoundsException: Index 0 out-of-bounds for length 0&lt;br/&gt;
        at __randomizedtesting.SeedInfo.seed(&lt;span class=&quot;error&quot;&gt;&amp;#91;5212D7D20AA5CB57:465A8C8729A27649&amp;#93;&lt;/span&gt;:0)&lt;br/&gt;
        at java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:64)&lt;br/&gt;
        at java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:70)&lt;br/&gt;
        at java.base/jdk.internal.util.Preconditions.checkIndex(Preconditions.java:248)&lt;br/&gt;
        at java.base/java.util.Objects.checkIndex(Objects.java:372)&lt;br/&gt;
        at java.base/java.util.ArrayList.get(ArrayList.java:440)&lt;br/&gt;
        at org.apache.solr.handler.TestReplicationHandler.doTestIndexAndConfigReplication(TestReplicationHandler.java:561)&lt;/p&gt;</comment>
                            <comment id="16293106" author="mkhludnev" created="Fri, 15 Dec 2017 19:54:41 +0000"  >&lt;p&gt;I don&apos;t see any objections. What about pushing skipCommitOnMasterVersionZero=true by default? Which branch? Or we need more testing?  &lt;/p&gt;</comment>
                            <comment id="16374283" author="mkhludnev" created="Fri, 23 Feb 2018 12:21:51 +0000"  >&lt;p&gt;I can push it in, if anybody suggest to move forward.&#160;&lt;/p&gt;</comment>
                            <comment id="16394434" author="jira-bot" created="Sun, 11 Mar 2018 08:00:34 +0000"  >&lt;p&gt;Commit 8f1350af20c682df7b7fb9e3af762e03b944fdb9 in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mkhludnev&quot; class=&quot;user-hover&quot; rel=&quot;mkhludnev&quot;&gt;mkhludnev&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=8f1350a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=8f1350a&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11673&quot; title=&quot;ReplicationHandler race-condition between deleting slave index and commit in master&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-11673&quot;&gt;&lt;del&gt;SOLR-11673&lt;/del&gt;&lt;/a&gt;: specifying exact ticket in @BadApple&lt;/p&gt;</comment>
                            <comment id="16394435" author="jira-bot" created="Sun, 11 Mar 2018 08:02:08 +0000"  >&lt;p&gt;Commit 3ecefe1d0e4d0cbeb6e4393fa2339210f8eb612d in lucene-solr&apos;s branch refs/heads/branch_7x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mkhludnev&quot; class=&quot;user-hover&quot; rel=&quot;mkhludnev&quot;&gt;mkhludnev&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=3ecefe1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=3ecefe1&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11673&quot; title=&quot;ReplicationHandler race-condition between deleting slave index and commit in master&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-11673&quot;&gt;&lt;del&gt;SOLR-11673&lt;/del&gt;&lt;/a&gt;: specifying exact ticket in @BadApple&lt;/p&gt;</comment>
                            <comment id="16421282" author="mkhludnev" created="Sat, 31 Mar 2018 11:21:17 +0000"  >&lt;p&gt;Getting back to it. It&apos;s interesting, injecting 1 sec delay in IndexFetcher doesn&apos;t reproduce the failure. So far only small delays around 10ms let test fail.  &lt;/p&gt;</comment>
                            <comment id="16421657" author="lucenesolrqa" created="Sun, 1 Apr 2018 13:38:15 +0000"  >&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/error.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;b&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;&lt;/b&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Vote &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Subsystem &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Runtime &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Comment &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; &lt;font color=&quot;brown&quot;&gt; Prechecks &lt;/font&gt; &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; test4tests &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  0m  0s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; The patch appears to include 1 new or modified test files. &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; &lt;font color=&quot;brown&quot;&gt; master Compile Tests &lt;/font&gt; &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; compile &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  3m  3s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; master passed &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; &lt;font color=&quot;brown&quot;&gt; Patch Compile Tests &lt;/font&gt; &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; compile &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  2m 24s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; the patch passed &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; javac &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  2m 24s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; the patch passed &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; Release audit (RAT) &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  2m 24s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; the patch passed &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; Check forbidden APIs &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  2m 24s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; the patch passed &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; Validate source patterns &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  2m 24s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; the patch passed &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; &lt;font color=&quot;brown&quot;&gt; Other Tests &lt;/font&gt; &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;red&quot;&gt;-1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;red&quot;&gt; unit &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;red&quot;&gt; 91m 27s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;red&quot;&gt; core in the patch failed. &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;black&quot;&gt;&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;black&quot;&gt; &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;black&quot;&gt;101m  5s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;black&quot;&gt; &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Reason &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Tests &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Failed junit tests &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; solr.cloud.autoscaling.sim.TestLargeCluster &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Subsystem &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Report/Notes &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; JIRA Issue &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11673&quot; title=&quot;ReplicationHandler race-condition between deleting slave index and commit in master&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-11673&quot;&gt;&lt;del&gt;SOLR-11673&lt;/del&gt;&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; JIRA Patch URL &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12917114/SOLR-11673.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12917114/SOLR-11673.patch&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Optional Tests &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  compile  javac  unit  ratsources  checkforbiddenapis  validatesourcepatterns  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; uname &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Linux lucene2-us-west.apache.org 4.4.0-112-generic #135-Ubuntu SMP Fri Jan 19 11:48:36 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Build tool &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; ant &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Personality &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; /home/jenkins/jenkins-slave/workspace/PreCommit-SOLR-Build/sourcedir/dev-tools/test-patch/lucene-solr-yetus-personality.sh &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; git revision &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; master / b4a83ff &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; ant &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; version: Apache Ant(TM) version 1.9.6 compiled on July 8 2015 &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Default Java &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 1.8.0_152 &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; unit &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://builds.apache.org/job/PreCommit-SOLR-Build/32/artifact/out/patch-unit-solr_core.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-SOLR-Build/32/artifact/out/patch-unit-solr_core.txt&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  Test Results &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://builds.apache.org/job/PreCommit-SOLR-Build/32/testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-SOLR-Build/32/testReport/&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; modules &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; C: solr solr/core U: solr &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Console output &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://builds.apache.org/job/PreCommit-SOLR-Build/32/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-SOLR-Build/32/console&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Powered by &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Apache Yetus 0.7.0   &lt;a href=&quot;http://yetus.apache.org&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://yetus.apache.org&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;



&lt;p&gt;This message was automatically generated.&lt;/p&gt;
</comment>
                            <comment id="16421659" author="jira-bot" created="Sun, 1 Apr 2018 13:48:14 +0000"  >&lt;p&gt;Commit 7a920cb0f64ee3de058a980e7564685cdc311c06 in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mkhludnev&quot; class=&quot;user-hover&quot; rel=&quot;mkhludnev&quot;&gt;mkhludnev&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=7a920cb&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=7a920cb&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11673&quot; title=&quot;ReplicationHandler race-condition between deleting slave index and commit in master&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-11673&quot;&gt;&lt;del&gt;SOLR-11673&lt;/del&gt;&lt;/a&gt;: Slave doesn&apos;t commit empty index if new index appears on master by deafult.&lt;/p&gt;</comment>
                            <comment id="16421668" author="jira-bot" created="Sun, 1 Apr 2018 14:10:19 +0000"  >&lt;p&gt;Commit 8d69b7bf3eed38ed60fa1ffe2e7bc92b78aea526 in lucene-solr&apos;s branch refs/heads/branch_7x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mkhludnev&quot; class=&quot;user-hover&quot; rel=&quot;mkhludnev&quot;&gt;mkhludnev&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=8d69b7b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=8d69b7b&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11673&quot; title=&quot;ReplicationHandler race-condition between deleting slave index and commit in master&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-11673&quot;&gt;&lt;del&gt;SOLR-11673&lt;/del&gt;&lt;/a&gt;: Slave doesn&apos;t commit empty index if new index appears on master by deafult.&lt;/p&gt;</comment>
                            <comment id="16428062" author="mkhludnev" created="Fri, 6 Apr 2018 07:31:29 +0000"  >&lt;p&gt;the matter of fact, after startup slave constantly spinning in &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12917827/12917827_replication+spin+was.txt&quot; title=&quot;replication spin was.txt attached to SOLR-11673&quot;&gt;replication spin was.txt&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; (it&apos;s pre &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11673&quot; title=&quot;ReplicationHandler race-condition between deleting slave index and commit in master&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-11673&quot;&gt;&lt;del&gt;SOLR-11673&lt;/del&gt;&lt;/a&gt; spin), the spin after &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11673&quot; title=&quot;ReplicationHandler race-condition between deleting slave index and commit in master&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-11673&quot;&gt;&lt;del&gt;SOLR-11673&lt;/del&gt;&lt;/a&gt; is almost the same &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12917833/12917833_replication+spin+now.txt&quot; title=&quot;replication spin now.txt attached to SOLR-11673&quot;&gt;replication spin now.txt&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;, but slave doesn&apos;t increase the version. It spins until the first master commit and isn&apos;t caused by &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11673&quot; title=&quot;ReplicationHandler race-condition between deleting slave index and commit in master&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-11673&quot;&gt;&lt;del&gt;SOLR-11673&lt;/del&gt;&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13144105">SOLR-12078</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12899577" name="SOLR-11673-reproducer.patch" size="1916" author="mkhl" created="Tue, 28 Nov 2017 08:42:09 +0000"/>
                            <attachment id="12899309" name="SOLR-11673-skipCommitOnMasterVersionZero.patch" size="1489" author="mkhl" created="Sun, 26 Nov 2017 19:25:51 +0000"/>
                            <attachment id="12899307" name="SOLR-11673-test-fix.patch" size="1013" author="mkhl" created="Sun, 26 Nov 2017 18:03:25 +0000"/>
                            <attachment id="12917114" name="SOLR-11673.patch" size="7946" author="mkhl" created="Sat, 31 Mar 2018 17:43:12 +0000"/>
                            <attachment id="12900370" name="doTestIndexAndConfigReplication-consoleText.txt" size="5962900" author="mkhl" created="Sun, 3 Dec 2017 11:40:54 +0000"/>
                            <attachment id="12917833" name="replication spin now.txt" size="978" author="mkhl" created="Fri, 6 Apr 2018 07:31:43 +0000"/>
                            <attachment id="12917827" name="replication spin was.txt" size="1610" author="mkhl" created="Fri, 6 Apr 2018 07:04:28 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 32 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3n72f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>