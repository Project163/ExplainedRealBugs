<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:59:49 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-6626] NPE in FieldMutatingUpdateProcessor when indexing a doc with null field value</title>
                <link>https://issues.apache.org/jira/browse/SOLR-6626</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;NullPointerException when indexing a JSON doc with null field.&lt;br/&gt;
1. run the example-schemaless&lt;br/&gt;
2. visit &lt;a href=&quot;http://localhost:8983/solr/#/collection1/documents&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8983/solr/#/collection1/documents&lt;/a&gt;&lt;br/&gt;
3. put a doc &lt;/p&gt;
{ &quot;id&quot;:&quot;fooop&quot; }
&lt;p&gt; and it succeeds&lt;br/&gt;
4. put a doc &lt;/p&gt;
{ &quot;id&quot;:&quot;fooop&quot;, &quot;exampleField&quot;:null }
&lt;p&gt; and NPE is result.&lt;/p&gt;

&lt;p&gt;This could be considered a regression of &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-2714&quot; title=&quot;JsonLoader does not handle null field values&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-2714&quot;&gt;&lt;del&gt;SOLR-2714&lt;/del&gt;&lt;/a&gt; which was resolved in v3.6, but the error occurs when the null-containing doc is added instead of during parsing.&lt;/p&gt;

&lt;p&gt;Stacktrace:&lt;/p&gt;

&lt;p&gt;ERROR org.apache.solr.servlet.SolrDispatchFilter  &#8211; null:java.lang.NullPointerException&lt;br/&gt;
        at org.apache.solr.update.processor.FieldValueMutatingUpdateProcessor.mutate(FieldValueMutatingUpdateProcessor.java:65)&lt;br/&gt;
        at org.apache.solr.update.processor.FieldMutatingUpdateProcessor.processAdd(FieldMutatingUpdateProcessor.java:97)&lt;br/&gt;
        at org.apache.solr.update.processor.UpdateRequestProcessor.processAdd(UpdateRequestProcessor.java:51)&lt;br/&gt;
        at org.apache.solr.update.processor.DistributedUpdateProcessor.doLocalAdd(DistributedUpdateProcessor.java:867)&lt;br/&gt;
        at org.apache.solr.update.processor.DistributedUpdateProcessor.versionAdd(DistributedUpdateProcessor.java:1021)&lt;br/&gt;
        at org.apache.solr.update.processor.DistributedUpdateProcessor.processAdd(DistributedUpdateProcessor.java:690)&lt;br/&gt;
        at org.apache.solr.update.processor.LogUpdateProcessor.processAdd(LogUpdateProcessorFactory.java:100)&lt;br/&gt;
        at org.apache.solr.update.processor.UpdateRequestProcessor.processAdd(UpdateRequestProcessor.java:51)&lt;br/&gt;
        at org.apache.solr.update.processor.AbstractDefaultValueUpdateProcessorFactory$DefaultValueUpdateProcessor.processAdd(AbstractDefaultValueUpdateProcessorFactory.java:94)&lt;br/&gt;
        at org.apache.solr.handler.loader.JsonLoader$SingleThreadedJsonLoader.processUpdate(JsonLoader.java:141)&lt;br/&gt;
        at org.apache.solr.handler.loader.JsonLoader$SingleThreadedJsonLoader.load(JsonLoader.java:106)&lt;br/&gt;
        at org.apache.solr.handler.loader.JsonLoader.load(JsonLoader.java:68)&lt;br/&gt;
        at org.apache.solr.handler.UpdateRequestHandler$1.load(UpdateRequestHandler.java:99)&lt;br/&gt;
        at org.apache.solr.handler.ContentStreamHandlerBase.handleRequestBody(ContentStreamHandlerBase.java:74)&lt;br/&gt;
        at org.apache.solr.handler.RequestHandlerBase.handleRequest(RequestHandlerBase.java:135)&lt;br/&gt;
        at org.apache.solr.core.SolrCore.execute(SolrCore.java:1967)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12748200">SOLR-6626</key>
            <summary>NPE in FieldMutatingUpdateProcessor when indexing a doc with null field value</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="noble.paul">Noble Paul</assignee>
                                    <reporter username="pbaclace">Paul Baclace</reporter>
                        <labels>
                    </labels>
                <created>Wed, 15 Oct 2014 03:25:26 +0000</created>
                <updated>Mon, 9 May 2016 18:48:36 +0000</updated>
                            <resolved>Fri, 12 Dec 2014 12:36:05 +0000</resolved>
                                    <version>4.9</version>
                                    <fixVersion>5.0</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14243071" author="mewmewball" created="Thu, 11 Dec 2014 20:14:30 +0000"  >&lt;p&gt;We&apos;re also seeing this with the javabin codec:&lt;/p&gt;

&lt;p&gt;null:java.lang.NullPointerException&lt;br/&gt;
	at org.apache.solr.update.processor.FieldValueMutatingUpdateProcessor.mutate(FieldValueMutatingUpdateProcessor.java:65)&lt;br/&gt;
	at org.apache.solr.update.processor.FieldMutatingUpdateProcessor.processAdd(FieldMutatingUpdateProcessor.java:97)&lt;br/&gt;
	at org.apache.solr.handler.loader.JavabinLoader$1.update(JavabinLoader.java:96)&lt;br/&gt;
	at org.apache.solr.client.solrj.request.JavaBinUpdateRequestCodec$1.readOuterMostDocIterator(JavaBinUpdateRequestCodec.java:166)&lt;br/&gt;
	at org.apache.solr.client.solrj.request.JavaBinUpdateRequestCodec$1.readIterator(JavaBinUpdateRequestCodec.java:136)&lt;br/&gt;
	at org.apache.solr.common.util.JavaBinCodec.readVal(JavaBinCodec.java:225)&lt;br/&gt;
	at org.apache.solr.client.solrj.request.JavaBinUpdateRequestCodec$1.readNamedList(JavaBinUpdateRequestCodec.java:121)&lt;br/&gt;
	at org.apache.solr.common.util.JavaBinCodec.readVal(JavaBinCodec.java:190)&lt;br/&gt;
	at org.apache.solr.common.util.JavaBinCodec.unmarshal(JavaBinCodec.java:116)&lt;br/&gt;
	at org.apache.solr.client.solrj.request.JavaBinUpdateRequestCodec.unmarshal(JavaBinUpdateRequestCodec.java:173)&lt;br/&gt;
	at org.apache.solr.handler.loader.JavabinLoader.parseAndLoadDocs(JavabinLoader.java:106)&lt;br/&gt;
	at org.apache.solr.handler.loader.JavabinLoader.load(JavabinLoader.java:58)&lt;br/&gt;
	at org.apache.solr.handler.UpdateRequestHandler$1.load(UpdateRequestHandler.java:92)&lt;br/&gt;
	at org.apache.solr.handler.ContentStreamHandlerBase.handleRequestBody(ContentStreamHandlerBase.java:74)&lt;br/&gt;
	at org.apache.solr.handler.RequestHandlerBase.handleRequest(RequestHandlerBase.java:135)&lt;br/&gt;
	at org.apache.solr.core.SolrCore.execute(SolrCore.java:1956)&lt;br/&gt;
	at org.apache.solr.servlet.SolrDispatchFilter.execute(SolrDispatchFilter.java:799)&lt;br/&gt;
	at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:422)&lt;br/&gt;
	at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:208)&lt;br/&gt;
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1419)&lt;br/&gt;
	at com.apple.cie.search.plugin.auth.TrustFilter.doFilter(TrustFilter.java:43)&lt;br/&gt;
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1419)&lt;br/&gt;
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:455)&lt;br/&gt;
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:137)&lt;br/&gt;
	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:557)&lt;br/&gt;
	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:231)&lt;br/&gt;
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1075)&lt;br/&gt;
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:384)&lt;br/&gt;
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:193)&lt;br/&gt;
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1009)&lt;br/&gt;
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:135)&lt;br/&gt;
	at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:255)&lt;br/&gt;
	at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:154)&lt;br/&gt;
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:116)&lt;br/&gt;
	at org.eclipse.jetty.server.Server.handle(Server.java:368)&lt;br/&gt;
	at org.eclipse.jetty.server.AbstractHttpConnection.handleRequest(AbstractHttpConnection.java:489)&lt;br/&gt;
	at org.eclipse.jetty.server.BlockingHttpConnection.handleRequest(BlockingHttpConnection.java:53)&lt;br/&gt;
	at org.eclipse.jetty.server.AbstractHttpConnection.content(AbstractHttpConnection.java:953)&lt;br/&gt;
	at org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.content(AbstractHttpConnection.java:1014)&lt;br/&gt;
	at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:953)&lt;br/&gt;
	at org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:240)&lt;br/&gt;
	at org.eclipse.jetty.server.BlockingHttpConnection.handle(BlockingHttpConnection.java:72)&lt;br/&gt;
	at org.eclipse.jetty.server.bio.SocketConnector$ConnectorEndPoint.run(SocketConnector.java:264)&lt;br/&gt;
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:608)&lt;br/&gt;
	at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:543)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:745)&lt;/p&gt;

&lt;p&gt;I wonder if we shouldn&apos;t just add a null check to FieldValueMutatingUpdateProcessor.mutate for null field value instead of making the codec skip serializing/deserializing nulls.&lt;/p&gt;</comment>
                            <comment id="14244055" author="jira-bot" created="Fri, 12 Dec 2014 12:33:29 +0000"  >&lt;p&gt;Commit 1644865 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=noble.paul&quot; class=&quot;user-hover&quot; rel=&quot;noble.paul&quot;&gt;noble.paul&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1644865&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1644865&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6626&quot; title=&quot;NPE in FieldMutatingUpdateProcessor when indexing a doc with null field value&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6626&quot;&gt;&lt;del&gt;SOLR-6626&lt;/del&gt;&lt;/a&gt; NPE in FieldMutatingUpdateProcessor when indexing a doc with&lt;/p&gt;</comment>
                            <comment id="14244057" author="jira-bot" created="Fri, 12 Dec 2014 12:35:42 +0000"  >&lt;p&gt;Commit 1644866 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=noble.paul&quot; class=&quot;user-hover&quot; rel=&quot;noble.paul&quot;&gt;noble.paul&lt;/a&gt; in branch &apos;dev/branches/branch_5x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1644866&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1644866&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6626&quot; title=&quot;NPE in FieldMutatingUpdateProcessor when indexing a doc with null field value&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6626&quot;&gt;&lt;del&gt;SOLR-6626&lt;/del&gt;&lt;/a&gt; NPE in FieldMutatingUpdateProcessor when indexing a doc with null field value&lt;/p&gt;</comment>
                            <comment id="14244683" author="mewmewball" created="Fri, 12 Dec 2014 19:47:46 +0000"  >&lt;p&gt;A similar NPE is happening in AllValuesOrNoneFieldMutatingUpdateProcessor. Should I open a new Jira for that?&lt;/p&gt;</comment>
                            <comment id="14251287" author="jira-bot" created="Thu, 18 Dec 2014 06:34:36 +0000"  >&lt;p&gt;Commit 1646388 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=noble.paul&quot; class=&quot;user-hover&quot; rel=&quot;noble.paul&quot;&gt;noble.paul&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1646388&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1646388&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6626&quot; title=&quot;NPE in FieldMutatingUpdateProcessor when indexing a doc with null field value&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6626&quot;&gt;&lt;del&gt;SOLR-6626&lt;/del&gt;&lt;/a&gt; NPE when the filed values are null&lt;/p&gt;</comment>
                            <comment id="14251291" author="jira-bot" created="Thu, 18 Dec 2014 06:37:13 +0000"  >&lt;p&gt;Commit 1646389 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=noble.paul&quot; class=&quot;user-hover&quot; rel=&quot;noble.paul&quot;&gt;noble.paul&lt;/a&gt; in branch &apos;dev/branches/branch_5x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1646389&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1646389&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6626&quot; title=&quot;NPE in FieldMutatingUpdateProcessor when indexing a doc with null field value&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6626&quot;&gt;&lt;del&gt;SOLR-6626&lt;/del&gt;&lt;/a&gt; NPE when the field values are null&lt;/p&gt;</comment>
                            <comment id="14332939" author="anshumg" created="Mon, 23 Feb 2015 05:02:43 +0000"  >&lt;p&gt;Bulk close after 5.0 release.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 39 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i216kf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>