<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:37:03 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-13285] ByteArrayUtf8CharSequence cannot be cast to java.lang.String exception during replication</title>
                <link>https://issues.apache.org/jira/browse/SOLR-13285</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;Since upgrading to 7.7 (also tried 7.7.1, and 8.1.0) from 6.6.4, we&apos;re seeing the following errors in the SolrCloud elected master for a given collection when updates are written.  This was after a full reindex of data (fresh build).&lt;/p&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
request: http:&lt;span class=&quot;code-comment&quot;&gt;//solr-1.search-solr.preprod.k8.atcloud.io:80/solr/at-uk_shard1_replica_n2/update?update.distrib=FROMLEADER&amp;amp;distrib.from=http%3A%2F%2Fsolr-2.search-solr.preprod.k8.atcloud.io%3A80%2Fsolr%2Fat-uk_shard1_replica_n1%2F&amp;amp;wt=javabin&amp;amp;version=2
&lt;/span&gt;Remote error message: org.apache.solr.common.util.ByteArrayUtf8CharSequence cannot be &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt; to java.lang.&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;
    at org.apache.solr.client.solrj.impl.ConcurrentUpdateSolrClient$Runner.sendUpdateStream(ConcurrentUpdateSolrClient.java:385) ~[solr-solrj-7.7.1.jar:7.7.1 5bf96d32f88eb8a2f5e775339885cd6ba84a3b58 - ishan - 2019-02-23 02:39:09]
    at org.apache.solr.client.solrj.impl.ConcurrentUpdateSolrClient$Runner.run(ConcurrentUpdateSolrClient.java:183) ~[solr-solrj-7.7.1.jar:7.7.1 5bf96d32f88eb8a2f5e775339885cd6ba84a3b58 - ishan - 2019-02-23 02:39:09]
    at com.codahale.metrics.InstrumentedExecutorService$InstrumentedRunnable.run(InstrumentedExecutorService.java:176) ~[metrics-core-3.2.6.jar:3.2.6]
    at org.apache.solr.common.util.ExecutorUtil$MDCAwareThreadPoolExecutor.lambda$execute$0(ExecutorUtil.java:209) ~[solr-solrj-7.7.1.jar:7.7.1 5bf96d32f88eb8a2f5e775339885cd6ba84a3b58 - ishan - 2019-02-23 02:39:09]
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_191]
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_191]
    at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:748) [?:1.8.0_191]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;Following this through to the replica, you&apos;ll see:&lt;/p&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
08:35:22.060 [qtp1540374340-20] ERROR org.apache.solr.servlet.HttpSolrCall - &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;:java.lang.ClassCastException: org.apache.solr.common.util.ByteArrayUtf8CharSequence cannot be &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt; to java.lang.&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;
    at org.apache.solr.common.util.JavaBinCodec.readEnumFieldValue(JavaBinCodec.java:813)
    at org.apache.solr.common.util.JavaBinCodec.readObject(JavaBinCodec.java:339)
    at org.apache.solr.common.util.JavaBinCodec.readVal(JavaBinCodec.java:278)
    at org.apache.solr.common.util.JavaBinCodec.readSolrInputDocument(JavaBinCodec.java:640)
    at org.apache.solr.common.util.JavaBinCodec.readObject(JavaBinCodec.java:337)
    at org.apache.solr.common.util.JavaBinCodec.readVal(JavaBinCodec.java:278)
    at org.apache.solr.common.util.JavaBinCodec.readMapEntry(JavaBinCodec.java:819)
    at org.apache.solr.common.util.JavaBinCodec.readObject(JavaBinCodec.java:341)
    at org.apache.solr.common.util.JavaBinCodec.readVal(JavaBinCodec.java:278)
    at org.apache.solr.client.solrj.request.JavaBinUpdateRequestCodec$StreamingCodec.readOuterMostDocIterator(JavaBinUpdateRequestCodec.java:295)
    at org.apache.solr.client.solrj.request.JavaBinUpdateRequestCodec$StreamingCodec.readIterator(JavaBinUpdateRequestCodec.java:280)
    at org.apache.solr.common.util.JavaBinCodec.readObject(JavaBinCodec.java:333)
    at org.apache.solr.common.util.JavaBinCodec.readVal(JavaBinCodec.java:278)
    at org.apache.solr.client.solrj.request.JavaBinUpdateRequestCodec$StreamingCodec.readNamedList(JavaBinUpdateRequestCodec.java:235)
    at org.apache.solr.common.util.JavaBinCodec.readObject(JavaBinCodec.java:298)
    at org.apache.solr.common.util.JavaBinCodec.readVal(JavaBinCodec.java:278)
    at org.apache.solr.common.util.JavaBinCodec.unmarshal(JavaBinCodec.java:191)
    at org.apache.solr.client.solrj.request.JavaBinUpdateRequestCodec.unmarshal(JavaBinUpdateRequestCodec.java:126)
    at org.apache.solr.handler.loader.JavabinLoader.parseAndLoadDocs(JavabinLoader.java:123)
    at org.apache.solr.handler.loader.JavabinLoader.load(JavabinLoader.java:70)
    at org.apache.solr.handler.UpdateRequestHandler$1.load(UpdateRequestHandler.java:97)
    at org.apache.solr.handler.ContentStreamHandlerBase.handleRequestBody(ContentStreamHandlerBase.java:68)
    at org.apache.solr.handler.RequestHandlerBase.handleRequest(RequestHandlerBase.java:199)
    at org.apache.solr.core.SolrCore.execute(SolrCore.java:2551)
    at org.apache.solr.servlet.HttpSolrCall.execute(HttpSolrCall.java:710)
    at org.apache.solr.servlet.HttpSolrCall.call(HttpSolrCall.java:516)
    at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:395)
    at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:341)
    at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1602)
    at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:540)
    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:146)
    at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:548)
    at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)
    at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:257)
    at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1588)
    at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:255)
    at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1345)
    at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:203)
    at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:480)
    at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1557)
    at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:201)
    at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1247)
    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:144)
    at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:220)
    at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:126)
    at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)
    at org.eclipse.jetty.rewrite.handler.RewriteHandler.handle(RewriteHandler.java:335)
    at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)
    at org.eclipse.jetty.server.Server.handle(Server.java:502)
    at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:364)
    at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:260)
    at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:305)
    at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:103)
    at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:118)
    at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:333)
    at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:310)
    at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:168)
    at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:126)
    at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:366)
    at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:765)
    at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:683)
    at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:748)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;I noticed there some similar issues raised in 7x (&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13255&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SOLR-13255&lt;/a&gt;), so I don&apos;t know if this is the same sort of thing?&lt;/p&gt;

&lt;p&gt;I&apos;ve tried solr-users mailing list, and stackoverflow but to no avail. Please let me know if there is any other information I can provide.&lt;/p&gt;</description>
                <environment>&lt;p&gt;centos 7&lt;br/&gt;
solrcloud 7.7.1, 8.1.0&lt;/p&gt;</environment>
        <key id="13218954">SOLR-13285</key>
            <summary>ByteArrayUtf8CharSequence cannot be cast to java.lang.String exception during replication</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="noble.paul">Noble Paul</assignee>
                                    <reporter username="kstoney">Karl Stoney</reporter>
                        <labels>
                            <label>newbie</label>
                            <label>replication</label>
                    </labels>
                <created>Fri, 1 Mar 2019 18:04:38 +0000</created>
                <updated>Wed, 12 Jun 2019 15:54:13 +0000</updated>
                            <resolved>Mon, 22 Apr 2019 08:41:00 +0000</resolved>
                                    <version>7.7</version>
                    <version>7.7.1</version>
                    <version>8.0</version>
                                    <fixVersion>7.7.2</fixVersion>
                    <fixVersion>8.1</fixVersion>
                                    <component>replication (java)</component>
                    <component>SolrCloud</component>
                    <component>SolrJ</component>
                        <due></due>
                            <votes>3</votes>
                                    <watches>14</watches>
                                                                                                                <comments>
                            <comment id="16781956" author="kstoney" created="Fri, 1 Mar 2019 18:23:33 +0000"  >&lt;p&gt;A recent development to this is that we did a rolling upgrade from 7.7.1 to 8.1.0, and the issues still presented.  I decided to totally reindex the data on 8.1.0 and we haven&apos;t seen the error since, so it&apos;s something to do with the data was being index on 7.x.&lt;/p&gt;

&lt;p&gt;I&apos;ll continue to run load over the weekend and see what manifests.&lt;/p&gt;</comment>
                            <comment id="16781965" author="erickerickson" created="Fri, 1 Mar 2019 18:43:51 +0000"  >&lt;p&gt;Minor nit. 8.1? Just so I&apos;m clear are you compiling 8x and calling it 8.1?&lt;/p&gt;

&lt;p&gt;I don&apos;t think this is relevant to the issue, and thanks for chasing this down and updating the JIRA, mostly I just want to be sure that someone else trying to reproduce is following the same steps...&lt;/p&gt;

&lt;p&gt;Thanks again!&lt;/p&gt;</comment>
                            <comment id="16781976" author="kstoney" created="Fri, 1 Mar 2019 18:51:29 +0000"  >&lt;p&gt;Hello!&lt;br/&gt;
The 8.x build I used was: &lt;a href=&quot;https://builds.apache.org/job/Solr-Artifacts-8.x/lastBuild/artifact/solr/package/solr-8.1.0-35.tgz&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Solr-Artifacts-8.x/lastBuild/artifact/solr/package/solr-8.1.0-35.tgz&lt;/a&gt; and it comes up at 8.1 in the GUI.&lt;/p&gt;

&lt;p&gt;Let me know if there is anything else you need.&lt;br/&gt;
Karl&lt;/p&gt;</comment>
                            <comment id="16782022" author="noble.paul" created="Fri, 1 Mar 2019 19:59:30 +0000"  >&lt;p&gt;Yes, enum types are not handled properly. &lt;/p&gt;
</comment>
                            <comment id="16782226" author="erickerickson" created="Sat, 2 Mar 2019 00:36:36 +0000"  >&lt;p&gt;thanks Karl, that&apos;s totally clear.&lt;/p&gt;</comment>
                            <comment id="16782372" author="kstoney" created="Sat, 2 Mar 2019 13:14:26 +0000"  >&lt;p&gt;Hi guys, &lt;br/&gt;
Unfortunately the issue does still persist in 8.1.0:&lt;/p&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
01:37:14.171 [qtp568221876-3618] ERROR org.apache.solr.handler.RequestHandlerBase - java.lang.ClassCastException: org.apache.solr.common.util.ByteArrayUtf8CharSequence cannot be &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt; to java.lang.&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;
        at org.apache.solr.common.util.JavaBinCodec.readEnumFieldValue(JavaBinCodec.java:821)
        at org.apache.solr.common.util.JavaBinCodec.readObject(JavaBinCodec.java:339)
        at org.apache.solr.common.util.JavaBinCodec.readVal(JavaBinCodec.java:278)
        at org.apache.solr.common.util.JavaBinCodec.readSolrInputDocument(JavaBinCodec.java:640)
        at org.apache.solr.common.util.JavaBinCodec.readObject(JavaBinCodec.java:337)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;When this happens, the replicas seem to enter a recovering state for a short period, and then come back, so it&apos;s really quite disruptive!  Our replicas have gone into a recovering state 77 times in the last 14 hours.&lt;/p&gt;

&lt;p&gt;I&apos;m more than happy trying out a nightly in our environment if you can resolve this?&lt;/p&gt;</comment>
                            <comment id="16782668" author="kstoney" created="Sun, 3 Mar 2019 10:59:22 +0000"  >&lt;p&gt;I&apos;ve built from the branch_8x branch applying your patch and rolled that out to our test environments, will report back any issues.  The patch wasn&apos;t compatible with the branch_7x&lt;/p&gt;</comment>
                            <comment id="16782800" author="kstoney" created="Sun, 3 Mar 2019 18:10:36 +0000"  >&lt;p&gt;OK i can confirm the patch works on branch_8x @ commit 677a97edc7ba07a35f644792c98fa5ebf5667bb5 - thanks!&lt;/p&gt;

&lt;p&gt;What&apos;s the process for getting it merged in and part of the nightly builds so i&apos;m not maintaining my fork?  &lt;/p&gt;</comment>
                            <comment id="16782898" author="jira-bot" created="Sun, 3 Mar 2019 23:26:41 +0000"  >&lt;p&gt;Commit b14748e61fd147ea572f6545265b883fa69ed27f in lucene-solr&apos;s branch refs/heads/branch_8x from Noble Paul&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=b14748e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=b14748e&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13285&quot; title=&quot;ByteArrayUtf8CharSequence cannot be cast to java.lang.String exception during replication&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13285&quot;&gt;&lt;del&gt;SOLR-13285&lt;/del&gt;&lt;/a&gt;: Updates with enum fields and javabin cause ClassCastException&lt;/p&gt;</comment>
                            <comment id="16782899" author="noble.paul" created="Sun, 3 Mar 2019 23:27:06 +0000"  >&lt;p&gt;It&apos;s pushed to master &amp;amp; branch_8x &lt;/p&gt;</comment>
                            <comment id="16783191" author="kstoney" created="Mon, 4 Mar 2019 10:00:00 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=noble.paul&quot; class=&quot;user-hover&quot; rel=&quot;noble.paul&quot;&gt;noble.paul&lt;/a&gt; - is there any intention to back port this fix to 7x?&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16783426" author="risdenk" created="Mon, 4 Mar 2019 14:41:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=noble.paul&quot; class=&quot;user-hover&quot; rel=&quot;noble.paul&quot;&gt;noble.paul&lt;/a&gt; - Did this commit make it into master branch? I don&apos;t see it as part of the commits on master and there is no entry in Jira for it.&lt;/p&gt;</comment>
                            <comment id="16783683" author="kstoney" created="Mon, 4 Mar 2019 19:11:18 +0000"  >&lt;p&gt; &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12961036/12961036_SOLR-13285.patch&quot; title=&quot;SOLR-13285.patch attached to SOLR-13285&quot;&gt;SOLR-13285.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; For what it&apos;s worth here is a patch for the 7x branch&lt;/p&gt;</comment>
                            <comment id="16783685" author="jira-bot" created="Mon, 4 Mar 2019 19:12:12 +0000"  >&lt;p&gt;Commit 7771d7bb844fdc7a3e6132a3d5b141c379a811e4 in lucene-solr&apos;s branch refs/heads/master from Noble Paul&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=7771d7b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=7771d7b&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13285&quot; title=&quot;ByteArrayUtf8CharSequence cannot be cast to java.lang.String exception during replication&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13285&quot;&gt;&lt;del&gt;SOLR-13285&lt;/del&gt;&lt;/a&gt;: Updates with enum fields and javabin cause ClassCastException&lt;/p&gt;</comment>
                            <comment id="16786775" author="thomas.woeckinger" created="Thu, 7 Mar 2019 13:40:18 +0000"  >&lt;p&gt;Does also happen when using solrj with standalone server.&lt;/p&gt;

&lt;p&gt;Using a EnumFiledValue and a coresponding enumConfig&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;&amp;lt;enumsConfig&amp;gt;&amp;lt;enum name=&quot;com.test.model.AddressStatus&quot;&amp;gt;&amp;lt;value&amp;gt;NATIONAL&amp;lt;/value&amp;gt;&amp;lt;value&amp;gt;INTERNATIONAL&amp;lt;/value&amp;gt;&amp;lt;/enum&amp;gt;&amp;lt;/enumsConfig&amp;gt;&lt;/tt&gt;&lt;/p&gt;</comment>
                            <comment id="16787715" author="jira-bot" created="Fri, 8 Mar 2019 09:33:28 +0000"  >&lt;p&gt;Commit 2ae4746365c1ee72a0047ced7610b2096e438979 in lucene-solr&apos;s branch refs/heads/branch_8_0 from Noble Paul&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=2ae4746&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=2ae4746&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13285&quot; title=&quot;ByteArrayUtf8CharSequence cannot be cast to java.lang.String exception during replication&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13285&quot;&gt;&lt;del&gt;SOLR-13285&lt;/del&gt;&lt;/a&gt;: Updates with enum fields and javabin cause ClassCastException&lt;/p&gt;</comment>
                            <comment id="16789371" author="thomas.woeckinger" created="Mon, 11 Mar 2019 10:13:26 +0000"  >&lt;p&gt;Is it planed to backport to 7.x, because at the moment it is not possible to work with enums!&lt;/p&gt;</comment>
                            <comment id="16789380" author="kstoney" created="Mon, 11 Mar 2019 10:29:40 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thomas.woeckinger&quot; class=&quot;user-hover&quot; rel=&quot;thomas.woeckinger&quot;&gt;thomas.woeckinger&lt;/a&gt; I would hope they will, in the interim however if you see my comment above I&apos;ve attached a patch that you can build the 7.x branch with and do `git apply -v --index`&lt;/p&gt;</comment>
                            <comment id="16789774" author="tomasflobbe" created="Mon, 11 Mar 2019 17:10:49 +0000"  >&lt;p&gt;+1, lets backport this to 7_7 soon&lt;/p&gt;</comment>
                            <comment id="16808923" author="jbnas" created="Wed, 3 Apr 2019 16:57:56 +0000"  >&lt;p&gt;I&apos;m also seeing similar error doing Atomic Updates&#160;using removeregex&lt;/p&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2019-04-03 16:51:07.565 ERROR (qtp343856911-37962) [c:mycollection s:shard2 r:core_node4 x:mycollection_shard2_replica_n2] o.a.s.s.HttpSolrCall &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;:java.lang.ClassCastException: org.apache.solr.common.util.ByteArrayUtf8CharSequence cannot be &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt; to java.lang.&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;
 at org.apache.solr.update.processor.AtomicUpdateDocumentMerger.preparePatterns(AtomicUpdateDocumentMerger.java:437)
 at org.apache.solr.update.processor.AtomicUpdateDocumentMerger.doRemoveRegex(AtomicUpdateDocumentMerger.java:419)
 at org.apache.solr.update.processor.AtomicUpdateDocumentMerger.merge(AtomicUpdateDocumentMerger.java:116)
 at org.apache.solr.update.processor.DistributedUpdateProcessor.getUpdatedDocument(DistributedUpdateProcessor.java:1422)
 at org.apache.solr.update.processor.DistributedUpdateProcessor.versionAdd(DistributedUpdateProcessor.java:1106)
 at org.apache.solr.update.processor.DistributedUpdateProcessor.processAdd(DistributedUpdateProcessor.java:693)
 at org.apache.solr.update.processor.UpdateRequestProcessor.processAdd(UpdateRequestProcessor.java:55)
 at org.apache.solr.update.processor.DocExpirationUpdateProcessorFactory$TTLUpdateProcessor.processAdd(DocExpirationUpdateProcessorFactory.java:346)
 at org.apache.solr.update.processor.UpdateRequestProcessor.processAdd(UpdateRequestProcessor.java:55)
 at org.apache.solr.update.processor.AbstractDefaultValueUpdateProcessorFactory$DefaultValueUpdateProcessor.processAdd(AbstractDefaultValueUpdateProcessorFactory.java:92)
 at org.apache.solr.handler.loader.JavabinLoader$1.update(JavabinLoader.java:110)
 at org.apache.solr.client.solrj.request.JavaBinUpdateRequestCodec$StreamingCodec.readOuterMostDocIterator(JavaBinUpdateRequestCodec.java:327)
 at org.apache.solr.client.solrj.request.JavaBinUpdateRequestCodec$StreamingCodec.readIterator(JavaBinUpdateRequestCodec.java:280)
 at org.apache.solr.common.util.JavaBinCodec.readObject(JavaBinCodec.java:333)
 at org.apache.solr.common.util.JavaBinCodec.readVal(JavaBinCodec.java:278)
 at org.apache.solr.client.solrj.request.JavaBinUpdateRequestCodec$StreamingCodec.readNamedList(JavaBinUpdateRequestCodec.java:235)
 at org.apache.solr.common.util.JavaBinCodec.readObject(JavaBinCodec.java:298)
 at org.apache.solr.common.util.JavaBinCodec.readVal(JavaBinCodec.java:278)
 at org.apache.solr.common.util.JavaBinCodec.unmarshal(JavaBinCodec.java:191)
 at org.apache.solr.client.solrj.request.JavaBinUpdateRequestCodec.unmarshal(JavaBinUpdateRequestCodec.java:126)
 at org.apache.solr.handler.loader.JavabinLoader.parseAndLoadDocs(JavabinLoader.java:123)
 at org.apache.solr.handler.loader.JavabinLoader.load(JavabinLoader.java:70)
 at org.apache.solr.handler.UpdateRequestHandler$1.load(UpdateRequestHandler.java:97)
 at org.apache.solr.handler.ContentStreamHandlerBase.handleRequestBody(ContentStreamHandlerBase.java:68)
 at org.apache.solr.handler.RequestHandlerBase.handleRequest(RequestHandlerBase.java:199)
 at org.apache.solr.core.SolrCore.execute(SolrCore.java:2551)
 at org.apache.solr.servlet.HttpSolrCall.execute(HttpSolrCall.java:710)
 at org.apache.solr.servlet.HttpSolrCall.call(HttpSolrCall.java:516)
 at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:395)
 at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:341)
 at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1602)
 at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:540)
 at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:146)
 at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:548)
 at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)
 at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:257)
 at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1588)
 at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:255)
 at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1345)
 at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:203)
 at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:480)
 at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1557)
 at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:201)
 at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1247)
 at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:144)
 at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:220)
 at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:126)
 at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)
 at org.eclipse.jetty.rewrite.handler.RewriteHandler.handle(RewriteHandler.java:335)
 at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)
 at org.eclipse.jetty.server.Server.handle(Server.java:502)
 at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:364)
 at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:260)
 at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:305)
 at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:103)
 at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:118)
 at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:333)
 at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:310)
 at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:168)
 at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:126)
 at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:366)
 at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:765)
 at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:683)
 at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:748)
&#160;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16811747" author="lyle_wang" created="Sun, 7 Apr 2019 04:05:15 +0000"  >&lt;p&gt;Using 7.7.1 , Same issue here&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;:java.lang.ClassCastException: org.apache.solr.common.util.ByteArrayUtf8CharSequence (loaded by org.eclipse.jetty.webapp.WebAppClassLoader@0x00000007f024d3c8) cannot be &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt; to java.lang.&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;
at org.apache.solr.schema.TrieDateField.toNativeType(TrieDateField.java:100)
at org.apache.solr.update.processor.AtomicUpdateDocumentMerger.doSet(AtomicUpdateDocumentMerger.java:319)
at org.apache.solr.update.processor.AtomicUpdateDocumentMerger.merge(AtomicUpdateDocumentMerger.java:108)
at org.apache.solr.update.processor.DistributedUpdateProcessor.getUpdatedDocument(DistributedUpdateProcessor.java:1422)
at org.apache.solr.update.processor.DistributedUpdateProcessor.versionAdd(DistributedUpdateProcessor.java:1106)
at org.apache.solr.update.processor.DistributedUpdateProcessor.processAdd(DistributedUpdateProcessor.java:693)
at org.apache.solr.update.processor.LogUpdateProcessorFactory$LogUpdateProcessor.processAdd(LogUpdateProcessorFactory.java:103)
at org.apache.solr.handler.loader.JavabinLoader$1.update(JavabinLoader.java:110)
at org.apache.solr.client.solrj.request.JavaBinUpdateRequestCodec$StreamingCodec.readOuterMostDocIterator(JavaBinUpdateRequestCodec.java:327)
at org.apache.solr.client.solrj.request.JavaBinUpdateRequestCodec$StreamingCodec.readIterator(JavaBinUpdateRequestCodec.java:280)
at org.apache.solr.common.util.JavaBinCodec.readObject(JavaBinCodec.java:333)
at org.apache.solr.common.util.JavaBinCodec.readVal(JavaBinCodec.java:278)
at org.apache.solr.client.solrj.request.JavaBinUpdateRequestCodec$StreamingCodec.readNamedList(JavaBinUpdateRequestCodec.java:235)
at org.apache.solr.common.util.JavaBinCodec.readObject(JavaBinCodec.java:298)
at org.apache.solr.common.util.JavaBinCodec.readVal(JavaBinCodec.java:278)
at org.apache.solr.common.util.JavaBinCodec.unmarshal(JavaBinCodec.java:191)
at org.apache.solr.client.solrj.request.JavaBinUpdateRequestCodec.unmarshal(JavaBinUpdateRequestCodec.java:126)
at org.apache.solr.handler.loader.JavabinLoader.parseAndLoadDocs(JavabinLoader.java:123)
at org.apache.solr.handler.loader.JavabinLoader.load(JavabinLoader.java:70)
at org.apache.solr.handler.UpdateRequestHandler$1.load(UpdateRequestHandler.java:97)
at org.apache.solr.handler.ContentStreamHandlerBase.handleRequestBody(ContentStreamHandlerBase.java:68)
at org.apache.solr.handler.RequestHandlerBase.handleRequest(RequestHandlerBase.java:199)
at org.apache.solr.core.SolrCore.execute(SolrCore.java:2551)
at org.apache.solr.servlet.HttpSolrCall.execute(HttpSolrCall.java:710)
at org.apache.solr.servlet.HttpSolrCall.call(HttpSolrCall.java:516)
at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:395)
at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:341)
at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1610)
at com.successfactors.solr.ui.filter.SFSolrStatisticsFilter.doFilter(SFSolrStatisticsFilter.java:45)
at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1602)
at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:540)
at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:146)
at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:548)
at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)
at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:257)
at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1588)
at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:255)
at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1345)
at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:203)
at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:480)
at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1557)
at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:201)
at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1247)
at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:144)
at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:220)
at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:126)
at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)
at org.eclipse.jetty.rewrite.handler.RewriteHandler.handle(RewriteHandler.java:335)
at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)
at org.eclipse.jetty.server.Server.handle(Server.java:502)
at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:364)
at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:260)
at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:305)
at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:103)
at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:118)
at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:333)
at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:310)
at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:168)
at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:126)
at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:366)
at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:765)
at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:683)
at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:836)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16814463" author="gerlowskija" created="Wed, 10 Apr 2019 13:54:00 +0000"  >&lt;p&gt;The Atomic-update &quot;remove&quot; and &quot;regexremove&quot; instances of this problem are tracked on &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13331&quot; title=&quot;Atomic Update Multivalue remove does not work&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13331&quot;&gt;&lt;del&gt;SOLR-13331&lt;/del&gt;&lt;/a&gt;, which was just resolved recently.  &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lyle_wang&quot; class=&quot;user-hover&quot; rel=&quot;lyle_wang&quot;&gt;lyle_wang&lt;/a&gt; or &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jbnas&quot; class=&quot;user-hover&quot; rel=&quot;jbnas&quot;&gt;jbnas&lt;/a&gt;, your issues should be fixed starting in 8.1.  (If you want to double check me on this, please use a nightly build of Solr of build from source on the &lt;tt&gt;master&lt;/tt&gt; or &lt;tt&gt;branch_8x&lt;/tt&gt; branches and let me know if you still run into the issue over on &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13331&quot; title=&quot;Atomic Update Multivalue remove does not work&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13331&quot;&gt;&lt;del&gt;SOLR-13331&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="16816348" author="kstoney" created="Fri, 12 Apr 2019 15:17:02 +0000"  >&lt;p&gt;Is there any plan to back port this to solr `7.7.2`?  The fact we&apos;re having to build solr 7 from a branch just to monkeypatch this is kinda frustrating as 7x is LTS?&lt;/p&gt;

&lt;p&gt;I&apos;ve even provided the patch for 7x above which fixes it, I just need someone to actually apply it.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=noble.paul&quot; class=&quot;user-hover&quot; rel=&quot;noble.paul&quot;&gt;noble.paul&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gerlowskija&quot; class=&quot;user-hover&quot; rel=&quot;gerlowskija&quot;&gt;gerlowskija&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="16816508" author="gerlowskija" created="Fri, 12 Apr 2019 17:29:11 +0000"  >&lt;p&gt;Yeah, I&apos;ll try to take a look at it this weekend.  I need to backport &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13331&quot; title=&quot;Atomic Update Multivalue remove does not work&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13331&quot;&gt;&lt;del&gt;SOLR-13331&lt;/del&gt;&lt;/a&gt; anyways.&lt;/p&gt;</comment>
                            <comment id="16816510" author="kstoney" created="Fri, 12 Apr 2019 17:36:28 +0000"  >&lt;p&gt;Brill, thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gerlowskija&quot; class=&quot;user-hover&quot; rel=&quot;gerlowskija&quot;&gt;gerlowskija&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16816717" author="noble.paul" created="Fri, 12 Apr 2019 22:38:59 +0000"  >&lt;p&gt;I&apos;ll port it&lt;/p&gt;</comment>
                            <comment id="16816822" author="jira-bot" created="Sat, 13 Apr 2019 03:44:43 +0000"  >&lt;p&gt;Commit 08cc899096e4587bb574c4c96f416f2b8f2f2eb7 in lucene-solr&apos;s branch refs/heads/branch_7_7 from Noble Paul&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=08cc899&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=08cc899&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13285&quot; title=&quot;ByteArrayUtf8CharSequence cannot be cast to java.lang.String exception during replication&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13285&quot;&gt;&lt;del&gt;SOLR-13285&lt;/del&gt;&lt;/a&gt;: Updates with enum fields and javabin cause ClassCastException&lt;/p&gt;</comment>
                            <comment id="16817619" author="kstoney" created="Mon, 15 Apr 2019 07:34:10 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=noble.paul&quot; class=&quot;user-hover&quot; rel=&quot;noble.paul&quot;&gt;noble.paul&lt;/a&gt; - does it need to be in 7x too as I&apos;m guessing that forms 7.8.0?&lt;/p&gt;</comment>
                            <comment id="16817623" author="janhoy" created="Mon, 15 Apr 2019 07:47:34 +0000"  >&lt;p&gt;There will be no 7.8 release since feature releases are now on 8.x only. Thus I think the fix is now merged to all relevant branches: master, branch_8x and branch_7_7 and the Jira can be resolved.&lt;/p&gt;</comment>
                            <comment id="16817624" author="kstoney" created="Mon, 15 Apr 2019 07:49:03 +0000"  >&lt;p&gt;Makes sense, thank you &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;/p&gt;</comment>
                            <comment id="16857071" author="janhoy" created="Wed, 5 Jun 2019 21:30:50 +0000"  >&lt;p&gt;Closing after the 7.7.2 release&lt;/p&gt;</comment>
                            <comment id="16859527" author="dawinter" created="Sun, 9 Jun 2019 18:52:26 +0000"  >&lt;p&gt;We use&#160;solr 7.7.2 and the client lib&#160;solr-solrj-7.7.2 and we still get&#160;&lt;b&gt;org.apache.solr.common.util.ByteArrayUtf8CharSequence cannot be cast to java.lang.String&lt;/b&gt;.&lt;/p&gt;

&lt;p&gt;Is there any trick to solve it?&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Error from server at http:&lt;span class=&quot;code-comment&quot;&gt;//xxx.xxx.xxx.xxx:8983/solr/test-tenant.indexing_005Ftest_005Fcollection-1560104334209_shard1_replica_n1: org.apache.solr.common.util.ByteArrayUtf8CharSequence cannot be &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt; to java.lang.&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; org.apache.solr.client.solrj.impl.CloudSolrClient$RouteException: Error from server at http://xxx.xxx.xxx.xxx:8983/solr/test-tenant.indexing_005Ftest_005Fcollection-1560104334209_shard1_replica_n1: org.apache.solr.common.util.ByteArrayUtf8CharSequence cannot be &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt; to java.lang.&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;
&lt;/span&gt;at org.apache.solr.client.solrj.impl.CloudSolrClient.directUpdate(CloudSolrClient.java:551) ~[solr-solrj-7.7.2.jar:7.7.2 d4c30fc2856154f2c1fefc589eb7cd070a415b94 - janhoy - 2019-05-28 23:37:52]
at org.apache.solr.client.solrj.impl.CloudSolrClient.sendRequest(CloudSolrClient.java:1019) ~[solr-solrj-7.7.2.jar:7.7.2 d4c30fc2856154f2c1fefc589eb7cd070a415b94 - janhoy - 2019-05-28 23:37:52]
at org.apache.solr.client.solrj.impl.CloudSolrClient.requestWithRetryOnStaleState(CloudSolrClient.java:884) ~[solr-solrj-7.7.2.jar:7.7.2 d4c30fc2856154f2c1fefc589eb7cd070a415b94 - janhoy - 2019-05-28 23:37:52]
at org.apache.solr.client.solrj.impl.CloudSolrClient.request(CloudSolrClient.java:817) ~[solr-solrj-7.7.2.jar:7.7.2 d4c30fc2856154f2c1fefc589eb7cd070a415b94 - janhoy - 2019-05-28 23:37:52]
at org.apache.solr.client.solrj.SolrRequest.process(SolrRequest.java:194) ~[solr-solrj-7.7.2.jar:7.7.2 d4c30fc2856154f2c1fefc589eb7cd070a415b94 - janhoy - 2019-05-28 23:37:52]
at org.apache.solr.client.solrj.SolrClient.add(SolrClient.java:106) ~[solr-solrj-7.7.2.jar:7.7.2 d4c30fc2856154f2c1fefc589eb7cd070a415b94 - janhoy - 2019-05-28 23:37:52]
...
Caused by: org.apache.solr.client.solrj.impl.HttpSolrClient$RemoteSolrException: Error from server at http:&lt;span class=&quot;code-comment&quot;&gt;//xxx.xxx.xxx.xxx:8983/solr/test-tenant.indexing_005Ftest_005Fcollection-1560104334209_shard1_replica_n1: org.apache.solr.common.util.ByteArrayUtf8CharSequence cannot be &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt; to java.lang.&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;
&lt;/span&gt;at org.apache.solr.client.solrj.impl.HttpSolrClient.executeMethod(HttpSolrClient.java:643) ~[solr-solrj-7.7.2.jar:7.7.2 d4c30fc2856154f2c1fefc589eb7cd070a415b94 - janhoy - 2019-05-28 23:37:52]
at org.apache.solr.client.solrj.impl.HttpSolrClient.request(HttpSolrClient.java:255) ~[solr-solrj-7.7.2.jar:7.7.2 d4c30fc2856154f2c1fefc589eb7cd070a415b94 - janhoy - 2019-05-28 23:37:52]
at org.apache.solr.client.solrj.impl.HttpSolrClient.request(HttpSolrClient.java:244) ~[solr-solrj-7.7.2.jar:7.7.2 d4c30fc2856154f2c1fefc589eb7cd070a415b94 - janhoy - 2019-05-28 23:37:52]
at org.apache.solr.client.solrj.impl.LBHttpSolrClient.doRequest(LBHttpSolrClient.java:484) ~[solr-solrj-7.7.2.jar:7.7.2 d4c30fc2856154f2c1fefc589eb7cd070a415b94 - janhoy - 2019-05-28 23:37:52]
at org.apache.solr.client.solrj.impl.LBHttpSolrClient.request(LBHttpSolrClient.java:414) ~[solr-solrj-7.7.2.jar:7.7.2 d4c30fc2856154f2c1fefc589eb7cd070a415b94 - janhoy - 2019-05-28 23:37:52]
at org.apache.solr.client.solrj.impl.CloudSolrClient.lambda$directUpdate$0(CloudSolrClient.java:528) ~[solr-solrj-7.7.2.jar:7.7.2 d4c30fc2856154f2c1fefc589eb7cd070a415b94 - janhoy - 2019-05-28 23:37:52]
at org.apache.solr.client.solrj.impl.CloudSolrClient$$Lambda$653.0000000038024DF0.call(Unknown Source) ~[?:?]
at java.util.concurrent.FutureTask.run(FutureTask.java:277) ~[?:1.8.0]
at org.apache.solr.common.util.ExecutorUtil$MDCAwareThreadPoolExecutor.lambda$execute$0(ExecutorUtil.java:209) ~[solr-solrj-7.7.2.jar:7.7.2 d4c30fc2856154f2c1fefc589eb7cd070a415b94 - janhoy - 2019-05-28 23:37:52]
at org.apache.solr.common.util.ExecutorUtil$MDCAwareThreadPoolExecutor$$Lambda$383.00000000E4010B20.run(Unknown Source) ~[?:?]
at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1153) ~[?:1.8.0]
at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[?:1.8.0]&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16859777" author="noble.paul" created="Mon, 10 Jun 2019 07:20:35 +0000"  >&lt;p&gt;Can you help me with some more information?&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Where are you seeing this error? client or server?&lt;/li&gt;
	&lt;li&gt;If this is happening at the server, can you share the logs from server&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="16860664" author="thomas.woeckinger" created="Tue, 11 Jun 2019 08:24:21 +0000"  >&lt;p&gt;This is already fixed with #&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13331&quot; title=&quot;Atomic Update Multivalue remove does not work&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13331&quot;&gt;&lt;del&gt;SOLR-13331&lt;/del&gt;&lt;/a&gt;, and PR &lt;a href=&quot;https://github.com/apache/lucene-solr/pull/665&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/lucene-solr/pull/665&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16861296" author="dawinter" created="Tue, 11 Jun 2019 18:09:40 +0000"  >&lt;p&gt;Can you help me with some more information?&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Where are you seeing this error? client or server?&lt;/li&gt;
	&lt;li&gt;If this is happening at the server, can you share the logs from server&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;We use&#160;solr 7.7.2 and the client lib&#160;solr-solrj-7.7.2&lt;/p&gt;

&lt;p&gt;The error came up on client side but it looks like the client just show the error response from the server:&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Client:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Error from server at http:&lt;span class=&quot;code-comment&quot;&gt;//172.22.0.3:8983/solr/test-tenant.indexing_005Ftest_005Fcollection-1560274627191_shard1_replica_n1: org.apache.solr.common.util.ByteArrayUtf8CharSequence cannot be &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt; to java.lang.&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; org.apache.solr.client.solrj.impl.CloudSolrClient$RouteException: Error from server at http://172.22.0.3:8983/solr/test-tenant.indexing_005Ftest_005Fcollection-1560274627191_shard1_replica_n1: org.apache.solr.common.util.ByteArrayUtf8CharSequence cannot be &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt; to java.lang.&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;
&lt;/span&gt;at org.apache.solr.client.solrj.impl.CloudSolrClient.directUpdate(CloudSolrClient.java:551) ~[solr-solrj-7.7.2.jar:7.7.2 d4c30fc2856154f2c1fefc589eb7cd070a415b94 - janhoy - 2019-05-28 23:37:52]
at org.apache.solr.client.solrj.impl.CloudSolrClient.sendRequest(CloudSolrClient.java:1019) ~[solr-solrj-7.7.2.jar:7.7.2 d4c30fc2856154f2c1fefc589eb7cd070a415b94 - janhoy - 2019-05-28 23:37:52]
at org.apache.solr.client.solrj.impl.CloudSolrClient.requestWithRetryOnStaleState(CloudSolrClient.java:884) ~[solr-solrj-7.7.2.jar:7.7.2 d4c30fc2856154f2c1fefc589eb7cd070a415b94 - janhoy - 2019-05-28 23:37:52]
at org.apache.solr.client.solrj.impl.CloudSolrClient.request(CloudSolrClient.java:817) ~[solr-solrj-7.7.2.jar:7.7.2 d4c30fc2856154f2c1fefc589eb7cd070a415b94 - janhoy - 2019-05-28 23:37:52]
at org.apache.solr.client.solrj.SolrRequest.process(SolrRequest.java:194) ~[solr-solrj-7.7.2.jar:7.7.2 d4c30fc2856154f2c1fefc589eb7cd070a415b94 - janhoy - 2019-05-28 23:37:52]
at org.apache.solr.client.solrj.SolrClient.add(SolrClient.java:106) ~[solr-solrj-7.7.2.jar:7.7.2 d4c30fc2856154f2c1fefc589eb7cd070a415b94 - janhoy - 2019-05-28 23:37:52]
at com.ibm.dx.search.backend.index.SolrIndexer.lambda$0(SolrIndexer.java:72) ~[main/:?]
at com.ibm.dx.search.backend.index.SolrIndexer$$Lambda$435.0000000015E98FE0.subscribe(Unknown Source) ~[?:?]
at io.reactivex.internal.operators.completable.CompletableCreate.subscribeActual(CompletableCreate.java:39) ~[rxjava-2.2.1.jar:?]
at io.reactivex.Completable.subscribe(Completable.java:2171) ~[rxjava-2.2.1.jar:?]
at io.reactivex.Completable.subscribe(Completable.java:2244) ~[rxjava-2.2.1.jar:?]
at com.ibm.dx.search.backend.index.GenericIndexer.lambda$2(GenericIndexer.java:233) ~[main/:?]
at com.ibm.dx.search.backend.index.GenericIndexer$$Lambda$428.00000000159637A0.handle(Unknown Source) ~[?:?]
at io.vertx.reactivex.core.Vertx$2.handle(Vertx.java:594) ~[vertx-rx-java2-3.5.4.jar:3.5.4]
at io.vertx.reactivex.core.Vertx$2.handle(Vertx.java:592) ~[vertx-rx-java2-3.5.4.jar:3.5.4]
at io.vertx.core.impl.ContextImpl.lambda$executeBlocking$1(ContextImpl.java:273) ~[vertx-core-3.5.4.jar:3.5.4]
at io.vertx.core.impl.ContextImpl$$Lambda$53.0000000014658A00.run(Unknown Source) ~[?:?]
at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1160) [?:1.8.0]
at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) [?:1.8.0]
at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) [netty-common-4.1.19.Final.jar:4.1.19.Final]
at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:812) [?:2.9 (03-06-2019)]
Caused by: org.apache.solr.client.solrj.impl.HttpSolrClient$RemoteSolrException: Error from server at http:&lt;span class=&quot;code-comment&quot;&gt;//172.22.0.3:8983/solr/test-tenant.indexing_005Ftest_005Fcollection-1560274627191_shard1_replica_n1: org.apache.solr.common.util.ByteArrayUtf8CharSequence cannot be &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt; to java.lang.&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;
&lt;/span&gt;at org.apache.solr.client.solrj.impl.HttpSolrClient.executeMethod(HttpSolrClient.java:643) ~[solr-solrj-7.7.2.jar:7.7.2 d4c30fc2856154f2c1fefc589eb7cd070a415b94 - janhoy - 2019-05-28 23:37:52]
at org.apache.solr.client.solrj.impl.HttpSolrClient.request(HttpSolrClient.java:255) ~[solr-solrj-7.7.2.jar:7.7.2 d4c30fc2856154f2c1fefc589eb7cd070a415b94 - janhoy - 2019-05-28 23:37:52]
at org.apache.solr.client.solrj.impl.HttpSolrClient.request(HttpSolrClient.java:244) ~[solr-solrj-7.7.2.jar:7.7.2 d4c30fc2856154f2c1fefc589eb7cd070a415b94 - janhoy - 2019-05-28 23:37:52]
at org.apache.solr.client.solrj.impl.LBHttpSolrClient.doRequest(LBHttpSolrClient.java:484) ~[solr-solrj-7.7.2.jar:7.7.2 d4c30fc2856154f2c1fefc589eb7cd070a415b94 - janhoy - 2019-05-28 23:37:52]
at org.apache.solr.client.solrj.impl.LBHttpSolrClient.request(LBHttpSolrClient.java:414) ~[solr-solrj-7.7.2.jar:7.7.2 d4c30fc2856154f2c1fefc589eb7cd070a415b94 - janhoy - 2019-05-28 23:37:52]
at org.apache.solr.client.solrj.impl.CloudSolrClient.lambda$directUpdate$0(CloudSolrClient.java:528) ~[solr-solrj-7.7.2.jar:7.7.2 d4c30fc2856154f2c1fefc589eb7cd070a415b94 - janhoy - 2019-05-28 23:37:52]
at org.apache.solr.client.solrj.impl.CloudSolrClient$$Lambda$440.0000000014501A80.call(Unknown Source) ~[?:?]
at java.util.concurrent.FutureTask.run(FutureTask.java:277) ~[?:1.8.0]
at org.apache.solr.common.util.ExecutorUtil$MDCAwareThreadPoolExecutor.lambda$execute$0(ExecutorUtil.java:209) ~[solr-solrj-7.7.2.jar:7.7.2 d4c30fc2856154f2c1fefc589eb7cd070a415b94 - janhoy - 2019-05-28 23:37:52]
at org.apache.solr.common.util.ExecutorUtil$MDCAwareThreadPoolExecutor$$Lambda$325.0000000002B8F2A0.run(Unknown Source) ~[?:?]
at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1160) ~[?:1.8.0]
at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[?:1.8.0]
... 1 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;b&gt;Server Request:&lt;/b&gt;&#160;&lt;b&gt;500 Server Error&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;gt;&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;POST /solr/test-tenant.indexing_005Ftest_005Fcollection-1560274627191_shard1_replica_n1/update?wt=javabin&amp;amp;version=2 HTTP/1.1[\r][\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;gt;&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;Content-Type: application/javabin[\r][\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;gt;&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;User-Agent: Solr[org.apache.solr.client.solrj.impl.HttpSolrClient] 1.0[\r][\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;gt;&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;Transfer-Encoding: chunked[\r][\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;gt;&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;Host: 172.22.0.3:8983[\r][\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;gt;&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;Connection: Keep-Alive[\r][\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;gt;&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[\r][\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;gt;&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;1b3[\r][\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;gt;&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x2][0xc3][0xe0]&amp;amp;params[0xa1][0xe0],commitWithin[0x6][0x0][0x0][0x0][0x0][0xe0]&amp;amp;delByQ[0x0][0xe0]&lt;span class=&quot;code-quote&quot;&gt;&apos;docsMap[0xe][0x13][0x10][0x4][0x8]?[0x80][0x0][0x0][0xe0]&quot;&lt;/span&gt;id#214[0xe0]&apos;&lt;/span&gt;isBook2[\n]&quot;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;gt;&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x1][0xe0]#add[0x83][0x2][0x1][0x2][0xe0]&apos;number3[\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;gt;&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x1][0xe0]#set[0x83]x[0x9d][0x1]r[0x9e][0x1]|[0xa3][0x1][0xe0]&apos;number4[\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;gt;&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x1][0xe9][0x0][0x0][0x13][0x10][0x3][0x8]?[0x80][0x0][0x0][0xe5]#215[0xe0]&amp;amp;isBook[\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;gt;&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x1][0xe9][0x2][0xe0]%field[\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;gt;&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x1][0xe9].field value 21[0x0][0x13][0x10][0x2][0x8]?[0x80][0x0][0x0][0xe5]#216[0xe0]&amp;amp;number[\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;gt;&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x1][0xe9]r_[0x0][0x13][0x10][0x3][0x8]?[0x80][0x0][0x0][0xe5]#217[0xe0]&apos;created[\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;gt;&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x1][0xe9]42017-11-15T04:53:58Z[0xec][\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;gt;&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x1][0xe9]42017-11-15T04:53:58Z[0x0][0x13][0x10][0x2][0x8]?[0x80][0x0][0x0][0xe5]#218[0xe6][\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;gt;&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x1][0xe0]&amp;amp;remove[0x1][0x0][0x13][0x10][0x5][0x8]?[0x80][0x0][0x0][0xe5]#219[0xed][\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;gt;&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x1][0xe9]}[0x1][0xec][\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;gt;&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x1][0xe9][0x0][0xea][\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;gt;&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x1][0xe9][0x0][0xe0]$tags[\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;gt;&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x1][0xef]$test[0x0][0x13][0x10][0x5][0x8]?[0x80][0x0][0x0][0xe5]#220[0xe6][\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;gt;&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x1][0xe7][0x2][0xe8][\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;gt;&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x1][0xe7]z~[0xea][\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;gt;&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x1][0xef][0x5]A[0xe8][0x18][0xcf][0xef]J[0xf4]x[0xf0][\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;gt;&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x1][0xef][0x81]$test[0x0][0x13][0x10][0x4][0x8]?[0x80][0x0][0x0][0xe5]#221[0xe6][\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;gt;&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x1][0xe7][0x83][0x2][0x1][0x2][0xe8][\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;gt;&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x1][0xe9][0x83]&#127;[0x9d][0x1]y[0x9e][0x1]s[0xa4][0x1][0xea][\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;gt;&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x1][0xe9][0x0][0x0][0xf][\r][\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;gt;&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;0[\r][\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;gt;&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[\r][\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;HTTP/1.1 500 Server Error[\r][\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;Content-Type: application/octet-stream[\r][\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;Content-Length: 5890[\r][\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[\r][\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x2][0xa2][0xe0].responseHeader[0xa3][0xe0]&quot;&lt;/span&gt;rfA[0xe0]&amp;amp;statusT[0x1f][0xe0]%QTime^[0x3][0xe0]%error[0xa3][0xe0]#msg?9org.apache.solr.common.util.ByteArrayUtf8CharSequence cannot be &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt; to java.lang.&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[0xe0]%trace?[0xbf],java.lang.ClassCastException: org.apache.solr.common.util.ByteArrayUtf8CharSequence cannot be &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt; to java.lang.&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[\n]&quot;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x9]at org.apache.solr.schema.TrieDateField.toNativeType(TrieDateField.java:100)[\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x9]at org.apache.solr.update.processor.AtomicUpdateDocumentMerger.doSet(AtomicUpdateDocumentMerger.java:319)[\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x9]at org.apache.solr.update.processor.AtomicUpdateDocumentMerger.merge(AtomicUpdateDocumentMerger.java:108)[\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x9]at org.apache.solr.update.processor.DistributedUpdateProcessor.getUpdatedDocument(DistributedUpdateProcessor.java:1431)[\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x9]at org.apache.solr.update.processor.DistributedUpdateProcessor.doVersionAdd(DistributedUpdateProcessor.java:1117)[\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x9]at org.apache.solr.update.processor.DistributedUpdateProcessor.lambda$versionAdd$2(DistributedUpdateProcessor.java:1082)[\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x9]at org.apache.solr.update.VersionBucket.runWithLock(VersionBucket.java:50)[\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x9]at org.apache.solr.update.processor.DistributedUpdateProcessor.versionAdd(DistributedUpdateProcessor.java:1082)[\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x9]at org.apache.solr.update.processor.DistributedUpdateProcessor.processAdd(DistributedUpdateProcessor.java:694)[\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x9]at org.apache.solr.handler.loader.JavabinLoader$1.update(JavabinLoader.java:110)[\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;Codec$StreamingCodec.readOuterMostDocIterator(JavaBinUpdateRequestCodec.java:327)[\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x9]at org.apache.solr.client.solrj.request.JavaBinUpdateRequestCodec$StreamingCodec.readIterator(JavaBinUpdateRequestCodec.java:280)[\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x9]at org.apache.solr.common.util.JavaBinCodec.readObject(JavaBinCodec.java:335)[\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x9]at org.apache.solr.common.util.JavaBinCodec.readVal(JavaBinCodec.java:280)[\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x9]at org.apache.solr.client.solrj.request.JavaBinUpdateRequestCodec$StreamingCodec.readNamedList(JavaBinUpdateRequestCodec.java:235)[\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x9]at org.apache.solr.common.util.JavaBinCodec.readObject(JavaBinCodec.java:300)[\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x9]at org.apache.solr.common.util.JavaBinCodec.readVal(JavaBinCodec.java:280)[\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x9]at org.apache.solr.common.util.JavaBinCodec.unmarshal(JavaBinCodec.java:193)[\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x9]at org.apache.solr.client.solrj.request.JavaBinUpdateRequestCodec.unmarshal(JavaBinUpdateRequestCodec.java:126)[\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x9]at org.apache.solr.handler.loader.JavabinLoader.parseAndLoadDocs(JavabinLoader.java:123)[\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x9]at org.apache.solr.handler.loader.JavabinLoader.load(JavabinLoader.java:70)[\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x9]at org.apache.solr.handler.UpdateRequestHandler$1.load(UpdateRequestHandler.java:97)[\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x9]at org.apache.solr.handler.ContentStreamHandlerBase.handleRequestBody(ContentStreamHandlerBase.java:68)[\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x9]at org.apache.solr.handler.RequestHandlerBase.handleRequest(RequestHandlerBase.java:199)[\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x9]at org.apache.solr.core.SolrCore.execute(SolrCore.java:2551)[\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x9]at org.apache.solr.servlet.HttpSolrCall.execute(HttpSolrCall.java:711)[\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x9]at org.apache.solr.servlet.HttpSolrCall.call(HttpSolrCall.java:516)[\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x9]at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:395)[\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x9]at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:341)[\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x9]at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1602)[\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x9]at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:540)[\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x9]at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:146)[\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x9]at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:548)[\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x9]at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)[\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x9]at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:257)[\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x9]at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1588)[\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x9]at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:255)[\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x9]at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1345)[\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x9]at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:203)[\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x9]at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:480)[\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x9]at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1557)[\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x9]at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:201)[\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x9]at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1247)[\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x9]at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:144)[\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x9]at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:220)[\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x9]at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:126)[\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x9]at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)[\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x9]at org.eclipse.jetty.rewrite.handler.RewriteHandler.handle(RewriteHandler.java:335)[\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x9]at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)[\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x9]at org.eclipse.jetty.server.Server.handle(Server.java:502)[\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x9]at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:364)[\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x9]at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:260)[\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x9]at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:305)[\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x9]at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:103)[\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x9]at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:118)[\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x9]at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:333)[\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x9]at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:310)[\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x9]at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:168)[\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x9]at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:126)[\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x9]at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:366)[\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x9]at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:765)[\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x9]at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:683)[\n]&quot;&lt;/span&gt;
DEBUG org.apache.http.impl.conn.Wire 73 wire - http-outgoing-24 &amp;lt;&amp;lt; &lt;span class=&quot;code-quote&quot;&gt;&quot;[0x9]at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:748)[\n]&quot;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;b&gt;Server Log:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2019-06-11 17:37:56.787 ERROR (qtp802600647-14) [c:test-tenant.indexing_005Ftest_005Fcollection-1560274627191 s:shard1 r:core_node2 x:test-tenant.indexing_005Ftest_005Fcollection-1560274627191_shard1_replica_n1] o.a.s.s.HttpSolrCall &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;:java.lang.ClassCastException: org.apache.solr.common.util.ByteArrayUtf8CharSequence cannot be &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt; to java.lang.&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;
at org.apache.solr.schema.TrieDateField.toNativeType(TrieDateField.java:100)
at org.apache.solr.update.processor.AtomicUpdateDocumentMerger.doSet(AtomicUpdateDocumentMerger.java:319)
at org.apache.solr.update.processor.AtomicUpdateDocumentMerger.merge(AtomicUpdateDocumentMerger.java:108)
at org.apache.solr.update.processor.DistributedUpdateProcessor.getUpdatedDocument(DistributedUpdateProcessor.java:1431)
at org.apache.solr.update.processor.DistributedUpdateProcessor.doVersionAdd(DistributedUpdateProcessor.java:1117)
at org.apache.solr.update.processor.DistributedUpdateProcessor.lambda$versionAdd$2(DistributedUpdateProcessor.java:1082)
at org.apache.solr.update.VersionBucket.runWithLock(VersionBucket.java:50)
at org.apache.solr.update.processor.DistributedUpdateProcessor.versionAdd(DistributedUpdateProcessor.java:1082)
at org.apache.solr.update.processor.DistributedUpdateProcessor.processAdd(DistributedUpdateProcessor.java:694)
at org.apache.solr.handler.loader.JavabinLoader$1.update(JavabinLoader.java:110)
at org.apache.solr.client.solrj.request.JavaBinUpdateRequestCodec$StreamingCodec.readOuterMostDocIterator(JavaBinUpdateRequestCodec.java:327)
at org.apache.solr.client.solrj.request.JavaBinUpdateRequestCodec$StreamingCodec.readIterator(JavaBinUpdateRequestCodec.java:280)
at org.apache.solr.common.util.JavaBinCodec.readObject(JavaBinCodec.java:335)
at org.apache.solr.common.util.JavaBinCodec.readVal(JavaBinCodec.java:280)
at org.apache.solr.client.solrj.request.JavaBinUpdateRequestCodec$StreamingCodec.readNamedList(JavaBinUpdateRequestCodec.java:235)
at org.apache.solr.common.util.JavaBinCodec.readObject(JavaBinCodec.java:300)
at org.apache.solr.common.util.JavaBinCodec.readVal(JavaBinCodec.java:280)
at org.apache.solr.common.util.JavaBinCodec.unmarshal(JavaBinCodec.java:193)
at org.apache.solr.client.solrj.request.JavaBinUpdateRequestCodec.unmarshal(JavaBinUpdateRequestCodec.java:126)
at org.apache.solr.handler.loader.JavabinLoader.parseAndLoadDocs(JavabinLoader.java:123)
at org.apache.solr.handler.loader.JavabinLoader.load(JavabinLoader.java:70)
at org.apache.solr.handler.UpdateRequestHandler$1.load(UpdateRequestHandler.java:97)
at org.apache.solr.handler.ContentStreamHandlerBase.handleRequestBody(ContentStreamHandlerBase.java:68)
at org.apache.solr.handler.RequestHandlerBase.handleRequest(RequestHandlerBase.java:199)
at org.apache.solr.core.SolrCore.execute(SolrCore.java:2551)
at org.apache.solr.servlet.HttpSolrCall.execute(HttpSolrCall.java:711)
at org.apache.solr.servlet.HttpSolrCall.call(HttpSolrCall.java:516)
at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:395)
at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:341)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;As we use 7.7.2 and &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13285&quot; title=&quot;ByteArrayUtf8CharSequence cannot be cast to java.lang.String exception during replication&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13285&quot;&gt;&lt;del&gt;SOLR-13285&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13331&quot; title=&quot;Atomic Update Multivalue remove does not work&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13331&quot;&gt;&lt;del&gt;SOLR-13331&lt;/del&gt;&lt;/a&gt; are part of7.7.2. I guess these issue did not address the issue completly.&lt;/p&gt;

&lt;p&gt;If you need any additional information, let me know.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16861305" author="noble.paul" created="Tue, 11 Jun 2019 18:17:27 +0000"  >&lt;p&gt;This is fixed in&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13331&quot; title=&quot;Atomic Update Multivalue remove does not work&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13331&quot;&gt;&lt;del&gt;SOLR-13331&lt;/del&gt;&lt;/a&gt;&#160;. It is not  a part of 7.7.2&lt;/p&gt;</comment>
                            <comment id="16861556" author="janhoy" created="Tue, 11 Jun 2019 22:22:10 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13331&quot; title=&quot;Atomic Update Multivalue remove does not work&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13331&quot;&gt;&lt;del&gt;SOLR-13331&lt;/del&gt;&lt;/a&gt; is indeed fixed and released in 7.7.2 by Jason. But someone have continued the discussion on that same JIRA about fixing more related stuff. However that needs to go in a new JIRA.&lt;/p&gt;</comment>
                            <comment id="16862232" author="gerlowskija" created="Wed, 12 Jun 2019 15:54:13 +0000"  >&lt;p&gt;Jan is right.  A partial fix (I thought it was complete at the time) was committed in &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13331&quot; title=&quot;Atomic Update Multivalue remove does not work&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13331&quot;&gt;&lt;del&gt;SOLR-13331&lt;/del&gt;&lt;/a&gt; and put into 7.7.2.  Only this morning when I saw the mail about this, did I realize the contributor on &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13331&quot; title=&quot;Atomic Update Multivalue remove does not work&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13331&quot;&gt;&lt;del&gt;SOLR-13331&lt;/del&gt;&lt;/a&gt; mentioned finding other issues and bundled fixes for them into a PR that had previously just been test-improvements.&lt;/p&gt;

&lt;p&gt;Sorry for the miscommunication on my part.  This second half of this issue is now being followed up on in &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13538&quot; title=&quot;ClassCastException: ByteArrayUtf8CharSequence cannot be cast to java.lang.String&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13538&quot;&gt;&lt;del&gt;SOLR-13538&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13539&quot; title=&quot;Atomic Update Multivalue remove does not work for field types UUID, Enums, Bool  and Binary&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13539&quot;&gt;&lt;del&gt;SOLR-13539&lt;/del&gt;&lt;/a&gt; (one of which will be closed as a duplicate of the other soon). &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="13222434">SOLR-13331</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12961036" name="SOLR-13285.patch" size="2639" author="kstoney" created="Mon, 4 Mar 2019 19:11:10 +0000"/>
                            <attachment id="12960823" name="SOLR-13285.patch" size="2612" author="noble.paul" created="Fri, 1 Mar 2019 19:58:28 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 22 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z008rc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>