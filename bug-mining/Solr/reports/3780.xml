<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:30:38 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-11459] AddUpdateCommand#prevVersion is not cleared which may lead to problem for in-place updates of non existed documents</title>
                <link>https://issues.apache.org/jira/browse/SOLR-11459</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;I have a 1_shard / &lt;b&gt;m&lt;/b&gt;_replicas SolrCloud cluster with Solr 6.6.0 and run batches of 5 - 10k in-place updates from time to time. &lt;br/&gt;
Once I noticed that job &quot;hangs&quot; - it started and couldn&apos;t finish for a a while.&lt;br/&gt;
Logs were full of messages like:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; Missing update, on which current in-place update depends on, hasn&apos;t arrived. id=__, looking &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; version=___, last found version=0&quot;  &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; 
Tried to fetch document ___ from the leader, but the leader says document has been deleted. Deleting the document here and skipping &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; update: Last found version: 0, was looking &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;: ___&lt;span class=&quot;code-quote&quot;&gt;&quot;,24,0,&quot;&lt;/span&gt;but the leader says document has been deleted. Deleting the document here and skipping &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; update: Last found version: 0
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Further analysis shows that:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;There are 100-500 updates for non-existed documents among other updates (something that I have to deal with)&lt;/li&gt;
	&lt;li&gt;Leader receives bunch of updates and executes this updates one by one. &lt;tt&gt;JavabinLoader&lt;/tt&gt; which is used by processing documents reuses same instance of &lt;tt&gt;AddUpdateCommand&lt;/tt&gt; for every update and just &lt;a href=&quot;https://github.com/apache/lucene-solr/blob/e2521b2a8baabdaf43b92192588f51e042d21e97/solr/core/src/java/org/apache/solr/handler/loader/JavabinLoader.java#L99&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;clearing its state at the end&lt;/a&gt;. Field &lt;a href=&quot;https://github.com/apache/lucene-solr/blob/6396cb759f8c799f381b0730636fa412761030ce/solr/core/src/java/org/apache/solr/update/AddUpdateCommand.java#L76&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;AddUpdateCommand#prevVersion&lt;/a&gt; is not cleared.&lt;/li&gt;
	&lt;li&gt;In case of update is in-place update, but specified document does not exist, this update is processed as a regular atomic update (i.e. new doc is created), but &lt;tt&gt;prevVersion&lt;/tt&gt; is used as a &lt;tt&gt;distrib.inplace.prevversion&lt;/tt&gt; parameter in sequential calls to every slave in DistributedUpdateProcessor. &lt;tt&gt;prevVersion&lt;/tt&gt; wasn&apos;t cleared, so it may contain version from previous processed update.&lt;/li&gt;
	&lt;li&gt;Slaves checks it&apos;s own version of documents which is 0 (cause doc does not exist), slave thinks that some updates were missed and spends 5 seconds in &lt;a href=&quot;https://github.com/apache/lucene-solr/blob/e2521b2a8baabdaf43b92192588f51e042d21e97/solr/core/src/java/org/apache/solr/handler/loader/JavabinLoader.java#L99&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;DistributedUpdateProcessor#waitForDependentUpdates&lt;/a&gt; waiting for missed updates (no luck) and also tries to get &quot;correct&quot; version from leader (no luck as well)&lt;/li&gt;
	&lt;li&gt;So update for non existed document costs &lt;b&gt;m&lt;/b&gt; * 5 sec each&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;I workarounded this by explicit check of doc existence, but it probably should be fixed.&lt;/p&gt;

&lt;p&gt;Obviously first guess is that  prevVersion should be cleared in &lt;tt&gt;AddUpdateCommand#clear&lt;/tt&gt;, but have no clue how to test it.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+++ solr/core/src/java/org/apache/solr/update/AddUpdateCommand.java	(revision )
@@ -78,6 +78,7 @@
      updateTerm = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
      isLastDocInBatch = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
      version = 0;
+     prevVersion = -1;
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13108312">SOLR-11459</key>
            <summary>AddUpdateCommand#prevVersion is not cleared which may lead to problem for in-place updates of non existed documents</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mkhl">Mikhail Khludnev</assignee>
                                    <reporter username="werder">Andrey Kudryavtsev</reporter>
                        <labels>
                    </labels>
                <created>Tue, 10 Oct 2017 14:35:01 +0000</created>
                <updated>Sat, 8 Jun 2019 15:15:05 +0000</updated>
                            <resolved>Sun, 11 Feb 2018 13:01:52 +0000</resolved>
                                    <version>7.0</version>
                                    <fixVersion>7.3</fixVersion>
                    <fixVersion>8.0</fixVersion>
                                    <component>SolrCloud</component>
                        <due></due>
                            <votes>3</votes>
                                    <watches>6</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1800">0.5h</timespent>
                                <comments>
                            <comment id="16209491" author="werder" created="Wed, 18 Oct 2017 15:04:07 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ichattopadhyaya&quot; class=&quot;user-hover&quot; rel=&quot;ichattopadhyaya&quot;&gt;ichattopadhyaya&lt;/a&gt;, any thoughts about this?&lt;/p&gt;</comment>
                            <comment id="16209598" author="ichattopadhyaya" created="Wed, 18 Oct 2017 16:05:22 +0000"  >&lt;p&gt;Hi Andrey,&lt;br/&gt;
I&apos;m currently on a vacation and shall take a look at this on Friday.&lt;br/&gt;
On a cursory glance, it seems what you&apos;re recommending makes sense. I&apos;ll have to be more thorough in order to be sure.&lt;br/&gt;
There are TestInPlaceUpdatesStandalone and TestInPlaceUpdatesDistrib tests.&lt;/p&gt;</comment>
                            <comment id="16328178" author="githubbot" created="Wed, 17 Jan 2018 02:18:50 +0000"  >&lt;p&gt;GitHub user werder06 opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/lucene-solr/pull/307&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/lucene-solr/pull/307&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11459&quot; title=&quot;AddUpdateCommand#prevVersion is not cleared which may lead to problem for in-place updates of non existed documents&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-11459&quot;&gt;&lt;del&gt;SOLR-11459&lt;/del&gt;&lt;/a&gt; Clear AddUpdateCommand#prevVersion to fix in-place updates&#8230;&lt;/p&gt;

&lt;p&gt;    &#8230; for non existed documents&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/werder06/lucene-solr&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/werder06/lucene-solr&lt;/a&gt; master&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/lucene-solr/pull/307.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/lucene-solr/pull/307.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #307&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 38a689190e80860e9efcfc6bc121f86656801044&lt;br/&gt;
Author: Andrey &amp;lt;akudryav@...&amp;gt;&lt;br/&gt;
Date:   2018-01-17T02:17:54Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11459&quot; title=&quot;AddUpdateCommand#prevVersion is not cleared which may lead to problem for in-place updates of non existed documents&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-11459&quot;&gt;&lt;del&gt;SOLR-11459&lt;/del&gt;&lt;/a&gt; Clear AddUpdateCommand#prevVersion to fix in-place updates for non existed documents&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16328190" author="werder" created="Wed, 17 Jan 2018 02:27:18 +0000"  >&lt;p&gt;Hope to fix this one.&#160;&lt;/p&gt;

&lt;p&gt;The test is not ideal, it will fail without &quot;prevVersion = -1&quot; cause of there doc with id = 2&#160;will not&#160;present&#160;on&#160;every replica&#160;after in-place update. But as there is&#160;TestInPlaceUpdatesStandalone#testDVUpdatesWithDelete to check that in-place update for non existed docs will result in a doc creation, I think it&apos;s ok to have it&apos;s distributed analog.&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16331113" author="mkhludnev" created="Thu, 18 Jan 2018 20:07:04 +0000"  >&lt;p&gt;I&apos;d like to pull it in, but here is the issue. I rolled back the code change&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
$ git diff -- src/java/org/apache/solr/update/AddUpdateCommand.java
diff --git a/solr/core/src/java/org/apache/solr/update/AddUpdateCommand.java b/solr/core/src/java/org/apache/solr/update/AddUpdateCommand.java
index cb1af9a..af39726 100644
--- a/solr/core/src/java/org/apache/solr/update/AddUpdateCommand.java
+++ b/solr/core/src/java/org/apache/solr/update/AddUpdateCommand.java
@@ -78,6 +78,7 @@ &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;AddUpdateCommand &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; UpdateCommand &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; Iterable&amp;lt;Document
updateTerm = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
isLastDocInBatch = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
version = 0;
+ &lt;span class=&quot;code-comment&quot;&gt;/// prevVersion = -1;
&lt;/span&gt;}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
$ git status
        modified:   src/java/org/apache/solr/update/AddUpdateCommand.java
        modified:   src/test/org/apache/solr/update/TestInPlaceUpdatesDistrib.java
        modified:   ../test-framework/src/java/org/apache/solr/BaseDistributedSearchTestCase.java
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
$ ant test -Dtestcase=TestInPlaceUpdatesDistrib
...

BUILD SUCCESSFUL
Total time: 3 minutes 55 seconds

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;So, it seems like it&apos;s lacking test coverage that&apos;s sad.&lt;/p&gt;</comment>
                            <comment id="16331393" author="werder" created="Thu, 18 Jan 2018 22:59:59 +0000"  >&lt;p&gt;Try&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
ant test&#160; -Dtestcase=TestInPlaceUpdatesDistrib -Dtests.seed=B15B19F853ACE2C4&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Don&apos;t be sad.&lt;/p&gt;</comment>
                            <comment id="16331948" author="mkhludnev" created="Fri, 19 Jan 2018 09:00:46 +0000"  >&lt;p&gt;Got it. It fails. It&apos;s fine.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
 [junit4] Tests with failures [seed: B15B19F853ACE2C4]:
 [junit4] - org.apache.solr.update.TestInPlaceUpdatesDistrib.test
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;However, it&apos;s NPE fail from the test method&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[23:00:39.841] ERROR 50.7s | TestInPlaceUpdatesDistrib.test &amp;lt;&amp;lt;&amp;lt;
 &amp;gt; Throwable #1: java.lang.NullPointerException
 &amp;gt; at __randomizedtesting.SeedInfo.seed([B15B19F853ACE2C4:390F2622FD508F3C]:0)
 &amp;gt; at org.apache.solr.update.TestInPlaceUpdatesDistrib.updateExistedAndNonExistedDocs(TestInPlaceUpdatesDistrib.java:433)
 &amp;gt; at org.apache.solr.update.TestInPlaceUpdatesDistrib.test(TestInPlaceUpdatesDistrib.java:147)

TestInPlaceUpdatesDistrib.java:433
&#160; &#160;assertEquals(50.0f, client.getById(&lt;span class=&quot;code-quote&quot;&gt;&quot;2&quot;&lt;/span&gt;).get(&lt;span class=&quot;code-quote&quot;&gt;&quot;inplace_updatable_float&quot;&lt;/span&gt;));

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The author, somehow tell us that the update should create this doc. It&apos;s not clear whether it&apos;s described as an expected behavior. But even it is, can we have clearer assertNotNull()? Also, can&apos;t we don&apos;t &lt;del&gt;copy-paste&lt;/del&gt;&#160;introduce &lt;tt&gt;indexDocs()&lt;/tt&gt; but rather loop through docs?&#160;&#160; &#160;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16332599" author="werder" created="Fri, 19 Jan 2018 17:39:20 +0000"  >&lt;blockquote&gt;&lt;p&gt;The author, somehow tell us that the update should create this doc. It&apos;s not clear whether it&apos;s described as an expected behavior. But even it is, can we have clearer assertNotNull()?&#160;&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;No problem.&#160;&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Also, can&apos;t we don&apos;t&#160;&lt;del&gt;copy-paste&lt;/del&gt;&#160;introduce&#160;&lt;tt&gt;indexDocs()&lt;/tt&gt;&#160;but rather loop through docs?&#160;&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Not sure about this one. I need a batch&#160;of updates on a same&#160;Solr node to&#160;see problems when&#160;same instance of &lt;tt&gt;AddUpdateCommand&lt;/tt&gt; is reused&#160;for different updates. So it&apos;s like &lt;tt&gt;add(Collection&amp;lt;SolrInputDocument&amp;gt; docs)&lt;/tt&gt;&#160;must have here.&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16351869" author="mkhludnev" created="Sun, 4 Feb 2018 19:17:42 +0000"  >&lt;p&gt;Great investigation and the test, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=werder&quot; class=&quot;user-hover&quot; rel=&quot;werder&quot;&gt;werder&lt;/a&gt;. I&apos;m going to commit &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12909159/12909159_SOLR-11459.patch&quot; title=&quot;SOLR-11459.patch attached to SOLR-11459&quot;&gt;SOLR-11459.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; next week.&lt;/p&gt;

&lt;p&gt;Note: rolling back one-liner fix fails well with&#160;&#160;&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;ant test&#160; -Dtestcase=TestInPlaceUpdatesDistrib -Dtests.seed=693C5C2078500204:553EDF06E26EA4D0 -Dtests.slow=true -Dtests.locale=ga -Dtests.timezone=US/Arizona -Dtests.asserts=true -Dtests.file.encoding=UTF-8&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16352888" author="mkhludnev" created="Mon, 5 Feb 2018 20:27:06 +0000"  >&lt;p&gt;This patch&#160;gives some unrelated failures. But from what I see these tests often or even (always) blink now. Like:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
   [junit4] Tests with failures [seed: 7506124B2E5AC21A]:
   [junit4]   - org.apache.solr.handler.admin.AutoscalingHistoryHandlerTest.testHistory
   [junit4]   - org.apache.solr.cloud.autoscaling.TriggerIntegrationTest.testMetricTrigger
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Any objections or concerns for committing this patch? &lt;br/&gt;
&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16353172" author="ichattopadhyaya" created="Tue, 6 Feb 2018 00:54:48 +0000"  >&lt;p&gt;+1 to the patch. The failures seem unrelated.&lt;/p&gt;</comment>
                            <comment id="16354268" author="jira-bot" created="Tue, 6 Feb 2018 18:08:31 +0000"  >&lt;p&gt;Commit c50806824005b979a7e4854af38b2d8071bc52c0 in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mkhludnev&quot; class=&quot;user-hover&quot; rel=&quot;mkhludnev&quot;&gt;mkhludnev&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=c508068&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=c508068&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11459&quot; title=&quot;AddUpdateCommand#prevVersion is not cleared which may lead to problem for in-place updates of non existed documents&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-11459&quot;&gt;&lt;del&gt;SOLR-11459&lt;/del&gt;&lt;/a&gt;: Fix in-place nonexistent doc update following existing doc update&lt;/p&gt;</comment>
                            <comment id="16354302" author="jira-bot" created="Tue, 6 Feb 2018 18:29:40 +0000"  >&lt;p&gt;Commit 76d94c19bb8f6480ec0119ad77d6601432b7099b in lucene-solr&apos;s branch refs/heads/branch_7x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mkhludnev&quot; class=&quot;user-hover&quot; rel=&quot;mkhludnev&quot;&gt;mkhludnev&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=76d94c1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=76d94c1&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11459&quot; title=&quot;AddUpdateCommand#prevVersion is not cleared which may lead to problem for in-place updates of non existed documents&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-11459&quot;&gt;&lt;del&gt;SOLR-11459&lt;/del&gt;&lt;/a&gt;: Fix in-place nonexistent doc update following existing doc update&lt;/p&gt;</comment>
                            <comment id="16354426" author="jira-bot" created="Tue, 6 Feb 2018 19:28:47 +0000"  >&lt;p&gt;Commit 2c2a03f01d9a2fbbd7031d3f15a971b5aeb0c598 in lucene-solr&apos;s branch refs/heads/branch_7x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mkhludnev&quot; class=&quot;user-hover&quot; rel=&quot;mkhludnev&quot;&gt;mkhludnev&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=2c2a03f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=2c2a03f&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Revert &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11459&quot; title=&quot;AddUpdateCommand#prevVersion is not cleared which may lead to problem for in-place updates of non existed documents&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-11459&quot;&gt;&lt;del&gt;SOLR-11459&lt;/del&gt;&lt;/a&gt;: Fix in-place nonexistent doc update following existing doc update&quot;&lt;/p&gt;

&lt;p&gt;This reverts commit 76d94c19bb8f6480ec0119ad77d6601432b7099b.&lt;/p&gt;</comment>
                            <comment id="16354476" author="jira-bot" created="Tue, 6 Feb 2018 20:01:38 +0000"  >&lt;p&gt;Commit 359ae6fe6efa06feaefa67ea2465589e92dd52bb in lucene-solr&apos;s branch refs/heads/branch_7x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mkhludnev&quot; class=&quot;user-hover&quot; rel=&quot;mkhludnev&quot;&gt;mkhludnev&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=359ae6f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=359ae6f&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11459&quot; title=&quot;AddUpdateCommand#prevVersion is not cleared which may lead to problem for in-place updates of non existed documents&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-11459&quot;&gt;&lt;del&gt;SOLR-11459&lt;/del&gt;&lt;/a&gt;: Fix in-place nonexistent doc update following existing doc update&lt;/p&gt;

&lt;p&gt;Applying again. No changes.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13108877">SOLR-11475</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12706005">SOLR-5944</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12909159" name="SOLR-11459.patch" size="4153" author="mkhl" created="Sun, 4 Feb 2018 19:14:53 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10430"><![CDATA[Patch]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 41 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3l347:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>