<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:39:51 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-13664]  SolrTestCaseJ4.deleteCore() does not delete/clean dataDir</title>
                <link>https://issues.apache.org/jira/browse/SOLR-13664</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;Prior to Solr 8.3, the javadocs for &lt;tt&gt;SolrTestCaseJ4.deleteCore()&lt;/tt&gt; said that that method would delete the dataDir used by &lt;tt&gt;initCore()&lt;/tt&gt; in spite of that method not actaully doing anything to clean up the dataDir for a very long time (exactly when the bug was introduced is not known)&lt;/p&gt;

&lt;p&gt;For that reason, in most solr versions up to and including 8.2, tests that called combinations of &lt;tt&gt;initCore()&lt;/tt&gt; / &lt;tt&gt;deleteCore()&lt;/tt&gt; within a single test class would see the data from a previous core polluting the data of a newly introduced core.&lt;/p&gt;

&lt;p&gt;As part of this jira, this bug was fixed, by udpating &lt;tt&gt;deleteCore()&lt;/tt&gt; to &quot;reset&quot; the value of the &lt;tt&gt;initCoreDataDir&lt;/tt&gt; variable to null, so that it can/will be re-initialized on the next call to either&#160;&lt;tt&gt;initCore()&lt;/tt&gt; or the lower level&#160;&lt;tt&gt;createCore()&lt;/tt&gt;.&#160;&lt;/p&gt;

&lt;p&gt;Existing tests that refer to the&#160;&lt;tt&gt;initCoreDataDir&lt;/tt&gt; directly (either before, or during the lifecycle of an active core managed via &lt;tt&gt;initCore()&lt;/tt&gt; / &lt;tt&gt;deleteCore()&lt;/tt&gt; ) may encounter&#160;&lt;tt&gt;NullPointerExceptions&lt;/tt&gt; on upgrading to Solr 8.3 as a result of this bug fix.&#160; These tests are encouraged to use the new helper method &lt;tt&gt;initAndGetDataDir()&lt;/tt&gt; in place of directly refering to the (now deprecated) &lt;tt&gt;initCoreDataDir&lt;/tt&gt; variable directly.&lt;/p&gt;

&lt;p&gt;Any existing tests that refer to the&#160;&lt;tt&gt;initCoreDataDir&lt;/tt&gt; directly &lt;b&gt;after&lt;/b&gt; calling &lt;tt&gt;deleteCore()&lt;/tt&gt; with the intention of inspecting the index contents after shutdown, will need to be modified to preserved the rsults of calling &lt;tt&gt;initAndGetDataDir()&lt;/tt&gt; into a new variable for such introspection &#8211; the actual contents of the directory will not be removed until the full ifecycle of the test class is complete (see &lt;tt&gt;LuceneTestCase.createTempDir()&lt;/tt&gt;)&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13247914">SOLR-13664</key>
            <summary> SolrTestCaseJ4.deleteCore() does not delete/clean dataDir</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hossman">Chris M. Hostetter</assignee>
                                    <reporter username="hossman">Chris M. Hostetter</reporter>
                        <labels>
                    </labels>
                <created>Tue, 30 Jul 2019 18:24:04 +0000</created>
                <updated>Thu, 12 May 2022 00:26:36 +0000</updated>
                            <resolved>Thu, 1 Aug 2019 21:23:18 +0000</resolved>
                                                    <fixVersion>8.3</fixVersion>
                    <fixVersion>9.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="16896384" author="hossman" created="Tue, 30 Jul 2019 18:27:21 +0000"  >&lt;p&gt;The attached patch doesn&apos;t fix the problem &#8211; still thinking about the best solution to move forward &#8211; but it does trivially demonstrates this problem in a new test. It also updates &lt;tt&gt;TestUseDocValuesAsStored&lt;/tt&gt; to include a sanity check against this problem.&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;A weird &lt;tt&gt;TestUseDocValuesAsStored&lt;/tt&gt; jenkins failure is how i discovered this in the first place...&lt;/p&gt;

&lt;p&gt;apache_Lucene-Solr-Tests-8.2_34.log.txt&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;   [junit4]   2&amp;gt; NOTE: reproduce with: ant test  -Dtestcase=TestUseDocValuesAsStored -Dtests.method=testDuplicateMultiValued -Dtests.seed=69AC8730651B9CCD -Dtests.multiplier=2 -Dtests.slow=true -Dtests.locale=ja -Dtests.timezone=America/Argentina/ComodRivadavia -Dtests.asserts=true -Dtests.file.encoding=UTF-8
   [junit4] ERROR   1.13s J0 | TestUseDocValuesAsStored.testDuplicateMultiValued &amp;lt;&amp;lt;&amp;lt;
   [junit4]    &amp;gt; Throwable #1: java.lang.RuntimeException: Exception during query
   [junit4]    &amp;gt;        at __randomizedtesting.SeedInfo.seed([69AC8730651B9CCD:87719310ABAA6A71]:0)
   [junit4]    &amp;gt;        at org.apache.solr.SolrTestCaseJ4.assertQ(SolrTestCaseJ4.java:947)
   [junit4]    &amp;gt;        at org.apache.solr.schema.TestUseDocValuesAsStored.doTest(TestUseDocValuesAsStored.java:367)
   [junit4]    &amp;gt;        at org.apache.solr.schema.TestUseDocValuesAsStored.testDuplicateMultiValued(TestUseDocValuesAsStored.java:172)
   [junit4]    &amp;gt;        at java.lang.Thread.run(Thread.java:748)
   [junit4]    &amp;gt; Caused by: java.lang.RuntimeException: REQUEST FAILED: xpath=//arr[@name=&apos;enums_dvo&apos;]/str[.=&apos;Not Available&apos;]
   [junit4]    &amp;gt;        xml response was: &amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;
   [junit4]    &amp;gt; &amp;lt;response&amp;gt;
   [junit4]    &amp;gt; &amp;lt;lst name=&quot;responseHeader&quot;&amp;gt;&amp;lt;int name=&quot;status&quot;&amp;gt;0&amp;lt;/int&amp;gt;&amp;lt;int name=&quot;QTime&quot;&amp;gt;0&amp;lt;/int&amp;gt;&amp;lt;/lst&amp;gt;&amp;lt;result name=&quot;response&quot; numFound=&quot;11&quot; start=&quot;0&quot;&amp;gt;&amp;lt;doc&amp;gt;&amp;lt;str name=&quot;id&quot;&amp;gt;xyz&amp;lt;/str&amp;gt;&amp;lt;/doc&amp;gt;&amp;lt;doc&amp;gt;&amp;lt;str name=&quot;id&quot;&amp;gt;myid&amp;lt;/str&amp;gt;&amp;lt;/doc&amp;gt;&amp;lt;doc&amp;gt;&amp;lt;str name=&quot;id&quot;&amp;gt;1&amp;lt;/str&amp;gt;&amp;lt;arr name=&quot;test_ss_dvo&quot;&amp;gt;&amp;lt;str&amp;gt;X&amp;lt;/str&amp;gt;&amp;lt;str&amp;gt;Y&amp;lt;/str&amp;gt;&amp;lt;/arr&amp;gt;&amp;lt;/doc&amp;gt;&amp;lt;doc&amp;gt;&amp;lt;str name=&quot;id&quot;&amp;gt;2&amp;lt;/str&amp;gt;&amp;lt;arr name=&quot;test_ss_dv&quot;&amp;gt;&amp;lt;str&amp;gt;X&amp;lt;/str&amp;gt;&amp;lt;str&amp;gt;X&amp;lt;/str&amp;gt;&amp;lt;str&amp;gt;Y&amp;lt;/str&amp;gt;&amp;lt;/arr&amp;gt;&amp;lt;/doc&amp;gt;&amp;lt;doc&amp;gt;&amp;lt;str name=&quot;id&quot;&amp;gt;3&amp;lt;/str&amp;gt;&amp;lt;arr name=&quot;test_ss_dvo2&quot;&amp;gt;&amp;lt;str&amp;gt;X&amp;lt;/str&amp;gt;&amp;lt;str&amp;gt;Y&amp;lt;/str&amp;gt;&amp;lt;/arr&amp;gt;&amp;lt;/doc&amp;gt;&amp;lt;doc&amp;gt;&amp;lt;str name=&quot;id&quot;&amp;gt;4&amp;lt;/str&amp;gt;&amp;lt;arr name=&quot;test_is_dvo&quot;&amp;gt;&amp;lt;int&amp;gt;-666&amp;lt;/int&amp;gt;&amp;lt;int&amp;gt;42&amp;lt;/int&amp;gt;&amp;lt;int&amp;gt;42&amp;lt;/int&amp;gt;&amp;lt;/arr&amp;gt;&amp;lt;/doc&amp;gt;&amp;lt;doc&amp;gt;&amp;lt;str name=&quot;id&quot;&amp;gt;5&amp;lt;/str&amp;gt;&amp;lt;arr name=&quot;test_fs_dvo&quot;&amp;gt;&amp;lt;float&amp;gt;-66.666&amp;lt;/float&amp;gt;&amp;lt;float&amp;gt;4.2&amp;lt;/float&amp;gt;&amp;lt;float&amp;gt;4.2&amp;lt;/float&amp;gt;&amp;lt;/arr&amp;gt;&amp;lt;/doc&amp;gt;&amp;lt;doc&amp;gt;&amp;lt;str name=&quot;id&quot;&amp;gt;6&amp;lt;/str&amp;gt;&amp;lt;arr name=&quot;test_ls_dvo&quot;&amp;gt;&amp;lt;long&amp;gt;-6666666&amp;lt;/long&amp;gt;&amp;lt;long&amp;gt;420&amp;lt;/long&amp;gt;&amp;lt;long&amp;gt;420&amp;lt;/long&amp;gt;&amp;lt;/arr&amp;gt;&amp;lt;/doc&amp;gt;&amp;lt;doc&amp;gt;&amp;lt;str name=&quot;id&quot;&amp;gt;7&amp;lt;/str&amp;gt;&amp;lt;arr name=&quot;test_ds_dvo&quot;&amp;gt;&amp;lt;double&amp;gt;-6.6666E-5&amp;lt;/double&amp;gt;&amp;lt;double&amp;gt;0.0042&amp;lt;/double&amp;gt;&amp;lt;double&amp;gt;0.0042&amp;lt;/double&amp;gt;&amp;lt;/arr&amp;gt;&amp;lt;/doc&amp;gt;&amp;lt;doc&amp;gt;&amp;lt;str name=&quot;id&quot;&amp;gt;8&amp;lt;/str&amp;gt;&amp;lt;arr name=&quot;test_dts_dvo&quot;&amp;gt;&amp;lt;date&amp;gt;1999-12-31T23:59:59Z&amp;lt;/date&amp;gt;&amp;lt;date&amp;gt;2016-07-04T03:02:01Z&amp;lt;/date&amp;gt;&amp;lt;date&amp;gt;2016-07-04T03:02:01Z&amp;lt;/date&amp;gt;&amp;lt;/arr&amp;gt;&amp;lt;/doc&amp;gt;&amp;lt;/result&amp;gt;
   [junit4]    &amp;gt; &amp;lt;/response&amp;gt;
   [junit4]    &amp;gt;        request was:q=*:*&amp;amp;fl=*&amp;amp;wt=xml
   [junit4]    &amp;gt;        at org.apache.solr.SolrTestCaseJ4.assertQ(SolrTestCaseJ4.java:940)

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;...what&apos;s happening here is that docs from previous test methods in this class (that should have been using their own distinct cores + dataDirs) are bleeding into this test, causing the doc the test is checking for in to be pushed out past the &lt;tt&gt;rows=10&lt;/tt&gt; results. (note the &lt;tt&gt;numFound=&quot;11&quot;&lt;/tt&gt;)&lt;/p&gt;</comment>
                            <comment id="16896537" author="hossman" created="Tue, 30 Jul 2019 21:32:14 +0000"  >
&lt;p&gt;Here&apos;s an updated patch with a fix that i &lt;em&gt;think&lt;/em&gt; is good, but i&apos;m still in the process of testing and I want spend some more time thinking through possible ramifications on third party subclasses.&lt;/p&gt;

&lt;p&gt;The basic idea is that &lt;tt&gt;deleteCore()&lt;/tt&gt; now nulls out the &lt;tt&gt;initCoreDataDir&lt;/tt&gt; variable  &amp;#8211; w/o doing any actual IO deletion.  We still trust/rely on &lt;tt&gt;TestRuleTemporaryFilesCleanup&lt;/tt&gt; to do it&apos;s job of deleting these temp dirs if the test succeeds.  Any place in &lt;tt&gt;SolrTestCaseJ4&lt;/tt&gt; that currently depends on &lt;tt&gt;initCoreDataDir&lt;/tt&gt; being set now uses a private helper method to ensure it&apos;s initialized.&lt;/p&gt;


</comment>
                            <comment id="16897525" author="hossman" created="Wed, 31 Jul 2019 21:02:43 +0000"  >&lt;p&gt;Testing of the last patch uncovered 3 classes of problems in our existing tests:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;tests trying to call &lt;tt&gt;FileUtils.deleteDirectory(initCoreDataDir);&lt;/tt&gt; after calling &lt;tt&gt;deleteCore()&lt;/tt&gt; (specifically to work around this bug!) that now get NPE
	&lt;ul&gt;
		&lt;li&gt;Example: TestRecovery&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;tests that need to be able to write files to &lt;tt&gt;initCoreDataDir&lt;/tt&gt; &lt;b&gt;before&lt;/b&gt; calling &lt;tt&gt;initCore()&lt;/tt&gt; &lt;em&gt;and&lt;/em&gt; call &lt;tt&gt;initCore()&lt;/tt&gt; + &lt;tt&gt;deleteCore()&lt;/tt&gt; in the intividual test method life cycle
	&lt;ul&gt;
		&lt;li&gt;the patch already ensures &lt;tt&gt;initCoreDataDir&lt;/tt&gt; is created before the subclass is initialized, so tests that just used a single &lt;tt&gt;initCore()&lt;/tt&gt; call for all test methods would be fine &amp;#8211; it&apos;s only tests that also &lt;tt&gt;deleteCore()&lt;/tt&gt; in &lt;tt&gt;@After&lt;/tt&gt; methods that are problems&lt;/li&gt;
		&lt;li&gt;Example: QueryElevationComponentTest, SolrCoreCheckLockOnStartupTest&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;one test that doesn&apos;t even use &lt;tt&gt;initCore()&lt;/tt&gt; &amp;#8211; it builds it&apos;s own TestHarness/CoreContainer using &lt;tt&gt;initCoreDataDir&lt;/tt&gt; directly &amp;#8211; but like #2, calls &lt;tt&gt;deleteCore()&lt;/tt&gt; in &lt;tt&gt;@After&lt;/tt&gt; methods (to leverate the common cleanup of the TestHarness)
	&lt;ul&gt;
		&lt;li&gt;Example: SolrMetricsIntegrationTest&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ol&gt;



&lt;p&gt;Based on these classes of problems, I think the best way forward is to update the existing patch to:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;make the &lt;tt&gt;initAndGetDataDir()&lt;/tt&gt; private helper method I introduced in the last patch public and change it to return the &lt;tt&gt;File&lt;/tt&gt; (not String) and beef up it&apos;s javadocs&lt;/li&gt;
	&lt;li&gt;deprecate &lt;tt&gt;initCoreDataDir&lt;/tt&gt; and change all existing direct uses of it in our tests to use the helper method&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;This makes fixing the existing test problems trivial: just replace all uses of &lt;tt&gt;initCoreDataDir&lt;/tt&gt; to &lt;tt&gt;initAndGetDataDir()&lt;/tt&gt; ... any logic attempting to seed/inspect the dataDir prior to &lt;tt&gt;initCore()&lt;/tt&gt; will initialize the directory that will be used by the next subsequent &lt;tt&gt;initCore()&lt;/tt&gt; call.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;I&apos;ve attached an updated patch with this changes,  but! ... for completeness, I think it&apos;s important to also consider about how this will impact any existing third-party tests downstream users may have written that subclass {{SolrTestCaseJ4}:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;if they don&apos;t refer to &lt;tt&gt;initCoreDataDir&lt;/tt&gt; directly, then like the existing patch the only change in behavior they should notice is that if their tests call &lt;tt&gt;deleteCore()&lt;/tt&gt; any subsequent &lt;tt&gt;initCore()&lt;/tt&gt; calls won&apos;t be polluted with the old data.&lt;/li&gt;
	&lt;li&gt;if they do refer to &lt;tt&gt;initCoreDataDir&lt;/tt&gt; directly in tests, then that usage &lt;em&gt;may&lt;/em&gt; continue to work as is if the usage is only &quot;between&quot; calls to &lt;tt&gt;initCore()&lt;/tt&gt; and &lt;tt&gt;deleteCore()&lt;/tt&gt; (ie: to inspect the data dir)&lt;/li&gt;
	&lt;li&gt;if they attempt to use &lt;tt&gt;initCoreDataDir&lt;/tt&gt; &lt;em&gt;after&lt;/em&gt; calling &lt;tt&gt;deleteCore()&lt;/tt&gt; (either directly, or indirectly by referencing it before a call to &lt;tt&gt;initCore()&lt;/tt&gt; in a test lifecycle that involves multiple &lt;tt&gt;initCore()&lt;/tt&gt; + &lt;tt&gt;deleteCore()&lt;/tt&gt; pairs) then they will start getting NPEs and will need to change their test to use &lt;tt&gt;initAndGetDataDir()&lt;/tt&gt; directly.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I think the tradeoff of fixing this bug vs the impact on end users is worth making this change: right now the bug can silently affect users w/weird results, but any tests that are impacted adversly by this change will trigger loud NPEs and have an easy fix we can mention in the ugprade notes.&lt;/p&gt;
</comment>
                            <comment id="16897674" author="hossman" created="Thu, 1 Aug 2019 01:10:31 +0000"  >&lt;p&gt;Updated patch to:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;update all remaining tests that still refered to (the now deprecated &lt;tt&gt;initCoreDataDir&lt;/tt&gt; ) to either use &lt;tt&gt;initAndGetDataDir()&lt;/tt&gt; or just use &lt;tt&gt;createTempDir()&lt;/tt&gt; when their usage never any reason to re-use the &lt;tt&gt;initCore()&lt;/tt&gt; dataDir anyway&lt;/li&gt;
	&lt;li&gt;fix a few precommit issues (unused imports).&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I&apos;m still testing, but i think this is ready...&lt;/p&gt;</comment>
                            <comment id="16897756" author="lucenesolrqa" created="Thu, 1 Aug 2019 04:33:24 +0000"  >&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/check.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;b&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;&lt;/b&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Vote &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Subsystem &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Runtime &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Comment &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; &lt;font color=&quot;brown&quot;&gt; Prechecks &lt;/font&gt; &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; test4tests &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  0m  0s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; The patch appears to include 14 new or modified test files. &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; &lt;font color=&quot;brown&quot;&gt; master Compile Tests &lt;/font&gt; &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; compile &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  2m 48s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; master passed &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; &lt;font color=&quot;brown&quot;&gt; Patch Compile Tests &lt;/font&gt; &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; compile &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  2m 38s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; the patch passed &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; javac &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  2m 38s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; the patch passed &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; Release audit (RAT) &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  1m 44s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; the patch passed &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; Check forbidden APIs &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  1m 31s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; the patch passed &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; Validate source patterns &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  1m 31s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; the patch passed &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; &lt;font color=&quot;brown&quot;&gt; Other Tests &lt;/font&gt; &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; unit &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  0m 54s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; dataimporthandler in the patch passed. &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; unit &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; 31m  6s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; core in the patch passed. &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; unit &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  0m 29s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; test-framework in the patch passed. &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;black&quot;&gt;&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;black&quot;&gt; &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;black&quot;&gt; 41m 15s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;black&quot;&gt; &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Subsystem &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Report/Notes &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; JIRA Issue &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13664&quot; title=&quot; SolrTestCaseJ4.deleteCore() does not delete/clean dataDir&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13664&quot;&gt;&lt;del&gt;SOLR-13664&lt;/del&gt;&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; JIRA Patch URL &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12976377/SOLR-13664.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12976377/SOLR-13664.patch&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Optional Tests &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  compile  javac  unit  ratsources  checkforbiddenapis  validatesourcepatterns  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; uname &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Linux lucene1-us-west 4.15.0-54-generic #58-Ubuntu SMP Mon Jun 24 10:55:24 UTC 2019 x86_64 x86_64 x86_64 GNU/Linux &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Build tool &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; ant &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Personality &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; /home/jenkins/jenkins-slave/workspace/PreCommit-SOLR-Build/sourcedir/dev-tools/test-patch/lucene-solr-yetus-personality.sh &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; git revision &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; master / 15c2fd673a &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; ant &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; version: Apache Ant(TM) version 1.10.5 compiled on March 28 2019 &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Default Java &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; LTS &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  Test Results &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://builds.apache.org/job/PreCommit-SOLR-Build/518/testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-SOLR-Build/518/testReport/&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; modules &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; C: solr/contrib/dataimporthandler solr/core solr/test-framework U: solr &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Console output &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://builds.apache.org/job/PreCommit-SOLR-Build/518/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-SOLR-Build/518/console&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Powered by &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Apache Yetus 0.7.0   &lt;a href=&quot;http://yetus.apache.org&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://yetus.apache.org&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;



&lt;p&gt;This message was automatically generated.&lt;/p&gt;
</comment>
                            <comment id="16898180" author="jira-bot" created="Thu, 1 Aug 2019 16:15:31 +0000"  >&lt;p&gt;Commit ab470a6564b1184c2d77892131f56a9912f7d8c6 in lucene-solr&apos;s branch refs/heads/master from Chris M. Hostetter&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=ab470a6&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=ab470a6&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13664&quot; title=&quot; SolrTestCaseJ4.deleteCore() does not delete/clean dataDir&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13664&quot;&gt;&lt;del&gt;SOLR-13664&lt;/del&gt;&lt;/a&gt;: Fixed SolrTestCaseJ4.deleteCore() to properly reset the dataDir used by initCore()&lt;/p&gt;</comment>
                            <comment id="16898255" author="jira-bot" created="Thu, 1 Aug 2019 18:17:39 +0000"  >&lt;p&gt;Commit 89af2ec30428c37e4a5ec6d30b9e32968b686bee in lucene-solr&apos;s branch refs/heads/branch_8x from Chris M. Hostetter&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=89af2ec&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=89af2ec&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13664&quot; title=&quot; SolrTestCaseJ4.deleteCore() does not delete/clean dataDir&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13664&quot;&gt;&lt;del&gt;SOLR-13664&lt;/del&gt;&lt;/a&gt;: Fixed SolrTestCaseJ4.deleteCore() to properly reset the dataDir used by initCore()&lt;/p&gt;

&lt;p&gt;(cherry picked from commit ab470a6564b1184c2d77892131f56a9912f7d8c6)&lt;/p&gt;</comment>
                            <comment id="16898367" author="hossman" created="Thu, 1 Aug 2019 21:22:55 +0000"  >&lt;p&gt;updated jira summary to be more helpful to users who may find this jira via CHANGES.txt pointer and need more information on how it affects them if they have their own custom tests using SolrTestCaseJ4.&lt;/p&gt;</comment>
                            <comment id="16899695" author="jira-bot" created="Sun, 4 Aug 2019 22:53:04 +0000"  >&lt;p&gt;Commit ab470a6564b1184c2d77892131f56a9912f7d8c6 in lucene-solr&apos;s branch refs/heads/&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13105&quot; title=&quot;A visual guide to Solr Math Expressions and Streaming Expressions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13105&quot;&gt;&lt;del&gt;SOLR-13105&lt;/del&gt;&lt;/a&gt;-visual from Chris M. Hostetter&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=ab470a6&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=ab470a6&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13664&quot; title=&quot; SolrTestCaseJ4.deleteCore() does not delete/clean dataDir&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13664&quot;&gt;&lt;del&gt;SOLR-13664&lt;/del&gt;&lt;/a&gt;: Fixed SolrTestCaseJ4.deleteCore() to properly reset the dataDir used by initCore()&lt;/p&gt;</comment>
                            <comment id="17535507" author="janhoy" created="Thu, 12 May 2022 00:26:36 +0000"  >&lt;p&gt;Closing after the 9.0.0 release&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13432438">SOLR-16082</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12976377" name="SOLR-13664.patch" size="25023" author="hossman" created="Thu, 1 Aug 2019 01:10:09 +0000"/>
                            <attachment id="12976366" name="SOLR-13664.patch" size="13080" author="hossman" created="Wed, 31 Jul 2019 21:02:29 +0000"/>
                            <attachment id="12976271" name="SOLR-13664.patch" size="7200" author="hossman" created="Tue, 30 Jul 2019 21:32:02 +0000"/>
                            <attachment id="12976252" name="SOLR-13664.patch" size="2298" author="hossman" created="Tue, 30 Jul 2019 18:27:14 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 26 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0562w:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>