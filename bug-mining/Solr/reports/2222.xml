<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:00:10 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-6850] AutoAddReplicas does not wait enough for a replica to get live</title>
                <link>https://issues.apache.org/jira/browse/SOLR-6850</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;After we have detected that a replica needs failing over, we add a replica and wait to see if it&apos;s live.&lt;/p&gt;

&lt;p&gt;Currently we only wait for 30ms , but I think the intention here was to wait for 30s.&lt;/p&gt;

&lt;p&gt;In CloudStateUtil.waitToSeeLive() the conversion should have been &lt;tt&gt;System.nanoTime() + TimeUnit.NANOSECONDS.convert(timeoutInMs, TimeUnit.SECONDS);&lt;/tt&gt; instead of &lt;tt&gt;System.nanoTime() + TimeUnit.NANOSECONDS.convert(timeoutInMs, TimeUnit.MILLISECONDS);&lt;/tt&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12761688">SOLR-6850</key>
            <summary>AutoAddReplicas does not wait enough for a replica to get live</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="markrmiller@gmail.com">Mark Miller</assignee>
                                    <reporter username="varun">Varun Thacker</reporter>
                        <labels>
                    </labels>
                <created>Mon, 15 Dec 2014 06:19:04 +0000</created>
                <updated>Mon, 9 May 2016 18:54:09 +0000</updated>
                            <resolved>Thu, 26 Feb 2015 13:31:39 +0000</resolved>
                                    <version>4.10</version>
                    <version>4.10.1</version>
                    <version>4.10.2</version>
                    <version>5.0</version>
                    <version>6.0</version>
                                    <fixVersion>4.10.4</fixVersion>
                    <fixVersion>5.0</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="14246360" author="varunthacker" created="Mon, 15 Dec 2014 06:21:03 +0000"  >&lt;p&gt;Simple patch.&lt;/p&gt;</comment>
                            <comment id="14246367" author="varunthacker" created="Mon, 15 Dec 2014 06:29:23 +0000"  >&lt;p&gt;Whoops I created the previous patch too fast.&lt;/p&gt;

&lt;p&gt;ClusterStateUtil.waitToSeeLive() has a timeoutInMs param. So keeping that consistent and OverseerAutoReplicaFailoverThread.addReplica calls it correctly.&lt;/p&gt;</comment>
                            <comment id="14249843" author="varunthacker" created="Wed, 17 Dec 2014 13:41:48 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; What are your thoughts on this?&lt;/p&gt;</comment>
                            <comment id="14250057" author="markrmiller@gmail.com" created="Wed, 17 Dec 2014 16:17:52 +0000"  >&lt;p&gt;Good catch Varun! I just took a look and this is actually fixed in Cloudera Search - whoops. I&apos;ll sync up and see if there is any other changes I have that are missing after committing this.&lt;/p&gt;</comment>
                            <comment id="14256411" author="jira-bot" created="Tue, 23 Dec 2014 01:16:14 +0000"  >&lt;p&gt;Commit 1647460 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1647460&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1647460&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6850&quot; title=&quot;AutoAddReplicas does not wait enough for a replica to get live&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6850&quot;&gt;&lt;del&gt;SOLR-6850&lt;/del&gt;&lt;/a&gt;: AutoAddReplicas makes a call to wait to see live replicas that times  out after 30 milliseconds instead of 30 seconds.&lt;/p&gt;</comment>
                            <comment id="14256413" author="jira-bot" created="Tue, 23 Dec 2014 01:16:57 +0000"  >&lt;p&gt;Commit 1647461 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/branches/branch_5x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1647461&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1647461&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6850&quot; title=&quot;AutoAddReplicas does not wait enough for a replica to get live&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6850&quot;&gt;&lt;del&gt;SOLR-6850&lt;/del&gt;&lt;/a&gt;: AutoAddReplicas makes a call to wait to see live replicas that times  out after 30 milliseconds instead of 30 seconds.&lt;/p&gt;</comment>
                            <comment id="14256414" author="markrmiller@gmail.com" created="Tue, 23 Dec 2014 01:17:42 +0000"  >&lt;p&gt;Thanks Varun!&lt;/p&gt;</comment>
                            <comment id="14332922" author="anshumg" created="Mon, 23 Feb 2015 05:02:37 +0000"  >&lt;p&gt;Bulk close after 5.0 release.&lt;/p&gt;</comment>
                            <comment id="14338390" author="shalinmangar" created="Thu, 26 Feb 2015 13:30:32 +0000"  >&lt;p&gt;Reopening to backport to 4.10.4&lt;/p&gt;</comment>
                            <comment id="14338392" author="jira-bot" created="Thu, 26 Feb 2015 13:33:24 +0000"  >&lt;p&gt;Commit 1662446 from shalin@apache.org in branch &apos;dev/branches/lucene_solr_4_10&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1662446&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1662446&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6850&quot; title=&quot;AutoAddReplicas does not wait enough for a replica to get live&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6850&quot;&gt;&lt;del&gt;SOLR-6850&lt;/del&gt;&lt;/a&gt;: AutoAddReplicas makes a call to wait to see live replicas that times out after 30 milliseconds instead of 30 seconds.&lt;/p&gt;</comment>
                            <comment id="14348917" author="mikemccand" created="Thu, 5 Mar 2015 15:36:30 +0000"  >&lt;p&gt;Bulk close for 4.10.4 release&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12687184" name="SOLR-6850.patch" size="985" author="varun" created="Mon, 15 Dec 2014 06:29:23 +0000"/>
                            <attachment id="12687180" name="SOLR-6850.patch" size="1263" author="varun" created="Mon, 15 Dec 2014 06:21:03 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 37 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i23fbr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>