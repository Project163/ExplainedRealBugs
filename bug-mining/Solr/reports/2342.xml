<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:02:33 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-7084] FreeTextSuggester Nullpointer when building dictionary</title>
                <link>https://issues.apache.org/jira/browse/SOLR-7084</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;Using &lt;tt&gt;FreeTextSuggester&lt;/tt&gt;. When starting Solr or reloading core, all suggest requests will fail due to a &lt;tt&gt;Nullpointer&lt;/tt&gt;. There is a &lt;tt&gt;HTTP 500&lt;/tt&gt; response code with the following body. Note that the error returned does not have a &lt;tt&gt;msg&lt;/tt&gt; section but only a trace:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;{
  &lt;span class=&quot;code-quote&quot;&gt;&quot;error&quot;&lt;/span&gt;:{
    &lt;span class=&quot;code-quote&quot;&gt;&quot;trace&quot;&lt;/span&gt;:&quot;java.lang.NullPointerException\n\tat org.apache.lucene.search.suggest.analyzing.FreeTextSuggester.lookup(FreeTextSuggester.java:542)\n\tat org.apache.lucene.search.suggest.analyzing.FreeTextSuggester.lookup(FreeTextSuggester.java:440)\n\tat org.apache.lucene.search.suggest.analyzing.FreeTextSuggester.lookup(FreeTextSuggester.java:429)\n\tat org.apache.solr.spelling.suggest.SolrSuggester.getSuggestions(SolrSuggester.java:199)\n\tat 
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Offending line:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;      BytesReader bytesReader = fst.getBytesReader();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The fst is null at this time.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12772991">SOLR-7084</key>
            <summary>FreeTextSuggester Nullpointer when building dictionary</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="janhoy">Jan H&#248;ydahl</assignee>
                                    <reporter username="janhoy">Jan H&#248;ydahl</reporter>
                        <labels>
                    </labels>
                <created>Fri, 6 Feb 2015 12:43:59 +0000</created>
                <updated>Mon, 9 May 2016 18:50:24 +0000</updated>
                            <resolved>Thu, 12 Feb 2015 11:22:41 +0000</resolved>
                                    <version>4.10.2</version>
                                    <fixVersion>5.1</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                    <component>Suggester</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14311968" author="janhoy" created="Mon, 9 Feb 2015 09:22:38 +0000"  >&lt;p&gt;Just throwing an exception is not very elegant. We could mask the exception and return empty list without further notice but that would render the API inconsistent. Here are two options:&lt;br/&gt;
A) Fail the whole request with temporary error code (e.g. 503 Service Unavailable)&lt;br/&gt;
B) Fail only the request for this dictionary, returning empty list and an error code (SuggesterResult)&lt;/p&gt;

&lt;p&gt;I&apos;m tempted to suggest A here for the sake of simplicity. If requesting multiple dictionaries in one request, you&apos;ll not get a response before all dictionaries are available and working.&lt;/p&gt;</comment>
                            <comment id="14312110" author="janhoy" created="Mon, 9 Feb 2015 11:14:50 +0000"  >&lt;p&gt;This may not be as severe as I first thought, as the JSON response is well formed, containing an &lt;tt&gt;error&lt;/tt&gt; element and no &lt;tt&gt;msg&lt;/tt&gt; node explaining why. A more direct handling of the situation where fst==null with a proper msg code would be good. Perhaps also &lt;tt&gt;SERVICE_NOT_AVAILABLE&lt;/tt&gt; is better than the current 500 server error.&lt;/p&gt;</comment>
                            <comment id="14312250" author="janhoy" created="Mon, 9 Feb 2015 13:57:14 +0000"  >&lt;p&gt;Attaching simplistic patch avoiding the nullpointer and instead throwing IllegalStateException&lt;/p&gt;</comment>
                            <comment id="14317950" author="jira-bot" created="Thu, 12 Feb 2015 10:21:05 +0000"  >&lt;p&gt;Commit 1659197 from janhoy@apache.org in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1659197&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1659197&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7084&quot; title=&quot;FreeTextSuggester Nullpointer when building dictionary&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7084&quot;&gt;&lt;del&gt;SOLR-7084&lt;/del&gt;&lt;/a&gt;: FreeTextSuggester Nullpointer when building dictionary&lt;/p&gt;</comment>
                            <comment id="14318014" author="jira-bot" created="Thu, 12 Feb 2015 11:24:53 +0000"  >&lt;p&gt;Commit 1659225 from janhoy@apache.org in branch &apos;dev/branches/branch_5x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1659225&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1659225&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7084&quot; title=&quot;FreeTextSuggester Nullpointer when building dictionary&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7084&quot;&gt;&lt;del&gt;SOLR-7084&lt;/del&gt;&lt;/a&gt;: FreeTextSuggester Nullpointer when building dictionary (merge from trunk)&lt;/p&gt;</comment>
                            <comment id="14495315" author="thelabdude" created="Wed, 15 Apr 2015 00:30:34 +0000"  >&lt;p&gt;Bulk close after 5.1 release&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12697479" name="SOLR-7084.patch" size="1317" author="janhoy" created="Mon, 9 Feb 2015 13:57:13 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 32 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i25acf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>