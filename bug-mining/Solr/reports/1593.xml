<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:41:03 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-5366] Too many close on transient core with unload command</title>
                <link>https://issues.apache.org/jira/browse/SOLR-5366</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;Too many close on transient core with unload command, because already closed by transientcache &lt;/p&gt;

&lt;p&gt;To reproduce :&lt;br/&gt;
set transientCacheSize=2 and start with no cores&lt;/p&gt;

&lt;p&gt;Create 3 cores :&lt;br/&gt;
curl &quot;http://ip:port/solr/admin/cores?action=CREATE&amp;amp;name=coreX&amp;amp;instanceDir=path_to_instanceDir_coreX&amp;amp;dataDir=path_to_dataDir_coreX&amp;amp;loadOnStartup=false&amp;amp;transient=true&quot;&lt;/p&gt;

&lt;p&gt;Execute :&lt;br/&gt;
curl &quot;http://ip:port/solr/core1/select?q=&lt;b&gt;:&lt;/b&gt;&quot;&lt;br/&gt;
curl &quot;http://ip:port/solr/core2/select?q=&lt;b&gt;:&lt;/b&gt;&quot;&lt;br/&gt;
curl &quot;http://ip:port/solr/core3/select?q=&lt;b&gt;:&lt;/b&gt;&quot;&lt;/p&gt;

&lt;p&gt;curl &quot;http://ip:port/solr/admin/cores?action=UNLOAD&amp;amp;core=core1&quot;&lt;/p&gt;

&lt;p&gt;And in Solr logs :&lt;br/&gt;
ERROR org.apache.solr.core.SolrCore  &#8211; Too many close &lt;span class=&quot;error&quot;&gt;&amp;#91;count:-1&amp;#93;&lt;/span&gt; on org.apache.solr.core.SolrCore@20e5ace9. Please report this exception to solr-user@lucene.apache.org&lt;/p&gt;

&lt;p&gt;The patch in attachment is for svn solr branch_4X (revision number 1526418)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12674514">SOLR-5366</key>
            <summary>Too many close on transient core with unload command</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="erickerickson">Erick Erickson</assignee>
                                    <reporter username="olivier soyez">olivier soyez</reporter>
                        <labels>
                            <label>patch</label>
                    </labels>
                <created>Fri, 18 Oct 2013 13:45:43 +0000</created>
                <updated>Mon, 9 May 2016 18:48:14 +0000</updated>
                            <resolved>Thu, 7 Nov 2013 21:01:45 +0000</resolved>
                                    <version>4.4</version>
                    <version>4.6</version>
                                    <fixVersion>4.6</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                    <component>multicore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13799114" author="erickerickson" created="Fri, 18 Oct 2013 14:02:10 +0000"  >&lt;p&gt;Picking up so it stays on my radar, but I don&apos;t feel posessive!&lt;/p&gt;</comment>
                            <comment id="13816114" author="erickerickson" created="Thu, 7 Nov 2013 16:45:53 +0000"  >&lt;p&gt;Building on Olivier&apos;s patch. I think there was a race condition possible (but unlikely) where the close could be pending on the transient core, so I changed the code a bit to avoid that.&lt;/p&gt;

&lt;p&gt;Thanks Olivier!&lt;/p&gt;

&lt;p&gt;Committing to trunk momentarily, 4x a in a bit.&lt;/p&gt;</comment>
                            <comment id="13816116" author="jira-bot" created="Thu, 7 Nov 2013 16:47:37 +0000"  >&lt;p&gt;Commit 1539709 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=erickoerickson&quot; class=&quot;user-hover&quot; rel=&quot;erickoerickson&quot;&gt;erickoerickson&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1539709&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1539709&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5366&quot; title=&quot;Too many close on transient core with unload command&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5366&quot;&gt;&lt;del&gt;SOLR-5366&lt;/del&gt;&lt;/a&gt;: transient cores automatically unloaded when creating cores via admin API would be closed too many times&lt;/p&gt;</comment>
                            <comment id="13816317" author="jira-bot" created="Thu, 7 Nov 2013 19:29:29 +0000"  >&lt;p&gt;Commit 1539773 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=erickoerickson&quot; class=&quot;user-hover&quot; rel=&quot;erickoerickson&quot;&gt;erickoerickson&lt;/a&gt; in branch &apos;dev/branches/branch_4x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1539773&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1539773&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5366&quot; title=&quot;Too many close on transient core with unload command&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5366&quot;&gt;&lt;del&gt;SOLR-5366&lt;/del&gt;&lt;/a&gt;: transient cores automatically unloaded when creating cores via admin API would be closed too many times&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12612634" name="SOLR-5366.patch" size="5134" author="erickerickson" created="Thu, 7 Nov 2013 16:45:53 +0000"/>
                            <attachment id="12609131" name="SOLR-5366.patch" size="923" author="olivier soyez" created="Fri, 18 Oct 2013 13:47:17 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>354136</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 2 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1p1zj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>354428</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>