<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:19:46 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-10120] A SolrCore reload can remove the index from the previous SolrCore during replication index rollover.</title>
                <link>https://issues.apache.org/jira/browse/SOLR-10120</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description></description>
                <environment></environment>
        <key id="13042098">SOLR-10120</key>
            <summary>A SolrCore reload can remove the index from the previous SolrCore during replication index rollover.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="markrmiller@gmail.com">Mark Miller</assignee>
                                    <reporter username="markrmiller@gmail.com">Mark Miller</reporter>
                        <labels>
                    </labels>
                <created>Fri, 10 Feb 2017 15:49:25 +0000</created>
                <updated>Sat, 8 Jun 2019 15:31:03 +0000</updated>
                            <resolved>Sat, 25 Feb 2017 04:19:19 +0000</resolved>
                                                    <fixVersion>6.5</fixVersion>
                    <fixVersion>7.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15861484" author="markrmiller@gmail.com" created="Fri, 10 Feb 2017 16:25:57 +0000"  >&lt;p&gt;This patch will only allow one core reload at a time and reload index cleanup will leave the most recent index.&lt;/p&gt;</comment>
                            <comment id="15861506" author="markrmiller@gmail.com" created="Fri, 10 Feb 2017 16:40:24 +0000"  >&lt;p&gt;I suppose we could also do cleanup on core shutdown and keep the time the old directory is around to a minimum.&lt;/p&gt;</comment>
                            <comment id="15862553" author="jira-bot" created="Sat, 11 Feb 2017 22:21:52 +0000"  >&lt;p&gt;Commit 2196663156d2d72bc61e72c296a2c778754f881f in lucene-solr&apos;s branch refs/heads/master from markrmiller&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=2196663&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=2196663&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10120&quot; title=&quot;A SolrCore reload can remove the index from the previous SolrCore during replication index rollover.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10120&quot;&gt;&lt;del&gt;SOLR-10120&lt;/del&gt;&lt;/a&gt;: A SolrCore reload can remove the index from the previous SolrCore during replication index rollover.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10124&quot; title=&quot;Replication can skip removing a temporary index directory in some cases when it should not.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10124&quot;&gt;&lt;del&gt;SOLR-10124&lt;/del&gt;&lt;/a&gt;: Replication can skip removing a temporary index directory in some cases when it should not.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10119&quot; title=&quot;TestReplicationHandler has always been too good at finding too many annoying bugs.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10119&quot;&gt;&lt;del&gt;SOLR-10119&lt;/del&gt;&lt;/a&gt;: Harden TestReplicationHandler.&lt;/p&gt;</comment>
                            <comment id="15862622" author="jira-bot" created="Sun, 12 Feb 2017 02:39:07 +0000"  >&lt;p&gt;Commit 53beb4989e2acaf111c00f59d57f7812a88e3a2f in lucene-solr&apos;s branch refs/heads/branch_6x from markrmiller&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=53beb49&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=53beb49&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10120&quot; title=&quot;A SolrCore reload can remove the index from the previous SolrCore during replication index rollover.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10120&quot;&gt;&lt;del&gt;SOLR-10120&lt;/del&gt;&lt;/a&gt;: A SolrCore reload can remove the index from the previous SolrCore during replication index rollover.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10124&quot; title=&quot;Replication can skip removing a temporary index directory in some cases when it should not.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10124&quot;&gt;&lt;del&gt;SOLR-10124&lt;/del&gt;&lt;/a&gt;: Replication can skip removing a temporary index directory in some cases when it should not.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10119&quot; title=&quot;TestReplicationHandler has always been too good at finding too many annoying bugs.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10119&quot;&gt;&lt;del&gt;SOLR-10119&lt;/del&gt;&lt;/a&gt;: Harden TestReplicationHandler.&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;Conflicts:&lt;/li&gt;
	&lt;li&gt;solr/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;solr/core/src/java/org/apache/solr/core/SolrCore.java&lt;/li&gt;
	&lt;li&gt;solr/core/src/java/org/apache/solr/handler/IndexFetcher.java&lt;/li&gt;
	&lt;li&gt;solr/core/src/test/org/apache/solr/handler/TestReplicationHandler.java&lt;/li&gt;
&lt;/ol&gt;
</comment>
                            <comment id="15872910" author="jira-bot" created="Sat, 18 Feb 2017 02:23:18 +0000"  >&lt;p&gt;Commit 19c8ec2bf1882bed1bb34d0b55198d03f2018838 in lucene-solr&apos;s branch refs/heads/master from markrmiller&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=19c8ec2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=19c8ec2&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10120&quot; title=&quot;A SolrCore reload can remove the index from the previous SolrCore during replication index rollover.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10120&quot;&gt;&lt;del&gt;SOLR-10120&lt;/del&gt;&lt;/a&gt;: Clean up earlier so we don&apos;t hit closed resources.&lt;/p&gt;</comment>
                            <comment id="15873368" author="jira-bot" created="Sat, 18 Feb 2017 23:57:47 +0000"  >&lt;p&gt;Commit cbf0f8383b10fee0583e2b50188979b8a0583dc8 in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=caomanhdat&quot; class=&quot;user-hover&quot; rel=&quot;caomanhdat&quot;&gt;caomanhdat&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=cbf0f83&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=cbf0f83&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10120&quot; title=&quot;A SolrCore reload can remove the index from the previous SolrCore during replication index rollover.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10120&quot;&gt;&lt;del&gt;SOLR-10120&lt;/del&gt;&lt;/a&gt;: Convert/migrate tests using EasyMock to Mockito&lt;/p&gt;</comment>
                            <comment id="15878784" author="jira-bot" created="Wed, 22 Feb 2017 17:26:37 +0000"  >&lt;p&gt;Commit 1df02f0bcb0c03f2337d1d44489080ba99217f4b in lucene-solr&apos;s branch refs/heads/branch_6x from markrmiller&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=1df02f0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=1df02f0&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10120&quot; title=&quot;A SolrCore reload can remove the index from the previous SolrCore during replication index rollover.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10120&quot;&gt;&lt;del&gt;SOLR-10120&lt;/del&gt;&lt;/a&gt;: Clean up earlier so we don&apos;t hit closed resources.&lt;/p&gt;</comment>
                            <comment id="15883984" author="markrmiller@gmail.com" created="Sat, 25 Feb 2017 03:26:07 +0000"  >&lt;p&gt;I think there is an issue with the index cleanup test after this. I need to investigate.&lt;/p&gt;</comment>
                            <comment id="15884008" author="markrmiller@gmail.com" created="Sat, 25 Feb 2017 04:19:19 +0000"  >&lt;p&gt;Nope, seems the CleanupOldIndexTest fails are not related to this issue.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13042071">SOLR-10119</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12852075" name="SOLR-10120.patch" size="12014" author="markrmiller@gmail.com" created="Fri, 10 Feb 2017 16:25:57 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 38 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i39wxz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>