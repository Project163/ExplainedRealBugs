<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:51:19 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-6123] The &apos;clusterstatus&apos; API filtered by collection times out if a long running operation is in progress</title>
                <link>https://issues.apache.org/jira/browse/SOLR-6123</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;If a long running shard split is in progress, say for collection=X, then clusterstatus API with collection=X will time out.&lt;/p&gt;

&lt;p&gt;The OverseerCollectionProcessor should never block an operation such as clusterstatus even if there are tasks for the same collection in progress.&lt;/p&gt;

&lt;p&gt;This bug was introduced by &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5681&quot; title=&quot;Make the OverseerCollectionProcessor multi-threaded&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5681&quot;&gt;&lt;del&gt;SOLR-5681&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12717493">SOLR-6123</key>
            <summary>The &apos;clusterstatus&apos; API filtered by collection times out if a long running operation is in progress</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="anshum">Anshum Gupta</assignee>
                                    <reporter username="shalin">Shalin Shekhar Mangar</reporter>
                        <labels>
                    </labels>
                <created>Fri, 30 May 2014 09:54:57 +0000</created>
                <updated>Tue, 10 Jun 2014 05:41:08 +0000</updated>
                            <resolved>Wed, 4 Jun 2014 23:27:08 +0000</resolved>
                                    <version>4.9</version>
                                    <fixVersion>4.9</fixVersion>
                                    <component>SolrCloud</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14016867" author="noble.paul" created="Tue, 3 Jun 2014 16:49:59 +0000"  >&lt;p&gt;Any operation which is readOnly should not have to block&lt;/p&gt;</comment>
                            <comment id="14017293" author="anshumg" created="Wed, 4 Jun 2014 00:35:59 +0000"  >&lt;p&gt;Fix with a test.&lt;/p&gt;</comment>
                            <comment id="14018306" author="anshumg" created="Wed, 4 Jun 2014 23:00:09 +0000"  >&lt;p&gt;Updated patch.&lt;/p&gt;</comment>
                            <comment id="14018309" author="jira-bot" created="Wed, 4 Jun 2014 23:02:58 +0000"  >&lt;p&gt;Commit 1600535 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anshumg&quot; class=&quot;user-hover&quot; rel=&quot;anshumg&quot;&gt;anshumg&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1600535&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1600535&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6123&quot; title=&quot;The &amp;#39;clusterstatus&amp;#39; API filtered by collection times out if a long running operation is in progress&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6123&quot;&gt;&lt;del&gt;SOLR-6123&lt;/del&gt;&lt;/a&gt;: Make CLUSTERSTATE Api unblocked and non-blocking always&lt;/p&gt;</comment>
                            <comment id="14018324" author="jira-bot" created="Wed, 4 Jun 2014 23:22:52 +0000"  >&lt;p&gt;Commit 1600538 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anshumg&quot; class=&quot;user-hover&quot; rel=&quot;anshumg&quot;&gt;anshumg&lt;/a&gt; in branch &apos;dev/branches/branch_4x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1600538&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1600538&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6123&quot; title=&quot;The &amp;#39;clusterstatus&amp;#39; API filtered by collection times out if a long running operation is in progress&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6123&quot;&gt;&lt;del&gt;SOLR-6123&lt;/del&gt;&lt;/a&gt;: Make CLUSTERSTATE Api unblocked and non-blocking always (Merge from trunk r1600535)&lt;/p&gt;</comment>
                            <comment id="14025887" author="jira-bot" created="Mon, 9 Jun 2014 22:59:02 +0000"  >&lt;p&gt;Commit 1601521 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anshumg&quot; class=&quot;user-hover&quot; rel=&quot;anshumg&quot;&gt;anshumg&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1601521&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1601521&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6123&quot; title=&quot;The &amp;#39;clusterstatus&amp;#39; API filtered by collection times out if a long running operation is in progress&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6123&quot;&gt;&lt;del&gt;SOLR-6123&lt;/del&gt;&lt;/a&gt;: Fix an occasional failing Jenkins build.&lt;/p&gt;</comment>
                            <comment id="14025889" author="jira-bot" created="Mon, 9 Jun 2014 23:00:17 +0000"  >&lt;p&gt;Commit 1601522 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anshumg&quot; class=&quot;user-hover&quot; rel=&quot;anshumg&quot;&gt;anshumg&lt;/a&gt; in branch &apos;dev/branches/branch_4x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1601522&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1601522&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6123&quot; title=&quot;The &amp;#39;clusterstatus&amp;#39; API filtered by collection times out if a long running operation is in progress&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6123&quot;&gt;&lt;del&gt;SOLR-6123&lt;/del&gt;&lt;/a&gt;: Fix an occasional failing Jenkins build. (Merge from trunk r1601521)&lt;/p&gt;</comment>
                            <comment id="14026009" author="shalinmangar" created="Tue, 10 Jun 2014 01:26:53 +0000"  >&lt;p&gt;How does removing the call to overseerstatus help fix the jenkins failure?&lt;/p&gt;</comment>
                            <comment id="14026022" author="anshumg" created="Tue, 10 Jun 2014 01:47:28 +0000"  >&lt;p&gt;There were 2 calls during the Split shard and that kind of at times led to overshooting the time taken for the split to complete.&lt;br/&gt;
The split completes during this time, leading to the assertion failure with the split being in &apos;completed&apos; state instead of &apos;running&apos;.&lt;/p&gt;</comment>
                            <comment id="14026124" author="shalinmangar" created="Tue, 10 Jun 2014 05:29:14 +0000"  >&lt;p&gt;That isn&apos;t really a fix. The split can still complete even with one call. The fix is to make split allow both &quot;running&quot; and &quot;completed&quot; statuses at the end, no?&lt;/p&gt;</comment>
                            <comment id="14026133" author="anshumg" created="Tue, 10 Jun 2014 05:41:08 +0000"  >&lt;p&gt;Allowing both would actually not even be a test. It&apos;s a tough thing to actually test as the time taken for split and the clusterstatus api is subject to other variables and the tasks might complete sooner than expected.&lt;br/&gt;
This would certainly reduce the chances of the test failing, though certainly not guarantee success always.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12648401" name="SOLR-6123.patch" size="4125" author="anshum" created="Wed, 4 Jun 2014 23:00:09 +0000"/>
                            <attachment id="12648251" name="SOLR-6123.patch" size="4586" author="anshum" created="Wed, 4 Jun 2014 00:35:59 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>395697</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 24 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1w4jr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>395817</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>