<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:05:56 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-7091] Data-driven schema and block-join style update requests don&apos;t play well together</title>
                <link>https://issues.apache.org/jira/browse/SOLR-7091</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;Tried to index the basic block-join example docs from the refguide (see link below) into the gettingstarted collection, which uses the data-driven schema configs:&lt;br/&gt;
&lt;a href=&quot;https://cwiki.apache.org/confluence/display/solr/Other+Parsers#OtherParsers-BlockJoinQueryParsers&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://cwiki.apache.org/confluence/display/solr/Other+Parsers#OtherParsers-BlockJoinQueryParsers&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Here&apos;s the result:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;$ bin/post -c gettingstarted block-join/docs.xml 
java -classpath dist/solr-core-6.0.0-SNAPSHOT.jar -Dauto=yes -Dc=gettingstarted -Ddata=files org.apache.solr.util.SimplePostTool block-join/docs.xml
SimplePostTool version 5.0.0
Posting files to [base] url http:&lt;span class=&quot;code-comment&quot;&gt;//localhost:8983/solr/gettingstarted/update...
&lt;/span&gt;Entering auto mode. File endings considered are xml,json,csv,pdf,doc,docx,ppt,pptx,xls,xlsx,odt,odp,ods,ott,otp,ots,rtf,htm,html,txt,log
POSTing file docs.xml (application/xml) to [base]
SimplePostTool: WARNING: Solr returned an error #400 (Bad Request) &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; url: http:&lt;span class=&quot;code-comment&quot;&gt;//localhost:8983/solr/gettingstarted/update
&lt;/span&gt;SimplePostTool: WARNING: Response: &amp;lt;?xml version=&lt;span class=&quot;code-quote&quot;&gt;&quot;1.0&quot;&lt;/span&gt; encoding=&lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-8&quot;&lt;/span&gt;?&amp;gt;
&amp;lt;response&amp;gt;
&amp;lt;lst name=&lt;span class=&quot;code-quote&quot;&gt;&quot;responseHeader&quot;&lt;/span&gt;&amp;gt;&amp;lt;&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;status&quot;&lt;/span&gt;&amp;gt;400&amp;lt;/&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;&amp;gt;&amp;lt;&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;QTime&quot;&lt;/span&gt;&amp;gt;429&amp;lt;/&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;&amp;gt;&amp;lt;/lst&amp;gt;&amp;lt;lst name=&lt;span class=&quot;code-quote&quot;&gt;&quot;error&quot;&lt;/span&gt;&amp;gt;&amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;msg&quot;&lt;/span&gt;&amp;gt;undefined field: &lt;span class=&quot;code-quote&quot;&gt;&quot;comments&quot;&lt;/span&gt;&amp;lt;/str&amp;gt;&amp;lt;&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;code&quot;&lt;/span&gt;&amp;gt;400&amp;lt;/&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;&amp;gt;&amp;lt;/lst&amp;gt;
&amp;lt;/response&amp;gt;
SimplePostTool: WARNING: IOException &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; reading response: java.io.IOException: Server returned HTTP response code: 400 &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; URL: http:&lt;span class=&quot;code-comment&quot;&gt;//localhost:8983/solr/gettingstarted/update
&lt;/span&gt;1 files indexed.
COMMITting Solr index changes to http:&lt;span class=&quot;code-comment&quot;&gt;//localhost:8983/solr/gettingstarted/update...
&lt;/span&gt;Time spent: 0:00:00.481
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Logs from the leader are:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;INFO  - 2015-02-09 17:08:27.882; org.apache.solr.schema.ManagedIndexSchema; Persisted managed schema version 1 at /configs/gettingstarted/managed-schema
ERROR - 2015-02-09 17:08:27.882; org.apache.solr.schema.ManagedIndexSchema; Bad version when trying to persist schema using 0 due to: org.apache.zookeeper.KeeperException$BadVersionException: KeeperErrorCode = BadVersion &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; /configs/gettingstarted/managed-schema
INFO  - 2015-02-09 17:08:27.883; org.apache.solr.schema.ManagedIndexSchema; Failed to persist managed schema at /configs/gettingstarted/managed-schema - version mismatch
INFO  - 2015-02-09 17:08:27.882; org.apache.solr.schema.ZkIndexSchemaReader$1; A schema change: WatchedEvent state:SyncConnected type:NodeDataChanged path:/configs/gettingstarted/managed-schema, has occurred - updating schema from ZooKeeper ...
INFO  - 2015-02-09 17:08:27.882; org.apache.solr.schema.ZkIndexSchemaReader$1; A schema change: WatchedEvent state:SyncConnected type:NodeDataChanged path:/configs/gettingstarted/managed-schema, has occurred - updating schema from ZooKeeper ...
INFO  - 2015-02-09 17:08:27.884; org.apache.solr.schema.ZkIndexSchemaReader; Retrieved schema version 1 from ZooKeeper
ERROR - 2015-02-09 17:08:27.891; org.apache.solr.schema.ManagedIndexSchema; Bad version when trying to persist schema using 0 due to: org.apache.zookeeper.KeeperException$BadVersionException: KeeperErrorCode = BadVersion &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; /configs/gettingstarted/managed-schema
INFO  - 2015-02-09 17:08:27.892; org.apache.solr.schema.ManagedIndexSchema; Failed to persist managed schema at /configs/gettingstarted/managed-schema - version mismatch
ERROR - 2015-02-09 17:08:27.896; org.apache.solr.schema.ManagedIndexSchema; Bad version when trying to persist schema using 0 due to: org.apache.zookeeper.KeeperException$BadVersionException: KeeperErrorCode = BadVersion &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; /configs/gettingstarted/managed-schema
INFO  - 2015-02-09 17:08:27.896; org.apache.solr.schema.ManagedIndexSchema; Failed to persist managed schema at /configs/gettingstarted/managed-schema - version mismatch
INFO  - 2015-02-09 17:08:27.896; org.apache.solr.schema.ZkIndexSchemaReader; Retrieved schema version 1 from ZooKeeper
INFO  - 2015-02-09 17:08:27.947; org.apache.solr.update.processor.LogUpdateProcessor; [gettingstarted_shard1_replica2] webapp=/solr path=/update params={update.distrib=TOLEADER&amp;amp;update.chain=add-unknown-fields-to-the-schema&amp;amp;distrib.from=http:&lt;span class=&quot;code-comment&quot;&gt;//192.168.1.2:8983/solr/gettingstarted_shard2_replica2/&amp;amp;wt=javabin&amp;amp;version=2} {} 0 90
&lt;/span&gt;ERROR - 2015-02-09 17:08:27.949; org.apache.solr.common.SolrException; org.apache.solr.common.SolrException: undefined field: &lt;span class=&quot;code-quote&quot;&gt;&quot;comments&quot;&lt;/span&gt;
	at org.apache.solr.schema.IndexSchema.getField(IndexSchema.java:1221)
	at org.apache.solr.schema.IndexSchema.getCopyFieldsList(IndexSchema.java:1338)
	at org.apache.solr.update.DocumentBuilder.toDocument(DocumentBuilder.java:110)
	at org.apache.solr.update.AddUpdateCommand$1.next(AddUpdateCommand.java:187)
	at org.apache.solr.update.AddUpdateCommand$1.next(AddUpdateCommand.java:162)
	at org.apache.lucene.index.DocumentsWriterPerThread.updateDocuments(DocumentsWriterPerThread.java:257)
	at org.apache.lucene.index.DocumentsWriter.updateDocuments(DocumentsWriter.java:410)
	at org.apache.lucene.index.IndexWriter.updateDocuments(IndexWriter.java:1194)
	at org.apache.solr.update.DirectUpdateHandler2.addDoc0(DirectUpdateHandler2.java:238)
	at org.apache.solr.update.DirectUpdateHandler2.addDoc(DirectUpdateHandler2.java:166)
	at org.apache.solr.update.processor.RunUpdateProcessor.processAdd(RunUpdateProcessorFactory.java:69)
	at org.apache.solr.update.processor.UpdateRequestProcessor.processAdd(UpdateRequestProcessor.java:51)
	at org.apache.solr.update.processor.AddSchemaFieldsUpdateProcessorFactory$AddSchemaFieldsUpdateProcessor.processAdd(AddSchemaFieldsUpdateProcessorFactory.java:328)
	at org.apache.solr.update.processor.UpdateRequestProcessor.processAdd(UpdateRequestProcessor.java:51)
	at org.apache.solr.update.processor.FieldMutatingUpdateProcessor.processAdd(FieldMutatingUpdateProcessor.java:117)
	at org.apache.solr.update.processor.UpdateRequestProcessor.processAdd(UpdateRequestProcessor.java:51)
	at org.apache.solr.update.processor.FieldMutatingUpdateProcessor.processAdd(FieldMutatingUpdateProcessor.java:117)
	at org.apache.solr.update.processor.UpdateRequestProcessor.processAdd(UpdateRequestProcessor.java:51)
	at org.apache.solr.update.processor.FieldMutatingUpdateProcessor.processAdd(FieldMutatingUpdateProcessor.java:117)
	at org.apache.solr.update.processor.UpdateRequestProcessor.processAdd(UpdateRequestProcessor.java:51)
	at org.apache.solr.update.processor.FieldMutatingUpdateProcessor.processAdd(FieldMutatingUpdateProcessor.java:117)
	at org.apache.solr.update.processor.UpdateRequestProcessor.processAdd(UpdateRequestProcessor.java:51)
	at org.apache.solr.update.processor.FieldNameMutatingUpdateProcessorFactory$1.processAdd(FieldNameMutatingUpdateProcessorFactory.java:79)
	at org.apache.solr.update.processor.UpdateRequestProcessor.processAdd(UpdateRequestProcessor.java:51)
	at org.apache.solr.update.processor.FieldMutatingUpdateProcessor.processAdd(FieldMutatingUpdateProcessor.java:117)
	at org.apache.solr.update.processor.UpdateRequestProcessor.processAdd(UpdateRequestProcessor.java:51)
	at org.apache.solr.update.processor.DistributedUpdateProcessor.doLocalAdd(DistributedUpdateProcessor.java:935)
	at org.apache.solr.update.processor.DistributedUpdateProcessor.versionAdd(DistributedUpdateProcessor.java:1089)
	at org.apache.solr.update.processor.DistributedUpdateProcessor.processAdd(DistributedUpdateProcessor.java:701)
	at org.apache.solr.update.processor.LogUpdateProcessor.processAdd(LogUpdateProcessorFactory.java:104)
	at org.apache.solr.handler.loader.JavabinLoader$1.update(JavabinLoader.java:96)
	at org.apache.solr.client.solrj.request.JavaBinUpdateRequestCodec$1.readOuterMostDocIterator(JavaBinUpdateRequestCodec.java:166)
	at org.apache.solr.client.solrj.request.JavaBinUpdateRequestCodec$1.readIterator(JavaBinUpdateRequestCodec.java:136)
	at org.apache.solr.common.util.JavaBinCodec.readVal(JavaBinCodec.java:225)
	at org.apache.solr.client.solrj.request.JavaBinUpdateRequestCodec$1.readNamedList(JavaBinUpdateRequestCodec.java:121)
	at org.apache.solr.common.util.JavaBinCodec.readVal(JavaBinCodec.java:190)
	at org.apache.solr.common.util.JavaBinCodec.unmarshal(JavaBinCodec.java:116)
	at org.apache.solr.client.solrj.request.JavaBinUpdateRequestCodec.unmarshal(JavaBinUpdateRequestCodec.java:173)
	at org.apache.solr.handler.loader.JavabinLoader.parseAndLoadDocs(JavabinLoader.java:106)
	at org.apache.solr.handler.loader.JavabinLoader.load(JavabinLoader.java:58)
	at org.apache.solr.handler.UpdateRequestHandler$1.load(UpdateRequestHandler.java:103)
	at org.apache.solr.handler.ContentStreamHandlerBase.handleRequestBody(ContentStreamHandlerBase.java:74)
	at org.apache.solr.handler.RequestHandlerBase.handleRequest(RequestHandlerBase.java:144)
	at org.apache.solr.core.SolrCore.execute(SolrCore.java:2027)
	at org.apache.solr.servlet.SolrDispatchFilter.execute(SolrDispatchFilter.java:777)
	at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:413)
	at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:204)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:585)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:577)
	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:223)
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1125)
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:515)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185)
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1059)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
	at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:215)
	at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:110)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:97)
	at org.eclipse.jetty.server.Server.handle(Server.java:497)
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:313)
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:248)
	at org.eclipse.jetty.io.AbstractConnection$2.run(AbstractConnection.java:540)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:626)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:546)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)

ERROR - 2015-02-09 17:08:27.952; org.apache.solr.update.StreamingSolrClients$1; error
org.apache.solr.common.SolrException: Bad Request



request: http:&lt;span class=&quot;code-comment&quot;&gt;//192.168.1.2:8983/solr/gettingstarted_shard1_replica2/update?update.chain=add-unknown-fields-to-the-schema&amp;amp;update.distrib=TOLEADER&amp;amp;distrib.from=http%3A%2F%2F192.168.1.2%3A8983%2Fsolr%2Fgettingstarted_shard2_replica2%2F&amp;amp;wt=javabin&amp;amp;version=2
&lt;/span&gt;	at org.apache.solr.client.solrj.impl.ConcurrentUpdateSolrClient$Runner.run(ConcurrentUpdateSolrClient.java:242)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
INFO  - 2015-02-09 17:08:28.242; org.apache.solr.schema.ZkIndexSchemaReader; Finished refreshing schema in 345 ms
ERROR - 2015-02-09 17:08:28.247; org.apache.solr.schema.ManagedIndexSchema; Bad version when trying to persist schema using 0 due to: org.apache.zookeeper.KeeperException$BadVersionException: KeeperErrorCode = BadVersion &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; /configs/gettingstarted/managed-schema
INFO  - 2015-02-09 17:08:28.247; org.apache.solr.schema.ManagedIndexSchema; Failed to persist managed schema at /configs/gettingstarted/managed-schema - version mismatch
INFO  - 2015-02-09 17:08:28.249; org.apache.solr.update.processor.LogUpdateProcessor; [gettingstarted_shard2_replica2] webapp=/solr path=/update params={} {add=[1]} 0 429
ERROR - 2015-02-09 17:08:28.249; org.apache.solr.common.SolrException; org.apache.solr.common.SolrException: undefined field: &lt;span class=&quot;code-quote&quot;&gt;&quot;comments&quot;&lt;/span&gt;
	at org.apache.solr.schema.IndexSchema.getField(IndexSchema.java:1221)
	at org.apache.solr.schema.IndexSchema.getCopyFieldsList(IndexSchema.java:1338)
	at org.apache.solr.update.DocumentBuilder.toDocument(DocumentBuilder.java:110)
	at org.apache.solr.update.AddUpdateCommand$1.next(AddUpdateCommand.java:187)
	at org.apache.solr.update.AddUpdateCommand$1.next(AddUpdateCommand.java:162)
	at org.apache.lucene.index.DocumentsWriterPerThread.updateDocuments(DocumentsWriterPerThread.java:257)
	at org.apache.lucene.index.DocumentsWriter.updateDocuments(DocumentsWriter.java:410)
	at org.apache.lucene.index.IndexWriter.updateDocuments(IndexWriter.java:1194)
	at org.apache.solr.update.DirectUpdateHandler2.addDoc0(DirectUpdateHandler2.java:238)
	at org.apache.solr.update.DirectUpdateHandler2.addDoc(DirectUpdateHandler2.java:166)
	at org.apache.solr.update.processor.RunUpdateProcessor.processAdd(RunUpdateProcessorFactory.java:69)
	at org.apache.solr.update.processor.UpdateRequestProcessor.processAdd(UpdateRequestProcessor.java:51)
	at org.apache.solr.update.processor.AddSchemaFieldsUpdateProcessorFactory$AddSchemaFieldsUpdateProcessor.processAdd(AddSchemaFieldsUpdateProcessorFactory.java:328)
	at org.apache.solr.update.processor.UpdateRequestProcessor.processAdd(UpdateRequestProcessor.java:51)
	at org.apache.solr.update.processor.FieldMutatingUpdateProcessor.processAdd(FieldMutatingUpdateProcessor.java:117)
	at org.apache.solr.update.processor.UpdateRequestProcessor.processAdd(UpdateRequestProcessor.java:51)
	at org.apache.solr.update.processor.FieldMutatingUpdateProcessor.processAdd(FieldMutatingUpdateProcessor.java:117)
	at org.apache.solr.update.processor.UpdateRequestProcessor.processAdd(UpdateRequestProcessor.java:51)
	at org.apache.solr.update.processor.FieldMutatingUpdateProcessor.processAdd(FieldMutatingUpdateProcessor.java:117)
	at org.apache.solr.update.processor.UpdateRequestProcessor.processAdd(UpdateRequestProcessor.java:51)
	at org.apache.solr.update.processor.FieldMutatingUpdateProcessor.processAdd(FieldMutatingUpdateProcessor.java:117)
	at org.apache.solr.update.processor.UpdateRequestProcessor.processAdd(UpdateRequestProcessor.java:51)
	at org.apache.solr.update.processor.FieldNameMutatingUpdateProcessorFactory$1.processAdd(FieldNameMutatingUpdateProcessorFactory.java:79)
	at org.apache.solr.update.processor.UpdateRequestProcessor.processAdd(UpdateRequestProcessor.java:51)
	at org.apache.solr.update.processor.FieldMutatingUpdateProcessor.processAdd(FieldMutatingUpdateProcessor.java:117)
	at org.apache.solr.update.processor.UpdateRequestProcessor.processAdd(UpdateRequestProcessor.java:51)
	at org.apache.solr.update.processor.DistributedUpdateProcessor.doLocalAdd(DistributedUpdateProcessor.java:935)
	at org.apache.solr.update.processor.DistributedUpdateProcessor.versionAdd(DistributedUpdateProcessor.java:1089)
	at org.apache.solr.update.processor.DistributedUpdateProcessor.processAdd(DistributedUpdateProcessor.java:701)
	at org.apache.solr.update.processor.LogUpdateProcessor.processAdd(LogUpdateProcessorFactory.java:104)
	at org.apache.solr.update.processor.UpdateRequestProcessor.processAdd(UpdateRequestProcessor.java:51)
	at org.apache.solr.update.processor.AbstractDefaultValueUpdateProcessorFactory$DefaultValueUpdateProcessor.processAdd(AbstractDefaultValueUpdateProcessorFactory.java:94)
	at org.apache.solr.handler.loader.XMLLoader.processUpdate(XMLLoader.java:247)
	at org.apache.solr.handler.loader.XMLLoader.load(XMLLoader.java:174)
	at org.apache.solr.handler.UpdateRequestHandler$1.load(UpdateRequestHandler.java:103)
	at org.apache.solr.handler.ContentStreamHandlerBase.handleRequestBody(ContentStreamHandlerBase.java:74)
	at org.apache.solr.handler.RequestHandlerBase.handleRequest(RequestHandlerBase.java:144)
	at org.apache.solr.core.SolrCore.execute(SolrCore.java:2027)
	at org.apache.solr.servlet.SolrDispatchFilter.execute(SolrDispatchFilter.java:777)
	at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:413)
	at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:204)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:585)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:577)
	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:223)
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1125)
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:515)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185)
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1059)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
	at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:215)
	at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:110)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:97)
	at org.eclipse.jetty.server.Server.handle(Server.java:497)
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:313)
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:248)
	at org.eclipse.jetty.io.AbstractConnection$2.run(AbstractConnection.java:540)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:626)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:546)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)

INFO  - 2015-02-09 17:08:28.250; org.apache.solr.schema.ZkIndexSchemaReader; Finished refreshing schema in 365 ms
INFO  - 2015-02-09 17:08:28.262; org.apache.solr.update.DirectUpdateHandler2; start commit{,optimize=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;,openSearcher=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;,waitSearcher=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;,expungeDeletes=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;,softCommit=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;,prepareCommit=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;}
INFO  - 2015-02-09 17:08:28.262; org.apache.solr.update.DirectUpdateHandler2; start commit{,optimize=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;,openSearcher=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;,waitSearcher=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;,expungeDeletes=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;,softCommit=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;,prepareCommit=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;}
INFO  - 2015-02-09 17:08:28.265; org.apache.solr.core.SolrDeletionPolicy; SolrDeletionPolicy.onCommit: commits: num=2
	commit{dir=NRTCachingDirectory(MMapDirectory@/Users/timpotter/dev/lw/projects/solr_trunk_co/solr/example/cloud/node1/solr/gettingstarted_shard1_replica2/data/index lockFactory=org.apache.lucene.store.NativeFSLockFactory@70ce628e; maxCacheMB=48.0 maxMergeSizeMB=4.0),segFN=segments_1,generation=1}
	commit{dir=NRTCachingDirectory(MMapDirectory@/Users/timpotter/dev/lw/projects/solr_trunk_co/solr/example/cloud/node1/solr/gettingstarted_shard1_replica2/data/index lockFactory=org.apache.lucene.store.NativeFSLockFactory@70ce628e; maxCacheMB=48.0 maxMergeSizeMB=4.0),segFN=segments_2,generation=2}
INFO  - 2015-02-09 17:08:28.265; org.apache.solr.core.SolrDeletionPolicy; SolrDeletionPolicy.onCommit: commits: num=2
	commit{dir=NRTCachingDirectory(MMapDirectory@/Users/timpotter/dev/lw/projects/solr_trunk_co/solr/example/cloud/node1/solr/gettingstarted_shard2_replica2/data/index lockFactory=org.apache.lucene.store.NativeFSLockFactory@70ce628e; maxCacheMB=48.0 maxMergeSizeMB=4.0),segFN=segments_1,generation=1}
	commit{dir=NRTCachingDirectory(MMapDirectory@/Users/timpotter/dev/lw/projects/solr_trunk_co/solr/example/cloud/node1/solr/gettingstarted_shard2_replica2/data/index lockFactory=org.apache.lucene.store.NativeFSLockFactory@70ce628e; maxCacheMB=48.0 maxMergeSizeMB=4.0),segFN=segments_2,generation=2}
INFO  - 2015-02-09 17:08:28.265; org.apache.solr.core.SolrDeletionPolicy; newest commit generation = 2
INFO  - 2015-02-09 17:08:28.265; org.apache.solr.core.SolrDeletionPolicy; newest commit generation = 2
INFO  - 2015-02-09 17:08:28.268; org.apache.solr.search.SolrIndexSearcher; Opening Searcher@3f1b8e55[gettingstarted_shard1_replica2] main
INFO  - 2015-02-09 17:08:28.268; org.apache.solr.search.SolrIndexSearcher; Opening Searcher@71fc4c98[gettingstarted_shard2_replica2] main
INFO  - 2015-02-09 17:08:28.269; org.apache.solr.update.DirectUpdateHandler2; end_commit_flush
INFO  - 2015-02-09 17:08:28.269; org.apache.solr.update.DirectUpdateHandler2; end_commit_flush
INFO  - 2015-02-09 17:08:28.269; org.apache.solr.core.QuerySenderListener; QuerySenderListener sending requests to Searcher@3f1b8e55[gettingstarted_shard1_replica2] main{ExitableDirectoryReader(UninvertingDirectoryReader())}
INFO  - 2015-02-09 17:08:28.269; org.apache.solr.core.QuerySenderListener; QuerySenderListener sending requests to Searcher@71fc4c98[gettingstarted_shard2_replica2] main{ExitableDirectoryReader(UninvertingDirectoryReader())}
INFO  - 2015-02-09 17:08:28.269; org.apache.solr.core.QuerySenderListener; QuerySenderListener done.
INFO  - 2015-02-09 17:08:28.270; org.apache.solr.core.QuerySenderListener; QuerySenderListener done.
INFO  - 2015-02-09 17:08:28.271; org.apache.solr.core.SolrCore; [gettingstarted_shard1_replica2] Registered &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; searcher Searcher@3f1b8e55[gettingstarted_shard1_replica2] main{ExitableDirectoryReader(UninvertingDirectoryReader())}
INFO  - 2015-02-09 17:08:28.271; org.apache.solr.core.SolrCore; [gettingstarted_shard2_replica2] Registered &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; searcher Searcher@71fc4c98[gettingstarted_shard2_replica2] main{ExitableDirectoryReader(UninvertingDirectoryReader())}
INFO  - 2015-02-09 17:08:28.272; org.apache.solr.update.processor.LogUpdateProcessor; [gettingstarted_shard1_replica2] webapp=/solr path=/update params={update.distrib=FROMLEADER&amp;amp;update.chain=add-unknown-fields-to-the-schema&amp;amp;waitSearcher=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&amp;amp;openSearcher=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&amp;amp;commit=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&amp;amp;softCommit=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&amp;amp;distrib.from=http:&lt;span class=&quot;code-comment&quot;&gt;//192.168.1.2:8983/solr/gettingstarted_shard2_replica2/&amp;amp;commit_end_point=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&amp;amp;wt=javabin&amp;amp;version=2&amp;amp;expungeDeletes=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;} {commit=} 0 10
&lt;/span&gt;INFO  - 2015-02-09 17:08:28.272; org.apache.solr.update.processor.LogUpdateProcessor; [gettingstarted_shard2_replica2] webapp=/solr path=/update params={update.distrib=FROMLEADER&amp;amp;update.chain=add-unknown-fields-to-the-schema&amp;amp;waitSearcher=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&amp;amp;openSearcher=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&amp;amp;commit=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&amp;amp;softCommit=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&amp;amp;distrib.from=http:&lt;span class=&quot;code-comment&quot;&gt;//192.168.1.2:8983/solr/gettingstarted_shard2_replica2/&amp;amp;commit_end_point=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&amp;amp;wt=javabin&amp;amp;version=2&amp;amp;expungeDeletes=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;} {commit=} 0 10
&lt;/span&gt;INFO  - 2015-02-09 17:08:28.283; org.apache.solr.update.processor.LogUpdateProcessor; [gettingstarted_shard2_replica2] webapp=/solr path=/update params={commit=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;} {commit=} 0 27
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12773504">SOLR-7091</key>
            <summary>Data-driven schema and block-join style update requests don&apos;t play well together</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sarowe">Steven Rowe</assignee>
                                    <reporter username="thelabdude">Timothy Potter</reporter>
                        <labels>
                    </labels>
                <created>Mon, 9 Feb 2015 17:10:36 +0000</created>
                <updated>Mon, 9 May 2016 18:51:48 +0000</updated>
                            <resolved>Mon, 15 Jun 2015 20:51:44 +0000</resolved>
                                                    <fixVersion>5.3</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14312758" author="steve_rowe" created="Mon, 9 Feb 2015 19:59:43 +0000"  >&lt;p&gt;I see the same problem on standalone Solr - from &lt;tt&gt;solr/example/schemaless/logs/solr.log&lt;/tt&gt; after launching the schemaless example (&lt;tt&gt;bin/solr -e schemaless&lt;/tt&gt; and sending the nested docs update from the ref guide link in the issue description:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;INFO  - 2015-02-09 19:50:36.131; org.apache.solr.schema.ManagedIndexSchema; Upgraded to managed schema at /Users/sarowe/svn/lucene/dev/branches/lucene_solr_5_0/solr/example/schemaless/solr/gettingstarted/conf/managed-schema
INFO  - 2015-02-09 19:50:36.144; org.apache.solr.update.processor.LogUpdateProcessor; [gettingstarted] webapp=/solr path=/update params={} {} 0 84
ERROR - 2015-02-09 19:50:36.145; org.apache.solr.common.SolrException; org.apache.solr.common.SolrException: undefined field: &quot;comments&quot;
        at org.apache.solr.schema.IndexSchema.getField(IndexSchema.java:1222)
        at org.apache.solr.schema.IndexSchema.getCopyFieldsList(IndexSchema.java:1339)
        at org.apache.solr.update.DocumentBuilder.toDocument(DocumentBuilder.java:110)
        at org.apache.solr.update.AddUpdateCommand$1.next(AddUpdateCommand.java:186)
        at org.apache.solr.update.AddUpdateCommand$1.next(AddUpdateCommand.java:161)
        at org.apache.lucene.index.DocumentsWriterPerThread.updateDocuments(DocumentsWriterPerThread.java:256)
        at org.apache.lucene.index.DocumentsWriter.updateDocuments(DocumentsWriter.java:411)
        at org.apache.lucene.index.IndexWriter.updateDocuments(IndexWriter.java:1199)
        at org.apache.solr.update.DirectUpdateHandler2.addDoc0(DirectUpdateHandler2.java:238)
        at org.apache.solr.update.DirectUpdateHandler2.addDoc(DirectUpdateHandler2.java:166)
        at org.apache.solr.update.processor.RunUpdateProcessor.processAdd(RunUpdateProcessorFactory.java:69)
        at org.apache.solr.update.processor.UpdateRequestProcessor.processAdd(UpdateRequestProcessor.java:51)
        at org.apache.solr.update.processor.AddSchemaFieldsUpdateProcessorFactory$AddSchemaFieldsUpdateProcessor.processAdd(AddSchemaFieldsUpdateProcessorFactory.java:328)
        at org.apache.solr.update.processor.UpdateRequestProcessor.processAdd(UpdateRequestProcessor.java:51)
        at org.apache.solr.update.processor.FieldMutatingUpdateProcessor.processAdd(FieldMutatingUpdateProcessor.java:117)
        at org.apache.solr.update.processor.UpdateRequestProcessor.processAdd(UpdateRequestProcessor.java:51)
        at org.apache.solr.update.processor.FieldMutatingUpdateProcessor.processAdd(FieldMutatingUpdateProcessor.java:117)
        at org.apache.solr.update.processor.UpdateRequestProcessor.processAdd(UpdateRequestProcessor.java:51)
        at org.apache.solr.update.processor.FieldMutatingUpdateProcessor.processAdd(FieldMutatingUpdateProcessor.java:117)
        at org.apache.solr.update.processor.UpdateRequestProcessor.processAdd(UpdateRequestProcessor.java:51)
        at org.apache.solr.update.processor.FieldMutatingUpdateProcessor.processAdd(FieldMutatingUpdateProcessor.java:117)
        at org.apache.solr.update.processor.UpdateRequestProcessor.processAdd(UpdateRequestProcessor.java:51)
        at org.apache.solr.update.processor.FieldNameMutatingUpdateProcessorFactory$1.processAdd(FieldNameMutatingUpdateProcessorFactory.java:79)
        at org.apache.solr.update.processor.UpdateRequestProcessor.processAdd(UpdateRequestProcessor.java:51)
        at org.apache.solr.update.processor.FieldMutatingUpdateProcessor.processAdd(FieldMutatingUpdateProcessor.java:117)
        at org.apache.solr.update.processor.UpdateRequestProcessor.processAdd(UpdateRequestProcessor.java:51)
        at org.apache.solr.update.processor.DistributedUpdateProcessor.doLocalAdd(DistributedUpdateProcessor.java:931)
        at org.apache.solr.update.processor.DistributedUpdateProcessor.versionAdd(DistributedUpdateProcessor.java:1085)
        at org.apache.solr.update.processor.DistributedUpdateProcessor.processAdd(DistributedUpdateProcessor.java:697)
        at org.apache.solr.update.processor.LogUpdateProcessor.processAdd(LogUpdateProcessorFactory.java:104)
        at org.apache.solr.update.processor.UpdateRequestProcessor.processAdd(UpdateRequestProcessor.java:51)
        at org.apache.solr.update.processor.AbstractDefaultValueUpdateProcessorFactory$DefaultValueUpdateProcessor.processAdd(AbstractDefaultValueUpdateProcessorFactory.java:94)
        at org.apache.solr.handler.loader.XMLLoader.processUpdate(XMLLoader.java:247)
        at org.apache.solr.handler.loader.XMLLoader.load(XMLLoader.java:174)
        at org.apache.solr.handler.UpdateRequestHandler$1.load(UpdateRequestHandler.java:103)
        at org.apache.solr.handler.ContentStreamHandlerBase.handleRequestBody(ContentStreamHandlerBase.java:74)
        at org.apache.solr.handler.RequestHandlerBase.handleRequest(RequestHandlerBase.java:144)
        at org.apache.solr.core.SolrCore.execute(SolrCore.java:2006)
        at org.apache.solr.servlet.SolrDispatchFilter.execute(SolrDispatchFilter.java:777)
        at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:413)
        at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:204)
        at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1419)
        at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:455)
        at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:137)
        at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:557)
        at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:231)
        at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1075)
        at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:384)
        at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:193)
        at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1009)
        at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:135)
        at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:255)
        at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:154)
        at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:116)
        at org.eclipse.jetty.server.Server.handle(Server.java:368)
        at org.eclipse.jetty.server.AbstractHttpConnection.handleRequest(AbstractHttpConnection.java:489)
        at org.eclipse.jetty.server.BlockingHttpConnection.handleRequest(BlockingHttpConnection.java:53)
        at org.eclipse.jetty.server.AbstractHttpConnection.content(AbstractHttpConnection.java:953)
        at org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.content(AbstractHttpConnection.java:1014)
        at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:861)
        at org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:240)
        at org.eclipse.jetty.server.BlockingHttpConnection.handle(BlockingHttpConnection.java:72)
        at org.eclipse.jetty.server.bio.SocketConnector$ConnectorEndPoint.run(SocketConnector.java:264)
        at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:608)
        at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:543)
        at java.lang.Thread.run(Thread.java:745)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14314853" author="steve_rowe" created="Tue, 10 Feb 2015 20:26:45 +0000"  >&lt;p&gt;Simple test that reproduces the problem on standalone Solr, along with test schema and solrconfig changes necessary to support blockjoin: &lt;tt&gt;&amp;#95;root&amp;#95;&lt;/tt&gt; field in the schema and &lt;tt&gt;perSegCache&lt;/tt&gt; in solrconfig (these didn&apos;t fix the problem).&lt;/p&gt;</comment>
                            <comment id="14314924" author="steve_rowe" created="Tue, 10 Feb 2015 21:05:35 +0000"  >&lt;p&gt;The first patch only worked in IntelliJ, because it was modifying files in the test resources directory, and the Ant build disallows that.&lt;/p&gt;

&lt;p&gt;This version of the patch runs properly under Ant.&lt;/p&gt;

&lt;p&gt;Here&apos;s the log:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;   [junit4]   2&amp;gt; 3800 T13 oas.SolrTestCaseJ4.initCore ####initCore end
   [junit4]   2&amp;gt; ASYNC  NEW_CORE C0 name=collection1 org.apache.solr.core.SolrCore@567f4255
   [junit4]   2&amp;gt; 4030 T13 C0 oass.ManagedIndexSchema.persistManagedSchema Upgraded to managed schema at /Users/sarowe/svn/lucene/dev/trunk2/solr/build/solr-core/test/J0/temp/solr.update.DataDrivenBlockJoinTest 70603DAA880A6618-001/tempDir-001/collection1/conf/managed-schema
   [junit4]   2&amp;gt; 4097 T13 C0 oasup.LogUpdateProcessor.finish [collection1] webapp=null path=null params={} {} 0 295
   [junit4]   2&amp;gt; 4099 T13 C0 oasc.SolrException.log ERROR org.apache.solr.common.SolrException: ERROR: [doc=2] unknown field &apos;child&apos;
   [junit4]   2&amp;gt; 		at org.apache.solr.update.DocumentBuilder.toDocument(DocumentBuilder.java:184)
   [junit4]   2&amp;gt; 		at org.apache.solr.update.AddUpdateCommand$1.next(AddUpdateCommand.java:187)
   [junit4]   2&amp;gt; 		at org.apache.solr.update.AddUpdateCommand$1.next(AddUpdateCommand.java:162)
   [junit4]   2&amp;gt; 		at org.apache.lucene.index.DocumentsWriterPerThread.updateDocuments(DocumentsWriterPerThread.java:257)
   [junit4]   2&amp;gt; 		at org.apache.lucene.index.DocumentsWriter.updateDocuments(DocumentsWriter.java:410)
   [junit4]   2&amp;gt; 		at org.apache.lucene.index.IndexWriter.updateDocuments(IndexWriter.java:1194)
   [junit4]   2&amp;gt; 		at org.apache.solr.update.DirectUpdateHandler2.addDoc0(DirectUpdateHandler2.java:235)
   [junit4]   2&amp;gt; 		at org.apache.solr.update.DirectUpdateHandler2.addDoc(DirectUpdateHandler2.java:163)
   [junit4]   2&amp;gt; 		at org.apache.solr.update.processor.RunUpdateProcessor.processAdd(RunUpdateProcessorFactory.java:69)
   [junit4]   2&amp;gt; 		at org.apache.solr.update.processor.UpdateRequestProcessor.processAdd(UpdateRequestProcessor.java:51)
   [junit4]   2&amp;gt; 		at org.apache.solr.update.processor.AddSchemaFieldsUpdateProcessorFactory$AddSchemaFieldsUpdateProcessor.processAdd(AddSchemaFieldsUpdateProcessorFactory.java:328)
   [junit4]   2&amp;gt; 		at org.apache.solr.update.processor.UpdateRequestProcessor.processAdd(UpdateRequestProcessor.java:51)
   [junit4]   2&amp;gt; 		at org.apache.solr.update.processor.FieldMutatingUpdateProcessor.processAdd(FieldMutatingUpdateProcessor.java:117)
   [junit4]   2&amp;gt; 		at org.apache.solr.update.processor.UpdateRequestProcessor.processAdd(UpdateRequestProcessor.java:51)
   [junit4]   2&amp;gt; 		at org.apache.solr.update.processor.FieldMutatingUpdateProcessor.processAdd(FieldMutatingUpdateProcessor.java:117)
   [junit4]   2&amp;gt; 		at org.apache.solr.update.processor.UpdateRequestProcessor.processAdd(UpdateRequestProcessor.java:51)
   [junit4]   2&amp;gt; 		at org.apache.solr.update.processor.FieldMutatingUpdateProcessor.processAdd(FieldMutatingUpdateProcessor.java:117)
   [junit4]   2&amp;gt; 		at org.apache.solr.update.processor.UpdateRequestProcessor.processAdd(UpdateRequestProcessor.java:51)
   [junit4]   2&amp;gt; 		at org.apache.solr.update.processor.FieldMutatingUpdateProcessor.processAdd(FieldMutatingUpdateProcessor.java:117)
   [junit4]   2&amp;gt; 		at org.apache.solr.update.processor.UpdateRequestProcessor.processAdd(UpdateRequestProcessor.java:51)
   [junit4]   2&amp;gt; 		at org.apache.solr.update.processor.FieldMutatingUpdateProcessor.processAdd(FieldMutatingUpdateProcessor.java:117)
   [junit4]   2&amp;gt; 		at org.apache.solr.update.processor.UpdateRequestProcessor.processAdd(UpdateRequestProcessor.java:51)
   [junit4]   2&amp;gt; 		at org.apache.solr.update.processor.DistributedUpdateProcessor.versionAdd(DistributedUpdateProcessor.java:964)
   [junit4]   2&amp;gt; 		at org.apache.solr.update.processor.DistributedUpdateProcessor.processAdd(DistributedUpdateProcessor.java:704)
   [junit4]   2&amp;gt; 		at org.apache.solr.update.processor.LogUpdateProcessor.processAdd(LogUpdateProcessorFactory.java:104)
   [junit4]   2&amp;gt; 		at org.apache.solr.handler.loader.XMLLoader.processUpdate(XMLLoader.java:250)
   [junit4]   2&amp;gt; 		at org.apache.solr.handler.loader.XMLLoader.load(XMLLoader.java:177)
   [junit4]   2&amp;gt; 		at org.apache.solr.handler.UpdateRequestHandler$1.load(UpdateRequestHandler.java:103)
   [junit4]   2&amp;gt; 		at org.apache.solr.handler.ContentStreamHandlerBase.handleRequestBody(ContentStreamHandlerBase.java:74)
   [junit4]   2&amp;gt; 		at org.apache.solr.handler.RequestHandlerBase.handleRequest(RequestHandlerBase.java:144)
   [junit4]   2&amp;gt; 		at org.apache.solr.core.SolrCore.execute(SolrCore.java:2026)
   [junit4]   2&amp;gt; 		at org.apache.solr.servlet.DirectSolrConnection.request(DirectSolrConnection.java:131)
   [junit4]   2&amp;gt; 		at org.apache.solr.util.TestHarness.update(TestHarness.java:278)
   [junit4]   2&amp;gt; 		at org.apache.solr.util.BaseTestHarness.checkUpdateStatus(BaseTestHarness.java:282)
   [junit4]   2&amp;gt; 		at org.apache.solr.util.BaseTestHarness.validateUpdate(BaseTestHarness.java:252)
   [junit4]   2&amp;gt; 		at org.apache.solr.SolrTestCaseJ4.checkUpdateU(SolrTestCaseJ4.java:702)
   [junit4]   2&amp;gt; 		at org.apache.solr.SolrTestCaseJ4.assertU(SolrTestCaseJ4.java:681)
   [junit4]   2&amp;gt; 		at org.apache.solr.SolrTestCaseJ4.assertU(SolrTestCaseJ4.java:675)
   [junit4]   2&amp;gt; 		at org.apache.solr.update.DataDrivenBlockJoinTest.test(DataDrivenBlockJoinTest.java:55)
   [junit4]   2&amp;gt; 		at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
   [junit4]   2&amp;gt; 		at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
   [junit4]   2&amp;gt; 		at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
   [junit4]   2&amp;gt; 		at java.lang.reflect.Method.invoke(Method.java:483)
   [junit4]   2&amp;gt; 		at com.carrotsearch.randomizedtesting.RandomizedRunner.invoke(RandomizedRunner.java:1618)
   [junit4]   2&amp;gt; 		at com.carrotsearch.randomizedtesting.RandomizedRunner$6.evaluate(RandomizedRunner.java:827)
   [junit4]   2&amp;gt; 		at com.carrotsearch.randomizedtesting.RandomizedRunner$7.evaluate(RandomizedRunner.java:863)
   [junit4]   2&amp;gt; 		at com.carrotsearch.randomizedtesting.RandomizedRunner$8.evaluate(RandomizedRunner.java:877)
   [junit4]   2&amp;gt; 		at com.carrotsearch.randomizedtesting.rules.SystemPropertiesRestoreRule$1.evaluate(SystemPropertiesRestoreRule.java:53)
   [junit4]   2&amp;gt; 		at org.apache.lucene.util.TestRuleSetupTeardownChained$1.evaluate(TestRuleSetupTeardownChained.java:50)
   [junit4]   2&amp;gt; 		at org.apache.lucene.util.AbstractBeforeAfterRule$1.evaluate(AbstractBeforeAfterRule.java:46)
   [junit4]   2&amp;gt; 		at com.carrotsearch.randomizedtesting.rules.SystemPropertiesInvariantRule$1.evaluate(SystemPropertiesInvariantRule.java:55)
   [junit4]   2&amp;gt; 		at org.apache.lucene.util.TestRuleThreadAndTestName$1.evaluate(TestRuleThreadAndTestName.java:49)
   [junit4]   2&amp;gt; 		at org.apache.lucene.util.TestRuleIgnoreAfterMaxFailures$1.evaluate(TestRuleIgnoreAfterMaxFailures.java:65)
   [junit4]   2&amp;gt; 		at org.apache.lucene.util.TestRuleMarkFailure$1.evaluate(TestRuleMarkFailure.java:48)
   [junit4]   2&amp;gt; 		at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)
   [junit4]   2&amp;gt; 		at com.carrotsearch.randomizedtesting.ThreadLeakControl$StatementRunner.run(ThreadLeakControl.java:365)
   [junit4]   2&amp;gt; 		at com.carrotsearch.randomizedtesting.ThreadLeakControl.forkTimeoutingTask(ThreadLeakControl.java:798)
   [junit4]   2&amp;gt; 		at com.carrotsearch.randomizedtesting.ThreadLeakControl$3.evaluate(ThreadLeakControl.java:458)
   [junit4]   2&amp;gt; 		at com.carrotsearch.randomizedtesting.RandomizedRunner.runSingleTest(RandomizedRunner.java:836)
   [junit4]   2&amp;gt; 		at com.carrotsearch.randomizedtesting.RandomizedRunner$3.evaluate(RandomizedRunner.java:738)
   [junit4]   2&amp;gt; 		at com.carrotsearch.randomizedtesting.RandomizedRunner$4.evaluate(RandomizedRunner.java:772)
   [junit4]   2&amp;gt; 		at com.carrotsearch.randomizedtesting.RandomizedRunner$5.evaluate(RandomizedRunner.java:783)
   [junit4]   2&amp;gt; 		at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)
   [junit4]   2&amp;gt; 		at com.carrotsearch.randomizedtesting.rules.SystemPropertiesRestoreRule$1.evaluate(SystemPropertiesRestoreRule.java:53)
   [junit4]   2&amp;gt; 		at org.apache.lucene.util.AbstractBeforeAfterRule$1.evaluate(AbstractBeforeAfterRule.java:46)
   [junit4]   2&amp;gt; 		at org.apache.lucene.util.TestRuleStoreClassName$1.evaluate(TestRuleStoreClassName.java:42)
   [junit4]   2&amp;gt; 		at com.carrotsearch.randomizedtesting.rules.SystemPropertiesInvariantRule$1.evaluate(SystemPropertiesInvariantRule.java:55)
   [junit4]   2&amp;gt; 		at com.carrotsearch.randomizedtesting.rules.NoShadowingOrOverridesOnMethodsRule$1.evaluate(NoShadowingOrOverridesOnMethodsRule.java:39)
   [junit4]   2&amp;gt; 		at com.carrotsearch.randomizedtesting.rules.NoShadowingOrOverridesOnMethodsRule$1.evaluate(NoShadowingOrOverridesOnMethodsRule.java:39)
   [junit4]   2&amp;gt; 		at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)
   [junit4]   2&amp;gt; 		at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)
   [junit4]   2&amp;gt; 		at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)
   [junit4]   2&amp;gt; 		at org.apache.lucene.util.TestRuleAssertionsRequired$1.evaluate(TestRuleAssertionsRequired.java:54)
   [junit4]   2&amp;gt; 		at org.apache.lucene.util.TestRuleMarkFailure$1.evaluate(TestRuleMarkFailure.java:48)
   [junit4]   2&amp;gt; 		at org.apache.lucene.util.TestRuleIgnoreAfterMaxFailures$1.evaluate(TestRuleIgnoreAfterMaxFailures.java:65)
   [junit4]   2&amp;gt; 		at org.apache.lucene.util.TestRuleIgnoreTestSuites$1.evaluate(TestRuleIgnoreTestSuites.java:55)
   [junit4]   2&amp;gt; 		at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)
   [junit4]   2&amp;gt; 		at com.carrotsearch.randomizedtesting.ThreadLeakControl$StatementRunner.run(ThreadLeakControl.java:365)
   [junit4]   2&amp;gt; 		at java.lang.Thread.run(Thread.java:745)
   [junit4]   2&amp;gt; 	
   [junit4]   2&amp;gt; 4104 T13 oas.SolrTestCaseJ4.tearDown ###Ending test
   [junit4]   2&amp;gt; NOTE: reproduce with: ant test  -Dtestcase=DataDrivenBlockJoinTest -Dtests.method=test -Dtests.seed=70603DAA880A6618 -Dtests.slow=true -Dtests.locale=en_IN -Dtests.timezone=ECT -Dtests.asserts=true -Dtests.file.encoding=ISO-8859-1
   [junit4] ERROR   3.17s | DataDrivenBlockJoinTest.test &amp;lt;&amp;lt;&amp;lt;
   [junit4]    &amp;gt; Throwable #1: org.apache.solr.common.SolrException: ERROR: [doc=2] unknown field &apos;child&apos;
   [junit4]    &amp;gt; 	at __randomizedtesting.SeedInfo.seed([70603DAA880A6618:F834027026F60BE0]:0)
   [junit4]    &amp;gt; 	at org.apache.solr.update.DocumentBuilder.toDocument(DocumentBuilder.java:184)
   [junit4]    &amp;gt; 	at org.apache.solr.update.AddUpdateCommand$1.next(AddUpdateCommand.java:187)
   [junit4]    &amp;gt; 	at org.apache.solr.update.AddUpdateCommand$1.next(AddUpdateCommand.java:162)
   [junit4]    &amp;gt; 	at org.apache.lucene.index.DocumentsWriterPerThread.updateDocuments(DocumentsWriterPerThread.java:257)
   [junit4]    &amp;gt; 	at org.apache.lucene.index.DocumentsWriter.updateDocuments(DocumentsWriter.java:410)
   [junit4]    &amp;gt; 	at org.apache.lucene.index.IndexWriter.updateDocuments(IndexWriter.java:1194)
   [junit4]    &amp;gt; 	at org.apache.solr.update.DirectUpdateHandler2.addDoc0(DirectUpdateHandler2.java:235)
   [junit4]    &amp;gt; 	at org.apache.solr.update.DirectUpdateHandler2.addDoc(DirectUpdateHandler2.java:163)
   [junit4]    &amp;gt; 	at org.apache.solr.update.processor.RunUpdateProcessor.processAdd(RunUpdateProcessorFactory.java:69)
   [junit4]    &amp;gt; 	at org.apache.solr.update.processor.UpdateRequestProcessor.processAdd(UpdateRequestProcessor.java:51)
   [junit4]    &amp;gt; 	at org.apache.solr.update.processor.AddSchemaFieldsUpdateProcessorFactory$AddSchemaFieldsUpdateProcessor.processAdd(AddSchemaFieldsUpdateProcessorFactory.java:328)
   [junit4]    &amp;gt; 	at org.apache.solr.update.processor.UpdateRequestProcessor.processAdd(UpdateRequestProcessor.java:51)
   [junit4]    &amp;gt; 	at org.apache.solr.update.processor.FieldMutatingUpdateProcessor.processAdd(FieldMutatingUpdateProcessor.java:117)
   [junit4]    &amp;gt; 	at org.apache.solr.update.processor.UpdateRequestProcessor.processAdd(UpdateRequestProcessor.java:51)
   [junit4]    &amp;gt; 	at org.apache.solr.update.processor.FieldMutatingUpdateProcessor.processAdd(FieldMutatingUpdateProcessor.java:117)
   [junit4]    &amp;gt; 	at org.apache.solr.update.processor.UpdateRequestProcessor.processAdd(UpdateRequestProcessor.java:51)
   [junit4]    &amp;gt; 	at org.apache.solr.update.processor.FieldMutatingUpdateProcessor.processAdd(FieldMutatingUpdateProcessor.java:117)
   [junit4]    &amp;gt; 	at org.apache.solr.update.processor.UpdateRequestProcessor.processAdd(UpdateRequestProcessor.java:51)
   [junit4]    &amp;gt; 	at org.apache.solr.update.processor.FieldMutatingUpdateProcessor.processAdd(FieldMutatingUpdateProcessor.java:117)
   [junit4]    &amp;gt; 	at org.apache.solr.update.processor.UpdateRequestProcessor.processAdd(UpdateRequestProcessor.java:51)
   [junit4]    &amp;gt; 	at org.apache.solr.update.processor.FieldMutatingUpdateProcessor.processAdd(FieldMutatingUpdateProcessor.java:117)
   [junit4]    &amp;gt; 	at org.apache.solr.update.processor.UpdateRequestProcessor.processAdd(UpdateRequestProcessor.java:51)
   [junit4]    &amp;gt; 	at org.apache.solr.update.processor.DistributedUpdateProcessor.versionAdd(DistributedUpdateProcessor.java:964)
   [junit4]    &amp;gt; 	at org.apache.solr.update.processor.DistributedUpdateProcessor.processAdd(DistributedUpdateProcessor.java:704)
   [junit4]    &amp;gt; 	at org.apache.solr.update.processor.LogUpdateProcessor.processAdd(LogUpdateProcessorFactory.java:104)
   [junit4]    &amp;gt; 	at org.apache.solr.handler.loader.XMLLoader.processUpdate(XMLLoader.java:250)
   [junit4]    &amp;gt; 	at org.apache.solr.handler.loader.XMLLoader.load(XMLLoader.java:177)
   [junit4]    &amp;gt; 	at org.apache.solr.handler.UpdateRequestHandler$1.load(UpdateRequestHandler.java:103)
   [junit4]    &amp;gt; 	at org.apache.solr.handler.ContentStreamHandlerBase.handleRequestBody(ContentStreamHandlerBase.java:74)
   [junit4]    &amp;gt; 	at org.apache.solr.handler.RequestHandlerBase.handleRequest(RequestHandlerBase.java:144)
   [junit4]    &amp;gt; 	at org.apache.solr.core.SolrCore.execute(SolrCore.java:2026)
   [junit4]    &amp;gt; 	at org.apache.solr.servlet.DirectSolrConnection.request(DirectSolrConnection.java:131)
   [junit4]    &amp;gt; 	at org.apache.solr.util.TestHarness.update(TestHarness.java:278)
   [junit4]    &amp;gt; 	at org.apache.solr.util.BaseTestHarness.checkUpdateStatus(BaseTestHarness.java:282)
   [junit4]    &amp;gt; 	at org.apache.solr.util.BaseTestHarness.validateUpdate(BaseTestHarness.java:252)
   [junit4]    &amp;gt; 	at org.apache.solr.SolrTestCaseJ4.checkUpdateU(SolrTestCaseJ4.java:702)
   [junit4]    &amp;gt; 	at org.apache.solr.SolrTestCaseJ4.assertU(SolrTestCaseJ4.java:681)
   [junit4]    &amp;gt; 	at org.apache.solr.SolrTestCaseJ4.assertU(SolrTestCaseJ4.java:675)
   [junit4]    &amp;gt; 	at org.apache.solr.update.DataDrivenBlockJoinTest.test(DataDrivenBlockJoinTest.java:55)
   [junit4]    &amp;gt; 	at java.lang.Thread.run(Thread.java:745)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14586559" author="steve_rowe" created="Mon, 15 Jun 2015 19:50:53 +0000"  >&lt;p&gt;Patch with a fix, including the test that failed without the patch (modified to include multiple nesting levels: parent/child/grandchild, as well as a same-named field with values that would be guessed differently at each level).&lt;/p&gt;

&lt;p&gt;The issue is that nested documents&apos; fields are completely ignored by &lt;tt&gt;AddSchemaFieldsUpdateProcessorFactory&lt;/tt&gt;.  I had to change the field guessing strategy a little so that all parent + nested documents&apos; same-named fields are examined at the same time when performing the field guessing.&lt;/p&gt;

&lt;p&gt;This patch also adds the &quot;&lt;tt&gt;perSegFilter&lt;/tt&gt;&quot; cache (used by the block join parent qparser) to data_driven_schema_configs.&lt;/p&gt;

&lt;p&gt;All Solr core tests pass.  Committing shortly, after precommit succeeds.&lt;/p&gt;</comment>
                            <comment id="14586599" author="jira-bot" created="Mon, 15 Jun 2015 20:14:11 +0000"  >&lt;p&gt;Commit 1685660 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=steve_rowe&quot; class=&quot;user-hover&quot; rel=&quot;steve_rowe&quot;&gt;steve_rowe&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1685660&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1685660&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7091&quot; title=&quot;Data-driven schema and block-join style update requests don&amp;#39;t play well together&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7091&quot;&gt;&lt;del&gt;SOLR-7091&lt;/del&gt;&lt;/a&gt;: Nested documents with unknown fields don&apos;t work in schemaless mode.&lt;/p&gt;</comment>
                            <comment id="14586677" author="jira-bot" created="Mon, 15 Jun 2015 20:49:54 +0000"  >&lt;p&gt;Commit 1685666 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=steve_rowe&quot; class=&quot;user-hover&quot; rel=&quot;steve_rowe&quot;&gt;steve_rowe&lt;/a&gt; in branch &apos;dev/branches/branch_5x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1685666&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1685666&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7091&quot; title=&quot;Data-driven schema and block-join style update requests don&amp;#39;t play well together&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7091&quot;&gt;&lt;del&gt;SOLR-7091&lt;/del&gt;&lt;/a&gt;: Nested documents with unknown fields don&apos;t work in schemaless mode. (merged trunk r1685660)&lt;/p&gt;</comment>
                            <comment id="14586680" author="steve_rowe" created="Mon, 15 Jun 2015 20:51:44 +0000"  >&lt;p&gt;Committed to trunk and branch_5x.  &lt;/p&gt;

&lt;p&gt;Thanks for reporting, Tim.&lt;/p&gt;</comment>
                            <comment id="14713146" author="shalinmangar" created="Wed, 26 Aug 2015 13:05:54 +0000"  >&lt;p&gt;Bulk close for 5.3.0 release&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12739675" name="SOLR-7091.patch" size="11461" author="sarowe" created="Mon, 15 Jun 2015 19:50:53 +0000"/>
                            <attachment id="12697871" name="SOLR-7091.patch" size="5106" author="sarowe" created="Tue, 10 Feb 2015 21:05:35 +0000"/>
                            <attachment id="12697864" name="SOLR-7091.patch" size="4247" author="sarowe" created="Tue, 10 Feb 2015 20:26:45 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 12 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i25dg7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>