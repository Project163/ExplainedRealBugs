<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:12:16 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-8790] Add node name back to the core level responses in OverseerMessageHandler</title>
                <link>https://issues.apache.org/jira/browse/SOLR-8790</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;Continuing from &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8789&quot; title=&quot;CollectionAPISolrJTests is not run when running ant test&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-8789&quot;&gt;&lt;del&gt;SOLR-8789&lt;/del&gt;&lt;/a&gt;, now that this test runs, time to fix it.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12947390">SOLR-8790</key>
            <summary>Add node name back to the core level responses in OverseerMessageHandler</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="anshum">Anshum Gupta</assignee>
                                    <reporter username="anshum">Anshum Gupta</reporter>
                        <labels>
                    </labels>
                <created>Sat, 5 Mar 2016 00:40:26 +0000</created>
                <updated>Thu, 21 Nov 2019 00:41:51 +0000</updated>
                            <resolved>Mon, 25 Apr 2016 04:43:46 +0000</resolved>
                                                    <fixVersion>5.5.1</fixVersion>
                    <fixVersion>6.0</fixVersion>
                    <fixVersion>7.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="15181481" author="jira-bot" created="Sat, 5 Mar 2016 03:25:50 +0000"  >&lt;p&gt;Commit 81feea2505103f4f0bcc4f6a84d9ea9b99e7ecb5 in lucene-solr&apos;s branch refs/heads/master from anshum&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=81feea2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=81feea2&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8790&quot; title=&quot;Add node name back to the core level responses in OverseerMessageHandler&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-8790&quot;&gt;&lt;del&gt;SOLR-8790&lt;/del&gt;&lt;/a&gt;: Ignoring failing CollectionsAPISolrJTest test until this is fixed&lt;/p&gt;</comment>
                            <comment id="15181482" author="jira-bot" created="Sat, 5 Mar 2016 03:27:02 +0000"  >&lt;p&gt;Commit 2055b64ca10c66b5fe5f63c3ec3a845c567aadda in lucene-solr&apos;s branch refs/heads/branch_6x from anshum&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=2055b64&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=2055b64&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8790&quot; title=&quot;Add node name back to the core level responses in OverseerMessageHandler&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-8790&quot;&gt;&lt;del&gt;SOLR-8790&lt;/del&gt;&lt;/a&gt;: Ignoring failing CollectionsAPISolrJTest test until this is fixed&lt;/p&gt;</comment>
                            <comment id="15181483" author="anshumg" created="Sat, 5 Mar 2016 03:28:18 +0000"  >&lt;p&gt;Ignored the test to unblock Jenkins. I&apos;ll take a look at it later tonight.&lt;/p&gt;</comment>
                            <comment id="15184043" author="anshumg" created="Mon, 7 Mar 2016 23:45:57 +0000"  >&lt;p&gt;git bisect led to this commit:&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;a2e5c37c85acc7692d6fbcc29866a70db4f8be2e&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8534&quot; title=&quot;Add generic support for Collection APIs to be async&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-8534&quot;&gt;&lt;del&gt;SOLR-8534&lt;/del&gt;&lt;/a&gt;: Add generic support for collection APIs to be async&lt;/p&gt;

&lt;p&gt;I&apos;ll take a look and fix. I&apos;m fairly certain that the commit changed the response returned from Solr.&lt;/p&gt;</comment>
                            <comment id="15190217" author="anshumg" created="Fri, 11 Mar 2016 00:22:02 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nknize&quot; class=&quot;user-hover&quot; rel=&quot;nknize&quot;&gt;nknize&lt;/a&gt; I&apos;d like to get this into 6.0 as this is regression. &lt;/p&gt;</comment>
                            <comment id="15190225" author="jira-bot" created="Fri, 11 Mar 2016 00:24:28 +0000"  >&lt;p&gt;Commit 209f5c2946c8816a7ab175dc5e886ea661d154a5 in lucene-solr&apos;s branch refs/heads/master from anshum&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=209f5c2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=209f5c2&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8790&quot; title=&quot;Add node name back to the core level responses in OverseerMessageHandler&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-8790&quot;&gt;&lt;del&gt;SOLR-8790&lt;/del&gt;&lt;/a&gt;: Add the node name to core responses in calls from the Overseer&lt;/p&gt;</comment>
                            <comment id="15190265" author="jira-bot" created="Fri, 11 Mar 2016 01:05:14 +0000"  >&lt;p&gt;Commit 8fe11a06ce9e8bfef99184b1849e459b15691bf2 in lucene-solr&apos;s branch refs/heads/branch_6x from anshum&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=8fe11a0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=8fe11a0&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8790&quot; title=&quot;Add node name back to the core level responses in OverseerMessageHandler&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-8790&quot;&gt;&lt;del&gt;SOLR-8790&lt;/del&gt;&lt;/a&gt;: Add the node name to core responses in calls from the Overseer&lt;/p&gt;</comment>
                            <comment id="15190544" author="varunthacker" created="Fri, 11 Mar 2016 06:50:47 +0000"  >&lt;p&gt;Hi Anshum,&lt;/p&gt;

&lt;p&gt;Thanks for fixing the code! Patch looks good&lt;/p&gt;

&lt;p&gt;Just looking at the OverseerCollectionMessageHandler there are different things being set as nodeName in different places:&lt;/p&gt;

&lt;p&gt;For example,&lt;br/&gt;
processRebalanceLeaders does this - &lt;tt&gt;sreq.nodeName = message.getStr(ZkStateReader.CORE_NAME_PROP);&lt;/tt&gt;&lt;br/&gt;
addReplica does this - &lt;tt&gt;String node = message.getStr(CoreAdminParams.NODE);&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;Everyone else sets nodeName as &lt;tt&gt;ZkStateReader.NODE_NAME_PROP&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;I think we should also add some javadocs to &lt;tt&gt;sendShardRequest&lt;/tt&gt; and &lt;tt&gt;ShardRequest.java&lt;/tt&gt;&lt;/p&gt;</comment>
                            <comment id="15190591" author="varunthacker" created="Fri, 11 Mar 2016 07:54:25 +0000"  >&lt;p&gt;AddReplica is fine. The API actually takes in a &quot;node&quot; parameter but internally it&apos;s used as &quot;node_name&quot;.&lt;/p&gt;</comment>
                            <comment id="15190631" author="varunthacker" created="Fri, 11 Mar 2016 08:10:22 +0000"  >&lt;p&gt;Here is a quick patch of what I was referring to.&lt;/p&gt;</comment>
                            <comment id="15190971" author="nknize" created="Fri, 11 Mar 2016 14:16:36 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anshumg&quot; class=&quot;user-hover&quot; rel=&quot;anshumg&quot;&gt;anshumg&lt;/a&gt; I&apos;m okay with this making it in 6_0.&lt;/p&gt;</comment>
                            <comment id="15191369" author="anshumg" created="Fri, 11 Mar 2016 18:48:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=varun&quot; class=&quot;user-hover&quot; rel=&quot;varun&quot;&gt;varun&lt;/a&gt; The patch leads to failing TestRebalanceLeaders. &lt;br/&gt;
You are trying to extract the NODE_NAME from message but that is always be null.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;message.getStr(ZkStateReader.NODE_NAME_PROP)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Also, your patch loses this information:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;sreq.purpose = ShardRequest.PURPOSE_PRIVATE;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15196068" author="jira-bot" created="Tue, 15 Mar 2016 19:51:13 +0000"  >&lt;p&gt;Commit b4d52d60ac4413f7bd0cd83bcc3c94a00c6dcddf in lucene-solr&apos;s branch refs/heads/branch_6_0 from anshum&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=b4d52d6&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=b4d52d6&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8790&quot; title=&quot;Add node name back to the core level responses in OverseerMessageHandler&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-8790&quot;&gt;&lt;del&gt;SOLR-8790&lt;/del&gt;&lt;/a&gt;: Add the node name to core responses in calls from the Overseer&lt;/p&gt;</comment>
                            <comment id="15254128" author="anshumg" created="Fri, 22 Apr 2016 15:58:03 +0000"  >&lt;p&gt;backport for 5.5.1.&lt;/p&gt;</comment>
                            <comment id="15255023" author="jira-bot" created="Sat, 23 Apr 2016 01:51:40 +0000"  >&lt;p&gt;Commit cbb29d2a5ae4ab8741aab6c9f0806d4236c0cad0 in lucene-solr&apos;s branch refs/heads/branch_5x from anshum&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=cbb29d2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=cbb29d2&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8790&quot; title=&quot;Add node name back to the core level responses in OverseerMessageHandler&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-8790&quot;&gt;&lt;del&gt;SOLR-8790&lt;/del&gt;&lt;/a&gt;: Add the node name to core responses in calls from the Overseer&lt;/p&gt;</comment>
                            <comment id="15255877" author="jira-bot" created="Mon, 25 Apr 2016 04:40:54 +0000"  >&lt;p&gt;Commit bc08d7893fa6ba0bd0e9f37b72f014758f66b988 in lucene-solr&apos;s branch refs/heads/branch_5_5 from anshum&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=bc08d78&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=bc08d78&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8790&quot; title=&quot;Add node name back to the core level responses in OverseerMessageHandler&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-8790&quot;&gt;&lt;del&gt;SOLR-8790&lt;/del&gt;&lt;/a&gt;: Add the node name to core responses in calls from the Overseer&lt;/p&gt;</comment>
                            <comment id="15279251" author="hossman" created="Tue, 10 May 2016 23:48:35 +0000"  >&lt;p&gt;Manually correcting fixVersion per Step #S6 of &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-7271&quot; title=&quot;Cleanup jira&amp;#39;s concept of &amp;#39;master&amp;#39; and &amp;#39;6.0&amp;#39;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LUCENE-7271&quot;&gt;&lt;del&gt;LUCENE-7271&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12792673" name="SOLR-8790-followup.patch" size="2622" author="varun" created="Fri, 11 Mar 2016 08:10:22 +0000"/>
                            <attachment id="12792579" name="SOLR-8790.patch" size="1728" author="anshum" created="Thu, 10 Mar 2016 20:27:01 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 28 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u87z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>