<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:26:50 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-10353] TestSQLHandler reproducible failure: No match found for function signature min(&lt;NUMERIC&gt;)</title>
                <link>https://issues.apache.org/jira/browse/SOLR-10353</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;found this while doing jdk9 testing, but the seed reproduces with jdk8 as well...&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;hossman@tray:~/lucene/dev/solr/core [master] $ git rev-parse HEAD
c221ef0fdedaa92885746b3073150f0bd558f596
hossman@tray:~/lucene/dev/solr/core [master] $ ant test  -Dtestcase=TestSQLHandler -Dtests.method=doTest -Dtests.seed=D778831206956D34 -Dtests.nightly=true -Dtests.slow=true -Dtests.locale=az-Cyrl-AZ -Dtests.timezone=America/Cayman -Dtests.asserts=true -Dtests.file.encoding=ANSI_X3.4-1968
...
   [junit4]   2&amp;gt; NOTE: reproduce with: ant test  -Dtestcase=TestSQLHandler -Dtests.method=doTest -Dtests.seed=D778831206956D34 -Dtests.nightly=true -Dtests.slow=true -Dtests.locale=az-Cyrl-AZ -Dtests.timezone=America/Cayman -Dtests.asserts=true -Dtests.file.encoding=ANSI_X3.4-1968
   [junit4] ERROR   28.0s | TestSQLHandler.doTest &amp;lt;&amp;lt;&amp;lt;
   [junit4]    &amp;gt; Throwable #1: java.io.IOException: --&amp;gt; http://127.0.0.1:37402/collection1:Failed to execute sqlQuery &apos;select str_s, count(*), sum(field_i), min(field_i), max(field_i), cast(avg(1.0 * field_i) as float) from collection1 where text=&apos;XXXX&apos; group by str_s order by sum(field_i) asc limit 2&apos; against JDBC connection &apos;jdbc:calcitesolr:&apos;.
   [junit4]    &amp;gt; Error while executing SQL &quot;select str_s, count(*), sum(field_i), min(field_i), max(field_i), cast(avg(1.0 * field_i) as float) from collection1 where text=&apos;XXXX&apos; group by str_s order by sum(field_i) asc limit 2&quot;: From line 1, column 39 to line 1, column 50: No match found for function signature min(&amp;lt;NUMERIC&amp;gt;)
   [junit4]    &amp;gt; 	at __randomizedtesting.SeedInfo.seed([D778831206956D34:703C3BB66B2E7E8D]:0)
   [junit4]    &amp;gt; 	at org.apache.solr.client.solrj.io.stream.SolrStream.read(SolrStream.java:235)
   [junit4]    &amp;gt; 	at org.apache.solr.handler.TestSQLHandler.getTuples(TestSQLHandler.java:2349)
   [junit4]    &amp;gt; 	at org.apache.solr.handler.TestSQLHandler.testBasicGrouping(TestSQLHandler.java:675)
   [junit4]    &amp;gt; 	at org.apache.solr.handler.TestSQLHandler.doTest(TestSQLHandler.java:90)
   [junit4]    &amp;gt; 	at org.apache.solr.BaseDistributedSearchTestCase$ShardsRepeatRule$ShardsFixedStatement.callStatement(BaseDistributedSearchTestCase.java:985)
   [junit4]    &amp;gt; 	at org.apache.solr.BaseDistributedSearchTestCase$ShardsRepeatRule$ShardsStatement.evaluate(BaseDistributedSearchTestCase.java:960)
   [junit4]    &amp;gt; 	at java.lang.Thread.run(Thread.java:745)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13058692">SOLR-10353</key>
            <summary>TestSQLHandler reproducible failure: No match found for function signature min(&lt;NUMERIC&gt;)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="krisden">Kevin Risden</assignee>
                                    <reporter username="hossman">Chris M. Hostetter</reporter>
                        <labels>
                    </labels>
                <created>Thu, 23 Mar 2017 18:22:32 +0000</created>
                <updated>Sat, 8 Jun 2019 15:34:00 +0000</updated>
                            <resolved>Sun, 6 Aug 2017 18:20:17 +0000</resolved>
                                                    <fixVersion>7.0</fixVersion>
                    <fixVersion>7.1</fixVersion>
                    <fixVersion>8.0</fixVersion>
                                    <component>Parallel SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="15939002" author="joel.bernstein" created="Thu, 23 Mar 2017 18:47:31 +0000"  >&lt;p&gt;I believe this is due to the Azerbaijani locale causing problems with the Calcite string handling. I&apos;ll add an assumption to the test case.&lt;/p&gt;</comment>
                            <comment id="16066500" author="steve_rowe" created="Wed, 28 Jun 2017 13:48:18 +0000"  >&lt;p&gt;I looked at all the Jenkins failures for this since this issue was opened, and all that I can see the locale for (i.e. notification email contains it or the Jenkins log is still available) have one of these locales: &lt;tt&gt;az&lt;/tt&gt;, &lt;tt&gt;az-AZ&lt;/tt&gt;, &lt;tt&gt;az-Cyrl&lt;/tt&gt;, &lt;tt&gt;az-Latn-AZ&lt;/tt&gt;, &lt;tt&gt;az-Latn&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;The most recent example, from &lt;a href=&quot;https://jenkins.thetaphi.de/job/Lucene-Solr-master-Linux/19998&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://jenkins.thetaphi.de/job/Lucene-Solr-master-Linux/19998&lt;/a&gt;, reproduces for me on Java8:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;   [junit4]   2&amp;gt; NOTE: reproduce with: ant test  -Dtestcase=TestSQLHandler -Dtests.method=doTest -Dtests.seed=D3BEE760EAAD3B39 -Dtests.multiplier=3 -Dtests.slow=true -Dtests.locale=az -Dtests.timezone=America/Grenada -Dtests.asserts=true -Dtests.file.encoding=US-ASCII
   [junit4] ERROR   24.6s J2 | TestSQLHandler.doTest &amp;lt;&amp;lt;&amp;lt;
   [junit4]    &amp;gt; Throwable #1: java.io.IOException: --&amp;gt; https://127.0.0.1:37433/collection1_shard2_replica_n0:Failed to execute sqlQuery &apos;select str_s, count(*), sum(field_i), min(field_i), max(field_i), avg(field_i) from collection1 where text=&apos;XXXX&apos; group by str_s order by sum(field_i) asc limit 2&apos; against JDBC connection &apos;jdbc:calcitesolr:&apos;.
   [junit4]    &amp;gt; Error while executing SQL &quot;select str_s, count(*), sum(field_i), min(field_i), max(field_i), avg(field_i) from collection1 where text=&apos;XXXX&apos; group by str_s order by sum(field_i) asc limit 2&quot;: From line 1, column 39 to line 1, column 50: No match found for function signature min(&amp;lt;NUMERIC&amp;gt;)
   [junit4]    &amp;gt; 	at __randomizedtesting.SeedInfo.seed([D3BEE760EAAD3B39:74FA5FC487162880]:0)
   [junit4]    &amp;gt; 	at org.apache.solr.client.solrj.io.stream.SolrStream.read(SolrStream.java:219)
   [junit4]    &amp;gt; 	at org.apache.solr.handler.TestSQLHandler.getTuples(TestSQLHandler.java:2527)
   [junit4]    &amp;gt; 	at org.apache.solr.handler.TestSQLHandler.testBasicGrouping(TestSQLHandler.java:676)
   [junit4]    &amp;gt; 	at org.apache.solr.handler.TestSQLHandler.doTest(TestSQLHandler.java:90)
   [junit4]    &amp;gt; 	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
   [junit4]    &amp;gt; 	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
   [junit4]    &amp;gt; 	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
   [junit4]    &amp;gt; 	at java.base/java.lang.reflect.Method.invoke(Method.java:564)
   [junit4]    &amp;gt; 	at org.apache.solr.BaseDistributedSearchTestCase$ShardsRepeatRule$ShardsFixedStatement.callStatement(BaseDistributedSearchTestCase.java:985)
   [junit4]    &amp;gt; 	at org.apache.solr.BaseDistributedSearchTestCase$ShardsRepeatRule$ShardsStatement.evaluate(BaseDistributedSearchTestCase.java:960)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16067015" author="dsmiley" created="Wed, 28 Jun 2017 18:32:06 +0000"  >&lt;p&gt;Lets report this upstream to Calcite.&lt;/p&gt;</comment>
                            <comment id="16067391" author="risdenk" created="Wed, 28 Jun 2017 22:45:52 +0000"  >&lt;p&gt;This was previously reported up to Calcite for a different locale - &lt;a href=&quot;https://issues.apache.org/jira/browse/CALCITE-1667&quot; title=&quot;Forbid calls to JDK APIs that use the default locale, time zone or character set&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CALCITE-1667&quot;&gt;&lt;del&gt;CALCITE-1667&lt;/del&gt;&lt;/a&gt;. Calcite 0.13.0 and Avatica 1.10.0 were recently released. It might be as simple as updating to Calcite 0.13.0 and Avatica 1.10.0.&lt;/p&gt;
</comment>
                            <comment id="16067617" author="risdenk" created="Thu, 29 Jun 2017 02:50:17 +0000"  >&lt;p&gt;I&apos;m putting together a patch for Calcite 0.13.0 and Avatica 1.10.0. The two test cases for Turkish and az seem to pass when before they failed:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;ant test  -Dtestcase=TestSQLHandler -Dtests.method=doTest -Dtests.seed=F875A6E80D435C44 -Dtests.multiplier=3 -Dtests.slow=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; -Dtests.locale=tr -Dtests.timezone=Africa/Lagos -Dtests.asserts=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; -Dtests.file.encoding=US-ASCII
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;ant test  -Dtestcase=TestSQLHandler -Dtests.method=doTest -Dtests.seed=D3BEE760EAAD3B39 -Dtests.multiplier=3 -Dtests.slow=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; -Dtests.locale=az -Dtests.timezone=America/Grenada -Dtests.asserts=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; -Dtests.file.encoding=US-ASCII
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16067619" author="risdenk" created="Thu, 29 Jun 2017 02:53:16 +0000"  >&lt;p&gt;Tested with the above two test cases locally and then a few other ones here:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://github.com/risdenk/lucene-solr/tree/SOLR-10353&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/risdenk/lucene-solr/tree/SOLR-10353&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://travis-ci.org/risdenk/lucene-solr/builds/248210212&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://travis-ci.org/risdenk/lucene-solr/builds/248210212&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="16067627" author="risdenk" created="Thu, 29 Jun 2017 02:58:13 +0000"  >&lt;p&gt;Attaching correct file with notice and license.&lt;/p&gt;</comment>
                            <comment id="16115882" author="jira-bot" created="Sun, 6 Aug 2017 18:17:20 +0000"  >&lt;p&gt;Commit 44de7b23062ae63565f8abd13cdf04270dd3290f in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=risdenk&quot; class=&quot;user-hover&quot; rel=&quot;risdenk&quot;&gt;risdenk&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=44de7b2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=44de7b2&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10353&quot; title=&quot;TestSQLHandler reproducible failure: No match found for function signature min(&amp;lt;NUMERIC&amp;gt;)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10353&quot;&gt;&lt;del&gt;SOLR-10353&lt;/del&gt;&lt;/a&gt;: TestSQLHandler reproducible failure: No match found for function signature min(&amp;lt;NUMERIC&amp;gt;) changes entry&lt;/p&gt;</comment>
                            <comment id="16115884" author="jira-bot" created="Sun, 6 Aug 2017 18:18:09 +0000"  >&lt;p&gt;Commit 881fff501da81c2f6655006e8c586f3814a836cd in lucene-solr&apos;s branch refs/heads/branch_7_0 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=risdenk&quot; class=&quot;user-hover&quot; rel=&quot;risdenk&quot;&gt;risdenk&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=881fff5&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=881fff5&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10353&quot; title=&quot;TestSQLHandler reproducible failure: No match found for function signature min(&amp;lt;NUMERIC&amp;gt;)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10353&quot;&gt;&lt;del&gt;SOLR-10353&lt;/del&gt;&lt;/a&gt;: TestSQLHandler reproducible failure: No match found for function signature min(&amp;lt;NUMERIC&amp;gt;) changes entry&lt;/p&gt;</comment>
                            <comment id="16115887" author="jira-bot" created="Sun, 6 Aug 2017 18:19:44 +0000"  >&lt;p&gt;Commit 1ffe8c43ddc229ec091de1c3855e02aec6b39a1e in lucene-solr&apos;s branch refs/heads/branch_7x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=risdenk&quot; class=&quot;user-hover&quot; rel=&quot;risdenk&quot;&gt;risdenk&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=1ffe8c4&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=1ffe8c4&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10353&quot; title=&quot;TestSQLHandler reproducible failure: No match found for function signature min(&amp;lt;NUMERIC&amp;gt;)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10353&quot;&gt;&lt;del&gt;SOLR-10353&lt;/del&gt;&lt;/a&gt;: TestSQLHandler reproducible failure: No match found for function signature min(&amp;lt;NUMERIC&amp;gt;) changes entry&lt;/p&gt;</comment>
                            <comment id="16207286" author="shalinmangar" created="Tue, 17 Oct 2017 11:03:14 +0000"  >&lt;p&gt;Bulk close after 7.1.0 release&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13047796">CALCITE-1667</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12933820">SOLR-8593</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="13034792">SOLR-9963</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12875006" name="SOLR-10353.patch" size="17966" author="krisden" created="Thu, 29 Jun 2017 03:08:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 5 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3cprr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>