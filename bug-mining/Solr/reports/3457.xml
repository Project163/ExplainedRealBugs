<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:23:56 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-10829] IndexSchema should enforce that uniqueKey field must not be points based</title>
                <link>https://issues.apache.org/jira/browse/SOLR-10829</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;if a uniqueKey field is defined, then the IndexSchema should fail fast &amp;amp; hard on startup if the field type of the specific uniqueKey uses &quot;points&quot; (ie: &lt;tt&gt;FieldType.isPointField()&lt;/tt&gt;)&lt;/p&gt;

&lt;p&gt;The reason for this is because deleting by id, and overwriting existing documents are predicated on being able to use &lt;tt&gt;IndexWriter.deleteDocuments(Term...)&lt;/tt&gt; and &lt;tt&gt;IndexWriter.updateDocument(Term, Iterable&amp;lt;..docs..&amp;gt;)&lt;/tt&gt; respectively &amp;#8211; but Points based fields have no &quot;Term&quot; that can be based to these methods.&lt;/p&gt;

&lt;p&gt;IndexSchema.readSchema should fail fast in this case with a clear error (just like it does if the uniqueKey field is multivalued)&lt;/p&gt;</description>
                <environment></environment>
        <key id="13077824">SOLR-10829</key>
            <summary>IndexSchema should enforce that uniqueKey field must not be points based</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hossman">Chris M. Hostetter</assignee>
                                    <reporter username="hossman">Chris M. Hostetter</reporter>
                        <labels>
                            <label>numeric-tries-to-points</label>
                    </labels>
                <created>Tue, 6 Jun 2017 22:19:32 +0000</created>
                <updated>Sat, 8 Jun 2019 15:19:07 +0000</updated>
                            <resolved>Fri, 9 Jun 2017 22:14:17 +0000</resolved>
                                                    <fixVersion>6.7</fixVersion>
                    <fixVersion>7.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="16039784" author="hossman" created="Tue, 6 Jun 2017 22:29:37 +0000"  >&lt;p&gt;Discovered this while working on &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10807&quot; title=&quot; Randomize PointFields in all tests unless explicit reason not to&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10807&quot;&gt;&lt;del&gt;SOLR-10807&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Note that the same sort of error checking should be applied to the &lt;tt&gt;&amp;#95;root_&lt;/tt&gt; field if defined, but &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10830&quot; title=&quot;Solr needs to enforce that _root_ field has the same fieldType as the uniqueKey field&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10830&quot;&gt;&lt;del&gt;SOLR-10830&lt;/del&gt;&lt;/a&gt; is probably a broader fix for that specific issue: if we assert that &lt;tt&gt;&amp;#95;root_&lt;/tt&gt; uses the same type as the uniqueKeyField, then we don&apos;t need to worry about checking that &lt;tt&gt;&amp;#95;root_&lt;/tt&gt; doesn&apos;t use points as long as we&apos;ve already checked that the uniqueKey field doesn&apos;t use points&lt;/p&gt;</comment>
                            <comment id="16040483" author="romseygeek" created="Wed, 7 Jun 2017 08:18:45 +0000"  >&lt;p&gt;Do you think it&apos;s worth creating a specific IDField class for this?  That way we can enforce ID requirements (keyword analyzed, doc values for sorting, no point values) for the unique key field, and for &lt;em&gt;root&lt;/em&gt; and &lt;em&gt;parent&lt;/em&gt; and other special fields.  The schema for 7.0 detects if any of these fields aren&apos;t using the IDField type and emits a warning, and 8.0 errors out.&lt;/p&gt;</comment>
                            <comment id="16041116" author="erickerickson" created="Wed, 7 Jun 2017 16:04:59 +0000"  >&lt;p&gt;I rather like the idea of a specific id field, but maybe I&apos;m missing something. How would it handle string, int, long variants.&lt;/p&gt;</comment>
                            <comment id="16041200" author="hossman" created="Wed, 7 Jun 2017 16:52:15 +0000"  >&lt;blockquote&gt;&lt;p&gt;Do you think it&apos;s worth creating a specific IDField class for this?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;i don&apos;t have strong opinions about that &amp;#8211; but if we do that it should be in it&apos;s own &quot;Improvement&quot; jira because it can only be targeted for 7.x and above.&lt;/p&gt;

&lt;p&gt;I want to keep this jira focused on being a &quot;Bug&quot; because right now if you try to use an IntPointField as your uniqueKey in 6.x you&apos;ll silently get incorrect behavior when doing deletes/updates so we need an error that we can backport to 6.x bug fix releases.&lt;/p&gt;</comment>
                            <comment id="16043569" author="hossman" created="Thu, 8 Jun 2017 22:49:03 +0000"  >&lt;p&gt;straight forward patch with tests&lt;/p&gt;</comment>
                            <comment id="16044088" author="mkhludnev" created="Fri, 9 Jun 2017 07:35:02 +0000"  >&lt;p&gt;LGTM&lt;/p&gt;</comment>
                            <comment id="16044835" author="jira-bot" created="Fri, 9 Jun 2017 18:41:49 +0000"  >&lt;p&gt;Commit 477eeea1ede3eac12328a57642f88cb6ea8994b8 in lucene-solr&apos;s branch refs/heads/branch_6x from Chris Hostetter&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=477eeea&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=477eeea&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10829&quot; title=&quot;IndexSchema should enforce that uniqueKey field must not be points based&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10829&quot;&gt;&lt;del&gt;SOLR-10829&lt;/del&gt;&lt;/a&gt;: Fixed IndexSchema to enforce that uniqueKey can not be Points based for correctness&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 8cd826f2936853d345c863e51c50eeaa9754a061)&lt;/p&gt;</comment>
                            <comment id="16044837" author="jira-bot" created="Fri, 9 Jun 2017 18:41:53 +0000"  >&lt;p&gt;Commit 8cd826f2936853d345c863e51c50eeaa9754a061 in lucene-solr&apos;s branch refs/heads/master from Chris Hostetter&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=8cd826f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=8cd826f&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10829&quot; title=&quot;IndexSchema should enforce that uniqueKey field must not be points based&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10829&quot;&gt;&lt;del&gt;SOLR-10829&lt;/del&gt;&lt;/a&gt;: Fixed IndexSchema to enforce that uniqueKey can not be Points based for correctness&lt;/p&gt;</comment>
                            <comment id="16095103" author="hossman" created="Thu, 20 Jul 2017 18:06:43 +0000"  >&lt;p&gt;Bulk editing 27 jiras matching the following JQL query to include the &quot;numeric-tries-to-points label...&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;(issue in linkedIssues(SOLR-10807) OR issue in linkedIssues(SOLR-8396) OR issue in linkedIssues(SOLR-9995)) AND project = SOLR AND status != CLOSED
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;these 27 jiras can be identified by searching for the comment string &quot;20170720hossbulkeditlabel&quot;&lt;/p&gt;

&lt;p&gt;email notification is being suppressed.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13077829">SOLR-10830</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13077048">SOLR-10807</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13077850">SOLR-10834</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12872166" name="SOLR-10829.patch" size="3120" author="hossman" created="Thu, 8 Jun 2017 22:49:03 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 17 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3fycn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>