<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:38:19 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-5970] Create collection API always has status 0</title>
                <link>https://issues.apache.org/jira/browse/SOLR-5970</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;The responses below are from a successful create collection API (&lt;a href=&quot;https://cwiki.apache.org/confluence/display/solr/Collections+API#CollectionsAPI-CreateormodifyanAliasforaCollection&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://cwiki.apache.org/confluence/display/solr/Collections+API#CollectionsAPI-CreateormodifyanAliasforaCollection&lt;/a&gt;) call and an unsuccessful create collection API call. It seems the &apos;status&apos; is always 0.&lt;/p&gt;

&lt;p&gt;Success:&lt;br/&gt;
{u&apos;responseHeader&apos;: &lt;/p&gt;
{u&apos;status&apos;: 0, u&apos;QTime&apos;: 4421}
&lt;p&gt;, u&apos;success&apos;: {u&apos;&apos;: {u&apos;core&apos;: u&apos;test1_shard1_replica1&apos;, u&apos;responseHeader&apos;: {u&apos;status&apos;: 0, u&apos;QTime&apos;: 3449}}}}&lt;/p&gt;

&lt;p&gt;Failure:&lt;br/&gt;
{u&apos;failure&apos;: &lt;br/&gt;
  &lt;/p&gt;
{u&apos;&apos;: u&quot;org.apache.solr.client.solrj.impl.HttpSolrServer$RemoteSolrException:Error CREATEing SolrCore &apos;test43_shard1_replica1&apos;: Unable to create core: test43_shard1_replica1 Caused by: Could not find configName for collection test43 found:[test1]&quot;}
&lt;p&gt;,&lt;br/&gt;
 u&apos;responseHeader&apos;: &lt;/p&gt;
{u&apos;status&apos;: 0, u&apos;QTime&apos;: 17149}
&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;It seems like the status should be 400 or something similar for an unsuccessful attempt?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12707071">SOLR-5970</key>
            <summary>Create collection API always has status 0</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ichattopadhyaya">Ishan Chattopadhyaya</assignee>
                                    <reporter username="abec">Abraham Elmahrek</reporter>
                        <labels>
                    </labels>
                <created>Mon, 7 Apr 2014 23:59:41 +0000</created>
                <updated>Tue, 24 Dec 2024 21:53:32 +0000</updated>
                            <resolved>Sun, 28 Apr 2019 17:53:42 +0000</resolved>
                                                    <fixVersion>8.1</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>13</watches>
                                                                                                                <comments>
                            <comment id="14000606" author="gchanan" created="Sat, 17 May 2014 02:02:43 +0000"  >&lt;p&gt;I looked into this a bit.  It looks like the collection creation always returns status 0, and returns the failures of the individual shards in the &quot;failure&quot; field of the response and successes in &quot;success.&quot;  That&apos;s interesting information, although I&apos;m not sure it&apos;s that more useful for the end-user than just throwing an exception listing all the failures or just the first failure.&lt;/p&gt;

&lt;p&gt;This also appears to be an issue with the other OverseerCollectionProcessor, although I&apos;m not sure if there is any case where an individual operation is not successful, but we&apos;d want to not throw an exception.  Anyone have an opinion?  &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="14000814" author="markrmiller@gmail.com" created="Sat, 17 May 2014 16:07:24 +0000"  >&lt;p&gt;Collections API responses really need an overhaul I think. One of those things that has gotten no real attention. Very hard to process the response currently I think.&lt;/p&gt;

&lt;p&gt;I do think we need fine grained results available of some kind, unless we change how things work - for instance, you can create a collection and it fails to create on 4 nodes and succeeds on 3 - that collection will exist regardless the way things currently work - it just won&apos;t be what you wanted. That&apos;s a lot more effort to improve I think, but an all or nothing system would be nicer at some point IMO.&lt;/p&gt;</comment>
                            <comment id="14326340" author="markrmiller@gmail.com" created="Wed, 18 Feb 2015 18:39:21 +0000"  >&lt;p&gt;Good Collection API responses makes my top list of SolrCloud issues that still need to be completed: &lt;a href=&quot;https://www.evernote.com/shard/s6/sh/e21837fe-d1d1-4f26-9dbe-fefce9a9feff/0c0f9d8224956916883bc6ffc40a6bba&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://www.evernote.com/shard/s6/sh/e21837fe-d1d1-4f26-9dbe-fefce9a9feff/0c0f9d8224956916883bc6ffc40a6bba&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15938610" author="ichattopadhyaya" created="Thu, 23 Mar 2017 15:52:12 +0000"  >&lt;p&gt;Until we fix the collections API properly, should we, at the least, throw a non zero status upon a failed core creation for any replica? The CollectionAdminResponse#getErrorMessages() contain exceptions, if any. Perhaps the presence of errors in the CollectionAdminResponse could set the status code to be non 0.&lt;/p&gt;</comment>
                            <comment id="15945711" author="esther.quansah" created="Tue, 28 Mar 2017 18:44:03 +0000"  >&lt;p&gt;processResponse() in OverseerCollectionMessageHandler.java logs the exception and outputs it in the response but never actually throws an exception, which is probably why the status is 0... I&apos;m not able to replicate this issue though...I&apos;m always getting a 400 status when I attempt to create a collection with a non-existent configset. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=abec&quot; class=&quot;user-hover&quot; rel=&quot;abec&quot;&gt;abec&lt;/a&gt; could you list simple steps to reproduce this? if not, do you have debug enabled logs? &lt;/p&gt;</comment>
                            <comment id="15946069" author="markrmiller@gmail.com" created="Tue, 28 Mar 2017 22:17:04 +0000"  >&lt;p&gt;Probably at the time my thinking was something like, well the request succeeded, but maybe some of the sub  request failed and you can read about the parts within the response. The request itself could also fail, and then you would get a failed status. &lt;/p&gt;

&lt;p&gt;We could change this for 7.&lt;/p&gt;</comment>
                            <comment id="15959357" author="esther.quansah" created="Thu, 6 Apr 2017 17:20:50 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ichattopadhyaya&quot; class=&quot;user-hover&quot; rel=&quot;ichattopadhyaya&quot;&gt;ichattopadhyaya&lt;/a&gt; I tested this out in master and the status code returned is 400, so evidently this has been fixed. Not sure if a 400 code is what you were looking for though - in my opinion, it&apos;s most appropriate option.&lt;/p&gt;</comment>
                            <comment id="15967443" author="ichattopadhyaya" created="Thu, 13 Apr 2017 11:32:42 +0000"  >&lt;p&gt;Thanks for looking into this, Esther. Here&apos;s a situation where I still see status 0 for a failed collection creation.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;$ cd solr; ant server

Create a directory, &lt;span class=&quot;code-quote&quot;&gt;&quot;badconf&quot;&lt;/span&gt; containing the schema.xml and solrconfig.xml that I&apos;ve attached here.
Copy the bad.jar file to {{server/solr-webapp/webapp/WEB-INF/lib}}. It is just a compiled version of the ThrowErrorOnInitRequestHandler.java.

$ bin/solr -c
$ bin/solr zk -upconfig -d badconf -n bad -z localhost:9983

Connecting to ZooKeeper at localhost:9983 ...
Uploading /home/ishan/code/lucene-solr/solr/badconf &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; config bad to ZooKeeper at localhost:9983

$ curl &lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//localhost:8983/solr/admin/collections?action=CREATE&amp;amp;name=test1&amp;amp;numShards=1&amp;amp;replicationFactor=2&amp;amp;maxShardsPerNode=2&amp;amp;collection.configName=bad&quot;&lt;/span&gt;
&lt;/span&gt;
&amp;lt;?xml version=&lt;span class=&quot;code-quote&quot;&gt;&quot;1.0&quot;&lt;/span&gt; encoding=&lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-8&quot;&lt;/span&gt;?&amp;gt;
&amp;lt;response&amp;gt;
&amp;lt;lst name=&lt;span class=&quot;code-quote&quot;&gt;&quot;responseHeader&quot;&lt;/span&gt;&amp;gt;&amp;lt;&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;status&quot;&lt;/span&gt;&amp;gt;0&amp;lt;/&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;&amp;gt;&amp;lt;&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;QTime&quot;&lt;/span&gt;&amp;gt;32069&amp;lt;/&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;&amp;gt;&amp;lt;/lst&amp;gt;&amp;lt;lst name=&lt;span class=&quot;code-quote&quot;&gt;&quot;failure&quot;&lt;/span&gt;&amp;gt;&amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;192.168.137.211:8983_solr&quot;&lt;/span&gt;&amp;gt;org.apache.solr.client.solrj.impl.HttpSolrClient$RemoteSolrException:Error from server at http:&lt;span class=&quot;code-comment&quot;&gt;//192.168.137.211:8983/solr: Error CREATEing SolrCore &lt;span class=&quot;code-quote&quot;&gt;&apos;test1_shard1_replica1&apos;&lt;/span&gt;: Unable to create core [test1_shard1_replica1] Caused by: Doing my job, throwing a java.lang.Error&amp;lt;/str&amp;gt;&amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;192.168.137.211:8983_solr&quot;&lt;/span&gt;&amp;gt;org.apache.solr.client.solrj.impl.HttpSolrClient$RemoteSolrException:Error from server at http://192.168.137.211:8983/solr: Error CREATEing SolrCore &lt;span class=&quot;code-quote&quot;&gt;&apos;test1_shard1_replica2&apos;&lt;/span&gt;: Unable to create core [test1_shard1_replica2] Caused by: Doing my job, throwing a java.lang.Error&amp;lt;/str&amp;gt;&amp;lt;/lst&amp;gt;
&lt;/span&gt;&amp;lt;/response&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;As you see, the collection creation failed, yet the status was 0. Also attaching a unit test that demonstrates the problem.&lt;/p&gt;</comment>
                            <comment id="16186421" author="steve_rowe" created="Fri, 29 Sep 2017 21:05:33 +0000"  >&lt;p&gt;On &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11406&quot; title=&quot;Solr 7.0 cannot read indexes from 6.x versions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-11406&quot;&gt;&lt;del&gt;SOLR-11406&lt;/del&gt;&lt;/a&gt;, I saw the core creation failure equivalent of the failures reported here: because pre-7.0 indexes can&apos;t be opened with Solr 7.0, core creation over a 6.x index fails, but &lt;tt&gt;bin/solr start -s contains/6.x/index&lt;/tt&gt; nevertheless acts as if everything went fine - only the success message is printed: &lt;tt&gt;Started Solr server on port 8983 (pid=XXXX). Happy searching!&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;Likely the fix here for collections will take individual cores into account too, so I don&apos;t think a separate JIRA is warranted.&lt;/p&gt;</comment>
                            <comment id="16687447" author="gerlowskija" created="Thu, 15 Nov 2018 03:47:52 +0000"  >&lt;blockquote&gt;&lt;p&gt;Until we fix the collections API properly, should we, at the least, throw a non zero status upon a failed core creation for any replica?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;+1.&lt;/p&gt;

&lt;p&gt;Started taking a look at a possible fix for this earlier this afternoon.  Few notes from things:&lt;/p&gt;

&lt;p&gt;First, I ran into two easy ways to reproduce the behavior on &lt;tt&gt;master&lt;/tt&gt;.  You can use the invalid configset method that Ishan suggested above.  That still works great.  Or, if you prefer, you can chmod Solr&apos;s data dir to be read only (&lt;tt&gt;chmod 444 solr/server/solr&lt;/tt&gt;) and then create a collection however you&apos;d like.&lt;/p&gt;

&lt;p&gt;Second, the overseer processing reports back an error message under the key &quot;failure&quot; (you can see this in the curl response in Ishan&apos;s example above).  Naively, it seems like we could rely on this key as an indicator that the request-processing failed, and that the status should be non-zero.  I&apos;ll probably go down that route tomorrow morning.&lt;/p&gt;

&lt;p&gt;Lastly, and this is a bit of a side note, but I notice that when I reproduce the problem, the create-collection call repeatedly takes upwards of 30 seconds.  I suspect this a secondary result of not noticing that the overseer processing ran into an error - Solr thinks creation has succeeded so it waits 30 seconds to see the collection become &quot;active&quot;  (see the line &lt;a href=&quot;https://github.com/apache/lucene-solr/blob/d799fd53c7cd3a83442d6010dc48802d2fd8c7fb/solr/core/src/java/org/apache/solr/handler/admin/CollectionsHandler.java#L282&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;here&lt;/a&gt;).  Hopefully a fix for the route cause here will also help us avoid this issue too!&lt;/p&gt;</comment>
                            <comment id="16688919" author="gerlowskija" created="Fri, 16 Nov 2018 02:23:12 +0000"  >&lt;p&gt;Attached a patch which takes a stab at this.  With this change, the badconf reproductions Ishan outlines above returns the following response:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
{
  &lt;span class=&quot;code-quote&quot;&gt;&quot;responseHeader&quot;&lt;/span&gt;:{
    &lt;span class=&quot;code-quote&quot;&gt;&quot;status&quot;&lt;/span&gt;:400,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;QTime&quot;&lt;/span&gt;:2816},
  &lt;span class=&quot;code-quote&quot;&gt;&quot;failure&quot;&lt;/span&gt;:{
    &lt;span class=&quot;code-quote&quot;&gt;&quot;192.168.1.194:8983_solr&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.solr.client.solrj.impl.HttpSolrClient$RemoteSolrException:Error from server at http:&lt;span class=&quot;code-comment&quot;&gt;//192.168.1.194:8983/solr: Error CREATEing SolrCore &lt;span class=&quot;code-quote&quot;&gt;&apos;D827ACAB-8C4A-4C67-80B7-3DA93066FD6D_shard1_replica_n1&apos;&lt;/span&gt;: Unable to create core [D827ACAB-8C4A-4C67-80B7-3DA93066FD6D_shard1_replica_n1] Caused by: solr.ThrowErrorOnInitRequestHandler&quot;&lt;/span&gt;},
&lt;/span&gt;  &lt;span class=&quot;code-quote&quot;&gt;&quot;Operation create caused exception:&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.solr.common.SolrException:org.apache.solr.common.SolrException: Underlying core creation failed &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; creating collection: foo&quot;&lt;/span&gt;,
  &lt;span class=&quot;code-quote&quot;&gt;&quot;exception&quot;&lt;/span&gt;:{
    &lt;span class=&quot;code-quote&quot;&gt;&quot;msg&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;Underlying core creation failed &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; creating collection: foo&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;rspCode&quot;&lt;/span&gt;:400},
  &lt;span class=&quot;code-quote&quot;&gt;&quot;error&quot;&lt;/span&gt;:{
    &lt;span class=&quot;code-quote&quot;&gt;&quot;metadata&quot;&lt;/span&gt;:[
      &lt;span class=&quot;code-quote&quot;&gt;&quot;error-class&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.solr.common.SolrException&quot;&lt;/span&gt;,
      &lt;span class=&quot;code-quote&quot;&gt;&quot;root-error-class&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.solr.common.SolrException&quot;&lt;/span&gt;],
    &lt;span class=&quot;code-quote&quot;&gt;&quot;msg&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;Underlying core creation failed &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; creating collection: foo&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;code&quot;&lt;/span&gt;:400}}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;b&gt;Miscellaneous Notes on the Patch&lt;/b&gt;&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;SolrJ code that encounters similar collection-creation error conditions will see a &lt;tt&gt;RemoteSolrException&lt;/tt&gt; be thrown.  This is standard in SolrJ, just mentioning it.&lt;/li&gt;
	&lt;li&gt;existing tests pass, but I&apos;d like to add a more explicit test for this case (or adopt the one attached here already)&lt;/li&gt;
	&lt;li&gt;The patch here only addresses this behavior for the create-collection API.  I could&apos;ve made a broader change that affected other collection-admin APIs, but didn&apos;t want to exceed the original intent here.&lt;/li&gt;
	&lt;li&gt;Would love to get some feedback on the new response.  Otherwise though I&apos;ll commit in a few days.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;As a side note, I hadn&apos;t paid attention to the collection-admin responses in a while, and they were worse than I remembered.  We have 4&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/warning.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; different things that readers might look at to check for problems: (1) the integer property &quot;status&quot;, (2) a top level &quot;failure&quot; property, (3) a top level &quot;exception&quot; property, (4) a top level &quot;error&quot; property.  Yikes.  Def worth some further attention and (maybe drastic) change.  I&apos;d be interested in helping where I can if anyone else gets involved here.&lt;/p&gt;</comment>
                            <comment id="16825933" author="ichattopadhyaya" created="Thu, 25 Apr 2019 10:06:02 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gerlowskija&quot; class=&quot;user-hover&quot; rel=&quot;gerlowskija&quot;&gt;gerlowskija&lt;/a&gt;, are you planning to work on this? The new response looks fine to me and your current patch. This will be a major annoyance solved, and was wondering if we can get this into Solr 8.1? In case you wouldn&apos;t have time for this, should I try?&lt;/p&gt;

&lt;p&gt;We can spin up follow up issues for the remaining work (e.g. somehow consolidating the four places of errors/exceptions/status).&lt;/p&gt;</comment>
                            <comment id="16827270" author="keshareenv" created="Fri, 26 Apr 2019 20:11:17 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ichattopadhyaya&quot; class=&quot;user-hover&quot; rel=&quot;ichattopadhyaya&quot;&gt;ichattopadhyaya&lt;/a&gt; I have added a&#160;patch for branch_8x improving upon the previous&#160;patch and&#160;added&#160;more&#160;explicit&#160;test case as well. Let me know if this is good enough for 8.1, we can pick up broader changes for collection admin api in related tasks.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gerlowskija&quot; class=&quot;user-hover&quot; rel=&quot;gerlowskija&quot;&gt;gerlowskija&lt;/a&gt; Response format looks good,&#160;its consistent with other failure responses. Also suggest changes if any.&lt;/p&gt;

&lt;p&gt;E.g:&#160;Response when incorrect config specified&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-json&quot;&gt;
{
&lt;span class=&quot;code-quote&quot;&gt;&quot;responseHeader&quot;&lt;/span&gt;: {
&lt;span class=&quot;code-quote&quot;&gt;&quot;status&quot;&lt;/span&gt;: 400,
&lt;span class=&quot;code-quote&quot;&gt;&quot;QTime&quot;&lt;/span&gt;: 138
},
&lt;span class=&quot;code-quote&quot;&gt;&quot;Operation create caused exception:&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.solr.common.SolrException:org.apache.solr.common.SolrException: Can not find the specified config set: ba&quot;&lt;/span&gt;,
&lt;span class=&quot;code-quote&quot;&gt;&quot;exception&quot;&lt;/span&gt;: {
&lt;span class=&quot;code-quote&quot;&gt;&quot;msg&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;Can not find the specified config set: ba&quot;&lt;/span&gt;,
&lt;span class=&quot;code-quote&quot;&gt;&quot;rspCode&quot;&lt;/span&gt;: 400
},
&lt;span class=&quot;code-quote&quot;&gt;&quot;error&quot;&lt;/span&gt;: {
&lt;span class=&quot;code-quote&quot;&gt;&quot;metadata&quot;&lt;/span&gt;: [
&lt;span class=&quot;code-quote&quot;&gt;&quot;error-class&quot;&lt;/span&gt;,
&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.solr.common.SolrException&quot;&lt;/span&gt;,
&lt;span class=&quot;code-quote&quot;&gt;&quot;root-error-class&quot;&lt;/span&gt;,
&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.solr.common.SolrException&quot;&lt;/span&gt;
],
&lt;span class=&quot;code-quote&quot;&gt;&quot;msg&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;Can not find the specified config set: ba&quot;&lt;/span&gt;,
&lt;span class=&quot;code-quote&quot;&gt;&quot;code&quot;&lt;/span&gt;: 400
}
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16827955" author="keshareenv" created="Sun, 28 Apr 2019 11:52:01 +0000"  >&lt;p&gt;Adding patch for master&lt;/p&gt;</comment>
                            <comment id="16828793" author="jira-bot" created="Sun, 28 Apr 2019 17:46:46 +0000"  >&lt;p&gt;Commit dd9899b1c16aa06fd7acb43d2f43bcac44a97776 in lucene-solr&apos;s branch refs/heads/master from Ishan Chattopadhyaya&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=dd9899b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=dd9899b&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5970&quot; title=&quot;Create collection API always has status 0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5970&quot;&gt;&lt;del&gt;SOLR-5970&lt;/del&gt;&lt;/a&gt;: Return correct status upon collection creation failure&lt;/p&gt;</comment>
                            <comment id="16828794" author="jira-bot" created="Sun, 28 Apr 2019 17:50:46 +0000"  >&lt;p&gt;Commit 855c7d6bb50f5120bead983044d2f1a4e3a44cbf in lucene-solr&apos;s branch refs/heads/branch_8x from Ishan Chattopadhyaya&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=855c7d6&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=855c7d6&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5970&quot; title=&quot;Create collection API always has status 0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5970&quot;&gt;&lt;del&gt;SOLR-5970&lt;/del&gt;&lt;/a&gt;: Return correct status upon collection creation failure&lt;/p&gt;</comment>
                            <comment id="16828798" author="ichattopadhyaya" created="Sun, 28 Apr 2019 17:53:42 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gerlowskija&quot; class=&quot;user-hover&quot; rel=&quot;gerlowskija&quot;&gt;gerlowskija&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=keshareenv&quot; class=&quot;user-hover&quot; rel=&quot;keshareenv&quot;&gt;keshareenv&lt;/a&gt;! Lets spin up new issues for broader fix involving status for other collections API responses.&lt;/p&gt;</comment>
                            <comment id="16828801" author="jira-bot" created="Sun, 28 Apr 2019 18:04:00 +0000"  >&lt;p&gt;Commit 8dd22bc0564b0e2da02ff9e7c34cad66e76c7a05 in lucene-solr&apos;s branch refs/heads/master from Ishan Chattopadhyaya&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=8dd22bc&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=8dd22bc&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5970&quot; title=&quot;Create collection API always has status 0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5970&quot;&gt;&lt;del&gt;SOLR-5970&lt;/del&gt;&lt;/a&gt;: Fix precommit&lt;/p&gt;</comment>
                            <comment id="16828802" author="jira-bot" created="Sun, 28 Apr 2019 18:06:46 +0000"  >&lt;p&gt;Commit 980472aa47a4f5393b085efd188326c0908f6bd6 in lucene-solr&apos;s branch refs/heads/branch_8x from Ishan Chattopadhyaya&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=980472a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=980472a&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5970&quot; title=&quot;Create collection API always has status 0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5970&quot;&gt;&lt;del&gt;SOLR-5970&lt;/del&gt;&lt;/a&gt;: Fix precommit&lt;/p&gt;</comment>
                            <comment id="16829385" author="tomasflobbe" created="Mon, 29 Apr 2019 16:04:32 +0000"  >&lt;p&gt;+1 for this change. We should add an upgrade note, since this changes how people needs to handle failures (in the SolrJ case, they&apos;ll now get an exception where before they wouldn&apos;t have).&lt;/p&gt;</comment>
                            <comment id="16829569" author="gerlowskija" created="Mon, 29 Apr 2019 17:50:38 +0000"  >&lt;p&gt;Thanks for seeing this through Ishan, and thanks for updating my patch Kesharee.  Sorry to leave it hanging.  I let it sit for a few hoping for feedback before committing and then it fell off my radar.  Glad this will make it into 8.1!&lt;/p&gt;</comment>
                            <comment id="16834505" author="jira-bot" created="Tue, 7 May 2019 08:38:09 +0000"  >&lt;p&gt;Commit 0a8113fffacd7f6dd7d37e468eb798b28cc56a91 in lucene-solr&apos;s branch refs/heads/branch_8_1 from Ishan Chattopadhyaya&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=0a8113f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=0a8113f&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5970&quot; title=&quot;Create collection API always has status 0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5970&quot;&gt;&lt;del&gt;SOLR-5970&lt;/del&gt;&lt;/a&gt;: Adding upgrade notes for this change&lt;/p&gt;</comment>
                            <comment id="16834506" author="jira-bot" created="Tue, 7 May 2019 08:38:36 +0000"  >&lt;p&gt;Commit 1ab8c18d056f97ebb860217cd237f120c8402290 in lucene-solr&apos;s branch refs/heads/branch_8x from Ishan Chattopadhyaya&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=1ab8c18&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=1ab8c18&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5970&quot; title=&quot;Create collection API always has status 0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5970&quot;&gt;&lt;del&gt;SOLR-5970&lt;/del&gt;&lt;/a&gt;: Adding upgrade notes for this change&lt;/p&gt;</comment>
                            <comment id="16834507" author="jira-bot" created="Tue, 7 May 2019 08:39:12 +0000"  >&lt;p&gt;Commit b2eebf079351ea00814163537b898abe02e1e3fe in lucene-solr&apos;s branch refs/heads/master from Ishan Chattopadhyaya&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=b2eebf0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=b2eebf0&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5970&quot; title=&quot;Create collection API always has status 0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5970&quot;&gt;&lt;del&gt;SOLR-5970&lt;/del&gt;&lt;/a&gt;: Adding upgrade notes for this change&lt;/p&gt;</comment>
                            <comment id="16834518" author="ichattopadhyaya" created="Tue, 7 May 2019 08:48:02 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gerlowskija&quot; class=&quot;user-hover&quot; rel=&quot;gerlowskija&quot;&gt;gerlowskija&lt;/a&gt;. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tflobbe&quot; class=&quot;user-hover&quot; rel=&quot;tflobbe&quot;&gt;tflobbe&lt;/a&gt;, added upgrade notes for this. Thanks!&lt;/p&gt;</comment>
                            <comment id="17908128" author="dsmiley" created="Tue, 24 Dec 2024 21:53:32 +0000"  >&lt;p&gt;When we don&apos;t know why the failure happens, a 400 is not appropriate as it blames the client. &#160;500 is a better default. &#160;Ideally the Overseer would look for a response code in the failed request to create a replica and propagate that.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12753499">SOLR-6714</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12765866">SOLR-6934</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13105492">SOLR-11406</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12863255" name="SOLR-5970-test.patch" size="4017" author="ichattopadhyaya" created="Thu, 13 Apr 2017 11:34:00 +0000"/>
                            <attachment id="12967320" name="SOLR-5970.patch" size="12952" author="keshareenv" created="Sun, 28 Apr 2019 11:50:20 +0000"/>
                            <attachment id="12948426" name="SOLR-5970.patch" size="9282" author="gerlowskija" created="Fri, 16 Nov 2018 02:00:09 +0000"/>
                            <attachment id="12967169" name="SOLR-5970_branch_8x.patch" size="12886" author="keshareenv" created="Fri, 26 Apr 2019 20:11:35 +0000"/>
                            <attachment id="12863251" name="bad.jar" size="1106" author="ichattopadhyaya" created="Thu, 13 Apr 2017 11:32:42 +0000"/>
                            <attachment id="12863252" name="schema.xml" size="985" author="ichattopadhyaya" created="Thu, 13 Apr 2017 11:32:42 +0000"/>
                            <attachment id="12863253" name="solrconfig.xml" size="1059" author="ichattopadhyaya" created="Thu, 13 Apr 2017 11:32:42 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>385394</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            46 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ue67:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>385661</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>