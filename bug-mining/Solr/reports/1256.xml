<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:34:18 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-4414] MoreLikeThis on a shard finds no interesting terms if the document queried is not in that shard</title>
                <link>https://issues.apache.org/jira/browse/SOLR-4414</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;Running a MoreLikeThis query in a cloud works only when the document being queried exists in whatever shard serves the request. If the document is not present in the shard, no &quot;interesting terms&quot; are found and, consequently, no matches are found.&lt;/p&gt;

&lt;h5&gt;&lt;a name=&quot;Stepstoreproduce&quot;&gt;&lt;/a&gt;Steps to reproduce&lt;/h5&gt;

&lt;ul&gt;
	&lt;li&gt;Edit example/solr/collection1/conf/solrconfig.xml and add this line, with the rest of the request handlers:&lt;/li&gt;
&lt;/ul&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;requestHandler name=&lt;span class=&quot;code-quote&quot;&gt;&quot;/mlt&quot;&lt;/span&gt; class=&lt;span class=&quot;code-quote&quot;&gt;&quot;solr.MoreLikeThisHandler&quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
	&lt;li&gt;Follow the &lt;a href=&quot;http://wiki.apache.org/solr/SolrCloud#Example_A:_Simple_two_shard_cluster&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;simplest SolrCloud example&lt;/a&gt; to get two shards running.&lt;/li&gt;
	&lt;li&gt;Hit this URL: &lt;a href=&quot;http://localhost:8983/solr/collection1/mlt?mlt.fl=includes&amp;amp;q=id:3007WFP&amp;amp;mlt.match.include=false&amp;amp;mlt.interestingTerms=list&amp;amp;mlt.mindf=1&amp;amp;mlt.mintf=1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8983/solr/collection1/mlt?mlt.fl=includes&amp;amp;q=id:3007WFP&amp;amp;mlt.match.include=false&amp;amp;mlt.interestingTerms=list&amp;amp;mlt.mindf=1&amp;amp;mlt.mintf=1&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;Compare that output to that of this URL: &lt;a href=&quot;http://localhost:7574/solr/collection1/mlt?mlt.fl=includes&amp;amp;q=id:3007WFP&amp;amp;mlt.match.include=false&amp;amp;mlt.interestingTerms=list&amp;amp;mlt.mindf=1&amp;amp;mlt.mintf=1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:7574/solr/collection1/mlt?mlt.fl=includes&amp;amp;q=id:3007WFP&amp;amp;mlt.match.include=false&amp;amp;mlt.interestingTerms=list&amp;amp;mlt.mindf=1&amp;amp;mlt.mintf=1&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The former URL will return a result and list some interesting terms. The latter URL will return no results and list no interesting terms. It will also show this odd XML element:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;null name=&lt;span class=&quot;code-quote&quot;&gt;&quot;response&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12631306">SOLR-4414</key>
            <summary>MoreLikeThis on a shard finds no interesting terms if the document queried is not in that shard</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cbartolo">Colin Bartolome</reporter>
                        <labels>
                    </labels>
                <created>Thu, 7 Feb 2013 17:29:08 +0000</created>
                <updated>Wed, 3 Nov 2021 18:55:22 +0000</updated>
                                            <version>4.1</version>
                                                    <component>MoreLikeThis</component>
                    <component>SolrCloud</component>
                        <due></due>
                            <votes>7</votes>
                                    <watches>20</watches>
                                                                                                                <comments>
                            <comment id="13573710" author="elyograg" created="Thu, 7 Feb 2013 17:54:07 +0000"  >&lt;p&gt;Looks like this is from your mailing list discussion about &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-788&quot; title=&quot;MoreLikeThis should support distributed search&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-788&quot;&gt;&lt;del&gt;SOLR-788&lt;/del&gt;&lt;/a&gt;, so I have linked the two issues.&lt;/p&gt;</comment>
                            <comment id="13573717" author="elyograg" created="Thu, 7 Feb 2013 17:55:46 +0000"  >&lt;p&gt;I tried distributed MLT right after it got committed and could not make it work.  I&apos;m not using SolrCloud.  I have a broker core (no index of its own, shards parameter in solrconfig.xml) and I got no results at all.&lt;/p&gt;</comment>
                            <comment id="13573777" author="markrmiller@gmail.com" created="Thu, 7 Feb 2013 18:56:39 +0000"  >&lt;p&gt;It works, you just have to setup shards.qt or your handlers right. I don&apos;t promise all of it works (like probably this situation), but it works at a basic level.&lt;/p&gt;</comment>
                            <comment id="13573815" author="elyograg" created="Thu, 7 Feb 2013 19:22:16 +0000"  >&lt;p&gt;I hope it&apos;s user error, not a bug.  Here&apos;s how I&apos;ve configured my request handler.  The first one is the broker core, the second one is the config on the shard cores.  I have also tried this with the MoreLikeThisComponent in a regular search handler.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;requestHandler name=&lt;span class=&quot;code-quote&quot;&gt;&quot;/mlt&quot;&lt;/span&gt; class=&lt;span class=&quot;code-quote&quot;&gt;&quot;solr.MoreLikeThisHandler&quot;&lt;/span&gt;&amp;gt;
  &amp;lt;lst name=&lt;span class=&quot;code-quote&quot;&gt;&quot;defaults&quot;&lt;/span&gt;&amp;gt;
    &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;mlt&quot;&lt;/span&gt;&amp;gt;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&amp;lt;/str&amp;gt;
    &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;mlt.fl&quot;&lt;/span&gt;&amp;gt;catchall&amp;lt;/str&amp;gt;
    &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;mlt.boost&quot;&lt;/span&gt;&amp;gt;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&amp;lt;/str&amp;gt;
    &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;shards&quot;&lt;/span&gt;&amp;gt;bigindy5.REDACTED.com:8982/solr/inclive,bigindy5.REDACTED.com:8982/solr/s0live,bigindy5.REDACTED.com:8982/solr/s1live,bigindy5.REDACTED.com:8982/solr/s2live,bigindy5.REDACTED.com:8982/solr/s3live,bigindy5.REDACTED.com:8982/solr/s4live,bigindy5.REDACTED.com:8982/solr/s5live&amp;lt;/str&amp;gt;
    &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;shards.qt&quot;&lt;/span&gt;&amp;gt;/mlt&amp;lt;/str&amp;gt;
    &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;echoParams&quot;&lt;/span&gt;&amp;gt;all&amp;lt;/str&amp;gt;
  &amp;lt;/lst&amp;gt;
&amp;lt;/requestHandler&amp;gt;

&amp;lt;requestHandler name=&lt;span class=&quot;code-quote&quot;&gt;&quot;/mlt&quot;&lt;/span&gt; class=&lt;span class=&quot;code-quote&quot;&gt;&quot;solr.MoreLikeThisHandler&quot;&lt;/span&gt;&amp;gt;
  &amp;lt;lst name=&lt;span class=&quot;code-quote&quot;&gt;&quot;defaults&quot;&lt;/span&gt;&amp;gt;
    &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;mlt&quot;&lt;/span&gt;&amp;gt;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&amp;lt;/str&amp;gt;
    &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;mlt.fl&quot;&lt;/span&gt;&amp;gt;catchall&amp;lt;/str&amp;gt;
    &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;mlt.boost&quot;&lt;/span&gt;&amp;gt;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&amp;lt;/str&amp;gt;
    &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;mlt.count&quot;&lt;/span&gt;&amp;gt;100&amp;lt;/str&amp;gt;
    &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;echoParams&quot;&lt;/span&gt;&amp;gt;all&amp;lt;/str&amp;gt;
  &amp;lt;/lst&amp;gt;
&amp;lt;/requestHandler&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;When I send a query to /mlt on the broker core, I get the following.  The same query to /select returns one document.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;?xml version=&lt;span class=&quot;code-quote&quot;&gt;&quot;1.0&quot;&lt;/span&gt; encoding=&lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-8&quot;&lt;/span&gt;?&amp;gt;
&amp;lt;response&amp;gt;

&amp;lt;lst name=&lt;span class=&quot;code-quote&quot;&gt;&quot;responseHeader&quot;&lt;/span&gt;&amp;gt;
  &amp;lt;&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;status&quot;&lt;/span&gt;&amp;gt;0&amp;lt;/&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;&amp;gt;
  &amp;lt;&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;QTime&quot;&lt;/span&gt;&amp;gt;0&amp;lt;/&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;&amp;gt;
  &amp;lt;lst name=&lt;span class=&quot;code-quote&quot;&gt;&quot;params&quot;&lt;/span&gt;&amp;gt;
    &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;echoParams&quot;&lt;/span&gt;&amp;gt;all&amp;lt;/str&amp;gt;
    &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;shards&quot;&lt;/span&gt;&amp;gt;bigindy5.REDACTED.com:8982/solr/inclive,bigindy5.REDACTED.com:8982/solr/s0live,bigindy5.REDACTED.com:8982/solr/s1live,bigindy5.REDACTED.com:8982/solr/s2live,bigindy5.REDACTED.com:8982/solr/s3live,bigindy5.REDACTED.com:8982/solr/s4live,bigindy5.REDACTED.com:8982/solr/s5live&amp;lt;/str&amp;gt;
    &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;mlt.boost&quot;&lt;/span&gt;&amp;gt;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&amp;lt;/str&amp;gt;
    &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;mlt.fl&quot;&lt;/span&gt;&amp;gt;catchall&amp;lt;/str&amp;gt;
    &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;shards.qt&quot;&lt;/span&gt;&amp;gt;/mlt&amp;lt;/str&amp;gt;
    &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;mlt&quot;&lt;/span&gt;&amp;gt;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&amp;lt;/str&amp;gt;
    &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;indent&quot;&lt;/span&gt;&amp;gt;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&amp;lt;/str&amp;gt;
    &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;q&quot;&lt;/span&gt;&amp;gt;tag_id:efespphotos531595&amp;lt;/str&amp;gt;
    &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;wt&quot;&lt;/span&gt;&amp;gt;xml&amp;lt;/str&amp;gt;
  &amp;lt;/lst&amp;gt;
&amp;lt;/lst&amp;gt;
&amp;lt;result name=&lt;span class=&quot;code-quote&quot;&gt;&quot;match&quot;&lt;/span&gt; numFound=&lt;span class=&quot;code-quote&quot;&gt;&quot;0&quot;&lt;/span&gt; start=&lt;span class=&quot;code-quote&quot;&gt;&quot;0&quot;&lt;/span&gt;&amp;gt;
&amp;lt;/result&amp;gt;
&amp;lt;&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;response&quot;&lt;/span&gt;/&amp;gt;
&amp;lt;/response&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Note that if I send the exact same request to the core that contains the document, I get results.  This just involves changing the part of the URL after /solr, no other changes.  Here&apos;s the first part of the response.  I&apos;ve left the actual results out.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;?xml version=&lt;span class=&quot;code-quote&quot;&gt;&quot;1.0&quot;&lt;/span&gt; encoding=&lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-8&quot;&lt;/span&gt;?&amp;gt;
&amp;lt;response&amp;gt;

&amp;lt;lst name=&lt;span class=&quot;code-quote&quot;&gt;&quot;responseHeader&quot;&lt;/span&gt;&amp;gt;
  &amp;lt;&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;status&quot;&lt;/span&gt;&amp;gt;0&amp;lt;/&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;&amp;gt;
  &amp;lt;&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;QTime&quot;&lt;/span&gt;&amp;gt;198&amp;lt;/&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;&amp;gt;
  &amp;lt;lst name=&lt;span class=&quot;code-quote&quot;&gt;&quot;params&quot;&lt;/span&gt;&amp;gt;
    &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;echoParams&quot;&lt;/span&gt;&amp;gt;all&amp;lt;/str&amp;gt;
    &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;mlt.count&quot;&lt;/span&gt;&amp;gt;100&amp;lt;/str&amp;gt;
    &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;mlt.boost&quot;&lt;/span&gt;&amp;gt;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&amp;lt;/str&amp;gt;
    &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;mlt.fl&quot;&lt;/span&gt;&amp;gt;catchall&amp;lt;/str&amp;gt;
    &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;mlt&quot;&lt;/span&gt;&amp;gt;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&amp;lt;/str&amp;gt;
    &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;indent&quot;&lt;/span&gt;&amp;gt;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&amp;lt;/str&amp;gt;
    &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;q&quot;&lt;/span&gt;&amp;gt;tag_id:efespphotos531595&amp;lt;/str&amp;gt;
    &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;wt&quot;&lt;/span&gt;&amp;gt;xml&amp;lt;/str&amp;gt;
  &amp;lt;/lst&amp;gt;
&amp;lt;/lst&amp;gt;
&amp;lt;result name=&lt;span class=&quot;code-quote&quot;&gt;&quot;match&quot;&lt;/span&gt; numFound=&lt;span class=&quot;code-quote&quot;&gt;&quot;1&quot;&lt;/span&gt; start=&lt;span class=&quot;code-quote&quot;&gt;&quot;0&quot;&lt;/span&gt;&amp;gt;
  &amp;lt;doc&amp;gt;
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13573826" author="markrmiller@gmail.com" created="Thu, 7 Feb 2013 19:28:00 +0000"  >&lt;p&gt;I&apos;m guessing that&apos;s kind of the uglish situation we have with distrib search and components at the moment.&lt;/p&gt;

&lt;p&gt;The sub searches are hitting the /select handler unless you use shards.qt - so the select handler needs the component as well or you have to use shards.qt. Or do everything in the /select handler, but be sure not to hard code shards in solrconfig.xml (or you get infinite recursion)&lt;/p&gt;</comment>
                            <comment id="13573865" author="elyograg" created="Thu, 7 Feb 2013 20:01:00 +0000"  >&lt;blockquote&gt;&lt;p&gt;The sub searches are hitting the /select handler unless you use shards.qt&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I am using shards.qt, but I can see in the log that it&apos;s hitting /select ... so perhaps one problem is that the MoreLikeThisHandler is ignoring shards.qt.  Even if that&apos;s fixed, I&apos;m still not sure it&apos;ll work.  See below.&lt;/p&gt;

&lt;p&gt;Here&apos;s the results of my testing with just using the MoreLikeThisComponent using a handler called /search.  I manually included shards.qt, but it is also included in the handler definition.  I removed the one document from the results and redacted my domain name, but left the rest of the response as-is.  This time I can see the distributed requests hitting /search like they&apos;re supposed to, but still no results.  The QTime on this suggests that it&apos;s actually doing the work:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;?xml version=&lt;span class=&quot;code-quote&quot;&gt;&quot;1.0&quot;&lt;/span&gt; encoding=&lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-8&quot;&lt;/span&gt;?&amp;gt;
&amp;lt;response&amp;gt;

&amp;lt;lst name=&lt;span class=&quot;code-quote&quot;&gt;&quot;responseHeader&quot;&lt;/span&gt;&amp;gt;
  &amp;lt;&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;status&quot;&lt;/span&gt;&amp;gt;0&amp;lt;/&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;&amp;gt;
  &amp;lt;&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;QTime&quot;&lt;/span&gt;&amp;gt;6198&amp;lt;/&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;&amp;gt;
  &amp;lt;lst name=&lt;span class=&quot;code-quote&quot;&gt;&quot;params&quot;&lt;/span&gt;&amp;gt;
    &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;shards.qt&quot;&lt;/span&gt;&amp;gt;/search&amp;lt;/str&amp;gt;
    &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;spellcheck.extendedResults&quot;&lt;/span&gt;&amp;gt;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&amp;lt;/str&amp;gt;
    &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;spellcheck.maxCollationTries&quot;&lt;/span&gt;&amp;gt;2&amp;lt;/str&amp;gt;
    &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;spellcheck.maxCollations&quot;&lt;/span&gt;&amp;gt;5&amp;lt;/str&amp;gt;
    &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;spellcheck.maxCollationEvaluations&quot;&lt;/span&gt;&amp;gt;2&amp;lt;/str&amp;gt;
    &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;shards.tolerant&quot;&lt;/span&gt;&amp;gt;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&amp;lt;/str&amp;gt;
    &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;rows&quot;&lt;/span&gt;&amp;gt;70&amp;lt;/str&amp;gt;
    &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;spellcheck.onlyMorePopular&quot;&lt;/span&gt;&amp;gt;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&amp;lt;/str&amp;gt;
    &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;echoParams&quot;&lt;/span&gt;&amp;gt;all&amp;lt;/str&amp;gt;
    &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;df&quot;&lt;/span&gt;&amp;gt;catchall&amp;lt;/str&amp;gt;
    &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;shards&quot;&lt;/span&gt;&amp;gt;bigindy5.REDACTED.com:8982/solr/inclive,bigindy5.REDACTED.com:8982/solr/s0live,bigindy5.REDACTED.com:8982/solr/s1live,bigindy5.REDACTED.com:8982/solr/s2live,bigindy5.REDACTED.com:8982/solr/s3live,bigindy5.REDACTED.com:8982/solr/s4live,bigindy5.REDACTED.com:8982/solr/s5live&amp;lt;/str&amp;gt;
    &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;shards.info&quot;&lt;/span&gt;&amp;gt;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&amp;lt;/str&amp;gt;
    &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;spellcheck.dictionary&quot;&lt;/span&gt;&amp;gt;&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;&amp;lt;/str&amp;gt;
    &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;q.op&quot;&lt;/span&gt;&amp;gt;AND&amp;lt;/str&amp;gt;
    &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;spellcheck.count&quot;&lt;/span&gt;&amp;gt;9&amp;lt;/str&amp;gt;
    &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;mlt.count&quot;&lt;/span&gt;&amp;gt;100&amp;lt;/str&amp;gt;
    &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;mlt.fl&quot;&lt;/span&gt;&amp;gt;catchall&amp;lt;/str&amp;gt;
    &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;indent&quot;&lt;/span&gt;&amp;gt;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&amp;lt;/str&amp;gt;
    &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;shards.qt&quot;&lt;/span&gt;&amp;gt;/search&amp;lt;/str&amp;gt;
    &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;q&quot;&lt;/span&gt;&amp;gt;tag_id:efespphotos531595&amp;lt;/str&amp;gt;
    &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;mlt&quot;&lt;/span&gt;&amp;gt;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&amp;lt;/str&amp;gt;
    &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;wt&quot;&lt;/span&gt;&amp;gt;xml&amp;lt;/str&amp;gt;
  &amp;lt;/lst&amp;gt;
&amp;lt;/lst&amp;gt;
&amp;lt;lst name=&lt;span class=&quot;code-quote&quot;&gt;&quot;shards.info&quot;&lt;/span&gt;&amp;gt;
  &amp;lt;lst name=&lt;span class=&quot;code-quote&quot;&gt;&quot;bigindy5.REDACTED.com:8982/solr/s0live&quot;&lt;/span&gt;&amp;gt;
    &amp;lt;&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;numFound&quot;&lt;/span&gt;&amp;gt;0&amp;lt;/&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt;&amp;gt;
    &amp;lt;&lt;span class=&quot;code-object&quot;&gt;float&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;maxScore&quot;&lt;/span&gt;&amp;gt;0.0&amp;lt;/&lt;span class=&quot;code-object&quot;&gt;float&lt;/span&gt;&amp;gt;
    &amp;lt;&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;time&quot;&lt;/span&gt;&amp;gt;15&amp;lt;/&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt;&amp;gt;
  &amp;lt;/lst&amp;gt;
  &amp;lt;lst name=&lt;span class=&quot;code-quote&quot;&gt;&quot;bigindy5.REDACTED.com:8982/solr/s1live&quot;&lt;/span&gt;&amp;gt;
    &amp;lt;&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;numFound&quot;&lt;/span&gt;&amp;gt;0&amp;lt;/&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt;&amp;gt;
    &amp;lt;&lt;span class=&quot;code-object&quot;&gt;float&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;maxScore&quot;&lt;/span&gt;&amp;gt;0.0&amp;lt;/&lt;span class=&quot;code-object&quot;&gt;float&lt;/span&gt;&amp;gt;
    &amp;lt;&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;time&quot;&lt;/span&gt;&amp;gt;15&amp;lt;/&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt;&amp;gt;
  &amp;lt;/lst&amp;gt;
  &amp;lt;lst name=&lt;span class=&quot;code-quote&quot;&gt;&quot;bigindy5.REDACTED.com:8982/solr/s4live&quot;&lt;/span&gt;&amp;gt;
    &amp;lt;&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;numFound&quot;&lt;/span&gt;&amp;gt;0&amp;lt;/&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt;&amp;gt;
    &amp;lt;&lt;span class=&quot;code-object&quot;&gt;float&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;maxScore&quot;&lt;/span&gt;&amp;gt;0.0&amp;lt;/&lt;span class=&quot;code-object&quot;&gt;float&lt;/span&gt;&amp;gt;
    &amp;lt;&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;time&quot;&lt;/span&gt;&amp;gt;6&amp;lt;/&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt;&amp;gt;
  &amp;lt;/lst&amp;gt;
  &amp;lt;lst name=&lt;span class=&quot;code-quote&quot;&gt;&quot;bigindy5.REDACTED.com:8982/solr/s2live&quot;&lt;/span&gt;&amp;gt;
    &amp;lt;&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;numFound&quot;&lt;/span&gt;&amp;gt;0&amp;lt;/&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt;&amp;gt;
    &amp;lt;&lt;span class=&quot;code-object&quot;&gt;float&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;maxScore&quot;&lt;/span&gt;&amp;gt;0.0&amp;lt;/&lt;span class=&quot;code-object&quot;&gt;float&lt;/span&gt;&amp;gt;
    &amp;lt;&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;time&quot;&lt;/span&gt;&amp;gt;6&amp;lt;/&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt;&amp;gt;
  &amp;lt;/lst&amp;gt;
  &amp;lt;lst name=&lt;span class=&quot;code-quote&quot;&gt;&quot;bigindy5.REDACTED.com:8982/solr/s5live&quot;&lt;/span&gt;&amp;gt;
    &amp;lt;&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;numFound&quot;&lt;/span&gt;&amp;gt;0&amp;lt;/&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt;&amp;gt;
    &amp;lt;&lt;span class=&quot;code-object&quot;&gt;float&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;maxScore&quot;&lt;/span&gt;&amp;gt;0.0&amp;lt;/&lt;span class=&quot;code-object&quot;&gt;float&lt;/span&gt;&amp;gt;
    &amp;lt;&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;time&quot;&lt;/span&gt;&amp;gt;3&amp;lt;/&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt;&amp;gt;
  &amp;lt;/lst&amp;gt;
  &amp;lt;lst name=&lt;span class=&quot;code-quote&quot;&gt;&quot;bigindy5.REDACTED.com:8982/solr/s3live&quot;&lt;/span&gt;&amp;gt;
    &amp;lt;&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;numFound&quot;&lt;/span&gt;&amp;gt;0&amp;lt;/&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt;&amp;gt;
    &amp;lt;&lt;span class=&quot;code-object&quot;&gt;float&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;maxScore&quot;&lt;/span&gt;&amp;gt;0.0&amp;lt;/&lt;span class=&quot;code-object&quot;&gt;float&lt;/span&gt;&amp;gt;
    &amp;lt;&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;time&quot;&lt;/span&gt;&amp;gt;5&amp;lt;/&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt;&amp;gt;
  &amp;lt;/lst&amp;gt;
  &amp;lt;lst name=&lt;span class=&quot;code-quote&quot;&gt;&quot;bigindy5.REDACTED.com:8982/solr/inclive&quot;&lt;/span&gt;&amp;gt;
    &amp;lt;&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;numFound&quot;&lt;/span&gt;&amp;gt;1&amp;lt;/&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt;&amp;gt;
    &amp;lt;&lt;span class=&quot;code-object&quot;&gt;float&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;maxScore&quot;&lt;/span&gt;&amp;gt;12.94707&amp;lt;/&lt;span class=&quot;code-object&quot;&gt;float&lt;/span&gt;&amp;gt;
    &amp;lt;&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;time&quot;&lt;/span&gt;&amp;gt;37&amp;lt;/&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt;&amp;gt;
  &amp;lt;/lst&amp;gt;
&amp;lt;/lst&amp;gt;
&amp;lt;result name=&lt;span class=&quot;code-quote&quot;&gt;&quot;response&quot;&lt;/span&gt; numFound=&lt;span class=&quot;code-quote&quot;&gt;&quot;1&quot;&lt;/span&gt; start=&lt;span class=&quot;code-quote&quot;&gt;&quot;0&quot;&lt;/span&gt; maxScore=&lt;span class=&quot;code-quote&quot;&gt;&quot;12.94707&quot;&lt;/span&gt;&amp;gt;
  &amp;lt;doc&amp;gt;
.....&amp;lt;/doc&amp;gt;
&amp;lt;/result&amp;gt;
&amp;lt;lst name=&lt;span class=&quot;code-quote&quot;&gt;&quot;moreLikeThis&quot;&lt;/span&gt;&amp;gt;
  &amp;lt;result name=&lt;span class=&quot;code-quote&quot;&gt;&quot;efespphotos531595&quot;&lt;/span&gt; numFound=&lt;span class=&quot;code-quote&quot;&gt;&quot;0&quot;&lt;/span&gt; start=&lt;span class=&quot;code-quote&quot;&gt;&quot;0&quot;&lt;/span&gt; maxScore=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.0&quot;&lt;/span&gt;&amp;gt;
  &amp;lt;/result&amp;gt;
&amp;lt;/lst&amp;gt;
&amp;lt;/response&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In addition to the distributed requests with the mlt parameters, the log also shows this seven times:&lt;/p&gt;

&lt;p&gt;INFO  - 2013-02-07 12:51:51.036; org.apache.solr.handler.component.MoreLikeThisComponent; MLT: results added for key: efespphotos531595 documents: &lt;/p&gt;
{numFound=0,start=0,maxScore=0.0,docs=[]}

&lt;p&gt;I also tried sending the request to /select, which is configured identically to /search except that shards.qt is not present.&lt;/p&gt;

&lt;p&gt;One other potential factor: my uniqueKey field is not id, it&apos;s tag_id.  I don&apos;t have a field named id.&lt;/p&gt;</comment>
                            <comment id="13573892" author="markrmiller@gmail.com" created="Thu, 7 Feb 2013 20:31:06 +0000"  >&lt;p&gt;I don&apos;t actually have any idea if the MoreLikeThisHandler works with distrib - I have not tried or written a test for that - just the mlt component itself configured in a standard handler. That&apos;s probably something that deserves it&apos;s own JIRA issue.&lt;/p&gt;</comment>
                            <comment id="13573896" author="markrmiller@gmail.com" created="Thu, 7 Feb 2013 20:35:17 +0000"  >&lt;blockquote&gt;&lt;p&gt;INFO - 2013-02-07 12:51:51.036; org.apache.solr.handler.component.MoreLikeThisComponent; MLT: results added for key: efespphotos531595 documents: {numFound=0,start=0,maxScore=0.0,docs=[]}&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;This means it&apos;s not finding matches on each node - either due to the data or config, I don&apos;t know. I do know it can find matches because I&apos;ve seen that happen in tests - I&apos;ve also matched those results against a single node for some basic queries. &lt;/p&gt;

&lt;p&gt;I&apos;ve only tested that most basic scenario, because I don&apos;t really use the component and no one offered to test at the time. There is likely some work required to learn all of it&apos;s hills and valleys at the moment. I know it works at a basic level on tiny data - I don&apos;t know how smooth the ride is for anything real.&lt;/p&gt;</comment>
                            <comment id="13573967" author="elyograg" created="Thu, 7 Feb 2013 21:47:30 +0000"  >&lt;p&gt;Mark, do you see anything obviously wrong in my component query?  It&apos;s got echoParams=all, so you should be able to see everything even though I haven&apos;t given you the handler definition.&lt;/p&gt;</comment>
                            <comment id="13577851" author="cbartolo" created="Wed, 13 Feb 2013 19:26:33 +0000"  >&lt;p&gt;Unfortunately, I can&apos;t find a way to get the MLT component to return the interesting terms it found, so I&apos;m stuck with &lt;tt&gt;MoreLikeThisHandler&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="13582635" author="elyograg" created="Wed, 20 Feb 2013 23:03:32 +0000"  >&lt;p&gt;Colin, are you able to make distributed MLT work?  I can&apos;t make it work at all.  Do my problems require a separate issue?&lt;/p&gt;</comment>
                            <comment id="13582673" author="cbartolo" created="Wed, 20 Feb 2013 23:42:41 +0000"  >&lt;p&gt;Using the &lt;tt&gt;MoreLikeThisHandler&lt;/tt&gt;, following the steps to reproduce I wrote produces interesting terms on one server, but not the other. On the server that produces interesting terms, the MLT search &lt;em&gt;is&lt;/em&gt; performed, but it returns matching documents from that server only.&lt;/p&gt;

&lt;p&gt;I don&apos;t know enough about broker cores to say for sure whether your issue is related.&lt;/p&gt;</comment>
                            <comment id="13582831" author="commit-tag-bot" created="Thu, 21 Feb 2013 02:42:38 +0000"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;branch_4x commit&amp;#93;&lt;/span&gt; Shalin Shekhar Mangar&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1447339&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1447339&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-4414&quot; title=&quot;MoreLikeThis on a shard finds no interesting terms if the document queried is not in that shard&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-4414&quot;&gt;SOLR-4414&lt;/a&gt;: Add &apos;state&apos; to shards (default to &apos;active&apos;) and read/write them to ZooKeeper&lt;/p&gt;</comment>
                            <comment id="13582847" author="commit-tag-bot" created="Thu, 21 Feb 2013 02:42:51 +0000"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;trunk commit&amp;#93;&lt;/span&gt; Shalin Shekhar Mangar&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1447336&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1447336&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-4414&quot; title=&quot;MoreLikeThis on a shard finds no interesting terms if the document queried is not in that shard&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-4414&quot;&gt;SOLR-4414&lt;/a&gt;: Add &apos;state&apos; to shards (default to &apos;active&apos;) and read/write them to ZooKeeper&lt;/p&gt;</comment>
                            <comment id="13586558" author="cbartolo" created="Tue, 26 Feb 2013 01:01:37 +0000"  >&lt;p&gt;By the way, I&apos;m guessing the interesting terms that the query does return, when it returns any, are based on the documents contained in that shard only, instead of the documents contained in the whole collection. I suppose I can live with that, for the time being, but the trick is to query the right shard to begin with!&lt;/p&gt;</comment>
                            <comment id="13733703" author="elyograg" created="Thu, 8 Aug 2013 17:16:45 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=shalin&quot; class=&quot;user-hover&quot; rel=&quot;shalin&quot;&gt;shalin&lt;/a&gt; I came across this issue while looking into my problems with distributed MoreLikeThis.  Things look a little off, so I&apos;m writing this.&lt;/p&gt;

&lt;p&gt;At a quick glance, the commit comment doesn&apos;t seem to be related to this issue, because it doesn&apos;t mention MLT at all.  Also, you have never commented on this issue outside the commit comment.  This is the issue number in CHANGES.txt, though.  Is the commit for this issue or another one?&lt;/p&gt;

&lt;p&gt;If the commit is for this issue, I think this probably needs to be closed, fixed in 4.2 and 5.0.  If not, CHANGES.txt probably needs some cleanup.&lt;/p&gt;</comment>
                            <comment id="13733713" author="markrmiller@gmail.com" created="Thu, 8 Aug 2013 17:25:14 +0000"  >&lt;p&gt;I think it was simply mis-tagged.&lt;/p&gt;</comment>
                            <comment id="13733717" author="shalinmangar" created="Thu, 8 Aug 2013 17:27:39 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=elyograg&quot; class=&quot;user-hover&quot; rel=&quot;elyograg&quot;&gt;elyograg&lt;/a&gt; - That was a mistake. The commit mentioned here actually belonged to &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-4415&quot; title=&quot;Read/Write shard&#8217;s state to ZooKeeper&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-4415&quot;&gt;&lt;del&gt;SOLR-4415&lt;/del&gt;&lt;/a&gt;. I fixed the issue number in the change log but I forgot to put a comment here.&lt;/p&gt;</comment>
                            <comment id="13865538" author="nimrod@modusp.com" created="Wed, 8 Jan 2014 15:19:32 +0000"  >&lt;p&gt;Hi,&lt;br/&gt;
Does anyone knows of any progress in this matter, or any workaround?&lt;br/&gt;
Thanks!&lt;/p&gt;</comment>
                            <comment id="13865603" author="smolloy" created="Wed, 8 Jan 2014 16:35:30 +0000"  >&lt;p&gt;You may want to look at &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5480&quot; title=&quot;Make MoreLikeThisHandler distributable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5480&quot;&gt;SOLR-5480&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13865651" author="nimrod@modusp.com" created="Wed, 8 Jan 2014 17:15:47 +0000"  >&lt;p&gt;Thanks&lt;/p&gt;</comment>
                            <comment id="13869109" author="aaronkaplan" created="Sun, 12 Jan 2014 18:49:01 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=smolloy&quot; class=&quot;user-hover&quot; rel=&quot;smolloy&quot;&gt;smolloy&lt;/a&gt; why did you open a new ticket for &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5480&quot; title=&quot;Make MoreLikeThisHandler distributable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5480&quot;&gt;SOLR-5480&lt;/a&gt; rather than putting your patches here? Isn&apos;t &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5480&quot; title=&quot;Make MoreLikeThisHandler distributable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5480&quot;&gt;SOLR-5480&lt;/a&gt; just a better-specified version of this ticket?&lt;/p&gt;</comment>
                            <comment id="13869568" author="smolloy" created="Mon, 13 Jan 2014 14:08:45 +0000"  >&lt;p&gt;There was confusion around MLT component and MLT handler support for distribution. The component already supported it when used in standard search, the handler didn&apos;t. If you feel both tickets should be merged, I&apos;m ok with it. &lt;/p&gt;</comment>
                            <comment id="13984261" author="simoneg" created="Tue, 29 Apr 2014 12:50:46 +0000"  >&lt;p&gt;Managed to work around this bug using the TermVectorComponent (which is properly sharded) to fetch term vectors and adapting the query generation code in Lucene&apos;s MoreLikeThis component to create the MLT query client side. It&apos;s two calls (one for the term vectors and then one to perform the MLT query), but it works and is totally sharded.&lt;/p&gt;

&lt;p&gt;Just a hint on how to eventually work it around. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12405232">SOLR-788</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>311802</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 30 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ht53:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>312148</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>