<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:02:06 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-7067] bin/solr won&apos;t run under bash 4.2+</title>
                <link>https://issues.apache.org/jira/browse/SOLR-7067</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;I upgraded to OS X Yosemite 10.10.2 today, and the bash version went from &lt;tt&gt;3.2.53(1)-release (x86_64-apple-darwin14)&lt;/tt&gt; on 10.10.1 to &lt;tt&gt;4.3.30(1)-release (x86_64-apple-darwin14.0.0)&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;When I try to run &lt;tt&gt;bin/solr&lt;/tt&gt;, I get:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;bin/solr: line 55: [: is: binary operator expected
bin/solr: line 58: [: is: binary operator expected
This script requires extracting a WAR file with either the jar or unzip utility, please install these utilities or contact your administrator for assistance.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;the relevant section of the script is:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;52: hasJar=$(which jar 2&amp;gt;/dev/&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)
53: hasUnzip=$(which unzip 2&amp;gt;/dev/&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)
54: 
55: &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; [ ${hasJar} ]; then
56:   unzipCommand=&lt;span class=&quot;code-quote&quot;&gt;&quot;$hasJar xf&quot;&lt;/span&gt;
57: &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt;
58:   &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; [ ${hasUnzip} ]; then
59:     unzipCommand=&lt;span class=&quot;code-quote&quot;&gt;&quot;$hasUnzip&quot;&lt;/span&gt;
60:   &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt;
61:     echo -e &lt;span class=&quot;code-quote&quot;&gt;&quot;This script requires extracting a WAR file with either the jar or unzip utility, please install these utilities or contact your administrator &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; assistance.&quot;&lt;/span&gt;
62:     exit 1
63:   fi
64: fi
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12771435">SOLR-7067</key>
            <summary>bin/solr won&apos;t run under bash 4.2+</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sarowe">Steven Rowe</assignee>
                                    <reporter username="sarowe">Steven Rowe</reporter>
                        <labels>
                    </labels>
                <created>Fri, 30 Jan 2015 21:48:33 +0000</created>
                <updated>Mon, 9 May 2016 18:43:46 +0000</updated>
                            <resolved>Fri, 27 Feb 2015 01:35:35 +0000</resolved>
                                    <version>5.0</version>
                    <version>5.1</version>
                    <version>6.0</version>
                                    <fixVersion>4.10.4</fixVersion>
                    <fixVersion>5.0</fixVersion>
                    <fixVersion>5.1</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14299263" author="steve_rowe" created="Fri, 30 Jan 2015 21:53:48 +0000"  >&lt;p&gt;Patch addressing the issue.&lt;/p&gt;

&lt;p&gt;I also took the opportunity to switch away from usage of &lt;tt&gt;which&lt;/tt&gt; to discover whether executables exist (&lt;tt&gt;which&lt;/tt&gt; is apparently not very portable), and instead used POSIX-compliant &lt;tt&gt;command -v&lt;/tt&gt;.  See the first answer to this StackOverflow post: &lt;a href=&quot;http://stackoverflow.com/questions/592620/check-if-a-program-exists-from-a-bash-script&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://stackoverflow.com/questions/592620/check-if-a-program-exists-from-a-bash-script&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Can somebody do a sanity check on OS X 10.10.1 and other Unix-ish platforms?  I&apos;ll check on Debian (not sure what version I have ATM) in a minute.&lt;/p&gt;

&lt;p&gt;I want to get this into 5.0.&lt;/p&gt;</comment>
                            <comment id="14299332" author="steve_rowe" created="Fri, 30 Jan 2015 22:58:53 +0000"  >&lt;p&gt;Updated patch.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thelabdude&quot; class=&quot;user-hover&quot; rel=&quot;thelabdude&quot;&gt;thelabdude&lt;/a&gt; told me offline that with the original patch, &lt;tt&gt;bin/solr healthcheck -c whatever&lt;/tt&gt; fails when the war has not yet been unpacked.  I reproduced:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ bin/solr healthcheck -c testing
bin/solr: line 386: /Library/Java/JavaVirtualMachines/jdk1.8.0_20.jdk/Contents/Home/bin/jar xf: No such file or directory
Error: Could not find or load main class org.apache.solr.util.SolrCLI
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This patch fixes that problem, and also switches from using &lt;tt&gt;command -v&lt;/tt&gt; to &lt;tt&gt;hash&lt;/tt&gt; to check for executables, which the above-linked SO answer says is the best way from bash scripts (which &lt;tt&gt;bin/solr&lt;/tt&gt; is).&lt;/p&gt;

&lt;p&gt;This patch also renames &lt;tt&gt;$unzipCommand&lt;/tt&gt; to &lt;tt&gt;$UNPACK_WAR_CMD&lt;/tt&gt;, and adds &lt;tt&gt;-q&lt;/tt&gt; to the &lt;tt&gt;unzip&lt;/tt&gt; command, so that it&apos;s quiet (like &lt;tt&gt;jar xf&lt;/tt&gt; is).&lt;/p&gt;</comment>
                            <comment id="14299465" author="steve_rowe" created="Sat, 31 Jan 2015 00:45:42 +0000"  >&lt;p&gt;Without the patch I see the same failure on Debian 7.8 - bash version &lt;tt&gt;4.2.37(1)-release (x86_64-pc-linux-gnu)&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;The updated patch allows &lt;tt&gt;bin/solr&lt;/tt&gt; to run for me on Debian under bash 4.2.&lt;/p&gt;

&lt;p&gt;Committing shortly.&lt;/p&gt;</comment>
                            <comment id="14299535" author="jira-bot" created="Sat, 31 Jan 2015 01:32:05 +0000"  >&lt;p&gt;Commit 1656133 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=steve_rowe&quot; class=&quot;user-hover&quot; rel=&quot;steve_rowe&quot;&gt;steve_rowe&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1656133&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1656133&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7067&quot; title=&quot;bin/solr won&amp;#39;t run under bash 4.2+&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7067&quot;&gt;&lt;del&gt;SOLR-7067&lt;/del&gt;&lt;/a&gt;: bin/solr won&apos;t run under bash 4.2+&lt;/p&gt;</comment>
                            <comment id="14299551" author="jira-bot" created="Sat, 31 Jan 2015 01:45:36 +0000"  >&lt;p&gt;Commit 1656136 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=steve_rowe&quot; class=&quot;user-hover&quot; rel=&quot;steve_rowe&quot;&gt;steve_rowe&lt;/a&gt; in branch &apos;dev/branches/branch_5x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1656136&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1656136&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7067&quot; title=&quot;bin/solr won&amp;#39;t run under bash 4.2+&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7067&quot;&gt;&lt;del&gt;SOLR-7067&lt;/del&gt;&lt;/a&gt;: bin/solr won&apos;t run under bash 4.2+ (merged trunk r1656133)&lt;/p&gt;</comment>
                            <comment id="14299552" author="jira-bot" created="Sat, 31 Jan 2015 01:46:04 +0000"  >&lt;p&gt;Commit 1656137 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=steve_rowe&quot; class=&quot;user-hover&quot; rel=&quot;steve_rowe&quot;&gt;steve_rowe&lt;/a&gt; in branch &apos;dev/branches/lucene_solr_5_0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1656137&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1656137&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7067&quot; title=&quot;bin/solr won&amp;#39;t run under bash 4.2+&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7067&quot;&gt;&lt;del&gt;SOLR-7067&lt;/del&gt;&lt;/a&gt;: bin/solr won&apos;t run under bash 4.2+ (merged trunk r1656133)&lt;/p&gt;</comment>
                            <comment id="14299555" author="steve_rowe" created="Sat, 31 Jan 2015 01:47:22 +0000"  >&lt;p&gt;Committed to trunk, branch_5x and lucene_solr_5_0.&lt;/p&gt;</comment>
                            <comment id="14332734" author="anshumg" created="Mon, 23 Feb 2015 05:01:37 +0000"  >&lt;p&gt;Bulk close after 5.0 release.&lt;/p&gt;</comment>
                            <comment id="14339549" author="steve_rowe" created="Fri, 27 Feb 2015 01:33:48 +0000"  >&lt;p&gt;Reopening to backport to 4.10.4&lt;/p&gt;</comment>
                            <comment id="14339553" author="steve_rowe" created="Fri, 27 Feb 2015 01:35:35 +0000"  >&lt;p&gt;Committed to lucene_solr_4_10&lt;/p&gt;</comment>
                            <comment id="14339558" author="jira-bot" created="Fri, 27 Feb 2015 01:37:39 +0000"  >&lt;p&gt;Commit 1662612 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=steve_rowe&quot; class=&quot;user-hover&quot; rel=&quot;steve_rowe&quot;&gt;steve_rowe&lt;/a&gt; in branch &apos;dev/branches/lucene_solr_4_10&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1662612&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1662612&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7067&quot; title=&quot;bin/solr won&amp;#39;t run under bash 4.2+&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7067&quot;&gt;&lt;del&gt;SOLR-7067&lt;/del&gt;&lt;/a&gt;: bin/solr won&apos;t run under bash 4.2+ (merged branch_5x r1656136)&lt;/p&gt;</comment>
                            <comment id="14348895" author="mikemccand" created="Thu, 5 Mar 2015 15:36:23 +0000"  >&lt;p&gt;Bulk close for 4.10.4 release&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12695637" name="SOLR-7067.patch" size="2883" author="sarowe" created="Fri, 30 Jan 2015 22:58:53 +0000"/>
                            <attachment id="12695619" name="SOLR-7067.patch" size="2413" author="sarowe" created="Fri, 30 Jan 2015 21:53:48 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 37 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i250yn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>