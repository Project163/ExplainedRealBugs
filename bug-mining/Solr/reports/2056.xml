<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:56:19 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-6410] Suggester CloseHook for Lookup instances needs backported to 4x branch</title>
                <link>https://issues.apache.org/jira/browse/SOLR-6410</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;Spin off of bug uncovered in &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-5889&quot; title=&quot;AnalyzingInfixSuggester should expose commit()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LUCENE-5889&quot;&gt;&lt;del&gt;LUCENE-5889&lt;/del&gt;&lt;/a&gt;...&lt;/p&gt;

&lt;p&gt;the Suggester class needs to register a CloseHook for the Lookup instances returned by the LookupFactory &amp;#8211; this is currently happening on trunk, but not on 4x.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12736168">SOLR-6410</key>
            <summary>Suggester CloseHook for Lookup instances needs backported to 4x branch</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hossman">Chris M. Hostetter</assignee>
                                    <reporter username="hossman">Chris M. Hostetter</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 Aug 2014 21:14:06 +0000</created>
                <updated>Mon, 9 May 2016 18:49:57 +0000</updated>
                            <resolved>Fri, 22 Aug 2014 22:41:17 +0000</resolved>
                                                    <fixVersion>4.10</fixVersion>
                    <fixVersion>5.0</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14107523" author="hossman" created="Fri, 22 Aug 2014 21:30:58 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-5650&quot; title=&quot;Enforce read-only access to any path outside the temporary folder via security manager&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LUCENE-5650&quot;&gt;&lt;del&gt;LUCENE-5650&lt;/del&gt;&lt;/a&gt; seems to be the issue where the correct CloseHook logic was added to the Solr Suggester code ... but for whatever reason that hasn&apos;t been backported to 4x?&lt;/p&gt;

&lt;p&gt;In the interest of trying to see if we can get something in place for 4.10, I&apos;m going to try to backport r1596767 for &lt;em&gt;only&lt;/em&gt; the following files...&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;solr/core/src/java/org/apache/solr/spelling/suggest/SolrSuggester.java&lt;/li&gt;
	&lt;li&gt;solr/core/src/java/org/apache/solr/spelling/suggest/Suggester.java&lt;/li&gt;
	&lt;li&gt;solr/core/src/java/org/apache/solr/spelling/suggest/fst/AnalyzingInfixLookupFactory.java&lt;/li&gt;
	&lt;li&gt;solr/core/src/java/org/apache/solr/spelling/suggest/fst/BlendedInfixLookupFactory.java&lt;/li&gt;
	&lt;li&gt;solr/core/src/test/org/apache/solr/spelling/suggest/TestAnalyzeInfixSuggestions.java&lt;/li&gt;
	&lt;li&gt;solr/core/src/test/org/apache/solr/spelling/suggest/TestBlendedInfixSuggestions.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14107618" author="jira-bot" created="Fri, 22 Aug 2014 22:32:57 +0000"  >&lt;p&gt;Commit 1619946 from hossman@apache.org in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1619946&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1619946&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;CHANGES.txt entry for &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6410&quot; title=&quot;Suggester CloseHook for Lookup instances needs backported to 4x branch&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6410&quot;&gt;&lt;del&gt;SOLR-6410&lt;/del&gt;&lt;/a&gt;, 4x only issue&lt;/p&gt;</comment>
                            <comment id="14107624" author="jira-bot" created="Fri, 22 Aug 2014 22:37:36 +0000"  >&lt;p&gt;Commit 1619947 from hossman@apache.org in branch &apos;dev/branches/branch_4x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1619947&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1619947&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6410&quot; title=&quot;Suggester CloseHook for Lookup instances needs backported to 4x branch&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6410&quot;&gt;&lt;del&gt;SOLR-6410&lt;/del&gt;&lt;/a&gt;: Ensure all Lookup instances are closed via CloseHook (merge r1596767 from &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-5650&quot; title=&quot;Enforce read-only access to any path outside the temporary folder via security manager&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LUCENE-5650&quot;&gt;&lt;del&gt;LUCENE-5650&lt;/del&gt;&lt;/a&gt; just for the solr/spelling/suggest paths; and merge r1619946 for the CHANGES.txt entry)&lt;/p&gt;</comment>
                            <comment id="14107628" author="hossman" created="Fri, 22 Aug 2014 22:40:54 +0000"  >&lt;blockquote&gt;&lt;p&gt;In the interest of trying to see if we can get something in place for 4.10...&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;i should have mentioned: my biggest concern is actually just getting the test on the 4x branch passing again.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rjernst&quot; class=&quot;user-hover&quot; rel=&quot;rjernst&quot;&gt;rjernst&lt;/a&gt; msged me that he already had the 4.10 RC cut and was mid-smoke checker, so for now i&apos;ve only backported to the 4x branch (with CAHNGES.txt recording this issue as fixed in 4.11).&lt;/p&gt;

&lt;p&gt;I have no strong opinions about wether it&apos;s worth respining the 4.10 RC for this issue, or if we should merge it ot branch_4_10 if a respin is required for any other issues .. for now i&apos;m just happy that it&apos;s on 4x and jenkins is beating on it.&lt;/p&gt;</comment>
                            <comment id="14111011" author="jira-bot" created="Tue, 26 Aug 2014 17:42:36 +0000"  >&lt;p&gt;Commit 1620674 from hossman@apache.org in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1620674&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1620674&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6410&quot; title=&quot;Suggester CloseHook for Lookup instances needs backported to 4x branch&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6410&quot;&gt;&lt;del&gt;SOLR-6410&lt;/del&gt;&lt;/a&gt;: Ensure all Lookup instances are closed via CloseHook - move CHANGES.txt entry for 4.10 backport&lt;/p&gt;</comment>
                            <comment id="14111016" author="jira-bot" created="Tue, 26 Aug 2014 17:44:25 +0000"  >&lt;p&gt;Commit 1620675 from hossman@apache.org in branch &apos;dev/branches/branch_4x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1620675&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1620675&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6410&quot; title=&quot;Suggester CloseHook for Lookup instances needs backported to 4x branch&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6410&quot;&gt;&lt;del&gt;SOLR-6410&lt;/del&gt;&lt;/a&gt;: Ensure all Lookup instances are closed via CloseHook - move CHANGES.txt entry for 4.10 backport (merge r1620674)&lt;/p&gt;</comment>
                            <comment id="14111026" author="jira-bot" created="Tue, 26 Aug 2014 17:47:47 +0000"  >&lt;p&gt;Commit 1620678 from hossman@apache.org in branch &apos;dev/branches/lucene_solr_4_10&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1620678&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1620678&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6410&quot; title=&quot;Suggester CloseHook for Lookup instances needs backported to 4x branch&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6410&quot;&gt;&lt;del&gt;SOLR-6410&lt;/del&gt;&lt;/a&gt;: Ensure all Lookup instances are closed via CloseHook (merge r1619947 and r1620674&lt;/p&gt;</comment>
                            <comment id="14111028" author="hossman" created="Tue, 26 Aug 2014 17:49:28 +0000"  >&lt;p&gt;this has been backported to branch_4_10 for inclusion in 4.10.0RC1&lt;/p&gt;</comment>
                            <comment id="14332711" author="anshumg" created="Mon, 23 Feb 2015 05:01:29 +0000"  >&lt;p&gt;Bulk close after 5.0 release.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310060">
                    <name>Container</name>
                                                                <inwardlinks description="Is contained by">
                                        <issuelink>
            <issuekey id="12712663">LUCENE-5650</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                            <outwardlinks description="incorporates">
                                        <issuelink>
            <issuekey id="12751084">SOLR-6664</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12734404">LUCENE-5889</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 39 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1z8xz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>