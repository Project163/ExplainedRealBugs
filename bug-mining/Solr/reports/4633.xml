<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:46:58 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-15025] MiniSolrCloudCluster.waitForAllNodes ignores passed timeout value</title>
                <link>https://issues.apache.org/jira/browse/SOLR-15025</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;the api could also expand to take a time unit?&lt;/p&gt;</description>
                <environment></environment>
        <key id="13343840">SOLR-15025</key>
            <summary>MiniSolrCloudCluster.waitForAllNodes ignores passed timeout value</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mdrob">Mike Drob</assignee>
                                    <reporter username="mdrob">Mike Drob</reporter>
                        <labels>
                            <label>beginner</label>
                            <label>newdev</label>
                    </labels>
                <created>Wed, 2 Dec 2020 18:35:08 +0000</created>
                <updated>Wed, 23 Jun 2021 13:42:28 +0000</updated>
                            <resolved>Fri, 29 Jan 2021 17:23:34 +0000</resolved>
                                                    <fixVersion>9.0</fixVersion>
                    <fixVersion>8.9</fixVersion>
                                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="17261668" author="trdillon" created="Fri, 8 Jan 2021 23:22:48 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mdrob&quot; class=&quot;user-hover&quot; rel=&quot;mdrob&quot;&gt;mdrob&lt;/a&gt; I&apos;m a new dev and would be interested in working on this if it is available.&lt;/p&gt;

&lt;p&gt;I&apos;m looking at &lt;tt&gt;waitForAllNodes&lt;/tt&gt; and I see that its creating a &lt;tt&gt;TimeOut&lt;/tt&gt; with 30 seconds, but the various calls to the method are all passing a &lt;tt&gt;timeoutSeconds&lt;/tt&gt; argument. I replaced the hard coded 30 with the &lt;tt&gt;timeoutSeconds&lt;/tt&gt; variable and the tests passed. &lt;/p&gt;

&lt;p&gt;Would that be a sufficient fix? Also would it be better to check if &lt;tt&gt;timeoutSeconds&lt;/tt&gt; is null and if so, provide a default value such as 30?&lt;/p&gt;</comment>
                            <comment id="17261672" author="mdrob" created="Fri, 8 Jan 2021 23:31:09 +0000"  >&lt;p&gt;If the passed timeout is null, that should probably be an error. We can define a constant in MSCC for a default or suggested timeout, or see if there&#8217;s already another value that we can reuse.&lt;/p&gt;

&lt;p&gt;I&#8217;m on my phone and not looking at the code now, but would also validate that the Java doc comments indicate all of this.&lt;/p&gt;

&lt;p&gt;When you have something ready to share, please open a PR and we will be happy to take a look! Thanks for volunteering!&lt;/p&gt;</comment>
                            <comment id="17262856" author="mdrob" created="Mon, 11 Jan 2021 18:43:14 +0000"  >&lt;p&gt;One more thought here - I looked at the usages of this method, and there are a few places calling &lt;tt&gt;MiniSolrCloudCluster.waitForAllNodes(timeout)&lt;/tt&gt; with a value that is clearly meant to be mills instead of seconds (i.e. 10000). Can you take care of those as well?&lt;/p&gt;</comment>
                            <comment id="17267764" author="trdillon" created="Tue, 19 Jan 2021 09:02:34 +0000"  >&lt;p&gt;I added a commit to the PR that changed those values to seconds instead of mills. Would it be better to leave them as mills and handle the conversion to seconds within &lt;tt&gt;waitForAllNodes&lt;/tt&gt;?&lt;/p&gt;</comment>
                            <comment id="17274698" author="jira-bot" created="Fri, 29 Jan 2021 17:22:27 +0000"  >&lt;p&gt;Commit a7a434dbc45940553949214335810cef37b947bb in lucene-solr&apos;s branch refs/heads/master from Tim Dillon&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=a7a434d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=a7a434d&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-15025&quot; title=&quot;MiniSolrCloudCluster.waitForAllNodes ignores passed timeout value&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-15025&quot;&gt;&lt;del&gt;SOLR-15025&lt;/del&gt;&lt;/a&gt;: MiniSolrCloudCluster.waitForAllNodes ignores passed timeout value (#2193)&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Change timeout values to seconds&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17274772" author="jira-bot" created="Fri, 29 Jan 2021 17:23:10 +0000"  >&lt;p&gt;Commit 5745703ccabdc849484b2e259aded8ea691457b6 in lucene-solr&apos;s branch refs/heads/branch_8x from Tim Dillon&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=5745703&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=5745703&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-15025&quot; title=&quot;MiniSolrCloudCluster.waitForAllNodes ignores passed timeout value&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-15025&quot;&gt;&lt;del&gt;SOLR-15025&lt;/del&gt;&lt;/a&gt;: MiniSolrCloudCluster.waitForAllNodes ignores passed timeout value (#2193)&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Change timeout values to seconds&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17274809" author="mdrob" created="Fri, 29 Jan 2021 17:23:34 +0000"  >&lt;p&gt;Change looks good as is, thanks for contributing Tim! I also back ported this to branch 8&lt;/p&gt;</comment>
                            <comment id="17368170" author="mayya" created="Wed, 23 Jun 2021 13:42:28 +0000"  >&lt;p&gt;Closing after the 8.9.0 release&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 20 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0l52g:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>