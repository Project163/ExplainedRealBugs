<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:46:58 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-15085] EmbeddedSolrServer calls shutdown on a provided CoreContainer</title>
                <link>https://issues.apache.org/jira/browse/SOLR-15085</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;There are essentially 2 ways to create an&#160;EmbeddedSolrServer object, one by passing in a CoreContainer object, and the other way creates one internally on-the-fly. The current behaviour of the close method calls shutdown on the CoreContainer, regardless of where it came from.&lt;/p&gt;

&lt;p&gt;I believe this is not good behaviour for a class that doesn&apos;t control the lifecycle of the passed-in CoreContainer. In fact, there are 4 cases among the codebase where a subclass of&#160;EmbeddedSolrServer is created just to override this behaviour (with a comment saying it&apos;s unwanted).&lt;/p&gt;

&lt;p&gt;In my use-case I create&#160;EmbeddedSolrServer instances for cores as and when I need to work with them, but the CoreContainer exists for the duration. I don&apos;t want the whole container shut down when I&apos;m done with just one of its cores. You can workaround it by just not calling close on the&#160;EmbeddedSolrServer object, but that&apos;s risky especially if you use a try-with-resources as close is called automatically then.&lt;/p&gt;

&lt;p&gt;Fix is to keep track of whether the CoreContainer was created internally or not, and only shut it down if internal. I will attach my patch PR.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13353069">SOLR-15085</key>
            <summary>EmbeddedSolrServer calls shutdown on a provided CoreContainer</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mdrob">Mike Drob</assignee>
                                    <reporter username="TimOwen">Tim Owen</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Mon, 18 Jan 2021 12:44:24 +0000</created>
                <updated>Wed, 23 Jun 2021 13:42:41 +0000</updated>
                            <resolved>Fri, 29 Jan 2021 17:17:39 +0000</resolved>
                                    <version>9.0</version>
                                    <fixVersion>9.0</fixVersion>
                    <fixVersion>8.9</fixVersion>
                                    <component>Server</component>
                    <component>SolrJ</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="4200">1h 10m</timespent>
                                <comments>
                            <comment id="17274588" author="jira-bot" created="Fri, 29 Jan 2021 17:16:49 +0000"  >&lt;p&gt;Commit 715caaae52ab3ab548d37e18a173b7d744054257 in lucene-solr&apos;s branch refs/heads/master from Tim Owen&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=715caaa&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=715caaa&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-15085&quot; title=&quot;EmbeddedSolrServer calls shutdown on a provided CoreContainer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-15085&quot;&gt;&lt;del&gt;SOLR-15085&lt;/del&gt;&lt;/a&gt; Prevent EmbeddedSolrServer calling shutdown on a CoreContainer that was passed to it&lt;/p&gt;</comment>
                            <comment id="17274589" author="jira-bot" created="Fri, 29 Jan 2021 17:17:03 +0000"  >&lt;p&gt;Commit 2b8759383141ef96d881762c2e5e8bf6660c6047 in lucene-solr&apos;s branch refs/heads/branch_8x from Tim Owen&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=2b87593&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=2b87593&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-15085&quot; title=&quot;EmbeddedSolrServer calls shutdown on a provided CoreContainer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-15085&quot;&gt;&lt;del&gt;SOLR-15085&lt;/del&gt;&lt;/a&gt; Prevent EmbeddedSolrServer calling shutdown on a CoreContainer that was passed to it&lt;/p&gt;</comment>
                            <comment id="17274590" author="mdrob" created="Fri, 29 Jan 2021 17:17:39 +0000"  >&lt;p&gt;Thanks for the contribution, Tim! I added a line to CHANGES and upgrade notes about this as well.&lt;/p&gt;</comment>
                            <comment id="17276142" author="timowen" created="Mon, 1 Feb 2021 08:38:21 +0000"  >&lt;p&gt;Great, thank you Mike &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17368186" author="mayya" created="Wed, 23 Jun 2021 13:42:41 +0000"  >&lt;p&gt;Closing after the 8.9.0 release&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 20 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0mq5k:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>