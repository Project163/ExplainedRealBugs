<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 05:10:18 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-17263] HttpJdkSolrClient doesn&apos;t encode curly braces etc</title>
                <link>https://issues.apache.org/jira/browse/SOLR-17263</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;Ref &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-599?focusedCommentId=17842429#comment-17842429&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SOLR-599?focusedCommentId=17842429#comment-17842429&lt;/a&gt; - &lt;tt&gt;HttpJdkSolrClient&lt;/tt&gt; should use &lt;tt&gt;SolrParams&lt;/tt&gt;&apos; &lt;tt&gt;toQueryString()&lt;/tt&gt; method when constructing URLs to that all URL-unsafe characters are encoded. It&apos;s implicitly using the &lt;tt&gt;toString()&lt;/tt&gt; method currently which is intended for logging etc purposes.&lt;/p&gt;

&lt;p&gt;Attempting to use alternate query parsers in requests as shown below will currently fail as the curly braces aren&apos;t encoded.&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;myquery.set(&quot;fq&quot;, &quot;{!terms f=myfield}value1,value2&quot;); &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13577792">SOLR-17263</key>
            <summary>HttpJdkSolrClient doesn&apos;t encode curly braces etc</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="andywebb1975">Andy Webb</reporter>
                        <labels>
                    </labels>
                <created>Tue, 30 Apr 2024 20:54:58 +0000</created>
                <updated>Wed, 29 May 2024 23:53:53 +0000</updated>
                            <resolved>Thu, 16 May 2024 20:37:07 +0000</resolved>
                                    <version>9.6</version>
                                    <fixVersion>9.6.1</fixVersion>
                                    <component>SolrJ</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="9000">2.5h</timespent>
                                <comments>
                            <comment id="17842689" author="jdyer" created="Wed, 1 May 2024 15:12:47 +0000"  >&lt;p&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=andywebb1975&quot; class=&quot;user-hover&quot; rel=&quot;andywebb1975&quot;&gt;andywebb1975&lt;/a&gt; Thank you for being an early adopter of this new client, for reporting the bug and for the PR with the fix.&lt;/p&gt;

&lt;p&gt;Sorry for the dueling PR&apos;s, but can you review my follow-up PR to yours, &lt;a href=&quot;https://github.com/apache/solr/pull/2435&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;2435&lt;/a&gt;? &lt;/p&gt;

&lt;p&gt;I added a unit test and found sure enough that this affects the Jdk client but the existing Jetty Client handles the parameters properly.  The test indicates only GET is affected by this bug but POST and PUT requests are OK.  In the follow-up PR I modified your fix to be only for GET.&lt;/p&gt;</comment>
                            <comment id="17842725" author="andywebb1975" created="Wed, 1 May 2024 17:32:13 +0000"  >&lt;p&gt;Thanks James, and no worries!&lt;/p&gt;

&lt;p&gt;I want to understand the code better, try to spin this up and exercise it locally before I review the PR further. I&apos;ll see what I can do in the next few days.&lt;/p&gt;

&lt;p&gt;Andy&lt;/p&gt;</comment>
                            <comment id="17845630" author="andywebb1975" created="Sat, 11 May 2024 17:23:10 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/solr/pull/2433&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/solr/pull/2433&lt;/a&gt; has a fix for this. I&apos;m a relatively new committer and am not not sure how to proceed re merging it - should I add this to both &lt;tt&gt;branch_9_6&lt;/tt&gt; and &lt;tt&gt;main&lt;/tt&gt;, and add the &lt;tt&gt;CHANGES.txt&lt;/tt&gt; line under different versions in those branches like those for&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-17261&quot; title=&quot;Core loading is capped at 60 seconds&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-17261&quot;&gt;&lt;del&gt;SOLR-17261&lt;/del&gt;&lt;/a&gt;?&lt;/p&gt;

&lt;p&gt;Subject to review(s) I&apos;d also like to bring in &lt;a href=&quot;https://github.com/apache/solr/pull/2454&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/solr/pull/2454&lt;/a&gt; but don&apos;t know if that should be in 9.6.1 too, or wait for 9.7.0.&lt;/p&gt;</comment>
                            <comment id="17846037" author="jdyer" created="Mon, 13 May 2024 18:40:01 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=andywebb1975&quot; class=&quot;user-hover&quot; rel=&quot;andywebb1975&quot;&gt;andywebb1975&lt;/a&gt; I think you&apos;d be safe following the pattern with &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-17261&quot; title=&quot;Core loading is capped at 60 seconds&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-17261&quot;&gt;&lt;del&gt;SOLR-17261&lt;/del&gt;&lt;/a&gt; and add your commit three places: &lt;b&gt;main&lt;/b&gt;, &lt;b&gt;branch_9x&lt;/b&gt; and &lt;b&gt;branch_9_6&lt;/b&gt;.  The CHANGES.txt entry would go under 9_7_0 in the two branches, and under 9_6_1 in &lt;b&gt;branch_9_6&lt;/b&gt;.  Those of you who commit more than I do may have better advice than this!&lt;/p&gt;</comment>
                            <comment id="17846047" author="epugh" created="Mon, 13 May 2024 19:01:44 +0000"  >&lt;p&gt;I &lt;b&gt;think&lt;/b&gt; that if we know we are doing a 9.6.1, then you could just do it there under them all?&#160;&#160; Otherwise, what James said!&lt;/p&gt;</comment>
                            <comment id="17846619" author="jira-bot" created="Wed, 15 May 2024 12:51:37 +0000"  >&lt;p&gt;Commit 4c439d07ca35e7e80c5406c103e885307f0b64b9 in solr&apos;s branch refs/heads/main from Andy Webb&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=4c439d07ca3&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=4c439d07ca3&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-17263&quot; title=&quot;HttpJdkSolrClient doesn&amp;#39;t encode curly braces etc&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-17263&quot;&gt;&lt;del&gt;SOLR-17263&lt;/del&gt;&lt;/a&gt;: HttpJdkSolrClient doesn&apos;t encode curly braces etc (#2433)&lt;/p&gt;
</comment>
                            <comment id="17846620" author="jira-bot" created="Wed, 15 May 2024 12:55:47 +0000"  >&lt;p&gt;Commit be9fcf3d696b2ac484f128a58561c2cf942eaf5b in solr&apos;s branch refs/heads/branch_9x from Andy Webb&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=be9fcf3d696&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=be9fcf3d696&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-17263&quot; title=&quot;HttpJdkSolrClient doesn&amp;#39;t encode curly braces etc&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-17263&quot;&gt;&lt;del&gt;SOLR-17263&lt;/del&gt;&lt;/a&gt;: HttpJdkSolrClient doesn&apos;t encode curly braces etc (#2433)&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 4c439d07ca35e7e80c5406c103e885307f0b64b9)&lt;/p&gt;</comment>
                            <comment id="17846634" author="jira-bot" created="Wed, 15 May 2024 13:37:32 +0000"  >&lt;p&gt;Commit aafdb1be43c2173a1ef757b858d5027e83bd2d89 in solr&apos;s branch refs/heads/branch_9_6 from Andy Webb&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=aafdb1be43c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=aafdb1be43c&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-17263&quot; title=&quot;HttpJdkSolrClient doesn&amp;#39;t encode curly braces etc&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-17263&quot;&gt;&lt;del&gt;SOLR-17263&lt;/del&gt;&lt;/a&gt;: HttpJdkSolrClient doesn&apos;t encode curly braces etc (#2433)&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 4c439d07ca35e7e80c5406c103e885307f0b64b9)&lt;/p&gt;</comment>
                            <comment id="17846638" author="dsmiley" created="Wed, 15 May 2024 13:41:31 +0000"  >&lt;p&gt;I&apos;m a bit confused by all these PRs but I merged the first one to main, branch_9x, and branch_9_6 as the comments above show.  Maybe someone else can help out with the others.&lt;/p&gt;</comment>
                            <comment id="17847092" author="andywebb1975" created="Thu, 16 May 2024 20:36:34 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dsmiley&quot; class=&quot;user-hover&quot; rel=&quot;dsmiley&quot;&gt;dsmiley&lt;/a&gt;! I&apos;m happy with all the above, would say that&apos;s all we need to merge in for 9.6.1 here.  &lt;a href=&quot;https://github.com/apache/solr/pull/2454&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/solr/pull/2454&lt;/a&gt; could be included too subject to review, but it&apos;s just a refactoring so it can wait.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12398293">SOLR-599</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 25 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1oywo:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>