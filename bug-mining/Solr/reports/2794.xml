<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:10:57 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-6279] cores?action=UNLOAD can unregister unclosed core</title>
                <link>https://issues.apache.org/jira/browse/SOLR-6279</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;baseline:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  /somewhere/instanceA/collection1_shard1/core.properties
  /somewhere/instanceA/collection1_shard1/data
  /somewhere/instanceA/collection1_shard2/core.properties
  /somewhere/instanceA/collection1_shard2/data

  /somewhere/instanceB
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;actions:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  curl &lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//host:port/solr/admin/cores?action=UNLOAD&amp;amp;core=collection1_shard2&quot;&lt;/span&gt;
&lt;/span&gt;
  # since UNLOAD completed we should now be free to move the unloaded core&apos;s files as we wish

  mv /somewhere/instanceA/collection1_shard2 /somewhere/instanceB/collection1_shard2
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;expected result:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  /somewhere/instanceA/collection1_shard1/core.properties
  /somewhere/instanceA/collection1_shard1/data

  # collection1_shard2 files have been fully relocated

  /somewhere/instanceB/collection1_shard2/core.properties.unloaded
  /somewhere/instanceB/collection1_shard2/data
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;actual result:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  /somewhere/instanceA/collection1_shard1/core.properties
  /somewhere/instanceA/collection1_shard1/data
  /somewhere/instanceA/collection1_shard2/data

  # collection1_shard2 files have not been fully relocated and/or some files were left behind in instanceA because the UNLOAD action had returned prior to the core being closed

  /somewhere/instanceB/collection1_shard2/core.properties.unloaded
  /somewhere/instanceB/collection1_shard2/data
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;&lt;ins&gt;proposed fix:&lt;/ins&gt; Changing CoreContainer.unload to wait for core to close before unregistering it from ZK. Adding testMidUseUnload method to TestLazyCores.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12729709">SOLR-6279</key>
            <summary>cores?action=UNLOAD can unregister unclosed core</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cpoerschke">Christine Poerschke</assignee>
                                    <reporter username="cpoerschke">Christine Poerschke</reporter>
                        <labels>
                    </labels>
                <created>Fri, 25 Jul 2014 11:39:06 +0000</created>
                <updated>Mon, 9 May 2016 18:56:57 +0000</updated>
                            <resolved>Fri, 15 Jan 2016 11:22:32 +0000</resolved>
                                                    <fixVersion>5.5</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="14074307" author="githubbot" created="Fri, 25 Jul 2014 11:39:54 +0000"  >&lt;p&gt;GitHub user cpoerschke opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/lucene-solr/pull/72&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/lucene-solr/pull/72&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6279&quot; title=&quot;cores?action=UNLOAD can unregister unclosed core&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6279&quot;&gt;&lt;del&gt;SOLR-6279&lt;/del&gt;&lt;/a&gt;: cores?action=UNLOAD can unregister unclosed core&lt;/p&gt;


&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/i#browse/SOLR-6279&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/i#browse/SOLR-6279&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/bloomberg/lucene-solr&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/bloomberg/lucene-solr&lt;/a&gt; trunk-UNLOAD-can-unregister-unclosed-close&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/lucene-solr/pull/72.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/lucene-solr/pull/72.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #72&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 2a80ca5dfb47b7cd0416be2ae72bade0fe8f3ad0&lt;br/&gt;
Author: Christine Poerschke &amp;lt;cpoerschke@bloomberg.net&amp;gt;&lt;br/&gt;
Date:   2014-07-22T12:07:58Z&lt;/p&gt;

&lt;p&gt;    solr: cores?action=UNLOAD can unregister unclosed core&lt;/p&gt;

&lt;p&gt;    Changing CoreContainer.unload to wait for core to close before unregistering it from ZK. Adding testMidUseUnload method to TestLazyCores.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15095030" author="markrmiller@gmail.com" created="Tue, 12 Jan 2016 21:48:43 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="15098385" author="jira-bot" created="Thu, 14 Jan 2016 16:54:52 +0000"  >&lt;p&gt;Commit 1724654 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cpoerschke&quot; class=&quot;user-hover&quot; rel=&quot;cpoerschke&quot;&gt;cpoerschke&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1724654&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1724654&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6279&quot; title=&quot;cores?action=UNLOAD can unregister unclosed core&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6279&quot;&gt;&lt;del&gt;SOLR-6279&lt;/del&gt;&lt;/a&gt;: cores?action=UNLOAD now waits for the core to close before unregistering it from ZK.&lt;/p&gt;</comment>
                            <comment id="15098581" author="jira-bot" created="Thu, 14 Jan 2016 18:26:24 +0000"  >&lt;p&gt;Commit 1724668 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cpoerschke&quot; class=&quot;user-hover&quot; rel=&quot;cpoerschke&quot;&gt;cpoerschke&lt;/a&gt; in branch &apos;dev/branches/branch_5x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1724668&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1724668&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6279&quot; title=&quot;cores?action=UNLOAD can unregister unclosed core&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6279&quot;&gt;&lt;del&gt;SOLR-6279&lt;/del&gt;&lt;/a&gt;: cores?action=UNLOAD now waits for the core to close before unregistering it from ZK. (merge in revision 1724654 from trunk)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>407783</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 44 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1y62v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>407792</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>