<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:47:51 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-15418] V2 API for GET to a collection&apos;s handler fails, complaining about bad contentType</title>
                <link>https://issues.apache.org/jira/browse/SOLR-15418</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;&#160;An HTTP GET request to Solr /select or perhaps other handlers can result in an exception.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://localhost:8983/api/c/collection1/select?q=*:*&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8983/api/c/collection1/select?q=*:*&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Can fail:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;6303 ERROR (qtp983049796-70) [n:127.0.0.1:51236_solr c:collection1 s:shard1 r:core_node4 x:collection1_shard1_replica_n2 ] o.a.s.h.RequestHandlerBase org.apache.solr.common.SolrException: Bad contentType for search handler :null request={q=-*:*&amp;amp;wt=javabin&amp;amp;version=2}
	at org.apache.solr.request.json.RequestUtil.processParams(RequestUtil.java:73)
	at org.apache.solr.util.SolrPluginUtils.setDefaults(SolrPluginUtils.java:165)
	at org.apache.solr.handler.RequestHandlerBase.handleRequest(RequestHandlerBase.java:211)
	at org.apache.solr.api.ApiBag$ReqHandlerToApi.call(ApiBag.java:269)
	at org.apache.solr.api.V2HttpCall.execute(V2HttpCall.java:354)
	at org.apache.solr.servlet.HttpSolrCall.call(HttpSolrCall.java:564)
	at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:507)
	at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:430)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13379347">SOLR-15418</key>
            <summary>V2 API for GET to a collection&apos;s handler fails, complaining about bad contentType</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dsmiley">David Smiley</assignee>
                                    <reporter username="dsmiley">David Smiley</reporter>
                        <labels>
                    </labels>
                <created>Wed, 19 May 2021 18:59:41 +0000</created>
                <updated>Wed, 16 Apr 2025 22:16:45 +0000</updated>
                            <resolved>Mon, 24 May 2021 18:06:58 +0000</resolved>
                                                    <fixVersion>8.9</fixVersion>
                                    <component>v2 API</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1800">0.5h</timespent>
                                <comments>
                            <comment id="17348634" author="dsmiley" created="Thu, 20 May 2021 17:02:23 +0000"  >&lt;p&gt;This fix in the PR is not to the V2 API but&#160;in SolrRequestParsers by not adding ContentStreams that are empty / non-existent. &#160;Somehow the scenario illustrated in this issue (and in a test I added) tickles the problem, but hasn&apos;t been noticed otherwise for V1 API.&lt;/p&gt;

&lt;p&gt;I plan to merge in a day or so; I&apos;m pretty confident in the solution being safe/reasonable.&lt;/p&gt;</comment>
                            <comment id="17350503" author="jira-bot" created="Mon, 24 May 2021 16:08:05 +0000"  >&lt;p&gt;Commit aeb617d5c59f18979e9a9881d3455ba5e7ebea62 in solr&apos;s branch refs/heads/main from David Smiley&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=aeb617d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=aeb617d&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-15418&quot; title=&quot;V2 API for GET to a collection&amp;#39;s handler fails, complaining about bad contentType&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-15418&quot;&gt;&lt;del&gt;SOLR-15418&lt;/del&gt;&lt;/a&gt;: V2 API: Fix GET to /select and others (#134)&lt;/p&gt;

&lt;p&gt;Indirectly fixed by not adding ContentStreams that are empty.&lt;/p&gt;</comment>
                            <comment id="17350538" author="jira-bot" created="Mon, 24 May 2021 17:11:31 +0000"  >&lt;p&gt;Commit 06698116a6fd07be9886b7f8c74eb436672e1921 in lucene-solr&apos;s branch refs/heads/branch_8x from David Smiley&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=0669811&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=0669811&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-15418&quot; title=&quot;V2 API for GET to a collection&amp;#39;s handler fails, complaining about bad contentType&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-15418&quot;&gt;&lt;del&gt;SOLR-15418&lt;/del&gt;&lt;/a&gt;: V2 API: Fix GET to /select and others (#134)&lt;/p&gt;

&lt;p&gt;Indirectly fixed by not adding ContentStreams that are empty.&lt;/p&gt;</comment>
                            <comment id="17368160" author="mayya" created="Wed, 23 Jun 2021 13:42:20 +0000"  >&lt;p&gt;Closing after the 8.9.0 release&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                            <outwardlinks description="causes">
                                        <issuelink>
            <issuekey id="13615093">SOLR-17740</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 20 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0r6q8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>