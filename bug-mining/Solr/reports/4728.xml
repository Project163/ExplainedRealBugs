<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:48:27 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-15626] config-read permission does not allow access to /solr/admin/configs?action=LIST</title>
                <link>https://issues.apache.org/jira/browse/SOLR-15626</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;h2&gt;&lt;a name=&quot;Overview&quot;&gt;&lt;/a&gt;Overview&lt;/h2&gt;

&lt;p&gt;The &lt;tt&gt;/solr/admin/configs?action=LIST&lt;/tt&gt; endpoint is not available when the user has the &lt;tt&gt;config-read&lt;/tt&gt; permission.&lt;/p&gt;
&lt;h2&gt;&lt;a name=&quot;StepstoReproduce&quot;&gt;&lt;/a&gt;Steps to Reproduce&lt;/h2&gt;
&lt;ol&gt;
	&lt;li&gt;Create a &lt;tt&gt;security.json&lt;/tt&gt; file that defines:
	&lt;ol&gt;
		&lt;li&gt;a user with the &lt;tt&gt;config-read&lt;/tt&gt; permission, but &lt;em&gt;not&lt;/em&gt; the &lt;tt&gt;all&lt;/tt&gt; permission.&lt;/li&gt;
		&lt;li&gt;a separate user with the &lt;tt&gt;all&lt;/tt&gt; permission&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
	&lt;li&gt;Using the first user, attempt to hit the &lt;tt&gt;/solr/admin/configs?action=LIST&lt;/tt&gt; endpoint&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;&lt;b&gt;Expected&lt;/b&gt;&lt;br/&gt;
 The user is able to access the endpoint.&lt;br/&gt;
 &lt;b&gt;Actual&lt;/b&gt;&lt;br/&gt;
 The request fails with a 403 and the following is logged:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
This resource is configured to have a permission {
   &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;all&quot;&lt;/span&gt;,
   &lt;span class=&quot;code-quote&quot;&gt;&quot;role&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;admin&quot;&lt;/span&gt;}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a name=&quot;Workaround&quot;&gt;&lt;/a&gt;Workaround&lt;/h2&gt;

&lt;p&gt;The following can be added to the &lt;tt&gt;security.json&lt;/tt&gt; file to provide the required permission to the desired roles:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
{
    &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;list-configsets&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;role&quot;&lt;/span&gt;: [&lt;span class=&quot;code-quote&quot;&gt;&quot;someRole&quot;&lt;/span&gt;],
    &lt;span class=&quot;code-quote&quot;&gt;&quot;collection&quot;&lt;/span&gt;: &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;path&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;/admin/configs&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;params&quot;&lt;/span&gt;: {
        &lt;span class=&quot;code-quote&quot;&gt;&quot;action&quot;&lt;/span&gt;: [&lt;span class=&quot;code-quote&quot;&gt;&quot;LIST&quot;&lt;/span&gt;]
     }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a name=&quot;Suggestedfix&quot;&gt;&lt;/a&gt;Suggested fix&lt;/h2&gt;

&lt;p&gt;I believe the issue is that the &lt;tt&gt;config-read&lt;/tt&gt; permission is configured with only the &lt;tt&gt;&quot;*&lt;b&gt;&quot;&lt;/tt&gt;&lt;/b&gt; collection, but it should have &lt;tt&gt;&quot;*&lt;b&gt;&quot;&lt;/tt&gt;&lt;/b&gt; &lt;em&gt;and&lt;/em&gt; &lt;tt&gt;null&lt;/tt&gt; like the &lt;tt&gt;config-edit&lt;/tt&gt; permission to allow it to be applied to routes that are not tied to a collection (e.g. &lt;tt&gt;solr/admin/configs?action=LIST&lt;/tt&gt;).&lt;br/&gt;
 &lt;a href=&quot;https://github.com/apache/solr/blob/main/solr/core/src/java/org/apache/solr/security/PermissionNameProvider.java#L44-L45&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/solr/blob/main/solr/core/src/java/org/apache/solr/security/PermissionNameProvider.java#L44-L45&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13400815">SOLR-15626</key>
            <summary>config-read permission does not allow access to /solr/admin/configs?action=LIST</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="epugh">Eric Pugh</assignee>
                                    <reporter username="JSench">Jonathan J Senchyna</reporter>
                        <labels>
                    </labels>
                <created>Mon, 13 Sep 2021 15:05:40 +0000</created>
                <updated>Wed, 17 Nov 2021 14:22:46 +0000</updated>
                            <resolved>Thu, 7 Oct 2021 14:38:50 +0000</resolved>
                                    <version>8.8</version>
                                    <fixVersion>9.0</fixVersion>
                    <fixVersion>8.11</fixVersion>
                                    <component>Authorization</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="19200">5h 20m</timespent>
                                <comments>
                            <comment id="17416628" author="jsench" created="Fri, 17 Sep 2021 11:34:30 +0000"  >&lt;p&gt;It appears the &lt;tt&gt;config-edit&lt;/tt&gt;&#160;permission has been properly configured since &lt;tt&gt;6.6&lt;/tt&gt;/&lt;tt&gt;7.0&lt;/tt&gt;: &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6736&quot; title=&quot;A collections-like request handler to manage solr configurations on zookeeper&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6736&quot;&gt;&lt;del&gt;SOLR-6736&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="17425605" author="jira-bot" created="Thu, 7 Oct 2021 14:38:09 +0000"  >&lt;p&gt;Commit d013e9b485659bcf3366e4b433d69b3b60195b89 in solr&apos;s branch refs/heads/main from Jon Senchyna&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=d013e9b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=d013e9b&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-15626&quot; title=&quot;config-read permission does not allow access to /solr/admin/configs?action=LIST&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-15626&quot;&gt;&lt;del&gt;SOLR-15626&lt;/del&gt;&lt;/a&gt;: Fix `config-read` permission. (#296)&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-15626&quot; title=&quot;config-read permission does not allow access to /solr/admin/configs?action=LIST&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-15626&quot;&gt;&lt;del&gt;SOLR-15626&lt;/del&gt;&lt;/a&gt;: Fix `config-read` permission. The `config-read` permission was not including the `null` collection, preventing it from being matched on endpoints like `/amin/configs?action=LIST`, as they are not associated with a specific collection.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17425611" author="jira-bot" created="Thu, 7 Oct 2021 14:44:46 +0000"  >&lt;p&gt;Commit 1174b32e17034cb54b9d98ae4016bfc37a8f8191 in lucene-solr&apos;s branch refs/heads/branch_8x from epugh@opensourceconnections.com&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=1174b32&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=1174b32&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;backport &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-15626&quot; title=&quot;config-read permission does not allow access to /solr/admin/configs?action=LIST&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-15626&quot;&gt;&lt;del&gt;SOLR-15626&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17445215" author="jpountz" created="Wed, 17 Nov 2021 14:22:46 +0000"  >&lt;p&gt;Closing after the 8.11 release&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 51 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0uv0w:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>