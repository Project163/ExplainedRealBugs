<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:22:49 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-2636] Explain doesn&apos;t deal with negative only queries completely correctly</title>
                <link>https://issues.apache.org/jira/browse/SOLR-2636</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;If you do a negative only query, such as -author:&lt;span class=&quot;error&quot;&gt;&amp;#91;* TO *&amp;#93;&lt;/span&gt;, explain returns NaN for the score. The query executes correctly, however.&lt;/p&gt;

&lt;p&gt;To execute negative only queries, Solr calls QueryUtils.makeQueryable, and everything works correctly. But explain doesn&apos;t call this, and coord ends up dividing by zero.&lt;/p&gt;

&lt;p&gt;One could fix this by fixing the call to explain, which is easy, or perhaps by fixing the query parser to generate the query that way in the first place. (It looks like extended dismax does the latter, and so shouldn&apos;t have problems).&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12512887">SOLR-2636</key>
            <summary>Explain doesn&apos;t deal with negative only queries completely correctly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="yseeley@gmail.com">Yonik Seeley</assignee>
                                    <reporter username="tomsolr">Tom Hill</reporter>
                        <labels>
                    </labels>
                <created>Tue, 5 Jul 2011 20:38:42 +0000</created>
                <updated>Fri, 16 Sep 2011 14:48:51 +0000</updated>
                            <resolved>Wed, 6 Jul 2011 01:39:45 +0000</resolved>
                                    <version>3.2</version>
                                    <fixVersion>3.4</fixVersion>
                                    <component>search</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13060118" author="tomsolr" created="Tue, 5 Jul 2011 20:40:32 +0000"  >&lt;p&gt;Trivial patch which just fixes the call to explain.&lt;/p&gt;</comment>
                            <comment id="13060220" author="tomsolr" created="Wed, 6 Jul 2011 00:43:13 +0000"  >&lt;p&gt;@hoss Shall I close this one?&lt;/p&gt;

&lt;p&gt;@yonik Would it make sense for SolrQueryParser to just call makeQueryable?&lt;/p&gt;

&lt;p&gt;  @Override&lt;br/&gt;
  public Query parse(String query) throws ParseException &lt;/p&gt;
{
    return QueryUtils.makeQueryable(super.parse(query));
  }

&lt;p&gt;Then the other three calls to makeQueryable can be deleted, I think. And it fixes the problem with expain. &lt;/p&gt;</comment>
                            <comment id="13060227" author="yseeley@gmail.com" created="Wed, 6 Jul 2011 01:17:42 +0000"  >&lt;blockquote&gt;&lt;p&gt;@yonik Would it make sense for SolrQueryParser to just call makeQueryable?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I don&apos;t think so... it&apos;s useful to be able to parse negative queries, either for fragments to add into a larger query (think bq in dismax, etc).  Also, the filter query code sees negative queries and looks them up (and caches them) as their positive counterpart (so fq=foo and fq=-foo will only take up a single cache entry).&lt;/p&gt;

&lt;p&gt;I think your patch is fine.&lt;/p&gt;</comment>
                            <comment id="13106204" author="rcmuir" created="Fri, 16 Sep 2011 14:48:51 +0000"  >&lt;p&gt;bulk close for 3.4&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12361117">SOLR-119</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12485327" name="SOLR-2636" size="692" author="tomsolr" created="Tue, 5 Jul 2011 20:40:32 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4912</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 10 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i03jk7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>18602</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>