<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:13:42 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-8801] /bin/solr create script always returns exit code 0 </title>
                <link>https://issues.apache.org/jira/browse/SOLR-8801</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;/bin/solr create collection script always returns exit code 0 when a collection already exists (solrCloud mode).&lt;br/&gt;
version 5.1 returns exit code 1 but I just noticed that versions 5.4.0 and 5.5.0 returns 0&lt;/p&gt;

&lt;p&gt;&amp;gt;$ solr create -c my-collection -p 8983&lt;br/&gt;
Connecting to ZooKeeper at localhost:9983 ...&lt;br/&gt;
Re-using existing configuration directory my-collection&lt;br/&gt;
ERROR: &lt;br/&gt;
Collection &apos;my-collection&apos; already exists!&lt;br/&gt;
Checked collection existence using Collections API command:&lt;br/&gt;
&lt;a href=&quot;http://localhost:8983/solr/admin/collections?action=list&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8983/solr/admin/collections?action=list&lt;/a&gt;&lt;br/&gt;
&amp;gt;$ echo $?&lt;br/&gt;
0&lt;/p&gt;</description>
                <environment></environment>
        <key id="12947834">SOLR-8801</key>
            <summary>/bin/solr create script always returns exit code 0 </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sarowe">Steven Rowe</assignee>
                                    <reporter username="kalharbi">Khalid Alharbi</reporter>
                        <labels>
                    </labels>
                <created>Mon, 7 Mar 2016 23:16:27 +0000</created>
                <updated>Sat, 25 Jun 2016 20:33:46 +0000</updated>
                            <resolved>Fri, 17 Jun 2016 21:53:03 +0000</resolved>
                                    <version>5.4</version>
                    <version>5.5</version>
                                    <fixVersion>5.5.2</fixVersion>
                    <fixVersion>5.6</fixVersion>
                    <fixVersion>6.0.1</fixVersion>
                    <fixVersion>6.1</fixVersion>
                    <fixVersion>7.0</fixVersion>
                                    <component>scripts and tools</component>
                    <component>SolrCloud</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>7</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="60">1m</timeoriginalestimate>
                            <timeestimate seconds="60">1m</timeestimate>
                                        <comments>
                            <comment id="15184829" author="mariusneo" created="Tue, 8 Mar 2016 12:02:36 +0000"  >&lt;p&gt;Patch attached to this issue.&lt;/p&gt;

&lt;p&gt;Due to the fact that SolrCLI.CreateTool was delegating the job  of creating the collection/core via &lt;tt&gt;SolrCLI.ToolBase#runTool(CommandLine)&lt;/tt&gt; to the coresponding tool (CreateCollectionTool/CreateCoreTool), the exit code of the operation was being lost.&lt;/p&gt;

&lt;p&gt;Calling instead  &lt;tt&gt;SolrCLI.ToolBase#runImpl(CommandLine)&lt;/tt&gt; will generate an exception which will be caught in &lt;tt&gt;SolrCLI.ToolBase#runTool(CommandLine)&lt;/tt&gt; and so, the invalid exit code status will be correctly returned when exiting from SolrCLI, while the functionality previously provided is still kept.&lt;/p&gt;

&lt;p&gt;Via SolrCloudExampleTest.java I&apos;ve added new instructions to be used for verifying that a collection can&apos;t be created again, once that it exists. Unfortunately, the test case is annotated with @LuceneTestCase.BadApple reason why it won&apos;t be taken into account by the tests.&lt;/p&gt;</comment>
                            <comment id="15184945" author="ctargett" created="Tue, 8 Mar 2016 14:11:53 +0000"  >&lt;p&gt;Edited to remove fixVersion - 5.1 was released a long time ago, and fixVersion is for when the issue is released.&lt;/p&gt;</comment>
                            <comment id="15192483" author="gerlowskija" created="Sun, 13 Mar 2016 19:05:46 +0000"  >&lt;p&gt;+1.  Patch looks good to me.  Seems like a simple but helpful change.&lt;/p&gt;</comment>
                            <comment id="15294529" author="steve_rowe" created="Fri, 20 May 2016 23:35:58 +0000"  >&lt;p&gt;LGTM.&lt;/p&gt;

&lt;p&gt;Attached patch makes a small adjustment to how the tool implementation is instantiated and called, but otherwise is the same.  Also adds a CHANGES.txt entry.&lt;/p&gt;

&lt;p&gt;Committing shortly.&lt;/p&gt;</comment>
                            <comment id="15294531" author="jira-bot" created="Fri, 20 May 2016 23:37:09 +0000"  >&lt;p&gt;Commit b922033517a8bf0cb0c7d8c1ab9a25fad57855c6 in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=steve_rowe&quot; class=&quot;user-hover&quot; rel=&quot;steve_rowe&quot;&gt;steve_rowe&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=b922033&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=b922033&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8801&quot; title=&quot;/bin/solr create script always returns exit code 0 &quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-8801&quot;&gt;&lt;del&gt;SOLR-8801&lt;/del&gt;&lt;/a&gt;: /bin/solr create script always returns exit code 0 when a collection/core already exists&lt;/p&gt;</comment>
                            <comment id="15294533" author="jira-bot" created="Fri, 20 May 2016 23:37:59 +0000"  >&lt;p&gt;Commit b4d8e42a1f0044c4d0a20967c2ec48b393eff39d in lucene-solr&apos;s branch refs/heads/branch_6x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=steve_rowe&quot; class=&quot;user-hover&quot; rel=&quot;steve_rowe&quot;&gt;steve_rowe&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=b4d8e42&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=b4d8e42&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8801&quot; title=&quot;/bin/solr create script always returns exit code 0 &quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-8801&quot;&gt;&lt;del&gt;SOLR-8801&lt;/del&gt;&lt;/a&gt;: /bin/solr create script always returns exit code 0 when a collection/core already exists&lt;/p&gt;</comment>
                            <comment id="15294538" author="jira-bot" created="Fri, 20 May 2016 23:40:16 +0000"  >&lt;p&gt;Commit 02a5e15212429ed25e0a52744195a6406b37c8ab in lucene-solr&apos;s branch refs/heads/branch_6_0 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=steve_rowe&quot; class=&quot;user-hover&quot; rel=&quot;steve_rowe&quot;&gt;steve_rowe&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=02a5e15&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=02a5e15&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8801&quot; title=&quot;/bin/solr create script always returns exit code 0 &quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-8801&quot;&gt;&lt;del&gt;SOLR-8801&lt;/del&gt;&lt;/a&gt;: /bin/solr create script always returns exit code 0 when a collection/core already exists&lt;/p&gt;</comment>
                            <comment id="15294542" author="steve_rowe" created="Fri, 20 May 2016 23:41:53 +0000"  >&lt;p&gt;Thanks Khalid, Marius and Jason!&lt;/p&gt;</comment>
                            <comment id="15305388" author="steve_rowe" created="Sat, 28 May 2016 13:38:31 +0000"  >&lt;p&gt;Bulk close issues included in the 6.0.1 release.&lt;/p&gt;</comment>
                            <comment id="15337047" author="steve_rowe" created="Fri, 17 Jun 2016 21:52:04 +0000"  >&lt;p&gt;Reopening to backport to 5.6 and 5.5.2.&lt;/p&gt;</comment>
                            <comment id="15337049" author="jira-bot" created="Fri, 17 Jun 2016 21:52:55 +0000"  >&lt;p&gt;Commit f249b61dcb3e36a75bb75115a3fc3c8daa969721 in lucene-solr&apos;s branch refs/heads/branch_5_5 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=steve_rowe&quot; class=&quot;user-hover&quot; rel=&quot;steve_rowe&quot;&gt;steve_rowe&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=f249b61&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=f249b61&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8801&quot; title=&quot;/bin/solr create script always returns exit code 0 &quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-8801&quot;&gt;&lt;del&gt;SOLR-8801&lt;/del&gt;&lt;/a&gt;: /bin/solr create script always returns exit code 0 when a collection/core already exists&lt;/p&gt;</comment>
                            <comment id="15337050" author="jira-bot" created="Fri, 17 Jun 2016 21:52:57 +0000"  >&lt;p&gt;Commit 77e7fbbaa37223e91f2adae9829ef48c689286ea in lucene-solr&apos;s branch refs/heads/branch_5x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=steve_rowe&quot; class=&quot;user-hover&quot; rel=&quot;steve_rowe&quot;&gt;steve_rowe&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=77e7fbb&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=77e7fbb&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8801&quot; title=&quot;/bin/solr create script always returns exit code 0 &quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-8801&quot;&gt;&lt;del&gt;SOLR-8801&lt;/del&gt;&lt;/a&gt;: /bin/solr create script always returns exit code 0 when a collection/core already exists&lt;/p&gt;</comment>
                            <comment id="15349782" author="steve_rowe" created="Sat, 25 Jun 2016 20:33:46 +0000"  >&lt;p&gt;Bulk close issues released with 5.5.2.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12805344" name="SOLR_8801.patch" size="2380" author="sarowe" created="Fri, 20 May 2016 23:35:58 +0000"/>
                            <attachment id="12791985" name="SOLR_8801.patch" size="2197" author="mariusneo" created="Tue, 8 Mar 2016 12:02:36 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 21 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2uayf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>