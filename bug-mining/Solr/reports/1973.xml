<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:53:38 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-6179] ManagedResource repeatedly logs warnings when not used</title>
                <link>https://issues.apache.org/jira/browse/SOLR-6179</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;These messages are currently logged as WARNings, and should either be switched to INFO level (or made more sophisticated so that it can tell when solr is setup for managed resources but the data isn&apos;t available)...&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2788 [coreLoadExecutor-5-thread-1] WARN  org.apache.solr.rest.ManagedResource  &#8211; No stored data found for /rest/managed
2788 [coreLoadExecutor-5-thread-1] WARN  org.apache.solr.rest.ManagedResource  &#8211; No registered observers for /rest/managed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>
</environment>
        <key id="12722354">SOLR-6179</key>
            <summary>ManagedResource repeatedly logs warnings when not used</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="thelabdude">Timothy Potter</assignee>
                                    <reporter username="hossman">Chris M. Hostetter</reporter>
                        <labels>
                    </labels>
                <created>Wed, 18 Jun 2014 21:35:14 +0000</created>
                <updated>Mon, 9 May 2016 18:43:35 +0000</updated>
                            <resolved>Tue, 15 Jul 2014 22:14:41 +0000</resolved>
                                    <version>4.8</version>
                    <version>4.8.1</version>
                                    <fixVersion>4.10</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="14036433" author="hossman" created="Wed, 18 Jun 2014 21:35:43 +0000"  >&lt;p&gt;spin off of &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6128&quot; title=&quot;SolrResourceLoader Error messages: deprecated fieldTypes in schema.xml&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6128&quot;&gt;&lt;del&gt;SOLR-6128&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14036640" author="hossman" created="Wed, 18 Jun 2014 23:23:19 +0000"  >&lt;p&gt;(fixed description - was in &quot;enviornment&quot; by mistake)&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;Part of the issue here is that &quot;No stored data found for...&quot; message is actually fairly important it most cases &amp;#8211; if you are actively using managed resources (for something like managed synonyms) this WARN log type message is the only thing that will help you catch a possible situation where the storage file got deleted out from under you inadvertantly.&lt;/p&gt;

&lt;p&gt;This is really very similar to the way we currently log a warning on startup if there is not &quot;index&quot; directory &amp;#8211; it&apos;s an exceptional enough situation that we want to warn you about it so that you can find it in your logs later if things aren&apos;t working as you expect &amp;#8211; but as soon as we log that warning we continue with the assumption that it&apos;s expected and we should automatically create it for you&lt;/p&gt;

&lt;p&gt;The right solution here is probably:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Anytime ManageResource sees that no storage exists for something it&apos;s managing, it should immediately create an &quot;empty&quot; storage for it and log a WARN along the lines of &quot;No stored data found for /rest/foo/bar/yak .... creating new empty storage&quot;
	&lt;ul&gt;
		&lt;li&gt;This will mean that as people upgrade from old versions of solr to new versions of solr, they get this WARN exactly once for /rest/managed as the new (empty file is created)&lt;/li&gt;
		&lt;li&gt;If/when people add new managed analysis factories to their schema.xml, they will likewise get a WARN once as empty storage files are created (even if they restart several times before they PUT any stopwords/synonyms into these managed resources)&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;In our example configs, just like we ship pre-populated &lt;tt&gt;_schema_analysis_stopwords_english.json&lt;/tt&gt; and &lt;tt&gt;_schema_analysis_synonyms_english.json&lt;/tt&gt; files, we should ship a &quot;pre-populated&quot; (ie: empty) &lt;tt&gt;_rest_managed.json&lt;/tt&gt; file
	&lt;ul&gt;
		&lt;li&gt;which would ensure that no new user, who starts fresh with the &quot;current&quot; example configs, ever sees a warning about &quot;No stored data found for /rest/managed&quot;&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;hr /&gt;

&lt;p&gt;The &quot;No registered observers for...&quot; message seems like something that has no business being a WARN, and should be switched to DEBUG or INFO &amp;#8211; but i may just be missunderstanding the purpose of that message.&lt;/p&gt;</comment>
                            <comment id="14036646" author="thelabdude" created="Wed, 18 Jun 2014 23:27:05 +0000"  >&lt;p&gt;Sounds like a good approach, I&apos;ll get that implemented. And, yes, the &quot;No registered observers for...&quot; message should be changed to DEBUG. Thanks Hoss.&lt;/p&gt;</comment>
                            <comment id="14048927" author="jira-bot" created="Tue, 1 Jul 2014 14:49:28 +0000"  >&lt;p&gt;Commit 1607102 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thelabdude&quot; class=&quot;user-hover&quot; rel=&quot;thelabdude&quot;&gt;thelabdude&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1607102&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1607102&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6179&quot; title=&quot;ManagedResource repeatedly logs warnings when not used&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6179&quot;&gt;&lt;del&gt;SOLR-6179&lt;/del&gt;&lt;/a&gt;: Better strategy for handling empty managed data to avoid spurious warning messages in the logs.&lt;/p&gt;</comment>
                            <comment id="14048998" author="jira-bot" created="Tue, 1 Jul 2014 16:07:00 +0000"  >&lt;p&gt;Commit 1607128 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thelabdude&quot; class=&quot;user-hover&quot; rel=&quot;thelabdude&quot;&gt;thelabdude&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1607128&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1607128&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6179&quot; title=&quot;ManagedResource repeatedly logs warnings when not used&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6179&quot;&gt;&lt;del&gt;SOLR-6179&lt;/del&gt;&lt;/a&gt;: Fix unit test breakage by using InMemory storage if config dir is not writable.&lt;/p&gt;</comment>
                            <comment id="14049014" author="thelabdude" created="Tue, 1 Jul 2014 16:19:10 +0000"  >&lt;p&gt;Going to keep an eye on this on Jenkins today and then backport (and update the CHANGES.txt as needed).&lt;/p&gt;</comment>
                            <comment id="14049093" author="jira-bot" created="Tue, 1 Jul 2014 17:29:48 +0000"  >&lt;p&gt;Commit 1607150 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thelabdude&quot; class=&quot;user-hover&quot; rel=&quot;thelabdude&quot;&gt;thelabdude&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1607150&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1607150&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6179&quot; title=&quot;ManagedResource repeatedly logs warnings when not used&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6179&quot;&gt;&lt;del&gt;SOLR-6179&lt;/del&gt;&lt;/a&gt;: Include the RestManager stored data file to prevent warning when starting the example (and to prevent dirty checkouts when running example from svn)&lt;/p&gt;</comment>
                            <comment id="14130299" author="thelabdude" created="Thu, 11 Sep 2014 17:03:14 +0000"  >&lt;p&gt;Commit logs for branch_4x:&lt;/p&gt;

&lt;p&gt;r1610907 | thelabdude | 2014-07-15 21:27:54 -0600 (Tue, 15 Jul 2014) | 1 line&lt;br/&gt;
Changed paths:&lt;br/&gt;
   M /lucene/dev/branches/branch_4x/solr/example/solr/collection1/conf/_rest_managed.json&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6179&quot; title=&quot;ManagedResource repeatedly logs warnings when not used&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6179&quot;&gt;&lt;del&gt;SOLR-6179&lt;/del&gt;&lt;/a&gt;: fix eol prop issue found for precommit&lt;br/&gt;
------------------------------------------------------------------------&lt;br/&gt;
r1610870 | thelabdude | 2014-07-15 16:14:27 -0600 (Tue, 15 Jul 2014) | 1 line&lt;br/&gt;
Changed paths:&lt;br/&gt;
   M /lucene/dev/branches/branch_4x/solr/CHANGES.txt&lt;br/&gt;
   M /lucene/dev/branches/branch_4x/solr/core/src/java/org/apache/solr/rest/ManagedResource.java&lt;br/&gt;
   M /lucene/dev/branches/branch_4x/solr/core/src/java/org/apache/solr/rest/ManagedResourceStorage.java&lt;br/&gt;
   M /lucene/dev/branches/branch_4x/solr/core/src/java/org/apache/solr/rest/RestManager.java&lt;br/&gt;
   M /lucene/dev/branches/branch_4x/solr/core/src/java/org/apache/solr/rest/schema/analysis/ManagedWordSetResource.java&lt;br/&gt;
   M /lucene/dev/branches/branch_4x/solr/core/src/test/org/apache/solr/rest/TestRestManager.java&lt;br/&gt;
   A /lucene/dev/branches/branch_4x/solr/example/solr/collection1/conf/_rest_managed.json&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6179&quot; title=&quot;ManagedResource repeatedly logs warnings when not used&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6179&quot;&gt;&lt;del&gt;SOLR-6179&lt;/del&gt;&lt;/a&gt;: Better strategy for handling empty managed data to avoid spurious warning messages in the logs.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12717881">SOLR-6128</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>400545</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 10 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1wy73:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>400639</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>