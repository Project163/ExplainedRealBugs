<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:50:35 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-16194] Updating Time Routed Alias Parameters Loses Existing Collection List</title>
                <link>https://issues.apache.org/jira/browse/SOLR-16194</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;While updating a TRA with a new interval I noticed that the collection list stored in the alias.json is modified so that any previous created collections are dropped from the list and only the collection related to the TRA start date remains.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13444718">SOLR-16194</key>
            <summary>Updating Time Routed Alias Parameters Loses Existing Collection List</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gus">Gus Heck</assignee>
                                    <reporter username="mkuiper">Matt Kuiper</reporter>
                        <labels>
                    </labels>
                <created>Thu, 12 May 2022 22:32:45 +0000</created>
                <updated>Mon, 25 Sep 2023 00:53:08 +0000</updated>
                            <resolved>Wed, 18 May 2022 13:23:44 +0000</resolved>
                                    <version>8.11.1</version>
                                    <fixVersion>8.11.2</fixVersion>
                    <fixVersion>9.4</fixVersion>
                                    <component>SolrCloud</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="7800">2h 10m</timespent>
                                <comments>
                            <comment id="17536751" author="gus_heck" created="Fri, 13 May 2022 16:21:47 +0000"  >&lt;p&gt;This issue can create a (recoverable, but potentially down time inducing) mess with TRA&apos;s if the user tries to adjust TRA parameters on an existing TRA (which should be fine for some parameters). I suspect this hasn&apos;t been noticed because such updates are an infrequent and uncommon activity and in cases where the time interval is not updated it probably causes a series of attempts to recreate collections which (correctly) silently fail, but if the time interval is changed and thus the created collections no longer overlap with the existing ones and many useless collections can be created, and possibly previous&#160; collections will be left out of the TRA. The result would look like data loss initially, though the prior collections would still exist and the TRA could still be manually re-assembled.&lt;/p&gt;</comment>
                            <comment id="17536857" author="JIRAUSER289408" created="Fri, 13 May 2022 19:59:26 +0000"  >&lt;p&gt;Observed this behavior when updating the TRA with a new router.interval value or a new router.start value.&lt;/p&gt;</comment>
                            <comment id="17536879" author="gus_heck" created="Fri, 13 May 2022 20:36:41 +0000"  >&lt;p&gt;Fixing this will make it such that changing &lt;tt&gt;router.start&lt;/tt&gt; won&apos;t clobber the existing list (which should never happen when setting RA parameters). &#160;Although it&apos;s not validated against, changing &lt;tt&gt;router.start&lt;/tt&gt; will remain an expert operation requiring manual creation of appropriate older collections and updating the collection list in the alias manually. Tweaking start date without these manual steps will potentially lead to a bloated initial collection. Support for automating and bulletproofing changes to&#160;&lt;tt&gt;router.start&lt;/tt&gt;&#160;type of change would be beyond scope for this ticket. I&apos;ll check that we have good docs on what&apos;s safe to tweak after the routed alias has data and what is not.&lt;/p&gt;</comment>
                            <comment id="17538568" author="jira-bot" created="Wed, 18 May 2022 04:14:32 +0000"  >&lt;p&gt;Commit adeab2d88f5bbb5bf56d5d4fc5fda349b9c8ee10 in solr&apos;s branch refs/heads/main from Gus Heck&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=adeab2d88f5&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=adeab2d88f5&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16194&quot; title=&quot;Updating Time Routed Alias Parameters Loses Existing Collection List&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16194&quot;&gt;&lt;del&gt;SOLR-16194&lt;/del&gt;&lt;/a&gt; Don&apos;t overwrite list of collections in a Routed Alias when updating parameters. (#864)&lt;/p&gt;
</comment>
                            <comment id="17538732" author="janhoy" created="Wed, 18 May 2022 10:53:29 +0000"  >&lt;p&gt;fix-version should be 8.11.2, right?&lt;/p&gt;</comment>
                            <comment id="17538820" author="jira-bot" created="Wed, 18 May 2022 13:00:40 +0000"  >&lt;p&gt;Commit 396cc488499e9068518849de0699356182cd48da in lucene-solr&apos;s branch refs/heads/branch_8_11 from Gus Heck&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=396cc488499&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=396cc488499&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16194&quot; title=&quot;Updating Time Routed Alias Parameters Loses Existing Collection List&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16194&quot;&gt;&lt;del&gt;SOLR-16194&lt;/del&gt;&lt;/a&gt; Backport from main, excluding new method that throws per discussion. (#2658)&lt;/p&gt;
</comment>
                            <comment id="17557583" author="mdrob" created="Wed, 22 Jun 2022 17:34:47 +0000"  >&lt;p&gt;Closing after the 8.11.2 release&lt;/p&gt;</comment>
                            <comment id="17759748" author="alex.parvulescu" created="Mon, 28 Aug 2023 22:05:49 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gus&quot; class=&quot;user-hover&quot; rel=&quot;gus&quot;&gt;gus&lt;/a&gt;&#160;I think there might have been some issue with the 9.x release of this fix. could you see this thread on dev list &lt;a href=&quot;https://lists.apache.org/thread/bs26xw1s67w4nfrzgkzn6dnw2pyhlgws&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://lists.apache.org/thread/bs26xw1s67w4nfrzgkzn6dnw2pyhlgws&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17762151" author="gus_heck" created="Tue, 5 Sep 2023 15:56:33 +0000"  >&lt;p&gt;Sorry I was slow to respond. I&apos;ve been busy. I&apos;ll look at it tonight. Been very distracted this summer. Self publishing (and then promoting) my book has taken a lot more of my attention than I expected.&lt;/p&gt;</comment>
                            <comment id="17762156" author="alex.parvulescu" created="Tue, 5 Sep 2023 16:13:46 +0000"  >&lt;p&gt;no worries &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gus&quot; class=&quot;user-hover&quot; rel=&quot;gus&quot;&gt;gus&lt;/a&gt;. I am happy to backport to 9.x to fix this up. all I need is a confirmation.&lt;/p&gt;</comment>
                            <comment id="17768470" author="jira-bot" created="Mon, 25 Sep 2023 00:52:37 +0000"  >&lt;p&gt;Commit 5653fea0f4446c3d1aa04e92e63edd71b5ec8f9d in solr&apos;s branch refs/heads/branch_9x from Gus Heck&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=5653fea0f44&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=5653fea0f44&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16194&quot; title=&quot;Updating Time Routed Alias Parameters Loses Existing Collection List&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16194&quot;&gt;&lt;del&gt;SOLR-16194&lt;/del&gt;&lt;/a&gt; Don&apos;t overwrite list of collections in a Routed Alias when updating parameters. (#864) (#1956)&lt;/p&gt;

&lt;p&gt;(cherry picked from commit adeab2d88f5bbb5bf56d5d4fc5fda349b9c8ee10)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 7 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z12bmg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>