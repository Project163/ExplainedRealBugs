<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:29:34 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-3737] StempelPolishStemFilterFactory can&apos;t find resource &apos;/org/apache/lucene/analysis/pl/stemmer_20000.tbl&apos;</title>
                <link>https://issues.apache.org/jira/browse/SOLR-3737</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;The Stempel stemmer appears to be broken under Solr in v4.0.0-BETA, very likely related to &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-2510&quot; title=&quot;migrate solr analysis factories to analyzers module&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LUCENE-2510&quot;&gt;&lt;del&gt;LUCENE-2510&lt;/del&gt;&lt;/a&gt; / &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-4044&quot; title=&quot;Add NamedSPILoader support to TokenizerFactory, TokenFilterFactory and CharFilterFactory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LUCENE-4044&quot;&gt;&lt;del&gt;LUCENE-4044&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;When I add the following to the example, I get the below-listed exception on start-up:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;solrconfig.xml&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;lib dir=&lt;span class=&quot;code-quote&quot;&gt;&quot;../../../contrib/analysis-extras/lucene-libs/&quot;&lt;/span&gt; regex=&lt;span class=&quot;code-quote&quot;&gt;&quot;.*\.jar&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;schema.xml&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;fields&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;field name=&lt;span class=&quot;code-quote&quot;&gt;&quot;content&quot;&lt;/span&gt; type=&lt;span class=&quot;code-quote&quot;&gt;&quot;text_pl&quot;&lt;/span&gt; indexed=&lt;span class=&quot;code-quote&quot;&gt;&quot;true&quot;&lt;/span&gt; stored=&lt;span class=&quot;code-quote&quot;&gt;&quot;false&quot;&lt;/span&gt; multiValued=&lt;span class=&quot;code-quote&quot;&gt;&quot;true&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
[...]
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;types&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;fieldType name=&lt;span class=&quot;code-quote&quot;&gt;&quot;text_pl&quot;&lt;/span&gt; class=&lt;span class=&quot;code-quote&quot;&gt;&quot;solr.TextField&quot;&lt;/span&gt; positionIncrementGap=&lt;span class=&quot;code-quote&quot;&gt;&quot;100&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;analyzer&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;tokenizer class=&lt;span class=&quot;code-quote&quot;&gt;&quot;solr.StandardTokenizerFactory&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;filter class=&lt;span class=&quot;code-quote&quot;&gt;&quot;solr.LowerCaseFilterFactory&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;filter class=&lt;span class=&quot;code-quote&quot;&gt;&quot;solr.StempelPolishStemFilterFactory&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/analyzer&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/fieldType&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;Solr console output&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[...]
INFO: Adding &apos;file:/C:/temp/apache-solr-4.0.0-BETA/contrib/analysis-extras/lucene-libs/lucene-analyzers-stempel-4.0.0-BETA.jar&apos; to classloader
[...]
SEVERE: null:java.lang.RuntimeException: java.io.IOException: Can&apos;t find resource &apos;/org/apache/lucene/analysis/pl/stemmer_20000.tbl&apos; in classpath or &apos;solr\collection1\conf/&apos;, cwd=C:\temp\apache-solr-4.0.0-BETA\example
        at org.apache.solr.schema.IndexSchema.&amp;lt;init&amp;gt;(IndexSchema.java:116)
        at org.apache.solr.core.CoreContainer.create(CoreContainer.java:850)
        at org.apache.solr.core.CoreContainer.load(CoreContainer.java:539)
        at org.apache.solr.core.CoreContainer.load(CoreContainer.java:360)
        at org.apache.solr.core.CoreContainer$Initializer.initialize(CoreContainer.java:309)
        at org.apache.solr.servlet.SolrDispatchFilter.init(SolrDispatchFilter.java:106)
[...]
Caused by: java.io.IOException: Can&apos;t find resource &apos;/org/apache/lucene/analysis/pl/stemmer_20000.tbl&apos; in classpath or &apos;solr\collection1\conf/&apos;, cwd=C:\temp\apache-solr-4.0.0-BETA\example
        at org.apache.solr.core.SolrResourceLoader.openResource(SolrResourceLoader.java:314)
        at org.apache.lucene.analysis.stempel.StempelPolishStemFilterFactory.inform(StempelPolishStemFilterFactory.java:42)
        at org.apache.solr.core.SolrResourceLoader.inform(SolrResourceLoader.java:613)
        at org.apache.solr.schema.IndexSchema.&amp;lt;init&amp;gt;(IndexSchema.java:114)
        ... 44 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12603810">SOLR-3737</key>
            <summary>StempelPolishStemFilterFactory can&apos;t find resource &apos;/org/apache/lucene/analysis/pl/stemmer_20000.tbl&apos;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sarowe">Steven Rowe</reporter>
                        <labels>
                    </labels>
                <created>Fri, 17 Aug 2012 00:04:06 +0000</created>
                <updated>Mon, 9 May 2016 18:44:31 +0000</updated>
                            <resolved>Fri, 17 Aug 2012 00:43:29 +0000</resolved>
                                    <version>4.0-BETA</version>
                                    <fixVersion>4.0</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                    <component>Schema and Analysis</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13436455" author="steve_rowe" created="Fri, 17 Aug 2012 00:08:35 +0000"  >&lt;p&gt;When I remove the initial slash from the resource path:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;StempelPolishStemFilterFactory.java&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;35: &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; STEMTABLE = &lt;span class=&quot;code-quote&quot;&gt;&quot;org/apache/lucene/analysis/pl/stemmer_20000.tbl&quot;&lt;/span&gt;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Then jar it up and substitute it for the stempel jar in the unpacked Solr distribution, the failure goes away.&lt;/p&gt;

&lt;p&gt;One problem: removing the initial slash causes &lt;tt&gt;TestStempelPolishFilterFactory.testBasics()&lt;/tt&gt; to fail:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java.io.IOException: Resource not found: org/apache/lucene/analysis/pl/stemmer_20000.tbl
	at __randomizedtesting.SeedInfo.seed([D7338607BCC7C31C:EAEB282B84299D6C]:0)
	at org.apache.lucene.analysis.util.ClasspathResourceLoader.openResource(ClasspathResourceLoader.java:67)
	at org.apache.lucene.analysis.stempel.StempelPolishStemFilterFactory.inform(StempelPolishStemFilterFactory.java:42)
	at org.apache.lucene.analysis.stempel.TestStempelPolishStemFilterFactory.testBasics(TestStempelPolishStemFilterFactory.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13436456" author="thetaphi" created="Fri, 17 Aug 2012 00:11:38 +0000"  >&lt;p&gt;I think thats a bug with SolrResourceLoader, which handles slash incorrect. If you want to get a resource from ClassLoader it must start with / - I&apos;ll look into it!&lt;/p&gt;</comment>
                            <comment id="13436460" author="rcmuir" created="Fri, 17 Aug 2012 00:16:45 +0000"  >&lt;p&gt;I agree with Uwe: something seems off with the resource loader.&lt;/p&gt;

&lt;p&gt;But lets just not use it at all, and not load multiple copies of this datastructure in RAM.&lt;/p&gt;

&lt;p&gt;Here&apos;s a patch&lt;/p&gt;</comment>
                            <comment id="13436461" author="thetaphi" created="Fri, 17 Aug 2012 00:17:16 +0000"  >&lt;p&gt;Sorry, Solr is correct. When directly passed to ResourceLoader the path is correct. The problem here is the way how ClasspathResourceLoader handles this. It uses Class.getResource() to load and thats wrong, because that one expects a &quot;/&quot; to be absolute. We have to fix this and maybe fix some tests not giving absolute paths.&lt;/p&gt;</comment>
                            <comment id="13436462" author="thetaphi" created="Fri, 17 Aug 2012 00:19:06 +0000"  >&lt;p&gt;I agree, using the datastructure multiple times is wrong. The thing should load its tbl by Class.getResourceAsStream(relativepath)&lt;/p&gt;</comment>
                            <comment id="13436470" author="steve_rowe" created="Fri, 17 Aug 2012 00:24:26 +0000"  >&lt;blockquote&gt;&lt;p&gt;Here&apos;s a patch&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;Tests pass, and Solr startup doesn&apos;t trigger the resource loading exception.&lt;/p&gt;</comment>
                            <comment id="13436474" author="steve_rowe" created="Fri, 17 Aug 2012 00:32:13 +0000"  >&lt;p&gt;This bug was initially reported by sausarkar on the solr-user mailing list: &lt;a href=&quot;http://search-lucene.com/m/ZzUr2X927G?subj=Solr4+0+BETA+Error+when+StempelPolishStemFilterFactory&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://search-lucene.com/m/ZzUr2X927G?subj=Solr4+0+BETA+Error+when+StempelPolishStemFilterFactory&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13436481" author="thetaphi" created="Fri, 17 Aug 2012 00:42:44 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13436482" author="rcmuir" created="Fri, 17 Aug 2012 00:43:29 +0000"  >&lt;p&gt;Thanks, nice catch!&lt;/p&gt;</comment>
                            <comment id="13654058" author="thetaphi" created="Fri, 10 May 2013 10:33:53 +0000"  >&lt;p&gt;Closed after release.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12541304" name="SOLR-3737.patch" size="3590" author="rcmuir" created="Fri, 17 Aug 2012 00:16:45 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>243249</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 28 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i03cx3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>17526</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>