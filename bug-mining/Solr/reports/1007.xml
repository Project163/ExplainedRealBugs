<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:29:41 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-3750] On session expiration, we should explicitly wait some time before running the leader sync process so that we are sure every node participates.</title>
                <link>https://issues.apache.org/jira/browse/SOLR-3750</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;We should wait until all the known nodes are part of the election, or X amount of time if that does not happen (when a node or more does not come back for whatever reason).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12604552">SOLR-3750</key>
            <summary>On session expiration, we should explicitly wait some time before running the leader sync process so that we are sure every node participates.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="markrmiller@gmail.com">Mark Miller</assignee>
                                    <reporter username="markrmiller@gmail.com">Mark Miller</reporter>
                        <labels>
                    </labels>
                <created>Thu, 23 Aug 2012 03:17:14 +0000</created>
                <updated>Mon, 9 May 2016 18:47:21 +0000</updated>
                            <resolved>Thu, 13 Sep 2012 13:43:08 +0000</resolved>
                                                    <fixVersion>4.0</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                    <component>SolrCloud</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13445007" author="markrmiller@gmail.com" created="Thu, 30 Aug 2012 15:17:52 +0000"  >&lt;p&gt;I think initially we should wait for the known amount of replicas to show up, else a set amount of time (N).&lt;/p&gt;

&lt;p&gt;We need something like this for a start, but it seems it could be improved. The ugly case seems to be when 2 or more nodes go down and are not coming back anytime soon...updates would then be down for N amount of time.&lt;/p&gt;</comment>
                            <comment id="13445011" author="markrmiller@gmail.com" created="Thu, 30 Aug 2012 15:19:31 +0000"  >&lt;p&gt;To clarify, the above comment is more in regards to the leader goes down case. In the connectionloss case, usually everyone should come right back in the normal case. When a leader goes down, we can look for numReplicas-1 - but if 2 or more nodes go down, we would have to wait N amount of time.&lt;/p&gt;</comment>
                            <comment id="13445225" author="markrmiller@gmail.com" created="Thu, 30 Aug 2012 19:33:30 +0000"  >&lt;p&gt;I&apos;d like to come up with a goo N to wait - initially I&apos;m going with 5 min. Suggestions?&lt;/p&gt;</comment>
                            <comment id="13445241" author="markrmiller@gmail.com" created="Thu, 30 Aug 2012 19:48:03 +0000"  >&lt;p&gt;I suppose one way to kick the can is to make this configurable - which % of replicas to wait and see up before leader election, and how long to wait for that many to show up.&lt;/p&gt;</comment>
                            <comment id="13445253" author="markrmiller@gmail.com" created="Thu, 30 Aug 2012 20:03:13 +0000"  >&lt;p&gt;To add further - I don&apos;t think this is strictly necessary right now - due to the fact that we require updates to hit all replicas before returning success or failure. It will become a nice option once we let you be less strict with that though.&lt;/p&gt;</comment>
                            <comment id="13447072" author="markrmiller@gmail.com" created="Mon, 3 Sep 2012 01:02:31 +0000"  >&lt;p&gt;Because this behavior is not currently strictly necessary, and sometimes not ideal, I&apos;m thinking I will default it to false and allow it to be configured to on along with the amount of time to wait - at least initially.&lt;/p&gt;

&lt;p&gt;Later, when we allow you to return before &lt;b&gt;every&lt;/b&gt; replica has an update, this could probably be automatically enabled? Or in the case you could choose that behavior per update, doc&apos;d that you should enable it.&lt;/p&gt;

&lt;p&gt;I think it should be an option now because it also can offer some protections against more esoteric cases - eg when starting the cluster, you start using a really old node and start that node first and it becomes leader...you just want to be willing to live with some of the esoteric downsides of enabling it as as well.&lt;/p&gt;</comment>
                            <comment id="13653790" author="thetaphi" created="Fri, 10 May 2013 10:33:00 +0000"  >&lt;p&gt;Closed after release.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12605537">SOLR-3772</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>243237</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 28 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i03cuf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>17514</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>