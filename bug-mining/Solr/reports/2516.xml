<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:05:52 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-7635] bin/solr -e cloud can fail on MacOS</title>
                <link>https://issues.apache.org/jira/browse/SOLR-7635</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;On MacOS:&lt;/p&gt;

&lt;p&gt;bin/solr -e cloud &lt;br/&gt;
said:&lt;br/&gt;
Please enter the port for node1 &lt;span class=&quot;error&quot;&gt;&amp;#91;8983&amp;#93;&lt;/span&gt;&lt;br/&gt;
Oops! Looks like port 8983 is already being used by another process. Please choose a different port.&lt;/p&gt;

&lt;p&gt;Looking at the script, it uses:&lt;br/&gt;
PORT_IN_USE=`lsof -Pni:$CLOUD_PORT`&lt;br/&gt;
which gave the output:&lt;br/&gt;
{{&lt;br/&gt;
COMMAND     PID      USER   FD   TYPE             DEVICE SIZE/OFF NODE NAME&lt;br/&gt;
Google      365 upayavira  130u  IPv6 0xab1d227df2e5a7db      0t0  TCP &lt;span class=&quot;error&quot;&gt;&amp;#91;::1&amp;#93;&lt;/span&gt;:49889-&amp;gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;::1&amp;#93;&lt;/span&gt;:8983 (ESTABLISHED)&lt;br/&gt;
java      10889 upayavira  118u  IPv6 0xab1d227df2e73ddb      0t0  TCP *:8983 (LISTEN)&lt;br/&gt;
java      10889 upayavira  134u  IPv6 0xab1d227df2e756db      0t0  TCP &lt;span class=&quot;error&quot;&gt;&amp;#91;::1&amp;#93;&lt;/span&gt;:8983-&amp;gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;::1&amp;#93;&lt;/span&gt;:49889 (ESTABLISHED)&lt;br/&gt;
}}&lt;br/&gt;
This was connections Google Chrome was attempting to make to Solr. &lt;/p&gt;

&lt;p&gt;Replacing the above line with this:&lt;/p&gt;

&lt;p&gt;PORT_IN_USE=`lsof -Pni:$CLOUD_PORT | grep LISTEN`&lt;/p&gt;

&lt;p&gt;resolved the issue. Very simple patch attached.&lt;/p&gt;
</description>
                <environment>&lt;p&gt;Unix&lt;/p&gt;</environment>
        <key id="12835302">SOLR-7635</key>
            <summary>bin/solr -e cloud can fail on MacOS</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="andyetitmoves">Ramkumar Aiyengar</assignee>
                                    <reporter username="upayavira">Upayavira</reporter>
                        <labels>
                    </labels>
                <created>Thu, 4 Jun 2015 06:46:09 +0000</created>
                <updated>Wed, 26 Aug 2015 13:06:23 +0000</updated>
                            <resolved>Sat, 13 Jun 2015 18:09:00 +0000</resolved>
                                    <version>5.2</version>
                                    <fixVersion>5.3</fixVersion>
                                    <component>scripts and tools</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="14572273" author="upayavira" created="Thu, 4 Jun 2015 06:50:18 +0000"  >&lt;p&gt;A patch that covers non-cloud mode case too.&lt;/p&gt;</comment>
                            <comment id="14572738" author="elyograg" created="Thu, 4 Jun 2015 13:21:38 +0000"  >&lt;p&gt;This is not exactly related to this specific issue, but I&apos;m wondering ... what do we want to do in the Solr script if lsof is not installed on the machine?  I would imagine that currently if lsof is not installed but the port IS already in use, that the script may try to start Solr anyway, and I&apos;m not sure that the user would know why it doesn&apos;t work.&lt;/p&gt;</comment>
                            <comment id="14578587" author="upayavira" created="Tue, 9 Jun 2015 08:39:07 +0000"  >&lt;p&gt;If lsof doesn&apos;t exist, then we can&apos;t check for them, I&apos;d say it is better to report no lsof and say &quot;attempting to start&quot;, and let it fail with &quot;port in use&quot; if that happens. Alternatively, given we have Java to hand, a simple java class that attempts to connect to Solr wouldn&apos;t be too hard to write in this scenario.&lt;/p&gt;

&lt;p&gt;However, the point of this ticket is simply to fix a case I had where bin/solr start refused to start Solr even though it wasn&apos;t running. lsof was listing my browser&apos;s connection to Solr, rather than Solr listening. This patch will prevent that happening.&lt;/p&gt;</comment>
                            <comment id="14584741" author="andyetitmoves" created="Sat, 13 Jun 2015 17:54:16 +0000"  >&lt;p&gt;Attached a revised patch without the need for the grep..&lt;/p&gt;</comment>
                            <comment id="14584747" author="jira-bot" created="Sat, 13 Jun 2015 18:03:03 +0000"  >&lt;p&gt;Commit 1685296 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=andyetitmoves&quot; class=&quot;user-hover&quot; rel=&quot;andyetitmoves&quot;&gt;andyetitmoves&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1685296&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1685296&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7635&quot; title=&quot;bin/solr -e cloud can fail on MacOS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7635&quot;&gt;&lt;del&gt;SOLR-7635&lt;/del&gt;&lt;/a&gt;: Limit lsof port check in bin/solr to just listening ports&lt;/p&gt;</comment>
                            <comment id="14584750" author="jira-bot" created="Sat, 13 Jun 2015 18:04:13 +0000"  >&lt;p&gt;Commit 1685298 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=andyetitmoves&quot; class=&quot;user-hover&quot; rel=&quot;andyetitmoves&quot;&gt;andyetitmoves&lt;/a&gt; in branch &apos;dev/branches/branch_5x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1685298&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1685298&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7635&quot; title=&quot;bin/solr -e cloud can fail on MacOS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7635&quot;&gt;&lt;del&gt;SOLR-7635&lt;/del&gt;&lt;/a&gt;: Limit lsof port check in bin/solr to just listening ports&lt;/p&gt;</comment>
                            <comment id="14584755" author="andyetitmoves" created="Sat, 13 Jun 2015 18:09:00 +0000"  >&lt;p&gt;Thanks Upayavira!&lt;/p&gt;</comment>
                            <comment id="14713309" author="shalinmangar" created="Wed, 26 Aug 2015 13:06:23 +0000"  >&lt;p&gt;Bulk close for 5.3.0 release&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12739438" name="SOLR-7635.patch" size="1012" author="andyetitmoves" created="Sat, 13 Jun 2015 17:54:16 +0000"/>
                            <attachment id="12737484" name="SOLR-7635.patch" size="993" author="upayavira" created="Thu, 4 Jun 2015 06:50:18 +0000"/>
                            <attachment id="12737483" name="SOLR-7635.patch" size="739" author="upayavira" created="Thu, 4 Jun 2015 06:48:20 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 12 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2fm8f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>