<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:25:33 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-3131] &quot;details&quot; command fails when a replication is forced with a &quot;fetchIndex&quot; command on a non-slave server</title>
                <link>https://issues.apache.org/jira/browse/SOLR-3131</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;Steps to reproduce the problem:&lt;br/&gt;
1) Start a master Solr instance (called A)&lt;br/&gt;
2) Start a Solr instance with replication handler configured, but with no &quot;slave&quot; configuration. (called B)&lt;br/&gt;
3) Issue the request &lt;a href=&quot;http://B:port/solr/replication?command=fetchindex&amp;amp;masterUrl=http://A:port/solr/replication&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://B:port/solr/replication?command=fetchindex&amp;amp;masterUrl=http://A:port/solr/replication&lt;/a&gt;&lt;br/&gt;
4) While B is fetching the index, issue the request: &lt;a href=&quot;http://B:port/solr/replication?command=details&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://B:port/solr/replication?command=details&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Expected behavior: See the replication details as usual.&lt;/p&gt;

&lt;p&gt;Getting an exception instead:&lt;/p&gt;

&lt;p&gt;java.lang.NullPointerException&lt;br/&gt;
	at org.apache.solr.handler.ReplicationHandler.isPollingDisabled(ReplicationHandler.java:447)&lt;br/&gt;
	at org.apache.solr.handler.ReplicationHandler.getReplicationDetails(ReplicationHandler.java:611)&lt;br/&gt;
	at org.apache.solr.handler.ReplicationHandler.handleRequestBody(ReplicationHandler.java:211)&lt;br/&gt;
	at org.apache.solr.handler.RequestHandlerBase.handleRequest(RequestHandlerBase.java:129)&lt;br/&gt;
	at org.apache.solr.core.SolrCore.execute(SolrCore.java:1523)&lt;br/&gt;
	at org.apache.solr.servlet.SolrDispatchFilter.execute(SolrDispatchFilter.java:339)&lt;br/&gt;
	at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:234)&lt;br/&gt;
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1212)&lt;br/&gt;
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:399)&lt;br/&gt;
	at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)&lt;br/&gt;
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)&lt;br/&gt;
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:766)&lt;br/&gt;
	at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:450)&lt;br/&gt;
	at org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:230)&lt;br/&gt;
	at org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)&lt;br/&gt;
	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)&lt;br/&gt;
	at org.mortbay.jetty.Server.handle(Server.java:326)&lt;br/&gt;
	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)&lt;br/&gt;
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:928)&lt;br/&gt;
	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:549)&lt;br/&gt;
	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)&lt;br/&gt;
	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)&lt;br/&gt;
	at org.mortbay.jetty.bio.SocketConnector$Connection.run(SocketConnector.java:228)&lt;br/&gt;
	at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12542422">SOLR-3131</key>
            <summary>&quot;details&quot; command fails when a replication is forced with a &quot;fetchIndex&quot; command on a non-slave server</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="markrmiller@gmail.com">Mark Miller</assignee>
                                    <reporter username="tflobbe">Tomas Eduardo Fernandez Lobbe</reporter>
                        <labels>
                    </labels>
                <created>Mon, 13 Feb 2012 17:07:47 +0000</created>
                <updated>Fri, 10 May 2013 10:34:00 +0000</updated>
                            <resolved>Mon, 31 Dec 2012 01:59:01 +0000</resolved>
                                    <version>3.5</version>
                                    <fixVersion>4.0</fixVersion>
                                    <component>replication (java)</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13207039" author="markrmiller@gmail.com" created="Mon, 13 Feb 2012 18:27:23 +0000"  >&lt;p&gt;This is because when not a slave we don&apos;t have a permanent SnapPuller, but instead create a tmp one on the fetch index cmd - but other status calls, like details, only look for the permanent SnapPuller (which is null in the above case).&lt;/p&gt;

&lt;p&gt;It&apos;s all somewhat by design it would seem, but of course could be improved (even if we don&apos;t support it, it shouldn&apos;t NPE, and supporting it would be nice).&lt;/p&gt;</comment>
                            <comment id="13207167" author="markrmiller@gmail.com" created="Mon, 13 Feb 2012 20:23:53 +0000"  >&lt;p&gt;here is a test and probably decent enough work around - when there is no permanent snappuller (on a master), once a tempSnapPuller is made, it&apos;s kept around to get status from.&lt;/p&gt;

&lt;p&gt;Also, when asking if polling is disabled, we return true if snappuller is false.&lt;/p&gt;</comment>
                            <comment id="13207742" author="tomasflobbe" created="Tue, 14 Feb 2012 14:37:28 +0000"  >&lt;p&gt;Thanks Mark, I tested the patch with my data and seems to work.&lt;/p&gt;</comment>
                            <comment id="13209847" author="markrmiller@gmail.com" created="Thu, 16 Feb 2012 22:47:39 +0000"  >&lt;p&gt;committed to trunk - I&apos;ll add changes and back port to 3.6 as well.&lt;/p&gt;</comment>
                            <comment id="13412163" author="hossman" created="Wed, 11 Jul 2012 22:26:12 +0000"  >&lt;p&gt;bulk fixing the version info for 4.0-ALPHA and 4.0 all affected issues have &quot;hoss20120711-bulk-40-change&quot; in comment&lt;/p&gt;</comment>
                            <comment id="13429865" author="rcmuir" created="Tue, 7 Aug 2012 03:43:41 +0000"  >&lt;p&gt;rmuir20120906-bulk-40-change&lt;/p&gt;</comment>
                            <comment id="13452217" author="rcmuir" created="Mon, 10 Sep 2012 17:41:58 +0000"  >&lt;p&gt;moving all 4.0 issues not touched in a month to 4.1&lt;/p&gt;</comment>
                            <comment id="13654091" author="thetaphi" created="Fri, 10 May 2013 10:34:00 +0000"  >&lt;p&gt;Closed after release.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12514393" name="SOLR-3131.patch" size="3097" author="markrmiller@gmail.com" created="Mon, 13 Feb 2012 20:23:53 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>227708</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 28 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i03gi7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>18107</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>