<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:35:18 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-12954] facet.pivot refinement bug when facet.sort=index and mincount &gt; 2*numShards</title>
                <link>https://issues.apache.org/jira/browse/SOLR-12954</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;While testing out &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7804&quot; title=&quot;TestCloudPivotFacet failures: expected:&amp;lt;X&amp;gt; but was:&amp;lt;Y&amp;gt;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7804&quot;&gt;SOLR-7804&lt;/a&gt; i discovered a failure in TestCloudPivotFacet that indicates a problem with the refinement of (nested?) pivot facets when &lt;tt&gt;facet.sort=index&lt;/tt&gt; and &lt;tt&gt;facet.pivot.mincount &amp;gt; 1&lt;/tt&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13195817">SOLR-12954</key>
            <summary>facet.pivot refinement bug when facet.sort=index and mincount &gt; 2*numShards</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hossman">Chris M. Hostetter</assignee>
                                    <reporter username="hossman">Chris M. Hostetter</reporter>
                        <labels>
                    </labels>
                <created>Fri, 2 Nov 2018 04:47:21 +0000</created>
                <updated>Sat, 8 Jun 2019 14:58:08 +0000</updated>
                            <resolved>Sat, 3 Nov 2018 03:54:16 +0000</resolved>
                                                    <fixVersion>7.6</fixVersion>
                    <fixVersion>8.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16672570" author="hossman" created="Fri, 2 Nov 2018 05:01:28 +0000"  >&lt;p&gt;The code that generates shard requests has an optimization for dealing with the per-shard mincount...&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-comment&quot;&gt;// per-shard mincount &amp;amp; overrequest
&lt;/span&gt;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; ( FacetParams.FACET_SORT_INDEX.equals(sort) &amp;amp;&amp;amp; 
     1 &amp;lt; requestedMinCount &amp;amp;&amp;amp; 
     0 &amp;lt; requestedLimit) {

  &lt;span class=&quot;code-comment&quot;&gt;// We can divide the mincount by num shards rounded up, because unless 
&lt;/span&gt;  &lt;span class=&quot;code-comment&quot;&gt;// a single shard has at least that many it can&apos;t compete...
&lt;/span&gt;  shardMinCount = (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;) &lt;span class=&quot;code-object&quot;&gt;Math&lt;/span&gt;.ceil((&lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt;) requestedMinCount / rb.slices.length);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;...but this optimization depends on &lt;b&gt;all&lt;/b&gt; candidate terms being refined (when using sort=index) &#8211; there is evidently some situation where this is not happening properly.&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;With &lt;tt&gt;cf445ba54998710466a7c6cb489d3162d20d127a&lt;/tt&gt; checked out, the following seed demonstrates the problem...&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;   [junit4]   2&amp;gt; NOTE: reproduce with: ant test  -Dtestcase=TestCloudPivotFacet -Dtests.method=test -Dtests.seed=8A3362235855F8A8 -Dtests.multiplier=2 -Dtests.nightly=true -Dtests.slow=true -Dtests.badapples=true -Dtests.locale=sr-Latn -Dtests.timezone=America/Guatemala -Dtests.asserts=true -Dtests.file.encoding=ISO-8859-1
   [junit4] FAILURE 38.9s | TestCloudPivotFacet.test &amp;lt;&amp;lt;&amp;lt;
   [junit4]    &amp;gt; Throwable #1: java.lang.AssertionError: {main(facet=true&amp;amp;facet.pivot={!stats%3Dst3}pivot_dt,pivot_b1&amp;amp;facet.pivot={!stats%3Dst2}pivot_z_s1,pivot_i1,pivot_d1&amp;amp;facet.limit=12&amp;amp;facet.pivot.mincount=4&amp;amp;facet.sort=index&amp;amp;facet.overrequest.count=2&amp;amp;facet.overrequest.ratio=1.1145182),extra(rows=0&amp;amp;q=id:[*+TO+1077]&amp;amp;fq=id:[*+TO+204]&amp;amp;stats=true&amp;amp;stats.field={!key%3Dsk1+tag%3Dst1,st2}pivot_tdt&amp;amp;stats.field={!key%3Dsk2+tag%3Dst2,st3}dense_pivot_ti1&amp;amp;stats.field={!key%3Dsk3+tag%3Dst3,st4}pivot_tdt1&amp;amp;_test_min=4&amp;amp;_test_sort=index)} ==&amp;gt; pivot_dt,pivot_b1: {params(rows=0),defaults({main({main(rows=0&amp;amp;q=id:[*+TO+1077]&amp;amp;fq=id:[*+TO+204]&amp;amp;stats=true&amp;amp;stats.field={!key%3Dsk1+tag%3Dst1,st2}pivot_tdt&amp;amp;stats.field={!key%3Dsk2+tag%3Dst2,st3}dense_pivot_ti1&amp;amp;stats.field={!key%3Dsk3+tag%3Dst3,st4}pivot_tdt1&amp;amp;_test_min=4&amp;amp;_test_sort=index),extra(fq={!term+f%3Dpivot_dt}2010-10-31T10:31:15Z)}),extra(fq={!term+f%3Dpivot_b1}false)})} expected:&amp;lt;5&amp;gt; but was:&amp;lt;6&amp;gt;
   [junit4]    &amp;gt; 	at __randomizedtesting.SeedInfo.seed([8A3362235855F8A8:2675DF9F6A99550]:0)
   [junit4]    &amp;gt; 	at org.apache.solr.cloud.TestCloudPivotFacet.assertPivotCountsAreCorrect(TestCloudPivotFacet.java:292)
   [junit4]    &amp;gt; 	at org.apache.solr.cloud.TestCloudPivotFacet.test(TestCloudPivotFacet.java:239)
   [junit4]    &amp;gt; 	at org.apache.solr.BaseDistributedSearchTestCase$ShardsRepeatRule$ShardsFixedStatement.callStatement(BaseDistributedSearchTestCase.java:1010)
   [junit4]    &amp;gt; 	at org.apache.solr.BaseDistributedSearchTestCase$ShardsRepeatRule$ShardsStatement.evaluate(BaseDistributedSearchTestCase.java:985)
   [junit4]    &amp;gt; 	at java.lang.Thread.run(Thread.java:748)
   [junit4]    &amp;gt; Caused by: java.lang.AssertionError: pivot_dt,pivot_b1: {params(rows=0),defaults({main({main(rows=0&amp;amp;q=id:[*+TO+1077]&amp;amp;fq=id:[*+TO+204]&amp;amp;stats=true&amp;amp;stats.field={!key%3Dsk1+tag%3Dst1,st2}pivot_tdt&amp;amp;stats.field={!key%3Dsk2+tag%3Dst2,st3}dense_pivot_ti1&amp;amp;stats.field={!key%3Dsk3+tag%3Dst3,st4}pivot_tdt1&amp;amp;_test_min=4&amp;amp;_test_sort=index),extra(fq={!term+f%3Dpivot_dt}2010-10-31T10:31:15Z)}),extra(fq={!term+f%3Dpivot_b1}false)})} expected:&amp;lt;5&amp;gt; but was:&amp;lt;6&amp;gt;
   [junit4]    &amp;gt; 	at org.apache.solr.cloud.TestCloudPivotFacet.assertNumFound(TestCloudPivotFacet.java:690)
   [junit4]    &amp;gt; 	at org.apache.solr.cloud.TestCloudPivotFacet.assertPivotData(TestCloudPivotFacet.java:346)
   [junit4]    &amp;gt; 	at org.apache.solr.cloud.TestCloudPivotFacet.assertPivotCountsAreCorrect(TestCloudPivotFacet.java:313)
   [junit4]    &amp;gt; 	at org.apache.solr.cloud.TestCloudPivotFacet.assertPivotCountsAreCorrect(TestCloudPivotFacet.java:324)
   [junit4]    &amp;gt; 	at org.apache.solr.cloud.TestCloudPivotFacet.assertPivotCountsAreCorrect(TestCloudPivotFacet.java:282)
   [junit4]    &amp;gt; 	... 42 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The pivot query being tests...&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;   [junit4]   2&amp;gt; 35268 INFO  (TEST-TestCloudPivotFacet.test-seed#[8A3362235855F8A8]) [    ] o.a.s.c.TestCloudPivotFacet Doing full run: {main(facet=true&amp;amp;facet.pivot={!stats%3Dst3}pivot_dt,pivot_b1&amp;amp;facet.pivot={!stats%3Dst2}pivot_z_s1,pivot_i1,pivot_d1&amp;amp;facet.limit=12&amp;amp;facet.pivot.mincount=4&amp;amp;facet.sort=index&amp;amp;facet.overrequest.count=2&amp;amp;facet.overrequest.ratio=1.1145182),extra(rows=0&amp;amp;q=id:[*+TO+1077]&amp;amp;fq=id:[*+TO+204]&amp;amp;stats=true&amp;amp;stats.field={!key%3Dsk1+tag%3Dst1,st2}pivot_tdt&amp;amp;stats.field={!key%3Dsk2+tag%3Dst2,st3}dense_pivot_ti1&amp;amp;stats.field={!key%3Dsk3+tag%3Dst3,st4}pivot_tdt1&amp;amp;_test_min=4&amp;amp;_test_sort=index)}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The bucket that fails is from the &lt;tt&gt;pivot_dt,pivot_b1&lt;/tt&gt; pivot for the bucket &lt;tt&gt;2010-10-31T10:31:15Z , false&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;The test verification queries show...&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;### verification queries of 2010-10-31T10:31:15Z (shard1=2 shard2=7)...

   [junit4]   2&amp;gt; 36749 INFO  (qtp1638186575-84) [n:127.0.0.1:51294__ c:collection1 s:shard2 r:core_node42 x:collection1_shard2_replica_n41] o.a.s.c.S.Request [collection1_shard2_replica_n41]  webapp=/_ path=/select params={df=text&amp;amp;distrib=false&amp;amp;_test_sort=index&amp;amp;fl=id&amp;amp;fl=score&amp;amp;shards.purpose=516&amp;amp;start=0&amp;amp;fsv=true&amp;amp;fq=id:[*+TO+204]&amp;amp;fq={!term+f%3Dpivot_dt}2010-10-31T10:31:15Z&amp;amp;_test_min=4&amp;amp;shard.url=http://127.0.0.1:51294/_/collection1_shard2_replica_n41/|http://127.0.0.1:59609/_/collection1_shard2_replica_n45/&amp;amp;rows=0&amp;amp;version=2&amp;amp;q=id:[*+TO+1077]&amp;amp;stats=true&amp;amp;NOW=1541118572502&amp;amp;isShard=true&amp;amp;wt=javabin&amp;amp;stats.field={!key%3Dsk1+tag%3Dst1,st2}pivot_tdt&amp;amp;stats.field={!key%3Dsk2+tag%3Dst2,st3}dense_pivot_ti1&amp;amp;stats.field={!key%3Dsk3+tag%3Dst3,st4}pivot_tdt1} hits=7 status=0 QTime=1
   [junit4]   2&amp;gt; 36749 INFO  (qtp1007717333-122) [n:127.0.0.1:55141__ c:collection1 s:shard1 r:core_node44 x:collection1_shard1_replica_n43] o.a.s.c.S.Request [collection1_shard1_replica_n43]  webapp=/_ path=/select params={df=text&amp;amp;distrib=false&amp;amp;_test_sort=index&amp;amp;fl=id&amp;amp;fl=score&amp;amp;shards.purpose=516&amp;amp;start=0&amp;amp;fsv=true&amp;amp;fq=id:[*+TO+204]&amp;amp;fq={!term+f%3Dpivot_dt}2010-10-31T10:31:15Z&amp;amp;_test_min=4&amp;amp;shard.url=http://127.0.0.1:55141/_/collection1_shard1_replica_n43/|http://127.0.0.1:38554/_/collection1_shard1_replica_n47/&amp;amp;rows=0&amp;amp;version=2&amp;amp;q=id:[*+TO+1077]&amp;amp;stats=true&amp;amp;NOW=1541118572502&amp;amp;isShard=true&amp;amp;wt=javabin&amp;amp;stats.field={!key%3Dsk1+tag%3Dst1,st2}pivot_tdt&amp;amp;stats.field={!key%3Dsk2+tag%3Dst2,st3}dense_pivot_ti1&amp;amp;stats.field={!key%3Dsk3+tag%3Dst3,st4}pivot_tdt1} hits=2 status=0 QTime=1
   
   [junit4]   2&amp;gt; 36750 INFO  (qtp73311073-158) [n:127.0.0.1:59609__ c:collection1 s:shard2 r:core_node46 x:collection1_shard2_replica_n45] o.a.s.c.S.Request [collection1_shard2_replica_n45]  webapp=/_ path=/select params={q=id:[*+TO+1077]&amp;amp;stats=true&amp;amp;_test_sort=index&amp;amp;fq=id:[*+TO+204]&amp;amp;fq={!term+f%3Dpivot_dt}2010-10-31T10:31:15Z&amp;amp;_test_min=4&amp;amp;rows=0&amp;amp;wt=javabin&amp;amp;version=2&amp;amp;stats.field={!key%3Dsk1+tag%3Dst1,st2}pivot_tdt&amp;amp;stats.field={!key%3Dsk2+tag%3Dst2,st3}dense_pivot_ti1&amp;amp;stats.field={!key%3Dsk3+tag%3Dst3,st4}pivot_tdt1} hits=9 status=0 QTime=3

### verification queries of 2010-10-31T10:31:15Z + false (shard1=1, shard2=5)...

   [junit4]   2&amp;gt; 36754 INFO  (qtp1638186575-84) [n:127.0.0.1:51294__ c:collection1 s:shard2 r:core_node42 x:collection1_shard2_replica_n41] o.a.s.c.S.Request [collection1_shard2_replica_n41]  webapp=/_ path=/select params={df=text&amp;amp;distrib=false&amp;amp;_test_sort=index&amp;amp;fl=id&amp;amp;fl=score&amp;amp;shards.purpose=516&amp;amp;start=0&amp;amp;fsv=true&amp;amp;fq=id:[*+TO+204]&amp;amp;fq={!term+f%3Dpivot_dt}2010-10-31T10:31:15Z&amp;amp;fq={!term+f%3Dpivot_b1}false&amp;amp;_test_min=4&amp;amp;shard.url=http://127.0.0.1:51294/_/collection1_shard2_replica_n41/|http://127.0.0.1:59609/_/collection1_shard2_replica_n45/&amp;amp;rows=0&amp;amp;version=2&amp;amp;q=id:[*+TO+1077]&amp;amp;stats=true&amp;amp;NOW=1541118572507&amp;amp;isShard=true&amp;amp;wt=javabin&amp;amp;stats.field={!key%3Dsk1+tag%3Dst1,st2}pivot_tdt&amp;amp;stats.field={!key%3Dsk2+tag%3Dst2,st3}dense_pivot_ti1&amp;amp;stats.field={!key%3Dsk3+tag%3Dst3,st4}pivot_tdt1} hits=5 status=0 QTime=1
   [junit4]   2&amp;gt; 36756 INFO  (qtp1007717333-124) [n:127.0.0.1:55141__ c:collection1 s:shard1 r:core_node44 x:collection1_shard1_replica_n43] o.a.s.c.S.Request [collection1_shard1_replica_n43]  webapp=/_ path=/select params={df=text&amp;amp;distrib=false&amp;amp;_test_sort=index&amp;amp;fl=id&amp;amp;fl=score&amp;amp;shards.purpose=516&amp;amp;start=0&amp;amp;fsv=true&amp;amp;fq=id:[*+TO+204]&amp;amp;fq={!term+f%3Dpivot_dt}2010-10-31T10:31:15Z&amp;amp;fq={!term+f%3Dpivot_b1}false&amp;amp;_test_min=4&amp;amp;shard.url=http://127.0.0.1:55141/_/collection1_shard1_replica_n43/|http://127.0.0.1:38554/_/collection1_shard1_replica_n47/&amp;amp;rows=0&amp;amp;version=2&amp;amp;q=id:[*+TO+1077]&amp;amp;stats=true&amp;amp;NOW=1541118572507&amp;amp;isShard=true&amp;amp;wt=javabin&amp;amp;stats.field={!key%3Dsk1+tag%3Dst1,st2}pivot_tdt&amp;amp;stats.field={!key%3Dsk2+tag%3Dst2,st3}dense_pivot_ti1&amp;amp;stats.field={!key%3Dsk3+tag%3Dst3,st4}pivot_tdt1} hits=1 status=0 QTime=1

   [junit4]   2&amp;gt; 36758 INFO  (qtp973539008-202) [n:127.0.0.1:38554__ c:collection1 s:shard1 r:core_node48 x:collection1_shard1_replica_n47] o.a.s.c.S.Request [collection1_shard1_replica_n47]  webapp=/_ path=/select params={q=id:[*+TO+1077]&amp;amp;stats=true&amp;amp;_test_sort=index&amp;amp;fq=id:[*+TO+204]&amp;amp;fq={!term+f%3Dpivot_dt}2010-10-31T10:31:15Z&amp;amp;fq={!term+f%3Dpivot_b1}false&amp;amp;_test_min=4&amp;amp;rows=0&amp;amp;wt=javabin&amp;amp;version=2&amp;amp;stats.field={!key%3Dsk1+tag%3Dst1,st2}pivot_tdt&amp;amp;stats.field={!key%3Dsk2+tag%3Dst2,st3}dense_pivot_ti1&amp;amp;stats.field={!key%3Dsk3+tag%3Dst3,st4}pivot_tdt1} hits=6 status=0 QTime=6
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Based on the computed shard min count used, and the per-shard numFounds for the verification queries, this bucket would not have been returned by shard1 during the initial query, but would have been returned by shard2 &#8211; yet there is nothing in the logs showing any attempt at refining it on shard2, and the resulting assertion failure is consistent with the one doc in this bucket on shard1 not being counted.&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;Forcing the above mentioned code to use &lt;tt&gt;shardMinCount=1&lt;/tt&gt; causes this seed to pass, and that may be the best course of action if we can&apos;t figure out why the buckets aren&apos;t getting refined properly.&lt;/p&gt;</comment>
                            <comment id="16673164" author="nknize" created="Fri, 2 Nov 2018 14:33:14 +0000"  >&lt;p&gt;Sounds like we should label as a blocker for 7.6 &amp;amp; 8.0?&lt;/p&gt;</comment>
                            <comment id="16673916" author="jira-bot" created="Sat, 3 Nov 2018 03:47:12 +0000"  >&lt;p&gt;Commit be8f611db1cbaf51622d8af5cd6efced4e338968 in lucene-solr&apos;s branch refs/heads/branch_7x from Chris Hostetter&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=be8f611&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=be8f611&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-12954&quot; title=&quot;facet.pivot refinement bug when facet.sort=index and mincount &amp;gt; 2*numShards&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-12954&quot;&gt;&lt;del&gt;SOLR-12954&lt;/del&gt;&lt;/a&gt;: fix facet.pivot refinement bugs when using facet.sort=index and facet.mincount&amp;gt;1&lt;/p&gt;

&lt;p&gt;(cherry picked from commit c5ff4a4444fe95001bc1baf29f64fb2406fd2ca3)&lt;/p&gt;

&lt;p&gt;Conflicts:&lt;br/&gt;
	solr/CHANGES.txt&lt;/p&gt;</comment>
                            <comment id="16673917" author="jira-bot" created="Sat, 3 Nov 2018 03:47:14 +0000"  >&lt;p&gt;Commit c5ff4a4444fe95001bc1baf29f64fb2406fd2ca3 in lucene-solr&apos;s branch refs/heads/master from Chris Hostetter&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=c5ff4a4&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=c5ff4a4&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-12954&quot; title=&quot;facet.pivot refinement bug when facet.sort=index and mincount &amp;gt; 2*numShards&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-12954&quot;&gt;&lt;del&gt;SOLR-12954&lt;/del&gt;&lt;/a&gt;: fix facet.pivot refinement bugs when using facet.sort=index and facet.mincount&amp;gt;1&lt;/p&gt;</comment>
                            <comment id="16673919" author="hossman" created="Sat, 3 Nov 2018 03:53:54 +0000"  >&lt;p&gt;There were actually 2 diff bugs relating to facet.sort=index and facet.mincount&amp;gt;1 ... depending on whether facet.limit=-1 or not.  Both are now fixed.&lt;/p&gt;</comment>
                            <comment id="16674967" author="jira-bot" created="Mon, 5 Nov 2018 11:01:36 +0000"  >&lt;p&gt;Commit c5ff4a4444fe95001bc1baf29f64fb2406fd2ca3 in lucene-solr&apos;s branch refs/heads/jira/http2 from Chris Hostetter&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=c5ff4a4&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=c5ff4a4&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-12954&quot; title=&quot;facet.pivot refinement bug when facet.sort=index and mincount &amp;gt; 2*numShards&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-12954&quot;&gt;&lt;del&gt;SOLR-12954&lt;/del&gt;&lt;/a&gt;: fix facet.pivot refinement bugs when using facet.sort=index and facet.mincount&amp;gt;1&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12845887">SOLR-7804</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 2 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|s001w8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>