<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:01:46 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-6938] Implicit configuration of Update handlers does not match previous explicit one</title>
                <link>https://issues.apache.org/jira/browse/SOLR-6938</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;There seem to be confusion/inconsistency between &lt;b&gt;contentType&lt;/b&gt; (stream or update) parameter as defined in the commented-out update handler and new implicit implementation.&lt;/p&gt;

&lt;p&gt;Specifically, in (current 5 build&apos;s) techproduct&apos;s solrconfig.xml, it says:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;  &amp;lt;!-- The following are implicitly added&lt;br/&gt;
  &amp;lt;requestHandler name=&quot;/update/json&quot; class=&quot;solr.UpdateRequestHandler&quot;&amp;gt;&lt;br/&gt;
        &amp;lt;lst name=&quot;defaults&quot;&amp;gt;&lt;br/&gt;
         &amp;lt;str name=&quot;stream.contentType&quot;&amp;gt;application/json&amp;lt;/str&amp;gt;&lt;br/&gt;
       &amp;lt;/lst&amp;gt;&lt;br/&gt;
  &amp;lt;/requestHandler&amp;gt;&lt;br/&gt;
  &amp;lt;requestHandler name=&quot;/update/csv&quot; class=&quot;solr.UpdateRequestHandler&quot;&amp;gt;&lt;br/&gt;
        &amp;lt;lst name=&quot;defaults&quot;&amp;gt;&lt;br/&gt;
         &amp;lt;str name=&quot;stream.contentType&quot;&amp;gt;application/csv&amp;lt;/str&amp;gt;&lt;br/&gt;
       &amp;lt;/lst&amp;gt;&lt;br/&gt;
  &amp;lt;/requestHandler&amp;gt;&lt;br/&gt;
  --&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;The documentation also says to use &lt;b&gt;stream.contentType&lt;/b&gt; at: &lt;a href=&quot;https://cwiki.apache.org/confluence/display/solr/Uploading+Data+with+Index+Handlers&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://cwiki.apache.org/confluence/display/solr/Uploading+Data+with+Index+Handlers&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;However, the &lt;a href=&quot;http://localhost:8983/solr/techproducts/config&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8983/solr/techproducts/config&lt;/a&gt; says instead:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;      &quot;/update/json&quot;:{&lt;br/&gt;
        &quot;name&quot;:&quot;/update/json&quot;,&lt;br/&gt;
        &quot;class&quot;:&quot;org.apache.solr.handler.UpdateRequestHandler&quot;,&lt;br/&gt;
        &quot;defaults&quot;:{&quot;update.contentType&quot;:&quot;application/json&quot;}},&lt;br/&gt;
      &quot;/update/csv&quot;:{&lt;br/&gt;
        &quot;name&quot;:&quot;/update/csv&quot;,&lt;br/&gt;
        &quot;class&quot;:&quot;org.apache.solr.handler.UpdateRequestHandler&quot;,&lt;br/&gt;
        &quot;defaults&quot;:{&quot;update.contentType&quot;:&quot;application/csv&quot;}},&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Seems to be pure inconsistency, since Reference Guide does not mention &lt;b&gt;update.contentType&lt;/b&gt;.&lt;/p&gt;

&lt;p&gt;Yet earlier in the same &lt;b&gt;solrconfig.xml&lt;/b&gt; it says:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;To override the request content type and force a specific&lt;br/&gt;
Content-type, use the request parameter:&lt;br/&gt;
  ?update.contentType=text/csv&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Are these different or same? They should definitely be consistent between code and comment, but it seems there is a bit of an extra confusion on top.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12765946">SOLR-6938</key>
            <summary>Implicit configuration of Update handlers does not match previous explicit one</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="noble.paul">Noble Paul</assignee>
                                    <reporter username="arafalov">Alexandre Rafalovitch</reporter>
                        <labels>
                    </labels>
                <created>Fri, 9 Jan 2015 05:27:37 +0000</created>
                <updated>Mon, 9 May 2016 18:53:50 +0000</updated>
                            <resolved>Fri, 23 Jan 2015 08:51:34 +0000</resolved>
                                    <version>5.0</version>
                                    <fixVersion>5.0</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                    <component>update</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="14270651" author="noble.paul" created="Fri, 9 Jan 2015 06:47:01 +0000"  >&lt;p&gt;is stream.contentType used anywhere in the code? was it some legacy stuff?&lt;/p&gt;</comment>
                            <comment id="14270982" author="ehatcher" created="Fri, 9 Jan 2015 13:10:02 +0000"  >&lt;blockquote&gt;&lt;p&gt;is stream.contentType used anywhere in the code? &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yes.  Look for CommonParams.STREAM_CONTENTTYPE.  The general, common stream handling uses this, if specified.  In fact, UpdateRequestHandler falls back to the stream contentType setting if the update.contentType isn&apos;t specified.&lt;/p&gt;

&lt;p&gt;At first glance, it looks like update.contentType is redundant or unnecessary?&lt;/p&gt;</comment>
                            <comment id="14272461" author="noble.paul" created="Sat, 10 Jan 2015 11:37:34 +0000"  >&lt;p&gt;anyway , let&apos;s switch it to the old one and be done with it&lt;/p&gt;</comment>
                            <comment id="14287896" author="jira-bot" created="Thu, 22 Jan 2015 18:19:24 +0000"  >&lt;p&gt;Commit 1653989 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=noble.paul&quot; class=&quot;user-hover&quot; rel=&quot;noble.paul&quot;&gt;noble.paul&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1653989&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1653989&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6938&quot; title=&quot;Implicit configuration of Update handlers does not match previous explicit one&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6938&quot;&gt;&lt;del&gt;SOLR-6938&lt;/del&gt;&lt;/a&gt; Implicit configuration of Update handlers does not match previous explicit one&lt;/p&gt;</comment>
                            <comment id="14287906" author="jira-bot" created="Thu, 22 Jan 2015 18:22:49 +0000"  >&lt;p&gt;Commit 1653990 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=noble.paul&quot; class=&quot;user-hover&quot; rel=&quot;noble.paul&quot;&gt;noble.paul&lt;/a&gt; in branch &apos;dev/branches/branch_5x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1653990&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1653990&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6938&quot; title=&quot;Implicit configuration of Update handlers does not match previous explicit one&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6938&quot;&gt;&lt;del&gt;SOLR-6938&lt;/del&gt;&lt;/a&gt; Implicit configuration of Update handlers does not match previous explicit one&lt;/p&gt;</comment>
                            <comment id="14287911" author="jira-bot" created="Thu, 22 Jan 2015 18:24:29 +0000"  >&lt;p&gt;Commit 1653992 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=noble.paul&quot; class=&quot;user-hover&quot; rel=&quot;noble.paul&quot;&gt;noble.paul&lt;/a&gt; in branch &apos;dev/branches/lucene_solr_5_0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1653992&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1653992&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6938&quot; title=&quot;Implicit configuration of Update handlers does not match previous explicit one&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6938&quot;&gt;&lt;del&gt;SOLR-6938&lt;/del&gt;&lt;/a&gt; Implicit configuration of Update handlers does not match previous explicit one&lt;/p&gt;</comment>
                            <comment id="14288140" author="jira-bot" created="Thu, 22 Jan 2015 20:08:53 +0000"  >&lt;p&gt;Commit 1654036 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=noble.paul&quot; class=&quot;user-hover&quot; rel=&quot;noble.paul&quot;&gt;noble.paul&lt;/a&gt; in branch &apos;dev/branches/lucene_solr_5_0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1654036&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1654036&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;reverting &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6938&quot; title=&quot;Implicit configuration of Update handlers does not match previous explicit one&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6938&quot;&gt;&lt;del&gt;SOLR-6938&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14288144" author="jira-bot" created="Thu, 22 Jan 2015 20:10:41 +0000"  >&lt;p&gt;Commit 1654037 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=noble.paul&quot; class=&quot;user-hover&quot; rel=&quot;noble.paul&quot;&gt;noble.paul&lt;/a&gt; in branch &apos;dev/branches/branch_5x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1654037&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1654037&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;reverting &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6938&quot; title=&quot;Implicit configuration of Update handlers does not match previous explicit one&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6938&quot;&gt;&lt;del&gt;SOLR-6938&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14288147" author="jira-bot" created="Thu, 22 Jan 2015 20:11:43 +0000"  >&lt;p&gt;Commit 1654038 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=noble.paul&quot; class=&quot;user-hover&quot; rel=&quot;noble.paul&quot;&gt;noble.paul&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1654038&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1654038&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;reverting &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6938&quot; title=&quot;Implicit configuration of Update handlers does not match previous explicit one&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6938&quot;&gt;&lt;del&gt;SOLR-6938&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14288150" author="noble.paul" created="Thu, 22 Jan 2015 20:14:33 +0000"  >&lt;p&gt;There were more changes which need to be reverted. I will investigate before making a further suggestion. In the worst case we should document this in the release notes as a back incompatible change&lt;/p&gt;</comment>
                            <comment id="14288573" author="arafalov" created="Fri, 23 Jan 2015 01:38:22 +0000"  >&lt;p&gt;Why is this being reverted? Just this (leading again to inconsistency) or the original - implicit configuration - as well?&lt;/p&gt;</comment>
                            <comment id="14288675" author="noble.paul" created="Fri, 23 Jan 2015 03:19:23 +0000"  >&lt;p&gt;OK&lt;br/&gt;
We don&apos;t need to change anything . &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;The tests failed because it just short circuits the whole request parameters by parsing and  invoking the request handlers directly.&lt;/li&gt;
	&lt;li&gt;This has been out there this way from 4.10&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;So the point is, it is it does not break any backward compatibility even if you use the old config with the new binaries&lt;/p&gt;</comment>
                            <comment id="14288982" author="noble.paul" created="Fri, 23 Jan 2015 08:51:34 +0000"  >&lt;p&gt;both parameters are fine and the feature would work &lt;br/&gt;
but &lt;tt&gt;stream.contentType&lt;/tt&gt; is a generic parameter and &lt;tt&gt;update.contentType&lt;/tt&gt; is a param specifically used by updaterequesthandler . So , I would say thisis more appropriate&lt;/p&gt;
</comment>
                            <comment id="14289450" author="arafalov" created="Fri, 23 Jan 2015 16:07:57 +0000"  >&lt;p&gt;The JIRA here is not about which one is correct. It is about &lt;b&gt;discrepancy&lt;/b&gt; between what was in the config and still is in comments and what the code actually implements.&lt;/p&gt;

&lt;p&gt;So, one way or another, the documentation needs to be brought into alignment. So, the comments in the schema.xml (all of them I guess), the release notes if the default changed, the Reference Guide possibly too.&lt;/p&gt;

&lt;p&gt;Perhaps it has been done, I didn&apos;t check the latest subversion status yet. But, either way, this cannot be &lt;b&gt;Won&apos;t Fix&lt;/b&gt;. At worst, it&apos;s unresolved.&lt;/p&gt;</comment>
                            <comment id="14290710" author="noble.paul" created="Sat, 24 Jan 2015 17:00:56 +0000"  >&lt;p&gt;It has to be documented . So , is there anything else that we need to do?&lt;/p&gt;</comment>
                            <comment id="14290711" author="arafalov" created="Sat, 24 Jan 2015 17:03:56 +0000"  >&lt;p&gt;I don&apos;t think so. If all the tests pass, I think it should be ok. Just documentation and consistency. Which is what the JIRA was about all along.&lt;/p&gt;</comment>
                            <comment id="14332929" author="anshumg" created="Mon, 23 Feb 2015 05:02:39 +0000"  >&lt;p&gt;Bulk close after 5.0 release.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12691499" name="SOLR-6938.patch" size="2189" author="noble.paul" created="Sat, 10 Jan 2015 11:40:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 39 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i243zb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>