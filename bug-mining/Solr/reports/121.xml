<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:06:31 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-609] SpellCheckComponent doesn&apos;t read default options from solrconfig.xml</title>
                <link>https://issues.apache.org/jira/browse/SOLR-609</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;solrconfig.xml contains :&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;...&amp;#93;&lt;/span&gt;&lt;br/&gt;
&amp;lt;searchComponent name=&quot;ArtistSpellCheck&quot;&lt;br/&gt;
		class=&quot;org.apache.solr.handler.component.SpellCheckComponent&quot;&amp;gt;&lt;br/&gt;
		&amp;lt;lst name=&quot;defaults&quot;&amp;gt;&lt;br/&gt;
			&amp;lt;!-- omp = Only More Popular --&amp;gt;&lt;br/&gt;
			&amp;lt;str name=&quot;spellcheck.onlyMorePopular&quot;&amp;gt;false&amp;lt;/str&amp;gt;&lt;br/&gt;
			&amp;lt;!-- exr = Extended Results --&amp;gt;&lt;br/&gt;
			&amp;lt;str name=&quot;spellcheck.extendedResults&quot;&amp;gt;true&amp;lt;/str&amp;gt;&lt;br/&gt;
			&amp;lt;!--  The number of suggestions to return --&amp;gt;&lt;br/&gt;
			&amp;lt;str name=&quot;spellcheck.count&quot;&amp;gt;1&amp;lt;/str&amp;gt;&lt;br/&gt;
			&amp;lt;!--  collate ther results for providing an easier &apos;correctly spelt query&apos; --&amp;gt;&lt;br/&gt;
			&amp;lt;str name=&quot;spellcheck.collate&quot;&amp;gt;true&amp;lt;/str&amp;gt;&lt;br/&gt;
		&amp;lt;/lst&amp;gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;... all default options after this&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;confirmed options .count , collate , extendedResults set in solrconfig.xml take no effect on the query . They work as intended if added to the URL.&lt;/p&gt;</description>
                <environment>&lt;p&gt;confirmed on FreeBSD7-stable , nightly 1.3 build (2008-06-25) , jdk1.6.&lt;/p&gt;

&lt;p&gt;I am using the spellchecker called as last-components from my dismax handler.&lt;/p&gt;</environment>
        <key id="12399135">SOLR-609</key>
            <summary>SpellCheckComponent doesn&apos;t read default options from solrconfig.xml</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gsingers">Grant Ingersoll</assignee>
                                    <reporter username="numard">Beto Meijome</reporter>
                        <labels>
                    </labels>
                <created>Fri, 27 Jun 2008 02:53:26 +0000</created>
                <updated>Fri, 25 Jul 2008 11:48:56 +0000</updated>
                            <resolved>Fri, 25 Jul 2008 11:48:56 +0000</resolved>
                                    <version>1.3</version>
                                                    <component>spellchecker</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12608667" author="shalinmangar" created="Fri, 27 Jun 2008 06:16:16 +0000"  >&lt;p&gt;Constructs a defaults SolrParams in the init method which is used for getting default value specified in solrconfig.xml for onlyMorePopular, count, collate and extendedResults parameters.&lt;/p&gt;</comment>
                            <comment id="12608756" author="gsingers" created="Fri, 27 Jun 2008 12:43:16 +0000"  >&lt;p&gt;Committed revision 672257.&lt;/p&gt;

&lt;p&gt;I guess I assumed Solr&apos;s RequestHandler default init magic worked for components too, but now looking at them more deeply, I see most don&apos;t have defaults.&lt;/p&gt;</comment>
                            <comment id="12608760" author="shalinmangar" created="Fri, 27 Jun 2008 12:53:59 +0000"  >&lt;p&gt;Actually, now that I think about it, another way would have been to add these default params to the request handler which is using SpellCheckComponent.&lt;/p&gt;</comment>
                            <comment id="12609143" author="numard" created="Mon, 30 Jun 2008 00:45:48 +0000"  >&lt;p&gt;&lt;cite&gt;Actually, now that I think about it, another way would have been to add these default params to the request handler which is using SpellCheckComponent.&lt;/cite&gt;&lt;/p&gt;

&lt;p&gt;True - it would help if one wanted to run the same spellchecker with different defaults and different query handlers , ie, different defaults for spellchecker if using qt=standard vs qt=dismax. &lt;/p&gt;

&lt;p&gt;In your implementation, we&apos;d have to have a different spellchecker component handler defined, which is fine in most cases, at least for me... Would it be a problem having different spellchecker handlers pointing to the same data directory  ? &lt;/p&gt;

&lt;p&gt;thanks!&lt;br/&gt;
B&lt;/p&gt;</comment>
                            <comment id="12609148" author="numard" created="Mon, 30 Jun 2008 02:48:42 +0000"  >&lt;p&gt;Confirmed working ok.&lt;/p&gt;

&lt;p&gt;To make it clear, the &apos;spellcheck=true&apos; param to enable the spellchecker by default has to be added, in solrconfig.xml , to the query handler section, not the spell checker itself - i may update the wiki to reflect this.&lt;/p&gt;</comment>
                            <comment id="12609300" author="gsingers" created="Mon, 30 Jun 2008 17:38:32 +0000"  >&lt;blockquote&gt;
&lt;p&gt;Actually, now that I think about it, another way would have been to add these default params to the request handler which is using SpellCheckComponent.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yeah, this probably makes sense.  We could roll this one back.  I haven&apos;t tested it, but I&apos;m thinking it is just a documentation issue, then, right?  As the ReqHandler will take care of the default handling stuff.&lt;/p&gt;</comment>
                            <comment id="12609306" author="gsingers" created="Mon, 30 Jun 2008 17:48:00 +0000"  >&lt;p&gt;Reopen, change to not use defaults, but to setup defaults on the ReqHandler&lt;/p&gt;</comment>
                            <comment id="12609312" author="shalinmangar" created="Mon, 30 Jun 2008 17:59:44 +0000"  >&lt;blockquote&gt;&lt;p&gt;Yeah, this probably makes sense. We could roll this one back. I haven&apos;t tested it, but I&apos;m thinking it is just a documentation issue, then, right? As the ReqHandler will take care of the default handling stuff.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yes, I think we should do that. No need to rewrite the defaults/appends/invariants parameter handling in this component which is taken care of by request handlers.&lt;/p&gt;</comment>
                            <comment id="12609314" author="gsingers" created="Mon, 30 Jun 2008 18:04:38 +0000"  >&lt;p&gt;OK, I committed this, give it a try.&lt;/p&gt;</comment>
                            <comment id="12610634" author="ronbraun" created="Fri, 4 Jul 2008 18:02:09 +0000"  >&lt;p&gt;Is the accuracy (or sp.query.accuracy) parameter from SpellCheckerRequestHandler also supported by SpellCheckComponent (there is no documentation about it on the wiki)?  If so, presumably it is handled by this same mechanism, but thought I&apos;d throw it out there.&lt;/p&gt;</comment>
                            <comment id="12610638" author="shalinmangar" created="Fri, 4 Jul 2008 18:27:20 +0000"  >&lt;p&gt;The accuracy request parameter is not supported by this component. The request handler accepts the accuracy as a request parameter and calls Lucene SpellChecker.setAccuracy before getting the suggestion. However, this is neither thread-safe nor can we guarantee that the accuracy is actually enforced for the suggestion.&lt;/p&gt;

&lt;p&gt;However, you can set the accuracy as a configuration parameter just like you set the spellCheckIndexDir. I shall update the wiki documentation with this bit.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12384813" name="SOLR-609.patch" size="2702" author="shalin" created="Fri, 27 Jun 2008 06:16:16 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7001</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 21 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i03vrj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>20579</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>