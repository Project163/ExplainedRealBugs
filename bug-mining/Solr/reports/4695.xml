<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:48:00 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-15378] Reproducible failure in TestRestoreCore in branch_8x</title>
                <link>https://issues.apache.org/jira/browse/SOLR-15378</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;Was trying to do a test run before other work and hit this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
 [junit4] FAILURE 3.67s | TestRestoreCore.testFailedRestore &amp;lt;&amp;lt;&amp;lt;
   [junit4]    &amp;gt; Throwable #1: java.lang.AssertionError: Backup failure: em expected &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, but was:&amp;lt;codec footer mismatch (file truncated?): actual footer=808464432 vs expected footer=-1071082520 (resource=BufferedChecksumIndexInput(MockIndexInputWrapper(RAMInputStream(name=_0.si))))&amp;gt;
   [junit4]    &amp;gt;        at __randomizedtesting.SeedInfo.seed([4B0403CEAA9348CC:C6722B0AAB1382DC]:0)
   [junit4]    &amp;gt;        at org.apache.solr.handler.BackupStatusChecker._checkBackupSuccess(BackupStatusChecker.java:208)
   [junit4]    &amp;gt;        at org.apache.solr.handler.BackupStatusChecker.checkBackupSuccess(BackupStatusChecker.java:187)
   [junit4]    &amp;gt;        at org.apache.solr.handler.BackupStatusChecker.waitForBackupSuccess(BackupStatusChecker.java:96)
   [junit4]    &amp;gt;        at org.apache.solr.handler.BackupStatusChecker.waitForBackupSuccess(BackupStatusChecker.java:72)
   [junit4]    &amp;gt;        at org.apache.solr.handler.TestRestoreCore.testFailedRestore(TestRestoreCore.java:208)
   [junit4]    &amp;gt;        at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:748)
   [junit4]   2&amp;gt; NOTE: leaving temporary files on disk at: /home/gus/projects/apache/lucene-solr/fork/lucene-solr8/solr/build/solr-core/test/J0/temp/solr.handler.TestRestoreCore_4B0403CEAA9348CC-001
   [junit4]   2&amp;gt; NOTE: test params are: codec=SimpleText, sim=Asserting(RandomSimilarity(queryNorm=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;): {}), locale=es-UY, timezone=America/Scoresbysund
   [junit4]   2&amp;gt; NOTE: Linux 4.15.0-142-&lt;span class=&quot;code-keyword&quot;&gt;generic&lt;/span&gt; amd64/Azul Systems, Inc. 1.8.0_252 (64-bit)/cpus=32,threads=1,free=233305064,total=382730240
   [junit4]   2&amp;gt; NOTE: All tests run in &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; JVM: [TestRestoreCore]
   [junit4] Completed [1/1 (1!)] in 5.06s, 1 test, 1 failure &amp;lt;&amp;lt;&amp;lt; FAILURES!
   [junit4] 
   [junit4] 
   [junit4] Tests with failures [seed: 4B0403CEAA9348CC]:
   [junit4]   - org.apache.solr.handler.TestRestoreCore.testFailedRestore
   [junit4] 
   [junit4] 
   [junit4] JVM J0:     0.31 ..     6.00 =     5.69s
   [junit4] Execution time total: 6.01 sec.
   [junit4] Tests summary: 1 suite, 1 test, 1 failureBUILD FAILED
/home/gus/projects/apache/lucene-solr/fork/lucene-solr8/build.xml:58: The following error occurred &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; executing &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; line:
/home/gus/projects/apache/lucene-solr/fork/lucene-solr8/solr/build.xml:231: The following error occurred &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; executing &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; line:
/home/gus/projects/apache/lucene-solr/fork/lucene-solr8/solr/common-build.xml:550: The following error occurred &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; executing &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; line:
/home/gus/projects/apache/lucene-solr/fork/lucene-solr8/lucene/common-build.xml:1608: The following error occurred &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; executing &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; line:
/home/gus/projects/apache/lucene-solr/fork/lucene-solr8/lucene/common-build.xml:1135: There were test failures: 1 suite, 1 test, 1 failure [seed: 4B0403CEAA9348CC]

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;That reproduces 3/3 times I ran it with this command in lucene-solr branch_8x&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
ant test -Dtestcase=TestRestoreCore -Dtests.method=testFailedRestore -Dtests.seed=4B0403CEAA9348CC -Dtests.slow=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; -Dtests.badapples=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; -Dtests.locale=es-UY -Dtests.timezone=America/Scoresbysund -Dtests.asserts=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; -Dtests.file.encoding=US-ASCII&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>&lt;p&gt;branch_8x Ubuntu 18.04&lt;/p&gt;</environment>
        <key id="13375614">SOLR-15378</key>
            <summary>Reproducible failure in TestRestoreCore in branch_8x</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gerlowskija">Jason Gerlowski</assignee>
                                    <reporter username="gus">Gus Heck</reporter>
                        <labels>
                            <label>newdev</label>
                    </labels>
                <created>Wed, 28 Apr 2021 14:36:34 +0000</created>
                <updated>Tue, 28 Sep 2021 20:23:07 +0000</updated>
                            <resolved>Thu, 17 Jun 2021 11:17:59 +0000</resolved>
                                    <version>8.9</version>
                                    <fixVersion>9.0</fixVersion>
                    <fixVersion>8.10</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="600">10m</timespent>
                                <comments>
                            <comment id="17361926" author="gerlowskija" created="Fri, 11 Jun 2021 17:57:29 +0000"  >&lt;p&gt;I&apos;ve seen this before actually!  In short: backup/restore doesn&apos;t support SimpleTextCodec.&lt;/p&gt;

&lt;p&gt;The restore code checks for a footer in all index files that it restores, to make sure no corruption occurs while moving the files back and forth.  SimpleTextCodec, unlike almost all other Codecs, doesn&apos;t include this footer in its files and so attempts to backup or restore a SimpleTextCodec index will fail.&lt;/p&gt;

&lt;p&gt;The &quot;fix&quot; for this should be to add a &lt;tt&gt;@SuppressCodec&lt;/tt&gt; annotation to the test, to ensure it&apos;s never used with SimpleTextCodec.  I added this annotation to a number of other backup/restore related tests recently, but must have missed this one?&lt;/p&gt;</comment>
                            <comment id="17362863" author="bszabo97" created="Mon, 14 Jun 2021 10:30:56 +0000"  >&lt;p&gt;I have opened a PR for this which adds the mentioned annotation to &lt;tt&gt;TestRestoreCore&lt;/tt&gt; class. &lt;/p&gt;

&lt;p&gt;I have copied and pasted the &quot;todo list&quot; required for a solr/main PR, but not all list items could be applied - I filled it accordingly.&lt;/p&gt;</comment>
                            <comment id="17362986" author="gerlowskija" created="Mon, 14 Jun 2021 14:15:06 +0000"  >&lt;p&gt;Awesome, thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bszabo97&quot; class=&quot;user-hover&quot; rel=&quot;bszabo97&quot;&gt;bszabo97&lt;/a&gt;!&lt;/p&gt;

&lt;p&gt;I wouldn&apos;t worry too much about the TODO list in the PR template - it&apos;s good to keep in the PR description just as a way for people to see at a glance what&apos;s been done, but it&apos;s not a hard-and-fast thing.&#160; As you said, not every bugfix requires docs, etc.&lt;/p&gt;

&lt;p&gt;Will try to take a look at what you&apos;ve got this evening!&lt;/p&gt;</comment>
                            <comment id="17364630" author="jira-bot" created="Thu, 17 Jun 2021 01:49:49 +0000"  >&lt;p&gt;Commit 388db3c89d0dfd29f5aabd439b7b42dcc3909627 in lucene-solr&apos;s branch refs/heads/branch_8x from bszabo97&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=388db3c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=388db3c&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-15378&quot; title=&quot;Reproducible failure in TestRestoreCore in branch_8x&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-15378&quot;&gt;&lt;del&gt;SOLR-15378&lt;/del&gt;&lt;/a&gt; Suppress SimpleText codec in TestRestoreCore (#2513)&lt;/p&gt;

&lt;p&gt;Co-authored-by: bszabo2 &amp;lt;bszabo2@cloudera.com&amp;gt;&lt;/p&gt;</comment>
                            <comment id="17364879" author="jira-bot" created="Thu, 17 Jun 2021 11:16:07 +0000"  >&lt;p&gt;Commit b0b4d1b13450db39945dc85720c5c9437c632989 in solr&apos;s branch refs/heads/main from Jason Gerlowski&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=b0b4d1b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=b0b4d1b&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-15378&quot; title=&quot;Reproducible failure in TestRestoreCore in branch_8x&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-15378&quot;&gt;&lt;del&gt;SOLR-15378&lt;/del&gt;&lt;/a&gt;: Suppress SimpleText codec in TestRestoreCore&lt;/p&gt;

&lt;p&gt;Co-authored-by: bszabo2 &amp;lt;bszabo2@cloudera.com&amp;gt;&lt;/p&gt;</comment>
                            <comment id="17364880" author="gerlowskija" created="Thu, 17 Jun 2021 11:17:59 +0000"  >&lt;p&gt;Thanks for the contribution &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bszabo97&quot; class=&quot;user-hover&quot; rel=&quot;bszabo97&quot;&gt;bszabo97&lt;/a&gt;!  I merged this for 8.10 and 9.0.&lt;/p&gt;</comment>
                            <comment id="17421747" author="thelabdude" created="Tue, 28 Sep 2021 20:23:07 +0000"  >&lt;p&gt;Closing after the 8.10.0 release&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 7 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0qjq8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>