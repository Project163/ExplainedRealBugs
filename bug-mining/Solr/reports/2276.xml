<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:01:16 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-6931] We should do a limited retry when using HttpClient.</title>
                <link>https://issues.apache.org/jira/browse/SOLR-6931</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;This is likely the issue you are looking for if you are looking to solve random SocketException &quot;connection reset&quot; issues.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12765808">SOLR-6931</key>
            <summary>We should do a limited retry when using HttpClient.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="markrmiller@gmail.com">Mark Miller</assignee>
                                    <reporter username="markrmiller@gmail.com">Mark Miller</reporter>
                        <labels>
                    </labels>
                <created>Thu, 8 Jan 2015 17:36:50 +0000</created>
                <updated>Thu, 6 Apr 2017 18:24:46 +0000</updated>
                            <resolved>Thu, 15 Jan 2015 16:19:52 +0000</resolved>
                                                    <fixVersion>4.10.4</fixVersion>
                    <fixVersion>5.0</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14269729" author="markrmiller@gmail.com" created="Thu, 8 Jan 2015 17:41:52 +0000"  >&lt;p&gt;See &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-4509&quot; title=&quot;Move to non deprecated HttpClient impl classes to remove stale connection check on every request and move connection lifecycle management towards the client.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-4509&quot;&gt;&lt;del&gt;SOLR-4509&lt;/del&gt;&lt;/a&gt;. HttpClient uses a stale connection check to avoid using a bad pooled connection. This check has a race, and we can use a bad connection sometimes. In most of these cases, it is actually safe for us to retry. We can&apos;t use the default retry handler because it attempts to detect idempotent updates and Solr allows update type requests via GET requests. If we turn off the idempotent detection, the retry is safe and we can avoid some very problematic problems like &apos;connection reset&apos; exceptions. On a heavy working SolrCloud cluster, even a rare response like this from a replica can cause a recovery and heavy cluster disruption.&lt;/p&gt;</comment>
                            <comment id="14271790" author="markrmiller@gmail.com" created="Fri, 9 Jan 2015 20:01:24 +0000"  >&lt;p&gt;I&apos;ll commit this one soon so it is in for 5.0.&lt;/p&gt;</comment>
                            <comment id="14272645" author="markrmiller@gmail.com" created="Sat, 10 Jan 2015 18:44:21 +0000"  >&lt;p&gt;Improved patch. By default, search side requests will continue to avoid a retry by default. With replicas, you might prefer another is tried instead. You can configure retries on the search side though.&lt;/p&gt;</comment>
                            <comment id="14277411" author="jira-bot" created="Wed, 14 Jan 2015 18:38:22 +0000"  >&lt;p&gt;Commit 1651767 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1651767&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1651767&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6931&quot; title=&quot;We should do a limited retry when using HttpClient.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6931&quot;&gt;&lt;del&gt;SOLR-6931&lt;/del&gt;&lt;/a&gt;: We should do a limited retry when using HttpClient.&lt;/p&gt;</comment>
                            <comment id="14277422" author="jira-bot" created="Wed, 14 Jan 2015 18:43:31 +0000"  >&lt;p&gt;Commit 1651770 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/branches/branch_5x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1651770&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1651770&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6931&quot; title=&quot;We should do a limited retry when using HttpClient.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6931&quot;&gt;&lt;del&gt;SOLR-6931&lt;/del&gt;&lt;/a&gt;: We should do a limited retry when using HttpClient.&lt;/p&gt;</comment>
                            <comment id="14277462" author="jira-bot" created="Wed, 14 Jan 2015 19:05:10 +0000"  >&lt;p&gt;Commit 1651775 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/branches/lucene_solr_5_0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1651775&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1651775&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6931&quot; title=&quot;We should do a limited retry when using HttpClient.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6931&quot;&gt;&lt;del&gt;SOLR-6931&lt;/del&gt;&lt;/a&gt;: We should do a limited retry when using HttpClient.&lt;/p&gt;</comment>
                            <comment id="14279206" author="lmartin" created="Thu, 15 Jan 2015 19:52:26 +0000"  >&lt;p&gt;Is it possible to apply this to the 4.10.x branch?  This would help us out with &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6983&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SOLR-6983&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14280245" author="jira-bot" created="Fri, 16 Jan 2015 13:58:39 +0000"  >&lt;p&gt;Commit 1652408 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/branches/lucene_solr_4_10&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1652408&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1652408&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6931&quot; title=&quot;We should do a limited retry when using HttpClient.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6931&quot;&gt;&lt;del&gt;SOLR-6931&lt;/del&gt;&lt;/a&gt;: We should do a limited retry when using HttpClient.&lt;/p&gt;</comment>
                            <comment id="14332842" author="anshumg" created="Mon, 23 Feb 2015 05:02:13 +0000"  >&lt;p&gt;Bulk close after 5.0 release.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12767566">SOLR-6983</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12628472">SOLR-4328</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12681631">SOLR-5509</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12634451">SOLR-4509</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13062201">SOLR-10441</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12692288" name="SOLR-6931.patch" size="7888" author="markrmiller@gmail.com" created="Wed, 14 Jan 2015 18:31:38 +0000"/>
                            <attachment id="12691512" name="SOLR-6931.patch" size="7410" author="markrmiller@gmail.com" created="Sat, 10 Jan 2015 18:44:21 +0000"/>
                            <attachment id="12690891" name="SOLR-6931.patch" size="4190" author="markrmiller@gmail.com" created="Thu, 8 Jan 2015 17:38:16 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 39 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2434n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>