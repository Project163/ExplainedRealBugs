<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:45:27 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-14752] Zookeeper status fails on zk 3.6.1 with prometheus enabled</title>
                <link>https://issues.apache.org/jira/browse/SOLR-14752</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;We specifically waited for &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-14463&quot; title=&quot;solr admin ui: zkstatus: For input string: &amp;quot;null&amp;quot; with zk 3.6.x&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-14463&quot;&gt;&lt;del&gt;SOLR-14463&lt;/del&gt;&lt;/a&gt; to be released so it works fine with zookeeper 3.6, but unfortunately we still have problems. The reason could to be that in&#160;&lt;a href=&quot;https://github.com/apache/lucene-solr/blob/releases/lucene-solr/8.6.0/solr/core/src/java/org/apache/solr/handler/admin/ZookeeperStatusHandler.java#L152&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ZookeeperStatusHandler.java&lt;/a&gt; it explicitly expects integers to parse. But it seems that if you enable the &lt;a href=&quot;https://zookeeper.apache.org/doc/r3.6.1/zookeeperMonitor.html#Prometheus&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;new prometheus metrics&lt;/a&gt; in zookeeper all the values are posted as floats instead and that makes your check fail.&lt;/p&gt;

&lt;p&gt;This is our output of &apos;echo mntr | nc zookeeper 2181&apos;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
zk_version	3.6.1--104dcb3e3fb464b30c5186d229e00af9f332524b, built on 04/21/2020 15:01 GMT
zk_server_state	follower
zk_peer_state	following - broadcast
zk_open_file_descriptor_count	69.0
zk_prep_processor_queue_time_ms{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.5&quot;&lt;/span&gt;}	NaN
zk_prep_processor_queue_time_ms{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.9&quot;&lt;/span&gt;}	NaN
zk_prep_processor_queue_time_ms{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.99&quot;&lt;/span&gt;}	NaN
zk_prep_processor_queue_time_ms_count	0.0
zk_prep_processor_queue_time_ms_sum	0.0
zk_jvm_memory_pool_allocated_bytes_total{pool=&lt;span class=&quot;code-quote&quot;&gt;&quot;CodeHeap &lt;span class=&quot;code-quote&quot;&gt;&apos;profiled nmethods&apos;&lt;/span&gt;&quot;&lt;/span&gt;}	5386112.0
zk_jvm_memory_pool_allocated_bytes_total{pool=&lt;span class=&quot;code-quote&quot;&gt;&quot;G1 Old Gen&quot;&lt;/span&gt;}	5381768.0
zk_jvm_memory_pool_allocated_bytes_total{pool=&lt;span class=&quot;code-quote&quot;&gt;&quot;G1 Eden Space&quot;&lt;/span&gt;}	9.437184E7
zk_jvm_memory_pool_allocated_bytes_total{pool=&lt;span class=&quot;code-quote&quot;&gt;&quot;CodeHeap &lt;span class=&quot;code-quote&quot;&gt;&apos;non-profiled nmethods&apos;&lt;/span&gt;&quot;&lt;/span&gt;}	1023616.0
zk_jvm_memory_pool_allocated_bytes_total{pool=&lt;span class=&quot;code-quote&quot;&gt;&quot;G1 Survivor Space&quot;&lt;/span&gt;}	7340032.0
zk_jvm_memory_pool_allocated_bytes_total{pool=&lt;span class=&quot;code-quote&quot;&gt;&quot;Compressed &lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt; Space&quot;&lt;/span&gt;}	2739816.0
zk_jvm_memory_pool_allocated_bytes_total{pool=&lt;span class=&quot;code-quote&quot;&gt;&quot;Metaspace&quot;&lt;/span&gt;}	2.6625024E7
zk_jvm_memory_pool_allocated_bytes_total{pool=&lt;span class=&quot;code-quote&quot;&gt;&quot;CodeHeap &lt;span class=&quot;code-quote&quot;&gt;&apos;non-nmethods&apos;&lt;/span&gt;&quot;&lt;/span&gt;}	1187456.0
zk_fsynctime{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.5&quot;&lt;/span&gt;}	NaN
zk_fsynctime_count	380.0
zk_fsynctime_sum	48.0
zk_reads_issued_from_session_queue{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.5&quot;&lt;/span&gt;}	NaN
zk_reads_issued_from_session_queue_count	386.0
zk_reads_issued_from_session_queue_sum	4.0
zk_packets_received	2893.0
zk_commit_commit_proc_req_queued{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.5&quot;&lt;/span&gt;}	0.0
zk_commit_commit_proc_req_queued_count	3275.0
zk_commit_commit_proc_req_queued_sum	389.0
zk_avg_latency	0.1878
zk_dead_watchers_queued	0.0
zk_tls_handshake_exceeded	0.0
zk_last_client_response_size	16.0
zk_jvm_memory_bytes_used{area=&lt;span class=&quot;code-quote&quot;&gt;&quot;heap&quot;&lt;/span&gt;}	4.1033352E7
zk_jvm_memory_bytes_used{area=&lt;span class=&quot;code-quote&quot;&gt;&quot;nonheap&quot;&lt;/span&gt;}	3.9164144E7
zk_jvm_memory_bytes_committed{area=&lt;span class=&quot;code-quote&quot;&gt;&quot;heap&quot;&lt;/span&gt;}	1.073741824E9
zk_jvm_memory_bytes_committed{area=&lt;span class=&quot;code-quote&quot;&gt;&quot;nonheap&quot;&lt;/span&gt;}	4.3106304E7
zk_jvm_memory_bytes_max{area=&lt;span class=&quot;code-quote&quot;&gt;&quot;heap&quot;&lt;/span&gt;}	1.073741824E9
zk_jvm_memory_bytes_max{area=&lt;span class=&quot;code-quote&quot;&gt;&quot;nonheap&quot;&lt;/span&gt;}	-1.0
zk_jvm_memory_bytes_init{area=&lt;span class=&quot;code-quote&quot;&gt;&quot;heap&quot;&lt;/span&gt;}	1.073741824E9
zk_jvm_memory_bytes_init{area=&lt;span class=&quot;code-quote&quot;&gt;&quot;nonheap&quot;&lt;/span&gt;}	7667712.0
zk_jvm_memory_pool_bytes_used{pool=&lt;span class=&quot;code-quote&quot;&gt;&quot;CodeHeap &lt;span class=&quot;code-quote&quot;&gt;&apos;non-nmethods&apos;&lt;/span&gt;&quot;&lt;/span&gt;}	1187456.0
zk_jvm_memory_pool_bytes_used{pool=&lt;span class=&quot;code-quote&quot;&gt;&quot;Metaspace&quot;&lt;/span&gt;}	2.7396232E7
zk_jvm_memory_pool_bytes_used{pool=&lt;span class=&quot;code-quote&quot;&gt;&quot;CodeHeap &lt;span class=&quot;code-quote&quot;&gt;&apos;profiled nmethods&apos;&lt;/span&gt;&quot;&lt;/span&gt;}	6577408.0
zk_jvm_memory_pool_bytes_used{pool=&lt;span class=&quot;code-quote&quot;&gt;&quot;Compressed &lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt; Space&quot;&lt;/span&gt;}	2739816.0
zk_jvm_memory_pool_bytes_used{pool=&lt;span class=&quot;code-quote&quot;&gt;&quot;G1 Eden Space&quot;&lt;/span&gt;}	3.145728E7
zk_jvm_memory_pool_bytes_used{pool=&lt;span class=&quot;code-quote&quot;&gt;&quot;G1 Old Gen&quot;&lt;/span&gt;}	5381768.0
zk_jvm_memory_pool_bytes_used{pool=&lt;span class=&quot;code-quote&quot;&gt;&quot;G1 Survivor Space&quot;&lt;/span&gt;}	4194304.0
zk_jvm_memory_pool_bytes_used{pool=&lt;span class=&quot;code-quote&quot;&gt;&quot;CodeHeap &lt;span class=&quot;code-quote&quot;&gt;&apos;non-profiled nmethods&apos;&lt;/span&gt;&quot;&lt;/span&gt;}	1263232.0
zk_jvm_memory_pool_bytes_committed{pool=&lt;span class=&quot;code-quote&quot;&gt;&quot;CodeHeap &lt;span class=&quot;code-quote&quot;&gt;&apos;non-nmethods&apos;&lt;/span&gt;&quot;&lt;/span&gt;}	2555904.0
zk_jvm_memory_pool_bytes_committed{pool=&lt;span class=&quot;code-quote&quot;&gt;&quot;Metaspace&quot;&lt;/span&gt;}	2.8360704E7
zk_jvm_memory_pool_bytes_committed{pool=&lt;span class=&quot;code-quote&quot;&gt;&quot;CodeHeap &lt;span class=&quot;code-quote&quot;&gt;&apos;profiled nmethods&apos;&lt;/span&gt;&quot;&lt;/span&gt;}	6619136.0
zk_jvm_memory_pool_bytes_committed{pool=&lt;span class=&quot;code-quote&quot;&gt;&quot;Compressed &lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt; Space&quot;&lt;/span&gt;}	3014656.0
zk_jvm_memory_pool_bytes_committed{pool=&lt;span class=&quot;code-quote&quot;&gt;&quot;G1 Eden Space&quot;&lt;/span&gt;}	5.24288E7
zk_jvm_memory_pool_bytes_committed{pool=&lt;span class=&quot;code-quote&quot;&gt;&quot;G1 Old Gen&quot;&lt;/span&gt;}	1.01711872E9
zk_jvm_memory_pool_bytes_committed{pool=&lt;span class=&quot;code-quote&quot;&gt;&quot;G1 Survivor Space&quot;&lt;/span&gt;}	4194304.0
zk_jvm_memory_pool_bytes_committed{pool=&lt;span class=&quot;code-quote&quot;&gt;&quot;CodeHeap &lt;span class=&quot;code-quote&quot;&gt;&apos;non-profiled nmethods&apos;&lt;/span&gt;&quot;&lt;/span&gt;}	2555904.0
zk_jvm_memory_pool_bytes_max{pool=&lt;span class=&quot;code-quote&quot;&gt;&quot;CodeHeap &lt;span class=&quot;code-quote&quot;&gt;&apos;non-nmethods&apos;&lt;/span&gt;&quot;&lt;/span&gt;}	5828608.0
zk_jvm_memory_pool_bytes_max{pool=&lt;span class=&quot;code-quote&quot;&gt;&quot;Metaspace&quot;&lt;/span&gt;}	-1.0
zk_jvm_memory_pool_bytes_max{pool=&lt;span class=&quot;code-quote&quot;&gt;&quot;CodeHeap &lt;span class=&quot;code-quote&quot;&gt;&apos;profiled nmethods&apos;&lt;/span&gt;&quot;&lt;/span&gt;}	1.22912768E8
zk_jvm_memory_pool_bytes_max{pool=&lt;span class=&quot;code-quote&quot;&gt;&quot;Compressed &lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt; Space&quot;&lt;/span&gt;}	1.073741824E9
zk_jvm_memory_pool_bytes_max{pool=&lt;span class=&quot;code-quote&quot;&gt;&quot;G1 Eden Space&quot;&lt;/span&gt;}	-1.0
zk_jvm_memory_pool_bytes_max{pool=&lt;span class=&quot;code-quote&quot;&gt;&quot;G1 Old Gen&quot;&lt;/span&gt;}	1.073741824E9
zk_jvm_memory_pool_bytes_max{pool=&lt;span class=&quot;code-quote&quot;&gt;&quot;G1 Survivor Space&quot;&lt;/span&gt;}	-1.0
zk_jvm_memory_pool_bytes_max{pool=&lt;span class=&quot;code-quote&quot;&gt;&quot;CodeHeap &lt;span class=&quot;code-quote&quot;&gt;&apos;non-profiled nmethods&apos;&lt;/span&gt;&quot;&lt;/span&gt;}	1.22916864E8
zk_jvm_memory_pool_bytes_init{pool=&lt;span class=&quot;code-quote&quot;&gt;&quot;CodeHeap &lt;span class=&quot;code-quote&quot;&gt;&apos;non-nmethods&apos;&lt;/span&gt;&quot;&lt;/span&gt;}	2555904.0
zk_jvm_memory_pool_bytes_init{pool=&lt;span class=&quot;code-quote&quot;&gt;&quot;Metaspace&quot;&lt;/span&gt;}	0.0
zk_jvm_memory_pool_bytes_init{pool=&lt;span class=&quot;code-quote&quot;&gt;&quot;CodeHeap &lt;span class=&quot;code-quote&quot;&gt;&apos;profiled nmethods&apos;&lt;/span&gt;&quot;&lt;/span&gt;}	2555904.0
zk_jvm_memory_pool_bytes_init{pool=&lt;span class=&quot;code-quote&quot;&gt;&quot;Compressed &lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt; Space&quot;&lt;/span&gt;}	0.0
zk_jvm_memory_pool_bytes_init{pool=&lt;span class=&quot;code-quote&quot;&gt;&quot;G1 Eden Space&quot;&lt;/span&gt;}	5.6623104E7
zk_jvm_memory_pool_bytes_init{pool=&lt;span class=&quot;code-quote&quot;&gt;&quot;G1 Old Gen&quot;&lt;/span&gt;}	1.01711872E9
zk_jvm_memory_pool_bytes_init{pool=&lt;span class=&quot;code-quote&quot;&gt;&quot;G1 Survivor Space&quot;&lt;/span&gt;}	0.0
zk_jvm_memory_pool_bytes_init{pool=&lt;span class=&quot;code-quote&quot;&gt;&quot;CodeHeap &lt;span class=&quot;code-quote&quot;&gt;&apos;non-profiled nmethods&apos;&lt;/span&gt;&quot;&lt;/span&gt;}	2555904.0
zk_approximate_data_size	221301.0
zk_max_client_response_size	54601.0
zk_outstanding_changes_queued	0.0
zk_session_queues_drained{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.5&quot;&lt;/span&gt;}	NaN
zk_session_queues_drained_count	386.0
zk_session_queues_drained_sum	53.0
zk_time_waiting_empty_pool_in_commit_processor_read_ms{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.5&quot;&lt;/span&gt;}	NaN
zk_time_waiting_empty_pool_in_commit_processor_read_ms_count	386.0
zk_time_waiting_empty_pool_in_commit_processor_read_ms_sum	1.0
zk_election_time{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.5&quot;&lt;/span&gt;}	NaN
zk_election_time_count	2.0
zk_election_time_sum	236.0
zk_commit_count	0.0
zk_write_commit_proc_issued{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.5&quot;&lt;/span&gt;}	NaN
zk_write_commit_proc_issued_count	386.0
zk_write_commit_proc_issued_sum	386.0
zk_commit_propagation_latency{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.5&quot;&lt;/span&gt;}	NaN
zk_commit_propagation_latency{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.9&quot;&lt;/span&gt;}	NaN
zk_commit_propagation_latency{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.99&quot;&lt;/span&gt;}	NaN
zk_commit_propagation_latency_count	383.0
zk_commit_propagation_latency_sum	2595.0
zk_read_per_namespace{key=&lt;span class=&quot;code-quote&quot;&gt;&quot;solrcloud7&quot;&lt;/span&gt;,quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.5&quot;&lt;/span&gt;}	202.0
zk_read_per_namespace_count{key=&lt;span class=&quot;code-quote&quot;&gt;&quot;solrcloud7&quot;&lt;/span&gt;}	549.0
zk_read_per_namespace_sum{key=&lt;span class=&quot;code-quote&quot;&gt;&quot;solrcloud7&quot;&lt;/span&gt;}	731718.0
zk_snapshottime{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.5&quot;&lt;/span&gt;}	NaN
zk_snapshottime_count	2.0
zk_snapshottime_sum	4.0
zk_ensemble_auth_success	0.0
zk_reads_after_write_in_session_queue{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.5&quot;&lt;/span&gt;}	NaN
zk_reads_after_write_in_session_queue_count	53.0
zk_reads_after_write_in_session_queue_sum	4.0
zk_min_latency	0.0
zk_sync_processor_queue_size{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.5&quot;&lt;/span&gt;}	NaN
zk_sync_processor_queue_size_count	384.0
zk_sync_processor_queue_size_sum	3.0
zk_write_per_namespace{key=&lt;span class=&quot;code-quote&quot;&gt;&quot;zookeeper&quot;&lt;/span&gt;,quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.5&quot;&lt;/span&gt;}	NaN
zk_write_per_namespace_count{key=&lt;span class=&quot;code-quote&quot;&gt;&quot;zookeeper&quot;&lt;/span&gt;}	3.0
zk_write_per_namespace_sum{key=&lt;span class=&quot;code-quote&quot;&gt;&quot;zookeeper&quot;&lt;/span&gt;}	906.0
zk_write_per_namespace{key=&lt;span class=&quot;code-quote&quot;&gt;&quot;solrcloud7&quot;&lt;/span&gt;,quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.5&quot;&lt;/span&gt;}	NaN
zk_write_per_namespace_count{key=&lt;span class=&quot;code-quote&quot;&gt;&quot;solrcloud7&quot;&lt;/span&gt;}	250.0
zk_write_per_namespace_sum{key=&lt;span class=&quot;code-quote&quot;&gt;&quot;solrcloud7&quot;&lt;/span&gt;}	268323.0
zk_concurrent_request_processing_in_commit_processor{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.5&quot;&lt;/span&gt;}	NaN
zk_concurrent_request_processing_in_commit_processor_count	3.0
zk_concurrent_request_processing_in_commit_processor_sum	3.0
zk_learner_proposal_received_count	383.0
zk_packets_sent	2922.0
zk_jvm_info{version=&lt;span class=&quot;code-quote&quot;&gt;&quot;11.0.8+10-LTS&quot;&lt;/span&gt;,vendor=&lt;span class=&quot;code-quote&quot;&gt;&quot;Azul Systems, Inc.&quot;&lt;/span&gt;,runtime=&lt;span class=&quot;code-quote&quot;&gt;&quot;OpenJDK &lt;span class=&quot;code-object&quot;&gt;Runtime&lt;/span&gt; Environment&quot;&lt;/span&gt;}	1.0
zk_jvm_classes_loaded	3788.0
zk_jvm_classes_loaded_total	3788.0
zk_jvm_classes_unloaded_total	0.0
zk_outstanding_requests	0.0
zk_startup_txns_load_time{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.5&quot;&lt;/span&gt;}	NaN
zk_startup_txns_load_time_count	0.0
zk_startup_txns_load_time_sum	0.0
zk_snap_count	0.0
zk_pending_session_queue_size{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.5&quot;&lt;/span&gt;}	NaN
zk_pending_session_queue_size_count	53.0
zk_pending_session_queue_size_sum	53.0
zk_read_commitproc_time_ms{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.5&quot;&lt;/span&gt;}	0.0
zk_read_commitproc_time_ms{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.9&quot;&lt;/span&gt;}	0.0
zk_read_commitproc_time_ms{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.99&quot;&lt;/span&gt;}	1.0
zk_read_commitproc_time_ms_count	2838.0
zk_read_commitproc_time_ms_sum	198.0
zk_stale_requests_dropped	0.0
zk_om_proposal_process_time_ms{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.5&quot;&lt;/span&gt;}	NaN
zk_om_proposal_process_time_ms{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.9&quot;&lt;/span&gt;}	NaN
zk_om_proposal_process_time_ms{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.99&quot;&lt;/span&gt;}	NaN
zk_om_proposal_process_time_ms_count	0.0
zk_om_proposal_process_time_ms_sum	0.0
zk_jvm_threads_current	47.0
zk_jvm_threads_daemon	20.0
zk_jvm_threads_peak	47.0
zk_jvm_threads_started_total	52.0
zk_jvm_threads_deadlocked	0.0
zk_jvm_threads_deadlocked_monitor	0.0
zk_jvm_threads_state{state=&lt;span class=&quot;code-quote&quot;&gt;&quot;RUNNABLE&quot;&lt;/span&gt;}	13.0
zk_jvm_threads_state{state=&lt;span class=&quot;code-quote&quot;&gt;&quot;WAITING&quot;&lt;/span&gt;}	13.0
zk_jvm_threads_state{state=&lt;span class=&quot;code-quote&quot;&gt;&quot;TERMINATED&quot;&lt;/span&gt;}	0.0
zk_jvm_threads_state{state=&lt;span class=&quot;code-quote&quot;&gt;&quot;BLOCKED&quot;&lt;/span&gt;}	0.0
zk_jvm_threads_state{state=&lt;span class=&quot;code-quote&quot;&gt;&quot;TIMED_WAITING&quot;&lt;/span&gt;}	21.0
zk_jvm_threads_state{state=&lt;span class=&quot;code-quote&quot;&gt;&quot;NEW&quot;&lt;/span&gt;}	0.0
zk_sync_processor_queue_time_ms{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.5&quot;&lt;/span&gt;}	NaN
zk_sync_processor_queue_time_ms{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.9&quot;&lt;/span&gt;}	NaN
zk_sync_processor_queue_time_ms{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.99&quot;&lt;/span&gt;}	NaN
zk_sync_processor_queue_time_ms_count	383.0
zk_sync_processor_queue_time_ms_sum	14.0
zk_revalidate_count	0.0
zk_add_dead_watcher_stall_time	0.0
zk_sync_processor_queue_and_flush_time_ms{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.5&quot;&lt;/span&gt;}	NaN
zk_sync_processor_queue_and_flush_time_ms{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.9&quot;&lt;/span&gt;}	NaN
zk_sync_processor_queue_and_flush_time_ms{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.99&quot;&lt;/span&gt;}	NaN
zk_sync_processor_queue_and_flush_time_ms_count	383.0
zk_sync_processor_queue_and_flush_time_ms_sum	307.0
zk_response_packet_get_children_cache_hits	0.0
zk_large_requests_rejected	0.0
zk_sync_process_time{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.5&quot;&lt;/span&gt;}	NaN
zk_sync_process_time_count	383.0
zk_sync_process_time_sum	23.0
zk_min_client_response_size	16.0
zk_jvm_buffer_pool_used_bytes{pool=&lt;span class=&quot;code-quote&quot;&gt;&quot;mapped&quot;&lt;/span&gt;}	0.0
zk_jvm_buffer_pool_used_bytes{pool=&lt;span class=&quot;code-quote&quot;&gt;&quot;direct&quot;&lt;/span&gt;}	346079.0
zk_jvm_buffer_pool_capacity_bytes{pool=&lt;span class=&quot;code-quote&quot;&gt;&quot;mapped&quot;&lt;/span&gt;}	0.0
zk_jvm_buffer_pool_capacity_bytes{pool=&lt;span class=&quot;code-quote&quot;&gt;&quot;direct&quot;&lt;/span&gt;}	346079.0
zk_jvm_buffer_pool_used_buffers{pool=&lt;span class=&quot;code-quote&quot;&gt;&quot;mapped&quot;&lt;/span&gt;}	0.0
zk_jvm_buffer_pool_used_buffers{pool=&lt;span class=&quot;code-quote&quot;&gt;&quot;direct&quot;&lt;/span&gt;}	16.0
zk_quit_leading_due_to_disloyal_voter	0.0
zk_stale_replies	0.0
zk_connection_rejected	0.0
zk_num_alive_connections	4.0
zk_request_throttle_wait_count	0.0
zk_watch_count	21.0
zk_local_sessions	0.0
zk_learner_commit_received_count	383.0
zk_server_write_committed_time_ms{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.5&quot;&lt;/span&gt;}	NaN
zk_server_write_committed_time_ms{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.9&quot;&lt;/span&gt;}	NaN
zk_server_write_committed_time_ms{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.99&quot;&lt;/span&gt;}	NaN
zk_server_write_committed_time_ms_count	333.0
zk_server_write_committed_time_ms_sum	17.0
zk_ensemble_auth_fail	0.0
zk_write_final_proc_time_ms{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.5&quot;&lt;/span&gt;}	NaN
zk_write_final_proc_time_ms{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.9&quot;&lt;/span&gt;}	NaN
zk_write_final_proc_time_ms{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.99&quot;&lt;/span&gt;}	NaN
zk_write_final_proc_time_ms_count	386.0
zk_write_final_proc_time_ms_sum	58.0
zk_requests_in_session_queue{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.5&quot;&lt;/span&gt;}	NaN
zk_requests_in_session_queue_count	110.0
zk_requests_in_session_queue_sum	118.0
zk_process_cpu_seconds_total	8.9
zk_process_start_time_seconds	1.597391274244E9
zk_process_open_fds	69.0
zk_process_max_fds	1048576.0
zk_process_virtual_memory_bytes	6.740078592E9
zk_process_resident_memory_bytes	1.8704384E8
zk_response_packet_cache_hits	248.0
zk_response_packet_cache_misses	70.0
zk_ensemble_auth_skip	0.0
zk_node_created_watch_count{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.5&quot;&lt;/span&gt;}	NaN
zk_node_created_watch_count_count	0.0
zk_node_created_watch_count_sum	0.0
zk_response_packet_get_children_cache_misses	0.0
zk_diff_count	0.0
zk_sync_processor_request_queued	383.0
zk_dbinittime{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.5&quot;&lt;/span&gt;}	NaN
zk_dbinittime_count	1.0
zk_dbinittime_sum	6.0
zk_dead_watchers_cleaner_latency{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.5&quot;&lt;/span&gt;}	NaN
zk_dead_watchers_cleaner_latency{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.9&quot;&lt;/span&gt;}	NaN
zk_dead_watchers_cleaner_latency{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.99&quot;&lt;/span&gt;}	NaN
zk_dead_watchers_cleaner_latency_count	0.0
zk_dead_watchers_cleaner_latency_sum	0.0
zk_commit_process_time{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.5&quot;&lt;/span&gt;}	0.0
zk_commit_process_time_count	3275.0
zk_commit_process_time_sum	126.0
zk_quorum_size	3.0
zk_node_deleted_watch_count{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.5&quot;&lt;/span&gt;}	NaN
zk_node_deleted_watch_count_count	0.0
zk_node_deleted_watch_count_sum	0.0
zk_connection_request_count	12.0
zk_node_changed_watch_count{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.5&quot;&lt;/span&gt;}	NaN
zk_node_changed_watch_count_count	10.0
zk_node_changed_watch_count_sum	10.0
zk_readlatency{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.5&quot;&lt;/span&gt;}	0.0
zk_readlatency{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.9&quot;&lt;/span&gt;}	1.0
zk_readlatency{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.99&quot;&lt;/span&gt;}	1.0
zk_readlatency_count	2841.0
zk_readlatency_sum	408.0
zk_dead_watchers_cleared	0.0
zk_outstanding_tls_handshake	0.0
zk_read_commit_proc_issued{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.5&quot;&lt;/span&gt;}	1.0
zk_read_commit_proc_issued_count	3275.0
zk_read_commit_proc_issued_sum	2834.0
zk_write_commitproc_time_ms{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.5&quot;&lt;/span&gt;}	NaN
zk_write_commitproc_time_ms{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.9&quot;&lt;/span&gt;}	NaN
zk_write_commitproc_time_ms{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.99&quot;&lt;/span&gt;}	NaN
zk_write_commitproc_time_ms_count	53.0
zk_write_commitproc_time_ms_sum	121.0
zk_znode_count	126.0
zk_synced_observers	0.0
zk_request_commit_queued	386.0
zk_looking_count	2.0
zk_sessionless_connections_expired	0.0
zk_read_final_proc_time_ms{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.5&quot;&lt;/span&gt;}	0.0
zk_read_final_proc_time_ms{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.9&quot;&lt;/span&gt;}	0.0
zk_read_final_proc_time_ms{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.99&quot;&lt;/span&gt;}	1.0
zk_read_final_proc_time_ms_count	2838.0
zk_read_final_proc_time_ms_sum	122.0
zk_unrecoverable_error_count	0.0
zk_proposal_ack_creation_latency{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.5&quot;&lt;/span&gt;}	NaN
zk_proposal_ack_creation_latency{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.9&quot;&lt;/span&gt;}	NaN
zk_proposal_ack_creation_latency{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.99&quot;&lt;/span&gt;}	NaN
zk_proposal_ack_creation_latency_count	383.0
zk_proposal_ack_creation_latency_sum	2387.0
zk_ephemerals_count	21.0
zk_local_write_committed_time_ms{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.5&quot;&lt;/span&gt;}	NaN
zk_local_write_committed_time_ms{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.9&quot;&lt;/span&gt;}	NaN
zk_local_write_committed_time_ms{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.99&quot;&lt;/span&gt;}	NaN
zk_local_write_committed_time_ms_count	53.0
zk_local_write_committed_time_ms_sum	6.0
zk_digest_mismatches_count	0.0
zk_connection_revalidate_count	0.0
zk_jvm_gc_collection_seconds_count{gc=&lt;span class=&quot;code-quote&quot;&gt;&quot;G1 Young Generation&quot;&lt;/span&gt;}	2.0
zk_jvm_gc_collection_seconds_sum{gc=&lt;span class=&quot;code-quote&quot;&gt;&quot;G1 Young Generation&quot;&lt;/span&gt;}	0.022
zk_jvm_gc_collection_seconds_count{gc=&lt;span class=&quot;code-quote&quot;&gt;&quot;G1 Old Generation&quot;&lt;/span&gt;}	0.0
zk_jvm_gc_collection_seconds_sum{gc=&lt;span class=&quot;code-quote&quot;&gt;&quot;G1 Old Generation&quot;&lt;/span&gt;}	0.0
zk_om_commit_process_time_ms{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.5&quot;&lt;/span&gt;}	NaN
zk_om_commit_process_time_ms{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.9&quot;&lt;/span&gt;}	NaN
zk_om_commit_process_time_ms{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.99&quot;&lt;/span&gt;}	NaN
zk_om_commit_process_time_ms_count	0.0
zk_om_commit_process_time_ms_sum	0.0
zk_max_file_descriptor_count	1048576.0
zk_close_session_prep_time{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.5&quot;&lt;/span&gt;}	NaN
zk_close_session_prep_time{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.9&quot;&lt;/span&gt;}	NaN
zk_close_session_prep_time{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.99&quot;&lt;/span&gt;}	NaN
zk_close_session_prep_time_count	0.0
zk_close_session_prep_time_sum	0.0
zk_quorum_ack_latency{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.5&quot;&lt;/span&gt;}	NaN
zk_quorum_ack_latency{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.9&quot;&lt;/span&gt;}	NaN
zk_quorum_ack_latency{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.99&quot;&lt;/span&gt;}	NaN
zk_quorum_ack_latency_count	0.0
zk_quorum_ack_latency_sum	0.0
zk_netty_queued_buffer_capacity{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.5&quot;&lt;/span&gt;}	NaN
zk_netty_queued_buffer_capacity_count	0.0
zk_netty_queued_buffer_capacity_sum	0.0
zk_max_latency	10.0
zk_prep_processor_queue_size{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.5&quot;&lt;/span&gt;}	NaN
zk_prep_processor_queue_size_count	0.0
zk_prep_processor_queue_size_sum	0.0
zk_prep_process_time{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.5&quot;&lt;/span&gt;}	NaN
zk_prep_process_time_count	0.0
zk_prep_process_time_sum	0.0
zk_connection_token_deficit{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.5&quot;&lt;/span&gt;}	NaN
zk_connection_token_deficit_count	12.0
zk_connection_token_deficit_sum	0.0
zk_uptime	3259902.0
zk_proposal_count	0.0
zk_updatelatency{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.5&quot;&lt;/span&gt;}	NaN
zk_updatelatency{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.9&quot;&lt;/span&gt;}	NaN
zk_updatelatency{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.99&quot;&lt;/span&gt;}	NaN
zk_updatelatency_count	50.0
zk_updatelatency_sum	135.0
zk_proposal_latency{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.5&quot;&lt;/span&gt;}	NaN
zk_proposal_latency{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.9&quot;&lt;/span&gt;}	NaN
zk_proposal_latency{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.99&quot;&lt;/span&gt;}	NaN
zk_proposal_latency_count	383.0
zk_proposal_latency_sum	2083.0
zk_prep_processor_request_queued	0.0
zk_global_sessions	9.0
zk_startup_snap_load_time{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.5&quot;&lt;/span&gt;}	NaN
zk_startup_snap_load_time_count	1.0
zk_startup_snap_load_time_sum	0.0
zk_write_batch_time_in_commit_processor{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.5&quot;&lt;/span&gt;}	NaN
zk_write_batch_time_in_commit_processor_count	386.0
zk_write_batch_time_in_commit_processor_sum	67.0
zk_outstanding_changes_removed	0.0
zk_follower_sync_time{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.5&quot;&lt;/span&gt;}	NaN
zk_follower_sync_time_count	1.0
zk_follower_sync_time_sum	34.0
zk_read_commit_proc_req_queued{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.5&quot;&lt;/span&gt;}	1.0
zk_read_commit_proc_req_queued_count	3275.0
zk_read_commit_proc_req_queued_sum	2845.0
zk_sync_processor_batch_size{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.5&quot;&lt;/span&gt;}	NaN
zk_sync_processor_batch_size_count	380.0
zk_sync_processor_batch_size_sum	383.0
zk_connection_drop_probability	0.0
zk_propagation_latency{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.5&quot;&lt;/span&gt;}	NaN
zk_propagation_latency{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.9&quot;&lt;/span&gt;}	NaN
zk_propagation_latency{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.99&quot;&lt;/span&gt;}	NaN
zk_propagation_latency_count	383.0
zk_propagation_latency_sum	2656.0
zk_sync_processor_queue_flush_time_ms{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.5&quot;&lt;/span&gt;}	NaN
zk_sync_processor_queue_flush_time_ms{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.9&quot;&lt;/span&gt;}	NaN
zk_sync_processor_queue_flush_time_ms{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.99&quot;&lt;/span&gt;}	NaN
zk_sync_processor_queue_flush_time_ms_count	380.0
zk_sync_processor_queue_flush_time_ms_sum	261.0
zk_stale_sessions_expired	0.0
zk_startup_txns_loaded{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.5&quot;&lt;/span&gt;}	NaN
zk_startup_txns_loaded_count	0.0
zk_startup_txns_loaded_sum	0.0
zk_bytes_received_count	65360.0
zk_connection_drop_count	0.0
zk_write_commit_proc_req_queued{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.5&quot;&lt;/span&gt;}	0.0
zk_write_commit_proc_req_queued_count	3275.0
zk_write_commit_proc_req_queued_sum	119.0
zk_stale_requests	0.0
zk_node_children_watch_count{quantile=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.5&quot;&lt;/span&gt;}	NaN
zk_node_children_watch_count_count	8.0
zk_node_children_watch_count_sum	19.0
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;And this is the stack trace when I try to look at the zookeeper status in the admin UI&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
java.lang.NumberFormatException: For input string: &lt;span class=&quot;code-quote&quot;&gt;&quot;2.0&quot;&lt;/span&gt;
	at java.base/java.lang.NumberFormatException.forInputString(Unknown Source)
	at java.base/java.lang.&lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;.parseInt(Unknown Source)
	at java.base/java.lang.&lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;.parseInt(Unknown Source)
	at org.apache.solr.handler.admin.ZookeeperStatusHandler.getZkStatus(ZookeeperStatusHandler.java:153)
	at org.apache.solr.handler.admin.ZookeeperStatusHandler.handleRequestBody(ZookeeperStatusHandler.java:84)
	at org.apache.solr.handler.RequestHandlerBase.handleRequest(RequestHandlerBase.java:214)
	at org.apache.solr.servlet.HttpSolrCall.handleAdmin(HttpSolrCall.java:854)
	at org.apache.solr.servlet.HttpSolrCall.handleAdminRequest(HttpSolrCall.java:818)
	at org.apache.solr.servlet.HttpSolrCall.call(HttpSolrCall.java:566)
	at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:415)
	at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:345)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1596)
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:545)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:590)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)
	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:235)
	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1610)
	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1300)
	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:485)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1580)
	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1215)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
	at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:221)
	at org.eclipse.jetty.server.handler.InetAccessHandler.handle(InetAccessHandler.java:177)
	at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:146)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)
	at org.eclipse.jetty.rewrite.handler.RewriteHandler.handle(RewriteHandler.java:322)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)
	at org.eclipse.jetty.server.Server.handle(Server.java:500)
	at org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:383)
	at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:547)
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:375)
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:273)
	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)
	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:103)
	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:117)
	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:336)
	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:313)
	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:171)
	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:129)
	at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:375)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:806)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:938)
	at java.base/java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(Unknown Source)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13322712">SOLR-14752</key>
            <summary>Zookeeper status fails on zk 3.6.1 with prometheus enabled</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="janhoy">Jan H&#248;ydahl</assignee>
                                    <reporter username="der_eismann">Philipp Trulson</reporter>
                        <labels>
                    </labels>
                <created>Fri, 14 Aug 2020 08:57:35 +0000</created>
                <updated>Wed, 4 Nov 2020 15:21:53 +0000</updated>
                            <resolved>Wed, 26 Aug 2020 09:45:58 +0000</resolved>
                                    <version>8.6</version>
                                    <fixVersion>8.7</fixVersion>
                                    <component>Admin UI</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>6</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="4200">1h 10m</timespent>
                                <comments>
                            <comment id="17177665" author="janhoy" created="Fri, 14 Aug 2020 09:54:38 +0000"  >&lt;p&gt;Have not tested the monitoring things yet. Is it only the mntr endpoint that changes when prometheus is enabled? Have you found documentation in ZK project that the MNTR output format changes in this way, or could it be a bug?&lt;/p&gt;

&lt;p&gt;Anyway, it should be possible to do replace all the parseInt() calls with a custom method that is more tolerant and also can handle floats. Would you like to attempt a PR?&lt;/p&gt;</comment>
                            <comment id="17177721" author="der_eismann" created="Fri, 14 Aug 2020 11:49:16 +0000"  >&lt;p&gt;I can try, but I haven&apos;t developed in Java yet, so I&apos;m not sure it will be good enough for such a project.&lt;/p&gt;

&lt;p&gt;Also I wasn&apos;t able to find something regarding this in the&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-3091&quot; title=&quot;Prometheus.io integration&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-3091&quot;&gt;&lt;del&gt;ZOOKEEPER-3091&lt;/del&gt;&lt;/a&gt; or&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-3092&quot; title=&quot;Pluggable metrics system for ZooKeeper&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-3092&quot;&gt;&lt;del&gt;ZOOKEEPER-3092&lt;/del&gt;&lt;/a&gt; issues, so it might be a bug. But since prometheus only consumes floats I suppose this is wanted behavior.&lt;/p&gt;</comment>
                            <comment id="17178777" author="janhoy" created="Mon, 17 Aug 2020 07:00:26 +0000"  >&lt;p&gt;I chatted with ZK project on Slack and they are unsure whether it is a bug, since they did not expect that anyone would 4LW MNTR when Prometheus is enabled. So they asked us to open a Jira to discuss further. Will you open such a ticket and link it to this one? At the same time I think we should fix Solr&apos;s MNTR parsing to accept also float formatting.&lt;/p&gt;</comment>
                            <comment id="17178894" author="der_eismann" created="Mon, 17 Aug 2020 10:17:37 +0000"  >&lt;p&gt;I just created&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-3912&quot; title=&quot;4LW MNTR command outputs in float when prometheus activated&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-3912&quot;&gt;ZOOKEEPER-3912&lt;/a&gt;, thanks for chatting with them. Not sure if mentioning is enough &lt;em&gt;linking&lt;/em&gt;.&lt;/p&gt;</comment>
                            <comment id="17181111" author="janhoy" created="Thu, 20 Aug 2020 11:20:13 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=der_eismann&quot; class=&quot;user-hover&quot; rel=&quot;der_eismann&quot;&gt;der_eismann&lt;/a&gt;&#160;let us know if you plan to attempt a patch or not. Don&apos;t worry if it is not 100%, we can review the Pull Request and help you complete it.&lt;/p&gt;</comment>
                            <comment id="17181113" author="der_eismann" created="Thu, 20 Aug 2020 11:22:23 +0000"  >&lt;p&gt;Yes, I&apos;ll give it a try &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=janhoy&quot; class=&quot;user-hover&quot; rel=&quot;janhoy&quot;&gt;janhoy&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17183824" author="janhoy" created="Tue, 25 Aug 2020 07:44:34 +0000"  >&lt;p&gt;There&apos;ll be a 8.6.2 end of this week, perhaps we could piggy-back?&lt;/p&gt;</comment>
                            <comment id="17183956" author="erickerickson" created="Tue, 25 Aug 2020 11:43:37 +0000"  >&lt;p&gt;Actually, people are talking about cutting the RC more quickly, ping Ignacio Vera and Simon Willnauer.&lt;/p&gt;

&lt;p&gt;It really doesn&apos;t sound like this Jira will move fast enough to make it into 8.6.2 though, especially if it takes some time to verify.&lt;/p&gt;</comment>
                            <comment id="17183984" author="der_eismann" created="Tue, 25 Aug 2020 12:28:27 +0000"  >&lt;p&gt;Sorry for the delay guys. I just finished my PR with an added test. It would be awesome if we could squeeze it in the 8.6.2 release.&lt;/p&gt;</comment>
                            <comment id="17185006" author="janhoy" created="Wed, 26 Aug 2020 07:58:56 +0000"  >&lt;p&gt;I cleaned up the test in &lt;a href=&quot;https://github.com/apache/lucene-solr/pull/1786&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/lucene-solr/pull/1786&lt;/a&gt;&#160;- will commit to branch_8x&lt;/p&gt;</comment>
                            <comment id="17185020" author="jira-bot" created="Wed, 26 Aug 2020 08:24:18 +0000"  >&lt;p&gt;Commit f4c4fbcafc5943fac6e1553bf469a3336e563b85 in lucene-solr&apos;s branch refs/heads/master from Philipp Trulson&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=f4c4fbc&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=f4c4fbc&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-14752&quot; title=&quot;Zookeeper status fails on zk 3.6.1 with prometheus enabled&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-14752&quot;&gt;&lt;del&gt;SOLR-14752&lt;/del&gt;&lt;/a&gt;: Fix error in Zookeeper status when Prometheus plugin is enabled in ZK&lt;/p&gt;

&lt;p&gt;Signed-off-by: Jan H&#248;ydahl &amp;lt;janhoy@apache.org&amp;gt;&lt;/p&gt;</comment>
                            <comment id="17185022" author="jira-bot" created="Wed, 26 Aug 2020 08:29:09 +0000"  >&lt;p&gt;Commit c6f47e5a97013f70b76921b260091470983c013e in lucene-solr&apos;s branch refs/heads/branch_8x from Philipp Trulson&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=c6f47e5&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=c6f47e5&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-14752&quot; title=&quot;Zookeeper status fails on zk 3.6.1 with prometheus enabled&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-14752&quot;&gt;&lt;del&gt;SOLR-14752&lt;/del&gt;&lt;/a&gt;: Fix error in Zookeeper status when Prometheus plugin is enabled in ZK&lt;/p&gt;

&lt;p&gt;Signed-off-by: Jan H&#248;ydahl &amp;lt;janhoy@apache.org&amp;gt;&lt;br/&gt;
(cherry picked from commit f4c4fbcafc5943fac6e1553bf469a3336e563b85)&lt;/p&gt;</comment>
                            <comment id="17185039" author="der_eismann" created="Wed, 26 Aug 2020 08:58:36 +0000"  >&lt;p&gt;Thanks for helping and cleaning up, I wasn&apos;t sure what&apos;s needed and what&apos;s not.&#160;&lt;/p&gt;</comment>
                            <comment id="17185067" author="janhoy" created="Wed, 26 Aug 2020 09:45:58 +0000"  >&lt;p&gt;Resolving for 8.7. Let&apos;s re-open if there will be a backport to 8.6.x&lt;/p&gt;</comment>
                            <comment id="17226140" author="atri" created="Wed, 4 Nov 2020 15:21:53 +0000"  >&lt;p&gt;Closing after the 8.7.0 release&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13323021">ZOOKEEPER-3912</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 1 week, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0hrso:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>