<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:12:36 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-8837] Duplicate leader elector node detection is broken</title>
                <link>https://issues.apache.org/jira/browse/SOLR-8837</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;LeaderElector.checkIfIAmLeader checks to see if it has duplicate registrations in under its election node, but it does this by prefix checking, which means that if core_node1 registers itself after core_node11, it will think it&apos;s a duplicate, and delete the core_node11 node.&lt;/p&gt;

&lt;p&gt;This is causing regular failures in UnloadDistributedZkTest.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12949697">SOLR-8837</key>
            <summary>Duplicate leader elector node detection is broken</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="romseygeek">Alan Woodward</assignee>
                                    <reporter username="romseygeek">Alan Woodward</reporter>
                        <labels>
                    </labels>
                <created>Sun, 13 Mar 2016 11:41:28 +0000</created>
                <updated>Fri, 17 Jun 2016 13:11:09 +0000</updated>
                            <resolved>Thu, 21 Apr 2016 21:12:28 +0000</resolved>
                                    <version>6.0</version>
                                    <fixVersion>5.5.1</fixVersion>
                    <fixVersion>6.0</fixVersion>
                    <fixVersion>6.1</fixVersion>
                    <fixVersion>7.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="15192317" author="romseygeek" created="Sun, 13 Mar 2016 11:47:28 +0000"  >&lt;p&gt;We can fix this by fixing the duplicate-detection logic, but I&apos;m not sure we shouldn&apos;t just remove this entirely.  I guess it could prevent an election delay in the case that a session gets interrupted and the ephemeral nodes from the previous session hang around up to the session timeout, but it seems just as likely to cause problems to me.&lt;/p&gt;</comment>
                            <comment id="15192434" author="dragonsinth" created="Sun, 13 Mar 2016 17:33:26 +0000"  >&lt;p&gt;Seems like a pretty simple fix for the exact case you mentioned.  But you&apos;re right about this being a weird edge case; I definitely don&apos;t fully understand why it&apos;s there.&lt;/p&gt;</comment>
                            <comment id="15204489" author="romseygeek" created="Mon, 21 Mar 2016 15:52:29 +0000"  >&lt;p&gt;Thanks Scott, I&apos;ll commit this fix.  Looks like the bug crept in with &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8697&quot; title=&quot;Fix LeaderElector issues&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-8697&quot;&gt;&lt;del&gt;SOLR-8697&lt;/del&gt;&lt;/a&gt;, so it hasn&apos;t actually been released.&lt;/p&gt;</comment>
                            <comment id="15204714" author="jira-bot" created="Mon, 21 Mar 2016 17:39:54 +0000"  >&lt;p&gt;Commit 04bd5860710ca5ab309d2e8b2e8fb36d3bf962bc in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=romseygeek&quot; class=&quot;user-hover&quot; rel=&quot;romseygeek&quot;&gt;romseygeek&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=04bd586&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=04bd586&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8837&quot; title=&quot;Duplicate leader elector node detection is broken&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-8837&quot;&gt;&lt;del&gt;SOLR-8837&lt;/del&gt;&lt;/a&gt;: Fix duplicate election node detection&lt;/p&gt;</comment>
                            <comment id="15204716" author="jira-bot" created="Mon, 21 Mar 2016 17:40:53 +0000"  >&lt;p&gt;Commit 451ff488afc4707cb8555c5629bcf0c9ebef210f in lucene-solr&apos;s branch refs/heads/branch_6x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=romseygeek&quot; class=&quot;user-hover&quot; rel=&quot;romseygeek&quot;&gt;romseygeek&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=451ff48&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=451ff48&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8837&quot; title=&quot;Duplicate leader elector node detection is broken&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-8837&quot;&gt;&lt;del&gt;SOLR-8837&lt;/del&gt;&lt;/a&gt;: Fix duplicate election node detection&lt;/p&gt;</comment>
                            <comment id="15204748" author="jira-bot" created="Mon, 21 Mar 2016 17:56:21 +0000"  >&lt;p&gt;Commit 9a4c1dd15c80ec3265b8be5dc716672ec9a9973d in lucene-solr&apos;s branch refs/heads/branch_6_0 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=romseygeek&quot; class=&quot;user-hover&quot; rel=&quot;romseygeek&quot;&gt;romseygeek&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=9a4c1dd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=9a4c1dd&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8837&quot; title=&quot;Duplicate leader elector node detection is broken&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-8837&quot;&gt;&lt;del&gt;SOLR-8837&lt;/del&gt;&lt;/a&gt;: Fix duplicate election node detection&lt;/p&gt;</comment>
                            <comment id="15252319" author="anshumg" created="Thu, 21 Apr 2016 17:49:02 +0000"  >&lt;p&gt;Reopening to back port for 5.5.1&lt;/p&gt;</comment>
                            <comment id="15252651" author="jira-bot" created="Thu, 21 Apr 2016 20:39:40 +0000"  >&lt;p&gt;Commit 0b7b28a04157f4a74020ea79a29ad74c280f137f in lucene-solr&apos;s branch refs/heads/branch_5x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=romseygeek&quot; class=&quot;user-hover&quot; rel=&quot;romseygeek&quot;&gt;romseygeek&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=0b7b28a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=0b7b28a&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8837&quot; title=&quot;Duplicate leader elector node detection is broken&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-8837&quot;&gt;&lt;del&gt;SOLR-8837&lt;/del&gt;&lt;/a&gt;: Fix duplicate election node detection&lt;/p&gt;</comment>
                            <comment id="15252753" author="jira-bot" created="Thu, 21 Apr 2016 21:11:46 +0000"  >&lt;p&gt;Commit 55ac1ab95819f307f8056f8ddffbdd349ea51247 in lucene-solr&apos;s branch refs/heads/branch_5_5 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=romseygeek&quot; class=&quot;user-hover&quot; rel=&quot;romseygeek&quot;&gt;romseygeek&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=55ac1ab&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=55ac1ab&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8837&quot; title=&quot;Duplicate leader elector node detection is broken&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-8837&quot;&gt;&lt;del&gt;SOLR-8837&lt;/del&gt;&lt;/a&gt;: Fix duplicate election node detection&lt;/p&gt;</comment>
                            <comment id="15279265" author="hossman" created="Tue, 10 May 2016 23:59:49 +0000"  >
&lt;p&gt;Manually correcting fixVersion per Step #S6 of &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-7271&quot; title=&quot;Cleanup jira&amp;#39;s concept of &amp;#39;master&amp;#39; and &amp;#39;6.0&amp;#39;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LUCENE-7271&quot;&gt;&lt;del&gt;LUCENE-7271&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12940265">SOLR-8697</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12793206" name="SOLR-8837.patch" size="756" author="dragonsinth" created="Sun, 13 Mar 2016 17:33:26 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 28 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ukiv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>