<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:55:28 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-6338] coreRootDirectory requires trailing slash, or SolrCloud cores are created in wrong location</title>
                <link>https://issues.apache.org/jira/browse/SOLR-6338</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;If the coreRootDirectory setting does not end with a filesystem path separator, cores are not created in the correct location.&lt;/p&gt;

&lt;p&gt;e.g.&lt;br/&gt;
coreRootDirectory=/usr/local/solr/cores&lt;/p&gt;

&lt;p&gt;For a collection xyz, API creates &apos;/usr/local/solr/coresxyz_shardN_replicaN&apos; config directory instead of &apos;/usr/local/solr/cores/xyz_shardN_replicaN&apos; &lt;/p&gt;

&lt;p&gt;Adding a trailing slash to coreRootDirectory is a viable workaround:&lt;/p&gt;

&lt;p&gt;coreRootDirectory=/usr/local/solr/cores/&lt;/p&gt;</description>
                <environment>&lt;p&gt;x86_64 Linux&lt;br/&gt;
x86_64 Sun Java 1.7.0_51&lt;/p&gt;</environment>
        <key id="12732632">SOLR-6338</key>
            <summary>coreRootDirectory requires trailing slash, or SolrCloud cores are created in wrong location</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="erickerickson">Erick Erickson</assignee>
                                    <reporter username="vkhatri">Virender Khatri</reporter>
                        <labels>
                            <label>collection-api</label>
                    </labels>
                <created>Thu, 7 Aug 2014 18:26:56 +0000</created>
                <updated>Mon, 9 May 2016 18:51:39 +0000</updated>
                            <resolved>Mon, 18 Aug 2014 20:07:38 +0000</resolved>
                                    <version>4.9</version>
                                    <fixVersion>4.10</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="14089894" author="erickerickson" created="Thu, 7 Aug 2014 21:44:50 +0000"  >&lt;p&gt;Ugggh. I really, really &lt;em&gt;hate&lt;/em&gt; those kinds of sensitivities. &lt;/p&gt;

&lt;p&gt;Nice catch!&lt;/p&gt;

&lt;p&gt;I&apos;ll assign it to myself, but feel free to take it if you want it I&apos;ve got about 11 other things on my plate.&lt;/p&gt;

&lt;p&gt;But I really don&apos;t want to lose track of it.&lt;/p&gt;</comment>
                            <comment id="14090195" author="elyograg" created="Fri, 8 Aug 2014 02:17:07 +0000"  >&lt;p&gt;I did look at the code and couldn&apos;t decipher it to figure out how to fix the issue.  I would have no problem taking the issue and working on it, if I had any idea what to do!&lt;/p&gt;</comment>
                            <comment id="14100453" author="primo&#382; skale" created="Mon, 18 Aug 2014 09:02:59 +0000"  >&lt;p&gt;I think that only one line of code needs to be changed, namely:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-style: solid;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;border-bottom-style: solid;&quot;&gt;&lt;b&gt;ConfigSolr.java&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;107  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; getCoreRootDirectory() {
108    get(CfgProp.SOLR_COREROOTDIRECTORY, config.getResourceLoader().getInstanceDir())
109  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;to&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-style: solid;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;border-bottom-style: solid;&quot;&gt;&lt;b&gt;ConfigSolr.java&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;107  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; getCoreRootDirectory() {
108    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; SolrResourceLoader.normalizeDir( get(CfgProp.SOLR_COREROOTDIRECTORY, config.getResourceLoader().getInstanceDir()) );
109  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;but the test &lt;tt&gt;TestSolrXml.java&lt;/tt&gt; fails in &lt;tt&gt;testPropertySub()&lt;/tt&gt; and &lt;tt&gt;testAllInfoPresent()&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;I have a hard time deciding if this is a problem of a test or of a code. If I hand-test it, it works (eg. it creates the core in correct location) if coreRootDirectory property has no trailing slash in solr.xml.&lt;/p&gt;</comment>
                            <comment id="14100747" author="erickerickson" created="Mon, 18 Aug 2014 15:39:49 +0000"  >&lt;p&gt;All of the test failures in TestSolrXml are some form like:&lt;br/&gt;
assertEquals(&quot;core root dir&quot;, &quot;testCoreRootDirectory&quot;, cfg.getCoreRootDirectory());&lt;/p&gt;

&lt;p&gt;And can be fixed by adding the trailing slash to the hard-coded string like this:&lt;br/&gt;
assertEquals(&quot;core root dir&quot;, &quot;testCoreRootDirectory/&quot;, cfg.getCoreRootDirectory());&lt;/p&gt;

&lt;p&gt;So the failures are consistent with the changes to the code, at least at a glance.&lt;br/&gt;
I suppose I have to make sure the trailing slash works on Windows for the&lt;br/&gt;
tests though.&lt;/p&gt;

&lt;p&gt;Now, I&apos;ve just glanced at the code change, and it seems fine to me. I don&apos;t think&lt;br/&gt;
there&apos;s any problem with changing the tests to have the trailing slash.&lt;/p&gt;

&lt;p&gt;So if anyone wants to weigh in with whether the change has any problems please do.&lt;br/&gt;
Otherwise it seems like we should commit it. I&apos;m running the full test suite&lt;br/&gt;
now and unless someone objects I&apos;ll commit this shortly.&lt;/p&gt;</comment>
                            <comment id="14101077" author="jira-bot" created="Mon, 18 Aug 2014 18:55:10 +0000"  >&lt;p&gt;Commit 1618705 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=erickoerickson&quot; class=&quot;user-hover&quot; rel=&quot;erickoerickson&quot;&gt;erickoerickson&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1618705&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1618705&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6338&quot; title=&quot;coreRootDirectory requires trailing slash, or SolrCloud cores are created in wrong location&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6338&quot;&gt;&lt;del&gt;SOLR-6338&lt;/del&gt;&lt;/a&gt;: coreRootDirectory requires trailing slash, or SolrCloud cores are created in wrong location. Thanks Primoz&lt;/p&gt;</comment>
                            <comment id="14101168" author="jira-bot" created="Mon, 18 Aug 2014 19:59:42 +0000"  >&lt;p&gt;Commit 1618717 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=erickoerickson&quot; class=&quot;user-hover&quot; rel=&quot;erickoerickson&quot;&gt;erickoerickson&lt;/a&gt; in branch &apos;dev/branches/branch_4x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1618717&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1618717&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6338&quot; title=&quot;coreRootDirectory requires trailing slash, or SolrCloud cores are created in wrong location&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6338&quot;&gt;&lt;del&gt;SOLR-6338&lt;/del&gt;&lt;/a&gt;: coreRootDirectory requires trailing slash, or SolrCloud cores are created in wrong location&lt;/p&gt;</comment>
                            <comment id="14101171" author="erickerickson" created="Mon, 18 Aug 2014 20:00:31 +0000"  >&lt;p&gt;Thanks Primo&#382;!&lt;/p&gt;</comment>
                            <comment id="14101188" author="erickerickson" created="Mon, 18 Aug 2014 20:06:38 +0000"  >&lt;p&gt;Forgot patch&lt;/p&gt;</comment>
                            <comment id="14101191" author="erickerickson" created="Mon, 18 Aug 2014 20:07:29 +0000"  >&lt;p&gt;Forgot to attach patch.... Sorry for the noise.&lt;/p&gt;</comment>
                            <comment id="14101192" author="erickerickson" created="Mon, 18 Aug 2014 20:07:39 +0000"  >&lt;p&gt;Attached patch&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12662553" name="SOLR-6338.patch" size="3187" author="erickerickson" created="Mon, 18 Aug 2014 20:07:29 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>410660</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 14 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1yniv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>410654</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>