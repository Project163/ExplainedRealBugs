<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:38:17 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-5094] TestJmxIntegration makes no sense</title>
                <link>https://issues.apache.org/jira/browse/SOLR-5094</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;for reasons i can&apos;t explain, TestJmxIntegration stoped working on my machine today, and when i started looking into it, i realized that there&apos;s no logical reason why it should be working on any machine at all.&lt;/p&gt;

&lt;p&gt;Back when this test was first written, it was setup to ensure that an MBean server was up and running prior to initializing the SolrCore, and then the configuration used by the test was designed to use JMX if and only if an existing MBean server was running.&lt;/p&gt;

&lt;p&gt;in &lt;a href=&quot;https://svn.apache.org/viewvc?view=revision&amp;amp;revision=1402613&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1402613&lt;/a&gt; this was (inadvertantly?) changed so that the SolrCore was initialized @BeforeClass, but there was no certainty that the Mbean server was started until later &amp;#8211; so the test fails in a variety of confusing ways because there is no JMX running at all.  The only reason it can succeed is if an MBean server already happens to be running.&lt;/p&gt;

&lt;p&gt;I&apos;ve got a patch that should fix this in general, or at least make it fail with a clear error if hte problem is that a JMX server isn&apos;t found on core init&lt;/p&gt;</description>
                <environment></environment>
        <key id="12660792">SOLR-5094</key>
            <summary>TestJmxIntegration makes no sense</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hossman">Chris M. Hostetter</assignee>
                                    <reporter username="hossman">Chris M. Hostetter</reporter>
                        <labels>
                    </labels>
                <created>Tue, 30 Jul 2013 21:33:51 +0000</created>
                <updated>Mon, 9 May 2016 18:44:09 +0000</updated>
                            <resolved>Tue, 30 Jul 2013 22:05:42 +0000</resolved>
                                                    <fixVersion>4.5</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13724465" author="hossman" created="Tue, 30 Jul 2013 21:36:49 +0000"  >&lt;p&gt;linking up a variety of related JMX/TestJmxIntegration  bugs i found while looking into this that i&apos;m going to investigate some more while my head is in this space&lt;/p&gt;</comment>
                            <comment id="13724466" author="hossman" created="Tue, 30 Jul 2013 21:37:42 +0000"  >&lt;p&gt;patch that should fix the problem with the test&lt;/p&gt;</comment>
                            <comment id="13724467" author="rcmuir" created="Tue, 30 Jul 2013 21:40:30 +0000"  >&lt;p&gt;I have experienced the same issue. &lt;/p&gt;

&lt;p&gt;I think your explanation might make some sense: somehow this test must rely upon the test order of previous tests? So someone makes a unrelated commit (e.g. that adds a new test) and based on the number of processors i have/the phase of the moon/whatever it causes it to start failing on my machine that day.&lt;/p&gt;
</comment>
                            <comment id="13724472" author="hossman" created="Tue, 30 Jul 2013 21:45:14 +0000"  >&lt;blockquote&gt;&lt;p&gt;somehow this test must rely upon the test order of previous tests?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;probably yeah ... if this is the first test running in the VM, it will likeley fail, but if another test runs first and causes an MBean server to be created then the tests works fine.&lt;/p&gt;

&lt;p&gt;and recently committed cahnges seem to have shifted the test ordering in the VM slightly?&lt;/p&gt;

&lt;p&gt;either way: this just started failing in jenkins as well, suggesting that it&apos;s not my imagination or something that changed on my machine &amp;#8211; something fundemental changed today on both trunk and 4x causing this to fail regardless of seed.&lt;/p&gt;</comment>
                            <comment id="13724485" author="rcmuir" created="Tue, 30 Jul 2013 21:58:12 +0000"  >&lt;p&gt;+1 to commit.&lt;/p&gt;

&lt;p&gt;today:&lt;br/&gt;
this test fails on clean checkout (with any jvm) if you run ant test -Dtestcase=TestJmxIntegration&lt;br/&gt;
the &quot;J9 assume/bug&quot; is not related to J9 at all. its the same bug here.&lt;/p&gt;

&lt;p&gt;with patch it all works (tested both oracle and J9, with assume removed)&lt;/p&gt;</comment>
                            <comment id="13724487" author="jira-bot" created="Tue, 30 Jul 2013 21:58:55 +0000"  >&lt;p&gt;Commit 1508661 from hossman@apache.org in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1508661&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1508661&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5094&quot; title=&quot;TestJmxIntegration makes no sense&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5094&quot;&gt;&lt;del&gt;SOLR-5094&lt;/del&gt;&lt;/a&gt;: Fix order of setup in TestJmxIntegration so MBean server is running before Solr init.  Also fixes &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-4418&quot; title=&quot;TestJmxIntegration fails with IBM J9 6.0 and 7.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-4418&quot;&gt;&lt;del&gt;SOLR-4418&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13724494" author="jira-bot" created="Tue, 30 Jul 2013 22:02:35 +0000"  >&lt;p&gt;Commit 1508662 from hossman@apache.org in branch &apos;dev/branches/branch_4x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1508662&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1508662&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5094&quot; title=&quot;TestJmxIntegration makes no sense&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5094&quot;&gt;&lt;del&gt;SOLR-5094&lt;/del&gt;&lt;/a&gt;: Fix order of setup in TestJmxIntegration so MBean server is running before Solr init.  Also fixes &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-4418&quot; title=&quot;TestJmxIntegration fails with IBM J9 6.0 and 7.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-4418&quot;&gt;&lt;del&gt;SOLR-4418&lt;/del&gt;&lt;/a&gt; (merge r1508661)&lt;/p&gt;</comment>
                            <comment id="13787065" author="jpountz" created="Sat, 5 Oct 2013 10:19:01 +0000"  >&lt;p&gt;4.5 release -&amp;gt; bulk close&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12519167">SOLR-2715</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12598347">SOLR-3615</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12598348">SOLR-3616</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12631465">SOLR-4418</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12595050" name="SOLR-5094.patch" size="4921" author="hossman" created="Tue, 30 Jul 2013 21:37:42 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>340981</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 7 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1mt53:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>341299</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>