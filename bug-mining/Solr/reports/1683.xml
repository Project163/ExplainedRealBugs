<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:44:12 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-5552] Leader recovery process can select the wrong leader if all replicas for a shard are down and trying to recover as well as lose updates that should have been recovered.</title>
                <link>https://issues.apache.org/jira/browse/SOLR-5552</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;One particular issue that leads to out-of-sync shards, related to &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-4260&quot; title=&quot;Inconsistent numDocs between leader and replica&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-4260&quot;&gt;&lt;del&gt;SOLR-4260&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Here&apos;s what I know so far, which admittedly isn&apos;t much:&lt;br/&gt;
As cloud85 (replica before it crashed) is initializing, it enters the wait process in ShardLeaderElectionContext#waitForReplicasToComeUp; this is expected and a good thing.&lt;br/&gt;
Some short amount of time in the future, cloud84 (leader before it crashed) begins initializing and gets to a point where it adds itself as a possible leader for the shard (by creating a znode under /collections/cloud/leaders_elect/shard1/election), which leads to cloud85 being able to return from waitForReplicasToComeUp and try to determine who should be the leader.&lt;br/&gt;
cloud85 then tries to run the SyncStrategy, which can never work because in this scenario the Jetty HTTP listener is not active yet on either node, so all replication work that uses HTTP requests fails on both nodes ... PeerSync treats these failures as indicators that the other replicas in the shard are unavailable (or whatever) and assumes success. Here&apos;s the log message:&lt;br/&gt;
2013-12-11 11:43:25,936 &lt;span class=&quot;error&quot;&gt;&amp;#91;coreLoadExecutor-3-thread-1&amp;#93;&lt;/span&gt; WARN solr.update.PeerSync - PeerSync: core=cloud_shard1_replica1 url=&lt;a href=&quot;http://cloud85:8985/solr&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://cloud85:8985/solr&lt;/a&gt; couldn&apos;t connect to &lt;a href=&quot;http://cloud84:8984/solr/cloud_shard1_replica2/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://cloud84:8984/solr/cloud_shard1_replica2/&lt;/a&gt;, counting as success&lt;br/&gt;
The Jetty HTTP listener doesn&apos;t start accepting connections until long after this process has completed and already selected the wrong leader.&lt;br/&gt;
From what I can see, we seem to have a leader recovery process that is based partly on HTTP requests to the other nodes, but the HTTP listener on those nodes isn&apos;t active yet. We need a leader recovery process that doesn&apos;t rely on HTTP requests. Perhaps, leader recovery for a shard w/o a current leader may need to work differently than leader election in a shard that has replicas that can respond to HTTP requests? All of what I&apos;m seeing makes perfect sense for leader election when there are active replicas and the current leader fails.&lt;br/&gt;
All this aside, I&apos;m not asserting that this is the only cause for the out-of-sync issues reported in this ticket, but it definitely seems like it could happen in a real cluster.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12684361">SOLR-5552</key>
            <summary>Leader recovery process can select the wrong leader if all replicas for a shard are down and trying to recover as well as lose updates that should have been recovered.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="markrmiller@gmail.com">Mark Miller</assignee>
                                    <reporter username="tim.potter">Timothy Potter</reporter>
                        <labels>
                            <label>leader</label>
                            <label>recovery</label>
                    </labels>
                <created>Thu, 12 Dec 2013 22:09:17 +0000</created>
                <updated>Mon, 9 May 2016 18:55:50 +0000</updated>
                            <resolved>Sun, 5 Jan 2014 20:59:51 +0000</resolved>
                                                    <fixVersion>4.6.1</fixVersion>
                    <fixVersion>4.7</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                    <component>SolrCloud</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>10</watches>
                                                                                                                <comments>
                            <comment id="13847614" author="tim.potter" created="Fri, 13 Dec 2013 16:20:36 +0000"  >&lt;p&gt;Here&apos;s a first cut at a solution sans unit tests, which relies on a new Slice property - last_known_leader_core_url. However I&apos;m open to other suggestions on how to solve this issue if someone sees a cleaner way.&lt;/p&gt;

&lt;p&gt;During the leader recovery process outlined in the description of this ticket, the ShardLeaderElectionContext can use this property as a hint to replicas to defer to the previous known leader if it is one of the replicas that is trying to recover. Specifically, this patch only applies if all replicas are &quot;down&quot; and the previous known leader is on a &quot;live&quot; node and is one of the replicas trying to recover. This may be too restrictive but it covers this issue nicely and minimizes chance of regression for other leader election / recovery cases.&lt;/p&gt;

&lt;p&gt;Here are some log messages from the replica as it exits the waitForReplicasToComeUp process that show this patch working:&lt;/p&gt;

&lt;p&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;2013-12-13 08:51:26,992 &lt;span class=&quot;error&quot;&gt;&amp;#91;coreLoadExecutor-3-thread-1&amp;#93;&lt;/span&gt; INFO  solr.cloud.ShardLeaderElectionContext  - Enough replicas found to continue.&lt;br/&gt;
2013-12-13 08:51:26,992 &lt;span class=&quot;error&quot;&gt;&amp;#91;coreLoadExecutor-3-thread-1&amp;#93;&lt;/span&gt; INFO  solr.cloud.ShardLeaderElectionContext  - Last known leader is &lt;a href=&quot;http://cloud84:8984/solr/cloud_shard1_replica1/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://cloud84:8984/solr/cloud_shard1_replica1/&lt;/a&gt; and I am &lt;a href=&quot;http://cloud85:8985/solr/cloud_shard1_replica2/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://cloud85:8985/solr/cloud_shard1_replica2/&lt;/a&gt;&lt;br/&gt;
2013-12-13 08:51:26,992 &lt;span class=&quot;error&quot;&gt;&amp;#91;coreLoadExecutor-3-thread-1&amp;#93;&lt;/span&gt; INFO  solr.cloud.ShardLeaderElectionContext  - Found previous? true and numDown is 2&lt;br/&gt;
2013-12-13 08:51:26,992 &lt;span class=&quot;error&quot;&gt;&amp;#91;coreLoadExecutor-3-thread-1&amp;#93;&lt;/span&gt; INFO  solr.cloud.ShardLeaderElectionContext  - All 2 replicas are down. Choosing to let last known leader &lt;a href=&quot;http://cloud84:8984/solr/cloud_shard1_replica1/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://cloud84:8984/solr/cloud_shard1_replica1/&lt;/a&gt; try first ...&lt;br/&gt;
2013-12-13 08:51:26,992 &lt;span class=&quot;error&quot;&gt;&amp;#91;coreLoadExecutor-3-thread-1&amp;#93;&lt;/span&gt; INFO  solr.cloud.ShardLeaderElectionContext  - There may be a better leader candidate than us - going back into recovery&lt;/p&gt;

&lt;p&gt;&amp;lt;&amp;lt;&amp;lt;&lt;br/&gt;
The end result was that my shard recovered correctly and the data remained consistent between leader and replica. I&apos;ve also tried this with 3 replicas in a Slice and when the last known leader doesn&apos;t come back, which works as it did previously.&lt;/p&gt;

&lt;p&gt;Lastly, I&apos;m not entirely certain I like how the property gets set in the Slice constructor. It may be better to set this property in the Overseer? Or even store the last_known_leader_core_url in a separate znode, such as /collections/&amp;lt;COLL&amp;gt;/last_known_leader/shardN. I do see some comments in places about keeping the leader property on the Slice vs. in the leader Replica so maybe that figures into this as well?&lt;/p&gt;</comment>
                            <comment id="13848693" author="markrmiller@gmail.com" created="Sun, 15 Dec 2013 21:50:08 +0000"  >&lt;p&gt;I think what we want to do here is look at having the core actually accept http requests before it registers and enters leader election - any issues we find doing this should be issues anyway, as we already have this case on a ZooKeeper expiration and recovery.&lt;/p&gt;</comment>
                            <comment id="13849245" author="tim.potter" created="Mon, 16 Dec 2013 15:54:52 +0000"  >&lt;p&gt;Thanks for the feedback. I was originally thinking that would be the better way to go but didn&apos;t know how many rabbit trails that would lead down. Will get working on another patch using this approach.&lt;/p&gt;</comment>
                            <comment id="13849290" author="markrmiller@gmail.com" created="Mon, 16 Dec 2013 16:29:57 +0000"  >&lt;p&gt;It might be a little rabbit trail, but one I think will be well worth following. The ZooKeeper expiration path is not as well tested and anything we find is likely to lead to further bug fixes around that. I hope.&lt;/p&gt;</comment>
                            <comment id="13855254" author="markrmiller@gmail.com" created="Sun, 22 Dec 2013 20:31:02 +0000"  >&lt;p&gt;I took a couple hours to look at this today. Here is a patch that fixes a few things - will probably file another JIRA issue or two around them.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;First, it registers cores in zk on startup in background threads. Turns out it&apos;s not super simple to know when http is up, but in my testing, things seem to work out all right if we just don&apos;t block things in filter#init when we load the cores. Regardless, it&apos;s a large improvement and this was a serious bug. We have never had enough cluster restart tests. Though, as it turns out, this seems difficult to reproduce in tests for some reason, though easy by hand.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;There was a problem when we looked to see if anyone else was active in determining if we become the leader. That is really no good, I thought I had removed it before.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;We could start recovering from a leader that was in the middle of replaying his tran log, which is nasty because the pre replication commit can be ignored and those updates are not distributed.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13855266" author="markrmiller@gmail.com" created="Sun, 22 Dec 2013 20:34:42 +0000"  >&lt;p&gt;Fantastic investigation and report Mr. Potter - extremely helpful.&lt;/p&gt;</comment>
                            <comment id="13855279" author="jira-bot" created="Sun, 22 Dec 2013 21:17:17 +0000"  >&lt;p&gt;Commit 1553031 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1553031&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1553031&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5552&quot; title=&quot;Leader recovery process can select the wrong leader if all replicas for a shard are down and trying to recover as well as lose updates that should have been recovered.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5552&quot;&gt;&lt;del&gt;SOLR-5552&lt;/del&gt;&lt;/a&gt;: Leader recovery process can select the wrong leader if all replicas for a shard are down and trying to recover as well as lose updates that should have been recovered.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5569&quot; title=&quot;A replica should not try and recover from a leader until it has published that it is ACTIVE.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5569&quot;&gt;&lt;del&gt;SOLR-5569&lt;/del&gt;&lt;/a&gt; A replica should not try and recover from a leader until it has published that it is ACTIVE. &lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5568&quot; title=&quot;A SolrCore cannot decide to be the leader just because the cluster state says no other SolrCore&amp;#39;s are active.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5568&quot;&gt;&lt;del&gt;SOLR-5568&lt;/del&gt;&lt;/a&gt; A SolrCore cannot decide to be the leader just because the cluster state says no other SolrCore&apos;s are active.&lt;/p&gt;</comment>
                            <comment id="13855284" author="jira-bot" created="Sun, 22 Dec 2013 21:23:30 +0000"  >&lt;p&gt;Commit 1553034 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/branches/branch_4x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1553034&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1553034&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5552&quot; title=&quot;Leader recovery process can select the wrong leader if all replicas for a shard are down and trying to recover as well as lose updates that should have been recovered.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5552&quot;&gt;&lt;del&gt;SOLR-5552&lt;/del&gt;&lt;/a&gt;: Leader recovery process can select the wrong leader if all replicas for a shard are down and trying to recover as well as lose updates that should have been recovered.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5569&quot; title=&quot;A replica should not try and recover from a leader until it has published that it is ACTIVE.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5569&quot;&gt;&lt;del&gt;SOLR-5569&lt;/del&gt;&lt;/a&gt; A replica should not try and recover from a leader until it has published that it is ACTIVE. &lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5568&quot; title=&quot;A SolrCore cannot decide to be the leader just because the cluster state says no other SolrCore&amp;#39;s are active.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5568&quot;&gt;&lt;del&gt;SOLR-5568&lt;/del&gt;&lt;/a&gt; A SolrCore cannot decide to be the leader just because the cluster state says no other SolrCore&apos;s are active.&lt;/p&gt;</comment>
                            <comment id="13856062" author="tim.potter" created="Tue, 24 Dec 2013 00:53:03 +0000"  >&lt;p&gt;Glad it was helpful even though my patch was crap &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; I&apos;ll test against trunk in my env as well. Thanks.&lt;/p&gt;</comment>
                            <comment id="13856159" author="tim.potter" created="Tue, 24 Dec 2013 05:36:34 +0000"  >&lt;p&gt;Ran my manual test process on trunk and could not reproduce the out-of-sync issue! From the logs, the recovery process definitely starts after the HTTP listener is up. Looking good on trunk.&lt;/p&gt;</comment>
                            <comment id="13858168" author="markrmiller@gmail.com" created="Sat, 28 Dec 2013 23:22:58 +0000"  >&lt;p&gt;Sweet, thanks! &lt;/p&gt;</comment>
                            <comment id="13858169" author="jira-bot" created="Sat, 28 Dec 2013 23:26:06 +0000"  >&lt;p&gt;Commit 1553970 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1553970&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1553970&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5552&quot; title=&quot;Leader recovery process can select the wrong leader if all replicas for a shard are down and trying to recover as well as lose updates that should have been recovered.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5552&quot;&gt;&lt;del&gt;SOLR-5552&lt;/del&gt;&lt;/a&gt;: Add CHANGES entry&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5569&quot; title=&quot;A replica should not try and recover from a leader until it has published that it is ACTIVE.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5569&quot;&gt;&lt;del&gt;SOLR-5569&lt;/del&gt;&lt;/a&gt;: Add CHANGES entry&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5568&quot; title=&quot;A SolrCore cannot decide to be the leader just because the cluster state says no other SolrCore&amp;#39;s are active.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5568&quot;&gt;&lt;del&gt;SOLR-5568&lt;/del&gt;&lt;/a&gt;: Add CHANGES entry&lt;/p&gt;</comment>
                            <comment id="13858172" author="jira-bot" created="Sat, 28 Dec 2013 23:27:27 +0000"  >&lt;p&gt;Commit 1553971 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/branches/branch_4x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1553971&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1553971&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5552&quot; title=&quot;Leader recovery process can select the wrong leader if all replicas for a shard are down and trying to recover as well as lose updates that should have been recovered.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5552&quot;&gt;&lt;del&gt;SOLR-5552&lt;/del&gt;&lt;/a&gt;: Add CHANGES entry&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5569&quot; title=&quot;A replica should not try and recover from a leader until it has published that it is ACTIVE.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5569&quot;&gt;&lt;del&gt;SOLR-5569&lt;/del&gt;&lt;/a&gt;: Add CHANGES entry&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5568&quot; title=&quot;A SolrCore cannot decide to be the leader just because the cluster state says no other SolrCore&amp;#39;s are active.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5568&quot;&gt;&lt;del&gt;SOLR-5568&lt;/del&gt;&lt;/a&gt;: Add CHANGES entry&lt;/p&gt;</comment>
                            <comment id="13858177" author="jira-bot" created="Sat, 28 Dec 2013 23:36:40 +0000"  >&lt;p&gt;Commit 1553973 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/branches/lucene_solr_4_6&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1553973&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1553973&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5552&quot; title=&quot;Leader recovery process can select the wrong leader if all replicas for a shard are down and trying to recover as well as lose updates that should have been recovered.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5552&quot;&gt;&lt;del&gt;SOLR-5552&lt;/del&gt;&lt;/a&gt;: Leader recovery process can select the wrong leader if all replicas for a shard are down and trying to recover as well as lose updates that should have been recovered.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5569&quot; title=&quot;A replica should not try and recover from a leader until it has published that it is ACTIVE.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5569&quot;&gt;&lt;del&gt;SOLR-5569&lt;/del&gt;&lt;/a&gt; A replica should not try and recover from a leader until it has published that it is ACTIVE.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5568&quot; title=&quot;A SolrCore cannot decide to be the leader just because the cluster state says no other SolrCore&amp;#39;s are active.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5568&quot;&gt;&lt;del&gt;SOLR-5568&lt;/del&gt;&lt;/a&gt; A SolrCore cannot decide to be the leader just because the cluster state says no other SolrCore&apos;s are active.&lt;/p&gt;</comment>
                            <comment id="13858184" author="jira-bot" created="Sun, 29 Dec 2013 00:01:17 +0000"  >&lt;p&gt;Commit 1553978 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/branches/lucene_solr_4_6&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1553978&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1553978&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5552&quot; title=&quot;Leader recovery process can select the wrong leader if all replicas for a shard are down and trying to recover as well as lose updates that should have been recovered.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5552&quot;&gt;&lt;del&gt;SOLR-5552&lt;/del&gt;&lt;/a&gt;: Add CHANGES entry&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5569&quot; title=&quot;A replica should not try and recover from a leader until it has published that it is ACTIVE.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5569&quot;&gt;&lt;del&gt;SOLR-5569&lt;/del&gt;&lt;/a&gt;: Add CHANGES entry&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5568&quot; title=&quot;A SolrCore cannot decide to be the leader just because the cluster state says no other SolrCore&amp;#39;s are active.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5568&quot;&gt;&lt;del&gt;SOLR-5568&lt;/del&gt;&lt;/a&gt;: Add CHANGES entry&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10020">
                    <name>Cloners</name>
                                                                <inwardlinks description="is cloned by">
                                        <issuelink>
            <issuekey id="12906297">SOLR-8173</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12626072">SOLR-4260</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12686079">SOLR-5569</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12686078">SOLR-5568</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12620104" name="SOLR-5552.patch" size="13408" author="markrmiller@gmail.com" created="Sun, 22 Dec 2013 20:31:02 +0000"/>
                            <attachment id="12618616" name="SOLR-5552.patch" size="4184" author="tim.potter" created="Fri, 13 Dec 2013 16:21:28 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>363433</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 47 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qn9z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>363739</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>