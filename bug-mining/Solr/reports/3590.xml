<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:26:46 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-11182] Solr doesn&apos;t log IOException if a shard split fails</title>
                <link>https://issues.apache.org/jira/browse/SOLR-11182</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;During a split shard operation the last message I see in the Solr logs was this&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;date time INFO  (parallelCoreAdminExecutor... SPLIT) [   ] o.a.s.u.SolrIndexWriter Calling setCommitData with IW:org.apache.solr.update.SolrIndexWriter@hex
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;But the split never completed according the the request status API.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;...
  &lt;span class=&quot;code-quote&quot;&gt;&quot;Operation splitshard caused exception:&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.solr.common.SolrException:org.apache.solr.common.SolrException&quot;&lt;/span&gt;,
  &lt;span class=&quot;code-quote&quot;&gt;&quot;exception&quot;&lt;/span&gt;: {
    &lt;span class=&quot;code-quote&quot;&gt;&quot;msg&quot;&lt;/span&gt;: &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;rspCode&quot;&lt;/span&gt;: 500
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;tt&gt;SolrIndexSplitter#split&lt;/tt&gt; throws an IOException and in DirectUpdateHandler2#split we catch it but never log an exception. We should log the error and also throw it ?&lt;/p&gt;</description>
                <environment></environment>
        <key id="13092030">SOLR-11182</key>
            <summary>Solr doesn&apos;t log IOException if a shard split fails</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="varun">Varun Thacker</assignee>
                                    <reporter username="varun">Varun Thacker</reporter>
                        <labels>
                    </labels>
                <created>Wed, 2 Aug 2017 23:42:16 +0000</created>
                <updated>Thu, 21 Nov 2019 00:42:28 +0000</updated>
                            <resolved>Thu, 3 Aug 2017 17:30:30 +0000</resolved>
                                    <version>6.5</version>
                    <version>6.6</version>
                                    <fixVersion>7.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16112106" author="shalinmangar" created="Thu, 3 Aug 2017 03:10:54 +0000"  >&lt;p&gt;This was introduced in &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9999&quot; title=&quot;Instrument DirectUpdateHandler2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9999&quot;&gt;&lt;del&gt;SOLR-9999&lt;/del&gt;&lt;/a&gt; in 6.5. We should let the exception propagate up.&lt;/p&gt;</comment>
                            <comment id="16112225" author="varunthacker" created="Thu, 3 Aug 2017 05:53:45 +0000"  >&lt;p&gt;Thanks Shalin for pointing it out! I guess all we need is to throw it so that SplitOp will catch it , log it and throw a RuntimeException&lt;/p&gt;</comment>
                            <comment id="16112314" author="shalinmangar" created="Thu, 3 Aug 2017 07:11:05 +0000"  >&lt;p&gt;+1 LGTM&lt;/p&gt;</comment>
                            <comment id="16113137" author="jira-bot" created="Thu, 3 Aug 2017 17:28:58 +0000"  >&lt;p&gt;Commit 8cd2942e354687b6f655ef831d5d525d63dd46a8 in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=varun&quot; class=&quot;user-hover&quot; rel=&quot;varun&quot;&gt;varun&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=8cd2942&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=8cd2942&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11182&quot; title=&quot;Solr doesn&amp;#39;t log IOException if a shard split fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-11182&quot;&gt;&lt;del&gt;SOLR-11182&lt;/del&gt;&lt;/a&gt;: A split shard failure on IOException should be logged&lt;/p&gt;</comment>
                            <comment id="16113138" author="jira-bot" created="Thu, 3 Aug 2017 17:29:29 +0000"  >&lt;p&gt;Commit a13a966a01013d5376fe466040302ea56c0b77c3 in lucene-solr&apos;s branch refs/heads/branch_7x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=varun&quot; class=&quot;user-hover&quot; rel=&quot;varun&quot;&gt;varun&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=a13a966&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=a13a966&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11182&quot; title=&quot;Solr doesn&amp;#39;t log IOException if a shard split fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-11182&quot;&gt;&lt;del&gt;SOLR-11182&lt;/del&gt;&lt;/a&gt;: A split shard failure on IOException should be logged&lt;/p&gt;</comment>
                            <comment id="16113141" author="jira-bot" created="Thu, 3 Aug 2017 17:30:11 +0000"  >&lt;p&gt;Commit 1f00dff0994c499f3d7051c3f76ba7603654b4e9 in lucene-solr&apos;s branch refs/heads/branch_7_0 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=varun&quot; class=&quot;user-hover&quot; rel=&quot;varun&quot;&gt;varun&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=1f00dff&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=1f00dff&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11182&quot; title=&quot;Solr doesn&amp;#39;t log IOException if a shard split fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-11182&quot;&gt;&lt;del&gt;SOLR-11182&lt;/del&gt;&lt;/a&gt;: A split shard failure on IOException should be logged&lt;/p&gt;</comment>
                            <comment id="16113144" author="varunthacker" created="Thu, 3 Aug 2017 17:30:30 +0000"  >&lt;p&gt;Thanks Shalin for the review!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12880171" name="SOLR-11182.patch" size="586" author="varun" created="Thu, 3 Aug 2017 05:53:01 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 15 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3icjb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>