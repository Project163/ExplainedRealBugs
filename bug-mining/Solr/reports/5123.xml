<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 05:08:36 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-17039] Entropy calculation fails in Docker due to missing &apos;bc&apos; cmd</title>
                <link>https://issues.apache.org/jira/browse/SOLR-17039</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;In &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16644&quot; title=&quot;Entropy warning thresholds need to be revisited&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16644&quot;&gt;&lt;del&gt;SOLR-16644&lt;/del&gt;&lt;/a&gt; the entropy warning in bin/start was modified.&lt;/p&gt;

&lt;p&gt;However, when run in default Solr docker image, there is a warning&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
$ docker run -ti solr:9.4.0 bash
solr@4eacf30312ef:/opt/solr-9.4.0$ bin/solr start -c
Java 17 detected. Enabled workaround &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; SOLR-16463
bin/solr: line 2408: bc: command not found
Waiting up to 180 seconds to see Solr running on port 8983 [/]  &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The script uses a &apos;bc&apos; command to do the numeric comparison, but that command is not available ootb in our image&lt;/p&gt;

&lt;p&gt;Luckily this does not happen when run in foreground, which is the default for the docker image. Thus it is only if you exec into the container and then start solr in the background, which is not very common,&lt;/p&gt;</description>
                <environment></environment>
        <key id="13554586">SOLR-17039</key>
            <summary>Entropy calculation fails in Docker due to missing &apos;bc&apos; cmd</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="janhoy">Jan H&#248;ydahl</assignee>
                                    <reporter username="janhoy">Jan H&#248;ydahl</reporter>
                        <labels>
                    </labels>
                <created>Wed, 18 Oct 2023 13:58:05 +0000</created>
                <updated>Thu, 18 Jan 2024 22:35:54 +0000</updated>
                            <resolved>Wed, 18 Oct 2023 22:57:06 +0000</resolved>
                                    <version>9.4</version>
                                    <fixVersion>9.5</fixVersion>
                    <fixVersion>9.4.1</fixVersion>
                                    <component>scripts and tools</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="2400">40m</timespent>
                                <comments>
                            <comment id="17776882" author="jira-bot" created="Wed, 18 Oct 2023 20:06:57 +0000"  >&lt;p&gt;Commit 5a9f914a6a6dffd1bbceb8a5cd9a5cc8ad2bd60e in solr&apos;s branch refs/heads/main from Jan H&#248;ydahl&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=5a9f914a6a6&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=5a9f914a6a6&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-17039&quot; title=&quot;Entropy calculation fails in Docker due to missing &amp;#39;bc&amp;#39; cmd&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-17039&quot;&gt;&lt;del&gt;SOLR-17039&lt;/del&gt;&lt;/a&gt;: Entropy calculation fails in Docker due to missing &apos;bc&apos; cmd (#2023)&lt;/p&gt;
</comment>
                            <comment id="17776895" author="jira-bot" created="Wed, 18 Oct 2023 20:41:15 +0000"  >&lt;p&gt;Commit 00955890f19b26ce799b08d4351bcfbddcd58846 in solr&apos;s branch refs/heads/branch_9x from Jan H&#248;ydahl&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=00955890f19&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=00955890f19&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-17039&quot; title=&quot;Entropy calculation fails in Docker due to missing &amp;#39;bc&amp;#39; cmd&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-17039&quot;&gt;&lt;del&gt;SOLR-17039&lt;/del&gt;&lt;/a&gt;: Entropy calculation fails in Docker due to missing &apos;bc&apos; cmd (#2023)&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 5a9f914a6a6dffd1bbceb8a5cd9a5cc8ad2bd60e)&lt;/p&gt;</comment>
                            <comment id="17793069" author="jira-bot" created="Tue, 5 Dec 2023 00:25:09 +0000"  >&lt;p&gt;Commit 518caeab6672b60d2f7710a4dedd22d5dfe74523 in solr&apos;s branch refs/heads/branch_9_4 from Jan H&#248;ydahl&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=518caeab667&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=518caeab667&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-17039&quot; title=&quot;Entropy calculation fails in Docker due to missing &amp;#39;bc&amp;#39; cmd&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-17039&quot;&gt;&lt;del&gt;SOLR-17039&lt;/del&gt;&lt;/a&gt;: Entropy calculation fails in Docker due to missing &apos;bc&apos; cmd (#2023)&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 5a9f914a6a6dffd1bbceb8a5cd9a5cc8ad2bd60e)&lt;/p&gt;</comment>
                            <comment id="17808390" author="dsmiley" created="Thu, 18 Jan 2024 22:33:08 +0000"  >&lt;p&gt;Closing after the 9.4.1 release&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="13522916">SOLR-16644</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 42 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1l10w:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>