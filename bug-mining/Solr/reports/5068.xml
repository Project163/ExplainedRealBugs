<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 05:02:11 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-16777] Schema Designer blindly &quot;trusts&quot; potentially malicious configset</title>
                <link>https://issues.apache.org/jira/browse/SOLR-16777</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;When configset API is used to upload configsets by unauthenticated users, a &quot;trusted: false&quot; flag is set on the configset. Such configsets cannot use the &amp;lt;lib&amp;gt; directive to load classes while creating/loading collections. Details here: &lt;a href=&quot;https://solr.apache.org/guide/8_10/configsets-api.html#configsets-upload&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://solr.apache.org/guide/8_10/configsets-api.html#configsets-upload&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Unfortunately, this safety mechanism was bypassed in the schema designer when a isConfigsetTrusted was hardcoded to true. &lt;a href=&quot;https://github.com/apache/solr/blob/branch_9_1/solr/core/src/java/org/apache/solr/handler/designer/SchemaDesignerConfigSetHelper.java#L697&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/solr/blob/branch_9_1/solr/core/src/java/org/apache/solr/handler/designer/SchemaDesignerConfigSetHelper.java#L697&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;As per Skay&apos;s report &lt;a href=&quot;https://twitter.com/Skay_00/status/1646870062601756672),&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://twitter.com/Skay_00/status/1646870062601756672&lt;/a&gt; remote code execution is possible in unsecured Solr clusters where authentication hasn&apos;t been enabled. This ticket is to mitigate one aspect of that, i.e. the schema designer vulnerability. While our recommendation to all users remains the same, i.e. to secure Solr installations with authentication and authorization, I thank Skay for his detailed report.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13534522">SOLR-16777</key>
            <summary>Schema Designer blindly &quot;trusts&quot; potentially malicious configset</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ichattopadhyaya">Ishan Chattopadhyaya</assignee>
                                    <reporter username="ichattopadhyaya">Ishan Chattopadhyaya</reporter>
                        <labels>
                    </labels>
                <created>Sat, 29 Apr 2023 05:22:49 +0000</created>
                <updated>Thu, 11 Jan 2024 20:58:55 +0000</updated>
                            <resolved>Thu, 13 Jul 2023 16:56:48 +0000</resolved>
                                    <version>9.0</version>
                    <version>8.10</version>
                    <version>8.11.2</version>
                    <version>9.1</version>
                    <version>9.2</version>
                    <version>9.1.1</version>
                                    <fixVersion>8.11.3</fixVersion>
                    <fixVersion>9.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1800">0.5h</timespent>
                                <comments>
                            <comment id="17717881" author="ichattopadhyaya" created="Sat, 29 Apr 2023 05:23:58 +0000"  >&lt;p&gt;Attaching a patch to fix this. All tests pass. I&apos;m planning to commit this soon, would love to have someone review it.&lt;/p&gt;</comment>
                            <comment id="17717900" author="noble.paul" created="Sat, 29 Apr 2023 11:05:23 +0000"  >&lt;p&gt;LGTM.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;go ahead and merge please&lt;/p&gt;</comment>
                            <comment id="17717920" author="jira-bot" created="Sat, 29 Apr 2023 14:23:41 +0000"  >&lt;p&gt;Commit bf9ca1044b2eec234038c2c27ec7996d589bb8c8 in solr&apos;s branch refs/heads/main from Ishan Chattopadhyaya&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=bf9ca1044b2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=bf9ca1044b2&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16777&quot; title=&quot;Schema Designer blindly &amp;quot;trusts&amp;quot; potentially malicious configset&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16777&quot;&gt;&lt;del&gt;SOLR-16777&lt;/del&gt;&lt;/a&gt;: Fix for Schema Designer blindly trusting potentially malicious configsets&lt;/p&gt;</comment>
                            <comment id="17717921" author="jira-bot" created="Sat, 29 Apr 2023 14:25:18 +0000"  >&lt;p&gt;Commit 17b32f9b59094cda22e9e43236c97a575a7e16a0 in solr&apos;s branch refs/heads/branch_9x from Ishan Chattopadhyaya&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=17b32f9b590&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=17b32f9b590&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16777&quot; title=&quot;Schema Designer blindly &amp;quot;trusts&amp;quot; potentially malicious configset&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16777&quot;&gt;&lt;del&gt;SOLR-16777&lt;/del&gt;&lt;/a&gt;: Fix for Schema Designer blindly trusting potentially malicious configsets&lt;/p&gt;</comment>
                            <comment id="17717922" author="jira-bot" created="Sat, 29 Apr 2023 14:29:26 +0000"  >&lt;p&gt;Commit 0333862ad289d9f73c7c96e1d26ebe15e506a4aa in solr&apos;s branch refs/heads/branch_9_2 from Ishan Chattopadhyaya&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=0333862ad28&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=0333862ad28&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16777&quot; title=&quot;Schema Designer blindly &amp;quot;trusts&amp;quot; potentially malicious configset&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16777&quot;&gt;&lt;del&gt;SOLR-16777&lt;/del&gt;&lt;/a&gt;: Fix for Schema Designer blindly trusting potentially malicious configsets&lt;/p&gt;</comment>
                            <comment id="17717924" author="ichattopadhyaya" created="Sat, 29 Apr 2023 14:31:41 +0000"  >&lt;p&gt;Thanks Skay, for reporting the bug as well as pointing towards the area of code containing the bug in your blog post!&lt;/p&gt;</comment>
                            <comment id="17718341" author="gus_heck" created="Mon, 1 May 2023 20:42:46 +0000"  >&lt;p&gt;I have a question about the patch. Does this mean that everything the schema designer can never trust anything, even if it was uploaded by a trusted user?&lt;/p&gt;</comment>
                            <comment id="17718379" author="noble.paul" created="Tue, 2 May 2023 00:00:46 +0000"  >&lt;p&gt;&#160;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gus&quot; class=&quot;user-hover&quot; rel=&quot;gus&quot;&gt;gus&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;True. All unsafe features are disabled for any config that is uploaded over an API call&lt;/p&gt;</comment>
                            <comment id="17718385" author="ichattopadhyaya" created="Tue, 2 May 2023 00:35:56 +0000"  >&lt;blockquote&gt;&lt;p&gt;Does this mean that everything the schema designer can never trust anything, even if it was uploaded by a trusted user?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yes.&lt;/p&gt;</comment>
                            <comment id="17718420" author="gus_heck" created="Tue, 2 May 2023 04:04:00 +0000"  >&lt;p&gt;That is against the documentation for the trusted config set feature. I think the code should be determining if the user is trusted and then passing the correct value. Either one every time is wrong. The behavior should match config set upload. It&apos;s terribly confusing if nobody (trusted or untrusted) can use schema designer just because someone (trusted) uploaded a config set that requires trust previously... Because if the existing config that is being edited has &quot;trust required&quot; features&#160; and the user is editing something benign and unrelated to the &quot;trust required&quot; feature, this call will fail (unless I misunderstand)&lt;/p&gt;</comment>
                            <comment id="17718421" author="ichattopadhyaya" created="Tue, 2 May 2023 04:11:47 +0000"  >&lt;blockquote&gt;&lt;p&gt;I think the code should be determining if the user is trusted and then passing the correct value.&#160;&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Sure, please feel free to re-open and add the check here. I hope all of this will become a non-issue once &amp;lt;lib&amp;gt; directives are gone (&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16781&quot; title=&quot;Remove &amp;lt;lib&amp;gt; directives from Solr&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16781&quot;&gt;&lt;del&gt;SOLR-16781&lt;/del&gt;&lt;/a&gt;).&lt;/p&gt;</comment>
                            <comment id="17718496" author="jira-bot" created="Tue, 2 May 2023 09:22:32 +0000"  >&lt;p&gt;Commit 9a4f4fff1cca1590eb039b521fb3f10abbdb62b3 in solr&apos;s branch refs/heads/branch_9_2 from Jan H&#248;ydahl&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=9a4f4fff1cc&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=9a4f4fff1cc&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16777&quot; title=&quot;Schema Designer blindly &amp;quot;trusts&amp;quot; potentially malicious configset&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16777&quot;&gt;&lt;del&gt;SOLR-16777&lt;/del&gt;&lt;/a&gt; Move changes entry from 9.2.1 to 9.2.2&lt;/p&gt;

&lt;p&gt;Signed-off-by: Jan H&#248;ydahl &amp;lt;janhoy@users.noreply.github.com&amp;gt;&lt;/p&gt;</comment>
                            <comment id="17718574" author="gus_heck" created="Tue, 2 May 2023 13:43:03 +0000"  >&lt;p&gt;&lt;a href=&quot;https://solr.apache.org/guide/solr/latest/configuration-guide/configsets-api.html#configsets-upload&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://solr.apache.org/guide/solr/latest/configuration-guide/configsets-api.html#configsets-upload&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;specifies two other features that also are only available with trusted configsets. &amp;lt;lib&amp;gt; is not the only issue. So unless the whole trusted config set feature is going away hard-coding a value seems to create a trap for the user.&lt;/p&gt;

&lt;p&gt;I don&apos;t have time to work on this right now, but I&apos;m -1 on anything that makes schema designer (or any other feature) fail for unclear reasons. If the error message is clear enough, and the ref guide is updated to clarify the incompatibility of the listed &quot;trusted&quot; features with schema designer and we commit to doing something nicer in 9.3 I&apos;ll change that to -0.9, but it would be much better to be consistent with the existing feature.&#160;&lt;/p&gt;

&lt;p&gt;Security is important,&#160; but we shouldn&apos;t make our software trappy and hard to use either.&lt;/p&gt;</comment>
                            <comment id="17718575" author="noble.paul" created="Tue, 2 May 2023 13:46:23 +0000"  >&lt;p&gt;security is not optional . Unsafe features should be removed as and when we find them&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;I don&apos;t think this makes schema designer unusable at all. This is an extremely obscure feature that&apos;s carried forward from non cloud Solr&lt;/p&gt;</comment>
                            <comment id="17718578" author="gus_heck" created="Tue, 2 May 2023 13:53:20 +0000"  >&lt;p&gt;Of course it&apos;s not optional, but usability isn&apos;t optional either. The fact that security is more important is why I am willing to put up with a well documented gotcha for the short term.&#160;&lt;/p&gt;

&lt;p&gt;Which feature are you referring to as carried forward. Schema designer appeared in 8.10 and trusted configsets first showed up&#160; in 8.4? (in documentation at least, I haven&apos;t figured out if trusted configsets were undocumented for a while before that)&lt;/p&gt;</comment>
                            <comment id="17718579" author="ichattopadhyaya" created="Tue, 2 May 2023 13:57:43 +0000"  >&lt;p&gt;&amp;lt;lib&amp;gt; and other unsafe features mentioned in the configset upload API will generate an error (with the reason) when loaded from untrusted configsets.&lt;/p&gt;

&lt;p&gt;Those features shouldn&apos;t be used anyway, so if they dont work with schema designer, it is not the end of the world.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Which feature are you referring to as carried forward&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I guess he&apos;s referring to &amp;lt;lib&amp;gt; and other insecure features (stateless script update processor?) etc.&lt;/p&gt;</comment>
                            <comment id="17718580" author="ichattopadhyaya" created="Tue, 2 May 2023 14:00:27 +0000"  >&lt;p&gt;Also, the overlap of users using such obscure and advanced features and those using the schema designer will probably be negligible.&lt;/p&gt;</comment>
                            <comment id="17718890" author="janhoy" created="Wed, 3 May 2023 10:36:39 +0000"  >&lt;p&gt;Re-opening to make sure either&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Document in ref-guide that Schema Designer now can ONLY work on untrusted config sets&lt;/li&gt;
	&lt;li&gt;OR Toggle safe/unsafe based on whether the call is authorized, like is done for configset-api&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17719052" author="gerlowskija" created="Wed, 3 May 2023 20:33:58 +0000"  >&lt;p&gt;+1 to what Gus said, and Jan&apos;s decision to reopen. &lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Sure, please feel free to re-open and add the check here.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Procedurally, responding to review this way feels...maybe not &quot;wrong&quot;, but at least &quot;odd&quot;.  And maybe even slightly harmful?&lt;/p&gt;

&lt;p&gt;Obviously I&apos;m not saying every last review comment needs addressed.  Some are too minor or loosely held even by the reviewer.  Often there&apos;s competing views, or a suggestion might deserve its own spinoff ticket, etc.  That stuff happens all the time. &lt;/p&gt;

&lt;p&gt;But to seemingly agree after a few back-and-forth&apos;s (or at least acquiesce?) and still not incorporate the feedback - with no explanation - just feels a little weird.  It discounts the time Gus and others put in to their reviews.  And, longer term, it&apos;d be natural for anyone reading here to hesitate before giving you a review the next time around.  Which, it goes without saying, hurts everyone.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ichattopadhyaya&quot; class=&quot;user-hover&quot; rel=&quot;ichattopadhyaya&quot;&gt;ichattopadhyaya&lt;/a&gt; could you please at least explain why you don&apos;t care to incorporate Gus&apos; feedback?&lt;/p&gt;</comment>
                            <comment id="17719058" author="ichattopadhyaya" created="Wed, 3 May 2023 20:52:22 +0000"  >&lt;p&gt;Jason, please stop being so melodramatic. I&apos;m on travel at the moment. I&apos;ll pick it up when I get some time. This is a volunteer driven project, so feel free to do something you expect me to do (which I will do).&lt;/p&gt;</comment>
                            <comment id="17719060" author="ichattopadhyaya" created="Wed, 3 May 2023 20:55:12 +0000"  >&lt;p&gt;Btw, I agree with Jan&apos;s suggestion. I think we should rather add the check than explain why we don&apos;t.&lt;/p&gt;</comment>
                            <comment id="17719062" author="ichattopadhyaya" created="Wed, 3 May 2023 21:00:43 +0000"  >&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13057814/13057814_Screenshot_20230503_165913.jpg&quot; width=&quot;400&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="17719063" author="ichattopadhyaya" created="Wed, 3 May 2023 21:02:08 +0000"  >&lt;p&gt;Fyi, Jason &#128522;&lt;/p&gt;</comment>
                            <comment id="17719095" author="gus_heck" created="Thu, 4 May 2023 00:18:50 +0000"  >&lt;blockquote&gt;&lt;p&gt;I think we should rather add the check than explain why we don&apos;t.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="17719947" author="gerlowskija" created="Fri, 5 May 2023 18:01:35 +0000"  >&lt;blockquote&gt;&lt;p&gt;Jason, please stop being so melodramatic. I&apos;m on travel at the moment&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Apologies for the &quot;melodrama,&quot; if that&apos;s how my comment came off.  I wasn&apos;t trying to make a bigger thing of it than it is.&lt;/p&gt;

&lt;p&gt;I&apos;ve been thinking a lot lately about how it&apos;s the unwritten rules and norms that allow our community to work at all.  How we incorporate feedback is one of those.  Those norms are just so, so important.  That&apos;s all I was trying to get across.&lt;/p&gt;

&lt;p&gt;(And related - I think you&apos;re right - as important as it is, it&apos;s hard to elucidate or appeal to that sort of stuff without sounding like a crazy person catastrophizing or being melodramatic with some minuscule detail &#128556;. So, I get that haha.)&lt;/p&gt;

&lt;p&gt;Anyways, I appreciate your clarifying that you intended to get to it in time &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/thumbs_up.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;.  That&apos;s perfect. Have a safe trip!&lt;/p&gt;</comment>
                            <comment id="17725318" author="janhoy" created="Tue, 23 May 2023 09:30:21 +0000"  >&lt;p&gt;Any conclusion on this? It currently blocks 9.2.2&lt;/p&gt;</comment>
                            <comment id="17741713" author="ichattopadhyaya" created="Mon, 10 Jul 2023 17:24:13 +0000"  >&lt;p&gt;I&apos;ll take a look at this, latest by Thursday this week; Hopefully, that will be before the 9.3 release.&lt;/p&gt;</comment>
                            <comment id="17741756" author="houston" created="Mon, 10 Jul 2023 20:19:34 +0000"  >&lt;p&gt;I added a patch that should use the built-in trustedness of the configSet being used, when designing with the schema designer. If the user uploads a custom file to the configSet using the schema designer APIs, it can only remove the trust (if the user is not authenticated). It can never add trust to an untrusted configSet, because there is no way to replace all files using the schema designer APIs. (And we aren&apos;t going to give a whole configSet trust just because one file is now &quot;trusted&quot;)&lt;/p&gt;</comment>
                            <comment id="17742428" author="houston" created="Wed, 12 Jul 2023 13:34:32 +0000"  >&lt;p&gt;I&apos;m trying to get a release candidate out soon, so would appreciate anyone that could review the patch!&lt;/p&gt;</comment>
                            <comment id="17742545" author="gerlowskija" created="Wed, 12 Jul 2023 20:07:12 +0000"  >&lt;p&gt;The patch LGTM, with the small quibble that maybe we should document the &quot;final&quot; behavior around Schema Designer and trusted-ness in the ref-guide somewhere?&lt;/p&gt;</comment>
                            <comment id="17742552" author="markrmiller" created="Wed, 12 Jul 2023 20:32:04 +0000"  >&lt;p&gt;LGTM.&lt;/p&gt;

&lt;p&gt;Summarized changes:&lt;/p&gt;

&lt;p&gt;ZkConfigSetService.java: The method signature of loadConfigSetFlags was modified to remove the CoreDescriptor parameter.&lt;/p&gt;

&lt;p&gt;ConfigSetService.java:&lt;/p&gt;

&lt;p&gt;Import of ZkSolrResourceLoader was removed.&lt;br/&gt;
Two methods, isConfigSetTrusted(String name) and isConfigSetTrusted(SolrResourceLoader coreLoader), were added to check whether a given config set or a config set associated with a resource loader is trusted.&lt;br/&gt;
In the loadConfigSet method, the check for a trusted config set was replaced with a call to the new isConfigSetTrusted method.&lt;br/&gt;
The createSolrConfig method was updated to use the isConfigSetTrusted method for the trusted argument.&lt;br/&gt;
The loadConfigSetFlags method was modified, similar to the change in ZkConfigSetService.java, to remove the CoreDescriptor parameter.&lt;br/&gt;
ConfigSetAPIBase.java:&lt;/p&gt;

&lt;p&gt;The isTrusted method was made static, and its visibility was changed to public.&lt;br/&gt;
The isCurrentlyTrusted method was removed.&lt;br/&gt;
The method ensureOverwritingUntrustedConfigSet was updated to use configSetService.isConfigSetTrusted(configName) instead of isCurrentlyTrusted(configName).&lt;br/&gt;
CreateConfigSetAPI.java: Updated to use configSetService.isConfigSetTrusted(createConfigPayload.baseConfigSet) instead of isCurrentlyTrusted(createConfigPayload.baseConfigSet).&lt;/p&gt;

&lt;p&gt;UploadConfigSetAPI.java: Updated to use configSetService.isConfigSetTrusted(configSetName) instead of isCurrentlyTrusted(configSetName).&lt;/p&gt;

&lt;p&gt;SchemaDesignerAPI.java: Updated to use the static isTrusted method from ConfigSetAPIBase.java. Also added logic to remove the trusted flag on the configSet if the request is untrusted.&lt;/p&gt;

&lt;p&gt;SchemaDesignerConfigSetHelper.java: Updated to load the Solr config with the trusted flag retrieved from isConfigSetTrusted. Added isConfigSetTrusted and removeConfigSetTrust methods.&lt;/p&gt;

&lt;p&gt;Trust is now determined based on the config set itself rather than on the loading process, and checks for trust have been centralized in the ConfigSetService class.&lt;/p&gt;</comment>
                            <comment id="17742608" author="ichattopadhyaya" created="Thu, 13 Jul 2023 00:49:59 +0000"  >&lt;p&gt;Thank you very much, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=houston&quot; class=&quot;user-hover&quot; rel=&quot;houston&quot;&gt;houston&lt;/a&gt;, for getting to this! I skimmed through the changes (still too busy to find time for a thorough review), and they look reasonable.&lt;/p&gt;</comment>
                            <comment id="17742852" author="houston" created="Thu, 13 Jul 2023 15:51:33 +0000"  >&lt;p&gt;Ok I cleaned it up a bit more and added docs. Will commit soon, after the tests pass.&lt;/p&gt;</comment>
                            <comment id="17742854" author="houston" created="Thu, 13 Jul 2023 15:57:05 +0000"  >&lt;p&gt;So we are going to need an 8.11.2 release for this, correct?&lt;/p&gt;</comment>
                            <comment id="17742878" author="ichattopadhyaya" created="Thu, 13 Jul 2023 16:47:36 +0000"  >&lt;p&gt;I can volunteer for an 8x release containing this, immediately after 9.3 is out. Thanks Houston!&lt;/p&gt;</comment>
                            <comment id="17742880" author="jira-bot" created="Thu, 13 Jul 2023 16:52:18 +0000"  >&lt;p&gt;Commit 35d352522df046aab9035d60806ababffa0f00e8 in solr&apos;s branch refs/heads/main from Houston Putman&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=35d352522df&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=35d352522df&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16777&quot; title=&quot;Schema Designer blindly &amp;quot;trusts&amp;quot; potentially malicious configset&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16777&quot;&gt;&lt;del&gt;SOLR-16777&lt;/del&gt;&lt;/a&gt;: Make SchemaDesigner use ConfigSet trust&lt;/p&gt;</comment>
                            <comment id="17742883" author="jira-bot" created="Thu, 13 Jul 2023 16:54:28 +0000"  >&lt;p&gt;Commit 6b6e45a7c6e4f08fe1db951164ddab93809459db in solr&apos;s branch refs/heads/branch_9x from Houston Putman&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=6b6e45a7c6e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=6b6e45a7c6e&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16777&quot; title=&quot;Schema Designer blindly &amp;quot;trusts&amp;quot; potentially malicious configset&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16777&quot;&gt;&lt;del&gt;SOLR-16777&lt;/del&gt;&lt;/a&gt;: Make SchemaDesigner use ConfigSet trust&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 35d352522df046aab9035d60806ababffa0f00e8)&lt;/p&gt;</comment>
                            <comment id="17742885" author="jira-bot" created="Thu, 13 Jul 2023 16:55:57 +0000"  >&lt;p&gt;Commit d07751cfaa8065bea8bd43f59e758e50d50c2419 in solr&apos;s branch refs/heads/branch_9_3 from Houston Putman&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=d07751cfaa8&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=d07751cfaa8&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16777&quot; title=&quot;Schema Designer blindly &amp;quot;trusts&amp;quot; potentially malicious configset&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16777&quot;&gt;&lt;del&gt;SOLR-16777&lt;/del&gt;&lt;/a&gt;: Make SchemaDesigner use ConfigSet trust&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 35d352522df046aab9035d60806ababffa0f00e8)&lt;/p&gt;</comment>
                            <comment id="17745717" author="houston" created="Fri, 21 Jul 2023 20:40:32 +0000"  >&lt;p&gt;Closing after the 9.3.0 release&lt;/p&gt;</comment>
                            <comment id="17757853" author="asalamon74" created="Wed, 23 Aug 2023 07:14:09 +0000"  >&lt;p&gt;Hi, was it fixed int he 8.11 line as well?&lt;/p&gt;</comment>
                            <comment id="17758469" author="janhoy" created="Thu, 24 Aug 2023 09:22:06 +0000"  >&lt;p&gt;No. I created backporting this as a blocker for 8.11.3: &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16948&quot; title=&quot;Backport &amp;quot;trusted configset&amp;quot; changes to 8.11.3&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16948&quot;&gt;&lt;del&gt;SOLR-16948&lt;/del&gt;&lt;/a&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17781822" author="jira-bot" created="Wed, 1 Nov 2023 16:45:41 +0000"  >&lt;p&gt;Commit 4ac1d59918c250bffb09899572bd92054cee063a in lucene-solr&apos;s branch refs/heads/branch_8_11 from Ishan Chattopadhyaya&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=4ac1d59918c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=4ac1d59918c&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16777&quot; title=&quot;Schema Designer blindly &amp;quot;trusts&amp;quot; potentially malicious configset&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16777&quot;&gt;&lt;del&gt;SOLR-16777&lt;/del&gt;&lt;/a&gt;: Fix for Schema Designer blindly trusting potentially malicious configsets&lt;/p&gt;</comment>
                            <comment id="17781826" author="ichattopadhyaya" created="Wed, 1 Nov 2023 16:57:14 +0000"  >&lt;p&gt;The other fix here by Houston is still remaining. Working on it.&lt;/p&gt;</comment>
                            <comment id="17782707" author="ichattopadhyaya" created="Fri, 3 Nov 2023 18:39:38 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=houston&quot; class=&quot;user-hover&quot; rel=&quot;houston&quot;&gt;houston&lt;/a&gt;, can you please review my changes to &lt;a href=&quot;https://github.com/apache/lucene-solr/tree/jira/solr-16777-8x-backport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/lucene-solr/tree/jira/solr-16777-8x-backport&lt;/a&gt; branch? Patch file is here: &lt;a href=&quot;https://github.com/apache/lucene-solr/commit/f9fdfc3863d436829e925acd2157e356205af929.diff&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/lucene-solr/commit/f9fdfc3863d436829e925acd2157e356205af929.diff&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I&apos;m unable to raise a PR for it, GitHub shows me the following error: Pull request creation failed. Validation failed: must be a collaborator&lt;/p&gt;

&lt;p&gt;I wasn&apos;t able to port all the refactoring that the config sets codepaths has received in 9x, so doing a targeted fix here.&lt;/p&gt;</comment>
                            <comment id="17782719" author="houston" created="Fri, 3 Nov 2023 19:11:40 +0000"  >&lt;p&gt;That looks good, except that SchemaDesignerSettingsDAO.getSettings() is missing its change.&lt;/p&gt;</comment>
                            <comment id="17782739" author="ichattopadhyaya" created="Fri, 3 Nov 2023 20:04:28 +0000"  >&lt;p&gt;Thanks for the quick review, Houston. Here&apos;s remaining change (another commit on the same branch): &lt;a href=&quot;https://github.com/apache/lucene-solr/commit/a01567b6e5f49e9b9760c07d2c5db40e1255b150.diff&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/lucene-solr/commit/a01567b6e5f49e9b9760c07d2c5db40e1255b150.diff&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17782746" author="houston" created="Fri, 3 Nov 2023 20:17:46 +0000"  >&lt;p&gt;+1 if everything passes&lt;/p&gt;</comment>
                            <comment id="17782830" author="jira-bot" created="Sat, 4 Nov 2023 06:18:02 +0000"  >&lt;p&gt;Commit 6e9ed203b30958396bdfd41760d426b386646865 in lucene-solr&apos;s branch refs/heads/branch_8_11 from Ishan Chattopadhyaya&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=6e9ed203b30&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=6e9ed203b30&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16777&quot; title=&quot;Schema Designer blindly &amp;quot;trusts&amp;quot; potentially malicious configset&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16777&quot;&gt;&lt;del&gt;SOLR-16777&lt;/del&gt;&lt;/a&gt;: Schema Designer now correctly manages trust of the ConfigSets it is managing&lt;/p&gt;

&lt;p&gt;Co-authored-by: Houston Putman &amp;lt;houston@apache.org&amp;gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13061214" name="SOLR-16777-1.patch" size="13171" author="houston" created="Mon, 10 Jul 2023 20:17:28 +0000"/>
                            <attachment id="13061326" name="SOLR-16777-2.patch" size="18769" author="houston" created="Thu, 13 Jul 2023 15:51:09 +0000"/>
                            <attachment id="13057723" name="SOLR-16777.patch" size="851" author="ichattopadhyaya" created="Sat, 29 Apr 2023 05:23:13 +0000"/>
                            <attachment id="13057814" name="Screenshot_20230503_165913.jpg" size="459645" author="ichattopadhyaya" created="Wed, 3 May 2023 21:00:38 +0000"/>
                            <attachment id="13057812" name="Screenshot_20230503_181534.jpg" size="396115" author="ichattopadhyaya" created="Wed, 3 May 2023 20:59:47 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 1 week, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1hlzc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>