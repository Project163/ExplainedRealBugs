<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:19:31 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-1902] Tika no longer properly extracts content in Solr</title>
                <link>https://issues.apache.org/jira/browse/SOLR-1902</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;See &lt;a href=&quot;http://www.lucidimagination.com/search/document/2ca3fe953038a54f/problem_with_pdf_upgrading_cell#22360c8261801f24&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.lucidimagination.com/search/document/2ca3fe953038a54f/problem_with_pdf_upgrading_cell#22360c8261801f24&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;It appears that since the upgrade to Tika 0.7, Tika is now selecting an EmptyParser when uploading docs, which then outputs an empty XHTML representation.  Still, it&apos;s strange that the tests pass.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12463609">SOLR-1902</key>
            <summary>Tika no longer properly extracts content in Solr</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gsingers">Grant Ingersoll</assignee>
                                    <reporter username="gsingers">Grant Ingersoll</reporter>
                        <labels>
                    </labels>
                <created>Mon, 3 May 2010 22:22:41 +0000</created>
                <updated>Wed, 30 Mar 2011 15:45:24 +0000</updated>
                            <resolved>Thu, 5 Aug 2010 14:28:29 +0000</resolved>
                                                    <fixVersion>1.4.2</fixVersion>
                    <fixVersion>3.1</fixVersion>
                    <fixVersion>4.0-ALPHA</fixVersion>
                                    <component>contrib - Solr Cell (Tika extraction)</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="12863548" author="gsingers" created="Mon, 3 May 2010 22:33:47 +0000"  >&lt;p&gt;Further debugging shows that on startup, Tika did not load any parsers, which is the difference as to why the tests pass.&lt;/p&gt;</comment>
                            <comment id="12865778" author="gsingers" created="Mon, 10 May 2010 14:38:26 +0000"  >&lt;p&gt;Upgraded to Tika 0.8-SNAPSHOT and added class loading capabilities.&lt;/p&gt;</comment>
                            <comment id="12866114" author="ehatcher" created="Tue, 11 May 2010 09:57:13 +0000"  >&lt;p&gt;Is there a test case that could have caught this issue that we can add?&lt;/p&gt;</comment>
                            <comment id="12866340" author="gsingers" created="Tue, 11 May 2010 21:21:19 +0000"  >&lt;p&gt;I suppose one could setup a Jetty fire off test to do it.&lt;/p&gt;</comment>
                            <comment id="12872822" author="hossman" created="Fri, 28 May 2010 03:29:21 +0000"  >
&lt;p&gt;Correcting Fix Version based on CHANGES.txt, see this thread for more details...&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/lucene-dev/201005.mbox/%3Calpine.DEB.1.10.1005251052040.24672@radix.cryptio.net%3E&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://mail-archives.apache.org/mod_mbox/lucene-dev/201005.mbox/%3Calpine.DEB.1.10.1005251052040.24672@radix.cryptio.net%3E&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12875725" author="bgreenlee" created="Fri, 4 Jun 2010 19:42:10 +0000"  >&lt;p&gt;I am still seeing this issue. It works if I downgrade Tika to 0.6, but neither the 0.8-SNAPSHOT included in the current Solr trunk nor a snapshot from the Tika trunk work for me. I&apos;m running Java 1.6.0_20 on OS X 10.6.3. I posted about the issue to the solr-user mailing list: &lt;a href=&quot;http://lucene.472066.n3.nabble.com/TikaEntityProcessor-not-working-td856965.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://lucene.472066.n3.nabble.com/TikaEntityProcessor-not-working-td856965.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12875750" author="hossman" created="Fri, 4 Jun 2010 20:57:44 +0000"  >&lt;p&gt;reopening based on mailing list discussion indicating problem is still in trunk&lt;/p&gt;</comment>
                            <comment id="12884295" author="gsingers" created="Thu, 1 Jul 2010 14:30:10 +0000"  >&lt;p&gt;I&apos;m not seeing this.  I just tried trunk and it works for me.  Brad, can you produce a test case?  What happens if you run with extractOnly?  Does it return the content?  I tried both that and indexing using trunk and the example per the wiki docs and it all appears to work for me.&lt;/p&gt;</comment>
                            <comment id="12892757" author="davetbo" created="Tue, 27 Jul 2010 13:06:07 +0000"  >&lt;p&gt;I just tried this patch and the patch for ExtractingRequestHandler does not work when applied to the ExtractingRequestHandler from Solr 1.4.1.  If it&apos;s a 1.4.0-specific patch maybe it should say something to that effect.  I was able to read the patch and manually change the code, though.  I have not yet tried the resulting compiled classes to see if they fix my issue, though.&lt;/p&gt;</comment>
                            <comment id="12892813" author="davetbo" created="Tue, 27 Jul 2010 15:11:40 +0000"  >&lt;p&gt;OK, I just did an ant clean dist with these patches applied.  When I try to use curl to post a file to Solr it gives me this error:&lt;br/&gt;
SEVERE: java.lang.NoSuchMethodError: org.apache.solr.core.SolrResourceLoader.getClassLoader()Ljava/lang/ClassLoader;&lt;br/&gt;
        at org.apache.solr.handler.extraction.ExtractingRequestHandler.inform(ExtractingRequestHandler.java:93)&lt;br/&gt;
        at org.apache.solr.core.RequestHandlers$LazyRequestHandlerWrapper.getWrappedHandler(RequestHandlers.java:244)&lt;br/&gt;
        at org.apache.solr.core.RequestHandlers$LazyRequestHandlerWrapper.handleRequest(RequestHandlers.java:231)&lt;br/&gt;
        at org.apache.solr.core.SolrCore.execute(SolrCore.java:1316)&lt;br/&gt;
        at org.apache.solr.servlet.SolrDispatchFilter.execute(SolrDispatchFilter.java:338)&lt;br/&gt;
        at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:241)&lt;br/&gt;
        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)&lt;br/&gt;
        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)&lt;br/&gt;
        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)&lt;br/&gt;
        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)&lt;br/&gt;
        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)&lt;br/&gt;
        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)&lt;br/&gt;
        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)&lt;br/&gt;
        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:298)&lt;br/&gt;
        at org.apache.coyote.http11.Http11AprProcessor.process(Http11AprProcessor.java:859)&lt;br/&gt;
        at org.apache.coyote.http11.Http11AprProtocol$Http11ConnectionHandler.process(Http11AprProtocol.java:579)&lt;br/&gt;
        at org.apache.tomcat.util.net.AprEndpoint$Worker.run(AprEndpoint.java:1555)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:619)&lt;/p&gt;

&lt;p&gt;I&apos;m not sure why, because if I look at the patched Java source for SolrResourceLoader the getClassLoader() method is there.  Any thoughts?&lt;/p&gt;</comment>
                            <comment id="12892957" author="teofili" created="Tue, 27 Jul 2010 22:09:10 +0000"  >&lt;p&gt;Hi all, I had the same issue David has, so I applied the patch (modifying files one by one) to a fresh Solr 1.4.1 checkout and I managed to have most of my PDFs being indexed with text extracted (with the &quot;example&quot; Solr instance). &lt;br/&gt;
Within the apache-solr-1.4.1 release I substituted all the files inside apache-solr-1.4.1/dist with the ones generated (inside the dist directory) invoking &apos;ant dist&apos; on the patched 1.4.1 source code, also I substituted the release war with the generated (patched) war inside example/webapps (this last one was mandatory to avoid the NoSuchMethodError reported above) . Then I ran &apos;java -jar start.jar&apos; from example dir and everything worked.&lt;br/&gt;
Note that I used the latest version of pdfbox, jembox and fontbox (1.2.1).&lt;br/&gt;
I can attach the patch to 1.4.1 code I used.&lt;/p&gt;</comment>
                            <comment id="12893328" author="davetbo" created="Wed, 28 Jul 2010 19:40:57 +0000"  >&lt;p&gt;OK, I tried Tommaso&apos;s patch and it worked great.  However, using the solr.war that came with the 1.4.1 distribution, it still gave the NoSuchMethodError.  However, when I try the patched and newly-recompiled apache-solr-1.4.2-dev.war, it worked.  I thought I tried that before with the other patches and it didn&apos;t work.  In any case, it seems to be working with the following:&lt;br/&gt;
SOLR_DIST=the folder where the solr 1.4.1 distribution was unzipped.&lt;br/&gt;
SOLR_HOME=the folder where tomcat or jetty will look to load SOLR.&lt;/p&gt;

&lt;p&gt;1) fresh copy of solr 1.4.1 distribution unzipped to SOLR_DIST&lt;/p&gt;

&lt;p&gt;2) update SOLR_DIST/contrib/extraction/lib with the following:&lt;br/&gt;
   jempbox-1.2.1.jar&lt;br/&gt;
   fontbox-1.2.1.jar&lt;br/&gt;
   pdfbox-1.2.1.jar&lt;br/&gt;
   tika-core-0.8-SNAPSHOT.jar&lt;br/&gt;
   tika-parsers-0.8-SNAPSHOT.jar&lt;br/&gt;
  (and remove old tika and pdfbox-related jars)&lt;/p&gt;

&lt;p&gt;3) patch with Tommaso&apos;s patch above in the SOLR_DIST directory:&lt;br/&gt;
patch -p0 &amp;lt; SOLR1902_patch_to_141.txt&lt;/p&gt;

&lt;p&gt;4) still in SOLR_DIST, run &quot;ant dist&quot;&lt;/p&gt;

&lt;p&gt;5) copy SOLR_DIST/dist/*.jar to SOLR_HOME/lib&lt;br/&gt;
6) copy SOLR_DIST/dist/solrj-lib to SOLR_HOME/lib/solrj-lib&lt;br/&gt;
7) copy SOLR_DIST/dist/apache-solr-1.4.2-dev.war to SOLR_HOME/&lt;br/&gt;
8) remove SOLR_HOME/contrib/extraction/lib/*.jar&lt;br/&gt;
9) copy SOLR_DIST/contrib/extraction/lib/*.jar to SOLR_HOME/contrib/extraction/lib/&lt;br/&gt;
10) (for me in tomcat) add CATALINA_HOME/conf/Catalina/localhost/solr.xml with the following content (substitute the actual directory for &amp;lt;SOLR_HOME&amp;gt; as that is not correct syntax):&lt;br/&gt;
&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&amp;gt;&lt;br/&gt;
  &amp;lt;Context docBase=&quot;&amp;lt;SOLR_HOME&amp;gt;\apache-solr-1.4.2-dev.war&quot; debug=&quot;0&quot; crossContext=&quot;true&quot;&amp;gt;&lt;br/&gt;
  &amp;lt;Environment name=&quot;solr/home&quot; type=&quot;java.lang.String&quot; value=&quot;&amp;lt;SOLR_HOME&amp;gt;&quot; override=&quot;true&quot;/&amp;gt;&lt;br/&gt;
&amp;lt;/Context&amp;gt;&lt;br/&gt;
11) restart tomcat.&lt;br/&gt;
12) upload content via curl.&lt;br/&gt;
13) jump for joy when it doesn&apos;t crash on me again...=)&lt;/p&gt;

&lt;p&gt;Best,&lt;br/&gt;
Dave &lt;/p&gt;</comment>
                            <comment id="12895672" author="gsingers" created="Thu, 5 Aug 2010 13:24:09 +0000"  >&lt;p&gt;OK, so it seems that the comments on this were all about 1.4 and 1.4.1, which was never upgraded.  So, I believe trunk is working.  So, I&apos;m going to mark this as a Fix Version for 1.4.2 as well and put up a batch for that based on the patch here.&lt;/p&gt;</comment>
                            <comment id="12895695" author="gsingers" created="Thu, 5 Aug 2010 14:28:29 +0000"  >&lt;p&gt;Trunk, branch-1.4 (i.e. 1.4.2) and branch-3.x should all be on the same version of Tika at this point.&lt;/p&gt;</comment>
                            <comment id="13013052" author="gsingers" created="Wed, 30 Mar 2011 15:45:24 +0000"  >&lt;p&gt;Bulk close for 3.1.0 release&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12463684">TIKA-419</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12473297">SOLR-2101</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12450639" name="SOLR1902_patch_to_141.txt" size="8499" author="teofili" created="Tue, 27 Jul 2010 22:10:37 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5572</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 34 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i03o0f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>19323</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>