<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:59:15 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-13880] Collection creation fails with coreNodeName core_nodeX does not exist in shard</title>
                <link>https://issues.apache.org/jira/browse/SOLR-13880</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;I&apos;ve seen this when running tests locally. When issuing a collection creation, the call fails with:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;  [junit4]   2&amp;gt; 94288 ERROR (qtp1499898888-237) [n:127.0.0.1:63117_solr c:pull_replica_test_create_delete s:shard1 r:core_node9 x:pull_replica_test_create_delete_shard1_replica_p6 ] o.a.s.h.RequestHandlerBase org.apache.solr.common.SolrException: Error CREATEing SolrCore &apos;pull_replica_test_create_delete_shard1_replica_p6&apos;: Unable to create core [pull_replica_test_create_delete_shard1_replica_p6] Caused by: coreNodeName core_node9 does not exist in shard shard1, ignore the exception if the replica was deleted
   [junit4]   2&amp;gt; 	at org.apache.solr.core.CoreContainer.create(CoreContainer.java:1209)
   [junit4]   2&amp;gt; 	at org.apache.solr.handler.admin.CoreAdminOperation.lambda$static$0(CoreAdminOperation.java:93)
   [junit4]   2&amp;gt; 	at org.apache.solr.handler.admin.CoreAdminOperation.execute(CoreAdminOperation.java:362)
   [junit4]   2&amp;gt; 	at org.apache.solr.handler.admin.CoreAdminHandler$CallInfo.call(CoreAdminHandler.java:397)
   [junit4]   2&amp;gt; 	at org.apache.solr.handler.admin.CoreAdminHandler.handleRequestBody(CoreAdminHandler.java:181)
   [junit4]   2&amp;gt; 	at org.apache.solr.handler.RequestHandlerBase.handleRequest(RequestHandlerBase.java:198)
   [junit4]   2&amp;gt; 	at org.apache.solr.servlet.HttpSolrCall.handleAdmin(HttpSolrCall.java:843)
   [junit4]   2&amp;gt; 	at org.apache.solr.servlet.HttpSolrCall.handleAdminRequest(HttpSolrCall.java:809)
   [junit4]   2&amp;gt; 	at org.apache.solr.servlet.HttpSolrCall.call(HttpSolrCall.java:562)
   [junit4]   2&amp;gt; 	at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:424)
   [junit4]   2&amp;gt; 	at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:351)
   [junit4]   2&amp;gt; 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1610)
   [junit4]   2&amp;gt; 	at org.apache.solr.client.solrj.embedded.JettySolrRunner$DebugFilter.doFilter(JettySolrRunner.java:167)
   [junit4]   2&amp;gt; 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1610)
   [junit4]   2&amp;gt; 	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:540)
   [junit4]   2&amp;gt; 	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:255)
   [junit4]   2&amp;gt; 	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1711)
   [junit4]   2&amp;gt; 	at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:255)
   [junit4]   2&amp;gt; 	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1347)
   [junit4]   2&amp;gt; 	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:203)
   [junit4]   2&amp;gt; 	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:480)
   [junit4]   2&amp;gt; 	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1678)
   [junit4]   2&amp;gt; 	at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:201)
   [junit4]   2&amp;gt; 	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1249)
   [junit4]   2&amp;gt; 	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:144)
   [junit4]   2&amp;gt; 	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)
   [junit4]   2&amp;gt; 	at org.eclipse.jetty.rewrite.handler.RewriteHandler.handle(RewriteHandler.java:335)
   [junit4]   2&amp;gt; 	at org.eclipse.jetty.server.handler.gzip.GzipHandler.handle(GzipHandler.java:703)
   [junit4]   2&amp;gt; 	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)
   [junit4]   2&amp;gt; 	at org.eclipse.jetty.server.Server.handle(Server.java:505)
   [junit4]   2&amp;gt; 	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:370)
   [junit4]   2&amp;gt; 	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:267)
   [junit4]   2&amp;gt; 	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:305)
   [junit4]   2&amp;gt; 	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:103)
   [junit4]   2&amp;gt; 	at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:117)
   [junit4]   2&amp;gt; 	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:781)
   [junit4]   2&amp;gt; 	at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:917)
   [junit4]   2&amp;gt; 	at java.base/java.lang.Thread.run(Thread.java:835)
   [junit4]   2&amp;gt; Caused by: org.apache.solr.common.SolrException: Unable to create core [pull_replica_test_create_delete_shard1_replica_p6]
   [junit4]   2&amp;gt; 	at org.apache.solr.core.CoreContainer.createFromDescriptor(CoreContainer.java:1280)
   [junit4]   2&amp;gt; 	at org.apache.solr.core.CoreContainer.create(CoreContainer.java:1170)
   [junit4]   2&amp;gt; 	... 37 more
   [junit4]   2&amp;gt; Caused by: org.apache.solr.cloud.ZkController$NotInClusterStateException: coreNodeName core_node9 does not exist in shard shard1, ignore the exception if the replica was deleted
   [junit4]   2&amp;gt; 	at org.apache.solr.cloud.ZkController.checkStateInZk(ZkController.java:1870)
   [junit4]   2&amp;gt; 	at org.apache.solr.cloud.ZkController.preRegister(ZkController.java:1769)
   [junit4]   2&amp;gt; 	at org.apache.solr.core.CoreContainer.createFromDescriptor(CoreContainer.java:1252)
   [junit4]   2&amp;gt; 	... 38 more
   [junit4]   2&amp;gt; 
   [junit4]   2&amp;gt; 94288 INFO  (qtp1499898888-237) [n:127.0.0.1:63117_solr c:pull_replica_test_create_delete s:shard1 r:core_node9 x:pull_replica_test_create_delete_shard1_replica_p6 ] o.a.s.s.HttpSolrCall [admin] webapp=null path=/admin/cores params={qt=/admin/cores&amp;amp;coreNodeName=core_node9&amp;amp;collection.configName=conf&amp;amp;newCollection=true&amp;amp;name=pull_replica_test_create_delete_shard1_replica_p6&amp;amp;action=CREATE&amp;amp;numShards=2&amp;amp;collection=pull_replica_test_create_delete&amp;amp;shard=shard1&amp;amp;wt=javabin&amp;amp;version=2&amp;amp;replicaType=PULL} status=400 QTime=10025&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13264911">SOLR-13880</key>
            <summary>Collection creation fails with coreNodeName core_nodeX does not exist in shard</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="epugh">Eric Pugh</assignee>
                                    <reporter username="tflobbe">Tomas Eduardo Fernandez Lobbe</reporter>
                        <labels>
                    </labels>
                <created>Mon, 28 Oct 2019 21:39:29 +0000</created>
                <updated>Fri, 17 Oct 2025 20:04:53 +0000</updated>
                            <resolved>Sun, 30 Apr 2023 12:55:57 +0000</resolved>
                                    <version>9.0</version>
                                    <fixVersion>9.3</fixVersion>
                    <fixVersion>10.0</fixVersion>
                                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="7800">2h 10m</timespent>
                                <comments>
                            <comment id="16963245" author="tomasflobbe" created="Wed, 30 Oct 2019 17:17:05 +0000"  >&lt;p&gt;This has been happening in tests where a collection with the same name is created/removed rapidly&lt;/p&gt;</comment>
                            <comment id="16963269" author="tomasflobbe" created="Wed, 30 Oct 2019 17:47:57 +0000"  >&lt;p&gt;This can be related to what Erick describes in &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13709&quot; title=&quot;Race condition on core reload while core is still loading?&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13709&quot;&gt;SOLR-13709&lt;/a&gt;, this test will create/reload/delete/create/reload/delete (since it&apos;s ran twice). I&apos;m going to isolate that behavior into it&apos;s own test case&lt;/p&gt;</comment>
                            <comment id="16963336" author="tomasflobbe" created="Wed, 30 Oct 2019 19:04:55 +0000"  >&lt;p&gt;Created a PR with the test, however, I haven&apos;t been able to reproduce the failure yet&lt;/p&gt;</comment>
                            <comment id="16964399" author="tomasflobbe" created="Thu, 31 Oct 2019 21:45:56 +0000"  >&lt;p&gt;I updated the tests to include other replica types (since that&apos;s how I was reproducing this originally) but still can&apos;t get it to fail&lt;/p&gt;</comment>
                            <comment id="17718039" author="jira-bot" created="Sun, 30 Apr 2023 12:55:05 +0000"  >&lt;p&gt;Commit c8edffc49a7f0cae1a4975153034832de8307abe in solr&apos;s branch refs/heads/main from Eric Pugh&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=c8edffc49a7&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=c8edffc49a7&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13880&quot; title=&quot;Collection creation fails with coreNodeName core_nodeX does not exist in shard&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13880&quot;&gt;&lt;del&gt;SOLR-13880&lt;/del&gt;&lt;/a&gt;: Add test that creates/reloads/deletes collections (#1105)&lt;/p&gt;
</comment>
                            <comment id="17718040" author="jira-bot" created="Sun, 30 Apr 2023 12:55:34 +0000"  >&lt;p&gt;Commit a8031a350034a5e0e0c7f362cb5691e45c6dc275 in solr&apos;s branch refs/heads/branch_9x from Eric Pugh&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=a8031a35003&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=a8031a35003&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13880&quot; title=&quot;Collection creation fails with coreNodeName core_nodeX does not exist in shard&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13880&quot;&gt;&lt;del&gt;SOLR-13880&lt;/del&gt;&lt;/a&gt;: Add test that creates/reloads/deletes collections (#1105)&lt;/p&gt;
</comment>
                            <comment id="17718041" author="epugh" created="Sun, 30 Apr 2023 12:55:57 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tflobbe&quot; class=&quot;user-hover&quot; rel=&quot;tflobbe&quot;&gt;tflobbe&lt;/a&gt; for this!&lt;/p&gt;</comment>
                            <comment id="17718765" author="gus_heck" created="Wed, 3 May 2023 01:16:53 +0000"  >&lt;p&gt;I think this ticket has caused about a 30% failure rate in CollectionReloadTest. The following seed reproduces on mac and linux&lt;/p&gt;

&lt;p&gt;./gradlew :solr:core:test --tests &quot;org.apache.solr.cloud.api.collections.CollectionReloadTest.testCreateReloadDeletePull {seed=&lt;span class=&quot;error&quot;&gt;&amp;#91;5034E25078269F40:AA23984EFF0D7295&amp;#93;&lt;/span&gt;}&quot; -Ptests.jvms=12 &quot;-Ptests.jvmargs=-XX:TieredStopAtLevel=1 -XX:+UseParallelGC -XX:ActiveProcessorCount=1 -XX:ReservedCodeCacheSize=120m&quot; -Ptests.seed=5034E25078269F40 -Ptests.file.encoding=US-ASCII&lt;/p&gt;</comment>
                            <comment id="17718849" author="janhoy" created="Wed, 3 May 2023 08:53:53 +0000"  >&lt;p&gt;I created &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16784&quot; title=&quot;Frequent failing CollectionReloadTest&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16784&quot;&gt;&lt;del&gt;SOLR-16784&lt;/del&gt;&lt;/a&gt; to badapple the test, but perhaps you want to revert the last commit here instead &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=epugh&quot; class=&quot;user-hover&quot; rel=&quot;epugh&quot;&gt;epugh&lt;/a&gt; ?&lt;/p&gt;</comment>
                            <comment id="17719041" author="tomasflobbe" created="Wed, 3 May 2023 19:44:24 +0000"  >&lt;p&gt;An interesting thing is that the reason I didn&apos;t merge these tests back when I submitted the first PR was that they were always succeeding. Wondering if something broke in Solr since then, or if they were going to fail in Jenkins anyways. If people is able to reproduce locally then that makes me believe it&apos;s the first thing.&lt;/p&gt;</comment>
                            <comment id="17721200" author="ichattopadhyaya" created="Wed, 10 May 2023 05:58:01 +0000"  >&lt;p&gt;This test is failing ever since it was committed. I can repro 100% of the time using the following:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
../gradlew :solr:core:test --tests &lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.solr.cloud.api.collections.CollectionReloadTest.testCreateReloadDeleteAllNrt {seed=[24214BB5B1D7910B:3BAC2ED5A3AD7B90]}&quot;&lt;/span&gt; -Ptests.jvms=5 &lt;span class=&quot;code-quote&quot;&gt;&quot;-Ptests.jvmargs=-XX:TieredStopAtLevel=1 -XX:+UseParallelGC -XX:ActiveProcessorCount=1 -XX:ReservedCodeCacheSize=120m&quot;&lt;/span&gt; -Ptests.seed=24214BB5B1D7910B -Ptests.file.encoding=ISO-8859-1 &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Can we please disable or revert this test, until someone has a chance to look into the failure?&lt;/p&gt;</comment>
                            <comment id="17745760" author="houston" created="Fri, 21 Jul 2023 20:40:36 +0000"  >&lt;p&gt;Closing after the 9.3.0 release&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                            <outwardlinks description="causes">
                                        <issuelink>
            <issuekey id="13534783">SOLR-16784</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12984393" name="TestPullReplica-45-2.log" size="1337064" author="tflobbe" created="Wed, 30 Oct 2019 17:26:03 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 16 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z08120:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>