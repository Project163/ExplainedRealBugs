<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:56:38 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-5814] CoreContainer reports incorrect &amp; missleading path for solrconfig.xml when there are loading problems</title>
                <link>https://issues.apache.org/jira/browse/SOLR-5814</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;The error messages thrown by CoreContainer when there is a problem loading solrconfig.xml refer to the wrong path (leaves out &quot;conf/&quot;).&lt;/p&gt;

&lt;p&gt;This is missleading users (who may not notice the root cause) into thinking they need to move their solrconfig.xml from &lt;tt&gt;collection_name/conf/solrconfig.xml&lt;/tt&gt; to &lt;tt&gt;collection_name/solrconfig.xml&lt;/tt&gt; at which point they still get the same error message because solr still can&apos;t find the file in the conf dir&lt;/p&gt;</description>
                <environment></environment>
        <key id="12698755">SOLR-5814</key>
            <summary>CoreContainer reports incorrect &amp; missleading path for solrconfig.xml when there are loading problems</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hossman">Chris M. Hostetter</assignee>
                                    <reporter username="hossman">Chris M. Hostetter</reporter>
                        <labels>
                    </labels>
                <created>Tue, 4 Mar 2014 22:34:15 +0000</created>
                <updated>Mon, 9 May 2016 18:47:19 +0000</updated>
                            <resolved>Wed, 10 Sep 2014 01:40:44 +0000</resolved>
                                                    <fixVersion>4.10.1</fixVersion>
                    <fixVersion>5.0</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="13920139" author="hossman" created="Tue, 4 Mar 2014 22:42:32 +0000"  >&lt;p&gt;As an example, i did this...&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;hossman@frisbee:~/lucene/4x_dev/solr/example$ echo &quot;giberish&quot; &amp;gt; solr/collection1/conf/solrconfig.xml
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And then started solr and got this...&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;1450 [main] INFO  org.apache.solr.core.CoresLocator  &#8211; Looking for core definitions underneath /home/hossman/lucene/4x_dev/solr/example/solr
1457 [main] INFO  org.apache.solr.core.CoresLocator  &#8211; Found core collection1 in /home/hossman/lucene/4x_dev/solr/example/solr/collection1/
1467 [main] INFO  org.apache.solr.core.CoresLocator  &#8211; Found 1 core definitions
1470 [coreLoadExecutor-4-thread-1] INFO  org.apache.solr.core.CoreContainer  &#8211; Creating SolrCore &apos;collection1&apos; using instanceDir: /home/hossman/lucene/4x_dev/solr/example/solr/collection1
1470 [coreLoadExecutor-4-thread-1] INFO  org.apache.solr.core.SolrResourceLoader  &#8211; new SolrResourceLoader for directory: &apos;/home/hossman/lucene/4x_dev/solr/example/solr/collection1/&apos;
1568 [coreLoadExecutor-4-thread-1] ERROR org.apache.solr.core.Config  &#8211; Exception during parsing file: solrconfig.xml:org.xml.sax.SAXParseException; systemId: solrres:/solrconfig.xml; lineNumber: 1; columnNumber: 1; Content is not allowed in prolog.
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:198)
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.fatalError(ErrorHandlerWrapper.java:177)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:441)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:368)
	at com.sun.org.apache.xerces.internal.impl.XMLScanner.reportFatalError(XMLScanner.java:1436)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl$PrologDriver.next(XMLDocumentScannerImpl.java:999)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:606)
...
	at org.apache.solr.core.Config.&amp;lt;init&amp;gt;(Config.java:134)
	at org.apache.solr.core.Config.&amp;lt;init&amp;gt;(Config.java:86)
	at org.apache.solr.core.SolrConfig.&amp;lt;init&amp;gt;(SolrConfig.java:140)
	at org.apache.solr.core.CoreContainer.createFromLocal(CoreContainer.java:527)
	at org.apache.solr.core.CoreContainer.create(CoreContainer.java:597)
	at org.apache.solr.core.CoreContainer$1.call(CoreContainer.java:258)
	at org.apache.solr.core.CoreContainer$1.call(CoreContainer.java:250)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:744)

1570 [coreLoadExecutor-4-thread-1] ERROR org.apache.solr.core.CoreContainer  &#8211; Failed to load file /home/hossman/lucene/4x_dev/solr/example/solr/collection1/solrconfig.xml
1570 [coreLoadExecutor-4-thread-1] ERROR org.apache.solr.core.CoreContainer  &#8211; Unable to create core: collection1
org.apache.solr.common.SolrException: Could not load config file /home/hossman/lucene/4x_dev/solr/example/solr/collection1/solrconfig.xml
	at org.apache.solr.core.CoreContainer.createFromLocal(CoreContainer.java:530)
	at org.apache.solr.core.CoreContainer.create(CoreContainer.java:597)
	at org.apache.solr.core.CoreContainer$1.call(CoreContainer.java:258)
	at org.apache.solr.core.CoreContainer$1.call(CoreContainer.java:250)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:744)
Caused by: org.apache.solr.common.SolrException: org.xml.sax.SAXParseException; systemId: solrres:/solrconfig.xml; lineNumber: 1; columnNumber: 1; Content is not allowed in prolog.
	at org.apache.solr.core.Config.&amp;lt;init&amp;gt;(Config.java:148)
	at org.apache.solr.core.Config.&amp;lt;init&amp;gt;(Config.java:86)
	at org.apache.solr.core.SolrConfig.&amp;lt;init&amp;gt;(SolrConfig.java:140)
	at org.apache.solr.core.CoreContainer.createFromLocal(CoreContainer.java:527)
	... 9 more
Caused by: org.xml.sax.SAXParseException; systemId: solrres:/solrconfig.xml; lineNumber: 1; columnNumber: 1; Content is not allowed in prolog.
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:198)
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Note in particular the line that says: &lt;tt&gt;1570 [coreLoadExecutor-4-thread-1] ERROR org.apache.solr.core.CoreContainer  &#8211; Failed to load file &lt;b&gt;/home/hossman/lucene/4x_dev/solr/example/solr/collection1/solrconfig.xml&lt;/b&gt;&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;which is also what was front and center when i tried to load the admin UI in the browser.&lt;/p&gt;

&lt;p&gt;If i then stop solr and naively attempt to &quot;fix&quot; the problem...&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;hossman@frisbee:~/lucene/4x_dev/solr/example$ mv solr/collection1/conf/solrconfig.xml solr/collection1/solrconfig.xml
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Restarting solr gives an even less helpful variant of the same basic error (because there is no longer any useful root cause - the file really can&apos;t be found, just not in the place the main error says solr is looking) ...&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;1497 [main] INFO  org.apache.solr.core.CoresLocator  &#8211; Found core collection1 in /home/hossman/lucene/4x_dev/solr/example/solr/collection1/
1498 [main] INFO  org.apache.solr.core.CoresLocator  &#8211; Found 1 core definitions
1500 [coreLoadExecutor-4-thread-1] INFO  org.apache.solr.core.CoreContainer  &#8211; Creating SolrCore &apos;collection1&apos; using instanceDir: /home/hossman/lucene/4x_dev/solr/example/solr/collection1
1500 [coreLoadExecutor-4-thread-1] INFO  org.apache.solr.core.SolrResourceLoader  &#8211; new SolrResourceLoader for directory: &apos;/home/hossman/lucene/4x_dev/solr/example/solr/collection1/&apos;
1512 [coreLoadExecutor-4-thread-1] ERROR org.apache.solr.core.CoreContainer  &#8211; Failed to load file /home/hossman/lucene/4x_dev/solr/example/solr/collection1/solrconfig.xml
1514 [coreLoadExecutor-4-thread-1] ERROR org.apache.solr.core.CoreContainer  &#8211; Unable to create core: collection1
org.apache.solr.common.SolrException: Could not load config file /home/hossman/lucene/4x_dev/solr/example/solr/collection1/solrconfig.xml
	at org.apache.solr.core.CoreContainer.createFromLocal(CoreContainer.java:530)
	at org.apache.solr.core.CoreContainer.create(CoreContainer.java:597)
	at org.apache.solr.core.CoreContainer$1.call(CoreContainer.java:258)
...
Caused by: java.io.IOException: Can&apos;t find resource &apos;solrconfig.xml&apos; in classpath or &apos;/home/hossman/lucene/4x_dev/solr/example/solr/collection1/conf&apos;
	at org.apache.solr.core.SolrResourceLoader.openResource(SolrResourceLoader.java:342)
	at org.apache.solr.core.SolrResourceLoader.openConfig(SolrResourceLoader.java:288)
	at org.apache.solr.core.Config.&amp;lt;init&amp;gt;(Config.java:116)
	at org.apache.solr.core.Config.&amp;lt;init&amp;gt;(Config.java:86)
	at org.apache.solr.core.SolrConfig.&amp;lt;init&amp;gt;(SolrConfig.java:140)
	at org.apache.solr.core.CoreContainer.createFromLocal(CoreContainer.java:527)
	... 9 more
1517 [coreLoadExecutor-4-thread-1] ERROR org.apache.solr.core.CoreContainer  &#8211; null:org.apache.solr.common.SolrException: Unable to create core: collection1
	at org.apache.solr.core.CoreContainer.recordAndThrow(CoreContainer.java:989)
	at org.apache.solr.core.CoreContainer.create(CoreContainer.java:606)
	at org.apache.solr.core.CoreContainer$1.call(CoreContainer.java:258)
	at org.apache.solr.core.CoreContainer$1.call(CoreContainer.java:250)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13920143" author="ppujari" created="Tue, 4 Mar 2014 22:45:39 +0000"  >&lt;p&gt;correct, I also noticed this when I was upgraded to 4.7 and I had a spelling mistake in schema.xml property. &lt;/p&gt;</comment>
                            <comment id="13920352" author="ppujari" created="Wed, 5 Mar 2014 01:18:26 +0000"  >&lt;p&gt;Similarly, if there is any mistake in schema.xml file, error does not show /conf in the path either. I was working on this issue, yesterday and thought to add a patch.&lt;/p&gt;</comment>
                            <comment id="14113868" author="elyograg" created="Thu, 28 Aug 2014 15:42:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hossman&quot; class=&quot;user-hover&quot; rel=&quot;hossman&quot;&gt;hossman&lt;/a&gt;, this came up on the mailing list today.  I confirmed that it&apos;s still a problem in 4.9.0 by screwing up my solrconfig.xml file.&lt;/p&gt;</comment>
                            <comment id="14121930" author="hossman" created="Thu, 4 Sep 2014 20:22:24 +0000"  >&lt;p&gt;updated patch to trunk - some code moved around a bit.&lt;/p&gt;

&lt;p&gt;this also fixes TestLazyCores which had a test for the error condition (yeah!) but was asserting that the bad path was in the error message (booo!)&lt;/p&gt;

&lt;p&gt;running more tests and then i&apos;ll commit &amp;amp; backport.&lt;/p&gt;</comment>
                            <comment id="14122067" author="jira-bot" created="Thu, 4 Sep 2014 22:07:29 +0000"  >&lt;p&gt;Commit 1622569 from hossman@apache.org in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1622569&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1622569&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5814&quot; title=&quot;CoreContainer reports incorrect &amp;amp; missleading path for solrconfig.xml when there are loading problems&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5814&quot;&gt;&lt;del&gt;SOLR-5814&lt;/del&gt;&lt;/a&gt;: CoreContainer reports incorrect &amp;amp; missleading path for solrconfig.xml when there are loading problems&lt;/p&gt;</comment>
                            <comment id="14122110" author="jira-bot" created="Thu, 4 Sep 2014 22:32:36 +0000"  >&lt;p&gt;Commit 1622573 from hossman@apache.org in branch &apos;dev/branches/branch_4x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1622573&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1622573&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5814&quot; title=&quot;CoreContainer reports incorrect &amp;amp; missleading path for solrconfig.xml when there are loading problems&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5814&quot;&gt;&lt;del&gt;SOLR-5814&lt;/del&gt;&lt;/a&gt;: CoreContainer reports incorrect &amp;amp; missleading path for solrconfig.xml when there are loading problems (merge r1622569)&lt;/p&gt;</comment>
                            <comment id="14127904" author="hossman" created="Wed, 10 Sep 2014 01:40:44 +0000"  >&lt;p&gt;i could have sworn i resolved this a few days ago&lt;/p&gt;</comment>
                            <comment id="14128822" author="jira-bot" created="Wed, 10 Sep 2014 18:04:33 +0000"  >&lt;p&gt;Commit 1624082 from hossman@apache.org in branch &apos;dev/branches/lucene_solr_4_10&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1624082&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1624082&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5814&quot; title=&quot;CoreContainer reports incorrect &amp;amp; missleading path for solrconfig.xml when there are loading problems&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5814&quot;&gt;&lt;del&gt;SOLR-5814&lt;/del&gt;&lt;/a&gt;: CoreContainer reports incorrect &amp;amp; missleading path for solrconfig.xml when there are loading problems (merge r1622569)&lt;/p&gt;</comment>
                            <comment id="14332755" author="anshumg" created="Mon, 23 Feb 2015 05:01:44 +0000"  >&lt;p&gt;Bulk close after 5.0 release.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12666567" name="SOLR-5814.patch" size="3730" author="hossman" created="Thu, 4 Sep 2014 20:22:24 +0000"/>
                            <attachment id="12632735" name="SOLR-5814.patch" size="1909" author="ppujari" created="Wed, 5 Mar 2014 01:18:21 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>377103</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 39 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1szc7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>377398</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>