<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:31:06 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-11843] Admin UI -- collection creation sends routerField parameter instead of router.field</title>
                <link>https://issues.apache.org/jira/browse/SOLR-11843</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;One of the important fields for collection creation is the router.field parameter.  This shows up in the admin UI as &quot;routerField&quot; and when you enter a value there, the admin UI sends this information in the collections API request as a parameter named routerField ... but it should be sent as &quot;router.field&quot; instead.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13130119">SOLR-11843</key>
            <summary>Admin UI -- collection creation sends routerField parameter instead of router.field</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="elyograg">Shawn Heisey</assignee>
                                    <reporter username="elyograg">Shawn Heisey</reporter>
                        <labels>
                    </labels>
                <created>Thu, 11 Jan 2018 09:03:57 +0000</created>
                <updated>Sat, 8 Jun 2019 15:13:27 +0000</updated>
                            <resolved>Fri, 2 Mar 2018 17:44:58 +0000</resolved>
                                    <version>6.0</version>
                                    <fixVersion>7.3</fixVersion>
                    <fixVersion>8.0</fixVersion>
                                    <component>Admin UI</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="16321895" author="elyograg" created="Thu, 11 Jan 2018 09:09:21 +0000"  >&lt;p&gt;I&apos;m reasonably certain that this has been a problem since 6.0, when the collections capability became available in the new admin UI.  I discovered the problem on 7.2.&lt;/p&gt;

&lt;p&gt;I have no idea how to modify the javascript to fix the problem.  I tried a couple of ideas, but the first one completely broke the admin UI and the second one didn&apos;t work.&lt;/p&gt;</comment>
                            <comment id="16327403" author="ctargett" created="Tue, 16 Jan 2018 17:14:01 +0000"  >&lt;p&gt;Anyway you could share what you tried? Or describe&#160;your attempts a little bit?&lt;/p&gt;</comment>
                            <comment id="16327442" author="erickerickson" created="Tue, 16 Jan 2018 17:39:49 +0000"  >&lt;p&gt;I took a quick look at this, here&apos;s the problem&lt;/p&gt;

&lt;p&gt;1&amp;gt; use the admin UI to add a collection&lt;/p&gt;

&lt;p&gt;2&amp;gt; click &quot;show advanced&quot;&lt;/p&gt;

&lt;p&gt;3&amp;gt; enter &quot;blivet&quot; in the routerField text box&lt;/p&gt;

&lt;p&gt;The command in the solr log is below. Note &quot;routerField&quot; rather than &quot;router.field&quot; is passed as the parameter name:&lt;/p&gt;

&lt;p&gt;replicationFactor=1&amp;amp;routerName=compositeId&amp;amp;collection.configName=_default&amp;amp;maxShardsPerNode=1&amp;amp;name=eoe&amp;amp;router.name=compositeId&amp;amp;action=CREATE&amp;amp;numShards=1&amp;amp;&lt;b&gt;routerField&lt;/b&gt;=blivet...&lt;/p&gt;

&lt;p&gt;It doesn&apos;t matter whether the implicit or compositeId field is used.&lt;/p&gt;

&lt;p&gt;Another anomaly is that &quot;routerName&quot; is passed as well as &quot;router.name&quot;.&lt;/p&gt;

&lt;p&gt;params={replicationFactor=1&amp;amp;shards=2&amp;amp;&lt;b&gt;routerName=implicit&lt;/b&gt;&amp;amp;collection.configName=default&amp;amp;maxShardsPerNode=1&amp;amp;name=bonkers&amp;amp;&lt;b&gt;router.name=implicit&lt;/b&gt;&amp;amp;action=CREATE&amp;amp;numShards=1&amp;amp;routerField=whatever&lt;/p&gt;

&lt;p&gt;In lieu of restructuring the command itself to be consistent by either making&#160;all parameters camelCase or use the dot.notation, we should make the labels on the text boxes match the real parameter as well as fix what&apos;s sent to Solr I should think. Then just pass the correct parameter...&lt;/p&gt;</comment>
                            <comment id="16327633" author="ctargett" created="Tue, 16 Jan 2018 19:20:19 +0000"  >&lt;blockquote&gt;&lt;p&gt;we should make the labels on the text boxes match the real parameter as well as fix what&apos;s sent to Solr&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I assumed that was what Shawn was trying to do, but it seems strange that just changing the parameter names would completely mess up the UI.&lt;/p&gt;</comment>
                            <comment id="16327712" author="elyograg" created="Tue, 16 Jan 2018 20:11:39 +0000"  >&lt;p&gt;I was trying to modify the javascript code.&#160; Currently it has this:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-js&quot;&gt;
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (coll.routerField) params.routerField = coll.routerField;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I tried changing params.routerField to params.&quot;router.field&quot; ... but this completely broke the web page.  Changing it to params.router.field didn&apos;t work &amp;#8211; the collection wasn&apos;t created.&lt;/p&gt;</comment>
                            <comment id="16327716" author="elyograg" created="Tue, 16 Jan 2018 20:13:02 +0000"  >&lt;p&gt;In case it&apos;s not clear &amp;#8211; I don&apos;t know very much about javascript!&lt;/p&gt;</comment>
                            <comment id="16327752" author="elyograg" created="Tue, 16 Jan 2018 20:35:14 +0000"  >&lt;p&gt;Finally figured out the correct javascript syntax.  Attached a patch that seems to fix the problem (and the extra parameter that Erick noticed).&lt;/p&gt;</comment>
                            <comment id="16333283" author="elyograg" created="Sat, 20 Jan 2018 18:29:51 +0000"  >&lt;p&gt;Uploaded new patch.  Now includes CHANGES.txt in 7.3.0 section and changes the admin UI display from routerField to router.field so it more closely matches the actual API.  The internal javascript and some of the Java code still uses routerField, but a typical user is never going to see that.&lt;/p&gt;</comment>
                            <comment id="16333284" author="elyograg" created="Sat, 20 Jan 2018 18:34:20 +0000"  >&lt;p&gt;I&apos;m not taking any action on the idea of adjusting the API to camelCase.  The whole API probably needs a review and strict standardization, though that likely needs to take place in the v2 API, not the current one. &lt;/p&gt;</comment>
                            <comment id="16333291" author="elyograg" created="Sat, 20 Jan 2018 18:57:25 +0000"  >&lt;p&gt;I will say that the parameter with dots in them (like router.name and router.field) do not make much sense, given that most of the other parameters for the CREATE action already are camelCase.  It&apos;s almost like there&apos;s more than one person creating all this stuff! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="16382608" author="ctargett" created="Thu, 1 Mar 2018 20:31:38 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=elyograg&quot; class=&quot;user-hover&quot; rel=&quot;elyograg&quot;&gt;elyograg&lt;/a&gt; - were you planning to try to get this in for 7.3? I just applied your patch &amp;amp; besides a little conflict from CHANGES, it looks good and when I create a new collection, I see this (irrelevant params omitted):&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Invoked Collection Action :create with params ...&amp;amp;router.field=text...&amp;amp;router.name=compositeId...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So +1 from me. If you don&apos;t have time, I could fix the CHANGES entry and commit it.&lt;/p&gt;</comment>
                            <comment id="16382680" author="elyograg" created="Thu, 1 Mar 2018 21:32:59 +0000"  >&lt;blockquote&gt;&lt;p&gt;If you don&apos;t have time, I could fix the CHANGES entry and commit it.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Go for it.  I&apos;ve been busy lately and haven&apos;t had time beyond writing comments and replying to select emails.&lt;/p&gt;</comment>
                            <comment id="16383869" author="jira-bot" created="Fri, 2 Mar 2018 17:43:35 +0000"  >&lt;p&gt;Commit c59e2e98d2cef7c220f3b5dbea67fc4adbea0914 in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ctargett&quot; class=&quot;user-hover&quot; rel=&quot;ctargett&quot;&gt;ctargett&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=c59e2e9&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=c59e2e9&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11843&quot; title=&quot;Admin UI -- collection creation sends routerField parameter instead of router.field&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-11843&quot;&gt;&lt;del&gt;SOLR-11843&lt;/del&gt;&lt;/a&gt;: Fix Admin UI handling of router.field and router.name params; change routerField label to match param name&lt;/p&gt;</comment>
                            <comment id="16383871" author="jira-bot" created="Fri, 2 Mar 2018 17:44:06 +0000"  >&lt;p&gt;Commit 62e6a7ca2b63b8a4d287ec26570ed41598987bb2 in lucene-solr&apos;s branch refs/heads/branch_7x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ctargett&quot; class=&quot;user-hover&quot; rel=&quot;ctargett&quot;&gt;ctargett&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=62e6a7c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=62e6a7c&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11843&quot; title=&quot;Admin UI -- collection creation sends routerField parameter instead of router.field&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-11843&quot;&gt;&lt;del&gt;SOLR-11843&lt;/del&gt;&lt;/a&gt;: Fix Admin UI handling of router.field and router.name params; change routerField label to match param name&lt;/p&gt;</comment>
                            <comment id="16383873" author="ctargett" created="Fri, 2 Mar 2018 17:44:58 +0000"  >&lt;p&gt;Thanks for fixing this &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=elyograg&quot; class=&quot;user-hover&quot; rel=&quot;elyograg&quot;&gt;elyograg&lt;/a&gt;!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12906972" name="SOLR-11843.patch" size="2185" author="elyograg" created="Sat, 20 Jan 2018 18:27:57 +0000"/>
                            <attachment id="12906275" name="SOLR-11843.patch" size="868" author="elyograg" created="Tue, 16 Jan 2018 20:34:33 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 37 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3os8v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>