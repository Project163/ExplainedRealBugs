<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:25:12 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-10878] MOVEREPLICA command may lose data when replicationFactor==1</title>
                <link>https://issues.apache.org/jira/browse/SOLR-10878</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;Follow-up to &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10704&quot; title=&quot;REPLACENODE can make the collection lost data which replicaFactor is 1 &quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10704&quot;&gt;&lt;del&gt;SOLR-10704&lt;/del&gt;&lt;/a&gt;, a similar scenario occurs in &lt;tt&gt;MoveReplicaCmd&lt;/tt&gt; when replication factor is 1 - the only copy of the source replica may be deleted while the target replica is still recovering.&lt;/p&gt;

&lt;p&gt;Also, even when replicationFactor &amp;gt; 1 but the only remaining replicas are of the PULL type then leader election won&apos;t be able to find any replica to become a leader for this shard, which will result in effective data loss for that shard.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13079425">SOLR-10878</key>
            <summary>MOVEREPLICA command may lose data when replicationFactor==1</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ab">Andrzej Bialecki</assignee>
                                    <reporter username="ab">Andrzej Bialecki</reporter>
                        <labels>
                    </labels>
                <created>Tue, 13 Jun 2017 09:31:33 +0000</created>
                <updated>Sat, 8 Jun 2019 15:22:52 +0000</updated>
                            <resolved>Tue, 4 Jul 2017 17:58:54 +0000</resolved>
                                    <version>6.6</version>
                    <version>6.7</version>
                    <version>7.0</version>
                                    <fixVersion>7.0</fixVersion>
                    <fixVersion>8.0</fixVersion>
                                    <component>SolrCloud</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16054616" author="ab" created="Mon, 19 Jun 2017 19:17:51 +0000"  >&lt;p&gt;Current WIP is available on branch jira/solr-10878. With Shalin&apos;s help we were able to discover that tests were failing also due to &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10914&quot; title=&quot;RecoveryStrategy&amp;#39;s sendPrepRecoveryCmd can get stuck for 5 minutes if leader is unloaded&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10914&quot;&gt;&lt;del&gt;SOLR-10914&lt;/del&gt;&lt;/a&gt;, which currently blocks this issue.&lt;/p&gt;</comment>
                            <comment id="16073500" author="jira-bot" created="Tue, 4 Jul 2017 11:26:17 +0000"  >&lt;p&gt;Commit bc37e8b4cc45794af9271c158ec36b2902cddc2f in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ab&quot; class=&quot;user-hover&quot; rel=&quot;ab&quot;&gt;ab&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=bc37e8b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=bc37e8b&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10878&quot; title=&quot;MOVEREPLICA command may lose data when replicationFactor==1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10878&quot;&gt;&lt;del&gt;SOLR-10878&lt;/del&gt;&lt;/a&gt;: MOVEREPLICA command may lose data when replicationFactor==1.&lt;/p&gt;</comment>
                            <comment id="16073783" author="mkhludnev" created="Tue, 4 Jul 2017 14:55:28 +0000"  >&lt;p&gt;I&apos;m afraid &lt;tt&gt;precommit&lt;/tt&gt; fails. &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;      [rat] *****************************************************
      [rat]  Printing headers &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; files without AL header...
      [rat]  
      [rat]  
      [rat] =======================================================================
      [rat] ==lucene-solr/solr/core/src/test/org/apache/solr/cloud/MoveReplicaHDFSTest.java
common-build.xml:1937: Rat problems were found!
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16073962" author="jira-bot" created="Tue, 4 Jul 2017 17:46:37 +0000"  >&lt;p&gt;Commit ddfa074214dc1e1a3aa53fdcb387796aadbcb914 in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ab&quot; class=&quot;user-hover&quot; rel=&quot;ab&quot;&gt;ab&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=ddfa074&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=ddfa074&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10878&quot; title=&quot;MOVEREPLICA command may lose data when replicationFactor==1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10878&quot;&gt;&lt;del&gt;SOLR-10878&lt;/del&gt;&lt;/a&gt;: Fix precommit.&lt;/p&gt;</comment>
                            <comment id="16073963" author="ab" created="Tue, 4 Jul 2017 17:47:13 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mkhludnev&quot; class=&quot;user-hover&quot; rel=&quot;mkhludnev&quot;&gt;mkhludnev&lt;/a&gt;: fixed, thanks!&lt;/p&gt;</comment>
                            <comment id="16073972" author="jira-bot" created="Tue, 4 Jul 2017 17:58:04 +0000"  >&lt;p&gt;Commit ce6a82e2ddbb916d06ce6792afb11e8bfa405db1 in lucene-solr&apos;s branch refs/heads/branch_7x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ab&quot; class=&quot;user-hover&quot; rel=&quot;ab&quot;&gt;ab&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=ce6a82e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=ce6a82e&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10878&quot; title=&quot;MOVEREPLICA command may lose data when replicationFactor==1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10878&quot;&gt;&lt;del&gt;SOLR-10878&lt;/del&gt;&lt;/a&gt;: MOVEREPLICA command may lose data when replicationFactor==1.&lt;/p&gt;</comment>
                            <comment id="16073973" author="jira-bot" created="Tue, 4 Jul 2017 17:58:05 +0000"  >&lt;p&gt;Commit 478ecba4cad9bb829ef6bf30354ba29823057916 in lucene-solr&apos;s branch refs/heads/branch_7x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ab&quot; class=&quot;user-hover&quot; rel=&quot;ab&quot;&gt;ab&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=478ecba&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=478ecba&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10878&quot; title=&quot;MOVEREPLICA command may lose data when replicationFactor==1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10878&quot;&gt;&lt;del&gt;SOLR-10878&lt;/del&gt;&lt;/a&gt;: Fix precommit.&lt;/p&gt;</comment>
                            <comment id="16073975" author="jira-bot" created="Tue, 4 Jul 2017 17:58:27 +0000"  >&lt;p&gt;Commit a32ba2c9560cb1e6ad79854a382de668145994c4 in lucene-solr&apos;s branch refs/heads/branch_7_0 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ab&quot; class=&quot;user-hover&quot; rel=&quot;ab&quot;&gt;ab&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=a32ba2c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=a32ba2c&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10878&quot; title=&quot;MOVEREPLICA command may lose data when replicationFactor==1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10878&quot;&gt;&lt;del&gt;SOLR-10878&lt;/del&gt;&lt;/a&gt;: MOVEREPLICA command may lose data when replicationFactor==1.&lt;/p&gt;</comment>
                            <comment id="16073976" author="jira-bot" created="Tue, 4 Jul 2017 17:58:28 +0000"  >&lt;p&gt;Commit 174d55f41486b5bc30661d116e1119abfcc30ba3 in lucene-solr&apos;s branch refs/heads/branch_7_0 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ab&quot; class=&quot;user-hover&quot; rel=&quot;ab&quot;&gt;ab&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=174d55f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=174d55f&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10878&quot; title=&quot;MOVEREPLICA command may lose data when replicationFactor==1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10878&quot;&gt;&lt;del&gt;SOLR-10878&lt;/del&gt;&lt;/a&gt;: Fix precommit.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="13080867">SOLR-10914</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12999807">SOLR-9440</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 20 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3g7dj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>