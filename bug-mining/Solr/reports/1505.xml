<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:38:41 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-5159] Manifest includes non-parsed maven variables</title>
                <link>https://issues.apache.org/jira/browse/SOLR-5159</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;When building Lucene/Solr with Apache Maven 3, all MANIFEST.MF files included into JAR artifacts contain non-parsed POM variables: namely, there are entries like&lt;/p&gt;

&lt;p&gt;Specification-Version: 5.0.0.${now.version}&lt;/p&gt;

&lt;p&gt;In the end, Solr displays these values on admin page in &quot;Versions&quot; section.&lt;/p&gt;

&lt;p&gt;This is caused by unresolved bug in maven-bundle-plugin (&lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-3392&quot; title=&quot;Generated Manifest ignores properties set by other plugins&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FELIX-3392&quot;&gt;FELIX-3392&lt;/a&gt;). &lt;/p&gt;</description>
                <environment>&lt;p&gt;Apache Maven 3.0.5&lt;/p&gt;</environment>
        <key id="12663863">SOLR-5159</key>
            <summary>Manifest includes non-parsed maven variables</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sarowe">Steven Rowe</assignee>
                                    <reporter username="artem.karpenko">Artem Karpenko</reporter>
                        <labels>
                            <label>maven-bundle-plugin</label>
                            <label>maven3,</label>
                    </labels>
                <created>Thu, 15 Aug 2013 15:19:18 +0000</created>
                <updated>Mon, 9 May 2016 18:56:12 +0000</updated>
                            <resolved>Fri, 16 Aug 2013 17:56:34 +0000</resolved>
                                    <version>4.4</version>
                    <version>4.5</version>
                    <version>6.0</version>
                                    <fixVersion>4.5</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                    <component>Build</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13741054" author="artem.karpenko" created="Thu, 15 Aug 2013 15:21:03 +0000"  >&lt;p&gt;Patch moves declaration of Manifest headers from archive configuration of maven-jar-plugin into &quot;instructions&quot; section of maven-bundle-plugin, which latter plugin does parse for variables correctly.&lt;/p&gt;</comment>
                            <comment id="13741061" author="artem.karpenko" created="Thu, 15 Aug 2013 15:26:45 +0000"  >&lt;p&gt;I&apos;ve checked maven 2 builds as well - after applying changes manifest files stay the same (correct).&lt;/p&gt;</comment>
                            <comment id="13741176" author="steve_rowe" created="Thu, 15 Aug 2013 16:54:32 +0000"  >&lt;p&gt;Hi Artem, I&apos;ve run and compared with and without your patch on trunk with Maven3, looks good so far: ${svn.revision} and ${now.timestamp} and one other timestazmp that weren&apos;t being interpolated now are.  I want to verify Maven2 locally, and I also want to compare all manifest entries with the Ant-produced ones - the solr entries were changed recently, and I want to keep them in sync.  Once these issues are settled, I&apos;ll commit.&lt;/p&gt;</comment>
                            <comment id="13742434" author="jira-bot" created="Fri, 16 Aug 2013 17:39:33 +0000"  >&lt;p&gt;Commit 1514813 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=steve_rowe&quot; class=&quot;user-hover&quot; rel=&quot;steve_rowe&quot;&gt;steve_rowe&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1514813&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1514813&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5159&quot; title=&quot;Manifest includes non-parsed maven variables&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5159&quot;&gt;&lt;del&gt;SOLR-5159&lt;/del&gt;&lt;/a&gt;: Manifest includes non-parsed maven variables&lt;/p&gt;</comment>
                            <comment id="13742435" author="jira-bot" created="Fri, 16 Aug 2013 17:41:40 +0000"  >&lt;p&gt;Commit 1514814 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=steve_rowe&quot; class=&quot;user-hover&quot; rel=&quot;steve_rowe&quot;&gt;steve_rowe&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1514814&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1514814&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5159&quot; title=&quot;Manifest includes non-parsed maven variables&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5159&quot;&gt;&lt;del&gt;SOLR-5159&lt;/del&gt;&lt;/a&gt;: fix typo in CHANGES entry&lt;/p&gt;</comment>
                            <comment id="13742439" author="jira-bot" created="Fri, 16 Aug 2013 17:44:28 +0000"  >&lt;p&gt;Commit 1514816 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=steve_rowe&quot; class=&quot;user-hover&quot; rel=&quot;steve_rowe&quot;&gt;steve_rowe&lt;/a&gt; in branch &apos;dev/branches/branch_4x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1514816&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1514816&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5159&quot; title=&quot;Manifest includes non-parsed maven variables&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5159&quot;&gt;&lt;del&gt;SOLR-5159&lt;/del&gt;&lt;/a&gt;: Manifest includes non-parsed maven variables (merged trunk r1514813 and r1514814)&lt;/p&gt;</comment>
                            <comment id="13742458" author="steve_rowe" created="Fri, 16 Aug 2013 17:56:34 +0000"  >&lt;blockquote&gt;&lt;p&gt;I want to verify Maven2 locally, and I also want to compare all manifest entries with the Ant-produced ones - the solr entries were changed recently, and I want to keep them in sync.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Maven 2.2.1 works fine.&lt;/p&gt;

&lt;p&gt;I compared the Ant-built and Maven-built manifests, and the Maven-built ones of course have lots of Bnd-produced entries not in the Ant-built ones.  There are two other differences:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;The Maven-built manifest contains Implementation-Vendor-Id (with Maven coordinate groupId as the value: org.apache.lucene or org.apache.solr).  I think this is fine to leave in, and maybe the Ant-built manifests should get it too?&lt;/li&gt;
	&lt;li&gt;The Maven-built manifests have the old style &lt;tt&gt;Specification-Version&lt;/tt&gt;, including a timestamp, e.g. &lt;tt&gt;5.0.0.2013.08.16.12.36.14&lt;/tt&gt;, where the Ant-built manifests just have the version, e.g. &lt;tt&gt;5.0-SNAPSHOT&lt;/tt&gt;.  The latter is actually syntactically incorrect, since the value should only have digits and period.  I&apos;ve left it as the old style in the Maven version, since it&apos;s not a syntax error, and since the Maven versions will only ever be produced by end-users - all snapshot and release Maven artifacts are produced by Ant.&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;I&apos;ve committed to trunk and branch_4x.&lt;/p&gt;

&lt;p&gt;Thanks Artem!&lt;/p&gt;</comment>
                            <comment id="13742480" author="artem.karpenko" created="Fri, 16 Aug 2013 18:13:02 +0000"  >&lt;p&gt;Great, thank you Steve, I was glad to help.&lt;/p&gt;</comment>
                            <comment id="13787067" author="jpountz" created="Sat, 5 Oct 2013 10:19:02 +0000"  >&lt;p&gt;4.5 release -&amp;gt; bulk close&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12598227" name="SOLR-5159.patch" size="4522" author="artem.karpenko" created="Thu, 15 Aug 2013 15:21:03 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>343864</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 7 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1natj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>344166</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>