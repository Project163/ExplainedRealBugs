<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:23:48 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-2860] In solr-test-framework, SolrTestCaseJ4 tracking of SolrIndexWriter opens / closes is incorrect</title>
                <link>https://issues.apache.org/jira/browse/SOLR-2860</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;This appears to be a simple copy/paste error, where someone attempted to copy the code for tracking open/close counts on SolrIndexSearcher,  and use it to track open/close counts on SolrIndexWriter, but didn&apos;t update all of the variables. In particular :&lt;/p&gt;

&lt;p&gt;&amp;#8211; the &quot;startTrackingWriters()&quot; method sets the values of numOpens and numCloses, not numWriterOpens and numWriterCloses&lt;br/&gt;
&amp;#8211; because in &quot;beforeClassSolrTestCase()&quot;, startTrackingWriters() is called after startTrackingSearchers(), this means that the &quot;start&quot; counts referenced by startTrackingSearchers can be incorrect. This can cause &quot;endTrackingSearchers()&quot; to report nonsensical (e.g. negative) open or close counts in test cases.&lt;br/&gt;
&amp;#8211; inside &quot;endTrackingWriters()&quot;, the test condition for detecting when writers have been opened but not closed uses numOpens / numCloses, even though the error message it logs uses numWriterOpens / numWriterCloses.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12529138">SOLR-2860</key>
            <summary>In solr-test-framework, SolrTestCaseJ4 tracking of SolrIndexWriter opens / closes is incorrect</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="hossman">Chris M. Hostetter</assignee>
                                    <reporter username="abeppu">Aaron Beppu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 27 Oct 2011 20:39:30 +0000</created>
                <updated>Fri, 10 May 2013 10:39:26 +0000</updated>
                            <resolved>Tue, 1 Nov 2011 21:35:23 +0000</resolved>
                                                    <fixVersion>4.0-ALPHA</fixVersion>
                                    <component>SearchComponents - other</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13137514" author="abeppu" created="Thu, 27 Oct 2011 20:41:42 +0000"  >&lt;p&gt;diff correcting the problem. Patch was made against revision=1176191.&lt;/p&gt;</comment>
                            <comment id="13141593" author="hossman" created="Tue, 1 Nov 2011 21:06:24 +0000"  >&lt;p&gt;Aaron: great catch.&lt;/p&gt;

&lt;p&gt;I was going to commit your patch, but in asking for a second set of eyeballs on irc, rmuir pointed out that this check is actually redundant now - MockDirectoryWrapper is used in all Solr tests, and it verifies that all files are closed cleanly by the SolrIndexWriters&lt;/p&gt;</comment>
                            <comment id="13141626" author="hossman" created="Tue, 1 Nov 2011 21:35:23 +0000"  >&lt;p&gt;I removed the broken/unnecessary code...&lt;/p&gt;

&lt;p&gt;Committed revision 1196292.&lt;/p&gt;

&lt;p&gt;...thanks again for bringing this up Aaron.&lt;/p&gt;</comment>
                            <comment id="13141643" author="abeppu" created="Tue, 1 Nov 2011 21:49:04 +0000"  >&lt;p&gt;Thanks for cleaning this up!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12492837">SOLR-2279</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12501156" name="trackingwriters.patch" size="1130" author="abeppu" created="Thu, 27 Oct 2011 20:41:42 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>214998</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 4 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i03i47:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>18368</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>