<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:43:18 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-13887] socketTimeout of 0 causing timeouts in the Http2SolrClient</title>
                <link>https://issues.apache.org/jira/browse/SOLR-13887</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;In Solr 7, and previous versions, the both the&#160;&lt;b&gt;socketTimeout&lt;/b&gt;&#160;and &lt;b&gt;connTimeout&lt;/b&gt;&#160;defaults in &lt;em&gt;solr.xml&lt;/em&gt;&#160;have accepted 0 as values. This is even &lt;a href=&quot;https://lucene.apache.org/solr/guide/8_2/format-of-solr-xml.html#defining-solr-xml&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;documented in the ref guide&lt;/a&gt;. Using these same defaults with Solr 8 results in timeouts when trying to manually create replicas. The major change here seems to be that the Http2SolrClient is being used instead of the HttpSolrClient used in Solr 7 and previous versions.&lt;/p&gt;

&lt;p&gt;After some digging, I think that the issue lies in the Http2SolrClient, &lt;a href=&quot;https://github.com/apache/lucene-solr/blob/master/solr/solrj/src/java/org/apache/solr/client/solrj/impl/Http2SolrClient.java#L399&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;specifically here&lt;/a&gt;. Since the idleTimeout is set to 0, since that is what solr pulls from the solr.xml, the listener immediately responds with a timeout.&lt;/p&gt;

&lt;p&gt;The fix here is pretty simple, just set a default if 0 is provided. Basically treat an idleTimeout (or socketTimeout) of 0 the same as null. The ref-guide should also likely be updated with the same defaults as used in the solr.xml packaged in Solr.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13265828">SOLR-13887</key>
            <summary>socketTimeout of 0 causing timeouts in the Http2SolrClient</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="houston">Houston Putman</assignee>
                                    <reporter username="houstonputman">Houston Putman</reporter>
                        <labels>
                    </labels>
                <created>Fri, 1 Nov 2019 20:15:15 +0000</created>
                <updated>Mon, 24 Mar 2025 17:50:21 +0000</updated>
                            <resolved>Wed, 5 Feb 2020 21:19:12 +0000</resolved>
                                    <version>8.0</version>
                    <version>9.0</version>
                                    <fixVersion>8.5</fixVersion>
                    <fixVersion>9.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1800">0.5h</timespent>
                                <comments>
                            <comment id="16991789" author="risdenk" created="Mon, 9 Dec 2019 17:23:31 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=caomanhdat&quot; class=&quot;user-hover&quot; rel=&quot;caomanhdat&quot;&gt;caomanhdat&lt;/a&gt; does this change seem reasonable to you?&lt;/p&gt;</comment>
                            <comment id="16994828" author="houston" created="Thu, 12 Dec 2019 16:13:16 +0000"  >&lt;p&gt;Talked about this with &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=erickerickson&quot; class=&quot;user-hover&quot; rel=&quot;erickerickson&quot;&gt;erickerickson&lt;/a&gt;&#160;and he agreed with the solution.&lt;/p&gt;</comment>
                            <comment id="17030936" author="jira-bot" created="Wed, 5 Feb 2020 19:15:53 +0000"  >&lt;p&gt;Commit 80ed8c281b354884561b8f1edbadb5e369de3d52 in lucene-solr&apos;s branch refs/heads/master from Houston Putman&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=80ed8c2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=80ed8c2&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13887&quot; title=&quot;socketTimeout of 0 causing timeouts in the Http2SolrClient&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13887&quot;&gt;&lt;del&gt;SOLR-13887&lt;/del&gt;&lt;/a&gt;: Use the default idleTimeout instead of 0 for HTTP2 (#991)&lt;/p&gt;
</comment>
                            <comment id="17031051" author="jira-bot" created="Wed, 5 Feb 2020 21:16:33 +0000"  >&lt;p&gt;Commit e0d35f964169a0d1efb686f2e2586c896194c02c in lucene-solr&apos;s branch refs/heads/branch_8x from Houston Putman&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=e0d35f9&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=e0d35f9&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13887&quot; title=&quot;socketTimeout of 0 causing timeouts in the Http2SolrClient&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13887&quot;&gt;&lt;del&gt;SOLR-13887&lt;/del&gt;&lt;/a&gt;: Use the default idleTimeout instead of 0 for HTTP2 (#991)&lt;/p&gt;
</comment>
                            <comment id="17065738" author="romseygeek" created="Tue, 24 Mar 2020 12:46:49 +0000"  >&lt;p&gt;Bulk close for 8.5.0 release&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 34 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z086ps:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>