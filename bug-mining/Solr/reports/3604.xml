<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:27:04 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-11084] Issue with starting script with solr.home (-s) == solr</title>
                <link>https://issues.apache.org/jira/browse/SOLR-11084</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;I&apos;ve just hit an issue when starting solr using the script. All works well when I use:&lt;/p&gt;

&lt;p&gt;  /solr-6.6.0/bin/solr start -p 9090 -m 4g -s data/solr&lt;/p&gt;

&lt;p&gt;However if I cd into the data directory and try:&lt;/p&gt;

&lt;p&gt;  /solr-6.6.0/bin/solr start -p 9090 -m 4g -s solr&lt;/p&gt;

&lt;p&gt;Then I get no cores loaded and the &quot;solr.&#8203;solr.&#8203;home&quot; shown in the UI as my installation solr (i.e. /solr-6.6.0/server/solr)&lt;/p&gt;

&lt;p&gt;I thought that &quot;solr&quot; may be a reserved word so I changed the name of my folder to &quot;test-solr&quot; and this worked.&lt;/p&gt;

&lt;p&gt;I&apos;m unsure if this is an undocumented feature (at least I couldn&apos;t find any reference to it) or a bug.&lt;/p&gt;
</description>
                <environment>&lt;p&gt;OS X 10.12 &lt;/p&gt;</environment>
        <key id="13087187">SOLR-11084</key>
            <summary>Issue with starting script with solr.home (-s) == solr</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="erickerickson">Erick Erickson</assignee>
                                    <reporter username="neilireson">Neil Ireson</reporter>
                        <labels>
                    </labels>
                <created>Fri, 14 Jul 2017 12:47:13 +0000</created>
                <updated>Sat, 8 Jun 2019 15:21:38 +0000</updated>
                            <resolved>Mon, 14 Aug 2017 02:49:07 +0000</resolved>
                                    <version>6.6</version>
                                    <fixVersion>7.1</fixVersion>
                    <fixVersion>8.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="16090458" author="sarkaramrit2@gmail.com" created="Mon, 17 Jul 2017 20:03:59 +0000"  >&lt;p&gt;Neil,&lt;/p&gt;

&lt;p&gt;This is undocumented actually, and we should comment on the docs for this to get included. Here&apos;s what&apos;s happening ::&lt;/p&gt;

&lt;p&gt;solr.sh (solr script) :: line no:: 1334 (master branch)&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; [[ $SOLR_HOME != /* ]] &amp;amp;&amp;amp; [[ -d &lt;span class=&quot;code-quote&quot;&gt;&quot;$SOLR_SERVER_DIR/$SOLR_HOME&quot;&lt;/span&gt; ]]; then
      SOLR_HOME=&lt;span class=&quot;code-quote&quot;&gt;&quot;$SOLR_SERVER_DIR/$SOLR_HOME&quot;&lt;/span&gt;
      SOLR_PID_DIR=&lt;span class=&quot;code-quote&quot;&gt;&quot;$SOLR_HOME&quot;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;default value of &lt;tt&gt;SOLR_SERVER_DIR&lt;/tt&gt; is {SOLR_DIR/server/}}&lt;br/&gt;
and when we pass: &lt;tt&gt;SOLR_HOME&lt;/tt&gt; as &lt;tt&gt;solr&lt;/tt&gt;; it makes a perfect directory &lt;tt&gt;SOLR_DIR/server/solr&lt;/tt&gt; which is legit and it gets accepted.&lt;/p&gt;</comment>
                            <comment id="16090657" author="ctargett" created="Mon, 17 Jul 2017 22:06:28 +0000"  >&lt;blockquote&gt;&lt;p&gt;This is undocumented actually, and we should comment on the docs for this to get included.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Preferred would be if you submitted a patch with the doc change to this issue.&lt;/p&gt;</comment>
                            <comment id="16091141" author="sarkaramrit2@gmail.com" created="Tue, 18 Jul 2017 05:50:48 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ctargett&quot; class=&quot;user-hover&quot; rel=&quot;ctargett&quot;&gt;ctargett&lt;/a&gt;, positively. I will see how to make the patch with &lt;tt&gt;adoc&lt;/tt&gt; and post soon.&lt;/p&gt;</comment>
                            <comment id="16091188" author="neilireson" created="Tue, 18 Jul 2017 06:40:25 +0000"  >&lt;p&gt;Just wondering if it wouldn&apos;t make more sense to reverse the &quot;if&quot; statements below, so if the &quot;`pwd`/$SOLR_HOME&quot; exists use that. Personally that&apos;s the behaviour I would expect.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; [[ $SOLR_HOME != /* ]] &amp;amp;&amp;amp; [[ -d &lt;span class=&quot;code-quote&quot;&gt;&quot;$SOLR_SERVER_DIR/$SOLR_HOME&quot;&lt;/span&gt; ]]; then
      SOLR_HOME=&lt;span class=&quot;code-quote&quot;&gt;&quot;$SOLR_SERVER_DIR/$SOLR_HOME&quot;&lt;/span&gt;
      SOLR_PID_DIR=&lt;span class=&quot;code-quote&quot;&gt;&quot;$SOLR_HOME&quot;&lt;/span&gt;
    elif [[ $SOLR_HOME != /* ]] &amp;amp;&amp;amp; [[ -d &lt;span class=&quot;code-quote&quot;&gt;&quot;`pwd`/$SOLR_HOME&quot;&lt;/span&gt; ]]; then
      SOLR_HOME=&lt;span class=&quot;code-quote&quot;&gt;&quot;$(pwd)/$SOLR_HOME&quot;&lt;/span&gt;
    fi
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16091201" author="sarkaramrit2@gmail.com" created="Tue, 18 Jul 2017 06:54:50 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=neilireson&quot; class=&quot;user-hover&quot; rel=&quot;neilireson&quot;&gt;neilireson&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;Absolutely makes much more sense. Before falling back to default &lt;tt&gt;SOLR_SERVER_DIR&lt;/tt&gt; it should verify with the current dir, &lt;tt&gt;pwd&lt;/tt&gt;. I will cook up a patch with above changes and upload in while, feel free to do it anyway.&lt;/p&gt;</comment>
                            <comment id="16091443" author="neilireson" created="Tue, 18 Jul 2017 11:34:19 +0000"  >&lt;p&gt;OK here&apos;s a patch. Hopefully I&apos;ve followed the correct procedure. Note that I&apos;ve changed the code in the two separate places it appears in the script. &lt;/p&gt;</comment>
                            <comment id="16091615" author="erickerickson" created="Tue, 18 Jul 2017 14:23:56 +0000"  >&lt;p&gt;How&apos;s your Windows skills? Can you tell if there&apos;s a similar issue in solr.cmd?&lt;/p&gt;

&lt;p&gt;And the procedure looks fine.&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                            <comment id="16092450" author="neilireson" created="Wed, 19 Jul 2017 01:29:10 +0000"  >&lt;p&gt;I try not to venture into the Windows world however... it seems to me that the solr.cmd already has the &quot;correct&quot; procedure, in that it checks whether the current directory has the existing specified sub-directory before checking the SOLR_SERVER_DIR.&lt;/p&gt;</comment>
                            <comment id="16093127" author="sarkaramrit2@gmail.com" created="Wed, 19 Jul 2017 14:03:08 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=neilireson&quot; class=&quot;user-hover&quot; rel=&quot;neilireson&quot;&gt;neilireson&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Regarding documenting &lt;tt&gt;-s solr&lt;/tt&gt; in the docs. If the patch goes through, I don&apos;t a strong reason to put this bit of information in official docs. Your thoughts? &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=erickerickson&quot; class=&quot;user-hover&quot; rel=&quot;erickerickson&quot;&gt;erickerickson&lt;/a&gt;. &lt;/p&gt;</comment>
                            <comment id="16093150" author="neilireson" created="Wed, 19 Jul 2017 14:21:27 +0000"  >&lt;p&gt;Personally I would have like to have been informed that if a relative path is used,  the current directory is checked first and then the installation directory. This information could be provided as part of the &quot;bin/solr start --help&quot; text, that&apos;s where I looked first.&lt;/p&gt;

&lt;p&gt;N&lt;/p&gt;</comment>
                            <comment id="16093163" author="erickerickson" created="Wed, 19 Jul 2017 14:32:18 +0000"  >&lt;p&gt;I think putting it in the help text of the script is the way to go, it would be pretty easy to overlook in the reference guide.&lt;/p&gt;
</comment>
                            <comment id="16093382" author="sarkaramrit2@gmail.com" created="Wed, 19 Jul 2017 16:39:59 +0000"  >&lt;p&gt;Does this looks good. I have extended Neil&apos;s patch. Added the help text.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  -s &amp;lt;dir&amp;gt;      Sets the solr.solr.home system property; Solr will create core directories under
                  &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; directory. This allows you to run multiple Solr instances on the same host
                  &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; reusing the same server directory set using the -d parameter. If set, the
                  specified directory should contain a solr.xml file, unless solr.xml exists in Zookeeper.
                  This parameter is ignored when running examples (-e), as the solr.solr.home depends
                  on which example is run. The &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; value is server/solr. If passed relative dir,
                  validation with current dir will be done, before trying &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; server/&amp;lt;dir&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16125164" author="jira-bot" created="Mon, 14 Aug 2017 02:43:50 +0000"  >&lt;p&gt;Commit 7109820e01e114208d523edc9529d7b5ee783ab0 in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=erickerickson&quot; class=&quot;user-hover&quot; rel=&quot;erickerickson&quot;&gt;erickerickson&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=7109820&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=7109820&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11084&quot; title=&quot;Issue with starting script with solr.home (-s) == solr&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-11084&quot;&gt;&lt;del&gt;SOLR-11084&lt;/del&gt;&lt;/a&gt; Issue with starting script with solr.home (-s) == solr&lt;/p&gt;</comment>
                            <comment id="16125168" author="jira-bot" created="Mon, 14 Aug 2017 02:48:13 +0000"  >&lt;p&gt;Commit 5a208e1853792664b48ecea35166d681ce4d4aa6 in lucene-solr&apos;s branch refs/heads/branch_7x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=erickerickson&quot; class=&quot;user-hover&quot; rel=&quot;erickerickson&quot;&gt;erickerickson&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=5a208e1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=5a208e1&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11084&quot; title=&quot;Issue with starting script with solr.home (-s) == solr&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-11084&quot;&gt;&lt;del&gt;SOLR-11084&lt;/del&gt;&lt;/a&gt; Issue with starting script with solr.home (-s) == solr&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 7109820)&lt;/p&gt;</comment>
                            <comment id="16125169" author="erickerickson" created="Mon, 14 Aug 2017 02:49:07 +0000"  >&lt;p&gt;Thanks Neil and Amrit!&lt;/p&gt;</comment>
                            <comment id="16125603" author="sarkaramrit2@gmail.com" created="Mon, 14 Aug 2017 12:25:48 +0000"  >&lt;p&gt;Erick, in CHANGES.txt, &lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11084&quot; title=&quot;Issue with starting script with solr.home (-s) == solr&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-11084&quot;&gt;&lt;del&gt;SOLR-11084&lt;/del&gt;&lt;/a&gt;: Issue with starting script with solr.home (-s) == solr (Leil Ireson, Amrit Sarkar via Erick Erickson)&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I guess you misspelled &apos;Neil&apos; with &apos;Leil&apos; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="16207488" author="shalinmangar" created="Tue, 17 Oct 2017 11:04:33 +0000"  >&lt;p&gt;Bulk close after 7.1.0 release&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12878015" name="SOLR-11084.patch" size="3520" author="sarkaramrit2@gmail.com" created="Wed, 19 Jul 2017 16:39:58 +0000"/>
                            <attachment id="12877782" name="SOLR-11084.patch" size="1722" author="neilireson" created="Tue, 18 Jul 2017 11:32:18 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 5 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3hj4f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>