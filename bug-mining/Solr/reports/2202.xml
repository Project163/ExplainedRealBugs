<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:59:41 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-6755] ClassCastException from CloudMLTQParserTest</title>
                <link>https://issues.apache.org/jira/browse/SOLR-6755</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;The seed doesn&apos;t reproduce for me, but the ClassCastException seems hinky and worth looking into...&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;   [junit4]   2&amp;gt; NOTE: reproduce with: ant test  -Dtestcase=CloudMLTQParserTest -Dtests.method=testDistribSearch -Dtests.seed=3AE918BB008859A6 -Dtests.multiplier=3 -Dtests.slow=true -Dtests.locale=iw -Dtests.timezone=America/Indiana/Vincennes -Dtests.asserts=true -Dtests.file.encoding=ISO-8859-1
   [junit4] ERROR   50.7s J1 | CloudMLTQParserTest.testDistribSearch &amp;lt;&amp;lt;&amp;lt;
   [junit4]    &amp;gt; Throwable #1: java.lang.ClassCastException: java.lang.String cannot be cast to java.util.ArrayList
   [junit4]    &amp;gt; 	at __randomizedtesting.SeedInfo.seed([3AE918BB008859A6:BB0F96A377D7399A]:0)
   [junit4]    &amp;gt; 	at org.apache.solr.search.mlt.CloudMLTQParserTest.doTest(CloudMLTQParserTest.java:124)
   [junit4]    &amp;gt; 	at org.apache.solr.BaseDistributedSearchTestCase.testDistribSearch(BaseDistributedSearchTestCase.java:869)
   [junit4]    &amp;gt; 	at java.lang.Thread.run(Thread.java:745)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;http://jenkins.thetaphi.de/job/Lucene-Solr-5.x-Linux/11466/consoleText&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://jenkins.thetaphi.de/job/Lucene-Solr-5.x-Linux/11466/consoleText&lt;/a&gt;&lt;br/&gt;
Java: 64bit/jdk1.7.0_67 -XX:-UseCompressedOops -XX:+UseG1GC (asserts: true)&lt;br/&gt;
At revision 1640267&lt;/p&gt;</description>
                <environment></environment>
        <key id="12756153">SOLR-6755</key>
            <summary>ClassCastException from CloudMLTQParserTest</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="anshum">Anshum Gupta</assignee>
                                    <reporter username="hossman">Chris M. Hostetter</reporter>
                        <labels>
                    </labels>
                <created>Tue, 18 Nov 2014 17:21:52 +0000</created>
                <updated>Wed, 26 Aug 2015 13:05:47 +0000</updated>
                            <resolved>Sun, 12 Jul 2015 19:15:02 +0000</resolved>
                                                    <fixVersion>5.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14216687" author="anshumg" created="Tue, 18 Nov 2014 19:55:20 +0000"  >&lt;p&gt;I can&apos;t seem to reproduce it even after multiple runs. I&apos;m adding some safety checks in the test though and will commit a patch that handles this.&lt;/p&gt;</comment>
                            <comment id="14216714" author="jira-bot" created="Tue, 18 Nov 2014 20:12:37 +0000"  >&lt;p&gt;Commit 1640416 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anshumg&quot; class=&quot;user-hover&quot; rel=&quot;anshumg&quot;&gt;anshumg&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1640416&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1640416&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6755&quot; title=&quot;ClassCastException from CloudMLTQParserTest&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6755&quot;&gt;&lt;del&gt;SOLR-6755&lt;/del&gt;&lt;/a&gt;: Fix the test to always return 2 parsedqueries i.e. have more 2 shards&lt;/p&gt;</comment>
                            <comment id="14216716" author="jira-bot" created="Tue, 18 Nov 2014 20:13:49 +0000"  >&lt;p&gt;Commit 1640417 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anshumg&quot; class=&quot;user-hover&quot; rel=&quot;anshumg&quot;&gt;anshumg&lt;/a&gt; in branch &apos;dev/branches/branch_5x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1640417&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1640417&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6755&quot; title=&quot;ClassCastException from CloudMLTQParserTest&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6755&quot;&gt;&lt;del&gt;SOLR-6755&lt;/del&gt;&lt;/a&gt;: Fix the test to always return 2 parsedqueries i.e. have more 2 shards (merge from trunk)&lt;/p&gt;</comment>
                            <comment id="14216719" author="anshumg" created="Tue, 18 Nov 2014 20:15:36 +0000"  >&lt;p&gt;This commit should fix the issue. Changed the test to always have 2 shards i.e. never have 1 shard, that returns a String instead of an ArrayList&amp;lt;String&amp;gt; in the debug response.&lt;/p&gt;</comment>
                            <comment id="14229960" author="shalinmangar" created="Mon, 1 Dec 2014 16:18:22 +0000"  >&lt;p&gt;This happened again today. See &lt;a href=&quot;https://builds.apache.org/job/Lucene-Solr-Tests-5.x-Java7/2260/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Lucene-Solr-Tests-5.x-Java7/2260/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14230043" author="anshumg" created="Mon, 1 Dec 2014 17:03:21 +0000"  >&lt;p&gt;Looking into this.&lt;/p&gt;</comment>
                            <comment id="14231714" author="anshumg" created="Tue, 2 Dec 2014 16:40:07 +0000"  >&lt;p&gt;I haven&apos;t been able to reproduce this one even after running it all night. Also, considering there&apos;s no variable involved in the test, the result should be always be the same. &lt;/p&gt;

&lt;p&gt;I&apos;m going to add some extra logging in there and wait for the next Jenkins failure to be able to debug.&lt;/p&gt;</comment>
                            <comment id="14232098" author="anshumg" created="Tue, 2 Dec 2014 20:44:02 +0000"  >&lt;p&gt;Adding a try catch block and logging to get a better idea of why this fails.&lt;/p&gt;</comment>
                            <comment id="14232191" author="jira-bot" created="Tue, 2 Dec 2014 21:50:25 +0000"  >&lt;p&gt;Commit 1643013 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anshumg&quot; class=&quot;user-hover&quot; rel=&quot;anshumg&quot;&gt;anshumg&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1643013&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1643013&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6755&quot; title=&quot;ClassCastException from CloudMLTQParserTest&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6755&quot;&gt;&lt;del&gt;SOLR-6755&lt;/del&gt;&lt;/a&gt;: Adding a try/catch block and extra logging to get more details when this test fails next&lt;/p&gt;</comment>
                            <comment id="14232194" author="jira-bot" created="Tue, 2 Dec 2014 21:51:24 +0000"  >&lt;p&gt;Commit 1643014 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anshumg&quot; class=&quot;user-hover&quot; rel=&quot;anshumg&quot;&gt;anshumg&lt;/a&gt; in branch &apos;dev/branches/branch_5x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1643014&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1643014&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6755&quot; title=&quot;ClassCastException from CloudMLTQParserTest&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6755&quot;&gt;&lt;del&gt;SOLR-6755&lt;/del&gt;&lt;/a&gt;: Adding a try/catch block and extra logging to get more details when this test fails next (merge from trunk)&lt;/p&gt;</comment>
                            <comment id="14360985" author="anshumg" created="Fri, 13 Mar 2015 19:36:09 +0000"  >&lt;p&gt;Haven&apos;t seen this happen. Marking this as resolved.&lt;/p&gt;</comment>
                            <comment id="14512905" author="shalinmangar" created="Sun, 26 Apr 2015 06:10:33 +0000"  >&lt;p&gt;This happened again on jenkins.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://jenkins.thetaphi.de/job/Lucene-Solr-5.x-Linux/12237/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://jenkins.thetaphi.de/job/Lucene-Solr-5.x-Linux/12237/&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;1 tests failed.
FAILED:  org.apache.solr.search.mlt.CloudMLTQParserTest.test

Error Message:
java.lang.&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; cannot be &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt; to java.util.ArrayList

Stack Trace:
java.lang.ClassCastException: java.lang.&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; cannot be &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt; to java.util.ArrayList
        at __randomizedtesting.SeedInfo.seed([AA2D16A20519A653:22792978ABE5CBAB]:0)
        at org.apache.solr.search.mlt.CloudMLTQParserTest.test(CloudMLTQParserTest.java:138)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14512912" author="anshumg" created="Sun, 26 Apr 2015 06:37:13 +0000"  >&lt;p&gt;I&apos;ll take a look.&lt;/p&gt;</comment>
                            <comment id="14594971" author="shalinmangar" created="Sun, 21 Jun 2015 06:25:40 +0000"  >&lt;p&gt;A few more recent failures:&lt;br/&gt;
&lt;a href=&quot;http://jenkins.thetaphi.de/job/Lucene-Solr-5.x-Linux/12957/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://jenkins.thetaphi.de/job/Lucene-Solr-5.x-Linux/12957/&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;http://jenkins.thetaphi.de/job/Lucene-Solr-5.x-Linux/12963/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://jenkins.thetaphi.de/job/Lucene-Solr-5.x-Linux/12963/&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;http://jenkins.thetaphi.de/job/Lucene-Solr-5.x-MacOSX/2390/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://jenkins.thetaphi.de/job/Lucene-Solr-5.x-MacOSX/2390/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14598010" author="jira-bot" created="Tue, 23 Jun 2015 17:31:16 +0000"  >&lt;p&gt;Commit 1687104 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anshumg&quot; class=&quot;user-hover&quot; rel=&quot;anshumg&quot;&gt;anshumg&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1687104&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1687104&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6755&quot; title=&quot;ClassCastException from CloudMLTQParserTest&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6755&quot;&gt;&lt;del&gt;SOLR-6755&lt;/del&gt;&lt;/a&gt;: Adding a check in the test to stop hitting the ClassCast exception.&lt;/p&gt;</comment>
                            <comment id="14598035" author="jira-bot" created="Tue, 23 Jun 2015 17:46:41 +0000"  >&lt;p&gt;Commit 1687111 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anshumg&quot; class=&quot;user-hover&quot; rel=&quot;anshumg&quot;&gt;anshumg&lt;/a&gt; in branch &apos;dev/branches/branch_5x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1687111&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1687111&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6755&quot; title=&quot;ClassCastException from CloudMLTQParserTest&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6755&quot;&gt;&lt;del&gt;SOLR-6755&lt;/del&gt;&lt;/a&gt;: Adding a check in the test to stop hitting the ClassCast exception.(merge from trunk)&lt;/p&gt;</comment>
                            <comment id="14623958" author="anshumg" created="Sun, 12 Jul 2015 19:15:02 +0000"  >&lt;p&gt;This hasn&apos;t happened since the last commit. Marking this as resolved.&lt;/p&gt;</comment>
                            <comment id="14713108" author="shalinmangar" created="Wed, 26 Aug 2015 13:05:47 +0000"  >&lt;p&gt;Bulk close for 5.3.0 release&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12741141" name="SOLR-6755.patch" size="1256" author="anshum" created="Mon, 22 Jun 2015 21:51:01 +0000"/>
                            <attachment id="12684725" name="SOLR-6755.patch" size="2336" author="anshum" created="Tue, 2 Dec 2014 20:44:02 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 12 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i22ijj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>