<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:12:29 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-8599] Errors in construction of SolrZooKeeper cause Solr to go into an inconsistent state</title>
                <link>https://issues.apache.org/jira/browse/SOLR-8599</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;We originally saw this happen due to a DNS exception (see stack trace below). Although any exception thrown in the constructor of SolrZooKeeper or the parent class, ZooKeeper, will cause DefaultConnectionStrategy to fail to update the zookeeper client. Once it gets into this state, it will not try to connect again until the process is restarted. The node itself will also respond successfully to query requests, but not to update requests.&lt;/p&gt;

&lt;p&gt;Two things should be address here:&lt;br/&gt;
1) Fix the error handling and issue some number of retries&lt;br/&gt;
2) If we are stuck in a state like this stop responding to all requests &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;2016-01-23 13:49:20.222 ERROR ConnectionManager [main-EventThread] - :java.net.UnknownHostException: HOSTNAME: unknown error
at java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method)
at java.net.InetAddress$2.lookupAllHostAddr(InetAddress.java:928)
at java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1323)
at java.net.InetAddress.getAllByName0(InetAddress.java:1276)
at java.net.InetAddress.getAllByName(InetAddress.java:1192)
at java.net.InetAddress.getAllByName(InetAddress.java:1126)
at org.apache.zookeeper.client.StaticHostProvider.&amp;lt;init&amp;gt;(StaticHostProvider.java:61)
at org.apache.zookeeper.ZooKeeper.&amp;lt;init&amp;gt;(ZooKeeper.java:445)
at org.apache.zookeeper.ZooKeeper.&amp;lt;init&amp;gt;(ZooKeeper.java:380)
at org.apache.solr.common.cloud.SolrZooKeeper.&amp;lt;init&amp;gt;(SolrZooKeeper.java:41)
at org.apache.solr.common.cloud.DefaultConnectionStrategy.reconnect(DefaultConnectionStrategy.java:53)
at org.apache.solr.common.cloud.ConnectionManager.process(ConnectionManager.java:132)
at org.apache.zookeeper.ClientCnxn$EventThread.processEvent(ClientCnxn.java:522)
at org.apache.zookeeper.ClientCnxn$EventThread.run(ClientCnxn.java:498)
2016-01-23 13:49:20.222 INFO ConnectionManager [main-EventThread] - Connected:&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;
2016-01-23 13:49:20.222 INFO ClientCnxn [main-EventThread] - EventThread shut down
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12934145">SOLR-8599</key>
            <summary>Errors in construction of SolrZooKeeper cause Solr to go into an inconsistent state</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dpgove">Dennis Gove</assignee>
                                    <reporter username="k317h">Keith Laban</reporter>
                        <labels>
                    </labels>
                <created>Tue, 26 Jan 2016 16:09:07 +0000</created>
                <updated>Tue, 1 Mar 2022 17:07:54 +0000</updated>
                            <resolved>Thu, 21 Apr 2016 22:57:00 +0000</resolved>
                                                    <fixVersion>5.5.1</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                    <component>SolrCloud</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                                                                <comments>
                            <comment id="15120426" author="k317h" created="Wed, 27 Jan 2016 23:45:28 +0000"  >&lt;p&gt;Added a patch to address issue #1. In this patch I had to remove &lt;tt&gt;final&lt;/tt&gt; clause for &lt;tt&gt;ZkServerAddress&lt;/tt&gt; and add a public setter method in order to test the issue&lt;/p&gt;</comment>
                            <comment id="15141360" author="dpgove" created="Wed, 10 Feb 2016 18:14:48 +0000"  >&lt;p&gt;This fails the forbidden api precommit check.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[forbidden-apis] Forbidden method invocation: java.util.concurrent.Executors#newSingleThreadScheduledExecutor() [Spawns threads with vague names; use a custom thread factory (Lucene&lt;span class=&quot;code-quote&quot;&gt;&apos;s NamedThreadFactory, Solr&apos;&lt;/span&gt;s DefaultSolrThreadFactory) and name threads so that you can tell (by its name) which executor it is associated with]
[forbidden-apis]   in org.apache.solr.cloud.ConnectionManagerTest (ConnectionManagerTest.java:119)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15143635" author="k317h" created="Thu, 11 Feb 2016 22:37:19 +0000"  >&lt;p&gt;added usage of DefaultSolrThreadFactory to test&lt;/p&gt;</comment>
                            <comment id="15157644" author="dpgove" created="Mon, 22 Feb 2016 20:26:15 +0000"  >&lt;p&gt;I have somewhat of an interesting situation at hand here.&lt;/p&gt;

&lt;p&gt;As part of this patch a test is added to ConnectionManagerTest which forces a DNS failure on the zookeeper connection by attempting to connect to &quot;BADADDRESS&quot; and then fixing it after 5 seconds. This shows that the change Keith put in ConnectionManager will continually try to make a connection until it can. It&apos;s a good test and it exercises the bug and fix perfectly.&lt;/p&gt;

&lt;p&gt;However, the test depends on my ISP. I&apos;ve run the test under 5 scenarios and only 3 of them pass. &lt;/p&gt;

&lt;p&gt;1. Connected to my corporate network&lt;br/&gt;
In this scenario the test passes perfectly as it should.&lt;/p&gt;

&lt;p&gt;2. Connected to no network (ie, wifi card turned off)&lt;br/&gt;
In this scenario the test passes perfectly as it should.&lt;/p&gt;

&lt;p&gt;3. Connected to my home network backed by Verizon FIOS&lt;br/&gt;
In this scenario the test hangs and upon further investigation I found that it is in an &quot;infinite&quot; loop in ConnectionManager::waitForConnected. This appears to be an infinite loop because while there is a timeout the timeout is Long.MAX_VALUE. The problem here is that the loop waits until it is either connected or closed. Neither of those conditions are ever hit. But why? We&apos;re trying to hit &lt;a href=&quot;http://BADADDRESS&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://BADADDRESS&lt;/a&gt; and clearly that is a DNS lookup failure. Oh no no no, not according to Verizon. See, Verizon instead says &quot;Oh, you must&apos;ve typed something in wrong so instead of returning to you a DNS failure let me return to you a redirect to a search page - you clearly want this search page&quot;. It appears that because of this redirection a connection is never made nor is it ever closed. Hence, loop forever. &lt;/p&gt;

&lt;p&gt;4. Connected to my personal wifi hotspot backed by T-Mobile&lt;br/&gt;
Same issue as seen with Verizon FIOS, though a T-Mobile specific search page. &lt;/p&gt;

&lt;p&gt;5. Connected to a hotspot through my iPhone backed by Verizon Wireless&lt;br/&gt;
In this scenario the test passes perfectly as it should.&lt;/p&gt;

&lt;p&gt;Note that this difference is &lt;b&gt;only&lt;/b&gt; seen when a DNS lookup failure is in play. If I change the bad address to &quot;http://BADADDRESS&quot; then it fails instead because &quot;//BADADDRESSIS&quot; is said to be an invalid path string. Technically this is testing a slightly different case but I&apos;m comfortable calling it the same test because the issue being corrected is a failure to make a connection during the construction of SolrZooKeeper and a malformed url fails just the same.&lt;/p&gt;</comment>
                            <comment id="15157810" author="markrmiller@gmail.com" created="Mon, 22 Feb 2016 22:10:04 +0000"  >&lt;p&gt;Yeah, we try to avoid that in tests due to dns hijacking. I think there is an ip6 address that works for this? &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thetaphi&quot; class=&quot;user-hover&quot; rel=&quot;thetaphi&quot;&gt;thetaphi&lt;/a&gt;, am I remembering right?&lt;/p&gt;</comment>
                            <comment id="15157834" author="thetaphi" created="Mon, 22 Feb 2016 22:24:52 +0000"  >&lt;p&gt;Hi,&lt;br/&gt;
please don&apos;t write tests that rely on DNS failures. Every local provider does something else, but not all return a correct &quot;not found&quot;. Unless we have a &quot;mock DNS server&quot;, we cannot use any DNS in Solr tests. For similar reasons we also do not use &quot;localhost&quot; as hostname, but instead use 127.0.0.1 as IP address.&lt;/p&gt;

&lt;p&gt;To have some broken address that always fails to connect to, use an IPv6 address that is standardized to be routed nowhere and already refused by the Hosts&apos;s IPv6 stack. According to spec one possible address is: &lt;tt&gt;&lt;a href=&quot;http://[ff01::114]:anyport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://[ff01::114]:anyport/&lt;/a&gt;&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;As example look at SolrExceptionTest.java&lt;/p&gt;

&lt;p&gt;FYI, &lt;tt&gt;ff01::&lt;/tt&gt; is the address range for local Multicast addresses, but only &lt;tt&gt;ff01::1&lt;/tt&gt; (all local nodes) and &lt;tt&gt;ff01::2&lt;/tt&gt; (all routers) are allowed in IPv6 networks. &lt;tt&gt;ff01::114&lt;/tt&gt; is plain invalid and refused by host&apos;s TCP stack for using in TCP connections. So it is guaranteed to fail.&lt;/p&gt;</comment>
                            <comment id="15158011" author="jira-bot" created="Tue, 23 Feb 2016 00:26:07 +0000"  >&lt;p&gt;Commit 2c0a5e30364d83dc82383075a5f7c65200022494 in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dpgove&quot; class=&quot;user-hover&quot; rel=&quot;dpgove&quot;&gt;dpgove&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=2c0a5e3&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=2c0a5e3&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8599&quot; title=&quot;Errors in construction of SolrZooKeeper cause Solr to go into an inconsistent state&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-8599&quot;&gt;&lt;del&gt;SOLR-8599&lt;/del&gt;&lt;/a&gt;: After a failed connection during construction of SolrZkClient attempt to retry until a connection can be made&lt;/p&gt;</comment>
                            <comment id="15158017" author="dpgove" created="Tue, 23 Feb 2016 00:32:05 +0000"  >&lt;p&gt;Thanks. I&apos;ll keep that in mind going forward - and I agree, depending on a DNS failure was ripe for issues down the road. As the test was changed to instead rely on an invalid url I think what&apos;s in there will be good. New attachment forthcoming.&lt;/p&gt;</comment>
                            <comment id="15158022" author="dpgove" created="Tue, 23 Feb 2016 00:35:26 +0000"  >&lt;p&gt;New patch with slightly updated test. This now causes an exception due to an invalid url instead of a DNS failure. It exposes the same issue being fixed and the test shows that the patch does in fact resolve it. This patch is what was committed in 2c0a5e30364d83dc82383075a5f7c65200022494.&lt;/p&gt;</comment>
                            <comment id="15158459" author="thetaphi" created="Tue, 23 Feb 2016 07:30:38 +0000"  >&lt;p&gt;Hi,&lt;br/&gt;
why not make the setter of the zkAddress package private? Test is in same package, so it does not need to be fully public!&lt;/p&gt;</comment>
                            <comment id="15158473" author="thetaphi" created="Tue, 23 Feb 2016 07:37:20 +0000"  >&lt;p&gt;In addition there is a bug in the test: It sets the &quot;correct&quot; server address in another thread but there is no synchronization. This may work many times but fails easily, especially on highly parallel CPU architectures! Making the zkServerAddress volatile would be a fix, but as its for testing only, it is not a good idea.&lt;/p&gt;</comment>
                            <comment id="15158506" author="thetaphi" created="Tue, 23 Feb 2016 08:01:44 +0000"  >&lt;p&gt;Hi, I would go a completely other route to test this:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;make the zkAddress final again. The change here will not work correctly in Multi-CPU environments. Also it is always a bad idea to &quot;suddenly&quot; change accessibility of fields&lt;/li&gt;
	&lt;li&gt;instead of trying to connect to a wronmg address, we should emulate what is really the issue: the same address does not resolve or work. The correct way to &quot;emulate&quot; this failure is to intercept the connection to zookeeper. All socket connections in Java are handled through a SocketFactory. During the test you can exchange the default SocketFactory by a custom one that throws IOException, if the connect address is the one in the test and delegate otherwise (to not break other stuff like HTTP connections,...). After a few seconds restore the original socket factory (and also in finally!!!). By this we emulate the real failure and we dont need to use &quot;bad&quot;/&quot;invalid&quot; adresses. You can also throw the real execption like &lt;tt&gt;java.net.UnknownHostException&lt;/tt&gt;.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Beware: This may not work, if Zookeeper caches the socketfactory internally, but that is unlikely.&lt;/p&gt;</comment>
                            <comment id="15158511" author="thetaphi" created="Tue, 23 Feb 2016 08:07:03 +0000"  >&lt;p&gt;2nd: Do we really need to wait 5 !!! seconds in this test? This is horrible for people running the test! At least you should mark it with @Slow so it only runs nightly.&lt;/p&gt;</comment>
                            <comment id="15158520" author="thetaphi" created="Tue, 23 Feb 2016 08:15:44 +0000"  >&lt;p&gt;Ah, the whole test is marked as slow.&lt;/p&gt;</comment>
                            <comment id="15189585" author="k317h" created="Thu, 10 Mar 2016 17:24:36 +0000"  >&lt;p&gt;uploaded a new patch against master addressing Uwes concerns. I see that this was already merged in master, but that seems to be the only branch its currently on so hopefully its ok to put this out there.&lt;/p&gt;

&lt;p&gt;Instead of scheduling a thread to change the address I was able to mock the DefaultConnectionStrategy to throw an exception in the reconnect call the first time its called to verify that it is being retried. With this change I also changed the server address to be final again and removed the public setter method seeing how they were no longer needed&lt;/p&gt;

&lt;p&gt;Note: The new patch doesn&apos;t have the changes which introduced the retry logic in &lt;tt&gt;ConnectionManager&lt;/tt&gt; since that part is already merged in on the master branch and branch_6x/branch_6_0. I can put in a separate patch containing both for backport to branch_5x if needed&lt;/p&gt;</comment>
                            <comment id="15203380" author="jira-bot" created="Sun, 20 Mar 2016 17:33:08 +0000"  >&lt;p&gt;Commit e3b785a906d6f93e04f2cb45c436516158af0425 in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dpgove&quot; class=&quot;user-hover&quot; rel=&quot;dpgove&quot;&gt;dpgove&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=e3b785a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=e3b785a&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8599&quot; title=&quot;Errors in construction of SolrZooKeeper cause Solr to go into an inconsistent state&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-8599&quot;&gt;&lt;del&gt;SOLR-8599&lt;/del&gt;&lt;/a&gt;: Improved the tests for this issue to avoid changing a variable to non-final&lt;/p&gt;</comment>
                            <comment id="15252692" author="anshumg" created="Thu, 21 Apr 2016 20:47:38 +0000"  >&lt;p&gt;I see this in the CHANGE log for 6.0 but there&apos;s no Fix version. I guess this was just a mistake. Please correct me if I&apos;m missing something here.&lt;br/&gt;
I&apos;m also back porting this for 5.5.1.&lt;/p&gt;</comment>
                            <comment id="15252720" author="k317h" created="Thu, 21 Apr 2016 21:00:50 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anshumg&quot; class=&quot;user-hover&quot; rel=&quot;anshumg&quot;&gt;anshumg&lt;/a&gt; There were two separate commits for this ticket, but they didn&apos;t all land on 6x or 6.0 but are both on master:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;commit e3b785a906d6f93e04f2cb45c436516158af0425
Author: Dennis Gove &amp;lt;dpgove@gmail.com&amp;gt;
Date:   Sun Mar 20 11:13:56 2016 -0400

    SOLR-8599: Improved the tests &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; issue to avoid changing a variable to non-&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt;

commit 2c0a5e30364d83dc82383075a5f7c65200022494
Author: Dennis Gove &amp;lt;dpgove@gmail.com&amp;gt;
Date:   Wed Feb 10 15:02:18 2016 -0500

    SOLR-8599: After a failed connection during construction of SolrZkClient attempt to retry until a connection can be made
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;however only the first commit found its way to 6x and 6.0 so please port that second commit and remember to port both for 5.5.1, thanks&lt;/p&gt;</comment>
                            <comment id="15252814" author="jira-bot" created="Thu, 21 Apr 2016 21:49:24 +0000"  >&lt;p&gt;Commit d9875832f4798e5f732f4ae5627c7b306ccafa9c in lucene-solr&apos;s branch refs/heads/branch_5x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dpgove&quot; class=&quot;user-hover&quot; rel=&quot;dpgove&quot;&gt;dpgove&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=d987583&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=d987583&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8599&quot; title=&quot;Errors in construction of SolrZooKeeper cause Solr to go into an inconsistent state&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-8599&quot;&gt;&lt;del&gt;SOLR-8599&lt;/del&gt;&lt;/a&gt;: After a failed connection during construction of SolrZkClient attempt to retry until a connection can be made&lt;/p&gt;</comment>
                            <comment id="15252815" author="jira-bot" created="Thu, 21 Apr 2016 21:49:25 +0000"  >&lt;p&gt;Commit 20e2caba9615e19f84fbcc59a950fb197385592e in lucene-solr&apos;s branch refs/heads/branch_5x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dpgove&quot; class=&quot;user-hover&quot; rel=&quot;dpgove&quot;&gt;dpgove&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=20e2cab&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=20e2cab&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8599&quot; title=&quot;Errors in construction of SolrZooKeeper cause Solr to go into an inconsistent state&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-8599&quot;&gt;&lt;del&gt;SOLR-8599&lt;/del&gt;&lt;/a&gt;: Improved the tests for this issue to avoid changing a variable to non-final&lt;/p&gt;</comment>
                            <comment id="15252863" author="anshumg" created="Thu, 21 Apr 2016 22:13:11 +0000"  >&lt;p&gt;Thanks Keith. We need to track these better &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
I&apos;ll commit the other one to 6x too. I got both of them to 5x and I&apos;m about to commit these to 5.5.&lt;/p&gt;</comment>
                            <comment id="15252867" author="jira-bot" created="Thu, 21 Apr 2016 22:14:51 +0000"  >&lt;p&gt;Commit 853e1b99b10ccce4029fd77ba88df17dbc77ce3d in lucene-solr&apos;s branch refs/heads/branch_5_5 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dpgove&quot; class=&quot;user-hover&quot; rel=&quot;dpgove&quot;&gt;dpgove&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=853e1b9&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=853e1b9&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8599&quot; title=&quot;Errors in construction of SolrZooKeeper cause Solr to go into an inconsistent state&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-8599&quot;&gt;&lt;del&gt;SOLR-8599&lt;/del&gt;&lt;/a&gt;: After a failed connection during construction of SolrZkClient attempt to retry until a connection can be made&lt;/p&gt;</comment>
                            <comment id="15252868" author="jira-bot" created="Thu, 21 Apr 2016 22:14:52 +0000"  >&lt;p&gt;Commit 983abb1ca14f7ee42678a03f9d754af8e05e8288 in lucene-solr&apos;s branch refs/heads/branch_5_5 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dpgove&quot; class=&quot;user-hover&quot; rel=&quot;dpgove&quot;&gt;dpgove&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=983abb1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=983abb1&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8599&quot; title=&quot;Errors in construction of SolrZooKeeper cause Solr to go into an inconsistent state&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-8599&quot;&gt;&lt;del&gt;SOLR-8599&lt;/del&gt;&lt;/a&gt;: Improved the tests for this issue to avoid changing a variable to non-final&lt;/p&gt;</comment>
                            <comment id="15252953" author="jira-bot" created="Thu, 21 Apr 2016 22:54:12 +0000"  >&lt;p&gt;Commit 78176e23bcac5c6e4accd8989dc931ec6cedb188 in lucene-solr&apos;s branch refs/heads/branch_6x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dpgove&quot; class=&quot;user-hover&quot; rel=&quot;dpgove&quot;&gt;dpgove&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=78176e2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=78176e2&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8599&quot; title=&quot;Errors in construction of SolrZooKeeper cause Solr to go into an inconsistent state&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-8599&quot;&gt;&lt;del&gt;SOLR-8599&lt;/del&gt;&lt;/a&gt;: Improved the tests for this issue to avoid changing a variable to non-final&lt;/p&gt;</comment>
                            <comment id="15252955" author="jira-bot" created="Thu, 21 Apr 2016 22:56:29 +0000"  >&lt;p&gt;Commit 8d24d72ab64d435a5e6bdca11b5e79c22f0057ef in lucene-solr&apos;s branch refs/heads/branch_6_0 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dpgove&quot; class=&quot;user-hover&quot; rel=&quot;dpgove&quot;&gt;dpgove&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=8d24d72&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=8d24d72&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8599&quot; title=&quot;Errors in construction of SolrZooKeeper cause Solr to go into an inconsistent state&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-8599&quot;&gt;&lt;del&gt;SOLR-8599&lt;/del&gt;&lt;/a&gt;: Improved the tests for this issue to avoid changing a variable to non-final&lt;/p&gt;</comment>
                            <comment id="16236750" author="varunthacker" created="Thu, 2 Nov 2017 22:48:47 +0000"  >&lt;p&gt;Hi Dennis,&lt;/p&gt;

&lt;p&gt;In ConnectionManager do we intend to wait for 1 or 5 seconds? Just wanted to clarify and maybe fix it in another Jira &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
          log.info(&lt;span class=&quot;code-quote&quot;&gt;&quot;Could not connect due to error, sleeping &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; 5s and trying agian&quot;&lt;/span&gt;);
          waitSleep(1000);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16787153" author="cpoerschke" created="Thu, 7 Mar 2019 20:05:40 +0000"  >&lt;blockquote&gt;&lt;p&gt;... maybe fix it in another Jira ...&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13254&quot; title=&quot;wrong log when reconnect to zk&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13254&quot;&gt;&lt;del&gt;SOLR-13254&lt;/del&gt;&lt;/a&gt; has a fix.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13215866">SOLR-13254</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310051">
                    <name>Supercedes</name>
                                                                <inwardlinks description="is superceded by">
                                        <issuelink>
            <issuekey id="13431332">SOLR-16063</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12792549" name="SOLR-8599.patch" size="4139" author="k317h" created="Thu, 10 Mar 2016 17:24:36 +0000"/>
                            <attachment id="12789102" name="SOLR-8599.patch" size="7833" author="dpgove" created="Tue, 23 Feb 2016 00:35:26 +0000"/>
                            <attachment id="12787554" name="SOLR-8599.patch" size="4812" author="k317h" created="Thu, 11 Feb 2016 22:37:19 +0000"/>
                            <attachment id="12784776" name="SOLR-8599.patch" size="6885" author="k317h" created="Wed, 27 Jan 2016 23:45:28 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 36 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2rzcf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>