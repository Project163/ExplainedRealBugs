<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:19:12 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-9972] SpellCheckComponent to return collations and suggestions as a JSON object rather than a list</title>
                <link>https://issues.apache.org/jira/browse/SOLR-9972</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;original title: JSON-Specific Parameters arrntv causing some error for spellcheck component&lt;/p&gt;

&lt;p&gt;So I tried using the new array named list arrntv from solr 6.5 jenkins build&lt;br/&gt;
but the json returned was broken when it returned response for spellcheck with word break.&lt;br/&gt;
for example :&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-javascript&quot;&gt; {&lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;collation&quot;&lt;/span&gt;,{
        &lt;span class=&quot;code-quote&quot;&gt;&quot;type&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;str&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;value&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;collationQuery&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;indomie kuing&quot;&lt;/span&gt;,
        &lt;span class=&quot;code-quote&quot;&gt;&quot;hits&quot;&lt;/span&gt;:81,
        &lt;span class=&quot;code-quote&quot;&gt;&quot;misspellingsAndCorrections&quot;&lt;/span&gt;:
        [
          {&lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;indomee&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;type&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;str&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;value&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;indomie&quot;&lt;/span&gt;},
          {&lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;kuih&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;type&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;str&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;value&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;kuing&quot;&lt;/span&gt;}
        ]}
 }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;as you may see that &quot;collationQuery&quot;:&quot;indomie kuing&quot; was considered as value thus causing the json to fail.&lt;br/&gt;
i think the correct json was :&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-javascript&quot;&gt;{&lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;collation&quot;&lt;/span&gt;,
        &lt;span class=&quot;code-quote&quot;&gt;&quot;type&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;object&quot;&lt;/span&gt;,
        &lt;span class=&quot;code-quote&quot;&gt;&quot;value&quot;&lt;/span&gt;:{
        &lt;span class=&quot;code-quote&quot;&gt;&quot;collationQuery&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;indomie kuing&quot;&lt;/span&gt;,
        &lt;span class=&quot;code-quote&quot;&gt;&quot;hits&quot;&lt;/span&gt;:81,
        &lt;span class=&quot;code-quote&quot;&gt;&quot;misspellingsAndCorrections&quot;&lt;/span&gt;:
        [
          {&lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;indomee&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;type&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;str&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;value&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;indomie&quot;&lt;/span&gt;},
          {&lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;kuih&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;type&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;str&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;value&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;kuing&quot;&lt;/span&gt;}
        ]}
 }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;sorry for bad grammar english was not my first language and i know that object was not supported by current arrntv options.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13035426">SOLR-9972</key>
            <summary>SpellCheckComponent to return collations and suggestions as a JSON object rather than a list</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jdyer">James Dyer</assignee>
                                    <reporter username="dragonyui">Ricky Oktavianus Lazuardy</reporter>
                        <labels>
                    </labels>
                <created>Tue, 17 Jan 2017 08:39:14 +0000</created>
                <updated>Sat, 8 Jun 2019 15:32:38 +0000</updated>
                            <resolved>Mon, 8 May 2017 18:32:52 +0000</resolved>
                                                    <fixVersion>6.5</fixVersion>
                    <fixVersion>6.6</fixVersion>
                                    <component>Response Writers</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="15825687" author="cpoerschke" created="Tue, 17 Jan 2017 09:13:26 +0000"  >&lt;p&gt;Hello &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dragonyui&quot; class=&quot;user-hover&quot; rel=&quot;dragonyui&quot;&gt;dragonyui&lt;/a&gt; - thanks for opening this ticket.&lt;/p&gt;

&lt;p&gt;If you have it available, could you also share example responses for the other &lt;tt&gt;json.nl&lt;/tt&gt; choices for comparison e.g. &lt;tt&gt;arrmap, arrarr, flat, map&lt;/tt&gt; - thank you.&lt;/p&gt;</comment>
                            <comment id="15825728" author="cpoerschke" created="Tue, 17 Jan 2017 09:42:00 +0000"  >&lt;p&gt;From a quick look around, this might be another case of &lt;tt&gt;SimpleOrderedMap&lt;/tt&gt; vs. &lt;tt&gt;NamedList&lt;/tt&gt; similar to &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6064&quot; title=&quot;DebugComponent debug.track output tweak (SimpleOrderedMap instead of NamedList)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6064&quot;&gt;&lt;del&gt;SOLR-6064&lt;/del&gt;&lt;/a&gt; though that is only a hunch at this point.&lt;/p&gt;</comment>
                            <comment id="15825917" author="cpoerschke" created="Tue, 17 Jan 2017 11:43:50 +0000"  >&lt;p&gt;Attached patch is my hunch as code (without tests).&lt;/p&gt;

&lt;p&gt;I have used the &lt;tt&gt;bin/solr -e techproducts&lt;/tt&gt; example and the &lt;a href=&quot;http://localhost:8983/solr/techproducts/spell?df=text&amp;amp;spellcheck.q=delll+ultra+sharp&amp;amp;spellcheck=true&amp;amp;spellcheck.collateParam.q.op=AND&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8983/solr/techproducts/spell?df=text&amp;amp;spellcheck.q=delll+ultra+sharp&amp;amp;spellcheck=true&amp;amp;spellcheck.collateParam.q.op=AND&lt;/a&gt; query mentioned in the Solr Reference Guide&apos;s &lt;a href=&quot;https://cwiki.apache.org/confluence/display/solr/Spell+Checking&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Spell Checking&lt;/a&gt; to obtain a response with a collationQuery element, similar to the response above.&lt;/p&gt;

&lt;p&gt;The patch would also need a test e.g. in SpellCheckComponentTest class.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;An alternative, wider reaching solution might be to try and remove the &quot;collation&quot; elements within the &quot;collations&quot; element. Links into the code:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://github.com/apache/lucene-solr/blob/master/solr/core/src/java/org/apache/solr/handler/component/SpellCheckComponent.java#L303-L322&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/lucene-solr/blob/master/solr/core/src/java/org/apache/solr/handler/component/SpellCheckComponent.java#L303-L322&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://github.com/apache/lucene-solr/blob/master/solr/core/src/java/org/apache/solr/handler/component/SpellCheckComponent.java#L439-L456&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/lucene-solr/blob/master/solr/core/src/java/org/apache/solr/handler/component/SpellCheckComponent.java#L439-L456&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15826192" author="cpoerschke" created="Tue, 17 Jan 2017 15:15:35 +0000"  >&lt;p&gt;Attaching proposed change with test (the test extends the test proposed to be added in &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9975&quot; title=&quot;add SpellCheckComponentTest.testCollateExtendedResults&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9975&quot;&gt;&lt;del&gt;SOLR-9975&lt;/del&gt;&lt;/a&gt;).&lt;/p&gt;</comment>
                            <comment id="15826313" author="dragonyui" created="Tue, 17 Jan 2017 16:09:33 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cpoerschke&quot; class=&quot;user-hover&quot; rel=&quot;cpoerschke&quot;&gt;cpoerschke&lt;/a&gt; : Sorry for late response and thanks for quick response&lt;br/&gt;
this one is arrmap one example (i think you don&apos;t need it anymore):&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-javascript&quot;&gt;{
        &lt;span class=&quot;code-quote&quot;&gt;&quot;collation&quot;&lt;/span&gt;: {
          &lt;span class=&quot;code-quote&quot;&gt;&quot;collationQuery&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;indomie kuah&quot;&lt;/span&gt;,
          &lt;span class=&quot;code-quote&quot;&gt;&quot;hits&quot;&lt;/span&gt;: 98,
          &lt;span class=&quot;code-quote&quot;&gt;&quot;misspellingsAndCorrections&quot;&lt;/span&gt;: [
            {
              &lt;span class=&quot;code-quote&quot;&gt;&quot;indomee&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;indomie&quot;&lt;/span&gt;
            },
            {
              &lt;span class=&quot;code-quote&quot;&gt;&quot;kuih&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;kuah&quot;&lt;/span&gt;
            }
          ]
        }
      },
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;and yes i think removing collation object may fix this problems.&lt;/p&gt;</comment>
                            <comment id="15826374" author="cpoerschke" created="Tue, 17 Jan 2017 16:49:07 +0000"  >&lt;p&gt;Attaching proposed fix. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jdyer&quot; class=&quot;user-hover&quot; rel=&quot;jdyer&quot;&gt;jdyer&lt;/a&gt;, would you have a chance to review perhaps? Thank you.&lt;/p&gt;</comment>
                            <comment id="15826438" author="jdyer" created="Tue, 17 Jan 2017 17:29:08 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cpoerschke&quot; class=&quot;user-hover&quot; rel=&quot;cpoerschke&quot;&gt;cpoerschke&lt;/a&gt; This looks straightforward, and I like your clean-up on existing tests!  &lt;/p&gt;

&lt;p&gt;Just to be clear, this fixes the case of invalid json with &quot;extended collate&quot;.  It does not break backwards-compatibility in any other way, right?  Is the xml rendering the same either way?  Does solrj handle the change? (I&apos;m pretty sure if we broke backwards in either case, either oas.spelling.SpellCheckCollatorTest#testExtendedCollate or oas.client.solrj.response.TestSpellCheckResponse#testSpellCheckResponse_Extended would fail, but its good to keep these things in mind.)&lt;/p&gt;

&lt;p&gt;But besides being doubly sure we don&apos;t break backwards on the response format (except for fixing the invalid json), this looks great, +1 .&lt;/p&gt;</comment>
                            <comment id="15828727" author="cpoerschke" created="Wed, 18 Jan 2017 20:29:08 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jdyer&quot; class=&quot;user-hover&quot; rel=&quot;jdyer&quot;&gt;jdyer&lt;/a&gt;, thanks for the code review. I am attaching a utility shell script and its output to try and answer your backward compat questions.&lt;/p&gt;

&lt;p&gt;As can be seen from the output file, the impact of the &lt;em&gt;&quot;SpellCheckComponent collations and suggestions returned as a JSON object rather than a list&quot;&lt;/em&gt; change here goes beyond use of &lt;tt&gt;collateExtendedResults=true&lt;/tt&gt; and changes not only some &lt;tt&gt;wt=json&lt;/tt&gt; output but also some &lt;tt&gt;wt=ruby&lt;/tt&gt; and &lt;tt&gt;wt=python&lt;/tt&gt; output.&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;Now to the &apos;elephant in the room&apos; question, if there were to be an RC2 for the 6.4.0 Solr release, would it be worth putting forward the inclusion of the change here? I don&apos;t know enough about use of the SpellCheckComponent to have an informed opinion on this.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hossman&quot; class=&quot;user-hover&quot; rel=&quot;hossman&quot;&gt;hossman&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jm100&quot; class=&quot;user-hover&quot; rel=&quot;jm100&quot;&gt;jm100&lt;/a&gt; (json.nl=arrntv stakeholders from &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9442&quot; title=&quot;Add json.nl=arrnvp (array of NamedValuePair) style in JSONResponseWriter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9442&quot;&gt;&lt;del&gt;SOLR-9442&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9787&quot; title=&quot;Replace json.nl=arrnvp with json.nl=arrntv (array of Name Type Value) style in JSONResponseWriter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9787&quot;&gt;&lt;del&gt;SOLR-9787&lt;/del&gt;&lt;/a&gt;, the json.nl=arrntv addition flagged up &lt;tt&gt;NamedList&lt;/tt&gt; vs. &lt;tt&gt;SimpleOrderedMap&lt;/tt&gt; in the existing SpellCheckComponent code, similar to &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6064&quot; title=&quot;DebugComponent debug.track output tweak (SimpleOrderedMap instead of NamedList)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6064&quot;&gt;&lt;del&gt;SOLR-6064&lt;/del&gt;&lt;/a&gt;, the proposed fix impacts not just those using json.nl=arrntv) - if you have any thoughts on this, please let us know. Thank you.&lt;/p&gt;</comment>
                            <comment id="15828786" author="jdyer" created="Wed, 18 Jan 2017 21:18:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cpoerschke&quot; class=&quot;user-hover&quot; rel=&quot;cpoerschke&quot;&gt;cpoerschke&lt;/a&gt;  As I understand it, the python/ruby output are specialized json responses and so I think users will like it better if the json is well-formed.  So no problem altering these, imo.  I appreciate the painstaking steps you&apos;ve taken to check this.&lt;/p&gt;

&lt;p&gt; If it were me, I&apos;d just wait for the next release rather than putting this into the next release-candidate.  This feature has been around since Solr 1.4, I believe, and no doubt the bug is a longstanding one, this being the first time anyone has raised the issue in this forum. &lt;/p&gt;</comment>
                            <comment id="15839759" author="jira-bot" created="Thu, 26 Jan 2017 14:37:05 +0000"  >&lt;p&gt;Commit 01878380226c5be6bfedc45b8fb6174de4181a7c in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cpoerschke&quot; class=&quot;user-hover&quot; rel=&quot;cpoerschke&quot;&gt;cpoerschke&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=0187838&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=0187838&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9972&quot; title=&quot;SpellCheckComponent to return collations and suggestions as a JSON object rather than a list&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9972&quot;&gt;&lt;del&gt;SOLR-9972&lt;/del&gt;&lt;/a&gt;: SpellCheckComponent collations and suggestions returned as a JSON object rather than a list&lt;br/&gt;
(Christine Poerschke in response to bug report from Ricky Oktavianus Lazuardy)&lt;/p&gt;</comment>
                            <comment id="15839873" author="jira-bot" created="Thu, 26 Jan 2017 15:32:48 +0000"  >&lt;p&gt;Commit 4cd3d15da8ef77ef50e2bda91ed6d3c6e87b5426 in lucene-solr&apos;s branch refs/heads/branch_6x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cpoerschke&quot; class=&quot;user-hover&quot; rel=&quot;cpoerschke&quot;&gt;cpoerschke&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=4cd3d15&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=4cd3d15&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9972&quot; title=&quot;SpellCheckComponent to return collations and suggestions as a JSON object rather than a list&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9972&quot;&gt;&lt;del&gt;SOLR-9972&lt;/del&gt;&lt;/a&gt;: SpellCheckComponent collations and suggestions returned as a JSON object rather than a list&lt;br/&gt;
(Christine Poerschke in response to bug report from Ricky Oktavianus Lazuardy)&lt;/p&gt;</comment>
                            <comment id="15842585" author="cpoerschke" created="Fri, 27 Jan 2017 11:22:56 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dragonyui&quot; class=&quot;user-hover&quot; rel=&quot;dragonyui&quot;&gt;dragonyui&lt;/a&gt; - thanks for creating this issue.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jdyer&quot; class=&quot;user-hover&quot; rel=&quot;jdyer&quot;&gt;jdyer&lt;/a&gt; - thanks for code reviewing.&lt;/p&gt;</comment>
                            <comment id="16000995" author="jdyer" created="Mon, 8 May 2017 16:06:26 +0000"  >&lt;p&gt;Re-open to revert for Solr 6.6, as this fix breaks the &quot;original&quot; json response format.  See &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10522&quot; title=&quot;Duplicate keys in &amp;quot;collations&amp;quot; object with JSON response format&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10522&quot;&gt;&lt;del&gt;SOLR-10522&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="16001264" author="jira-bot" created="Mon, 8 May 2017 18:28:20 +0000"  >&lt;p&gt;Commit 571264bcc007a3d853f678dd7ac5b529644e938d in lucene-solr&apos;s branch refs/heads/master from jdyer1&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=571264b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=571264b&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10522&quot; title=&quot;Duplicate keys in &amp;quot;collations&amp;quot; object with JSON response format&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10522&quot;&gt;&lt;del&gt;SOLR-10522&lt;/del&gt;&lt;/a&gt;: Revert &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9972&quot; title=&quot;SpellCheckComponent to return collations and suggestions as a JSON object rather than a list&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9972&quot;&gt;&lt;del&gt;SOLR-9972&lt;/del&gt;&lt;/a&gt;: SpellCheckComponent collations and suggestions returned as a JSON object rather than a list&quot;&lt;/p&gt;

&lt;p&gt;This reverts commit 4cd3d15da8ef77ef50e2bda91ed6d3c6e87b5426.&lt;/p&gt;</comment>
                            <comment id="16001267" author="jira-bot" created="Mon, 8 May 2017 18:29:20 +0000"  >&lt;p&gt;Commit 82b78bd95e95b95b9e7527d9396be24a0dc221df in lucene-solr&apos;s branch refs/heads/master from jdyer1&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=82b78bd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=82b78bd&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10522&quot; title=&quot;Duplicate keys in &amp;quot;collations&amp;quot; object with JSON response format&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10522&quot;&gt;&lt;del&gt;SOLR-10522&lt;/del&gt;&lt;/a&gt;: Revert &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9972&quot; title=&quot;SpellCheckComponent to return collations and suggestions as a JSON object rather than a list&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9972&quot;&gt;&lt;del&gt;SOLR-9972&lt;/del&gt;&lt;/a&gt;: SpellCheckComponent collations and suggestions returned as a JSON object rather than a list&quot;&lt;/p&gt;</comment>
                            <comment id="16001273" author="jira-bot" created="Mon, 8 May 2017 18:30:49 +0000"  >&lt;p&gt;Commit 68f51e6a128e0d56ae37b070834bb36e00ceca50 in lucene-solr&apos;s branch refs/heads/branch_6x from jdyer1&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=68f51e6&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=68f51e6&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10522&quot; title=&quot;Duplicate keys in &amp;quot;collations&amp;quot; object with JSON response format&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10522&quot;&gt;&lt;del&gt;SOLR-10522&lt;/del&gt;&lt;/a&gt;: Revert &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9972&quot; title=&quot;SpellCheckComponent to return collations and suggestions as a JSON object rather than a list&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9972&quot;&gt;&lt;del&gt;SOLR-9972&lt;/del&gt;&lt;/a&gt;: SpellCheckComponent collations and suggestions returned as a JSON object rather than a list&quot;&lt;/p&gt;

&lt;p&gt;This reverts commit 4cd3d15da8ef77ef50e2bda91ed6d3c6e87b5426.&lt;/p&gt;</comment>
                            <comment id="16001275" author="jira-bot" created="Mon, 8 May 2017 18:30:55 +0000"  >&lt;p&gt;Commit 854347d5e09ea92f1d738458a05fc2224ca3d7aa in lucene-solr&apos;s branch refs/heads/branch_6x from jdyer1&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=854347d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=854347d&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10522&quot; title=&quot;Duplicate keys in &amp;quot;collations&amp;quot; object with JSON response format&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10522&quot;&gt;&lt;del&gt;SOLR-10522&lt;/del&gt;&lt;/a&gt;: Revert &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9972&quot; title=&quot;SpellCheckComponent to return collations and suggestions as a JSON object rather than a list&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9972&quot;&gt;&lt;del&gt;SOLR-9972&lt;/del&gt;&lt;/a&gt;: SpellCheckComponent collations and suggestions returned as a JSON object rather than a list&quot;&lt;/p&gt;</comment>
                            <comment id="16001279" author="jdyer" created="Mon, 8 May 2017 18:32:52 +0000"  >&lt;p&gt;Revert complete.  This fixes &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10522&quot; title=&quot;Duplicate keys in &amp;quot;collations&amp;quot; object with JSON response format&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10522&quot;&gt;&lt;del&gt;SOLR-10522&lt;/del&gt;&lt;/a&gt;.  I opened &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10635&quot; title=&quot;json &amp;quot;arrntv&amp;quot; format can sometime produce invalid json&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10635&quot;&gt;SOLR-10635&lt;/a&gt; to investigate fixing the response output issue on the response writer end.  &lt;/p&gt;

&lt;p&gt;My apologies &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cpoerschke&quot; class=&quot;user-hover&quot; rel=&quot;cpoerschke&quot;&gt;cpoerschke&lt;/a&gt; for missing this when you asked me to look at the issue in the first place!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13035550">SOLR-9975</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13070045">SOLR-10635</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13065148">SOLR-10522</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13000363">SOLR-9442</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13022230">SOLR-9787</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12847784" name="SOLR-9972-hunch-no-test.patch" size="1285" author="cpoerschke" created="Tue, 17 Jan 2017 11:43:50 +0000"/>
                            <attachment id="12848135" name="SOLR-9972-impact" size="2778" author="cpoerschke" created="Wed, 18 Jan 2017 20:29:08 +0000"/>
                            <attachment id="12848136" name="SOLR-9972-impact.out" size="18768" author="cpoerschke" created="Wed, 18 Jan 2017 20:29:08 +0000"/>
                            <attachment id="12847838" name="SOLR-9972-with-test-after-SOLR-9975.patch" size="3755" author="cpoerschke" created="Tue, 17 Jan 2017 15:15:35 +0000"/>
                            <attachment id="12847863" name="SOLR-9972.patch" size="13295" author="cpoerschke" created="Tue, 17 Jan 2017 16:49:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 28 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i38sqf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>