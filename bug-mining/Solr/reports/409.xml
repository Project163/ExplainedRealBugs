<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:17:50 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-1492] Can&apos;t facet Trie fields with precisionSteps</title>
                <link>https://issues.apache.org/jira/browse/SOLR-1492</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;A known limitation - can&apos;t facet on multi-part trie fields.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12437301">SOLR-1492</key>
            <summary>Can&apos;t facet Trie fields with precisionSteps</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="yseeley@gmail.com">Yonik Seeley</assignee>
                                    <reporter username="yseeley@gmail.com">Yonik Seeley</reporter>
                        <labels>
                    </labels>
                <created>Mon, 5 Oct 2009 18:00:03 +0000</created>
                <updated>Tue, 10 Nov 2009 15:52:17 +0000</updated>
                            <resolved>Tue, 6 Oct 2009 14:13:49 +0000</resolved>
                                    <version>1.4</version>
                                    <fixVersion>1.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12762280" author="yseeley@gmail.com" created="Mon, 5 Oct 2009 18:03:54 +0000"  >&lt;p&gt;Inspired by &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-1483&quot; title=&quot;Example schema is confusing with int, tint and pint fields&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-1483&quot;&gt;&lt;del&gt;SOLR-1483&lt;/del&gt;&lt;/a&gt;, here&apos;s a simple hacky patch that allows faceting on multi-part trie fields so we can remove another &quot;exception&quot;.&lt;/p&gt;

&lt;p&gt;I&apos;ve tested manually, but unit tests would be nice.&lt;/p&gt;</comment>
                            <comment id="12762313" author="shalinmangar" created="Mon, 5 Oct 2009 19:05:13 +0000"  >&lt;p&gt;I guess I was solving the wrong problems in &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-1483&quot; title=&quot;Example schema is confusing with int, tint and pint fields&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-1483&quot;&gt;&lt;del&gt;SOLR-1483&lt;/del&gt;&lt;/a&gt; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;I&apos;ll add some tests.&lt;/p&gt;</comment>
                            <comment id="12762327" author="yseeley@gmail.com" created="Mon, 5 Oct 2009 19:38:17 +0000"  >&lt;p&gt;Hey, more good news... stats now works with both singleValued and multiValued trie fields after this patch (I assume because the stats component piggybacks off of UnInvertedField, and it also mistakenly thinks all trie based fields are multiValued).&lt;/p&gt;

&lt;p&gt;We should be able to get rid of both disadvantages that the trie fields had in comparison to the older sortable fields.&lt;/p&gt;</comment>
                            <comment id="12762332" author="yseeley@gmail.com" created="Mon, 5 Oct 2009 19:54:26 +0000"  >&lt;p&gt;Updated patch with stats support.&lt;/p&gt;

&lt;p&gt;edit: ignore changes to the stats tests for now - work in progress.&lt;/p&gt;</comment>
                            <comment id="12762333" author="shalinmangar" created="Mon, 5 Oct 2009 20:02:06 +0000"  >&lt;p&gt;Tests for faceting added on top of Yonik&apos;s latest patch.&lt;/p&gt;

&lt;p&gt;Date faceting does not work correctly.&lt;/p&gt;</comment>
                            <comment id="12762341" author="yseeley@gmail.com" created="Mon, 5 Oct 2009 20:11:32 +0000"  >&lt;blockquote&gt;&lt;p&gt;Date faceting does not work correctly.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Really?  It should... I added support for date faceting on trie fields long ago.  What doesn&apos;t work?&lt;br/&gt;
edit: Or do you mean normal faceting on a trie date field (as opposed to date faceting) doesn&apos;t work?&lt;/p&gt;</comment>
                            <comment id="12762343" author="shalinmangar" created="Mon, 5 Oct 2009 20:18:56 +0000"  >&lt;p&gt;I&apos;m trying date faceting (facet.date) and the counts seem to be wrong (I&apos;m expecting 2 but getting 4 back). See TestTrie in my patch. I&apos;m trying to figure it out.&lt;/p&gt;

&lt;p&gt;Normal faceting on a trie date field works fine.&lt;/p&gt;</comment>
                            <comment id="12762356" author="shalinmangar" created="Mon, 5 Oct 2009 20:40:23 +0000"  >&lt;blockquote&gt;&lt;p&gt;I&apos;m trying date faceting (facet.date) and the counts seem to be wrong (I&apos;m expecting 2 but getting 4 back)&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Of course it will give 4 because the upperbound is inclusive! OK, TestTrie passes.&lt;/p&gt;</comment>
                            <comment id="12762394" author="yseeley@gmail.com" created="Mon, 5 Oct 2009 21:42:13 +0000"  >&lt;p&gt;Hmmm, stats.facet is failing for the trie fields... I&apos;m looking into it.&lt;/p&gt;

&lt;p&gt;Update: this isn&apos;t related to trie... the multiValued stats stuff is buggy and wouldn&apos;t work with sortable fields either - the tests only covered plain int.&lt;/p&gt;</comment>
                            <comment id="12762401" author="gsingers" created="Mon, 5 Oct 2009 21:51:43 +0000"  >&lt;p&gt;stats.facet doesn&apos;t work for multivalued fields at all, unless you fixed that here.&lt;/p&gt;</comment>
                            <comment id="12762450" author="yseeley@gmail.com" created="Mon, 5 Oct 2009 23:45:36 +0000"  >&lt;p&gt;It appears that just the normal stats.field doesn&apos;t work with field types other than plain int (i.e. not sortable).&lt;/p&gt;</comment>
                            <comment id="12762461" author="yseeley@gmail.com" created="Tue, 6 Oct 2009 00:12:33 +0000"  >&lt;p&gt;Commented in the wrong issue before:&lt;br/&gt;
Found it... in UnInvertedField.getStats(), the FieldType was being overwritten by the type of the facet fields. &lt;/p&gt;</comment>
                            <comment id="12762618" author="yseeley@gmail.com" created="Tue, 6 Oct 2009 13:30:05 +0000"  >&lt;p&gt;OK, this patch:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;includes &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-1491&quot; title=&quot;single valued trie fields use multi valued faceting&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-1491&quot;&gt;&lt;del&gt;SOLR-1491&lt;/del&gt;&lt;/a&gt; so single valued single part trie field faceting is handled by the field cache faceting code&lt;/li&gt;
	&lt;li&gt;adds support for multi-precision trie fields to UnUnvertedField faceting&lt;/li&gt;
	&lt;li&gt;adds support for multi-precision trie fields to UnUnvertedField statistics&lt;/li&gt;
	&lt;li&gt;adds &quot;missing&quot; functionality to UnUnvertedField stats.facet and fixes other bugs in multi-valued stats.facet&lt;/li&gt;
	&lt;li&gt;forces the use of UnInvertedField for both faceting and stats for multi-precision trie fields (since Lucene StringIndex doesn&apos;t support)&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12762632" author="yseeley@gmail.com" created="Tue, 6 Oct 2009 14:13:49 +0000"  >&lt;p&gt;committed.&lt;/p&gt;</comment>
                            <comment id="12775902" author="gsingers" created="Tue, 10 Nov 2009 15:52:17 +0000"  >&lt;p&gt;Bulk close for Solr 1.4&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12421424" name="SOLR-1492.patch" size="25482" author="yseeley@gmail.com" created="Tue, 6 Oct 2009 13:30:05 +0000"/>
                            <attachment id="12421331" name="SOLR-1492.patch" size="14072" author="shalin" created="Mon, 5 Oct 2009 20:40:23 +0000"/>
                            <attachment id="12421325" name="SOLR-1492.patch" size="14072" author="shalin" created="Mon, 5 Oct 2009 20:02:06 +0000"/>
                            <attachment id="12421324" name="SOLR-1492.patch" size="9826" author="yseeley@gmail.com" created="Mon, 5 Oct 2009 19:54:26 +0000"/>
                            <attachment id="12421309" name="SOLR-1492.patch" size="5668" author="yseeley@gmail.com" created="Mon, 5 Oct 2009 18:03:54 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6168</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 3 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i03qev:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>19712</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>