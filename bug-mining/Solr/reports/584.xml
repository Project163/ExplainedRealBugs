<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:20:57 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-1940] SolrDispatchFilter sets content type as NULL</title>
                <link>https://issues.apache.org/jira/browse/SOLR-1940</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;o.a.s.h.SolrDispatchFilter can set the output Content-Type to a null pointer instead of a string. Under websphere this results in a NullPointerException. This is the offending code: &lt;/p&gt;

&lt;p&gt;    response.setContentType(responseWriter.getContentType(solrReq, solrRsp));&lt;/p&gt;

&lt;p&gt;Suggested fix: either use a default content type, or do not set the content type and let the browser handle it. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12466132">SOLR-1940</key>
            <summary>SolrDispatchFilter sets content type as NULL</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hossman">Chris M. Hostetter</assignee>
                                    <reporter username="lancenorskog">Lance Norskog</reporter>
                        <labels>
                    </labels>
                <created>Thu, 3 Jun 2010 21:57:31 +0000</created>
                <updated>Wed, 30 Mar 2011 15:46:02 +0000</updated>
                            <resolved>Fri, 28 Jan 2011 01:12:51 +0000</resolved>
                                                    <fixVersion>3.1</fixVersion>
                    <fixVersion>4.0-ALPHA</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12875318" author="lancenorskog" created="Thu, 3 Jun 2010 22:01:05 +0000"  >&lt;p&gt;When does this happen? &lt;/p&gt;

&lt;p&gt;The &apos;Schema&apos; and &apos;Config&apos; tabs in admin/index.jsp use ShowFileRequestHandler to fetch schema.xml and solrconfig.xml.&lt;br/&gt;
ShowAdminFileHandler gives a null content type by default. admin/index.jsp is apparently supposed to pass XML as the desired type since it knows it is pulling XML files.&lt;/p&gt;
</comment>
                            <comment id="12875366" author="hossman" created="Thu, 3 Jun 2010 23:44:01 +0000"  >&lt;p&gt;in general, ShowFileRequestHandler has no way of knowing if the files are XML.&lt;/p&gt;

&lt;p&gt;I think you are correct about SolrDispatchFilter: it shouldn&apos;t set the ContentType if the responseWRiter returns null.&lt;/p&gt;

&lt;p&gt;we should also fix those links on the admin screen to explicily set the contentType request param.&lt;/p&gt;</comment>
                            <comment id="12875374" author="hossman" created="Fri, 4 Jun 2010 00:04:20 +0000"  >&lt;p&gt;Lance: can you try this patch out on your websphere server and see if it fixes the problem?&lt;/p&gt;

&lt;p&gt;(FWIW: I think websphere has a bug in this respect - the servlet spec says &lt;br/&gt;
&quot;This method may be called repeatedly to change content type&quot; and for getContentType it says &quot;If no content type has been specified, this method returns null.&quot; .. since there is no oher way to &quot;clear&quot; the contentType property on the ServletResponse object, it seems like it should definitley be valid to pass null to setContentType)&lt;/p&gt;</comment>
                            <comment id="12875812" author="lancenorskog" created="Sat, 5 Jun 2010 00:41:37 +0000"  >&lt;p&gt;The contentType parameters in index.jsp have no charset spec. On Windows this defaulted to 8859-1. &lt;/p&gt;

&lt;p&gt;I changed &apos;text/xml;charset=utf-8&apos; to match the files. We could make the default content type &apos;application/octet-stream&apos; in ShowFileHandler. &lt;/p&gt;

&lt;p&gt;Not tested on websphere. &lt;/p&gt;</comment>
                            <comment id="12904195" author="sven.hoffmann" created="Mon, 30 Aug 2010 13:42:33 +0000"  >&lt;p&gt;After applying the patch of src/webapp/web/admin/index.jsp on WebSphere Application Server 6.1.0.29 I was able to open the &apos;Config&apos; and &apos;Schema&apos; pages.&lt;/p&gt;</comment>
                            <comment id="12987870" author="hossman" created="Fri, 28 Jan 2011 01:12:51 +0000"  >&lt;p&gt;Thanks for your help on the patch Lance, and thanks to Sven for testing on websphere...&lt;/p&gt;

&lt;p&gt;Committed revision 1064395. - trunk&lt;br/&gt;
Committed revision 1064402. -3x&lt;/p&gt;</comment>
                            <comment id="13013265" author="gsingers" created="Wed, 30 Mar 2011 15:46:02 +0000"  >&lt;p&gt;Bulk close for 3.1.0 release&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12446389" name="SOLR-1940.patch" size="1794" author="lancenorskog" created="Sat, 5 Jun 2010 00:42:51 +0000"/>
                            <attachment id="12446304" name="SOLR-1940.patch" size="1765" author="hossman" created="Fri, 4 Jun 2010 00:04:20 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5538</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 34 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i03ns7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>19286</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>