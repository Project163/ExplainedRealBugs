<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:30:28 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-3867] admin gui cloud views broken</title>
                <link>https://issues.apache.org/jira/browse/SOLR-3867</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;The cloud tree view works (the one that shows the raw contents of ZK), but the other views (like graph) don&apos;t work.  This is probably due to the recent custerstate.json changes.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12608749">SOLR-3867</key>
            <summary>admin gui cloud views broken</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="yseeley@gmail.com">Yonik Seeley</reporter>
                        <labels>
                    </labels>
                <created>Sat, 22 Sep 2012 13:11:17 +0000</created>
                <updated>Mon, 9 May 2016 18:47:15 +0000</updated>
                            <resolved>Sat, 22 Sep 2012 17:42:54 +0000</resolved>
                                                    <fixVersion>4.0</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                    <component>SolrCloud</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13461150" author="markrmiller@gmail.com" created="Sat, 22 Sep 2012 13:19:06 +0000"  >&lt;p&gt;I changed this to blocker - we can&apos;t release 4.0 with a broken SolrCloud UI &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;/p&gt;</comment>
                            <comment id="13461154" author="yseeley@gmail.com" created="Sat, 22 Sep 2012 13:23:58 +0000"  >&lt;p&gt;I&apos;m looking at it now... think the fix is easy.&lt;/p&gt;</comment>
                            <comment id="13461158" author="yseeley@gmail.com" created="Sat, 22 Sep 2012 13:52:06 +0000"  >&lt;p&gt;Or maybe it should be easy for someone familiar with js/ajax - but my attempt has failed so far.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Index: solr/webapp/web/js/scripts/cloud.js
===================================================================
--- solr/webapp/web/js/scripts/cloud.js	(revision 1388800)
+++ solr/webapp/web/js/scripts/cloud.js	(working copy)
@@ -1,4 +1,4 @@
-/*
+tate[c]*
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; work &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; additional information regarding copyright ownership.
@@ -372,11 +372,12 @@
                 &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;( &lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt; s in state[c] )
                 {
                   &lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt; nodes = [];
-                  &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;( &lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt; n in state[c][s] )
+                  &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;( &lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt; n in state[c][s].replicas )
                   {
                     leaf_count++;
+                    &lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt; replica = state[c][s].replicas[n]
 
-                    &lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt; uri = state[c][s][n].base_url;
+                    &lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt; uri = replica.base_url;
                     &lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt; parts = uri.match( /^(\w+:)\/\/(([\w\d\.-]+)(:(\d+))?)(.+)$/ );
                     &lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt; uri_parts = {
                       protocol: parts[1],
@@ -392,9 +393,9 @@
                     helper_data.port.push( uri_parts.port );
                     helper_data.pathname.push( uri_parts.pathname );
 
-                    &lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt; status = state[c][s][n].state;
+                    &lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt; status = replica.state;
 
-                    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;( !live_nodes[state[c][s][n].node_name] )
+                    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;( !live_nodes[replica.node_name] )
                     {
                       status = &lt;span class=&quot;code-quote&quot;&gt;&apos;gone&apos;&lt;/span&gt;;
                     }
@@ -404,7 +405,7 @@
                       data: {
                         type : &lt;span class=&quot;code-quote&quot;&gt;&apos;node&apos;&lt;/span&gt;,
                         state : status,
-                        leader : &lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&apos;&lt;/span&gt; === state[c][s][n].leader,
+                        leader : &lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&apos;&lt;/span&gt; === replica.leader,
                         uri : uri_parts
                       }
                     };
@@ -715,4 +716,4 @@
       }
     );
   }
-);
\ No newline at end of file
+);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I just get a blank view though, so not sure how one goes about debugging these things...&lt;/p&gt;

&lt;p&gt;edit: Heh - I saw the errant paste in the first line of the file after I pasted the diff in here.  Looks like this approach does work.&lt;/p&gt;</comment>
                            <comment id="13461161" author="markrmiller@gmail.com" created="Sat, 22 Sep 2012 14:00:09 +0000"  >&lt;p&gt;I hate javascript, but I&apos;ll take a look today.&lt;/p&gt;</comment>
                            <comment id="13461201" author="markrmiller@gmail.com" created="Sat, 22 Sep 2012 16:04:36 +0000"  >&lt;blockquote&gt;&lt;p&gt;edit: Heh - I saw the errant paste in the first line of the file after I pasted the diff in here. Looks like this approach does work.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Didn&apos;t catch this edit - great. &lt;/p&gt;

&lt;p&gt;I&apos;m going to try and do some thorough testing today and tomorrow.&lt;/p&gt;</comment>
                            <comment id="13461220" author="yseeley@gmail.com" created="Sat, 22 Sep 2012 17:42:54 +0000"  >&lt;p&gt;Committed trunk, 4x, 40x:&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc?rev=1388833&amp;amp;view=rev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?rev=1388833&amp;amp;view=rev&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13610786" author="commit-tag-bot" created="Fri, 22 Mar 2013 16:35:05 +0000"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;branch_4x commit&amp;#93;&lt;/span&gt; Yonik Seeley&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1388831&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1388831&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-3867&quot; title=&quot;admin gui cloud views broken&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-3867&quot;&gt;&lt;del&gt;SOLR-3867&lt;/del&gt;&lt;/a&gt;: fix admin gui due to clusterstate.json format changes&lt;/p&gt;</comment>
                            <comment id="13653778" author="thetaphi" created="Fri, 10 May 2013 10:32:57 +0000"  >&lt;p&gt;Closed after release.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>243129</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 28 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i03c6f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>17406</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>