<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:19:32 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-1908] SignatureUpdateProcessor does not fail on invalid config, can lead to deleting all docs (Deduplication)</title>
                <link>https://issues.apache.org/jira/browse/SOLR-1908</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;Dedupe removes all documents from the index if overwriteDupes=true and the schema&apos;s signature field has indexed=false. The maxDoc value does grow as it always does but numDocs is always zero.&lt;/p&gt;

&lt;p&gt;solrconfig.xml&lt;br/&gt;
    &amp;lt;bool name=&quot;overwriteDupes&quot;&amp;gt;true&amp;lt;/bool&amp;gt;&lt;br/&gt;
    &amp;lt;str name=&quot;signatureField&quot;&amp;gt;sig&amp;lt;/str&amp;gt;&lt;/p&gt;

&lt;p&gt;schema.xml&lt;br/&gt;
    &amp;lt;field name=&quot;sig&quot; type=&quot;string&quot; stored=&quot;true&quot; indexed=&quot;false&quot; multiValued=&quot;true&quot; /&amp;gt;&lt;/p&gt;

&lt;p&gt;mailinglist&lt;br/&gt;
&lt;a href=&quot;http://lucene.472066.n3.nabble.com/Dedupe-and-overwriteDupes-setting-td809320.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://lucene.472066.n3.nabble.com/Dedupe-and-overwriteDupes-setting-td809320.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;log entries&lt;/p&gt;

&lt;p&gt;May 12, 2010 2:35:34 PM org.apache.solr.core.SolrDeletionPolicy onInit&lt;br/&gt;
INFO: SolrDeletionPolicy.onInit: commits:num=1                        &lt;br/&gt;
        commit{dir=/opt/apache/solr/data/index,segFN=segments_1,version=1273667628292,generation=1,filenames=&lt;span class=&quot;error&quot;&gt;&amp;#91;segments_1&amp;#93;&lt;/span&gt;&lt;br/&gt;
May 12, 2010 2:35:34 PM org.apache.solr.core.SolrDeletionPolicy updateCommits                                            &lt;br/&gt;
INFO: newest commit = 1273667628292                                                                                      &lt;br/&gt;
May 12, 2010 2:35:35 PM org.apache.solr.update.processor.LogUpdateProcessor finish                                       &lt;br/&gt;
INFO: &lt;/p&gt;
{add=[&amp;lt;ID&apos;s WERE HERE&amp;gt;, ... (8 added)]}
&lt;p&gt; 0 1097                                                                                         &lt;br/&gt;
May 12, 2010 2:35:35 PM org.apache.solr.core.SolrCore execute                                                                                                         &lt;br/&gt;
INFO: [] webapp=/solr path=/update params=&lt;/p&gt;
{wt=javabin&amp;amp;version=2.2}
&lt;p&gt; status=0 QTime=1097                                                                                &lt;br/&gt;
May 12, 2010 2:35:35 PM org.apache.solr.update.DirectUpdateHandler2 commit                                                                                            &lt;br/&gt;
INFO: start commit(optimize=false,waitFlush=true,waitSearcher=true,expungeDeletes=false)                                                                              &lt;br/&gt;
May 12, 2010 2:35:35 PM org.apache.solr.core.SolrDeletionPolicy onCommit                                                                                              &lt;br/&gt;
INFO: SolrDeletionPolicy.onCommit: commits:num=2                                                                                                                      &lt;br/&gt;
        commit{dir=/opt/apache/solr/data/index,segFN=segments_1,version=1273667628292,generation=1,filenames=&lt;span class=&quot;error&quot;&gt;&amp;#91;segments_1&amp;#93;&lt;/span&gt;                                             &lt;br/&gt;
        commit{dir=/opt/apache/solr/data/index,segFN=segments_2,version=1273667628293,generation=2,filenames=&lt;span class=&quot;error&quot;&gt;&amp;#91;_0.tis, _0.nrm, _0.fnm, _0.tvd, _0_1.del, _0.tvf, _0.tii, _0.tvx, _0.frq, segments_2, _0.fdx, _0.prx, _0.fdt&amp;#93;&lt;/span&gt;                                                                                                                 &lt;br/&gt;
May 12, 2010 2:35:35 PM org.apache.solr.core.SolrDeletionPolicy updateCommits                                                                                         &lt;br/&gt;
INFO: newest commit = 1273667628293                                                                                                                                   &lt;br/&gt;
May 12, 2010 2:35:35 PM org.apache.solr.search.SolrIndexSearcher &amp;lt;init&amp;gt;                                                                                               &lt;br/&gt;
INFO: Opening Searcher@8ae59a main                                                                                                                                    &lt;br/&gt;
May 12, 2010 2:35:35 PM org.apache.solr.update.DirectUpdateHandler2 commit                                                                                            &lt;br/&gt;
INFO: end_commit_flush       &lt;/p&gt;</description>
                <environment></environment>
        <key id="12464346">SOLR-1908</key>
            <summary>SignatureUpdateProcessor does not fail on invalid config, can lead to deleting all docs (Deduplication)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hossman">Chris M. Hostetter</assignee>
                                    <reporter username="markus17">Markus Jelsma</reporter>
                        <labels>
                    </labels>
                <created>Wed, 12 May 2010 12:43:36 +0000</created>
                <updated>Fri, 10 May 2013 10:40:45 +0000</updated>
                            <resolved>Fri, 14 May 2010 20:59:01 +0000</resolved>
                                    <version>1.4</version>
                                    <fixVersion>4.0-ALPHA</fixVersion>
                                    <component>update</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12866782" author="hossman" created="Wed, 12 May 2010 23:23:28 +0000"  >&lt;p&gt;First pass at a test &amp;amp; fix &amp;#8211; allowed signatureField to be un-indexed (for people who want to compute a signature for other purposes) but fail if if it&apos;s un-indexed and overwriteDupes==true.&lt;/p&gt;</comment>
                            <comment id="12866920" author="hossman" created="Wed, 12 May 2010 23:58:11 +0000"  >&lt;p&gt;after posting the last patch i remembered that URPFs could be SolrCoreAware, so here&apos;s a much better fix (with tests) tha catches the problem at init.&lt;/p&gt;</comment>
                            <comment id="12867675" author="hossman" created="Fri, 14 May 2010 20:57:33 +0000"  >&lt;p&gt;Revised summary to elaborate on problem&lt;/p&gt;

&lt;p&gt;FYI: further testing made me realize that lots of other tests use solconfig.xml/schema.xml combinations that now fail to init because of hte stricter testing about signatureField, so the final commit will need to update all fo those schema.xml files to contain the signatureField(s) needed.&lt;/p&gt;</comment>
                            <comment id="12867676" author="hossman" created="Fri, 14 May 2010 20:59:01 +0000"  >&lt;p&gt;Committed revision 944463.&lt;/p&gt;

&lt;p&gt;Thanks for reporting this Markus.&lt;/p&gt;</comment>
                            <comment id="12872823" author="hossman" created="Fri, 28 May 2010 03:30:05 +0000"  >
&lt;p&gt;Correcting Fix Version based on CHANGES.txt, see this thread for more details...&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/lucene-dev/201005.mbox/%3Calpine.DEB.1.10.1005251052040.24672@radix.cryptio.net%3E&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://mail-archives.apache.org/mod_mbox/lucene-dev/201005.mbox/%3Calpine.DEB.1.10.1005251052040.24672@radix.cryptio.net%3E&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12444364" name="SOLR-1908.patch" size="6295" author="hossman" created="Wed, 12 May 2010 23:58:11 +0000"/>
                            <attachment id="12444359" name="SOLR-1908.patch" size="6138" author="hossman" created="Wed, 12 May 2010 23:23:27 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5567</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 26 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i03nz3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>19317</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>