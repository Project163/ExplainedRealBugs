<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:33:47 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-12326] Unnecessary refinement requests</title>
                <link>https://issues.apache.org/jira/browse/SOLR-12326</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;TestJsonFacets.testStatsDistrib() appears to result in more refinement requests than would otherwise be expected.  Those tests were developed before refinement was implemented and hence do not need refinement to generate correct results due to limited numbers of buckets.  This should be detectable by refinement code in the majority of cases to prevent extra work from being done.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13157647">SOLR-12326</key>
            <summary>Unnecessary refinement requests</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="yseeley@gmail.com">Yonik Seeley</assignee>
                                    <reporter username="yseeley@gmail.com">Yonik Seeley</reporter>
                        <labels>
                    </labels>
                <created>Mon, 7 May 2018 16:59:18 +0000</created>
                <updated>Sat, 8 Jun 2019 15:13:55 +0000</updated>
                            <resolved>Sat, 30 Jun 2018 13:47:47 +0000</resolved>
                                                    <fixVersion>7.5</fixVersion>
                                    <component>Facet Module</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16519493" author="yseeley@gmail.com" created="Thu, 21 Jun 2018 15:25:11 +0000"  >&lt;p&gt;One part of the solution is for the request merger to know if a shard has more buckets.  If it knows the exact amount of over-request used, then it can figure it out.  This is a little more fragile though, and I could envision future optimizations that dynamically change the amount of over-request based on things like heuristics, field statistics on that shard, and results of previous requests.   For that reason, I&apos;m planning on just passing back more:true for field facets that have more values.&lt;/p&gt;</comment>
                            <comment id="16526734" author="yseeley@gmail.com" created="Thu, 28 Jun 2018 20:03:06 +0000"  >&lt;p&gt;Draft patch attached.  TestJsonFacetRefinement still fails, I assume because not all field faceting implementations return &quot;more&quot; yet.  More tests to be added as well.&lt;/p&gt;</comment>
                            <comment id="16527803" author="yseeley@gmail.com" created="Fri, 29 Jun 2018 15:36:25 +0000"  >&lt;p&gt;Here&apos;s an updated patch that has all tests passing that I plan on committing after adding some additional tests.&lt;/p&gt;</comment>
                            <comment id="16528718" author="jira-bot" created="Sat, 30 Jun 2018 13:46:09 +0000"  >&lt;p&gt;Commit ee12253385afaf267c1ad802431d30ee345192d2 in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yonik%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;yonik@apache.org&quot;&gt;yonik@apache.org&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=ee12253&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=ee12253&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-12326&quot; title=&quot;Unnecessary refinement requests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-12326&quot;&gt;&lt;del&gt;SOLR-12326&lt;/del&gt;&lt;/a&gt;: add more=true to terms facets with more buckets&lt;/p&gt;</comment>
                            <comment id="16528720" author="jira-bot" created="Sat, 30 Jun 2018 13:47:15 +0000"  >&lt;p&gt;Commit 8afc12357da9a68358a961835faea6933a28543d in lucene-solr&apos;s branch refs/heads/branch_7x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yonik%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;yonik@apache.org&quot;&gt;yonik@apache.org&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=8afc123&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=8afc123&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-12326&quot; title=&quot;Unnecessary refinement requests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-12326&quot;&gt;&lt;del&gt;SOLR-12326&lt;/del&gt;&lt;/a&gt;: add more=true to terms facets with more buckets&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12929726" name="SOLR-12326.patch" size="18182" author="yseeley@gmail.com" created="Fri, 29 Jun 2018 15:34:28 +0000"/>
                            <attachment id="12929623" name="SOLR-12326.patch" size="15286" author="yseeley@gmail.com" created="Thu, 28 Jun 2018 19:59:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 20 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3tfef:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>