<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:40:17 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-13727] V2Requests: HttpSolrClient replaces first instance of &quot;/solr&quot; with &quot;/api&quot; instead of using regex pattern</title>
                <link>https://issues.apache.org/jira/browse/SOLR-13727</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;When the HttpSolrClient is formatting a V2Request, it needs to change the endpoint from the default &quot;/solr/...&quot; to &quot;/api/...&quot;. It does so by simply calling String.replace, which replaces the first instance of &quot;/solr&quot; in the URL with &quot;/api&quot;.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;In the case where the host&apos;s address starts with &quot;solr&quot; and the HTTP protocol is appended, this call changes the address for the request. Example:&lt;/p&gt;

&lt;p&gt;if baseUrl is &quot;http://solr-host.com/8983/solr&quot;, this call will change to &quot;http:/api-host.com:8983/solr&quot;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;We should use a regex pattern to ensure that we&apos;re replacing the correct portion of the URL.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13253770">SOLR-13727</key>
            <summary>V2Requests: HttpSolrClient replaces first instance of &quot;/solr&quot; with &quot;/api&quot; instead of using regex pattern</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="megancarey">Megan Carey</reporter>
                        <labels>
                            <label>easyfix</label>
                            <label>patch</label>
                    </labels>
                <created>Thu, 29 Aug 2019 18:58:33 +0000</created>
                <updated>Thu, 12 May 2022 00:26:02 +0000</updated>
                            <resolved>Thu, 5 Sep 2019 02:28:37 +0000</resolved>
                                    <version>8.2</version>
                                    <fixVersion>8.3</fixVersion>
                    <fixVersion>9.0</fixVersion>
                                    <component>clients - java</component>
                    <component>v2 API</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="4800">1h 20m</timespent>
                                <comments>
                            <comment id="16921677" author="yseeley@gmail.com" created="Tue, 3 Sep 2019 19:22:36 +0000"  >&lt;p&gt;Changes look good to me! I&apos;ll commit soon unless anyone else sees an issue with this approach.&lt;/p&gt;</comment>
                            <comment id="16921766" author="lucenesolrqa" created="Tue, 3 Sep 2019 23:27:52 +0000"  >&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/error.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;b&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;&lt;/b&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Vote &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Subsystem &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Runtime &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Comment &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;red&quot;&gt;-1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;red&quot;&gt; patch &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;red&quot;&gt;  0m  6s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;red&quot;&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13727&quot; title=&quot;V2Requests: HttpSolrClient replaces first instance of &amp;quot;/solr&amp;quot; with &amp;quot;/api&amp;quot; instead of using regex pattern&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13727&quot;&gt;&lt;del&gt;SOLR-13727&lt;/del&gt;&lt;/a&gt; does not apply to master. Rebase required? Wrong Branch? See &lt;a href=&quot;https://wiki.apache.org/solr/HowToContribute#Creating_the_patch_file&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://wiki.apache.org/solr/HowToContribute#Creating_the_patch_file&lt;/a&gt; for help. &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Subsystem &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Report/Notes &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; JIRA Issue &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13727&quot; title=&quot;V2Requests: HttpSolrClient replaces first instance of &amp;quot;/solr&amp;quot; with &amp;quot;/api&amp;quot; instead of using regex pattern&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13727&quot;&gt;&lt;del&gt;SOLR-13727&lt;/del&gt;&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; JIRA Patch URL &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12979259/SOLR-13727.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12979259/SOLR-13727.patch&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Console output &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://builds.apache.org/job/PreCommit-SOLR-Build/547/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-SOLR-Build/547/console&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Powered by &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Apache Yetus 0.7.0   &lt;a href=&quot;http://yetus.apache.org&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://yetus.apache.org&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;



&lt;p&gt;This message was automatically generated.&lt;/p&gt;
</comment>
                            <comment id="16922988" author="jira-bot" created="Thu, 5 Sep 2019 02:15:27 +0000"  >&lt;p&gt;Commit 8c796b5f463c9c2529f29f317aa2c847f390a174 in lucene-solr&apos;s branch refs/heads/master from Megan Carey&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=8c796b5&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=8c796b5&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13727&quot; title=&quot;V2Requests: HttpSolrClient replaces first instance of &amp;quot;/solr&amp;quot; with &amp;quot;/api&amp;quot; instead of using regex pattern&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13727&quot;&gt;&lt;del&gt;SOLR-13727&lt;/del&gt;&lt;/a&gt;: Bug fix for V2Request handling in HttpSolrClient&lt;/p&gt;

&lt;p&gt; Using regex to validate baseUrl and replace path for V2Requests&lt;/p&gt;

&lt;p&gt; Changed to using Java.net.URL for validation + path replacement&lt;/p&gt;</comment>
                            <comment id="16922993" author="jira-bot" created="Thu, 5 Sep 2019 02:20:58 +0000"  >&lt;p&gt;Commit c3a72475a6eb02ad953a4a3f1ad586fb41fbe24e in lucene-solr&apos;s branch refs/heads/branch_8x from Megan Carey&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=c3a7247&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=c3a7247&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13727&quot; title=&quot;V2Requests: HttpSolrClient replaces first instance of &amp;quot;/solr&amp;quot; with &amp;quot;/api&amp;quot; instead of using regex pattern&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13727&quot;&gt;&lt;del&gt;SOLR-13727&lt;/del&gt;&lt;/a&gt;: Bug fix for V2Request handling in HttpSolrClient&lt;/p&gt;

&lt;p&gt; Using regex to validate baseUrl and replace path for V2Requests&lt;/p&gt;

&lt;p&gt; Changed to using Java.net.URL for validation + path replacement&lt;/p&gt;</comment>
                            <comment id="16939574" author="jira-bot" created="Fri, 27 Sep 2019 16:07:58 +0000"  >&lt;p&gt;Commit ae72f4f542a648b8e159da258daa23ee9c2306d3 in lucene-solr&apos;s branch refs/heads/master from Yonik Seeley&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=ae72f4f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=ae72f4f&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13399&quot; title=&quot;compositeId support for shard splitting&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13399&quot;&gt;&lt;del&gt;SOLR-13399&lt;/del&gt;&lt;/a&gt;: add SPLITSHARD splitByPrefix docs (#903)&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13399&quot; title=&quot;compositeId support for shard splitting&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13399&quot;&gt;&lt;del&gt;SOLR-13399&lt;/del&gt;&lt;/a&gt;: add SPLITSHARD splitByPrefix docs&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13727&quot; title=&quot;V2Requests: HttpSolrClient replaces first instance of &amp;quot;/solr&amp;quot; with &amp;quot;/api&amp;quot; instead of using regex pattern&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13727&quot;&gt;&lt;del&gt;SOLR-13727&lt;/del&gt;&lt;/a&gt;: CHANGES entry for bug&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="16939630" author="jira-bot" created="Fri, 27 Sep 2019 17:38:14 +0000"  >&lt;p&gt;Commit 971b5d58235b05da79797a151b6eac6f67b3e8c0 in lucene-solr&apos;s branch refs/heads/branch_8x from Yonik Seeley&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=971b5d5&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=971b5d5&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13399&quot; title=&quot;compositeId support for shard splitting&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13399&quot;&gt;&lt;del&gt;SOLR-13399&lt;/del&gt;&lt;/a&gt;: add SPLITSHARD splitByPrefix docs (#903)&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13399&quot; title=&quot;compositeId support for shard splitting&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13399&quot;&gt;&lt;del&gt;SOLR-13399&lt;/del&gt;&lt;/a&gt;: add SPLITSHARD splitByPrefix docs&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13727&quot; title=&quot;V2Requests: HttpSolrClient replaces first instance of &amp;quot;/solr&amp;quot; with &amp;quot;/api&amp;quot; instead of using regex pattern&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13727&quot;&gt;&lt;del&gt;SOLR-13727&lt;/del&gt;&lt;/a&gt;: CHANGES entry for bug&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17535188" author="janhoy" created="Thu, 12 May 2022 00:26:02 +0000"  >&lt;p&gt;Closing after the 9.0.0 release&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12979259" name="SOLR-13727.patch" size="27977" author="mkhl" created="Tue, 3 Sep 2019 20:40:44 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 26 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z06620:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>