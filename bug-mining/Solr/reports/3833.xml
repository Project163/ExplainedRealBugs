<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:31:28 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-12070] TestJMXIntegration.testJMXOnCoreReload always fails</title>
                <link>https://issues.apache.org/jira/browse/SOLR-12070</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;This test is marked @BadApple but the issue it refers to probably doesn&apos;t apply anymore since the JMX integration has been substantially changed as a part of the metrics refactoring.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13143595">SOLR-12070</key>
            <summary>TestJMXIntegration.testJMXOnCoreReload always fails</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ab">Andrzej Bialecki</assignee>
                                    <reporter username="ab">Andrzej Bialecki</reporter>
                        <labels>
                    </labels>
                <created>Thu, 8 Mar 2018 16:19:42 +0000</created>
                <updated>Sat, 8 Jun 2019 15:16:57 +0000</updated>
                            <resolved>Mon, 11 Jun 2018 16:51:11 +0000</resolved>
                                    <version>7.3</version>
                    <version>8.0</version>
                                    <fixVersion>7.3</fixVersion>
                    <fixVersion>8.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="16394634" author="mkhludnev" created="Sun, 11 Mar 2018 20:36:27 +0000"  >&lt;p&gt;testJMXOnCoreReload relies on &quot;coreHashCode&quot; mbean attribute,&lt;/p&gt;

&lt;p&gt;{{ if (String.valueOf(h.getCore().hashCode()).equals(mbeanServer.getAttribute(bean.getObjectName(), &quot;coreHashCode&quot;))) {}}&lt;br/&gt;
{{ oldNumberOfObjects++;}}&lt;br/&gt;
{{ }}}&lt;/p&gt;

&lt;p&gt;but if it print mbeans attrs I&apos;ve got:&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;solr:dom1=core,dom2=collection1,category=QUERY,scope=/terms,name=shardRequests&lt;/tt&gt;&lt;/p&gt;</comment>
                            <comment id="16394637" author="mkhludnev" created="Sun, 11 Mar 2018 20:39:32 +0000"  >&lt;p&gt;omitting this condition gives:&lt;/p&gt;

&lt;p&gt;TestJmxIntegration Before Reload: Size of infoRegistry: 108 MBeans: 57&lt;/p&gt;

&lt;p&gt;in master the later number is 0&lt;/p&gt;</comment>
                            <comment id="16395231" author="jira-bot" created="Mon, 12 Mar 2018 13:29:14 +0000"  >&lt;p&gt;Commit 55ba89ef4252aad35f19e5332d26de61e8f2b529 in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ab&quot; class=&quot;user-hover&quot; rel=&quot;ab&quot;&gt;ab&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=55ba89e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=55ba89e&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-12070&quot; title=&quot;TestJMXIntegration.testJMXOnCoreReload always fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-12070&quot;&gt;&lt;del&gt;SOLR-12070&lt;/del&gt;&lt;/a&gt;: Fix testJmxIntegration that used obsolete APIs.&lt;/p&gt;</comment>
                            <comment id="16395234" author="jira-bot" created="Mon, 12 Mar 2018 13:30:11 +0000"  >&lt;p&gt;Commit 1bd09cf6accf19c7ae1da46ea57e2b8d76c82280 in lucene-solr&apos;s branch refs/heads/branch_7x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ab&quot; class=&quot;user-hover&quot; rel=&quot;ab&quot;&gt;ab&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=1bd09cf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=1bd09cf&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-12070&quot; title=&quot;TestJMXIntegration.testJMXOnCoreReload always fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-12070&quot;&gt;&lt;del&gt;SOLR-12070&lt;/del&gt;&lt;/a&gt;: Fix testJmxIntegration that used obsolete APIs.&lt;/p&gt;</comment>
                            <comment id="16395245" author="ab" created="Mon, 12 Mar 2018 13:45:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mkhludnev&quot; class=&quot;user-hover&quot; rel=&quot;mkhludnev&quot;&gt;mkhludnev&lt;/a&gt; the problem with this test was that it&apos;s been disabled for a long time and the way MBeans are registered now is totally different, so the assertions totally didn&apos;t make sense anymore.&lt;/p&gt;</comment>
                            <comment id="16395454" author="erickerickson" created="Mon, 12 Mar 2018 16:18:11 +0000"  >&lt;p&gt;Does the way MBeans are registered now have enough tests behind it that we can just remove this totally?&lt;/p&gt;</comment>
                            <comment id="16396655" author="ab" created="Tue, 13 Mar 2018 07:53:58 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=erickerickson&quot; class=&quot;user-hover&quot; rel=&quot;erickerickson&quot;&gt;erickerickson&lt;/a&gt; this test verifies important aspects of JMX reporting, such as content updates to JMX beans and full re-registration on core-reloads - which are not verified so strictly in other tests. OTOH we could probably move these tests to &lt;tt&gt;SolrJmxReporterTest&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="16396890" author="romseygeek" created="Tue, 13 Mar 2018 12:41:44 +0000"  >&lt;p&gt;This is failing for me 100% on the 7.3 release branch&lt;/p&gt;</comment>
                            <comment id="16397067" author="jira-bot" created="Tue, 13 Mar 2018 14:56:48 +0000"  >&lt;p&gt;Commit c733c9673cd603562848b1c7930bcfc8f6827fc6 in lucene-solr&apos;s branch refs/heads/branch_7_3 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ab&quot; class=&quot;user-hover&quot; rel=&quot;ab&quot;&gt;ab&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=c733c96&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=c733c96&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-12070&quot; title=&quot;TestJMXIntegration.testJMXOnCoreReload always fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-12070&quot;&gt;&lt;del&gt;SOLR-12070&lt;/del&gt;&lt;/a&gt;: Fix testJmxIntegration that used obsolete APIs.&lt;/p&gt;</comment>
                            <comment id="16397072" author="jira-bot" created="Tue, 13 Mar 2018 15:00:16 +0000"  >&lt;p&gt;Commit bcbc06f373c5b939e3bb02c79bc8237036205e74 in lucene-solr&apos;s branch refs/heads/branch_7x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ab&quot; class=&quot;user-hover&quot; rel=&quot;ab&quot;&gt;ab&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=bcbc06f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=bcbc06f&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-12070&quot; title=&quot;TestJMXIntegration.testJMXOnCoreReload always fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-12070&quot;&gt;&lt;del&gt;SOLR-12070&lt;/del&gt;&lt;/a&gt;: Make sure searcher beans are registered.&lt;/p&gt;</comment>
                            <comment id="16397073" author="jira-bot" created="Tue, 13 Mar 2018 15:00:37 +0000"  >&lt;p&gt;Commit b6fcf4157b21deb954c6058af161d9b0876599bb in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ab&quot; class=&quot;user-hover&quot; rel=&quot;ab&quot;&gt;ab&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=b6fcf41&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=b6fcf41&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-12070&quot; title=&quot;TestJMXIntegration.testJMXOnCoreReload always fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-12070&quot;&gt;&lt;del&gt;SOLR-12070&lt;/del&gt;&lt;/a&gt;: Make sure searcher beans are registered.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 36 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3r1w7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>