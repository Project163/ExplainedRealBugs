<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:34:15 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-4467] Ephemeral directory implementations may not recover correctly because the code to clear the tlog files on startup is off.</title>
                <link>https://issues.apache.org/jira/browse/SOLR-4467</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description></description>
                <environment></environment>
        <key id="12632719">SOLR-4467</key>
            <summary>Ephemeral directory implementations may not recover correctly because the code to clear the tlog files on startup is off.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="4" iconUrl="https://issues.apache.org/jira/images/icons/statuses/reopened.png" description="This issue was once resolved, but the resolution was deemed incorrect. From here issues are either marked assigned or resolved.">Reopened</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="markrmiller@gmail.com">Mark Miller</assignee>
                                    <reporter username="markrmiller@gmail.com">Mark Miller</reporter>
                        <labels>
                    </labels>
                <created>Sat, 16 Feb 2013 19:05:19 +0000</created>
                <updated>Mon, 9 May 2016 18:45:25 +0000</updated>
                                                            <fixVersion>4.9</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13579886" author="commit-tag-bot" created="Sat, 16 Feb 2013 19:22:11 +0000"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;trunk commit&amp;#93;&lt;/span&gt; Mark Robert Miller&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1446929&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1446929&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-4467&quot; title=&quot;Ephemeral directory implementations may not recover correctly because the code to clear the tlog files on startup is off.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-4467&quot;&gt;SOLR-4467&lt;/a&gt;: CHANGES entry&lt;/p&gt;</comment>
                            <comment id="13579887" author="commit-tag-bot" created="Sat, 16 Feb 2013 19:22:12 +0000"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;trunk commit&amp;#93;&lt;/span&gt; Mark Robert Miller&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1446928&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1446928&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-4467&quot; title=&quot;Ephemeral directory implementations may not recover correctly because the code to clear the tlog files on startup is off.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-4467&quot;&gt;SOLR-4467&lt;/a&gt;: Ephemeral directory implementations may not recover correctly because the code to clear the tlog files on startup is off.&lt;/p&gt;</comment>
                            <comment id="13580038" author="commit-tag-bot" created="Sat, 16 Feb 2013 21:10:24 +0000"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;branch_4x commit&amp;#93;&lt;/span&gt; Mark Robert Miller&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1446943&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1446943&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-4467&quot; title=&quot;Ephemeral directory implementations may not recover correctly because the code to clear the tlog files on startup is off.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-4467&quot;&gt;SOLR-4467&lt;/a&gt;: CHANGES entry&lt;/p&gt;</comment>
                            <comment id="13580039" author="commit-tag-bot" created="Sat, 16 Feb 2013 21:10:25 +0000"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;branch_4x commit&amp;#93;&lt;/span&gt; Mark Robert Miller&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1446942&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1446942&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-4467&quot; title=&quot;Ephemeral directory implementations may not recover correctly because the code to clear the tlog files on startup is off.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-4467&quot;&gt;SOLR-4467&lt;/a&gt;: Ephemeral directory implementations may not recover correctly because the code to clear the tlog files on startup is off.&lt;/p&gt;</comment>
                            <comment id="13580231" author="markrmiller@gmail.com" created="Sun, 17 Feb 2013 17:45:58 +0000"  >&lt;p&gt;There is a problem with a test on windows because a tlog file cannot be removed.&lt;/p&gt;</comment>
                            <comment id="13580242" author="markrmiller@gmail.com" created="Sun, 17 Feb 2013 18:23:08 +0000"  >&lt;p&gt;Hmm...I think the problem may be on core reload - for a time, there can be multiple update logs looking at the same directory.&lt;/p&gt;</comment>
                            <comment id="13580245" author="markrmiller@gmail.com" created="Sun, 17 Feb 2013 18:27:05 +0000"  >&lt;p&gt;nevermind, shouldn&apos;t be that - the updatehandler is shared across reloads...not seeing this one easily.&lt;/p&gt;</comment>
                            <comment id="13580644" author="markrmiller@gmail.com" created="Mon, 18 Feb 2013 15:00:19 +0000"  >&lt;p&gt;The test looks like it should be fine - so I&apos;m still on the hunt for how something still refs the tlogs - I&apos;ve tried over-closing everything with no luck. One option to work around it is to force a file system directory for this test, but it will just hide what looks like a bug. &lt;/p&gt;</comment>
                            <comment id="13580646" author="thetaphi" created="Mon, 18 Feb 2013 15:03:59 +0000"  >&lt;p&gt;I wonder why this can only be reproduced on Windows. If the test would use MockDirectory, the deleting of open files using FSDirectory.delete() should always fail (as far as I remember, Robert added such a check into MockDirectory).&lt;/p&gt;</comment>
                            <comment id="13580651" author="markrmiller@gmail.com" created="Mon, 18 Feb 2013 15:14:08 +0000"  >&lt;p&gt;tlog files are not actually worked with through a directory - they use a channel from a RAF.&lt;/p&gt;</comment>
                            <comment id="13580653" author="markrmiller@gmail.com" created="Mon, 18 Feb 2013 15:19:01 +0000"  >&lt;p&gt;Well I try and figure out what the issue is, I&apos;ve made this log the error rather than throw an exception.&lt;/p&gt;</comment>
                            <comment id="13582832" author="commit-tag-bot" created="Thu, 21 Feb 2013 02:42:39 +0000"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;branch_4x commit&amp;#93;&lt;/span&gt; Mark Robert Miller&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1447312&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1447312&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-4467&quot; title=&quot;Ephemeral directory implementations may not recover correctly because the code to clear the tlog files on startup is off.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-4467&quot;&gt;SOLR-4467&lt;/a&gt;: While looking into what looks like some kind of resource leak, make this hard fail a soft logging fail&lt;/p&gt;</comment>
                            <comment id="13582848" author="commit-tag-bot" created="Thu, 21 Feb 2013 02:42:52 +0000"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;trunk commit&amp;#93;&lt;/span&gt; Mark Robert Miller&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1447308&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1447308&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-4467&quot; title=&quot;Ephemeral directory implementations may not recover correctly because the code to clear the tlog files on startup is off.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-4467&quot;&gt;SOLR-4467&lt;/a&gt;: While looking into what looks like some kind of resource leak, make this hard fail a soft logging fail&lt;/p&gt;</comment>
                            <comment id="13607047" author="markrmiller@gmail.com" created="Tue, 19 Mar 2013 23:41:46 +0000"  >&lt;p&gt;I think this may have been caused by &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-4604&quot; title=&quot;UpdateLog#init is over called on SolrCore#reload&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-4604&quot;&gt;&lt;del&gt;SOLR-4604&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13717160" author="steve_rowe" created="Tue, 23 Jul 2013 18:47:19 +0000"  >&lt;p&gt;Bulk move 4.4 issues to 4.5 and 5.0&lt;/p&gt;</comment>
                            <comment id="13971186" author="thetaphi" created="Wed, 16 Apr 2014 12:57:24 +0000"  >&lt;p&gt;Move issue to Solr 4.9.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>313215</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 31 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1i1v3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>313561</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>