<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 05:00:32 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-16678] Collection API v2 CREATE does not handle user-defined properties</title>
                <link>https://issues.apache.org/jira/browse/SOLR-16678</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;According to this documentation &lt;a href=&quot;https://solr.apache.org/guide/solr/latest/configuration-guide/property-substitution.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://solr.apache.org/guide/solr/latest/configuration-guide/property-substitution.html&lt;/a&gt;, we should be able with the Collection API v2 CREATE, to define custom core properties and use them in the solrconfig.xml file&lt;/p&gt;

&lt;p&gt;This is not working properly as, for example, if I try to define a &quot;lib.path&quot; property that I use in the solrconfig.xml of my collection, I get the following error:&lt;/p&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
curl -XPOST http:&lt;span class=&quot;code-comment&quot;&gt;//localhost:8983/api/collections -H &lt;span class=&quot;code-quote&quot;&gt;&apos;Content-Type: application/json&apos;&lt;/span&gt; -d &lt;span class=&quot;code-quote&quot;&gt;&apos;{&lt;span class=&quot;code-quote&quot;&gt;&quot;create&quot;&lt;/span&gt;: {&lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;MyCollection&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;config&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;Init&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;numShards&quot;&lt;/span&gt;: 2, &lt;span class=&quot;code-quote&quot;&gt;&quot;replicationFactor&quot;&lt;/span&gt;:1, &lt;span class=&quot;code-quote&quot;&gt;&quot;property.lib.path&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;/my/lib/path&quot;&lt;/span&gt;}}&apos;&lt;/span&gt; 
&lt;/span&gt;
{
&#160; &lt;span class=&quot;code-quote&quot;&gt;&quot;responseHeader&quot;&lt;/span&gt;:{
&#160; &#160; &lt;span class=&quot;code-quote&quot;&gt;&quot;status&quot;&lt;/span&gt;:400,
&#160; &#160; &lt;span class=&quot;code-quote&quot;&gt;&quot;QTime&quot;&lt;/span&gt;:738},
&#160; &lt;span class=&quot;code-quote&quot;&gt;&quot;failure&quot;&lt;/span&gt;:{
&#160; &#160; &lt;span class=&quot;code-quote&quot;&gt;&quot;127.0.0.1:8983_solr&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.solr.client.solrj.impl.BaseHttpSolrClient$RemoteSolrException:Error from server at &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;: Error CREATEing SolrCore &lt;span class=&quot;code-quote&quot;&gt;&apos;MyCollection_shard1_replica_n3&apos;&lt;/span&gt;: Unable to create core [MyCollection_shard1_replica_n3] Caused by: No system property or &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; value specified &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; lib.path value:${lib.path}/Custom&quot;&lt;/span&gt;,
&#160; &#160; &lt;span class=&quot;code-quote&quot;&gt;&quot;127.0.0.1:8983_solr&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.solr.client.solrj.impl.BaseHttpSolrClient$RemoteSolrException:Error from server at &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;: Error CREATEing SolrCore &lt;span class=&quot;code-quote&quot;&gt;&apos;MyCollection_shard2_replica_n1&apos;&lt;/span&gt;: Unable to create core [MyCollection_shard2_replica_n1] Caused by: No system property or &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; value specified &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; lib.path value:${lib.path}/Custom&quot;&lt;/span&gt;},
&#160; &lt;span class=&quot;code-quote&quot;&gt;&quot;Operation create caused exception:&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.solr.common.SolrException:org.apache.solr.common.SolrException: Underlying core creation failed &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; creating collection: MyCollection&quot;&lt;/span&gt;,
&#160; &lt;span class=&quot;code-quote&quot;&gt;&quot;exception&quot;&lt;/span&gt;:{
&#160; &#160; &lt;span class=&quot;code-quote&quot;&gt;&quot;msg&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;Underlying core creation failed &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; creating collection: MyCollection&quot;&lt;/span&gt;,
&#160; &#160; &lt;span class=&quot;code-quote&quot;&gt;&quot;rspCode&quot;&lt;/span&gt;:400},
&#160; &lt;span class=&quot;code-quote&quot;&gt;&quot;error&quot;&lt;/span&gt;:{
&#160; &#160; &lt;span class=&quot;code-quote&quot;&gt;&quot;metadata&quot;&lt;/span&gt;:[
&#160; &#160; &#160; &lt;span class=&quot;code-quote&quot;&gt;&quot;error-class&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.solr.common.SolrException&quot;&lt;/span&gt;,
&#160; &#160; &#160; &lt;span class=&quot;code-quote&quot;&gt;&quot;root-error-class&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.solr.common.SolrException&quot;&lt;/span&gt;],
&#160; &#160; &lt;span class=&quot;code-quote&quot;&gt;&quot;msg&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;Underlying core creation failed &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; creating collection: MyCollection&quot;&lt;/span&gt;,
&#160; &#160; &lt;span class=&quot;code-quote&quot;&gt;&quot;code&quot;&lt;/span&gt;:400}}&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&#160;&lt;/p&gt;

&lt;p&gt;Doing the same with the Collection API v1 properly works:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
curl -XGET &lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//localhost:8983/solr/admin/collections?action=CREATE&amp;amp;name=MyCollection&amp;amp;collection.configName=Init&amp;amp;numShards=2&amp;amp;maxShardsPerNode=2&amp;amp;replicationFactor=1&amp;amp;property.lib.path=/my/lib/path&quot;&lt;/span&gt;
&lt;/span&gt;
{
&#160; &lt;span class=&quot;code-quote&quot;&gt;&quot;responseHeader&quot;&lt;/span&gt;:{
&#160; &#160; &lt;span class=&quot;code-quote&quot;&gt;&quot;status&quot;&lt;/span&gt;:0,
&#160; &#160; &lt;span class=&quot;code-quote&quot;&gt;&quot;QTime&quot;&lt;/span&gt;:1419},
&#160; &lt;span class=&quot;code-quote&quot;&gt;&quot;success&quot;&lt;/span&gt;:{
&#160; &#160; &lt;span class=&quot;code-quote&quot;&gt;&quot;127.0.0.1:8983_solr&quot;&lt;/span&gt;:{
&#160; &#160; &#160; &lt;span class=&quot;code-quote&quot;&gt;&quot;responseHeader&quot;&lt;/span&gt;:{
&#160; &#160; &#160; &#160; &lt;span class=&quot;code-quote&quot;&gt;&quot;status&quot;&lt;/span&gt;:0,
&#160; &#160; &#160; &#160; &lt;span class=&quot;code-quote&quot;&gt;&quot;QTime&quot;&lt;/span&gt;:1062},
&#160; &#160; &#160; &lt;span class=&quot;code-quote&quot;&gt;&quot;core&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;MyCollection_shard1_replica_n3&quot;&lt;/span&gt;},
&#160; &#160; &lt;span class=&quot;code-quote&quot;&gt;&quot;127.0.0.1:8983_solr&quot;&lt;/span&gt;:{
&#160; &#160; &#160; &lt;span class=&quot;code-quote&quot;&gt;&quot;responseHeader&quot;&lt;/span&gt;:{
&#160; &#160; &#160; &#160; &lt;span class=&quot;code-quote&quot;&gt;&quot;status&quot;&lt;/span&gt;:0,
&#160; &#160; &#160; &#160; &lt;span class=&quot;code-quote&quot;&gt;&quot;QTime&quot;&lt;/span&gt;:1062},
&#160; &#160; &#160; &lt;span class=&quot;code-quote&quot;&gt;&quot;core&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;MyCollection_shard2_replica_n1&quot;&lt;/span&gt;}}} &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13525725">SOLR-16678</key>
            <summary>Collection API v2 CREATE does not handle user-defined properties</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gerlowskija">Jason Gerlowski</assignee>
                                    <reporter username="julienFL">Julien Massiera</reporter>
                        <labels>
                    </labels>
                <created>Wed, 22 Feb 2023 10:32:51 +0000</created>
                <updated>Fri, 17 Oct 2025 20:05:16 +0000</updated>
                            <resolved>Tue, 30 May 2023 15:50:58 +0000</resolved>
                                    <version>9.1</version>
                                    <fixVersion>9.3</fixVersion>
                    <fixVersion>10.0</fixVersion>
                                    <component>v2 API</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="2400">40m</timespent>
                                <comments>
                            <comment id="17725945" author="alex.parvulescu" created="Wed, 24 May 2023 20:19:42 +0000"  >&lt;p&gt;this is not a bug. please check the updated v2 syntax for how to correctly call this api.&lt;/p&gt;

&lt;p&gt;I added a testcase for this, to serve as test and example. &lt;a href=&quot;https://github.com/apache/solr/pull/1663&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/solr/pull/1663&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gerlowskija&quot; class=&quot;user-hover&quot; rel=&quot;gerlowskija&quot;&gt;gerlowskija&lt;/a&gt;&#160;would you mind taking a look to validate?&lt;/p&gt;</comment>
                            <comment id="17725946" author="julienfl" created="Wed, 24 May 2023 20:21:00 +0000"  >&lt;p&gt;Bonjour,&lt;br/&gt;
Merci pour votre email. Mr Massiera a quitte ses fonctions le 14 avril 2023 et cet email sera bientot desactive. Pour toute question sur France Labs ou sur des projets en cours, merci de contacter cedric.ulmer att francelabs.com&lt;/p&gt;</comment>
                            <comment id="17726649" author="jira-bot" created="Fri, 26 May 2023 15:00:48 +0000"  >&lt;p&gt;Commit 9f39d42469495e00b90ee949b906a70aa8354dcb in solr&apos;s branch refs/heads/main from Alex Deparvu&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=9f39d424694&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=9f39d424694&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16678&quot; title=&quot;Collection API v2 CREATE does not handle user-defined properties&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16678&quot;&gt;&lt;del&gt;SOLR-16678&lt;/del&gt;&lt;/a&gt;: Add test for user properties on v2 coll-creation requests&lt;/p&gt;

&lt;p&gt;Functionality has was recently fixed but no test existed to prevent regression.&lt;br/&gt;
This commit safeguards us against future breaks by adding a test. &lt;/p&gt;</comment>
                            <comment id="17726651" author="julienfl" created="Fri, 26 May 2023 15:02:00 +0000"  >&lt;p&gt;Bonjour,&lt;br/&gt;
Merci pour votre email. Mr Massiera a quitte ses fonctions le 14 avril 2023 et cet email sera bientot desactive. Pour toute question sur France Labs ou sur des projets en cours, merci de contacter cedric.ulmer att francelabs.com&lt;/p&gt;</comment>
                            <comment id="17727592" author="jira-bot" created="Tue, 30 May 2023 15:44:16 +0000"  >&lt;p&gt;Commit 8a23f5798bcb0be42d854104a8ad0655cdca8e03 in solr&apos;s branch refs/heads/branch_9x from Alex Deparvu&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=8a23f5798bc&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=8a23f5798bc&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16678&quot; title=&quot;Collection API v2 CREATE does not handle user-defined properties&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16678&quot;&gt;&lt;del&gt;SOLR-16678&lt;/del&gt;&lt;/a&gt;: Add test for user properties on v2 coll-creation requests&lt;/p&gt;

&lt;p&gt;Functionality has was recently fixed but no test existed to prevent regression.&lt;br/&gt;
This commit safeguards us against future breaks by adding a test. &lt;/p&gt;</comment>
                            <comment id="17727594" author="julienfl" created="Tue, 30 May 2023 15:46:00 +0000"  >&lt;p&gt;Bonjour,&lt;br/&gt;
Merci pour votre email. Mr Massiera a quitte ses fonctions le 14 avril 2023 et cet email sera bientot desactive. Pour toute question sur France Labs ou sur des projets en cours, merci de contacter cedric.ulmer att francelabs.com&lt;/p&gt;</comment>
                            <comment id="17727599" author="gerlowskija" created="Tue, 30 May 2023 15:50:58 +0000"  >&lt;p&gt;Alex is right, this looks to be a syntax error on the reporters part.  The issue description here shows a JSON property called &quot;property.lib.path&quot;, when the v2 syntax instead calls for a sub-object with the key &quot;properties&quot;, with &quot;lib.path&quot; underneath it.&lt;/p&gt;

&lt;p&gt;e.g.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  {
    ...
    &lt;span class=&quot;code-quote&quot;&gt;&quot;properties&quot;&lt;/span&gt;: {
      &lt;span class=&quot;code-quote&quot;&gt;&quot;lib.path&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;/my/lib/path&quot;&lt;/span&gt;
    }
  } 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Additionally, thanks for the test-case &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stillalex&quot; class=&quot;user-hover&quot; rel=&quot;stillalex&quot;&gt;stillalex&lt;/a&gt;!  I&apos;ve backported this to branch_9x, so I&apos;ll close this ticket out.&lt;/p&gt;

&lt;p&gt;(Lastly, it looks like Julien set up some sort of OOO or &quot;direct-all-questions-to&quot; auto response.  A bit spammy here, but I didn&apos;t know that was possible in JIRA - neat!)&lt;/p&gt;</comment>
                            <comment id="17727600" author="julienfl" created="Tue, 30 May 2023 15:52:00 +0000"  >&lt;p&gt;Bonjour,&lt;br/&gt;
Merci pour votre email. Mr Massiera a quitte ses fonctions le 14 avril 2023 et cet email sera bientot desactive. Pour toute question sur France Labs ou sur des projets en cours, merci de contacter cedric.ulmer att francelabs.com&lt;/p&gt;</comment>
                            <comment id="17745777" author="houston" created="Fri, 21 Jul 2023 20:40:37 +0000"  >&lt;p&gt;Closing after the 9.3.0 release&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 16 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1g3u8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>