<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:26:37 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-2959] edismax uf param does not work with magic fields &apos;_query_&apos; and &apos;_val_&apos;</title>
                <link>https://issues.apache.org/jira/browse/SOLR-2959</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;The edismax query parser should recognize the magic fields &apos;&amp;#95;query&amp;#95;&apos; and &apos;&amp;#95;val&amp;#95;&apos; as field names that can be allowed/restricted using &quot;uf&quot; just like any other field name.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12534581">SOLR-2959</key>
            <summary>edismax uf param does not work with magic fields &apos;_query_&apos; and &apos;_val_&apos;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hossman">Chris M. Hostetter</assignee>
                                    <reporter username="mwatts">Michael Watts</reporter>
                        <labels>
                    </labels>
                <created>Sat, 10 Dec 2011 03:22:31 +0000</created>
                <updated>Fri, 10 May 2013 10:40:21 +0000</updated>
                            <resolved>Wed, 21 Mar 2012 03:21:16 +0000</resolved>
                                                    <fixVersion>3.6</fixVersion>
                    <fixVersion>4.0-ALPHA</fixVersion>
                                    <component>query parsers</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13166792" author="mwatts" created="Sat, 10 Dec 2011 04:38:17 +0000"  >&lt;p&gt;second upload of patch, this time &apos;granted inclusion&apos;&lt;/p&gt;</comment>
                            <comment id="13233677" author="hossman" created="Tue, 20 Mar 2012 19:26:02 +0000"  >&lt;p&gt;Michael: thanks for your patch.&lt;/p&gt;

&lt;p&gt;the situation has changed a bit since you opend this issue, particularly with regards to &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-3026&quot; title=&quot;eDismax: Locking down which fields can be explicitly queried (user fields aka uf)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-3026&quot;&gt;&lt;del&gt;SOLR-3026&lt;/del&gt;&lt;/a&gt; and the new support for specifying exactly which fields can/can&apos;t be used in the query string.&lt;/p&gt;

&lt;p&gt;it appears that at the moment, (trunk) edismax supports &lt;em&gt;val&lt;/em&gt; and &lt;em&gt;query&lt;/em&gt; just fine &amp;#8211; and in fact the bug is sort of the reverse of before: you can&apos;t use the uf param to prevent them from working.&lt;/p&gt;

&lt;p&gt;I&apos;ve expanded on your test changes to demonstrate this in the update attachment.  will tweak issue summary shortly&lt;/p&gt;</comment>
                            <comment id="13233815" author="hossman" created="Tue, 20 Mar 2012 21:40:54 +0000"  >&lt;p&gt;whoops ... my mistake, edismax is not working with those magic fields, the test was just mistakenly passing because of &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-3261&quot; title=&quot;edismax ignores explicit operators when literal colon is found&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-3261&quot;&gt;&lt;del&gt;SOLR-3261&lt;/del&gt;&lt;/a&gt; ... i think the basic approach from Michael&apos;s original patch will can be massaged to make it work properly (with uf) and i&apos;ll try update it to do that later today/tomorrow (with a working test)&lt;/p&gt;</comment>
                            <comment id="13234035" author="hossman" created="Wed, 21 Mar 2012 02:17:21 +0000"  >&lt;p&gt;updated patch: fixes tests, and fixes edismax to support the magic fields.&lt;/p&gt;

&lt;p&gt;this patch also refactors the magic field handling in SolrQueryParser a big so the magic fields are defined by an enum to future proof us against inconsistencies if more magic fields are added down the road.&lt;/p&gt;</comment>
                            <comment id="13234038" author="hossman" created="Wed, 21 Mar 2012 02:20:16 +0000"  >&lt;p&gt;feedback appreciated, but i&apos;ll assume lazy concensus and commit tomorrow if i don&apos;t get any.&lt;/p&gt;</comment>
                            <comment id="13234040" author="yseeley@gmail.com" created="Wed, 21 Mar 2012 02:26:14 +0000"  >&lt;p&gt;+1, looks good.&lt;/p&gt;</comment>
                            <comment id="13234054" author="hossman" created="Wed, 21 Mar 2012 03:21:16 +0000"  >&lt;p&gt;r1303265 - 3x&lt;br/&gt;
r1303256 - trunk&lt;/p&gt;

&lt;p&gt;Thanks for your patch Michael! .. even with all of the other changes to edismax it helped me track down exactly what needed to be fixed.&lt;/p&gt;</comment>
                            <comment id="13234173" author="janhoy" created="Wed, 21 Mar 2012 06:51:41 +0000"  >&lt;p&gt;+1 Not tested but patch looks good&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                                                <inwardlinks description="is part of">
                                        <issuelink>
            <issuekey id="12498784">SOLR-2368</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12547285">SOLR-3261</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12537996">SOLR-3026</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12500661">SOLR-2409</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12519166" name="SOLR-2959.patch" size="6671" author="hossman" created="Wed, 21 Mar 2012 02:17:20 +0000"/>
                            <attachment id="12519108" name="SOLR-2959.patch" size="2576" author="hossman" created="Tue, 20 Mar 2012 19:26:02 +0000"/>
                            <attachment id="12506839" name="SOLR-2959.patch" size="2628" author="mwatts" created="Sat, 10 Dec 2011 04:38:17 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>220303</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 35 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i03hjr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>18276</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>