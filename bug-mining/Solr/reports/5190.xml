<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 05:10:22 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-17296] rerank w/scaling (still) broken when using debug to get explain info</title>
                <link>https://issues.apache.org/jira/browse/SOLR-17296</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;The changes made in &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16931&quot; title=&quot;ReRankScaler explain breaks with debug=true and in distributed mode&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16931&quot;&gt;&lt;del&gt;SOLR-16931&lt;/del&gt;&lt;/a&gt; (9.4) attempted to work around problems that existed when attempting to enable degugging (to get score explanations) in combination with using &lt;tt&gt;reRankScale&lt;/tt&gt; ...&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;The reason for this is that in order to do proper explain for minMaxScaling you need to know the min and max score in the result set. This piece of state is maintained in the ReRankScaler itself which is inside of the ReRankQuery. But for this information to be populated the query must first be run. In distributed mode, explain is called in the second pass when the ids query is run so the state needed for the explain is not populated. ...&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;However, the solution attempted was incomplete and failed to account for multiple factors...&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;... The PR attached to this addresses this problem by doing a single pass distributed query if debugQuery is turned on and if reRank score scaling is applied. I&apos;ll add a distributed test for this as well.&lt;/p&gt;

&lt;p&gt;This change is very limited in scope because the single pass distributed is only switched on in the very specific case when debugQuery=true and reRankScaling is on.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;&#160;&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;NPEs are still possible...
	&lt;ul&gt;
		&lt;li&gt;Instead of checking for &lt;tt&gt;ResponseBuilder.isDebugResults()&lt;/tt&gt; (which is what triggers explain logic) the new code only checked for specific debug request param combinations:
		&lt;ul&gt;
			&lt;li&gt;&lt;tt&gt;debuQuery=true&lt;/tt&gt; (a legacy option intended only for backcompat)&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;&lt;tt&gt;debug=true&lt;/tt&gt; (intended as an alias for &lt;tt&gt;debug=all&lt;/tt&gt;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
		&lt;li&gt;It did not check for either of these options, which if used will still trigger an NPE...
		&lt;ul&gt;
			&lt;li&gt;&lt;tt&gt;debug=results&lt;/tt&gt; (which actually dictates the value of &lt;tt&gt;ResponseBuilder.isDebugResults()&lt;/tt&gt;&lt;/li&gt;
			&lt;li&gt;&lt;tt&gt;debug=all&lt;/tt&gt; (a short hand for setting all debug options)&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;the attempt to force a single pass query didn&apos;t modify the correct variable
	&lt;ul&gt;
		&lt;li&gt;The new code modified a conditional based on a &lt;tt&gt;boolean distribSinglePass&lt;/tt&gt; for setting &lt;tt&gt;sreq.purpose&lt;/tt&gt; and &lt;tt&gt;rb.onePassDistributedQuery&lt;/tt&gt;&lt;/li&gt;
		&lt;li&gt;But it did not modify the value of the &lt;tt&gt;boolean distribSinglePass&lt;/tt&gt; itself - meaning other logic that uses that variable in that method still assumes multiple passes will be used.&lt;/li&gt;
		&lt;li&gt;In particular, these means that even though a single pass is used for both &lt;tt&gt;PURPOSE_GET_TOP_IDS&lt;/tt&gt; and &lt;tt&gt;PURPOSE_GET_FIELDS&lt;/tt&gt; the full &lt;tt&gt;&quot;fl&quot;&lt;/tt&gt; requested by the user is not propagated as part of this request
		&lt;ul&gt;
			&lt;li&gt;Only the uniqueKey and any sot fields are ultimately returned to the user.&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="13579574">SOLR-17296</key>
            <summary>rerank w/scaling (still) broken when using debug to get explain info</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hossman">Chris M. Hostetter</assignee>
                                    <reporter username="hossman">Chris M. Hostetter</reporter>
                        <labels>
                    </labels>
                <created>Thu, 16 May 2024 19:19:44 +0000</created>
                <updated>Fri, 17 Oct 2025 20:05:15 +0000</updated>
                            <resolved>Fri, 17 May 2024 23:36:25 +0000</resolved>
                                    <version>9.4</version>
                                    <fixVersion>9.7</fixVersion>
                    <fixVersion>9.6.1</fixVersion>
                    <fixVersion>10.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1800">0.5h</timespent>
                                <comments>
                            <comment id="17847073" author="hossman" created="Thu, 16 May 2024 19:21:06 +0000"  >



&lt;p&gt;Both of these problems are trivial to reproduce using the cloud example ....&lt;/p&gt;

&lt;p&gt;Data setup and baseline rerank request (no debugging)&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ ./solr/packaging/build/dev/bin/solr start -e cloud -noprompt
...
$ curl -X POST -H &apos;Content-Type: application/csv&apos; &apos;http://localhost:8983/solr/gettingstarted/update?commit=true&apos; --data-binary @solr/example/exampledocs/books.csv
...
$ curl http://localhost:8983/solr/gettingstarted/select --form-string &apos;q=*:*&apos; --form-string &apos;rows=1&apos; --form-string &apos;rq={!rerank reRankQuery=$rr reRankScale=0-1 reRankWeight=0.3 reRankDocs=1000 reRankOperator=add}&apos; --form-string &apos;rr=inStock=true&apos;
{
  &quot;responseHeader&quot;:{
    &quot;zkConnected&quot;:true,
    &quot;status&quot;:0,
    &quot;QTime&quot;:26,
    &quot;params&quot;:{
      &quot;rr&quot;:&quot;inStock=true&quot;,
      &quot;q&quot;:&quot;*:*&quot;,
      &quot;rows&quot;:&quot;1&quot;,
      &quot;rq&quot;:&quot;{!rerank reRankQuery=$rr reRankScale=0-1 reRankWeight=0.3 reRankDocs=1000 reRankOperator=add}&quot;
    }
  },
  &quot;response&quot;:{
    &quot;numFound&quot;:10,
    &quot;start&quot;:0,
    &quot;maxScore&quot;:1.0,
    &quot;numFoundExact&quot;:true,
    &quot;docs&quot;:[{
      &quot;id&quot;:&quot;0812521390&quot;,
      &quot;cat&quot;:[&quot;book&quot;],
      &quot;name&quot;:[&quot;The Black Company&quot;],
      &quot;price&quot;:[6.99],
      &quot;inStock&quot;:[false],
      &quot;author&quot;:[&quot;Glen Cook&quot;],
      &quot;series_t&quot;:&quot;The Chronicles of The Black Company&quot;,
      &quot;sequence_i&quot;:1,
      &quot;genre_s&quot;:&quot;fantasy&quot;,
      &quot;_version_&quot;:1799231031515021312
    }]
  }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Try using &lt;tt&gt;debug=true&lt;/tt&gt; and now none of the stored fields are returned...&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ curl http://localhost:8983/solr/gettingstarted/select --form-string &apos;q=*:*&apos; --form-string &apos;rows=1&apos; --form-string &apos;rq={!rerank reRankQuery=$rr reRankScale=0-1 reRankWeight=0.3 reRankDocs=1000 reRankOperator=add}&apos; --form-string &apos;rr=inStock=true&apos; --form-string &apos;debug=true&apos;
{
  &quot;responseHeader&quot;:{
    &quot;zkConnected&quot;:true,
    &quot;status&quot;:0,
    &quot;QTime&quot;:13,
    &quot;params&quot;:{
      &quot;rr&quot;:&quot;inStock=true&quot;,
      &quot;q&quot;:&quot;*:*&quot;,
      &quot;debug&quot;:&quot;true&quot;,
      &quot;rows&quot;:&quot;1&quot;,
      &quot;rq&quot;:&quot;{!rerank reRankQuery=$rr reRankScale=0-1 reRankWeight=0.3 reRankDocs=1000 reRankOperator=add}&quot;
    }
  },
  &quot;response&quot;:{
    &quot;numFound&quot;:10,
    &quot;start&quot;:0,
    &quot;maxScore&quot;:1.0,
    &quot;numFoundExact&quot;:true,
    &quot;docs&quot;:[{
      &quot;id&quot;:&quot;0812521390&quot;
    }]
  },
  &quot;debug&quot;:{
    &quot;track&quot;:{
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Use &lt;tt&gt;debug=results&lt;/tt&gt; (or &lt;tt&gt;debug=all&lt;/tt&gt; to trigger NPE...&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ curl http://localhost:8983/solr/gettingstarted/select --form-string &apos;q=*:*&apos; --form-string &apos;rows=1&apos; --form-string &apos;rq={!rerank reRankQuery=$rr reRankScale=0-1 reRankWeight=0.3 reRankDocs=1000 reRankOperator=add}&apos; --form-string &apos;rr=inStock=true&apos; --form-string &apos;debug=results&apos;
{
  &quot;responseHeader&quot;:{
    &quot;zkConnected&quot;:true,
    &quot;status&quot;:500,
    &quot;QTime&quot;:37,
    &quot;params&quot;:{
      &quot;rr&quot;:&quot;inStock=true&quot;,
      &quot;q&quot;:&quot;*:*&quot;,
      &quot;debug&quot;:&quot;results&quot;,
      &quot;rows&quot;:&quot;1&quot;,
      &quot;rq&quot;:&quot;{!rerank reRankQuery=$rr reRankScale=0-1 reRankWeight=0.3 reRankDocs=1000 reRankOperator=add}&quot;
    }
  },
  &quot;error&quot;:{
    &quot;metadata&quot;:[&quot;error-class&quot;,&quot;org.apache.solr.client.solrj.impl.BaseHttpSolrClient$RemoteSolrException&quot;,&quot;root-error-class&quot;,&quot;org.apache.solr.client.solrj.impl.BaseHttpSolrClient$RemoteSolrException&quot;],
    &quot;msg&quot;:&quot;Error from server at http://localhost:7574/solr/gettingstarted_shard1_replica_n2/select: java.lang.NullPointerException\n\tat org.apache.solr.search.ReRankScaler.explain(ReRankScaler.java:348)...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I&apos;m attaching a very basic test patch that demonstrates both of these problems.&lt;/p&gt;</comment>
                            <comment id="17847076" author="hossman" created="Thu, 16 May 2024 19:22:52 +0000"  >&lt;p&gt;I would argue that the &quot;old&quot; problem of NPE is the lesser of two evils compared to the &quot;new&quot; problem of silently failing to return fields &#8211; i&apos;d much rather people who try to enable debugging get an error if it doesn&apos;t work then maybe not noticed that their response is missing fields they expected (when it&apos;s &lt;tt&gt;fl=*&lt;/tt&gt; and you have a lot of stored fields it&apos;s really obvious something is wrong &#8211; if you use &lt;tt&gt;fl=id,special_rare_field&lt;/tt&gt; you might not realize that &lt;tt&gt;special_rare_field&lt;/tt&gt; is missing from docs that should actually have it.&lt;/p&gt;

&lt;p&gt;I also think that, in general, we should not &lt;b&gt;CHANGE&lt;/b&gt; the core logic of how requests are processed (in this case to use single pass) because a debugging feature is enabled. &#160;If getting accurate debugging of reranked results requires using a single pass, let&apos;s &lt;b&gt;&lt;em&gt;inform&lt;/em&gt;&lt;/b&gt; our users of that, and let them &lt;b&gt;c&lt;em&gt;hoose&lt;/em&gt;&lt;/b&gt; to do it.&lt;/p&gt;

&lt;p&gt;I recommend we immediately:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;revert the logic added by &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16931&quot; title=&quot;ReRankScaler explain breaks with debug=true and in distributed mode&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16931&quot;&gt;&lt;del&gt;SOLR-16931&lt;/del&gt;&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;Open a new SOLR-XXX jira for long term consideration of how to redesign debug component to get the multistage info needed for explaining reranked results&#160;&lt;/li&gt;
	&lt;li&gt;harden &lt;tt&gt;ReRankScaler.explain&lt;/tt&gt; so that if the dat it expects isn&apos;t available, it wraps the data it &lt;b&gt;DOES&lt;/b&gt; have with a &lt;tt&gt;&quot;0.0 == scaled reranking not available (consider using distrib.singlePass - see SOLR-XXX)&quot;&lt;/tt&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17847120" author="hossman" created="Fri, 17 May 2024 01:15:58 +0000"  >&lt;blockquote&gt;&lt;p&gt;I recommend we immediately: ...&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I&apos;ve created a branch/PR with this solution implemented.&lt;/p&gt;

&lt;p&gt;There is currently just one &lt;tt&gt;nocommit&lt;/tt&gt; which is a placeholder string for citing the new &quot;SOLR-XXX&quot; jira i proposed above to explore a longer term fix.  If there are no objections to the approach I&apos;ve taken in this branch i&apos;ll create that new jira and update the branch before merging.&lt;/p&gt;

&lt;p&gt;FWIW: I feel like this is a serious enough issue, with a safe enough solution, that I&apos;d like to try and get it in the proposed 9.6.1 &amp;#8211; assuming we can get eyeballs on it ASAP.  (I will be offline and unreachable for 2 weeks after May 21)&lt;/p&gt;

&lt;p&gt;/ping &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jbernste&quot; class=&quot;user-hover&quot; rel=&quot;jbernste&quot;&gt;jbernste&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cpoerschke&quot; class=&quot;user-hover&quot; rel=&quot;cpoerschke&quot;&gt;cpoerschke&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=andywebb&quot; class=&quot;user-hover&quot; rel=&quot;andywebb&quot;&gt;andywebb&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17847402" author="dsmiley" created="Fri, 17 May 2024 18:26:34 +0000"  >&lt;p&gt;I just wish to +1 Hossman&apos;s sentiments.  Toggling debugging should not change the semantics!&lt;/p&gt;</comment>
                            <comment id="17847408" author="andywebb1975" created="Fri, 17 May 2024 18:48:20 +0000"  >&lt;p&gt;This approach sounds good - I agree that enabling debugging shouldn&apos;t change the behaviour.&lt;/p&gt;</comment>
                            <comment id="17847445" author="hossman" created="Fri, 17 May 2024 20:47:05 +0000"  >&lt;p&gt;I&apos;ve created &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-17299&quot; title=&quot;Redesign debug component / reranking to support multi-stage debugging&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-17299&quot;&gt;SOLR-17299&lt;/a&gt; to track long term improvements, I&apos;ll now go update the branch to include a link to this Jira and then merge &amp;amp; backport once i confirm all tests still pass.&lt;/p&gt;</comment>
                            <comment id="17847447" author="jira-bot" created="Fri, 17 May 2024 21:42:07 +0000"  >&lt;p&gt;Commit b4ed1d19cdb819ef023ab6a70cd25178391bc7bb in solr&apos;s branch refs/heads/&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-17296&quot; title=&quot;rerank w/scaling (still) broken when using debug to get explain info&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-17296&quot;&gt;&lt;del&gt;SOLR-17296&lt;/del&gt;&lt;/a&gt; from Chris M. Hostetter&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=b4ed1d19cdb&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=b4ed1d19cdb&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Merge remote-tracking branch &apos;origin/main&apos; into &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-17296&quot; title=&quot;rerank w/scaling (still) broken when using debug to get explain info&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-17296&quot;&gt;&lt;del&gt;SOLR-17296&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17847452" author="jira-bot" created="Fri, 17 May 2024 22:04:17 +0000"  >&lt;p&gt;Commit 6af52f33ac78155523ec6fc610c563127b81c139 in solr&apos;s branch refs/heads/main from Chris M. Hostetter&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=6af52f33ac7&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=6af52f33ac7&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-17296&quot; title=&quot;rerank w/scaling (still) broken when using debug to get explain info&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-17296&quot;&gt;&lt;del&gt;SOLR-17296&lt;/del&gt;&lt;/a&gt;: Remove (broken) singlePass attempt when reRankScale + debug is used, and fix underlying NPE.&lt;/p&gt;</comment>
                            <comment id="17847461" author="jira-bot" created="Fri, 17 May 2024 22:46:03 +0000"  >&lt;p&gt;Commit e16e99ad024f4081970ef2bf688e0537017e5c15 in solr&apos;s branch refs/heads/branch_9x from Chris M. Hostetter&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=e16e99ad024&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=e16e99ad024&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-17296&quot; title=&quot;rerank w/scaling (still) broken when using debug to get explain info&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-17296&quot;&gt;&lt;del&gt;SOLR-17296&lt;/del&gt;&lt;/a&gt;: Remove (broken) singlePass attempt when reRankScale + debug is used, and fix underlying NPE.&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 6af52f33ac78155523ec6fc610c563127b81c139)&lt;/p&gt;</comment>
                            <comment id="17847463" author="jira-bot" created="Fri, 17 May 2024 23:35:43 +0000"  >&lt;p&gt;Commit 3389679d2309f48ce0e7c1c7b67f5b2014eecba1 in solr&apos;s branch refs/heads/branch_9_6 from Chris M. Hostetter&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=3389679d230&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=3389679d230&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-17296&quot; title=&quot;rerank w/scaling (still) broken when using debug to get explain info&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-17296&quot;&gt;&lt;del&gt;SOLR-17296&lt;/del&gt;&lt;/a&gt;: Remove (broken) singlePass attempt when reRankScale + debug is used, and fix underlying NPE.&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 6af52f33ac78155523ec6fc610c563127b81c139)&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310761">
                    <name>Issue split</name>
                                            <outwardlinks description="split to">
                                        <issuelink>
            <issuekey id="13579712">SOLR-17299</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="13547258">SOLR-16931</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="13068914" name="SOLR-17296.test.patch" size="3816" author="hossman" created="Thu, 16 May 2024 19:21:04 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 25 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1p9v4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>