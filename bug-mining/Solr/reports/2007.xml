<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:54:20 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-5746] solr.xml parsing of &quot;str&quot; vs &quot;int&quot; vs &quot;bool&quot; is brittle; fails silently; expects odd type for &quot;shareSchema&quot;   </title>
                <link>https://issues.apache.org/jira/browse/SOLR-5746</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;A comment in the ref guide got me looking at ConfigSolrXml.java and noticing that the parsing of solr.xml options here is very brittle and confusing.  In particular:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;if a boolean option &quot;foo&quot; is expected along the lines of &lt;tt&gt;&amp;lt;bool name=&quot;foo&quot;&amp;gt;true&amp;lt;/bool&amp;gt;&lt;/tt&gt; it will silently ignore &lt;tt&gt;&amp;lt;str name=&quot;foo&quot;&amp;gt;true&amp;lt;/str&amp;gt;&lt;/tt&gt;&lt;/li&gt;
	&lt;li&gt;likewise for an int option &lt;tt&gt;&amp;lt;int name=&quot;bar&quot;&amp;gt;32&amp;lt;/int&amp;gt;&lt;/tt&gt; vs &lt;tt&gt;&amp;lt;str name=&quot;bar&quot;&amp;gt;32&amp;lt;/str&amp;gt;&lt;/tt&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;... this is inconsistent with the way solrconfig.xml is parsed.  In solrconfig.xml, the xml nodes are parsed into a NamedList, and the above options will work in either form, but an invalid value such as &lt;tt&gt;&amp;lt;bool name=&quot;foo&quot;&amp;gt;NOT A BOOLEAN&amp;lt;/bool&amp;gt;&lt;/tt&gt; will generate an error earlier (when parsing config) then &lt;tt&gt;&amp;lt;str name=&quot;foo&quot;&amp;gt;NOT A BOOLEAN&amp;lt;/str&amp;gt;&lt;/tt&gt; (attempt to parse the string as a bool the first time the config value is needed)&lt;/p&gt;

&lt;p&gt;In addition, i notice this really confusing line...&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    propMap.put(CfgProp.SOLR_SHARESCHEMA, doSub(&lt;span class=&quot;code-quote&quot;&gt;&quot;solr/str[@name=&lt;span class=&quot;code-quote&quot;&gt;&apos;shareSchema&apos;&lt;/span&gt;]&quot;&lt;/span&gt;));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&quot;shareSchema&quot; is used internally as a boolean option, but as written the parsing code will ignore it unless the user explicitly configures it as a &lt;tt&gt;&amp;lt;str/&amp;gt;&lt;/tt&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12695850">SOLR-5746</key>
            <summary>solr.xml parsing of &quot;str&quot; vs &quot;int&quot; vs &quot;bool&quot; is brittle; fails silently; expects odd type for &quot;shareSchema&quot;   </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hossman">Chris M. Hostetter</assignee>
                                    <reporter username="hossman">Chris M. Hostetter</reporter>
                        <labels>
                    </labels>
                <created>Wed, 19 Feb 2014 00:35:34 +0000</created>
                <updated>Mon, 9 May 2016 18:53:34 +0000</updated>
                            <resolved>Mon, 21 Jul 2014 23:45:17 +0000</resolved>
                                    <version>4.3</version>
                    <version>4.4</version>
                    <version>4.5</version>
                    <version>4.6</version>
                                    <fixVersion>4.10</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="13904881" author="hossman" created="Wed, 19 Feb 2014 00:40:40 +0000"  >&lt;p&gt;I think what we should do is...&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;change the parsing logic to be more like solrconfig.xml and build a NamedList for each section of solr.xml
	&lt;ul&gt;
		&lt;li&gt;convert each NamedList to SolrParams when possible for easy value type checkig &amp;amp; conversion (i think this would work for each section in solr.xml today - but some future sections might need to be more complicated)&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;remove each known config option from the params&lt;/li&gt;
	&lt;li&gt;error if any unexpected values are found in the config, so typos in config option names aren&apos;t silently ignored.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14057498" author="maciej.zasada" created="Thu, 10 Jul 2014 14:08:47 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hossman&quot; class=&quot;user-hover&quot; rel=&quot;hossman&quot;&gt;hossman&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;I&apos;d like to submit a patch for that issue. I made changes accordingly to your suggestions:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;parsing logic has changed, so that config parameters are transformed to the expected types at the parsing time, instead of value-reading time. I&apos;m transforming each solr.xml section to the NamedList, and later on to the SolrParams; Essentially, if &lt;tt&gt;boolean&lt;/tt&gt; type of &lt;tt&gt;foo&lt;/tt&gt; parameter is expected, &lt;tt&gt;&amp;lt;str name=&quot;foo&quot;&amp;gt;true&amp;lt;/str&amp;gt;&lt;/tt&gt; will work just fine. Same goes for other types.&lt;/li&gt;
	&lt;li&gt;exception is thrown if any unexpected values are found in the config at the parse time.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;If you have any suggestions, I&apos;m more than happy to hear them.&lt;/p&gt;

&lt;p&gt;Cheers,&lt;br/&gt;
Maciej&lt;/p&gt;</comment>
                            <comment id="14057675" author="hossman" created="Thu, 10 Jul 2014 17:04:21 +0000"  >&lt;p&gt;Maciej:&lt;/p&gt;

&lt;p&gt;At first glance this looks awsome &amp;#8211; i&apos;ll try to review it more closely in the next few days.&lt;/p&gt;

&lt;p&gt;A few quick things i noticed:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;can you update your tests to use the frameworks randomization when picking the boolean/numeric values that you put into the config strings &amp;#8211; instead of using hardcoded values?  that way we reduce the risk of false positives due to the code using defaults instead of the value you intended (even if the defaults change)&lt;/li&gt;
	&lt;li&gt;can you add some asserts regarding the error message included in the SolrExceptions that are caught by the tests, so we verify that the user is getting a useful message?&lt;/li&gt;
	&lt;li&gt;in the case where there might be multiple unexpected config keys found, can you add logging of each of the unexpected keys, and then make the exception thrown something like &quot;Found 5 unexpected config options in solr.xml: foo, bar, baz, yak, zot&quot;&lt;/li&gt;
&lt;/ul&gt;


</comment>
                            <comment id="14058476" author="maciej.zasada" created="Fri, 11 Jul 2014 06:35:53 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hossman&quot; class=&quot;user-hover&quot; rel=&quot;hossman&quot;&gt;hossman&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;I&apos;ve attached updated patch file:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;used framework&apos;s randomisation wherever it made sense to me;&lt;/li&gt;
	&lt;li&gt;added exception messages assertions;&lt;/li&gt;
	&lt;li&gt;added reporting of multiple unexpended config options (&lt;tt&gt;DEBUG&lt;/tt&gt; level), as well as exception message containing list of unknown parameters (e.g. 
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Unrecognised 3 config parameter(s) in solr.xml file: [foo, bar, baz]&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&lt;tt&gt;ant clean test&lt;/tt&gt; shows that there&apos;s no regression.&lt;/p&gt;

&lt;p&gt;Cheers,&lt;br/&gt;
Maciej&lt;/p&gt;</comment>
                            <comment id="14059550" author="hossman" created="Sat, 12 Jul 2014 00:41:37 +0000"  >&lt;p&gt;Hi Maciej,&lt;/p&gt;

&lt;p&gt;I glance over the patch a bit more today:&lt;/p&gt;

&lt;p&gt;1) can you explain why the need for the new &lt;tt&gt;DOMUtil.readNamedChildrenAsNamedList&lt;/tt&gt; method that you added instead of just using the existing &lt;tt&gt;DOMUtil.childNodesToNamedList&lt;/tt&gt; (which delegates to &lt;tt&gt;addToNamedList&lt;/tt&gt; and immediately validates that element text conforms to the stated type).&lt;/p&gt;

&lt;p&gt;I realize that using &lt;tt&gt;DOMUtil.childNodesToNamedList&lt;/tt&gt; won&apos;t magically help parse/validate the config options in the backcompat cases like &lt;tt&gt;&amp;lt;str name=&quot;shareSchema&quot;&amp;gt;true&amp;lt;/str&amp;gt;&lt;/tt&gt; &amp;#8211; but that&apos;s where things like your &lt;tt&gt;storeConfigPropertyAsInt&lt;/tt&gt; and &lt;tt&gt;storeConfigPropertyAsBoolean&lt;/tt&gt; can be in charge of doing the cast if the &quot;raw&quot; value is still a string.&lt;/p&gt;

&lt;p&gt;(i want to make sure we aren&apos;t introducing a redundant method in &lt;tt&gt;DOMUtil&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;2) Speaking of which: what&apos;s the purpose exactly of &quot;configAsSolrParams&quot; if the original NamedList is still being passed to the &lt;tt&gt;storeConfigPropertyAs*&lt;/tt&gt; methods - why not just get the values directly from there?&lt;/p&gt;

&lt;p&gt;3) One piece of validation that i believe is still missing here is to throw an errir if/when a config value is specified multiple times &amp;#8211; I i remember the behavior of NamedList correctly, i think the way you have things now it will silently just use the first one, and then remove both.  We should definitely have an error check that any of these &quot;single valued&quot; config options is in fact only specified once in the NamedList &amp;#8211; so people don&apos;t try to add a setting they&apos;ve read about in the docs w/o realizing it&apos;s already defined higher up in the file (we&apos;ve seen that happen with settings in solrconfig.xml many times between we locked that down and made it an error case)&lt;/p&gt;
</comment>
                            <comment id="14059771" author="maciej.zasada" created="Sat, 12 Jul 2014 12:38:00 +0000"  >&lt;blockquote&gt;&lt;p&gt;1) can you explain why the need for the new DOMUtil.readNamedChildrenAsNamedList method that you added instead of just using the existing DOMUtil.childNodesToNamedList&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;The reason why I didn&#8217;t use &lt;tt&gt;DOMUtil.childNodesToNamedList&lt;/tt&gt; is that I wanted to move the type conversion from reading the DOM to the point, when I knew what type exactly should be used. If I used that method, all values would be upcasted to &lt;tt&gt;Object&lt;/tt&gt;, and I would have to do the type checking to make sure if the type is correct, something like &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (value &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;) {
 type is ok, just store the value as it is
} &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(value &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;) {
 type is not ok, but let&apos;s &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; parsing &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; to something useful
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt; Instead, I&#8217;m storing only the &quot;raw&quot; values, and trying to imply the correct type only once, without the type checking. But when I&#8217;m thinking it all over again your approach seems to have a significant advantage - in proposed implementation type mismatch would be permitted for all types, not only &lt;tt&gt;&amp;lt;str&amp;gt;&amp;lt;/str&amp;gt;&lt;/tt&gt;, e.g. &lt;tt&gt;&amp;lt;bool&amp;gt;3.14&amp;lt;/bool&amp;gt;&lt;/tt&gt; would be perfectly valid config option, if &lt;tt&gt;double&lt;/tt&gt; type was expected. You&#8217;re right, I&#8217;ll remove new method and use &lt;tt&gt;DOMUtil.childNodesToNamedList&lt;/tt&gt;.&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;2) Speaking of which: what&apos;s the purpose exactly of &quot;configAsSolrParams&quot; if the original NamedList is still being passed to the storeConfigPropertyAs* methods - why not just get the values directly from there?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Since I stored &quot;raw&quot; config values, I used &lt;tt&gt;SolrParam&lt;/tt&gt; to do the type conversion, but I didn&#8217;t find any API for a parameter removal. That&#8217;s why I&#8217;m keeping the original NamedList, so that I can remove correctly read values and keep track of the unknown ones.&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;3) One piece of validation that i believe is still missing here is to throw an errir if/when a config value is specified multiple times&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I should&#8217;ve thought about that, good catch! I&#8217;ll add detection of such errors.&lt;/p&gt;</comment>
                            <comment id="14059805" author="jkrupan" created="Sat, 12 Jul 2014 14:35:23 +0000"  >&lt;p&gt;Will the changes for this issue result in a bump of the Solr schema version (to 1.6), so that if existing apps do happen to &quot;work&quot; (albeit maybe incorrectly) with the current version 1.5 schema processing, they will still work in Solr 4.10 (or whenever this ships)? I hope so.&lt;/p&gt;
</comment>
                            <comment id="14060685" author="maciej.zasada" created="Mon, 14 Jul 2014 14:34:23 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hossman&quot; class=&quot;user-hover&quot; rel=&quot;hossman&quot;&gt;hossman&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;I&apos;ve attached updated patch file:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;removed &lt;tt&gt;DOMUtil.readNamedChildrenAsNamedList&lt;/tt&gt; method and used (slightly modified) existing API of &lt;tt&gt;DOMUtil&lt;/tt&gt; instead.&lt;/li&gt;
	&lt;li&gt;removed reading values from &lt;tt&gt;SolrParam&lt;/tt&gt; - they are being read directly from the &lt;tt&gt;NamedList&amp;lt;&amp;gt;&lt;/tt&gt;&lt;/li&gt;
	&lt;li&gt;added reporting of duplicated config options (&lt;tt&gt;DEBUG&lt;/tt&gt; level) per parent node, as well as exception message containing list of duplicated parameters, e.g.&lt;/li&gt;
&lt;/ul&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;solr&amp;gt;
&amp;lt;solrcloud&amp;gt;
&amp;lt;&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;-param&quot;&lt;/span&gt;&amp;gt;1&amp;lt;/&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;&amp;gt;
&amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;str-param&quot;&lt;/span&gt;&amp;gt;STRING-1&amp;lt;/str&amp;gt;
&#8230;
&amp;lt;&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;-param&quot;&lt;/span&gt;&amp;gt;2&amp;lt;/&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;&amp;gt;
&amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;str-param&quot;&lt;/span&gt;&amp;gt;STRING-2&amp;lt;/str&amp;gt;
&amp;lt;/solrcloud&amp;gt;
&amp;lt;/solr&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;will cause an exception:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Duplicated 2 config parameter(s) in solr.xml file: [&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;-param, str-param]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;However, if parameters with a same name are attached to different parent nodes everything will pass just fine, e.g.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;solr&amp;gt;
&amp;lt;solrcloud&amp;gt;
&amp;lt;&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;-param&quot;&lt;/span&gt;&amp;gt;1&amp;lt;/&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;&amp;gt;
&amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;str-param&quot;&lt;/span&gt;&amp;gt;STRING-1&amp;lt;/str&amp;gt;
&#8230;
&amp;lt;/solrcloud&amp;gt;
&amp;lt;logging&amp;gt;
&#8230;
&amp;lt;&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;-param&quot;&lt;/span&gt;&amp;gt;2&amp;lt;/&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;&amp;gt;
&amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;str-param&quot;&lt;/span&gt;&amp;gt;STRING-2&amp;lt;/str&amp;gt;
&amp;lt;/logging&amp;gt;
&amp;lt;/solr&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;In this case no exception will be thrown. &lt;/p&gt;

&lt;p&gt;Some examples to sum it up:&lt;/p&gt;

&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;tt&gt;solr.xml&lt;/tt&gt; file fragment&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Expected type&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Parsing result&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;tt&gt;&amp;lt;int name=&quot;hostPort&quot;&amp;gt;44&amp;lt;/int&amp;gt;&lt;/tt&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;tt&gt;Integer&lt;/tt&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/check.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;tt&gt;&amp;lt;str name=&quot;hostPort&quot;&amp;gt;44&amp;lt;/str&amp;gt;&lt;/tt&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;tt&gt;Integer&lt;/tt&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/check.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;tt&gt;&amp;lt;long name=&quot;hostPort&quot;&amp;gt;44&amp;lt;/long&amp;gt;&lt;/tt&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;tt&gt;Integer&lt;/tt&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/error.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;tt&gt;&amp;lt;bool name=&quot;hostPort&quot;&amp;gt;44&amp;lt;/bool&amp;gt;&lt;/tt&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;tt&gt;Integer&lt;/tt&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/error.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;tt&gt;&amp;lt;float name=&quot;hostPort&quot;&amp;gt;44&amp;lt;/float&amp;gt;&lt;/tt&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;tt&gt;Integer&lt;/tt&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/error.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;tt&gt;&amp;lt;double name=&quot;hostPort&quot;&amp;gt;44&amp;lt;/double&amp;gt;&lt;/tt&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;tt&gt;Integer&lt;/tt&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/error.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;tt&gt;&amp;lt;int name=&quot;enabled&quot;&amp;gt;true&amp;lt;/int&amp;gt;&lt;/tt&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;tt&gt;Boolean&lt;/tt&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/error.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;tt&gt;&amp;lt;str name=&quot;enabled&quot;&amp;gt;true&amp;lt;/str&amp;gt;&lt;/tt&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;tt&gt;Boolean&lt;/tt&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/check.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;tt&gt;&amp;lt;long name=&quot;enabled&quot;&amp;gt;true&amp;lt;/long&amp;gt;&lt;/tt&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;tt&gt;Boolean&lt;/tt&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/error.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;tt&gt;&amp;lt;bool name=&quot;enabled&quot;&amp;gt;true&amp;lt;/bool&amp;gt;&lt;/tt&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;tt&gt;Boolean&lt;/tt&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/check.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;tt&gt;&amp;lt;float name=&quot;enabled&quot;&amp;gt;true&amp;lt;/float&amp;gt;&lt;/tt&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;tt&gt;Boolean&lt;/tt&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/error.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;tt&gt;&amp;lt;double name=&quot;enabled&quot;&amp;gt;true&amp;lt;/double&amp;gt;&lt;/tt&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;tt&gt;Boolean&lt;/tt&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/error.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;&lt;tt&gt;ant clean test&lt;/tt&gt; shows that there&apos;s no regression.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jkrupan&quot; class=&quot;user-hover&quot; rel=&quot;jkrupan&quot;&gt;jkrupan&lt;/a&gt; this change clearly is not backward compatible with the existing &lt;tt&gt;solr.xml&lt;/tt&gt; files. For instance - unknown config values won&apos;t be silently ignored - an exception will be thrown instead. However, I didn&apos;t realise that &lt;tt&gt;solr.xml&lt;/tt&gt; files are versioned the same way as &lt;tt&gt;schema.xml&lt;/tt&gt; files are. Should I bump the schema version to 1.6?&lt;/p&gt;

&lt;p&gt;Cheers,&lt;br/&gt;
Maciej&lt;/p&gt;</comment>
                            <comment id="14061945" author="maciej.zasada" created="Tue, 15 Jul 2014 11:07:24 +0000"  >&lt;p&gt;Added some more unit test to the patch.&lt;/p&gt;</comment>
                            <comment id="14062994" author="hossman" created="Wed, 16 Jul 2014 02:00:36 +0000"  >
&lt;blockquote&gt;&lt;p&gt;Since I stored &quot;raw&quot; config values, I used SolrParam to do the type conversion, but I didn&#8217;t find any API for a parameter removal. That&#8217;s why I&#8217;m keeping the original NamedList, so that I can remove correctly read values and keep track of the unknown ones.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;my previous suggestion about using SolrParams was vague and misguided.  i &lt;em&gt;think&lt;/em&gt; i had in mind the idea of using SolrParams instead of the &lt;tt&gt;Map&amp;lt;String,Object&amp;gt; propMap&lt;/tt&gt; &amp;#8211; your latest patch that eliminates the SolrParams and just uses the NamedList is definitely a better call.&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;... However, I didn&apos;t realise that solr.xml files are versioned the same way as schema.xml files are. Should I bump the schema version to 1.6?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;It&apos;s not explicitly versioned &amp;#8211; just hueristicly versioned based on wether ConfigSolr detects by introspection that it&apos;s the &quot;old style&quot; or the &quot;new style&quot; ... i think Jack may have just been confused about what this issue was when he posted his comment.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;I&apos;m attaching some updates to your patch...&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;skimming your changes made me realize there&apos;s a lot of cruft in this code related to defered sys prop substitution that&apos;s no longer needed at all - so I ripped that out.&lt;/li&gt;
	&lt;li&gt;I&apos;m not really a fan of the way you added &quot;excludedElements&quot; to the DOMUtils method &amp;#8211; particularly since it still required the &lt;tt&gt;namedList.removeAll(null);&lt;/tt&gt; call which seemed sloppy.  I&apos;d much rather have a tighter XPath that is very explicit about what we want out of the dom and handle the excusions that way ... so i changed that.&lt;/li&gt;
	&lt;li&gt;i added some explicit testing of &lt;tt&gt;&amp;lt;null name=&quot;...&quot;/&amp;gt;&lt;/tt&gt; since i wasn&apos;t completley convinced your new code that that would work correctly.&lt;/li&gt;
	&lt;li&gt;I think i misslead you a bit when i said we should validate configs being declared multiple times &amp;#8211; it&apos;s not a good idea to up front check that nothing is declared more then once, beause a week from now someone may in fact want to add something to solr.xml that can be specified multiple times.  The better place for this type of validation is in storeConfigProperty, because at that point we know we expect there to be a single value.
	&lt;ul&gt;
		&lt;li&gt;this does unfortunately mean it aborts early the first time it finds a duplicated key, so some of your tests had to be changed.&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;I switched the check for unknown options to be per section so the error msgs could include the section details as well.&lt;/li&gt;
	&lt;li&gt;String.format must be used with Locale.ROOT to prevent locale sensitive behavior.
	&lt;ul&gt;
		&lt;li&gt;&lt;tt&gt;ant check-forbidden-apis&lt;/tt&gt; will point out stuff like this for you in the lucene/solr code base&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;relaxed the int parsing so that small &lt;tt&gt;&amp;lt;long&amp;gt;&lt;/tt&gt; values are fine, but large longs still throw an error
	&lt;ul&gt;
		&lt;li&gt;added test for both cases&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;added some checks that the sections themselves weren&apos;t being duplicated (ie: if a user adds a &amp;lt;solrcloud&amp;gt; section totheir solr.xml, we want to give them an error if another &amp;lt;solrcloud&amp;gt; section already existed higher up in the file)&lt;/li&gt;
	&lt;li&gt;some general test refactoring...
	&lt;ul&gt;
		&lt;li&gt;no need to construct new Random instances &amp;#8211; just use random()&lt;/li&gt;
		&lt;li&gt;eliminated a lot of unneccessary file creation in the tests by using &lt;tt&gt;ConfigSolr.fromString(loader, solrXml);&lt;/tt&gt; instead of &lt;tt&gt;FileUtils.writeFile(...)&lt;/tt&gt; and &lt;tt&gt;ConfigSolr.fromSolrHome(...)&lt;/tt&gt;&lt;/li&gt;
		&lt;li&gt;switched to the lucene convention of testmethod naming to eliminate ~20 lines of &lt;tt&gt;@Test&lt;/tt&gt; annotations (the verbosity is why our test runner explicitly lets us continue to use the JUnit3 convention)&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;hr /&gt;

&lt;p&gt;I think this is probably ready to go &amp;#8211; but it would be nice to get some review from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=romseygeek&quot; class=&quot;user-hover&quot; rel=&quot;romseygeek&quot;&gt;romseygeek&lt;/a&gt; and/or &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=erickerickson&quot; class=&quot;user-hover&quot; rel=&quot;erickerickson&quot;&gt;erickerickson&lt;/a&gt; since they know this code the best ... and of course, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=maciej.zasada&quot; class=&quot;user-hover&quot; rel=&quot;maciej.zasada&quot;&gt;maciej.zasada&lt;/a&gt;: you&apos;ve clearly been looking at this code a lot the last few days, do you ou have any additional thoughts on my revised patch?&lt;/p&gt;
</comment>
                            <comment id="14063425" author="maciej.zasada" created="Wed, 16 Jul 2014 12:21:20 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hossman&quot; class=&quot;user-hover&quot; rel=&quot;hossman&quot;&gt;hossman&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;thanks for the code review and all your suggestions. I&apos;ll keep them in mind for the future work. Revised patch looks good to me.&lt;/p&gt;

&lt;p&gt;Cheers,&lt;br/&gt;
Maciej&lt;/p&gt;</comment>
                            <comment id="14063623" author="romseygeek" created="Wed, 16 Jul 2014 15:37:07 +0000"  >&lt;p&gt;+1, some nice cleanups here.&lt;/p&gt;

&lt;p&gt;My only review comment would be to prefer using hamcrest assertThat() functions in tests, rather than assertTrue(), just because you get nicer error messages when they fail.  But that&apos;s a pretty nitty nit to pick.&lt;/p&gt;</comment>
                            <comment id="14069345" author="hossman" created="Mon, 21 Jul 2014 21:42:09 +0000"  >&lt;blockquote&gt;&lt;p&gt;My only review comment would be to prefer using hamcrest assertThat() functions in tests, rather than assertTrue(), just because you get nicer error messages when they fail. ...&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;the assertTrue&apos;s actually do have messages on them, and they are actual value asserts that just happen to be true &amp;#8211; but i&apos;ll change them to assertEquals so it&apos;s more obvious what&apos;s happening if/when they fail.&lt;/p&gt;

&lt;p&gt;going to commit as soon as my &quot;updated to trunk &amp;amp; started running all tests&quot; passes again.&lt;/p&gt;</comment>
                            <comment id="14069422" author="jira-bot" created="Mon, 21 Jul 2014 22:18:52 +0000"  >&lt;p&gt;Commit 1612419 from hossman@apache.org in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1612419&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1612419&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5746&quot; title=&quot;solr.xml parsing of &amp;quot;str&amp;quot; vs &amp;quot;int&amp;quot; vs &amp;quot;bool&amp;quot; is brittle; fails silently; expects odd type for &amp;quot;shareSchema&amp;quot;   &quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5746&quot;&gt;&lt;del&gt;SOLR-5746&lt;/del&gt;&lt;/a&gt;: Bugs in solr.xml parsing have been fixed to more correctly deal with the various datatypes of options people can specify, additional error handling of duplicated/unidentified options has also been added&lt;/p&gt;</comment>
                            <comment id="14069519" author="jira-bot" created="Mon, 21 Jul 2014 23:40:42 +0000"  >&lt;p&gt;Commit 1612433 from hossman@apache.org in branch &apos;dev/branches/branch_4x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1612433&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1612433&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5746&quot; title=&quot;solr.xml parsing of &amp;quot;str&amp;quot; vs &amp;quot;int&amp;quot; vs &amp;quot;bool&amp;quot; is brittle; fails silently; expects odd type for &amp;quot;shareSchema&amp;quot;   &quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5746&quot;&gt;&lt;del&gt;SOLR-5746&lt;/del&gt;&lt;/a&gt;: Bugs in solr.xml parsing have been fixed to more correctly deal with the various datatypes of options people can specify, additional error handling of duplicated/unidentified options has also been added (merge r1612419)&lt;/p&gt;</comment>
                            <comment id="14069524" author="hossman" created="Mon, 21 Jul 2014 23:43:49 +0000"  >&lt;blockquote&gt;&lt;p&gt;...the assertTrue&apos;s actually do have messages on them...&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;correction: the messages in the patch were all the same, but in my local copy before committing i had fixed them all to be clear about which config prop wasn&apos;t coming up as expected.&lt;/p&gt;

&lt;p&gt;This is now on trunk &amp;amp; backported to 4x &amp;#8211; one hitch that came up in the backporting was that 4x still supports the notion of an implicit solr.xml file (if you aren&apos;t in cloud mode) so i had to manually massage the  backport to ConfigSolr.java&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=romseygeek&quot; class=&quot;user-hover&quot; rel=&quot;romseygeek&quot;&gt;romseygeek&lt;/a&gt;: if you could spot check the 4x changes to ensure i didn&apos;t botch something that would be appreciated: &lt;a href=&quot;https://svn.apache.org/viewvc/lucene/dev/branches/branch_4x/solr/core/src/java/org/apache/solr/core/ConfigSolr.java?limit_changes=0&amp;amp;r1=1612433&amp;amp;r2=1612432&amp;amp;pathrev=1612433&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/viewvc/lucene/dev/branches/branch_4x/solr/core/src/java/org/apache/solr/core/ConfigSolr.java?limit_changes=0&amp;amp;r1=1612433&amp;amp;r2=1612432&amp;amp;pathrev=1612433&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14069526" author="hossman" created="Mon, 21 Jul 2014 23:45:17 +0000"  >&lt;p&gt;Thanks again for your patch Maciej!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12655964" name="SOLR-5746.patch" size="51670" author="hossman" created="Wed, 16 Jul 2014 02:00:36 +0000"/>
                            <attachment id="12655740" name="SOLR-5746.patch" size="51443" author="maciej.zasada" created="Tue, 15 Jul 2014 11:07:24 +0000"/>
                            <attachment id="12655548" name="SOLR-5746.patch" size="48550" author="maciej.zasada" created="Mon, 14 Jul 2014 14:34:23 +0000"/>
                            <attachment id="12655163" name="SOLR-5746.patch" size="45202" author="maciej.zasada" created="Fri, 11 Jul 2014 06:35:53 +0000"/>
                            <attachment id="12654989" name="SOLR-5746.patch" size="36685" author="maciej.zasada" created="Thu, 10 Jul 2014 14:08:47 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>374348</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 18 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sidr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>374648</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>