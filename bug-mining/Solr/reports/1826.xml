<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:47:30 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-5800] Admin UI - Analysis form doesn&apos;t render results correctly when a CharFilter is used.</title>
                <link>https://issues.apache.org/jira/browse/SOLR-5800</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;I have an example in Solr In Action that uses the&lt;br/&gt;
PatternReplaceCharFilterFactory and now it doesn&apos;t work in 4.7.0.&lt;br/&gt;
Specifically, the &amp;lt;fieldType&amp;gt; is:&lt;/p&gt;

&lt;p&gt;    &amp;lt;fieldType name=&quot;text_microblog&quot; class=&quot;solr.TextField&quot;&lt;br/&gt;
positionIncrementGap=&quot;100&quot;&amp;gt;&lt;br/&gt;
      &amp;lt;analyzer&amp;gt;&lt;br/&gt;
        &amp;lt;charFilter class=&quot;solr.PatternReplaceCharFilterFactory&quot;&lt;br/&gt;
                    pattern=&quot;(&lt;span class=&quot;error&quot;&gt;&amp;#91;a-zA-Z&amp;#93;&lt;/span&gt;)\1+&quot;&lt;br/&gt;
                    replacement=&quot;$1$1&quot;/&amp;gt;&lt;br/&gt;
        &amp;lt;tokenizer class=&quot;solr.WhitespaceTokenizerFactory&quot;/&amp;gt;&lt;br/&gt;
        &amp;lt;filter class=&quot;solr.WordDelimiterFilterFactory&quot;&lt;br/&gt;
                generateWordParts=&quot;1&quot;&lt;br/&gt;
                splitOnCaseChange=&quot;0&quot;&lt;br/&gt;
                splitOnNumerics=&quot;0&quot;&lt;br/&gt;
                stemEnglishPossessive=&quot;1&quot;&lt;br/&gt;
                preserveOriginal=&quot;0&quot;&lt;br/&gt;
                catenateWords=&quot;1&quot;&lt;br/&gt;
                generateNumberParts=&quot;1&quot;&lt;br/&gt;
                catenateNumbers=&quot;0&quot;&lt;br/&gt;
                catenateAll=&quot;0&quot;&lt;br/&gt;
                types=&quot;wdfftypes.txt&quot;/&amp;gt;&lt;br/&gt;
        &amp;lt;filter class=&quot;solr.StopFilterFactory&quot;&lt;br/&gt;
                ignoreCase=&quot;true&quot;&lt;br/&gt;
                words=&quot;lang/stopwords_en.txt&quot;&lt;br/&gt;
                /&amp;gt;&lt;br/&gt;
        &amp;lt;filter class=&quot;solr.LowerCaseFilterFactory&quot;/&amp;gt;&lt;br/&gt;
        &amp;lt;filter class=&quot;solr.ASCIIFoldingFilterFactory&quot;/&amp;gt;&lt;br/&gt;
        &amp;lt;filter class=&quot;solr.KStemFilterFactory&quot;/&amp;gt;&lt;br/&gt;
      &amp;lt;/analyzer&amp;gt;&lt;br/&gt;
    &amp;lt;/fieldType&amp;gt;&lt;/p&gt;

&lt;p&gt;The PatternReplaceCharFilterFactory (PRCF) is used to collapse&lt;br/&gt;
repeated letters in a term down to a max of 2, such as #yummmm would&lt;br/&gt;
be #yumm&lt;/p&gt;

&lt;p&gt;When I run some text through this analyzer using the Analysis form,&lt;br/&gt;
the output is as if the resulting text is unavailable to the&lt;br/&gt;
tokenizer. In other words, the only results being displayed in the&lt;br/&gt;
output on the form is for the PRCF&lt;/p&gt;

&lt;p&gt;This example stopped working in 4.7.0 and I&apos;ve verified it worked&lt;br/&gt;
correctly in 4.6.1.&lt;/p&gt;

&lt;p&gt;Initially, I thought this might be an issue with the actual analysis,&lt;br/&gt;
but the analyzer actually works when indexing / querying. Then,&lt;br/&gt;
looking at the JSON response in the Developer console with Chrome, I&lt;br/&gt;
see the JSON that comes back includes output for all the components in&lt;br/&gt;
my chain (see below) ... so looks like a UI rendering issue to me?&lt;/p&gt;

&lt;p&gt;{&quot;responseHeader&quot;:&lt;/p&gt;
{&quot;status&quot;:0,&quot;QTime&quot;:24}
&lt;p&gt;,&quot;analysis&quot;:{&quot;field_types&quot;:{&quot;text_microblog&quot;:{&quot;index&quot;:[&quot;org.apache.lucene.analysis.pattern.PatternReplaceCharFilter&quot;,&quot;#Yumm&lt;br/&gt;
&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; Drinking a latte at Caffe Grecco in SF&apos;s historic North Beach...&lt;br/&gt;
Learning text analysis with #SolrInAction by @ManningBooks on my i-Pad&lt;br/&gt;
foo5&quot;,&quot;org.apache.lucene.analysis.core.WhitespaceTokenizer&quot;,[&lt;/p&gt;
{&quot;text&quot;:&quot;#Yumm&quot;,&quot;raw_bytes&quot;:&quot;[23
59 75 6d 6d]&quot;,&quot;start&quot;:0,&quot;end&quot;:6,&quot;position&quot;:1,&quot;positionHistory&quot;:[1],&quot;type&quot;:&quot;word&quot;}
&lt;p&gt;,&lt;/p&gt;
{&quot;text&quot;:&quot;:)&quot;,&quot;raw_bytes&quot;:&quot;[3a
29]&quot;,&quot;start&quot;:7,&quot;end&quot;:9,&quot;position&quot;:2,&quot;positionHistory&quot;:[2],&quot;type&quot;:&quot;word&quot;}
&lt;p&gt;,&lt;/p&gt;
{&quot;text&quot;:&quot;Drinking&quot;,&quot;raw_bytes&quot;:&quot;[44
72 69 6e 6b 69 6e
67]&quot;,&quot;start&quot;:10,&quot;end&quot;:18,&quot;position&quot;:3,&quot;positionHistory&quot;:[3],&quot;type&quot;:&quot;word&quot;}
&lt;p&gt;,&lt;/p&gt;
{&quot;text&quot;:&quot;a&quot;,&quot;raw_bytes&quot;:&quot;[61]&quot;,&quot;start&quot;:19,&quot;end&quot;:20,&quot;position&quot;:4,&quot;positionHistory&quot;:[4],&quot;type&quot;:&quot;word&quot;}
&lt;p&gt;,{&quot;text&quot;:&quot;latte&quot;,&quot;raw_bytes&quot;:&quot;[6c ...&lt;/p&gt;

&lt;p&gt;the JSON returned to the browser has evidence that the full analysis chain was applied, so this seems to just be a rendering issue.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12698142">SOLR-5800</key>
            <summary>Admin UI - Analysis form doesn&apos;t render results correctly when a CharFilter is used.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="steffkes">Stefan Matheis</assignee>
                                    <reporter username="tim.potter">Timothy Potter</reporter>
                        <labels>
                    </labels>
                <created>Sat, 1 Mar 2014 23:15:42 +0000</created>
                <updated>Thu, 16 Feb 2017 15:55:45 +0000</updated>
                            <resolved>Wed, 12 Mar 2014 09:46:27 +0000</resolved>
                                    <version>4.7</version>
                                    <fixVersion>4.7.1</fixVersion>
                    <fixVersion>4.8</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                    <component>Admin UI</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="13917217" author="steffkes" created="Sat, 1 Mar 2014 23:22:15 +0000"  >&lt;p&gt;Timothy could you attach the (raw) JSON-Output as a file here? if you can, it would be good to see a before/after screenshot?&lt;/p&gt;

&lt;p&gt;quick guess, because it&apos;s the latest change i remember regarding the Analysis-Screen and it went into 4.7: &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-4612&quot; title=&quot;Admin UI - Analysis Screen contains empty table-columns&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-4612&quot;&gt;&lt;del&gt;SOLR-4612&lt;/del&gt;&lt;/a&gt; - perhaps it works not as expected in all cases?&lt;/p&gt;</comment>
                            <comment id="13917233" author="steffkes" created="Sun, 2 Mar 2014 00:09:14 +0000"  >&lt;p&gt;since there was no reference i didn&apos;t realize that there was a former question on the user-list: &lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/lucene-solr-user/201403.mbox/%3CCAJt9WnjooX3mHJN-02%2BaRAK2uKn6%3DF1yaue2CBVsbKxgStTnuA%40mail.gmail.com%3E&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://mail-archives.apache.org/mod_mbox/lucene-solr-user/201403.mbox/%3CCAJt9WnjooX3mHJN-02%2BaRAK2uKn6%3DF1yaue2CBVsbKxgStTnuA%40mail.gmail.com%3E&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;attaching the sample Timothy provided on this list already&lt;/p&gt;</comment>
                            <comment id="13917385" author="steffkes" created="Sun, 2 Mar 2014 12:32:10 +0000"  >&lt;p&gt;after a bit digging, it&apos;s clear that &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-4612&quot; title=&quot;Admin UI - Analysis Screen contains empty table-columns&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-4612&quot;&gt;&lt;del&gt;SOLR-4612&lt;/del&gt;&lt;/a&gt; is responsible for the chance - to remove the empty columns, i&apos;ve used the first element to distinguish how many columns the table might have .. i can of the PatternReplaceCharFilter that&apos;s only .. one. &lt;/p&gt;

&lt;p&gt;if i&apos;m not mistaken, the fix should be, that we loop over all records to get the &quot;over all&quot; column count - working on it.&lt;/p&gt;</comment>
                            <comment id="13917400" author="steffkes" created="Sun, 2 Mar 2014 12:53:12 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tim.potter&quot; class=&quot;user-hover&quot; rel=&quot;tim.potter&quot;&gt;tim.potter&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Mr.HTZ&quot; class=&quot;user-hover&quot; rel=&quot;Mr.HTZ&quot;&gt;Mr.HTZ&lt;/a&gt; would you mind giving this patch a try? at least your provided example works (again) and looks like expected, while still maintaing the correct column count (as initially tried on &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-4612&quot; title=&quot;Admin UI - Analysis Screen contains empty table-columns&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-4612&quot;&gt;&lt;del&gt;SOLR-4612&lt;/del&gt;&lt;/a&gt;)&lt;/p&gt;</comment>
                            <comment id="13917795" author="mr.htz" created="Mon, 3 Mar 2014 07:28:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=steffkes&quot; class=&quot;user-hover&quot; rel=&quot;steffkes&quot;&gt;steffkes&lt;/a&gt;, It works for me.&lt;br/&gt;
Thanks.&lt;/p&gt;</comment>
                            <comment id="13925890" author="steffkes" created="Mon, 10 Mar 2014 16:56:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tim.potter&quot; class=&quot;user-hover&quot; rel=&quot;tim.potter&quot;&gt;tim.potter&lt;/a&gt; did you have a chance? otherwise i would commit that one tomorrow&lt;/p&gt;</comment>
                            <comment id="13931319" author="softwaredoug" created="Wed, 12 Mar 2014 02:53:12 +0000"  >&lt;p&gt;Thanks for the patch Stefan. Will this be released in a Solr 4.7.1? This is a fairly major issue for folks that depend on the analysis UI.&lt;/p&gt;</comment>
                            <comment id="13931555" author="jira-bot" created="Wed, 12 Mar 2014 09:02:22 +0000"  >&lt;p&gt;Commit 1576652 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=steffkes&quot; class=&quot;user-hover&quot; rel=&quot;steffkes&quot;&gt;steffkes&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1576652&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1576652&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5800&quot; title=&quot;Admin UI - Analysis form doesn&amp;#39;t render results correctly when a CharFilter is used.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5800&quot;&gt;&lt;del&gt;SOLR-5800&lt;/del&gt;&lt;/a&gt;: Admin UI - Analysis form doesn&apos;t render results correctly when a CharFilter is used&lt;/p&gt;</comment>
                            <comment id="13931575" author="jira-bot" created="Wed, 12 Mar 2014 09:30:49 +0000"  >&lt;p&gt;Commit 1576671 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=steffkes&quot; class=&quot;user-hover&quot; rel=&quot;steffkes&quot;&gt;steffkes&lt;/a&gt; in branch &apos;dev/branches/branch_4x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1576671&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1576671&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5800&quot; title=&quot;Admin UI - Analysis form doesn&amp;#39;t render results correctly when a CharFilter is used.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5800&quot;&gt;&lt;del&gt;SOLR-5800&lt;/del&gt;&lt;/a&gt;: Admin UI - Analysis form doesn&apos;t render results correctly when a CharFilter is used (merge r1576652)&lt;/p&gt;</comment>
                            <comment id="13931586" author="steffkes" created="Wed, 12 Mar 2014 09:46:13 +0000"  >&lt;p&gt;Hey Doug, that depends a bit - &apos;the next available release&apos; i&apos;d say, might be 4.7.1 if it&apos;s needed otherwise it would be 4.8&lt;/p&gt;</comment>
                            <comment id="13937968" author="jira-bot" created="Mon, 17 Mar 2014 16:12:13 +0000"  >&lt;p&gt;Commit 1578444 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=steffkes&quot; class=&quot;user-hover&quot; rel=&quot;steffkes&quot;&gt;steffkes&lt;/a&gt; in branch &apos;dev/branches/lucene_solr_4_7&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1578444&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1578444&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5800&quot; title=&quot;Admin UI - Analysis form doesn&amp;#39;t render results correctly when a CharFilter is used.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5800&quot;&gt;&lt;del&gt;SOLR-5800&lt;/del&gt;&lt;/a&gt;: Admin UI - Analysis form doesn&apos;t render results correctly when a CharFilter is used (merge r1576652)&lt;/p&gt;</comment>
                            <comment id="13938437" author="jira-bot" created="Mon, 17 Mar 2014 21:52:37 +0000"  >&lt;p&gt;Commit 1578617 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=steffkes&quot; class=&quot;user-hover&quot; rel=&quot;steffkes&quot;&gt;steffkes&lt;/a&gt; in branch &apos;dev/branches/lucene_solr_4_7&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1578617&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1578617&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5800&quot; title=&quot;Admin UI - Analysis form doesn&amp;#39;t render results correctly when a CharFilter is used.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5800&quot;&gt;&lt;del&gt;SOLR-5800&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5870&quot; title=&quot;Admin UI - Reload on Core Admin doesn&amp;#39;t show errors&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5870&quot;&gt;&lt;del&gt;SOLR-5870&lt;/del&gt;&lt;/a&gt;: fix changes entry on lucene_solr_4_7&lt;/p&gt;</comment>
                            <comment id="13957734" author="steve_rowe" created="Wed, 2 Apr 2014 15:03:36 +0000"  >&lt;p&gt;Bulk close 4.7.1 issues&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12706386">SOLR-5953</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310051">
                    <name>Supercedes</name>
                                            <outwardlinks description="supercedes">
                                        <issuelink>
            <issuekey id="12637634">SOLR-4612</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12631981" name="SOLR-5800-sample.json" size="69997" author="steffkes" created="Sun, 2 Mar 2014 00:09:14 +0000"/>
                            <attachment id="12632009" name="SOLR-5800.patch" size="1816" author="steffkes" created="Sun, 2 Mar 2014 12:53:12 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>376611</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 33 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1swav:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>376906</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>