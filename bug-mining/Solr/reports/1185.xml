<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:33:17 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-4233] Test runner problems on OS X / java 7</title>
                <link>https://issues.apache.org/jira/browse/SOLR-4233</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;I think it might be a jvm bug... but im just uploading information since its wierd and annoying&lt;/p&gt;</description>
                <environment>&lt;p&gt;Mac os X 10.7.5.&lt;br/&gt;
java version &quot;1.7.0_09&quot;&lt;br/&gt;
Java(TM) SE Runtime Environment (build 1.7.0_09-b05)&lt;br/&gt;
Java HotSpot(TM) 64-Bit Server VM (build 23.5-b02, mixed mode)&lt;/p&gt;</environment>
        <key id="12625272">SOLR-4233</key>
            <summary>Test runner problems on OS X / java 7</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rcmuir">Robert Muir</reporter>
                        <labels>
                    </labels>
                <created>Wed, 26 Dec 2012 16:50:53 +0000</created>
                <updated>Mon, 9 May 2016 18:48:56 +0000</updated>
                            <resolved>Wed, 26 Dec 2012 17:20:14 +0000</resolved>
                                                    <fixVersion>4.1</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13539596" author="rcmuir" created="Wed, 26 Dec 2012 16:53:00 +0000"  >&lt;p&gt;Sorry, i hit two bugs at once.&lt;/p&gt;

&lt;p&gt;Bug #1 is ScriptEngineTest adding new sysprops:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;junit4:junit4] Suite: org.apache.solr.update.processor.ScriptEngineTest
[junit4:junit4] IGNOR/A 0.04s J3 | ScriptEngineTest.testJRuby
[junit4:junit4]    &amp;gt; Assumption #1: got: &amp;lt;[null]&amp;gt;, expected: each not null
[junit4:junit4]   2&amp;gt; NOTE: test params are: codec=Lucene41: {}, sim=DefaultSimilarity, locale=it_CH, timezone=America/Inuvik
[junit4:junit4]   2&amp;gt; NOTE: Mac OS X 10.7.5 x86_64/Oracle Corporation 1.7.0_09 (64-bit)/cpus=8,threads=1,free=74721592,total=263520256
[junit4:junit4]   2&amp;gt; NOTE: All tests run in this JVM: [TestSort, DistributedTermsComponentTest, TestStressReorder, TestJmxIntegration, TestRangeQuery, DocumentAnalysisRequestHandlerTest, SolrCmdDistributorTest, ZkControllerTest, ZkSolrClientTest, TestSystemIdResolver, ScriptEngineTest]
[junit4:junit4]   2&amp;gt; NOTE: reproduce with: ant test  -Dtestcase=ScriptEngineTest -Dtests.seed=7BF9C084407FF39D -Dtests.slow=true -Dtests.locale=it_CH -Dtests.timezone=America/Inuvik -Dtests.file.encoding=ISO-8859-1
[junit4:junit4] ERROR   0.00s J3 | ScriptEngineTest (suite) &amp;lt;&amp;lt;&amp;lt;
[junit4:junit4]    &amp;gt; Throwable #1: java.lang.AssertionError: System properties invariant violated.
[junit4:junit4]    &amp;gt; New keys:
[junit4:junit4]    &amp;gt;   sun.awt.enableExtraMouseButtons=true
[junit4:junit4]    &amp;gt;   sun.font.fontmanager=sun.font.CFontManager
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Bug #2 is the crazy malloc error:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[junit4:junit4] HEARTBEAT J2 PID(67321@localhost): 2012-12-26T08:47:15, stalled for 63.2s at: SyncSliceTest.testDistribSearch
[junit4:junit4] JVM J0: stderr was not empty, see: /Users/rmuir/workspace/lucene-trunk/solr/build/solr-core/test/temp/junit4-J0-20121226_084402_963.syserr
[junit4:junit4] &amp;gt;&amp;gt;&amp;gt; JVM J0: stderr (verbatim) ----
[junit4:junit4] java(67319,0x10e6e1000) malloc: *** error for object 0x10e6cfc92: pointer being freed was not allocated
[junit4:junit4] *** set a breakpoint in malloc_error_break to debug
[junit4:junit4] &amp;lt;&amp;lt;&amp;lt; JVM J0: EOF ----
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13539597" author="rcmuir" created="Wed, 26 Dec 2012 16:53:39 +0000"  >&lt;p&gt;updating test description to make more sense.&lt;/p&gt;</comment>
                            <comment id="13539602" author="thetaphi" created="Wed, 26 Dec 2012 17:02:27 +0000"  >&lt;p&gt;This is the well-known @UweSays bug at &lt;a href=&quot;https://twitter.com/UweSays/status/260487231880433664&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://twitter.com/UweSays/status/260487231880433664&lt;/a&gt; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;I would propose to disable all tests on MacOSX that use JSR Script engines.&lt;/p&gt;</comment>
                            <comment id="13539604" author="rcmuir" created="Wed, 26 Dec 2012 17:10:14 +0000"  >&lt;p&gt;+1, ill add an assume here for OS X.&lt;/p&gt;

&lt;p&gt;Note: another option is to conditionally System.clearProperty in an afterclass, but these sysprops are initialized by the JDK, so that seems a little scary.&lt;/p&gt;</comment>
                            <comment id="13539606" author="commit-tag-bot" created="Wed, 26 Dec 2012 17:18:39 +0000"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;trunk commit&amp;#93;&lt;/span&gt; Robert Muir&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1425969&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1425969&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-4233&quot; title=&quot;Test runner problems on OS X / java 7&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-4233&quot;&gt;&lt;del&gt;SOLR-4233&lt;/del&gt;&lt;/a&gt;: throw assumption for this test on OS X: it fails due to AWT engine startup&lt;/p&gt;</comment>
                            <comment id="13539608" author="commit-tag-bot" created="Wed, 26 Dec 2012 17:24:11 +0000"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;branch_4x commit&amp;#93;&lt;/span&gt; Robert Muir&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1425970&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1425970&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-4233&quot; title=&quot;Test runner problems on OS X / java 7&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-4233&quot;&gt;&lt;del&gt;SOLR-4233&lt;/del&gt;&lt;/a&gt;: throw assumption for this test on OS X: it fails due to AWT engine startup&lt;/p&gt;</comment>
                            <comment id="13539644" author="dweiss" created="Wed, 26 Dec 2012 19:25:30 +0000"  >&lt;p&gt;Sorry for belated follow-up. The first error is what Uwe already clarified &amp;#8211; indeed an issue on a Mac version of Java. The second message you&apos;re getting is (in my opinion) exactly what I wanted to capture when I was writing junit4 task &amp;#8211; something totally unpexpected being written to jvm output descriptors. In this case I think it&apos;s a bug in the JVM somewhere, hard to tell where exactly. Is this the Apple JVM you&apos;re testing on?&lt;/p&gt;</comment>
                            <comment id="13539655" author="rcmuir" created="Wed, 26 Dec 2012 19:42:00 +0000"  >&lt;p&gt;The second error definitely &quot;worked&quot; as far as it didnt actually cause test failures.&lt;/p&gt;

&lt;p&gt;I thought it did, but i was confused &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;I think junit4 did what it was supposed to do, something went to stderr and it just printed it, but didnt fail the test.&lt;/p&gt;

&lt;p&gt;This isnt the apple JVM actually: Its the oracle one. I downloaded it from java.sun.com&lt;/p&gt;</comment>
                            <comment id="13539657" author="dweiss" created="Wed, 26 Dec 2012 19:45:55 +0000"  >&lt;p&gt;Yeah... by default it would have ended in an error but (due to popular criticism &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; it is configured in Lucene to only warn about JVM output. See the description here:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://labs.carrotsearch.com/download/randomizedtesting/2.0.0/docs/junit4-ant/Tasks/junit4.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://labs.carrotsearch.com/download/randomizedtesting/2.0.0/docs/junit4-ant/Tasks/junit4.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;See jvmOutputAction attribute and a section of examples below, under &quot;Capturing original JVM output&quot;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>301816</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 47 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i16wqv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>248437</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>