<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:42:29 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-13190] Fuzzy search treated as server error instead of client error when terms are too complex</title>
                <link>https://issues.apache.org/jira/browse/SOLR-13190</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;We&apos;ve seen a fuzzy search end up breaking the automaton and getting reported as a server error. This usage should be improved by&lt;br/&gt;
1) reporting as a client error, because it&apos;s similar to something like too many boolean clauses queries in how an operator should deal with it&lt;br/&gt;
2) report what field is causing the error, since that currently must be deduced from adjacent query logs and can be difficult if there are multiple terms in the search&lt;/p&gt;

&lt;p&gt;This trigger was added to defend against adversarial regex but somehow hits fuzzy terms as well, I don&apos;t understand enough about the automaton mechanisms to really know how to approach a fix there, but improving the operability is a good first step.&lt;/p&gt;

&lt;p&gt;relevant stack trace:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.lucene.util.automaton.TooComplexToDeterminizeException: Determinizing automaton with 13632 states and 21348 transitions would result in more than 10000 states.
	at org.apache.lucene.util.automaton.Operations.determinize(Operations.java:746)
	at org.apache.lucene.util.automaton.RunAutomaton.&amp;lt;init&amp;gt;(RunAutomaton.java:69)
	at org.apache.lucene.util.automaton.ByteRunAutomaton.&amp;lt;init&amp;gt;(ByteRunAutomaton.java:32)
	at org.apache.lucene.util.automaton.CompiledAutomaton.&amp;lt;init&amp;gt;(CompiledAutomaton.java:247)
	at org.apache.lucene.util.automaton.CompiledAutomaton.&amp;lt;init&amp;gt;(CompiledAutomaton.java:133)
	at org.apache.lucene.search.FuzzyTermsEnum.&amp;lt;init&amp;gt;(FuzzyTermsEnum.java:143)
	at org.apache.lucene.search.FuzzyQuery.getTermsEnum(FuzzyQuery.java:154)
	at org.apache.lucene.search.MultiTermQuery$RewriteMethod.getTermsEnum(MultiTermQuery.java:78)
	at org.apache.lucene.search.TermCollectingRewrite.collectTerms(TermCollectingRewrite.java:58)
	at org.apache.lucene.search.TopTermsRewrite.rewrite(TopTermsRewrite.java:67)
	at org.apache.lucene.search.MultiTermQuery.rewrite(MultiTermQuery.java:310)
	at org.apache.lucene.search.IndexSearcher.rewrite(IndexSearcher.java:667)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:442)
	at org.apache.solr.search.SolrIndexSearcher.buildAndRunCollectorChain(SolrIndexSearcher.java:200)
	at org.apache.solr.search.SolrIndexSearcher.getDocListNC(SolrIndexSearcher.java:1604)
	at org.apache.solr.search.SolrIndexSearcher.getDocListC(SolrIndexSearcher.java:1420)
	at org.apache.solr.search.SolrIndexSearcher.search(SolrIndexSearcher.java:567)
	at org.apache.solr.handler.component.QueryComponent.doProcessUngroupedSearch(QueryComponent.java:1435)
	at org.apache.solr.handler.component.QueryComponent.process(QueryComponent.java:374)
	at org.apache.solr.handler.component.SearchHandler.handleRequestBody(SearchHandler.java:298)
	at org.apache.solr.handler.RequestHandlerBase.handleRequest(RequestHandlerBase.java:199)
	at org.apache.solr.core.SolrCore.execute(SolrCore.java:2559)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13212695">SOLR-13190</key>
            <summary>Fuzzy search treated as server error instead of client error when terms are too complex</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mdrob">Mike Drob</assignee>
                                    <reporter username="mdrob">Mike Drob</reporter>
                        <labels>
                    </labels>
                <created>Wed, 30 Jan 2019 02:04:36 +0000</created>
                <updated>Wed, 27 May 2020 17:59:28 +0000</updated>
                            <resolved>Thu, 2 Jan 2020 18:45:13 +0000</resolved>
                                    <version>5.5</version>
                    <version>7.7</version>
                    <version>8.0</version>
                                    <fixVersion>8.5.2</fixVersion>
                    <fixVersion>8.6</fixVersion>
                    <fixVersion>9.0</fixVersion>
                                    <component>search</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="2400">40m</timespent>
                                <comments>
                            <comment id="16758713" author="mdrob" created="Fri, 1 Feb 2019 22:12:39 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mikemccand&quot; class=&quot;user-hover&quot; rel=&quot;mikemccand&quot;&gt;mikemccand&lt;/a&gt; - WDYT? You were the original person to add this exception in &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-6046&quot; title=&quot;RegExp.toAutomaton high memory use&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LUCENE-6046&quot;&gt;&lt;del&gt;LUCENE-6046&lt;/del&gt;&lt;/a&gt;, not sure if you knew that it was also affecting Fuzzy terms as well when planning for direct regex construction.&lt;/p&gt;</comment>
                            <comment id="16759431" author="mikemccand" created="Sun, 3 Feb 2019 14:34:28 +0000"  >&lt;p&gt;+1 to improve the exception message to include the field and fuzzy term that led to this.&lt;/p&gt;

&lt;p&gt;However, this exception is baffling because the way our FuzzyQuery works is to directly produce an already determinized and minimized automaton &#8211; that&apos;s the beauty of the (efficient) Levenshtein automaton construction algorithm.&lt;/p&gt;

&lt;p&gt;So why are we then trying to determinize it again?&#160; Something bad is lurking here &#8211; somehow we lost track that the automaton is already determinized?&lt;/p&gt;</comment>
                            <comment id="16761956" author="mdrob" created="Wed, 6 Feb 2019 17:23:18 +0000"  >&lt;p&gt;Can you expand on that a little more? Tracing through the code path we...&lt;/p&gt;

&lt;p&gt;1) Build a LevenshteinAutomaton&lt;br/&gt;
2) For each edit distance (0,1,2) create a separate instance of Automaton class&lt;br/&gt;
3) Each Automaton is converted UTF32toUTF8&lt;br/&gt;
4) Each UTF8 Automaton is wrapped in a ByteRunAutomaton, which attempts to determinize.&lt;/p&gt;

&lt;p&gt;The objects produced by 2) are deterministic, the ones produced by 3) are not.&lt;/p&gt;

&lt;p&gt;So, a few questions and a maybe a theory: Does converting an already deterministic automaton necessarily destroy the deterministic state? If so, are we sure that we need to be doing the conversion in the first place? The comments claim that PrefixQuery doesn&apos;t need the conversion, so maybe we can get away without it here too?&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-6367&quot; title=&quot;Can PrefixQuery subclass AutomatonQuery?&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LUCENE-6367&quot;&gt;&lt;del&gt;LUCENE-6367&lt;/del&gt;&lt;/a&gt; makes me think that FuzzyQuery should subclass AutomatonQuery as well?&lt;/p&gt;</comment>
                            <comment id="16765499" author="mdrob" created="Mon, 11 Feb 2019 23:04:57 +0000"  >&lt;p&gt;We&apos;d have to modify AutomatonQuery to handle multiple Automata, so maybe that&apos;s not the clearest path. &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mikemccand&quot; class=&quot;user-hover&quot; rel=&quot;mikemccand&quot;&gt;mikemccand&lt;/a&gt; - any further insight?&lt;/p&gt;</comment>
                            <comment id="16772074" author="mdrob" created="Tue, 19 Feb 2019 16:21:40 +0000"  >&lt;blockquote&gt;&lt;p&gt;Does converting an already deterministic automaton necessarily destroy the deterministic state? &lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I stepped through the code and it looks like a new automaton is assumed to be deterministic until there is a transition added that shows it is not. So that&apos;s not the solution here.&lt;/p&gt;

&lt;p&gt;Poke &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mikemccand&quot; class=&quot;user-hover&quot; rel=&quot;mikemccand&quot;&gt;mikemccand&lt;/a&gt; - any thoughts on how to fix this?&lt;/p&gt;</comment>
                            <comment id="16865172" author="mdrob" created="Sun, 16 Jun 2019 21:24:38 +0000"  >&lt;p&gt;Looks like I failed to mention in this initial reporting that the query causing these issues for us was a mixed Japanese and English term. Based on conversations and additional digging, I suspect that our algorithm fundamentally doesn&apos;t work on multi-code point characters. when converting to utf8, I suspect that the transitions are tearing the characters apart and might be producing nonsense suggestions for deleting or adding &quot;half&quot; a character. I don&apos;t have proof of this though, so I&apos;ll have to assume that the algorithm works.&lt;/p&gt;

&lt;p&gt;That aside, the number of states scales linearly with length by a factor of 45, as can be confirmed in Lev2TParametricDescription. For English (or any single byte character text, I expect), that number of states does not change in the 32-&amp;gt;8 conversion. But for JP text, we get approximately 256 states per character post-conversion, starting with the 3rd character, and slightly varying with the exact text itself. I start to see the TooComplexToDeterminize come back with random strings of length 41 or 42.&lt;/p&gt;

&lt;p&gt;Since we know that these aren&apos;t adversarial regular expressions, then I think we should be safe to pass in a dynamically determined maximum number of states. For pure utf8 text, I don&apos;t think it becomes undetermined, so the bound doesn&apos;t matter. For other cases, length*256+100 for maybe a little bit of buffer might be good enough.&lt;/p&gt;
</comment>
                            <comment id="16998533" author="andywebb1975" created="Tue, 17 Dec 2019 20:01:45 +0000"  >&lt;p&gt;hi, we&apos;ve seeing&#160;&lt;tt&gt;TooComplexToDeterminizeException&lt;/tt&gt; in production - our current mitigation is to avoid asking Solr to spellcheck long queries.&lt;/p&gt;

&lt;p&gt;The exception can be triggered in 8.3.0 as follows:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;create a collection (e.g. &lt;tt&gt;default&lt;/tt&gt;)&#160;using the &lt;tt&gt;_default&lt;/tt&gt;&#160;config&lt;/li&gt;
	&lt;li&gt;add a single document with some random content in the &lt;tt&gt;&amp;#95;text_&lt;/tt&gt; field&lt;/li&gt;
	&lt;li&gt;send a spellcheck request such as &lt;tt&gt;/solr/default/spell?q=kjshgkjahdskjgadhsgkahsdkgskd%C4%A3shdjghaksdhdhdkadhgkjahsdkjgahskdghjjhgkasjdhgajhdskgjahsdgkahjsdkjghaksd&lt;/tt&gt;&#160;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;The presence of a multi-byte character seems to matter - without it the query can be several times longer before a StackOverflowError is thrown instead.&lt;/p&gt;

&lt;p&gt;Would you expect the PR on this ticket to resolve this? If so, we&apos;d be very keen to see it merged in please. (I&apos;ll try spinning up a custom build Solr with the patch applied to test this myself.)&lt;/p&gt;

&lt;p&gt;thanks,&lt;/p&gt;

&lt;p&gt;Andy&lt;/p&gt;</comment>
                            <comment id="16998537" author="andywebb1975" created="Tue, 17 Dec 2019 20:05:40 +0000"  >&lt;p&gt;(Obviously we don&apos;t expect to receive a useful correction for such queries!)&lt;/p&gt;</comment>
                            <comment id="16998568" author="mdrob" created="Tue, 17 Dec 2019 20:41:10 +0000"  >&lt;p&gt;You have great timing, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=andywebb1975&quot; class=&quot;user-hover&quot; rel=&quot;andywebb1975&quot;&gt;andywebb1975&lt;/a&gt;! The PR as written won&apos;t solve it. You&apos;ll get a better exception message that tells you what the term is (which you currently don&apos;t get), which will help you in post analysis of error logs, but won&apos;t make much difference in the moment. I spun things out to &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-9098&quot; title=&quot;Report problematic term value when fuzzy query is too complex&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LUCENE-9098&quot;&gt;&lt;del&gt;LUCENE-9098&lt;/del&gt;&lt;/a&gt; this morning for that change, since it required more lucene change than solr change.&lt;/p&gt;

&lt;p&gt;I have plans to improve things so that we can run the long queries as well, but I wanted to get the quicker logging change in first.&lt;/p&gt;</comment>
                            <comment id="16999118" author="andywebb1975" created="Wed, 18 Dec 2019 12:49:55 +0000"  >&lt;p&gt;Thanks Mike!&lt;/p&gt;

&lt;p&gt;I&apos;ve &lt;a href=&quot;https://github.com/apache/lucene-solr/pull/1098&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;tried adding&lt;/a&gt; a &lt;tt&gt;maxQueryLength&lt;/tt&gt; option to &lt;tt&gt;Direct(Solr)SpellChecker&lt;/tt&gt; which can be set to prevent long terms being spellchecked - it&apos;s a simple change, largely a cut-and-paste of the &lt;tt&gt;minQueryLength&lt;/tt&gt;, and as far as I can see this would prevent us seeing the exceptions. It could default to 0, i.e. &quot;no limit&quot;, to maintain the existing default behaviour unless it&apos;s deliberately set. Would this be a reasonable change to make to Lucene/Solr or do you think there might be a better approach?&lt;/p&gt;</comment>
                            <comment id="16999370" author="mdrob" created="Wed, 18 Dec 2019 17:22:19 +0000"  >&lt;p&gt;That looks like a pretty reasonable interim measure, yea. Ideally, we wouldn&apos;t need to enforce a limit like this since the 10k max states on an automaton is arbitrary to begin with and constructing the Lev automaton is efficient anyway so we could just expand the cap. But it will take a little bit of time to prove that and verify it, and this is a good clarification in the meanwhile and probably useful in the general case anyway.&lt;/p&gt;

&lt;p&gt;I would file a new JIRA issue for your change since it is more specific to spell checking? And add tests please. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="16999393" author="andywebb1975" created="Wed, 18 Dec 2019 17:58:13 +0000"  >&lt;p&gt;Thanks Mike, I&apos;ll get on the case!&lt;/p&gt;</comment>
                            <comment id="17000214" author="jira-bot" created="Thu, 19 Dec 2019 17:18:43 +0000"  >&lt;p&gt;Commit 93585ba1d33cec1d435f97e9568953ca555e4a91 in lucene-solr&apos;s branch refs/heads/master from Mike Drob&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=93585ba&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=93585ba&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13190&quot; title=&quot;Fuzzy search treated as server error instead of client error when terms are too complex&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13190&quot;&gt;&lt;del&gt;SOLR-13190&lt;/del&gt;&lt;/a&gt; Surface Fuzzy term errors in Solr&lt;/p&gt;

&lt;p&gt;Use newly added exceptions in Lucene for too complex fuzzy terms to&lt;br/&gt;
provide better error reporting for Solr queries.&lt;/p&gt;</comment>
                            <comment id="17000498" author="hossman" created="Fri, 20 Dec 2019 00:08:50 +0000"  >&lt;p&gt;Test is not passing reliably on jenkins...&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://fucit.org/solr-jenkins-reports/job-data/thetaphi/Lucene-Solr-master-Linux/25179&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://fucit.org/solr-jenkins-reports/job-data/thetaphi/Lucene-Solr-master-Linux/25179&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;   [junit4]   2&amp;gt; NOTE: reproduce with: ant test  -Dtestcase=FuzzySearchTest -Dtests.method=testTooComplex -Dtests.seed=635F1779615292B3 -Dtests.multiplier=3 -Dtests.slow=true -Dtests.locale=so-DJ -Dtests.timezone=Europe/Podgorica -Dtests.asserts=true -Dtests.file.encoding=ISO-8859-1
   [junit4] FAILURE 2.47s J0 | FuzzySearchTest.testTooComplex &amp;lt;&amp;lt;&amp;lt;
   [junit4]    &amp;gt; Throwable #1: junit.framework.AssertionFailedError: Unexpected exception type, expected RemoteSolrException but got org.apache.solr.client.solrj.SolrServerException: No live SolrServers available to handle this request:[https://127.0.0.1:45243/solr/c1]
   [junit4]    &amp;gt;        at __randomizedtesting.SeedInfo.seed([635F1779615292B3:B5FD5D5D7E81A1F9]:0)
   [junit4]    &amp;gt;        at org.apache.lucene.util.LuceneTestCase.expectThrows(LuceneTestCase.java:2731)
   [junit4]    &amp;gt;        at org.apache.lucene.util.LuceneTestCase.expectThrows(LuceneTestCase.java:2719)
   [junit4]    &amp;gt;        at org.apache.solr.search.FuzzySearchTest.testTooComplex(FuzzySearchTest.java:64)
   [junit4]    &amp;gt;        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
   [junit4]    &amp;gt;        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
   [junit4]    &amp;gt;        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
   [junit4]    &amp;gt;        at java.base/java.lang.reflect.Method.invoke(Method.java:566)
   [junit4]    &amp;gt;        at java.base/java.lang.Thread.run(Thread.java:834)
   [junit4]    &amp;gt; Caused by: org.apache.solr.client.solrj.SolrServerException: No live SolrServers available to handle this request:[https://127.0.0.1:45243/solr/c1]
   [junit4]    &amp;gt;        at org.apache.solr.client.solrj.impl.LBSolrClient.request(LBSolrClient.java:345)
   [junit4]    &amp;gt;        at org.apache.solr.client.solrj.impl.BaseCloudSolrClient.sendRequest(BaseCloudSolrClient.java:1143)
   [junit4]    &amp;gt;        at org.apache.solr.client.solrj.impl.BaseCloudSolrClient.requestWithRetryOnStaleState(BaseCloudSolrClient.java:906)
   [junit4]    &amp;gt;        at org.apache.solr.client.solrj.impl.BaseCloudSolrClient.request(BaseCloudSolrClient.java:838)
   [junit4]    &amp;gt;        at org.apache.solr.client.solrj.SolrRequest.process(SolrRequest.java:207)
   [junit4]    &amp;gt;        at org.apache.solr.client.solrj.SolrClient.query(SolrClient.java:1003)
   [junit4]    &amp;gt;        at org.apache.solr.client.solrj.SolrClient.query(SolrClient.java:1018)
   [junit4]    &amp;gt;        at org.apache.solr.search.FuzzySearchTest.lambda$testTooComplex$0(FuzzySearchTest.java:64)
   [junit4]    &amp;gt;        at org.apache.lucene.util.LuceneTestCase._expectThrows(LuceneTestCase.java:2849)
   [junit4]    &amp;gt;        at org.apache.lucene.util.LuceneTestCase.expectThrows(LuceneTestCase.java:2724)
   [junit4]    &amp;gt;        ... 40 more
   [junit4]    &amp;gt; Caused by: org.apache.solr.client.solrj.impl.HttpSolrClient$RemoteSolrException: Error from server at https://127.0.0.1:45243/solr/c1: Determinizing automaton with 13632 states and 21348 transitions would result in more than 10000 states.
   [junit4]    &amp;gt;        at org.apache.solr.client.solrj.impl.HttpSolrClient.executeMethod(HttpSolrClient.java:665)
   [junit4]    &amp;gt;        at org.apache.solr.client.solrj.impl.HttpSolrClient.request(HttpSolrClient.java:265)
   [junit4]    &amp;gt;        at org.apache.solr.client.solrj.impl.HttpSolrClient.request(HttpSolrClient.java:248)
   [junit4]    &amp;gt;        at org.apache.solr.client.solrj.impl.LBSolrClient.doRequest(LBSolrClient.java:368)
   [junit4]    &amp;gt;        at org.apache.solr.client.solrj.impl.LBSolrClient.request(LBSolrClient.java:296)
   [junit4]    &amp;gt;        ... 49 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17000510" author="mdrob" created="Fri, 20 Dec 2019 00:34:27 +0000"  >&lt;p&gt;That&apos;s what I get for accidentally excluding the slow tests on my machine. Will put up a fix tonight, thanks for pointing it out.&lt;/p&gt;</comment>
                            <comment id="17000618" author="jira-bot" created="Fri, 20 Dec 2019 04:51:09 +0000"  >&lt;p&gt;Commit 1333bd10a7b02df0c66a1e8a0af2714db3f75142 in lucene-solr&apos;s branch refs/heads/master from Mike Drob&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=1333bd1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=1333bd1&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13190&quot; title=&quot;Fuzzy search treated as server error instead of client error when terms are too complex&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13190&quot;&gt;&lt;del&gt;SOLR-13190&lt;/del&gt;&lt;/a&gt; Fix for failing test&lt;/p&gt;</comment>
                            <comment id="17001006" author="jira-bot" created="Fri, 20 Dec 2019 16:38:38 +0000"  >&lt;p&gt;Commit 93585ba1d33cec1d435f97e9568953ca555e4a91 in lucene-solr&apos;s branch refs/heads/gradle-master from Mike Drob&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=93585ba&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=93585ba&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13190&quot; title=&quot;Fuzzy search treated as server error instead of client error when terms are too complex&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13190&quot;&gt;&lt;del&gt;SOLR-13190&lt;/del&gt;&lt;/a&gt; Surface Fuzzy term errors in Solr&lt;/p&gt;

&lt;p&gt;Use newly added exceptions in Lucene for too complex fuzzy terms to&lt;br/&gt;
provide better error reporting for Solr queries.&lt;/p&gt;</comment>
                            <comment id="17001010" author="jira-bot" created="Fri, 20 Dec 2019 16:38:46 +0000"  >&lt;p&gt;Commit 1333bd10a7b02df0c66a1e8a0af2714db3f75142 in lucene-solr&apos;s branch refs/heads/gradle-master from Mike Drob&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=1333bd1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=1333bd1&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13190&quot; title=&quot;Fuzzy search treated as server error instead of client error when terms are too complex&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13190&quot;&gt;&lt;del&gt;SOLR-13190&lt;/del&gt;&lt;/a&gt; Fix for failing test&lt;/p&gt;</comment>
                            <comment id="17001285" author="jira-bot" created="Fri, 20 Dec 2019 23:14:38 +0000"  >&lt;p&gt;Commit 93585ba1d33cec1d435f97e9568953ca555e4a91 in lucene-solr&apos;s branch refs/heads/jira/&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13984&quot; title=&quot;Solr should run inside a SecurityManager&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13984&quot;&gt;&lt;del&gt;SOLR-13984&lt;/del&gt;&lt;/a&gt; from Mike Drob&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=93585ba&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=93585ba&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13190&quot; title=&quot;Fuzzy search treated as server error instead of client error when terms are too complex&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13190&quot;&gt;&lt;del&gt;SOLR-13190&lt;/del&gt;&lt;/a&gt; Surface Fuzzy term errors in Solr&lt;/p&gt;

&lt;p&gt;Use newly added exceptions in Lucene for too complex fuzzy terms to&lt;br/&gt;
provide better error reporting for Solr queries.&lt;/p&gt;</comment>
                            <comment id="17001288" author="jira-bot" created="Fri, 20 Dec 2019 23:14:45 +0000"  >&lt;p&gt;Commit 1333bd10a7b02df0c66a1e8a0af2714db3f75142 in lucene-solr&apos;s branch refs/heads/jira/&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13984&quot; title=&quot;Solr should run inside a SecurityManager&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13984&quot;&gt;&lt;del&gt;SOLR-13984&lt;/del&gt;&lt;/a&gt; from Mike Drob&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=1333bd1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=1333bd1&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13190&quot; title=&quot;Fuzzy search treated as server error instead of client error when terms are too complex&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13190&quot;&gt;&lt;del&gt;SOLR-13190&lt;/del&gt;&lt;/a&gt; Fix for failing test&lt;/p&gt;</comment>
                            <comment id="17102641" author="jira-bot" created="Fri, 8 May 2020 14:44:32 +0000"  >&lt;p&gt;Commit bad85f7c5aceb048e23fa343357dd807954d9ca7 in lucene-solr&apos;s branch refs/heads/branch_8x from Mike Drob&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=bad85f7&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=bad85f7&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13190&quot; title=&quot;Fuzzy search treated as server error instead of client error when terms are too complex&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13190&quot;&gt;&lt;del&gt;SOLR-13190&lt;/del&gt;&lt;/a&gt; Backport unit test&lt;/p&gt;</comment>
                            <comment id="17105590" author="jira-bot" created="Tue, 12 May 2020 16:44:37 +0000"  >&lt;p&gt;Commit 677ee799feaa1bf3b0fe728d046afa0faa25eb93 in lucene-solr&apos;s branch refs/heads/branch_8_5 from Mike Drob&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=677ee79&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=677ee79&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13190&quot; title=&quot;Fuzzy search treated as server error instead of client error when terms are too complex&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13190&quot;&gt;&lt;del&gt;SOLR-13190&lt;/del&gt;&lt;/a&gt; Backport unit test&lt;/p&gt;</comment>
                            <comment id="17117965" author="tomasflobbe" created="Wed, 27 May 2020 17:59:28 +0000"  >&lt;p&gt;Closing after the 8.5.2 release&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13275046">LUCENE-9098</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13275528">LUCENE-9102</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 24 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|yi0gnc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>