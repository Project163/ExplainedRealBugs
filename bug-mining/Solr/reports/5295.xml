<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 05:12:04 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-17711] IndexFetcher Incorrectly Timing Out</title>
                <link>https://issues.apache.org/jira/browse/SOLR-17711</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;During our rollout of 9.8 we discovered an interesting&lt;br/&gt;
behavior indirectly caused by the Http2SolrClient migration&lt;br/&gt;
of IndexFetcher:&lt;br/&gt;
&#160;&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/solr/commit/e62cb1b0066132347589b5e5ca38f38fd5e668d0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/solr/commit/e62cb1b0066132347589b5e5ca38f38fd5e668d0&lt;/a&gt;&lt;br/&gt;
&#160;&lt;br/&gt;
The change itself does not appear to be the problem, but&lt;br/&gt;
rather the default behavior of Http2SolrClient applying&lt;br/&gt;
the &lt;b&gt;idle&lt;/b&gt; timeout to the overall request time:&lt;br/&gt;
&#160;&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/solr/blob/2b8f933529fa736fe5fd2a9b0c751bedf352f0c7/solr/solrj/src/java/org/apache/solr/client/solrj/impl/Http2SolrClient.java#L625-L629&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/solr/blob/2b8f933529fa736fe5fd2a9b0c751bedf352f0c7/solr/solrj/src/java/org/apache/solr/client/solrj/impl/Http2SolrClient.java#L625-L629&lt;/a&gt;&lt;br/&gt;
&#160;&lt;br/&gt;
Apparently this choice of default has some history:&lt;br/&gt;
&#160;&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/solr/commit/a80eb84d5659a06a10860ad2470e87d80b19fa5d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/solr/commit/a80eb84d5659a06a10860ad2470e87d80b19fa5d&lt;/a&gt;&lt;br/&gt;
+&lt;br/&gt;
in its current form:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/solr/commit/d70af456058174d15a25d3c9b8cc5f7a8899b62b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/solr/commit/d70af456058174d15a25d3c9b8cc5f7a8899b62b&lt;/a&gt;&lt;br/&gt;
&#160;&lt;br/&gt;
At any rate, in most cases this goes unnoticed because the&lt;br/&gt;
default idle timeout is quite long (120 seconds) but can&lt;br/&gt;
cause problems when applied to something like IndexFetcher&lt;br/&gt;
which is probably &lt;b&gt;expected&lt;/b&gt; to have sometimes really long-lived,&lt;br/&gt;
healthy connections exceeding the 120s period. An &lt;b&gt;idle&lt;/b&gt;&lt;br/&gt;
timeout being applied to a long-lived, non-idle connection&lt;br/&gt;
doesn&apos;t seem quite right...&lt;br/&gt;
&#160;&lt;br/&gt;
We saw this during replication of a 5GB segment which, at&lt;br/&gt;
our bandwidth at the time, exceeded the 120 second time window&lt;br/&gt;
and caused the Cloud to get stuck in a replication loop.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13612546">SOLR-17711</key>
            <summary>IndexFetcher Incorrectly Timing Out</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="kotman12">Luke Kot-Zaniewski</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Thu, 20 Mar 2025 15:16:29 +0000</created>
                <updated>Mon, 29 Sep 2025 17:09:48 +0000</updated>
                            <resolved>Sun, 6 Jul 2025 14:51:02 +0000</resolved>
                                    <version>9.7</version>
                    <version>9.8</version>
                                    <fixVersion>9.9</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>9</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="4200">1h 10m</timespent>
                                <comments>
                            <comment id="17993099" author="jira-bot" created="Thu, 3 Jul 2025 14:37:06 +0000"  >&lt;p&gt;Commit cda6c8c9a8bdf3cfe22a36889f33d4194e7f700d in solr&apos;s branch refs/heads/main from Luke Kot-Zaniewski&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=cda6c8c9a8b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=cda6c8c9a8b&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-17711&quot; title=&quot;IndexFetcher Incorrectly Timing Out&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-17711&quot;&gt;&lt;del&gt;SOLR-17711&lt;/del&gt;&lt;/a&gt;: index fetcher shouldn&apos;t have a request timeout (#3356)&lt;/p&gt;

&lt;p&gt;This fixes a regression introduced with switching the SolrClient from Apache -&amp;gt; Jetty HttpClient&lt;/p&gt;</comment>
                            <comment id="18001238" author="jira-bot" created="Sun, 6 Jul 2025 14:50:17 +0000"  >&lt;p&gt;Commit 3bc7b35150574a572ca0bdceaaaf1bcf038d84de in solr&apos;s branch refs/heads/branch_9x from Luke Kot-Zaniewski&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=3bc7b351505&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=3bc7b351505&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-17711&quot; title=&quot;IndexFetcher Incorrectly Timing Out&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-17711&quot;&gt;&lt;del&gt;SOLR-17711&lt;/del&gt;&lt;/a&gt;: index fetcher shouldn&apos;t have a request timeout (#3356)&lt;/p&gt;

&lt;p&gt;This fixes a regression introduced with switching the SolrClient from Apache -&amp;gt; Jetty HttpClient&lt;/p&gt;

&lt;p&gt;(cherry picked from commit cda6c8c9a8bdf3cfe22a36889f33d4194e7f700d)&lt;/p&gt;</comment>
                            <comment id="18001239" author="dsmiley" created="Sun, 6 Jul 2025 14:51:02 +0000"  >&lt;p&gt;All merged.  Thanks for contributing Luke!&lt;/p&gt;</comment>
                            <comment id="18009760" author="houston" created="Thu, 24 Jul 2025 22:50:54 +0000"  >&lt;p&gt;Closing after the 9.9.0 release&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1uwc8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>