<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:32:46 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-4189] Fix hanging threads on FreeBSD in JettySolrRunner by making connector configureable through sysprop</title>
                <link>https://issues.apache.org/jira/browse/SOLR-4189</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;Currently on FreeBSD we run no Solr tests, because the SelectChannelConnector, recently used for Solr&apos;s JettySolrRunner seems to linger threads, which may be caused by the blackhole or more likely a JVM bug.&lt;/p&gt;

&lt;p&gt;This patch allows to configure the connector for the testMode Jetty in embedded Solr through a sysprop: &lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;ant test -Dtests.jettyConnector=Socket
ant test -Dtests.jettyConnector=SelectChannel
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The default is SelectChannel. On FreeBSD Jenkins I would pass this as property to ANT through Jenkins config (where currently the tests are disabled). On Maven this should also be possible (Steven?).&lt;/p&gt;

&lt;p&gt;The patch also binds the test-mode jetty to 127.0.0.1 to prevent windows firewall from popping up all the time, because Solr binds to internet. For tests, the emebedded Jetty should never run on all interfaces (0.0.0.0).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12624017">SOLR-4189</key>
            <summary>Fix hanging threads on FreeBSD in JettySolrRunner by making connector configureable through sysprop</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="uschindler">Uwe Schindler</assignee>
                                    <reporter username="uschindler">Uwe Schindler</reporter>
                        <labels>
                    </labels>
                <created>Fri, 14 Dec 2012 17:43:32 +0000</created>
                <updated>Mon, 9 May 2016 18:43:24 +0000</updated>
                            <resolved>Fri, 14 Dec 2012 22:22:06 +0000</resolved>
                                                    <fixVersion>4.1</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13532536" author="markrmiller@gmail.com" created="Fri, 14 Dec 2012 18:38:08 +0000"  >&lt;p&gt;+1!&lt;/p&gt;</comment>
                            <comment id="13532561" author="thetaphi" created="Fri, 14 Dec 2012 19:20:22 +0000"  >&lt;p&gt;I verified it on Apache&apos;s FreeBSD: The test lingers threads with &quot;SelectChannel&quot; (reproducible), but passes fine with &quot;Socket&quot;. I now have to find out how to configure M&#228;ven correctly.&lt;/p&gt;</comment>
                            <comment id="13532612" author="hossman" created="Fri, 14 Dec 2012 20:05:25 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13532678" author="steve_rowe" created="Fri, 14 Dec 2012 21:24:56 +0000"  >&lt;p&gt;Added maven cmdline &lt;tt&gt;tests.jettyConnector&lt;/tt&gt; sysprop passthrough to surefire for all Solr modules.&lt;/p&gt;</comment>
                            <comment id="13532694" author="thetaphi" created="Fri, 14 Dec 2012 21:42:06 +0000"  >&lt;p&gt;Thanks Steven, I folded that into the new patch. I also made the pass-through to the artifact:mvn ANT task working.&lt;/p&gt;

&lt;p&gt;Really cool is syspropertyset with a &amp;lt;propertyref builtin=&quot;commandline&quot;/&amp;gt;! We could also use this in the main test target to pass-through everything from commandline to the test JVMs...&lt;/p&gt;

&lt;p&gt;I will commit that a little bit later and reconfigure Jenkins to run all tests.&lt;/p&gt;</comment>
                            <comment id="13532725" author="thetaphi" created="Fri, 14 Dec 2012 22:22:06 +0000"  >&lt;p&gt;Committed trunk revision: 1422127, 4.x revision: 1422128&lt;/p&gt;

&lt;p&gt;I will now reconfigure ASF Jenkins. Thanks for help, Steven!&lt;/p&gt;</comment>
                            <comment id="13532726" author="commit-tag-bot" created="Fri, 14 Dec 2012 22:22:21 +0000"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;trunk commit&amp;#93;&lt;/span&gt; Uwe Schindler&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1422127&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1422127&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-4189&quot; title=&quot;Fix hanging threads on FreeBSD in JettySolrRunner by making connector configureable through sysprop&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-4189&quot;&gt;&lt;del&gt;SOLR-4189&lt;/del&gt;&lt;/a&gt;: Fix hanging threads on FreeBSD in JettySolrRunner by making connector configureable through sysprop, listen only on 127.0.0.1 in tests&lt;/p&gt;</comment>
                            <comment id="13532729" author="commit-tag-bot" created="Fri, 14 Dec 2012 22:26:09 +0000"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;branch_4x commit&amp;#93;&lt;/span&gt; Uwe Schindler&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1422128&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1422128&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Merged revision(s) 1422127 from lucene/dev/trunk:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-4189&quot; title=&quot;Fix hanging threads on FreeBSD in JettySolrRunner by making connector configureable through sysprop&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-4189&quot;&gt;&lt;del&gt;SOLR-4189&lt;/del&gt;&lt;/a&gt;: Fix hanging threads on FreeBSD in JettySolrRunner by making connector configureable through sysprop, listen only on 127.0.0.1 in tests&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12561036" name="SOLR-4189.patch" size="4039" author="uschindler" created="Fri, 14 Dec 2012 21:42:06 +0000"/>
                            <attachment id="12561031" name="SOLR-4189.patch" size="3131" author="sarowe" created="Fri, 14 Dec 2012 21:24:56 +0000"/>
                            <attachment id="12561003" name="SOLR-4189.patch" size="2331" author="uschindler" created="Fri, 14 Dec 2012 17:44:06 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>297918</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 49 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i14w93:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>236690</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>