<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:45:35 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-5644] SplitShard does not handle not finding a shard leader well.</title>
                <link>https://issues.apache.org/jira/browse/SOLR-5644</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;In OverseerCollectionProcessor:&lt;/p&gt;

&lt;p&gt;    // find the leader for the shard&lt;br/&gt;
    Replica parentShardLeader = clusterState.getLeader(collectionName, slice);&lt;/p&gt;

&lt;p&gt;This returns null if there is no current leader and the following code does not deal with that case and instead NPE&apos;s.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12689717">SOLR-5644</key>
            <summary>SplitShard does not handle not finding a shard leader well.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="shalin">Shalin Shekhar Mangar</assignee>
                                    <reporter username="markrmiller@gmail.com">Mark Miller</reporter>
                        <labels>
                    </labels>
                <created>Sun, 19 Jan 2014 17:15:55 +0000</created>
                <updated>Mon, 9 May 2016 18:45:05 +0000</updated>
                            <resolved>Fri, 7 Feb 2014 07:07:42 +0000</resolved>
                                                    <fixVersion>4.7</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                    <component>SolrCloud</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="13893964" author="anshumg" created="Thu, 6 Feb 2014 23:20:45 +0000"  >&lt;p&gt;A basic fix that retries for 10 seconds and throws an exception if it still doesn&apos;t have a leader.&lt;/p&gt;</comment>
                            <comment id="13893968" author="markrmiller@gmail.com" created="Thu, 6 Feb 2014 23:27:29 +0000"  >&lt;p&gt;I don&apos;t think that clusterstate object will ever be updated?&lt;/p&gt;

&lt;p&gt;What about changing the splitshard method to take zkstatereader and use zkstatereader#getleaderretry?&lt;/p&gt;</comment>
                            <comment id="13893990" author="anshumg" created="Thu, 6 Feb 2014 23:41:42 +0000"  >&lt;p&gt;My bad! Had that, removed that.&lt;/p&gt;

&lt;p&gt;Will just put up another patch.&lt;/p&gt;</comment>
                            <comment id="13894011" author="anshumg" created="Fri, 7 Feb 2014 00:01:35 +0000"  >&lt;p&gt;Using zkStateReader.getLeaderRetry(). This should get and use the updated clusterstate.&lt;/p&gt;

&lt;p&gt;Any suggestions on keeping a 10s timeout for getting a leader or reduce it to the default for getLeaderRetry()?&lt;/p&gt;</comment>
                            <comment id="13894014" author="markrmiller@gmail.com" created="Fri, 7 Feb 2014 00:05:04 +0000"  >&lt;p&gt;10 seems fine to me.&lt;/p&gt;</comment>
                            <comment id="13894250" author="jira-bot" created="Fri, 7 Feb 2014 07:03:24 +0000"  >&lt;p&gt;Commit 1565555 from shalin@apache.org in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1565555&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1565555&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5644&quot; title=&quot;SplitShard does not handle not finding a shard leader well.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5644&quot;&gt;&lt;del&gt;SOLR-5644&lt;/del&gt;&lt;/a&gt;: SplitShard does not handle not finding a shard leader well&lt;/p&gt;</comment>
                            <comment id="13894251" author="jira-bot" created="Fri, 7 Feb 2014 07:05:05 +0000"  >&lt;p&gt;Commit 1565556 from shalin@apache.org in branch &apos;dev/branches/branch_4x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1565556&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1565556&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5644&quot; title=&quot;SplitShard does not handle not finding a shard leader well.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5644&quot;&gt;&lt;del&gt;SOLR-5644&lt;/del&gt;&lt;/a&gt;: SplitShard does not handle not finding a shard leader well&lt;/p&gt;</comment>
                            <comment id="13894252" author="shalinmangar" created="Fri, 7 Feb 2014 07:07:42 +0000"  >&lt;p&gt;Thanks Mark and Anshum.&lt;/p&gt;

&lt;p&gt;The same getLeaderRetry should be used in migrate action as well. I&apos;ll open an issue and fix it.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12694169">SOLR-5710</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12627511" name="SOLR-5644.patch" size="1554" author="anshum" created="Fri, 7 Feb 2014 00:01:35 +0000"/>
                            <attachment id="12627499" name="SOLR-5644.patch" size="1807" author="anshum" created="Thu, 6 Feb 2014 23:20:45 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368684</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 41 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1rjof:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368988</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>