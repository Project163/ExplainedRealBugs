<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:10:34 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-7865] lookup method implemented in BlendedInfixLookupFactory does not respect suggest.count</title>
                <link>https://issues.apache.org/jira/browse/SOLR-7865</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;The following test failes in the TestBlendedInfixSuggestions.java:&lt;/p&gt;

&lt;p&gt;This is mainly because &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;num * numFactor&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt; get called multiple times from &lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/lucene-solr/blob/trunk/solr/core/src/java/org/apache/solr/spelling/suggest/fst/BlendedInfixLookupFactory.java#L118&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/lucene-solr/blob/trunk/solr/core/src/java/org/apache/solr/spelling/suggest/fst/BlendedInfixLookupFactory.java#L118&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The test is expecting count=1 but we get all 3 docs out.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testSuggestCount() {
    assertQ(req(&lt;span class=&quot;code-quote&quot;&gt;&quot;qt&quot;&lt;/span&gt;, URI, &lt;span class=&quot;code-quote&quot;&gt;&quot;q&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;the&quot;&lt;/span&gt;, SuggesterParams.SUGGEST_COUNT, &lt;span class=&quot;code-quote&quot;&gt;&quot;1&quot;&lt;/span&gt;, SuggesterParams.SUGGEST_DICT, &lt;span class=&quot;code-quote&quot;&gt;&quot;blended_infix_suggest_linear&quot;&lt;/span&gt;),
        &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-comment&quot;&gt;//lst[@name=&lt;span class=&quot;code-quote&quot;&gt;&apos;suggest&apos;&lt;/span&gt;]/lst[@name=&lt;span class=&quot;code-quote&quot;&gt;&apos;blended_infix_suggest_linear&apos;&lt;/span&gt;]/lst[@name=&lt;span class=&quot;code-quote&quot;&gt;&apos;the&apos;&lt;/span&gt;]/&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;[@name=&lt;span class=&quot;code-quote&quot;&gt;&apos;numFound&apos;&lt;/span&gt;][.=&lt;span class=&quot;code-quote&quot;&gt;&apos;1&apos;&lt;/span&gt;]&quot;&lt;/span&gt;
&lt;/span&gt;    );
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12851148">SOLR-7865</key>
            <summary>lookup method implemented in BlendedInfixLookupFactory does not respect suggest.count</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mikemccand">Michael McCandless</assignee>
                                    <reporter username="arcadius">Arcadius Ahouansou</reporter>
                        <labels>
                    </labels>
                <created>Mon, 3 Aug 2015 17:05:51 +0000</created>
                <updated>Mon, 9 May 2016 18:50:41 +0000</updated>
                            <resolved>Mon, 11 Jan 2016 14:35:04 +0000</resolved>
                                    <version>5.2.1</version>
                                    <fixVersion>5.4.1</fixVersion>
                    <fixVersion>5.5</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                    <component>Suggester</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="14652141" author="arcadius" created="Mon, 3 Aug 2015 17:22:28 +0000"  >&lt;p&gt;Seems to be introduced by &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-6004&quot; title=&quot;Highlighting AnalyzingInfixSuggester skips non-highlighted key&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LUCENE-6004&quot;&gt;&lt;del&gt;LUCENE-6004&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14653200" author="jmlucjav" created="Tue, 4 Aug 2015 07:29:22 +0000"  >&lt;p&gt;I already saw this in 5.2:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/lucene-solr-user/201506.mbox/%3CCAN4YXvfUQMMsSS=1w+dZpXskezwXfRgtCObrdKSOavjjYwAwCg@mail.gmail.com%3E&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://mail-archives.apache.org/mod_mbox/lucene-solr-user/201506.mbox/%3CCAN4YXvfUQMMsSS=1w+dZpXskezwXfRgtCObrdKSOavjjYwAwCg@mail.gmail.com%3E&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;but in the end did not have the time to dig deeper.&lt;/p&gt;</comment>
                            <comment id="15063789" author="arcadius" created="Fri, 18 Dec 2015 10:18:59 +0000"  >&lt;p&gt;&lt;tt&gt;num * numFactor&lt;/tt&gt; was being applied too many times in all &lt;tt&gt;loockup()&lt;/tt&gt; methods.&lt;br/&gt;
This operation needs to be applied only once i.e. in the common &lt;tt&gt;lookup()&lt;/tt&gt; called by all others.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mikemccand&quot; class=&quot;user-hover&quot; rel=&quot;mikemccand&quot;&gt;mikemccand&lt;/a&gt;, please help review this ...&lt;/p&gt;

&lt;p&gt;Thank you very much.&lt;/p&gt;</comment>
                            <comment id="15064223" author="mikemccand" created="Fri, 18 Dec 2015 17:08:37 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=arcadius&quot; class=&quot;user-hover&quot; rel=&quot;arcadius&quot;&gt;arcadius&lt;/a&gt;, your patch looks great!  I&apos;ll run tests and commit shortly...&lt;/p&gt;</comment>
                            <comment id="15064362" author="jira-bot" created="Fri, 18 Dec 2015 18:06:13 +0000"  >&lt;p&gt;Commit 1720831 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mikemccand&quot; class=&quot;user-hover&quot; rel=&quot;mikemccand&quot;&gt;mikemccand&lt;/a&gt; in branch &apos;dev/branches/branch_5x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1720831&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1720831&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7865&quot; title=&quot;lookup method implemented in BlendedInfixLookupFactory does not respect suggest.count&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7865&quot;&gt;&lt;del&gt;SOLR-7865&lt;/del&gt;&lt;/a&gt;: BlendedInfixSuggester was returning more results than requested&lt;/p&gt;</comment>
                            <comment id="15064368" author="jira-bot" created="Fri, 18 Dec 2015 18:07:18 +0000"  >&lt;p&gt;Commit 1720832 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mikemccand&quot; class=&quot;user-hover&quot; rel=&quot;mikemccand&quot;&gt;mikemccand&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1720832&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1720832&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7865&quot; title=&quot;lookup method implemented in BlendedInfixLookupFactory does not respect suggest.count&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7865&quot;&gt;&lt;del&gt;SOLR-7865&lt;/del&gt;&lt;/a&gt;: BlendedInfixSuggester was returning more results than requested&lt;/p&gt;</comment>
                            <comment id="15064864" author="arcadius" created="Fri, 18 Dec 2015 22:18:20 +0000"  >&lt;p&gt;Thank you very much &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mikemccand&quot; class=&quot;user-hover&quot; rel=&quot;mikemccand&quot;&gt;mikemccand&lt;/a&gt; for your valuable help!&lt;/p&gt;</comment>
                            <comment id="15080930" author="jira-bot" created="Mon, 4 Jan 2016 10:15:36 +0000"  >&lt;p&gt;Commit 1722823 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anshumg&quot; class=&quot;user-hover&quot; rel=&quot;anshumg&quot;&gt;anshumg&lt;/a&gt; in branch &apos;dev/branches/lucene_solr_5_3&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1722823&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1722823&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7865&quot; title=&quot;lookup method implemented in BlendedInfixLookupFactory does not respect suggest.count&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7865&quot;&gt;&lt;del&gt;SOLR-7865&lt;/del&gt;&lt;/a&gt;: BlendedInfixSuggester was returning too many results (merge from branch_5x for 5.3.2 release)&lt;/p&gt;</comment>
                            <comment id="15080932" author="jira-bot" created="Mon, 4 Jan 2016 10:17:09 +0000"  >&lt;p&gt;Commit 1722825 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anshumg&quot; class=&quot;user-hover&quot; rel=&quot;anshumg&quot;&gt;anshumg&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1722825&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1722825&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7865&quot; title=&quot;lookup method implemented in BlendedInfixLookupFactory does not respect suggest.count&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7865&quot;&gt;&lt;del&gt;SOLR-7865&lt;/del&gt;&lt;/a&gt;: Adding change log entry for 5.3.2 release&lt;/p&gt;</comment>
                            <comment id="15080934" author="jira-bot" created="Mon, 4 Jan 2016 10:18:37 +0000"  >&lt;p&gt;Commit 1722826 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anshumg&quot; class=&quot;user-hover&quot; rel=&quot;anshumg&quot;&gt;anshumg&lt;/a&gt; in branch &apos;dev/branches/branch_5x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1722826&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1722826&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7865&quot; title=&quot;lookup method implemented in BlendedInfixLookupFactory does not respect suggest.count&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7865&quot;&gt;&lt;del&gt;SOLR-7865&lt;/del&gt;&lt;/a&gt;: Adding change log entry for 5.3.2 release(merge from trunk)&lt;/p&gt;</comment>
                            <comment id="15091967" author="mikemccand" created="Mon, 11 Jan 2016 14:25:54 +0000"  >&lt;p&gt;I&apos;ll backport this to 5.4.1.&lt;/p&gt;</comment>
                            <comment id="15091984" author="jira-bot" created="Mon, 11 Jan 2016 14:34:38 +0000"  >&lt;p&gt;Commit 1724040 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mikemccand&quot; class=&quot;user-hover&quot; rel=&quot;mikemccand&quot;&gt;mikemccand&lt;/a&gt; in branch &apos;dev/branches/lucene_solr_5_4&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1724040&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1724040&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7865&quot; title=&quot;lookup method implemented in BlendedInfixLookupFactory does not respect suggest.count&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7865&quot;&gt;&lt;del&gt;SOLR-7865&lt;/del&gt;&lt;/a&gt;: BlendedInfixSuggester was returning more results than requested&lt;/p&gt;</comment>
                            <comment id="15092194" author="jira-bot" created="Mon, 11 Jan 2016 16:10:30 +0000"  >&lt;p&gt;Commit 1724072 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jpountz&quot; class=&quot;user-hover&quot; rel=&quot;jpountz&quot;&gt;jpountz&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1724072&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1724072&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7865&quot; title=&quot;lookup method implemented in BlendedInfixLookupFactory does not respect suggest.count&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7865&quot;&gt;&lt;del&gt;SOLR-7865&lt;/del&gt;&lt;/a&gt;: Move CHANGES entry to 5.4.1.&lt;/p&gt;</comment>
                            <comment id="15092196" author="jira-bot" created="Mon, 11 Jan 2016 16:12:10 +0000"  >&lt;p&gt;Commit 1724073 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jpountz&quot; class=&quot;user-hover&quot; rel=&quot;jpountz&quot;&gt;jpountz&lt;/a&gt; in branch &apos;dev/branches/branch_5x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1724073&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1724073&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7865&quot; title=&quot;lookup method implemented in BlendedInfixLookupFactory does not respect suggest.count&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7865&quot;&gt;&lt;del&gt;SOLR-7865&lt;/del&gt;&lt;/a&gt; : Move CHANGES entry to 5.4.1.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12747312">LUCENE-6004</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12778467" name="LUCENE_7865.patch" size="7318" author="arcadius" created="Fri, 18 Dec 2015 10:18:59 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 45 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2i9w7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>