<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:15:34 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-9002] New Admin UI&apos;s File screen cannot display JSON and TXT files</title>
                <link>https://issues.apache.org/jira/browse/SOLR-9002</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;Default cloud example. Looking at the &lt;b&gt;params.json&lt;/b&gt; file in the New Admin UI shows empty screen and an Angular stack trace in the console.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;&quot;Error: [$sce:itype] Attempted to trust a non-string value in a content requiring a string: Context: html
http://errors.angularjs.org/1.3.8/$sce/itype?p0=html
minErr/&amp;lt;@http://localhost:6001/solr/libs/angular.js:86:12
trustAs@http://localhost:6001/solr/libs/angular.js:15167:1
@http://localhost:6001/solr/libs/angular.js:15918:16
$parseFilter@http://localhost:6001/solr/libs/angular.js:12168:14
regularInterceptedExpression@http://localhost:6001/solr/libs/angular.js:12855:21
expressionInputsWatch@http://localhost:6001/solr/libs/angular.js:12783:24
$RootScopeProvider/this.$get&amp;lt;/Scope.prototype.$digest@http://localhost:6001/solr/libs/angular.js:14240:34
$RootScopeProvider/this.$get&amp;lt;/Scope.prototype.$apply@http://localhost:6001/solr/libs/angular.js:14511:13
timeout/timeoutId&amp;lt;@http://localhost:6001/solr/libs/angular.js:16237:25
completeOutstandingRequest@http://localhost:6001/solr/libs/angular.js:4925:7
Browser/self.defer/timeoutId&amp;lt;@http://localhost:6001/solr/libs/angular.js:5305:7
&quot;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The same functionality works in the old Admin UI.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12959342">SOLR-9002</key>
            <summary>New Admin UI&apos;s File screen cannot display JSON and TXT files</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="arafalov">Alexandre Rafalovitch</assignee>
                                    <reporter username="arafalov">Alexandre Rafalovitch</reporter>
                        <labels>
                    </labels>
                <created>Sat, 16 Apr 2016 01:55:43 +0000</created>
                <updated>Fri, 26 Aug 2016 13:59:28 +0000</updated>
                            <resolved>Sat, 13 Aug 2016 22:26:59 +0000</resolved>
                                    <version>6.0</version>
                                    <fixVersion>6.2</fixVersion>
                    <fixVersion>7.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="15246762" author="upayavira" created="Mon, 18 Apr 2016 23:22:10 +0000"  >&lt;p&gt;Where are you looking at the &quot;params.json&quot; file? I&apos;m not aware of such a file in Solr. Which tab are you using that throws the error?&lt;/p&gt;</comment>
                            <comment id="15247466" author="arafalov" created="Tue, 19 Apr 2016 10:06:00 +0000"  >&lt;p&gt;It is out of the box *bin/solr start -e cloud example&quot;.&lt;/p&gt;</comment>
                            <comment id="15247497" author="upayavira" created="Tue, 19 Apr 2016 10:20:57 +0000"  >&lt;p&gt;AngularJS by default detects JSON and parses it. Thus, anything else (XML/HTML/text/etc) would come through as a string, but JSON would be parsed into Javascript objects, causing this error.&lt;/p&gt;

&lt;p&gt;The attached patch prevents Angular&apos;s JSON parsing functionality, meaning JSON files are now displayed correctly in the Files tab.&lt;/p&gt;</comment>
                            <comment id="15257434" author="arafalov" created="Tue, 26 Apr 2016 02:13:09 +0000"  >&lt;p&gt;This works in my test. However, the JSON output is not highlighted like the other formats (e.g. XML) are. Interestingly, Cloud/Tree screen that looks directly into Zookeeper works fine and does do highlighting.&lt;/p&gt;</comment>
                            <comment id="15257844" author="upayavira" created="Tue, 26 Apr 2016 10:01:16 +0000"  >&lt;p&gt;Patch that fixes JSON syntax highlighting&lt;/p&gt;</comment>
                            <comment id="15257851" author="arafalov" created="Tue, 26 Apr 2016 10:16:29 +0000"  >&lt;p&gt;Highlight is working now, but the color scheme does not match either old format or the one in Zookeeper tree view. &lt;/p&gt;

&lt;p&gt;The issue seems the CSS class. The patch causes it to be &quot;language-javascript&quot;, where the other two examples use &quot;language-json&quot;.&lt;/p&gt;</comment>
                            <comment id="15257859" author="upayavira" created="Tue, 26 Apr 2016 10:23:30 +0000"  >&lt;p&gt;Better now?&lt;/p&gt;</comment>
                            <comment id="15257869" author="arafalov" created="Tue, 26 Apr 2016 10:30:01 +0000"  >&lt;p&gt;Uhm. The patch looks identical to the previous one.... Wrong export?&lt;/p&gt;</comment>
                            <comment id="15257871" author="upayavira" created="Tue, 26 Apr 2016 10:31:54 +0000"  >&lt;p&gt;Another try&lt;/p&gt;</comment>
                            <comment id="15257884" author="arafalov" created="Tue, 26 Apr 2016 10:41:46 +0000"  >&lt;p&gt;Looks great. Ready to go, I believe.&lt;/p&gt;</comment>
                            <comment id="15405671" author="githubbot" created="Wed, 3 Aug 2016 10:15:19 +0000"  >&lt;p&gt;GitHub user arafalov opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/lucene-solr/pull/60&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/lucene-solr/pull/60&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9002&quot; title=&quot;New Admin UI&amp;#39;s File screen cannot display JSON and TXT files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9002&quot;&gt;&lt;del&gt;SOLR-9002&lt;/del&gt;&lt;/a&gt;: Patch against latest master&lt;/p&gt;

&lt;p&gt;    Upayavira&apos;s patch applied (cleanly) against latest master and tested. It works correctly and does not seem to break other views.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/arafalov/lucene-solr-contributions&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/arafalov/lucene-solr-contributions&lt;/a&gt; alex-&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9002&quot; title=&quot;New Admin UI&amp;#39;s File screen cannot display JSON and TXT files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9002&quot;&gt;&lt;del&gt;SOLR-9002&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/lucene-solr/pull/60.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/lucene-solr/pull/60.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #60&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit b0b4052bb6d11ca5f4e2a91359a00dd61b3068a1&lt;br/&gt;
Author: Alexandre Rafalovitch &amp;lt;arafalov@gmail.com&amp;gt;&lt;br/&gt;
Date:   2016-08-03T09:06:18Z&lt;/p&gt;

&lt;p&gt;    Merge pull request #1 from apache/master&lt;/p&gt;

&lt;p&gt;    Update to latest Apache master&lt;/p&gt;

&lt;p&gt;commit 8397e0c8db7f91266477632f05d39749d2b209ff&lt;br/&gt;
Author: Alexandre Rafalovitch &amp;lt;arafalov@gmail.com&amp;gt;&lt;br/&gt;
Date:   2016-08-03T10:12:19Z&lt;/p&gt;

&lt;p&gt;    Upayavira&apos;s patch tested against latest master&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15420099" author="arafalov" created="Sat, 13 Aug 2016 22:00:52 +0000"  >&lt;p&gt;The &lt;b&gt;.txt&lt;/b&gt; files were also having an issue due to type mapping. Same outcome as in &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8379&quot; title=&quot;New admin UI, .txt files don&amp;#39;t show in RHS of Cloud/Tree screen&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-8379&quot;&gt;&lt;del&gt;SOLR-8379&lt;/del&gt;&lt;/a&gt;, but slightly different code path.&lt;/p&gt;</comment>
                            <comment id="15420102" author="jira-bot" created="Sat, 13 Aug 2016 22:04:59 +0000"  >&lt;p&gt;Commit 97dc5a2a0bd2a00e227cb7b6621f827f64b01457 in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=arafalov&quot; class=&quot;user-hover&quot; rel=&quot;arafalov&quot;&gt;arafalov&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=97dc5a2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=97dc5a2&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9002&quot; title=&quot;New Admin UI&amp;#39;s File screen cannot display JSON and TXT files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9002&quot;&gt;&lt;del&gt;SOLR-9002&lt;/del&gt;&lt;/a&gt;: Fix type mapping for JSON and text&lt;br/&gt;
This is for the Admin UI&apos;s collection/File screen&lt;/p&gt;</comment>
                            <comment id="15420107" author="jira-bot" created="Sat, 13 Aug 2016 22:24:16 +0000"  >&lt;p&gt;Commit 9275b417064435ef3dcf80300b631083f9fb7167 in lucene-solr&apos;s branch refs/heads/branch_6x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=arafalov&quot; class=&quot;user-hover&quot; rel=&quot;arafalov&quot;&gt;arafalov&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=9275b41&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=9275b41&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9002&quot; title=&quot;New Admin UI&amp;#39;s File screen cannot display JSON and TXT files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9002&quot;&gt;&lt;del&gt;SOLR-9002&lt;/del&gt;&lt;/a&gt;: Fix type mapping for JSON and text&lt;br/&gt;
This is for the Admin UI&apos;s collection/File screen&lt;/p&gt;</comment>
                            <comment id="15420108" author="githubbot" created="Sat, 13 Aug 2016 22:24:54 +0000"  >&lt;p&gt;Github user arafalov closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/lucene-solr/pull/60&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/lucene-solr/pull/60&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15438991" author="mikemccand" created="Fri, 26 Aug 2016 13:59:28 +0000"  >&lt;p&gt;Bulk close resolved issues after 6.2.0 release.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12800759" name="SOLR-9002.patch" size="1962" author="upayavira" created="Tue, 26 Apr 2016 10:31:54 +0000"/>
                            <attachment id="12800756" name="SOLR-9002.patch" size="1968" author="upayavira" created="Tue, 26 Apr 2016 10:23:30 +0000"/>
                            <attachment id="12800751" name="SOLR-9002.patch" size="1968" author="upayavira" created="Tue, 26 Apr 2016 10:01:16 +0000"/>
                            <attachment id="12799479" name="SOLR-9002.patch" size="484" author="upayavira" created="Tue, 19 Apr 2016 10:20:57 +0000"/>
                            <attachment id="12799470" name="json file blank screen.png" size="400139" author="arafalov" created="Tue, 19 Apr 2016 09:18:08 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 12 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2w7in:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>