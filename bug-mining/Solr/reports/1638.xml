<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:42:16 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-5499] Real-time /get handler is required when using Solr Cloud</title>
                <link>https://issues.apache.org/jira/browse/SOLR-5499</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;Noticed during some leadership election when we shutdown Solr nodes.  &lt;br/&gt;
Delving through the code it seems that PeerSync uses the /get handler (with some very ugly code explicitly creating an HTTP request by hand). If that isn&apos;t configured, then any election change will cause a full sync in ALL replicas for the shard in question.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2013-11-25 06:35:39,766 INFO [main-EventThread] o.a.s.c.SyncStrategy [SyncStrategy.java:94] Sync replicas to http://xxxxx:xxx/solr/xxxx_shard74_replica1/
2013-11-25 06:35:39,766 INFO [main-EventThread] o.a.s.u.PeerSync [PeerSync.java:186] PeerSync: core=xxx_shard74_replica1 u
rl=http://xxxxxxx:xxxxx/solr START replicas=[http://xxxxxxx:xxxx/solr/xxx_shard74_replica2/, http://xxxx:xxx/sol
r/xxx_shard74_replica3/] nUpdates=100
2013-11-25 06:35:39,768 WARN [main-EventThread] o.a.s.u.PeerSync [PeerSync.java:321] PeerSync: core=xxx_shard74_replica1 u
rl=http://xxx:xxx/solr  got a 404 from http://xxx:xxx/solr/xxx_shard74_replica2/, counting as success
2013-11-25 06:35:39,769 INFO [main-EventThread] o.a.s.u.PeerSync [PeerSync.java:273] PeerSync: core=xxx_shard74_replica1 u
rl=http://nsrchnj2:10650/solr DONE. sync succeeded
2013-11-25 06:35:39,769 INFO [main-EventThread] o.a.s.c.SyncStrategy [SyncStrategy.java:134] Sync Success - now sync replicas to me
2013-11-25 06:35:39,769 INFO [main-EventThread] o.a.s.c.SyncStrategy [SyncStrategy.java:191] http://xxx:xxx/solr/xxx_shard74_replica1/: try and ask http://xxx:xxx/solr/xxx_shard74_replica2/ to sync
2013-11-25 06:35:39,771 ERROR [main-EventThread] o.a.s.c.SyncStrategy [SolrException.java:129] Sync request error: org.apache.solr.client.
solrj.impl.HttpSolrServer$RemoteSolrException: Server at http://xxx:xxx/solr/xxx_shard74_replica3 returned non ok 
status:404, message:Not Found
2013-11-25 06:35:39,771 INFO [main-EventThread] o.a.s.c.SyncStrategy [SyncStrategy.java:211] http://xxx:xxx/solr/xxx_shard74_replica1/: Sync failed - asking replica (http://xxx:xxx/solr/xxx_shard74_replica2/) to recover.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The triggers here (for me) were the 404 response codes, but we should just make it clear in the docs that the /get handler is required and shouldn&apos;t be removed (if using Solr Cloud)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12681023">SOLR-5499</key>
            <summary>Real-time /get handler is required when using Solr Cloud</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="shalin">Shalin Shekhar Mangar</assignee>
                                    <reporter username="dancollins">Daniel Collins</reporter>
                        <labels>
                    </labels>
                <created>Mon, 25 Nov 2013 12:44:48 +0000</created>
                <updated>Mon, 9 May 2016 18:59:32 +0000</updated>
                            <resolved>Sun, 1 Dec 2013 04:47:14 +0000</resolved>
                                    <version>4.4</version>
                    <version>4.5</version>
                    <version>4.5.1</version>
                                    <fixVersion>4.7</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                    <component>documentation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="13831433" author="andyetitmoves" created="Mon, 25 Nov 2013 13:00:10 +0000"  >&lt;p&gt;There is a precedent in &lt;tt&gt;CoreAdminHandler&lt;/tt&gt; where the handler is registered in code rather than being left to configuration since it&apos;s needed by Solr cloud. Should the same be done for &lt;tt&gt;/get&lt;/tt&gt;? (well, technically it&apos;s not necessary still but it does have it&apos;s repercussions..)&lt;/p&gt;</comment>
                            <comment id="13832366" author="shalinmangar" created="Tue, 26 Nov 2013 06:52:01 +0000"  >&lt;p&gt;Log a warning if Solr is running in cloud mode and RealTimeGetComponent is not registered at /get.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;WARNING: RealTimeGetHandler is not registered at /get. SolrCloud will always use full index replication instead of the more efficient PeerSync method.&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="13832367" author="shalinmangar" created="Tue, 26 Nov 2013 07:01:06 +0000"  >&lt;p&gt;Added a hint in the PeerSync failure message logged on a 404 as well.&lt;/p&gt;</comment>
                            <comment id="13832368" author="jira-bot" created="Tue, 26 Nov 2013 07:02:18 +0000"  >&lt;p&gt;Commit 1545554 from shalin@apache.org in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1545554&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1545554&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5499&quot; title=&quot;Real-time /get handler is required when using Solr Cloud&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5499&quot;&gt;&lt;del&gt;SOLR-5499&lt;/del&gt;&lt;/a&gt;: Log a warning if /get is not registered when using SolrCloud&lt;/p&gt;</comment>
                            <comment id="13832369" author="jira-bot" created="Tue, 26 Nov 2013 07:04:19 +0000"  >&lt;p&gt;Commit 1545557 from shalin@apache.org in branch &apos;dev/branches/branch_4x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1545557&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1545557&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5499&quot; title=&quot;Real-time /get handler is required when using Solr Cloud&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5499&quot;&gt;&lt;del&gt;SOLR-5499&lt;/del&gt;&lt;/a&gt;: Log a warning if /get is not registered when using SolrCloud&lt;/p&gt;</comment>
                            <comment id="13835949" author="shalinmangar" created="Sun, 1 Dec 2013 04:38:46 +0000"  >&lt;p&gt;I added a note on the Realtime Get page on the Solr Reference Guide:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/pages/diffpages.action?pageId=32604273&amp;amp;originalId=34842575&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://cwiki.apache.org/confluence/pages/diffpages.action?pageId=32604273&amp;amp;originalId=34842575&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13835953" author="jira-bot" created="Sun, 1 Dec 2013 04:43:30 +0000"  >&lt;p&gt;Commit 1546776 from shalin@apache.org in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1546776&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1546776&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5499&quot; title=&quot;Real-time /get handler is required when using Solr Cloud&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5499&quot;&gt;&lt;del&gt;SOLR-5499&lt;/del&gt;&lt;/a&gt;: Added a warning note in example solrconfig.xml against removing realtime get handler&lt;/p&gt;</comment>
                            <comment id="13835954" author="jira-bot" created="Sun, 1 Dec 2013 04:44:44 +0000"  >&lt;p&gt;Commit 1546777 from shalin@apache.org in branch &apos;dev/branches/branch_4x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1546777&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1546777&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5499&quot; title=&quot;Real-time /get handler is required when using Solr Cloud&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5499&quot;&gt;&lt;del&gt;SOLR-5499&lt;/del&gt;&lt;/a&gt;: Added a warning note in example solrconfig.xml against removing realtime get handler&lt;/p&gt;</comment>
                            <comment id="13835955" author="shalinmangar" created="Sun, 1 Dec 2013 04:47:14 +0000"  >&lt;p&gt;Thanks Daniel!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12615799" name="SOLR-5499.patch" size="3382" author="shalin" created="Tue, 26 Nov 2013 07:01:06 +0000"/>
                            <attachment id="12615798" name="SOLR-5499.patch" size="1942" author="shalin" created="Tue, 26 Nov 2013 06:52:01 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>360288</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 51 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1q3xb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>360587</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>