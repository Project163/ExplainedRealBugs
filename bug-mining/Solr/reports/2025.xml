<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:55:13 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-6360] Unnecessary Content-Charset header in HttpSolrServer</title>
                <link>https://issues.apache.org/jira/browse/SOLR-6360</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;The httpclient code in HttpSolrServer currently sets a &quot;Content-Charset&quot; header when making a POST request:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;post.setHeader(&lt;span class=&quot;code-quote&quot;&gt;&quot;Content-Charset&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-8&quot;&lt;/span&gt;);&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;As far as I know this is not a real header and is not necessary. It seems this was a mistake in the original implementation of this class, when converting from httpclient v3 to httpclient v4. CommonsHttpSolrServer did this, which is what the line of code above seems to have been based on:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;post.getParams().setContentCharset(&lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-8&quot;&lt;/span&gt;);&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The actual way to set the charset in httpclient v4 is already being done correctly, with these lines:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;parts.add(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; FormBodyPart(p, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; StringBody(v, StandardCharsets.UTF_8)));
post.setEntity(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; UrlEncodedFormEntity(postParams, StandardCharsets.UTF_8));&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So basically, the Content-Charset line can just be removed.&lt;/p&gt;

&lt;p&gt;(I think the explicit setting of the Content-Type header also might be unnecessary, but I haven&apos;t taken the time to investigate that.)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12733150">SOLR-6360</key>
            <summary>Unnecessary Content-Charset header in HttpSolrServer</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="uschindler">Uwe Schindler</assignee>
                                    <reporter username="michaelryan">Michael Ryan</reporter>
                        <labels>
                    </labels>
                <created>Mon, 11 Aug 2014 02:08:06 +0000</created>
                <updated>Mon, 9 May 2016 18:53:46 +0000</updated>
                            <resolved>Mon, 11 Aug 2014 08:08:55 +0000</resolved>
                                    <version>3.6</version>
                    <version>4.9</version>
                                    <fixVersion>4.10</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                    <component>clients - java</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14092523" author="thetaphi" created="Mon, 11 Aug 2014 07:24:01 +0000"  >&lt;p&gt;Thanks for reporting this, &quot;Content-Charset&quot; is indeed totally bogus. I will remove the header.&lt;/p&gt;</comment>
                            <comment id="14092530" author="thetaphi" created="Mon, 11 Aug 2014 07:35:31 +0000"  >&lt;p&gt;Patch.&lt;/p&gt;</comment>
                            <comment id="14092551" author="jira-bot" created="Mon, 11 Aug 2014 08:07:28 +0000"  >&lt;p&gt;Commit 1617218 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thetaphi&quot; class=&quot;user-hover&quot; rel=&quot;thetaphi&quot;&gt;thetaphi&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1617218&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1617218&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6360&quot; title=&quot;Unnecessary Content-Charset header in HttpSolrServer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6360&quot;&gt;&lt;del&gt;SOLR-6360&lt;/del&gt;&lt;/a&gt;: Remove bogus &quot;Content-Charset&quot; header in HttpSolrServer&lt;/p&gt;</comment>
                            <comment id="14092552" author="jira-bot" created="Mon, 11 Aug 2014 08:08:50 +0000"  >&lt;p&gt;Commit 1617219 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thetaphi&quot; class=&quot;user-hover&quot; rel=&quot;thetaphi&quot;&gt;thetaphi&lt;/a&gt; in branch &apos;dev/branches/branch_4x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1617219&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1617219&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Merged revision(s) 1617218 from lucene/dev/trunk:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6360&quot; title=&quot;Unnecessary Content-Charset header in HttpSolrServer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6360&quot;&gt;&lt;del&gt;SOLR-6360&lt;/del&gt;&lt;/a&gt;: Remove bogus &quot;Content-Charset&quot; header in HttpSolrServer&lt;/p&gt;</comment>
                            <comment id="14092553" author="thetaphi" created="Mon, 11 Aug 2014 08:08:55 +0000"  >&lt;p&gt;Thanks. I just committed this. The header was totally unused and has no meaning in the HTTP spec. So it just wastes transfer bandwidth.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12470418">SOLR-2020</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12660944" name="SOLR-6360.patch" size="2119" author="uschindler" created="Mon, 11 Aug 2014 07:35:31 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>411178</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 15 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1yqnj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>411170</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>