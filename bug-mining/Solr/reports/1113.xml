<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:31:21 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-4088] ZkController baseURL only get the host name not address, will occur can&apos;t get the right URL to do recovery.   </title>
                <link>https://issues.apache.org/jira/browse/SOLR-4088</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;In the ZKController.getHostAddress, it gets host name. In the linux, get hostname from /etc/sysconfig/network or /etc/hostname that maybe not config for ip address.&lt;/p&gt;

&lt;p&gt;Other server can&apos;t access it(&lt;a href=&quot;http://hostname:port/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://hostname:port/&lt;/a&gt;..) correctly that cause recovery fail.&lt;/p&gt;





</description>
                <environment>&lt;p&gt;Linux env&lt;/p&gt;</environment>
        <key id="12616359">SOLR-4088</key>
            <summary>ZkController baseURL only get the host name not address, will occur can&apos;t get the right URL to do recovery.   </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="markrmiller@gmail.com">Mark Miller</assignee>
                                    <reporter username="raintung.li">Raintung Li</reporter>
                        <labels>
                    </labels>
                <created>Fri, 16 Nov 2012 06:46:13 +0000</created>
                <updated>Mon, 9 May 2016 18:45:33 +0000</updated>
                            <resolved>Wed, 26 Dec 2012 19:59:00 +0000</resolved>
                                    <version>4.0-ALPHA</version>
                    <version>4.0-BETA</version>
                    <version>4.0</version>
                                    <fixVersion>4.1</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                    <component>SolrCloud</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="13498646" author="raintung.li" created="Fri, 16 Nov 2012 07:11:53 +0000"  >&lt;p&gt;change host name to host address&lt;/p&gt;</comment>
                            <comment id="13500706" author="commit-tag-bot" created="Mon, 19 Nov 2012 22:45:06 +0000"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;trunk commit&amp;#93;&lt;/span&gt; Mark Robert Miller&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1411466&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1411466&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-4088&quot; title=&quot;ZkController baseURL only get the host name not address, will occur can&amp;#39;t get the right URL to do recovery.   &quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-4088&quot;&gt;&lt;del&gt;SOLR-4088&lt;/del&gt;&lt;/a&gt;: New and improved auto host detection strategy for SolrCloud.&lt;/p&gt;
</comment>
                            <comment id="13500707" author="commit-tag-bot" created="Mon, 19 Nov 2012 22:46:19 +0000"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;branch_4x commit&amp;#93;&lt;/span&gt; Mark Robert Miller&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1411467&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1411467&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-4088&quot; title=&quot;ZkController baseURL only get the host name not address, will occur can&amp;#39;t get the right URL to do recovery.   &quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-4088&quot;&gt;&lt;del&gt;SOLR-4088&lt;/del&gt;&lt;/a&gt;: New and improved auto host detection strategy for SolrCloud.&lt;/p&gt;
</comment>
                            <comment id="13500708" author="markrmiller@gmail.com" created="Mon, 19 Nov 2012 22:46:53 +0000"  >&lt;p&gt;Thanks Raintung!&lt;/p&gt;</comment>
                            <comment id="13500724" author="commit-tag-bot" created="Mon, 19 Nov 2012 23:18:27 +0000"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;branch_4x commit&amp;#93;&lt;/span&gt; Mark Robert Miller&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1411473&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1411473&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-4088&quot; title=&quot;ZkController baseURL only get the host name not address, will occur can&amp;#39;t get the right URL to do recovery.   &quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-4088&quot;&gt;&lt;del&gt;SOLR-4088&lt;/del&gt;&lt;/a&gt;: Format code and remove tabs&lt;/p&gt;
</comment>
                            <comment id="13500725" author="commit-tag-bot" created="Mon, 19 Nov 2012 23:18:28 +0000"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;trunk commit&amp;#93;&lt;/span&gt; Mark Robert Miller&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1411471&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1411471&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-4088&quot; title=&quot;ZkController baseURL only get the host name not address, will occur can&amp;#39;t get the right URL to do recovery.   &quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-4088&quot;&gt;&lt;del&gt;SOLR-4088&lt;/del&gt;&lt;/a&gt;: Format code and remove tabs&lt;/p&gt;
</comment>
                            <comment id="13539582" author="markrmiller@gmail.com" created="Wed, 26 Dec 2012 16:19:29 +0000"  >&lt;p&gt;Robert just mentioned to me that this can cause a problem in tests - sometimes a host cannot be found depending on your network connectivity and setup.&lt;/p&gt;

&lt;p&gt;Makes this kind of difficult to test...but most tests could go to something else - we could explicitly set the host to 127.0...or we could fail back to the previous detection method if this new one fails? Or we could do both.&lt;/p&gt;

&lt;p&gt;I&apos;m not sure what we should do to test this specific detection method though.&lt;/p&gt;</comment>
                            <comment id="13539583" author="rcmuir" created="Wed, 26 Dec 2012 16:26:53 +0000"  >&lt;p&gt;I hit this when running tests:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[junit4:junit4]    &amp;gt; Caused by: java.net.UnknownHostException: xxx.yyy.zzz: xxx.yyy.zzz: nodename nor servname provided, or not known
[junit4:junit4]    &amp;gt; 	at java.net.InetAddress.getLocalHost(InetAddress.java:1438)
[junit4:junit4]    &amp;gt; 	at org.apache.solr.cloud.ZkController.getHostAddress(ZkController.java:375)
[junit4:junit4]    &amp;gt; 	at org.apache.solr.cloud.ZkController.&amp;lt;init&amp;gt;(ZkController.java:157)
[junit4:junit4]    &amp;gt; 	at org.apache.solr.core.CoreContainer.initZooKeeper(CoreContainer.java:254)
[junit4:junit4]    &amp;gt; 	... 44 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13539595" author="rcmuir" created="Wed, 26 Dec 2012 16:46:29 +0000"  >&lt;p&gt;Here&apos;s the patch i&apos;m testing locally.&lt;/p&gt;

&lt;p&gt;The problem is when the host is configured as null, there are heuristics to guess how the host should be advertised.&lt;/p&gt;

&lt;p&gt;basically the patch just handles the situation where the first heuristical method (resolving the hostname from the system) fails, which can happen, e.g. if DNS is not functioning.&lt;/p&gt;

&lt;p&gt;In this case we just fall through to the logic below, of iterating interfaces.&lt;/p&gt;</comment>
                            <comment id="13539625" author="commit-tag-bot" created="Wed, 26 Dec 2012 18:12:21 +0000"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;branch_4x commit&amp;#93;&lt;/span&gt; Robert Muir&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1425972&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1425972&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-4088&quot; title=&quot;ZkController baseURL only get the host name not address, will occur can&amp;#39;t get the right URL to do recovery.   &quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-4088&quot;&gt;&lt;del&gt;SOLR-4088&lt;/del&gt;&lt;/a&gt;: when host is null, fall back to interface iteration (heuristic 2) if resolving the system hostname (heuristic 1) fails&lt;/p&gt;</comment>
                            <comment id="13539626" author="commit-tag-bot" created="Wed, 26 Dec 2012 18:12:22 +0000"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;trunk commit&amp;#93;&lt;/span&gt; Robert Muir&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1425971&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1425971&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-4088&quot; title=&quot;ZkController baseURL only get the host name not address, will occur can&amp;#39;t get the right URL to do recovery.   &quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-4088&quot;&gt;&lt;del&gt;SOLR-4088&lt;/del&gt;&lt;/a&gt;: when host is null, fall back to interface iteration (heuristic 2) if resolving the system hostname (heuristic 1) fails&lt;/p&gt;</comment>
                            <comment id="13539664" author="markrmiller@gmail.com" created="Wed, 26 Dec 2012 19:59:00 +0000"  >&lt;p&gt;Thanks for the fix!&lt;/p&gt;</comment>
                            <comment id="13610534" author="commit-tag-bot" created="Fri, 22 Mar 2013 16:16:01 +0000"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;branch_4x commit&amp;#93;&lt;/span&gt; Mark Robert Miller&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1411473&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1411473&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-4088&quot; title=&quot;ZkController baseURL only get the host name not address, will occur can&amp;#39;t get the right URL to do recovery.   &quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-4088&quot;&gt;&lt;del&gt;SOLR-4088&lt;/del&gt;&lt;/a&gt;: Format code and remove tabs&lt;/p&gt;</comment>
                            <comment id="13610535" author="commit-tag-bot" created="Fri, 22 Mar 2013 16:16:04 +0000"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;branch_4x commit&amp;#93;&lt;/span&gt; Mark Robert Miller&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1411467&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1411467&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-4088&quot; title=&quot;ZkController baseURL only get the host name not address, will occur can&amp;#39;t get the right URL to do recovery.   &quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-4088&quot;&gt;&lt;del&gt;SOLR-4088&lt;/del&gt;&lt;/a&gt;: New and improved auto host detection strategy for SolrCloud.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12562388" name="SOLR-4088_unknown_host.patch" size="1117" author="rcmuir" created="Wed, 26 Dec 2012 16:46:29 +0000"/>
                            <attachment id="12553747" name="patch-4088.txt" size="1945" author="raintung.li" created="Fri, 16 Nov 2012 07:11:53 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>258126</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 35 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0kn33:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118557</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>