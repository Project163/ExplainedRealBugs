<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:42:52 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-14158] package manager to read keys from packagestore and not ZK </title>
                <link>https://issues.apache.org/jira/browse/SOLR-14158</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;The security of the package system relies on securing ZK. It&apos;s much easier for users to secure the file system than securing ZK.&lt;/p&gt;

&lt;p&gt;We provide an option to read public keys from file store.&#160; &lt;/p&gt;


&lt;p&gt;This will&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Have a special directory called &lt;tt&gt;&lt;em&gt;trusted&lt;/em&gt;&lt;/tt&gt; . Direct writes are forbidden to that directory over http&lt;/li&gt;
	&lt;li&gt;The CLI directly writes to the keys to &lt;tt&gt;&amp;lt;SOLR_HOME&amp;gt;/filestore/&lt;em&gt;trusted&lt;/em&gt;/keys/&lt;/tt&gt; directory. Other nodes are asked to fetch the public key files from that node&lt;/li&gt;
	&lt;li&gt;Package artifacts will continue to be uploaded over http&lt;/li&gt;
&lt;/ul&gt;

</description>
                <environment></environment>
        <key id="13277256">SOLR-14158</key>
            <summary>package manager to read keys from packagestore and not ZK </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="noble.paul">Noble Paul</assignee>
                                    <reporter username="noble.paul">Noble Paul</reporter>
                        <labels>
                            <label>packagemanager</label>
                    </labels>
                <created>Thu, 2 Jan 2020 18:59:37 +0000</created>
                <updated>Wed, 22 Jan 2020 06:08:16 +0000</updated>
                            <resolved>Tue, 21 Jan 2020 16:02:17 +0000</resolved>
                                    <version>8.4</version>
                                    <fixVersion>8.4.1</fixVersion>
                                    <component>packages</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="3600">1h</timespent>
                                <comments>
                            <comment id="17007103" author="dsmiley" created="Thu, 2 Jan 2020 21:57:47 +0000"  >&lt;p&gt;Ideally abstractions are in place that allow both.&#160; I&apos;m not sure we should be forcing people to use the File Store &lt;em&gt;yet&lt;/em&gt;.&#160; It&apos;s very new.&lt;/p&gt;</comment>
                            <comment id="17007148" author="noble.paul" created="Fri, 3 Jan 2020 00:45:14 +0000"  >&lt;p&gt;Sorry, this was supposed to be an opt-in feature. We are not eliminating the ZK option. In fact, this will be an alternate&lt;/p&gt;</comment>
                            <comment id="17007910" author="ichattopadhyaya" created="Sat, 4 Jan 2020 04:21:17 +0000"  >&lt;p&gt;I think this option should be the default. Also, I think we should remove the ZK keys option as it is not secure and supporting it (even with a flag) might lead to confusion for the user.&lt;/p&gt;</comment>
                            <comment id="17008467" author="noble.paul" created="Mon, 6 Jan 2020 00:56:56 +0000"  >&lt;p&gt;I agree with you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ichattopadhyaya&quot; class=&quot;user-hover&quot; rel=&quot;ichattopadhyaya&quot;&gt;ichattopadhyaya&lt;/a&gt;. Storing keys in ZK makes this feature vulnerable. &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;People do not know how to secure their ZK properly. However, most ops people know how to secure their file system.&lt;/li&gt;
	&lt;li&gt;Any security vulnerability in ZK in the future will result in Solr being vulnerable as well. At that point, our only choice will be to totally disable this feature. We cannot make Solr rely on the security of some other system&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17008755" author="janhoy" created="Mon, 6 Jan 2020 11:43:22 +0000"  >&lt;p&gt;This should go in 8.5 and not be a blocker. It has ALWAYS been the case that a production Solr cluster needs a secure Zookeeper one way or another. Nothing has changed here.&lt;/p&gt;</comment>
                            <comment id="17008760" author="noble.paul" created="Mon, 6 Jan 2020 11:46:53 +0000"  >&lt;p&gt;The problem is anyone who uses this new feature will have a backward incompatible system that&apos;s insecure by nature.&lt;br/&gt;
The threat levels are much higher in this case. An attacker can run malicious code if ZK is compromised. We should not leave this hole open&lt;/p&gt;</comment>
                            <comment id="17008846" author="dsmiley" created="Mon, 6 Jan 2020 13:36:24 +0000"  >&lt;p&gt;This is perhaps a bigger issue that needs discussion on the dev list.  It gets at Solr&apos;s security posture and what assumptions we have about securing Solr.  I&apos;m not for or against what&apos;s happening in the issue; I just want more eye-balls on it.&lt;/p&gt;</comment>
                            <comment id="17010679" author="ichattopadhyaya" created="Wed, 8 Jan 2020 13:37:44 +0000"  >&lt;p&gt;I&apos;m planning to merge this soon. Please let me know if someone has any objections.&lt;/p&gt;</comment>
                            <comment id="17012452" author="jira-bot" created="Fri, 10 Jan 2020 04:56:05 +0000"  >&lt;p&gt;Commit 6fb085943c6e9c6f82db67c6ccfe641e64e1899e in lucene-solr&apos;s branch refs/heads/master from Ishan Chattopadhyaya&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=6fb0859&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=6fb0859&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-14158&quot; title=&quot;package manager to read keys from packagestore and not ZK &quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-14158&quot;&gt;&lt;del&gt;SOLR-14158&lt;/del&gt;&lt;/a&gt;: Package manager to read keys from package store, not ZK&lt;/p&gt;</comment>
                            <comment id="17012455" author="jira-bot" created="Fri, 10 Jan 2020 05:04:28 +0000"  >&lt;p&gt;Commit f701ffd8cfe32253b0431b2ae6b4c6c94a07450b in lucene-solr&apos;s branch refs/heads/branch_8x from Ishan Chattopadhyaya&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=f701ffd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=f701ffd&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-14158&quot; title=&quot;package manager to read keys from packagestore and not ZK &quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-14158&quot;&gt;&lt;del&gt;SOLR-14158&lt;/del&gt;&lt;/a&gt;: Package manager to read keys from package store, not ZK&lt;/p&gt;</comment>
                            <comment id="17012461" author="jira-bot" created="Fri, 10 Jan 2020 05:16:33 +0000"  >&lt;p&gt;Commit 832bf13dd9187095831caf69783179d41059d013 in lucene-solr&apos;s branch refs/heads/branch_8_4 from Ishan Chattopadhyaya&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=832bf13&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=832bf13&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-14158&quot; title=&quot;package manager to read keys from packagestore and not ZK &quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-14158&quot;&gt;&lt;del&gt;SOLR-14158&lt;/del&gt;&lt;/a&gt;: Package manager to read keys from package store, not ZK&lt;/p&gt;</comment>
                            <comment id="17012773" author="jira-bot" created="Fri, 10 Jan 2020 12:00:51 +0000"  >&lt;p&gt;Commit 6fb085943c6e9c6f82db67c6ccfe641e64e1899e in lucene-solr&apos;s branch refs/heads/gradle-master from Ishan Chattopadhyaya&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=6fb0859&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=6fb0859&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-14158&quot; title=&quot;package manager to read keys from packagestore and not ZK &quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-14158&quot;&gt;&lt;del&gt;SOLR-14158&lt;/del&gt;&lt;/a&gt;: Package manager to read keys from package store, not ZK&lt;/p&gt;</comment>
                            <comment id="17020325" author="ctargett" created="Tue, 21 Jan 2020 15:57:27 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ichattopadhyaya&quot; class=&quot;user-hover&quot; rel=&quot;ichattopadhyaya&quot;&gt;ichattopadhyaya&lt;/a&gt; - can this be resolved? The issue is mentioned in CHANGES.txt for 8.4.1 so seems finished?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 43 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0a588:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>