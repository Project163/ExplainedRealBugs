<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:50:04 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-16054] Environment banner not working if environment is not dev or prod</title>
                <link>https://issues.apache.org/jira/browse/SOLR-16054</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;When using the new system property to display a environment banner in Solr UI, I cannot make it work.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;First attempt with `-Dsolr.environment=unknown,color=red` gives the following error message on the UI: &quot;Bad environment pattern: unknown,color=red&quot;.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Second attempt with just `-Dsolr.environment=unknown` gives no error but no banner appear nowhere.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Third attempt using &quot;dev&quot; or &quot;prod&quot; do work. Thus I&apos;m guessing there is a list of allowed values?&lt;/p&gt;

&lt;p&gt;I believe any value should be accepted as orgs can have various name for their environment, especially with ephemeral environment.&lt;/p&gt;

&lt;p&gt;Or at least the documentation should mention the list of allowed values.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13430396">SOLR-16054</key>
            <summary>Environment banner not working if environment is not dev or prod</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="janhoy">Jan H&#248;ydahl</assignee>
                                    <reporter username="gjourdan">Ga&#235;l Jourdan</reporter>
                        <labels>
                    </labels>
                <created>Thu, 24 Feb 2022 10:06:12 +0000</created>
                <updated>Thu, 12 May 2022 00:35:24 +0000</updated>
                            <resolved>Thu, 3 Mar 2022 10:39:40 +0000</resolved>
                                    <version>8.11.1</version>
                                    <fixVersion>9.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="17497357" author="janhoy" created="Thu, 24 Feb 2022 12:03:20 +0000"  >&lt;p&gt;Closing as invalid.&lt;/p&gt;

&lt;p&gt;Please ask questions in the &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;mailto:users@solr.apache.org&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;users@solr.apache.org&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/mail_small.gif&quot; height=&quot;12&quot; width=&quot;13&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; mailing list.&lt;/p&gt;

&lt;p&gt;Documentation is here &lt;a href=&quot;https://solr.apache.org/guide/8_11/taking-solr-to-production.html#environment-banner-in-admin-ui&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://solr.apache.org/guide/8_11/taking-solr-to-production.html#environment-banner-in-admin-ui&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;You can use &apos;dev&apos;, &apos;test&apos; or &apos;stage&apos; or &apos;prod&apos;.&lt;/p&gt;

&lt;p&gt;The regex pattern is &lt;tt&gt;&quot;^(prod|stage|test|dev)(,label=(&lt;a href=&quot;file://w//d+ _-&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;\\w\\d+ _-&lt;/a&gt;&lt;ins&gt;))?(,color=(&lt;a href=&quot;#\w\d&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;\\w\\d&lt;/a&gt;&lt;/ins&gt;))?&quot;&lt;/tt&gt;. Example&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
-Dsolr.environment=prod,label=ProdA,color=orange&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17497364" author="janhoy" created="Thu, 24 Feb 2022 12:24:50 +0000"  >&lt;p&gt;I&apos;m reopening to improve the documentation slightly. See PR &lt;a href=&quot;https://github.com/apache/solr/pull/701&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/solr/pull/701&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17497368" author="gjourdan" created="Thu, 24 Feb 2022 12:37:09 +0000"  >&lt;p&gt;Thanks for the very quick feedback.&lt;/p&gt;</comment>
                            <comment id="17497379" author="epugh" created="Thu, 24 Feb 2022 12:57:38 +0000"  >&lt;p&gt;The documentation looks better, but I&apos;m wondering if it really makes sense to limit the four choices?   Especially since you can basically pick any of them, but remap them using the label to say whaterver?    &lt;/p&gt;

&lt;p&gt;One client I work with has &quot;candidate, stage, prod&quot; for example.    Another has &quot;area51, dev, staging, production&quot; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;What does the regex limitation give us?  &lt;/p&gt;

&lt;p&gt;I checked how Rails handles having preset environments, and it ships with default configurations per environment set up in files like &quot;development.yml, test.yml, production.yml&quot;, but nothing prevents you from defining your own environments, like &quot;staging.yml&quot;.    I wonder if we should be bending our thinking towards &quot;here are the presets for Solr for environments, but nothing prevents you from making your own&quot;?   &lt;/p&gt;</comment>
                            <comment id="17497386" author="gjourdan" created="Thu, 24 Feb 2022 13:07:38 +0000"  >&lt;p&gt;I tend to agree with &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=epugh&quot; class=&quot;user-hover&quot; rel=&quot;epugh&quot;&gt;epugh&lt;/a&gt;: as a user I don&apos;t really see any benefit of having this distinction between the env presets and the free labels.&lt;/p&gt;</comment>
                            <comment id="17497466" author="janhoy" created="Thu, 24 Feb 2022 15:15:40 +0000"  >&lt;p&gt;It is basically free form, but it is far simpler for 80% of users to type one of the four and nothing more, and you get red/orange/yellow/green ootb.&lt;/p&gt;

&lt;p&gt;The code &quot;prod&quot; os a controlled key. It is not displayed anywhere, so you can achieve all you want with e.g.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
-Dsolr.environment=stage,label=Candidate
-Dsolr.environment=prod,label=Area51&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Keeping the keys controlled allows us to use this feature as a foundation for other features, as proposed by &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dsmiley&quot; class=&quot;user-hover&quot; rel=&quot;dsmiley&quot;&gt;dsmiley&lt;/a&gt; , e.g.:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Mode&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Authentication&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;ulimit checks&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;network binding&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;SSL&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;dev&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;No check&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;No&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;All interfaces&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Auto-generate self signed&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;test&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Complain if not configured&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Yes, warn&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;All interfaces&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Auto-generate self signed&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;stage&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Refuse to start if not configured&lt;br/&gt;
Override with -Dsolr.security.insecure=true&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Yes, enforce&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;127.0.0.1 by default&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Complain if SSL not enabled&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;prod&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Refuse to start if not configured&lt;br/&gt;
Override with -Dsolr.security.insecure=true&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Yes, enforce&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;127.0.0.1 by default&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Complain if SSL not enabled&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;Then &quot;dev&quot; could be the default, and it would print in logs &quot;Running in development mode, please specify solr.environment property when going to production&quot;&lt;/p&gt;</comment>
                            <comment id="17500637" author="jira-bot" created="Thu, 3 Mar 2022 10:30:41 +0000"  >&lt;p&gt;Commit 0cf21d2fe5762517821cd29d649a0584b75c5b1b in solr&apos;s branch refs/heads/main from Jan H&#248;ydahl&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=0cf21d2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=0cf21d2&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16054&quot; title=&quot;Environment banner not working if environment is not dev or prod&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16054&quot;&gt;&lt;del&gt;SOLR-16054&lt;/del&gt;&lt;/a&gt;: Better documentation of solr.environment property (#701)&lt;/p&gt;
</comment>
                            <comment id="17500648" author="jira-bot" created="Thu, 3 Mar 2022 10:39:09 +0000"  >&lt;p&gt;Commit b3d7c00bbb53a5828449b3ae3a3a055af08c8c14 in solr&apos;s branch refs/heads/branch_9x from Jan H&#248;ydahl&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=b3d7c00&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=b3d7c00&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16054&quot; title=&quot;Environment banner not working if environment is not dev or prod&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16054&quot;&gt;&lt;del&gt;SOLR-16054&lt;/del&gt;&lt;/a&gt;: Better documentation of solr.environment property (#701)&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 0cf21d2fe5762517821cd29d649a0584b75c5b1b)&lt;/p&gt;</comment>
                            <comment id="17500649" author="jira-bot" created="Thu, 3 Mar 2022 10:39:24 +0000"  >&lt;p&gt;Commit 5088b76ccff61768ee58b7b3e9427d34b4a2f186 in solr&apos;s branch refs/heads/branch_9_0 from Jan H&#248;ydahl&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=5088b76&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=5088b76&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16054&quot; title=&quot;Environment banner not working if environment is not dev or prod&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16054&quot;&gt;&lt;del&gt;SOLR-16054&lt;/del&gt;&lt;/a&gt;: Better documentation of solr.environment property (#701)&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 0cf21d2fe5762517821cd29d649a0584b75c5b1b)&lt;/p&gt;</comment>
                            <comment id="17535320" author="janhoy" created="Thu, 12 May 2022 00:26:16 +0000"  >&lt;p&gt;Closing after the 9.0.0 release&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 26 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0zwiw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>