<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:32:20 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-11724] Cdcr Bootstrapping does not cause &quot;index copying&quot; to follower nodes on Target</title>
                <link>https://issues.apache.org/jira/browse/SOLR-11724</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;Please find the discussion on:&lt;br/&gt;
&lt;a href=&quot;http://lucene.472066.n3.nabble.com/Issue-with-CDCR-bootstrapping-in-Solr-7-1-td4365258.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://lucene.472066.n3.nabble.com/Issue-with-CDCR-bootstrapping-in-Solr-7-1-td4365258.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;If we index significant documents in to Source, stop indexing and then start CDCR; bootstrapping only copies the index to leader node of shards of the collection, and followers never receive the documents / index until and unless atleast one document is inserted again on source; which propels to target and target collection trigger index replication to followers.&lt;/p&gt;

&lt;p&gt;This behavior needs to be addressed in proper manner, either at target collection or while bootstrapping.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13122821">SOLR-11724</key>
            <summary>Cdcr Bootstrapping does not cause &quot;index copying&quot; to follower nodes on Target</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="varun">Varun Thacker</assignee>
                                    <reporter username="sarkaramrit2@gmail.com">Amrit Sarkar</reporter>
                        <labels>
                    </labels>
                <created>Tue, 5 Dec 2017 10:12:43 +0000</created>
                <updated>Wed, 2 Oct 2019 17:24:27 +0000</updated>
                            <resolved>Wed, 25 Apr 2018 05:44:19 +0000</resolved>
                                                    <fixVersion>7.3.1</fixVersion>
                    <fixVersion>7.4</fixVersion>
                                    <component>CDCR</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>11</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="2400">40m</timespent>
                                <comments>
                            <comment id="16278527" author="sarkaramrit2@gmail.com" created="Tue, 5 Dec 2017 13:23:45 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=shalin&quot; class=&quot;user-hover&quot; rel=&quot;shalin&quot;&gt;shalin&lt;/a&gt; wanted to check with you whether this is the intended behavior.&lt;/p&gt;</comment>
                            <comment id="16312939" author="sarkaramrit2@gmail.com" created="Fri, 5 Jan 2018 10:54:36 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=shalin&quot; class=&quot;user-hover&quot; rel=&quot;shalin&quot;&gt;shalin&lt;/a&gt;: checking in again to understand if the above is intended behavior and we can trigger Index Replication by follower nodes in Target collection once BS is done.&lt;/p&gt;</comment>
                            <comment id="16348409" author="sarkaramrit2@gmail.com" created="Thu, 1 Feb 2018 11:07:42 +0000"  >&lt;p&gt;Attached patch replicating the issue on Bootstrap stated above. To trigger the index replication in followers, can we initial LIR manually? Requesting thoughts and feedback on solution design.&lt;/p&gt;</comment>
                            <comment id="16348769" author="webhomer" created="Thu, 1 Feb 2018 15:40:55 +0000"  >&lt;p&gt;We are seeing this behavior in 7.2.0. Sometimes the data shows up in a search, but when I look there are no index segments. It appears to be searching just tlogs.&#160;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;This looks like a critical issue to me.&#160;&lt;/p&gt;

&lt;p&gt;We observed the same behavior when we deleted all the data from a collection. On;y tlogs show up and only half are searchable.&#160; The configuration worked with Solr 6.1 but doesn&apos;t with Solr 7.2. We don&apos;t see any errors. We see logs of calls to /cdcr LASTPROCESSEDVERSION in the logs&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;We don&apos;t just see this as a bootstrap issue either, we only see about half the data get replicated. I don&apos;t know if tlogs are present on the targets, as I don&apos;t have access to those file systems&lt;/p&gt;</comment>
                            <comment id="16349816" author="sarkaramrit2@gmail.com" created="Fri, 2 Feb 2018 05:37:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=WebHomer&quot; class=&quot;user-hover&quot; rel=&quot;WebHomer&quot;&gt;WebHomer&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;Can you elaborate you cluster details, number of shards, number of replicas. I am not able to comprehend the above statement of half data being searchable. If something use to work for 6.1 and not working for 7.2 is a concern. If the replicators are started successfully (CDCR=START), there is no reason whatsoever the data won&apos;t get replicated to target to either shards and won&apos;t be searchable after commit.&lt;/p&gt;

&lt;p&gt;Here, if not a single document is indexed in source after bootstrapping done on target. The replicas of the target collections which are non-leader will have empty index. To ignore this issue, having 1 replica each on target is the immediate fix, as one will not see empty indexes on either cores, let me know if the above doesn&apos;t make sense.&lt;/p&gt;</comment>
                            <comment id="16370084" author="sarkaramrit2@gmail.com" created="Tue, 20 Feb 2018 14:10:39 +0000"  >&lt;p&gt;First patch uploaded with tests and effective solution, using RequestRecovery. Feedback will be appreciated. WIP.&lt;/p&gt;</comment>
                            <comment id="16384089" author="webhomer" created="Fri, 2 Mar 2018 20:02:48 +0000"  >&lt;p&gt;This may be a different issue, but I see similar behavior with some replicas in 7.2.0&lt;/p&gt;

&lt;p&gt;We have a number of replicas which have identical schemas. We found that TLOG replicas give much more consistent search results.&lt;br/&gt;
&#160;&lt;br/&gt;
We created a collection using TLOG replicas in our QA clouds.&lt;br/&gt;
We have a locally hosted solrcloud with 2 nodes, all our collections have 2 shards. We use CDCR to replicate the collections from this environment to 2 data centers hosted in Google cloud. This seems to work fairly well for our collections with NRT replicas. However the new TLOG collection has problems.&lt;br/&gt;
&#160;&lt;br/&gt;
The google cloud solrclusters have 4 nodes each (3 separate Zookeepers). 2 shards per collection with 2 replicas per shard.&lt;br/&gt;
&#160;&lt;br/&gt;
We never see data show up in the tlog replica cloud collections, but we do see tlog files show up on the cloud servers. I can see that all of the servers have cdcr started, buffers are disabled.&lt;br/&gt;
The cdcr source configuration is:&lt;br/&gt;
&#160;&lt;br/&gt;
&quot;requestHandler&quot;:{&quot;/cdcr&quot;:{&lt;br/&gt;
&#160; &#160; &#160; &quot;name&quot;:&quot;/cdcr&quot;,&lt;br/&gt;
&#160; &#160; &#160; &quot;class&quot;:&quot;solr.CdcrRequestHandler&quot;,&lt;br/&gt;
&#160; &#160; &#160; &quot;replica&quot;:[&lt;br/&gt;
&#160; &#160; &#160; &#160; &lt;/p&gt;
{
&#160; &#160; &#160; &#160; &#160; &quot;zkHost&quot;:&quot;[xxx-mzk01.sial.com:2181|http://xxx-mzk01.sial.com:2181/],[xxx-mzk02.sial.com:2181|http://xxx-mzk02.sial.com:2181/],[xxx-mzk03.sial.com:2181/solr|http://xxx-mzk03.sial.com:2181/solr]&quot;,
&#160; &#160; &#160; &#160; &#160; &quot;source&quot;:&quot;b2b-catalog-material-180124T&quot;,
&#160; &#160; &#160; &#160; &#160; &quot;target&quot;:&quot;b2b-catalog-material-180124T&quot;}
&lt;p&gt;,&lt;br/&gt;
&#160; &#160; &#160; &#160; &lt;/p&gt;
{
&#160; &#160; &#160; &#160; &#160; &quot;zkHost&quot;:&quot;[yyyy-mzk01.sial.com:2181|http://yyyy-mzk01.sial.com:2181/],[yyyy-mzk02.sial.com:2181|http://yyyy-mzk02.sial.com:2181/],[yyyy-mzk03.sial.com:2181/solr|http://yyyy-mzk03.sial.com:2181/solr]&quot;,
&#160; &#160; &#160; &#160; &#160; &quot;source&quot;:&quot;b2b-catalog-material-180124T&quot;,
&#160; &#160; &#160; &#160; &#160; &quot;target&quot;:&quot;b2b-catalog-material-180124T&quot;}
&lt;p&gt;],&lt;br/&gt;
&#160; &#160; &#160; &quot;replicator&quot;:&lt;/p&gt;
{
&#160; &#160; &#160; &#160; &quot;threadPoolSize&quot;:4,
&#160; &#160; &#160; &#160; &quot;schedule&quot;:500,
&#160; &#160; &#160; &#160; &quot;batchSize&quot;:250}
&lt;p&gt;,&lt;br/&gt;
&#160; &#160; &#160; &quot;updateLogSynchronizer&quot;:{&quot;schedule&quot;:60000}}}}&lt;br/&gt;
&#160;&lt;br/&gt;
The target configurations in the 2 clouds are the same:&lt;br/&gt;
&quot;requestHandler&quot;:{&quot;/cdcr&quot;:{ &quot;name&quot;:&quot;/cdcr&quot;, &quot;class&quot;:&quot;solr.CdcrRequestHandler&quot;, &quot;buffer&quot;:&lt;/p&gt;
{&quot;defaultState&quot;:&quot;disabled&quot;}
&lt;p&gt;}}&#160;&lt;br/&gt;
&#160;&lt;br/&gt;
&lt;del&gt;rw-r&lt;/del&gt;&lt;del&gt;r&lt;/del&gt;- 1 apache apache 596517718 Feb 28 20:19 tlog.0000000000000000029.1593653529934823424&lt;br/&gt;
&lt;del&gt;rw-r&lt;/del&gt;&lt;del&gt;r&lt;/del&gt;- 1 apache apache 647 Feb 28 22:18 tlog.0000000000000000030.1593670744554864641&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;apache@uc1b-ecomqa-msc01 tlog&amp;#93;&lt;/span&gt;$ pwd&lt;br/&gt;
/var/solr/data/b2b-catalog-material-180124T_shard1_replica_t2/data/tlog&lt;br/&gt;
&#160;&lt;br/&gt;
All of our collections have a timestamp field, index_date. In the source collection all the records have a date of 2/28/2018 but the target collections have a latest date of 1/26/2018&lt;br/&gt;
&#160;&lt;br/&gt;
I don&apos;t see cdcr errors in the logs.&#160;&lt;br/&gt;
&#160;&lt;br/&gt;
We have a number of similar collections that behave correctly. This is the only collection that is a TLOG collection. It appears that CDCR doesn&apos;t support TLOG collections.&lt;br/&gt;
We also see the same behavior in our production solrclouds. The collections that use NRT replicas replicate fine with CDCR, the collection that uses TLOG replicas do not. Several of the NRT collections have the same configurations as the tlog colletion, so that seems to be the only difference between them&lt;br/&gt;
&#160;&lt;/p&gt;</comment>
                            <comment id="16436609" author="varunthacker" created="Fri, 13 Apr 2018 00:51:47 +0000"  >&lt;p&gt;Hi Amrit,&lt;/p&gt;

&lt;p&gt;Thanks for working on the patch! I like the solution here , seems like the right way to solve the problem.&lt;/p&gt;

&lt;p&gt;Here&apos;s some feedback on the patch:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;In CdcrReplicatorManager#sendRequestRecoveryToFollowers , the following line looks dangerous ( &lt;a href=&quot;https://docs.oracle.com/javase/7/docs/api/java/util/Map.html#values()&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://docs.oracle.com/javase/7/docs/api/java/util/Map.html#values()&lt;/a&gt;&#160;)
	&lt;ol&gt;
		&lt;li&gt;&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
replicas.remove(slice.getLeader());&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Maybe we could add something like this in the inner for loop instead?
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (slice.getLeader().getCoreName().equals(replica.getCoreName())) {
  &lt;span class=&quot;code-keyword&quot;&gt;continue&lt;/span&gt;;
}&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Do we really need a separate test for this? Maybe in one of the existing tests we could increase the target replicationFactor ?&lt;/li&gt;
		&lt;li&gt;To assert doc counts , we have CdcrTestsUtil#waitForCoresToSync . How about something like this instead?
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; assertShardInSync(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; collection, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; shard, CloudSolrClient client) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException, SolrServerException {
  TimeOut waitTimeOut = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; TimeOut(30, TimeUnit.SECONDS, TimeSource.NANO_TIME);
  DocCollection docCollection = client.getZkStateReader().getClusterState().getCollection(collection);
  Slice correctSlice = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
  &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (Slice slice : docCollection.getSlices()) {
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (shard.equals(slice.getName())) {
      correctSlice = slice;
      &lt;span class=&quot;code-keyword&quot;&gt;break&lt;/span&gt;;
    }
  }
  assertNotNull(correctSlice);

  &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; leaderDocCount;
  &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; (HttpSolrClient leaderClient = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; HttpSolrClient.Builder(correctSlice.getLeader().getCoreUrl()).withHttpClient(client.getHttpClient()).build()) {
    leaderDocCount = leaderClient.query(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; SolrQuery(&lt;span class=&quot;code-quote&quot;&gt;&quot;*:*&quot;&lt;/span&gt;).setParam(&lt;span class=&quot;code-quote&quot;&gt;&quot;distrib&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&quot;&lt;/span&gt;)).getResults().getNumFound();
  }

  &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; (!waitTimeOut.hasTimedOut()) {
    &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; replicasInSync = 0;
    &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (Replica replica : correctSlice.getReplicas()) {
      &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; (HttpSolrClient leaderClient = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; HttpSolrClient.Builder(replica.getCoreUrl()).withHttpClient(client.getHttpClient()).build()) {
        &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; replicaDocCount = leaderClient.query(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; SolrQuery(&lt;span class=&quot;code-quote&quot;&gt;&quot;*:*&quot;&lt;/span&gt;).setParam(&lt;span class=&quot;code-quote&quot;&gt;&quot;distrib&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&quot;&lt;/span&gt;)).getResults().getNumFound();
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (replicaDocCount == leaderDocCount) replicasInSync++;
      }
    }
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (replicasInSync == correctSlice.getReplicas().size()) {
      &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
    }
  }
  &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
}&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;
</comment>
                            <comment id="16437010" author="sarkaramrit2@gmail.com" created="Fri, 13 Apr 2018 08:32:08 +0000"  >&lt;p&gt;Thanks Varun for the valuable review and feedback.&lt;/p&gt;

&lt;p&gt;1. Yeah, I always resist using Map.functions, as they are not thread-safe, should have done the same here, thanks for pin-pointing.&lt;br/&gt;
2. The test method was written for the review and specifically for &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11724&quot; title=&quot;Cdcr Bootstrapping does not cause &amp;quot;index copying&amp;quot; to follower nodes on Target&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-11724&quot;&gt;&lt;del&gt;SOLR-11724&lt;/del&gt;&lt;/a&gt;, moved the test check to &lt;tt&gt;testConvertClusterToCdcrAndBootstrap&lt;/tt&gt;.&lt;br/&gt;
3. I like using &lt;tt&gt;distrib=false&lt;/tt&gt; instead of core API, huge +1 to the same.&lt;/p&gt;

&lt;p&gt;I have incorporated all the necessary recommendations in the current patch, thanks again.&lt;/p&gt;</comment>
                            <comment id="16438022" author="jira-bot" created="Fri, 13 Apr 2018 22:38:36 +0000"  >&lt;p&gt;Commit 93f9a65b1c8aa460489fdce50ed84d18168b53ef in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=varun_saxena&quot; class=&quot;user-hover&quot; rel=&quot;varun_saxena&quot;&gt;varun_saxena&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=93f9a65&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=93f9a65&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11724&quot; title=&quot;Cdcr Bootstrapping does not cause &amp;quot;index copying&amp;quot; to follower nodes on Target&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-11724&quot;&gt;&lt;del&gt;SOLR-11724&lt;/del&gt;&lt;/a&gt;: Cdcr bootstrapping should ensure that non-leader replicas should sync with the leader&lt;/p&gt;</comment>
                            <comment id="16438032" author="jira-bot" created="Fri, 13 Apr 2018 22:45:41 +0000"  >&lt;p&gt;Commit b0c095c1804149bf558064d7f7df76f318a5c5ee in lucene-solr&apos;s branch refs/heads/branch_7x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=varun_saxena&quot; class=&quot;user-hover&quot; rel=&quot;varun_saxena&quot;&gt;varun_saxena&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=b0c095c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=b0c095c&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11724&quot; title=&quot;Cdcr Bootstrapping does not cause &amp;quot;index copying&amp;quot; to follower nodes on Target&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-11724&quot;&gt;&lt;del&gt;SOLR-11724&lt;/del&gt;&lt;/a&gt;: Cdcr bootstrapping should ensure that non-leader replicas should sync with the leader&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 93f9a65)&lt;/p&gt;</comment>
                            <comment id="16439757" author="varunthacker" created="Mon, 16 Apr 2018 17:27:53 +0000"  >&lt;p&gt;Keeping it open. I want to backport this for 7.3.1&#160;&lt;/p&gt;</comment>
                            <comment id="16451682" author="jira-bot" created="Wed, 25 Apr 2018 05:39:25 +0000"  >&lt;p&gt;Commit 8fa7687413558b3bc65cbbbeb722a21314187e6a in lucene-solr&apos;s branch refs/heads/branch_7_3 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=varun_saxena&quot; class=&quot;user-hover&quot; rel=&quot;varun_saxena&quot;&gt;varun_saxena&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=8fa7687&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=8fa7687&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11724&quot; title=&quot;Cdcr Bootstrapping does not cause &amp;quot;index copying&amp;quot; to follower nodes on Target&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-11724&quot;&gt;&lt;del&gt;SOLR-11724&lt;/del&gt;&lt;/a&gt;: Cdcr bootstrapping should ensure that non-leader replicas should sync with the leader&lt;/p&gt;</comment>
                            <comment id="16451686" author="varunthacker" created="Wed, 25 Apr 2018 05:44:19 +0000"  >&lt;p&gt;Thanks Amrit&lt;/p&gt;</comment>
                            <comment id="16765096" author="timsolr" created="Mon, 11 Feb 2019 15:58:38 +0000"  >&lt;p&gt;This fix seems to be bugged in 7.5.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13141&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SOLR-13141&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16843554" author="sarkaramrit2@gmail.com" created="Sun, 19 May 2019 22:08:08 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=TimSolr&quot; class=&quot;user-hover&quot; rel=&quot;TimSolr&quot;&gt;TimSolr&lt;/a&gt; and numerous others on the mailing list for reporting.&lt;/p&gt;

&lt;p&gt;The correct way of solving this issue is to identify the correct base-url of Solr for the respective core we need to trigger REQUESTRECOVERY to and create a local HttpSolrClient instead of using CloudSolrClient from CdcrReplicatorState (which will forward the request to the leader of the shard instead to the rightful solr node).&lt;/p&gt;

&lt;p&gt;I baked a small patch a few weeks back, still need to work on tests properly to see why it is failing now.&lt;/p&gt;</comment>
                            <comment id="16843890" author="sarkaramrit2@gmail.com" created="Mon, 20 May 2019 11:38:11 +0000"  >&lt;p&gt;Attached test which works smooth, with the proposed code.&lt;/p&gt;</comment>
                            <comment id="16844254" author="lucenesolrqa" created="Mon, 20 May 2019 20:11:49 +0000"  >&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/check.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;b&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;&lt;/b&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Vote &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Subsystem &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Runtime &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Comment &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; &lt;font color=&quot;brown&quot;&gt; Prechecks &lt;/font&gt; &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; test4tests &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  0m  0s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; The patch appears to include 1 new or modified test files. &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; &lt;font color=&quot;brown&quot;&gt; master Compile Tests &lt;/font&gt; &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; compile &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  2m  3s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; master passed &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; &lt;font color=&quot;brown&quot;&gt; Patch Compile Tests &lt;/font&gt; &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; compile &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  1m 54s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; the patch passed &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; javac &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  1m 54s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; the patch passed &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; Release audit (RAT) &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  1m 54s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; the patch passed &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; Check forbidden APIs &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  1m 54s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; the patch passed &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; Validate source patterns &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  1m 54s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; the patch passed &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; &lt;font color=&quot;brown&quot;&gt; Other Tests &lt;/font&gt; &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; unit &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; 45m 57s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; core in the patch passed. &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;black&quot;&gt;&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;black&quot;&gt; &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;black&quot;&gt; 52m 43s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;black&quot;&gt; &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Subsystem &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Report/Notes &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; JIRA Issue &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11724&quot; title=&quot;Cdcr Bootstrapping does not cause &amp;quot;index copying&amp;quot; to follower nodes on Target&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-11724&quot;&gt;&lt;del&gt;SOLR-11724&lt;/del&gt;&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; JIRA Patch URL &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12969150/SOLR-11724.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12969150/SOLR-11724.patch&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Optional Tests &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  compile  javac  unit  ratsources  checkforbiddenapis  validatesourcepatterns  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; uname &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Linux lucene1-us-west 4.4.0-137-generic #163~14.04.1-Ubuntu SMP Mon Sep 24 17:14:57 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Build tool &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; ant &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Personality &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; /home/jenkins/jenkins-slave/workspace/PreCommit-SOLR-Build/sourcedir/dev-tools/test-patch/lucene-solr-yetus-personality.sh &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; git revision &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; master / ec6ac97 &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; ant &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; version: Apache Ant(TM) version 1.9.3 compiled on July 24 2018 &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Default Java &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; LTS &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  Test Results &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://builds.apache.org/job/PreCommit-SOLR-Build/398/testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-SOLR-Build/398/testReport/&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; modules &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; C: solr/core U: solr/core &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Console output &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://builds.apache.org/job/PreCommit-SOLR-Build/398/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-SOLR-Build/398/console&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Powered by &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Apache Yetus 0.7.0   &lt;a href=&quot;http://yetus.apache.org&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://yetus.apache.org&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;



&lt;p&gt;This message was automatically generated.&lt;/p&gt;
</comment>
                            <comment id="16849705" author="timsolr" created="Tue, 28 May 2019 13:12:34 +0000"  >&lt;p&gt;So what&apos;s the process for this patch to make it into an update?&lt;/p&gt;</comment>
                            <comment id="16858464" author="arafalov" created="Fri, 7 Jun 2019 10:30:58 +0000"  >&lt;p&gt;This issue is marked as part of 7.3.1, but was it actually? It is the only issue as marked unfinished against the completed 7.3.1 release.&lt;/p&gt;</comment>
                            <comment id="16902868" author="shalinmangar" created="Thu, 8 Aug 2019 10:33:23 +0000"  >&lt;p&gt;A less brittle way would be to update the term for the leader once bootstrap finishes. This way the replicas will automatically go to recovery. The latest patch implements this idea. Tests pass.&lt;/p&gt;

&lt;p&gt;What&apos;s the best way to fix this issue? This issue was supposed to be fixed in 7.3 but the committed code didn&apos;t actually fix it. Should we reopen this issue or create a new one?&lt;/p&gt;</comment>
                            <comment id="16902876" author="shalinmangar" created="Thu, 8 Aug 2019 10:57:12 +0000"  >&lt;p&gt;I just noticed the linked issue &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13141&quot; title=&quot;CDCR bootstrap does not replicate index to the replicas of target cluster&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13141&quot;&gt;&lt;del&gt;SOLR-13141&lt;/del&gt;&lt;/a&gt; so we can use that and let this be as it is today.&lt;/p&gt;</comment>
                            <comment id="16902935" author="lucenesolrqa" created="Thu, 8 Aug 2019 12:43:45 +0000"  >&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/check.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;b&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;&lt;/b&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Vote &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Subsystem &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Runtime &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Comment &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; &lt;font color=&quot;brown&quot;&gt; Prechecks &lt;/font&gt; &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; test4tests &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  0m  0s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; The patch appears to include 1 new or modified test files. &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; &lt;font color=&quot;brown&quot;&gt; master Compile Tests &lt;/font&gt; &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; compile &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  1m 48s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; master passed &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; &lt;font color=&quot;brown&quot;&gt; Patch Compile Tests &lt;/font&gt; &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; compile &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  3m 49s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; the patch passed &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; javac &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  3m 49s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; the patch passed &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; Release audit (RAT) &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  3m 49s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; the patch passed &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; Check forbidden APIs &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  3m 49s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; the patch passed &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; Validate source patterns &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  3m 49s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; the patch passed &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; &lt;font color=&quot;brown&quot;&gt; Other Tests &lt;/font&gt; &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; unit &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; 55m 46s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; core in the patch passed. &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;black&quot;&gt;&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;black&quot;&gt; &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;black&quot;&gt; 64m 22s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;black&quot;&gt; &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Subsystem &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Report/Notes &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; JIRA Issue &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11724&quot; title=&quot;Cdcr Bootstrapping does not cause &amp;quot;index copying&amp;quot; to follower nodes on Target&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-11724&quot;&gt;&lt;del&gt;SOLR-11724&lt;/del&gt;&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; JIRA Patch URL &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12977021/SOLR-11724.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12977021/SOLR-11724.patch&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Optional Tests &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  compile  javac  unit  ratsources  checkforbiddenapis  validatesourcepatterns  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; uname &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Linux lucene2-us-west.apache.org 4.4.0-112-generic #135-Ubuntu SMP Fri Jan 19 11:48:36 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Build tool &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; ant &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Personality &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; /home/jenkins/jenkins-slave/workspace/PreCommit-SOLR-Build/sourcedir/dev-tools/test-patch/lucene-solr-yetus-personality.sh &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; git revision &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; master / ed137db &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; ant &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; version: Apache Ant(TM) version 1.9.6 compiled on July 20 2018 &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Default Java &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; LTS &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  Test Results &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://builds.apache.org/job/PreCommit-SOLR-Build/524/testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-SOLR-Build/524/testReport/&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; modules &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; C: solr/core U: solr/core &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Console output &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://builds.apache.org/job/PreCommit-SOLR-Build/524/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-SOLR-Build/524/console&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Powered by &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Apache Yetus 0.7.0   &lt;a href=&quot;http://yetus.apache.org&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://yetus.apache.org&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;



&lt;p&gt;This message was automatically generated.&lt;/p&gt;
</comment>
                            <comment id="16903521" author="shalinmangar" created="Fri, 9 Aug 2019 03:03:19 +0000"  >&lt;p&gt;This is fixed by &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13141&quot; title=&quot;CDCR bootstrap does not replicate index to the replicas of target cluster&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13141&quot;&gt;&lt;del&gt;SOLR-13141&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13209844">SOLR-13141</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12977021" name="SOLR-11724.patch" size="9144" author="shalin" created="Thu, 8 Aug 2019 10:31:59 +0000"/>
                            <attachment id="12969150" name="SOLR-11724.patch" size="5773" author="sarkaramrit2@gmail.com" created="Mon, 20 May 2019 11:39:40 +0000"/>
                            <attachment id="12969110" name="SOLR-11724.patch" size="5111" author="sarkaramrit2@gmail.com" created="Sun, 19 May 2019 22:08:26 +0000"/>
                            <attachment id="12918908" name="SOLR-11724.patch" size="7859" author="sarkaramrit2@gmail.com" created="Fri, 13 Apr 2018 08:25:19 +0000"/>
                            <attachment id="12916913" name="SOLR-11724.patch" size="11715" author="sarkaramrit2@gmail.com" created="Thu, 29 Mar 2018 23:41:02 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 14 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3njhb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>