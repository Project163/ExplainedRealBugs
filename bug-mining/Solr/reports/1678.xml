<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:44:08 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-5577] indexing delay due to zookeeper election</title>
                <link>https://issues.apache.org/jira/browse/SOLR-5577</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;The behaviour we observed was that a zookeeper election took about 2s plus 1.5s for reading the zoo_data snapshot. During this time solr tried to establish connections to any zookeeper in the ensemble but only succeeded once a leader was elected &lt;b&gt;and&lt;/b&gt; that leader was done reading the snapshot. Solr document updates were slowed down during this time window.&lt;/p&gt;

&lt;p&gt;Is this expected to happen during and shortly after elections, that is zookeeper closing existing connections, rejecting new connections and thus stalling solr updates?&lt;/p&gt;

&lt;p&gt;Other than avoiding zookeeper elections, are there ways of reducing their impact on solr?&lt;/p&gt;

&lt;p&gt;&lt;ins&gt;zookeeper log extract&lt;/ins&gt;&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;08:18:54,968 [QuorumCnxManager.java:762] Connection broken for id ...
08:18:56,916 [Leader.java:345] LEADING - LEADER ELECTION TOOK - 1941
08:18:56,918 [FileSnap.java:83] Reading snapshot ...
...
08:18:57,010 [NIOServerCnxnFactory.java:197] Accepted socket connection from ...
08:18:57,010 [NIOServerCnxn.java:354] Exception causing close of session 0x0 due to java.io.IOException: ZooKeeperServer not running
08:18:57,010 [NIOServerCnxn.java:1001] Closed socket connection for client ... (no session established for client)
...
08:18:58,496 [FileTxnSnapLog.java:240] Snapshotting: ... to ...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;ins&gt;solr log extract&lt;/ins&gt;&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;08:18:54,968 [ClientCnxn.java:1085] Unable to read additional data from server sessionid ... likely server has closed socket, closing socket connection and attempting reconnect
08:18:55,068 [ConnectionManager.java:72] Watcher org.apache.solr.common.cloud.ConnectionManager@... name:ZooKeeperConnection Watcher:host1:port1,host2:port2,host3:port3,... got event WatchedEvent state:Disconnected type:None path:null path:null type:None
08:18:55,068 [ConnectionManager.java:132] zkClient has disconnected
...
08:18:55,961 [ClientCnxn.java:966] Opening socket connection to server ...
08:18:55,961 [ClientCnxn.java:849] Socket connection established to ...
08:18:55,962 [ClientCnxn.java:1085] Unable to read additional data from server sessionid ... likely server has closed socket, closing socket connection and attempting reconnect
...
08:18:56,714 [ClientCnxn.java:966] Opening socket connection to server ...
08:18:56,715 [ClientCnxn.java:849] Socket connection established to ...
08:18:56,715 [ClientCnxn.java:1085] Unable to read additional data from ...
...
08:18:57,640 [ClientCnxn.java:966] Opening socket connection to server ...
08:18:57,641 [ClientCnxn.java:849] Socket connection established to ...
08:18:57,641 [ClientCnxn.java:1085] Unable to read additional data from ...
...
08:18:58,352 [ClientCnxn.java:966] Opening socket connection to server ...
08:18:58,353 [ClientCnxn.java:849] Socket connection established to ...
08:18:58,353 [ClientCnxn.java:1085] Unable to read additional data from ...
...
08:18:58,749 [ClientCnxn.java:966] Opening socket connection to server ...
08:18:58,749 [ClientCnxn.java:849] Socket connection established to ...
08:18:58,751 [ClientCnxn.java:1207] Session establishment complete on server ... sessionid = ..., negotiated timeout = ...
08:18:58,751 ... [ConnectionManager.java:72] Watcher org.apache.solr.common.cloud.ConnectionManager@... name:ZooKeeperConnection Watcher:host1:port1,host2:port2,host3:port3,... got event WatchedEvent state:SyncConnected type:None path:null path:null type:None
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</description>
                <environment></environment>
        <key id="12686186">SOLR-5577</key>
            <summary>indexing delay due to zookeeper election</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="markrmiller@gmail.com">Mark Miller</assignee>
                                    <reporter username="cpoerschke">Christine Poerschke</reporter>
                        <labels>
                    </labels>
                <created>Mon, 23 Dec 2013 18:16:59 +0000</created>
                <updated>Mon, 9 May 2016 18:46:42 +0000</updated>
                            <resolved>Sun, 5 Jan 2014 16:44:15 +0000</resolved>
                                                    <fixVersion>4.6.1</fixVersion>
                    <fixVersion>4.7</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                    <component>SolrCloud</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                                                                <comments>
                            <comment id="13855835" author="markrmiller@gmail.com" created="Mon, 23 Dec 2013 18:45:47 +0000"  >&lt;p&gt;Our model should be able to handle this better.&lt;/p&gt;

&lt;p&gt;Some off the cough remarks:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Our model should be fine with turning off updates only after the connection with zk is lost for a while, rather than the moment it&apos;s noticed.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;Even if we didn&apos;t want to relax the above, we should be able to handle this case better - if the issue is that ZooKeeper is actually unavailable, we won&apos;t get new leaders or anything anyway, so no reason to be too concerned about turning off updates. Not sure how easy that is to detect though.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13855874" author="anshumg" created="Mon, 23 Dec 2013 19:29:40 +0000"  >&lt;p&gt;A shard might update it&apos;s state while zk is away (and no one else knows about it) and perhaps we&apos;re trying to avoid any such cases by rejecting the updates for as long as zk is unavailable. There might be concerns about consistency if we get any less strict, or so I think.&lt;/p&gt;</comment>
                            <comment id="13855877" author="andyetitmoves" created="Mon, 23 Dec 2013 19:34:56 +0000"  >&lt;p&gt;The proposal here is to only relax updating the collection for a while when ZK connection is lost. If a shard updates its state, wouldn&apos;t the Overseer have to process the state update? That would still continue to fail till ZK comes back up.&lt;/p&gt;</comment>
                            <comment id="13855908" author="markrmiller@gmail.com" created="Mon, 23 Dec 2013 20:25:05 +0000"  >&lt;blockquote&gt;&lt;p&gt;Solr document updates were slowed down during this time window.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;That&apos;s interesting - slowed down? Not rejected? That is more surprising to me...need to do some code review.&lt;/p&gt;</comment>
                            <comment id="13855910" author="markrmiller@gmail.com" created="Mon, 23 Dec 2013 20:29:30 +0000"  >&lt;blockquote&gt;&lt;p&gt;If a shard updates its state, wouldn&apos;t the Overseer have to process the state update? &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Correct. And there is already some window as well - I&apos;m not sure it matters that the window is a little larger due to the the possibly very small change in probability of it being an issue. We have to think about it carefully, but for the most part, this is just a preventative measure to make sure some node is not going rogue for a long period of time with a cached, stale cluster state and no connection to ZooKeeper for some reason, but perhaps a connection to other nodes.&lt;/p&gt;

&lt;p&gt;I think we always intended to think about ways to relax it, but when putting things together initially, it was faster/easier to just lock this down as much as possible to start.&lt;/p&gt;</comment>
                            <comment id="13855912" author="markrmiller@gmail.com" created="Mon, 23 Dec 2013 20:32:36 +0000"  >&lt;p&gt;P.S. I don&apos;t know that it&apos;s the right solution for the issue yet either - just spit balling at this point.&lt;/p&gt;</comment>
                            <comment id="13855916" author="markrmiller@gmail.com" created="Mon, 23 Dec 2013 20:34:49 +0000"  >&lt;blockquote&gt;&lt;p&gt;That&apos;s interesting - slowed down? Not rejected? That is more surprising to me...need to do some code review.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Okay, bad memory. Looking at the code, this makes sense. Those updates wait up to the session expiration before they would end up erroring...a slowdown makes sense.&lt;/p&gt;

&lt;p&gt;We have to be able to improve this.&lt;/p&gt;</comment>
                            <comment id="13855919" author="markrmiller@gmail.com" created="Mon, 23 Dec 2013 20:37:37 +0000"  >&lt;p&gt;So I think we already kind of have this window setup for this case - up to the session timeout, which I think makes sense. The problem is in how it&apos;s implemented. It shouldn&apos;t hold up updates for that long, it should simply only accept them for that long.&lt;/p&gt;</comment>
                            <comment id="13856403" author="andyetitmoves" created="Tue, 24 Dec 2013 17:24:25 +0000"  >&lt;p&gt;Currently when we get disconnected from ZK, do we know if that is due to the session expiration? From what I can see, and I am probably wrong, we get to know that the session expired only when we next try to reconnect. If so, and if we were the leader, the session expiry would have triggered a re-election before we reconnect, and we shouldn&apos;t be processing them as the leader in the first place &amp;#8211; so we might end up with two nodes thinking they are the leader for the period from the disconnect to when we try to reconnect and get a session expiry.&lt;/p&gt;</comment>
                            <comment id="13856720" author="markrmiller@gmail.com" created="Thu, 26 Dec 2013 03:17:50 +0000"  >&lt;p&gt;You would have to be dc&apos;d from zk for the length of the session timeout before a new leader election would start - which is why it should be safe to accept updates for about up to the session timeout after losing the zk connection. We just have to fix the lazy impl. &lt;/p&gt;</comment>
                            <comment id="13857231" author="markrmiller@gmail.com" created="Fri, 27 Dec 2013 01:30:33 +0000"  >&lt;p&gt;We need something more like this. First draft patch attached.&lt;/p&gt;</comment>
                            <comment id="13857233" author="markrmiller@gmail.com" created="Fri, 27 Dec 2013 01:34:17 +0000"  >&lt;p&gt;I think perhaps we should wait up to 80 or 90% of the session time-out before we start rejecting updates.&lt;/p&gt;</comment>
                            <comment id="13858108" author="jira-bot" created="Sat, 28 Dec 2013 20:49:28 +0000"  >&lt;p&gt;Commit 1553912 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1553912&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1553912&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5577&quot; title=&quot;indexing delay due to zookeeper election&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5577&quot;&gt;&lt;del&gt;SOLR-5577&lt;/del&gt;&lt;/a&gt;: Likely ZooKeeper expiration should not slow down updates a given amount, but instead cut off updates after a given time.&lt;/p&gt;</comment>
                            <comment id="13858109" author="jira-bot" created="Sat, 28 Dec 2013 20:55:46 +0000"  >&lt;p&gt;Commit 1553914 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/branches/branch_4x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1553914&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1553914&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5577&quot; title=&quot;indexing delay due to zookeeper election&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5577&quot;&gt;&lt;del&gt;SOLR-5577&lt;/del&gt;&lt;/a&gt;: Likely ZooKeeper expiration should not slow down updates a given amount, but instead cut off updates after a given time.&lt;/p&gt;</comment>
                            <comment id="13858190" author="jira-bot" created="Sun, 29 Dec 2013 00:14:31 +0000"  >&lt;p&gt;Commit 1553981 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1553981&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1553981&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5577&quot; title=&quot;indexing delay due to zookeeper election&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5577&quot;&gt;&lt;del&gt;SOLR-5577&lt;/del&gt;&lt;/a&gt;: Don&apos;t start a timer on disconnect if we are already closed&lt;/p&gt;</comment>
                            <comment id="13858191" author="jira-bot" created="Sun, 29 Dec 2013 00:15:45 +0000"  >&lt;p&gt;Commit 1553982 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/branches/branch_4x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1553982&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1553982&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5577&quot; title=&quot;indexing delay due to zookeeper election&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5577&quot;&gt;&lt;del&gt;SOLR-5577&lt;/del&gt;&lt;/a&gt;: Don&apos;t start a timer on disconnect if we are already closed&lt;/p&gt;</comment>
                            <comment id="13861794" author="jira-bot" created="Fri, 3 Jan 2014 19:08:45 +0000"  >&lt;p&gt;Commit 1555204 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1555204&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1555204&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5577&quot; title=&quot;indexing delay due to zookeeper election&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5577&quot;&gt;&lt;del&gt;SOLR-5577&lt;/del&gt;&lt;/a&gt;: fix possible race on canceling timer on close&lt;/p&gt;</comment>
                            <comment id="13861807" author="jira-bot" created="Fri, 3 Jan 2014 19:17:04 +0000"  >&lt;p&gt;Commit 1555207 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/branches/branch_4x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1555207&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1555207&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5577&quot; title=&quot;indexing delay due to zookeeper election&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5577&quot;&gt;&lt;del&gt;SOLR-5577&lt;/del&gt;&lt;/a&gt;: fix possible race on canceling timer on close&lt;/p&gt;</comment>
                            <comment id="13862591" author="markrmiller@gmail.com" created="Sun, 5 Jan 2014 16:44:15 +0000"  >&lt;p&gt;Thanks Christine!&lt;/p&gt;</comment>
                            <comment id="13862629" author="jira-bot" created="Sun, 5 Jan 2014 18:50:06 +0000"  >&lt;p&gt;Commit 1555610 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1555610&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1555610&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5577&quot; title=&quot;indexing delay due to zookeeper election&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5577&quot;&gt;&lt;del&gt;SOLR-5577&lt;/del&gt;&lt;/a&gt;: don&apos;t start timer thread in constructor&lt;/p&gt;</comment>
                            <comment id="13862630" author="jira-bot" created="Sun, 5 Jan 2014 18:51:12 +0000"  >&lt;p&gt;Commit 1555611 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/branches/branch_4x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1555611&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1555611&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5577&quot; title=&quot;indexing delay due to zookeeper election&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5577&quot;&gt;&lt;del&gt;SOLR-5577&lt;/del&gt;&lt;/a&gt;: don&apos;t start timer thread in constructor&lt;/p&gt;</comment>
                            <comment id="13863229" author="andyetitmoves" created="Mon, 6 Jan 2014 18:51:03 +0000"  >&lt;p&gt;Mark, any reason why we start the disconnect timer when we get an EXPIRED? Shouldn&apos;t we just set cancel the timer and set likelyExpired to true?&lt;/p&gt;</comment>
                            <comment id="13863257" author="markrmiller@gmail.com" created="Mon, 6 Jan 2014 19:08:14 +0000"  >&lt;p&gt;Thanks Ramkumar! I used some refactoring logic to extract a method for setting connected=false - didn&apos;t catch that one. Not necessary.&lt;/p&gt;</comment>
                            <comment id="13863332" author="jira-bot" created="Mon, 6 Jan 2014 19:55:53 +0000"  >&lt;p&gt;Commit 1556002 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1556002&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1556002&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5577&quot; title=&quot;indexing delay due to zookeeper election&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5577&quot;&gt;&lt;del&gt;SOLR-5577&lt;/del&gt;&lt;/a&gt;: don&apos;t start timer thread on expiration&lt;/p&gt;</comment>
                            <comment id="13863335" author="jira-bot" created="Mon, 6 Jan 2014 19:58:25 +0000"  >&lt;p&gt;Commit 1556003 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/branches/branch_4x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1556003&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1556003&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5577&quot; title=&quot;indexing delay due to zookeeper election&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5577&quot;&gt;&lt;del&gt;SOLR-5577&lt;/del&gt;&lt;/a&gt;: don&apos;t start timer thread on expiration&lt;/p&gt;</comment>
                            <comment id="13867852" author="jira-bot" created="Fri, 10 Jan 2014 14:42:36 +0000"  >&lt;p&gt;Commit 1557136 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1557136&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1557136&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5577&quot; title=&quot;indexing delay due to zookeeper election&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5577&quot;&gt;&lt;del&gt;SOLR-5577&lt;/del&gt;&lt;/a&gt;: timer thread should be run as daemon&lt;/p&gt;</comment>
                            <comment id="13867853" author="jira-bot" created="Fri, 10 Jan 2014 14:43:47 +0000"  >&lt;p&gt;Commit 1557137 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/branches/branch_4x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1557137&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1557137&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5577&quot; title=&quot;indexing delay due to zookeeper election&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5577&quot;&gt;&lt;del&gt;SOLR-5577&lt;/del&gt;&lt;/a&gt;: timer thread should be run as daemon&lt;/p&gt;</comment>
                            <comment id="13867865" author="jira-bot" created="Fri, 10 Jan 2014 14:52:36 +0000"  >&lt;p&gt;Commit 1557140 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/branches/lucene_solr_4_6&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1557140&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1557140&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5577&quot; title=&quot;indexing delay due to zookeeper election&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5577&quot;&gt;&lt;del&gt;SOLR-5577&lt;/del&gt;&lt;/a&gt;: Likely ZooKeeper expiration should not slow down updates a given amount, but instead cut off updates after a given time.&lt;/p&gt;</comment>
                            <comment id="13867913" author="jira-bot" created="Fri, 10 Jan 2014 15:37:09 +0000"  >&lt;p&gt;Commit 1557154 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/branches/lucene_solr_4_6&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1557154&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1557154&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5577&quot; title=&quot;indexing delay due to zookeeper election&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5577&quot;&gt;&lt;del&gt;SOLR-5577&lt;/del&gt;&lt;/a&gt;: Don&apos;t start a timer on disconnect if we are already closed&lt;/p&gt;</comment>
                            <comment id="13867916" author="jira-bot" created="Fri, 10 Jan 2014 15:38:49 +0000"  >&lt;p&gt;Commit 1557155 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/branches/lucene_solr_4_6&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1557155&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1557155&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5577&quot; title=&quot;indexing delay due to zookeeper election&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5577&quot;&gt;&lt;del&gt;SOLR-5577&lt;/del&gt;&lt;/a&gt;: fix possible race on canceling timer on close&lt;/p&gt;</comment>
                            <comment id="13867920" author="jira-bot" created="Fri, 10 Jan 2014 15:40:40 +0000"  >&lt;p&gt;Commit 1557157 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/branches/lucene_solr_4_6&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1557157&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1557157&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5577&quot; title=&quot;indexing delay due to zookeeper election&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5577&quot;&gt;&lt;del&gt;SOLR-5577&lt;/del&gt;&lt;/a&gt;: don&apos;t start timer thread in constructor&lt;/p&gt;</comment>
                            <comment id="13867926" author="jira-bot" created="Fri, 10 Jan 2014 15:45:59 +0000"  >&lt;p&gt;Commit 1557160 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/branches/lucene_solr_4_6&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1557160&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1557160&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5577&quot; title=&quot;indexing delay due to zookeeper election&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5577&quot;&gt;&lt;del&gt;SOLR-5577&lt;/del&gt;&lt;/a&gt;: don&apos;t start timer thread on expiration&lt;/p&gt;</comment>
                            <comment id="13867927" author="jira-bot" created="Fri, 10 Jan 2014 15:47:23 +0000"  >&lt;p&gt;Commit 1557161 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/branches/lucene_solr_4_6&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1557161&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1557161&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5577&quot; title=&quot;indexing delay due to zookeeper election&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5577&quot;&gt;&lt;del&gt;SOLR-5577&lt;/del&gt;&lt;/a&gt;: timer thread should be run as daemon&lt;/p&gt;</comment>
                            <comment id="13869681" author="jira-bot" created="Mon, 13 Jan 2014 16:51:11 +0000"  >&lt;p&gt;Commit 1557769 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1557769&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1557769&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5577&quot; title=&quot;indexing delay due to zookeeper election&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5577&quot;&gt;&lt;del&gt;SOLR-5577&lt;/del&gt;&lt;/a&gt;: Remove CHANGES entry from 4.7&lt;/p&gt;</comment>
                            <comment id="13869703" author="jira-bot" created="Mon, 13 Jan 2014 17:09:06 +0000"  >&lt;p&gt;Commit 1557773 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/branches/branch_4x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1557773&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1557773&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5577&quot; title=&quot;indexing delay due to zookeeper election&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5577&quot;&gt;&lt;del&gt;SOLR-5577&lt;/del&gt;&lt;/a&gt;: Remove CHANGES entry from 4.7&lt;/p&gt;</comment>
                            <comment id="13876013" author="jira-bot" created="Sun, 19 Jan 2014 21:20:59 +0000"  >&lt;p&gt;Commit 1559587 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1559587&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1559587&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5577&quot; title=&quot;indexing delay due to zookeeper election&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5577&quot;&gt;&lt;del&gt;SOLR-5577&lt;/del&gt;&lt;/a&gt;: Harden leaking Timer thread.&lt;/p&gt;</comment>
                            <comment id="13876014" author="jira-bot" created="Sun, 19 Jan 2014 21:22:04 +0000"  >&lt;p&gt;Commit 1559588 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/branches/branch_4x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1559588&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1559588&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5577&quot; title=&quot;indexing delay due to zookeeper election&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5577&quot;&gt;&lt;del&gt;SOLR-5577&lt;/del&gt;&lt;/a&gt;: Harden leaking Timer thread.&lt;/p&gt;</comment>
                            <comment id="13876015" author="jira-bot" created="Sun, 19 Jan 2014 21:23:05 +0000"  >&lt;p&gt;Commit 1559589 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/branches/lucene_solr_4_6&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1559589&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1559589&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5577&quot; title=&quot;indexing delay due to zookeeper election&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5577&quot;&gt;&lt;del&gt;SOLR-5577&lt;/del&gt;&lt;/a&gt;: Harden leaking Timer thread.&lt;/p&gt;</comment>
                            <comment id="13876925" author="jira-bot" created="Mon, 20 Jan 2014 22:25:45 +0000"  >&lt;p&gt;Commit 1559844 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1559844&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1559844&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5577&quot; title=&quot;indexing delay due to zookeeper election&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5577&quot;&gt;&lt;del&gt;SOLR-5577&lt;/del&gt;&lt;/a&gt;: Protect against NPE race with close - spotted by Greg Chanan&lt;/p&gt;</comment>
                            <comment id="13876941" author="jira-bot" created="Mon, 20 Jan 2014 22:49:58 +0000"  >&lt;p&gt;Commit 1559847 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/branches/branch_4x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1559847&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1559847&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5577&quot; title=&quot;indexing delay due to zookeeper election&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5577&quot;&gt;&lt;del&gt;SOLR-5577&lt;/del&gt;&lt;/a&gt;: Protect against NPE race with close - spotted by Greg Chanan&lt;/p&gt;</comment>
                            <comment id="13882315" author="jira-bot" created="Sun, 26 Jan 2014 14:51:57 +0000"  >&lt;p&gt;Commit 1561497 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1561497&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1561497&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5577&quot; title=&quot;indexing delay due to zookeeper election&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5577&quot;&gt;&lt;del&gt;SOLR-5577&lt;/del&gt;&lt;/a&gt;: Harden leaking Timer thread.&lt;/p&gt;</comment>
                            <comment id="13882316" author="jira-bot" created="Sun, 26 Jan 2014 14:53:31 +0000"  >&lt;p&gt;Commit 1561499 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/branches/branch_4x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1561499&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1561499&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5577&quot; title=&quot;indexing delay due to zookeeper election&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5577&quot;&gt;&lt;del&gt;SOLR-5577&lt;/del&gt;&lt;/a&gt;: Harden leaking Timer thread.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12620575" name="SOLR-5577.patch" size="7051" author="markrmiller@gmail.com" created="Fri, 27 Dec 2013 01:30:33 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>365159</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 43 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qxvz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>365464</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>