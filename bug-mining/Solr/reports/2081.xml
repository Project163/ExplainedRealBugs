<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:56:43 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-6489] morphlines-cell tests fail after upgrade to TIKA 1.6 or TIKA 1.7</title>
                <link>https://issues.apache.org/jira/browse/SOLR-6489</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;After upgrade tp Apache TIKA 1.6 (&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6488&quot; title=&quot;Upgrade to TIKA 1.6&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6488&quot;&gt;&lt;del&gt;SOLR-6488&lt;/del&gt;&lt;/a&gt;), solr-morphlines-cell tests fail with scripting error messages.&lt;/p&gt;

&lt;p&gt;Due to missing understanding, caused by the crazy configuration file format and inability to figure out the test setup, I have to give up and hope that somebody else can take care. In addition, on my own machines, all of Hadoop does not work at all, so I cannot debug (Windows).&lt;/p&gt;

&lt;p&gt;The whole Morphlines setup is not really good, because Solr core depends on another TIKA version than the included morphlines libraries. This is not a good situation for Solr, because we should be able to upgrade to any version of our core components and not depend on external libraries that itsself depend on Solr in older versions!&lt;/p&gt;</description>
                <environment></environment>
        <key id="12739824">SOLR-6489</key>
            <summary>morphlines-cell tests fail after upgrade to TIKA 1.6 or TIKA 1.7</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="markrmiller@gmail.com">Mark Miller</assignee>
                                    <reporter username="uschindler">Uwe Schindler</reporter>
                        <labels>
                    </labels>
                <created>Mon, 8 Sep 2014 07:06:19 +0000</created>
                <updated>Fri, 24 Mar 2017 16:51:55 +0000</updated>
                            <resolved>Fri, 24 Mar 2017 16:51:55 +0000</resolved>
                                    <version>5.0</version>
                                                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14125261" author="jira-bot" created="Mon, 8 Sep 2014 07:10:13 +0000"  >&lt;p&gt;Commit 1623308 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thetaphi&quot; class=&quot;user-hover&quot; rel=&quot;thetaphi&quot;&gt;thetaphi&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1623308&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1623308&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6489&quot; title=&quot;morphlines-cell tests fail after upgrade to TIKA 1.6 or TIKA 1.7&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6489&quot;&gt;&lt;del&gt;SOLR-6489&lt;/del&gt;&lt;/a&gt;: Disable Morphlines-Cell tests, because Update to Tika 1.6 (&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6488&quot; title=&quot;Upgrade to TIKA 1.6&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6488&quot;&gt;&lt;del&gt;SOLR-6488&lt;/del&gt;&lt;/a&gt;) broke them&lt;/p&gt;</comment>
                            <comment id="14125263" author="jira-bot" created="Mon, 8 Sep 2014 07:11:10 +0000"  >&lt;p&gt;Commit 1623309 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thetaphi&quot; class=&quot;user-hover&quot; rel=&quot;thetaphi&quot;&gt;thetaphi&lt;/a&gt; in branch &apos;dev/branches/branch_4x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1623309&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1623309&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Merged revision(s) 1623308 from lucene/dev/trunk:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6489&quot; title=&quot;morphlines-cell tests fail after upgrade to TIKA 1.6 or TIKA 1.7&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6489&quot;&gt;&lt;del&gt;SOLR-6489&lt;/del&gt;&lt;/a&gt;: Disable Morphlines-Cell tests, because Update to Tika 1.6 (&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6488&quot; title=&quot;Upgrade to TIKA 1.6&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6488&quot;&gt;&lt;del&gt;SOLR-6488&lt;/del&gt;&lt;/a&gt;) broke them&lt;/p&gt;</comment>
                            <comment id="14125687" author="markrmiller@gmail.com" created="Mon, 8 Sep 2014 15:51:53 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thetaphi&quot; class=&quot;user-hover&quot; rel=&quot;thetaphi&quot;&gt;thetaphi&lt;/a&gt;, you really should wait longer than a weekend to disable tests and say you don&apos;t understand what the problem is because you want to slam in a library upgrade real quick. It&apos;s a distributed community, give time for collaboration before you disable tests. I doubt it was critical to jam in Tika 1.6 over the weekend.&lt;/p&gt;

&lt;p&gt;I&apos;ll look into the issue.&lt;/p&gt;</comment>
                            <comment id="14125710" author="markrmiller@gmail.com" created="Mon, 8 Sep 2014 16:19:44 +0000"  >&lt;p&gt;Bummer...seems like when someone re-factored the config for these tests, they stopped working from the IDE.&lt;/p&gt;</comment>
                            <comment id="14125723" author="markrmiller@gmail.com" created="Mon, 8 Sep 2014 16:32:21 +0000"  >&lt;p&gt;Okay, test fails from command line show that .gz files do not appear to be getting extracted properly anymore. If I remove those files, the rest of the tests pass.&lt;/p&gt;</comment>
                            <comment id="14125754" author="markrmiller@gmail.com" created="Mon, 8 Sep 2014 17:02:48 +0000"  >&lt;p&gt;So my initial guess is that kite-morphlines-tika-decompress depending on compress 1.4 and our move from 1.7 to 1.8 is perhaps the problem. Standard java jar hell.&lt;/p&gt;</comment>
                            <comment id="14126205" author="markrmiller@gmail.com" created="Mon, 8 Sep 2014 22:18:58 +0000"  >&lt;p&gt;A good chunk of the issue appears to be that the &apos;decompress&apos; morphline has support for the mime type &apos;application/x-gzip&apos; but not &apos;application/gzip&apos; and that perhaps Tika mimetype detection is now returning that instead for these .gz files.&lt;/p&gt;</comment>
                            <comment id="14126233" author="markrmiller@gmail.com" created="Mon, 8 Sep 2014 22:41:39 +0000"  >&lt;p&gt;I&apos;ll disable the gz tests and file an issue with morphlines.&lt;/p&gt;</comment>
                            <comment id="14126269" author="markrmiller@gmail.com" created="Mon, 8 Sep 2014 23:10:02 +0000"  >&lt;p&gt;The relevant change to Tika that caused this appears to be &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-1280&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/TIKA-1280&lt;/a&gt; GZip now has an official mimetype, which refers to &lt;a href=&quot;https://tools.ietf.org/html/rfc6713&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://tools.ietf.org/html/rfc6713&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;A list of alternates before the official mimetype can be found off &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-1282&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/TIKA-1282&lt;/a&gt; Additional Gzip types.&lt;/p&gt;</comment>
                            <comment id="14126293" author="thetaphi" created="Mon, 8 Sep 2014 23:24:25 +0000"  >&lt;blockquote&gt;&lt;p&gt;Uwe Schindler, you really should wait longer than a weekend to disable tests and say you don&apos;t understand what the problem is because you want to slam in a library upgrade real quick. It&apos;s a distributed community, give time for collaboration before you disable tests. I doubt it was critical to jam in Tika 1.6 over the weekend.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Sorry, I was not expecting this to fail. And as I said: I was not able to test it locally.&lt;/p&gt;</comment>
                            <comment id="14126707" author="thetaphi" created="Tue, 9 Sep 2014 06:59:32 +0000"  >&lt;p&gt;Hi Mark,&lt;/p&gt;

&lt;p&gt;if this is impossible to fix for you, I can revert my commit. I did not want to hurry anything, the bug was found by Jenkins after my commit (as I had no chance to test this locally).&lt;/p&gt;

&lt;p&gt;In my opinion, disabling the Morphlines tests until this is fixed is a simplier solution than preventing the upgrade of TIKA at all, especially as more people will use plain Solr Cell than those using Morphlines. The main problem here (as said before) is the fact that Solr depends on an external library, that itsself depends on an older version of Solr + a specific version of TIKA of that older Solr version. In my opinion, to fix the whole thing completely, the morphlines code (at least the Solr-relevant part) should also be donated to Solr and maintained in our repository, so it fits the version of Solr.&lt;/p&gt;

&lt;p&gt;I was also not expecting a failure, because TIKA did not change its APIs and the compile worked perfectly fine. To me morphlines-cell was just a client to the extracting content handler, I was not aware that it uses TIKA on its own, bypassing extracting content handler (which is not clear from looking at the tests). Maybe you give me a short introduction what it does in addition to Solr Cell and why those features cannot be in Solr Cell, so people who want to use it do not depend on Hadoop support.&lt;/p&gt;</comment>
                            <comment id="14281785" author="thetaphi" created="Sun, 18 Jan 2015 12:37:43 +0000"  >&lt;p&gt;Same issue with TIKA 1.7. I think the morphlines-libraries need to be upgraded first to take care of the new GZIP MIME type.&lt;/p&gt;</comment>
                            <comment id="14281787" author="thetaphi" created="Sun, 18 Jan 2015 12:48:31 +0000"  >&lt;p&gt;I checked, morphlines in Solr is still on older version:&lt;br/&gt;
org.kitesdk.kite-morphlines.version = 0.12.1&lt;/p&gt;

&lt;p&gt;The recent one is: 0.17.1&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=whoschek&quot; class=&quot;user-hover&quot; rel=&quot;whoschek&quot;&gt;whoschek&lt;/a&gt;: Do you know if the bug with TIKA 1.6 and 1.7 is fixed in newer releases? The problem is that TIKA 1.6 changed the MIME type of gzip compressed files to the &quot;official W3C one&quot;. Maybe the expression checking for this was just too strict. It would be good to fix this, because we release Solr 5.0 without working support for morphlines-cell (tests are disabled).&lt;/p&gt;</comment>
                            <comment id="14281790" author="thetaphi" created="Sun, 18 Jan 2015 12:53:30 +0000"  >&lt;p&gt;I tried it out: Fails in the same way with 0.17.1.&lt;/p&gt;</comment>
                            <comment id="14281794" author="jira-bot" created="Sun, 18 Jan 2015 13:00:18 +0000"  >&lt;p&gt;Commit 1652747 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thetaphi&quot; class=&quot;user-hover&quot; rel=&quot;thetaphi&quot;&gt;thetaphi&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1652747&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1652747&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6489&quot; title=&quot;morphlines-cell tests fail after upgrade to TIKA 1.6 or TIKA 1.7&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6489&quot;&gt;&lt;del&gt;SOLR-6489&lt;/del&gt;&lt;/a&gt;: Disable only failing tests&lt;/p&gt;</comment>
                            <comment id="14281795" author="jira-bot" created="Sun, 18 Jan 2015 13:00:56 +0000"  >&lt;p&gt;Commit 1652748 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thetaphi&quot; class=&quot;user-hover&quot; rel=&quot;thetaphi&quot;&gt;thetaphi&lt;/a&gt; in branch &apos;dev/branches/branch_5x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1652748&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1652748&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Merged revision(s) 1652747 from lucene/dev/trunk:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6489&quot; title=&quot;morphlines-cell tests fail after upgrade to TIKA 1.6 or TIKA 1.7&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6489&quot;&gt;&lt;del&gt;SOLR-6489&lt;/del&gt;&lt;/a&gt;: Disable only failing tests&lt;/p&gt;</comment>
                            <comment id="14281796" author="jira-bot" created="Sun, 18 Jan 2015 13:03:30 +0000"  >&lt;p&gt;Commit 1652749 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thetaphi&quot; class=&quot;user-hover&quot; rel=&quot;thetaphi&quot;&gt;thetaphi&lt;/a&gt; in branch &apos;dev/branches/lucene_solr_5_0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1652749&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1652749&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Merged revision(s) 1652747 from lucene/dev/trunk:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6489&quot; title=&quot;morphlines-cell tests fail after upgrade to TIKA 1.6 or TIKA 1.7&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6489&quot;&gt;&lt;del&gt;SOLR-6489&lt;/del&gt;&lt;/a&gt;: Disable only failing tests&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12980597">SOLR-9221</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="12739660">SOLR-6488</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12768065">SOLR-6991</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310051">
                    <name>Supercedes</name>
                                                                <inwardlinks description="is superceded by">
                                        <issuelink>
            <issuekey id="12980597">SOLR-9221</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 44 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1zs6n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>