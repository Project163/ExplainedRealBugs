<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:34:57 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-4318] NullPointerException encountered when /select query on solr.TextField.</title>
                <link>https://issues.apache.org/jira/browse/SOLR-4318</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;I have two fields, one is title and the other is description in my Solr schema like -&lt;br/&gt;
Type - &amp;lt;fieldType name=&quot;text&quot; class=&quot;solr.TextField&quot; positionIncrementGap=&quot;100&quot;/&amp;gt;&lt;/p&gt;

&lt;p&gt;Declaration - &amp;lt;field name=&quot;description&quot; type=&quot;text&quot; indexed=&quot;true&quot; stored=&quot;true&quot;/&amp;gt;&lt;br/&gt;
without any tokenizer or filter.&lt;/p&gt;

&lt;p&gt;On querying /select?q=description:myText it works. However when I add a &apos;*&apos; it fails.&lt;/p&gt;

&lt;p&gt;Failure scenario -&lt;br/&gt;
/select?q=description:*&lt;br/&gt;
/select?q=description:myText*&lt;br/&gt;
.. etc &lt;/p&gt;

&lt;p&gt;solrconfig.xml - &lt;/p&gt;

&lt;p&gt;&amp;lt;requestHandler name=&quot;/select&quot; class=&quot;solr.SearchHandler&quot;&amp;gt;&lt;br/&gt;
    &amp;lt;lst name=&quot;defaults&quot;&amp;gt;&lt;br/&gt;
       &amp;lt;str name=&quot;echoParams&quot;&amp;gt;explicit&amp;lt;/str&amp;gt;&lt;br/&gt;
       &amp;lt;int name=&quot;rows&quot;&amp;gt;10&amp;lt;/int&amp;gt;&lt;br/&gt;
       &amp;lt;str name=&quot;df&quot;&amp;gt;title&amp;lt;/str&amp;gt;&lt;br/&gt;
     &amp;lt;/lst&amp;gt;&lt;br/&gt;
&amp;lt;/requestHandler&amp;gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12628410">SOLR-4318</key>
            <summary>NullPointerException encountered when /select query on solr.TextField.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="erickerickson">Erick Erickson</assignee>
                                    <reporter username="junaidsurve">Junaid Surve</reporter>
                        <labels>
                            <label>query</label>
                            <label>select</label>
                    </labels>
                <created>Sat, 19 Jan 2013 13:12:15 +0000</created>
                <updated>Mon, 9 May 2016 18:44:34 +0000</updated>
                            <resolved>Fri, 15 Mar 2013 19:48:59 +0000</resolved>
                                    <version>4.0</version>
                                    <fixVersion>4.3</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                    <component>Build</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13558123" author="erickerickson" created="Sat, 19 Jan 2013 23:38:21 +0000"  >&lt;p&gt;Hmmm, this is an invalid field definition, you have to have at least one tokenizer or your field doesn&apos;t do anything.&lt;/p&gt;

&lt;p&gt;I can mask the error with a couple of trivial changes (see patch attached) but I don&apos;t think that&apos;s really a good fix. It seems we should (in order of my preference, either of my two &amp;lt;1&amp;gt;&apos;s work for me)&lt;/p&gt;

&lt;p&gt;1&amp;gt; fail hard at startup and force a valid fieldType definition before continuing.&lt;br/&gt;
1&amp;gt; default to WhitespaceTokenizer if no analysis chain defined. I can make get onboard with this being reasonable behavior&lt;br/&gt;
2&amp;gt; do nothing. I think this is a bad solution, violates the &quot;fail early&quot; policy, doesn&apos;t fail until someone happens to do a wildcard&lt;br/&gt;
3&amp;gt; put in a trivial fix (two places have to test for null like in the patch). I don&apos;t like this either, I&apos;m sure Junaid&apos;s next question would be that results weren&apos;t as expected, everyone wastes time then.&lt;/p&gt;

&lt;p&gt;Anyone want to weigh in?&lt;/p&gt;</comment>
                            <comment id="13558125" author="junaidsurve" created="Sat, 19 Jan 2013 23:44:58 +0000"  >&lt;p&gt;Erick I&apos;d say the 1.1 is better, enforces use of Tokenizer when type is Text. Also a line in the docs letting everyone know that Text fields need to have a Tokenizer.&lt;br/&gt;
&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; - for &quot;I&apos;m sure Junaid&apos;s next question would be that results weren&apos;t as expected&quot;.&lt;/p&gt;</comment>
                            <comment id="13603461" author="erickerickson" created="Fri, 15 Mar 2013 15:42:05 +0000"  >&lt;p&gt;Actually, on a second look I think the original patch is the right thing to do. There is actually a default tokenizer assigned to a TextField, admittedly it is rudimentary, but it&apos;s still defined. So my original statement was entirely wrong, a TextField type with no analysis chain is perfectly correct, it was entirely a problem with the MultiTermAware code. Fixing it with the original patch is fine. I&apos;ll add a test too.&lt;/p&gt;</comment>
                            <comment id="13603578" author="commit-tag-bot" created="Fri, 15 Mar 2013 17:44:55 +0000"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;trunk commit&amp;#93;&lt;/span&gt; Erick Erickson&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1457032&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1457032&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-4318&quot; title=&quot;NullPointerException encountered when /select query on solr.TextField.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-4318&quot;&gt;&lt;del&gt;SOLR-4318&lt;/del&gt;&lt;/a&gt; NPE when doing a wildcard query on a TextField with the default analysis chain&lt;/p&gt;</comment>
                            <comment id="13603757" author="erickerickson" created="Fri, 15 Mar 2013 19:47:46 +0000"  >&lt;p&gt;Patch with CHANGES entry as well as code.&lt;/p&gt;</comment>
                            <comment id="13603759" author="erickerickson" created="Fri, 15 Mar 2013 19:48:59 +0000"  >&lt;p&gt;Trunk r: 1457032&lt;br/&gt;
4x    r: 1457077&lt;/p&gt;

&lt;p&gt;Thanks for reporting this Junaid!&lt;/p&gt;</comment>
                            <comment id="13603779" author="commit-tag-bot" created="Fri, 15 Mar 2013 20:01:13 +0000"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;branch_4x commit&amp;#93;&lt;/span&gt; Erick Erickson&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1457077&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1457077&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-4318&quot; title=&quot;NullPointerException encountered when /select query on solr.TextField.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-4318&quot;&gt;&lt;del&gt;SOLR-4318&lt;/del&gt;&lt;/a&gt; NPE when doing a wildcard query on a TextField with the default analysis chain&lt;/p&gt;</comment>
                            <comment id="13653759" author="thetaphi" created="Fri, 10 May 2013 10:32:54 +0000"  >&lt;p&gt;Closed after release.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12573931" name="SOLR-4138.patch" size="3805" author="erickerickson" created="Fri, 15 Mar 2013 19:47:46 +0000"/>
                            <attachment id="12565657" name="SOLR-4318.patch" size="1239" author="erickerickson" created="Sat, 19 Jan 2013 23:38:21 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>305562</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 28 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i18f8v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>257272</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>