<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 05:11:16 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-17454] ERROR message in logs with multithreaded searches</title>
                <link>https://issues.apache.org/jira/browse/SOLR-17454</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;I sent a message to the Users mailing list about this, but received no response. However, I think it is still a problem.&#160;&lt;/p&gt;

&lt;p&gt;When searching with 9.7.0 and enabled multithreaded search, I now get an ERROR message in my logs:&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2024-09-16 08:32:05.795 ERROR (qtp1756573246-34-&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;-1) [c: s: r: x:core_name t:&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;-1] o.a.s.s.MultiThreadedSearcher raw read max=5922019 &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The max number is the total number of documents in the core.&lt;/p&gt;

&lt;p&gt;I&apos;ve tracked it down to this part of the code:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/solr/blob/5bc7c1618e05b35bd0fa8471ae09329357a82036/solr/core/src/java/org/apache/solr/search/MultiThreadedSearcher.java#L86-L91&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/solr/blob/5bc7c1618e05b35bd0fa8471ae09329357a82036/solr/core/src/java/org/apache/solr/search/MultiThreadedSearcher.java#L86-L91&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I&apos;m not entirely convinced that an ERROR level message is necessary here?&#160;&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;The query seems to still function;&lt;/li&gt;
	&lt;li&gt;Once the error condition is logged, the code seems to create a new doc set and continues;&lt;/li&gt;
	&lt;li&gt;The documentation doesn&apos;t suggest anything for how to avoid this? I&apos;m not sure why &quot;needDocSet&quot; is true here, and how it can be anything otherwise?&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Surely an &quot;info&quot; or &quot;warn&quot; log message is more appropriate for these cases? Unless it really is an error condition, but then the docs should be updated to mention what could be done to avoid the error?&lt;/p&gt;</description>
                <environment>&lt;p&gt;Solr 9.7.0&lt;/p&gt;

&lt;p&gt;Ubuntu 22.04 LTS&lt;/p&gt;</environment>
        <key id="13592225">SOLR-17454</key>
            <summary>ERROR message in logs with multithreaded searches</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ahankinson">Andrew Hankinson</reporter>
                        <labels>
                            <label>docs</label>
                            <label>error</label>
                            <label>log-level</label>
                            <label>multithreaded</label>
                            <label>pull-request-available</label>
                    </labels>
                <created>Mon, 16 Sep 2024 09:06:40 +0000</created>
                <updated>Tue, 28 Jan 2025 22:17:49 +0000</updated>
                            <resolved>Fri, 27 Sep 2024 20:19:19 +0000</resolved>
                                    <version>9.7</version>
                                    <fixVersion>9.8</fixVersion>
                                    <component>search</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="17882387" author="cpoerschke" created="Tue, 17 Sep 2024 13:00:08 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ahankinson&quot; class=&quot;user-hover&quot; rel=&quot;ahankinson&quot;&gt;ahankinson&lt;/a&gt; for noticing and reporting this!&lt;/p&gt;

&lt;p&gt;It seems this got missed here: &lt;a href=&quot;https://github.com/apache/solr/pull/2248#discussion_r1689870031&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/solr/pull/2248#discussion_r1689870031&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Would you like to open a PR with the change(s) needed?&lt;/p&gt;</comment>
                            <comment id="17882388" author="dsmiley" created="Tue, 17 Sep 2024 13:03:20 +0000"  >&lt;p&gt;It&apos;s a sloppy practice but some devs do log.error at dev-time instead of log.debug because you don&apos;t need to go tweak a log level in a configuration.  And then it gets forgotten.  An added &quot;// nocommit&quot; comment on our project have prevented it from shipping.  I remember loooong ago, Oracle embarrassingly logged a bunch of stuff on the error log in their published JDBC driver.   Ooops!&lt;/p&gt;</comment>
                            <comment id="17882646" author="ahankinson" created="Wed, 18 Sep 2024 09:26:08 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cpoerschke&quot; class=&quot;user-hover&quot; rel=&quot;cpoerschke&quot;&gt;cpoerschke&lt;/a&gt; thank you for confirming this. I&apos;m not really sure what the appropriate resolution is? Should it be knocked down to a different logging level, or removed entirely?&#160;&lt;/p&gt;</comment>
                            <comment id="17885467" author="jira-bot" created="Fri, 27 Sep 2024 20:15:49 +0000"  >&lt;p&gt;Commit 00a3bf284b6e7d3ef8941497f8dc6efacf2d4545 in solr&apos;s branch refs/heads/main from Andrew Hankinson&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=00a3bf284b6&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=00a3bf284b6&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-17454&quot; title=&quot;ERROR message in logs with multithreaded searches&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-17454&quot;&gt;&lt;del&gt;SOLR-17454&lt;/del&gt;&lt;/a&gt;: Remove debugging error message (#2720)&lt;/p&gt;

&lt;p&gt;Removes an errant ERROR message in the Solr logs. This message is not an error, and since there are no other logging calls in this file, it was simply removed.&lt;/p&gt;</comment>
                            <comment id="17885470" author="jira-bot" created="Fri, 27 Sep 2024 20:18:38 +0000"  >&lt;p&gt;Commit f66ebfd244183df558c0ca484c11f25b90090054 in solr&apos;s branch refs/heads/branch_9x from Andrew Hankinson&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=f66ebfd2441&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=f66ebfd2441&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-17454&quot; title=&quot;ERROR message in logs with multithreaded searches&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-17454&quot;&gt;&lt;del&gt;SOLR-17454&lt;/del&gt;&lt;/a&gt;: Remove debugging error message (#2720)&lt;/p&gt;

&lt;p&gt;Removes an errant ERROR message in the Solr logs. This message is not an error, and since there are no other logging calls in this file, it was simply removed.&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 00a3bf284b6e7d3ef8941497f8dc6efacf2d4545)&lt;/p&gt;</comment>
                            <comment id="17885471" author="dsmiley" created="Fri, 27 Sep 2024 20:19:19 +0000"  >&lt;p&gt;Thanks Andrew!&lt;/p&gt;</comment>
                            <comment id="17921905" author="anshumg" created="Tue, 28 Jan 2025 22:17:49 +0000"  >&lt;p&gt;Closing after the 9.8.0 release&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            41 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1rftk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>