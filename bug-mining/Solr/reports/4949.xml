<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:52:14 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-16502] Multiple CopyField should not limit to first maxChars</title>
                <link>https://issues.apache.org/jira/browse/SOLR-16502</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;We&#8217;ve stumbled upon something that seems like a bug. &#160;The behaviour is changed since solr 8.11.&#160;&#160;&lt;/p&gt;

&lt;p&gt;If we setup copyfield with maxChars, this is &#8220;remembered&#8221; for all other copyField-operations (at least for the same source field).&lt;/p&gt;

&lt;p&gt;From schema.xml:&lt;br/&gt;
&lt;tt&gt;&amp;lt;field name=&quot;searchablefield&quot; type=&quot;text&quot; indexed=&quot;true&quot; stored=&quot;true&quot; multiValued=&quot;true&quot;/&amp;gt;&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;&amp;lt;field name=&quot;genteaser&quot; type=&quot;text&quot; indexed=&quot;false&quot; stored=&quot;true&quot;/&amp;gt;&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;Input doc:&lt;br/&gt;
&lt;tt&gt;body:&#8220;On a brighter note, they have a phone number to call if you are interested in volunteering. &#160;You can call 860 - 690 - 4300 ext 2. &#160;(there are a lot of forms to fill out, and they are asking for info on when the babies are due) &#160;There was a lady in here yesterday asking how to volunteer. &#160;She is 2 - 3 months pregnant and wants to get her hands dirty. &#160;She says her husband will be home at the time, but can&apos;t drive, so she wants to be able to help out. &#160;So I told her the names of the people who are in charge, and also pointed her in the direction of a site where she can make an appointment to drop off some pre - packaged meals. &#160;I&apos;ll let you know what I hear from them when I do. &#160;One day I had not posted because all I was going to do was complain about how the morning sickness is wearing me out! &#160;Then I thought, I can make this an uplifting post, so I&apos;ll share with you about my friend Jackie, who I met in high school, who went through this 2 years ago with her first baby, Samuel.&quot;&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;search with qf=searchablefield for q=&#8220;Samuel&quot;&lt;/p&gt;

&lt;p&gt;HIT (OK)&lt;br/&gt;
&lt;tt&gt;&amp;lt;copyField source=&quot;body&quot; dest=&quot;genteaser&quot; /&amp;gt;&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;&amp;lt;copyField source=&quot;body&quot; dest=&quot;searchablefield&quot;/&amp;gt;&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;HIT (OK)&lt;br/&gt;
&lt;tt&gt;&amp;lt;copyField source=&quot;body&quot; dest=&quot;searchablefield&quot; &#160;maxChars=&quot;3000000&quot;/&amp;gt;&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;&amp;lt;copyField source=&quot;body&quot; dest=&quot;genteaser&quot; maxChars=&quot;300&quot;/&amp;gt;&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;NO HIT (as expected)&lt;br/&gt;
&lt;tt&gt;&amp;lt;copyField source=&quot;body&quot; dest=&quot;searchablefield&quot; &#160;maxChars=&quot;300&quot;/&amp;gt;&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;&amp;lt;copyField source=&quot;body&quot; dest=&quot;genteaser&quot; maxChars=&quot;300&#8221;/&amp;gt;&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;NO HIT (BUG):&lt;br/&gt;
&lt;tt&gt;&amp;lt;copyField source=&quot;body&quot; dest=&quot;genteaser&quot; maxChars=&quot;300&quot;/&amp;gt;&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;&amp;lt;copyField source=&quot;body&quot; dest=&quot;searchablefield&quot; &#160;maxChars=&quot;300000&#8221;/&amp;gt;&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;NO HIT (BUG):&lt;br/&gt;
&lt;tt&gt;&amp;lt;copyField source=&quot;body&quot; dest=&quot;genteaser&quot; maxChars=&quot;300&quot;/&amp;gt;&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;&amp;lt;copyField source=&quot;body&quot; dest=&quot;searchablefield&quot;/&amp;gt;&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;Included a patch with a couple of new fields added to schema.xml and a failing test.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;This was also posted to the user mailling list.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13492383">SOLR-16502</key>
            <summary>Multiple CopyField should not limit to first maxChars</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="krisden">Kevin Risden</assignee>
                                    <reporter username="fmr">Fredrik Rodland</reporter>
                        <labels>
                    </labels>
                <created>Thu, 27 Oct 2022 07:48:02 +0000</created>
                <updated>Fri, 17 Oct 2025 20:04:45 +0000</updated>
                            <resolved>Thu, 27 Oct 2022 19:29:34 +0000</resolved>
                                    <version>9.0</version>
                    <version>9.1</version>
                                    <fixVersion>9.1</fixVersion>
                    <fixVersion>10.0</fixVersion>
                                    <component>Schema and Analysis</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>4</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="4800">1h 20m</timespent>
                                <comments>
                            <comment id="17625059" author="monti" created="Thu, 27 Oct 2022 11:50:07 +0000"  >&lt;p&gt;Link to thread in users@solr.apache.org: &lt;a href=&quot;https://lists.apache.org/thread/fb4clbk44cg6464fmb9cd8j4ncpo6omw&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://lists.apache.org/thread/fb4clbk44cg6464fmb9cd8j4ncpo6omw&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17625216" author="risdenk" created="Thu, 27 Oct 2022 17:08:31 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fmr&quot; class=&quot;user-hover&quot; rel=&quot;fmr&quot;&gt;fmr&lt;/a&gt; / &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=monti&quot; class=&quot;user-hover&quot; rel=&quot;monti&quot;&gt;monti&lt;/a&gt; thanks for the report. I was able to take the  &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/13051481/13051481_maxchars.patch&quot; title=&quot;maxchars.patch attached to SOLR-16502&quot;&gt;maxchars.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; and find the problem quickly. PR with a fix is here: &lt;a href=&quot;https://github.com/apache/solr/pull/1141&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/solr/pull/1141&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17625218" author="risdenk" created="Thu, 27 Oct 2022 17:11:03 +0000"  >&lt;p&gt;This was inadvertently introduced in &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-15880&quot; title=&quot;Introduce Support to K Nearest Neighbors Search&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-15880&quot;&gt;&lt;del&gt;SOLR-15880&lt;/del&gt;&lt;/a&gt;. The commit for &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-15880&quot; title=&quot;Introduce Support to K Nearest Neighbors Search&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-15880&quot;&gt;&lt;del&gt;SOLR-15880&lt;/del&gt;&lt;/a&gt; made the copy field trim the original value instead of making a copy to update.&lt;/p&gt;</comment>
                            <comment id="17625267" author="fmr" created="Thu, 27 Oct 2022 19:23:23 +0000"  >&lt;p&gt;Thanks for fixing this so promptly &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=krisden&quot; class=&quot;user-hover&quot; rel=&quot;krisden&quot;&gt;krisden&lt;/a&gt; !&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17625270" author="jira-bot" created="Thu, 27 Oct 2022 19:24:55 +0000"  >&lt;p&gt;Commit b8ca0ce23e2ebe1b33c85b71fc61ab9cf8411a35 in solr&apos;s branch refs/heads/main from Kevin Risden&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=b8ca0ce23e2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=b8ca0ce23e2&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16502&quot; title=&quot;Multiple CopyField should not limit to first maxChars&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16502&quot;&gt;&lt;del&gt;SOLR-16502&lt;/del&gt;&lt;/a&gt;: Multiple CopyField should not limit to first maxChars (#1141)&lt;/p&gt;

&lt;p&gt;Co-authored-by: Christine Poerschke &amp;lt;cpoerschke@apache.org&amp;gt;&lt;/p&gt;</comment>
                            <comment id="17625274" author="jira-bot" created="Thu, 27 Oct 2022 19:29:36 +0000"  >&lt;p&gt;Commit 7ab1d3300c901cd4ea46ffaca63f7d4ed1f13001 in solr&apos;s branch refs/heads/branch_9x from Kevin Risden&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=7ab1d3300c9&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=7ab1d3300c9&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16502&quot; title=&quot;Multiple CopyField should not limit to first maxChars&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16502&quot;&gt;&lt;del&gt;SOLR-16502&lt;/del&gt;&lt;/a&gt;: Multiple CopyField should not limit to first maxChars (#1141)&lt;/p&gt;

&lt;p&gt;Co-authored-by: Christine Poerschke &amp;lt;cpoerschke@apache.org&amp;gt;&lt;/p&gt;</comment>
                            <comment id="17628928" author="jira-bot" created="Fri, 4 Nov 2022 12:07:58 +0000"  >&lt;p&gt;Commit 4c2fde2e472e30a164d5d1bbca0629ca62bf15b3 in solr&apos;s branch refs/heads/branch_9_1 from Kevin Risden&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=4c2fde2e472&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=4c2fde2e472&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16502&quot; title=&quot;Multiple CopyField should not limit to first maxChars&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16502&quot;&gt;&lt;del&gt;SOLR-16502&lt;/del&gt;&lt;/a&gt;: Multiple CopyField should not limit to first maxChars (#1141)&lt;/p&gt;

&lt;p&gt;Co-authored-by: Christine Poerschke &amp;lt;cpoerschke@apache.org&amp;gt;&lt;br/&gt;
(cherry picked from commit 7ab1d3300c901cd4ea46ffaca63f7d4ed1f13001)&lt;/p&gt;

&lt;p&gt;Resolved Conflicts:&lt;br/&gt;
	solr/CHANGES.txt&lt;/p&gt;</comment>
                            <comment id="17628934" author="jira-bot" created="Fri, 4 Nov 2022 12:13:40 +0000"  >&lt;p&gt;Commit 349b3bd859e62e59b594ce9abb2dc7341fc5476b in solr&apos;s branch refs/heads/branch_9x from Christine Poerschke&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=349b3bd859e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=349b3bd859e&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16502&quot; title=&quot;Multiple CopyField should not limit to first maxChars&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16502&quot;&gt;&lt;del&gt;SOLR-16502&lt;/del&gt;&lt;/a&gt;: move solr/CHANGES.txt from 9.2 to 9.1 section&lt;/p&gt;</comment>
                            <comment id="17628935" author="jira-bot" created="Fri, 4 Nov 2022 12:14:12 +0000"  >&lt;p&gt;Commit 1c7b58a02f3c8dc8f01224163183045532e0566b in solr&apos;s branch refs/heads/main from Christine Poerschke&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=1c7b58a02f3&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=1c7b58a02f3&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16502&quot; title=&quot;Multiple CopyField should not limit to first maxChars&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16502&quot;&gt;&lt;del&gt;SOLR-16502&lt;/del&gt;&lt;/a&gt;: move solr/CHANGES.txt from 9.2 to 9.1 section&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 349b3bd859e62e59b594ce9abb2dc7341fc5476b)&lt;/p&gt;</comment>
                            <comment id="17628937" author="fmr" created="Fri, 4 Nov 2022 12:17:09 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cpoerschke&quot; class=&quot;user-hover&quot; rel=&quot;cpoerschke&quot;&gt;cpoerschke&lt;/a&gt; !&lt;/p&gt;</comment>
                            <comment id="17656840" author="ishan" created="Tue, 10 Jan 2023 20:45:28 +0000"  >&lt;p&gt;Bulk closing 9.1 issues.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13419352">SOLR-15880</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="13051481" name="maxchars.patch" size="3644" author="fmr" created="Thu, 27 Oct 2022 07:46:00 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 44 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1aepk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>