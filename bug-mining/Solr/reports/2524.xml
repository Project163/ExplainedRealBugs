<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:05:58 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-7652] example/files update-script.js does not work on Java7</title>
                <link>https://issues.apache.org/jira/browse/SOLR-7652</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;A colleague reported that example/files does not work with Java 7, but did with Java 8. &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;$ bin/solr create -c files -d example/files/conf/

Setup &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; core instance directory:
/Users/erikhatcher/dev/clean-branch_5x/solr/server/solr/files

Creating &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; core &lt;span class=&quot;code-quote&quot;&gt;&apos;files&apos;&lt;/span&gt; using command:
http:&lt;span class=&quot;code-comment&quot;&gt;//localhost:8983/solr/admin/cores?action=CREATE&amp;amp;name=files&amp;amp;instanceDir=files
&lt;/span&gt;
Failed to create core &lt;span class=&quot;code-quote&quot;&gt;&apos;files&apos;&lt;/span&gt; due to: Error CREATEing SolrCore &lt;span class=&quot;code-quote&quot;&gt;&apos;files&apos;&lt;/span&gt;: Unable to create core [files] Caused by: missing name after . &lt;span class=&quot;code-keyword&quot;&gt;operator&lt;/span&gt; (&amp;lt;Unknown source&amp;gt;#73)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;with this in solr.log:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Caused by: org.apache.solr.common.SolrException: Unable to evaluate script: update-script.js
	at org.apache.solr.update.processor.StatelessScriptUpdateProcessorFactory.initEngines(StatelessScriptUpdateProcessorFactory.java:313)
	at org.apache.solr.update.processor.StatelessScriptUpdateProcessorFactory.inform(StatelessScriptUpdateProcessorFactory.java:227)
	... 33 more
Caused by: javax.script.ScriptException: sun.org.mozilla.javascript.internal.EvaluatorException: missing name after . &lt;span class=&quot;code-keyword&quot;&gt;operator&lt;/span&gt; (&amp;lt;Unknown source&amp;gt;#73) in &amp;lt;Unknown source&amp;gt; at line number 73
	at com.sun.script.javascript.RhinoScriptEngine.eval(RhinoScriptEngine.java:224)
	at javax.script.AbstractScriptEngine.eval(AbstractScriptEngine.java:249)
	at org.apache.solr.update.processor.StatelessScriptUpdateProcessorFactory.initEngines(StatelessScriptUpdateProcessorFactory.java:311)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12836515">SOLR-7652</key>
            <summary>example/files update-script.js does not work on Java7</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ehatcher">Erik Hatcher</assignee>
                                    <reporter username="ehatcher">Erik Hatcher</reporter>
                        <labels>
                    </labels>
                <created>Tue, 9 Jun 2015 11:34:58 +0000</created>
                <updated>Mon, 9 May 2016 18:57:38 +0000</updated>
                            <resolved>Tue, 16 Jun 2015 11:45:59 +0000</resolved>
                                    <version>5.2</version>
                                    <fixVersion>5.2.1</fixVersion>
                    <fixVersion>5.3</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14578820" author="ehatcher" created="Tue, 9 Jun 2015 12:33:57 +0000"  >&lt;p&gt;Here&apos;s a patch that fixes example/files update-script.js for Java7&lt;/p&gt;</comment>
                            <comment id="14579483" author="jira-bot" created="Tue, 9 Jun 2015 19:57:27 +0000"  >&lt;p&gt;Commit 1684510 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ehatcher&quot; class=&quot;user-hover&quot; rel=&quot;ehatcher&quot;&gt;ehatcher&lt;/a&gt; in branch &apos;dev/branches/branch_5x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1684510&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1684510&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7652&quot; title=&quot;example/files update-script.js does not work on Java7&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7652&quot;&gt;&lt;del&gt;SOLR-7652&lt;/del&gt;&lt;/a&gt;: Fix example/files update-script.js to work with Java 7&lt;/p&gt;</comment>
                            <comment id="14579489" author="jira-bot" created="Tue, 9 Jun 2015 20:03:48 +0000"  >&lt;p&gt;Commit 1684511 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ehatcher&quot; class=&quot;user-hover&quot; rel=&quot;ehatcher&quot;&gt;ehatcher&lt;/a&gt; in branch &apos;dev/branches/lucene_solr_5_2&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1684511&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1684511&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7652&quot; title=&quot;example/files update-script.js does not work on Java7&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7652&quot;&gt;&lt;del&gt;SOLR-7652&lt;/del&gt;&lt;/a&gt;: Fix example/files update-script.js to work with Java 7 (merged from branch_5x r1684510)&lt;/p&gt;</comment>
                            <comment id="14579506" author="ehatcher" created="Tue, 9 Jun 2015 20:19:08 +0000"  >&lt;p&gt;Except, this now fails on Java 8, ARG, 5x and trunk:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;2015-06-09 20:13:48.485 ERROR (qtp434176574-13) [   x:files] o.a.s.c.SolrCore java.lang.ClassCastException: Cannot &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt; jdk.internal.dynalink.beans.StaticClass to java.lang.&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;
	at java.lang.invoke.MethodHandleImpl.newClassCastException(MethodHandleImpl.java:312)
	at java.lang.invoke.MethodHandleImpl.castReference(MethodHandleImpl.java:307)
	at jdk.nashorn.internal.scripts.Script$\^eval\_.processAdd(&amp;lt;eval&amp;gt;:74)
	at jdk.nashorn.internal.runtime.ScriptFunctionData.invoke(ScriptFunctionData.java:537)
	at jdk.nashorn.internal.runtime.ScriptFunction.invoke(ScriptFunction.java:209)
	at jdk.nashorn.internal.runtime.ScriptRuntime.apply(ScriptRuntime.java:378)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Time to research if there&apos;s a way to get this to work in both versions of the built-in Java 7 and 8 JavaScript engines.  For now I&apos;ll leave it with the fix for Java7 on 5x, and Java8 on trunk.   &lt;/p&gt;</comment>
                            <comment id="14586682" author="jira-bot" created="Mon, 15 Jun 2015 20:52:34 +0000"  >&lt;p&gt;Commit 1685667 from shalin@apache.org in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1685667&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1685667&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7652&quot; title=&quot;example/files update-script.js does not work on Java7&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7652&quot;&gt;&lt;del&gt;SOLR-7652&lt;/del&gt;&lt;/a&gt;: Adding the change log entry to 5.2.1 (it was accidentally deleted)&lt;/p&gt;</comment>
                            <comment id="14586684" author="jira-bot" created="Mon, 15 Jun 2015 20:53:19 +0000"  >&lt;p&gt;Commit 1685668 from shalin@apache.org in branch &apos;dev/branches/branch_5x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1685668&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1685668&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7652&quot; title=&quot;example/files update-script.js does not work on Java7&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7652&quot;&gt;&lt;del&gt;SOLR-7652&lt;/del&gt;&lt;/a&gt;: Adding the change log entry to 5.2.1 (it was accidentally deleted)&lt;/p&gt;</comment>
                            <comment id="14586685" author="jira-bot" created="Mon, 15 Jun 2015 20:54:14 +0000"  >&lt;p&gt;Commit 1685669 from shalin@apache.org in branch &apos;dev/branches/lucene_solr_5_2&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1685669&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1685669&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7652&quot; title=&quot;example/files update-script.js does not work on Java7&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7652&quot;&gt;&lt;del&gt;SOLR-7652&lt;/del&gt;&lt;/a&gt;: Adding the change log entry to 5.2.1 (it was accidentally deleted)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12738578" name="SOLR-7652.patch" size="1153" author="ehatcher" created="Tue, 9 Jun 2015 12:33:57 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 23 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ftrb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>