<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:29:27 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-11591] AutoAddReplicasIntegrationTest failures on jenkins</title>
                <link>https://issues.apache.org/jira/browse/SOLR-11591</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;Jenkins shows rare test failures for this one:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;&lt;a href=&quot;http://jenkins.sarowe.net/view/Enabled/job/Lucene-Solr-tests-master/13525/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://jenkins.sarowe.net/view/Enabled/job/Lucene-Solr-tests-master/13525/&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;http://jenkins.sarowe.net/view/Enabled/job/Lucene-Solr-tests-master/13530/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://jenkins.sarowe.net/view/Enabled/job/Lucene-Solr-tests-master/13530/&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
</description>
                <environment></environment>
        <key id="13115303">SOLR-11591</key>
            <summary>AutoAddReplicasIntegrationTest failures on jenkins</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="shalin">Shalin Shekhar Mangar</reporter>
                        <labels>
                    </labels>
                <created>Wed, 1 Nov 2017 07:11:22 +0000</created>
                <updated>Wed, 2 Oct 2019 17:24:48 +0000</updated>
                            <resolved>Fri, 15 Jun 2018 06:56:59 +0000</resolved>
                                                    <fixVersion>7.3</fixVersion>
                    <fixVersion>8.0</fixVersion>
                                    <component>AutoScaling</component>
                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="16233728" author="shalinmangar" created="Wed, 1 Nov 2017 07:13:39 +0000"  >&lt;p&gt;Attaching log output from the test runs.&lt;/p&gt;</comment>
                            <comment id="16233788" author="caomanhdat" created="Wed, 1 Nov 2017 08:48:25 +0000"  >&lt;p&gt;The test gets failed because of  a race condition, here are the case&lt;br/&gt;
1. The nodeA get down&lt;br/&gt;
2. Replicas of nodeA get moved to nodeB ( by MoveReplicaCmd )&lt;br/&gt;
3. MoveReplicaCmd add new replicas on nodeB&lt;br/&gt;
4. nodeA comes back, and on preRegister, the old replicas still there&lt;br/&gt;
5. MoveReplicaCmd remove nodeA replicas from ZK&lt;br/&gt;
6. nodeA register its replicas as DOWN on ZK -&amp;gt; this lead to the assertion failure&lt;/p&gt;

&lt;p&gt;The solution right now is to fix the test first ( so race condition cannot happen ), then we will solve the race condition problem after that.&lt;/p&gt;</comment>
                            <comment id="16234125" author="jira-bot" created="Wed, 1 Nov 2017 14:18:12 +0000"  >&lt;p&gt;Commit 44b7bc017729bf222ed9774d8a3fcd0e0da3231a in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=shalin&quot; class=&quot;user-hover&quot; rel=&quot;shalin&quot;&gt;shalin&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=44b7bc0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=44b7bc0&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11591&quot; title=&quot;AutoAddReplicasIntegrationTest failures on jenkins&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-11591&quot;&gt;&lt;del&gt;SOLR-11591&lt;/del&gt;&lt;/a&gt;: Change the test to not run into the race condition identified until we fix it&lt;/p&gt;</comment>
                            <comment id="16234129" author="jira-bot" created="Wed, 1 Nov 2017 14:19:25 +0000"  >&lt;p&gt;Commit 8bb1f145e0591e7e301c18a8edf56ef2f0f92be9 in lucene-solr&apos;s branch refs/heads/branch_7x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=shalin&quot; class=&quot;user-hover&quot; rel=&quot;shalin&quot;&gt;shalin&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=8bb1f14&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=8bb1f14&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11591&quot; title=&quot;AutoAddReplicasIntegrationTest failures on jenkins&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-11591&quot;&gt;&lt;del&gt;SOLR-11591&lt;/del&gt;&lt;/a&gt;: Change the test to not run into the race condition identified until we fix it&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 44b7bc0)&lt;/p&gt;</comment>
                            <comment id="16396794" author="ab" created="Tue, 13 Mar 2018 10:29:11 +0000"  >&lt;p&gt;This test now fails 100% on master.&lt;/p&gt;

&lt;p&gt;Edit: this is likely caused by the increased default value of &lt;tt&gt;waitFor&lt;/tt&gt; introduced in &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-12067&quot; title=&quot;AutoAddReplicas default 30 second wait time is too low&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-12067&quot;&gt;&lt;del&gt;SOLR-12067&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="16396878" author="romseygeek" created="Tue, 13 Mar 2018 12:27:31 +0000"  >&lt;p&gt;This is also failing all of the time on the 7.3 release branch&lt;/p&gt;</comment>
                            <comment id="16396879" author="shalinmangar" created="Tue, 13 Mar 2018 12:29:12 +0000"  >&lt;p&gt;Sorry about this one, I am testing a fix locally. Will push it in a few minutes.&lt;/p&gt;</comment>
                            <comment id="16396880" author="romseygeek" created="Tue, 13 Mar 2018 12:30:49 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=shalin&quot; class=&quot;user-hover&quot; rel=&quot;shalin&quot;&gt;shalin&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16396907" author="shalinmangar" created="Tue, 13 Mar 2018 12:54:41 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=romseygeek&quot; class=&quot;user-hover&quot; rel=&quot;romseygeek&quot;&gt;romseygeek&lt;/a&gt; &amp;#8211; I&apos;ve pushed the fixes to master, branch_7x and branch_7_3. You should be good to go ahead. Thanks!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13060699">SOLR-10397</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12895140" name="13525-logs.txt" size="1557880" author="shalin" created="Wed, 1 Nov 2017 07:13:37 +0000"/>
                            <attachment id="12895141" name="13530-logs.txt" size="2339678" author="shalin" created="Wed, 1 Nov 2017 07:13:00 +0000"/>
                            <attachment id="12895147" name="SOLR-11591.test.fix.patch" size="1288" author="caomanhdat" created="Wed, 1 Nov 2017 08:43:31 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 36 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3m99b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>