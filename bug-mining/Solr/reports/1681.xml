<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:44:09 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-5532] SolrJ Content-Type validation is too strict for some webcontainers / proxies, breaks on equivilent content types</title>
                <link>https://issues.apache.org/jira/browse/SOLR-5532</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;due to &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-3530&quot; title=&quot;better error messages / Content-Type validation in solrJ&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-3530&quot;&gt;&lt;del&gt;SOLR-3530&lt;/del&gt;&lt;/a&gt;, HttpSolrServer now does a string equivilence check between the &quot;Content-Type&quot; returned by the server, and a getContentTYpe() method declared by the ResponseParser .. but string equivilence is too strict, and can result in errors like this one reported by a user....&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;I just upgraded my Solr instance and with it I also upgraded the solrj library in our custom application which sends diverse requests and queries to Solr.&lt;/p&gt;

&lt;p&gt;I use the &quot;ping&quot; method to determine whether Solr started correctly under the configured address. Since the upgrade the ping response results in an error:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;Cause: org.apache.solr.client.solrj.impl.HttpSolrServer$RemoteSolrException: Expected content type application/xml; charset=UTF-8 but got application/xml;charset=UTF-8.
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;?xml version=&lt;span class=&quot;code-quote&quot;&gt;&quot;1.0&quot;&lt;/span&gt; encoding=&lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-8&quot;&lt;/span&gt;?&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;response&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;lst name=&lt;span class=&quot;code-quote&quot;&gt;&quot;responseHeader&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;int name=&lt;span class=&quot;code-quote&quot;&gt;&quot;status&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;0&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/int&amp;gt;&lt;/span&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;int name=&lt;span class=&quot;code-quote&quot;&gt;&quot;QTime&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;0&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/int&amp;gt;&lt;/span&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;lst name=&lt;span class=&quot;code-quote&quot;&gt;&quot;params&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;df&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;searchtext&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/str&amp;gt;&lt;/span&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;echoParams&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;all&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/str&amp;gt;&lt;/span&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;rows&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;10&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/str&amp;gt;&lt;/span&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;echoParams&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;all&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/str&amp;gt;&lt;/span&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;wt&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;xml&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/str&amp;gt;&lt;/span&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;version&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;2.2&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/str&amp;gt;&lt;/span&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;q&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;solrpingquery&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/str&amp;gt;&lt;/span&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;distrib&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;false&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/str&amp;gt;&lt;/span&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/lst&amp;gt;&lt;/span&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/lst&amp;gt;&lt;/span&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;status&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;OK&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/str&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/response&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The Solr application itself works fine.&lt;br/&gt;
Using an older version of the solrj library than solr-solrj-4.6.0.jar (e.g. solr-solrj-4.5.1.jar) in the custom application does not produce this error.&lt;/p&gt;

&lt;p&gt;The Exception is produced in a Code block (&lt;em&gt;HttpSolrServer.java&lt;/em&gt;, method &lt;em&gt;request(...)&lt;/em&gt;, around. line 140) which has been introduced with version 4.6.0.&lt;/p&gt;

&lt;p&gt;Code to reproduce the error:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
	HttpSolrServer solrServer = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; HttpSolrServer(&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//localhost:8080/Solr/collection&quot;&lt;/span&gt;);
&lt;/span&gt;	solrServer.setParser(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; XMLResponseParser()); &lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; line is making all the difference
&lt;/span&gt;	solrServer.ping();
} &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (Exception e) {
	e.printStackTrace();
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;A global search for &quot;charset=UTF-8&quot; on the source code of solrj indicates that other functions besides &quot;ping&quot; might be affected as well, because there are several places where &quot;application/xml; charset=UTF-8&quot; is spelled without a space after the semicolon.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows 7, Java 1.7.0_45 (64bit), solr-solrj-4.6.0.jar&lt;/p&gt;</environment>
        <key id="12682942">SOLR-5532</key>
            <summary>SolrJ Content-Type validation is too strict for some webcontainers / proxies, breaks on equivilent content types</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="markrmiller@gmail.com">Mark Miller</assignee>
                                    <reporter username="jafurrer">Jakob Furrer</reporter>
                        <labels>
                    </labels>
                <created>Thu, 5 Dec 2013 16:51:51 +0000</created>
                <updated>Mon, 9 May 2016 18:50:04 +0000</updated>
                            <resolved>Sun, 5 Jan 2014 21:02:13 +0000</resolved>
                                    <version>4.6</version>
                                    <fixVersion>4.6.1</fixVersion>
                    <fixVersion>4.7</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="13840356" author="elyograg" created="Thu, 5 Dec 2013 18:12:43 +0000"  >&lt;p&gt;My server is not upgraded to 4.6 - it&apos;s running 4.2.1 ... with that server, your test code works fine.  I am in the process of setting up a test server running 4.6, but I don&apos;t have it yet.  Is your server also running 4.6?&lt;/p&gt;

&lt;p&gt;If your server is 4.6, this looks like the Solr server code has gotten more strict on the content type header, but SolrJ hasn&apos;t been updated to match, and the existing unit tests didn&apos;t catch the problem.&lt;/p&gt;

&lt;p&gt;Would you be able to try the following addition to your test code, right after you create the HttpSolrServer?&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;solrServer.setRequestWriter(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; BinaryRequestWriter());
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If that works, it&apos;s a potential workaround for you, with the added advantage that requests sent to Solr will be more compact and therefore more efficient.&lt;/p&gt;

&lt;p&gt;Also, just in case I have any trouble reproducing, can you include the entire Java stacktrace from your Solr server log when the problem occurs?&lt;/p&gt;</comment>
                            <comment id="13840368" author="elyograg" created="Thu, 5 Dec 2013 18:22:00 +0000"  >&lt;p&gt;Got the example 4.6 server set up.  With the following code, substantially similar to yours, I do &lt;b&gt;NOT&lt;/b&gt; get the same problem.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;		&lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt;
		{
			HttpSolrServer solrServer = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; HttpSolrServer(
					&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//localhost:8983/solr/collection1&quot;&lt;/span&gt;);
&lt;/span&gt;			SolrPingResponse x = solrServer.ping();
			&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(x);
		}
		&lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (Exception e)
		{
			e.printStackTrace();
		}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If I change &quot;collection1&quot; to &quot;collection&quot; (so the URL is invalid) then I do get a similar (but not exactly the same) message, but it&apos;s part of a much larger error.  Can you help me figure out what I might be doing that&apos;s different from your setup?&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.solr.client.solrj.impl.HttpSolrServer$RemoteSolrException: Expected content type application/octet-stream but got text/html;charset=ISO-8859-1. &amp;lt;html&amp;gt;
&amp;lt;head&amp;gt;
&amp;lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=ISO-8859-1&quot;/&amp;gt;
&amp;lt;title&amp;gt;Error 404 Not Found&amp;lt;/title&amp;gt;
&amp;lt;/head&amp;gt;
&amp;lt;body&amp;gt;&amp;lt;h2&amp;gt;HTTP ERROR 404&amp;lt;/h2&amp;gt;
&amp;lt;p&amp;gt;Problem accessing /solr/collection/admin/ping. Reason:
&amp;lt;pre&amp;gt;    Not Found&amp;lt;/pre&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;hr /&amp;gt;&amp;lt;i&amp;gt;&amp;lt;small&amp;gt;Powered by Jetty://&amp;lt;/small&amp;gt;&amp;lt;/i&amp;gt;&amp;lt;br/&amp;gt;                                                
&amp;lt;br/&amp;gt;                                                
&amp;lt;br/&amp;gt;                                                
&amp;lt;br/&amp;gt;                                                
&amp;lt;br/&amp;gt;                                                
&amp;lt;br/&amp;gt;                                                
&amp;lt;br/&amp;gt;                                                
&amp;lt;br/&amp;gt;                                                
&amp;lt;br/&amp;gt;                                                
&amp;lt;br/&amp;gt;                                                
&amp;lt;br/&amp;gt;                                                
&amp;lt;br/&amp;gt;                                                
&amp;lt;br/&amp;gt;                                                
&amp;lt;br/&amp;gt;                                                
&amp;lt;br/&amp;gt;                                                
&amp;lt;br/&amp;gt;                                                
&amp;lt;br/&amp;gt;                                                
&amp;lt;br/&amp;gt;                                                
&amp;lt;br/&amp;gt;                                                
&amp;lt;br/&amp;gt;                                                

&amp;lt;/body&amp;gt;
&amp;lt;/html&amp;gt;

	at org.apache.solr.client.solrj.impl.HttpSolrServer.request(HttpSolrServer.java:455)
	at org.apache.solr.client.solrj.impl.HttpSolrServer.request(HttpSolrServer.java:197)
	at org.apache.solr.client.solrj.request.SolrPing.process(SolrPing.java:69)
	at org.apache.solr.client.solrj.SolrServer.ping(SolrServer.java:293)
	at org.elyograg.TestStuff.main(TestStuff.java:72)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13840396" author="hossman" created="Thu, 5 Dec 2013 18:44:06 +0000"  >&lt;p&gt;The specific error message being returned here by HttpSolrServer is from lines 438-456 &lt;em&gt;(&lt;b&gt;NOT&lt;/b&gt; 140 as initially mentioned in the bug report)&lt;/em&gt; ...&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;      &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; procCt = processor.getContentType();
      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (procCt != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!contentType.equals(procCt)) {
          &lt;span class=&quot;code-comment&quot;&gt;// unexpected content type
&lt;/span&gt;          &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; msg = &lt;span class=&quot;code-quote&quot;&gt;&quot;Expected content type &quot;&lt;/span&gt; + procCt + &lt;span class=&quot;code-quote&quot;&gt;&quot; but got &quot;&lt;/span&gt; + contentType + &lt;span class=&quot;code-quote&quot;&gt;&quot;.&quot;&lt;/span&gt;;
          Header encodingHeader = response.getEntity().getContentEncoding();
          &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; encoding;
          &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (encodingHeader != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
            encoding = encodingHeader.getValue();
          } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
            encoding = &lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-8&quot;&lt;/span&gt;; &lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; UTF-8
&lt;/span&gt;          }
          &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
            msg = msg + &lt;span class=&quot;code-quote&quot;&gt;&quot; &quot;&lt;/span&gt; + IOUtils.toString(respBody, encoding);
          } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (IOException e) {
            &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; RemoteSolrException(httpStatus, &lt;span class=&quot;code-quote&quot;&gt;&quot;Could not parse response with encoding &quot;&lt;/span&gt; + encoding, e);
          }
          RemoteSolrException e = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; RemoteSolrException(httpStatus, msg, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;);
          &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; e;
        }
      }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;...the intent of this code is to ensure that the Content-Type of the response it has received from the server is something that the ResponseParser it&apos;s configured to use is capable of handling.&lt;/p&gt;

&lt;p&gt;The code as written definitely seems sketchy, because it&apos;s trying to do an exact string equality match on the Content-Type, even though (as in this example)...&lt;br/&gt;
&lt;tt&gt;application/xml; charset=UTF-8&lt;/tt&gt; (with space) &lt;br/&gt;
...should be considered equivalent to...&lt;br/&gt;
&lt;tt&gt;application/xml;charset=UTF-8&lt;/tt&gt; (no space) &lt;br/&gt;
... nothing in the spec requries whitespcae there, or makes them semantically un-equivilent.&lt;/p&gt;

&lt;p&gt;having said that however: i&apos;m still not clear on how to actually reproduce this.&lt;/p&gt;

&lt;p&gt;As far as i can tell from a quick check, the XML response writer (on the server) has always included a space in it&apos;s Content-Type, and that doesn&apos;t seem to have changed in 4.6, and the solrj expected XML Content-Type (on the client parser) has always expected a space in the Content-Type, and that doesn&apos;t seem to have changed in 4.6.&lt;/p&gt;

&lt;p&gt;Can you pleas show us..&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;the full source code of a test client that demonstrates this problem for you?&lt;/li&gt;
	&lt;li&gt;the full stack trace produced by your test code&lt;/li&gt;
	&lt;li&gt;the command line used to run your test case (with full classpath showing jar versions used)&lt;/li&gt;
	&lt;li&gt;the response you get from &quot;curl -v &lt;a href=&quot;http://localhost:8983/solr/admin/system&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8983/solr/admin/system&lt;/a&gt;&quot;&lt;/li&gt;
	&lt;li&gt;the response you get from &quot;curl -v &lt;a href=&quot;http://localhost:8983/solr/collection1/admin/ping&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8983/solr/collection1/admin/ping&lt;/a&gt;&quot;&lt;/li&gt;
&lt;/ul&gt;


&lt;blockquote&gt;&lt;p&gt;A global search for &quot;charset=UTF-8&quot; on the source code of solrj indicates that other functions besides &quot;ping&quot; might be affected as well, because there are several places where &quot;application/xml; charset=UTF-8&quot; is spelled without a space after the semicolon.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Can you please be specific? I just did the same search of the 4.6 codebase and i can&apos;t find anything like what you are describing.&lt;/p&gt;</comment>
                            <comment id="13840406" author="thetaphi" created="Thu, 5 Dec 2013 18:53:41 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hossman_lucene%40fucit.org&quot; class=&quot;user-hover&quot; rel=&quot;hossman_lucene@fucit.org&quot;&gt;hossman_lucene@fucit.org&lt;/a&gt;: In any case we should fix the parser to accept the content type:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;case insensitive (MIME types are defined to be case insensitive= -&amp;gt; this is partly a bug in Solr already, I noticed this in a code review&lt;/li&gt;
	&lt;li&gt;strip of the charset from the MIME type before comparing. ContentStreamBase has methods for this (to extract the charset from a ContentType).&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13840444" author="hossman" created="Thu, 5 Dec 2013 19:19:22 +0000"  >&lt;blockquote&gt;&lt;p&gt;In any case we should fix the parser to accept the content type: ...&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Agreed &amp;#8211; what you and i are talking about now is definitely a bug, I&apos;m just not convinced i understand how Jakob ran into the specific error he&apos;s reportring &amp;#8211; which scares me and makes me worried that there is some subtle second bug i&apos;m not seeing.&lt;/p&gt;

&lt;p&gt;FWIW: My personal preference would be to refactor the APIs and abstract the content-type checking out HttpSolrServer, so that instead of calling ResponseParser.getContentType() and doing anything with the value, it calls a new ResponseParser.canParseContentType(String) ... put the logic you are taking about into the XMLResponseParser.canParseContentType, and add some basic backcompat support into ResponseParser.canParseContentType that does a simple case/whitespace insensitive comparison.&lt;/p&gt;
</comment>
                            <comment id="13840468" author="jafurrer" created="Thu, 5 Dec 2013 19:36:25 +0000"  >&lt;p&gt;Thanks for looking into this issue so fast.&lt;br/&gt;
And my apologies for being very sloppy in the bug description.&lt;br/&gt;
Due to time constraints, I did not test the code provided above in a standalone setting.&lt;br/&gt;
I am aware that this is a big no-no. Mea culpa.&lt;/p&gt;

&lt;p&gt;I only now figured out that setting the XMLResponseParser triggers the Exception&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;solrServer.setParser(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; XMLResponseParser());
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Setting the BinaryRequestWriter or not does not influence the result for me.&lt;/p&gt;

&lt;p&gt;Side-Question:&lt;br/&gt;
The XMLResponseParser is set in my custom application since very long. I cannot recall when or why set that specific parser.&lt;br/&gt;
Could anyone give my some information whether, when or why this parser should (not) be set?&lt;/p&gt;

&lt;p&gt;As for&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;A global search for &quot;charset=UTF-8&quot; on the source code of solrj indicates that other functions besides &quot;ping&quot; might be affected as well, because there are several places where &quot;application/xml; charset=UTF-8&quot; is spelled without a space after the semicolon.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I am not familiar with the Solr sourcecode at all. I saw these search results, where &quot;; charset=utf-8&quot; appears 62 times and &quot;;charset=utf-8&quot; appears 12 times.&lt;br/&gt;
From that I conclude that there is an inconsistency how to spell this encoding type within this library.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Suchen nach: charset=UTF-8
lucene\common-build.xml(2241): html.append(&lt;span class=&quot;code-quote&quot;&gt;&apos;&amp;lt;meta http-equiv=&lt;span class=&quot;code-quote&quot;&gt;&quot;Content-Type&quot;&lt;/span&gt; content=&lt;span class=&quot;code-quote&quot;&gt;&quot;text/html; charset=UTF-8&quot;&lt;/span&gt;&amp;gt;\n&apos;&lt;/span&gt;)
lucene\analysis\common\src\java\org\apache\lucene\analysis\cjk\&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;.html(20): &amp;lt;META http-equiv=&lt;span class=&quot;code-quote&quot;&gt;&quot;Content-Type&quot;&lt;/span&gt; content=&lt;span class=&quot;code-quote&quot;&gt;&quot;text/html; charset=UTF-8&quot;&lt;/span&gt;&amp;gt;
lucene\analysis\common\src\java\org\apache\lucene\analysis\cn\&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;.html(20): &amp;lt;META http-equiv=&lt;span class=&quot;code-quote&quot;&gt;&quot;Content-Type&quot;&lt;/span&gt; content=&lt;span class=&quot;code-quote&quot;&gt;&quot;text/html; charset=UTF-8&quot;&lt;/span&gt;&amp;gt;
lucene\analysis\common\src\test\org\apache\lucene\analysis\charfilter\htmlStripReaderTest.html(4): &amp;lt;META http-equiv=&lt;span class=&quot;code-quote&quot;&gt;&quot;Content-Type&quot;&lt;/span&gt; content=&lt;span class=&quot;code-quote&quot;&gt;&quot;text/html; charset=UTF-8&quot;&lt;/span&gt;&amp;gt;
lucene\analysis\common\src\test\org\apache\lucene\analysis\core\LuceneResourcesWikiPage.html(4): &amp;lt;meta http-equiv=&lt;span class=&quot;code-quote&quot;&gt;&quot;Content-Type&quot;&lt;/span&gt; content=&lt;span class=&quot;code-quote&quot;&gt;&quot;text/html;charset=utf-8&quot;&lt;/span&gt;&amp;gt;
lucene\analysis\icu\src\java\overview.html(19): &amp;lt;META http-equiv=&lt;span class=&quot;code-quote&quot;&gt;&quot;Content-Type&quot;&lt;/span&gt; content=&lt;span class=&quot;code-quote&quot;&gt;&quot;text/html; charset=UTF-8&quot;&lt;/span&gt;&amp;gt;
lucene\analysis\morfologik\src\java\overview.html(20): &amp;lt;meta http-equiv=&lt;span class=&quot;code-quote&quot;&gt;&quot;Content-Type&quot;&lt;/span&gt; content=&lt;span class=&quot;code-quote&quot;&gt;&quot;text/html;charset=UTF-8&quot;&lt;/span&gt; /&amp;gt;
lucene\analysis\morfologik\src\java\org\apache\lucene\analysis\morfologik\&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;.html(20): &amp;lt;meta http-equiv=&lt;span class=&quot;code-quote&quot;&gt;&quot;Content-Type&quot;&lt;/span&gt; content=&lt;span class=&quot;code-quote&quot;&gt;&quot;text/html;charset=UTF-8&quot;&lt;/span&gt; /&amp;gt;
lucene\analysis\smartcn\src\java\org\apache\lucene\analysis\cn\smart\&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;.html(20): &amp;lt;META http-equiv=&lt;span class=&quot;code-quote&quot;&gt;&quot;Content-Type&quot;&lt;/span&gt; content=&lt;span class=&quot;code-quote&quot;&gt;&quot;text/html; charset=UTF-8&quot;&lt;/span&gt;&amp;gt;
lucene\analysis\smartcn\src\java\org\apache\lucene\analysis\cn\smart\hhmm\&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;.html(19): &amp;lt;META http-equiv=&lt;span class=&quot;code-quote&quot;&gt;&quot;Content-Type&quot;&lt;/span&gt; content=&lt;span class=&quot;code-quote&quot;&gt;&quot;text/html; charset=UTF-8&quot;&lt;/span&gt;&amp;gt;
lucene\analysis\stempel\src\java\overview.html(20): &amp;lt;meta content=&lt;span class=&quot;code-quote&quot;&gt;&quot;text/html; charset=UTF-8&quot;&lt;/span&gt; http-equiv=&lt;span class=&quot;code-quote&quot;&gt;&quot;content-type&quot;&lt;/span&gt;&amp;gt;
lucene\benchmark\src\test\org\apache\lucene\benchmark\byTask\feeds\TestHtmlParser.java(76): &lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;lt;meta http-equiv=\&quot;&lt;/span&gt;Content-Type\&lt;span class=&quot;code-quote&quot;&gt;&quot; content=\&quot;&lt;/span&gt;text/html;charset=UTF-8\&lt;span class=&quot;code-quote&quot;&gt;&quot; /&amp;gt;&quot;&lt;/span&gt; +
lucene\benchmark\src\test\org\apache\lucene\benchmark\byTask\feeds\TestHtmlParser.java(84): assertEquals(&lt;span class=&quot;code-quote&quot;&gt;&quot;text/html;charset=UTF-8&quot;&lt;/span&gt;, tags.get(&lt;span class=&quot;code-quote&quot;&gt;&quot;content-type&quot;&lt;/span&gt;));
lucene\demo\src\java\overview.html(19): &amp;lt;meta http-equiv=&lt;span class=&quot;code-quote&quot;&gt;&quot;Content-Type&quot;&lt;/span&gt; content=&lt;span class=&quot;code-quote&quot;&gt;&quot;text/html; charset=utf-8&quot;&lt;/span&gt;&amp;gt;
lucene\queryparser\docs\xml\LuceneContribQuery.dtd.entities.html(3): &amp;lt;meta http-equiv=&lt;span class=&quot;code-quote&quot;&gt;&apos;CONTENT-TYPE&apos;&lt;/span&gt; content=&lt;span class=&quot;code-quote&quot;&gt;&apos;text/html; charset=UTF-8&apos;&lt;/span&gt; /&amp;gt;
lucene\queryparser\docs\xml\LuceneContribQuery.dtd.html(3): &amp;lt;meta http-equiv=&lt;span class=&quot;code-quote&quot;&gt;&apos;CONTENT-TYPE&apos;&lt;/span&gt; content=&lt;span class=&quot;code-quote&quot;&gt;&apos;text/html; charset=UTF-8&apos;&lt;/span&gt; /&amp;gt;
lucene\queryparser\docs\xml\LuceneContribQuery.dtd.org.html(3): &amp;lt;meta http-equiv=&lt;span class=&quot;code-quote&quot;&gt;&apos;CONTENT-TYPE&apos;&lt;/span&gt; content=&lt;span class=&quot;code-quote&quot;&gt;&apos;text/html; charset=UTF-8&apos;&lt;/span&gt; /&amp;gt;
lucene\queryparser\docs\xml\LuceneCoreQuery.dtd.entities.html(3): &amp;lt;meta http-equiv=&lt;span class=&quot;code-quote&quot;&gt;&apos;CONTENT-TYPE&apos;&lt;/span&gt; content=&lt;span class=&quot;code-quote&quot;&gt;&apos;text/html; charset=UTF-8&apos;&lt;/span&gt; /&amp;gt;
lucene\queryparser\docs\xml\LuceneCoreQuery.dtd.html(3): &amp;lt;meta http-equiv=&lt;span class=&quot;code-quote&quot;&gt;&apos;CONTENT-TYPE&apos;&lt;/span&gt; content=&lt;span class=&quot;code-quote&quot;&gt;&apos;text/html; charset=UTF-8&apos;&lt;/span&gt; /&amp;gt;
lucene\queryparser\docs\xml\LuceneCoreQuery.dtd.org.html(3): &amp;lt;meta http-equiv=&lt;span class=&quot;code-quote&quot;&gt;&apos;CONTENT-TYPE&apos;&lt;/span&gt; content=&lt;span class=&quot;code-quote&quot;&gt;&apos;text/html; charset=UTF-8&apos;&lt;/span&gt; /&amp;gt;
lucene\site\changes\changes2html.pl(258): &amp;lt;META http-equiv=&lt;span class=&quot;code-quote&quot;&gt;&quot;Content-Type&quot;&lt;/span&gt; content=&lt;span class=&quot;code-quote&quot;&gt;&quot;text/html; charset=UTF-8&quot;&lt;/span&gt;/&amp;gt;
solr\CHANGES.txt(7359): have a valid contentType: curl -H &lt;span class=&quot;code-quote&quot;&gt;&apos;Content-type:text/xml; charset=utf-8&apos;&lt;/span&gt; 
solr\CHANGES.txt(7451): content.  Using the contentType: &lt;span class=&quot;code-quote&quot;&gt;&quot;text/xml; charset=utf-8&quot;&lt;/span&gt; will force
solr\contrib\clustering\src\test-files\clustering\solr\collection1\conf\solrconfig.xml(421): the body. For example, curl now requires: -H &lt;span class=&quot;code-quote&quot;&gt;&apos;Content-type:text/xml; charset=utf-8&apos;&lt;/span&gt;
solr\contrib\dataimporthandler\src\test-files\dih\solr\collection1\conf\contentstream-solrconfig.xml(296): the body. For example, curl now requires: -H &lt;span class=&quot;code-quote&quot;&gt;&apos;Content-type:text/xml; charset=utf-8&apos;&lt;/span&gt;
solr\contrib\dataimporthandler\src\test-files\dih\solr\collection1\conf\dataimport-nodatasource-solrconfig.xml(294): the body. For example, curl now requires: -H &lt;span class=&quot;code-quote&quot;&gt;&apos;Content-type:text/xml; charset=utf-8&apos;&lt;/span&gt;
solr\contrib\dataimporthandler\src\test-files\dih\solr\collection1\conf\dataimport-solrconfig.xml(295): the body. For example, curl now requires: -H &lt;span class=&quot;code-quote&quot;&gt;&apos;Content-type:text/xml; charset=utf-8&apos;&lt;/span&gt;
solr\contrib\dataimporthandler-extras\src\test-files\dihextras\solr\collection1\conf\dataimport-solrconfig.xml(292): the body. For example, curl now requires: -H &lt;span class=&quot;code-quote&quot;&gt;&apos;Content-type:text/xml; charset=utf-8&apos;&lt;/span&gt;
solr\contrib\uima\src\test-files\uima\uima-tokenizers-solrconfig.xml(639): now requires: -H &lt;span class=&quot;code-quote&quot;&gt;&apos;Content-type:text/xml; charset=utf-8&apos;&lt;/span&gt; The response
solr\contrib\uima\src\test-files\uima\solr\collection1\conf\solrconfig.xml(640): now requires: -H &lt;span class=&quot;code-quote&quot;&gt;&apos;Content-type:text/xml; charset=utf-8&apos;&lt;/span&gt; The response
solr\contrib\velocity\src\java\org\apache\solr\response\VelocityResponseWriter.java(174): &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; request.getParams().get(&lt;span class=&quot;code-quote&quot;&gt;&quot;v.contentType&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;text/html;charset=UTF-8&quot;&lt;/span&gt;);
solr\core\src\java\org\apache\solr\response\JSONResponseWriter.java(44): &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; CONTENT_TYPE_JSON_UTF8 = &lt;span class=&quot;code-quote&quot;&gt;&quot;application/json; charset=UTF-8&quot;&lt;/span&gt;;
solr\core\src\java\org\apache\solr\response\PHPResponseWriter.java(27): &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; CONTENT_TYPE_PHP_UTF8=&lt;span class=&quot;code-quote&quot;&gt;&quot;text/x-php;charset=UTF-8&quot;&lt;/span&gt;;
solr\core\src\java\org\apache\solr\response\PHPSerializedResponseWriter.java(42): &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; CONTENT_TYPE_PHP_UTF8=&lt;span class=&quot;code-quote&quot;&gt;&quot;text/x-php-serialized;charset=UTF-8&quot;&lt;/span&gt;;
solr\core\src\java\org\apache\solr\response\QueryResponseWriter.java(46): &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; CONTENT_TYPE_XML_UTF8=&lt;span class=&quot;code-quote&quot;&gt;&quot;application/xml; charset=UTF-8&quot;&lt;/span&gt;;
solr\core\src\java\org\apache\solr\response\QueryResponseWriter.java(47): &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; CONTENT_TYPE_TEXT_UTF8=&lt;span class=&quot;code-quote&quot;&gt;&quot;text/plain; charset=UTF-8&quot;&lt;/span&gt;;
solr\core\src\java\org\apache\solr\response\RubyResponseWriter.java(26): &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; CONTENT_TYPE_RUBY_UTF8=&lt;span class=&quot;code-quote&quot;&gt;&quot;text/x-ruby;charset=UTF-8&quot;&lt;/span&gt;;
solr\core\src\java\org\apache\solr\servlet\SolrRequestParsers.java(638): &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;( idx &amp;gt; 0 ) { &lt;span class=&quot;code-comment&quot;&gt;// remove the charset definition &lt;span class=&quot;code-quote&quot;&gt;&quot;; charset=utf-8&quot;&lt;/span&gt;
&lt;/span&gt;solr\core\src\test\org\apache\solr\analysis\htmlStripReaderTest.html(4): &amp;lt;META http-equiv=&lt;span class=&quot;code-quote&quot;&gt;&quot;Content-Type&quot;&lt;/span&gt; content=&lt;span class=&quot;code-quote&quot;&gt;&quot;text/html; charset=UTF-8&quot;&lt;/span&gt;&amp;gt;
solr\core\src\test\org\apache\solr\servlet\SolrRequestParserTest.java(216): &lt;span class=&quot;code-quote&quot;&gt;&quot;application/x-www-form-urlencoded; charset=utf-8&quot;&lt;/span&gt;,
solr\core\src\test-files\solr\collection1\conf\solrconfig-implicitproperties.xml(77): &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;content-type&quot;&lt;/span&gt;&amp;gt;text/plain; charset=UTF-8&amp;lt;/str&amp;gt;
solr\docs\changes\Changes.html(31): &amp;lt;META http-equiv=&lt;span class=&quot;code-quote&quot;&gt;&quot;Content-Type&quot;&lt;/span&gt; content=&lt;span class=&quot;code-quote&quot;&gt;&quot;text/html; charset=UTF-8&quot;&lt;/span&gt;/&amp;gt;
solr\docs\changes\Changes.html(7435): have a valid contentType: curl -H &lt;span class=&quot;code-quote&quot;&gt;&apos;Content-type:text/xml; charset=utf-8&apos;&lt;/span&gt;
solr\docs\changes\Changes.html(7527): content.  Using the contentType: &lt;span class=&quot;code-quote&quot;&gt;&quot;text/xml; charset=utf-8&quot;&lt;/span&gt; will force
solr\example\example-DIH\solr\db\conf\solrconfig.xml(407): the body. For example, curl now requires: -H &lt;span class=&quot;code-quote&quot;&gt;&apos;Content-type:text/xml; charset=utf-8&apos;&lt;/span&gt;
solr\example\example-DIH\solr\db\conf\xslt\example.xsl(27): &amp;lt;xsl:output media-type=&lt;span class=&quot;code-quote&quot;&gt;&quot;text/html; charset=UTF-8&quot;&lt;/span&gt; encoding=&lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-8&quot;&lt;/span&gt;/&amp;gt; 
solr\example\example-DIH\solr\db\conf\xslt\luke.xsl(38): &amp;lt;meta http-equiv=&lt;span class=&quot;code-quote&quot;&gt;&quot;Content-Type&quot;&lt;/span&gt; content=&lt;span class=&quot;code-quote&quot;&gt;&quot;application/xhtml+xml; charset=UTF-8&quot;&lt;/span&gt;/&amp;gt;
solr\example\example-DIH\solr\mail\conf\solrconfig.xml(565): the body. For example, curl now requires: -H &lt;span class=&quot;code-quote&quot;&gt;&apos;Content-type:text/xml; charset=utf-8&apos;&lt;/span&gt;
solr\example\example-DIH\solr\rss\conf\solrconfig.xml(406): the body. For example, curl now requires: -H &lt;span class=&quot;code-quote&quot;&gt;&apos;Content-type:text/xml; charset=utf-8&apos;&lt;/span&gt;
solr\example\example-DIH\solr\solr\conf\solrconfig.xml(405): the body. For example, curl now requires: -H &lt;span class=&quot;code-quote&quot;&gt;&apos;Content-type:text/xml; charset=utf-8&apos;&lt;/span&gt;
solr\example\example-DIH\solr\tika\conf\solrconfig.xml(326): the body. For example, curl now requires: -H &lt;span class=&quot;code-quote&quot;&gt;&apos;Content-type:text/xml; charset=utf-8&apos;&lt;/span&gt;
solr\example\example-schemaless\solr\collection1\conf\solrconfig.xml(999): requires: -H &lt;span class=&quot;code-quote&quot;&gt;&apos;Content-type:text/xml; charset=utf-8&apos;&lt;/span&gt;
solr\example\example-schemaless\solr\collection1\conf\solrconfig.xml(1710): &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;content-type&quot;&lt;/span&gt;&amp;gt;text/plain; charset=UTF-8&amp;lt;/str&amp;gt;
solr\example\exampledocs\test_utf8.sh(41): curl $URL/select --data-binary &lt;span class=&quot;code-quote&quot;&gt;&apos;q=h%C3%A9llo&amp;amp;echoParams=explicit&amp;amp;wt=python&apos;&lt;/span&gt; -H &lt;span class=&quot;code-quote&quot;&gt;&apos;Content-type:application/x-www-form-urlencoded; charset=UTF-8&apos;&lt;/span&gt; 2&amp;gt; /dev/&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; | grep &lt;span class=&quot;code-quote&quot;&gt;&apos;h\\u00e9llo&apos;&lt;/span&gt; &amp;gt; /dev/&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; 2&amp;gt;&amp;amp;1
solr\example\exampledocs\test_utf8.sh(71): curl $URL/select --data-binary &lt;span class=&quot;code-quote&quot;&gt;&quot;q=$URL_UTF8&amp;amp;echoParams=explicit&amp;amp;wt=python&quot;&lt;/span&gt;  -H &lt;span class=&quot;code-quote&quot;&gt;&apos;Content-type:application/x-www-form-urlencoded; charset=UTF-8&apos;&lt;/span&gt; 2&amp;gt; /dev/&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; | grep $EXPECTED &amp;gt; /dev/&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; 2&amp;gt;&amp;amp;1
solr\example\solr\collection1\conf\solrconfig.xml(1006): requires: -H &lt;span class=&quot;code-quote&quot;&gt;&apos;Content-type:text/xml; charset=utf-8&apos;&lt;/span&gt;
solr\example\solr\collection1\conf\solrconfig.xml(1751): &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;content-type&quot;&lt;/span&gt;&amp;gt;text/plain; charset=UTF-8&amp;lt;/str&amp;gt;
solr\example\solr\collection1\conf\velocity\head.vm(7): &amp;lt;meta http-equiv=&lt;span class=&quot;code-quote&quot;&gt;&quot;content-type&quot;&lt;/span&gt; content=&lt;span class=&quot;code-quote&quot;&gt;&quot;text/html; charset=UTF-8&quot;&lt;/span&gt;/&amp;gt;
solr\scripts\abc(95): rs=`curl ${curl_url} -s -H &lt;span class=&quot;code-quote&quot;&gt;&apos;Content-type:text/xml; charset=utf-8&apos;&lt;/span&gt; -d &lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;lt;commit/&amp;gt;&quot;&lt;/span&gt;`
solr\scripts\abo(94): rs=`curl ${curl_url} -s -H &lt;span class=&quot;code-quote&quot;&gt;&apos;Content-type:text/xml; charset=utf-8&apos;&lt;/span&gt; -d &lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;lt;optimize/&amp;gt;&quot;&lt;/span&gt;`
solr\scripts\commit(87): rs=`curl ${curl_url} -s -H &lt;span class=&quot;code-quote&quot;&gt;&apos;Content-type:text/xml; charset=utf-8&apos;&lt;/span&gt; -d &lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;lt;commit/&amp;gt;&quot;&lt;/span&gt;`
solr\scripts\optimize(87): rs=`curl ${curl_url} -s -H &lt;span class=&quot;code-quote&quot;&gt;&apos;Content-type:text/xml; charset=utf-8&apos;&lt;/span&gt; -d &lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;lt;optimize/&amp;gt;&quot;&lt;/span&gt;`
solr\site\html\tutorial.html(20): &amp;lt;META http-equiv=&lt;span class=&quot;code-quote&quot;&gt;&quot;Content-Type&quot;&lt;/span&gt; content=&lt;span class=&quot;code-quote&quot;&gt;&quot;text/html; charset=UTF-8&quot;&lt;/span&gt; /&amp;gt;
solr\solrj\src\java\org\apache\solr\client\solrj\impl\HttpSolrServer.java(273): &lt;span class=&quot;code-quote&quot;&gt;&quot;application/x-www-form-urlencoded; charset=UTF-8&quot;&lt;/span&gt;);
solr\solrj\src\java\org\apache\solr\client\solrj\impl\XMLResponseParser.java(50): &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; XML_CONTENT_TYPE = &lt;span class=&quot;code-quote&quot;&gt;&quot;application/xml; charset=UTF-8&quot;&lt;/span&gt;;
solr\solrj\src\java\org\apache\solr\client\solrj\util\ClientUtils.java(54): &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; TEXT_XML = &lt;span class=&quot;code-quote&quot;&gt;&quot;application/xml; charset=UTF-8&quot;&lt;/span&gt;;  
solr\solrj\src\test\org\apache\solr\client\solrj\impl\BasicHttpSolrServerTest.java(253): assertEquals(&lt;span class=&quot;code-quote&quot;&gt;&quot;application/x-www-form-urlencoded; charset=UTF-8&quot;&lt;/span&gt;, DebugServlet.headers.get(&lt;span class=&quot;code-quote&quot;&gt;&quot;Content-Type&quot;&lt;/span&gt;));
solr\solrj\src\test\org\apache\solr\client\solrj\impl\BasicHttpSolrServerTest.java(289): assertEquals(&lt;span class=&quot;code-quote&quot;&gt;&quot;application/x-www-form-urlencoded; charset=UTF-8&quot;&lt;/span&gt;, DebugServlet.headers.get(&lt;span class=&quot;code-quote&quot;&gt;&quot;Content-Type&quot;&lt;/span&gt;));
solr\solrj\src\test\org\apache\solr\client\solrj\impl\BasicHttpSolrServerTest.java(358): assertEquals(&lt;span class=&quot;code-quote&quot;&gt;&quot;application/xml; charset=UTF-8&quot;&lt;/span&gt;, DebugServlet.headers.get(&lt;span class=&quot;code-quote&quot;&gt;&quot;Content-Type&quot;&lt;/span&gt;));
solr\solrj\src\test\org\apache\solr\client\solrj\impl\BasicHttpSolrServerTest.java(374): assertEquals(&lt;span class=&quot;code-quote&quot;&gt;&quot;application/xml; charset=UTF-8&quot;&lt;/span&gt;, DebugServlet.headers.get(&lt;span class=&quot;code-quote&quot;&gt;&quot;Content-Type&quot;&lt;/span&gt;));
solr\test-framework\src\java\org\apache\solr\util\RestTestHarness.java(149): connection.setRequestProperty(&lt;span class=&quot;code-quote&quot;&gt;&quot;Content-Type&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;application/json; charset=utf-8&quot;&lt;/span&gt;);
solr\webapp\web\js\scripts\dashboard.js(57): core_basepath + &lt;span class=&quot;code-quote&quot;&gt;&apos;/admin/file/?file=admin-extra.menu-top.html&amp;amp;contentType=text/html;charset=utf-8&apos;&lt;/span&gt;,
solr\webapp\web\js\scripts\dashboard.js(67): core_basepath + &lt;span class=&quot;code-quote&quot;&gt;&apos;/admin/file/?file=admin-extra.menu-bottom.html&amp;amp;contentType=text/html;charset=utf-8&apos;&lt;/span&gt;,
solr\webapp\web\js\scripts\file.js(29): + &lt;span class=&quot;code-quote&quot;&gt;&apos;&amp;amp;contentType=text/xml;charset=utf-8&apos;&lt;/span&gt;;
Es wurden 74 Vorkommen in 62 Datei(en) gefunden.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13840501" author="elyograg" created="Thu, 5 Dec 2013 20:01:02 +0000"  >&lt;blockquote&gt;
&lt;p&gt;Side-Question:&lt;br/&gt;
The XMLResponseParser is set in my custom application since very long. I cannot recall when or why set that specific parser.&lt;br/&gt;
Could anyone give my some information whether, when or why this parser should (not) be set?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;The XML parser typically is used for compatibility.&lt;/p&gt;

&lt;p&gt;HttpSolrServer defaults to the binary response parser and the XML request writer.  The javabin format (used by the binary writer/parser) changed a few years back.  Solr/SolrJ Version 1.4.1 used version 1, but the next version that was released (3.1.0) used version 2.  They are completely incompatible with each other, so when you need to have communication between incompatible versions, you need to change it to use XML.&lt;/p&gt;

&lt;p&gt;I tried setting my parser to a new XMLResponseParser, but I still can&apos;t duplicate your symptom.  I will attach a screenshot showing my code in eclipse along with the eclipse build path.&lt;/p&gt;</comment>
                            <comment id="13841295" author="thetaphi" created="Fri, 6 Dec 2013 14:23:02 +0000"  >&lt;p&gt;There were 2 more issues opened about the same, this time not with PingRequestHandler. The problem seems to be in HttpSolrServer&apos;s parsing of ContentType in general.&lt;/p&gt;</comment>
                            <comment id="13841379" author="hossman" created="Fri, 6 Dec 2013 16:13:01 +0000"  >&lt;blockquote&gt;&lt;p&gt;As far as i can tell from a quick check, the XML response writer (on the server) has always included a space in it&apos;s Content-Type, and that doesn&apos;t seem to have changed in 4.6, and the solrj expected XML Content-Type (on the client parser) has always expected a space in the Content-Type, and that doesn&apos;t seem to have changed in 4.6.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Ok, here&apos;s what i reallize now that i overlooked when i skimmed the old code yesterday:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;the content type as written by the server has not changed&lt;/li&gt;
	&lt;li&gt;the content type as written by the server, and the content type as parsed by the client are in fact 100% identical (same variable)&lt;/li&gt;
	&lt;li&gt;what&apos;s new in 4.6 is the check to verify that the ContentType&apos;s are equal (In my previous skim i totally overlooked that the code throwing this error is new in 4.6, added as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-3530&quot; title=&quot;better error messages / Content-Type validation in solrJ&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-3530&quot;&gt;&lt;del&gt;SOLR-3530&lt;/del&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;That still, however, doesn&apos;t explain the bug report, and why elyograg and i can&apos;t reproduce, and why the solrj xml tests aren&apos;t reproducing it &amp;#8211; specifically: and what&apos;s happening to the space character to cause this exception.&lt;/p&gt;

&lt;p&gt;My best guess is that people encountering this problem aren&apos;t using the provided jetty server, and the server they are using (or some proxy in between their client and the server) is re-writing the the header slightly.  the fact that the initial problem report here refers to port &quot;8080&quot; smells like i may be on to something.&lt;/p&gt;

&lt;p&gt;Either way: we should fix how the Content-Type comparison is done.&lt;/p&gt;
</comment>
                            <comment id="13841382" author="hossman" created="Fri, 6 Dec 2013 16:21:41 +0000"  >&lt;p&gt;clarify summary and description, not specific to ping.&lt;/p&gt;</comment>
                            <comment id="13841424" author="markrmiller@gmail.com" created="Fri, 6 Dec 2013 16:57:20 +0000"  >&lt;p&gt;This is why using Jetty is the best choice &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; We actually test it.&lt;/p&gt;

&lt;p&gt;I think we should make the comparison less strict right away, this can go out in 4.6.1.&lt;/p&gt;

&lt;p&gt;Beyond that, Hossman has some interesting ideas for improving the API&apos;s, but unless someone bangs that out right away, I think the straightforward fix is the right initial thing to do.&lt;/p&gt;</comment>
                            <comment id="13841425" author="markrmiller@gmail.com" created="Fri, 6 Dec 2013 16:58:15 +0000"  >&lt;blockquote&gt;&lt;p&gt;the content type as written by the server, and the content type as parsed by the client are in fact 100% identical (same variable)&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I was careful to ensure that.&lt;/p&gt;</comment>
                            <comment id="13841485" author="thetaphi" created="Fri, 6 Dec 2013 18:05:32 +0000"  >&lt;blockquote&gt;&lt;p&gt;My best guess is that people encountering this problem aren&apos;t using the provided jetty server, and the server they are using (or some proxy in between their client and the server) is re-writing the the header slightly. the fact that the initial problem report here refers to port &quot;8080&quot; smells like i may be on to something.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;When thinking about this, I know for example that Oracle iPlanet webserver does this! And iPlanet uses Catilina internally which is the servlet engine of Tomcat...&lt;/p&gt;</comment>
                            <comment id="13841502" author="markrmiller@gmail.com" created="Fri, 6 Dec 2013 18:18:18 +0000"  >&lt;p&gt;A first whack.&lt;/p&gt;</comment>
                            <comment id="13841513" author="thetaphi" created="Fri, 6 Dec 2013 18:25:05 +0000"  >&lt;p&gt;Validated this with the Catilina based PANGAEA server (Oracle iPlanet webserver):&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;VEGA:~ &amp;gt; curl -D - &quot;http://ws.pangaea.de/oai/?verb=Identify&quot;
HTTP/1.1 200 OK
Server: PANGAEA/1.0
Date: Fri, 06 Dec 2013 18:17:59 GMT
Content-type: text/xml;charset=UTF-8
Transfer-encoding: chunked

&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;&amp;lt;OAI-PMH xmlns=&quot;http://www.openarchives.org/OAI/2.0/&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://www.openarchives.org/OAI/2.0/ http://www.openarchives.org/OAI/2.0/OAI-PMH.xsd&quot;&amp;gt;
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And here is how the servlets sets Content-Type:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;resp.setContentType(&lt;span class=&quot;code-quote&quot;&gt;&quot;text/xml; charset=&quot;&lt;/span&gt;+charset);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It looks like every Tomcat does this. The reason for this is: The Content-Type header is generally not passed unparsed to the output, the servlet container (Catilina) does some extra parsing, to detect the charset, so when you call the broken getWriter() that the writer has correct charset. Most webservers also do header normalization afterwards (they combine multiple headers into one and also remove whitespace).&lt;/p&gt;

&lt;p&gt;The correct way to handle this is:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Use ContentStreamBase to extract the MIME-Type and the charset from the full Content-Type string (MIME-Type != Content-Type, that&apos;s the fault here). We have the methods already available and they should also be available to SolrJ.&lt;/li&gt;
	&lt;li&gt;Compare charset and MIME type with equalsIgnoreCase. But: charset does not need to be compared. The XML parser should do this afterwards, not need to enforce a specific charset in SolrJ. It should only enforce the MIME-Type!&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13841514" author="jafurrer" created="Fri, 6 Dec 2013 18:25:31 +0000"  >&lt;p&gt;I can confirm, that the problem I described above does not occur when I use Jetty to run the stock solr that is included in Solr 4.6.&lt;br/&gt;
However, I see this problem when solr is run in Tomcat.&lt;br/&gt;
In my custom application that accesses solrI see that&lt;br/&gt;
a) the ping fails only when XMLResponseParser is set on the HttpSolrServer&lt;br/&gt;
b) adding document also fails with the same error message as above (even if XMLResponseParser is not set on the HttpSolrServer)&lt;/p&gt;</comment>
                            <comment id="13841517" author="thetaphi" created="Fri, 6 Dec 2013 18:26:47 +0000"  >&lt;p&gt;Mark: Patch looks ok. Exactly as I wanted to have it &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; Thanks!&lt;/p&gt;</comment>
                            <comment id="13841552" author="jira-bot" created="Fri, 6 Dec 2013 19:01:04 +0000"  >&lt;p&gt;Commit 1548659 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1548659&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1548659&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5532&quot; title=&quot;SolrJ Content-Type validation is too strict for some webcontainers / proxies, breaks on equivilent content types&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5532&quot;&gt;&lt;del&gt;SOLR-5532&lt;/del&gt;&lt;/a&gt;: SolrJ Content-Type validation is too strict for some webcontainers / proxies.&lt;/p&gt;</comment>
                            <comment id="13841555" author="jira-bot" created="Fri, 6 Dec 2013 19:02:16 +0000"  >&lt;p&gt;Commit 1548661 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/branches/branch_4x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1548661&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1548661&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5532&quot; title=&quot;SolrJ Content-Type validation is too strict for some webcontainers / proxies, breaks on equivilent content types&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5532&quot;&gt;&lt;del&gt;SOLR-5532&lt;/del&gt;&lt;/a&gt;: SolrJ Content-Type validation is too strict for some webcontainers / proxies.&lt;/p&gt;</comment>
                            <comment id="13841562" author="thetaphi" created="Fri, 6 Dec 2013 19:05:25 +0000"  >&lt;p&gt;As there is a bugfix release planned: I think this one should also go in 4.6.1. Looks like many people are affected. One of my customers called today, too (using Tomcat).&lt;/p&gt;</comment>
                            <comment id="13858148" author="jira-bot" created="Sat, 28 Dec 2013 22:35:49 +0000"  >&lt;p&gt;Commit 1553949 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/branches/lucene_solr_4_6&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1553949&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1553949&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5532&quot; title=&quot;SolrJ Content-Type validation is too strict for some webcontainers / proxies, breaks on equivilent content types&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5532&quot;&gt;&lt;del&gt;SOLR-5532&lt;/del&gt;&lt;/a&gt;: SolrJ Content-Type validation is too strict for some webcontainers / proxies.&lt;/p&gt;</comment>
                            <comment id="13858149" author="jira-bot" created="Sat, 28 Dec 2013 22:36:50 +0000"  >&lt;p&gt;Commit 1553950 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1553950&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1553950&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5532&quot; title=&quot;SolrJ Content-Type validation is too strict for some webcontainers / proxies, breaks on equivilent content types&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5532&quot;&gt;&lt;del&gt;SOLR-5532&lt;/del&gt;&lt;/a&gt;: Move CHANGES entry to 4.6.1&lt;/p&gt;</comment>
                            <comment id="13858150" author="jira-bot" created="Sat, 28 Dec 2013 22:37:44 +0000"  >&lt;p&gt;Commit 1553951 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/branches/branch_4x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1553951&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1553951&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5532&quot; title=&quot;SolrJ Content-Type validation is too strict for some webcontainers / proxies, breaks on equivilent content types&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5532&quot;&gt;&lt;del&gt;SOLR-5532&lt;/del&gt;&lt;/a&gt;: Move CHANGES entry to 4.6.1&lt;/p&gt;</comment>
                            <comment id="13862655" author="markrmiller@gmail.com" created="Sun, 5 Jan 2014 21:02:13 +0000"  >&lt;p&gt;Thanks all!&lt;/p&gt;</comment>
                            <comment id="14188249" author="magloven" created="Wed, 29 Oct 2014 11:19:44 +0000"  >&lt;p&gt;I&apos;ve upgraded from 4.4 to 4.10.1 and have been struggling somewhat with my code that was affected by this change. Some observations that might be useful for others too:&lt;/p&gt;

&lt;p&gt;The patch relies on the &quot;org.apache.http.entity.ContentType.parse&quot; method. It fails when parsing an empty string. That&apos;s fine (empty string should probably not be seen as a valid type anyway). The caveat is that an empty string is actually used as the &quot;fallback&quot; contentType if the response has no Content-Type header! This would be the typical case if the response is a 401 (typically has no Content-Type).&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;In prior versions a 401 response threw a SolrException with code() 401&lt;/li&gt;
	&lt;li&gt;Now a SolrServerException  is thrown (caused by a org.apache.http.ParseException). Hard to determine if it was due to bad credentials (401).&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;To restore previous behaviour, you&apos;d presumably add the HttpStatus.SC_UNAUTHORIZED case to the switch and then throw a RemoteSolrException (with code 401). In other words - fail early for 401 response (there&apos;s no content to parse anyway)&lt;/p&gt;</comment>
                            <comment id="14188262" author="markrmiller@gmail.com" created="Wed, 29 Oct 2014 11:48:06 +0000"  >&lt;p&gt;I ran into this same issue in a review for Cloudera Search before I went on vacation a couple weeks ago. Technically, it was a back compat break. Please file a JIRA issue and we can address it. &lt;/p&gt;</comment>
                            <comment id="14188365" author="magloven" created="Wed, 29 Oct 2014 14:08:16 +0000"  >&lt;p&gt;The 401 issue is now added as &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6669&quot; title=&quot;401 is not explicitly handled when querying HttpSolrServer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6669&quot;&gt;&lt;del&gt;SOLR-6669&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12683071">SOLR-5537</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12683072">SOLR-5538</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="12559914">SOLR-3530</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12617226" name="SOLR-5532-elyograg-eclipse-screenshot.png" size="189353" author="elyograg" created="Thu, 5 Dec 2013 20:01:47 +0000"/>
                            <attachment id="12617432" name="SOLR-5532.patch" size="1688" author="markrmiller@gmail.com" created="Fri, 6 Dec 2013 18:18:18 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362199</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 3 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qfnj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362494</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>