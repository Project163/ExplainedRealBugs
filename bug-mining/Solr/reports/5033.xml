<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:58:55 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-16737] SOLR 9.2.0 cluster basic authentication with http2 solr client</title>
                <link>https://issues.apache.org/jira/browse/SOLR-16737</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;401 (not authorized) error thrown when connecting to SOLR 9 cluster using SolrJ with basic authentication.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&#160;Caused
 by: 
org.apache.solr.client.solrj.impl.BaseHttpSolrClient$RemoteSolrException:
 Error from server at http:&lt;span class=&quot;code-comment&quot;&gt;//solr3:8983/solr: Expected mime type in 
&lt;/span&gt;[application/octet-stream, application/vnd.apache.solr.javabin] but got 
text/html. &amp;lt;html&amp;gt; 
&#160;&amp;lt;head&amp;gt;
&#160;&amp;lt;meta http-equiv=&lt;span class=&quot;code-quote&quot;&gt;&quot;Content-Type&quot;&lt;/span&gt; content=&lt;span class=&quot;code-quote&quot;&gt;&quot;text/html;charset=ISO-8859-1&quot;&lt;/span&gt;/&amp;gt;
&#160;&amp;lt;title&amp;gt;Error 401 require authentication&amp;lt;/title&amp;gt;
&#160;&amp;lt;/head&amp;gt;
&#160;&amp;lt;body&amp;gt;&amp;lt;h2&amp;gt;HTTP ERROR 401 require authentication&amp;lt;/h2&amp;gt;
&#160;&amp;lt;table&amp;gt;
&#160;&amp;lt;tr&amp;gt;&amp;lt;th&amp;gt;URI:&amp;lt;/th&amp;gt;&amp;lt;td&amp;gt;/solr/admin/collections&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;
&#160;&amp;lt;tr&amp;gt;&amp;lt;th&amp;gt;STATUS:&amp;lt;/th&amp;gt;&amp;lt;td&amp;gt;401&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;
&#160;&amp;lt;tr&amp;gt;&amp;lt;th&amp;gt;MESSAGE:&amp;lt;/th&amp;gt;&amp;lt;td&amp;gt;require authentication&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;
&#160;&amp;lt;tr&amp;gt;&amp;lt;th&amp;gt;SERVLET:&amp;lt;/th&amp;gt;&amp;lt;td&amp;gt;&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;
&#160;&amp;lt;/table&amp;gt;
&#160;
&#160;&amp;lt;/body&amp;gt;
&#160;&amp;lt;/html&amp;gt;
&#160;
&#160;&#8194;&#8194;&#8194;&#8194;&#8194;at org.apache.solr.client.solrj.impl.Http2SolrClient.processErrorsAndResponse(Http2SolrClient.java:835)
&#160;&#8194;&#8194;&#8194;&#8194;&#8194;at org.apache.solr.client.solrj.impl.Http2SolrClient.processErrorsAndResponse(Http2SolrClient.java:548)
&#160;&#8194;&#8194;&#8194;&#8194;&#8194;at org.apache.solr.client.solrj.impl.Http2SolrClient.request(Http2SolrClient.java:507)
&#160;&#8194;&#8194;&#8194;&#8194;&#8194;at org.apache.solr.client.solrj.SolrClient.request(SolrClient.java:1193)
&#160;&#8194;&#8194;&#8194;&#8194;&#8194;at org.apache.solr.client.solrj.impl.BaseHttpClusterStateProvider.fetchLiveNodes(BaseHttpClusterStateProvider.java:227)
&#160;&#8194;&#8194;&#8194;&#8194;&#8194;at org.apache.solr.client.solrj.impl.BaseHttpClusterStateProvider.init(BaseHttpClusterStateProvider.java:63)
&#160;&#8194;&#8194;&#8194;&#8194;&#8194;at org.apache.solr.client.solrj.impl.Http2ClusterStateProvider.&amp;lt;init&amp;gt;(Http2ClusterStateProvider.java:32)
&#160;&#8194;&#8194;&#8194;&#8194;&#8194;at org.apache.solr.client.solrj.impl.CloudHttp2SolrClient$Builder.build(CloudHttp2SolrClient.java:392)&#160;&#8194;&#8194;&#8194;&#8194;&#8194;... 113 common frames omitted &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;when &#160;Http2ClusterStateProvider is trying to get live nodes, builder build() method that creates initialClient instanse to get list of nodes, ignores base authentication string provided in httpClient instance:&lt;/p&gt;

&lt;p&gt;&#160;protected SolrClient getSolrClient(String baseUrl) &lt;/p&gt;
{
&#160;&#160;&#160; return new Http2SolrClient.Builder(baseUrl).withHttpClient(httpClient).build();
&#160; }

&lt;p&gt;httpClient basicAuthAuthorizationStr lost here - field is not used in build() method.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13531528">SOLR-16737</key>
            <summary>SOLR 9.2.0 cluster basic authentication with http2 solr client</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tflobbe">Tomas Eduardo Fernandez Lobbe</assignee>
                                    <reporter username="aminin@intellective.com">Andrei Minin</reporter>
                        <labels>
                    </labels>
                <created>Wed, 5 Apr 2023 05:07:48 +0000</created>
                <updated>Fri, 17 Oct 2025 20:05:02 +0000</updated>
                            <resolved>Wed, 26 Apr 2023 17:46:31 +0000</resolved>
                                                    <fixVersion>9.3</fixVersion>
                    <fixVersion>10.0</fixVersion>
                                    <component>SolrJ</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="4800">1h 20m</timespent>
                                <comments>
                            <comment id="17708847" author="janhoy" created="Wed, 5 Apr 2023 12:19:03 +0000"  >&lt;p&gt;It&apos;s a bit strange that you can pass in a Http2SolrClient to the builder, but we only use the &quot;httpClient&quot; from it to contruct the new Http2SolrClient. There are other variables that the user would assume to be carried over, such as timeouts?&lt;/p&gt;</comment>
                            <comment id="17715142" author="alex.parvulescu" created="Fri, 21 Apr 2023 19:25:25 +0000"  >&lt;p&gt;I am working on a PR for this, will be posted beginning of next week.&lt;/p&gt;</comment>
                            <comment id="17716815" author="jira-bot" created="Wed, 26 Apr 2023 16:47:50 +0000"  >&lt;p&gt;Commit 015f8a22449aab1cca6ef2e963fbe172c59d5e44 in solr&apos;s branch refs/heads/main from Alex Deparvu&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=015f8a22449&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=015f8a22449&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16737&quot; title=&quot;SOLR 9.2.0 cluster basic authentication with http2 solr client&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16737&quot;&gt;&lt;del&gt;SOLR-16737&lt;/del&gt;&lt;/a&gt; Http2SolrClient needs to inherit all properties when initialized with another http2 client (#1587)&lt;/p&gt;
</comment>
                            <comment id="17716839" author="jira-bot" created="Wed, 26 Apr 2023 17:37:04 +0000"  >&lt;p&gt;Commit b5292462456fe4e276841f58181555b42c5abf5c in solr&apos;s branch refs/heads/branch_9x from Alex Deparvu&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=b5292462456&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=b5292462456&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16737&quot; title=&quot;SOLR 9.2.0 cluster basic authentication with http2 solr client&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16737&quot;&gt;&lt;del&gt;SOLR-16737&lt;/del&gt;&lt;/a&gt; Http2SolrClient needs to inherit all properties when initialized with another http2 client (#1587)&lt;/p&gt;</comment>
                            <comment id="17716840" author="tomasflobbe" created="Wed, 26 Apr 2023 17:46:31 +0000"  >&lt;p&gt;Resolved. Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stillalex&quot; class=&quot;user-hover&quot; rel=&quot;stillalex&quot;&gt;stillalex&lt;/a&gt;!&lt;/p&gt;</comment>
                            <comment id="17745776" author="houston" created="Fri, 21 Jul 2023 20:40:37 +0000"  >&lt;p&gt;Closing after the 9.3.0 release&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 16 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1h3lc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>