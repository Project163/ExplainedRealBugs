<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:29:45 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-3772] On cluster startup, we should wait until we see all registered replicas before running the leader process - or if they all do not come up, N amount of time.</title>
                <link>https://issues.apache.org/jira/browse/SOLR-3772</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;This seems like a simple and good way to start.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12605537">SOLR-3772</key>
            <summary>On cluster startup, we should wait until we see all registered replicas before running the leader process - or if they all do not come up, N amount of time.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="markrmiller@gmail.com">Mark Miller</assignee>
                                    <reporter username="markrmiller@gmail.com">Mark Miller</reporter>
                        <labels>
                    </labels>
                <created>Thu, 30 Aug 2012 15:13:14 +0000</created>
                <updated>Mon, 9 May 2016 18:52:09 +0000</updated>
                            <resolved>Sat, 15 Sep 2012 04:16:18 +0000</resolved>
                                                    <fixVersion>4.0</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                    <component>SolrCloud</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13447073" author="markrmiller@gmail.com" created="Mon, 3 Sep 2012 01:03:34 +0000"  >&lt;p&gt;Like &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-3750&quot; title=&quot;On session expiration, we should explicitly wait some time before running the leader sync process so that we are sure every node participates.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-3750&quot;&gt;&lt;del&gt;SOLR-3750&lt;/del&gt;&lt;/a&gt; (see recent comment on that issue), I plan to make this off by default for now, with the ability to enable it and configure the wait time.&lt;/p&gt;</comment>
                            <comment id="13454893" author="markrmiller@gmail.com" created="Thu, 13 Sep 2012 13:43:51 +0000"  >&lt;p&gt;After further thought, we don&apos;t need to worry about the expiration case, and this one should be on by default. Unless someone convinces me otherwise, I&apos;ve gone with a default of a 3 minute wait.&lt;/p&gt;</comment>
                            <comment id="13610844" author="commit-tag-bot" created="Fri, 22 Mar 2013 16:39:24 +0000"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;branch_4x commit&amp;#93;&lt;/span&gt; Mark Robert Miller&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1384937&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1384937&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-3833&quot; title=&quot;When a election is started because a leader went down, the new leader candidate should decline if the last state they published was not active.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-3833&quot;&gt;&lt;del&gt;SOLR-3833&lt;/del&gt;&lt;/a&gt;: When a election is started because a leader went down, the new leader candidate should decline if the last state they published was not active.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-3836&quot; title=&quot;When doing peer sync, we should only count sync attempt that cannot reach the given host as success when the candidate leader is syncing with the replicas - not when replicas are syncing to the leader.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-3836&quot;&gt;&lt;del&gt;SOLR-3836&lt;/del&gt;&lt;/a&gt;: When doing peer sync, we should only count sync attempts that cannot reach the given host as success when the candidate leader is syncing with the replicas - not when replicas are syncing to the leader.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-3835&quot; title=&quot;In our leader election algorithm, if on connection loss we found we did not create our election node, we should retry, not throw an exception.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-3835&quot;&gt;&lt;del&gt;SOLR-3835&lt;/del&gt;&lt;/a&gt;: In our leader election algorithm, if on connection loss we found we did not create our election node, we should retry, not throw an exception.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-3834&quot; title=&quot;A new leader on cluster startup should also run the leader sync process in case there was a bad cluster shutdown.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-3834&quot;&gt;&lt;del&gt;SOLR-3834&lt;/del&gt;&lt;/a&gt;: A new leader on cluster startup should also run the leader sync process in case there was a bad cluster shutdown.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-3772&quot; title=&quot;On cluster startup, we should wait until we see all registered replicas before running the leader process - or if they all do not come up, N amount of time.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-3772&quot;&gt;&lt;del&gt;SOLR-3772&lt;/del&gt;&lt;/a&gt;: On cluster startup, we should wait until we see all registered replicas before running the leader process - or if they all do not come up, N amount of time.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-3756&quot; title=&quot;If we are elected the leader of a shard, but we fail to publish this for any reason, we should clean up and re trigger a leader election.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-3756&quot;&gt;&lt;del&gt;SOLR-3756&lt;/del&gt;&lt;/a&gt;: If we are elected the leader of a shard, but we fail to publish this for any reason, we should clean up and re trigger a leader election.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-3812&quot; title=&quot;ConnectionLoss during recovery can cause lost updates, leading to shard inconsistency.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-3812&quot;&gt;&lt;del&gt;SOLR-3812&lt;/del&gt;&lt;/a&gt;: ConnectionLoss during recovery can cause lost updates, leading to shard inconsistency.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-3813&quot; title=&quot;When a new leader syncs, we need to ask all shards to sync back, not just those that are active.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-3813&quot;&gt;&lt;del&gt;SOLR-3813&lt;/del&gt;&lt;/a&gt;: When a new leader syncs, we need to ask all shards to sync back, not just those that are active.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-3807&quot; title=&quot;Currently during recovery we pause for a number of seconds after waiting for the leader to see a recovering state so that any previous updates will have finished before our commit on the leader - we don&amp;#39;t need this wait for peersync.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-3807&quot;&gt;&lt;del&gt;SOLR-3807&lt;/del&gt;&lt;/a&gt;: Currently during recovery we pause for a number of seconds after waiting for the leader to see a recovering state so that any previous updates will have finished before our commit on the leader - we don&apos;t need this wait for peersync.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-3837&quot; title=&quot;When a leader is elected and asks replicas to sync back to him and that fails, we should ask those nodes to recovery asynchronously rather than synchronously.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-3837&quot;&gt;&lt;del&gt;SOLR-3837&lt;/del&gt;&lt;/a&gt;: When a leader is elected and asks replicas to sync back to him and that fails, we should ask those nodes to recovery asynchronously rather than synchronously.&lt;/p&gt;</comment>
                            <comment id="13653767" author="thetaphi" created="Fri, 10 May 2013 10:32:55 +0000"  >&lt;p&gt;Closed after release.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12604552">SOLR-3750</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>243218</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 28 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i03cq7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>17495</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>