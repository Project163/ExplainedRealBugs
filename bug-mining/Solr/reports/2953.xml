<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:13:27 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-9058] hashJoin does not work when &quot;on&quot; maps fields with &quot;=&quot;</title>
                <link>https://issues.apache.org/jira/browse/SOLR-9058</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;hashJoin does not work when &quot;on&quot; maps fields with &quot;=&quot;&lt;br/&gt;
eg.&lt;br/&gt;
hashJoin(&lt;br/&gt;
 ...&lt;br/&gt;
 on=&quot;field1=field2&quot;&lt;br/&gt;
)&lt;/p&gt;

&lt;p&gt;See link for fix.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12964588">SOLR-9058</key>
            <summary>hashJoin does not work when &quot;on&quot; maps fields with &quot;=&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dpgove">Dennis Gove</assignee>
                                    <reporter username="Osthold">Stephan Osthold</reporter>
                        <labels>
                    </labels>
                <created>Tue, 3 May 2016 10:37:20 +0000</created>
                <updated>Sat, 28 May 2016 13:38:26 +0000</updated>
                            <resolved>Fri, 20 May 2016 21:56:26 +0000</resolved>
                                    <version>6.0</version>
                                    <fixVersion>6.0.1</fixVersion>
                    <fixVersion>6.1</fixVersion>
                    <fixVersion>7.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="15268688" author="joel.bernstein" created="Tue, 3 May 2016 13:21:23 +0000"  >&lt;p&gt;Thanks. I just checked and there isn&apos;t a test case for this scenario. &lt;/p&gt;</comment>
                            <comment id="15268694" author="joel.bernstein" created="Tue, 3 May 2016 13:22:34 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dpgove&quot; class=&quot;user-hover&quot; rel=&quot;dpgove&quot;&gt;dpgove&lt;/a&gt;, you want to take this one? Or do you want me to take a look?&lt;/p&gt;</comment>
                            <comment id="15268738" author="dpgove" created="Tue, 3 May 2016 13:47:20 +0000"  >&lt;p&gt;I&apos;ll take this. I like the fix but want to see if there&apos;s an easy way to do the splitting once (during init) instead of on each read - we&apos;ll get slightly better performance with that.&lt;/p&gt;</comment>
                            <comment id="15268744" author="dpgove" created="Tue, 3 May 2016 13:51:25 +0000"  >&lt;p&gt;Note - need to check if this fix is also necessary for outerHash. I suspect it is.&lt;/p&gt;</comment>
                            <comment id="15270370" author="osthold" created="Wed, 4 May 2016 09:24:21 +0000"  >&lt;p&gt;In regard to splitting only once, if you don&apos;t mind changing the parameters for the constructors, I&apos;d do it like this:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/StephanOsthold/lucene-solr/commit/c0749f0aa6587d70db3bdbb2ad6a86d2901ed72f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/StephanOsthold/lucene-solr/commit/c0749f0aa6587d70db3bdbb2ad6a86d2901ed72f&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The lists are private, because I need to make sure they have the same size.&lt;/p&gt;</comment>
                            <comment id="15270373" author="osthold" created="Wed, 4 May 2016 09:26:20 +0000"  >&lt;p&gt;OuterHashJoin inherits from HashJoin. I did the required changes and the tests pass, however I only did a very brief manual test.&lt;/p&gt;</comment>
                            <comment id="15273283" author="dpgove" created="Thu, 5 May 2016 23:05:34 +0000"  >&lt;p&gt;This patch fixes up both hashJoin and outerHashJoin and adds tests for the scenario to both. &lt;/p&gt;

&lt;p&gt;The approach taken is to have a left and right list of fields to hash on. During construction it checks for an = in the field and if found will split into a left and right side field name. If not found then it uses that single field name for both the left and right side. It then uses those lists when reading tuples from the stream.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Osthold&quot; class=&quot;user-hover&quot; rel=&quot;Osthold&quot;&gt;Osthold&lt;/a&gt;, good catch on this one and thank you for the test showing the failure (I swiped that and included it in the test case).&lt;/p&gt;</comment>
                            <comment id="15273386" author="jira-bot" created="Fri, 6 May 2016 00:31:38 +0000"  >&lt;p&gt;Commit c7929f8b851dd12d3ae1b9834058428394821790 in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dpgove&quot; class=&quot;user-hover&quot; rel=&quot;dpgove&quot;&gt;dpgove&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=c7929f8&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=c7929f8&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9058&quot; title=&quot;hashJoin does not work when &amp;quot;on&amp;quot; maps fields with &amp;quot;=&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9058&quot;&gt;&lt;del&gt;SOLR-9058&lt;/del&gt;&lt;/a&gt;: Makes HashJoinStream and OuterHashJoinStream support different field names in the incoming streams, eg. fieldA=fieldB&lt;/p&gt;</comment>
                            <comment id="15273388" author="jira-bot" created="Fri, 6 May 2016 00:33:01 +0000"  >&lt;p&gt;Commit d95a91a9cca341d7633d339bf56b08ecd59d1c2a in lucene-solr&apos;s branch refs/heads/branch_6x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dpgove&quot; class=&quot;user-hover&quot; rel=&quot;dpgove&quot;&gt;dpgove&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=d95a91a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=d95a91a&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9058&quot; title=&quot;hashJoin does not work when &amp;quot;on&amp;quot; maps fields with &amp;quot;=&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9058&quot;&gt;&lt;del&gt;SOLR-9058&lt;/del&gt;&lt;/a&gt;: Makes HashJoinStream and OuterHashJoinStream support different field names in the incoming streams, eg. fieldA=fieldB&lt;/p&gt;</comment>
                            <comment id="15280462" author="hossman" created="Wed, 11 May 2016 17:10:44 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dpgove&quot; class=&quot;user-hover&quot; rel=&quot;dpgove&quot;&gt;dpgove&lt;/a&gt; - should this be resolved?&lt;/p&gt;</comment>
                            <comment id="15281467" author="dpgove" created="Thu, 12 May 2016 12:34:16 +0000"  >&lt;p&gt;Yeah, it can be. Have a question about the fix versions though. This has been committed to master and branch_6x. My understanding is that means it&apos;s going to hit 6.1. Is that right? Is there another branch I should backport it to?&lt;/p&gt;</comment>
                            <comment id="15281499" author="joel.bernstein" created="Thu, 12 May 2016 13:06:07 +0000"  >&lt;p&gt;Yes if it&apos;s in 6x it will be in 6.1.&lt;/p&gt;

&lt;p&gt;If you wanted to add this to 6.0.1 you&apos;d have to back port to branch_6_0.&lt;/p&gt;</comment>
                            <comment id="15281629" author="erickerickson" created="Thu, 12 May 2016 15:39:13 +0000"  >&lt;p&gt;I changed the fix versions to reflect the actual pushes. If you want it to go into 6.0.1, feel free to backport to 6_0 and update the fix versions....&lt;/p&gt;

&lt;p&gt;Whether you want to backport depends, usually that&apos;s reserved for those bugs you consider critical to the release. And there&apos;s no guarantee at all that there will ever be a 6.0.1. Up to you....&lt;/p&gt;</comment>
                            <comment id="15283252" author="dpgove" created="Fri, 13 May 2016 22:41:07 +0000"  >&lt;p&gt;Closing this. The fix will appear in 6.1. Thanks everyone for the help.&lt;/p&gt;</comment>
                            <comment id="15294322" author="steve_rowe" created="Fri, 20 May 2016 21:55:56 +0000"  >&lt;p&gt;Reopening to backport to 6.0.1.&lt;/p&gt;</comment>
                            <comment id="15294323" author="jira-bot" created="Fri, 20 May 2016 21:56:09 +0000"  >&lt;p&gt;Commit fbf7d5446d3cdfda0c3906c274ac2c444b419a82 in lucene-solr&apos;s branch refs/heads/branch_6_0 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dpgove&quot; class=&quot;user-hover&quot; rel=&quot;dpgove&quot;&gt;dpgove&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=fbf7d54&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=fbf7d54&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9058&quot; title=&quot;hashJoin does not work when &amp;quot;on&amp;quot; maps fields with &amp;quot;=&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9058&quot;&gt;&lt;del&gt;SOLR-9058&lt;/del&gt;&lt;/a&gt;: Makes HashJoinStream and OuterHashJoinStream support different field names in the incoming streams, eg. fieldA=fieldB&lt;/p&gt;</comment>
                            <comment id="15305368" author="steve_rowe" created="Sat, 28 May 2016 13:38:26 +0000"  >&lt;p&gt;Bulk close issues included in the 6.0.1 release.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12802559" name="SOLR-9058.patch" size="8106" author="dpgove" created="Thu, 5 May 2016 23:05:34 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311020" key="com.atlassian.jira.plugin.system.customfieldtypes:url">
                        <customfieldname>External issue URL</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[https://github.com/StephanOsthold/lucene-solr/commit/699c0f1a1f068fb1d3cf4578397fcf37f944cc03]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 25 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2x3af:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>