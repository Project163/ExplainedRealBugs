<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:29:36 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-3691] SimplePostTool: Mode for indexing a web page</title>
                <link>https://issues.apache.org/jira/browse/SOLR-3691</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;The simple post.jar tool should both show some sample code as well as aid users in testing Solr from the command line. Missing is an easy way to index a web page.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12600764">SOLR-3691</key>
            <summary>SimplePostTool: Mode for indexing a web page</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="janhoy">Jan H&#248;ydahl</assignee>
                                    <reporter username="janhoy">Jan H&#248;ydahl</reporter>
                        <labels>
                    </labels>
                <created>Tue, 31 Jul 2012 00:23:45 +0000</created>
                <updated>Mon, 9 May 2016 18:48:42 +0000</updated>
                            <resolved>Tue, 11 Sep 2012 00:41:07 +0000</resolved>
                                                    <fixVersion>4.0</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                    <component>scripts and tools</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13427040" author="janhoy" created="Thu, 2 Aug 2012 00:34:36 +0000"  >&lt;p&gt;First patch. Implements a new mode -Ddata=web which fetches and posts a web page to Solr, and optionally pulls out links from it (using SolrCell extractOnly=true) and crawls to N levels.&lt;/p&gt;

&lt;p&gt;This patch also implements recursion level support for files as well, plus optional delay.&lt;/p&gt;

&lt;p&gt;This is not - as with post.jar in general - intended as a production feature, but as a nice way for newbies to test posting web pages to Solr without an external crawler, to increase the OOTB experience&#8482;&lt;/p&gt;</comment>
                            <comment id="13428523" author="janhoy" created="Sat, 4 Aug 2012 01:46:11 +0000"  >&lt;p&gt;New patch:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Adds URL to literal.url&lt;/li&gt;
	&lt;li&gt;Prints number of docs in each folder for recursive&lt;/li&gt;
	&lt;li&gt;Enforced max 10 levels depth for web to shortcut any loops, to avoid stupid users pissing off webmasters &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/li&gt;
	&lt;li&gt;Added Useragent string to the GET requests&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I think this is about what&apos;s needed in a simplistic example - and it is quite useful for quick prototyping too &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Any general feedback?&lt;/p&gt;</comment>
                            <comment id="13428703" author="janhoy" created="Sat, 4 Aug 2012 23:48:57 +0000"  >&lt;p&gt;New patch:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Fetches pages with GZIP/deflate&lt;/li&gt;
	&lt;li&gt;Warns if user uses delay &amp;lt; 10s&lt;/li&gt;
	&lt;li&gt;Prints how many new links per level&lt;/li&gt;
	&lt;li&gt;Normalizes URLs by stripping everything after &quot;#&quot;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13429867" author="rcmuir" created="Tue, 7 Aug 2012 03:43:42 +0000"  >&lt;p&gt;rmuir20120906-bulk-40-change&lt;/p&gt;</comment>
                            <comment id="13432209" author="lancenorskog" created="Thu, 9 Aug 2012 22:00:40 +0000"  >&lt;p&gt;robots.txt. I would not commit this without honoring robots.txt.&lt;/p&gt;</comment>
                            <comment id="13435661" author="janhoy" created="Thu, 16 Aug 2012 00:49:14 +0000"  >&lt;p&gt;New patch. This is totally reorganizing the code to make it testable and adds a bunch of unit tests.&lt;/p&gt;

&lt;p&gt;Also added basic robots.txt support, so that we don&apos;t offend anyone.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lancenorskog&quot; class=&quot;user-hover&quot; rel=&quot;lancenorskog&quot;&gt;lancenorskog&lt;/a&gt;, can you take it for a test ride?&lt;/p&gt;</comment>
                            <comment id="13435851" author="janhoy" created="Thu, 16 Aug 2012 08:51:37 +0000"  >&lt;p&gt;Here&apos;s the new help screen including &quot;web&quot; mode, &quot;depth&quot; and &quot;delay&quot; support:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;SimplePostTool version 1.5
Usage: java [SystemProperties] -jar post.jar [-h|-] [&amp;lt;file|folder|url|arg&amp;gt; [&amp;lt;file|folder|url|arg&amp;gt;...]]

Supported System Properties and their defaults:
  -Ddata=files|web|args|stdin (default=files)
  -Dtype=&amp;lt;content-type&amp;gt; (default=application/xml)
  -Durl=&amp;lt;solr-update-url&amp;gt; (default=http://localhost:8983/solr/update)
  -Dauto=yes|no (default=no)
  -Drecursive=yes|no|&amp;lt;depth&amp;gt; (default=0)
  -Ddelay=&amp;lt;seconds&amp;gt; (default=0 for files, 10 for web)
  -Dfiletypes=&amp;lt;type&amp;gt;[,&amp;lt;type&amp;gt;,...] (default=xml,json,csv,pdf,doc,docx,ppt,pptx,xls,xlsx,odt,odp,ods,ott,otp,ots,rtf,htm,html,txt,log)
  -Dparams=&quot;&amp;lt;key&amp;gt;=&amp;lt;value&amp;gt;[&amp;amp;&amp;lt;key&amp;gt;=&amp;lt;value&amp;gt;...]&quot; (values must be URL-encoded)
  -Dcommit=yes|no (default=yes)
  -Doptimize=yes|no (default=no)
  -Dout=yes|no (default=no)

This is a simple command line tool for POSTing raw data to a Solr
port.  Data can be read from files specified as commandline args,
URLs specified as args, as raw commandline arg strings or via STDIN.
Examples:
  java -jar post.jar *.xml
  java -Ddata=args  -jar post.jar &apos;&amp;lt;delete&amp;gt;&amp;lt;id&amp;gt;42&amp;lt;/id&amp;gt;&amp;lt;/delete&amp;gt;&apos;
  java -Ddata=stdin -jar post.jar &amp;lt; hd.xml
  java -Ddata=web -jar post.jar http://example.com/
  java -Dtype=text/csv -jar post.jar *.csv
  java -Dtype=application/json -jar post.jar *.json
  java -Durl=http://localhost:8983/solr/update/extract -Dparams=literal.id=a -Dtype=application/pdf -jar post.jar a.pdf
  java -Dauto -jar post.jar *
  java -Dauto -Drecursive -jar post.jar afolder
  java -Dauto -Dfiletypes=ppt,html -jar post.jar afolder
The options controlled by System Properties include the Solr
URL to POST to, the Content-Type of the data, whether a commit
or optimize should be executed, and whether the response should
be written to STDOUT. If auto=yes the tool will try to set type
and url automatically from file name. When posting rich documents
the file name will be propagated as &quot;resource.name&quot; and also used
as &quot;literal.id&quot;. You may override these or any other request parameter
through the -Dparams property. To do a commit only, use &quot;-&quot; as argument.
The web mode is a simple crawler following links within domain, default delay=10s.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13436037" author="ehatcher" created="Thu, 16 Aug 2012 15:33:07 +0000"  >&lt;p&gt;Jan - this is great stuff!&lt;/p&gt;

&lt;p&gt;Maybe this deserves a rename of *Simple*PostTool to just PostTool now that it&apos;s not so simple any more?  &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13436310" author="janhoy" created="Thu, 16 Aug 2012 21:09:21 +0000"  >&lt;blockquote&gt;&lt;p&gt;Maybe this deserves a rename of *Simple*PostTool to just PostTool now that it&apos;s not so simple any more?  &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Sure I know &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; it&apos;s more code, but I hope it&apos;s actually more simple to follow the logic in the code now than before, since it&apos;s better structured. Besides, we only use standard SDK functions, so it is still self-contained without extra deps, which is a major part of the &lt;b&gt;Simple&lt;/b&gt; name. Besides, since much stuff is moved out from main() and into the class, it is also easier for folks to utilize this stuff from their own code should they wish.&lt;/p&gt;</comment>
                            <comment id="13437201" author="janhoy" created="Sat, 18 Aug 2012 01:11:41 +0000"  >&lt;p&gt;Last update:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Fixed typo in usage&lt;/li&gt;
	&lt;li&gt;Fixed ArrayIndexOutOfBounds when robots.txt contains only a # on one line&lt;/li&gt;
	&lt;li&gt;No longer prints redirect warnings for every page on a site, just the first&lt;/li&gt;
	&lt;li&gt;No longer throws exception when robots.txt does not exist for a domain &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I&apos;ll commit this to trunk and we can iterate from there.&lt;/p&gt;</comment>
                            <comment id="13437206" author="janhoy" created="Sat, 18 Aug 2012 01:32:13 +0000"  >&lt;p&gt;Committed to trunk in r1374497&lt;/p&gt;

&lt;p&gt;Will backport to 4.x soon&lt;/p&gt;</comment>
                            <comment id="13437286" author="janhoy" created="Sat, 18 Aug 2012 10:28:03 +0000"  >&lt;p&gt;Fixed javadocs-lint errors in r1374549&lt;/p&gt;</comment>
                            <comment id="13452617" author="janhoy" created="Tue, 11 Sep 2012 00:41:07 +0000"  >&lt;p&gt;Committed to branch_4x in r1383190&lt;/p&gt;</comment>
                            <comment id="13610883" author="commit-tag-bot" created="Fri, 22 Mar 2013 16:42:08 +0000"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;branch_4x commit&amp;#93;&lt;/span&gt; Jan H&#248;ydahl&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1383190&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1383190&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-3691&quot; title=&quot;SimplePostTool: Mode for indexing a web page&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-3691&quot;&gt;&lt;del&gt;SOLR-3691&lt;/del&gt;&lt;/a&gt;: SimplePostTool: Mode for indexing a web page (merge from trunk)&lt;/p&gt;</comment>
                            <comment id="13653754" author="thetaphi" created="Fri, 10 May 2013 10:32:53 +0000"  >&lt;p&gt;Closed after release.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12541456" name="SOLR-3691.patch" size="56142" author="janhoy" created="Sat, 18 Aug 2012 01:11:41 +0000"/>
                            <attachment id="12541160" name="SOLR-3691.patch" size="56429" author="janhoy" created="Thu, 16 Aug 2012 00:49:14 +0000"/>
                            <attachment id="12539168" name="SOLR-3691.patch" size="27007" author="janhoy" created="Sat, 4 Aug 2012 23:48:57 +0000"/>
                            <attachment id="12539132" name="SOLR-3691.patch" size="25902" author="janhoy" created="Sat, 4 Aug 2012 01:46:11 +0000"/>
                            <attachment id="12538855" name="SOLR-3691.patch" size="25352" author="janhoy" created="Thu, 2 Aug 2012 00:34:36 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>243292</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 28 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i03d6n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>17569</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>