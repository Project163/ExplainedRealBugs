<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:56:37 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-6297] Distributed spellcheck with WordBreakSpellchecker can lose suggestions</title>
                <link>https://issues.apache.org/jira/browse/SOLR-6297</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;When performing a spellcheck request in distributed environment with the WordBreakSpellChecker configured, the shard response merging logic can lose some suggestions. Basically, the merging logic ensures that all shards marked the query as not being correctly spelled, which is good, but also expects all shards to return some suggestions, which isn&apos;t necessarily the case. So if shard 1 returns 10 suggestions but shard 2 returns none, the final result will contain no suggestions because the term has suggestions from only 1 of 2 shards.&lt;/p&gt;

&lt;p&gt;This isn&apos;t the case with the DirectSolrSpellChecker which works properly.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12730543">SOLR-6297</key>
            <summary>Distributed spellcheck with WordBreakSpellchecker can lose suggestions</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jdyer">James Dyer</assignee>
                                    <reporter username="smolloy">Steve Molloy</reporter>
                        <labels>
                    </labels>
                <created>Tue, 29 Jul 2014 17:42:50 +0000</created>
                <updated>Mon, 9 May 2016 18:43:34 +0000</updated>
                            <resolved>Thu, 4 Sep 2014 18:41:52 +0000</resolved>
                                    <version>4.9</version>
                                    <fixVersion>5.0</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14086619" author="jdyer" created="Tue, 5 Aug 2014 18:58:53 +0000"  >&lt;p&gt;Here is a patch with a failing unit test.  Note that when a word-break suggestion comes solely from 1 shard, it is the &quot;suggestions&quot; section that is left off the response.  The suggestion is still there and it is properly used for collations.&lt;/p&gt;</comment>
                            <comment id="14088288" author="jdyer" created="Wed, 6 Aug 2014 21:27:00 +0000"  >&lt;p&gt;This patch fixes word-break suggestions by ensuring that both WordBreakSolrSpellChecker and ConjuctionSolrSpellChecker always output every original term, even if the list of suggestions is empty.  This is consistent with the behavior of DirectSolrSpellChecker.&lt;/p&gt;

&lt;p&gt;This approach is problematic for combined-word suggestions as the various shards cannot know which new terms were invented by others.  For this, SpellCheckComponent will need to loosen its requirement that all shards return a term in order for it to be in the final response.&lt;/p&gt;</comment>
                            <comment id="14089685" author="jdyer" created="Thu, 7 Aug 2014 19:43:45 +0000"  >&lt;p&gt;This version of the patch handles combine suggestions also.  This requires shards to send out a list of the original query terms in the shard-to-shard response.  When putting the response back together, query terms are always included if they were not part of the original query, even if not all shards returned them in the spellcheck response.  This allows &quot;original&quot; terms invented by WordBreakSolrSpellchecker to be included in the final response to the client.&lt;/p&gt;</comment>
                            <comment id="14120147" author="jdyer" created="Wed, 3 Sep 2014 17:47:07 +0000"  >&lt;p&gt;Here is an up-to-date patch for trunk.&lt;/p&gt;</comment>
                            <comment id="14121366" author="jira-bot" created="Thu, 4 Sep 2014 13:57:06 +0000"  >&lt;p&gt;Commit 1622476 from jdyer@apache.org in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1622476&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1622476&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6297&quot; title=&quot;Distributed spellcheck with WordBreakSpellchecker can lose suggestions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6297&quot;&gt;&lt;del&gt;SOLR-6297&lt;/del&gt;&lt;/a&gt;: Fix for Distributed WordBreakSolrSpellChecker&lt;/p&gt;</comment>
                            <comment id="14121373" author="jdyer" created="Thu, 4 Sep 2014 14:00:18 +0000"  >&lt;p&gt;Working on backport for 4.11 . &lt;/p&gt;

&lt;p&gt;cc: Steve Molloy - are you able to verify this trunk version fixes your particular problem?&lt;/p&gt;</comment>
                            <comment id="14121733" author="jira-bot" created="Thu, 4 Sep 2014 18:37:43 +0000"  >&lt;p&gt;Commit 1622526 from jdyer@apache.org in branch &apos;dev/branches/branch_4x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1622526&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1622526&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6297&quot; title=&quot;Distributed spellcheck with WordBreakSpellchecker can lose suggestions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6297&quot;&gt;&lt;del&gt;SOLR-6297&lt;/del&gt;&lt;/a&gt;: Fix for Distributed WordBreakSolrSpellChecker&lt;/p&gt;</comment>
                            <comment id="14134412" author="smolloy" created="Mon, 15 Sep 2014 20:16:57 +0000"  >&lt;p&gt;Sorry for not replying sooner, but yes, I applied the patch to our codebase and it seems to fix the issue. Thanks.&lt;/p&gt;</comment>
                            <comment id="14332941" author="anshumg" created="Mon, 23 Feb 2015 05:02:43 +0000"  >&lt;p&gt;Bulk close after 5.0 release.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12666271" name="SOLR-6297.patch" size="14882" author="jdyer" created="Wed, 3 Sep 2014 17:47:07 +0000"/>
                            <attachment id="12660443" name="SOLR-6297.patch" size="16058" author="jdyer" created="Thu, 7 Aug 2014 19:43:45 +0000"/>
                            <attachment id="12660235" name="SOLR-6297.patch" size="10372" author="jdyer" created="Wed, 6 Aug 2014 21:27:00 +0000"/>
                            <attachment id="12659930" name="SOLR-6297.patch" size="1102" author="jdyer" created="Tue, 5 Aug 2014 18:58:53 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>408616</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 39 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1yb3z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>408614</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>