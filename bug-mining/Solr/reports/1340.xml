<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:35:31 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-3819] Facet count not working when tagging &amp; excluding filters for range facets with group.facet true</title>
                <link>https://issues.apache.org/jira/browse/SOLR-3819</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;I&apos;m creating a range facet and I want to support multiple selection for it. However, when I set group.facet on the tags/exclusions for filters stop working. In other words, I only get the facet values for the filtered documents. The following link works:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://localhost:8983/solr/catalogPreview/select?q=*:*&amp;amp;facet=true&amp;amp;wt=xml&amp;amp;rows=0&amp;amp;facet.range=&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8983/solr/catalogPreview/select?q=*:*&amp;amp;facet=true&amp;amp;wt=xml&amp;amp;rows=0&amp;amp;facet.range=&lt;/a&gt;&lt;/p&gt;
{!ex%3DsalePrice}salePrice&amp;amp;f.salePrice.facet.range.gap=75&amp;amp;f.salePrice.facet.range.start=100&amp;amp;f.salePrice.facet.range.end=600&amp;amp;group=true&amp;amp;group.field=productId&amp;amp;f.salePrice.facet.mincount=1&amp;amp;fq={!tag=salePrice}salePrice:&lt;span class=&quot;error&quot;&gt;&amp;#91;100%20TO%20175&amp;#93;&lt;/span&gt;&amp;amp;group.facet=false&lt;br/&gt;
&lt;br/&gt;
The following doesn&apos;t:&lt;br/&gt;
&lt;br/&gt;
&lt;a href=&quot;http://localhost:8983/solr/catalogPreview/select?q=*:*&amp;amp;facet=true&amp;amp;wt=xml&amp;amp;rows=0&amp;amp;facet.range=&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8983/solr/catalogPreview/select?q=*:*&amp;amp;facet=true&amp;amp;wt=xml&amp;amp;rows=0&amp;amp;facet.range=&lt;/a&gt;{!ex%3DsalePrice}
&lt;p&gt;salePrice&amp;amp;f.salePrice.facet.range.gap=75&amp;amp;f.salePrice.facet.range.start=100&amp;amp;f.salePrice.facet.range.end=600&amp;amp;group=true&amp;amp;group.field=productId&amp;amp;f.salePrice.facet.mincount=1&amp;amp;fq=&lt;/p&gt;
{!tag=salePrice}
&lt;p&gt;salePrice:&lt;span class=&quot;error&quot;&gt;&amp;#91;100%20TO%20175&amp;#93;&lt;/span&gt;&amp;amp;group.facet=true&lt;/p&gt;</description>
                <environment>&lt;p&gt; 12.0.0 Darwin Kernel Version 12.0.&lt;/p&gt;</environment>
        <key id="12606944">SOLR-3819</key>
            <summary>Facet count not working when tagging &amp; excluding filters for range facets with group.facet true</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="yseeley@gmail.com">Yonik Seeley</assignee>
                                    <reporter username="rmerizalde">Ricardo Merizalde</reporter>
                        <labels>
                    </labels>
                <created>Mon, 10 Sep 2012 21:48:20 +0000</created>
                <updated>Mon, 9 May 2016 18:56:22 +0000</updated>
                            <resolved>Sat, 23 Mar 2013 15:21:37 +0000</resolved>
                                    <version>4.0</version>
                                    <fixVersion>4.2.1</fixVersion>
                    <fixVersion>4.3</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                    <component>search</component>
                        <due></due>
                            <votes>3</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="13578461" author="ggn06awu" created="Thu, 14 Feb 2013 16:16:00 +0000"  >&lt;p&gt;This is an issue we&apos;ve encountered in our latest project too, and is still present in the current SOLR 4.1 release. Has anyone tried using this combination of excludes, facet queries and grouping and managed to get them working?&lt;/p&gt;

&lt;p&gt;It&apos;s rather a show stopper for us, anything we can do to encourage a fix, we&apos;d be happy to pay if necessary?&lt;/p&gt;</comment>
                            <comment id="13611651" author="petterremen" created="Sat, 23 Mar 2013 07:45:00 +0000"  >&lt;p&gt;The same bug also applies when replacing facet.range with a facet.query&lt;/p&gt;

&lt;p&gt;The following does not work as expected on my data&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;q=*:*&amp;amp;
fq={!tag=code}code:ABCDE&amp;amp;
facet=true&amp;amp;
facet.query={!ex=code}*:*&amp;amp;
group=true&amp;amp;
group.facet=true&amp;amp;
group.field=id
rows=0&amp;amp;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13611652" author="petterremen" created="Sat, 23 Mar 2013 07:48:31 +0000"  >&lt;p&gt;&lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12575176/12575176_SOLR-3819.patch&quot; title=&quot;SOLR-3819.patch attached to SOLR-3819&quot;&gt;This patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; works for me. Tested against trunk and 4.2&lt;/p&gt;</comment>
                            <comment id="13611736" author="yseeley@gmail.com" created="Sat, 23 Mar 2013 15:21:37 +0000"  >&lt;p&gt;committed.  Thanks Petter!&lt;/p&gt;</comment>
                            <comment id="13653948" author="thetaphi" created="Fri, 10 May 2013 10:33:31 +0000"  >&lt;p&gt;Closed after release.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12638524">SOLR-4630</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12575176" name="SOLR-3819.patch" size="3366" author="petterremen" created="Sat, 23 Mar 2013 07:48:31 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>242266</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 28 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02n1z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>13336</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>