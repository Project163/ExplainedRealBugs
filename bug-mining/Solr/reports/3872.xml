<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:32:01 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-11971] CVE-2018-1308: XXE attack through DIH&apos;s dataConfig request parameter</title>
                <link>https://issues.apache.org/jira/browse/SOLR-11971</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;We got a security report about an XXE attack when using the &lt;tt&gt;&amp;amp;dataConfig=&amp;lt;inlinexml&amp;gt;&lt;/tt&gt; of Solr&apos;s DataImportHandler. See the attached PDF file with full details (I converted it to PDF, originally it was a DOC file).&lt;/p&gt;</description>
                <environment></environment>
        <key id="13137830">SOLR-11971</key>
            <summary>CVE-2018-1308: XXE attack through DIH&apos;s dataConfig request parameter</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="uschindler">Uwe Schindler</assignee>
                                    <reporter username="uschindler">Uwe Schindler</reporter>
                        <labels>
                    </labels>
                <created>Mon, 12 Feb 2018 11:26:32 +0000</created>
                <updated>Sat, 8 Jun 2019 15:13:54 +0000</updated>
                            <resolved>Sun, 18 Feb 2018 21:44:00 +0000</resolved>
                                                    <fixVersion>6.6.3</fixVersion>
                    <fixVersion>7.3</fixVersion>
                    <fixVersion>8.0</fixVersion>
                                    <component>contrib - DataImportHandler</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="16360625" author="thetaphi" created="Mon, 12 Feb 2018 11:33:38 +0000"  >&lt;p&gt;CVE number:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Thank you for requesting a CVE name for your issue.  We suggest you&lt;br/&gt;
copy and paste the name below as mistakes are easy to make and&lt;br/&gt;
cumbersome to correct.&lt;/p&gt;

&lt;p&gt;CVE-2018-1308&lt;/p&gt;

&lt;p&gt;Note the new notification requirements in section 15 of&lt;br/&gt;
&lt;a href=&quot;https://www.apache.org/security/committers.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://www.apache.org/security/committers.html&lt;/a&gt; . Once this&lt;br/&gt;
issue is public you must follow these steps within one&lt;br/&gt;
business day.  This is a requirement from Mitre.&lt;/p&gt;

&lt;p&gt;If you decide not to use the CVE name, or have any questions,&lt;br/&gt;
please let us know asap.&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="16360700" author="thetaphi" created="Mon, 12 Feb 2018 12:52:04 +0000"  >&lt;p&gt;Here is a patch including a test:  &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12910207/12910207_SOLR-11971.patch&quot; title=&quot;SOLR-11971.patch attached to SOLR-11971&quot;&gt;SOLR-11971.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; &lt;/p&gt;</comment>
                            <comment id="16368683" author="thetaphi" created="Sun, 18 Feb 2018 21:43:48 +0000"  >&lt;p&gt;This was committed to master (&lt;a href=&quot;http://git-wip-us.apache.org/repos/asf/lucene-solr/commit/02c693f3&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://git-wip-us.apache.org/repos/asf/lucene-solr/commit/02c693f3&lt;/a&gt;) and branch_7x (&lt;a href=&quot;http://git-wip-us.apache.org/repos/asf/lucene-solr/commit/739a7933&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://git-wip-us.apache.org/repos/asf/lucene-solr/commit/739a7933&lt;/a&gt;).&lt;/p&gt;</comment>
                            <comment id="16384331" author="steve_rowe" created="Fri, 2 Mar 2018 23:50:55 +0000"  >&lt;p&gt;Committed to branch_6_6 for inclusion in the 6.6.3 release: &lt;a href=&quot;http://git-wip-us.apache.org/repos/asf/lucene-solr/commit/dd3be31f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://git-wip-us.apache.org/repos/asf/lucene-solr/commit/dd3be31f&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16429817" author="jira-bot" created="Sun, 8 Apr 2018 17:20:28 +0000"  >&lt;p&gt;Commit 3530397f1777332872eac2760f9aa0e2ae1d7450 in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thetaphi&quot; class=&quot;user-hover&quot; rel=&quot;thetaphi&quot;&gt;thetaphi&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=3530397&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=3530397&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11971&quot; title=&quot;CVE-2018-1308: XXE attack through DIH&amp;#39;s dataConfig request parameter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-11971&quot;&gt;&lt;del&gt;SOLR-11971&lt;/del&gt;&lt;/a&gt;: Add CVE number: CVE-2018-1308&lt;/p&gt;</comment>
                            <comment id="16429818" author="jira-bot" created="Sun, 8 Apr 2018 17:22:06 +0000"  >&lt;p&gt;Commit d9bfb87ae9cc120fb775c6fdb0251f1ab408f39a in lucene-solr&apos;s branch refs/heads/branch_7x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thetaphi&quot; class=&quot;user-hover&quot; rel=&quot;thetaphi&quot;&gt;thetaphi&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=d9bfb87&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=d9bfb87&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11971&quot; title=&quot;CVE-2018-1308: XXE attack through DIH&amp;#39;s dataConfig request parameter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-11971&quot;&gt;&lt;del&gt;SOLR-11971&lt;/del&gt;&lt;/a&gt;: Add CVE number: CVE-2018-1308&lt;/p&gt;</comment>
                            <comment id="16429819" author="jira-bot" created="Sun, 8 Apr 2018 17:22:56 +0000"  >&lt;p&gt;Commit 924d959401485c3f3d0dfc73fca79f119e6ae13a in lucene-solr&apos;s branch refs/heads/branch_7_3 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thetaphi&quot; class=&quot;user-hover&quot; rel=&quot;thetaphi&quot;&gt;thetaphi&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=924d959&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=924d959&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11971&quot; title=&quot;CVE-2018-1308: XXE attack through DIH&amp;#39;s dataConfig request parameter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-11971&quot;&gt;&lt;del&gt;SOLR-11971&lt;/del&gt;&lt;/a&gt;: Add CVE number: CVE-2018-1308&lt;/p&gt;</comment>
                            <comment id="16429821" author="jira-bot" created="Sun, 8 Apr 2018 17:26:13 +0000"  >&lt;p&gt;Commit c1d0e81d561b39ed9aaa7c706373708cb1e5625f in lucene-solr&apos;s branch refs/heads/branch_6_6 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thetaphi&quot; class=&quot;user-hover&quot; rel=&quot;thetaphi&quot;&gt;thetaphi&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=c1d0e81&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=c1d0e81&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11971&quot; title=&quot;CVE-2018-1308: XXE attack through DIH&amp;#39;s dataConfig request parameter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-11971&quot;&gt;&lt;del&gt;SOLR-11971&lt;/del&gt;&lt;/a&gt;: Add CVE number: CVE-2018-1308&lt;/p&gt;</comment>
                            <comment id="16430990" author="wunder" created="Mon, 9 Apr 2018 18:06:39 +0000"  >&lt;p&gt;Is there a workaround for this that does not require upgrading?&lt;/p&gt;</comment>
                            <comment id="16432093" author="thetaphi" created="Tue, 10 Apr 2018 11:27:31 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=wunder&quot; class=&quot;user-hover&quot; rel=&quot;wunder&quot;&gt;wunder&lt;/a&gt;,&lt;br/&gt;
as written in my announcement mail, there is no easy way to disable the &quot;dataConfig&quot;  parameter in running installations, unless you completely disable DIH. So your options are:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;disable DIH completely (yeah, not so nice)&lt;/li&gt;
	&lt;li&gt;update to later version&lt;/li&gt;
	&lt;li&gt;instruct your reverse proxy to remove &quot;dataConfig&quot; parameter before passing to Solr. I have seen configs for nginx doing similar things with the &quot;stream.body&quot; parameters.&lt;/li&gt;
	&lt;li&gt;run Solr only on localhost&lt;/li&gt;
	&lt;li&gt;install a firewall (that&apos;s a joke, you should have done this already)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;One thing that might work (not sure yet):&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;make dataConfig a &quot;invariant&quot; in solrconfig.xml. Does anybody know if this works for DIH, too?&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="16432354" author="wunder" created="Tue, 10 Apr 2018 14:28:53 +0000"  >&lt;p&gt;Sorry, figured it out after I posted that.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Does the default config enable the dataimporthandler? We only have it enabled on the very old clusters (Solr 3). This is a fine excuse for shutting them down.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12910190" name="ApacheSolrDIH-XXE.pdf" size="1589233" author="uschindler" created="Mon, 12 Feb 2018 11:26:01 +0000"/>
                            <attachment id="12910207" name="SOLR-11971.patch" size="4631" author="uschindler" created="Mon, 12 Feb 2018 12:51:46 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 32 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3q2dr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>