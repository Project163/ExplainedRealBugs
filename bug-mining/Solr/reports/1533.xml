<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:39:45 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-5233] admin/collections?action=DELETESHARD broken</title>
                <link>https://issues.apache.org/jira/browse/SOLR-5233</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;The problem we saw was that deleting a shard did not actually delete it, although it semi-claimed to have done so.&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt; 
...
o.a.s.c.OverseerCollectionProcessor [OverseerCollectionProcessor.java:723]
Delete shard invoked
...
o.a.s.c.OverseerCollectionProcessor [OverseerCollectionProcessor.java:781]
Successfully deleted collection collection1, shard: null
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; </description>
                <environment></environment>
        <key id="12668001">SOLR-5233</key>
            <summary>admin/collections?action=DELETESHARD broken</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="shalin">Shalin Shekhar Mangar</assignee>
                                    <reporter username="cpoerschke">Christine Poerschke</reporter>
                        <labels>
                    </labels>
                <created>Wed, 11 Sep 2013 08:32:56 +0000</created>
                <updated>Mon, 9 May 2016 18:55:57 +0000</updated>
                            <resolved>Thu, 12 Sep 2013 07:19:29 +0000</resolved>
                                    <version>4.4</version>
                                    <fixVersion>4.5</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="13764123" author="cpoerschke" created="Wed, 11 Sep 2013 08:38:16 +0000"  >&lt;p&gt;From looking at the code, OverseerCollectionProcessor.java, in deleteShard it&apos;s a copy/paste problem and a few of the &lt;em&gt;message.getStr(&quot;name&quot;)&lt;/em&gt; need to be &lt;em&gt;sliceId&lt;/em&gt; and &lt;em&gt;sliceId&lt;/em&gt; as well as &lt;em&gt;collection&lt;/em&gt; needs to be passed as part of the &lt;em&gt;Overseer.REMOVESHARD&lt;/em&gt; operation.&lt;/p&gt;</comment>
                            <comment id="13765223" author="shalinmangar" created="Thu, 12 Sep 2013 07:08:46 +0000"  >&lt;ol&gt;
	&lt;li&gt;Used constants everywhere to avoid passing wrong parameters.&lt;/li&gt;
	&lt;li&gt;Fixed logging in OverseerCollectionProcessor&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;The deleteshard succeeds even without this patch because a shard is deleted if all cores are unloaded. It can fail without this patch if some cores were down. Also, without this patch, the wait logic in OverseerCollectionProcessor was wrong and didn&apos;t actually wait for the cluster state to update.&lt;/p&gt;</comment>
                            <comment id="13765228" author="jira-bot" created="Thu, 12 Sep 2013 07:14:12 +0000"  >&lt;p&gt;Commit 1522463 from shalin@apache.org in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1522463&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1522463&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5233&quot; title=&quot;admin/collections?action=DELETESHARD broken&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5233&quot;&gt;&lt;del&gt;SOLR-5233&lt;/del&gt;&lt;/a&gt;: The deleteshard collections API doesn&apos;t wait for cluster state to update, can fail if some nodes of the deleted shard were down and had incorrect logging.&lt;/p&gt;</comment>
                            <comment id="13765229" author="jira-bot" created="Thu, 12 Sep 2013 07:16:36 +0000"  >&lt;p&gt;Commit 1522465 from shalin@apache.org in branch &apos;dev/branches/branch_4x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1522465&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1522465&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5233&quot; title=&quot;admin/collections?action=DELETESHARD broken&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5233&quot;&gt;&lt;del&gt;SOLR-5233&lt;/del&gt;&lt;/a&gt;: The deleteshard collections API doesn&apos;t wait for cluster state to update, can fail if some nodes of the deleted shard were down and had incorrect logging.&lt;/p&gt;</comment>
                            <comment id="13787122" author="jpountz" created="Sat, 5 Oct 2013 10:19:20 +0000"  >&lt;p&gt;4.5 release -&amp;gt; bulk close&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12602747" name="SOLR-5233.patch" size="5753" author="shalin" created="Thu, 12 Sep 2013 07:08:46 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>347936</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 7 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1nzuv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>348232</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>