<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:49:08 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-15891] The Solr docker image is roughly 1.5-2x the size it needs to be</title>
                <link>https://issues.apache.org/jira/browse/SOLR-15891</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;Currently the local (and test-official) docker images built off of 9x (main) are 1.5-2x the size of the docker images created for 8.x releases.&lt;/p&gt;

&lt;p&gt;You can see this in the &lt;a href=&quot;https://hub.docker.com/r/apache/solr-nightly/tags&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;official nightly builds docker image&lt;/a&gt;, when you click on the image tag.&lt;/p&gt;

&lt;p&gt;The reason for this is we change the permission of each Solr file/directory that we have either 1) just downloaded (in the official docker image) or 2) just copied (in the local docker image), in this line: &lt;a href=&quot;https://github.com/apache/solr/blob/main/solr/docker/templates/Dockerfile.body.template#L34&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/solr/blob/main/solr/docker/templates/Dockerfile.body.template#L34&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;One easy fix is to do this step in the same download step in the official docker file, so that no additional space is used up for that layer. However, since the copy task does not allow for changing permissions at the same time, local docker builds will continue to have the same size issues.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13420618">SOLR-15891</key>
            <summary>The Solr docker image is roughly 1.5-2x the size it needs to be</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="houston">Houston Putman</assignee>
                                    <reporter username="houston">Houston Putman</reporter>
                        <labels>
                    </labels>
                <created>Tue, 4 Jan 2022 16:30:34 +0000</created>
                <updated>Thu, 12 May 2022 00:35:10 +0000</updated>
                            <resolved>Thu, 31 Mar 2022 23:16:15 +0000</resolved>
                                    <version>9.0</version>
                                    <fixVersion>9.0</fixVersion>
                                    <component>Docker</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="6000">1h 40m</timespent>
                                <comments>
                            <comment id="17472164" author="jira-bot" created="Mon, 10 Jan 2022 17:02:15 +0000"  >&lt;p&gt;Commit 5690007225067a8106a2d14415d03eb1c141dba1 in solr&apos;s branch refs/heads/main from Houston Putman&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=5690007&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=5690007&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-15891&quot; title=&quot;The Solr docker image is roughly 1.5-2x the size it needs to be&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-15891&quot;&gt;&lt;del&gt;SOLR-15891&lt;/del&gt;&lt;/a&gt;: Shrink Solr image, use default tarball file permissions (#498)&lt;/p&gt;
</comment>
                            <comment id="17472165" author="jira-bot" created="Mon, 10 Jan 2022 17:04:05 +0000"  >&lt;p&gt;Commit 826fa37e45c6e66d5e3bc65608009e0d7b448d15 in solr&apos;s branch refs/heads/branch_9x from Houston Putman&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=826fa37&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=826fa37&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-15891&quot; title=&quot;The Solr docker image is roughly 1.5-2x the size it needs to be&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-15891&quot;&gt;&lt;del&gt;SOLR-15891&lt;/del&gt;&lt;/a&gt;: Shrink Solr image, use default tarball file permissions (#498)&lt;/p&gt;
</comment>
                            <comment id="17472166" author="jira-bot" created="Mon, 10 Jan 2022 17:04:24 +0000"  >&lt;p&gt;Commit 71c9c89a6612a4523acde60bd39b0a6b97595f87 in solr&apos;s branch refs/heads/branch_9_0 from Houston Putman&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=71c9c89&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=71c9c89&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-15891&quot; title=&quot;The Solr docker image is roughly 1.5-2x the size it needs to be&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-15891&quot;&gt;&lt;del&gt;SOLR-15891&lt;/del&gt;&lt;/a&gt;: Shrink Solr image, use default tarball file permissions (#498)&lt;/p&gt;
</comment>
                            <comment id="17472167" author="houston" created="Mon, 10 Jan 2022 17:06:29 +0000"  >&lt;p&gt;Decided to use the default tarball (artifact) file permissions. The docker/scripts permissions had to be fixed, but everything worked well besides that.&lt;/p&gt;

&lt;p&gt;Now permissions are set in only one place, packaging/build.gradle.&lt;/p&gt;</comment>
                            <comment id="17515380" author="houston" created="Thu, 31 Mar 2022 15:14:52 +0000"  >&lt;p&gt;It looks like we are not deleting the TGZ in the official image, which means the image is roughly 200MB bigger than the local image.&lt;/p&gt;

&lt;p&gt;Re-opening and submitting a PR&lt;/p&gt;</comment>
                            <comment id="17515626" author="jira-bot" created="Thu, 31 Mar 2022 23:06:57 +0000"  >&lt;p&gt;Commit 2483ad325843b51eaa2b8f199eadacd40013d9c9 in solr&apos;s branch refs/heads/main from Houston Putman&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=2483ad3&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=2483ad3&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-15891&quot; title=&quot;The Solr docker image is roughly 1.5-2x the size it needs to be&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-15891&quot;&gt;&lt;del&gt;SOLR-15891&lt;/del&gt;&lt;/a&gt;: Delete tgz from the official image after untarring (#782)&lt;/p&gt;
</comment>
                            <comment id="17515627" author="jira-bot" created="Thu, 31 Mar 2022 23:11:05 +0000"  >&lt;p&gt;Commit d204cdced2ddffcec3f4c9902bcb75b52fb72286 in solr&apos;s branch refs/heads/branch_9x from Houston Putman&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=d204cdc&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=d204cdc&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-15891&quot; title=&quot;The Solr docker image is roughly 1.5-2x the size it needs to be&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-15891&quot;&gt;&lt;del&gt;SOLR-15891&lt;/del&gt;&lt;/a&gt;: Delete tgz from the official image after untarring (#782)&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 2483ad325843b51eaa2b8f199eadacd40013d9c9)&lt;/p&gt;</comment>
                            <comment id="17515632" author="jira-bot" created="Thu, 31 Mar 2022 23:15:06 +0000"  >&lt;p&gt;Commit f984623f53b0b617140d8136e1ad3ddfee1dbcfd in solr&apos;s branch refs/heads/branch_9_0 from Houston Putman&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=f984623&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=f984623&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-15891&quot; title=&quot;The Solr docker image is roughly 1.5-2x the size it needs to be&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-15891&quot;&gt;&lt;del&gt;SOLR-15891&lt;/del&gt;&lt;/a&gt;: Delete tgz from the official image after untarring (#782)&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 2483ad325843b51eaa2b8f199eadacd40013d9c9)&lt;/p&gt;</comment>
                            <comment id="17535630" author="janhoy" created="Thu, 12 May 2022 00:26:48 +0000"  >&lt;p&gt;Closing after the 9.0.0 release&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 26 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0y8h4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>