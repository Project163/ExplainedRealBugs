<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:41:29 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-13971] Velocity custom template RCE vulnerability</title>
                <link>https://issues.apache.org/jira/browse/SOLR-13971</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;We need to disable this. There is a zero day attack in the wild. 41 stars on this github project: &lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;&lt;a href=&quot;https://github.com/jas502n/solr_rce&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/jas502n/solr_rce&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://gist.github.com/s00py/a1ba36a3689fa13759ff910e179fc133&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gist.github.com/s00py/a1ba36a3689fa13759ff910e179fc133&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;We need to disable this in a way that cannot be re-enabled using the Config API.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13270753">SOLR-13971</key>
            <summary>Velocity custom template RCE vulnerability</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ichattopadhyaya">Ishan Chattopadhyaya</assignee>
                                    <reporter username="ichattopadhyaya">Ishan Chattopadhyaya</reporter>
                        <labels>
                    </labels>
                <created>Tue, 26 Nov 2019 16:19:46 +0000</created>
                <updated>Mon, 15 Mar 2021 15:09:18 +0000</updated>
                            <resolved>Thu, 28 Nov 2019 02:30:49 +0000</resolved>
                                    <version>5.0</version>
                    <version>5.5.5</version>
                    <version>6.0</version>
                    <version>6.6.5</version>
                    <version>7.0</version>
                    <version>7.7</version>
                    <version>8.0</version>
                    <version>8.3</version>
                                    <fixVersion>7.7.3</fixVersion>
                    <fixVersion>8.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>9</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="6600">1h 50m</timespent>
                                <comments>
                            <comment id="16982662" author="ichattopadhyaya" created="Tue, 26 Nov 2019 16:45:49 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=janhoy&quot; class=&quot;user-hover&quot; rel=&quot;janhoy&quot;&gt;janhoy&lt;/a&gt; commented this on Slack:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Perhaps a good thing for Velocity is to remove the &#8220;params.resource.loader.enabled&#8221; config param and instead move that to a System property flag that must be set in solr.in.sh when starting Solr - then you can&#8217;t enable it through config api&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;^ Just adding it here for the record.&lt;/p&gt;</comment>
                            <comment id="16982703" author="dsmiley" created="Tue, 26 Nov 2019 17:34:17 +0000"  >&lt;p&gt;Agreed; this should be similar to the recently added:&lt;br/&gt;
 SOLR-13158: DIH: Add System property toggle for use of dataConfig param &#8211;&#160;enable.dih.dataConfigParam &#160;(something I worked on)&lt;/p&gt;

&lt;p&gt;As an aside, it&apos;s too bad we don&apos;t have good naming standardization.&lt;/p&gt;</comment>
                            <comment id="16982708" author="ichattopadhyaya" created="Tue, 26 Nov 2019 17:37:10 +0000"  >&lt;p&gt;Making this public as there&apos;s nothing in this issue that is not already widely known.&lt;/p&gt;</comment>
                            <comment id="16982726" author="ctargett" created="Tue, 26 Nov 2019 17:59:35 +0000"  >&lt;p&gt;Making this private again. &lt;/p&gt;

&lt;p&gt;&#8220;Everyone already knows about it&#8221; is not a valid criteria for making security issues public (IMO) either through Jira issues or public conversations in Slack. We make it public when we have a mitigation and plan. Our discussions about the cause of the problem and what we&#8217;re going to do about it should stay private (and my reading of the ASF policy on this is that it &lt;b&gt;must&lt;/b&gt; stay private, but I won&apos;t get into a policy debate about it).&lt;/p&gt;

&lt;p&gt;This is also a duplicate of SOLR-13883.&lt;/p&gt;</comment>
                            <comment id="16982730" author="ichattopadhyaya" created="Tue, 26 Nov 2019 18:04:48 +0000"  >&lt;p&gt;Ah, wasn&apos;t aware of the policy. Thanks.&lt;/p&gt;</comment>
                            <comment id="16982764" author="ichattopadhyaya" created="Tue, 26 Nov 2019 18:48:14 +0000"  >&lt;p&gt;Mitigation for users facing this issue: &lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;Disable config APIs by restarting Solr using the parameter: -Ddisable.configEdit=false&lt;/li&gt;
	&lt;li&gt;Restrict exposing Solr installation to unauthorized users (through use of firewall etc.).&lt;/li&gt;
	&lt;li&gt;If 2 is not possible, then enable authentication and authorization to protect admin APIs. &lt;a href=&quot;https://lucene.apache.org/solr/guide/8_3/securing-solr.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://lucene.apache.org/solr/guide/8_3/securing-solr.html&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
</comment>
                            <comment id="16982920" author="janhoy" created="Tue, 26 Nov 2019 21:22:26 +0000"  >&lt;p&gt;Step 1 is the correct workaround. Leaving configEdit enabled is a can of worms for installs that are exposed in saas settings or to a large number of people.&lt;/p&gt;

&lt;p&gt;Could we change RBAC plugin so that it protects collection config edit by default when enabled, so people actively have to map that permission to a role for it to be open? For systems without auth enabled there is no point in restricting configEdit.&lt;/p&gt;</comment>
                            <comment id="16982949" author="ichattopadhyaya" created="Tue, 26 Nov 2019 22:02:38 +0000"  >&lt;blockquote&gt;&lt;p&gt;Could we change RBAC plugin so that it protects collection config edit by default when enabled, so people actively have to map that permission to a role for it to be open? For systems without auth enabled there is no point in restricting configEdit.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I think this is suitable for a separate discussion (mailing list / JIRA).&lt;/p&gt;</comment>
                            <comment id="16983249" author="ichattopadhyaya" created="Wed, 27 Nov 2019 07:49:03 +0000"  >&lt;p&gt;Here&apos;s a patch to change the init arguments to startup params. Also removed velocity from _default configset. Contains corresponding ref guide changes. Can someone please review urgently?&lt;/p&gt;</comment>
                            <comment id="16984071" author="ichattopadhyaya" created="Thu, 28 Nov 2019 01:37:08 +0000"  >&lt;p&gt;Here&apos;s an easy way to review: &lt;a href=&quot;https://github.com/apache/lucene-solr/compare/master...jira/solr-13971&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/lucene-solr/compare/master...jira/solr-13971&lt;/a&gt;&lt;br/&gt;
I&apos;m going to commit this shortly.&lt;/p&gt;</comment>
                            <comment id="16984092" author="ichattopadhyaya" created="Thu, 28 Nov 2019 02:30:49 +0000"  >&lt;p&gt;Committed in master, branch_8x and branch_8_3. Will reopen later to backport to 7.7.&lt;br/&gt;
This should be made public now, because this shouldn&apos;t have been private in the first place. I&apos;ll leave that for &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ctargett&quot; class=&quot;user-hover&quot; rel=&quot;ctargett&quot;&gt;ctargett&lt;/a&gt; (whom I clearly disagree with). Thanks to all who helped!&lt;/p&gt;</comment>
                            <comment id="16984256" author="janhoy" created="Thu, 28 Nov 2019 09:22:31 +0000"  >&lt;p&gt;Thanks for tacking this Ishan.&lt;/p&gt;

&lt;p&gt;I&apos;m not sure why you thought that removing the custom templates was not enough. Removing velocity from default config set is a breaking change, and people may have scripted installs depending on the fact that default configset wires in Velocity. In my opinion that should not go away until 9.0, as long as we&apos;re confident that the custom template feature is gone.&lt;/p&gt;

&lt;p&gt;Also, I was a bit confused about &quot;solr.resource.loader.enabled&quot; vs &quot;params.resource.loader.enabled&quot;, and making them both top-level sysprops. Their names do not have enough context to tell this is for Velocity. Better with &quot;-Dsolr.velocity.solrresourceloader.enable&quot; and &quot;-Dsolr.velocity.requestparams.resourceloader.enable&quot; or similar?&lt;/p&gt;</comment>
                            <comment id="16984257" author="janhoy" created="Thu, 28 Nov 2019 09:24:22 +0000"  >&lt;p&gt;Are you following the process at &lt;a href=&quot;https://www.apache.org/security/committers.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://www.apache.org/security/committers.html&lt;/a&gt;&#160;and plan to open a CVE and respond to original reporter?&lt;/p&gt;</comment>
                            <comment id="16984285" author="noble.paul" created="Thu, 28 Nov 2019 09:57:34 +0000"  >&lt;p&gt;We can change the default configset and it&apos;s not a backward incompatible change. If you are already using velocity in your installation that will not break their installation if they upgrade to 8.4. so, we have not broken backcompat&lt;/p&gt;</comment>
                            <comment id="16984300" author="ichattopadhyaya" created="Thu, 28 Nov 2019 10:20:35 +0000"  >&lt;blockquote&gt;&lt;p&gt;We can change the default configset and it&apos;s not a backward incompatible change. If you are already using velocity in your installation that will not break their installation if they upgrade to 8.4. so, we have not broken backcompat&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;+1. They would need to follow the upgrade notes, though, to use changed parameter names.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Also, I was a bit confused about &quot;solr.resource.loader.enabled&quot; vs &quot;params.resource.loader.enabled&quot;, and making them both top-level sysprops. Their names do not have enough context to tell this is for Velocity. Better with &quot;-Dsolr.velocity.solrresourceloader.enable&quot; and &quot;-Dsolr.velocity.requestparams.resourceloader.enable&quot; or similar?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yeah, agreed, those parameter names were terrible. Changed them to slightly less terrible: velocity.resourceloader.params.enabled and velocity.resourceloader.solr.enabled.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Are you following the process at &lt;a href=&quot;https://www.apache.org/security/committers.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://www.apache.org/security/committers.html&lt;/a&gt; and plan to open a CVE and respond to original reporter?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;No, I don&apos;t have the time to respond to the original reporter. The CVE is already there in SOLR-13883. Based on &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13971?focusedCommentId=16982726&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16982726&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SOLR-13971?focusedCommentId=16982726&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16982726&lt;/a&gt;, I hope &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ctargett&quot; class=&quot;user-hover&quot; rel=&quot;ctargett&quot;&gt;ctargett&lt;/a&gt; can take this up.&lt;/p&gt;</comment>
                            <comment id="16984307" author="janhoy" created="Thu, 28 Nov 2019 10:32:33 +0000"  >&lt;p&gt;I cannot see any CVE number in the linked JIRA.&lt;/p&gt;

&lt;p&gt;We break back compat in that people may rely on the default config set for automated scripted setup, e.g.&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;&amp;gt; download and install solr 8.4
&amp;gt; bin/solr start -c
&amp;gt; bin/solr create -n &quot;myColl&quot;   # note default configset
&amp;gt; bin/post /path/to/my/file.xml
&amp;gt; open http://localhost:8983/solr/myColl/browse &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The upgrade notes should at least mention that you need to manually register velocity into your config in such cases, which can of course be done with a set of config api calls.&lt;/p&gt;</comment>
                            <comment id="16984309" author="ichattopadhyaya" created="Thu, 28 Nov 2019 10:37:26 +0000"  >&lt;blockquote&gt;&lt;p&gt;I cannot see any CVE number in the linked JIRA.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Ah, the title of the linked JIRA has a CVE, but it is the incorrect value. I won&apos;t be able to find time to file the CVE.&lt;/p&gt;</comment>
                            <comment id="16984311" author="ichattopadhyaya" created="Thu, 28 Nov 2019 10:39:47 +0000"  >&lt;blockquote&gt;&lt;p&gt;We break back compat in that people may rely on the default config set for automated scripted setup, e.g.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;That is not how we have used the term &quot;back compat&quot; in the past. An existing instance will continue to work after upgrade (after adding those parameters).&lt;/p&gt;</comment>
                            <comment id="16984341" author="janhoy" created="Thu, 28 Nov 2019 11:24:16 +0000"  >&lt;blockquote&gt;&lt;p&gt;An existing instance will continue to work after upgrade&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Sure, that&apos;s the main thing. Just be prepared for people asking on the list why Velocity no longer works with default config! However, I agree that velocity no longer belongs in default config set, I just think it&apos;s an over-reaction to throw it out now, when the RCE which this issue really is about, has been plugged with the properties. Removing Velocity from default configset should have been its its own, public JIRA and not be committed for 8.3.1.&lt;/p&gt;</comment>
                            <comment id="16984405" author="ichattopadhyaya" created="Thu, 28 Nov 2019 13:19:51 +0000"  >&lt;blockquote&gt;&lt;p&gt;I just think it&apos;s an over-reaction to throw it out now, when the RCE which this issue really is about, has been plugged with the properties. Removing Velocity from default configset should have been its its own, public JIRA and not be committed for 8.3.1.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Dealing with security issues is not our full-time job. When the ship is sinking, we shouldn&apos;t be fighting over how to arrange chairs on the deck. Removing it now from default config will save us future headache, and no one has energy for bureaucracy as to how we remove it. &lt;/p&gt;</comment>
                            <comment id="16984410" author="ctargett" created="Thu, 28 Nov 2019 13:26:12 +0000"  >&lt;p&gt;This now has a CVE: 2019-17558. I&apos;ve updated the issue title.&lt;/p&gt;</comment>
                            <comment id="16984420" author="ctargett" created="Thu, 28 Nov 2019 13:45:32 +0000"  >&lt;p&gt;The Affects Version here only says 7.0-8.3.0 - is that a guess, or are we sure it doesn&apos;t affect earlier versions also?&lt;/p&gt;</comment>
                            <comment id="16984451" author="ichattopadhyaya" created="Thu, 28 Nov 2019 14:17:28 +0000"  >&lt;p&gt;I think it affects any version that has config API and velocity.&lt;/p&gt;</comment>
                            <comment id="16984453" author="ichattopadhyaya" created="Thu, 28 Nov 2019 14:23:00 +0000"  >&lt;p&gt;Oh God, seems like 5.0. How time flies.&lt;/p&gt;</comment>
                            <comment id="16984476" author="dsmiley" created="Thu, 28 Nov 2019 14:57:24 +0000"  >&lt;p&gt;I appreciate your tenacity in fixing the issue, but like Jan, I think changing the default configSet was a bit much for a bug-fix release. &#160;Heck... when the DIH had a similar problem, we didn&apos;t do this. &#160;The system property fixed the problem there, and I expect it to do likewise here. &#160;Also, I would have appreciated one back and forth on choosing a name for this system property. &#160;We want to insist on some peer-review; right? &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&#160; I do!&lt;/p&gt;</comment>
                            <comment id="16984484" author="ichattopadhyaya" created="Thu, 28 Nov 2019 15:11:24 +0000"  >&lt;blockquote&gt;&lt;p&gt;Also, I would have appreciated one back and forth on choosing a name for this system property.  We want to insist on some peer-review; right?   I do!&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Lets put this issue in context. &lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;This was a special issue.&lt;/li&gt;
	&lt;li&gt;There was a zero day exploit in the wild.&lt;/li&gt;
	&lt;li&gt;Cassandra didn&apos;t want early public disclosure until this is fixed, so we need to rush to a fix.&lt;/li&gt;
	&lt;li&gt;I didn&apos;t want to raise a GitHub PR, as there&apos;s no concept of a &quot;private PR&quot;.&lt;/li&gt;
	&lt;li&gt;# I put out a patch at least one day ago, and no one reviewed it.&lt;/li&gt;
	&lt;li&gt;Jan reviewed it after the commit, and I incorporated his suggestion about changing the parameter name.&lt;/li&gt;
	&lt;li&gt;In my opinion, this should be removed from _default configset right away. I wouldn&apos;t mind if you or Jan would want to veto removing this from _default configset (8.3.1 isn&apos;t out yet).&lt;/li&gt;
&lt;/ol&gt;


&lt;blockquote&gt;&lt;p&gt;when the DIH had a similar problem, we didn&apos;t do this.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;That was a mistake then, IMHO. We should&apos;ve removed DIH as well. I&apos;ll open a separate issue to deal with DIH removal.&lt;/p&gt;</comment>
                            <comment id="16984487" author="dsmiley" created="Thu, 28 Nov 2019 15:18:23 +0000"  >&lt;p&gt;Thanks; maybe I rushed to judge... only looking at my phone I missed some of the timeline.&lt;/p&gt;</comment>
                            <comment id="16984491" author="dsmiley" created="Thu, 28 Nov 2019 15:23:27 +0000"  >&lt;p&gt;I will put back velocity into the default configSet immediately. &#160;I think for 8.4 (or later) we can create one issue to trim down the default configSet of various things (why stop at velocity &amp;amp; DIH?). &#160;I am very much in favor of this!&lt;/p&gt;</comment>
                            <comment id="16984498" author="ctargett" created="Thu, 28 Nov 2019 15:36:37 +0000"  >&lt;blockquote&gt;&lt;p&gt;Cassandra didn&apos;t want early public disclosure until this is fixed, so we need to rush to a fix.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;You completely missed my point, Ishan, and I would appreciate it if you would stop blaming me for rushing around with your hair on fire tromping all over our established norms for how we deal with these issues.&lt;/p&gt;

&lt;p&gt;I did not want the back &amp;amp; forth discussion about how we deal with this bug to be public until we had an agreement on what the fix was going to be, who was going to do it, and when we were going to do it. It is ASF policy that these conversations happen privately, and I strongly believe it fosters no confidence or trust for people not on the PMC to see how messy it can be for a group to try to come to a consensus. They want the solution, not the sausage-making.&lt;/p&gt;

&lt;p&gt;You decided that the PMC Chair had to be the one to write a message to the community, after I told you I was taking days off. How was that going to work? If you&apos;d bothered to look at the past, you would have seen that of the 5 CVEs so far this year, I didn&apos;t write &lt;b&gt;any&lt;/b&gt; of the announcements. As soon as you had determined mitigation steps, you could have drafted a note and proposed to send it to the user list as others have done. But you didn&apos;t reflect back on how we&apos;d handled similar situations, and that is not my fault.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I didn&apos;t want to raise a GitHub PR, as there&apos;s no concept of a &quot;private PR&quot;.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Whether one does a patch vs. PR I don&apos;t care, but taking a breath would have helped you realize that a PR could have been raised to change the setting and/or remove Velocity from the default configset without ever mentioning that it was because of a vulnerability. This is also not my fault.&lt;/p&gt;</comment>
                            <comment id="16984537" author="ichattopadhyaya" created="Thu, 28 Nov 2019 16:51:44 +0000"  >&lt;p&gt;Thanks for your comment, Cassandra. I&apos;ll respond once you&apos;re back from vacation and I&apos;m done with this 8.3.1 release. Hope you have a good time!&lt;/p&gt;</comment>
                            <comment id="16984551" author="ichattopadhyaya" created="Thu, 28 Nov 2019 17:15:41 +0000"  >&lt;blockquote&gt;&lt;p&gt;I will put back velocity into the default configSet immediately.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Alas, you undid my well thought out hard work in getting rid of velocity from the default configset. And added 3 more hours to my workday, as I had to abort the RC1 and respin again. I totally disagree with keeping velocity. The burden of velocity will now weigh on your shoulders, David and Jan. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; History will judge you both harshly if this is not removed soon and another vulnerability pops up in velocity.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I think for 8.4 (or later) we can create one issue to trim down the default configSet of various things (why stop at velocity &amp;amp; DIH?).  I am very much in favor of this!&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I&apos;m glad we agree!!&lt;/p&gt;</comment>
                            <comment id="16984553" author="ichattopadhyaya" created="Thu, 28 Nov 2019 17:16:44 +0000"  >&lt;p&gt;8.3.1 RC1 is underway. If someone wants to veto David&apos;s last commit of bringing back velocity in default configset, please let me know.&lt;/p&gt;</comment>
                            <comment id="16984555" author="ichattopadhyaya" created="Thu, 28 Nov 2019 17:22:27 +0000"  >&lt;p&gt;Added &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13978&quot; title=&quot;Remove bloat from default configset&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13978&quot;&gt;&lt;del&gt;SOLR-13978&lt;/del&gt;&lt;/a&gt; for removing velocity (and other useless things) from default configset. Thanks to all who contributed to this issue!&lt;/p&gt;</comment>
                            <comment id="17009542" author="sachinpattan@gmail.com" created="Tue, 7 Jan 2020 09:11:56 +0000"  >&lt;p&gt;&amp;gt;&#160;Committed in master, branch_8x and branch_8_3. Will reopen later to backport to 7.7.&lt;br/&gt;
This should be made public now, because this shouldn&apos;t have been private in the first place. I&apos;ll leave that for&#160;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ctargett&quot; class=&quot;user-hover&quot; rel=&quot;ctargett&quot;&gt;ctargett&lt;/a&gt;&#160;(whom I clearly disagree with). Thanks to all who helped!&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ichattopadhyaya&quot; class=&quot;user-hover&quot; rel=&quot;ichattopadhyaya&quot;&gt;ichattopadhyaya&lt;/a&gt;, I don&apos;t see any pull request for 7.7 version yet (or am I missing something? ) can you please let me know when will the patched version of 7.7 be available?&#160;&lt;/p&gt;</comment>
                            <comment id="17010486" author="sachinpattan@gmail.com" created="Wed, 8 Jan 2020 08:58:05 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ichattopadhyaya&quot; class=&quot;user-hover&quot; rel=&quot;ichattopadhyaya&quot;&gt;ichattopadhyaya&lt;/a&gt;any updates on &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13971?focusedCommentId=17009542&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-17009542?&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SOLR-13971?focusedCommentId=17009542&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-17009542?&lt;/a&gt;&#160;Can you please let us know if you are planning to provide a patch for 7.7.x versions? if not, I can create such a patch and create a pull request for you &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17010489" author="ichattopadhyaya" created="Wed, 8 Jan 2020 09:04:20 +0000"  >&lt;p&gt;Sure Pattan, please add a branch_7_7 patch and attach here (or PR). I&apos;ll take this up. Thanks.&lt;/p&gt;</comment>
                            <comment id="17010620" author="sachinpattan@gmail.com" created="Wed, 8 Jan 2020 11:58:17 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ichattopadhyaya&quot; class=&quot;user-hover&quot; rel=&quot;ichattopadhyaya&quot;&gt;ichattopadhyaya&lt;/a&gt;&#160;I created the PR&#160;&lt;a href=&quot;https://github.com/apache/lucene-solr/pull/1156&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/lucene-solr/pull/1156&lt;/a&gt;&#160;. Please take a look.&#160;&lt;/p&gt;</comment>
                            <comment id="17010628" author="ehatcher" created="Wed, 8 Jan 2020 12:07:42 +0000"  >&lt;p&gt;It&apos;s important that these two JIRAs are tied.&#160; &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-14025&quot; title=&quot;CVE-2019-17558: Velocity response writer RCE vulnerability persists after 8.3.1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-14025&quot;&gt;&lt;del&gt;SOLR-14025&lt;/del&gt;&lt;/a&gt; addresses the CVE fully, whereas this ticket&apos;s patch still had an exploitable pathway.&lt;/p&gt;</comment>
                            <comment id="17010630" author="ehatcher" created="Wed, 8 Jan 2020 12:08:58 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sachinpattan%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;sachinpattan@gmail.com&quot;&gt;sachinpattan@gmail.com&lt;/a&gt;&#160;- you must also include &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-14025&quot; title=&quot;CVE-2019-17558: Velocity response writer RCE vulnerability persists after 8.3.1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-14025&quot;&gt;&lt;del&gt;SOLR-14025&lt;/del&gt;&lt;/a&gt;&apos;s patch -&#160;&lt;a href=&quot;https://github.com/apache/lucene-solr/commit/9dfee35b9facbcbc9342d8bbbe52667cb6d1dced&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/lucene-solr/commit/9dfee35b9facbcbc9342d8bbbe52667cb6d1dced&lt;/a&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17010631" author="sachinpattan@gmail.com" created="Wed, 8 Jan 2020 12:13:55 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ehatcher&quot; class=&quot;user-hover&quot; rel=&quot;ehatcher&quot;&gt;ehatcher&lt;/a&gt;, thanks for that, will add those also now.&#160;&lt;/p&gt;</comment>
                            <comment id="17010696" author="sachinpattan@gmail.com" created="Wed, 8 Jan 2020 14:14:41 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ehatcher&quot; class=&quot;user-hover&quot; rel=&quot;ehatcher&quot;&gt;ehatcher&lt;/a&gt;&#160;should I create a separate PR for&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-14025&quot; title=&quot;CVE-2019-17558: Velocity response writer RCE vulnerability persists after 8.3.1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-14025&quot;&gt;&lt;del&gt;SOLR-14025&lt;/del&gt;&lt;/a&gt;&apos;s patch ? or is it ok if I add the changes to&#160;&lt;a href=&quot;https://github.com/apache/lucene-solr/pull/1156?&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/lucene-solr/pull/1156?&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17010701" author="ichattopadhyaya" created="Wed, 8 Jan 2020 14:19:28 +0000"  >&lt;p&gt;Its okay to put them into that PR as a separate commit. In the solr/CHANGES.txt, mention both the entries.&lt;/p&gt;</comment>
                            <comment id="17010754" author="sachinpattan@gmail.com" created="Wed, 8 Jan 2020 15:03:36 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=erikhatcher&quot; class=&quot;user-hover&quot; rel=&quot;erikhatcher&quot;&gt;erikhatcher&lt;/a&gt; I also committed the changes for &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-14025&quot; title=&quot;CVE-2019-17558: Velocity response writer RCE vulnerability persists after 8.3.1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-14025&quot;&gt;&lt;del&gt;SOLR-14025&lt;/del&gt;&lt;/a&gt; in&#160;&lt;a href=&quot;https://github.com/apache/lucene-solr/pull/1156&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/lucene-solr/pull/1156&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;So when you guys have some time, please have a look at it and if everything is ok, please proceed with the release for 7.7.&#160;&lt;/p&gt;</comment>
                            <comment id="17014135" author="sachinpattan@gmail.com" created="Mon, 13 Jan 2020 09:00:17 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ichattopadhyaya&quot; class=&quot;user-hover&quot; rel=&quot;ichattopadhyaya&quot;&gt;ichattopadhyaya&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ehatcher&quot; class=&quot;user-hover&quot; rel=&quot;ehatcher&quot;&gt;ehatcher&lt;/a&gt;&#160;did you get a chance to take a look at the patch?&#160;&lt;/p&gt;</comment>
                            <comment id="17014143" author="ichattopadhyaya" created="Mon, 13 Jan 2020 09:16:55 +0000"  >&lt;p&gt;I&apos;ll take a look today at backporting. I don&apos;t have a release plan for 7.7.3 yet. I&apos;m doing the 8.4.1 release right now, and don&apos;t have the bandwidth in next month or so.&lt;/p&gt;</comment>
                            <comment id="17014191" author="sachinpattan@gmail.com" created="Mon, 13 Jan 2020 10:13:20 +0000"  >&lt;p&gt;cool, thanks for the information.&#160;&lt;/p&gt;</comment>
                            <comment id="17014356" author="ichattopadhyaya" created="Mon, 13 Jan 2020 14:15:27 +0000"  >&lt;p&gt;Backported. Thanks Sachin!&lt;/p&gt;</comment>
                            <comment id="17014398" author="sachinpattan@gmail.com" created="Mon, 13 Jan 2020 15:02:44 +0000"  >&lt;p&gt;Thanks Ishan.&lt;/p&gt;</comment>
                            <comment id="17037589" author="janhoy" created="Sat, 15 Feb 2020 20:13:30 +0000"  >&lt;p&gt;Also add 7.7.3 as fixVersion in this JIRA?&lt;/p&gt;</comment>
                            <comment id="17135847" author="sziszo" created="Mon, 15 Jun 2020 13:20:12 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ichattopadhyaya&quot; class=&quot;user-hover&quot; rel=&quot;ichattopadhyaya&quot;&gt;ichattopadhyaya&lt;/a&gt;&#160; do you plan to backport this fix to 5.5.5?&lt;/p&gt;</comment>
                            <comment id="17135851" author="ichattopadhyaya" created="Mon, 15 Jun 2020 13:25:13 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sziszo&quot; class=&quot;user-hover&quot; rel=&quot;sziszo&quot;&gt;sziszo&lt;/a&gt;, unfortunately not. We currently support just 6.6, 7.7 and 8.x releases.&lt;/p&gt;</comment>
                            <comment id="17135869" author="sziszo" created="Mon, 15 Jun 2020 13:36:56 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ichattopadhyaya&quot; class=&quot;user-hover&quot; rel=&quot;ichattopadhyaya&quot;&gt;ichattopadhyaya&lt;/a&gt; thanks for the quick information.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                                        </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13272752">SOLR-14025</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12986890" name="SOLR-13971.patch" size="11178" author="ichattopadhyaya" created="Wed, 27 Nov 2019 07:48:02 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 22 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0913s:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>