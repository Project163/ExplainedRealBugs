<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:33:45 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-12482] Config API returns status 0 for failed operations</title>
                <link>https://issues.apache.org/jira/browse/SOLR-12482</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;&lt;tt&gt;bin/solr config&lt;/tt&gt; depends on the status from Config API calls to determine whether the operation succeeded, but apparently the Config API can return status 0 for failed operations.  As a result, &lt;tt&gt;bin/solr config&lt;/tt&gt; will claim success.  For example, after running &lt;tt&gt;bin/solr start -c&lt;/tt&gt; and &lt;tt&gt;bin/solr create -c mycoll&lt;/tt&gt;:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$PROMPT$ bin/solr config -c mycoll -z localhost:9983 -property FOOBAR -value BAZ
[...]
POSTing request to Config API: http://192.168.1.12:8983/solr/mycoll/config
{&quot;set-property&quot;:{&quot;FOOBAR&quot;:&quot;BAZ&quot;}}
Successfully set-property FOOBAR to BAZ
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;But the &lt;tt&gt;FOOBAR&lt;/tt&gt; property cannot be set via &lt;tt&gt;set-property&lt;/tt&gt;, because it is not on the editable properties whitelist in &lt;tt&gt;EditableSolrConfigAttributes.json&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;This is evident from the direct Config API call:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;PROMPT$ curl -X POST -d &apos;{set-property:{FOOBAR:BAZ}}&apos;
{
  &quot;responseHeader&quot;:{
    &quot;status&quot;:0,
    &quot;QTime&quot;:1},
  &quot;errorMessages&quot;:[{
      &quot;set-property&quot;:{&quot;FOOBAR&quot;:&quot;BAZ&quot;},
      &quot;errorMessages&quot;:[&quot;&apos;FOOBAR&apos; is not an editable property&quot;]}],
  &quot;WARNING&quot;:&quot;This response format is experimental.  It is likely to change in the future.&quot;}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13165721">SOLR-12482</key>
            <summary>Config API returns status 0 for failed operations</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sarowe">Steven Rowe</assignee>
                                    <reporter username="sarowe">Steven Rowe</reporter>
                        <labels>
                    </labels>
                <created>Wed, 13 Jun 2018 02:03:09 +0000</created>
                <updated>Sat, 8 Jun 2019 15:00:21 +0000</updated>
                            <resolved>Fri, 22 Jun 2018 03:23:48 +0000</resolved>
                                                    <fixVersion>7.5</fixVersion>
                    <fixVersion>8.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="16511183" author="steve_rowe" created="Wed, 13 Jun 2018 14:05:34 +0000"  >&lt;p&gt;Just realized that the problem here is not directly &lt;tt&gt;bin/solr config&lt;/tt&gt;, but rather the &lt;tt&gt;&quot;status&quot;:0&lt;/tt&gt; returned by the Config API on failure.  I&apos;ll change the issue title.&lt;/p&gt;</comment>
                            <comment id="16511205" author="ctargett" created="Wed, 13 Jun 2018 14:23:04 +0000"  >&lt;p&gt;I feel like this might be a duplicate or at least related to an issue I filed a while ago, &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11896&quot; title=&quot;bin/solr create doesn&amp;#39;t complain when invalid options are used&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-11896&quot;&gt;&lt;del&gt;SOLR-11896&lt;/del&gt;&lt;/a&gt;? WDYT?&lt;/p&gt;</comment>
                            <comment id="16511212" author="steve_rowe" created="Wed, 13 Jun 2018 14:30:35 +0000"  >&lt;blockquote&gt;&lt;p&gt;&#160;I feel like this might be a duplicate or at least related to an issue I filed a while ago, &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11896&quot; title=&quot;bin/solr create doesn&amp;#39;t complain when invalid options are used&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-11896&quot;&gt;&lt;del&gt;SOLR-11896&lt;/del&gt;&lt;/a&gt;? WDYT?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I don&apos;t think it&apos;s a duplicate, because:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;This issue is about the config api, and &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11896&quot; title=&quot;bin/solr create doesn&amp;#39;t complain when invalid options are used&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-11896&quot;&gt;&lt;del&gt;SOLR-11896&lt;/del&gt;&lt;/a&gt; is about the core admin api; and&lt;/li&gt;
	&lt;li&gt;This issue is about improperly reporting a failed config api operation, but on &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11896&quot; title=&quot;bin/solr create doesn&amp;#39;t complain when invalid options are used&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-11896&quot;&gt;&lt;del&gt;SOLR-11896&lt;/del&gt;&lt;/a&gt; the core admin api succeeds when it shouldn&apos;t because it ignores invalid params.&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;Definitely related though, in that both are &lt;b&gt;silently&lt;/b&gt; misbehaving APIs.&lt;/p&gt;</comment>
                            <comment id="16519945" author="steve_rowe" created="Fri, 22 Jun 2018 03:20:22 +0000"  >&lt;p&gt;Attached patch fixing the issue with tests for failures.  A couple of other changes:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Fixed a couple of error formatting issues (missing interpolated values) in &lt;tt&gt;SolrConfigHandler.Command.applySetProps()&lt;/tt&gt;.&lt;/li&gt;
	&lt;li&gt;Solrj&apos;s &lt;tt&gt;TestV2Request&lt;/tt&gt; had to be modified to handle a config api failure it didn&apos;t know about (since status was 0): a collection is created multiple times using the same configset, and a new requesthandler (same name each time) is added via the config api, then the collection is deleted.  But the config overlay was retaining the previous request handler definition, so any following attempts to create the request handler fail since it already exists.  I changed the test to choose random names for the new request handler, so that they won&apos;t clash in the config overlay.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Committing shortly.&lt;/p&gt;</comment>
                            <comment id="16519947" author="steve_rowe" created="Fri, 22 Jun 2018 03:23:48 +0000"  >&lt;p&gt;Committed:&lt;/p&gt;

&lt;p&gt;master:  &lt;a href=&quot;http://git-wip-us.apache.org/repos/asf/lucene-solr/commit/25e7631b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://git-wip-us.apache.org/repos/asf/lucene-solr/commit/25e7631b&lt;/a&gt;&lt;br/&gt;
branch_7x: &lt;a href=&quot;http://git-wip-us.apache.org/repos/asf/lucene-solr/commit/53d24f72&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://git-wip-us.apache.org/repos/asf/lucene-solr/commit/53d24f72&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13117448">SOLR-11631</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13165717">SOLR-12481</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12928702" name="SOLR-12482.patch" size="7283" author="sarowe" created="Fri, 22 Jun 2018 03:13:36 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 21 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3usov:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>