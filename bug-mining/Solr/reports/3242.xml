<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:19:25 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-10013] DocValuesTest.testFloatAndDoubleRangeQueryRandom() failure: NPE</title>
                <link>https://issues.apache.org/jira/browse/SOLR-10013</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;From &lt;a href=&quot;https://jenkins.thetaphi.de/job/Lucene-Solr-6.x-Linux/2702/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://jenkins.thetaphi.de/job/Lucene-Solr-6.x-Linux/2702/&lt;/a&gt;, reproduces for me on Java8/Linux:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Checking out Revision 20b7dfae42810ea4c345355735d732bdbb191150 (refs/remotes/origin/branch_6x)
[...]
   [junit4]   2&amp;gt; 1426152 INFO  (TEST-DocValuesTest.testFloatAndDoubleRangeQueryRandom-seed#[690818771545E96F]) [    ] o.a.s.s.DocValuesTest Indexed values: [-1.7147449030215377E-208, -1.6887024655302576E-11, 1.534911516604164E113, 0.0, 2.6947996404505155E-166, -2.649722021970773E306, 6.138239235731689E-198, 2.3967090122610808E111]
[...]
   [junit4]   2&amp;gt; 1426154 ERROR (TEST-DocValuesTest.testFloatAndDoubleRangeQueryRandom-seed#[690818771545E96F]) [    ] o.a.s.SolrTestCaseJ4 REQUEST FAILED: q=doubledv:{2.0801416404385346E-41+TO+8.701032080293731E-226]&amp;amp;fl=id,doubledv,score&amp;amp;sort=id+asc&amp;amp;wt=xml:java.lang.NullPointerException
[...]
   [junit4]   2&amp;gt; NOTE: reproduce with: ant test  -Dtestcase=DocValuesTest -Dtests.method=testFloatAndDoubleRangeQueryRandom -Dtests.seed=690818771545E96F -Dtests.multiplier=3 -Dtests.slow=true -Dtests.locale=sk-SK -Dtests.timezone=Indian/Mayotte -Dtests.asserts=true -Dtests.file.encoding=UTF-8
   [junit4] ERROR   4.23s J0 | DocValuesTest.testFloatAndDoubleRangeQueryRandom &amp;lt;&amp;lt;&amp;lt;
   [junit4]    &amp;gt; Throwable #1: java.lang.RuntimeException: Exception during query
   [junit4]    &amp;gt; 	at __randomizedtesting.SeedInfo.seed([690818771545E96F:51983624D9EDF0F4]:0)
   [junit4]    &amp;gt; 	at org.apache.solr.SolrTestCaseJ4.assertQ(SolrTestCaseJ4.java:821)
   [junit4]    &amp;gt; 	at org.apache.solr.SolrTestCaseJ4.assertQ(SolrTestCaseJ4.java:788)
   [junit4]    &amp;gt; 	at org.apache.solr.schema.DocValuesTest.testFloatAndDoubleRangeQueryRandom(DocValuesTest.java:618)
   [junit4]    &amp;gt; 	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
   [junit4]    &amp;gt; 	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
   [junit4]    &amp;gt; 	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
   [junit4]    &amp;gt; 	at java.base/java.lang.reflect.Method.invoke(Method.java:543)
   [junit4]    &amp;gt; 	at java.base/java.lang.Thread.run(Thread.java:844)
   [junit4]    &amp;gt; Caused by: java.lang.NullPointerException
   [junit4]    &amp;gt; 	at org.apache.lucene.document.SortedNumericDocValuesRangeQuery$1$1.matches(SortedNumericDocValuesRangeQuery.java:114)
   [junit4]    &amp;gt; 	at org.apache.lucene.search.Weight$DefaultBulkScorer.scoreAll(Weight.java:253)
   [junit4]    &amp;gt; 	at org.apache.lucene.search.Weight$DefaultBulkScorer.score(Weight.java:197)
   [junit4]    &amp;gt; 	at org.apache.lucene.search.BulkScorer.score(BulkScorer.java:39)
   [junit4]    &amp;gt; 	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:669)
   [junit4]    &amp;gt; 	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:473)
   [junit4]    &amp;gt; 	at org.apache.solr.search.SolrIndexSearcher.buildAndRunCollectorChain(SolrIndexSearcher.java:241)
   [junit4]    &amp;gt; 	at org.apache.solr.search.SolrIndexSearcher.getDocListNC(SolrIndexSearcher.java:1823)
   [junit4]    &amp;gt; 	at org.apache.solr.search.SolrIndexSearcher.getDocListC(SolrIndexSearcher.java:1640)
   [junit4]    &amp;gt; 	at org.apache.solr.search.SolrIndexSearcher.search(SolrIndexSearcher.java:611)
   [junit4]    &amp;gt; 	at org.apache.solr.handler.component.QueryComponent.process(QueryComponent.java:533)
   [junit4]    &amp;gt; 	at org.apache.solr.handler.component.SearchHandler.handleRequestBody(SearchHandler.java:295)
   [junit4]    &amp;gt; 	at org.apache.solr.handler.RequestHandlerBase.handleRequest(RequestHandlerBase.java:166)
   [junit4]    &amp;gt; 	at org.apache.solr.core.SolrCore.execute(SolrCore.java:2384)
   [junit4]    &amp;gt; 	at org.apache.solr.util.TestHarness.query(TestHarness.java:331)
   [junit4]    &amp;gt; 	at org.apache.solr.util.TestHarness.query(TestHarness.java:313)
   [junit4]    &amp;gt; 	at org.apache.solr.SolrTestCaseJ4.assertQ(SolrTestCaseJ4.java:795)
[...]
   [junit4]   2&amp;gt; NOTE: test params are: codec=Asserting(Lucene62): {id=PostingsFormat(name=Asserting)}, docValues:{doubledvs=DocValuesFormat(name=Direct), intdvs=DocValuesFormat(name=Memory), doubledv=DocValuesFormat(name=Lucene54), stringdvs=DocValuesFormat(name=Direct), floatdvs=DocValuesFormat(name=Lucene54), longdvs=DocValuesFormat(name=Lucene54), booldvs=DocValuesFormat(name=Lucene54), datedv=DocValuesFormat(name=Direct), datedvs=DocValuesFormat(name=Lucene54), longdv=DocValuesFormat(name=Memory), booldv=DocValuesFormat(name=Direct), intdv=DocValuesFormat(name=Lucene54), stringdv=DocValuesFormat(name=Lucene54), floatdv=DocValuesFormat(name=Memory)}, maxPointsInLeafNode=1013, maxMBSortInHeap=5.279545835306134, sim=RandomSimilarity(queryNorm=true,coord=no): {}, locale=sk-SK, timezone=Indian/Mayotte
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13036618">SOLR-10013</key>
            <summary>DocValuesTest.testFloatAndDoubleRangeQueryRandom() failure: NPE</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hossman">Chris M. Hostetter</assignee>
                                    <reporter username="sarowe">Steven Rowe</reporter>
                        <labels>
                    </labels>
                <created>Fri, 20 Jan 2017 17:19:29 +0000</created>
                <updated>Sat, 8 Jun 2019 15:29:17 +0000</updated>
                            <resolved>Fri, 20 Jan 2017 20:39:32 +0000</resolved>
                                                    <fixVersion>6.5</fixVersion>
                    <fixVersion>7.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15832208" author="hossman" created="Fri, 20 Jan 2017 18:24:47 +0000"  >&lt;p&gt;reproduce line also fails for me.&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;git co 3ef9f0e39fb1ec50efb079ca7ffd4c2a53f6c45c&lt;/tt&gt; and the test passes ... suggesting this was broken by &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-7643&quot; title=&quot;Move IndexOrDocValuesQuery to queries (or core?)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LUCENE-7643&quot;&gt;&lt;del&gt;LUCENE-7643&lt;/del&gt;&lt;/a&gt;: &lt;tt&gt;20b7dfae42810ea4c345355735d732bdbb191150&lt;/tt&gt; &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jpountz&quot; class=&quot;user-hover&quot; rel=&quot;jpountz&quot;&gt;jpountz&lt;/a&gt; - can you look into this NPE?&lt;/p&gt;</comment>
                            <comment id="15832258" author="steve_rowe" created="Fri, 20 Jan 2017 19:00:42 +0000"  >&lt;p&gt;I cast this as a Lucene test and it failed for me on branch_6x the first time I ran it:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;addition to TestDocValuesRangeQuery.java&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testSortedNumericNPE() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
    Directory dir = newDirectory();
    RandomIndexWriter iw = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; RandomIndexWriter(random(), dir);
    &lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt;[] nums = {-1.7147449030215377E-208, -1.6887024655302576E-11, 1.534911516604164E113, 0.0,
        2.6947996404505155E-166, -2.649722021970773E306, 6.138239235731689E-198, 2.3967090122610808E111};
    &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; i = 0; i &amp;lt; nums.length; ++i) {
      Document doc = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Document();
      doc.add(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; SortedNumericDocValuesField(&lt;span class=&quot;code-quote&quot;&gt;&quot;dv&quot;&lt;/span&gt;, NumericUtils.doubleToSortableLong(nums[i])));
      iw.addDocument(doc);
    }
    iw.commit();
    &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; IndexReader reader = iw.getReader();
    &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; IndexSearcher searcher = newSearcher(reader);
    iw.close();

    Query query = SortedNumericDocValuesField.newRangeQuery(&lt;span class=&quot;code-quote&quot;&gt;&quot;dv&quot;&lt;/span&gt;, 
        NumericUtils.doubleToSortableLong(2.0801416404385346E-41), 
        NumericUtils.doubleToSortableLong(8.701032080293731E-226));
    searcher.search(query, searcher.reader.maxDoc(), Sort.INDEXORDER);

    reader.close();
    dir.close();
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;the output (from IntelliJ):&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java.lang.NullPointerException
	at __randomizedtesting.SeedInfo.seed([B0FAEFDBF6B1B28:649D3F6C7292AECB]:0)
	at org.apache.lucene.document.SortedNumericDocValuesRangeQuery$1$1.matches(SortedNumericDocValuesRangeQuery.java:114)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.scoreAll(Weight.java:253)
	at org.apache.lucene.search.Weight$DefaultBulkScorer.score(Weight.java:197)
	at org.apache.lucene.search.BulkScorer.score(BulkScorer.java:39)
	at org.apache.lucene.search.LRUQueryCache.cacheIntoBitSet(LRUQueryCache.java:513)
	at org.apache.lucene.search.LRUQueryCache.cacheImpl(LRUQueryCache.java:504)
	at org.apache.lucene.search.LRUQueryCache$CachingWrapperWeight.cache(LRUQueryCache.java:708)
	at org.apache.lucene.search.LRUQueryCache$CachingWrapperWeight.bulkScorer(LRUQueryCache.java:787)
	at org.apache.lucene.search.AssertingWeight.bulkScorer(AssertingWeight.java:79)
	at org.apache.lucene.search.AssertingWeight.bulkScorer(AssertingWeight.java:79)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:666)
	at org.apache.lucene.search.AssertingIndexSearcher.search(AssertingIndexSearcher.java:91)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:473)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:592)
	at org.apache.lucene.search.IndexSearcher.searchAfter(IndexSearcher.java:577)
	at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:504)
	at org.apache.lucene.search.TestDocValuesRangeQuery.testSortedNumericNPE(TestDocValuesRangeQuery.java:144)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.carrotsearch.randomizedtesting.RandomizedRunner.invoke(RandomizedRunner.java:1713)
	at com.carrotsearch.randomizedtesting.RandomizedRunner$8.evaluate(RandomizedRunner.java:907)
	at com.carrotsearch.randomizedtesting.RandomizedRunner$9.evaluate(RandomizedRunner.java:943)
	at com.carrotsearch.randomizedtesting.RandomizedRunner$10.evaluate(RandomizedRunner.java:957)
	at org.apache.lucene.util.TestRuleSetupTeardownChained$1.evaluate(TestRuleSetupTeardownChained.java:49)
	at org.apache.lucene.util.AbstractBeforeAfterRule$1.evaluate(AbstractBeforeAfterRule.java:45)
	at org.apache.lucene.util.TestRuleThreadAndTestName$1.evaluate(TestRuleThreadAndTestName.java:48)
	at org.apache.lucene.util.TestRuleIgnoreAfterMaxFailures$1.evaluate(TestRuleIgnoreAfterMaxFailures.java:64)
	at org.apache.lucene.util.TestRuleMarkFailure$1.evaluate(TestRuleMarkFailure.java:47)
	at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)
	at com.carrotsearch.randomizedtesting.ThreadLeakControl$StatementRunner.run(ThreadLeakControl.java:367)
	at com.carrotsearch.randomizedtesting.ThreadLeakControl.forkTimeoutingTask(ThreadLeakControl.java:811)
	at com.carrotsearch.randomizedtesting.ThreadLeakControl$3.evaluate(ThreadLeakControl.java:462)
	at com.carrotsearch.randomizedtesting.RandomizedRunner.runSingleTest(RandomizedRunner.java:916)
	at com.carrotsearch.randomizedtesting.RandomizedRunner$5.evaluate(RandomizedRunner.java:802)
	at com.carrotsearch.randomizedtesting.RandomizedRunner$6.evaluate(RandomizedRunner.java:852)
	at com.carrotsearch.randomizedtesting.RandomizedRunner$7.evaluate(RandomizedRunner.java:863)
	at org.apache.lucene.util.AbstractBeforeAfterRule$1.evaluate(AbstractBeforeAfterRule.java:45)
	at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)
	at org.apache.lucene.util.TestRuleStoreClassName$1.evaluate(TestRuleStoreClassName.java:41)
	at com.carrotsearch.randomizedtesting.rules.NoShadowingOrOverridesOnMethodsRule$1.evaluate(NoShadowingOrOverridesOnMethodsRule.java:40)
	at com.carrotsearch.randomizedtesting.rules.NoShadowingOrOverridesOnMethodsRule$1.evaluate(NoShadowingOrOverridesOnMethodsRule.java:40)
	at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)
	at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)
	at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)
	at org.apache.lucene.util.TestRuleAssertionsRequired$1.evaluate(TestRuleAssertionsRequired.java:53)
	at org.apache.lucene.util.TestRuleMarkFailure$1.evaluate(TestRuleMarkFailure.java:47)
	at org.apache.lucene.util.TestRuleIgnoreAfterMaxFailures$1.evaluate(TestRuleIgnoreAfterMaxFailures.java:64)
	at org.apache.lucene.util.TestRuleIgnoreTestSuites$1.evaluate(TestRuleIgnoreTestSuites.java:54)
	at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)
	at com.carrotsearch.randomizedtesting.ThreadLeakControl$StatementRunner.run(ThreadLeakControl.java:367)
	at java.lang.Thread.run(Thread.java:745)

NOTE: reproduce with: ant test  -Dtestcase=TestDocValuesRangeQuery -Dtests.method=testSortedNumericNPE -Dtests.seed=B0FAEFDBF6B1B28 -Dtests.locale=es-PE -Dtests.timezone=UCT -Dtests.asserts=true -Dtests.file.encoding=UTF-8
NOTE: test params are: codec=Asserting(Lucene62): {}, docValues:{dv=DocValuesFormat(name=Lucene54)}, maxPointsInLeafNode=1383, maxMBSortInHeap=6.648357973491871, sim=RandomSimilarity(queryNorm=false,coord=yes): {}, locale=es-PE, timezone=UCT
NOTE: Mac OS X 10.12.2 x86_64/Oracle Corporation 1.8.0_77 (64-bit)/cpus=8,threads=1,free=190316544,total=257425408
NOTE: All tests run in this JVM: [TestDocValuesRangeQuery]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15832267" author="steve_rowe" created="Fri, 20 Jan 2017 19:08:48 +0000"  >&lt;p&gt;FYI I still get the NPE if I switch the order of the range endpoints so that the lower value is actually lower.&lt;/p&gt;</comment>
                            <comment id="15832364" author="jira-bot" created="Fri, 20 Jan 2017 20:36:40 +0000"  >&lt;p&gt;Commit c9262602f06d3fdaa2ec8809a6948aaed72bc0b1 in lucene-solr&apos;s branch refs/heads/branch_6x from Chris Hostetter&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=c926260&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=c926260&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10013&quot; title=&quot;DocValuesTest.testFloatAndDoubleRangeQueryRandom() failure: NPE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10013&quot;&gt;&lt;del&gt;SOLR-10013&lt;/del&gt;&lt;/a&gt;: Fix DV range query bug introduced by &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-7643&quot; title=&quot;Move IndexOrDocValuesQuery to queries (or core?)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LUCENE-7643&quot;&gt;&lt;del&gt;LUCENE-7643&lt;/del&gt;&lt;/a&gt; by disabling and optimization (&lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-7649&quot; title=&quot;investigate re-adding unwrapSingleton optimization attempted by LUCENE-7643&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LUCENE-7649&quot;&gt;&lt;del&gt;LUCENE-7649&lt;/del&gt;&lt;/a&gt; to track re-enabling or removing completely)&lt;/p&gt;

&lt;p&gt;Conflicts:&lt;br/&gt;
	lucene/core/src/java/org/apache/lucene/document/SortedNumericDocValuesRangeQuery.java&lt;br/&gt;
	lucene/core/src/java/org/apache/lucene/document/SortedSetDocValuesRangeQuery.java&lt;/p&gt;</comment>
                            <comment id="15832367" author="jira-bot" created="Fri, 20 Jan 2017 20:36:44 +0000"  >&lt;p&gt;Commit b0db06bad568b7eedf528379a2fe5ac935992d56 in lucene-solr&apos;s branch refs/heads/master from Chris Hostetter&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=b0db06b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=b0db06b&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10013&quot; title=&quot;DocValuesTest.testFloatAndDoubleRangeQueryRandom() failure: NPE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10013&quot;&gt;&lt;del&gt;SOLR-10013&lt;/del&gt;&lt;/a&gt;: Fix DV range query bug introduced by &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-7643&quot; title=&quot;Move IndexOrDocValuesQuery to queries (or core?)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LUCENE-7643&quot;&gt;&lt;del&gt;LUCENE-7643&lt;/del&gt;&lt;/a&gt; by disabling and optimization (&lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-7649&quot; title=&quot;investigate re-adding unwrapSingleton optimization attempted by LUCENE-7643&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LUCENE-7649&quot;&gt;&lt;del&gt;LUCENE-7649&lt;/del&gt;&lt;/a&gt; to track re-enabling or removing completely)&lt;/p&gt;</comment>
                            <comment id="15832373" author="hossman" created="Fri, 20 Jan 2017 20:39:32 +0000"  >&lt;p&gt;thanks for extracting that test steve &amp;#8211; i committed it with a test for both queries (low and high swapped) along with removing the optimization.&lt;/p&gt;

&lt;p&gt;We&apos;ll let &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jpountz&quot; class=&quot;user-hover&quot; rel=&quot;jpountz&quot;&gt;jpountz&lt;/a&gt; figure out if the optimization can be fixed in &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-7649&quot; title=&quot;investigate re-adding unwrapSingleton optimization attempted by LUCENE-7643&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LUCENE-7649&quot;&gt;&lt;del&gt;LUCENE-7649&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15834137" author="jira-bot" created="Mon, 23 Jan 2017 09:39:22 +0000"  >&lt;p&gt;Commit a5b5df419c7f5bc1a94bc2fa0c1b8ba87b8159f8 in lucene-solr&apos;s branch refs/heads/branch_6x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jpountz&quot; class=&quot;user-hover&quot; rel=&quot;jpountz&quot;&gt;jpountz&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=a5b5df4&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=a5b5df4&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-7643&quot; title=&quot;Move IndexOrDocValuesQuery to queries (or core?)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LUCENE-7643&quot;&gt;&lt;del&gt;LUCENE-7643&lt;/del&gt;&lt;/a&gt;,&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10013&quot; title=&quot;DocValuesTest.testFloatAndDoubleRangeQueryRandom() failure: NPE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10013&quot;&gt;&lt;del&gt;SOLR-10013&lt;/del&gt;&lt;/a&gt;: Reenable the single-value optimization.&lt;/p&gt;</comment>
                            <comment id="15834139" author="jira-bot" created="Mon, 23 Jan 2017 09:39:24 +0000"  >&lt;p&gt;Commit 6693c261e5782bc49dea92002745a91215c4166e in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jpountz&quot; class=&quot;user-hover&quot; rel=&quot;jpountz&quot;&gt;jpountz&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=6693c26&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=6693c26&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-7643&quot; title=&quot;Move IndexOrDocValuesQuery to queries (or core?)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LUCENE-7643&quot;&gt;&lt;del&gt;LUCENE-7643&lt;/del&gt;&lt;/a&gt;,&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10013&quot; title=&quot;DocValuesTest.testFloatAndDoubleRangeQueryRandom() failure: NPE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10013&quot;&gt;&lt;del&gt;SOLR-10013&lt;/del&gt;&lt;/a&gt;: Reenable the single-value optimization.&lt;/p&gt;</comment>
                            <comment id="15834146" author="jpountz" created="Mon, 23 Jan 2017 09:41:20 +0000"  >&lt;p&gt;Thanks Steve and Hoss for looking into it. There was a bug on 6.x indeed because I had not realized that SingletonSortedNumericDocValues would null out the bits when they are an instance of &lt;tt&gt;MatchAllBits&lt;/tt&gt;. I reenabled the optimization with a fix and new tests for that specific case.&lt;/p&gt;</comment>
                            <comment id="15835592" author="jira-bot" created="Tue, 24 Jan 2017 03:33:03 +0000"  >&lt;p&gt;Commit b0db06bad568b7eedf528379a2fe5ac935992d56 in lucene-solr&apos;s branch refs/heads/apiv2 from Chris Hostetter&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=b0db06b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=b0db06b&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10013&quot; title=&quot;DocValuesTest.testFloatAndDoubleRangeQueryRandom() failure: NPE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10013&quot;&gt;&lt;del&gt;SOLR-10013&lt;/del&gt;&lt;/a&gt;: Fix DV range query bug introduced by &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-7643&quot; title=&quot;Move IndexOrDocValuesQuery to queries (or core?)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LUCENE-7643&quot;&gt;&lt;del&gt;LUCENE-7643&lt;/del&gt;&lt;/a&gt; by disabling and optimization (&lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-7649&quot; title=&quot;investigate re-adding unwrapSingleton optimization attempted by LUCENE-7643&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LUCENE-7649&quot;&gt;&lt;del&gt;LUCENE-7649&lt;/del&gt;&lt;/a&gt; to track re-enabling or removing completely)&lt;/p&gt;</comment>
                            <comment id="15835870" author="jira-bot" created="Tue, 24 Jan 2017 08:58:10 +0000"  >&lt;p&gt;Commit 6693c261e5782bc49dea92002745a91215c4166e in lucene-solr&apos;s branch refs/heads/apiv2 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jpountz&quot; class=&quot;user-hover&quot; rel=&quot;jpountz&quot;&gt;jpountz&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=6693c26&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=6693c26&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-7643&quot; title=&quot;Move IndexOrDocValuesQuery to queries (or core?)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LUCENE-7643&quot;&gt;&lt;del&gt;LUCENE-7643&lt;/del&gt;&lt;/a&gt;,&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10013&quot; title=&quot;DocValuesTest.testFloatAndDoubleRangeQueryRandom() failure: NPE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10013&quot;&gt;&lt;del&gt;SOLR-10013&lt;/del&gt;&lt;/a&gt;: Reenable the single-value optimization.&lt;/p&gt;</comment>
                            <comment id="15860919" author="jira-bot" created="Fri, 10 Feb 2017 08:33:52 +0000"  >&lt;p&gt;Commit a36ebaa90c95d8be6411464c237593a1ff825af0 in lucene-solr&apos;s branch refs/heads/branch_6x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jpountz&quot; class=&quot;user-hover&quot; rel=&quot;jpountz&quot;&gt;jpountz&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=a36ebaa&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=a36ebaa&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-7643&quot; title=&quot;Move IndexOrDocValuesQuery to queries (or core?)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LUCENE-7643&quot;&gt;&lt;del&gt;LUCENE-7643&lt;/del&gt;&lt;/a&gt;,&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10013&quot; title=&quot;DocValuesTest.testFloatAndDoubleRangeQueryRandom() failure: NPE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10013&quot;&gt;&lt;del&gt;SOLR-10013&lt;/del&gt;&lt;/a&gt;: Reenable the single-value optimization for sorted dv too.&lt;/p&gt;</comment>
                            <comment id="15860921" author="jira-bot" created="Fri, 10 Feb 2017 08:34:23 +0000"  >&lt;p&gt;Commit 0215c65ac56a1faef100caf3eafb6fd85eaa337d in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jpountz&quot; class=&quot;user-hover&quot; rel=&quot;jpountz&quot;&gt;jpountz&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=0215c65&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=0215c65&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-7643&quot; title=&quot;Move IndexOrDocValuesQuery to queries (or core?)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LUCENE-7643&quot;&gt;&lt;del&gt;LUCENE-7643&lt;/del&gt;&lt;/a&gt;,&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10013&quot; title=&quot;DocValuesTest.testFloatAndDoubleRangeQueryRandom() failure: NPE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10013&quot;&gt;&lt;del&gt;SOLR-10013&lt;/del&gt;&lt;/a&gt;: Reenable the single-value optimization for sorted dv too.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                            <outwardlinks description="incorporates">
                                        <issuelink>
            <issuekey id="13036678">LUCENE-7649</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13035907">LUCENE-7643</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 40 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3903b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>