<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:19:56 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-10190] Potential NPE in CloudSolrClient when reading stale alias</title>
                <link>https://issues.apache.org/jira/browse/SOLR-10190</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;The CloudSolrClient raises a NullPointerException when CloudSolrClient::add is invoked and pointed to an alias which references a collection which does not exist anymore.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;java.lang.NullPointerException
    at __randomizedtesting.SeedInfo.seed([1D00539A964E5C5D:D7D145363AD5CCA]:0)
    at org.apache.solr.client.solrj.impl.CloudSolrClient.requestWithRetryOnStaleState(CloudSolrClient.java:1078)
    at org.apache.solr.client.solrj.impl.CloudSolrClient.request(CloudSolrClient.java:1042)
    at org.apache.solr.client.solrj.SolrRequest.process(SolrRequest.java:160)
    at org.apache.solr.client.solrj.SolrClient.add(SolrClient.java:106)
    at org.apache.solr.client.solrj.SolrClient.add(SolrClient.java:71)
    at org.apache.solr.client.solrj.SolrClient.add(SolrClient.java:85)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This is a rather unexpected since the CloudSolrClient usually raises a SolrException containing a descriptive error message (e.g. &quot;Collection not found: xyz&quot;) when a collection cannot be resolved.&lt;/p&gt;

&lt;p&gt;In general this error condition could be triggered also by other edge cases since CloudSolrClient::getDocCollection might return null but the code following that invocation is not guarded against null values.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;        &lt;span class=&quot;code-comment&quot;&gt;// track the version of state we&apos;re using on the client side using the _stateVer_ param
&lt;/span&gt;        DocCollection coll = getDocCollection(requestedCollection, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;);
        &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; collVer = coll.getZNodeVersion();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13045257">SOLR-10190</key>
            <summary>Potential NPE in CloudSolrClient when reading stale alias</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tflobbe">Tomas Eduardo Fernandez Lobbe</assignee>
                                    <reporter username="jwoschitz">Janosch Woschitz</reporter>
                        <labels>
                    </labels>
                <created>Wed, 22 Feb 2017 14:54:43 +0000</created>
                <updated>Sat, 8 Jun 2019 15:30:01 +0000</updated>
                            <resolved>Mon, 27 Feb 2017 17:55:04 +0000</resolved>
                                    <version>5.5</version>
                    <version>7.0</version>
                                    <fixVersion>6.4.2</fixVersion>
                    <fixVersion>6.5</fixVersion>
                    <fixVersion>7.0</fixVersion>
                                    <component>clients - java</component>
                    <component>SolrJ</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="15878478" author="githubbot" created="Wed, 22 Feb 2017 15:28:31 +0000"  >&lt;p&gt;GitHub user jwoschitz opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/lucene-solr/pull/160&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/lucene-solr/pull/160&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10190&quot; title=&quot;Potential NPE in CloudSolrClient when reading stale alias&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10190&quot;&gt;&lt;del&gt;SOLR-10190&lt;/del&gt;&lt;/a&gt; - Potential NPE in CloudSolrClient when reading stale alias&lt;/p&gt;

&lt;p&gt;    Added a test case and potential solution to guard against NPE, see JIRA issue &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10190&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SOLR-10190&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/jwoschitz/lucene-solr&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/jwoschitz/lucene-solr&lt;/a&gt; jira/solr-10190&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/lucene-solr/pull/160.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/lucene-solr/pull/160.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #160&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit ee8409b2cf5b983211854a289b58f82d3775da4a&lt;br/&gt;
Author: Janosch Woschitz &amp;lt;janosch.woschitz@gmail.com&amp;gt;&lt;br/&gt;
Date:   2017-02-22T15:26:29Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10190&quot; title=&quot;Potential NPE in CloudSolrClient when reading stale alias&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10190&quot;&gt;&lt;del&gt;SOLR-10190&lt;/del&gt;&lt;/a&gt; - Added a test case and potential solution to guard against NPE in CloudSolrClient&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15878808" author="tomasflobbe" created="Wed, 22 Feb 2017 17:32:03 +0000"  >&lt;p&gt;I&apos;ve seen this too. PR looks good&lt;/p&gt;</comment>
                            <comment id="15883897" author="jira-bot" created="Sat, 25 Feb 2017 01:34:27 +0000"  >&lt;p&gt;Commit 39887b86297e36785607f57cfd0e785bcae3c61a in lucene-solr&apos;s branch refs/heads/master from Tomas Fernandez Lobbe&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=39887b8&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=39887b8&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10190&quot; title=&quot;Potential NPE in CloudSolrClient when reading stale alias&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10190&quot;&gt;&lt;del&gt;SOLR-10190&lt;/del&gt;&lt;/a&gt;: Fix NPE in CloudSolrClient when reading stale alias&lt;/p&gt;

&lt;p&gt;This closes #160&lt;/p&gt;</comment>
                            <comment id="15883900" author="githubbot" created="Sat, 25 Feb 2017 01:35:14 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/lucene-solr/pull/160&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/lucene-solr/pull/160&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15883904" author="jira-bot" created="Sat, 25 Feb 2017 01:37:59 +0000"  >&lt;p&gt;Commit 99e8ef2304b67712d45a2393e649c5319aaac972 in lucene-solr&apos;s branch refs/heads/master from Tomas Fernandez Lobbe&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=99e8ef2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=99e8ef2&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10190&quot; title=&quot;Potential NPE in CloudSolrClient when reading stale alias&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10190&quot;&gt;&lt;del&gt;SOLR-10190&lt;/del&gt;&lt;/a&gt;: Fixed assert message&lt;/p&gt;</comment>
                            <comment id="15883906" author="jira-bot" created="Sat, 25 Feb 2017 01:39:00 +0000"  >&lt;p&gt;Commit f9d9ff94cf3863fdc9189ad3363c71662200ab58 in lucene-solr&apos;s branch refs/heads/branch_6x from Tomas Fernandez Lobbe&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=f9d9ff9&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=f9d9ff9&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10190&quot; title=&quot;Potential NPE in CloudSolrClient when reading stale alias&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10190&quot;&gt;&lt;del&gt;SOLR-10190&lt;/del&gt;&lt;/a&gt;: Fix NPE in CloudSolrClient when reading stale alias&lt;/p&gt;

&lt;p&gt;This closes #160&lt;/p&gt;</comment>
                            <comment id="15883907" author="jira-bot" created="Sat, 25 Feb 2017 01:39:02 +0000"  >&lt;p&gt;Commit 1b91349fcd29afb931ea77299ac47a7c783b1532 in lucene-solr&apos;s branch refs/heads/branch_6x from Tomas Fernandez Lobbe&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=1b91349&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=1b91349&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10190&quot; title=&quot;Potential NPE in CloudSolrClient when reading stale alias&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10190&quot;&gt;&lt;del&gt;SOLR-10190&lt;/del&gt;&lt;/a&gt;: Fixed assert message&lt;/p&gt;</comment>
                            <comment id="15883909" author="jira-bot" created="Sat, 25 Feb 2017 01:40:34 +0000"  >&lt;p&gt;Commit 2d63916b70f2853787b545eda6681e64a2c2e352 in lucene-solr&apos;s branch refs/heads/branch_6_4 from Tomas Fernandez Lobbe&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=2d63916&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=2d63916&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10190&quot; title=&quot;Potential NPE in CloudSolrClient when reading stale alias&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10190&quot;&gt;&lt;del&gt;SOLR-10190&lt;/del&gt;&lt;/a&gt;: Fix NPE in CloudSolrClient when reading stale alias&lt;/p&gt;

&lt;p&gt;This closes #160&lt;/p&gt;</comment>
                            <comment id="15883910" author="jira-bot" created="Sat, 25 Feb 2017 01:40:38 +0000"  >&lt;p&gt;Commit 900367912f2e75c3171fcf64a8b73fd5e11f6098 in lucene-solr&apos;s branch refs/heads/branch_6_4 from Tomas Fernandez Lobbe&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=9003679&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=9003679&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10190&quot; title=&quot;Potential NPE in CloudSolrClient when reading stale alias&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10190&quot;&gt;&lt;del&gt;SOLR-10190&lt;/del&gt;&lt;/a&gt;: Fixed assert message&lt;/p&gt;</comment>
                            <comment id="15886219" author="tomasflobbe" created="Mon, 27 Feb 2017 17:55:04 +0000"  >&lt;p&gt;Resolving. Thanks Janosch!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 38 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3ag7r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>