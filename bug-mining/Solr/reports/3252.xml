<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:19:31 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-10138] Transaction log replay can hit an NPE due to new Metrics code.</title>
                <link>https://issues.apache.org/jira/browse/SOLR-10138</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description></description>
                <environment></environment>
        <key id="13043147">SOLR-10138</key>
            <summary>Transaction log replay can hit an NPE due to new Metrics code.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ab">Andrzej Bialecki</assignee>
                                    <reporter username="markrmiller@gmail.com">Mark Miller</reporter>
                        <labels>
                    </labels>
                <created>Wed, 15 Feb 2017 03:31:10 +0000</created>
                <updated>Sat, 8 Jun 2019 15:31:01 +0000</updated>
                            <resolved>Wed, 15 Feb 2017 15:53:39 +0000</resolved>
                                                    <fixVersion>6.4.2</fixVersion>
                    <fixVersion>6.5</fixVersion>
                    <fixVersion>7.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15867151" author="markrmiller@gmail.com" created="Wed, 15 Feb 2017 03:31:51 +0000"  >&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;   [junit4]   2&amp;gt; java.lang.NullPointerException
   [junit4]   2&amp;gt; 	at org.apache.solr.update.UpdateLog$LogReplayer.doReplay(UpdateLog.java:1671)
   [junit4]   2&amp;gt; 	at org.apache.solr.update.UpdateLog$LogReplayer.run(UpdateLog.java:1510)
   [junit4]   2&amp;gt; 	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
   [junit4]   2&amp;gt; 	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
   [junit4]   2&amp;gt; 	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
   [junit4]   2&amp;gt; 	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
   [junit4]   2&amp;gt; 	at org.apache.solr.common.util.ExecutorUtil$MDCAwareThreadPoolExecutor.lambda$execute$0(ExecutorUtil.java:229)
   [junit4]   2&amp;gt; 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
   [junit4]   2&amp;gt; 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
   [junit4]   2&amp;gt; 	at java.lang.Thread.run(Thread.java:745)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;            if (state == State.REPLAYING) {
              replayOpsMeter.mark();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15867786" author="ab" created="Wed, 15 Feb 2017 12:59:34 +0000"  >&lt;p&gt;This is because &lt;tt&gt;HdfsUpdateLog.init(UpdateHandler, SolrCore)&lt;/tt&gt; doesn&apos;t call super, so it doesn&apos;t register metrics instances either. The fix is to simply add this registration, like it&apos;s done in &lt;tt&gt;UpdateLog:362&lt;/tt&gt;. I&apos;ll fix this shortly.&lt;/p&gt;</comment>
                            <comment id="15868067" author="jira-bot" created="Wed, 15 Feb 2017 15:49:30 +0000"  >&lt;p&gt;Commit f51253a331fb938fd92eab4dab60df380d6837b8 in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ab&quot; class=&quot;user-hover&quot; rel=&quot;ab&quot;&gt;ab&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=f51253a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=f51253a&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10138&quot; title=&quot;Transaction log replay can hit an NPE due to new Metrics code.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10138&quot;&gt;&lt;del&gt;SOLR-10138&lt;/del&gt;&lt;/a&gt;: Transaction log replay can hit an NPE due to new Metrics code.&lt;/p&gt;</comment>
                            <comment id="15868073" author="jira-bot" created="Wed, 15 Feb 2017 15:51:34 +0000"  >&lt;p&gt;Commit 94a4b3de59ccb73d7568a154c19316181c973baf in lucene-solr&apos;s branch refs/heads/branch_6x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ab&quot; class=&quot;user-hover&quot; rel=&quot;ab&quot;&gt;ab&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=94a4b3d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=94a4b3d&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10138&quot; title=&quot;Transaction log replay can hit an NPE due to new Metrics code.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10138&quot;&gt;&lt;del&gt;SOLR-10138&lt;/del&gt;&lt;/a&gt;: Transaction log replay can hit an NPE due to new Metrics code.&lt;/p&gt;</comment>
                            <comment id="15868074" author="jira-bot" created="Wed, 15 Feb 2017 15:52:53 +0000"  >&lt;p&gt;Commit ed60e849964e0868496c045f4ce1e1b35e9c7279 in lucene-solr&apos;s branch refs/heads/branch_6_4 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ab&quot; class=&quot;user-hover&quot; rel=&quot;ab&quot;&gt;ab&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=ed60e84&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=ed60e84&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10138&quot; title=&quot;Transaction log replay can hit an NPE due to new Metrics code.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10138&quot;&gt;&lt;del&gt;SOLR-10138&lt;/del&gt;&lt;/a&gt;: Transaction log replay can hit an NPE due to new Metrics code.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13039195">SOLR-10068</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12852822" name="SOLR-10138.patch" size="1175" author="ab" created="Wed, 15 Feb 2017 14:43:04 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 39 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3a3en:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>