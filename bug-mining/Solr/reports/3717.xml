<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:29:35 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-11645] When there are duplicate java commandline arguments, the Solr UI dashboard doesn&apos;t show Args at all</title>
                <link>https://issues.apache.org/jira/browse/SOLR-11645</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;A user couldn&apos;t get the &quot;Args&quot; to display in the admin UI.&lt;/p&gt;

&lt;p&gt;Ultimately it was determined that they had duplicate arguments on their commandline, and this was resulting in an error in the browser:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Error: [ngRepeat:dupes] Duplicates in a repeater are not allowed. Use
&lt;span class=&quot;code-quote&quot;&gt;&apos;track by&apos;&lt;/span&gt; expression to specify unique keys. Repeater: arg in
commandLineArgs, Duplicate key: string:-XX:+UseGCLogFileRotation, Duplicate
value: -XX:+UseGCLogFileRotation
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13118581">SOLR-11645</key>
            <summary>When there are duplicate java commandline arguments, the Solr UI dashboard doesn&apos;t show Args at all</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="elyograg">Shawn Heisey</reporter>
                        <labels>
                    </labels>
                <created>Wed, 15 Nov 2017 16:05:29 +0000</created>
                <updated>Sat, 8 Jun 2019 15:11:40 +0000</updated>
                            <resolved>Sat, 18 Nov 2017 15:49:30 +0000</resolved>
                                    <version>7.1</version>
                                    <fixVersion>7.2</fixVersion>
                    <fixVersion>8.0</fixVersion>
                                    <component>Admin UI</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="16253701" author="elyograg" created="Wed, 15 Nov 2017 16:07:16 +0000"  >&lt;p&gt;Problem duplicated on Windows by adding this line to solr.in.cmd:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;set SOLR_OPTS=%SOLR_OPTS% -Xss256k
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16253730" author="elyograg" created="Wed, 15 Nov 2017 16:23:09 +0000"  >&lt;p&gt;I have tried to add &quot;track by $index&quot; to the angular code in the partials/index.html file, but I must be missing something, because it looks like that change is not actually being picked up by the admin UI after a Solr restart.  Is the static content cached somewhere?&lt;/p&gt;</comment>
                            <comment id="16253734" author="elyograg" created="Wed, 15 Nov 2017 16:25:59 +0000"  >&lt;p&gt;Eureka!  Holding down shift while clicking the reload button got that change to work.  It was the &lt;b&gt;browser&lt;/b&gt; that was caching the old version.&lt;/p&gt;</comment>
                            <comment id="16253740" author="elyograg" created="Wed, 15 Nov 2017 16:27:57 +0000"  >&lt;p&gt;Tangent:  I noticed in the javascript code that the commandline arguments are sorted before they are displayed.  Is that something we really want to do?  Shouldn&apos;t they appear in actual order?  I did check /admin/info/system, and it looks like that order &lt;b&gt;is&lt;/b&gt; correct.&lt;/p&gt;</comment>
                            <comment id="16253821" author="elyograg" created="Wed, 15 Nov 2017 17:17:11 +0000"  >&lt;p&gt;Patch (without CHANGES.txt) that appears to fix the issue, after dealing with browser caching.&lt;/p&gt;

&lt;p&gt;Would appreciate a review from those who really know the UI code, and would also like to know if we can avoid sorting the commandline arguments, so we can show them in the order they actually appear on the commandline.&lt;/p&gt;</comment>
                            <comment id="16253851" author="elyograg" created="Wed, 15 Nov 2017 17:37:21 +0000"  >&lt;p&gt;For a binary download/install, the change in the patch can be applied to the server/solr-webapp/webapp/partials/index.html file.  You will need to deal with the browser cache to actually see a change.  The easiest way to do that is shift-reload.  I suspect that a Solr restart is not required with the change, but you might want to restart Solr anyway.&lt;/p&gt;</comment>
                            <comment id="16253991" author="elyograg" created="Wed, 15 Nov 2017 19:19:42 +0000"  >&lt;p&gt;Updated patch that removes the sort from the argument list.  It looks like it does come through in the correct order.&lt;/p&gt;</comment>
                            <comment id="16254072" author="steffkes" created="Wed, 15 Nov 2017 20:00:23 +0000"  >&lt;p&gt;Shawn, i don&apos;t have a current checkout / environment - skimming over your patch as well as &lt;a href=&quot;https://docs.angularjs.org/error/ngRepeat/dupes&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://docs.angularjs.org/error/ngRepeat/dupes&lt;/a&gt; makes it look just fine!&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I noticed in the javascript code that the command line arguments are sorted before they are displayed. Is that something we really want to do? Shouldn&apos;t they appear in actual order?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I can&apos;t say for sure when this landed - i can see both sides of it: having it sorted makes it easier to recognize a duplicate (which as far as i know is only a technically, java doesn&apos;t care about does it?) while having it in the actual order probably helps when people are trying to group them in a sorting way (relevant things together, or global/local/tenant-based properties).&lt;/p&gt;

&lt;p&gt;include this change in this ticket and we&apos;ll see where it goes - i&apos;d probably bet that most people won&apos;t even notice it.&lt;/p&gt;</comment>
                            <comment id="16254089" author="erickerickson" created="Wed, 15 Nov 2017 20:10:22 +0000"  >&lt;p&gt;Personally I always prefer alphabetical ordering. Otherwise it&apos;s far too easy to miss what I&apos;m looking for. Even if I search I often stop at the first hit and never notice something further down.&lt;/p&gt;

&lt;p&gt;FWIW, but I don&apos;t have a strong preference here.&lt;/p&gt;
</comment>
                            <comment id="16254141" author="elyograg" created="Wed, 15 Nov 2017 20:40:09 +0000"  >&lt;blockquote&gt;&lt;p&gt;Personally I always prefer alphabetical ordering.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;For many things, I tend to agree, but I think in this case, we probably want them unsorted.&lt;/p&gt;

&lt;p&gt;If a Java commandline has competing arguments, for instance both &quot;-Xmx512M&quot; and &quot;-Xmx4G&quot; ... is Java going to behave differently when one of them is listed first versus how it behaves when the other is listed first?  I suspect that the behavior IS different, but if I&apos;m wrong about that, then I will agree that sorting is the best option.  If Java &lt;b&gt;does&lt;/b&gt; behave differently when the order is changed, then I think we want them shown in actual order.&lt;/p&gt;

&lt;p&gt;I wonder if it might be possible to have a sort button in the UI, so people can do a one-time sort of the list, which would aid in learning whether or not an option is present without reading the entire list.  If an option like that is implemented, I think that a page refresh should go back to an unsorted list.&lt;/p&gt;</comment>
                            <comment id="16254162" author="erickerickson" created="Wed, 15 Nov 2017 20:54:59 +0000"  >&lt;p&gt;That&apos;s a valid point, I can argue both ways I guess.&lt;/p&gt;

&lt;p&gt;1&amp;gt; sorting them makes it more likely that I&apos;ll even &lt;em&gt;notice&lt;/em&gt; I have them in twice&lt;/p&gt;

&lt;p&gt;2&amp;gt; presenting them in the order they&apos;re defined will tell me what&apos;s actually going on.&lt;/p&gt;

&lt;p&gt;either way is wrong &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Like I said, I don&apos;t have a strong preference here, just sayin&apos;....&lt;/p&gt;</comment>
                            <comment id="16254172" author="elyograg" created="Wed, 15 Nov 2017 20:58:16 +0000"  >&lt;p&gt;I can also see both sides, and I agree that either way is wrong to &lt;b&gt;someone&lt;/b&gt;.&lt;/p&gt;

&lt;p&gt;So how about we ignore the question of sorting in this issue, and open another one?  In that issue, we can default to unsorted and implement a button that will temporarily sort the list.&lt;/p&gt;</comment>
                            <comment id="16254180" author="elyograg" created="Wed, 15 Nov 2017 21:05:21 +0000"  >&lt;p&gt;And while I&apos;m thinking about this:  The &quot;Args&quot; section of the admin UI doesn&apos;t actually list &lt;b&gt;all&lt;/b&gt; of the commandline arguments.  Everything starting with &quot;&amp;#45;jar start.jar&quot; is omitted ... and everything &lt;b&gt;after&lt;/b&gt; that (which is &quot;&amp;#45;&amp;#45;module=http&quot; on the server I&apos;m looking at) is passed to Jetty, not handled by Java.  It occurs to me that having those bits of information on the dashboard could be useful.&lt;/p&gt;</comment>
                            <comment id="16255020" author="elyograg" created="Thu, 16 Nov 2017 09:42:33 +0000"  >&lt;p&gt;I have created &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11649&quot; title=&quot;Improve &amp;quot;Args&amp;quot; display in admin UI&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-11649&quot;&gt;SOLR-11649&lt;/a&gt; for further improvements, and will not attempt to address sorting in this issue, just duplicate arguments.&lt;/p&gt;</comment>
                            <comment id="16258111" author="elyograg" created="Sat, 18 Nov 2017 15:31:49 +0000"  >&lt;p&gt;Updated patch.  Only addresses the problem with duplicate args.  Includes CHANGES.txt addition.&lt;/p&gt;</comment>
                            <comment id="16258115" author="jira-bot" created="Sat, 18 Nov 2017 15:42:56 +0000"  >&lt;p&gt;Commit 0dadf2c2a83abfe23740d5b5560e9852415877ef in lucene-solr&apos;s branch refs/heads/master from elyograg&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=0dadf2c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=0dadf2c&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11645&quot; title=&quot;When there are duplicate java commandline arguments, the Solr UI dashboard doesn&amp;#39;t show Args at all&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-11645&quot;&gt;&lt;del&gt;SOLR-11645&lt;/del&gt;&lt;/a&gt;: Fix problem with no Args display in admin UI.&lt;/p&gt;</comment>
                            <comment id="16258116" author="jira-bot" created="Sat, 18 Nov 2017 15:48:56 +0000"  >&lt;p&gt;Commit 8257ff53ef81f7441032b6183e4f80a3cc6fc0ca in lucene-solr&apos;s branch refs/heads/branch_7x from elyograg&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=8257ff5&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=8257ff5&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11645&quot; title=&quot;When there are duplicate java commandline arguments, the Solr UI dashboard doesn&amp;#39;t show Args at all&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-11645&quot;&gt;&lt;del&gt;SOLR-11645&lt;/del&gt;&lt;/a&gt;: Fix problem with no Args display in admin UI.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12898341" name="SOLR-11645.patch" size="1250" author="elyograg" created="Sat, 18 Nov 2017 15:31:22 +0000"/>
                            <attachment id="12897828" name="SOLR-11645.patch" size="1256" author="elyograg" created="Wed, 15 Nov 2017 19:19:19 +0000"/>
                            <attachment id="12897803" name="SOLR-11645.patch" size="626" author="elyograg" created="Wed, 15 Nov 2017 17:15:37 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3mtfj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>