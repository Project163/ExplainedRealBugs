<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:03:17 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-7195] bin/solr script thinks port 8983 is in use, when in fact it is 18983 that is in use</title>
                <link>https://issues.apache.org/jira/browse/SOLR-7195</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;I&apos;m trying to start solr instance using the bin/solr script, but it is saying that port 8983 is in use.  It&apos;s not in use ... but I am using 18983 for the JMX port on another copy of Solr (listen port is 8982), and this is what is being detected.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;solr@bigindy5 solr&amp;#93;&lt;/span&gt;$ lsof -i -Pn | grep 8983&lt;br/&gt;
java    21609 solr   12u  IPv6 11401290      0t0  TCP *:18983 (LISTEN)&lt;/p&gt;</description>
                <environment>&lt;p&gt;Linux bigindy5 3.10.0-123.9.2.el7.x86_64 #1 SMP Tue Oct 28 18:05:26 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux&lt;/p&gt;</environment>
        <key id="12779824">SOLR-7195</key>
            <summary>bin/solr script thinks port 8983 is in use, when in fact it is 18983 that is in use</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="elyograg">Shawn Heisey</assignee>
                                    <reporter username="elyograg">Shawn Heisey</reporter>
                        <labels>
                    </labels>
                <created>Thu, 5 Mar 2015 16:33:49 +0000</created>
                <updated>Wed, 15 Apr 2015 00:30:04 +0000</updated>
                            <resolved>Tue, 10 Mar 2015 04:48:05 +0000</resolved>
                                    <version>5.0</version>
                                    <fixVersion>5.1</fixVersion>
                                    <component>SolrCloud</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14349037" author="elyograg" created="Thu, 5 Mar 2015 16:34:46 +0000"  >&lt;p&gt;It&apos;ll be a little while before I can investigate further.  If anyone else wants to take this issue, feel free.&lt;/p&gt;</comment>
                            <comment id="14350981" author="simplebread" created="Fri, 6 Mar 2015 21:56:50 +0000"  >&lt;p&gt;This is a quick and dirty fix. The problem happens when doing grep for the port number. It will falsely match 18983 when looking for 8983.&lt;/p&gt;</comment>
                            <comment id="14351005" author="elyograg" created="Fri, 6 Mar 2015 22:14:46 +0000"  >&lt;p&gt;Slight modification to your patch, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=simpleBread&quot; class=&quot;user-hover&quot; rel=&quot;simpleBread&quot;&gt;simpleBread&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;As it was written, it would have failed if the user requested port 1088 and 10880 was specified in a &quot;-Dxxx.port=10880&quot; parameter.  The regex now looks for whitespace after the number.  A quick test seemed to work, but I will need to do some more extensive testing.&lt;/p&gt;</comment>
                            <comment id="14351017" author="elyograg" created="Fri, 6 Mar 2015 22:18:46 +0000"  >&lt;p&gt;Is this sort of syntax allowed in regex?  I will try it when I have a little more time.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;&quot;port=$SOLR_PORT(\s|$)&quot;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14351040" author="simpleBread" created="Fri, 6 Mar 2015 22:28:05 +0000"  >&lt;p&gt;Ha, right. Or we can just use &quot;grep -w  $SOLR_PORT&quot;&lt;/p&gt;</comment>
                            <comment id="14351041" author="simplebread" created="Fri, 6 Mar 2015 22:29:36 +0000"  >&lt;p&gt;We can just use &quot;grep -w $SOLR_PORT&quot;&lt;/p&gt;</comment>
                            <comment id="14351065" author="elyograg" created="Fri, 6 Mar 2015 22:45:32 +0000"  >&lt;p&gt;I think -w will work.  It&apos;s not a feature limited to gnu grep.  I looked at the man page on Solaris, and it is supported.  Google says it&apos;s supported on OpenBSD, so it&apos;s probably also supported on all the other BSD variants.&lt;/p&gt;

&lt;p&gt;I would be interested in knowing whether there are any *nix systems where -w is not supported on the native grep, and how common those systems are.&lt;/p&gt;</comment>
                            <comment id="14352273" author="elyograg" created="Sun, 8 Mar 2015 21:29:51 +0000"  >&lt;p&gt;Latest patch against trunk with CHANGES.txt addition.  If there are no objections, I will commit this and backport to branch_5x.&lt;/p&gt;</comment>
                            <comment id="14352278" author="elyograg" created="Sun, 8 Mar 2015 21:41:37 +0000"  >&lt;p&gt;New patch.  I noticed that all grep commands looking for &quot;start.jar&quot; did not escape the dot character.  This was probably NOT a big deal, but I think the goal is completely correct code.&lt;/p&gt;</comment>
                            <comment id="14354289" author="jira-bot" created="Tue, 10 Mar 2015 04:42:24 +0000"  >&lt;p&gt;Commit 1665405 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=elyograg&quot; class=&quot;user-hover&quot; rel=&quot;elyograg&quot;&gt;elyograg&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1665405&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1665405&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7195&quot; title=&quot;bin/solr script thinks port 8983 is in use, when in fact it is 18983 that is in use&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7195&quot;&gt;&lt;del&gt;SOLR-7195&lt;/del&gt;&lt;/a&gt;: bin/solr changes: Escape start.jar in greps.  Fix incorrect substring port detection.&lt;/p&gt;</comment>
                            <comment id="14354309" author="jira-bot" created="Tue, 10 Mar 2015 04:47:48 +0000"  >&lt;p&gt;Commit 1665407 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=elyograg&quot; class=&quot;user-hover&quot; rel=&quot;elyograg&quot;&gt;elyograg&lt;/a&gt; in branch &apos;dev/branches/branch_5x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1665407&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1665407&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7195&quot; title=&quot;bin/solr script thinks port 8983 is in use, when in fact it is 18983 that is in use&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7195&quot;&gt;&lt;del&gt;SOLR-7195&lt;/del&gt;&lt;/a&gt;: bin/solr changes: Escape start.jar in greps.  Fix incorrect substring port detection. (merge trunk r1665405)&lt;/p&gt;</comment>
                            <comment id="14354310" author="elyograg" created="Tue, 10 Mar 2015 04:48:05 +0000"  >&lt;p&gt;Committed to trunk and merged into branch_5x.&lt;/p&gt;</comment>
                            <comment id="14495207" author="thelabdude" created="Wed, 15 Apr 2015 00:30:04 +0000"  >&lt;p&gt;Bulk close after 5.1 release&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12703314" name="SOLR-7195.patch" size="4266" author="elyograg" created="Sun, 8 Mar 2015 21:41:37 +0000"/>
                            <attachment id="12703313" name="SOLR-7195.patch" size="1172" author="elyograg" created="Sun, 8 Mar 2015 21:29:51 +0000"/>
                            <attachment id="12703151" name="SOLR-7195.patch" size="730" author="elyograg" created="Fri, 6 Mar 2015 22:14:46 +0000"/>
                            <attachment id="12703147" name="SOLR-7195.patch" size="534" author="simpleBread" created="Fri, 6 Mar 2015 21:56:50 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 32 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i26ep3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>