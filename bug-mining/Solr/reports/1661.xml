<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:43:55 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-5502] A &quot;/&quot; in the ID itself throws an ArrayIndexOutOfBoundsException when using the composite id router</title>
                <link>https://issues.apache.org/jira/browse/SOLR-5502</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;While using the composite-id router, if the routing-id contains a &quot;/&quot; in the id part, the code throws an ArrayIndexOutOfBoundsException.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12681089">SOLR-5502</key>
            <summary>A &quot;/&quot; in the ID itself throws an ArrayIndexOutOfBoundsException when using the composite id router</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="markrmiller@gmail.com">Mark Miller</assignee>
                                    <reporter username="anshum">Anshum Gupta</reporter>
                        <labels>
                    </labels>
                <created>Mon, 25 Nov 2013 17:52:57 +0000</created>
                <updated>Mon, 9 May 2016 18:58:41 +0000</updated>
                            <resolved>Tue, 3 Dec 2013 19:04:45 +0000</resolved>
                                    <version>4.7</version>
                                    <fixVersion>4.7</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                    <component>SolrCloud</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="13835612" author="markrmiller@gmail.com" created="Sat, 30 Nov 2013 04:30:20 +0000"  >&lt;p&gt;Thanks! Got a test as well?&lt;/p&gt;</comment>
                            <comment id="13835853" author="anshumg" created="Sat, 30 Nov 2013 18:14:18 +0000"  >&lt;p&gt;I have one, but I&apos;ve been without a proper internet connection right now.&lt;br/&gt;
Will upload one tomorrow.&lt;/p&gt;</comment>
                            <comment id="13837412" author="anshumg" created="Tue, 3 Dec 2013 07:01:43 +0000"  >&lt;p&gt;Patch with a one liner test. &lt;br/&gt;
The test tries to add a doc with a &quot;/&quot; in the id and fails without the patch.&lt;/p&gt;</comment>
                            <comment id="13837778" author="markrmiller@gmail.com" created="Tue, 3 Dec 2013 15:10:24 +0000"  >&lt;p&gt;Hey Anshum, I&apos;m seeing the following fail after applying the patch:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;   [junit4]   2&amp;gt; NOTE: reproduce with: ant test  -Dtestcase=ShardRoutingTest -Dtests.method=testDistribSearch -Dtests.seed=3B53611D9EEA5A03 -Dtests.slow=true -Dtests.locale=sq -Dtests.timezone=AET -Dtests.file.encoding=UTF-8
   [junit4] ERROR   37.2s J1 | ShardRoutingTest.testDistribSearch &amp;lt;&amp;lt;&amp;lt;
   [junit4]    &amp;gt; Throwable #1: org.apache.solr.client.solrj.impl.HttpSolrServer$RemoteSolrException: 2
   [junit4]    &amp;gt; 	at __randomizedtesting.SeedInfo.seed([3B53611D9EEA5A03:BAB5EF05E9B53A3F]:0)
   [junit4]    &amp;gt; 	at org.apache.solr.client.solrj.impl.HttpSolrServer.request(HttpSolrServer.java:491)
   [junit4]    &amp;gt; 	at org.apache.solr.client.solrj.impl.HttpSolrServer.request(HttpSolrServer.java:197)
   [junit4]    &amp;gt; 	at org.apache.solr.client.solrj.request.AbstractUpdateRequest.process(AbstractUpdateRequest.java:117)
   [junit4]    &amp;gt; 	at org.apache.solr.cloud.AbstractFullDistribZkTestBase.indexDoc(AbstractFullDistribZkTestBase.java:620)
   [junit4]    &amp;gt; 	at org.apache.solr.BaseDistributedSearchTestCase.index(BaseDistributedSearchTestCase.java:425)
   [junit4]    &amp;gt; 	at org.apache.solr.cloud.ShardRoutingTest.doAddDoc(ShardRoutingTest.java:308)
   [junit4]    &amp;gt; 	at org.apache.solr.cloud.ShardRoutingTest.doHashingTest(ShardRoutingTest.java:152)
   [junit4]    &amp;gt; 	at org.apache.solr.cloud.ShardRoutingTest.doTest(ShardRoutingTest.java:123)
   [junit4]    &amp;gt; 	at org.apache.solr.BaseDistributedSearchTestCase.testDistribSearch(BaseDistributedSearchTestCase.java:843)
   [junit4]    &amp;gt; 	at java.lang.Thread.run(Thread.java:724)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13837807" author="anshumg" created="Tue, 3 Dec 2013 15:41:56 +0000"  >&lt;p&gt;Missed the fix while creating the patch.&lt;br/&gt;
This one passes just fine on my machine.&lt;/p&gt;</comment>
                            <comment id="13837838" author="jira-bot" created="Tue, 3 Dec 2013 16:10:59 +0000"  >&lt;p&gt;Commit 1547452 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1547452&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1547452&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5502&quot; title=&quot;A &amp;quot;/&amp;quot; in the ID itself throws an ArrayIndexOutOfBoundsException when using the composite id router&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5502&quot;&gt;&lt;del&gt;SOLR-5502&lt;/del&gt;&lt;/a&gt;: A &quot;/&quot; in a document id will cause an exception to be thrown when using the composite id router.&lt;/p&gt;</comment>
                            <comment id="13837851" author="jira-bot" created="Tue, 3 Dec 2013 16:25:35 +0000"  >&lt;p&gt;Commit 1547461 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/branches/branch_4x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1547461&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1547461&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5502&quot; title=&quot;A &amp;quot;/&amp;quot; in the ID itself throws an ArrayIndexOutOfBoundsException when using the composite id router&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5502&quot;&gt;&lt;del&gt;SOLR-5502&lt;/del&gt;&lt;/a&gt;: A &quot;/&quot; in a document id will cause an exception to be thrown when using the composite id router.&lt;/p&gt;</comment>
                            <comment id="13838017" author="jira-bot" created="Tue, 3 Dec 2013 18:43:27 +0000"  >&lt;p&gt;Commit 1547522 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1547522&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1547522&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5502&quot; title=&quot;A &amp;quot;/&amp;quot; in the ID itself throws an ArrayIndexOutOfBoundsException when using the composite id router&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5502&quot;&gt;&lt;del&gt;SOLR-5502&lt;/del&gt;&lt;/a&gt;: Fix inadvertently removed changes entry&lt;/p&gt;</comment>
                            <comment id="13838023" author="jira-bot" created="Tue, 3 Dec 2013 18:46:19 +0000"  >&lt;p&gt;Commit 1547525 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/branches/branch_4x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1547525&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1547525&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5502&quot; title=&quot;A &amp;quot;/&amp;quot; in the ID itself throws an ArrayIndexOutOfBoundsException when using the composite id router&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5502&quot;&gt;&lt;del&gt;SOLR-5502&lt;/del&gt;&lt;/a&gt;: Fix inadvertently removed changes entry&lt;/p&gt;</comment>
                            <comment id="13838043" author="markrmiller@gmail.com" created="Tue, 3 Dec 2013 19:04:45 +0000"  >&lt;p&gt;Thanks Anshum!&lt;/p&gt;</comment>
                            <comment id="13838937" author="yseeley@gmail.com" created="Wed, 4 Dec 2013 14:42:34 +0000"  >&lt;p&gt;This is marked as a bug in 4.6, but I can&apos;t seem to replicate it.  Are you sure this bug wasn&apos;t just introduced by changes to the composite router after 4.6 was released?&lt;/p&gt;</comment>
                            <comment id="13838987" author="anshumg" created="Wed, 4 Dec 2013 15:36:12 +0000"  >&lt;p&gt;Thanks for pointing that out Yonik. I just realized that this was introduced post 4.6 (with the multi-level changes).&lt;/p&gt;</comment>
                            <comment id="13838999" author="shalinmangar" created="Wed, 4 Dec 2013 15:41:48 +0000"  >&lt;p&gt;I&apos;ll fix the change log.&lt;/p&gt;</comment>
                            <comment id="13839009" author="markrmiller@gmail.com" created="Wed, 4 Dec 2013 15:49:05 +0000"  >&lt;p&gt;Let&apos;s move the CHANGES entry to other and change it to adding a test for this.&lt;/p&gt;</comment>
                            <comment id="13839017" author="jira-bot" created="Wed, 4 Dec 2013 15:54:07 +0000"  >&lt;p&gt;Commit 1547835 from shalin@apache.org in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1547835&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1547835&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5502&quot; title=&quot;A &amp;quot;/&amp;quot; in the ID itself throws an ArrayIndexOutOfBoundsException when using the composite id router&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5502&quot;&gt;&lt;del&gt;SOLR-5502&lt;/del&gt;&lt;/a&gt;: Moving change log entry to the other section because this bug hasn&apos;t been released yet&lt;/p&gt;</comment>
                            <comment id="13839018" author="jira-bot" created="Wed, 4 Dec 2013 15:55:22 +0000"  >&lt;p&gt;Commit 1547836 from shalin@apache.org in branch &apos;dev/branches/branch_4x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1547836&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1547836&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5502&quot; title=&quot;A &amp;quot;/&amp;quot; in the ID itself throws an ArrayIndexOutOfBoundsException when using the composite id router&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5502&quot;&gt;&lt;del&gt;SOLR-5502&lt;/del&gt;&lt;/a&gt;: Moving change log entry to the other section because this bug hasn&apos;t been released yet&lt;/p&gt;</comment>
                            <comment id="13839020" author="shalinmangar" created="Wed, 4 Dec 2013 15:56:53 +0000"  >&lt;blockquote&gt;&lt;p&gt;Let&apos;s move the CHANGES entry to other and change it to adding a test for this.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Done. Thanks!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12728258">SOLR-6257</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12616798" name="SOLR-5502.patch" size="5434" author="anshum" created="Tue, 3 Dec 2013 15:41:56 +0000"/>
                            <attachment id="12616709" name="SOLR-5502.patch" size="5539" author="anshum" created="Tue, 3 Dec 2013 07:01:43 +0000"/>
                            <attachment id="12615652" name="SOLR-5502.patch" size="1007" author="anshum" created="Mon, 25 Nov 2013 19:37:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>360354</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 50 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1q4bz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>360653</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>