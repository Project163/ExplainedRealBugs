<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:51:25 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-16429] Missing dependency for STS - Cannot leverage Web Identity Tokens</title>
                <link>https://issues.apache.org/jira/browse/SOLR-16429</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;As discovered in&#160;&lt;a href=&quot;https://github.com/apache/solr-operator/issues/475&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/solr-operator#475&lt;/a&gt;&lt;br/&gt;
the&#160;&lt;tt&gt;s3-repository&lt;/tt&gt;&#160;contrib module is missing a dependency on the&#160;&lt;tt&gt;software.amazon.awssdk:sts&lt;/tt&gt;&#160;module in order to enable authentication via Web Identity Tokens (STS).&lt;br/&gt;
The documentation for the Solr Operator (&lt;a href=&quot;https://apache.github.io/solr-operator/docs/solr-backup/#s3-credentials&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://apache.github.io/solr-operator/docs/solr-backup/#s3-credentials&lt;/a&gt;&#160;/&#160;&lt;a href=&quot;https://github.com/apache/solr-operator/blob/61c74353505e0e7171bdb3ff41102af47fb589fc/docs/solr-backup/README.md?plain=1#L342-L343&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/solr-operator/blob/61c74353505e0e7171bdb3ff41102af47fb589fc/docs/solr-backup/README.md?plain=1#L342-L343&lt;/a&gt;) references that this should be possible, and any other implementation of Solr on Kubernetes (or any other AWS system using IRSA) won&apos;t be able to use the default credential process to use Web Identity Tokens without this module dependency.&lt;/p&gt;

&lt;p&gt;Discovered by following breadcrumbs from:&#160;&lt;a href=&quot;https://github.com/aws/aws-sdk-java-v2/issues/2123&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;aws/aws-sdk-java-v2#2123&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Adding the `sts` jar to the classpath has confirmed to address this issue, but this is likely a miss on testing dependencies because it&apos;s pretty difficult to test. (Solr wouldn&apos;t call out to this code, it&apos;s the internal AWS api that needs this as part of the default chain).&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;I&apos;ll try to get a PR together to add this in.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Solr 8 (and later), when operating in a container within AWS, attempting to leverage Web Identity Tokens as part of S3 backups.&lt;/p&gt;</environment>
        <key id="13482965">SOLR-16429</key>
            <summary>Missing dependency for STS - Cannot leverage Web Identity Tokens</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="houston">Houston Putman</assignee>
                                    <reporter username="joshsouza">Josh Souza</reporter>
                        <labels>
                    </labels>
                <created>Fri, 23 Sep 2022 15:56:11 +0000</created>
                <updated>Fri, 17 Oct 2025 20:05:34 +0000</updated>
                            <resolved>Mon, 3 Oct 2022 15:40:39 +0000</resolved>
                                    <version>8.11.2</version>
                                    <fixVersion>9.1</fixVersion>
                    <fixVersion>8.11.3</fixVersion>
                    <fixVersion>10.0</fixVersion>
                                    <component>Backup/Restore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="2400">40m</timespent>
                                <comments>
                            <comment id="17608853" author="risdenk" created="Fri, 23 Sep 2022 17:09:39 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=joshsouza&quot; class=&quot;user-hover&quot; rel=&quot;joshsouza&quot;&gt;joshsouza&lt;/a&gt; have you looked at the Solr 9 Docker image or release? I would expect that for Solr 9 this is already addressed in the move from Ant -&amp;gt; Gradle and how dependency management was done. I would not at all be surprised if jars are missing w/ the old Ant dependency management in 8.x.&lt;/p&gt;</comment>
                            <comment id="17608854" author="houston" created="Fri, 23 Sep 2022 17:17:28 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=krisden&quot; class=&quot;user-hover&quot; rel=&quot;krisden&quot;&gt;krisden&lt;/a&gt; the sts artifact is not included with the s3 artifacts as a dependency, we need to include them explicitly. This is confirmed because I had to download the jar checksums when I added the explicit dependency.&lt;/p&gt;</comment>
                            <comment id="17608855" author="JIRAUSER296113" created="Fri, 23 Sep 2022 17:22:31 +0000"  >&lt;p&gt;Yeah, as far as I could tell this isn&apos;t referenced anywhere (8 or 9), but as I&apos;m not super familiar with all the code here it&apos;s totally possible I&apos;m missing a detail.&lt;/p&gt;

&lt;p&gt;Our organization will not be able to upgrade to Solr 9 for some time due to the level of effort required, so I&apos;d very much be in your debt if this was to be backported. Otherwise we will probably need to work around it until we can upgrade. Either way, getting this solved for others is the most important part.&lt;/p&gt;</comment>
                            <comment id="17608856" author="risdenk" created="Fri, 23 Sep 2022 17:23:12 +0000"  >&lt;p&gt;Ah interesting thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=houston&quot; class=&quot;user-hover&quot; rel=&quot;houston&quot;&gt;houston&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=joshsouza&quot; class=&quot;user-hover&quot; rel=&quot;joshsouza&quot;&gt;joshsouza&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17608858" author="jira-bot" created="Fri, 23 Sep 2022 17:37:31 +0000"  >&lt;p&gt;Commit d03f7fef9399da696b105811dbfecbbb3cc49d6a in solr&apos;s branch refs/heads/main from Houston Putman&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=d03f7fef939&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=d03f7fef939&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16429&quot; title=&quot;Missing dependency for STS - Cannot leverage Web Identity Tokens&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16429&quot;&gt;&lt;del&gt;SOLR-16429&lt;/del&gt;&lt;/a&gt;: Add AWS STS support in s3-repository (#1041)&lt;/p&gt;

&lt;p&gt;Co-authored-by: Josh Souza &amp;lt;public_github@pureinsomnia.com&amp;gt;&lt;/p&gt;</comment>
                            <comment id="17608861" author="jira-bot" created="Fri, 23 Sep 2022 17:42:42 +0000"  >&lt;p&gt;Commit e8b6b26a9fab1707b288307162025603c9697b32 in solr&apos;s branch refs/heads/branch_9x from Houston Putman&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=e8b6b26a9fa&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=e8b6b26a9fa&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16429&quot; title=&quot;Missing dependency for STS - Cannot leverage Web Identity Tokens&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16429&quot;&gt;&lt;del&gt;SOLR-16429&lt;/del&gt;&lt;/a&gt;: Add AWS STS support in s3-repository (#1041)&lt;/p&gt;

&lt;p&gt;(cherry picked from commit d03f7fef9399da696b105811dbfecbbb3cc49d6a)&lt;/p&gt;

&lt;p&gt;Co-authored-by: Josh Souza &amp;lt;public_github@pureinsomnia.com&amp;gt;&lt;/p&gt;</comment>
                            <comment id="17612335" author="jira-bot" created="Mon, 3 Oct 2022 15:39:54 +0000"  >&lt;p&gt;Commit ca7607061a11ee7e891489e44193fa02bdd04a68 in lucene-solr&apos;s branch refs/heads/branch_8_11 from Josh Souza&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=ca7607061a1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=ca7607061a1&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16429&quot; title=&quot;Missing dependency for STS - Cannot leverage Web Identity Tokens&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16429&quot;&gt;&lt;del&gt;SOLR-16429&lt;/del&gt;&lt;/a&gt;: Add AWS STS support in s3-repository&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16429&quot; title=&quot;Missing dependency for STS - Cannot leverage Web Identity Tokens&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16429&quot;&gt;&lt;del&gt;SOLR-16429&lt;/del&gt;&lt;/a&gt;: Add AWS STS support in s3-repository&lt;/p&gt;

&lt;p&gt;Co-authored-by: Josh Souza &amp;lt;public_github@pureinsomnia.com&amp;gt;&lt;br/&gt;
Co-authored-by: Kevin Risden &amp;lt;krisden@apache.org&amp;gt;&lt;br/&gt;
Co-authored-by: Houston Putman &amp;lt;houston@apache.org&amp;gt;&lt;/p&gt;</comment>
                            <comment id="17612336" author="risdenk" created="Mon, 3 Oct 2022 15:41:18 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=joshsouza&quot; class=&quot;user-hover&quot; rel=&quot;joshsouza&quot;&gt;joshsouza&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=houston&quot; class=&quot;user-hover&quot; rel=&quot;houston&quot;&gt;houston&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17656865" author="ishan" created="Tue, 10 Jan 2023 20:45:30 +0000"  >&lt;p&gt;Bulk closing 9.1 issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 44 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z18sv4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>