<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:29:04 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-11467] CdcrBootstrapTest::testBootstrapWithContinousIndexingOnSourceCluster Failure</title>
                <link>https://issues.apache.org/jira/browse/SOLR-11467</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;CdcrBootstrapTest is still failing in master and other branches with:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[junit4] FAILURE  130s J1 | CdcrBootstrapTest.testBootstrapWithContinousIndexingOnSourceCluster &amp;lt;&amp;lt;&amp;lt;
   [junit4]    &amp;gt; Throwable #1: java.lang.AssertionError: Document mismatch on target after sync expected:&amp;lt;2000&amp;gt; but was:&amp;lt;1901&amp;gt;
   [junit4]    &amp;gt; 	at __randomizedtesting.SeedInfo.seed([41753A7BCCA7C778:953071222BF17483]:0)
   [junit4]    &amp;gt; 	at org.apache.solr.cloud.CdcrBootstrapTest.testBootstrapWithContinousIndexingOnSourceCluster(CdcrBootstrapTest.java:309)
   [junit4]    &amp;gt; 	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:748)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ref: &lt;a href=&quot;https://jenkins.thetaphi.de/job/Lucene-Solr-7.0-Linux/423/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://jenkins.thetaphi.de/job/Lucene-Solr-7.0-Linux/423/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;From one of the failed Solr jenkins log:&lt;/p&gt;

&lt;p&gt;   &lt;span class=&quot;error&quot;&gt;&amp;#91;junit4&amp;#93;&lt;/span&gt;   2&amp;gt; 1143166 INFO  (cdcr-replicator-4421-thread-1-processing-n:127.0.0.1:62832_solr x:cdcr-source_shard1_replica_n1 s:shard1 c:cdcr-source r:core_node2) &lt;span class=&quot;error&quot;&gt;&amp;#91;n:127.0.0.1:62832_solr c:cdcr-source s:shard1 r:core_node2 x:cdcr-source_shard1_replica_n1&amp;#93;&lt;/span&gt; o.a.s.h.CdcrReplicator Forwarded 991 updates to target cdcr-target&lt;br/&gt;
   &lt;span class=&quot;error&quot;&gt;&amp;#91;junit4&amp;#93;&lt;/span&gt;   2&amp;gt; 1144176 INFO  (cdcr-replicator-4421-thread-1-processing-n:127.0.0.1:62832_solr x:cdcr-source_shard1_replica_n1 s:shard1 c:cdcr-source r:core_node2) &lt;span class=&quot;error&quot;&gt;&amp;#91;n:127.0.0.1:62832_solr c:cdcr-source s:shard1 r:core_node2 x:cdcr-source_shard1_replica_n1&amp;#93;&lt;/span&gt; o.a.s.h.CdcrReplicator Forwarded 909 updates to target cdcr-target&lt;br/&gt;
   &lt;span class=&quot;error&quot;&gt;&amp;#91;junit4&amp;#93;&lt;/span&gt;   2&amp;gt; 1145118 INFO  (cdcr-replicator-4421-thread-1-processing-n:127.0.0.1:62832_solr x:cdcr-source_shard1_replica_n1 s:shard1 c:cdcr-source r:core_node2) &lt;span class=&quot;error&quot;&gt;&amp;#91;n:127.0.0.1:62832_solr c:cdcr-source s:shard1 r:core_node2 x:cdcr-source_shard1_replica_n1&amp;#93;&lt;/span&gt; o.a.s.h.CdcrReplicator Forwarded 0 updates to target cdcr-target&lt;/p&gt;

&lt;p&gt;Total 1900 updates were sent, instead of 2000. Ideally the bootstrap process is responsible for 1000, and normal cdc replication is responsble for 1000. On looking closely, the bootstrap is completed successfully. We are 100% sure here, bootstrap worked w/o any issue. And still 1900 updates were sent via replicator, instead of 1000. &lt;/p&gt;</description>
                <environment></environment>
        <key id="13108644">SOLR-11467</key>
            <summary>CdcrBootstrapTest::testBootstrapWithContinousIndexingOnSourceCluster Failure</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="varun">Varun Thacker</assignee>
                                    <reporter username="sarkaramrit2@gmail.com">Amrit Sarkar</reporter>
                        <labels>
                    </labels>
                <created>Wed, 11 Oct 2017 15:16:20 +0000</created>
                <updated>Wed, 28 Oct 2020 20:37:24 +0000</updated>
                            <resolved>Wed, 28 Oct 2020 20:37:24 +0000</resolved>
                                    <version>6.6</version>
                    <version>6.6.1</version>
                    <version>7.0</version>
                    <version>7.0.1</version>
                    <version>7.1</version>
                                                    <component>CDCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16200441" author="sarkaramrit2@gmail.com" created="Wed, 11 Oct 2017 15:19:36 +0000"  >&lt;p&gt;The primary candidate of our culprit is whether the CORRECT collection-checkpoint has been returned to source cluster of the target. I have put extensive logging at multiple places &lt;b&gt;in the uploaded patch&lt;/b&gt; to note versions of the updates we are sending through. I believe if it fails again, we will be able to get fair amount of idea where the problem lies. &lt;/p&gt;

&lt;p&gt;Bootstrap is clear of any bugs, as of now.&lt;/p&gt;</comment>
                            <comment id="16200444" author="sarkaramrit2@gmail.com" created="Wed, 11 Oct 2017 15:20:38 +0000"  >&lt;p&gt;Requesting committers if we can have this piece of code in master until we have another failure on same testcase.&lt;/p&gt;

&lt;p&gt;I ran beasts of 150, 150 and 500 on branch_7x, branch_7_1 and master branch respectively, and &lt;tt&gt;CdcrBootstrapTest&lt;/tt&gt; didn&apos;t fail once for me.&lt;/p&gt;</comment>
                            <comment id="16203024" author="varunthacker" created="Fri, 13 Oct 2017 03:48:08 +0000"  >&lt;p&gt;Hi Amrit,&lt;/p&gt;

&lt;p&gt;I&apos;ll commit the patch with additional logging shortly. &lt;/p&gt;

&lt;p&gt;Making a couple of changes before committing :&lt;/p&gt;

&lt;p&gt;This probably doesn&apos;t need to change?&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
- &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;Adding &quot;&lt;/span&gt; + docs + &lt;span class=&quot;code-quote&quot;&gt;&quot; docs with commit=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, numDocs=&quot;&lt;/span&gt; + numDocs);
+ &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;Adding 100 docs with commit=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, numDocs=&quot;&lt;/span&gt; + numDocs);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Adding &quot;nocommit&quot; will get precommit. So removing that comment and adding another placeholder&lt;/p&gt;</comment>
                            <comment id="16203143" author="sarkaramrit2@gmail.com" created="Fri, 13 Oct 2017 07:09:50 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
- &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;Adding &quot;&lt;/span&gt; + docs + &lt;span class=&quot;code-quote&quot;&gt;&quot; docs with commit=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, numDocs=&quot;&lt;/span&gt; + numDocs);
+ &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;Adding 100 docs with commit=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, numDocs=&quot;&lt;/span&gt; + numDocs);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This will be seperate patch and seperate jira. We always add 100 docs in batch and commit; but still the msg shows 10, when no nightly, 100 when nightly. That&apos;s a wrong log line, I thought putting it up now will shed the confusion.&lt;/p&gt;

&lt;p&gt;Yes, I did put nocommit, so that you can verify. Thanks &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="16219552" author="varunthacker" created="Wed, 25 Oct 2017 21:29:08 +0000"  >&lt;p&gt;I haven&apos;t see any failures on Jenkins for the last 10 days on any branch. Not sure what changed since this was only committed to master. Going to revert this from master for now&lt;/p&gt;</comment>
                            <comment id="16219595" author="jira-bot" created="Wed, 25 Oct 2017 21:43:52 +0000"  >&lt;p&gt;Commit 0ddb8a03d39c0902198b780752e0cf0934c8041a in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=varun&quot; class=&quot;user-hover&quot; rel=&quot;varun&quot;&gt;varun&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=0ddb8a0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=0ddb8a0&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11467&quot; title=&quot;CdcrBootstrapTest::testBootstrapWithContinousIndexingOnSourceCluster Failure&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-11467&quot;&gt;&lt;del&gt;SOLR-11467&lt;/del&gt;&lt;/a&gt;: Remove additional logging to track test failures&lt;/p&gt;</comment>
                            <comment id="17222430" author="mdrob" created="Wed, 28 Oct 2020 20:37:24 +0000"  >&lt;p&gt;Resolving as &quot;Won&apos;t Fix&quot; in line with decision to deprecate/remove CDCR - &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-14022&quot; title=&quot;Deprecate CDCR from Solr in 8.x&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-14022&quot;&gt;&lt;del&gt;SOLR-14022&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-14616&quot; title=&quot;Remove CDCR from 9.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-14616&quot;&gt;&lt;del&gt;SOLR-14616&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12891510" name="SOLR-11467-debug-code.log" size="8528" author="sarkaramrit2@gmail.com" created="Wed, 11 Oct 2017 15:19:12 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3l553:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>