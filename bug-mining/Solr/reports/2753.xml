<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:10:14 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-8419] TermVectorComponent distributed-search issues</title>
                <link>https://issues.apache.org/jira/browse/SOLR-8419</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;TermVectorComponent supports distributed-search since &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-3229&quot; title=&quot;TermVectorComponent does not return terms in distributed search&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-3229&quot;&gt;&lt;del&gt;SOLR-3229&lt;/del&gt;&lt;/a&gt; added it.  Unlike most other components, this one tries to support schemas without a UniqueKey.  However it&apos;s logic for attempting to do this was made faulty with the introduction of distrib.singlePass, and furthermore this part wasn&apos;t tested any way.  In this issue I want to remove support for schemas lacking a UniqueKey with this component (only for distributed-search).  &lt;/p&gt;</description>
                <environment></environment>
        <key id="12922121">SOLR-8419</key>
            <summary>TermVectorComponent distributed-search issues</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dsmiley">David Smiley</assignee>
                                    <reporter username="dsmiley">David Smiley</reporter>
                        <labels>
                    </labels>
                <created>Tue, 15 Dec 2015 19:53:17 +0000</created>
                <updated>Tue, 23 Feb 2016 10:40:18 +0000</updated>
                            <resolved>Fri, 18 Dec 2015 02:23:25 +0000</resolved>
                                                    <fixVersion>5.5</fixVersion>
                                    <component>SearchComponents - other</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15059536" author="dsmiley" created="Wed, 16 Dec 2015 05:47:17 +0000"  >&lt;p&gt;The attach patch:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Fixes the invalid/confusing response when there&apos;s a distributed single-pass situation.&lt;/li&gt;
	&lt;li&gt;Removed &lt;tt&gt;uniqueKeyFieldName&lt;/tt&gt; as a key in the TV response NamedList.  Okay I didn&apos;t have to do this but this seemed totally out of place.  HighlightComponent &amp;amp; DebugComponent don&apos;t do this.&lt;/li&gt;
	&lt;li&gt;Added test that fails without these changes &amp;#8211; the distrib.singlePass case.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The changes also then allows for an eventual refactoring of common code in finishStage (the loop filling &lt;tt&gt;arr&lt;/tt&gt;).  This is the part affected by a distrib.singlePass bug in 3 search components.  I won&apos;t do that refactoring here though; I&apos;ll do it in BNGS-8059.&lt;/p&gt;

&lt;p&gt;Assuming tests pass I&apos;ll commit this in a couple days.&lt;/p&gt;</comment>
                            <comment id="15061409" author="dsmiley" created="Thu, 17 Dec 2015 03:47:41 +0000"  >&lt;p&gt;Slightly updated to adjust tests that were asserting it finds &apos;uniqueKeyField&apos; in the response, to not expect it anymore (it&apos;s going away).  When I update CHANGES.txt I&apos;ll put 2 entries; one in in the Bug Fixes category and another in Other Changes category to call attention to uniqueKeyField getting removed.&lt;/p&gt;</comment>
                            <comment id="15063299" author="jira-bot" created="Fri, 18 Dec 2015 02:15:57 +0000"  >&lt;p&gt;Commit 1720714 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dsmiley&quot; class=&quot;user-hover&quot; rel=&quot;dsmiley&quot;&gt;dsmiley&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1720714&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1720714&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8419&quot; title=&quot;TermVectorComponent distributed-search issues&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-8419&quot;&gt;&lt;del&gt;SOLR-8419&lt;/del&gt;&lt;/a&gt;: TermVectorComponent: fix accidental inclusion of docs when distrib.singlePass. Remove &apos;uniqueKeyField&apos; from response. distrib now requires a schema unique key.&lt;/p&gt;</comment>
                            <comment id="15063304" author="jira-bot" created="Fri, 18 Dec 2015 02:21:27 +0000"  >&lt;p&gt;Commit 1720715 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dsmiley&quot; class=&quot;user-hover&quot; rel=&quot;dsmiley&quot;&gt;dsmiley&lt;/a&gt; in branch &apos;dev/branches/branch_5x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1720715&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1720715&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8419&quot; title=&quot;TermVectorComponent distributed-search issues&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-8419&quot;&gt;&lt;del&gt;SOLR-8419&lt;/del&gt;&lt;/a&gt;: TermVectorComponent: fix accidental inclusion of docs when distrib.singlePass. Remove &apos;uniqueKeyField&apos; from response. distrib now requires a schema unique key.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12545934">SOLR-3229</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12864512">SOLR-8059</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12864513">SOLR-8060</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12778170" name="SOLR_8419.patch" size="9030" author="dsmiley" created="Thu, 17 Dec 2015 03:47:41 +0000"/>
                            <attachment id="12777929" name="SOLR_8419.patch" size="5736" author="dsmiley" created="Wed, 16 Dec 2015 05:47:17 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 48 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2pxov:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>