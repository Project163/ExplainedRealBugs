<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:22:35 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-7452] json facet api returning inconsistent counts in cloud set up</title>
                <link>https://issues.apache.org/jira/browse/SOLR-7452</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;While using the newly added feature of json term facet api (&lt;a href=&quot;http://yonik.com/json-facet-api/#TermsFacet&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://yonik.com/json-facet-api/#TermsFacet&lt;/a&gt;) I am encountering inconsistent returns of counts of faceted value ( Note I am running on a cloud mode of solr). For example consider that i have txns_id(unique field or key), consumer_number and amount. Now for a 10 million such records , lets say i query for &lt;/p&gt;

&lt;p&gt;q=&lt;b&gt;:&lt;/b&gt;&amp;amp;rows=0&amp;amp;&lt;br/&gt;
 json.facet={&lt;br/&gt;
   biskatoo:{&lt;br/&gt;
	 type : terms,&lt;br/&gt;
       field : consumer_number,&lt;br/&gt;
       limit : 20,&lt;br/&gt;
	sort : &lt;/p&gt;
{y:desc}
&lt;p&gt;,&lt;br/&gt;
	numBuckets : true,&lt;br/&gt;
	facet:&lt;/p&gt;
{
	 y : &quot;sum(amount)&quot;
       }
&lt;p&gt;   }&lt;br/&gt;
 }&lt;/p&gt;


&lt;p&gt;the results are as follows ( some are omitted ):&lt;/p&gt;

&lt;p&gt;&quot;facets&quot;:{&lt;br/&gt;
    &quot;count&quot;:6641277,&lt;br/&gt;
    &quot;biskatoo&quot;:{&lt;br/&gt;
      &quot;numBuckets&quot;:3112708,&lt;br/&gt;
      &quot;buckets&quot;:[&lt;/p&gt;
{
          &quot;val&quot;:&quot;surya&quot;,
          &quot;count&quot;:4,
          &quot;y&quot;:2.264506}
&lt;p&gt;,&lt;br/&gt;
      &lt;/p&gt;
{
          &quot;val&quot;:&quot;raghu&quot;,
          &quot;COUNT&quot;:3,   // capitalised for recognition 
          &quot;y&quot;:1.8}
&lt;p&gt;,&lt;br/&gt;
        &lt;/p&gt;
{
          &quot;val&quot;:&quot;malli&quot;,
          &quot;count&quot;:4,
          &quot;y&quot;:1.78}
&lt;p&gt;]}}}&lt;/p&gt;

&lt;p&gt;but if i restrict the query to &lt;/p&gt;

&lt;p&gt;q=consumer_number:raghu&amp;amp;rows=0&amp;amp;&lt;br/&gt;
 json.facet={&lt;br/&gt;
   biskatoo:{&lt;br/&gt;
	 type : terms,&lt;br/&gt;
       field : consumer_number,&lt;br/&gt;
       limit : 20,&lt;br/&gt;
	sort : &lt;/p&gt;
{y:desc}
&lt;p&gt;,&lt;br/&gt;
	numBuckets : true,&lt;br/&gt;
	facet:&lt;/p&gt;
{
	 y : &quot;sum(amount)&quot;
       }
&lt;p&gt;   }&lt;br/&gt;
 }&lt;/p&gt;


&lt;p&gt;i get :&lt;/p&gt;

&lt;p&gt;  &quot;facets&quot;:{&lt;br/&gt;
    &quot;count&quot;:4,&lt;br/&gt;
    &quot;biskatoo&quot;:{&lt;br/&gt;
      &quot;numBuckets&quot;:1,&lt;br/&gt;
      &quot;buckets&quot;:[&lt;/p&gt;
{
          &quot;val&quot;:&quot;raghu&quot;,
          &quot;COUNT&quot;:4,
          &quot;y&quot;:2429708.24}
&lt;p&gt;]}}}&lt;/p&gt;

&lt;p&gt;One can see the count results are inconsistent ( and I found many occasions of inconsistencies).&lt;/p&gt;

&lt;p&gt;I have tried the patch &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7412&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SOLR-7412&lt;/a&gt; but still the issue seems not resolved&lt;/p&gt;</description>
                <environment></environment>
        <key id="12823364">SOLR-7452</key>
            <summary>json facet api returning inconsistent counts in cloud set up</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="yseeley@gmail.com">Yonik Seeley</assignee>
                                    <reporter username="iamvamsi">Vamsi Krishna D</reporter>
                        <labels>
                            <label>count</label>
                            <label>facet</label>
                            <label>sort</label>
                    </labels>
                <created>Thu, 23 Apr 2015 10:05:13 +0000</created>
                <updated>Tue, 29 Aug 2017 23:48:06 +0000</updated>
                            <resolved>Thu, 15 Jun 2017 16:55:51 +0000</resolved>
                                    <version>5.1</version>
                                    <fixVersion>7.0</fixVersion>
                                    <component>Facet Module</component>
                        <due></due>
                            <votes>16</votes>
                                    <watches>31</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="345600">96h</timeoriginalestimate>
                            <timeestimate seconds="345600">96h</timeestimate>
                                                    <aggregatetimeoriginalestimate seconds="345600">96h</aggregatetimeoriginalestimate>
                                        <aggregatetimeremainingestimate seconds="345600">96h</aggregatetimeremainingestimate>
                                                <comments>
                            <comment id="14512822" author="yseeley@gmail.com" created="Sun, 26 Apr 2015 01:32:37 +0000"  >&lt;p&gt;Hi Vamsi,&lt;br/&gt;
The behavior you are seeing is because we haven&apos;t yet implemented facet refinement.  Currently, the distributed statistics are a result of simply combining the top N buckets from each shard, which can result in a small amount of error.  It&apos;s definitely on the roadmap to implement this!&lt;/p&gt;</comment>
                            <comment id="14512830" author="iamvamsi" created="Sun, 26 Apr 2015 02:04:30 +0000"  >&lt;p&gt;Thanks for the update Yonik! &lt;/p&gt;</comment>
                            <comment id="14514773" author="mmurphy3141" created="Mon, 27 Apr 2015 19:27:58 +0000"  >&lt;p&gt;This doesn&apos;t seem to be too important.&lt;br/&gt;
Elasticsearch has never had exact counts, and no one seems to care.&lt;br/&gt;
&lt;a href=&quot;http://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-bucket-terms-aggregation.html#search-aggregations-bucket-terms-aggregation-approximate-counts&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-bucket-terms-aggregation.html#search-aggregations-bucket-terms-aggregation-approximate-counts&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14514801" author="yseeley@gmail.com" created="Mon, 27 Apr 2015 19:37:28 +0000"  >&lt;p&gt;Well, as long as &lt;b&gt;some&lt;/b&gt; people care about accurate counts, we should still implement it.&lt;/p&gt;</comment>
                            <comment id="14514827" author="joel.bernstein" created="Mon, 27 Apr 2015 19:47:52 +0000"  >&lt;p&gt;+1 for implementing accurate counts. They are definitely important to a good number of users.&lt;/p&gt;</comment>
                            <comment id="15030437" author="vdilipm@gmail.com" created="Sat, 28 Nov 2015 09:00:52 +0000"  >&lt;p&gt;I have the same count mismatch issue between json facet API and Simple facet in distributed search. I am using Solr 5.3.1, and we have very much importance of facet count &lt;/p&gt;</comment>
                            <comment id="15063678" author="vdilipm@gmail.com" created="Fri, 18 Dec 2015 08:14:31 +0000"  >&lt;p&gt;Any progress on this issue...&lt;/p&gt;</comment>
                            <comment id="15195024" author="yriveiro" created="Tue, 15 Mar 2016 09:56:10 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yonik%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;yonik@apache.org&quot;&gt;yonik@apache.org&lt;/a&gt; This feature is important to have accurate information.&lt;/p&gt;

&lt;p&gt;Any chance to have this before 6.0 be released?&lt;/p&gt;

&lt;p&gt;P.S: The documentation doesn&apos;t inform about this situation, that is a big downside in some scenarios.&lt;/p&gt;</comment>
                            <comment id="15204075" author="markus17" created="Mon, 21 Mar 2016 11:54:38 +0000"  >&lt;p&gt;Hello - we also care about accurate results. We are using this to calculate scores:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    query.setParam(&lt;span class=&quot;code-quote&quot;&gt;&quot;json.facet&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;{by_day:{type:range,field:time,start:\&quot;&lt;/span&gt;NOW-&lt;span class=&quot;code-quote&quot;&gt;&quot; + maxFeedbackWindow + &quot;&lt;/span&gt;DAY/DAY\&lt;span class=&quot;code-quote&quot;&gt;&quot;,end:\&quot;&lt;/span&gt;NOW+1DAY/DAY\&lt;span class=&quot;code-quote&quot;&gt;&quot;,gap:\&quot;&lt;/span&gt;+1DAY\&lt;span class=&quot;code-quote&quot;&gt;&quot;, facet:{avg:\&quot;&lt;/span&gt;avg(rating)\&lt;span class=&quot;code-quote&quot;&gt;&quot;}}}&quot;&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And we have unit tests testing output of methods that use JSON facetting. The tests usually fail due to discrepancies, for example:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Failed tests: 
  TestRecommendCompiler.testIndexFeedbackAndViewScores:111-&amp;gt;assertRecommendation:181-&amp;gt;Assert.assertEquals:147-&amp;gt;Assert.assertEquals:128-&amp;gt;Assert.failNotEquals:647-&amp;gt;Assert.fail:93 expected:&amp;lt;0.29996002&amp;gt; but was:&amp;lt;0.21329334&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The average dailies can vary widely between different invocations:&lt;/p&gt;

&lt;p&gt;First:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;{val=Fri Mar 18 00:00:00 UTC 2016,count=1,avg=0.20000000298023224}, {val=Sat Mar 19 00:00:00 UTC 2016,count=3,avg=0.23333334177732468}, {val=Sun Mar 20 00:00:00 UTC 2016,count=0}, {val=Mon Mar 21 00:00:00 UTC 2016,count=0}]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Second time:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;{val=Fri Mar 18 00:00:00 UTC 2016,count=1,avg=0.5}, {val=Sat Mar 19 00:00:00 UTC 2016,count=3,avg=0.36666666716337204}, {val=Sun Mar 20 00:00:00 UTC 2016,count=0}, {val=Mon Mar 21 00:00:00 UTC 2016,count=0}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15284035" author="ahmedobaidi" created="Mon, 16 May 2016 00:39:31 +0000"  >&lt;p&gt;Any progress? We have the same problem with 5.4.0, 5.4.1 and 6.0.&lt;/p&gt;

&lt;p&gt;Also, is it possible to get more accurate results from streaming expressions or sql? &lt;/p&gt;</comment>
                            <comment id="15284060" author="yseeley@gmail.com" created="Mon, 16 May 2016 01:53:10 +0000"  >&lt;p&gt;FYI, I&apos;ve recently started on a patch to implement refinements... hopeful I can get something up in the next couple of weeks.&lt;/p&gt;</comment>
                            <comment id="15284065" author="yseeley@gmail.com" created="Mon, 16 May 2016 02:01:05 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markus17&quot; class=&quot;user-hover&quot; rel=&quot;markus17&quot;&gt;markus17&lt;/a&gt;, facet refinements should have no effect on a single-level range facet since the same set of buckets will be returned from every shard.&lt;br/&gt;
Possibilities I can think of:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;a faceting bug unrelated to refinements&lt;/li&gt;
	&lt;li&gt;a difference in the data in replicas of the same shard&lt;/li&gt;
	&lt;li&gt;a commit happened in-between, changing the data&lt;/li&gt;
	&lt;li&gt;a bug in the test&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15307627" author="saar32" created="Tue, 31 May 2016 12:06:21 +0000"  >&lt;p&gt;Do you expect it to get into 5.5.2 ?  Thanks!&lt;/p&gt;</comment>
                            <comment id="15322458" author="vdilipm@gmail.com" created="Thu, 9 Jun 2016 13:03:30 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yseeley%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;yseeley@gmail.com&quot;&gt;yseeley@gmail.com&lt;/a&gt; Any progress on the patch of this issue?&lt;/p&gt;</comment>
                            <comment id="15375418" author="otis" created="Wed, 13 Jul 2016 17:46:43 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yonik%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;yonik@apache.org&quot;&gt;yonik@apache.org&lt;/a&gt; We&apos;ve gotten inquiries about this bug/patch/fix at Sematext, but if you&apos;re working on this then maybe it&apos;s better for us not to meddle, so like a few others above, I&apos;m curious about the status of this.&lt;/p&gt;</comment>
                            <comment id="15375554" author="yseeley@gmail.com" created="Wed, 13 Jul 2016 19:11:45 +0000"  >&lt;p&gt;I actually just found some time to make a little progress on this today.&lt;br/&gt;
I&apos;m going to be traveling for the next 3 weeks, starting this weekend.&lt;br/&gt;
I&apos;ll try to put up a patch with whatever I&apos;ve got before that point.&lt;/p&gt;</comment>
                            <comment id="15375835" author="dragonsinth" created="Wed, 13 Jul 2016 21:52:25 +0000"  >&lt;p&gt;Please make it optional... inaccurate-but-fast is a legit use case a lot of the time.&lt;/p&gt;</comment>
                            <comment id="15381234" author="saar32" created="Sun, 17 Jul 2016 08:36:42 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yonik%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;yonik@apache.org&quot;&gt;yonik@apache.org&lt;/a&gt;, will you have a chance to upload before you off to travel?&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                            <comment id="15381395" author="yseeley@gmail.com" created="Sun, 17 Jul 2016 15:41:52 +0000"  >&lt;p&gt;Didn&apos;t quite make it before the vacation...&lt;/p&gt;

&lt;p&gt;Here&apos;s a partial draft patch &lt;b&gt;for developers only&lt;/b&gt; - it won&apos;t do anything interesting for users as it&apos;s probably only 25-30% complete.&lt;/p&gt;

&lt;p&gt;It implements the part that keeps track of what values have been seen from what shards, and constructs a data structure to be sent during the next phase of faceting.  Refinement is selectable on a per-facet basis.&lt;/p&gt;</comment>
                            <comment id="15416599" author="dorit.carmon@verint.com" created="Thu, 11 Aug 2016 05:45:24 +0000"  >&lt;p&gt;hi, any updates for this issue? &lt;br/&gt;
this is a very significant for our analysis, hope there are some good news on progress &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
Thank you,&lt;br/&gt;
Dorit. &lt;/p&gt;</comment>
                            <comment id="15608510" author="gstrat88" created="Wed, 26 Oct 2016 13:51:37 +0000"  >&lt;p&gt;Hello do we have any update regarding this?&lt;br/&gt;
Thanks!&lt;/p&gt;</comment>
                            <comment id="15674675" author="chakrayel" created="Thu, 17 Nov 2016 20:07:34 +0000"  >&lt;p&gt;Hello,&lt;/p&gt;

&lt;p&gt;Our use case relies on accurate bucket count and facet stats. &lt;br/&gt;
json.facet works fine on fields with low unique values. However for high unique value fields bucketing and stats are inconsistent.&lt;br/&gt;
As in OPs example, if query is filtered further (yielding fewer documents), bucket count and stats returned are accurate. &lt;/p&gt;

&lt;p&gt;Any updates on this much appreciated.&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;</comment>
                            <comment id="15851782" author="abhishek@patentinsightpro.com" created="Fri, 3 Feb 2017 17:32:18 +0000"  >&lt;p&gt;Any progress on this..?&lt;/p&gt;</comment>
                            <comment id="15928228" author="yseeley@gmail.com" created="Thu, 16 Mar 2017 15:03:48 +0000"  >&lt;p&gt;I&apos;ve found some time to work on this and have single-level counts-only refinement working.  Hopefully I&apos;ll get something checked in relatively soon.&lt;/p&gt;</comment>
                            <comment id="15929373" author="yseeley@gmail.com" created="Fri, 17 Mar 2017 03:10:16 +0000"  >&lt;p&gt;Here&apos;s a draft patch with a couple of very basic tests (this isn&apos;t comprehensive... just handles basic field faceting).  I&apos;ll probably try to clean it up a little more and commit something tomorrow.&lt;/p&gt;</comment>
                            <comment id="15930230" author="jira-bot" created="Fri, 17 Mar 2017 16:14:07 +0000"  >&lt;p&gt;Commit 540ee1db10b64aead7d7756b161c2c7348319d81 in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yonik%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;yonik@apache.org&quot;&gt;yonik@apache.org&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=540ee1d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=540ee1d&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7452&quot; title=&quot;json facet api returning inconsistent counts in cloud set up&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7452&quot;&gt;&lt;del&gt;SOLR-7452&lt;/del&gt;&lt;/a&gt;: add refine param to json facets, implement for array field faceting&lt;/p&gt;</comment>
                            <comment id="15930255" author="jira-bot" created="Fri, 17 Mar 2017 16:30:35 +0000"  >&lt;p&gt;Commit cb5a40e54a739cdf008ffe9a5e06d1a8b976bdf5 in lucene-solr&apos;s branch refs/heads/branch_6x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yonik%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;yonik@apache.org&quot;&gt;yonik@apache.org&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=cb5a40e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=cb5a40e&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7452&quot; title=&quot;json facet api returning inconsistent counts in cloud set up&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7452&quot;&gt;&lt;del&gt;SOLR-7452&lt;/del&gt;&lt;/a&gt;: add refine param to json facets, implement for array field faceting&lt;/p&gt;</comment>
                            <comment id="15934563" author="jira-bot" created="Tue, 21 Mar 2017 12:42:53 +0000"  >&lt;p&gt;Commit 6786089b0bc8be50287c2527874ca4503114addd in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yonik%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;yonik@apache.org&quot;&gt;yonik@apache.org&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=6786089&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=6786089&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7452&quot; title=&quot;json facet api returning inconsistent counts in cloud set up&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7452&quot;&gt;&lt;del&gt;SOLR-7452&lt;/del&gt;&lt;/a&gt;: json facet API, refine/skip through buckets already visited&lt;/p&gt;</comment>
                            <comment id="15934570" author="jira-bot" created="Tue, 21 Mar 2017 12:48:27 +0000"  >&lt;p&gt;Commit c69e719b806f64e05e8e17f1d03e91f5c7e68159 in lucene-solr&apos;s branch refs/heads/branch_6x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yonik%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;yonik@apache.org&quot;&gt;yonik@apache.org&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=c69e719&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=c69e719&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7452&quot; title=&quot;json facet api returning inconsistent counts in cloud set up&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7452&quot;&gt;&lt;del&gt;SOLR-7452&lt;/del&gt;&lt;/a&gt;: json facet API, refine/skip through buckets already visited&lt;/p&gt;</comment>
                            <comment id="15937403" author="jira-bot" created="Wed, 22 Mar 2017 23:54:04 +0000"  >&lt;p&gt;Commit 725cd4e2f546a71ccf43218ffc88739a3e05a260 in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yonik%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;yonik@apache.org&quot;&gt;yonik@apache.org&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=725cd4e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=725cd4e&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7452&quot; title=&quot;json facet api returning inconsistent counts in cloud set up&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7452&quot;&gt;&lt;del&gt;SOLR-7452&lt;/del&gt;&lt;/a&gt;: facet refinement - don&apos;t generate domain if skipping bucket&lt;/p&gt;</comment>
                            <comment id="15937405" author="jira-bot" created="Wed, 22 Mar 2017 23:54:33 +0000"  >&lt;p&gt;Commit 5194861115708f68c6cde5e66bf9d1c6a3178934 in lucene-solr&apos;s branch refs/heads/branch_6x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yonik%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;yonik@apache.org&quot;&gt;yonik@apache.org&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=5194861&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=5194861&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7452&quot; title=&quot;json facet api returning inconsistent counts in cloud set up&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7452&quot;&gt;&lt;del&gt;SOLR-7452&lt;/del&gt;&lt;/a&gt;: facet refinement - don&apos;t generate domain if skipping bucket&lt;/p&gt;</comment>
                            <comment id="15941405" author="jira-bot" created="Sat, 25 Mar 2017 00:43:54 +0000"  >&lt;p&gt;Commit fec87fceb5de0c167969ee03fcc09d58d5d479c9 in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yonik%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;yonik@apache.org&quot;&gt;yonik@apache.org&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=fec87fc&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=fec87fc&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7452&quot; title=&quot;json facet api returning inconsistent counts in cloud set up&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7452&quot;&gt;&lt;del&gt;SOLR-7452&lt;/del&gt;&lt;/a&gt;: add support for _m buckets, missing and has sub-facets in need of refinement&lt;/p&gt;</comment>
                            <comment id="15941406" author="jira-bot" created="Sat, 25 Mar 2017 00:46:45 +0000"  >&lt;p&gt;Commit 07479e9414cbe040de008bafef6aed9133cfb9cb in lucene-solr&apos;s branch refs/heads/branch_6x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yonik%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;yonik@apache.org&quot;&gt;yonik@apache.org&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=07479e9&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=07479e9&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7452&quot; title=&quot;json facet api returning inconsistent counts in cloud set up&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7452&quot;&gt;&lt;del&gt;SOLR-7452&lt;/del&gt;&lt;/a&gt;: add support for _m buckets, missing and has sub-facets in need of refinement&lt;/p&gt;</comment>
                            <comment id="15946246" author="jira-bot" created="Tue, 28 Mar 2017 23:52:57 +0000"  >&lt;p&gt;Commit 66bfdcbdbab8f294341232946a30a61898228a34 in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yonik%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;yonik@apache.org&quot;&gt;yonik@apache.org&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=66bfdcb&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=66bfdcb&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7452&quot; title=&quot;json facet api returning inconsistent counts in cloud set up&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7452&quot;&gt;&lt;del&gt;SOLR-7452&lt;/del&gt;&lt;/a&gt;: change terminology from _m missing-bucket to _p partial-bucket for refinement&lt;/p&gt;</comment>
                            <comment id="15946251" author="jira-bot" created="Tue, 28 Mar 2017 23:53:25 +0000"  >&lt;p&gt;Commit f36b2bfbb9ea77f4232bae35e49ce6a6241886de in lucene-solr&apos;s branch refs/heads/branch_6x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yonik%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;yonik@apache.org&quot;&gt;yonik@apache.org&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=f36b2bf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=f36b2bf&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7452&quot; title=&quot;json facet api returning inconsistent counts in cloud set up&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7452&quot;&gt;&lt;del&gt;SOLR-7452&lt;/del&gt;&lt;/a&gt;: change terminology from _m missing-bucket to _p partial-bucket for refinement&lt;/p&gt;</comment>
                            <comment id="15949405" author="jira-bot" created="Thu, 30 Mar 2017 16:56:09 +0000"  >&lt;p&gt;Commit b17b48d5353fd469c0d8bdbfa25894049495cb46 in lucene-solr&apos;s branch refs/heads/branch_6x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yonik%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;yonik@apache.org&quot;&gt;yonik@apache.org&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=b17b48d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=b17b48d&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7452&quot; title=&quot;json facet api returning inconsistent counts in cloud set up&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7452&quot;&gt;&lt;del&gt;SOLR-7452&lt;/del&gt;&lt;/a&gt;: refinement of missing buckets and partial facets through missing buckets&lt;/p&gt;</comment>
                            <comment id="15951274" author="jira-bot" created="Fri, 31 Mar 2017 16:55:20 +0000"  >&lt;p&gt;Commit cc623403bd82a176a057e1c9567f37d01f7391c4 in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yonik%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;yonik@apache.org&quot;&gt;yonik@apache.org&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=cc62340&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=cc62340&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7452&quot; title=&quot;json facet api returning inconsistent counts in cloud set up&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7452&quot;&gt;&lt;del&gt;SOLR-7452&lt;/del&gt;&lt;/a&gt;: refinement of missing buckets and partial facets through missing buckets&lt;/p&gt;</comment>
                            <comment id="15951275" author="jira-bot" created="Fri, 31 Mar 2017 16:55:22 +0000"  >&lt;p&gt;Commit bdb0d588ee8129cf42df03f6185fbb3f4d8e0af4 in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yonik%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;yonik@apache.org&quot;&gt;yonik@apache.org&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=bdb0d58&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=bdb0d58&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7452&quot; title=&quot;json facet api returning inconsistent counts in cloud set up&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7452&quot;&gt;&lt;del&gt;SOLR-7452&lt;/del&gt;&lt;/a&gt;: add more tests for refinement of missing buckets&lt;/p&gt;</comment>
                            <comment id="15951276" author="jira-bot" created="Fri, 31 Mar 2017 16:56:29 +0000"  >&lt;p&gt;Commit 11bf7943eeac28c28e1f4f6053c5640ff78a1578 in lucene-solr&apos;s branch refs/heads/branch_6x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yonik%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;yonik@apache.org&quot;&gt;yonik@apache.org&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=11bf794&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=11bf794&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7452&quot; title=&quot;json facet api returning inconsistent counts in cloud set up&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7452&quot;&gt;&lt;del&gt;SOLR-7452&lt;/del&gt;&lt;/a&gt;: add more tests for refinement of missing buckets&lt;/p&gt;</comment>
                            <comment id="15958928" author="jira-bot" created="Thu, 6 Apr 2017 13:29:35 +0000"  >&lt;p&gt;Commit 53aeffade5eca83aebc59bbb8d271c013bd1c037 in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yonik%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;yonik@apache.org&quot;&gt;yonik@apache.org&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=53aeffa&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=53aeffa&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7452&quot; title=&quot;json facet api returning inconsistent counts in cloud set up&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7452&quot;&gt;&lt;del&gt;SOLR-7452&lt;/del&gt;&lt;/a&gt;: add support for refining missing allBuckets&lt;/p&gt;</comment>
                            <comment id="15958937" author="jira-bot" created="Thu, 6 Apr 2017 13:33:13 +0000"  >&lt;p&gt;Commit 7828ae07ec1a4a451192fae08e29eddce1582292 in lucene-solr&apos;s branch refs/heads/branch_6x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yonik%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;yonik@apache.org&quot;&gt;yonik@apache.org&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=7828ae0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=7828ae0&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7452&quot; title=&quot;json facet api returning inconsistent counts in cloud set up&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7452&quot;&gt;&lt;del&gt;SOLR-7452&lt;/del&gt;&lt;/a&gt;: add support for refining missing allBuckets&lt;/p&gt;</comment>
                            <comment id="15983022" author="jira-bot" created="Tue, 25 Apr 2017 15:00:48 +0000"  >&lt;p&gt;Commit 4f89f98f665ed659669ee1454bd32ff99ed097a7 in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yonik%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;yonik@apache.org&quot;&gt;yonik@apache.org&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=4f89f98&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=4f89f98&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7452&quot; title=&quot;json facet api returning inconsistent counts in cloud set up&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7452&quot;&gt;&lt;del&gt;SOLR-7452&lt;/del&gt;&lt;/a&gt;: JSON Facet API - refining for numBuckets&lt;/p&gt;</comment>
                            <comment id="15983025" author="jira-bot" created="Tue, 25 Apr 2017 15:02:13 +0000"  >&lt;p&gt;Commit 79d44ae6403a1924651c2b072b201c203c651e8f in lucene-solr&apos;s branch refs/heads/branch_6x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yonik%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;yonik@apache.org&quot;&gt;yonik@apache.org&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=79d44ae&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=79d44ae&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7452&quot; title=&quot;json facet api returning inconsistent counts in cloud set up&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7452&quot;&gt;&lt;del&gt;SOLR-7452&lt;/del&gt;&lt;/a&gt;: JSON Facet API - refining for numBuckets&lt;/p&gt;</comment>
                            <comment id="16034890" author="jira-bot" created="Fri, 2 Jun 2017 15:36:20 +0000"  >&lt;p&gt;Commit 393a2ed176b8acfe26cee821d7f3a8babed122b9 in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yonik%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;yonik@apache.org&quot;&gt;yonik@apache.org&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=393a2ed&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=393a2ed&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7452&quot; title=&quot;json facet api returning inconsistent counts in cloud set up&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7452&quot;&gt;&lt;del&gt;SOLR-7452&lt;/del&gt;&lt;/a&gt;: tests: templatize refinement tests&lt;/p&gt;</comment>
                            <comment id="16036440" author="jira-bot" created="Mon, 5 Jun 2017 00:13:52 +0000"  >&lt;p&gt;Commit 67876b30277314f15f5e55ef321a39d67e7f1bac in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yonik%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;yonik@apache.org&quot;&gt;yonik@apache.org&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=67876b3&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=67876b3&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7452&quot; title=&quot;json facet api returning inconsistent counts in cloud set up&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7452&quot;&gt;&lt;del&gt;SOLR-7452&lt;/del&gt;&lt;/a&gt;: fix facet refinement for method:dvhash&lt;/p&gt;</comment>
                            <comment id="16039941" author="jira-bot" created="Wed, 7 Jun 2017 00:57:47 +0000"  >&lt;p&gt;Commit a1692c160ac24746c17eae8d6cc5d40771c38e61 in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yonik%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;yonik@apache.org&quot;&gt;yonik@apache.org&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=a1692c1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=a1692c1&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7452&quot; title=&quot;json facet api returning inconsistent counts in cloud set up&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7452&quot;&gt;&lt;del&gt;SOLR-7452&lt;/del&gt;&lt;/a&gt;: fix facet refinement for range queries&lt;/p&gt;</comment>
                            <comment id="16043180" author="yseeley@gmail.com" created="Thu, 8 Jun 2017 18:19:46 +0000"  >&lt;p&gt;Here&apos;s a patch that fixes up faceting for numeric fields.&lt;br/&gt;
Unfortunately, it seems to cause a failure in TestSQLHandler, so we&apos;ll have to fix that as well.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;   [junit4]   2&amp;gt; NOTE: reproduce with: ant test  -Dtestcase=TestSQLHandler -Dtests.method=doTest -Dtests.seed=2E7AD2F252ACE733 -Dtests.slow=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; -Dtests.locale=de-GR -Dtests.timez
one=Asia/Vientiane -Dtests.asserts=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; -Dtests.file.encoding=US-ASCII
   [junit4] ERROR   34.9s J2 | TestSQLHandler.doTest &amp;lt;&amp;lt;&amp;lt;
   [junit4]    &amp;gt; Throwable #1: java.io.IOException: --&amp;gt; http:&lt;span class=&quot;code-comment&quot;&gt;//127.0.0.1:36871/w_rb/collection1:java.lang.&lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt; cannot be &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt; to java.lang.&lt;span class=&quot;code-object&quot;&gt;Long&lt;/span&gt;
&lt;/span&gt;   [junit4]    &amp;gt;        at __randomizedtesting.SeedInfo.seed([2E7AD2F252ACE733:893E6A563F17F48A]:0)
   [junit4]    &amp;gt;        at org.apache.solr.client.solrj.io.stream.SolrStream.read(SolrStream.java:219)
   [junit4]    &amp;gt;        at org.apache.solr.handler.TestSQLHandler.getTuples(TestSQLHandler.java:2527)
   [junit4]    &amp;gt;        at org.apache.solr.handler.TestSQLHandler.testSelectDistinctFacets(TestSQLHandler.java:968)
   [junit4]    &amp;gt;        at org.apache.solr.handler.TestSQLHandler.doTest(TestSQLHandler.java:94)
   [junit4]    &amp;gt;        at org.apache.solr.BaseDistributedSearchTestCase$ShardsRepeatRule$ShardsFixedStatement.callStatement(BaseDistributedSearchTestCase.java:985)
   [junit4]    &amp;gt;        at org.apache.solr.BaseDistributedSearchTestCase$ShardsRepeatRule$ShardsStatement.evaluate(BaseDistributedSearchTestCase.java:960)
   [junit4]    &amp;gt;        at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:748)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16043307" author="joel.bernstein" created="Thu, 8 Jun 2017 19:42:48 +0000"  >&lt;p&gt;I should have time to take a look at this tomorrow. I suspect some assumption about the expected field type is different now.&lt;/p&gt;</comment>
                            <comment id="16043394" author="yseeley@gmail.com" created="Thu, 8 Jun 2017 20:41:20 +0000"  >&lt;p&gt;Actually, it looks like this is more the root-cause stack trace:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;   [junit4]   2&amp;gt; 708657 ERROR (qtp1112930155-8135) [n:127.0.0.1:36871_w_rb c:collection1 s:shard2 r:core_node1 x:collection1] o.a.s.c.s.i.s.ExceptionStream java.lang.ClassCastException: java.lang.&lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt; cannot be &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt; to java.lang.&lt;span class=&quot;code-object&quot;&gt;Long&lt;/span&gt;
   [junit4]   2&amp;gt;        at org.apache.calcite.avatica.util.AbstractCursor$LongAccessor.getLong(AbstractCursor.java:540)
   [junit4]   2&amp;gt;        at org.apache.calcite.avatica.AvaticaSite.get(AvaticaSite.java:305)
   [junit4]   2&amp;gt;        at org.apache.calcite.avatica.AvaticaResultSet.getObject(AvaticaResultSet.java:393)
   [junit4]   2&amp;gt;        at org.apache.solr.client.solrj.io.stream.JDBCStream$1.selectValue(JDBCStream.java:314)
   [junit4]   2&amp;gt;        at org.apache.solr.client.solrj.io.stream.JDBCStream.read(JDBCStream.java:506)
   [junit4]   2&amp;gt;        at org.apache.solr.handler.SQLHandler$SqlHandlerStream.read(SQLHandler.java:186)
   [junit4]   2&amp;gt;        at org.apache.solr.client.solrj.io.stream.ExceptionStream.read(ExceptionStream.java:68)
   [junit4]   2&amp;gt;        at org.apache.solr.handler.StreamHandler$TimerStream.read(StreamHandler.java:587)
   [junit4]   2&amp;gt;        at org.apache.solr.client.solrj.io.stream.TupleStream.lambda$writeMap$0(TupleStream.java:87)
   [junit4]   2&amp;gt;        at org.apache.solr.response.JSONWriter.writeIterator(JSONResponseWriter.java:523)
   [junit4]   2&amp;gt;        at org.apache.solr.response.TextResponseWriter.writeVal(TextResponseWriter.java:180)
   [junit4]   2&amp;gt;        at org.apache.solr.response.JSONWriter$2.put(JSONResponseWriter.java:559)
   [junit4]   2&amp;gt;        at org.apache.solr.client.solrj.io.stream.TupleStream.writeMap(TupleStream.java:84)
   [junit4]   2&amp;gt;        at org.apache.solr.response.JSONWriter.writeMap(JSONResponseWriter.java:547)
   [junit4]   2&amp;gt;        at org.apache.solr.response.TextResponseWriter.writeVal(TextResponseWriter.java:198)
   [junit4]   2&amp;gt;        at org.apache.solr.response.JSONWriter.writeNamedListAsMapWithDups(JSONResponseWriter.java:209)
   [junit4]   2&amp;gt;        at org.apache.solr.response.JSONWriter.writeNamedList(JSONResponseWriter.java:325)
   [junit4]   2&amp;gt;        at org.apache.solr.response.JSONWriter.writeResponse(JSONResponseWriter.java:120)
   [junit4]   2&amp;gt;        at org.apache.solr.response.JSONResponseWriter.write(JSONResponseWriter.java:71)
   [junit4]   2&amp;gt;        at org.apache.solr.response.QueryResponseWriterUtil.writeQueryResponse(QueryResponseWriterUtil.java:65)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The facet labels from faceting on an int field were sometimes returning Long, which led to merging issues.  The patch corrected that, so now Integer labels are returned.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;--- a/solr/core/src/java/org/apache/solr/search/facet/FacetRange.java
+++ b/solr/core/src/java/org/apache/solr/search/facet/FacetRange.java
@@ -533,6 +533,10 @@ &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;FacetRangeProcessor &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; FacetProcessor&amp;lt;FacetRange&amp;gt; {
 
     &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; IntCalc(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; SchemaField f) { &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;(f); }
     @Override
+    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; Comparable bitsToValue(&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; bits) {
+      &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;)bits;
+    }
+    @Override
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So it looks like we need AvaticaResultSet to use to use AbstractCursor$LongAccessor@IntAccessor rather than a AbstractCursor$LongAccessor.  I&apos;m not sure where that mapping is set up though...&lt;/p&gt;</comment>
                            <comment id="16043414" author="yseeley@gmail.com" created="Thu, 8 Jun 2017 20:51:23 +0000"  >&lt;p&gt;I suspect that there may be issues with Float/Double as well.&lt;br/&gt;
An alternative fix alternative fix could be to change JSON faceting so that only Long and Double is ever used as bucket values.&lt;/p&gt;</comment>
                            <comment id="16047922" author="joel.bernstein" created="Tue, 13 Jun 2017 13:47:12 +0000"  >&lt;p&gt;The root of the exception is:&lt;/p&gt;

&lt;p&gt;java.lang.ClassCastException: java.lang.Integer cannot be cast to java.lang.Long&lt;br/&gt;
   &lt;span class=&quot;error&quot;&gt;&amp;#91;junit4&amp;#93;&lt;/span&gt;   2&amp;gt; 	at org.apache.calcite.avatica.util.AbstractCursor$LongAccessor.getLong(AbstractCursor.java:540)&lt;br/&gt;
   &lt;span class=&quot;error&quot;&gt;&amp;#91;junit4&amp;#93;&lt;/span&gt;   2&amp;gt; 	at org.apache.calcite.avatica.AvaticaSite.get(AvaticaSite.java:305)&lt;br/&gt;
   &lt;span class=&quot;error&quot;&gt;&amp;#91;junit4&amp;#93;&lt;/span&gt;   2&amp;gt; 	at org.apache.calcite.avatica.AvaticaResultSet.getObject(AvaticaResultSet.java:393)&lt;br/&gt;
   &lt;span class=&quot;error&quot;&gt;&amp;#91;junit4&amp;#93;&lt;/span&gt;   2&amp;gt; 	at org.apache.solr.client.solrj.io.stream.JDBCStream$1.selectValue(JDBCStream.java:314)&lt;br/&gt;
   &lt;span class=&quot;error&quot;&gt;&amp;#91;junit4&amp;#93;&lt;/span&gt;   2&amp;gt; 	at org.apache.solr.client.solrj.io.stream.JDBCStream.read(JDBCStream.java:506)&lt;br/&gt;
   &lt;span class=&quot;error&quot;&gt;&amp;#91;junit4&amp;#93;&lt;/span&gt;   2&amp;gt; 	at org.apache.solr.handler.SQLHandler$SqlHandlerStream.read(SQLHandler.java:186)&lt;br/&gt;
   &lt;span class=&quot;error&quot;&gt;&amp;#91;junit4&amp;#93;&lt;/span&gt;   2&amp;gt; 	at org.apache.solr.client.solrj.io.stream.ExceptionStream.read(ExceptionStream.java:68)&lt;/p&gt;


&lt;p&gt;Basically Calcite is expecting a long in this scenario because we map all integer types to longs in the SolrSchema.java class. I think the best way to deal with this is to have the FacetStream convert all Integers buckets to Longs.&lt;/p&gt;

&lt;p&gt;The Streaming API really only deals with Longs and Doubles.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yseeley%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;yseeley@gmail.com&quot;&gt;yseeley@gmail.com&lt;/a&gt;, let&apos;s create branch for this so we can collaborate. If you create a branch with this patch I&apos;ll fix up the FacetStream. Then you can take a final look and commit to master.&lt;/p&gt;

</comment>
                            <comment id="16048265" author="yseeley@gmail.com" created="Tue, 13 Jun 2017 19:05:46 +0000"  >&lt;blockquote&gt;&lt;p&gt;Basically Calcite is expecting a long in this scenario because we map all integer types to longs in the SolrSchema.java class.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Ah, that&apos;s where that mapping is!&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I think the best way to deal with this is to have the FacetStream convert all Integers buckets to Longs.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Here&apos;s a quick patch that seems to get things working:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;diff --git a/solr/solrj/src/java/org/apache/solr/client/solrj/io/stream/FacetStream.java b/solr/solrj/src/java/org/apache/solr/client/solrj/io/stream/FacetStream.java
index c5bd56bcb9..fb53e8464b 100644
--- a/solr/solrj/src/java/org/apache/solr/client/solrj/io/stream/FacetStream.java
+++ b/solr/solrj/src/java/org/apache/solr/client/solrj/io/stream/FacetStream.java
@@ -477,6 +477,9 @@ &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;FacetStream &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; TupleStream &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; Expressible  {
     &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;(&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; b=0; b&amp;lt;allBuckets.size(); b++) {
       NamedList bucket = (NamedList)allBuckets.get(b);
       &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; val = bucket.get(&lt;span class=&quot;code-quote&quot;&gt;&quot;val&quot;&lt;/span&gt;);
+      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (val &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;) {
+        val=((&lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;)val).longValue();  &lt;span class=&quot;code-comment&quot;&gt;// calcite currently expects &lt;span class=&quot;code-object&quot;&gt;Long&lt;/span&gt; values here
&lt;/span&gt;+      }
       Tuple t = currentTuple.clone();
       t.put(bucketName, val);
       &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; nextLevel = level+1;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16048434" author="jira-bot" created="Tue, 13 Jun 2017 21:31:38 +0000"  >&lt;p&gt;Commit a18a4ce2450b33b0f03dc9882557fa48040f54c8 in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yonik%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;yonik@apache.org&quot;&gt;yonik@apache.org&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=a18a4ce&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=a18a4ce&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7452&quot; title=&quot;json facet api returning inconsistent counts in cloud set up&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7452&quot;&gt;&lt;del&gt;SOLR-7452&lt;/del&gt;&lt;/a&gt;: convert bucket values in FacetStream from Integer to Long for calcite, make bucket labels in JSON Facet API consistent for facet refinement&lt;/p&gt;</comment>
                            <comment id="16048599" author="jira-bot" created="Wed, 14 Jun 2017 02:02:46 +0000"  >&lt;p&gt;Commit a18a4ce2450b33b0f03dc9882557fa48040f54c8 in lucene-solr&apos;s branch refs/heads/jira/&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10834&quot; title=&quot;test configs should be changed to stop using numeric based uniqueKey field&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10834&quot;&gt;&lt;del&gt;SOLR-10834&lt;/del&gt;&lt;/a&gt; from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yonik%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;yonik@apache.org&quot;&gt;yonik@apache.org&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=a18a4ce&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=a18a4ce&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7452&quot; title=&quot;json facet api returning inconsistent counts in cloud set up&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7452&quot;&gt;&lt;del&gt;SOLR-7452&lt;/del&gt;&lt;/a&gt;: convert bucket values in FacetStream from Integer to Long for calcite, make bucket labels in JSON Facet API consistent for facet refinement&lt;/p&gt;</comment>
                            <comment id="16050761" author="jira-bot" created="Thu, 15 Jun 2017 16:53:15 +0000"  >&lt;p&gt;Commit 3b5f3cc3edfaf22b41f3f969391b56be482fb7b4 in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yonik%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;yonik@apache.org&quot;&gt;yonik@apache.org&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=3b5f3cc&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=3b5f3cc&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7452&quot; title=&quot;json facet api returning inconsistent counts in cloud set up&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7452&quot;&gt;&lt;del&gt;SOLR-7452&lt;/del&gt;&lt;/a&gt;: add CHANGES for refinement, remove debugging output, don&apos;t indent &lt;em&gt;facet&lt;/em&gt; refinement info&lt;/p&gt;</comment>
                            <comment id="16050765" author="yseeley@gmail.com" created="Thu, 15 Jun 2017 16:55:51 +0000"  >&lt;p&gt;OK, I&apos;ve committed the last required bits, removed debugging code, and added a CHANGES entry.&lt;/p&gt;
</comment>
                            <comment id="16146356" author="chakrayel" created="Tue, 29 Aug 2017 23:48:06 +0000"  >&lt;p&gt;Thank you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yseeley%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;yseeley@gmail.com&quot;&gt;yseeley@gmail.com&lt;/a&gt;. Does this fix mean high cardinal field values that &lt;a href=&quot;http://yonik.com/solr-count-distinct/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;exceed 100 per node/shard&lt;/a&gt; will return correct count? &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13089533">SOLR-11138</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13090536">SOLR-11159</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12945847">SOLR-8768</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12872114" name="SOLR-7452.patch" size="8199" author="yseeley@gmail.com" created="Thu, 8 Jun 2017 18:19:46 +0000"/>
                            <attachment id="12859224" name="SOLR-7452.patch" size="26122" author="yseeley@gmail.com" created="Fri, 17 Mar 2017 03:10:16 +0000"/>
                            <attachment id="12818460" name="SOLR-7452.patch" size="65769" author="yseeley@gmail.com" created="Sun, 17 Jul 2016 15:41:52 +0000"/>
                    </attachments>
                <subtasks>
                            <subtask id="12999260">SOLR-9432</subtask>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10430"><![CDATA[Patch]]></customfieldvalue>
    <customfieldvalue key="10431"><![CDATA[Important]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 12 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2dnif:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>