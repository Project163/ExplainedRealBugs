<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:47:37 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-15383] Solr Zookeeper status page shows green even for down Zookeepers</title>
                <link>https://issues.apache.org/jira/browse/SOLR-15383</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;If a Zookeeper node is in bad shape, it may actually return &quot;imok&quot; for the &quot;ruok&quot; 4lw request, but for the &quot;mntr&quot; and &quot;conf&quot; return &quot;This ZooKeeper instance is not currently serving requests&quot;.&lt;/p&gt;

&lt;p&gt;Since the current logic counts up number of &quot;OK&quot; nodes to determine &quot;green&quot;, &quot;yellow&quot;, &quot;red&quot; state, we then serve &quot;green&quot;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13375825">SOLR-15383</key>
            <summary>Solr Zookeeper status page shows green even for down Zookeepers</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="janhoy">Jan H&#248;ydahl</assignee>
                                    <reporter username="janhoy">Jan H&#248;ydahl</reporter>
                        <labels>
                    </labels>
                <created>Thu, 29 Apr 2021 11:51:45 +0000</created>
                <updated>Wed, 23 Jun 2021 13:49:24 +0000</updated>
                            <resolved>Thu, 29 Apr 2021 21:47:39 +0000</resolved>
                                                    <fixVersion>8.9</fixVersion>
                                    <component>Admin UI</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="2400">40m</timespent>
                                <comments>
                            <comment id="17335616" author="gus_heck" created="Thu, 29 Apr 2021 16:03:34 +0000"  >&lt;p&gt;Sounds like a bug in zookeeper?&lt;/p&gt;</comment>
                            <comment id="17335835" author="janhoy" created="Thu, 29 Apr 2021 21:37:47 +0000"  >&lt;p&gt;Yes, it feels strange to say you&apos;re OK when you have not even synced up with the leader. But reading &lt;a href=&quot;https://zookeeper.apache.org/doc/r3.4.6/zookeeperAdmin.html#sc_zkCommands&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://zookeeper.apache.org/doc/r3.4.6/zookeeperAdmin.html#sc_zkCommands&lt;/a&gt;&#160;it says&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Tests if server is running in a non-error state. The server will respond with imok if it is running. Otherwise it will not respond at all.&lt;/p&gt;

&lt;p&gt;A response of &quot;imok&quot; does not necessarily indicate that the server has joined the quorum, just that the server process is active and bound to the specified client port. Use &quot;stat&quot; for details on state wrt quorum and client connection information.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;In Solr I have assumed that &quot;imok&quot; was a kind of an aggregated check of whether everything is up and ok. But that does not hold. The patch will make sure we use &quot;false&quot; for our internal &quot;ok&quot; variable even if &quot;ruok&quot; returns &quot;imok&quot;, so we should be good.&lt;/p&gt;</comment>
                            <comment id="17335838" author="jira-bot" created="Thu, 29 Apr 2021 21:46:01 +0000"  >&lt;p&gt;Commit 7c4567c8c4917815ec0704efad972b4adf02e1c1 in solr&apos;s branch refs/heads/main from Jan H&#248;ydahl&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=7c4567c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=7c4567c&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-15383&quot; title=&quot;Solr Zookeeper status page shows green even for down Zookeepers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-15383&quot;&gt;&lt;del&gt;SOLR-15383&lt;/del&gt;&lt;/a&gt; Solr Zookeeper status page shows green even for down Zookeepers (#103)&lt;/p&gt;
</comment>
                            <comment id="17335839" author="jira-bot" created="Thu, 29 Apr 2021 21:47:28 +0000"  >&lt;p&gt;Commit 486597df8adeb2633616cd602adf61b2af44ab8b in lucene-solr&apos;s branch refs/heads/branch_8x from Jan H&#248;ydahl&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=486597d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=486597d&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-15383&quot; title=&quot;Solr Zookeeper status page shows green even for down Zookeepers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-15383&quot;&gt;&lt;del&gt;SOLR-15383&lt;/del&gt;&lt;/a&gt; Solr Zookeeper status page shows green even for down Zookeepers (#2487)&lt;/p&gt;
</comment>
                            <comment id="17368191" author="mayya" created="Wed, 23 Jun 2021 13:42:46 +0000"  >&lt;p&gt;Closing after the 8.9.0 release&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 20 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0ql14:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>