<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:40:26 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-13786] prometheus: SolrExporterIntegrationTest various jenkins failures</title>
                <link>https://issues.apache.org/jira/browse/SOLR-13786</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;We&apos;re seeing at least 2 distinct types of metrics related jenkins failures for SolrExporterIntegrationTest on various branches/platforms.&lt;/p&gt;

&lt;p&gt;We need to disable this test until these can be addressed.&lt;/p&gt;

&lt;p&gt;Examples of types of failures we&apos;re seeing...&lt;/p&gt;

&lt;p&gt;the &lt;tt&gt;promtheusExporterPort&lt;/tt&gt; URL not being online when &lt;tt&gt;getAllMetrics()&lt;/tt&gt; tries to hit it...&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;   [junit4]    &amp;gt; Throwable #1: java.lang.AssertionError: expected:&amp;lt;200&amp;gt; but was:&amp;lt;404&amp;gt;
   [junit4]    &amp;gt;        at __randomizedtesting.SeedInfo.seed([2DCFCDD442F39606:1E9A3A5A14281038]:0)
   [junit4]    &amp;gt;        at org.apache.solr.prometheus.exporter.SolrExporterTestBase.getAllMetrics(SolrExporterTestBase.java:98)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Test code not being able to handle metrics names/values containing whitespace (seems to happen a lot of jdk14 test builds)...&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;   [junit4]    &amp;gt; Throwable #1: java.lang.AssertionError: Metric must have name and value expected:&amp;lt;2&amp;gt; but was:&amp;lt;5&amp;gt;
   [junit4]    &amp;gt;        at __randomizedtesting.SeedInfo.seed([3CF156E793B6F198:EF456B0886583D0C]:0)
   [junit4]    &amp;gt;        at org.apache.solr.prometheus.exporter.SolrExporterTestBase.getAllMetrics(SolrExporterTestBase.java:110)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13258362">SOLR-13786</key>
            <summary>prometheus: SolrExporterIntegrationTest various jenkins failures</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="hossman">Chris M. Hostetter</reporter>
                        <labels>
                    </labels>
                <created>Mon, 23 Sep 2019 17:19:23 +0000</created>
                <updated>Thu, 20 Jan 2022 13:33:19 +0000</updated>
                            <resolved>Thu, 20 Jan 2022 13:33:19 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="16936059" author="jira-bot" created="Mon, 23 Sep 2019 17:33:17 +0000"  >&lt;p&gt;Commit 4ec4061cbcd426774b84184c074c24ecf3a1e81b in lucene-solr&apos;s branch refs/heads/master from Chris M. Hostetter&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=4ec4061&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=4ec4061&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13786&quot; title=&quot;prometheus: SolrExporterIntegrationTest various jenkins failures&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13786&quot;&gt;&lt;del&gt;SOLR-13786&lt;/del&gt;&lt;/a&gt;: AwaitsFix SolrExporterIntegrationTest&lt;/p&gt;</comment>
                            <comment id="16936061" author="jira-bot" created="Mon, 23 Sep 2019 17:33:35 +0000"  >&lt;p&gt;Commit 8e2a050800fe0ad456dbb81c7b84f0fc084aa37d in lucene-solr&apos;s branch refs/heads/branch_8x from Chris M. Hostetter&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=8e2a050&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=8e2a050&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13786&quot; title=&quot;prometheus: SolrExporterIntegrationTest various jenkins failures&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13786&quot;&gt;&lt;del&gt;SOLR-13786&lt;/del&gt;&lt;/a&gt;: AwaitsFix SolrExporterIntegrationTest&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 4ec4061cbcd426774b84184c074c24ecf3a1e81b)&lt;/p&gt;</comment>
                            <comment id="16936082" author="hossman" created="Mon, 23 Sep 2019 18:09:30 +0000"  >&lt;p&gt;FWIW,  Here&apos;s what the assert tweak to getAllMetrics showed when running on jdk14 before i added &amp;amp; committed the AwaitsFix change...&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;   [junit4]    &amp;gt; Throwable #1: java.lang.AssertionError: Metric must have name and value: solr_metrics_jvm_buffers{pool=&quot;mapped - &apos;non-volatile memory&apos;&quot;,base_url=&quot;https://127.0.0.1:34193/solr&quot;,} 0.0 expected:&amp;lt;2&amp;gt; but was:&amp;lt;5&amp;gt;
   [junit4]    &amp;gt; 	at __randomizedtesting.SeedInfo.seed([4B01E9418190473F:F004920D1F0D72CC]:0)
   [junit4]    &amp;gt; 	at org.apache.solr.prometheus.exporter.SolrExporterTestBase.getAllMetrics(SolrExporterTestBase.java:110)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13422575">SOLR-15922</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 8 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z06xi8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>