<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:28:16 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-3309] Slow WAR startups due to annotation scaning (affects Jetty 8)</title>
                <link>https://issues.apache.org/jira/browse/SOLR-3309</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;Need to modify web.xml to increase the speed of container startup time. The header also appears to need to be modified...&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://mostlywheat.wordpress.com/2012/03/10/speeding-up-slow-jetty-8-startups/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://mostlywheat.wordpress.com/2012/03/10/speeding-up-slow-jetty-8-startups/&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;http://www.javabeat.net/articles/print.php?article_id=100&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.javabeat.net/articles/print.php?article_id=100&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Adding &apos;metadata-complete=&quot;true&quot;&apos; to our web.xml&apos;s web-app restored our startup time to 8 seconds.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12549274">SOLR-3309</key>
            <summary>Slow WAR startups due to annotation scaning (affects Jetty 8)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jdyer">James Dyer</assignee>
                                    <reporter username="billnbell">Bill Bell</reporter>
                        <labels>
                    </labels>
                <created>Tue, 3 Apr 2012 04:30:56 +0000</created>
                <updated>Fri, 10 May 2013 10:40:51 +0000</updated>
                            <resolved>Wed, 23 May 2012 15:30:51 +0000</resolved>
                                                    <fixVersion>4.0-ALPHA</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13246975" author="hossman" created="Thu, 5 Apr 2012 03:10:16 +0000"  >&lt;p&gt;adding this to the web.xml means requiring a servlet container that supports servlets 2.5 (unless the container just ignores attributes it doesn&apos;t understand)&lt;/p&gt;

&lt;p&gt;but that seems fine for trunk - 2.5 came out in 2005, and we already compile and test against 3.0&lt;/p&gt;


&lt;p&gt;(updated summary &amp;amp; description to note this isn&apos;t jetty specific)&lt;/p&gt;</comment>
                            <comment id="13263809" author="yseeley@gmail.com" created="Fri, 27 Apr 2012 17:16:18 +0000"  >&lt;p&gt;Can someone provide a specific patch for this one?  Seems like we want this for 4.0&lt;/p&gt;</comment>
                            <comment id="13263822" author="hossman" created="Fri, 27 Apr 2012 17:32:36 +0000"  >&lt;p&gt;web.xml patch.&lt;/p&gt;

&lt;p&gt;doing some testing now&lt;/p&gt;</comment>
                            <comment id="13263862" author="hossman" created="Fri, 27 Apr 2012 18:14:14 +0000"  >&lt;p&gt;Committed revision 1331529.&lt;/p&gt;

&lt;p&gt;verified no problems with our jetty8 example or when running in tomcat7&lt;/p&gt;</comment>
                            <comment id="13280478" author="jdyer" created="Mon, 21 May 2012 20:55:44 +0000"  >&lt;p&gt;Jboss 5.1.0 won&apos;t start with the new &amp;lt;web-app /&amp;gt; declaration.  This works, however:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;web-app xmlns=&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//java.sun.com/xml/ns/javaee&quot;&lt;/span&gt;
&lt;/span&gt;         xmlns:xsi=&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//www.w3.org/2001/XMLSchema-instance&quot;&lt;/span&gt;
&lt;/span&gt;         xsi:schemaLocation=&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;&lt;/span&gt;
&lt;/span&gt;         version=&lt;span class=&quot;code-quote&quot;&gt;&quot;2.5&quot;&lt;/span&gt;
         metadata-complete=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt;
&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;(changing &quot;j2ee&quot; to &quot;javaee&quot;).  I do not know, however, if this is a problem with Jboss or if what we have in Trunk currently is incorrect ?&lt;/p&gt;</comment>
                            <comment id="13280530" author="hossman" created="Mon, 21 May 2012 21:45:04 +0000"  >&lt;p&gt;James: Unless I&apos;m missing something, the specifics of whether it&apos;s &quot;j2ee&quot; or &quot;javaee&quot; shouldn&apos;t matter to XML parser (or the servlet container).  All that should matter is that each of the schemaLocation keys listed correspond to an xml namespace being used. (ie: you changed &lt;a href=&quot;http://java.sun.com/xml/ns/j2ee&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://java.sun.com/xml/ns/j2ee&lt;/a&gt; -&amp;gt; &lt;a href=&quot;http://java.sun.com/xml/ns/javaee&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://java.sun.com/xml/ns/javaee&lt;/a&gt; in two places, but as long as those two places are the same it shouldn&apos;t matter what we use ... i think it could be &quot;http://giberish-foo/uwesays&quot; and it should still work).  &lt;/p&gt;

&lt;p&gt;So it seems like maybe your jboss configuration has something wonky going on?&lt;/p&gt;

&lt;p&gt;I&apos;m inclined to think we should be consistent with the examples in the 2.5 spec...&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://download.oracle.com/otn-pub/jcp/servlet-2.5-mrel2-eval-oth-JSpec/servlet-2_5-mrel2-spec.pdf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://download.oracle.com/otn-pub/jcp/servlet-2.5-mrel2-eval-oth-JSpec/servlet-2_5-mrel2-spec.pdf&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;...(see pages 153 &amp;amp; 154) which use j2ee &amp;#8211; but oddly enough the example snippets embedded in the 2.5 XSD (using xsd:documentation tags) use &quot;javaee&quot;...&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;...so apparently the spec and the xsd shipped with the spec are inconsistent?  which i guess means feel free to change it to follow the examples in the XSD?&lt;/p&gt;
</comment>
                            <comment id="13280561" author="jdyer" created="Mon, 21 May 2012 22:26:16 +0000"  >&lt;blockquote&gt;
&lt;p&gt;...so apparently the spec and the xsd shipped with the spec are inconsistent? which i guess means feel free to change it to follow the examples in the XSD?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;If I validate the change with Jetty8 &amp;amp; Tomcat7 (so as not to break the 2 you validated before) would you be comfortable with it being changed to &quot;javaee&quot;?&lt;/p&gt;</comment>
                            <comment id="13280572" author="hossman" created="Mon, 21 May 2012 22:42:07 +0000"  >&lt;p&gt;i just used what was in the examples from the spec, and as far as i know it shouldn&apos;t matter what we use ... if you&apos;re comfortable changing it, then feel free to change it.&lt;/p&gt;</comment>
                            <comment id="13281236" author="jdyer" created="Tue, 22 May 2012 21:46:35 +0000"  >&lt;p&gt;re-opening to change the &amp;lt;web-app /&amp;gt; tag as discussed.&lt;/p&gt;
</comment>
                            <comment id="13281238" author="jdyer" created="Tue, 22 May 2012 21:47:45 +0000"  >&lt;p&gt;The original commit for this issue followed a misprint in the 2.5 servlet spec on the examples, pages 153-4 (&lt;a href=&quot;http://download.oracle.com/otn-pub/jcp/servlet-2.5-mrel2-eval-oth-JSpec/servlet-2_5-mrel2-spec.pdf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://download.oracle.com/otn-pub/jcp/servlet-2.5-mrel2-eval-oth-JSpec/servlet-2_5-mrel2-spec.pdf&lt;/a&gt;).  While this works on Tomcat7 &amp;amp; Jetty8, it does not work with Jboss5 (which apparently is doing strict verification).  This patch follows the information on page 109ff of the same specification and also the xsd file at &lt;a href=&quot;http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&lt;/a&gt;  (note:  There is no xsd file available at &lt;a href=&quot;http://java.sun.com/xml/ns/j2ee/web-app_2_5.xsd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://java.sun.com/xml/ns/j2ee/web-app_2_5.xsd&lt;/a&gt;).  I have tested this with JBoss5, Tomcat7 &amp;amp; the Jetty8-based solr example.&lt;/p&gt;

&lt;p&gt;I will commit shortly unless anyone disagrees.&lt;/p&gt;</comment>
                            <comment id="13281667" author="jdyer" created="Wed, 23 May 2012 15:30:51 +0000"  >&lt;p&gt;Committed the &quot;javaee&quot; change, Trunk r1341897.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12528657" name="SOLR-3309.patch" size="1005" author="jdyer" created="Tue, 22 May 2012 21:47:45 +0000"/>
                            <attachment id="12524895" name="SOLR-3309.patch" size="1172" author="hossman" created="Fri, 27 Apr 2012 17:32:36 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>234265</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 26 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i03ffr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>17934</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>