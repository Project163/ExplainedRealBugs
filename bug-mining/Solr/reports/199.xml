<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:07:36 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-742] Unable to create dynamic fields with custom DataImportHandler transformer</title>
                <link>https://issues.apache.org/jira/browse/SOLR-742</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;Discussion at: &lt;a href=&quot;http://www.nabble.com/Creating-dynamic-fields-with-DataImportHandler-to19226532.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.nabble.com/Creating-dynamic-fields-with-DataImportHandler-to19226532.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Dynamic fields aren&apos;t created when specified in a DataImportHandler&apos;s transformer. &lt;/p&gt;

&lt;p&gt;Reproducing the issue:&lt;br/&gt;
I have defined a dynamic field (of type sdouble) in my schema called &quot;_dynamic*&quot;. Inside the transformer&apos;s transformRow method, I am adding the name-value pair &quot;_dynamicTest&quot; and &apos;1.0&apos;. No errors are observed, but the data does not appear in the index after importing is complete.&lt;/p&gt;

&lt;p&gt;Interestingly, I can specify that same name-value pair combination in the DataImportHandler&apos;s config file, and it does appear in the index.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12403397">SOLR-742</key>
            <summary>Unable to create dynamic fields with custom DataImportHandler transformer</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="shalin">Shalin Shekhar Mangar</assignee>
                                    <reporter username="wojtekpia">Wojtek Piaseczny</reporter>
                        <labels>
                    </labels>
                <created>Fri, 29 Aug 2008 21:43:01 +0000</created>
                <updated>Tue, 10 Nov 2009 15:51:46 +0000</updated>
                            <resolved>Wed, 29 Oct 2008 18:06:00 +0000</resolved>
                                    <version>1.3</version>
                                    <fixVersion>1.4</fixVersion>
                                    <component>contrib - DataImportHandler</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12627394" author="noble.paul" created="Mon, 1 Sep 2008 05:58:12 +0000"  >&lt;p&gt;dynamic fields are added if they are present in the doc&lt;/p&gt;</comment>
                            <comment id="12627397" author="noble.paul" created="Mon, 1 Sep 2008 06:03:15 +0000"  >&lt;p&gt;the old patch was wrong&lt;/p&gt;</comment>
                            <comment id="12628138" author="wojtekpia" created="Wed, 3 Sep 2008 21:12:39 +0000"  >&lt;p&gt;That fixed my issue, thank you!&lt;/p&gt;</comment>
                            <comment id="12630274" author="shalinmangar" created="Thu, 11 Sep 2008 17:51:32 +0000"  >&lt;p&gt;The current DataImportHandler code does not handle dynamic fields. This patch solves the core problem partially by allowing Transformers to add a dynamic field/value pair to the document. Ideally, we&apos;d like to support variables in the &apos;name&apos; attribute as well.&lt;/p&gt;

&lt;p&gt;Once 1.3 is release, we should look at adding complete support for dynamic fields.&lt;/p&gt;</comment>
                            <comment id="12643470" author="shalinmangar" created="Wed, 29 Oct 2008 11:28:16 +0000"  >&lt;p&gt;The last patch had a bug with handling nested entities.&lt;/p&gt;

&lt;p&gt;This patch simplifies the logic by iterating over the map instead of the Fields defined in data config. Also, the overhead of creating a lowercase-key map per row is removed.&lt;/p&gt;</comment>
                            <comment id="12643557" author="shalinmangar" created="Wed, 29 Oct 2008 17:56:38 +0000"  >&lt;ol&gt;
	&lt;li&gt;Fixes a NPE when the rootEntity is null&lt;/li&gt;
	&lt;li&gt;Added a test in TestDocBuilder2&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;I&apos;ll commit this shortly.&lt;/p&gt;</comment>
                            <comment id="12643565" author="shalinmangar" created="Wed, 29 Oct 2008 18:06:00 +0000"  >&lt;p&gt;Committed revision 708967.&lt;/p&gt;

&lt;p&gt;Thanks Wojtek and Noble!&lt;/p&gt;</comment>
                            <comment id="12643740" author="noble.paul" created="Thu, 30 Oct 2008 04:32:04 +0000"  >&lt;p&gt;simplified fix&lt;/p&gt;</comment>
                            <comment id="12643746" author="shalinmangar" created="Thu, 30 Oct 2008 05:19:00 +0000"  >&lt;p&gt;We also need to keep a lowercase map of schema fields. The only caveat is that dynamic fields which are added by the transformers must be in the correct case as defined in schema.xml&lt;/p&gt;</comment>
                            <comment id="12643747" author="shalinmangar" created="Thu, 30 Oct 2008 05:21:39 +0000"  >&lt;p&gt;Committed revision 709088.&lt;/p&gt;</comment>
                            <comment id="12775525" author="gsingers" created="Tue, 10 Nov 2009 15:51:46 +0000"  >&lt;p&gt;Bulk close for Solr 1.4&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12393030" name="SOLR-742.patch" size="8615" author="shalin" created="Thu, 30 Oct 2008 05:19:00 +0000"/>
                            <attachment id="12393028" name="SOLR-742.patch" size="5635" author="noble.paul" created="Thu, 30 Oct 2008 04:32:04 +0000"/>
                            <attachment id="12392999" name="SOLR-742.patch" size="10571" author="shalin" created="Wed, 29 Oct 2008 17:56:37 +0000"/>
                            <attachment id="12392981" name="SOLR-742.patch" size="8531" author="shalin" created="Wed, 29 Oct 2008 11:28:16 +0000"/>
                            <attachment id="12389270" name="SOLR-742.patch" size="3347" author="noble.paul" created="Mon, 1 Sep 2008 06:03:14 +0000"/>
                            <attachment id="12389269" name="SOLR-742.patch" size="2921" author="noble.paul" created="Mon, 1 Sep 2008 05:58:12 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6876</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 3 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i03uyn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>20449</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>