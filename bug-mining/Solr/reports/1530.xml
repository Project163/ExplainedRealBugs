<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:39:11 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-5222] Sorting on dynamic fields using DocValues sorts empty values always first</title>
                <link>https://issues.apache.org/jira/browse/SOLR-5222</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;When using DocValues for sort fields, &quot;sortMissingLast=true&quot; seems not to work - which makes sense as DocValues require a value for every document. The workaround is to use a default value which is alphanumericly sorted last. But when specifying the sort field as a dynamic field, the default value is not applied when a document does not contain that field.&lt;br/&gt;
To make it work, I had to define every single sort field explicitly.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12667525">SOLR-5222</key>
            <summary>Sorting on dynamic fields using DocValues sorts empty values always first</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hossman">Chris M. Hostetter</assignee>
                                    <reporter username="pchollet">Pascal Chollet</reporter>
                        <labels>
                    </labels>
                <created>Mon, 9 Sep 2013 07:36:22 +0000</created>
                <updated>Mon, 9 May 2016 18:53:52 +0000</updated>
                            <resolved>Mon, 9 Sep 2013 22:34:14 +0000</resolved>
                                                    <fixVersion>4.5</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13762186" author="hossman" created="Mon, 9 Sep 2013 19:33:16 +0000"  >&lt;p&gt;In the past docValues &lt;b&gt;required&lt;/b&gt; having a default Value in order to work, so i&apos;m actaully suprised that you were even allowed to configure a dynamicField using docValues &amp;#8211; that probably should have just given you a hard error on startup.&lt;/p&gt;

&lt;p&gt;fortumately this limitation (requiring a default value) has already been removed so in Solr 4.5 it will no longer be required, and sortMissing will work on dynamic fields with docValues (see &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5165&quot; title=&quot;Remove required default from DocValues fields&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5165&quot;&gt;&lt;del&gt;SOLR-5165&lt;/del&gt;&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;I&apos;ve got a patch to DocValuesMissingTest in progress to prove this - i&apos;ll finish it up and commit after i get back from lunch.&lt;/p&gt;</comment>
                            <comment id="13762205" author="rcmuir" created="Mon, 9 Sep 2013 19:52:27 +0000"  >&lt;p&gt;Seems like the real bug is unrelated to docvalues: if you try to supply a default value for a dynamic field you should get an exception.&lt;/p&gt;</comment>
                            <comment id="13762395" author="jira-bot" created="Mon, 9 Sep 2013 22:29:43 +0000"  >&lt;p&gt;Commit 1521304 from hossman@apache.org in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1521304&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1521304&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5222&quot; title=&quot;Sorting on dynamic fields using DocValues sorts empty values always first&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5222&quot;&gt;&lt;del&gt;SOLR-5222&lt;/del&gt;&lt;/a&gt;: test proving that dynamicField&apos;s using docValues work as expected with missing values&lt;/p&gt;</comment>
                            <comment id="13762400" author="jira-bot" created="Mon, 9 Sep 2013 22:33:26 +0000"  >&lt;p&gt;Commit 1521307 from hossman@apache.org in branch &apos;dev/branches/branch_4x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1521307&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1521307&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5222&quot; title=&quot;Sorting on dynamic fields using DocValues sorts empty values always first&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5222&quot;&gt;&lt;del&gt;SOLR-5222&lt;/del&gt;&lt;/a&gt;: test proving that dynamicField&apos;s using docValues work as expected with missing values (merge r1521304)&lt;/p&gt;</comment>
                            <comment id="13762401" author="hossman" created="Mon, 9 Sep 2013 22:34:15 +0000"  >&lt;p&gt;I&apos;ve committed my test refactoring/additions for DocValuesMissingTest to also cover the dynamic field variations...&lt;/p&gt;

&lt;p&gt;Committed revision 1521304.&lt;br/&gt;
Committed revision 1521307.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Seems like the real bug is unrelated to docvalues&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Agreed &amp;#8211; my point was just that up to Solr 4.4, it should have been impossible to configure dynamicFields with docValues, because of the mutually exclusive requirements.  I&apos;ve opened &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5227&quot; title=&quot;attempting to configured a dynamicField as required, or using a default value, should fail.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5227&quot;&gt;&lt;del&gt;SOLR-5227&lt;/del&gt;&lt;/a&gt; to fix the dynamicField+defaultValue error checking problem.&lt;/p&gt;
</comment>
                            <comment id="13787082" author="jpountz" created="Sat, 5 Oct 2013 10:19:07 +0000"  >&lt;p&gt;4.5 release -&amp;gt; bulk close&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                                                <inwardlinks description="is part of">
                                        <issuelink>
            <issuekey id="12663969">SOLR-5165</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12667684">SOLR-5227</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>347462</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 7 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1nwy7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>347761</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>