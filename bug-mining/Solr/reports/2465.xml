<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:05:15 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-7503] Recovery after ZK session expiration happens in a single thread for all cores in a node</title>
                <link>https://issues.apache.org/jira/browse/SOLR-7503</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;Currently cores are registered in parallel in an executor. However, when there&apos;s a ZK expiration, the recovery, which also happens in the register call, happens in a single thread:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/lucene-solr/blob/trunk/solr/core/src/java/org/apache/solr/cloud/ZkController.java#L300&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/lucene-solr/blob/trunk/solr/core/src/java/org/apache/solr/cloud/ZkController.java#L300&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;We should make these happen in parallel as well so that recovery after ZK expiration doesn&apos;t take forever.&lt;/p&gt;

&lt;p&gt;Thanks to &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mewmewball&quot; class=&quot;user-hover&quot; rel=&quot;mewmewball&quot;&gt;mewmewball&lt;/a&gt; for catching this.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12827298">SOLR-7503</key>
            <summary>Recovery after ZK session expiration happens in a single thread for all cores in a node</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="thelabdude">Timothy Potter</assignee>
                                    <reporter username="shalin">Shalin Shekhar Mangar</reporter>
                        <labels>
                            <label>impact-high</label>
                    </labels>
                <created>Tue, 5 May 2015 14:45:25 +0000</created>
                <updated>Mon, 9 May 2016 18:53:57 +0000</updated>
                            <resolved>Thu, 28 May 2015 16:40:49 +0000</resolved>
                                    <version>5.1</version>
                                    <fixVersion>5.2</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                    <component>SolrCloud</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>8</watches>
                                                                                                                <comments>
                            <comment id="14540928" author="thelabdude" created="Tue, 12 May 2015 22:44:56 +0000"  >&lt;p&gt;Cooking up a patch now.&lt;/p&gt;</comment>
                            <comment id="14542169" author="thelabdude" created="Wed, 13 May 2015 16:07:18 +0000"  >&lt;p&gt;Simple patch that registers cores in the background after ZK session expiration. I had to add some getter methods for the ExecutionService in the ZkContainer so that it is available to the ZkController when needed (iff cc is not null). I didn&apos;t want to use a new ExecutionService since the one setup by ZkContainer seemed most appropriate for this work, but you can&apos;t expose ZkContainer directly in ZkController because it&apos;s only a server-side thing.&lt;/p&gt;</comment>
                            <comment id="14543261" author="shalinmangar" created="Thu, 14 May 2015 06:14:37 +0000"  >&lt;p&gt;+1 LGTM&lt;/p&gt;</comment>
                            <comment id="14545563" author="markrmiller@gmail.com" created="Fri, 15 May 2015 14:28:53 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14545809" author="jira-bot" created="Fri, 15 May 2015 17:17:48 +0000"  >&lt;p&gt;Commit 1679607 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thelabdude&quot; class=&quot;user-hover&quot; rel=&quot;thelabdude&quot;&gt;thelabdude&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1679607&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1679607&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7503&quot; title=&quot;Recovery after ZK session expiration happens in a single thread for all cores in a node&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7503&quot;&gt;&lt;del&gt;SOLR-7503&lt;/del&gt;&lt;/a&gt;: Recovery after ZK session expiration should happen in parallel for all cores using the thread-pool managed by ZkContainer instead of a single thread.&lt;/p&gt;</comment>
                            <comment id="14545853" author="jira-bot" created="Fri, 15 May 2015 17:41:25 +0000"  >&lt;p&gt;Commit 1679609 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thelabdude&quot; class=&quot;user-hover&quot; rel=&quot;thelabdude&quot;&gt;thelabdude&lt;/a&gt; in branch &apos;dev/branches/branch_5x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1679609&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1679609&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7503&quot; title=&quot;Recovery after ZK session expiration happens in a single thread for all cores in a node&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7503&quot;&gt;&lt;del&gt;SOLR-7503&lt;/del&gt;&lt;/a&gt;: Recovery after ZK session expiration should happen in parallel for all cores using the thread-pool managed by ZkContainer instead of a single thread.&lt;/p&gt;</comment>
                            <comment id="14548011" author="shalinmangar" created="Mon, 18 May 2015 13:37:14 +0000"  >&lt;p&gt;This should go under the &quot;Bug fixes&quot; section of the CHANGES.txt instead of &quot;Other changes&quot;&lt;/p&gt;</comment>
                            <comment id="14549262" author="jira-bot" created="Mon, 18 May 2015 21:27:30 +0000"  >&lt;p&gt;Commit 1680106 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thelabdude&quot; class=&quot;user-hover&quot; rel=&quot;thelabdude&quot;&gt;thelabdude&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1680106&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1680106&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7503&quot; title=&quot;Recovery after ZK session expiration happens in a single thread for all cores in a node&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7503&quot;&gt;&lt;del&gt;SOLR-7503&lt;/del&gt;&lt;/a&gt;: move changes text to bug fixes section was in other changes&lt;/p&gt;</comment>
                            <comment id="14549263" author="jira-bot" created="Mon, 18 May 2015 21:28:10 +0000"  >&lt;p&gt;Commit 1680107 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thelabdude&quot; class=&quot;user-hover&quot; rel=&quot;thelabdude&quot;&gt;thelabdude&lt;/a&gt; in branch &apos;dev/branches/branch_5x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1680107&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1680107&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7503&quot; title=&quot;Recovery after ZK session expiration happens in a single thread for all cores in a node&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7503&quot;&gt;&lt;del&gt;SOLR-7503&lt;/del&gt;&lt;/a&gt;: move changes text to bug fixes section was in other changes&lt;/p&gt;</comment>
                            <comment id="14586878" author="anshumg" created="Mon, 15 Jun 2015 21:43:50 +0000"  >&lt;p&gt;Bulk close for 5.2.0.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12732598" name="SOLR-7503.patch" size="4309" author="thelabdude" created="Wed, 13 May 2015 16:07:18 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 23 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2eayv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>