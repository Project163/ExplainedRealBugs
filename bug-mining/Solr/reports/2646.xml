<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:07:53 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-8095] Allow disabling HDFS Locality Metrics</title>
                <link>https://issues.apache.org/jira/browse/SOLR-8095</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;We added metrics, but not a way to configure/turn them off.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12896243">SOLR-8095</key>
            <summary>Allow disabling HDFS Locality Metrics</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="markrmiller@gmail.com">Mark Miller</assignee>
                                    <reporter username="mdrob">Mike Drob</reporter>
                        <labels>
                            <label>metrics</label>
                    </labels>
                <created>Thu, 24 Sep 2015 21:39:37 +0000</created>
                <updated>Mon, 9 May 2016 18:50:50 +0000</updated>
                            <resolved>Sat, 3 Oct 2015 14:01:28 +0000</resolved>
                                                    <fixVersion>5.4</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                    <component>hdfs</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="14907172" author="markrmiller@gmail.com" created="Thu, 24 Sep 2015 22:38:12 +0000"  >&lt;p&gt;Is this changing the default from on to off?&lt;/p&gt;</comment>
                            <comment id="14907211" author="mdrob" created="Thu, 24 Sep 2015 23:06:55 +0000"  >&lt;p&gt;Yea, it seems like some folks were surprised that the feature was defaulted on to begin with, so this is correcting what was probably a mistake initially.&lt;/p&gt;</comment>
                            <comment id="14907242" author="markrmiller@gmail.com" created="Thu, 24 Sep 2015 23:23:57 +0000"  >&lt;p&gt;Normally I&apos;d worry about back compat, but probably okay in this case?&lt;/p&gt;</comment>
                            <comment id="14907270" author="eribeiro" created="Thu, 24 Sep 2015 23:50:06 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mdrob&quot; class=&quot;user-hover&quot; rel=&quot;mdrob&quot;&gt;mdrob&lt;/a&gt; Don&apos;t want to preach to the choir, but what about changing the constant name to &lt;tt&gt;LOCALITY_METRICS_ENABLED&lt;/tt&gt;? Easy to read in imho.&lt;/p&gt;</comment>
                            <comment id="14907335" author="otis" created="Fri, 25 Sep 2015 01:15:11 +0000"  >&lt;p&gt;But why does having these metrics bother anyone?  Never heard of turning metrics on/off.  If it&apos;s just sitting there in JMX, it shouldn&apos;t bother any one, unless they are very expensive to compute or....?&lt;/p&gt;</comment>
                            <comment id="14907389" author="mdrob" created="Fri, 25 Sep 2015 02:04:25 +0000"  >&lt;p&gt;If you have a rapidly changing index then it can take a long time to generate the metrics, since we lose out on the benefits of caching the info then. It&apos;s also relatively slow when starting up with a large existing index.&lt;/p&gt;

&lt;p&gt;The combination of these two indicates that this should be optional until we have a better understanding of what&apos;s happening, and why it&apos;s slow.&lt;/p&gt;</comment>
                            <comment id="14936856" author="markrmiller@gmail.com" created="Wed, 30 Sep 2015 13:52:32 +0000"  >&lt;p&gt;The problem is that getting metrics like this is per file and so very network chatty and slow. &lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;If you have a rapidly changing index then it can take a long time to generate the metrics, since we lose out on the benefits of caching the info then.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;For this type of data, I think we would prefer stale data to this limitation. Perhaps we should be doing time based caching instead. Fairly trappy to have this work okay on fairly static indexes and then cause a major performance issue as you move towards NRT settings.&lt;/p&gt;</comment>
                            <comment id="14940172" author="jira-bot" created="Thu, 1 Oct 2015 18:16:46 +0000"  >&lt;p&gt;Commit 1706302 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1706302&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1706302&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8095&quot; title=&quot;Allow disabling HDFS Locality Metrics&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-8095&quot;&gt;&lt;del&gt;SOLR-8095&lt;/del&gt;&lt;/a&gt;: Allow disabling HDFS Locality Metrics and disable by default as it may have performance implications on rapidly changing indexes.&lt;/p&gt;</comment>
                            <comment id="14940209" author="jira-bot" created="Thu, 1 Oct 2015 18:43:50 +0000"  >&lt;p&gt;Commit 1706307 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/branches/branch_5x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1706307&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1706307&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8095&quot; title=&quot;Allow disabling HDFS Locality Metrics&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-8095&quot;&gt;&lt;del&gt;SOLR-8095&lt;/del&gt;&lt;/a&gt;: Allow disabling HDFS Locality Metrics and disable by default as it may have performance implications on rapidly changing indexes.&lt;/p&gt;</comment>
                            <comment id="14942307" author="markrmiller@gmail.com" created="Sat, 3 Oct 2015 14:01:28 +0000"  >&lt;p&gt;Thanks Mike! We should probably open another issue and look at using a pure time based caching system. This data does not really need to be real time.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12762250" name="SOLR-8095.patch" size="2886" author="mdrob" created="Thu, 24 Sep 2015 21:43:21 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 7 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ljdb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>