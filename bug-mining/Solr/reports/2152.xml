<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:58:45 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-6584] Export handler causes bug in prefetch with very small indexes.</title>
                <link>https://issues.apache.org/jira/browse/SOLR-6584</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;When there are very few documents in the index the ExportQParserPlugin is creating a dummy docList which is larger then the number of documents in the index. This causes a bug during the prefetch stage of the QueryComponent.&lt;/p&gt;

&lt;p&gt;There really needs to be two fixes here.&lt;/p&gt;

&lt;p&gt;1) The dummy docList should never be larger then the number of documents in the index.&lt;/p&gt;

&lt;p&gt;2) Prefetch should be turned off during exports as it&apos;s not doing anything useful.&lt;/p&gt;


</description>
                <environment></environment>
        <key id="12745722">SOLR-6584</key>
            <summary>Export handler causes bug in prefetch with very small indexes.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="10003">Resolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jbernste">Joel Bernstein</reporter>
                        <labels>
                    </labels>
                <created>Fri, 3 Oct 2014 12:33:31 +0000</created>
                <updated>Tue, 8 Oct 2019 14:50:25 +0000</updated>
                            <resolved>Fri, 29 Apr 2016 18:51:35 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14158039" author="joel.bernstein" created="Fri, 3 Oct 2014 14:34:32 +0000"  >&lt;p&gt;Patch that ensures that the doclist will never be larger then the number of docs in the index.&lt;/p&gt;

&lt;p&gt;Actually turning off prefetch will involve adding new parameters to Solr. The dummy doclist will be cached in the document cache after the first run anyway so the pre-fetch will have very little impact on performance. So I think it can remain for now.&lt;/p&gt;</comment>
                            <comment id="14190349" author="jira-bot" created="Thu, 30 Oct 2014 16:44:15 +0000"  >&lt;p&gt;Commit 1635539 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jbernste&quot; class=&quot;user-hover&quot; rel=&quot;jbernste&quot;&gt;jbernste&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1635539&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1635539&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6584&quot; title=&quot;Export handler causes bug in prefetch with very small indexes.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6584&quot;&gt;&lt;del&gt;SOLR-6584&lt;/del&gt;&lt;/a&gt; Export handler causes bug in prefetch with very small indexes.&lt;/p&gt;</comment>
                            <comment id="14190620" author="jira-bot" created="Thu, 30 Oct 2014 19:02:50 +0000"  >&lt;p&gt;Commit 1635587 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jbernste&quot; class=&quot;user-hover&quot; rel=&quot;jbernste&quot;&gt;jbernste&lt;/a&gt; in branch &apos;dev/branches/branch_5x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1635587&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1635587&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6584&quot; title=&quot;Export handler causes bug in prefetch with very small indexes.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6584&quot;&gt;&lt;del&gt;SOLR-6584&lt;/del&gt;&lt;/a&gt; Export handler causes bug in prefetch with very small indexes.&lt;/p&gt;</comment>
                            <comment id="15264490" author="shalinmangar" created="Fri, 29 Apr 2016 18:29:52 +0000"  >&lt;p&gt;I think this can be closed?&lt;/p&gt;</comment>
                            <comment id="15264533" author="joel.bernstein" created="Fri, 29 Apr 2016 18:51:20 +0000"  >&lt;p&gt;Yes, I&apos;ll close it.&lt;/p&gt;</comment>
                            <comment id="15264559" author="joel.bernstein" created="Fri, 29 Apr 2016 19:08:07 +0000"  >&lt;p&gt;I was looking for which release this went in, but it wasn&apos;t added to the CHANGES.txt. I suspect this was an oversight at the time, along with not closing the ticket. This was a really small bug that only effected indexes that had fewer documents then the default rows param (10 I believe). But I&apos;ll see if I can track down what release it went in.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12672775" name="SOLR-6584.patch" size="1938" author="jbernste" created="Fri, 3 Oct 2014 14:34:32 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 29 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i20rpb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>