<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:15:23 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-9367] TestInjection&apos;s use of a static Random means that sequences of events can be diff for the same test seed depending on wether individual methods are run, or entire test classes, or multiple classes in the same slave JVM</title>
                <link>https://issues.apache.org/jira/browse/SOLR-9367</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;While digging through &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9363&quot; title=&quot;TestStressCloudBlindAtomicUpdates.test_dv_stored() failure&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9363&quot;&gt;&lt;del&gt;SOLR-9363&lt;/del&gt;&lt;/a&gt;, I realized that the reason the failures reproduced when running the entire &lt;tt&gt;-Dtestcase&lt;/tt&gt; but not the individual &lt;tt&gt;-Dtests.method&lt;/tt&gt; was because TestInjection was behaving differently in those cases.&lt;/p&gt;

&lt;p&gt;This is because TestInjection uses a static Random instance &amp;#8211; allthough it is initialized based on the &lt;tt&gt;tests.seed&lt;/tt&gt; sysprop to &lt;em&gt;try&lt;/em&gt; to be reproducible, it&apos;s behavior still very much depends on how many testcases are run in that slave JVM, and/or how many test methods are run.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12994138">SOLR-9367</key>
            <summary>TestInjection&apos;s use of a static Random means that sequences of events can be diff for the same test seed depending on wether individual methods are run, or entire test classes, or multiple classes in the same slave JVM</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hossman">Chris M. Hostetter</assignee>
                                    <reporter username="hossman">Chris M. Hostetter</reporter>
                        <labels>
                    </labels>
                <created>Tue, 2 Aug 2016 00:51:42 +0000</created>
                <updated>Sat, 8 Jun 2019 15:38:09 +0000</updated>
                            <resolved>Tue, 9 Aug 2016 21:52:54 +0000</resolved>
                                                    <fixVersion>6.2</fixVersion>
                    <fixVersion>7.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15404248" author="jira-bot" created="Tue, 2 Aug 2016 16:01:51 +0000"  >&lt;p&gt;Commit c17605b4a9978311b6b231f202d70dd800e473e6 in lucene-solr&apos;s branch refs/heads/branch_6x from Chris Hostetter&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=c17605b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=c17605b&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9363&quot; title=&quot;TestStressCloudBlindAtomicUpdates.test_dv_stored() failure&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9363&quot;&gt;&lt;del&gt;SOLR-9363&lt;/del&gt;&lt;/a&gt;: tweak test to work around &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9366&quot; title=&quot;replicas in LIR seem to still be participating in search requests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9366&quot;&gt;SOLR-9366&lt;/a&gt; + &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9367&quot; title=&quot;TestInjection&amp;#39;s use of a static Random means that sequences of events can be diff for the same test seed depending on wether individual methods are run, or entire test classes, or multiple classes in the same slave JVM&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9367&quot;&gt;&lt;del&gt;SOLR-9367&lt;/del&gt;&lt;/a&gt; since those issues are not key to what&apos;s being tested here&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 04321c401c6584395c76c509f8513c5e5e4730ee)&lt;/p&gt;</comment>
                            <comment id="15404251" author="jira-bot" created="Tue, 2 Aug 2016 16:01:56 +0000"  >&lt;p&gt;Commit 04321c401c6584395c76c509f8513c5e5e4730ee in lucene-solr&apos;s branch refs/heads/master from Chris Hostetter&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=04321c4&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=04321c4&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9363&quot; title=&quot;TestStressCloudBlindAtomicUpdates.test_dv_stored() failure&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9363&quot;&gt;&lt;del&gt;SOLR-9363&lt;/del&gt;&lt;/a&gt;: tweak test to work around &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9366&quot; title=&quot;replicas in LIR seem to still be participating in search requests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9366&quot;&gt;SOLR-9366&lt;/a&gt; + &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9367&quot; title=&quot;TestInjection&amp;#39;s use of a static Random means that sequences of events can be diff for the same test seed depending on wether individual methods are run, or entire test classes, or multiple classes in the same slave JVM&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9367&quot;&gt;&lt;del&gt;SOLR-9367&lt;/del&gt;&lt;/a&gt; since those issues are not key to what&apos;s being tested here&lt;/p&gt;</comment>
                            <comment id="15404554" author="hossman" created="Tue, 2 Aug 2016 18:33:01 +0000"  >&lt;p&gt;attaching my strawman proposed fix...  anybody else have a better suggestion?&lt;/p&gt;</comment>
                            <comment id="15414294" author="jira-bot" created="Tue, 9 Aug 2016 21:52:41 +0000"  >&lt;p&gt;Commit 8ad1a830fbe08e37eac50cf875edc9b889363524 in lucene-solr&apos;s branch refs/heads/branch_6x from Chris Hostetter&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=8ad1a83&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=8ad1a83&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9367&quot; title=&quot;TestInjection&amp;#39;s use of a static Random means that sequences of events can be diff for the same test seed depending on wether individual methods are run, or entire test classes, or multiple classes in the same slave JVM&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9367&quot;&gt;&lt;del&gt;SOLR-9367&lt;/del&gt;&lt;/a&gt;: Improved TestInjection&apos;s randomization logic to use LuceneTestCase.random()&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 84a8c098fca2018ca8c6abde13ae0d56f081dae1)&lt;/p&gt;</comment>
                            <comment id="15414295" author="jira-bot" created="Tue, 9 Aug 2016 21:52:43 +0000"  >&lt;p&gt;Commit 84a8c098fca2018ca8c6abde13ae0d56f081dae1 in lucene-solr&apos;s branch refs/heads/master from Chris Hostetter&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=84a8c09&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=84a8c09&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9367&quot; title=&quot;TestInjection&amp;#39;s use of a static Random means that sequences of events can be diff for the same test seed depending on wether individual methods are run, or entire test classes, or multiple classes in the same slave JVM&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9367&quot;&gt;&lt;del&gt;SOLR-9367&lt;/del&gt;&lt;/a&gt;: Improved TestInjection&apos;s randomization logic to use LuceneTestCase.random()&lt;/p&gt;</comment>
                            <comment id="15438957" author="mikemccand" created="Fri, 26 Aug 2016 13:58:48 +0000"  >&lt;p&gt;Bulk close resolved issues after 6.2.0 release.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12994130">SOLR-9366</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                            <outwardlinks description="breaks">
                                        <issuelink>
            <issuekey id="12994000">SOLR-9363</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12821666" name="SOLR-9367.patch" size="9089" author="hossman" created="Tue, 2 Aug 2016 18:33:01 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 12 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i31s1b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>