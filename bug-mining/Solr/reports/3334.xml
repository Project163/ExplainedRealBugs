<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:21:18 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-10341] SQL AVG function mis-interprets field type.</title>
                <link>https://issues.apache.org/jira/browse/SOLR-10341</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;Using movielens data (users, movies, ratings), I tried the following SQL:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;curl --data-urlencode &lt;span class=&quot;code-quote&quot;&gt;&quot;stmt=SELECT solr.title as title, avg(rating) as avg_rating FROM ratings INNER JOIN (select movie_id,title from movies where _query_=&lt;span class=&quot;code-quote&quot;&gt;&apos;plot_txt_en:love&apos;&lt;/span&gt;) as solr ON ratings.movie_id = solr.movie_id GROUP BY title ORDER BY avg_rating DESC LIMIT 10&quot;&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//localhost:8983/solr/movies/sql?aggregationMode=facet&quot;&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Solr returns this error: &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;{&lt;span class=&quot;code-quote&quot;&gt;&quot;result-set&quot;&lt;/span&gt;:{&lt;span class=&quot;code-quote&quot;&gt;&quot;docs&quot;&lt;/span&gt;:[{&lt;span class=&quot;code-quote&quot;&gt;&quot;EXCEPTION&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;Failed to execute sqlQuery &lt;span class=&quot;code-quote&quot;&gt;&apos;SELECT solr.title as title, avg(rating) as avg_rating FROM ratings INNER JOIN (select movie_id,title from movies where _query_=&apos;&lt;/span&gt;plot_txt_en:love&lt;span class=&quot;code-quote&quot;&gt;&apos;) as solr ON ratings.movie_id = solr.movie_id GROUP BY title ORDER BY avg_rating DESC LIMIT 10&apos;&lt;/span&gt; against JDBC connection &lt;span class=&quot;code-quote&quot;&gt;&apos;jdbc:calcitesolr:&apos;&lt;/span&gt;.\nError &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; executing SQL \&quot;&lt;/span&gt;SELECT solr.title as title, avg(rating) as avg_rating FROM ratings INNER JOIN (select movie_id,title from movies where _query_=&lt;span class=&quot;code-quote&quot;&gt;&apos;plot_txt_en:love&apos;&lt;/span&gt;) as solr ON ratings.movie_id = solr.movie_id GROUP BY title ORDER BY avg_rating DESC LIMIT 10\&lt;span class=&quot;code-quote&quot;&gt;&quot;: From line 1, column 29 to line 1, column 39: Cannot apply &lt;span class=&quot;code-quote&quot;&gt;&apos;AVG&apos;&lt;/span&gt; to arguments of type &lt;span class=&quot;code-quote&quot;&gt;&apos;AVG(&amp;lt;JAVATYPE(CLASS JAVA.LANG.STRING)&amp;gt;)&apos;&lt;/span&gt;. Supported form(s): &lt;span class=&quot;code-quote&quot;&gt;&apos;AVG(&amp;lt;NUMERIC&amp;gt;)&apos;&lt;/span&gt;&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;EOF&quot;&lt;/span&gt;:&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;RESPONSE_TIME&quot;&lt;/span&gt;:92}]}}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;rating is a TrieInt with docValues enabled.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;field name=&lt;span class=&quot;code-quote&quot;&gt;&quot;rating&quot;&lt;/span&gt; type=&lt;span class=&quot;code-quote&quot;&gt;&quot;tint&quot;&lt;/span&gt; docValues=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt; multiValued=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&quot;&lt;/span&gt; indexed=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt; stored=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt;/&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;see screenshot&lt;/p&gt;</description>
                <environment></environment>
        <key id="13058243">SOLR-10341</key>
            <summary>SQL AVG function mis-interprets field type.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="thelabdude">Timothy Potter</reporter>
                        <labels>
                    </labels>
                <created>Wed, 22 Mar 2017 14:17:09 +0000</created>
                <updated>Tue, 8 Oct 2019 14:51:09 +0000</updated>
                            <resolved>Fri, 7 Apr 2017 12:38:21 +0000</resolved>
                                    <version>6.5</version>
                                                    <component>Parallel SQL</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="15936378" author="thelabdude" created="Wed, 22 Mar 2017 14:17:32 +0000"  >&lt;p&gt;rating is a numeric type&lt;/p&gt;</comment>
                            <comment id="15936392" author="joel.bernstein" created="Wed, 22 Mar 2017 14:25:43 +0000"  >&lt;p&gt;Joins are not yet supported. Are you seeing the same problem with a query on a single table?&lt;/p&gt;</comment>
                            <comment id="15936429" author="joel.bernstein" created="Wed, 22 Mar 2017 14:40:55 +0000"  >&lt;p&gt;I&apos;m seeing a bug with avg on a single table, with casting between long and double. Looking into this now.&lt;/p&gt;</comment>
                            <comment id="15936447" author="joel.bernstein" created="Wed, 22 Mar 2017 14:52:07 +0000"  >&lt;p&gt;The bug I&apos;m seeing occurs when you try to average an &lt;b&gt;int&lt;/b&gt; or &lt;b&gt;long&lt;/b&gt; field. The issue is that the Streaming Expressions are return doubles for the average function but Calcite is looking for a long value when averages are done on a long field. Averages are working on float and double fields.&lt;/p&gt;
</comment>
                            <comment id="15936452" author="risdenk" created="Wed, 22 Mar 2017 14:54:09 +0000"  >&lt;p&gt;Can you work around it by casting before doing the average?&lt;/p&gt;</comment>
                            <comment id="15936462" author="joel.bernstein" created="Wed, 22 Mar 2017 14:55:38 +0000"  >&lt;p&gt;Yes, that&apos;s a work around used in the test cases, but we should fix this so it works without needing the cast.&lt;/p&gt;</comment>
                            <comment id="15936469" author="joel.bernstein" created="Wed, 22 Mar 2017 14:58:26 +0000"  >&lt;p&gt;This is easily fixed in MapReduce mode. But it&apos;s trickier in facet mode.&lt;/p&gt;</comment>
                            <comment id="15936477" author="thelabdude" created="Wed, 22 Mar 2017 15:00:55 +0000"  >&lt;p&gt;sounds like this issue -&amp;gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9372&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SOLR-9372&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15936497" author="joel.bernstein" created="Wed, 22 Mar 2017 15:06:13 +0000"  >&lt;p&gt;This bug was introduced with the Calcite integration. &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9372&quot; title=&quot;Different data types returned depending on the aggregation mode used to execute a SQL statement&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9372&quot;&gt;&lt;del&gt;SOLR-9372&lt;/del&gt;&lt;/a&gt; needs to be addressed as well though.&lt;/p&gt;</comment>
                            <comment id="15936509" author="thelabdude" created="Wed, 22 Mar 2017 15:15:43 +0000"  >&lt;p&gt;my bad on the join example ... I thought they came for free with the calcite integration ... are joins planned for inclusion in 6.5?&lt;/p&gt;</comment>
                            <comment id="15936513" author="risdenk" created="Wed, 22 Mar 2017 15:17:54 +0000"  >&lt;p&gt;Technically joins should work. They will just be table scans basically joined in memory. The pushdown isn&apos;t there yet (meaning streaming expression join). So could very easily blow through memory if Calcite does the join.&lt;/p&gt;</comment>
                            <comment id="15936518" author="joel.bernstein" created="Wed, 22 Mar 2017 15:22:02 +0000"  >&lt;p&gt;Ok, I see a path forward with facet mode as well. I will work on getting this fixed for a bug fix release. &lt;/p&gt;</comment>
                            <comment id="15936521" author="joel.bernstein" created="Wed, 22 Mar 2017 15:24:24 +0000"  >&lt;p&gt;Since we have no test cases for joins it&apos;s really hard to know how they well behave. We&apos;ve pushed down so much functionality and we don&apos;t know what rules will get triggered during the joins, so its hard to know whats going to happen.&lt;/p&gt;</comment>
                            <comment id="15938459" author="thelabdude" created="Thu, 23 Mar 2017 14:36:46 +0000"  >&lt;p&gt;I know the release process for 6.5 has already started but I think this should be included ... seems like any time I request an int field, I get an error about type casting.&lt;/p&gt;</comment>
                            <comment id="15938648" author="joel.bernstein" created="Thu, 23 Mar 2017 16:00:42 +0000"  >&lt;p&gt;I&apos;ve only seen the issue with the avg function. Have you seen it with any other?&lt;/p&gt;
</comment>
                            <comment id="15938649" author="joel.bernstein" created="Thu, 23 Mar 2017 16:01:58 +0000"  >&lt;p&gt;For example this query is working fine:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;select year_i, month_i, count(*) as `count`, min(day_i) as min_day , max(day_i) as max_day from collection1 group by year_i,  month_i
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15938655" author="joel.bernstein" created="Thu, 23 Mar 2017 16:03:46 +0000"  >&lt;p&gt;Also this works:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;select year_i, month_i, count(*) as `count`, sum(day_i) as sum_day , sum(month_i) as sum_month, max(price_f) as max_price from collection1 where year_i &amp;gt;30  group by year_i,  month_i order by sum(day_i) desc

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15938671" author="joel.bernstein" created="Thu, 23 Mar 2017 16:13:45 +0000"  >&lt;p&gt;Here is the list of manual tests that I run in both &lt;b&gt;facet&lt;/b&gt; and &lt;b&gt;map_reduce&lt;/b&gt; mode, which all work. The test cases cover lots of different scenarios as well. The avg function just slipped through the cracks:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;select id from collection1 limit 10
select id, test_s from collection1 limit 10
select id, test_s, test_t from collection1 limit 10
select id, test_s, test_t, year_i from collection1 limit 10
select id, test_s, test_t, year_i, price_f from collection1 limit 10
select id, test_s, test_t, year_i, price_f, prod_ss from collection1 limit 10
select id, test_s, test_t, year_i, price_f, prod_ss from collection1 where year_i &amp;gt; 36 limit 10
select id, test_s, test_t, year_i, price_f, prod_ss from collection1 where year_i &amp;gt; 36 and year_i &amp;lt; 38 limit 10
select id, test_s, test_t, year_i, price_f, prod_ss from collection1 where (year_i &amp;gt; 36 and year_i &amp;lt; 38) limit 10
select id, test_s, test_t, year_i, price_f, prod_ss from collection1 where (year_i &amp;gt; 36 and year_i &amp;lt; 37) limit 10
select id, test_s, test_t, year_i, price_f, prod_ss from collection1 where (year_i &amp;gt; 36 and year_i &amp;lt; 37) or id = &lt;span class=&quot;code-quote&quot;&gt;&apos;410005&apos;&lt;/span&gt; limit 10
select id, test_s, test_t, year_i, price_f, prod_ss from collection1 where (year_i &amp;gt; 36 and year_i &amp;lt; 38) order by price_f desc limit 10
select id, test_s, test_t, year_i, day_i, price_f, prod_ss from collection1 where (year_i &amp;gt; 36 and year_i &amp;lt; 38) order by day_i desc, price_f desc limit 10
select id, test_s, test_t as textField, year_i, day_i, price_f, prod_ss from collection1 where (year_i &amp;gt; 36 and year_i &amp;lt; 38) order by day_i desc, price_f desc limit 10
select id, test_s, test_t as textField, year_i, day_i as testday, price_f, prod_ss from collection1 where (year_i &amp;gt; 36 and year_i &amp;lt; 38) order by testday desc, price_f desc limit 10
select id, test_s, test_t as textField, year_i, day_i as `day`, price_f, prod_ss from collection1 where (year_i &amp;gt; 36 and year_i &amp;lt; 38) order by `day` desc, price_f desc limit 10

select count(*) from collection1 
select count(*) as `count` from collection1 
select count(*), min(day_i) from collection1
select count(*), min(day_i), max(day_i) from collection1
select count(*) as `count`, min(day_i) as min_day, max(day_i) as max_day from collection1
select count(*) as `count`, min(day_i) as min_day, max(day_i) as max_day, sum(month_i) as sum_month from collection1 
select distinct year_i from collection1 
select distinct year_i from collection1 where year_i &amp;gt; 10 
select distinct year_i from collection1 where year_i &amp;gt; 10 order by year_i desc
select distinct year_i, month_i from collection1 where year_i &amp;gt; 30 order by year_i asc, month_i asc
select distinct year_i, month_i from collection1 where year_i &amp;gt; 30 order by year_i asc, month_i desc
select distinct year_i, month_i from collection1 where year_i &amp;gt; 30 order by year_i desc, month_i desc
select distinct year_i, month_i, day_i from collection1 where year_i &amp;gt; 30 order by year_i desc, month_i desc, day_i desc
select distinct year_i, month_i, day_i from collection1 where year_i &amp;gt; 30 order by year_i desc, month_i desc, day_i desc limit 2000
select distinct year_i as `year`, month_i as `month`, day_i as `day` from collection1 where year_i &amp;gt; 30 order by year_i desc, month_i desc, day_i desc limit 2000
select id, score from collection1 where test_t=&lt;span class=&quot;code-quote&quot;&gt;&apos;(hello world)&apos;&lt;/span&gt; order by score limit 500
select year_i, count(*) from collection1 group by year_i
select year_i, avg(month_i) from collection1 group by year_i
select year_i, count(*) as `count` from collection1 group by year_i
select year_i, count(*) as `count` from collection1 where year_i &amp;gt; 30 group by year_i
select year_i, count(*) as `count` from collection1 where year_i &amp;gt; 30 group by year_i having count(*) = 200183
select year_i, count(*) as `count` from collection1 group by year_i order by count(*) desc
select year_i, count(*) from collection1 group by year_i order by year_i asc
select year_i, count(*) as `count`, min(day_i) as min_day , max(day_i) as max_day from collection1 group by year_i
select year_i, month_i, count(*) as `count`, min(day_i) as min_day , max(day_i) as max_day from collection1 group by year_i,  month_i
select year_i, month_i, count(*) as `count`, sum(day_i) as sum_day , sum(month_i) as sum_month, max(price_f) as max_price from collection1 where year_i &amp;gt;30  group by year_i,  month_i order by sum(day_i) desc
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15938674" author="risdenk" created="Thu, 23 Mar 2017 16:16:13 +0000"  >&lt;p&gt;I&apos;m not sure that Calcite is doing the wrong thing here. I think I remember a Calcite mailing list thing about AVG and integers. We may have been too lenient before. I&apos;ll see if I can find the Calcite message.&lt;/p&gt;</comment>
                            <comment id="15938680" author="risdenk" created="Thu, 23 Mar 2017 16:19:05 +0000"  >&lt;p&gt;Unless we are pushing down AVG and its failing on the Solr side. I could be off base with my previous message.&lt;/p&gt;</comment>
                            <comment id="15938686" author="joel.bernstein" created="Thu, 23 Mar 2017 16:20:41 +0000"  >&lt;p&gt;I suspect Calcite is doing what is expected in SQL when averaging integers. We&apos;ll just make the adjustment to what Calcite wants.&lt;/p&gt;</comment>
                            <comment id="15938688" author="joel.bernstein" created="Thu, 23 Mar 2017 16:21:57 +0000"  >&lt;p&gt;We are pushing the down the AVG but always return a double from an average calculation. Calcite is expecting a long when the avg is done on an integer.&lt;/p&gt;</comment>
                            <comment id="15939281" author="thelabdude" created="Thu, 23 Mar 2017 21:49:40 +0000"  >&lt;p&gt;This is failing for me:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;curl --data-urlencode &lt;span class=&quot;code-quote&quot;&gt;&quot;stmt=select rating, movie_id, user_id from ratings order by rating desc LIMIT 100&quot;&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//localhost:8983/solr/ratings/sql&quot;&lt;/span&gt;
&lt;/span&gt;{&lt;span class=&quot;code-quote&quot;&gt;&quot;result-set&quot;&lt;/span&gt;:{&lt;span class=&quot;code-quote&quot;&gt;&quot;docs&quot;&lt;/span&gt;:[{&lt;span class=&quot;code-quote&quot;&gt;&quot;EXCEPTION&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;java.lang.&lt;span class=&quot;code-object&quot;&gt;Long&lt;/span&gt; cannot be &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt; to java.lang.&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;EOF&quot;&lt;/span&gt;:&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;RESPONSE_TIME&quot;&lt;/span&gt;:160}]}}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;rating is a tint as before ...&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;2017-03-23 21:47:37.007 INFO  (qtp1197365356-15) [c:ratings s:shard1 r:core_node1 x:ratings_shard1_replica1] o.a.s.c.S.Request [ratings_shard1_replica1]  webapp=/solr path=/select params={q=*:*&amp;amp;distrib=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&amp;amp;fl=rating,movie_id,user_id&amp;amp;sort=rating+desc&amp;amp;rows=100&amp;amp;wt=json&amp;amp;version=2.2} hits=100000 status=0 QTime=19
2017-03-23 21:47:37.014 ERROR (qtp1197365356-21) [c:ratings s:shard1 r:core_node1 x:ratings_shard1_replica1] o.a.s.c.s.i.s.ExceptionStream java.lang.ClassCastException: java.lang.&lt;span class=&quot;code-object&quot;&gt;Long&lt;/span&gt; cannot be &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt; to java.lang.&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;
	at org.apache.calcite.avatica.util.AbstractCursor$StringAccessor.getString(AbstractCursor.java:728)
	at org.apache.calcite.avatica.AvaticaSite.get(AvaticaSite.java:352)
	at org.apache.calcite.avatica.AvaticaResultSet.getObject(AvaticaResultSet.java:393)
	at org.apache.solr.client.solrj.io.stream.JDBCStream$1.selectValue(JDBCStream.java:240)
	at org.apache.solr.client.solrj.io.stream.JDBCStream.read(JDBCStream.java:341)
	at org.apache.solr.handler.SQLHandler$SqlHandlerStream.read(SQLHandler.java:187)
	at org.apache.solr.client.solrj.io.stream.ExceptionStream.read(ExceptionStream.java:68)
	at org.apache.solr.handler.StreamHandler$TimerStream.read(StreamHandler.java:508)
	at org.apache.solr.client.solrj.io.stream.TupleStream.lambda$writeMap$0(TupleStream.java:82)
	at org.apache.solr.response.JSONWriter.writeIterator(JSONResponseWriter.java:523)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;maybe this is a different issue?&lt;/p&gt;</comment>
                            <comment id="15939288" author="joel.bernstein" created="Thu, 23 Mar 2017 21:57:39 +0000"  >&lt;p&gt;What are the field types for rating, movie_id, user_id?&lt;/p&gt;</comment>
                            <comment id="15939291" author="thelabdude" created="Thu, 23 Mar 2017 21:59:49 +0000"  >&lt;p&gt;rating=TrieInt, move_id=StrField and user_id=StrField ... all have docValues enabled&lt;/p&gt;</comment>
                            <comment id="15939293" author="risdenk" created="Thu, 23 Mar 2017 22:01:56 +0000"  >&lt;p&gt;I would have to look closer but TrieInt may not be mapped correctly in the Calcite schema. I think it &quot;guesses&quot; based on the schema right now. If you &quot;cheat&quot; and just cast to a Long does it return?&lt;/p&gt;</comment>
                            <comment id="15939296" author="joel.bernstein" created="Thu, 23 Mar 2017 22:06:28 +0000"  >&lt;p&gt;All the testing has been done with int rather then tint. I&apos;ll dig into this ...&lt;/p&gt;</comment>
                            <comment id="15939302" author="joel.bernstein" created="Thu, 23 Mar 2017 22:08:50 +0000"  >&lt;p&gt;This is the mapping logic:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;switch&lt;/span&gt; (luceneFieldInfo.getType()) {
        &lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;string&quot;&lt;/span&gt;:
          type = typeFactory.createJavaType(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.class);
          &lt;span class=&quot;code-keyword&quot;&gt;break&lt;/span&gt;;
        &lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;&quot;&lt;/span&gt;:
        &lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt;&quot;&lt;/span&gt;:
          type = typeFactory.createJavaType(&lt;span class=&quot;code-object&quot;&gt;Long&lt;/span&gt;.class);
          &lt;span class=&quot;code-keyword&quot;&gt;break&lt;/span&gt;;
        &lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-object&quot;&gt;float&lt;/span&gt;&quot;&lt;/span&gt;:
        &lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt;&quot;&lt;/span&gt;:
          type = typeFactory.createJavaType(&lt;span class=&quot;code-object&quot;&gt;Double&lt;/span&gt;.class);
          &lt;span class=&quot;code-keyword&quot;&gt;break&lt;/span&gt;;
        &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;:
          type = typeFactory.createJavaType(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.class);
      }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I suspect tint is not returning int or long&lt;/p&gt;</comment>
                            <comment id="15939304" author="thelabdude" created="Thu, 23 Mar 2017 22:10:21 +0000"  >&lt;p&gt;hmmm ... I guess I don&apos;t know how to cast with Calcite:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;curl --data-urlencode &lt;span class=&quot;code-quote&quot;&gt;&quot;stmt=select &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt;(rating as &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt;) as rating, movie_id, user_id from ratings order by rating desc LIMIT 100&quot;&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//localhost:8983/solr/ratings/sql&quot;&lt;/span&gt;
&lt;/span&gt;{&lt;span class=&quot;code-quote&quot;&gt;&quot;result-set&quot;&lt;/span&gt;:{&lt;span class=&quot;code-quote&quot;&gt;&quot;docs&quot;&lt;/span&gt;:[{&lt;span class=&quot;code-quote&quot;&gt;&quot;EXCEPTION&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;Failed to execute sqlQuery &lt;span class=&quot;code-quote&quot;&gt;&apos;select &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt;(rating as &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt;) as rating, movie_id, user_id from ratings order by rating desc LIMIT 100&apos;&lt;/span&gt; against JDBC connection &lt;span class=&quot;code-quote&quot;&gt;&apos;jdbc:calcitesolr:&apos;&lt;/span&gt;.\nError &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; executing SQL \&quot;&lt;/span&gt;select &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt;(rating as &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt;) as rating, movie_id, user_id from ratings order by rating desc LIMIT 100\&lt;span class=&quot;code-quote&quot;&gt;&quot;: From line 1, column 23 to line 1, column 26: Unknown datatype name &lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt;&apos;&lt;/span&gt;&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;EOF&quot;&lt;/span&gt;:&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;RESPONSE_TIME&quot;&lt;/span&gt;:491}]}}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15939320" author="risdenk" created="Thu, 23 Mar 2017 22:19:17 +0000"  >&lt;p&gt;&lt;a href=&quot;https://calcite.apache.org/docs/reference.html#data-types&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://calcite.apache.org/docs/reference.html#data-types&lt;/a&gt; You probably want numeric? long isn&apos;t a SQL type.&lt;/p&gt;</comment>
                            <comment id="15939324" author="risdenk" created="Thu, 23 Mar 2017 22:20:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jbernste&quot; class=&quot;user-hover&quot; rel=&quot;jbernste&quot;&gt;jbernste&lt;/a&gt; When the mapping was implemented I thought about tint and others but there was no way to know if a type was except for the primitives. The reason being is the name tint doesn&apos;t HAVE to mean an int. Now we could add the mappings and have the assumption but it was done originally with things that I knew would be true.&lt;/p&gt;</comment>
                            <comment id="15939331" author="thelabdude" created="Thu, 23 Mar 2017 22:24:39 +0000"  >&lt;p&gt;yep, sorry, &lt;tt&gt;cast(rating as bigint)&lt;/tt&gt; worked&lt;/p&gt;</comment>
                            <comment id="15939338" author="risdenk" created="Thu, 23 Mar 2017 22:26:34 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thelabdude&quot; class=&quot;user-hover&quot; rel=&quot;thelabdude&quot;&gt;thelabdude&lt;/a&gt; No worries SQL is a pain &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/tongue.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; I agree right now the out of the box experience is going to be rough (except for primitive types). As long as we know that casting works that might be a decent work around for the short term? The error messages at least look good. We do need to add tests though.&lt;/p&gt;</comment>
                            <comment id="15939342" author="risdenk" created="Thu, 23 Mar 2017 22:28:45 +0000"  >&lt;p&gt;One thought is we might be able to add the cast programmatically after querying? We might have better info at that point than just the type name from the schema? That could be rough though since wouldn&apos;t know if 1.0 or abc is coming next and we could cast wrong.&lt;/p&gt;</comment>
                            <comment id="15939422" author="joel.bernstein" created="Thu, 23 Mar 2017 23:20:40 +0000"  >&lt;p&gt;Let&apos;s just add the mappings and we can make int, tint etc... requirements for the SQL schema.&lt;/p&gt;

&lt;p&gt;I&apos;ll fix both the AVG issue and the tint issue tomorrow and get everything backported for a 6.5.1 release.&lt;/p&gt;

&lt;p&gt;I&apos;ll be traveling starting Sunday though so I won&apos;t be able to manage the 6.5.1 release.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thelabdude&quot; class=&quot;user-hover&quot; rel=&quot;thelabdude&quot;&gt;thelabdude&lt;/a&gt; or &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=risdenk&quot; class=&quot;user-hover&quot; rel=&quot;risdenk&quot;&gt;risdenk&lt;/a&gt; if one of you can manage the 6.5.1 release we can get these issues resolved next week.&lt;/p&gt;</comment>
                            <comment id="15940490" author="joel.bernstein" created="Fri, 24 Mar 2017 14:54:25 +0000"  >&lt;p&gt;I&apos;ll be fixing &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9372&quot; title=&quot;Different data types returned depending on the aggregation mode used to execute a SQL statement&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9372&quot;&gt;&lt;del&gt;SOLR-9372&lt;/del&gt;&lt;/a&gt; as part of this ticket also.&lt;/p&gt;</comment>
                            <comment id="15940993" author="joel.bernstein" created="Fri, 24 Mar 2017 19:27:55 +0000"  >&lt;p&gt;Patch which addresses all the issues discussed in this ticket.&lt;/p&gt;</comment>
                            <comment id="15941006" author="joel.bernstein" created="Fri, 24 Mar 2017 19:33:22 +0000"  >&lt;p&gt;The patch that was just added does the following:&lt;/p&gt;

&lt;p&gt;1) It aligns the &lt;b&gt;facet&lt;/b&gt; and &lt;b&gt;map_reduce&lt;/b&gt; aggregation outputs fixing &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9372&quot; title=&quot;Different data types returned depending on the aggregation mode used to execute a SQL statement&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9372&quot;&gt;&lt;del&gt;SOLR-9372&lt;/del&gt;&lt;/a&gt;. Now both approaches output a long when sum, min, max are applied to long fields. &lt;/p&gt;

&lt;p&gt;2) The &lt;b&gt;avg&lt;/b&gt; function now works on int fields. The avg function by default always returns a &lt;b&gt;rounded long&lt;/b&gt; when averaging an int field. You can &lt;b&gt;cast&lt;/b&gt; to return a double when averaging a long field:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;select str_s, count(*), sum(field_i), min(field_i), max(field_i), 
          &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt;(avg(1.0 * field_i) as &lt;span class=&quot;code-object&quot;&gt;float&lt;/span&gt;) 
          from collection1 where text=&lt;span class=&quot;code-quote&quot;&gt;&apos;XXXX&apos;&lt;/span&gt; group by str_s 
          order by sum(field_i) asc limit 2
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;When averaging a float field a double is always returned.&lt;/p&gt;

&lt;p&gt;3) Added aggregation support for tint, tlong and tdouble fields.&lt;/p&gt;</comment>
                            <comment id="15941018" author="joel.bernstein" created="Fri, 24 Mar 2017 19:43:12 +0000"  >&lt;p&gt;I&apos;ll do some manual testing before committing&lt;/p&gt;</comment>
                            <comment id="15943951" author="joel.bernstein" created="Mon, 27 Mar 2017 20:02:04 +0000"  >&lt;p&gt;I ran into some issues during the manual testing. The problem was that in certain scenarios the &lt;b&gt;cast&lt;/b&gt; was causing the project rule to fire twice. This was not properly accounted for in the code so the second project could step on the field mappings for the aggregate functions. This took some time to figure out and resolve. The approach taken was to add logic that said that the project rule can never overwrite an existing field mapping. This seemed to resolve the issue. I&apos;ll post a new patch tomorrow and if all looks good I&apos;ll commit tomorrow as well. &lt;/p&gt;</comment>
                            <comment id="15944067" author="thelabdude" created="Mon, 27 Mar 2017 21:20:51 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jbernste&quot; class=&quot;user-hover&quot; rel=&quot;jbernste&quot;&gt;jbernste&lt;/a&gt;, sounds good ... I&apos;ll plan to test out the patch tomorrow.&lt;/p&gt;</comment>
                            <comment id="15944723" author="joel.bernstein" created="Tue, 28 Mar 2017 07:58:16 +0000"  >&lt;p&gt;Latest patch which resolves the issues found when &lt;b&gt;casting&lt;/b&gt;.&lt;/p&gt;

&lt;p&gt;I plan on testing more today and if all looks good committing.&lt;/p&gt;</comment>
                            <comment id="15945721" author="jira-bot" created="Tue, 28 Mar 2017 18:47:51 +0000"  >&lt;p&gt;Commit aa2b46a62a52c0d0117312add2a667bf6b14a709 in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jbernste&quot; class=&quot;user-hover&quot; rel=&quot;jbernste&quot;&gt;jbernste&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=aa2b46a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=aa2b46a&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10341&quot; title=&quot;SQL AVG function mis-interprets field type.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10341&quot;&gt;&lt;del&gt;SOLR-10341&lt;/del&gt;&lt;/a&gt;: SQL AVG function mis-interprets field type&lt;/p&gt;</comment>
                            <comment id="15945767" author="jira-bot" created="Tue, 28 Mar 2017 19:20:07 +0000"  >&lt;p&gt;Commit e6b4d25289a240ff64eaeb858c4c06737999ee11 in lucene-solr&apos;s branch refs/heads/branch_6x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jbernste&quot; class=&quot;user-hover&quot; rel=&quot;jbernste&quot;&gt;jbernste&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=e6b4d25&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=e6b4d25&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10341&quot; title=&quot;SQL AVG function mis-interprets field type.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10341&quot;&gt;&lt;del&gt;SOLR-10341&lt;/del&gt;&lt;/a&gt;: SQL AVG function mis-interprets field type&lt;/p&gt;</comment>
                            <comment id="15945782" author="jira-bot" created="Tue, 28 Mar 2017 19:30:51 +0000"  >&lt;p&gt;Commit 4c979b84e8d5bd3eb4cc34f90834cedbf2a374ed in lucene-solr&apos;s branch refs/heads/branch_6_5 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jbernste&quot; class=&quot;user-hover&quot; rel=&quot;jbernste&quot;&gt;jbernste&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=4c979b8&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=4c979b8&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10341&quot; title=&quot;SQL AVG function mis-interprets field type.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10341&quot;&gt;&lt;del&gt;SOLR-10341&lt;/del&gt;&lt;/a&gt;: SQL AVG function mis-interprets field type&lt;/p&gt;</comment>
                            <comment id="15960161" author="jira-bot" created="Fri, 7 Apr 2017 02:06:18 +0000"  >&lt;p&gt;Commit c05ab96dc4454c00779aad2cd6989812c9b13a2e in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jbernste&quot; class=&quot;user-hover&quot; rel=&quot;jbernste&quot;&gt;jbernste&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=c05ab96&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=c05ab96&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10341&quot; title=&quot;SQL AVG function mis-interprets field type.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10341&quot;&gt;&lt;del&gt;SOLR-10341&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10444&quot; title=&quot;SQL interface does not use client cache&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10444&quot;&gt;&lt;del&gt;SOLR-10444&lt;/del&gt;&lt;/a&gt;: Update CHANGES.txt&lt;/p&gt;</comment>
                            <comment id="15960164" author="jira-bot" created="Fri, 7 Apr 2017 02:08:18 +0000"  >&lt;p&gt;Commit d20d95163b2f995674c62e14a8d8792c48bc51d8 in lucene-solr&apos;s branch refs/heads/branch_6x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jbernste&quot; class=&quot;user-hover&quot; rel=&quot;jbernste&quot;&gt;jbernste&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=d20d951&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=d20d951&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10341&quot; title=&quot;SQL AVG function mis-interprets field type.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10341&quot;&gt;&lt;del&gt;SOLR-10341&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10444&quot; title=&quot;SQL interface does not use client cache&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10444&quot;&gt;&lt;del&gt;SOLR-10444&lt;/del&gt;&lt;/a&gt;: Update CHANGES.txt&lt;/p&gt;</comment>
                            <comment id="15960169" author="jira-bot" created="Fri, 7 Apr 2017 02:10:49 +0000"  >&lt;p&gt;Commit bc16deb60603b135de659db577ecc4430d9a428d in lucene-solr&apos;s branch refs/heads/branch_6_5 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jbernste&quot; class=&quot;user-hover&quot; rel=&quot;jbernste&quot;&gt;jbernste&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=bc16deb&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=bc16deb&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10341&quot; title=&quot;SQL AVG function mis-interprets field type.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10341&quot;&gt;&lt;del&gt;SOLR-10341&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10444&quot; title=&quot;SQL interface does not use client cache&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10444&quot;&gt;&lt;del&gt;SOLR-10444&lt;/del&gt;&lt;/a&gt;: Update CHANGES.txt&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12860823" name="SOLR-10341.patch" size="43716" author="jbernste" created="Tue, 28 Mar 2017 07:58:16 +0000"/>
                            <attachment id="12860430" name="SOLR-10341.patch" size="39054" author="jbernste" created="Fri, 24 Mar 2017 19:27:55 +0000"/>
                            <attachment id="12859941" name="Screen Shot 2017-03-22 at 8.12.33 AM.png" size="124375" author="thelabdude" created="Wed, 22 Mar 2017 14:17:32 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 32 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3cmzz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>