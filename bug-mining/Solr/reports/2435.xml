<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:04:39 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-7408] Let SolrCore be the only thing which registers/unregisters a config directory listener</title>
                <link>https://issues.apache.org/jira/browse/SOLR-7408</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;As reported here: &lt;a href=&quot;http://markmail.org/message/ynkm2axkdprppgef&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://markmail.org/message/ynkm2axkdprppgef&lt;/a&gt;, there is a race condition which results in an exception when creating multiple collections over the same config set. I was able to reproduce it in a test, although I am only able to reproduce if I put break points and manually simulate the problematic context switches.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12821473">SOLR-7408</key>
            <summary>Let SolrCore be the only thing which registers/unregisters a config directory listener</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="shaie">Shai Erera</assignee>
                                    <reporter username="shaie">Shai Erera</reporter>
                        <labels>
                    </labels>
                <created>Thu, 16 Apr 2015 09:52:10 +0000</created>
                <updated>Mon, 9 May 2016 18:46:11 +0000</updated>
                            <resolved>Wed, 22 Apr 2015 09:42:47 +0000</resolved>
                                                    <fixVersion>5.2</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                    <component>SolrCloud</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="14497869" author="shaie" created="Thu, 16 Apr 2015 10:14:23 +0000"  >&lt;p&gt;The patch adds a test which reproduces the bug, however only if you place breakpoints and simulate the context switches manually. Therefore I&apos;ll explain the steps to reproduce here, and we can decide if we want to keep the test or remove it:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Put a breakpoint in ZkController.registerConfListenerForCore on &lt;tt&gt;synchronized (confDirectoryListeners) {&lt;/tt&gt;.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;Put another breakpoint in ZkController.unregister on &lt;tt&gt;synchronized (confDirectoryListeners) {&lt;/tt&gt;.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;Run the test in Debug and wait for the two threads to get to registerConfListenerForCore
	&lt;ul&gt;
		&lt;li&gt;Advance one of them until it reaches the other breakpoint in &lt;tt&gt;unregister&lt;/tt&gt;.&lt;/li&gt;
		&lt;li&gt;Let it remove the entry from the map.&lt;/li&gt;
		&lt;li&gt;Now advance the second thread that&apos;s in &lt;tt&gt;registerConfigListenerForCore&lt;/tt&gt;, it doesn&apos;t find the confDir in the map and throws the &quot;conf directory is not valid&quot; exception.&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;What happens is that the last core which references a configDir is removed, at the same time a new core is created. Note that even if both threads call &lt;tt&gt;.watchZKConfDir&lt;/tt&gt;, we still remove the entry from the map, and the current code fails w/ the exception.&lt;/p&gt;

&lt;p&gt;This patch partially fixes the problem, by moving the removal of the entry from the map into a sync&apos;d block as well, guards the map in &lt;tt&gt;watchZKConfDir&lt;/tt&gt; and re-registers a watch inside &lt;tt&gt;registerConfListenerForCore&lt;/tt&gt; if one doesn&apos;t exist.&lt;/p&gt;

&lt;p&gt;However, this doesn&apos;t solve the entire problem. While now the application won&apos;t hit an exception, the above chain of events can cause the listener to be removed, after it has been registered. The reason is that SolrCore registers the listener in its constructor, however &lt;tt&gt;CoreContainer.getCores()&lt;/tt&gt; (which is used by &lt;tt&gt;ZkController.getCores()&lt;/tt&gt;) does not return that SolrCore until it has been registered in &lt;tt&gt;SolrCores.cores&lt;/tt&gt;. That happens in &lt;tt&gt;CoreContainer.registerCore&lt;/tt&gt;, line 460, after the SolrCore was already created and registered its listener.&lt;/p&gt;

&lt;p&gt;I think that the solution is to register the core listener only when we are ready to advertise that core, i.e. not until its put in &lt;tt&gt;SolrCore.cores&lt;/tt&gt;. That is the only way to guarantee that &lt;tt&gt;ZkController.unregister&lt;/tt&gt; will remove the confDir listener when all known/advertised cores don&apos;t reference it. And since &lt;tt&gt;registerConfListenerForCore&lt;/tt&gt; re-adds the watch if one doesn&apos;t exist, we should be safe.&lt;/p&gt;

&lt;p&gt;However, this area of the code is completely new to me, so would appreciate a review. You don&apos;t really have to run the test, it only helped me understand what&apos;s going on.&lt;/p&gt;</comment>
                            <comment id="14497980" author="shaie" created="Thu, 16 Apr 2015 12:08:05 +0000"  >&lt;p&gt;Patch implements what I proposed: &lt;tt&gt;SorlCore.registerConfListener()&lt;/tt&gt; is made public, no longer called by &lt;tt&gt;SolrCore()&lt;/tt&gt; and now called by &lt;tt&gt;SolrCores.putCore&lt;/tt&gt; after it is put in the map. This now prevents removing any listeners of known/advertised cores.&lt;/p&gt;

&lt;p&gt;Ideally, we would not create an entry in the map unless there is at least one listener for this confDir, and we would also remove the entry from the map when the last listener has been removed (when the last SolrCore is closed). However, it seems like we call &lt;tt&gt;unregister&lt;/tt&gt; even in the event of errors (&lt;tt&gt;CoreAdminHandler.handleCreateAction&lt;/tt&gt;), forcing the removal of the configDir listener, and it&apos;s not clear if we also call &lt;tt&gt;SolrCore.close()&lt;/tt&gt;. So we may start leaking listeners that will never be removed ...&lt;/p&gt;

&lt;p&gt;If anyone has a better idea how to address that issue, please chime in.&lt;/p&gt;</comment>
                            <comment id="14498933" author="anshumg" created="Thu, 16 Apr 2015 23:02:27 +0000"  >&lt;p&gt;Thanks Shai. The patch looks good to me in what it does. &lt;/p&gt;

&lt;p&gt;Though I think I understand what you&apos;re saying here, can you elaborate more on this?&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;However, it seems like we call unregister even in the event of errors (CoreAdminHandler.handleCreateAction), forcing the removal of the configDir listener, and it&apos;s not clear if we also call SolrCore.close(). So we may start leaking listeners that will never be removed ..&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="14499217" author="shaie" created="Fri, 17 Apr 2015 04:24:08 +0000"  >&lt;blockquote&gt;&lt;p&gt;Though I think I understand what you&apos;re saying here, can you elaborate more on this?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;If we wanted to change the code such that we put a listener in the map on a SolrCore creation, and remove it from the map on a SolrCore close, I believe we wouldn&apos;t be running into such concurrency issues. In a sense, this is what is done when all is &lt;b&gt;good&lt;/b&gt;: a SolrCore puts a listener in its ctor, and removes it in its close().&lt;/p&gt;

&lt;p&gt;But if something goes &lt;b&gt;wrong&lt;/b&gt;, we may leave dangling listeners, of SolrCore instances that no longer exist. This is what I believe (&lt;tt&gt;CoreAdminHandler.handleCreateAction&lt;/tt&gt; attempts to do &amp;#8211; if a core creation failed, it attempts to unregister all listeners of a configDir from the map, and lets &lt;tt&gt;unregister&lt;/tt&gt; decide if the entry itself can be removed or not. This ensures that we won&apos;t be left w/ dangling listeners that will never be released - what I referred to as leaking listeners.&lt;/p&gt;

&lt;p&gt;The code in &lt;tt&gt;unregister&lt;/tt&gt; relies on the same logic that introduces the bug &amp;#8211; if there is core in SolrCores which references this configDir, remove all listeners. The problem is that a core registers a listener, before it is put in SolrCores, and hence the race condition.&lt;/p&gt;

&lt;p&gt;I would personally prefer that we stop removing all listeners, and let a core take care of itself, but I don&apos;t know how safe is Solr code in that regard. I.e. are all places that create a SolrCore clean up after it in the event of a failure? Clearly &lt;tt&gt;CoreAdminHandler.handleCreateAction&lt;/tt&gt; doesn&apos;t, which got me thinking what other places don&apos;t do that as well.&lt;/p&gt;

&lt;p&gt;But, if we want to change the logic like that, we can certainly look at all the places that do &lt;tt&gt;new SolrCore(...)&lt;/tt&gt; and make sure they call &lt;tt&gt;SolrCore.close()&lt;/tt&gt; in the event of any failure.&lt;/p&gt;</comment>
                            <comment id="14499354" author="noble.paul" created="Fri, 17 Apr 2015 06:48:56 +0000"  >&lt;p&gt;looks good to me&lt;/p&gt;</comment>
                            <comment id="14499394" author="anshumg" created="Fri, 17 Apr 2015 07:28:07 +0000"  >&lt;p&gt;I like the idea of calling &lt;tt&gt;SolrCore.close()&lt;/tt&gt; and letting that handle the responsibility of unregistering (already happens).&lt;br/&gt;
Does it make more sense to have this in a different JIRA or at least change the title/summary of this one to highlight the new/updated intention?&lt;/p&gt;</comment>
                            <comment id="14499636" author="shaie" created="Fri, 17 Apr 2015 11:00:47 +0000"  >&lt;p&gt;I will update the title of this JIRA and handle it here. I like this better than doing what I consider more of a hack to the code and later change it. SolrCore is initialized in two places, so shouldn&apos;t be complicated to ensure it is closed in case of errors.&lt;/p&gt;

&lt;p&gt;While I&apos;m at it, I&apos;ll try to simplify the ctor by breaking it out to some auxiliary methods, instead of having a 250 lines method!&lt;/p&gt;</comment>
                            <comment id="14499956" author="anshumg" created="Fri, 17 Apr 2015 14:57:39 +0000"  >&lt;p&gt;+1 to both of those!&lt;/p&gt;</comment>
                            <comment id="14501152" author="shaie" created="Sat, 18 Apr 2015 07:01:49 +0000"  >&lt;p&gt;There are two ctors which aren&apos;t called by Solr code. Is SolrCore considered public API, and so we should keep these ctors, or can I remove them?&lt;/p&gt;</comment>
                            <comment id="14501168" author="shalinmangar" created="Sat, 18 Apr 2015 07:29:41 +0000"  >&lt;blockquote&gt;&lt;p&gt;There are two ctors which aren&apos;t called by Solr code. Is SolrCore considered public API, and so we should keep these ctors, or can I remove them?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yes, it is public API because of EmbeddedSolrServer use-cases. We can deprecate them but we can&apos;t remove them. I will be on board if you want to remove the deprecated APIs after 1 minor release though.&lt;/p&gt;</comment>
                            <comment id="14501174" author="shalinmangar" created="Sat, 18 Apr 2015 07:33:09 +0000"  >&lt;blockquote&gt;&lt;p&gt;I would personally prefer that we stop removing all listeners, and let a core take care of itself, but I don&apos;t know how safe is Solr code in that regard. I.e. are all places that create a SolrCore clean up after it in the event of a failure? Clearly CoreAdminHandler.handleCreateAction doesn&apos;t, which got me thinking what other places don&apos;t do that as well.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Should we start ref counting the ZK watches?&lt;/p&gt;</comment>
                            <comment id="14501737" author="shaie" created="Sun, 19 Apr 2015 08:04:09 +0000"  >&lt;blockquote&gt;&lt;p&gt;Should we start ref counting the ZK watches?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;The confDir listeners are per SolrCore instance, so I don&apos;t think we should ref-count them. Each SolrCore will add/remove its own listener.&lt;/p&gt;</comment>
                            <comment id="14501802" author="shaie" created="Sun, 19 Apr 2015 11:09:26 +0000"  >&lt;ul&gt;
	&lt;li&gt;Remove ZkController.watchZkDir&lt;/li&gt;
	&lt;li&gt;Remove code which cleaned the map in .unregister()&lt;/li&gt;
	&lt;li&gt;Ensures SolrCore is closed on any errors&lt;/li&gt;
	&lt;li&gt;Simplifies SolrCore ctor a bit by extracting logic to separate methods. More can be done I&apos;m sure, by breaking out this class into several auxiliary classes, but not in the context of this issue.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Tests pass.&lt;/p&gt;</comment>
                            <comment id="14504955" author="shaie" created="Tue, 21 Apr 2015 13:37:43 +0000"  >&lt;p&gt;If there are no objections, I will commit this tomorrow.&lt;/p&gt;</comment>
                            <comment id="14506340" author="anshumg" created="Wed, 22 Apr 2015 03:32:34 +0000"  >&lt;p&gt;Shai, can you give me a just a few hours? I&apos;d want to look at this change. I wanted to get to it earlier today but didn&apos;t get any time.&lt;/p&gt;</comment>
                            <comment id="14506443" author="shaie" created="Wed, 22 Apr 2015 05:19:15 +0000"  >&lt;p&gt;Sure!&lt;/p&gt;</comment>
                            <comment id="14506494" author="anshumg" created="Wed, 22 Apr 2015 06:10:07 +0000"  >&lt;p&gt;Thanks for doing all of the cleanup while fixing the race condition! LGTM other than these points:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;You have a nocommit about removal of the constructors, I&apos;d say we should deprecate them for one release (at least).&lt;/li&gt;
	&lt;li&gt;Can you extract zkController.watchZKConfDir() back out, I think you moved it inline but it keeps things cleaner and makes more sense to have that as a method.&lt;/li&gt;
	&lt;li&gt;Also, shouldn&apos;t zkController.getConfigDirListener.OnReconnect() reset the watches on zk i.e. have a call to watchZKConfDir() added back?&lt;/li&gt;
	&lt;li&gt;configLocation is no longer used in unregister, so you might want to remove that too.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14506514" author="shaie" created="Wed, 22 Apr 2015 06:31:18 +0000"  >&lt;p&gt;Thanks Anshum. Good catch on OnReconnect()! I applied all your comments.&lt;/p&gt;</comment>
                            <comment id="14506537" author="anshumg" created="Wed, 22 Apr 2015 06:49:06 +0000"  >&lt;p&gt;One last thing and it&apos;s a +1 from my end.&lt;/p&gt;

&lt;p&gt;Can you also remove the check for &lt;tt&gt;collection == null&lt;/tt&gt; in the line below?That check would never be false due to the assert right above.&lt;br/&gt;
It&apos;s not something that you changed but I think it&apos;d be good to just clean that up.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void unregister(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; coreName, CoreDescriptor cd) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; InterruptedException, KeeperException {
    &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; coreNodeName = cd.getCloudDescriptor().getCoreNodeName();
    &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; collection = cd.getCloudDescriptor().getCollectionName();
    &lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; collection != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;

    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (collection == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; || collection.trim().length() == 0) {
      log.error(&lt;span class=&quot;code-quote&quot;&gt;&quot;No collection was specified.&quot;&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14506539" author="anshumg" created="Wed, 22 Apr 2015 06:52:37 +0000"  >&lt;p&gt;Also, as the test that you&apos;ve added is only useful when we manually add breakpoints and debug, I guess it&apos;s a good idea to disable the test with that comment and not increase the time taken to really run the tests on Jenkins. What do you think?&lt;/p&gt;</comment>
                            <comment id="14506550" author="shaie" created="Wed, 22 Apr 2015 07:02:28 +0000"  >&lt;p&gt;I think that removing that check is dangerous since someone who doesn&apos;t run w/ assertions enabled (i.e. in production) will hit an NPE, rather than see this error message. I would rather remove the assert and change the code as follows:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (collection == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; || collection.trim().length() == 0) {
      log.error(&lt;span class=&quot;code-quote&quot;&gt;&quot;No collection was specified.&quot;&lt;/span&gt;);
      &lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;No collection was specified: [&quot;&lt;/span&gt; + collection + &lt;span class=&quot;code-quote&quot;&gt;&quot;]&quot;&lt;/span&gt;;
      &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt;;
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;About removing the test, I understand it seems like a waste of time to run a 30 seconds test that now seems to be fixed. But if we remove it, and a bug creeps back into the code, we&apos;d never know as we don&apos;t test this case anywhere else. I prefer that we mark it (and the other test in that class as &amp;#64;Nightly).&lt;/p&gt;</comment>
                            <comment id="14506553" author="shaie" created="Wed, 22 Apr 2015 07:06:32 +0000"  >&lt;p&gt;Marked tests as &amp;#64;Nightly and changed the assertion. BTW, I also noticed there is a potential bug: we check that &lt;tt&gt;collection.trim().length()&lt;/tt&gt; isn&apos;t empty, but later we use &lt;tt&gt;collection&lt;/tt&gt; as is. Thinking leading/trailing whitespaces in collection name doesn&apos;t make sense, I added code to CloudDescriptor to always call trim().&lt;/p&gt;</comment>
                            <comment id="14506558" author="shaie" created="Wed, 22 Apr 2015 07:09:33 +0000"  >&lt;p&gt;&amp;#64;Nightly annotation moved to class-level.&lt;/p&gt;</comment>
                            <comment id="14506560" author="anshumg" created="Wed, 22 Apr 2015 07:13:06 +0000"  >&lt;p&gt;That code change looks fine to me and +1 on the Nightly, I certainly don&apos;t want the test removed. &lt;br/&gt;
Let&apos;s not add the trim in there as it&apos;s not done anywhere else and it&apos;s a fair assumption that we wouldn&apos;t get multiple whitespaces for a collection name.&lt;/p&gt;</comment>
                            <comment id="14506563" author="shaie" created="Wed, 22 Apr 2015 07:16:40 +0000"  >&lt;p&gt;removed .trim() call in CloudDescriptor and also in ZkController.unregister() so it&apos;s consistent with the rest of the method.&lt;/p&gt;</comment>
                            <comment id="14506565" author="mdrob" created="Wed, 22 Apr 2015 07:17:30 +0000"  >&lt;blockquote&gt;&lt;p&gt;Also, as the test that you&apos;ve added is only useful when we manually add breakpoints and debug, I guess it&apos;s a good idea to disable the test with that comment and not increase the time taken to really run the tests on Jenkins. What do you think?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;It might be possible to reproduce the context switching/breakpoint behaviour by inserting several countdown latches into the test. This might end up being more trouble than it&apos;s worth, but attempting to reliably trigger race conditions can be nearly impossible otherwise.&lt;/p&gt;</comment>
                            <comment id="14506569" author="anshumg" created="Wed, 22 Apr 2015 07:21:04 +0000"  >&lt;p&gt;Thanks Shai! Here&apos;s my +1 again.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mdrob&quot; class=&quot;user-hover&quot; rel=&quot;mdrob&quot;&gt;mdrob&lt;/a&gt; Thanks for pointing that out and it might be worth the effort but I&apos;d suggest we commit this as a nightly test and then look at simulating the breakpoints by inserting the latches.&lt;/p&gt;</comment>
                            <comment id="14506637" author="jira-bot" created="Wed, 22 Apr 2015 08:25:28 +0000"  >&lt;p&gt;Commit 1675274 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=shaie&quot; class=&quot;user-hover&quot; rel=&quot;shaie&quot;&gt;shaie&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1675274&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1675274&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7408&quot; title=&quot;Let SolrCore be the only thing which registers/unregisters a config directory listener&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7408&quot;&gt;&lt;del&gt;SOLR-7408&lt;/del&gt;&lt;/a&gt;: Let SolrCore be the only thing which registers/unregisters a config directory listener&lt;/p&gt;</comment>
                            <comment id="14506727" author="jira-bot" created="Wed, 22 Apr 2015 09:42:16 +0000"  >&lt;p&gt;Commit 1675301 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=shaie&quot; class=&quot;user-hover&quot; rel=&quot;shaie&quot;&gt;shaie&lt;/a&gt; in branch &apos;dev/branches/branch_5x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1675301&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1675301&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7408&quot; title=&quot;Let SolrCore be the only thing which registers/unregisters a config directory listener&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7408&quot;&gt;&lt;del&gt;SOLR-7408&lt;/del&gt;&lt;/a&gt;: Let SolrCore be the only thing which registers/unregisters a config directory listener&lt;/p&gt;</comment>
                            <comment id="14506728" author="shaie" created="Wed, 22 Apr 2015 09:42:47 +0000"  >&lt;p&gt;Committed to trunk and 5x. Thanks Anshum for the feedback!&lt;/p&gt;</comment>
                            <comment id="14565736" author="jira-bot" created="Sat, 30 May 2015 00:56:21 +0000"  >&lt;p&gt;Commit 1682570 from hossman@apache.org in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1682570&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1682570&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7603&quot; title=&quot;Scary non reproducible failure from UpdateRequestProcessorFactoryTest.testUpdateDistribChainSkipping&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7603&quot;&gt;&lt;del&gt;SOLR-7603&lt;/del&gt;&lt;/a&gt;: more test tweaks to protect ourselves from unexpected log levels in tests like the one introduced by &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7408&quot; title=&quot;Let SolrCore be the only thing which registers/unregisters a config directory listener&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7408&quot;&gt;&lt;del&gt;SOLR-7408&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14565738" author="jira-bot" created="Sat, 30 May 2015 00:59:41 +0000"  >&lt;p&gt;Commit 1682571 from hossman@apache.org in branch &apos;dev/branches/branch_5x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1682571&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1682571&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7603&quot; title=&quot;Scary non reproducible failure from UpdateRequestProcessorFactoryTest.testUpdateDistribChainSkipping&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7603&quot;&gt;&lt;del&gt;SOLR-7603&lt;/del&gt;&lt;/a&gt;: more test tweaks to protect ourselves from unexpected log levels in tests like the one introduced by &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7408&quot; title=&quot;Let SolrCore be the only thing which registers/unregisters a config directory listener&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7408&quot;&gt;&lt;del&gt;SOLR-7408&lt;/del&gt;&lt;/a&gt; (merge r1682570)&lt;/p&gt;</comment>
                            <comment id="14586774" author="anshumg" created="Mon, 15 Jun 2015 21:42:22 +0000"  >&lt;p&gt;Bulk close for 5.2.0.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12727145" name="SOLR-7408.patch" size="48084" author="shaie" created="Wed, 22 Apr 2015 07:16:40 +0000"/>
                            <attachment id="12727144" name="SOLR-7408.patch" size="48708" author="shaie" created="Wed, 22 Apr 2015 07:09:33 +0000"/>
                            <attachment id="12727143" name="SOLR-7408.patch" size="48753" author="shaie" created="Wed, 22 Apr 2015 07:06:32 +0000"/>
                            <attachment id="12727140" name="SOLR-7408.patch" size="47390" author="shaie" created="Wed, 22 Apr 2015 06:31:18 +0000"/>
                            <attachment id="12726432" name="SOLR-7408.patch" size="45259" author="shaie" created="Sun, 19 Apr 2015 11:09:26 +0000"/>
                            <attachment id="12725851" name="SOLR-7408.patch" size="15817" author="shaie" created="Thu, 16 Apr 2015 12:08:05 +0000"/>
                            <attachment id="12725827" name="SOLR-7408.patch" size="13613" author="shaie" created="Thu, 16 Apr 2015 10:14:23 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10430"><![CDATA[Patch]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 23 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2dc53:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>