<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:48:04 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-15520] Refguide no longer builds on Windows</title>
                <link>https://issues.apache.org/jira/browse/SOLR-15520</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;When running the gradlew build on windows, there are 2 bugs: &lt;/p&gt;

&lt;p&gt;a) when it installs &quot;sassc-2.4.0&quot;, it seems to try to compile something, which won&apos;t work on windows, because you won&apos;t have a compile available. Neither &quot;make&quot;:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;&amp;gt; Task :solr:solr-ref-guide:jrubyPrepare
WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by com.headius.backport9.modules.Modules (file:/C:/Users/jenkins/.gradle/caches/modules-2/files-2.1/org.jruby/jruby-complete/9.2.9.0/8e44ce7a1417966d89957bd766a148601e28828b/jruby-complete-9.2.9.0.jar) to method sun.nio.ch.NativeThread.signal(long)
WARNING: Please consider reporting this to the maintainers of com.headius.backport9.modules.Modules
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
Successfully installed rb-fsevent-0.11.0
Successfully installed ffi-1.15.3-java
Successfully installed rb-inotify-0.10.1
Successfully installed unicode-display_width-1.7.0
Successfully installed forwardable-extended-2.6.0
Successfully installed rexml-3.2.5
Successfully installed listen-3.5.1
Building native extensions. This could take a while...
ERROR:  Error installing C:\Users\jenkins\.gradle\caches\modules-2\files-2.1\rubygems\sassc\2.4.0\3032f0c1662efc8aa04636e99a6bdefd15549fc8\sassc-2.4.0.gem:
	ERROR: Failed to build gem native extension.

    current directory: C:/Users/jenkins/workspace/Solr-main-Windows/solr/solr-ref-guide/build/.gems/gems/sassc-2.4.0/ext
java -cp ;C:\Users\jenkins\.gradle\caches\modules-2\files-2.1\org.jruby\jruby-complete\9.2.9.0\8e44ce7a1417966d89957bd766a148601e28828b\jruby-complete-9.2.9.0.jar org.jruby.Main -r ./siteconf20210706-5988-13j4z41.rb extconf.rb
WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by com.headius.backport9.modules.Modules (file:/C:/Users/jenkins/.gradle/caches/modules-2/files-2.1/org.jruby/jruby-complete/9.2.9.0/8e44ce7a1417966d89957bd766a148601e28828b/jruby-complete-9.2.9.0.jar) to method sun.nio.ch.NativeThread.signal(long)
WARNING: Please consider reporting this to the maintainers of com.headius.backport9.modules.Modules
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
creating Makefile

current directory: C:/Users/jenkins/workspace/Solr-main-Windows/solr/solr-ref-guide/build/.gems/gems/sassc-2.4.0/ext
make &quot;DESTDIR=&quot; clean
&apos;make&apos; is not recognized as an internal or external command,
operable program or batch file.

current directory: C:/Users/jenkins/workspace/Solr-main-Windows/solr/solr-ref-guide/build/.gems/gems/sassc-2.4.0/ext
make &quot;DESTDIR=&quot;
&apos;make&apos; is not recognized as an internal or external command,
operable program or batch file.

make failed, exit code 1
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;b) if you have whitespace in your working dircetory path, it fails like this:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;&amp;gt; Task :solr:solr-ref-guide:jrubyPrepare
WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by com.headius.backport9.modules.Modules (file:/C:/Users/Uwe%20Schindler/.gradle/caches/modules-2/files-2.1/org.jruby/jruby-complete/9.2.9.0/8e44ce7a1417966d89957bd766a148601e28828b/jruby-complete-9.2.9.0.jar) to method sun.nio.ch.NativeThread.signal(long)
WARNING: Please consider reporting this to the maintainers of com.headius.backport9.modules.Modules
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
Successfully installed rb-fsevent-0.11.0
Successfully installed ffi-1.15.3-java
Successfully installed rb-inotify-0.10.1
Successfully installed unicode-display_width-1.7.0
Successfully installed forwardable-extended-2.6.0
Successfully installed rexml-3.2.5
Successfully installed listen-3.5.1
Building native extensions. This could take a while...
ERROR:  Error installing C:\Users\Uwe Schindler\.gradle\caches\modules-2\files-2.1\rubygems\sassc\2.4.0\3032f0c1662efc8aa04636e99a6bdefd15549fc8\sassc-2.4.0.gem:
        ERROR: Failed to build gem native extension.

    current directory: C:/Users/Uwe Schindler/Projects/lucene/solr/solr/solr-ref-guide/build/.gems/gems/sassc-2.4.0/ext
java -cp ;C:\Users\Uwe Schindler\.gradle\caches\modules-2\files-2.1\org.jruby\jruby-complete\9.2.9.0\8e44ce7a1417966d89957bd766a148601e28828b\jruby-complete-9.2.9.0.jar org.jruby.Main -r ./siteconf20210706-24280-7dgu7s.rb extconf.rb
Fehler: Hauptklasse Schindler\.gradle\caches\modules-2\files-2.1\org.jruby\jruby-complete\9.2.9.0\8e44ce7a1417966d89957bd766a148601e28828b\jruby-complete-9.2.9.0.jar konnte nicht gefunden oder geladen werden
Ursache: java.lang.ClassNotFoundException: Schindler\.gradle\caches\modules-2\files-2.1\org.jruby\jruby-complete\9.2.9.0\8e44ce7a1417966d89957bd766a148601e28828b\jruby-complete-9.2.9.0.jar

extconf failed, exit code 1

Gem files will remain installed in C:/Users/Uwe Schindler/Projects/lucene/solr/solr/solr-ref-guide/build/.gems/gems/sassc-2.4.0 for inspection.
Results logged to C:/Users/Uwe Schindler/Projects/lucene/solr/solr/solr-ref-guide/build/.gems/extensions/universal-java-11/2.5.0/sassc-2.4.0/gem_make.out
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I set this as blocker, because it make Solr&apos;s build completely fail to do precommit on my machine!&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows 10&lt;/p&gt;</environment>
        <key id="13387975">SOLR-15520</key>
            <summary>Refguide no longer builds on Windows</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="uschindler">Uwe Schindler</assignee>
                                    <reporter username="uschindler">Uwe Schindler</reporter>
                        <labels>
                    </labels>
                <created>Tue, 6 Jul 2021 16:50:10 +0000</created>
                <updated>Thu, 12 May 2022 00:26:57 +0000</updated>
                            <resolved>Wed, 7 Jul 2021 13:32:53 +0000</resolved>
                                    <version>9.0</version>
                                    <fixVersion>9.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="2400">40m</timespent>
                                <comments>
                            <comment id="17375899" author="thetaphi" created="Tue, 6 Jul 2021 17:34:07 +0000"  >&lt;p&gt;This looks like the issue: &lt;a href=&quot;https://github.com/sass/sassc-ruby/issues/182&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/sass/sassc-ruby/issues/182&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Maybe we can up/downgrade.&lt;/p&gt;</comment>
                            <comment id="17375904" author="ctargett" created="Tue, 6 Jul 2021 17:44:34 +0000"  >&lt;p&gt;Did this used to work, or is this the first time you&apos;ve tried to run precommit in a while?&lt;/p&gt;

&lt;p&gt;I was going to share the same link to the sassc issue. The problem is, I believe that&apos;s getting pulled in by JRuby - we don&apos;t control what version of sassc we&apos;re getting (it&apos;s not in build.gradle).  I did change some dependency versions recently, but not jruby, so not sure if it&apos;s related or not.&lt;/p&gt;

&lt;p&gt;Perhaps there is a way to already have the new version of sassc before jruby starts...but I don&apos;t have a Windows machine and feel like I&apos;d get myself down a pretty deep rabbit hole trying to guess at it.&lt;/p&gt;

&lt;p&gt;Perhaps we should change precommit to give the option of skipping the Ref Guide that can be used on Windows for the time being?&lt;/p&gt;</comment>
                            <comment id="17376360" author="thetaphi" created="Wed, 7 Jul 2021 07:18:01 +0000"  >&lt;p&gt;It always worked fine since early time on jenkins.&lt;/p&gt;

&lt;p&gt;What happened on Jenkins: Due to the other bug &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-15521&quot; title=&quot;Cleanup gitattributes and align to spotless config&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-15521&quot;&gt;SOLR-15521&lt;/a&gt;, the refguide was not built at all since 3 weeks (the build broke earlier). Before that it always worked. I fixed the issue with the line endings and wiped the workspace. After that it started on Jenkins.&lt;/p&gt;

&lt;p&gt;I had not build Solr on my local machine for some week (was mostly working on Lucene), so I can&apos;t clearly say when it happened for the first time.&lt;/p&gt;

&lt;p&gt;Uwe&lt;/p&gt;</comment>
                            <comment id="17376364" author="thetaphi" created="Wed, 7 Jul 2021 07:20:11 +0000"  >&lt;p&gt;Can we maybe use a working version of sassc and write it in out gemfile? It looks like this always depends on latest version. Something updated and then it fetched again.&lt;/p&gt;</comment>
                            <comment id="17376380" author="thetaphi" created="Wed, 7 Jul 2021 07:50:45 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ctargett&quot; class=&quot;user-hover&quot; rel=&quot;ctargett&quot;&gt;ctargett&lt;/a&gt;: I know the problem.&lt;/p&gt;

&lt;p&gt;You commit of 2021-06-30 broken it. After restoring the gradle file from before that time it worked. Before your update of some gems, it used &quot;sass&quot; and not &quot;sassc&quot; (a ruby implementation of sass). So it did not use any native components.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;&amp;gt; Task :solr:solr-ref-guide:jrubyPrepare
WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by com.headius.backport9.modules.Modules (file:/C:/Users/Uwe%20Schindler/.gradle/caches/modules-2/files-2.1/org.jruby/jruby-complete/9.2.9.0/8e44ce7a1417966d89957bd766a148601e28828b/jruby-complete-9.2.9.0.jar) to method sun.nio.ch.NativeThread.signal(long)
WARNING: Please consider reporting this to the maintainers of com.headius.backport9.modules.Modules
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
Successfully installed sass-listen-4.0.0

Ruby Sass has reached end-of-life and should no longer be used.

* If you use Sass as a command-line tool, we recommend using Dart Sass, the new
  primary implementation: https://sass-lang.com/install

* If you use Sass as a plug-in for a Ruby web framework, we recommend using the
  sassc gem: https://github.com/sass/sassc-ruby#readme

* For more details, please refer to the Sass blog:
  https://sass-lang.com/blog/posts/7828841

Successfully installed sass-3.7.4
Successfully installed rouge-1.11.1
Successfully installed mercenary-0.3.6
Successfully installed kramdown-1.17.0
Successfully installed jekyll-watch-1.5.1
Successfully installed jekyll-sass-converter-1.5.2
Successfully installed concurrent-ruby-1.0.5-java
Successfully installed slim-4.0.1
Successfully installed jekyll-3.5.2
10 gems installed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Could we maybe downgrade to use a version of rails that still uses deprecated &quot;sass&quot; instead of &quot;sassc&quot;? It looks like we should really avoid native dependencies, as those break easily.&lt;/p&gt;

&lt;p&gt;With this patch it works again for me:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-groovy&quot;&gt;
 solr/solr-ref-guide/build.gradle | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

diff --git a/solr/solr-ref-guide/build.gradle b/solr/solr-ref-guide/build.gradle
index 67f19c67c19..46c6f0aba07 100644
--- a/solr/solr-ref-guide/build.gradle
+++ b/solr/solr-ref-guide/build.gradle
@@ -68,14 +68,14 @@ dependencies {
     depVer(&lt;span class=&quot;code-quote&quot;&gt;&apos;org.apache.zookeeper:zookeeper&apos;&lt;/span&gt;)
 
     &lt;span class=&quot;code-comment&quot;&gt;// jekyll dependencies
&lt;/span&gt;-    gems &lt;span class=&quot;code-quote&quot;&gt;&apos;rubygems:jekyll:4.2.0&apos;&lt;/span&gt;
+    gems &lt;span class=&quot;code-quote&quot;&gt;&apos;rubygems:jekyll:3.5.2&apos;&lt;/span&gt;
     gems &lt;span class=&quot;code-quote&quot;&gt;&apos;rubygems:jekyll-asciidoc:3.0.0&apos;&lt;/span&gt;
 
     &lt;span class=&quot;code-comment&quot;&gt;// don&lt;span class=&quot;code-quote&quot;&gt;&apos;t know why we have to explicitly add these deps but it doesn&apos;&lt;/span&gt;t resolve them
&lt;/span&gt;     &lt;span class=&quot;code-comment&quot;&gt;// automatically.
&lt;/span&gt;     gems &lt;span class=&quot;code-quote&quot;&gt;&apos;rubygems:tilt:2.0.10&apos;&lt;/span&gt;
-    gems &lt;span class=&quot;code-quote&quot;&gt;&apos;rubygems:slim:4.1.0&apos;&lt;/span&gt;
-    gems &lt;span class=&quot;code-quote&quot;&gt;&apos;rubygems:concurrent-ruby:1.1.9&apos;&lt;/span&gt;
+    gems &lt;span class=&quot;code-quote&quot;&gt;&apos;rubygems:slim:4.0.1&apos;&lt;/span&gt;
+    gems &lt;span class=&quot;code-quote&quot;&gt;&apos;rubygems:concurrent-ruby:1.0.5&apos;&lt;/span&gt;
 }
 
 sourceSets {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Unfortunately, then jekyll complains because of some problem in alias-management.adoc:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;&amp;gt; Task :solr:solr-ref-guide:buildSite
WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by com.headius.backport9.modules.Modules (file:/C:/Users/Uwe%20Schindler/.gradle/caches/modules-2/files-2.1/org.jruby/jruby-complete/9.2.9.0/8e44ce7a1417966d89957bd766a148601e28828b/jruby-complete-9.2.9.0.jar) to method sun.nio.ch.NativeThread.signal(long)
WARNING: Please consider reporting this to the maintainers of com.headius.backport9.modules.Modules
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
Configuration file: C:/Users/Uwe Schindler/Projects/lucene/solr/solr/solr-ref-guide/build/html-site-content/_config.yml
            Source: C:/Users/Uwe Schindler/Projects/lucene/solr/solr/solr-ref-guide/build/html-site-content
       Destination: ../html-site
 Incremental build: disabled. Enable with --incremental
      Generating...
  Conversion error: Jekyll::AsciiDoc::Converter encountered an error while converting &apos;alias-management.adoc&apos;:
                    uninitialized constant Rouge::Formatters::HTMLInline
jekyll 3.5.2 | Error:  uninitialized constant Rouge::Formatters::HTMLInline
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Maybe we should find the latest version of jekyll that uses sass instead of sassc?&lt;/p&gt;</comment>
                            <comment id="17376388" author="thetaphi" created="Wed, 7 Jul 2021 08:02:06 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ctargett&quot; class=&quot;user-hover&quot; rel=&quot;ctargett&quot;&gt;ctargett&lt;/a&gt;,&lt;br/&gt;
I got it working. We only need to use a jekyll version &amp;lt;4, so I used the latest and voila, all works again:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-groovy&quot;&gt;
 solr/solr-ref-guide/build.gradle | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/solr/solr-ref-guide/build.gradle b/solr/solr-ref-guide/build.gradle
index 67f19c67c19..bdb55741836 100644
--- a/solr/solr-ref-guide/build.gradle
+++ b/solr/solr-ref-guide/build.gradle
@@ -68,7 +68,7 @@ dependencies {
     depVer(&lt;span class=&quot;code-quote&quot;&gt;&apos;org.apache.zookeeper:zookeeper&apos;&lt;/span&gt;)
 
     &lt;span class=&quot;code-comment&quot;&gt;// jekyll dependencies
&lt;/span&gt;-    gems &lt;span class=&quot;code-quote&quot;&gt;&apos;rubygems:jekyll:4.2.0&apos;&lt;/span&gt;
+    gems &lt;span class=&quot;code-quote&quot;&gt;&apos;rubygems:jekyll:3.9.1&apos;&lt;/span&gt;
     gems &lt;span class=&quot;code-quote&quot;&gt;&apos;rubygems:jekyll-asciidoc:3.0.0&apos;&lt;/span&gt;
 
     &lt;span class=&quot;code-comment&quot;&gt;// don&lt;span class=&quot;code-quote&quot;&gt;&apos;t know why we have to explicitly add these deps but it doesn&apos;&lt;/span&gt;t resolve them&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Result:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;&amp;gt; Task :solr:solr-ref-guide:buildSite
WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by com.headius.backport9.modules.Modules (file:/C:/Users/Uwe%20Schindler/.gradle/caches/modules-2/files-2.1/org.jruby/jruby-complete/9.2.9.0/8e44ce7a1417966d89957bd766a148601e28828b/jruby-complete-9.2.9.0.jar) to method sun.nio.ch.NativeThread.signal(long)
WARNING: Please consider reporting this to the maintainers of com.headius.backport9.modules.Modules
WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
Configuration file: C:/Users/Uwe Schindler/Projects/lucene/solr/solr/solr-ref-guide/build/html-site-content/_config.yml
            Source: C:/Users/Uwe Schindler/Projects/lucene/solr/solr/solr-ref-guide/build/html-site-content
       Destination: ../html-site
 Incremental build: disabled. Enable with --incremental
      Generating...
asciidoctor: WARNING: task-management.adoc: line 46: section title out of sequence: expected level 2, got level 3
                    done in 40.488 seconds.
 Auto-regeneration: disabled. Use --watch to enable.

BUILD SUCCESSFUL in 2m 37s
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I have not fully checked the output, but this works for me. I am not sure about the dependencies at &quot;don&apos;t know why&quot; section, I used the ones from your latest commit. Maybe adapt them with jekyll 3.9.1.&lt;/p&gt;</comment>
                            <comment id="17376390" author="thetaphi" created="Wed, 7 Jul 2021 08:06:53 +0000"  >&lt;p&gt;I think the other deps are fine, just latest versions.&lt;/p&gt;

&lt;p&gt;So my suggestion is to simply go with jekyll 3.9.1 instead of 4.2.0. Refguide builds, so all looks fine to me.&lt;br/&gt;
Maybe add a note into the dependencies that jekyll &amp;gt;=4.0 does not work on all platforms as it uses native code.&lt;/p&gt;</comment>
                            <comment id="17376391" author="thetaphi" created="Wed, 7 Jul 2021 08:08:47 +0000"  >&lt;p&gt;Should I commit my one-line change? The results after assemble look fine, I see no major problems with my eyes &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17376395" author="thetaphi" created="Wed, 7 Jul 2021 08:15:12 +0000"  >&lt;p&gt;Pull request: &lt;a href=&quot;https://github.com/apache/solr/pull/205&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/solr/pull/205&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17376511" author="ctargett" created="Wed, 7 Jul 2021 11:58:39 +0000"  >&lt;p&gt;I&apos;m fine with downgrading it to solve the immediate problem and unblock you.  I made one comment that maybe just adding a reference to this issue in your comment would help people find this discussion later, but that could also be found by the history so not a big deal.&lt;/p&gt;

&lt;p&gt;But longer term, we can&apos;t live with an old version of jekyll forever because one platform can&apos;t build the Ref Guide - there&apos;s nothing about it that should change with the platform. Jekyll doesn&apos;t officially support Windows, but has some documentation on it: &lt;a href=&quot;https://jekyllrb.com/docs/installation/windows/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://jekyllrb.com/docs/installation/windows/&lt;/a&gt;, but seems like it&apos;s adding another whole batch of dependencies. Another option is to switch to Docker containers, which seems overkill for a precommit, assuming it&apos;s even truly viable for that purpose (which I doubt). Or maybe simplest is we need to go back to a non-Jekyll build of a &quot;bare bones&quot; Ref Guide that&apos;s only used for precommit.&lt;/p&gt;

&lt;p&gt;At some point in the next couple of months I&apos;m going to start looking at how to move us away from Jekyll, so we can live with this for a time and I&apos;ll put ease of cross-platform build on my list as I look at alternatives.&lt;/p&gt;

&lt;p&gt;Thanks Uwe for unblocking the situation, and sorry for the trouble it caused you.&lt;/p&gt;</comment>
                            <comment id="17376538" author="thetaphi" created="Wed, 7 Jul 2021 12:50:44 +0000"  >&lt;p&gt;Docker is also not easy useable and is a HUGE dependency not installed on any system by default. IMHO, the whole Solr build system should use Gradle and a Java VM only, so the current setup looks perfect.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Thanks Uwe for unblocking the situation, and sorry for the trouble it caused you.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;It was not my local computer, the problem was that Windows builds did not work anymore. Jenkins reported this, but nobody was looking into it. So I tried to resolve the issues. I know of many customers using Solr in Windows Server, so we should not drop it. To test Solr on Windows, you need a working build system there, so it should run without installing any special tools for everybody.&lt;/p&gt;

&lt;p&gt;Maybe the issue resolves when the sassc provides useable artifacts for windows - The issue that Charles Oliver Nutter is working on (or did he gave up).&lt;/p&gt;

&lt;p&gt;For now it looks like jekyll has 2 versions and they have both &quot;same features&quot;, they differ mostly only in the change of sass and some other tools: The 4.x version uses sassc, while 3.x uses ruby-sass. On the other hand: do we use &quot;sass&quot; at all? If not, mabye let&apos;s exclude the dependency? SASS is for processing CSS templates, do we use that when building the refguide?&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Jekyll doesn&apos;t officially support Windows, but has some documentation on it: &lt;a href=&quot;https://jekyllrb.com/docs/installation/windows/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://jekyllrb.com/docs/installation/windows/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;That&apos;s about ruby itsself. The cool thing in Gradle is that we use jruby which has no dependencies outside the Java VM and is easier to setup. But jruby only works fine with pure &quot;ruby gems&quot;, if you have native depenedencies it breaks.&lt;/p&gt;</comment>
                            <comment id="17376555" author="ctargett" created="Wed, 7 Jul 2021 13:07:19 +0000"  >&lt;blockquote&gt;&lt;p&gt;I know of many customers using Solr in Windows Server, so we should not drop it. To test Solr on Windows, you need a working build system there, so it should run without installing any special tools for everybody.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;That wasn&apos;t what I was suggesting, really. I meant that we have zero need to build the full Ref Guide on Windows in order to test and support Solr on Windows.&lt;/p&gt;

&lt;p&gt;What we do during precommit is validate that links in the Ref Guide to other Ref Guide pages and to Javadocs will properly resolve. Before we switched to Gradle we did that in a different way because we didn&apos;t have a way for Ant to download the Ref Guide&apos;s dependencies. What we did was build a non-publishable ref guide that had no page navigation, no header, no formatting, etc., so it didn&apos;t use Jekyll at all. What I was suggesting was that we maybe need to go back to that &quot;dependency-less&quot; mode for precommit so we don&apos;t have these sorts of issues in the future.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;do we use &quot;sass&quot; at all?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I don&apos;t know, it&apos;s a dependency of Jekyll and brought in by Jekyll. Maybe it needs it for something. As I said at the start, &lt;b&gt;we&lt;/b&gt; are not declaring that dependency. I think it would make things more complicated to try to customize dependencies here. Considering that I don&apos;t know Ruby at all and don&apos;t really know Gradle and have only a threadbare grasp on any of this ecosystem, I think it&apos;s going to make things harder and not easier. Which is all one reason why I intend to eventually change the static site generator that&apos;s used.&lt;/p&gt;</comment>
                            <comment id="17376566" author="thetaphi" created="Wed, 7 Jul 2021 13:20:04 +0000"  >&lt;p&gt;I tried to disable the sassc dependency, which worked, but then jruby was complaining. So it looks like it is &quot;not optional&quot;.&lt;/p&gt;</comment>
                            <comment id="17376567" author="thetaphi" created="Wed, 7 Jul 2021 13:21:44 +0000"  >&lt;p&gt;Ok, I will merge the jekyll downgrade. The 3.9.1 version seems to have all features we need, so it&apos;s good.&lt;/p&gt;</comment>
                            <comment id="17376570" author="thetaphi" created="Wed, 7 Jul 2021 13:24:23 +0000"  >&lt;blockquote&gt;&lt;p&gt;I meant that we have zero need to build the full Ref Guide on Windows in order to test and support Solr on Windows.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;The problem is that the refguide is included in the whole build of solr. If you run &quot;gradlew assemble&quot;, you also get the final refguide. Keeping in mind that the refguide is released separately, we should maybe work on having this also separated.&lt;/p&gt;</comment>
                            <comment id="17376576" author="jira-bot" created="Wed, 7 Jul 2021 13:32:04 +0000"  >&lt;p&gt;Commit 1dbde9cd573213a43ad8ba2cdc4c663c864a2ffa in solr&apos;s branch refs/heads/main from Uwe Schindler&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=1dbde9c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=1dbde9c&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-15520&quot; title=&quot;Refguide no longer builds on Windows&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-15520&quot;&gt;&lt;del&gt;SOLR-15520&lt;/del&gt;&lt;/a&gt;: Fix build on windows by downgrading jekyll (#205)&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-15520&quot; title=&quot;Refguide no longer builds on Windows&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-15520&quot;&gt;&lt;del&gt;SOLR-15520&lt;/del&gt;&lt;/a&gt;: Fix build on windows by downgrading jekyll&lt;/p&gt;</comment>
                            <comment id="17376577" author="jira-bot" created="Wed, 7 Jul 2021 13:32:06 +0000"  >&lt;p&gt;Commit 1dbde9cd573213a43ad8ba2cdc4c663c864a2ffa in solr&apos;s branch refs/heads/main from Uwe Schindler&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=1dbde9c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=1dbde9c&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-15520&quot; title=&quot;Refguide no longer builds on Windows&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-15520&quot;&gt;&lt;del&gt;SOLR-15520&lt;/del&gt;&lt;/a&gt;: Fix build on windows by downgrading jekyll (#205)&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-15520&quot; title=&quot;Refguide no longer builds on Windows&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-15520&quot;&gt;&lt;del&gt;SOLR-15520&lt;/del&gt;&lt;/a&gt;: Fix build on windows by downgrading jekyll&lt;/p&gt;</comment>
                            <comment id="17376578" author="thetaphi" created="Wed, 7 Jul 2021 13:32:53 +0000"  >&lt;p&gt;Thanks Cassandra for review.&lt;/p&gt;</comment>
                            <comment id="17535712" author="janhoy" created="Thu, 12 May 2022 00:26:57 +0000"  >&lt;p&gt;Closing after the 9.0.0 release&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 26 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0snug:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>