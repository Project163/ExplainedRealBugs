<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:59:53 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-6679] disable/remove suggester from stock solrconfig</title>
                <link>https://issues.apache.org/jira/browse/SOLR-6679</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;The stock solrconfig provides a bad experience with a large index... start up Solr and it will spin at 100% CPU for minutes, unresponsive, while it apparently builds a suggester index.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12751697">SOLR-6679</key>
            <summary>disable/remove suggester from stock solrconfig</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="yseeley@gmail.com">Yonik Seeley</reporter>
                        <labels>
                    </labels>
                <created>Thu, 30 Oct 2014 15:03:10 +0000</created>
                <updated>Mon, 23 Feb 2015 05:02:03 +0000</updated>
                            <resolved>Tue, 11 Nov 2014 01:49:57 +0000</resolved>
                                    <version>4.10</version>
                                    <fixVersion>4.10.3</fixVersion>
                    <fixVersion>5.0</fixVersion>
                                        <due></due>
                            <votes>2</votes>
                                    <watches>11</watches>
                                                                                                                <comments>
                            <comment id="14190183" author="yseeley@gmail.com" created="Thu, 30 Oct 2014 15:07:22 +0000"  >&lt;p&gt;This is what I did:&lt;br/&gt;
1) indexed 10M very small docs (only takes a few minutes).&lt;br/&gt;
2) shut down Solr&lt;br/&gt;
3) start up Solr and watch it be unresponsive for over 4 minutes!&lt;/p&gt;

&lt;p&gt;I didn&apos;t even use any of the fields specified in the suggester config and I never called the suggest request handler.&lt;br/&gt;
If this can&apos;t be made truly lazy, then it should just be removed/disabled for the stock solrconfig.&lt;br/&gt;
I&apos;ve already made this change for Heliosearch:  &lt;a href=&quot;https://github.com/Heliosearch/heliosearch/commit/b43988585f948965a5760bf60314fc76b1c099ff&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/Heliosearch/heliosearch/commit/b43988585f948965a5760bf60314fc76b1c099ff&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14191654" author="janhoy" created="Fri, 31 Oct 2014 10:01:36 +0000"  >&lt;p&gt;+1&lt;br/&gt;
Background thread build?&lt;br/&gt;
Would also like something more flexible than pure buildOnCommit. Perhaps an additional &lt;tt&gt;buildMinInterval=&amp;lt;seconds&amp;gt;&lt;/tt&gt; could tell the component that on a commit, it should only re-build if time-since-last-build &amp;gt; buildMinInterval.&lt;/p&gt;</comment>
                            <comment id="14199233" author="yseeley@gmail.com" created="Wed, 5 Nov 2014 22:22:47 +0000"  >&lt;p&gt;Give that I noticed 2 people who were bit by this in the last week (and who knows how many people that haven&apos;t noticed), we should probably comment out the suggester for the upcoming 4.10.3 release as well.&lt;/p&gt;</comment>
                            <comment id="14199874" author="shalinmangar" created="Thu, 6 Nov 2014 06:20:56 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14203763" author="mohsen" created="Sun, 9 Nov 2014 04:24:39 +0000"  >&lt;p&gt;+1&lt;br/&gt;
If you add reload() and build() to the subject of this issue more people will vote for this.&lt;/p&gt;</comment>
                            <comment id="14205780" author="jira-bot" created="Tue, 11 Nov 2014 01:43:49 +0000"  >&lt;p&gt;Commit 1638010 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yonik%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;yonik@apache.org&quot;&gt;yonik@apache.org&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1638010&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1638010&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6679&quot; title=&quot;disable/remove suggester from stock solrconfig&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6679&quot;&gt;&lt;del&gt;SOLR-6679&lt;/del&gt;&lt;/a&gt;: comment out suggester in stock config due to long startup times&lt;/p&gt;</comment>
                            <comment id="14205783" author="jira-bot" created="Tue, 11 Nov 2014 01:46:58 +0000"  >&lt;p&gt;Commit 1638012 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yonik%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;yonik@apache.org&quot;&gt;yonik@apache.org&lt;/a&gt; in branch &apos;dev/branches/branch_5x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1638012&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1638012&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6679&quot; title=&quot;disable/remove suggester from stock solrconfig&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6679&quot;&gt;&lt;del&gt;SOLR-6679&lt;/del&gt;&lt;/a&gt;: comment out suggester in stock config due to long startup times&lt;/p&gt;</comment>
                            <comment id="14205784" author="jira-bot" created="Tue, 11 Nov 2014 01:47:11 +0000"  >&lt;p&gt;Commit 1638013 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yonik%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;yonik@apache.org&quot;&gt;yonik@apache.org&lt;/a&gt; in branch &apos;dev/branches/lucene_solr_4_10&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1638013&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1638013&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6679&quot; title=&quot;disable/remove suggester from stock solrconfig&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6679&quot;&gt;&lt;del&gt;SOLR-6679&lt;/del&gt;&lt;/a&gt;: comment out suggester in stock config due to long startup times&lt;/p&gt;</comment>
                            <comment id="14245021" author="hossman" created="Sat, 13 Dec 2014 00:11:16 +0000"  >&lt;p&gt;rather then completley comment this out, i&apos;d like to propose that we add this back in but have it completley disabled by default and only usable if a sysprop is set on startup.  (similar to how result clustering works)&lt;/p&gt;

&lt;p&gt;if nothing else, this will make it easier to get hte docs updated, and let people try the feature out w/o needing to manually hack at the configs&lt;/p&gt;

&lt;p&gt;Attached patch shows what i mean.&lt;/p&gt;</comment>
                            <comment id="14245026" author="hossman" created="Sat, 13 Dec 2014 00:12:35 +0000"  >&lt;p&gt;updating summary to clarify focus of issue on disabling/removing (since &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6845&quot; title=&quot;Add buildOnStartup option for suggesters&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6845&quot;&gt;&lt;del&gt;SOLR-6845&lt;/del&gt;&lt;/a&gt; now exists to focus on fixing)&lt;/p&gt;</comment>
                            <comment id="14245068" author="yseeley@gmail.com" created="Sat, 13 Dec 2014 00:56:21 +0000"  >&lt;p&gt;Yep, as long as it works (to avoid impact if not used).&lt;br/&gt;
+1&lt;/p&gt;</comment>
                            <comment id="14247015" author="jira-bot" created="Mon, 15 Dec 2014 18:50:55 +0000"  >&lt;p&gt;Commit 1645721 from hossman@apache.org in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1645721&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1645721&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6679&quot; title=&quot;disable/remove suggester from stock solrconfig&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6679&quot;&gt;&lt;del&gt;SOLR-6679&lt;/del&gt;&lt;/a&gt;: uncomment /suggest, but tie it to an sysprop so you have to go out of your way to enable on startup&lt;/p&gt;</comment>
                            <comment id="14247021" author="jira-bot" created="Mon, 15 Dec 2014 18:52:57 +0000"  >&lt;p&gt;Commit 1645722 from hossman@apache.org in branch &apos;dev/branches/branch_5x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1645722&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1645722&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6679&quot; title=&quot;disable/remove suggester from stock solrconfig&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6679&quot;&gt;&lt;del&gt;SOLR-6679&lt;/del&gt;&lt;/a&gt;: uncomment /suggest, but tie it to an sysprop so you have to go out of your way to enable on startup (merge r1645721)&lt;/p&gt;</comment>
                            <comment id="14332814" author="anshumg" created="Mon, 23 Feb 2015 05:02:03 +0000"  >&lt;p&gt;Bulk close after 5.0 release.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12761501">SOLR-6845</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12686980" name="SOLR-6679_disabled_via_sysprop.patch" size="2108" author="hossman" created="Sat, 13 Dec 2014 00:11:16 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 39 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i21rtr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>