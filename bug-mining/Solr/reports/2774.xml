<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:10:33 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-8418] BoostQuery cannot be cast to TermQuery</title>
                <link>https://issues.apache.org/jira/browse/SOLR-8418</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;As a consequence of &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-6590&quot; title=&quot;Explore different ways to apply boosts&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LUCENE-6590&quot;&gt;&lt;del&gt;LUCENE-6590&lt;/del&gt;&lt;/a&gt;, &lt;tt&gt;MoreLikeThisHandler&lt;/tt&gt; was changed in r1701621 to use the new API. In &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7912&quot; title=&quot;Add support for boost and exclude the queried document id in MoreLikeThis QParser&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7912&quot;&gt;&lt;del&gt;SOLR-7912&lt;/del&gt;&lt;/a&gt;, I adapted that code for &lt;tt&gt;CloudMLTQParser&lt;/tt&gt; and &lt;tt&gt;SimpleMLTQParser&lt;/tt&gt;. However, setting the &lt;tt&gt;boost&lt;/tt&gt; parameter just failed for me after updating to 5.4 with the following error message:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;java.lang.ClassCastException: org.apache.lucene.search.BoostQuery cannot be &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt; to org.apache.lucene.search.TermQuery
        at org.apache.solr.search.mlt.SimpleMLTQParser.parse(SimpleMLTQParser.java:139)
        at org.apache.solr.search.QParser.getQuery(QParser.java:141)
        at org.apache.solr.handler.component.QueryComponent.prepare(QueryComponent.java:160)
        at org.apache.solr.handler.component.SearchHandler.handleRequestBody(SearchHandler.java:254)
        at org.apache.solr.handler.RequestHandlerBase.handleRequest(RequestHandlerBase.java:156)
        at org.apache.solr.core.SolrCore.execute(SolrCore.java:2073)
        at org.apache.solr.servlet.HttpSolrCall.execute(HttpSolrCall.java:658)
        at org.apache.solr.servlet.HttpSolrCall.call(HttpSolrCall.java:457)
        at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:222)
        at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:181)
        at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652)
        at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:585)
        at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
        at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:577)
        at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:223)
        at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1127)
        at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:515)
        at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185)
        at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1061)
        at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
        at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:215)
        at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:110)
        at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:97)
        at org.eclipse.jetty.server.Server.handle(Server.java:499)
        at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:310)
        at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:257)
        at org.eclipse.jetty.io.AbstractConnection$2.run(AbstractConnection.java:540)
        at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:635)
        at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:555)
        at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12922013">SOLR-8418</key>
            <summary>BoostQuery cannot be cast to TermQuery</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="andyetitmoves">Ramkumar Aiyengar</assignee>
                                    <reporter username="blackwinter">Jens Wille</reporter>
                        <labels>
                    </labels>
                <created>Tue, 15 Dec 2015 15:44:45 +0000</created>
                <updated>Mon, 9 May 2016 18:55:41 +0000</updated>
                            <resolved>Sun, 17 Jan 2016 22:53:04 +0000</resolved>
                                    <version>5.4</version>
                                    <fixVersion>5.4.1</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                    <component>MoreLikeThis</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="15058234" author="blackwinter" created="Tue, 15 Dec 2015 15:48:22 +0000"  >&lt;p&gt;I&apos;ve attached a patch that fixes the issue for all three classes and adds a test for each of them.&lt;/p&gt;</comment>
                            <comment id="15076028" author="andyetitmoves" created="Thu, 31 Dec 2015 15:41:28 +0000"  >&lt;p&gt;Attached is a slightly revised patch, please test and let me know if it works.&lt;/p&gt;</comment>
                            <comment id="15076189" author="jira-bot" created="Thu, 31 Dec 2015 23:31:27 +0000"  >&lt;p&gt;Commit 1722478 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=andyetitmoves&quot; class=&quot;user-hover&quot; rel=&quot;andyetitmoves&quot;&gt;andyetitmoves&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1722478&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1722478&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8418&quot; title=&quot;BoostQuery cannot be cast to TermQuery&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-8418&quot;&gt;&lt;del&gt;SOLR-8418&lt;/del&gt;&lt;/a&gt;: Adapt to changes in &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-6590&quot; title=&quot;Explore different ways to apply boosts&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LUCENE-6590&quot;&gt;&lt;del&gt;LUCENE-6590&lt;/del&gt;&lt;/a&gt; for use of boosts with MLTHandler and Simple/CloudMLTQParser&lt;/p&gt;</comment>
                            <comment id="15076267" author="jira-bot" created="Fri, 1 Jan 2016 10:39:17 +0000"  >&lt;p&gt;Commit 1722488 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=andyetitmoves&quot; class=&quot;user-hover&quot; rel=&quot;andyetitmoves&quot;&gt;andyetitmoves&lt;/a&gt; in branch &apos;dev/branches/branch_5x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1722488&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1722488&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8418&quot; title=&quot;BoostQuery cannot be cast to TermQuery&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-8418&quot;&gt;&lt;del&gt;SOLR-8418&lt;/del&gt;&lt;/a&gt;: Adapt to changes in &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-6590&quot; title=&quot;Explore different ways to apply boosts&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LUCENE-6590&quot;&gt;&lt;del&gt;LUCENE-6590&lt;/del&gt;&lt;/a&gt; for use of boosts with MLTHandler and Simple/CloudMLTQParser&lt;/p&gt;</comment>
                            <comment id="15076269" author="andyetitmoves" created="Fri, 1 Jan 2016 10:40:46 +0000"  >&lt;p&gt;Thanks Jens!&lt;/p&gt;</comment>
                            <comment id="15076271" author="blackwinter" created="Fri, 1 Jan 2016 10:46:56 +0000"  >&lt;p&gt;Thank you, Ramkumar! The revised patch looks good to me. I&apos;ll test it early next week when I&apos;m back in the office.&lt;/p&gt;</comment>
                            <comment id="15076348" author="jira-bot" created="Fri, 1 Jan 2016 18:03:57 +0000"  >&lt;p&gt;Commit 1722517 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=andyetitmoves&quot; class=&quot;user-hover&quot; rel=&quot;andyetitmoves&quot;&gt;andyetitmoves&lt;/a&gt; in branch &apos;dev/branches/branch_5x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1722517&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1722517&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8418&quot; title=&quot;BoostQuery cannot be cast to TermQuery&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-8418&quot;&gt;&lt;del&gt;SOLR-8418&lt;/del&gt;&lt;/a&gt;: Fix compiler error with Java 7&lt;/p&gt;</comment>
                            <comment id="15082836" author="blackwinter" created="Tue, 5 Jan 2016 10:54:28 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=andyetitmoves&quot; class=&quot;user-hover&quot; rel=&quot;andyetitmoves&quot;&gt;andyetitmoves&lt;/a&gt;, I&apos;ve verified that your commit fixes the issue. Thanks for taking care of it.&lt;/p&gt;</comment>
                            <comment id="15082866" author="andyetitmoves" created="Tue, 5 Jan 2016 11:18:44 +0000"  >&lt;p&gt;Cool, thanks for confirming!&lt;/p&gt;</comment>
                            <comment id="15088958" author="emaijala" created="Fri, 8 Jan 2016 09:28:02 +0000"  >&lt;p&gt;Confirmed fixed for me too. Thanks!&lt;/p&gt;</comment>
                            <comment id="15103956" author="andyetitmoves" created="Sun, 17 Jan 2016 22:35:51 +0000"  >&lt;p&gt;Reopening to backport to 5.4.1&lt;/p&gt;</comment>
                            <comment id="15103959" author="jira-bot" created="Sun, 17 Jan 2016 22:39:00 +0000"  >&lt;p&gt;Commit 1725144 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=andyetitmoves&quot; class=&quot;user-hover&quot; rel=&quot;andyetitmoves&quot;&gt;andyetitmoves&lt;/a&gt; in branch &apos;dev/branches/lucene_solr_5_4&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1725144&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1725144&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8418&quot; title=&quot;BoostQuery cannot be cast to TermQuery&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-8418&quot;&gt;&lt;del&gt;SOLR-8418&lt;/del&gt;&lt;/a&gt;: Adapt to changes in &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-6590&quot; title=&quot;Explore different ways to apply boosts&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LUCENE-6590&quot;&gt;&lt;del&gt;LUCENE-6590&lt;/del&gt;&lt;/a&gt; for use of boosts with MLTHandler and Simple/CloudMLTQParser&lt;/p&gt;</comment>
                            <comment id="15103962" author="jira-bot" created="Sun, 17 Jan 2016 22:45:52 +0000"  >&lt;p&gt;Commit 1725145 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=andyetitmoves&quot; class=&quot;user-hover&quot; rel=&quot;andyetitmoves&quot;&gt;andyetitmoves&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1725145&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1725145&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8418&quot; title=&quot;BoostQuery cannot be cast to TermQuery&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-8418&quot;&gt;&lt;del&gt;SOLR-8418&lt;/del&gt;&lt;/a&gt;: Move CHANGES.txt entry to 5.4.1&lt;/p&gt;</comment>
                            <comment id="15103963" author="jira-bot" created="Sun, 17 Jan 2016 22:46:44 +0000"  >&lt;p&gt;Commit 1725146 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=andyetitmoves&quot; class=&quot;user-hover&quot; rel=&quot;andyetitmoves&quot;&gt;andyetitmoves&lt;/a&gt; in branch &apos;dev/branches/branch_5x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1725146&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1725146&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8418&quot; title=&quot;BoostQuery cannot be cast to TermQuery&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-8418&quot;&gt;&lt;del&gt;SOLR-8418&lt;/del&gt;&lt;/a&gt;: Move CHANGES.txt entry to 5.4.1&lt;/p&gt;</comment>
                            <comment id="15137884" author="jira-bot" created="Mon, 8 Feb 2016 22:35:50 +0000"  >&lt;p&gt;Commit 340dc9ca5039244b2a78e284dd707e4466b3f3d4 in lucene-solr&apos;s branch refs/heads/branch_5_4 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=andyetitmoves&quot; class=&quot;user-hover&quot; rel=&quot;andyetitmoves&quot;&gt;andyetitmoves&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=340dc9c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=340dc9c&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8418&quot; title=&quot;BoostQuery cannot be cast to TermQuery&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-8418&quot;&gt;&lt;del&gt;SOLR-8418&lt;/del&gt;&lt;/a&gt;: Adapt to changes in &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-6590&quot; title=&quot;Explore different ways to apply boosts&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LUCENE-6590&quot;&gt;&lt;del&gt;LUCENE-6590&lt;/del&gt;&lt;/a&gt; for use of boosts with MLTHandler and Simple/CloudMLTQParser&lt;/p&gt;

&lt;p&gt;git-svn-id: &lt;a href=&quot;https://svn.apache.org/repos/asf/lucene/dev/branches/lucene_solr_5_4@1725144&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/repos/asf/lucene/dev/branches/lucene_solr_5_4@1725144&lt;/a&gt; 13f79535-47bb-0310-9956-ffa450edef68&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12780131" name="SOLR-8418.patch" size="9664" author="andyetitmoves" created="Thu, 31 Dec 2015 15:41:28 +0000"/>
                            <attachment id="12777766" name="SOLR-8418.patch" size="5722" author="blackwinter" created="Tue, 15 Dec 2015 15:48:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 41 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2px13:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>