<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:53:31 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-16567] java.lang.StackOverflowError when combining KnnQParser and FunctionRangeQParser</title>
                <link>https://issues.apache.org/jira/browse/SOLR-16567</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;Hello there!&lt;/p&gt;

&lt;p&gt;I had a Solr 9.0 cluster running, using the new Dense Vector feature. Recently I have migrated to Solr 9.1. Most of the things are working fine, except for a special case I have here.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Error Description&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;The problem happens when I try making an Edismax query with a KNN sub-query and a Function Range filter. For example, I try making this query.&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;defType=edismax&lt;/li&gt;
	&lt;li&gt;df=name&lt;/li&gt;
	&lt;li&gt;q=the&lt;/li&gt;
	&lt;li&gt;similarity_vector={!knn f=vector topK=10}&lt;span class=&quot;error&quot;&gt;&amp;#91;1.1,2.2,3.3,4.4&amp;#93;&lt;/span&gt;&lt;/li&gt;
	&lt;li&gt;{!frange l=0.99}
&lt;p&gt;$similarity_vector&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;In other words, I want all the documents matching the term &quot;the&quot; in the &quot;name&quot; field, and I filter to return only documents having a vector similarity of at least 0.99. This query was working fine on Solr 9.0, but on Solr 9.1, I get his error:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
java.lang.RuntimeException: java.lang.StackOverflowError    at org.apache.solr.servlet.HttpSolrCall.sendError(HttpSolrCall.java:840)    at org.apache.solr.servlet.HttpSolrCall.call(HttpSolrCall.java:641)    at org.apache.solr.servlet.SolrDispatchFilter.dispatch(SolrDispatchFilter.java:250)    at org.apache.solr.servlet.SolrDispatchFilter.lambda/usr/bin/zsh(SolrDispatchFilter.java:218)    at org.apache.solr.servlet.ServletUtils.traceHttpRequestExecution2(ServletUtils.java:257)    at org.apache.solr.servlet.ServletUtils.rateLimitRequest(ServletUtils.java:227)    at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:213)    at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:195)    at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:201)    ... (manually supressed &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; brevity)    at java.base/java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(Unknown Source)Caused by: java.lang.StackOverflowError    at org.apache.solr.search.StrParser.getId(StrParser.java:172)    at org.apache.solr.search.StrParser.getId(StrParser.java:168)    at org.apache.solr.search.QueryParsing.parseLocalParams(QueryParsing.java:100)    at org.apache.solr.search.QueryParsing.parseLocalParams(QueryParsing.java:65)    at org.apache.solr.search.QParser.getParser(QParser.java:364)    at org.apache.solr.search.QParser.getParser(QParser.java:334)    at org.apache.solr.search.QParser.getParser(QParser.java:321)    at org.apache.solr.search.QueryUtils.parseFilterQueries(QueryUtils.java:244)    at org.apache.solr.search.neural.KnnQParser.getFilterQuery(KnnQParser.java:93)    at org.apache.solr.search.neural.KnnQParser.parse(KnnQParser.java:83)    at org.apache.solr.search.QParser.getQuery(QParser.java:188)    at org.apache.solr.search.FunctionQParser.parseValueSource(FunctionQParser.java:384)    at org.apache.solr.search.FunctionQParser.parse(FunctionQParser.java:94)    at org.apache.solr.search.QParser.getQuery(QParser.java:188)    at org.apache.solr.search.FunctionRangeQParserPlugin.parse(FunctionRangeQParserPlugin.java:53)    at org.apache.solr.search.QParser.getQuery(QParser.java:188)    at org.apache.solr.search.QueryUtils.parseFilterQueries(QueryUtils.java:246)    at org.apache.solr.search.neural.KnnQParser.getFilterQuery(KnnQParser.java:93)    at org.apache.solr.search.neural.KnnQParser.parse(KnnQParser.java:83)    at org.apache.solr.search.QParser.getQuery(QParser.java:188)    at org.apache.solr.search.FunctionQParser.parseValueSource(FunctionQParser.java:384)    at org.apache.solr.search.FunctionQParser.parse(FunctionQParser.java:94)    at org.apache.solr.search.QParser.getQuery(QParser.java:188)    at org.apache.solr.search.FunctionRangeQParserPlugin.parse(FunctionRangeQParserPlugin.java:53)    at org.apache.solr.search.QParser.getQuery(QParser.java:188)    ... (manually supressed &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; brevity)&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;The backtrace is much bigger, I&apos;m attaching the raw Solr response in JSON (which is truncated) in &lt;em&gt;&lt;b&gt;response-error.json&lt;/b&gt;&lt;/em&gt;, and the full error message in &lt;em&gt;&lt;b&gt;error_full.txt&lt;/b&gt;&lt;/em&gt; . Apparently there is an infinite loop on the error message that same 9 backtrace entries are repeated ad-infinitum, so I believe this is the reason the error message Solr gives is truncated.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;How to Reproduce the Error&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;I was able to create an small reproducible example to replicate the error. It creates a collection with two fields, and index 2 example documents. I provide the bash scripts to create the collections, and also the script to make the query. These are the scripts:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&lt;b&gt;create_example-solr_9_0.sh&lt;/b&gt;: creates the collection, the fields, schema and index example documents for Solr 9.0.&lt;/li&gt;
	&lt;li&gt;&lt;b&gt;create_example-solr_9_1.sh&lt;/b&gt;: creates the collection, the fields, schema and index example documents for Solr 9.1.&lt;/li&gt;
	&lt;li&gt;&lt;b&gt;run_query.sh&lt;/b&gt;: executes the query that will responde correctly on Solr 9.0, and will return a Java Stack Overflow error on Solr 9.1.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I have created separated scripts for Solr 9.0 and Solr 9.1 because of the change on the parameters of the Dense Vector field, which when from codecFormat to knnAlgorithm. So the two scripts differ only when defyning the vector field type.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Solr Cloud with `solr:9.1` Docker image&lt;/p&gt;</environment>
        <key id="13508375">SOLR-16567</key>
            <summary>java.lang.StackOverflowError when combining KnnQParser and FunctionRangeQParser</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="gmagno">Gabriel Magno</reporter>
                        <labels>
                            <label>vector-based-search</label>
                    </labels>
                <created>Thu, 1 Dec 2022 17:38:04 +0000</created>
                <updated>Tue, 21 Feb 2023 10:06:46 +0000</updated>
                            <resolved>Mon, 9 Jan 2023 09:18:39 +0000</resolved>
                                    <version>9.1</version>
                                    <fixVersion>9.1.1</fixVersion>
                                    <component>query</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="15600">4h 20m</timespent>
                                <comments>
                            <comment id="17642158" author="epugh" created="Thu, 1 Dec 2022 20:34:53 +0000"  >&lt;p&gt;this is cool, and it&apos;s basically the skelaton of a bin/solr start --example vectors&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;do you happen to have a slightly larger data set taht could be read in and loaded?&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17642516" author="gmagno" created="Fri, 2 Dec 2022 13:40:57 +0000"  >&lt;p&gt;Hey &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=epugh&quot; class=&quot;user-hover&quot; rel=&quot;epugh&quot;&gt;epugh&lt;/a&gt; .&lt;/p&gt;

&lt;p&gt;The example entries of the scripts were manually created just to make the bug reproducible with the minimal data as possible. For replicating and debugging I guess this is enough, since the bug rises even with only 2 documents in the collection.&lt;/p&gt;

&lt;p&gt;That being said, I would be happy to create a basic sample for vectors in Solr, and I could even contribute with a PR in the GitHub. How many documents do you think would be a good amount?&lt;/p&gt;</comment>
                            <comment id="17642538" author="gmagno" created="Fri, 2 Dec 2022 14:16:29 +0000"  >&lt;p&gt;I have an idea.&lt;/p&gt;

&lt;p&gt;I can create vectors for the &quot;films&quot; collection. I have some embeddings models around here that could be run on top of the films data, and create a vectors for them. I can create a JSON file with that. How does that sound?&lt;/p&gt;

&lt;p&gt;By the way &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=epugh&quot; class=&quot;user-hover&quot; rel=&quot;epugh&quot;&gt;epugh&lt;/a&gt; , if I create a PR, could I simply put ther JSON file in `solr/example/exampledocs`, or is there anything else that you advise?&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;</comment>
                            <comment id="17642684" author="epugh" created="Fri, 2 Dec 2022 20:41:11 +0000"  >&lt;p&gt;I like your idea &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gmagno&quot; class=&quot;user-hover&quot; rel=&quot;gmagno&quot;&gt;gmagno&lt;/a&gt; !&#160;&#160;&#160; That way we don&apos;t have to add more stuff to bin/solr.&#160;&#160; Tell you what, if you tweak and create the JSON, I&apos;ll be happy to dig into how to load it &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &#160;&lt;/p&gt;</comment>
                            <comment id="17642704" author="gmagno" created="Fri, 2 Dec 2022 22:01:38 +0000"  >&lt;p&gt;Hey &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=epugh&quot; class=&quot;user-hover&quot; rel=&quot;epugh&quot;&gt;epugh&lt;/a&gt; .&lt;/p&gt;

&lt;p&gt;I have just created a personal fork of the solr repo, and created a `films-vectors` example in `solr/solr/example` folder.&lt;/p&gt;

&lt;p&gt;It includes a JSON with the films data (which is basically the same data as the films example, but with a new field storing the vector with 10 dimension), and also a README with the instructions to create the collection and several example queries, including some more complex ones in the end.&lt;/p&gt;

&lt;p&gt;Here it is my example: &lt;a href=&quot;https://github.com/gabrielmagno/solr/tree/main/solr/example/films-vectors&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/gabrielmagno/solr/tree/main/solr/example/films-vectors&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I was wondering rather I should/could make a PR in the Solr GitHub repo, but was not sure if creating one without a Jira issue was ok.&lt;/p&gt;</comment>
                            <comment id="17642730" author="epugh" created="Fri, 2 Dec 2022 23:46:06 +0000"  >&lt;p&gt;So...&#160;&#160; How about this...&#160;&#160; Why don&apos;t you and I work on a seperate Jira that is something like &quot;Demonstrate Vectors as part of the Films Demo&quot;...&#160;&#160; Make it related to this one....&#160; But focused on that.&#160; Then we can have a seperate PR with a seperate JIRA.&#160; Also, since we would want to mention this improvement to Solr in the Changes.txt file, it would make sense to have a Jira to track this!&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Key to Solr&apos;s future is being percieved as &quot;Hip with the Vectors&quot;, and so shipping a demo of vectors with the films would really help!&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17642731" author="epugh" created="Fri, 2 Dec 2022 23:47:09 +0000"  >&lt;p&gt;The films example really is pretty shallow...&#160; So lets just merge what you&apos;ve done with films-vectors into the films example &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17642833" author="gmagno" created="Sat, 3 Dec 2022 13:48:05 +0000"  >&lt;p&gt;That makes lot of sense &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=epugh&quot; class=&quot;user-hover&quot; rel=&quot;epugh&quot;&gt;epugh&lt;/a&gt; !&lt;/p&gt;

&lt;p&gt;Do you want to create the &quot;Demonstrate Vectors&quot; issue or do you prefer that I create myself?&lt;/p&gt;</comment>
                            <comment id="17642839" author="epugh" created="Sat, 3 Dec 2022 14:02:54 +0000"  >&lt;p&gt;Go for it!&#160; I think I am in the support/shepherding this idea role, it&apos;s your great idea &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17642848" author="epugh" created="Sat, 3 Dec 2022 15:09:39 +0000"  >&lt;p&gt;Thanks for the ticket!&#160;&#160; Also, we do still need to fix this one &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &#160; I haven&apos;t worked in this space before, so I am hoping &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=abenedetti&quot; class=&quot;user-hover&quot; rel=&quot;abenedetti&quot;&gt;abenedetti&lt;/a&gt;&#160; weights in.&lt;/p&gt;</comment>
                            <comment id="17643078" author="alessandro.benedetti" created="Sun, 4 Dec 2022 23:56:27 +0000"  >&lt;p&gt;Interesting use case! I&apos;ll take a look with my colleague &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=eliaporciani&quot; class=&quot;user-hover&quot; rel=&quot;eliaporciani&quot;&gt;eliaporciani&lt;/a&gt;!&lt;/p&gt;</comment>
                            <comment id="17643913" author="gmagno" created="Tue, 6 Dec 2022 15:08:53 +0000"  >&lt;p&gt;I&apos;ve taken a quick look at the Solr code, and noticed that the problem is related to the new pre-filtering feature introduced in Solr 9.1.&lt;/p&gt;

&lt;p&gt;Apparently what happens is that when parsing the KNN query, this is the flow:&lt;br/&gt;
&#160;1. The `KnnQParser.parse` function is called to parse the KNN query;&lt;br/&gt;
&#160;2. The `KnnQParser.getFilterQuery` function is called, to identify all the filters in the query&lt;br/&gt;
&#160;3. Among the filters of the query there is the `frange` filter, which is applied to the result of the KNN sub-query&lt;br/&gt;
&#160;4. Then the parser for the KNN query is called again, and we enter in an infinite loop of function calls, causing the Stack Overflow.&lt;/p&gt;

&lt;p&gt;The thing is that in the case of the example I&apos;ve given, one of the filters is actually a post-filter (since it actually filters based on the value of the similarity of the KNN).&#160;&lt;/p&gt;

&lt;p&gt;Regardless of the frange filter itself, I think the problem is related to the scope of filters considering queries and sub-queries of KNN.&lt;/p&gt;

&lt;p&gt;Brainstorm of possible solutions:&lt;br/&gt;
&#160;- Apply the pre-filtering of KNN only if it is the actual main query (`q={!knn ...}`), but not apply when it is a sub-query (`my_subquery={!knn ...}`).&lt;br/&gt;
&#160;- Apply the pre-filtering only to pre-filters, and isolate &quot;post-filters&quot; to be applied later.&lt;br/&gt;
&#160;- ?&lt;/p&gt;

&lt;p&gt;I don&apos;t have knowledge of the internal Solr code workflow, so I&apos;m not sure of the best approach and rather these really solves the problem. Maybe there are other solutions that I&apos;m not seeing here.&lt;/p&gt;</comment>
                            <comment id="17643921" author="gmagno" created="Tue, 6 Dec 2022 15:23:53 +0000"  >&lt;p&gt;Just realized that the approach of identifying main query vs sub-query is not sufficient, because there is an use case with only the main query. We don&apos;t even have to have an edismax query combined. We could have a simple and straightforward KNN query, and the problem would be the same:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;q={!knn f=vector topK=100}&lt;span class=&quot;error&quot;&gt;&amp;#91;1.1,2.2,3.3,4.4&amp;#93;&lt;/span&gt;&lt;/li&gt;
	&lt;li&gt;fq={!frange l=0.99}$q&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;In this case the goal of the query is: Return the topK 100 items, but remove the documents with similarity lower than 0.99.&lt;/p&gt;

&lt;p&gt;The Stack Overflow will also happen in this case.&lt;/p&gt;

&lt;p&gt;I also tried using:&#160;&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;fq={!frange l=0.99}query($q)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The same problem happens.&lt;/p&gt;</comment>
                            <comment id="17643924" author="gmagno" created="Tue, 6 Dec 2022 15:36:12 +0000"  >&lt;p&gt;The same use case works for lexical queries. For instance, let&apos;s say we are searching on the films example:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;q=name:the&lt;/li&gt;
	&lt;li&gt;fq={!frange l=0.99}query($q)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;This will correctly return all the documents with at least 0.99 of the lexical query score.&lt;/p&gt;</comment>
                            <comment id="17645506" author="gmagno" created="Fri, 9 Dec 2022 22:45:13 +0000"  >&lt;p&gt;I was able to implement a fix for this bug, with a compromise.&lt;/p&gt;

&lt;p&gt;The compromise would be that the KNN pre-filter would not include Filter Range (frange) clauses, so that they will always be applied later as post-filter.&lt;/p&gt;

&lt;p&gt;The fix envolves adding a new boolean flag parameter to the `QueryUtils.parseFilterQueries` function, indicating rather we want to include the Frange in the list or not. When parsing the KNN query we set this flag to false.&lt;/p&gt;

&lt;p&gt;I&apos;m not sure my implementation is the best approach, since I&apos;m not familiar with Solr&apos;s internal code, but it seems to work.&lt;/p&gt;

&lt;p&gt;What do you think of this approach?&lt;/p&gt;

&lt;p&gt;(on a side note, apparently the current main branch of Solr&apos;s repository broke KNN queries, it is always returning zero results)&lt;/p&gt;</comment>
                            <comment id="17645713" author="alessandro.benedetti" created="Sun, 11 Dec 2022 02:19:00 +0000"  >&lt;p&gt;Hi Gabriel, just shooting in the dark, what about filter costs? I remember&lt;br/&gt;
this mechanism can be used to specify when a filter should happen (for&lt;br/&gt;
example pre-post filering).&lt;/p&gt;

&lt;p&gt;I&apos;ll need a refresh on the topic, and these days I&apos;m busy with meetings in&lt;br/&gt;
Japan.&lt;/p&gt;

&lt;p&gt;Feel free to explore the area and I&apos;ll (or my colleagues) take a look qhen&lt;br/&gt;
I&apos;m back to Europe.&lt;/p&gt;

&lt;p&gt;Cheers and thanks for your efforts so far!&lt;/p&gt;

&lt;p&gt;P. S. Can you elaborate better what you observed on the main branch in&lt;br/&gt;
regarding to &apos;knn being fully broken&apos;?&lt;/p&gt;


</comment>
                            <comment id="17646091" author="gmagno" created="Mon, 12 Dec 2022 13:16:55 +0000"  >&lt;p&gt;Hi Alessandro! That sounds good, I will take a look at the filter costs feature to see if I figure out if/how it could be used to solve the issue.&lt;/p&gt;

&lt;p&gt;Regarding the KNN being broken in the main branch. I&apos;ve just cloned a clean version of the main branch, ran a &quot;gradlew assemble&quot; and started the compiled Solr. Then I indexed my vector test collection. I tried doing a simple KNN query to retrieve the top 10 most similar documents, and it is returning 0 results. If I do the same thing for the Solr 9.1 release, it correctly returns 10 documents. Not sure if I&apos;m doing something wrong during build/assemble.&lt;/p&gt;</comment>
                            <comment id="17648136" author="gmagno" created="Thu, 15 Dec 2022 15:52:09 +0000"  >&lt;p&gt;The KNN was actually not broken in the main branch.&lt;/p&gt;

&lt;p&gt;It was my mistake, I was indexing the wrong version of a dataset that did not include the vector fields, so this was causing the KNN queries to return empty results, since none of the documents had vectors.&lt;/p&gt;

&lt;p&gt;Sorry about the false alarm.&lt;/p&gt;</comment>
                            <comment id="17648140" author="epugh" created="Thu, 15 Dec 2022 15:54:59 +0000"  >&lt;p&gt;So, should we close this issue?&#160;&#160; As a follow on thought, was there something that Solr should have done to help you understand what went wrong?&#160; A better error message?&lt;/p&gt;</comment>
                            <comment id="17648218" author="gmagno" created="Thu, 15 Dec 2022 19:31:27 +0000"  >&lt;p&gt;Oh, noh! I was referring to the fact of KNN queries being broken on the main branch. This is actually not true.&lt;/p&gt;

&lt;p&gt;The Stack Overflow error reported on this issue is still happening.&lt;/p&gt;

&lt;p&gt;I was able to fix it, I&apos;m just not sure if it was the best approach. Maybe I could create the PR with the fix, then people could comments about It on the PR?&lt;/p&gt;</comment>
                            <comment id="17648227" author="epugh" created="Thu, 15 Dec 2022 20:03:27 +0000"  >&lt;p&gt;Makes sense to me!&lt;/p&gt;</comment>
                            <comment id="17648839" author="alessandro.benedetti" created="Sat, 17 Dec 2022 01:00:21 +0000"  >&lt;p&gt;Reading here:&lt;br/&gt;
&lt;a href=&quot;https://solr.apache.org/guide/solr/latest/query-guide/common-query-parameters.html#cache-local-parameter&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://solr.apache.org/guide/solr/latest/query-guide/common-query-parameters.html#cache-local-parameter&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;It seems costs can help us indeed (and it&apos;s already differentiating frange above others)&lt;/p&gt;

&lt;p&gt;We can implement a check on cost and in case it&apos;s &amp;gt;0 it becomes a post-filter (in line with current Solr behaviour in other situations).&lt;/p&gt;

&lt;p&gt;Let me know if this would solve your issue, I&apos;ll proceed with a PR)&lt;/p&gt;</comment>
                            <comment id="17648909" author="gmagno" created="Sat, 17 Dec 2022 14:31:25 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=abenedetti&quot; class=&quot;user-hover&quot; rel=&quot;abenedetti&quot;&gt;abenedetti&lt;/a&gt; !&lt;/p&gt;

&lt;p&gt;I think this could fix the issue indeed.&lt;/p&gt;

&lt;p&gt;Earlier this week I&apos;ve taken a look at the cost feature inside the Solr code. For instance, I have seen that the Function Range Filter Query object sets its cost as 100 by default.&lt;/p&gt;

&lt;p&gt;The problem I had was that the cost parameters (and the query filter objects) are only available as a result from the `parse` function, and the parse function is precisely the function that causes the Stack Overflow (frange.parse tries to parse KNN, which tries to parse all the filters, then tries to parse frange, which parses KNN, etc). Before calling the parse we do have the &quot;Parser&quot; object, but it does not have information about the costs yet.&lt;/p&gt;

&lt;p&gt;Anyhow, you can definetely proceed with a PR, that would be really appreciated &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17649423" author="alessandro.benedetti" created="Mon, 19 Dec 2022 17:57:36 +0000"  >&lt;p&gt;PR: &lt;a href=&quot;https://github.com/apache/solr/pull/1245/files&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/solr/pull/1245/files&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Take a look!&lt;/p&gt;

&lt;p&gt;I&apos;ll wait for a couple of reviews and then merge!&lt;/p&gt;</comment>
                            <comment id="17649453" author="gmagno" created="Mon, 19 Dec 2022 19:35:41 +0000"  >&lt;p&gt;That is awesome &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=abenedetti&quot; class=&quot;user-hover&quot; rel=&quot;abenedetti&quot;&gt;abenedetti&lt;/a&gt; .&lt;/p&gt;

&lt;p&gt;I&apos;ve tested your branch, and it is working, the bug reported in this issue is fixed.&lt;/p&gt;

&lt;p&gt;Well done, and thank you very much.&lt;/p&gt;</comment>
                            <comment id="17649593" author="jira-bot" created="Tue, 20 Dec 2022 06:37:56 +0000"  >&lt;p&gt;Commit e683af1c7bdece1d7100852323c0a32b12bfd566 in solr&apos;s branch refs/heads/jira/&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16567&quot; title=&quot;java.lang.StackOverflowError when combining KnnQParser and FunctionRangeQParser&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16567&quot;&gt;&lt;del&gt;SOLR-16567&lt;/del&gt;&lt;/a&gt; from Elia Porciani&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=e683af1c7bd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=e683af1c7bd&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16567&quot; title=&quot;java.lang.StackOverflowError when combining KnnQParser and FunctionRangeQParser&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16567&quot;&gt;&lt;del&gt;SOLR-16567&lt;/del&gt;&lt;/a&gt;: KnnQueryParser support for both pre-filters and post-filters(cost&amp;gt;0)&lt;/p&gt;</comment>
                            <comment id="17649701" author="alessandro.benedetti" created="Tue, 20 Dec 2022 11:45:51 +0000"  >&lt;p&gt;We are checking the PR, when we are happy with the reviews I&apos;ll merge it!&lt;br/&gt;
thanks again &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gmagno&quot; class=&quot;user-hover&quot; rel=&quot;gmagno&quot;&gt;gmagno&lt;/a&gt; for raising this!&lt;/p&gt;</comment>
                            <comment id="17649702" author="alessandro.benedetti" created="Tue, 20 Dec 2022 11:47:20 +0000"  >&lt;p&gt;And by the way, I think the &quot;threshold&quot; use case would need to go in Lucene (and then in Solr) as a separate contribution (rather than using frange).&lt;br/&gt;
Will keep you updated on this &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17649940" author="gmagno" created="Tue, 20 Dec 2022 19:06:57 +0000"  >&lt;p&gt;Not sure if I understood it correctly this &quot;threshold&quot; feature, but just to let you know that the `frange` already covers 3 use cases I had:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Filter the results of a KNN query based on its own similarity score&lt;/li&gt;
	&lt;li&gt;Filter the results of an edismax query based on the similarity score of a KNN sub-query&lt;/li&gt;
	&lt;li&gt;Filter the results of a query based on a combined score of multiple sources (created with function queries)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17650929" author="jira-bot" created="Wed, 21 Dec 2022 15:57:29 +0000"  >&lt;p&gt;Commit e683af1c7bdece1d7100852323c0a32b12bfd566 in solr&apos;s branch refs/heads/jira/&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16567&quot; title=&quot;java.lang.StackOverflowError when combining KnnQParser and FunctionRangeQParser&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16567&quot;&gt;&lt;del&gt;SOLR-16567&lt;/del&gt;&lt;/a&gt; from Elia Porciani&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=e683af1c7bd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=e683af1c7bd&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16567&quot; title=&quot;java.lang.StackOverflowError when combining KnnQParser and FunctionRangeQParser&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16567&quot;&gt;&lt;del&gt;SOLR-16567&lt;/del&gt;&lt;/a&gt;: KnnQueryParser support for both pre-filters and post-filters(cost&amp;gt;0)&lt;/p&gt;</comment>
                            <comment id="17650961" author="dsmiley" created="Wed, 21 Dec 2022 18:10:59 +0000"  >&lt;p&gt;The above comment by ASF&apos;s git integration shows a commit was done to a branch &lt;tt&gt;jira/&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16567&quot; title=&quot;java.lang.StackOverflowError when combining KnnQParser and FunctionRangeQParser&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16567&quot;&gt;&lt;del&gt;SOLR-16567&lt;/del&gt;&lt;/a&gt;&lt;/tt&gt;.  &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=abenedetti&quot; class=&quot;user-hover&quot; rel=&quot;abenedetti&quot;&gt;abenedetti&lt;/a&gt; feature/bug branches on our main repo is generally not needed unless there&apos;s going to be broad collaboration.  Even repo committers (like me) can contribute to a PR branch you keep on your fork (a GitHub feature).  Extraneous branches pollute the view and ultimately need grooming.  I see you already have &lt;a href=&quot;https://github.com/SeaseLtd/solr/tree/jira/SOLR-16567&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;a fork with a branch there for this PR&lt;/a&gt; so I&apos;m confused why this &lt;tt&gt;jira/&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16567&quot; title=&quot;java.lang.StackOverflowError when combining KnnQParser and FunctionRangeQParser&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16567&quot;&gt;&lt;del&gt;SOLR-16567&lt;/del&gt;&lt;/a&gt;&lt;/tt&gt; branch is here as well (redundant).&lt;/p&gt;</comment>
                            <comment id="17650966" author="alessandro.benedetti" created="Wed, 21 Dec 2022 18:27:00 +0000"  >&lt;p&gt;Just a mistake from intellj! Removed the branch from the upstream repo! &lt;/p&gt;</comment>
                            <comment id="17654637" author="jira-bot" created="Wed, 4 Jan 2023 21:08:54 +0000"  >&lt;p&gt;Commit 257c93c956a66f805e23f4835cab88e7a1fe9201 in solr&apos;s branch refs/heads/main from Alessandro Benedetti&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=257c93c956a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=257c93c956a&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16567&quot; title=&quot;java.lang.StackOverflowError when combining KnnQParser and FunctionRangeQParser&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16567&quot;&gt;&lt;del&gt;SOLR-16567&lt;/del&gt;&lt;/a&gt;: KnnQueryParser support for both pre-filters and post-filter (#1245)&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16567&quot; title=&quot;java.lang.StackOverflowError when combining KnnQParser and FunctionRangeQParser&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16567&quot;&gt;&lt;del&gt;SOLR-16567&lt;/del&gt;&lt;/a&gt;: KnnQueryParser support for both pre-filters and post-filters(cost&amp;gt;0)&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17654640" author="jira-bot" created="Wed, 4 Jan 2023 21:14:00 +0000"  >&lt;p&gt;Commit 3c14fd81ef21822b84e403f434b118b55a39e2e0 in solr&apos;s branch refs/heads/branch_9x from Alessandro Benedetti&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=3c14fd81ef2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=3c14fd81ef2&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16567&quot; title=&quot;java.lang.StackOverflowError when combining KnnQParser and FunctionRangeQParser&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16567&quot;&gt;&lt;del&gt;SOLR-16567&lt;/del&gt;&lt;/a&gt;: KnnQueryParser support for both pre-filters and post-filter (#1245)&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16567&quot; title=&quot;java.lang.StackOverflowError when combining KnnQParser and FunctionRangeQParser&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16567&quot;&gt;&lt;del&gt;SOLR-16567&lt;/del&gt;&lt;/a&gt;: KnnQueryParser support for both pre-filters and post-filters(cost&amp;gt;0)&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17654643" author="jira-bot" created="Wed, 4 Jan 2023 21:18:33 +0000"  >&lt;p&gt;Commit d5811d8184bb5e4c304789710f6aa2cbf06380f8 in solr&apos;s branch refs/heads/branch_9_1 from Alessandro Benedetti&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=d5811d8184b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=d5811d8184b&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16567&quot; title=&quot;java.lang.StackOverflowError when combining KnnQParser and FunctionRangeQParser&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16567&quot;&gt;&lt;del&gt;SOLR-16567&lt;/del&gt;&lt;/a&gt;: KnnQueryParser support for both pre-filters and post-filter (#1245)&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16567&quot; title=&quot;java.lang.StackOverflowError when combining KnnQParser and FunctionRangeQParser&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16567&quot;&gt;&lt;del&gt;SOLR-16567&lt;/del&gt;&lt;/a&gt;: KnnQueryParser support for both pre-filters and post-filters(cost&amp;gt;0)&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17654645" author="alessandro.benedetti" created="Wed, 4 Jan 2023 21:20:22 +0000"  >&lt;p&gt;all done and merged, coming in 9.1.1!&lt;br/&gt;
Potential future improvements will come later!&lt;/p&gt;</comment>
                            <comment id="17654648" author="risdenk" created="Wed, 4 Jan 2023 21:26:58 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=abenedetti&quot; class=&quot;user-hover&quot; rel=&quot;abenedetti&quot;&gt;abenedetti&lt;/a&gt; looks like branch_9x is failing compilation?&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://ci-builds.apache.org/job/Solr/job/Solr-Artifacts-9x/362/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-builds.apache.org/job/Solr/job/Solr-Artifacts-9x/362/&lt;/a&gt;&lt;/p&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&amp;gt; Task :solr:core:compileJava
/home/jenkins/jenkins-slave/workspace/Solr/Solr-Artifacts-9x/solr/core/src/java/org/apache/solr/search/neural/KnnQParser.java:94: error: method getProcessedFilter in &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;SolrIndexSearcher cannot be applied to given types;
              req.getSearcher().getProcessedFilter(filters);
                               ^
  required: DocSet,List&amp;lt;Query&amp;gt;
  found: List&amp;lt;Query&amp;gt;
  reason: actual and formal argument lists differ in length
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17655107" author="risdenk" created="Thu, 5 Jan 2023 19:24:19 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=abenedetti&quot; class=&quot;user-hover&quot; rel=&quot;abenedetti&quot;&gt;abenedetti&lt;/a&gt; bump on this - this is failing branch_9x and branch_9_1 every CI build.&lt;/p&gt;</comment>
                            <comment id="17655133" author="alessandro.benedetti" created="Thu, 5 Jan 2023 21:01:24 +0000"  >&lt;p&gt;Hi Kevin, my bad, I thought it was a quick cherry picking, I am on it!&lt;/p&gt;</comment>
                            <comment id="17655137" author="jira-bot" created="Thu, 5 Jan 2023 21:12:21 +0000"  >&lt;p&gt;Commit e948e660a3f59fba0ec7a5af325b03d2d6e98d29 in solr&apos;s branch refs/heads/branch_9x from Alessandro Benedetti&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=e948e660a3f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=e948e660a3f&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16567&quot; title=&quot;java.lang.StackOverflowError when combining KnnQParser and FunctionRangeQParser&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16567&quot;&gt;&lt;del&gt;SOLR-16567&lt;/del&gt;&lt;/a&gt;: KnnQueryParser support for both pre-filters and post-filter, compilation error fix (#1245)&lt;/p&gt;</comment>
                            <comment id="17655144" author="jira-bot" created="Thu, 5 Jan 2023 21:40:12 +0000"  >&lt;p&gt;Commit 33c9eb9d9ab8d88e94dd409af01de106c28dc285 in solr&apos;s branch refs/heads/branch_9_1 from Alessandro Benedetti&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=33c9eb9d9ab&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=33c9eb9d9ab&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16567&quot; title=&quot;java.lang.StackOverflowError when combining KnnQParser and FunctionRangeQParser&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16567&quot;&gt;&lt;del&gt;SOLR-16567&lt;/del&gt;&lt;/a&gt;: KnnQueryParser support for both pre-filters and post-filter, compilation error fix (#1245)&lt;/p&gt;</comment>
                            <comment id="17655145" author="alessandro.benedetti" created="Thu, 5 Jan 2023 21:48:14 +0000"  >&lt;p&gt;the cherry pick was not in sync with a piece of code that changed in main, I have checked locally with a small change and it seems ok, I pushed the changes and I am monitoring Jenkins. Let&apos;s see if that&apos;s enough.&lt;/p&gt;</comment>
                            <comment id="17655157" author="dsmiley" created="Thu, 5 Jan 2023 22:48:30 +0000"  >&lt;p&gt;At the &lt;b&gt;very&lt;/b&gt; least, run. &#160;&lt;tt&gt;gw precommit&lt;/tt&gt;&#160; &#160;after a cherry pick or before pushing which would have caught this simple error. &#160;Of course, running tests are ideal too.&lt;/p&gt;</comment>
                            <comment id="17680669" author="mgibney" created="Wed, 25 Jan 2023 16:11:07 +0000"  >&lt;p&gt;Closing after the 9.1.1 release&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13053414" name="create_example-solr_9_0.sh" size="1712" author="gmagno" created="Thu, 1 Dec 2022 17:32:49 +0000"/>
                            <attachment id="13053413" name="create_example-solr_9_1.sh" size="1803" author="gmagno" created="Thu, 1 Dec 2022 17:32:49 +0000"/>
                            <attachment id="13053415" name="error_full.txt" size="63546" author="gmagno" created="Thu, 1 Dec 2022 17:26:24 +0000"/>
                            <attachment id="13053416" name="response-error.json" size="65599" author="gmagno" created="Thu, 1 Dec 2022 17:26:18 +0000"/>
                            <attachment id="13053412" name="run_query.sh" size="251" author="gmagno" created="Thu, 1 Dec 2022 17:32:57 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 41 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1d5ag:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>