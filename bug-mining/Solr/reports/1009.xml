<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:29:44 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-3780] Maven builds regularly fail on ASF Jenkins</title>
                <link>https://issues.apache.org/jira/browse/SOLR-3780</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;branch_4x and to a lesser extent trunk Maven builds on ASF Jenkins regularly fail with these errors:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;ERROR: [doc=one] unknown field &apos;meta:creation-date&apos;

Stack Trace:
org.apache.solr.common.SolrException: ERROR: [doc=one] unknown field &apos;meta:creation-date&apos;
	at __randomizedtesting.SeedInfo.seed([564B8C2811E551FC:388DF7271220FAA9]:0)
	at org.apache.solr.update.DocumentBuilder.toDocument(DocumentBuilder.java:306)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;ERROR: [doc=1000] multiple values encountered for non multiValued field val_i: [10, 20]

Stack Trace:
org.apache.solr.common.SolrException: ERROR: [doc=1000] multiple values encountered for non multiValued field val_i: [10, 20]
	at __randomizedtesting.SeedInfo.seed([41D9D56849179839:C03F5B703E48F805]:0)
	at org.apache.solr.client.solrj.impl.HttpSolrServer.request(HttpSolrServer.java:402)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I can&apos;t reproduce these errors locally.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12605861">SOLR-3780</key>
            <summary>Maven builds regularly fail on ASF Jenkins</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sarowe">Steven Rowe</assignee>
                                    <reporter username="sarowe">Steven Rowe</reporter>
                        <labels>
                    </labels>
                <created>Sat, 1 Sep 2012 17:41:21 +0000</created>
                <updated>Mon, 9 May 2016 18:52:59 +0000</updated>
                            <resolved>Sun, 2 Sep 2012 18:52:01 +0000</resolved>
                                    <version>4.0</version>
                    <version>6.0</version>
                                    <fixVersion>4.0</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                    <component>Build</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13446765" author="steve_rowe" created="Sat, 1 Sep 2012 17:44:45 +0000"  >
&lt;p&gt;On the dev@l.a.o mailing list, Yonik wrote:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;&quot;multiple values encountered for non multiValued field val_i: &lt;span class=&quot;error&quot;&gt;&amp;#91;10, 20&amp;#93;&lt;/span&gt;&quot;&lt;/p&gt;

&lt;p&gt;This should be very deterministic (i.e. it should always fail if it&lt;br/&gt;
were actually a non multiValued field).&lt;br/&gt;
The *_i fields are multivalued according to schema.xml, so this&lt;br/&gt;
exception should not happen (the version=1.0 in schema.xml means&lt;br/&gt;
multiValued=true by default).&lt;/p&gt;

&lt;p&gt;Off of the top of my head, the only thing I can figure is that the&lt;br/&gt;
maven based tests are somehow getting the wrong schema sometimes.&lt;br/&gt;
Maybe if there&apos;s some different with how solr homes are set between&lt;br/&gt;
ant and maven?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Currently, under the Maven build, solr-core and solrj tests are run together under the solr-core module, because Maven can&apos;t handle the dependencies among solr-core, solr test-framework, and solrj.  As a result, both solr-core and solrj resources are co-mingled.  I think this is what&apos;s happening here: due to the apparently non-deterministic solr-home detection logic, in some environments, the &quot;wrong&quot; &lt;tt&gt;schema.xml&lt;/tt&gt; file is used with some tests.&lt;/p&gt;</comment>
                            <comment id="13446769" author="steve_rowe" created="Sat, 1 Sep 2012 18:04:18 +0000"  >&lt;p&gt;This patch separates solrj testing under Maven so that it runs on its own, rather than with solr-core.&lt;/p&gt;

&lt;p&gt;In order to do this, solrj needs to include solr-core source as test source, and include all solr-core dependencies as test dependencies.&lt;/p&gt;

&lt;p&gt;All tests pass for me locally.&lt;/p&gt;</comment>
                            <comment id="13446999" author="steve_rowe" created="Sun, 2 Sep 2012 18:52:01 +0000"  >&lt;p&gt;I committed the patch making solrj run its own tests to branch_4x and trunk.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;ERROR: &lt;span class=&quot;error&quot;&gt;&amp;#91;doc=one&amp;#93;&lt;/span&gt; unknown field &apos;meta:creation-date&apos;&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Robert Muir pointed out on dev@l.a.o that this is caused by branch_4x Maven Solr configuration depending on Tika 1.2, while the rest of branch_4x hasn&apos;t gotten the update yet (&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-3707&quot; title=&quot;Upgrade Solr to Tika 1.2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-3707&quot;&gt;&lt;del&gt;SOLR-3707&lt;/del&gt;&lt;/a&gt;).  I reverted the branch_4x dependency to Tika 1.1, and branch_4x Maven just succeeded on ASF Jenkins.&lt;/p&gt;

&lt;p&gt;I also committed a change to all Solr contribs removing the now unnecessary inclusion of solr-core test resources in their test classpaths.&lt;/p&gt;</comment>
                            <comment id="13654105" author="thetaphi" created="Fri, 10 May 2013 10:34:02 +0000"  >&lt;p&gt;Closed after release.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12543440" name="SOLR-3780.patch" size="8202" author="sarowe" created="Sat, 1 Sep 2012 18:04:18 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>243210</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 28 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i03cof:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>17487</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>