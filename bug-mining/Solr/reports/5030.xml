<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:58:23 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-16755] bin/solr&apos;s &apos;-noprompt&apos; option no longer works for examples </title>
                <link>https://issues.apache.org/jira/browse/SOLR-16755</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;I recently noticed that on the main branch &lt;tt&gt;bin/solr -e cloud -noprompt&lt;/tt&gt; no longer respected the &lt;tt&gt;-noprompt&lt;/tt&gt; option (forcing me to hit enter a bunch of times to accept the defaults)&lt;/p&gt;

&lt;p&gt;I cheked and confirmed it also failed on &lt;tt&gt;branch_9x&lt;/tt&gt; but worked on &lt;tt&gt;branch_9_1&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;I couldn&apos;t think of an easy way to automate a &lt;tt&gt;git bisect run&lt;/tt&gt; to look for this, but fortunately there weren&apos;t too many commits to manually runn &lt;tt&gt;git bisect&lt;/tt&gt; against and find a smoking gun...&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;71ad41a9a4ce6020f130fc05fcc0095e28e41d0a is the first bad commit
commit 71ad41a9a4ce6020f130fc05fcc0095e28e41d0a
Author: Jan H&#248;ydahl &amp;lt;janhoy@users.noreply.github.com&amp;gt;
Date:   Fri Jan 6 20:06:36 2023 +0100

    SOLR-9509 Fix problems reported by shellcheck (#1225)

:040000 040000 5765d3f70c58e94f99693313bdc8d6d86684d024 6b9e3dc42416216a0a1d2d0b9cb2cd736daf4de3 M	solr
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13533111">SOLR-16755</key>
            <summary>bin/solr&apos;s &apos;-noprompt&apos; option no longer works for examples </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="janhoy">Jan H&#248;ydahl</assignee>
                                    <reporter username="hossman">Chris M. Hostetter</reporter>
                        <labels>
                    </labels>
                <created>Tue, 18 Apr 2023 21:15:25 +0000</created>
                <updated>Mon, 1 May 2023 15:27:40 +0000</updated>
                            <resolved>Wed, 19 Apr 2023 14:37:28 +0000</resolved>
                                    <version>9.2</version>
                                    <fixVersion>9.3</fixVersion>
                    <fixVersion>9.2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="4200">1h 10m</timespent>
                                <comments>
                            <comment id="17713774" author="hossman" created="Tue, 18 Apr 2023 21:32:44 +0000"  >&lt;p&gt;I consider myself a competent shell script reader and a moderately competent shell script writer &amp;#8211; and yet looking at &lt;tt&gt;git show 71ad41a9a4ce6020f130fc05fcc0095e28e41d0a&lt;/tt&gt; I can not for the life of me wrap my head around why &lt;tt&gt;-noprompt&lt;/tt&gt; fails against &lt;tt&gt;71ad41a9a4ce6020f130fc05fcc0095e28e41d0a&lt;/tt&gt; but works correctly against it&apos;s parent  &lt;tt&gt;d22a0781aeadda9061dac167f8aec065dd60f433&lt;/tt&gt; &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=janhoy&quot; class=&quot;user-hover&quot; rel=&quot;janhoy&quot;&gt;janhoy&lt;/a&gt; - any idea what&apos;s going wrong here?&lt;/p&gt;</comment>
                            <comment id="17713783" author="hossman" created="Tue, 18 Apr 2023 21:53:28 +0000"  >&lt;p&gt;Ah ... ok, here&apos;s the culprit...&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;-  run_tool run_example -e $EXAMPLE -d &quot;$SOLR_SERVER_DIR&quot; -urlScheme $SOLR_URL_SCHEME $PASS_TO_RUN_EXAMPLE
+  run_tool run_example -e &quot;$EXAMPLE&quot; -d &quot;$SOLR_SERVER_DIR&quot; -urlScheme &quot;$SOLR_URL_SCHEME&quot; &quot;$PASS_TO_RUN_EXAMPLE&quot;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The quoting of &lt;tt&gt;&quot;$PASS_TO_RUN_EXAMPLE&quot;&lt;/tt&gt; is what&apos;s screwing us. Here&apos;s what the args look like when &lt;tt&gt;SolrCLI&lt;/tt&gt; is invoked if you run &lt;tt&gt;./solr/packaging/build/dev/bin/solr -e cloud -noprompt&lt;/tt&gt; ...&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ cat /proc/$(pgrep -f SolrCLI)/cmdline | xargs -0 printf &apos;%q\n&apos;
/opt/jdk/17/latest//bin/java
&apos;-Dsolr.install.dir=/home/hossman/lucene/solr/solr/packaging/build/dev&apos;
&apos;-Dlog4j.configurationFile=/home/hossman/lucene/solr/solr/packaging/build/dev/server/resources/log4j2-console.xml&apos;
-classpath
&apos;/home/hossman/lucene/solr/solr/packaging/build/dev/server/solr-webapp/webapp/WEB-INF/lib/*:/home/hossman/lucene/solr/solr/packaging/build/dev/server/lib/ext/*:/home/hossman/lucene/solr/solr/packaging/build/dev/server/lib/*&apos;
org.apache.solr.util.SolrCLI
run_example
-e
cloud
-d
/home/hossman/lucene/solr/solr/packaging/build/dev/server
-urlScheme
http
&apos; -noprompt&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;...note the whitespace in the last line.&lt;/p&gt;

&lt;p&gt;Or to see the problem more clearly, try to add other args that use &lt;tt&gt;PASS_TO_RUN_EXAMPLE&lt;/tt&gt; like: &lt;tt&gt;./solr/packaging/build/dev/bin/solr -e cloud -noprompt -memory 2g&lt;/tt&gt; ...&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ cat /proc/$(pgrep -f SolrCLI)/cmdline | xargs -0 printf &apos;%q\n&apos;
/opt/jdk/17/latest//bin/java
&apos;-Dsolr.install.dir=/home/hossman/lucene/solr/solr/packaging/build/dev&apos;
&apos;-Dlog4j.configurationFile=/home/hossman/lucene/solr/solr/packaging/build/dev/server/resources/log4j2-console.xml&apos;
-classpath
&apos;/home/hossman/lucene/solr/solr/packaging/build/dev/server/solr-webapp/webapp/WEB-INF/lib/*:/home/hossman/lucene/solr/solr/packaging/build/dev/server/lib/ext/*:/home/hossman/lucene/solr/solr/packaging/build/dev/server/lib/*&apos;
org.apache.solr.util.SolrCLI
run_example
-e
cloud
-d
/home/hossman/lucene/solr/solr/packaging/build/dev/server
-urlScheme
http
&apos; -noprompt -m 2g&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;hr /&gt;
&lt;p&gt;So what&apos; the right fix here?&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;change &lt;tt&gt;PASS_TO_RUN_EXAMPLE&lt;/tt&gt; to an array and fix all of it&apos;s contents to not include any extra whitespace?&lt;/li&gt;
	&lt;li&gt;remove the quoting when using &lt;tt&gt;&quot;$PASS_TO_RUN_EXAMPLE&quot;&lt;/tt&gt; ?&lt;/li&gt;
	&lt;li&gt;some other shell best practice i&apos;m not aware of?&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17714058" author="janhoy" created="Wed, 19 Apr 2023 11:17:16 +0000"  >&lt;p&gt;The &quot;right&quot; fix would probably be using an array as we do for SOLR_OPTS, but the quickest and thus safest fix would be to revert to unquoted use. I&apos;ll thow up a PR&lt;/p&gt;</comment>
                            <comment id="17714138" author="jira-bot" created="Wed, 19 Apr 2023 14:37:27 +0000"  >&lt;p&gt;Commit de5d9c3f5a94e03b52622b946ef36a02934053cf in solr&apos;s branch refs/heads/main from Jan H&#248;ydahl&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=de5d9c3f5a9&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=de5d9c3f5a9&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16755&quot; title=&quot;bin/solr&amp;#39;s &amp;#39;-noprompt&amp;#39; option no longer works for examples &quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16755&quot;&gt;&lt;del&gt;SOLR-16755&lt;/del&gt;&lt;/a&gt;: bin/solr&apos;s &apos;-noprompt&apos; option no longer works for examples (#1576)&lt;/p&gt;

&lt;p&gt;Signed-off-by: Jan H&#248;ydahl &amp;lt;janhoy@users.noreply.github.com&amp;gt;&lt;br/&gt;
Co-authored-by: Houston Putman &amp;lt;houston@apache.org&amp;gt;&lt;/p&gt;</comment>
                            <comment id="17714142" author="jira-bot" created="Wed, 19 Apr 2023 14:53:23 +0000"  >&lt;p&gt;Commit 5d25fb34a810aae3125fcf348af0f4a3bb355d2c in solr&apos;s branch refs/heads/branch_9x from Jan H&#248;ydahl&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=5d25fb34a81&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=5d25fb34a81&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16755&quot; title=&quot;bin/solr&amp;#39;s &amp;#39;-noprompt&amp;#39; option no longer works for examples &quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16755&quot;&gt;&lt;del&gt;SOLR-16755&lt;/del&gt;&lt;/a&gt;: bin/solr&apos;s &apos;-noprompt&apos; option no longer works for examples (#1576)&lt;/p&gt;

&lt;p&gt;Signed-off-by: Jan H&#248;ydahl &amp;lt;janhoy@users.noreply.github.com&amp;gt;&lt;br/&gt;
Co-authored-by: Houston Putman &amp;lt;houston@apache.org&amp;gt;&lt;/p&gt;</comment>
                            <comment id="17714146" author="jira-bot" created="Wed, 19 Apr 2023 15:03:04 +0000"  >&lt;p&gt;Commit 7ccd98ef7b8610911c8163b6d84474f5b44b49fb in solr&apos;s branch refs/heads/branch_9_2 from Jan H&#248;ydahl&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=7ccd98ef7b8&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=7ccd98ef7b8&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16755&quot; title=&quot;bin/solr&amp;#39;s &amp;#39;-noprompt&amp;#39; option no longer works for examples &quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16755&quot;&gt;&lt;del&gt;SOLR-16755&lt;/del&gt;&lt;/a&gt;: bin/solr&apos;s &apos;-noprompt&apos; option no longer works for examples (#1576)&lt;/p&gt;

&lt;p&gt;Signed-off-by: Jan H&#248;ydahl &amp;lt;janhoy@users.noreply.github.com&amp;gt;&lt;br/&gt;
Co-authored-by: Houston Putman &amp;lt;houston@apache.org&amp;gt;&lt;br/&gt;
Signed-off-by: Jan H&#248;ydahl &amp;lt;janhoy@users.noreply.github.com&amp;gt;&lt;/p&gt;</comment>
                            <comment id="17718243" author="jsweeney" created="Mon, 1 May 2023 15:26:04 +0000"  >&lt;p&gt;Closing after the 9.2.1 release&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13004800">SOLR-9509</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 28 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1hdbc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>