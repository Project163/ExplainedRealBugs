<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 05:01:18 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-16860] Coordinator ZkStateReader&apos;s watch is not removed upon collection deletion</title>
                <link>https://issues.apache.org/jira/browse/SOLR-16860</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;Core registration in CoordinatorHttpCall correctly registers watch in ZkStateReader as in &lt;a href=&quot;https://github.com/apache/solr/blob/f774922ecf44b18b78435cef8735618bb793ac30/solr/core/src/java/org/apache/solr/servlet/CoordinatorHttpSolrCall.java#L99&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/solr/blob/f774922ecf44b18b78435cef8735618bb793ac30/solr/core/src/java/org/apache/solr/servlet/CoordinatorHttpSolrCall.java#L99&lt;/a&gt;, however there&#8217;s no code to remove such watch on collection deletion (state update).&lt;/p&gt;

&lt;p&gt;For non coordinator node, it&#8217;s done at UnloadCoreOnDeleteWatcher at &lt;a href=&quot;https://github.com/apache/solr/blob/main/solr/core/src/java/org/apache/solr/cloud/ZkController.java#L2869&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/solr/blob/main/solr/core/src/java/org/apache/solr/cloud/ZkController.java#L2869&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13542453">SOLR-16860</key>
            <summary>Coordinator ZkStateReader&apos;s watch is not removed upon collection deletion</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="noble.paul">Noble Paul</assignee>
                                    <reporter username="patson">Patson Luk</reporter>
                        <labels>
                    </labels>
                <created>Tue, 4 Jul 2023 22:28:20 +0000</created>
                <updated>Fri, 21 Jul 2023 20:42:14 +0000</updated>
                            <resolved>Thu, 6 Jul 2023 07:03:46 +0000</resolved>
                                    <version>9.2.1</version>
                                    <fixVersion>9.3</fixVersion>
                                    <component>SolrCloud</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="3600">1h</timespent>
                                <comments>
                            <comment id="17740096" author="jira-bot" created="Wed, 5 Jul 2023 08:38:31 +0000"  >&lt;p&gt;Commit 1bdaf44676c29931b1749e8275732c6987fccd4f in solr&apos;s branch refs/heads/main from patsonluk&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=1bdaf44676c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=1bdaf44676c&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16860&quot; title=&quot;Coordinator ZkStateReader&amp;#39;s watch is not removed upon collection deletion&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16860&quot;&gt;&lt;del&gt;SOLR-16860&lt;/del&gt;&lt;/a&gt;: Remove watch from ZkStateReader of Coordinator Node when collection is deleted (#1752)&lt;/p&gt;
</comment>
                            <comment id="17740099" author="jira-bot" created="Wed, 5 Jul 2023 08:40:37 +0000"  >&lt;p&gt;Commit 8594266022db6611a295a7edf467d6ecbd0d6aa6 in solr&apos;s branch refs/heads/branch_9x from patsonluk&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=8594266022d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=8594266022d&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16860&quot; title=&quot;Coordinator ZkStateReader&amp;#39;s watch is not removed upon collection deletion&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16860&quot;&gt;&lt;del&gt;SOLR-16860&lt;/del&gt;&lt;/a&gt;: Remove watch from ZkStateReader of Coordinator Node when collection is deleted (#1752)&lt;/p&gt;
</comment>
                            <comment id="17740445" author="jira-bot" created="Thu, 6 Jul 2023 06:52:28 +0000"  >&lt;p&gt;Commit 171716e7e8716db548e5d928de9fbd4ec3dc26f3 in solr&apos;s branch refs/heads/main from Noble Paul&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=171716e7e87&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=171716e7e87&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;CHANGES.txt for &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16812&quot; title=&quot;Support CBOR format for update/query&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16812&quot;&gt;&lt;del&gt;SOLR-16812&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16860&quot; title=&quot;Coordinator ZkStateReader&amp;#39;s watch is not removed upon collection deletion&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16860&quot;&gt;&lt;del&gt;SOLR-16860&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16861&quot; title=&quot;Coordinator node does not have the correct collection/core in MDCLoggingContext&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16861&quot;&gt;&lt;del&gt;SOLR-16861&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17740448" author="jira-bot" created="Thu, 6 Jul 2023 06:53:15 +0000"  >&lt;p&gt;Commit 4bde8fe3d0f18f03f6ccfc245a842fd0641d6a97 in solr&apos;s branch refs/heads/branch_9x from Noble Paul&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=4bde8fe3d0f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=4bde8fe3d0f&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;CHANGES.txt for &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16812&quot; title=&quot;Support CBOR format for update/query&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16812&quot;&gt;&lt;del&gt;SOLR-16812&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16860&quot; title=&quot;Coordinator ZkStateReader&amp;#39;s watch is not removed upon collection deletion&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16860&quot;&gt;&lt;del&gt;SOLR-16860&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16861&quot; title=&quot;Coordinator node does not have the correct collection/core in MDCLoggingContext&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16861&quot;&gt;&lt;del&gt;SOLR-16861&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17740599" author="jira-bot" created="Thu, 6 Jul 2023 13:21:25 +0000"  >&lt;p&gt;Commit 6094fb2cb0bb008bc015531d22f3ec17aadeaf21 in solr&apos;s branch refs/heads/main from patsonluk&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=6094fb2cb0b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=6094fb2cb0b&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16860&quot; title=&quot;Coordinator ZkStateReader&amp;#39;s watch is not removed upon collection deletion&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16860&quot;&gt;&lt;del&gt;SOLR-16860&lt;/del&gt;&lt;/a&gt;: Remove collection -&amp;gt; synthetic core mapping in Coordinator Node upon collection deletion (#1754)&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;CoordinatorHttpSolrCall should remove collection from mapping upon collection deletion&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;Updated CHANGES.txt&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;---------&lt;/p&gt;

&lt;p&gt;Co-authored-by: Justin Sweeney &amp;lt;justinsweeney@fullstory.com&amp;gt;&lt;/p&gt;</comment>
                            <comment id="17740603" author="jira-bot" created="Thu, 6 Jul 2023 13:27:07 +0000"  >&lt;p&gt;Commit 179ed4817cce5eb6a19fd9a7b4a179f6c1ac8f53 in solr&apos;s branch refs/heads/branch_9x from patsonluk&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=179ed4817cc&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=179ed4817cc&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16860&quot; title=&quot;Coordinator ZkStateReader&amp;#39;s watch is not removed upon collection deletion&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16860&quot;&gt;&lt;del&gt;SOLR-16860&lt;/del&gt;&lt;/a&gt;: Remove collection -&amp;gt; synthetic core mapping in Coordinator Node upon collection deletion (#1754)&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;CoordinatorHttpSolrCall should remove collection from mapping upon collection deletion&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;Updated CHANGES.txt&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;---------&lt;/p&gt;

&lt;p&gt;Co-authored-by: Justin Sweeney &amp;lt;justinsweeney@fullstory.com&amp;gt;&lt;/p&gt;</comment>
                            <comment id="17745753" author="houston" created="Fri, 21 Jul 2023 20:40:35 +0000"  >&lt;p&gt;Closing after the 9.3.0 release&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 16 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1iyls:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>