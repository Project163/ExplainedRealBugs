<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:47:07 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-2934] Problem with Solr Hunspell with French Dictionary</title>
                <link>https://issues.apache.org/jira/browse/SOLR-2934</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;I&apos;m trying to add the HunspellStemFilterFactory to my Solr project. &lt;br/&gt;
I&apos;m trying this on a fresh new download of Solr 3.5.&lt;br/&gt;
I downloaded french dictionary here (found it from here): &lt;a href=&quot;http://www.dicollecte.org/download/fr/hunspell-fr-moderne-v4.3.zip&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.dicollecte.org/download/fr/hunspell-fr-moderne-v4.3.zip&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;But when I start Solr and go to the Solr Analysis, an error occurs in Solr.&lt;/p&gt;

&lt;p&gt;Is there the trace : &lt;br/&gt;
java.lang.RuntimeException: Unable to load hunspell data! &lt;span class=&quot;error&quot;&gt;&amp;#91;dictionary=en_GB.dic,affix=fr-moderne.aff&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.solr.analysis.HunspellStemFilterFactory.inform(HunspellStemFilterFactory.java:82)&lt;br/&gt;
	at org.apache.solr.core.SolrResourceLoader.inform(SolrResourceLoader.java:546)&lt;br/&gt;
	at org.apache.solr.schema.IndexSchema.&amp;lt;init&amp;gt;(IndexSchema.java:126)&lt;br/&gt;
	at org.apache.solr.core.CoreContainer.create(CoreContainer.java:461)&lt;br/&gt;
	at org.apache.solr.core.CoreContainer.load(CoreContainer.java:316)&lt;br/&gt;
	at org.apache.solr.core.CoreContainer.load(CoreContainer.java:207)&lt;br/&gt;
	at org.apache.solr.core.CoreContainer$Initializer.initialize(CoreContainer.java:130)&lt;br/&gt;
	at org.apache.solr.servlet.SolrDispatchFilter.init(SolrDispatchFilter.java:94)&lt;br/&gt;
	at org.mortbay.jetty.servlet.FilterHolder.doStart(FilterHolder.java:97)&lt;br/&gt;
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)&lt;br/&gt;
	at org.mortbay.jetty.servlet.ServletHandler.initialize(ServletHandler.java:713)&lt;br/&gt;
	at org.mortbay.jetty.servlet.Context.startContext(Context.java:140)&lt;br/&gt;
	at org.mortbay.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1282)&lt;br/&gt;
	at org.mortbay.jetty.handler.ContextHandler.doStart(ContextHandler.java:518)&lt;br/&gt;
	at org.mortbay.jetty.webapp.WebAppContext.doStart(WebAppContext.java:499)&lt;br/&gt;
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)&lt;br/&gt;
	at org.mortbay.jetty.handler.HandlerCollection.doStart(HandlerCollection.java:152)&lt;br/&gt;
	at org.mortbay.jetty.handler.ContextHandlerCollection.doStart(ContextHandlerCollection.java:156)&lt;br/&gt;
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)&lt;br/&gt;
	at org.mortbay.jetty.handler.HandlerCollection.doStart(HandlerCollection.java:152)&lt;br/&gt;
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)&lt;br/&gt;
	at org.mortbay.jetty.handler.HandlerWrapper.doStart(HandlerWrapper.java:130)&lt;br/&gt;
	at org.mortbay.jetty.Server.doStart(Server.java:224)&lt;br/&gt;
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)&lt;br/&gt;
	at org.mortbay.xml.XmlConfiguration.main(XmlConfiguration.java:985)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Unknown Source)&lt;br/&gt;
	at org.mortbay.start.Main.invokeMain(Main.java:194)&lt;br/&gt;
	at org.mortbay.start.Main.start(Main.java:534)&lt;br/&gt;
	at org.mortbay.start.Main.start(Main.java:441)&lt;br/&gt;
	at org.mortbay.start.Main.main(Main.java:119)&lt;/p&gt;

&lt;p&gt;Caused by: java.lang.StringIndexOutOfBoundsException: String index out of range: 3&lt;br/&gt;
	at java.lang.String.charAt(Unknown Source)&lt;br/&gt;
	at org.apache.lucene.analysis.hunspell.HunspellDictionary$DoubleASCIIFlagParsingStrategy.parseFlags(HunspellDictionary.java:382)&lt;br/&gt;
	at org.apache.lucene.analysis.hunspell.HunspellDictionary.parseAffix(HunspellDictionary.java:165)&lt;br/&gt;
	at org.apache.lucene.analysis.hunspell.HunspellDictionary.readAffixFile(HunspellDictionary.java:121)&lt;br/&gt;
	at org.apache.lucene.analysis.hunspell.HunspellDictionary.&amp;lt;init&amp;gt;(HunspellDictionary.java:64)&lt;br/&gt;
	at org.apache.solr.analysis.HunspellStemFilterFactory.inform(HunspellStemFilterFactory.java:46)&lt;/p&gt;


&lt;p&gt;I can&apos;t find where the problem is. It seems like my dictionary isn&apos;t well written for hunspell, but I tried with two different dictionaries, and I had the same problem.&lt;br/&gt;
I also tried with an english dictionary, and ... it works !&lt;br/&gt;
So I think that my french dictionary is wrong for hunspell, but I don&apos;t know why ...&lt;/p&gt;

&lt;p&gt;Can you help me ?&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows 7&lt;/p&gt;</environment>
        <key id="12533428">SOLR-2934</key>
            <summary>Problem with Solr Hunspell with French Dictionary</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cmale">Chris Male</assignee>
                                    <reporter username="nathanc">Nathan Castelein</reporter>
                        <labels>
                    </labels>
                <created>Thu, 1 Dec 2011 11:02:08 +0000</created>
                <updated>Mon, 9 May 2016 18:57:20 +0000</updated>
                            <resolved>Tue, 4 Mar 2014 18:02:09 +0000</resolved>
                                    <version>3.5</version>
                                    <fixVersion>4.8</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                    <component>Schema and Analysis</component>
                        <due></due>
                            <votes>4</votes>
                                    <watches>8</watches>
                                                                                                                <comments>
                            <comment id="13160886" author="erickerickson" created="Thu, 1 Dec 2011 12:55:29 +0000"  >&lt;p&gt;Please raise issues like this on the solr user&apos;s list (solr-user@lucene.apache.org) first rather than raising a JIRA, JIRAs are for bugs/improvements rather than this kind of issue. If the users list results indicate a problem (rather than a user/data error) exists, then feel free to rais a JIRA.&lt;/p&gt;</comment>
                            <comment id="13160887" author="cmale" created="Thu, 1 Dec 2011 12:58:13 +0000"  >&lt;p&gt;Hey Erick,&lt;/p&gt;

&lt;p&gt;I asked Nathan to open this issue as he reported it on the mailing list.  I want to evaluate whether the problem is in our codebase.&lt;/p&gt;</comment>
                            <comment id="13160888" author="erickerickson" created="Thu, 1 Dec 2011 13:00:02 +0000"  >&lt;p&gt;Yep, I just saw that and tried to re-open the issue but you beat me to it! I should probably read the user&apos;s list before the dev list each morning!&lt;/p&gt;

&lt;p&gt;My mistake.&lt;/p&gt;</comment>
                            <comment id="13160889" author="cmale" created="Thu, 1 Dec 2011 13:01:19 +0000"  >&lt;p&gt;No worries &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13160900" author="rcmuir" created="Thu, 1 Dec 2011 13:17:55 +0000"  >&lt;p&gt;Might also be a good idea to document somewhere that not all languages&apos; encodings work correctly at the moment.&lt;/p&gt;

&lt;p&gt;Some of these are crazy-complicated (e.g. hungarian). &lt;/p&gt;</comment>
                            <comment id="13160902" author="cmale" created="Thu, 1 Dec 2011 13:20:26 +0000"  >&lt;p&gt;Great idea&lt;/p&gt;</comment>
                            <comment id="13192162" author="markus17" created="Tue, 24 Jan 2012 14:04:15 +0000"  >&lt;p&gt;We&apos;ve seen issues with quite a few dic files as well but the stacktrace makes it difficult to find the error. NumberFormatExceptions (da_DK) are easy as they print the bad number but ArrayOutOfBoundExceptions (nl_NL) are almost impossible to debug. We also see ParseExceptions such as (en_GB):&lt;/p&gt;

&lt;p&gt;Caused by: java.text.ParseException: The first non-comment line in the affix file must be a &apos;SET charset&apos;, was: &apos;FLAG num&apos;&lt;br/&gt;
        at org.apache.lucene.analysis.hunspell.HunspellDictionary.getDictionaryEncoding(HunspellDictionary.java:262)&lt;br/&gt;
        at org.apache.lucene.analysis.hunspell.HunspellDictionary.&amp;lt;init&amp;gt;(HunspellDictionary.java:101)&lt;br/&gt;
        at org.apache.solr.analysis.HunspellStemFilterFactory.inform(HunspellStemFilterFactory.java:80)&lt;br/&gt;
        ... 31 more&lt;/p&gt;

&lt;p&gt;and UnsupportedCharsetException (th_TH):&lt;/p&gt;

&lt;p&gt;Caused by: java.nio.charset.UnsupportedCharsetException: TIS620-2533&lt;br/&gt;
        at java.nio.charset.Charset.forName(Charset.java:505)&lt;br/&gt;
        at org.apache.lucene.analysis.hunspell.HunspellDictionary.getJavaEncoding(HunspellDictionary.java:275)&lt;br/&gt;
        at org.apache.lucene.analysis.hunspell.HunspellDictionary.&amp;lt;init&amp;gt;(HunspellDictionary.java:102)&lt;br/&gt;
        at org.apache.solr.analysis.HunspellStemFilterFactory.inform(HunspellStemFilterFactory.java:80)&lt;br/&gt;
        ... 31 more&lt;/p&gt;

&lt;p&gt;It seems there are many different issues with the provided dic and aff files and some seem to work and some don&apos;t seem to work at all. &lt;/p&gt;</comment>
                            <comment id="13192194" author="rcmuir" created="Tue, 24 Jan 2012 14:53:18 +0000"  >&lt;blockquote&gt;
&lt;p&gt;It seems there are many different issues with the provided dic and aff files and some seem to work and some don&apos;t seem to work at all.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;What does this mean? We don&apos;t provide any dic and aff files!&lt;/p&gt;</comment>
                            <comment id="13192210" author="rcmuir" created="Tue, 24 Jan 2012 15:26:22 +0000"  >&lt;p&gt;Where did you get your en_GB dictionary? The one from openoffice has as first line &apos;SET ISO8859-1&apos;.&lt;br/&gt;
So if you want bugs fixed with dictionaries, which &lt;b&gt;anyone&lt;/b&gt; can make and can be buggy, you must upload &lt;br/&gt;
them to this issue (don&apos;t check the box), because otherwise we have nothing to work with.&lt;/p&gt;

&lt;p&gt;There is no point in worrying about adding aliases/matching up charset naming for Thai.&lt;br/&gt;
The thai spell dictionary is just a list of words (nothing in the .aff except 4 replacement rules&lt;br/&gt;
for spellchecking), so this whole filter will be a no-op with that dictionary.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;SET TIS620-2533

REP 4
REP &#3607;&#3619; &#3595;
REP &#3595; &#3607;&#3619;
REP &#3626; &#3595;
REP &#3595; &#3626;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13192211" author="markus17" created="Tue, 24 Jan 2012 15:26:57 +0000"  >&lt;p&gt;I&apos;m sorry, it means the packages available at OpenOffice.&lt;/p&gt;</comment>
                            <comment id="13192214" author="markus17" created="Tue, 24 Jan 2012 15:30:02 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Caused by: java.text.ParseException: The first non-comment line in the affix file must be a &lt;span class=&quot;code-quote&quot;&gt;&apos;SET charset&apos;&lt;/span&gt;, was: &lt;span class=&quot;code-quote&quot;&gt;&apos;FLAG num&apos;&lt;/span&gt;
        at org.apache.lucene.analysis.hunspell.HunspellDictionary.getDictionaryEncoding(HunspellDictionary.java:262)
        at org.apache.lucene.analysis.hunspell.HunspellDictionary.&amp;lt;init&amp;gt;(HunspellDictionary.java:101)
        at org.apache.solr.analysis.HunspellStemFilterFactory.inform(HunspellStemFilterFactory.java:80)
        ... 31 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This is thrown by the en_GB available at OpenOffice. &lt;br/&gt;
&lt;a href=&quot;http://extensions.services.openoffice.org/en/project/dict-en-fixed&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://extensions.services.openoffice.org/en/project/dict-en-fixed&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13192216" author="rcmuir" created="Tue, 24 Jan 2012 15:33:37 +0000"  >&lt;p&gt;That page doesnt work for me.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;So if you want bugs fixed with dictionaries, which anyone can make and can be buggy, you must upload&lt;br/&gt;
them to this issue (don&apos;t check the box), because otherwise we have nothing to work with.&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="13192221" author="markus17" created="Tue, 24 Jan 2012 15:42:45 +0000"  >&lt;p&gt;Indeed! Strange. If you go there via:&lt;br/&gt;
&lt;a href=&quot;http://extensions.services.openoffice.org/en/dictionaries&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://extensions.services.openoffice.org/en/dictionaries&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;and this anchor:&lt;br/&gt;
English dictionaries with fixed dash handling and new ligature and phonetic suggestion support&lt;/p&gt;

&lt;p&gt;you&apos;ll end up on the same page without error.&lt;/p&gt;</comment>
                            <comment id="13192231" author="rcmuir" created="Tue, 24 Jan 2012 16:05:04 +0000"  >&lt;p&gt;When I click that page it just links to &lt;a href=&quot;http://extensions.services.openoffice.org/en/project/dict-en-fixed&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://extensions.services.openoffice.org/en/project/dict-en-fixed&lt;/a&gt; and gives the same error.&lt;/p&gt;

&lt;p&gt;Can you upload your copy?&lt;/p&gt;</comment>
                            <comment id="13192240" author="markus17" created="Tue, 24 Jan 2012 16:11:31 +0000"  >&lt;p&gt;en_GB.aff and en_GB.dic files from openoffice.org.&lt;/p&gt;</comment>
                            <comment id="13192246" author="rcmuir" created="Tue, 24 Jan 2012 16:16:30 +0000"  >&lt;p&gt;I see, indeed this has no CHARSET line.&lt;/p&gt;

&lt;p&gt;I think the only solution is to allow the user to manually provide this as a parameter in such cases.&lt;/p&gt;</comment>
                            <comment id="13207685" author="brauliobo" created="Tue, 14 Feb 2012 12:59:48 +0000"  >&lt;p&gt;the same is happening with pt_BR dict &lt;a href=&quot;http://artfiles.org/openoffice.org/contrib/dictionaries/pt_BR.zip&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://artfiles.org/openoffice.org/contrib/dictionaries/pt_BR.zip&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13284322" author="lboutros" created="Mon, 28 May 2012 08:33:20 +0000"  >&lt;p&gt;For the french dictionary for instance, if I understand the mechanism well, &lt;br/&gt;
it seems that there are some aliases, i.e. &quot;AF ...&quot;, &quot;AM ...&quot;.&lt;br/&gt;
These dictionaries are somehow compressed.&lt;/p&gt;

&lt;p&gt;And in the C++ code there is this part of code :&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    dash = strchr(piece, &lt;span class=&quot;code-quote&quot;&gt;&apos;/&apos;&lt;/span&gt;);
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (dash) {
        ...
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (pHMgr-&amp;gt;is_aliasf()) {
          &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; index = atoi(dash + 1);
          nptr-&amp;gt;contclasslen = pHMgr-&amp;gt;get_aliasf(index, &amp;amp;(nptr-&amp;gt;contclass));
        } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
            nptr-&amp;gt;contclasslen = pHMgr-&amp;gt;decode_flags(&amp;amp;(nptr-&amp;gt;contclass), dash + 1);
            flag_qsort(nptr-&amp;gt;contclass, 0, nptr-&amp;gt;contclasslen);
        }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;But I did not find anything similar in the Java Class, the aliases are not loaded I think.&lt;br/&gt;
Correct me if I&apos;m wrong but it seems not possible to load compressed affix dictionaries currently.&lt;/p&gt;

&lt;p&gt;Hope this can help.&lt;/p&gt;</comment>
                            <comment id="13284329" author="cmale" created="Mon, 28 May 2012 08:57:11 +0000"  >&lt;blockquote&gt;&lt;p&gt;Correct me if I&apos;m wrong but it seems not possible to load compressed affix dictionaries currently.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;That is correct.  Our Java code isn&apos;t a direct port from the C++ code, rather it&apos;s an implementation designed to suit our needs.  It could definitely do with some love in regards to compressed dictionaries.  Would you like to open an issue and throw together a patch?&lt;/p&gt;</comment>
                            <comment id="13284334" author="lboutros" created="Mon, 28 May 2012 09:06:25 +0000"  >&lt;p&gt;And just for information, the ubuntu french hunspell dictionary is not compressed and works perfectly.&lt;/p&gt;</comment>
                            <comment id="13284337" author="lboutros" created="Mon, 28 May 2012 09:11:39 +0000"  >&lt;p&gt;done : &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-4079&quot; title=&quot;The hunspell filter should support compressed Hunspell dictionaries&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LUCENE-4079&quot;&gt;&lt;del&gt;SOLR-3494&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13284361" author="lboutros" created="Mon, 28 May 2012 10:18:22 +0000"  >&lt;p&gt;I&apos;ve attached a little patch in the other issue which allows me to load latest French dictionaries of OpenOffice.&lt;/p&gt;</comment>
                            <comment id="13412133" author="hossman" created="Wed, 11 Jul 2012 22:26:06 +0000"  >&lt;p&gt;bulk fixing the version info for 4.0-ALPHA and 4.0 all affected issues have &quot;hoss20120711-bulk-40-change&quot; in comment&lt;/p&gt;</comment>
                            <comment id="13414942" author="stephan.m" created="Mon, 16 Jul 2012 09:05:21 +0000"  >&lt;p&gt;Please consider look at this again:&lt;br/&gt;
I can reproduce the original StringOutOfBoundException in DoubleASCIIFlagParsingStrategy&lt;/p&gt;

&lt;p&gt;I think this is caused by &lt;/p&gt;

&lt;p&gt; for (int i = 0; i &amp;lt; rawFlags.length(); i+=2) {&lt;br/&gt;
char cookedFlag = (char) ((int) rawFlags.charAt&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/information.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; + (int) rawFlags.charAt(i + 1)); // &amp;lt;&amp;lt;&amp;lt; i +1 here!!!&lt;/p&gt;

&lt;p&gt;we have used the dictonary with solr 3.3 (+patched with files from &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-3414&quot; title=&quot;Bring Hunspell for Lucene into analysis module&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LUCENE-3414&quot;&gt;&lt;del&gt;LUCENE-3414&lt;/del&gt;&lt;/a&gt;/&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-2769&quot; title=&quot;HunspellStemFilterFactory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-2769&quot;&gt;&lt;del&gt;SOLR-2769&lt;/del&gt;&lt;/a&gt;) changed this given line to &lt;/p&gt;

&lt;p&gt; for (int i = 0; i &amp;lt; rawFlags.length()-1; i+=2) { // &amp;lt;&amp;lt;&amp;lt; reduce size by 1 because of .charAt(i+1)&lt;br/&gt;
char cookedFlag = (char) ((int) rawFlags.charAt&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/information.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; + (int) rawFlags.charAt(i + 1));&lt;/p&gt;

&lt;p&gt;this worked flawless for us. &lt;/p&gt;</comment>
                            <comment id="13414943" author="cmale" created="Mon, 16 Jul 2012 09:07:24 +0000"  >&lt;p&gt;I will take a look Stephan.&lt;/p&gt;</comment>
                            <comment id="13429761" author="rcmuir" created="Tue, 7 Aug 2012 03:42:46 +0000"  >&lt;p&gt;rmuir20120906-bulk-40-change&lt;/p&gt;</comment>
                            <comment id="13452218" author="rcmuir" created="Mon, 10 Sep 2012 17:41:58 +0000"  >&lt;p&gt;moving all 4.0 issues not touched in a month to 4.1&lt;/p&gt;</comment>
                            <comment id="13717418" author="steve_rowe" created="Tue, 23 Jul 2013 18:48:11 +0000"  >&lt;p&gt;Bulk move 4.4 issues to 4.5 and 5.0&lt;/p&gt;</comment>
                            <comment id="13919695" author="jira-bot" created="Tue, 4 Mar 2014 17:51:21 +0000"  >&lt;p&gt;Commit 1574158 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rcmuir&quot; class=&quot;user-hover&quot; rel=&quot;rcmuir&quot;&gt;rcmuir&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1574158&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1574158&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-2934&quot; title=&quot;Problem with Solr Hunspell with French Dictionary&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-2934&quot;&gt;&lt;del&gt;SOLR-2934&lt;/del&gt;&lt;/a&gt;: increase buffer size for recent dictionaries with large amounts of AF/AM lines before charset&lt;/p&gt;</comment>
                            <comment id="13919696" author="jira-bot" created="Tue, 4 Mar 2014 17:51:58 +0000"  >&lt;p&gt;Commit 1574159 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rcmuir&quot; class=&quot;user-hover&quot; rel=&quot;rcmuir&quot;&gt;rcmuir&lt;/a&gt; in branch &apos;dev/branches/branch_4x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1574159&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1574159&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-2934&quot; title=&quot;Problem with Solr Hunspell with French Dictionary&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-2934&quot;&gt;&lt;del&gt;SOLR-2934&lt;/del&gt;&lt;/a&gt;: increase buffer size for recent dictionaries with large amounts of AF/AM lines before charset&lt;/p&gt;</comment>
                            <comment id="13919712" author="rcmuir" created="Tue, 4 Mar 2014 18:02:09 +0000"  >&lt;p&gt;Currently we can load all the openoffice dictionaries (at least from the old link).&lt;/p&gt;

&lt;p&gt;I will test newer dictionaries (thunderbird has a link) later today, especially since it has many that arent in the openoffice list. This might reveal some issues to fix.&lt;/p&gt;

&lt;p&gt;As far as EN_GB.aff,.dic, i committed a fix for this (we use mark/reset to go back once we find the encoding, for now, and i ensured it has a large enough buffer size).&lt;/p&gt;

&lt;p&gt;As far as the original exception reported by the user (mixing EN_GB.dic with french affix file, this is not supported. Affix files must &quot;go with&quot; the dictionary as they contain information such as how characters and flags are encoded).&lt;/p&gt;

&lt;p&gt;As far as Stephen&apos;s issue: with long flags, there should never be an odd number of flags. So something is wrong with the dictionary you are using. I haven&apos;t seen it yet in the wild with published dictionaries.&lt;/p&gt;</comment>
                            <comment id="13924932" author="rcmuir" created="Sat, 8 Mar 2014 17:12:22 +0000"  >&lt;blockquote&gt;
&lt;p&gt;Stephan Meisinger added a comment - 16/Jul/12 05:05&lt;/p&gt;

&lt;p&gt;Please consider look at this again:&lt;br/&gt;
I can reproduce the original StringOutOfBoundException in DoubleASCIIFlagParsingStrategy&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Just a followup about that issue with long flags, I found this in a thunderbird dictionary. The bug is not the flag parsing (again it should always be an even number of characters, i added an explicit check for that too!). Instead the bug was that escaping wasnt handled properly. So if the word itself contains a slash, some parts of the word would be bogusly parsed as flags. The escaping was fixed in &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-5497&quot; title=&quot;hunspell doesnt handle escaping or optional conditions properly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LUCENE-5497&quot;&gt;&lt;del&gt;LUCENE-5497&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13982631" author="thetaphi" created="Sun, 27 Apr 2014 23:26:01 +0000"  >&lt;p&gt;Close issue after release of 4.8.0&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12558317">LUCENE-4079</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12511682" name="en_GB.aff" size="74492" author="markus17" created="Tue, 24 Jan 2012 16:11:31 +0000"/>
                            <attachment id="12511683" name="en_GB.dic" size="701646" author="markus17" created="Tue, 24 Jan 2012 16:11:31 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>219156</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 30 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i03hpb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>18301</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>