<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:34:30 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-4511] Repeater doesn&apos;t return correct index version to slaves</title>
                <link>https://issues.apache.org/jira/browse/SOLR-4511</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;Related to &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-4471&quot; title=&quot;Replication occurs even when a slave is already up to date.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-4471&quot;&gt;&lt;del&gt;SOLR-4471&lt;/del&gt;&lt;/a&gt;. I have a master-repeater-2slaves architecture. The replication between master and repeater is working fine but slaves aren&apos;t able to replicate because their master (repeater node) is returning an old index version, but in admin UI the version that repeater have is correct.&lt;/p&gt;

&lt;p&gt;When I do &lt;a href=&quot;http://localhost:17045/solr/replication?command=indexversion&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:17045/solr/replication?command=indexversion&lt;/a&gt; response is: &amp;lt;long name=&quot;generation&quot;&amp;gt;29037&amp;lt;/long&amp;gt; when the version should be 29042&lt;/p&gt;

&lt;p&gt;If I restart the repeater node this URL returns the correct index version, but after a while it fails again.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12634579">SOLR-4511</key>
            <summary>Repeater doesn&apos;t return correct index version to slaves</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="markrmiller@gmail.com">Mark Miller</assignee>
                                    <reporter username="raulgrande83">Ra&#250;l Grande</reporter>
                        <labels>
                    </labels>
                <created>Thu, 28 Feb 2013 08:53:21 +0000</created>
                <updated>Mon, 9 May 2016 18:52:41 +0000</updated>
                            <resolved>Thu, 3 Oct 2013 20:20:24 +0000</resolved>
                                    <version>4.1</version>
                                    <fixVersion>4.2</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                    <component>replication (java)</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13589913" author="markrmiller@gmail.com" created="Thu, 28 Feb 2013 20:57:23 +0000"  >&lt;p&gt;I don&apos;t see a repeater test. I can look at adding one.&lt;/p&gt;</comment>
                            <comment id="13590014" author="markrmiller@gmail.com" created="Thu, 28 Feb 2013 22:56:57 +0000"  >&lt;p&gt;It would help if you could track down some reproduction steps. I have a repeater test with a master, repeater, and slave. So far my tests seem fine, so I&apos;m not tickling whatever you are seeing.&lt;/p&gt;</comment>
                            <comment id="13590124" author="markrmiller@gmail.com" created="Fri, 1 Mar 2013 01:00:52 +0000"  >&lt;p&gt;I added a new repeater test, but it doesn&apos;t tickle what you are seeing.&lt;/p&gt;

&lt;p&gt;I did add some checks of the replicatable commit vs the current commit point though, and that caused another test to find an issue. I&apos;ve fixed that, and I think it was probably causing your issue as well.&lt;/p&gt;</comment>
                            <comment id="13590319" author="raulgrande83" created="Fri, 1 Mar 2013 08:11:28 +0000"  >&lt;p&gt;Thank you, I will try to install the patch asap. If I find any issues I will let you know.&lt;/p&gt;</comment>
                            <comment id="13590647" author="markrmiller@gmail.com" created="Fri, 1 Mar 2013 15:46:15 +0000"  >&lt;p&gt;Thanks Raul! Look forward to hearing your results.&lt;/p&gt;</comment>
                            <comment id="13590758" author="markrmiller@gmail.com" created="Fri, 1 Mar 2013 17:45:45 +0000"  >&lt;p&gt;I&apos;ve committed this and merged back to 4X - unfortunetly, I used the wrong commit msg for the 4.X merge back though, so it won&apos;t be tagged in JIRA correctly.&lt;/p&gt;

&lt;p&gt;Let me know how it works Raul.&lt;/p&gt;</comment>
                            <comment id="13590761" author="commit-tag-bot" created="Fri, 1 Mar 2013 17:46:14 +0000"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;trunk commit&amp;#93;&lt;/span&gt; Mark Robert Miller&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1451659&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1451659&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-4511&quot; title=&quot;Repeater doesn&amp;#39;t return correct index version to slaves&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-4511&quot;&gt;&lt;del&gt;SOLR-4511&lt;/del&gt;&lt;/a&gt;: When a new index is replicated into place, we need to update the most recent replicatable index point without doing a commit. This is important for repeater use cases, as well as when nodes may switch master/slave roles.&lt;/p&gt;</comment>
                            <comment id="13591213" author="abakle" created="Sat, 2 Mar 2013 02:12:24 +0000"  >&lt;p&gt;I had similar issue .. did check with trunk build deployed on my dev environment and its now replicates properly even with the incremental index. &lt;/p&gt;</comment>
                            <comment id="13591598" author="markrmiller@gmail.com" created="Sun, 3 Mar 2013 02:05:45 +0000"  >&lt;p&gt;Great, thanks for the info.&lt;/p&gt;</comment>
                            <comment id="13717297" author="steve_rowe" created="Tue, 23 Jul 2013 18:47:46 +0000"  >&lt;p&gt;Bulk move 4.4 issues to 4.5 and 5.0&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12634811">SOLR-4521</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12571512" name="SOLR-4511.patch" size="13089" author="markrmiller@gmail.com" created="Fri, 1 Mar 2013 01:00:52 +0000"/>
                            <attachment id="12571382" name="o8uzad.jpg" size="669141" author="raulgrande83" created="Thu, 28 Feb 2013 08:54:46 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>315072</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 18 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1idbb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>315416</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>