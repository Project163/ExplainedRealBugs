<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:35:33 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-3956] group.facet and facet.limit=-1 returns no facet counts</title>
                <link>https://issues.apache.org/jira/browse/SOLR-3956</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;Attempting to use group.facet=true and facet.limit=-1 to return all facets from a grouped result ends up with the counts not being returned. Adjusting the facet.limit to any number greater than 0 returns the facet counts as expected.&lt;/p&gt;

&lt;p&gt;This does not appear limited to a specific field type, as I have tried on (both multivalued and not) text, string, boolean, and double types.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12612094">SOLR-3956</key>
            <summary>group.facet and facet.limit=-1 returns no facet counts</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hossman">Chris M. Hostetter</assignee>
                                    <reporter username="firelore">Mike Spencer</reporter>
                        <labels>
                    </labels>
                <created>Tue, 16 Oct 2012 19:42:29 +0000</created>
                <updated>Mon, 9 May 2016 18:44:24 +0000</updated>
                            <resolved>Thu, 28 Mar 2013 18:49:44 +0000</resolved>
                                    <version>4.0</version>
                                    <fixVersion>4.3</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                    <component>search</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13611740" author="chrisvandermerwe" created="Sat, 23 Mar 2013 15:32:44 +0000"  >&lt;p&gt;Proposed patch attached.&lt;/p&gt;</comment>
                            <comment id="13614719" author="hossman" created="Wed, 27 Mar 2013 00:17:18 +0000"  >&lt;p&gt;Updated patch to include some test cases&lt;/p&gt;</comment>
                            <comment id="13614785" author="hossman" created="Wed, 27 Mar 2013 01:33:46 +0000"  >&lt;p&gt;Patch updated to include testing directly from the grouping module as well.&lt;/p&gt;</comment>
                            <comment id="13614949" author="hossman" created="Wed, 27 Mar 2013 05:23:07 +0000"  >&lt;p&gt;Hmmm... looking at the context of the fix a bit more i realized it wasn&apos;t going to play nice with using a non-0 offset, so in this updated patch i added tests for that case and fixed the code.&lt;/p&gt;

&lt;p&gt;The lucene level test passes, but the solr ones don&apos;t suggesting that there is another aspect of this bug somewhere (either that i managed to screw up the solr tests) ... need to look closer later&lt;/p&gt;</comment>
                            <comment id="13615830" author="hossman" created="Wed, 27 Mar 2013 22:11:54 +0000"  >&lt;p&gt;After tracing down the problem with using facet.offset combined with facet.limit&amp;lt;0 i started to rethink the wisdom of changing getFacetEntries to treat negative numbers as &quot;unlimited&quot; it seemed more prudent to revise the patch so that the the calling code in Solr passes Integer.MAX_VALUE when facet.limit &amp;lt; 0, and update getFacetEntries to not have int overflow if Integer.MAX_VALUE &amp;lt; offset+limit. (fixing other cases extreme cases beyond just facet.limit &amp;lt; 0)&lt;/p&gt;

&lt;p&gt;tests now all pass, but i&apos;m running some more iterations in case i&apos;ve tripped something in other random tests.&lt;/p&gt;</comment>
                            <comment id="13616527" author="hossman" created="Thu, 28 Mar 2013 18:49:44 +0000"  >&lt;p&gt;Thanks for tracking down the initial problem Chris!&lt;/p&gt;

&lt;p&gt;commits: r1462227 &amp;amp; r1462255&lt;/p&gt;</comment>
                            <comment id="13653937" author="thetaphi" created="Fri, 10 May 2013 10:33:28 +0000"  >&lt;p&gt;Closed after release.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12575778" name="SOLR-3956.patch" size="12463" author="hossman" created="Wed, 27 Mar 2013 22:11:54 +0000"/>
                            <attachment id="12575665" name="SOLR-3956.patch" size="9940" author="hossman" created="Wed, 27 Mar 2013 05:23:07 +0000"/>
                            <attachment id="12575636" name="SOLR-3956.patch" size="8350" author="hossman" created="Wed, 27 Mar 2013 01:33:46 +0000"/>
                            <attachment id="12575616" name="SOLR-3956.patch" size="6560" author="hossman" created="Wed, 27 Mar 2013 00:17:18 +0000"/>
                            <attachment id="12575192" name="SOLR-3956.patch" size="1156" author="chrisvandermerwe" created="Sat, 23 Mar 2013 15:32:44 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>249110</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 28 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0a4tz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>57056</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>