<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:47:10 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-15149] Learning To Rank model upload fails generically</title>
                <link>https://issues.apache.org/jira/browse/SOLR-15149</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;When uploading a model, using a not existent store or other incorrect parameters you get:&lt;/p&gt;

&lt;p&gt;&quot;error&quot;:{&lt;br/&gt;
    &quot;metadata&quot;:[&lt;br/&gt;
      &quot;error-class&quot;,&quot;org.apache.solr.common.SolrException&quot;,&lt;br/&gt;
      &quot;root-error-class&quot;,&quot;java.lang.ClassCastException&quot;],&lt;br/&gt;
    &quot;msg&quot;:&quot;org.apache.solr.ltr.model.ModelException: Model type does not exist org.apache.solr.ltr.model.LinearModel&quot;,&lt;br/&gt;
    &quot;code&quot;:400}}&lt;/p&gt;

&lt;p&gt;In the response, logs don&apos;t help that much out of the box, I had to go for remote debugging and of course we don&apos;t want the generic user to do that.&lt;/p&gt;

&lt;p&gt;Reason is in org/apache/solr/ltr/model/LTRScoringModel.java:111&lt;/p&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
      &lt;span class=&quot;code-comment&quot;&gt;// create an instance of the model
&lt;/span&gt;      model = solrResourceLoader.newInstance(
          className,
          LTRScoringModel.class,
          &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[0], &lt;span class=&quot;code-comment&quot;&gt;// no sub packages
&lt;/span&gt;          &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;[] { &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.class, List.class, List.class, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.class, List.class, Map.class },
          &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;[] { name, features, norms, featureStoreName, allFeatures, params });
      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (params != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
        SolrPluginUtils.invokeSetters(model, params.entrySet());
      }
    } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Exception e) {
      &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ModelException(&lt;span class=&quot;code-quote&quot;&gt;&quot;Model type does not exist &quot;&lt;/span&gt; + className, e);
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This happens when:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;use a not existent feature store&lt;/li&gt;
	&lt;li&gt;use not existent feature&lt;/li&gt;
	&lt;li&gt;use an integer instead of Double as a weight in a linear model&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;unless any objection, we should improve such message with the real one&lt;/p&gt;</description>
                <environment></environment>
        <key id="13357896">SOLR-15149</key>
            <summary>Learning To Rank model upload fails generically</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="abenedetti#1">abenedetti#1</assignee>
                                    <reporter username="abenedetti">Alessandro Benedetti</reporter>
                        <labels>
                    </labels>
                <created>Wed, 10 Feb 2021 09:03:07 +0000</created>
                <updated>Wed, 23 Jun 2021 13:42:18 +0000</updated>
                            <resolved>Fri, 19 Feb 2021 07:43:16 +0000</resolved>
                                                    <fixVersion>8.9</fixVersion>
                                    <component>contrib - LTR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="3000">50m</timespent>
                                <comments>
                            <comment id="17282738" author="jira-bot" created="Wed, 10 Feb 2021 21:56:21 +0000"  >&lt;p&gt;Commit ebe3ce96bed750b0d1a5e52f459ec31861691207 in lucene-solr&apos;s branch refs/heads/jira/&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-15149&quot; title=&quot;Learning To Rank model upload fails generically&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-15149&quot;&gt;&lt;del&gt;SOLR-15149&lt;/del&gt;&lt;/a&gt; from Alessandro Benedetti&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=ebe3ce9&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=ebe3ce9&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-15149&quot; title=&quot;Learning To Rank model upload fails generically&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-15149&quot;&gt;&lt;del&gt;SOLR-15149&lt;/del&gt;&lt;/a&gt;: model creation errors fixes&lt;/p&gt;</comment>
                            <comment id="17282744" author="alessandro.benedetti" created="Wed, 10 Feb 2021 22:13:45 +0000"  >&lt;p&gt;unless any objection from  &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=erickerickson&quot; class=&quot;user-hover&quot; rel=&quot;erickerickson&quot;&gt;erickerickson&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dawid.weiss&quot; class=&quot;user-hover&quot; rel=&quot;dawid.weiss&quot;&gt;dawid.weiss&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cpoerschke&quot; class=&quot;user-hover&quot; rel=&quot;cpoerschke&quot;&gt;cpoerschke&lt;/a&gt; I&apos;ll proceed to the merge in the next couple of days&lt;/p&gt;</comment>
                            <comment id="17282749" author="jira-bot" created="Wed, 10 Feb 2021 22:21:54 +0000"  >&lt;p&gt;Commit 8791745159c2c4c888f6f3b5698361026ef7151d in lucene-solr&apos;s branch refs/heads/jira/&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-15149&quot; title=&quot;Learning To Rank model upload fails generically&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-15149&quot;&gt;&lt;del&gt;SOLR-15149&lt;/del&gt;&lt;/a&gt; from Alessandro Benedetti&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=8791745&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=8791745&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-15149&quot; title=&quot;Learning To Rank model upload fails generically&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-15149&quot;&gt;&lt;del&gt;SOLR-15149&lt;/del&gt;&lt;/a&gt;: changes&lt;/p&gt;</comment>
                            <comment id="17282902" author="dweiss" created="Thu, 11 Feb 2021 07:56:12 +0000"  >&lt;p&gt;Err... I don&apos;t know anything about this code, Alessandro. I don&apos;t think I was ever involved in this.&lt;/p&gt;</comment>
                            <comment id="17282913" author="alessandro.benedetti" created="Thu, 11 Feb 2021 08:10:09 +0000"  >&lt;p&gt;Sorry &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dweiss&quot; class=&quot;user-hover&quot; rel=&quot;dweiss&quot;&gt;dweiss&lt;/a&gt;! You just reverted a commit on that class, for that reason you were in the list of committers &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
you can ignore my tag then!&lt;/p&gt;</comment>
                            <comment id="17282921" author="dweiss" created="Thu, 11 Feb 2021 08:18:25 +0000"  >&lt;p&gt;Oh... did I? &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; Must have been unrelated - sorry!&lt;/p&gt;</comment>
                            <comment id="17284605" author="jira-bot" created="Mon, 15 Feb 2021 08:53:29 +0000"  >&lt;p&gt;Commit 5e00ffa36cdd77ea9e803737d8fee31852a4f2cf in lucene-solr&apos;s branch refs/heads/jira/&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-15149&quot; title=&quot;Learning To Rank model upload fails generically&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-15149&quot;&gt;&lt;del&gt;SOLR-15149&lt;/del&gt;&lt;/a&gt; from Alessandro Benedetti&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=5e00ffa&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=5e00ffa&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-15149&quot; title=&quot;Learning To Rank model upload fails generically&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-15149&quot;&gt;&lt;del&gt;SOLR-15149&lt;/del&gt;&lt;/a&gt;: minor&lt;/p&gt;</comment>
                            <comment id="17284608" author="jira-bot" created="Mon, 15 Feb 2021 08:55:52 +0000"  >&lt;p&gt;Commit a38a6b4a5985b2e9096801a9d7c5f24ace5162a8 in lucene-solr&apos;s branch refs/heads/jira/&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-15149&quot; title=&quot;Learning To Rank model upload fails generically&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-15149&quot;&gt;&lt;del&gt;SOLR-15149&lt;/del&gt;&lt;/a&gt; from Alessandro Benedetti&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=a38a6b4&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=a38a6b4&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-15149&quot; title=&quot;Learning To Rank model upload fails generically&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-15149&quot;&gt;&lt;del&gt;SOLR-15149&lt;/del&gt;&lt;/a&gt;: minor&lt;/p&gt;</comment>
                            <comment id="17284840" author="jira-bot" created="Mon, 15 Feb 2021 17:02:58 +0000"  >&lt;p&gt;Commit 227ef3b39798d00c006539c9bee0e57db34c2871 in lucene-solr&apos;s branch refs/heads/master from Alessandro Benedetti&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=227ef3b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=227ef3b&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-15149&quot; title=&quot;Learning To Rank model upload fails generically&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-15149&quot;&gt;&lt;del&gt;SOLR-15149&lt;/del&gt;&lt;/a&gt;: model creation errors fixes (#2350)&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-15149&quot; title=&quot;Learning To Rank model upload fails generically&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-15149&quot;&gt;&lt;del&gt;SOLR-15149&lt;/del&gt;&lt;/a&gt;: model loading errors fix + tests&lt;/p&gt;</comment>
                            <comment id="17284841" author="jira-bot" created="Mon, 15 Feb 2021 17:02:59 +0000"  >&lt;p&gt;Commit 227ef3b39798d00c006539c9bee0e57db34c2871 in lucene-solr&apos;s branch refs/heads/master from Alessandro Benedetti&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=227ef3b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=227ef3b&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-15149&quot; title=&quot;Learning To Rank model upload fails generically&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-15149&quot;&gt;&lt;del&gt;SOLR-15149&lt;/del&gt;&lt;/a&gt;: model creation errors fixes (#2350)&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-15149&quot; title=&quot;Learning To Rank model upload fails generically&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-15149&quot;&gt;&lt;del&gt;SOLR-15149&lt;/del&gt;&lt;/a&gt;: model loading errors fix + tests&lt;/p&gt;</comment>
                            <comment id="17284846" author="jira-bot" created="Mon, 15 Feb 2021 17:11:04 +0000"  >&lt;p&gt;Commit 59deccf676d34d19a5e0bf20ce3a77b1ff3dd284 in lucene-solr&apos;s branch refs/heads/branch_8x from Alessandro Benedetti&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=59deccf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=59deccf&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-15149&quot; title=&quot;Learning To Rank model upload fails generically&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-15149&quot;&gt;&lt;del&gt;SOLR-15149&lt;/del&gt;&lt;/a&gt;: model creation errors fixes (#2350)&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-15149&quot; title=&quot;Learning To Rank model upload fails generically&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-15149&quot;&gt;&lt;del&gt;SOLR-15149&lt;/del&gt;&lt;/a&gt;: model loading errors fix + tests&lt;br/&gt;
(cherry picked from commit 227ef3b39798d00c006539c9bee0e57db34c2871)&lt;/p&gt;</comment>
                            <comment id="17284847" author="jira-bot" created="Mon, 15 Feb 2021 17:11:05 +0000"  >&lt;p&gt;Commit 59deccf676d34d19a5e0bf20ce3a77b1ff3dd284 in lucene-solr&apos;s branch refs/heads/branch_8x from Alessandro Benedetti&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=59deccf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=59deccf&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-15149&quot; title=&quot;Learning To Rank model upload fails generically&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-15149&quot;&gt;&lt;del&gt;SOLR-15149&lt;/del&gt;&lt;/a&gt;: model creation errors fixes (#2350)&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-15149&quot; title=&quot;Learning To Rank model upload fails generically&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-15149&quot;&gt;&lt;del&gt;SOLR-15149&lt;/del&gt;&lt;/a&gt;: model loading errors fix + tests&lt;br/&gt;
(cherry picked from commit 227ef3b39798d00c006539c9bee0e57db34c2871)&lt;/p&gt;</comment>
                            <comment id="17284850" author="alessandro.benedetti" created="Mon, 15 Feb 2021 17:13:21 +0000"  >&lt;p&gt;Contribution has been committed, closing this issue and related.&lt;/p&gt;</comment>
                            <comment id="17285388" author="hossman" created="Tue, 16 Feb 2021 18:04:31 +0000"  >&lt;p&gt;These changes are causing lots of jenkins test failures, and fail locally for me &#8211; seemingly regardless of seed...&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;
  - org.apache.solr.ltr.model.TestMultipleAdditiveTreesModel.multipleAdditiveTreesTestUnknownFeature (:solr:contrib:ltr)
    Test output: /home/hossman/lucene/dev/solr/contrib/ltr/build/test-results/test/outputs/OUTPUT-org.apache.solr.ltr.model.TestMultipleAdditiveTreesModel.txt
    Reproduce with: gradlew :solr:contrib:ltr:test --tests &quot;org.apache.solr.ltr.model.TestMultipleAdditiveTreesModel.multipleAdditiveTreesTestUnknownFeature&quot; -Ptests.jvms=5 -Ptests.jvmargs=-XX:TieredStopAtLevel=1 -Ptests.seed=1A4BA65E1F8DC9A4 -Ptests.file.encoding=US-ASCII

  - org.apache.solr.ltr.model.TestMultipleAdditiveTreesModel.multipleAdditiveTreesTestMissingFeatureStore (:solr:contrib:ltr)
    Test output: /home/hossman/lucene/dev/solr/contrib/ltr/build/test-results/test/outputs/OUTPUT-org.apache.solr.ltr.model.TestMultipleAdditiveTreesModel.txt
    Reproduce with: gradlew :solr:contrib:ltr:test --tests &quot;org.apache.solr.ltr.model.TestMultipleAdditiveTreesModel.multipleAdditiveTreesTestMissingFeatureStore&quot; -Ptests.jvms=5 -Ptests.jvmargs=-XX:TieredStopAtLevel=1 -Ptests.seed=1A4BA65E1F8DC9A4 -Ptests.file.encoding=US-ASCII

  - org.apache.solr.ltr.model.TestLinearModel.notExistentFeature_shouldThrowMeaningFulException (:solr:contrib:ltr)
    Test output: /home/hossman/lucene/dev/solr/contrib/ltr/build/test-results/test/outputs/OUTPUT-org.apache.solr.ltr.model.TestLinearModel.txt
    Reproduce with: gradlew :solr:contrib:ltr:test --tests &quot;org.apache.solr.ltr.model.TestLinearModel.notExistentFeature_shouldThrowMeaningFulException&quot; -Ptests.jvms=5 -Ptests.jvmargs=-XX:TieredStopAtLevel=1 -Ptests.seed=1A4BA65E1F8DC9A4 -Ptests.file.encoding=US-ASCII

  - org.apache.solr.ltr.model.TestLinearModel.notExistentStore_shouldThrowMeaningFulException (:solr:contrib:ltr)
    Test output: /home/hossman/lucene/dev/solr/contrib/ltr/build/test-results/test/outputs/OUTPUT-org.apache.solr.ltr.model.TestLinearModel.txt
    Reproduce with: gradlew :solr:contrib:ltr:test --tests &quot;org.apache.solr.ltr.model.TestLinearModel.notExistentStore_shouldThrowMeaningFulException&quot; -Ptests.jvms=5 -Ptests.jvmargs=-XX:TieredStopAtLevel=1 -Ptests.seed=1A4BA65E1F8DC9A4 -Ptests.file.encoding=US-ASCII


hossman@slate:~/lucene/dev [j11] [*master] $ ./gradlew :solr:contrib:ltr:test --tests &quot;org.apache.solr.ltr.model.TestMultipleAdditiveTreesModel.multipleAdditiveTreesTestUnknownFeature&quot;

&amp;gt; Task :randomizationInfo
Running tests with randomization seed: tests.seed=CC3A0F73B2AA5EA6

&amp;gt; Task :solr:contrib:ltr:test FAILED

org.apache.solr.ltr.model.TestMultipleAdditiveTreesModel &amp;gt; multipleAdditiveTreesTestUnknownFeature FAILED
    org.junit.ComparisonFailure: expected:&amp;lt;...lException: Feature:[]notExist1 not found ...&amp;gt; but was:&amp;lt;...lException: Feature:[ ]notExist1 not found ...&amp;gt;
        at __randomizedtesting.SeedInfo.seed([CC3A0F73B2AA5EA6:E26C09F90579A786]:0)
        at org.junit.Assert.assertEquals(Assert.java:117)
        at org.junit.Assert.assertEquals(Assert.java:146)
        at org.apache.solr.ltr.model.TestMultipleAdditiveTreesModel.multipleAdditiveTreesTestUnknownFeature(TestMultipleAdditiveTreesModel.java:250)
        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
        at java.base/java.lang.reflect.Method.invoke(Method.java:566)
        at com.carrotsearch.randomizedtesting.RandomizedRunner.invoke(RandomizedRunner.java:1754)



hossman@slate:~/lucene/dev [j11] [*master] $ ./gradlew :solr:contrib:ltr:test --tests &quot;org.apache.solr.ltr.model.TestLinearModel.notExistentFeature_shouldThrowMeaningFulException&quot; -Ptests.jvms=5 -Ptests.jvmargs=-XX:TieredStopAtLevel=1

&amp;gt; Task :randomizationInfo
Running tests with randomization seed: tests.seed=73B50C5A7808D84B

&amp;gt; Task :solr:contrib:ltr:test FAILED

org.apache.solr.ltr.model.TestLinearModel &amp;gt; notExistentFeature_shouldThrowMeaningFulException FAILED
    org.junit.ComparisonFailure: expected:&amp;lt;...lException: Feature:[]notExist1 not found ...&amp;gt; but was:&amp;lt;...lException: Feature:[ ]notExist1 not found ...&amp;gt;
        at __randomizedtesting.SeedInfo.seed([73B50C5A7808D84B:C6645429244A1994]:0)
        at org.junit.Assert.assertEquals(Assert.java:117)
        at org.junit.Assert.assertEquals(Assert.java:146)
        at org.apache.solr.ltr.model.TestLinearModel.notExistentFeature_shouldThrowMeaningFulException(TestLinearModel.java:253)
        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
        at java.base/java.lang.reflect.Method.invoke(Method.java:566)
        at com.carrotsearch.randomizedtesting.RandomizedRunner.invoke(RandomizedRunner.java:1754)
        at com.carrotsearch.randomizedtesting.RandomizedRunner$8.evaluate(RandomizedRunner.java:942)
        at com.carrotsearch.randomizedtesting.RandomizedRunner$9.evaluate(RandomizedRunner.java:978)
        at com.carrotsearch.randomizedtesting.RandomizedRunner$10.evaluate(RandomizedRunner.java:992)
        at com.carrotsearch.randomizedtesting.rules.SystemPropertiesRestoreRule$1.evaluate(SystemPropertiesRestoreRule.java:57)
        at org.junit.rules.RunRules.evaluate(RunRules.java:20)




&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17285402" author="alessandro.benedetti" created="Tue, 16 Feb 2021 18:29:09 +0000"  >&lt;p&gt;My bad, when I merged, I didn&apos;t re-run the test locally (as I noticed the build associated to the PR to be green).&lt;br/&gt;
I assume the green build on the Github PR doesn&apos;t mean tests run, I am fixing it now&lt;/p&gt;</comment>
                            <comment id="17285405" author="jira-bot" created="Tue, 16 Feb 2021 18:30:51 +0000"  >&lt;p&gt;Commit 0671ef5e5ffca7a1f8e44c5d8e7115187452076d in lucene-solr&apos;s branch refs/heads/master from Alessandro Benedetti&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=0671ef5&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=0671ef5&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-15149&quot; title=&quot;Learning To Rank model upload fails generically&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-15149&quot;&gt;&lt;del&gt;SOLR-15149&lt;/del&gt;&lt;/a&gt;: messages expected in tests fixed&lt;/p&gt;</comment>
                            <comment id="17285406" author="jira-bot" created="Tue, 16 Feb 2021 18:32:46 +0000"  >&lt;p&gt;Commit b2c0a75f3741e847f9159c41c1f80b30043c5815 in lucene-solr&apos;s branch refs/heads/branch_8x from Alessandro Benedetti&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=b2c0a75&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=b2c0a75&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-15149&quot; title=&quot;Learning To Rank model upload fails generically&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-15149&quot;&gt;&lt;del&gt;SOLR-15149&lt;/del&gt;&lt;/a&gt;: messages expected in tests fixed&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 0671ef5e5ffca7a1f8e44c5d8e7115187452076d)&lt;/p&gt;</comment>
                            <comment id="17285408" author="alessandro.benedetti" created="Tue, 16 Feb 2021 18:39:09 +0000"  >&lt;p&gt;Fixed, I&apos;ll monitor it this evening.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hossman&quot; class=&quot;user-hover&quot; rel=&quot;hossman&quot;&gt;hossman&lt;/a&gt; thanks for letting me know, I was navigating the Jenkins Jungle, could you point me to the report page where I can see the branch (master and 8.x) test failures?&lt;/p&gt;

&lt;p&gt;I was looking at :&lt;br/&gt;
&lt;a href=&quot;https://ci-builds.apache.org/job/Lucene/job/Solr-Artifacts-master/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-builds.apache.org/job/Lucene/job/Solr-Artifacts-master/&lt;/a&gt;&lt;br/&gt;
or&lt;br/&gt;
&lt;a href=&quot;https://ci-builds.apache.org/job/Lucene/job/Lucene-Solr-SmokeRelease-8.x/118/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-builds.apache.org/job/Lucene/job/Lucene-Solr-SmokeRelease-8.x/118/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;But it doesn&apos;t offer a quick summary of the failed tests, should we just take a look at the console output section?&lt;/p&gt;</comment>
                            <comment id="17285503" author="hossman" created="Tue, 16 Feb 2021 21:37:09 +0000"  >&lt;p&gt;well ... i mean ... step #1 is to always run tests before pushing to any shared branch ... i have no idea what a gree lite on github means, but i wouldn&apos;t assume it means much more then &quot;git merge doesn&apos;t fail&quot; &amp;#8211; but even if it was running tests, that shouldn&apos;t amtter.  Github is a 3rd party, unofficial, provider or a mirror of our ASF repo &amp;#8211; and no github tool/feature should be neccessary or sufficient to decide what code should be in what should be pushed to the ASF repo.  As committers our (minimum) level of responsibility should be to only push changes that we&apos;ve personally vetted (at least once) ... and in the case of making code/test changes that should mean &quot;personally running the tests&quot;&lt;/p&gt;

&lt;p&gt;As far as knowing when jenkins builds fail: there are at least 6 jenkins builds i can think of off the top of my head w/o looking at the list - not all of them run tests.  Subscribing to builds@lucene is the fastest way to know when jenkins jobs are failing.&lt;/p&gt;

&lt;p&gt;I&apos;ve also got this system setup that monitors jenkins failures for lucene-solr to try and find patterns, but it lags by a few hours, and is also just a 3rd party, unofficial, tool.  It should also not viewed as neccessary/sufficient for the purposes of evaluating quality of commits/tests: it&apos;s just a starting point for people to do their own homework...&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://fucit.org/solr-jenkins-reports/failure-report.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://fucit.org/solr-jenkins-reports/failure-report.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17285507" author="hossman" created="Tue, 16 Feb 2021 21:41:38 +0000"  >&lt;p&gt;FWIW: I &lt;em&gt;initially&lt;/em&gt; noticed these particular problems  because they were failing for me &lt;b&gt;locally&lt;/b&gt; while running tests as part of my own development efforts, because i was verifying that my changes didn&apos;t impactany unexpected tests ... then i looked at jenkins which verified that it wasn&apos;t some local problem specific to me or the changes i was working on.&lt;/p&gt;</comment>
                            <comment id="17285514" author="alessandro.benedetti" created="Tue, 16 Feb 2021 21:53:35 +0000"  >&lt;p&gt;Thanks for all the good information &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hossman&quot; class=&quot;user-hover&quot; rel=&quot;hossman&quot;&gt;hossman&lt;/a&gt;, you are just right.&lt;br/&gt;
I run my tests but after merging some additional code I didn&apos;t re-run them before the final merge relying on the Pull Requests checks which ended up being just:&lt;/p&gt;


&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;All checks have passed
2 successful checks
@github-actions
Gradle Precommit / gradle precommit w/ Java 11 (pull_request) Successful in 21m
Details
@muse-dev
musedev &#8212; Complete (29 min, 10/11 checks) no new bugs found
Details
This branch has no conflicts with the base branch
Merging can be performed automatically.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This won&apos;t happen again!&lt;/p&gt;</comment>
                            <comment id="17368158" author="mayya" created="Wed, 23 Jun 2021 13:42:18 +0000"  >&lt;p&gt;Closing after the 8.9.0 release&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13089324">SOLR-11137</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13179577">SOLR-12676</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13159843">SOLR-12367</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 20 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0njxk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>