<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:09:42 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-8299] ConfigSet DELETE should not allow deletion of a a configset that&apos;s currently being used</title>
                <link>https://issues.apache.org/jira/browse/SOLR-8299</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;The ConfigSet DELETE API currently doesn&apos;t check if the configuration directory being deleted is being used by an active Collection. We should add a check for the same.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12913428">SOLR-8299</key>
            <summary>ConfigSet DELETE should not allow deletion of a a configset that&apos;s currently being used</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="anshum">Anshum Gupta</assignee>
                                    <reporter username="anshum">Anshum Gupta</reporter>
                        <labels>
                    </labels>
                <created>Mon, 16 Nov 2015 20:08:59 +0000</created>
                <updated>Mon, 9 May 2016 18:55:16 +0000</updated>
                            <resolved>Tue, 15 Dec 2015 05:27:39 +0000</resolved>
                                                    <fixVersion>5.4</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="15007238" author="anshumg" created="Mon, 16 Nov 2015 20:11:24 +0000"  >&lt;p&gt;Here&apos;s a patch without the test. I&apos;ve allowed deletion of configset when force=true, but I really believe we shouldn&apos;t allow that.&lt;/p&gt;

&lt;p&gt;I&apos;ll add a test and if someone has a suggestion about respecting &apos;force&apos; in this case, kindly chime in.&lt;/p&gt;</comment>
                            <comment id="15007340" author="shaie" created="Mon, 16 Nov 2015 21:17:34 +0000"  >&lt;blockquote&gt;&lt;p&gt;&quot;Can not delete ConfigSet as it is being used by another collection&quot;&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I would add the collection name to the message to make it more helpful?&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I&apos;ve allowed deletion of configset when force=true, but I really believe we shouldn&apos;t allow that.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I tend to agree with you on that. The problem is, from what I&apos;ve seen, that the collection becomes unusable after you delete its configuration, even if it&apos;s later restored. Perhaps it was a point-in-time behavior of the code and has been fixed since then, but I prefer that we don&apos;t allow forcing the deletion of a configuration.&lt;/p&gt;

&lt;p&gt;Why would a user want to force-delete a configuration, when there are collections that use it? What good comes out of it? Perhaps we should add this &apos;force&apos; support after we see an actual use case?&lt;/p&gt;</comment>
                            <comment id="15007372" author="anshumg" created="Mon, 16 Nov 2015 21:38:11 +0000"  >&lt;p&gt;Thanks Shai.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I would add the collection name to the message to make it more helpful?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I thought about that too, but just wanted to be sure that I&apos;m not overlooking any multi-tenant security requirement.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Why would a user want to force-delete a configuration, when there are collections that use it? What good comes out of it? Perhaps we should add this &apos;force&apos; support after we see an actual use case?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I completely agree with that but again, wanted to be sure that I was not missing a use-case here. Also, the collection does stay in an unusable state once you delete the config that&apos;s in-use and a ton of errors get logged too.&lt;/p&gt;

&lt;p&gt;But I&apos;m now more convinced to make both of those changes before I commit.&lt;/p&gt;</comment>
                            <comment id="15008308" author="shaie" created="Tue, 17 Nov 2015 08:58:35 +0000"  >&lt;blockquote&gt;&lt;p&gt;I thought about that too, but just wanted to be sure that I&apos;m not overlooking any multi-tenant security requirement.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yes, that&apos;s a good point, but at the moment I think that whoever will hit this message, will have no idea what collection uses the config. Also, if we want to address multi-tenant and security stuff, I think that the app should be able to handle that. Maybe if we return a proper error code, or throw a specific exception. Since Solr does not support multi-tenancy natively, I don&apos;t think that we should try to protect it.&lt;/p&gt;</comment>
                            <comment id="15023858" author="anshumg" created="Tue, 24 Nov 2015 06:37:07 +0000"  >&lt;p&gt;Updated patch with a test.&lt;/p&gt;

&lt;p&gt;If a collection is in use, the call would now fail, irrespective of the &lt;em&gt;force&lt;/em&gt; param.&lt;/p&gt;</comment>
                            <comment id="15024531" author="gerlowskija" created="Tue, 24 Nov 2015 13:41:14 +0000"  >&lt;p&gt;It&apos;s got my +1, fwiw.&lt;/p&gt;

&lt;p&gt;Though out of curiosity, are there any sort of docs that should be updated for this. (Still getting used to where Solr keeps tabs on various things.  So that&apos;s not a leading question; I actually don&apos;t know.)&lt;/p&gt;</comment>
                            <comment id="15024980" author="jira-bot" created="Tue, 24 Nov 2015 17:56:27 +0000"  >&lt;p&gt;Commit 1716223 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anshumg&quot; class=&quot;user-hover&quot; rel=&quot;anshumg&quot;&gt;anshumg&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1716223&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1716223&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8299&quot; title=&quot;ConfigSet DELETE should not allow deletion of a a configset that&amp;#39;s currently being used&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-8299&quot;&gt;&lt;del&gt;SOLR-8299&lt;/del&gt;&lt;/a&gt;: ConfigSet DELETE operation no longer allows deletion of config sets that are currently in use by other collections&lt;/p&gt;</comment>
                            <comment id="15025074" author="jira-bot" created="Tue, 24 Nov 2015 18:43:22 +0000"  >&lt;p&gt;Commit 1716230 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anshumg&quot; class=&quot;user-hover&quot; rel=&quot;anshumg&quot;&gt;anshumg&lt;/a&gt; in branch &apos;dev/branches/branch_5x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1716230&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1716230&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8299&quot; title=&quot;ConfigSet DELETE should not allow deletion of a a configset that&amp;#39;s currently being used&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-8299&quot;&gt;&lt;del&gt;SOLR-8299&lt;/del&gt;&lt;/a&gt;: ConfigSet DELETE operation no longer allows deletion of config sets that are currently in use by other collections (merge from trunk)&lt;/p&gt;</comment>
                            <comment id="15025077" author="anshumg" created="Tue, 24 Nov 2015 18:44:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gerlowskija&quot; class=&quot;user-hover&quot; rel=&quot;gerlowskija&quot;&gt;gerlowskija&lt;/a&gt; All the user-specific information should be in the reference guide. Other than that, it&apos;s just javadocs.&lt;br/&gt;
In this particular case, this should go into the ref guide.&lt;/p&gt;</comment>
                            <comment id="15057370" author="anshumg" created="Tue, 15 Dec 2015 05:27:39 +0000"  >&lt;p&gt;Fixing fix version and marking this as resolved.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12774002" name="SOLR-8299.patch" size="4202" author="anshum" created="Tue, 24 Nov 2015 06:37:07 +0000"/>
                            <attachment id="12772571" name="SOLR-8299.patch" size="1717" author="anshum" created="Mon, 16 Nov 2015 20:11:24 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 49 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ognb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>