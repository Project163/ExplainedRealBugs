<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:52:52 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-6182] Using rest manager endpoint to create a new (yet unused) managed resource results in corrupt file, solr can&apos;t restart</title>
                <link>https://issues.apache.org/jira/browse/SOLR-6182</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;The ref guide documents that...&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;You can also create new managed resource using PUT/POST to the appropriate URL &#8211; before ever configuring anything that uses these resources.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;...however attempting to do this results in the creation of &quot;_rest_managed.json&quot; file that is not in the format expected by solr, and prevents solr from starting up.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12722577">SOLR-6182</key>
            <summary>Using rest manager endpoint to create a new (yet unused) managed resource results in corrupt file, solr can&apos;t restart</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="thelabdude">Timothy Potter</assignee>
                                    <reporter username="hossman">Chris M. Hostetter</reporter>
                        <labels>
                    </labels>
                <created>Thu, 19 Jun 2014 20:00:10 +0000</created>
                <updated>Fri, 20 Jun 2014 18:03:54 +0000</updated>
                            <resolved>Fri, 20 Jun 2014 18:03:54 +0000</resolved>
                                                    <fixVersion>4.9</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14037780" author="hossman" created="Thu, 19 Jun 2014 20:03:14 +0000"  >&lt;p&gt;Steps to reproduce:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;launch solr 4.8 with the example configs (java -jar start.jar)&lt;/li&gt;
	&lt;li&gt;execute the following curl command (taken verbatim from the ref guide)
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;curl -X PUT -H &lt;span class=&quot;code-quote&quot;&gt;&apos;Content-type:application/json&apos;&lt;/span&gt; --data-binary &lt;span class=&quot;code-quote&quot;&gt;&apos;{&lt;span class=&quot;code-quote&quot;&gt;&quot;class&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.solr.&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;.schema.analysis.ManagedWordSetResource&quot;&lt;/span&gt;}&apos;&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//localhost:8983/solr/collection1/schema/analysis/stopwords/german&quot;&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
	&lt;li&gt;shutdown solr (Ctrl-C)&lt;/li&gt;
	&lt;li&gt;restart solr (java -jar start.jar)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Error message preventing collection1 from starting...&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2726 [coreLoadExecutor-5-thread-1] ERROR org.apache.solr.core.CoreContainer  &#8211; Unable to create core: collection1
org.apache.solr.common.SolrException: java.util.ArrayList cannot be cast to java.util.Map
	at org.apache.solr.core.SolrCore.&amp;lt;init&amp;gt;(SolrCore.java:868)
	at org.apache.solr.core.SolrCore.&amp;lt;init&amp;gt;(SolrCore.java:643)
	at org.apache.solr.core.CoreContainer.create(CoreContainer.java:556)
	at org.apache.solr.core.CoreContainer$1.call(CoreContainer.java:261)
	at org.apache.solr.core.CoreContainer$1.call(CoreContainer.java:253)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
	at java.util.concurrent.FutureTask.run(FutureTask.java:262)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:744)
Caused by: java.lang.ClassCastException: java.util.ArrayList cannot be cast to java.util.Map
	at org.apache.solr.rest.RestManager$RestManagerManagedResource.onManagedDataLoadedFromStorage(RestManager.java:457)
	at org.apache.solr.rest.ManagedResource.reloadFromStorage(ManagedResource.java:230)
	at org.apache.solr.rest.ManagedResource.loadManagedDataAndNotify(ManagedResource.java:86)
	at org.apache.solr.rest.RestManager.init(RestManager.java:589)
	at org.apache.solr.core.SolrCore.initRestManager(SolrCore.java:2351)
	at org.apache.solr.core.SolrCore.&amp;lt;init&amp;gt;(SolrCore.java:847)
	... 10 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The contents of the &lt;tt&gt;solr/collection1/conf/_rest_managed.json&lt;/tt&gt; file that was created by Solr when the curl command was executed...&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;{
  &lt;span class=&quot;code-quote&quot;&gt;&quot;initArgs&quot;&lt;/span&gt;:{},
  &lt;span class=&quot;code-quote&quot;&gt;&quot;initializedOn&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;2014-06-19T19:57:11.889Z&quot;&lt;/span&gt;,
  &lt;span class=&quot;code-quote&quot;&gt;&quot;managedList&quot;&lt;/span&gt;:[{
      &lt;span class=&quot;code-quote&quot;&gt;&quot;resourceId&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;/schema/analysis/stopwords/german&quot;&lt;/span&gt;,
      &lt;span class=&quot;code-quote&quot;&gt;&quot;class&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.solr.&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;.schema.analysis.ManagedWordSetResource&quot;&lt;/span&gt;,
      &lt;span class=&quot;code-quote&quot;&gt;&quot;numObservers&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;0&quot;&lt;/span&gt;}]}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14038019" author="thelabdude" created="Thu, 19 Jun 2014 22:29:59 +0000"  >&lt;p&gt;Well that&apos;s .... embarrassing &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; Will get it resolved this evening so it can hopefully make it into 4.9&lt;/p&gt;</comment>
                            <comment id="14038198" author="rcmuir" created="Fri, 20 Jun 2014 01:03:55 +0000"  >&lt;p&gt;Can you pls keep me up to date? I will wait till i hear back from you. We can also just spin an RC tomorrow if you don&apos;t have time tonight.&lt;/p&gt;</comment>
                            <comment id="14038312" author="thelabdude" created="Fri, 20 Jun 2014 03:07:17 +0000"  >&lt;p&gt;cooking up the fix now ... should be ready in about 30 minutes&lt;/p&gt;</comment>
                            <comment id="14038320" author="jira-bot" created="Fri, 20 Jun 2014 03:24:38 +0000"  >&lt;p&gt;Commit 1604078 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thelabdude&quot; class=&quot;user-hover&quot; rel=&quot;thelabdude&quot;&gt;thelabdude&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1604078&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1604078&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6182&quot; title=&quot;Using rest manager endpoint to create a new (yet unused) managed resource results in corrupt file, solr can&amp;#39;t restart&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6182&quot;&gt;&lt;del&gt;SOLR-6182&lt;/del&gt;&lt;/a&gt;: correctly cast managedData as a List&amp;lt;Object&amp;gt; when loading stored RestManager data; solution verified with manual testing only as the unit tests use in-memory storage so will need to re-work the backing store to test this behavior in the unit test.&lt;/p&gt;</comment>
                            <comment id="14038323" author="jira-bot" created="Fri, 20 Jun 2014 03:34:48 +0000"  >&lt;p&gt;Commit 1604080 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thelabdude&quot; class=&quot;user-hover&quot; rel=&quot;thelabdude&quot;&gt;thelabdude&lt;/a&gt; in branch &apos;dev/branches/branch_4x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1604080&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1604080&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6182&quot; title=&quot;Using rest manager endpoint to create a new (yet unused) managed resource results in corrupt file, solr can&amp;#39;t restart&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6182&quot;&gt;&lt;del&gt;SOLR-6182&lt;/del&gt;&lt;/a&gt;: correctly cast managedData as a List&amp;lt;Object&amp;gt; when loading stored RestManager data; solution verified with manual testing only as the unit tests use in-memory storage so will need to re-work the backing store to test this behavior in the unit test; backport to branch_4x&lt;/p&gt;</comment>
                            <comment id="14038331" author="jira-bot" created="Fri, 20 Jun 2014 03:48:24 +0000"  >&lt;p&gt;Commit 1604083 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thelabdude&quot; class=&quot;user-hover&quot; rel=&quot;thelabdude&quot;&gt;thelabdude&lt;/a&gt; in branch &apos;dev/branches/lucene_solr_4_9&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1604083&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1604083&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6182&quot; title=&quot;Using rest manager endpoint to create a new (yet unused) managed resource results in corrupt file, solr can&amp;#39;t restart&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6182&quot;&gt;&lt;del&gt;SOLR-6182&lt;/del&gt;&lt;/a&gt;: correctly cast managedData as a List&amp;lt;Object&amp;gt; when loading stored RestManager data; solution verified with manual testing only as the unit tests use in-memory storage so will need to re-work the backing store to test this behavior in the unit test; backport to 4.9 branch&lt;/p&gt;</comment>
                            <comment id="14038406" author="jira-bot" created="Fri, 20 Jun 2014 03:50:13 +0000"  >&lt;p&gt;Commit 1604084 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thelabdude&quot; class=&quot;user-hover&quot; rel=&quot;thelabdude&quot;&gt;thelabdude&lt;/a&gt; in branch &apos;dev/branches/branch_4x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1604084&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1604084&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6182&quot; title=&quot;Using rest manager endpoint to create a new (yet unused) managed resource results in corrupt file, solr can&amp;#39;t restart&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6182&quot;&gt;&lt;del&gt;SOLR-6182&lt;/del&gt;&lt;/a&gt;: add to change list for 4.9 release&lt;/p&gt;</comment>
                            <comment id="14038407" author="jira-bot" created="Fri, 20 Jun 2014 03:51:07 +0000"  >&lt;p&gt;Commit 1604085 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thelabdude&quot; class=&quot;user-hover&quot; rel=&quot;thelabdude&quot;&gt;thelabdude&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1604085&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1604085&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6182&quot; title=&quot;Using rest manager endpoint to create a new (yet unused) managed resource results in corrupt file, solr can&amp;#39;t restart&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6182&quot;&gt;&lt;del&gt;SOLR-6182&lt;/del&gt;&lt;/a&gt;: add to change list for 4.9 release&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>400768</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 22 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1wzk7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>400860</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>