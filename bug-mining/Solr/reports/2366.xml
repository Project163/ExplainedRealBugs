<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:03:13 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-4464] DIH - Processed documents counter resets to zero after first database request</title>
                <link>https://issues.apache.org/jira/browse/SOLR-4464</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;11:20&amp;#93;&lt;/span&gt; &amp;lt;quasimotoca&amp;gt; Solr 4.1 - Processed documents resets to 0 after processing my first entity - all database schemas are identical&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;11:21&amp;#93;&lt;/span&gt; &amp;lt;quasimotoca&amp;gt; However, all the documents get fetched and I can query the results no problem.  &lt;/p&gt;

&lt;p&gt;Here&apos;s a link to a screenshot - &lt;a href=&quot;http://findocs/gridworkz.com/solr&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://findocs/gridworkz.com/solr&lt;/a&gt; &lt;/p&gt;

&lt;p&gt;Everything works perfect except the screen doesn&apos;t increment the &quot;Processed&quot; counter on subsequent database Requests.&lt;/p&gt;</description>
                <environment>&lt;p&gt;CentOS 6.3 x64 / apache-tomcat-7.0.35 / mysql-connector-java-5.1.23 - Large machine 5TB of drives and 280GB RAM - Java Heap set to 250Gb - resources are not an issue.&lt;/p&gt;</environment>
        <key id="12632635">SOLR-4464</key>
            <summary>DIH - Processed documents counter resets to zero after first database request</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="shalin">Shalin Shekhar Mangar</assignee>
                                    <reporter username="quasimotoca">Dave Cook</reporter>
                        <labels>
                            <label>patch</label>
                    </labels>
                <created>Fri, 15 Feb 2013 18:56:40 +0000</created>
                <updated>Mon, 9 May 2016 18:46:02 +0000</updated>
                            <resolved>Mon, 9 Mar 2015 02:00:59 +0000</resolved>
                                    <version>4.1</version>
                                    <fixVersion>5.1</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                    <component>contrib - DataImportHandler</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>8</watches>
                                                                                                                <comments>
                            <comment id="13579422" author="gbowyer@fastmail.co.uk" created="Fri, 15 Feb 2013 19:09:42 +0000"  >&lt;p&gt;There is a good chance that a 250GB heap is the root cause of your problems, can you lower it to 16 or 32gb as a start and then see if this problem persists ?&lt;/p&gt;</comment>
                            <comment id="13579426" author="gbowyer@fastmail.co.uk" created="Fri, 15 Feb 2013 19:11:25 +0000"  >&lt;p&gt;..... I should read bug reports more carefully, everything else is working fine so maybe the heap size is not the issue (I would still lower it however)&lt;/p&gt;</comment>
                            <comment id="13579451" author="quasimotoca" created="Fri, 15 Feb 2013 19:41:12 +0000"  >&lt;p&gt;Hi Greg:&lt;/p&gt;

&lt;p&gt;I reset to 32Gb heap - as you can see Processed: looks fine on the first&lt;br/&gt;
Request, it&apos;ll take about 45min to hit the second request.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://76.72.160.178:8080/solr/#/zev/dataimport//dataimport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://76.72.160.178:8080/solr/#/zev/dataimport//dataimport&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Cheers,&lt;br/&gt;
Dave&lt;/p&gt;

</comment>
                            <comment id="13579490" author="quasimotoca" created="Fri, 15 Feb 2013 20:41:12 +0000"  >&lt;p&gt;Hi Greg:&lt;/p&gt;

&lt;p&gt;I just reset back to zero on the second request:&lt;br/&gt;
&lt;a href=&quot;http://76.72.160.178:8080/solr/#/zev/dataimport//dataimport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://76.72.160.178:8080/solr/#/zev/dataimport//dataimport&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Cheers,&lt;br/&gt;
Dave&lt;/p&gt;

</comment>
                            <comment id="13579496" author="elyograg" created="Fri, 15 Feb 2013 20:50:27 +0000"  >&lt;p&gt;I&apos;m with the user in #solr.  The &quot;Total Documents Processed&quot; field in the raw DIH output appears to go missing when it switches to the second request.  It&apos;s not there at all.&lt;/p&gt;</comment>
                            <comment id="13579615" author="quasimotoca" created="Sat, 16 Feb 2013 00:09:11 +0000"  >&lt;p&gt;Hi Shawn:&lt;/p&gt;

&lt;p&gt;Yes, that&apos;s correct.  It&apos;s causing the counter up top to zero out...&lt;/p&gt;

&lt;p&gt;Cheers,&lt;br/&gt;
Dave&lt;/p&gt;

</comment>
                            <comment id="13581669" author="quasimotoca" created="Tue, 19 Feb 2013 21:55:12 +0000"  >&lt;p&gt;Hi Shawn:&lt;/p&gt;

&lt;p&gt;We&apos;re still going, however the physical memory is maxed out. Is that normal?&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://76.72.160.178:8080/solr/#/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://76.72.160.178:8080/solr/#/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Cheers,&lt;br/&gt;
Dave&lt;/p&gt;

</comment>
                            <comment id="13581936" author="elyograg" created="Wed, 20 Feb 2013 04:35:12 +0000"  >&lt;p&gt;This is most likely due to basic operating system design.  It&apos;s normal for all modern operating systems to utilize all physical memory.  The memory that is not used for programs gets used by the OS to cache data on the disk for performance reasons.  If a program or the OS requests additional memory, the OS will happily and instantly give up the lowest priority cache data to satisfy the memory request.&lt;/p&gt;

&lt;p&gt;Your Solr admin page seems to be locked up while trying to load the dashboard, so I can&apos;t see the actual numbers.  I hope everything is OK.&lt;/p&gt;</comment>
                            <comment id="13636825" author="elyograg" created="Fri, 19 Apr 2013 20:12:13 +0000"  >&lt;p&gt;I haven&apos;t checked to see if this is still a problem, but since no action has been taken, it probably is still a problem.  Is there any reasonable way to fix it?&lt;/p&gt;

&lt;p&gt;This comment is part of an effort to close old issues that I have reported.  Search tag: elyograg2013springclean&lt;/p&gt;</comment>
                            <comment id="13637080" author="quasimotoca" created="Sat, 20 Apr 2013 02:17:14 +0000"  >&lt;p&gt;Hi Shawn:&lt;/p&gt;

&lt;p&gt;Nothing yet.  Not a rush but I&apos;m sure other folks will run into it.&lt;/p&gt;

&lt;p&gt;Cheers,&lt;br/&gt;
Dave&lt;/p&gt;

</comment>
                            <comment id="13773984" author="thinkcomp" created="Sun, 22 Sep 2013 06:51:39 +0000"  >&lt;p&gt;I am running CentOS 6.4 (64-bit) with Solr 4.4.0, MySQL 5.5 and MySQL Connector for Java 5.1.25. I imported one core (full, not delta) over a few hours with no problem. Then I moved onto a second core I wanted to import, which appears to be working except that the &quot;Processed&quot; number is staying at zero. There are no Solr errors and MySQL seems to have no issue with the queries. A screenshot of the counter at zero after two+ hours of error-free processing is attached, though I can&apos;t seem to find where it went on JIRA (now I see, it&apos;s under &quot;Attachments&quot; above the comments).&lt;/p&gt;

&lt;p&gt;This may be a fairly common problem. See &lt;a href=&quot;http://stackoverflow.com/questions/8616545/total-documents-processed-0-though-total-rows-fetched-is-non-zero-using-solr-w&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://stackoverflow.com/questions/8616545/total-documents-processed-0-though-total-rows-fetched-is-non-zero-using-solr-w&lt;/a&gt; for a possibly related set of issues.&lt;/p&gt;</comment>
                            <comment id="13773987" author="thinkcomp" created="Sun, 22 Sep 2013 07:52:57 +0000"  >&lt;p&gt;I attached another screenshot of 4.4.0 showing that in fact 3 million documents were processed in the end, even though it said 0 throughout the entire time.&lt;/p&gt;</comment>
                            <comment id="14094120" author="lafeuil" created="Tue, 12 Aug 2014 14:51:22 +0000"  >&lt;p&gt;In solr 4.9, this problem is due to the line 230 in the DocBuilder class : &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-style: solid;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;border-bottom-style: solid;&quot;&gt;&lt;b&gt;DocBuilder.java at line 230&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;statusMessages.remove(DataImporter.MSG.TOTAL_DOC_PROCESSED);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;After each entity that is processed, the status message about document processed is removed. I don&apos;t understand why.&lt;/p&gt;</comment>
                            <comment id="14352413" author="shalinmangar" created="Mon, 9 Mar 2015 01:51:47 +0000"  >&lt;p&gt;Thanks Thomas for pointing out the offending line. So, this happens when the data-config.xml has more than one entity. After the first entity is fully processed, the total doc processed is removed from the response and not added again until the import is complete. I&apos;ll fix by removing the offending line.&lt;/p&gt;</comment>
                            <comment id="14352418" author="shalinmangar" created="Mon, 9 Mar 2015 02:00:59 +0000"  >&lt;p&gt;Thanks everyone. The fix will be released in 5.1&lt;/p&gt;</comment>
                            <comment id="14352420" author="jira-bot" created="Mon, 9 Mar 2015 02:02:12 +0000"  >&lt;p&gt;Commit 1665110 from shalin@apache.org in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1665110&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1665110&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-4464&quot; title=&quot;DIH - Processed documents counter resets to zero after first database request&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-4464&quot;&gt;&lt;del&gt;SOLR-4464&lt;/del&gt;&lt;/a&gt;: DIH Processed documents counter resets to zero after first entity is processed&lt;/p&gt;</comment>
                            <comment id="14352426" author="jira-bot" created="Mon, 9 Mar 2015 02:04:45 +0000"  >&lt;p&gt;Commit 1665111 from shalin@apache.org in branch &apos;dev/branches/branch_5x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1665111&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1665111&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-4464&quot; title=&quot;DIH - Processed documents counter resets to zero after first database request&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-4464&quot;&gt;&lt;del&gt;SOLR-4464&lt;/del&gt;&lt;/a&gt;: DIH Processed documents counter resets to zero after first entity is processed&lt;/p&gt;</comment>
                            <comment id="14495215" author="thelabdude" created="Wed, 15 Apr 2015 00:30:06 +0000"  >&lt;p&gt;Bulk close after 5.1 release&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12632655">SOLR-4466</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12604426" name="20130921solrzerocounter.png" size="185740" author="thinkcomp" created="Sun, 22 Sep 2013 06:51:39 +0000"/>
                            <attachment id="12604427" name="20130921solrzerocounter2.png" size="186963" author="thinkcomp" created="Sun, 22 Sep 2013 07:52:57 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>313131</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 32 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1i1cf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>313477</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>