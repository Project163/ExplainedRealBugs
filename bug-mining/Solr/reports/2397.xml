<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:03:35 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-6845] Add buildOnStartup option for suggesters</title>
                <link>https://issues.apache.org/jira/browse/SOLR-6845</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6679&quot; title=&quot;disable/remove suggester from stock solrconfig&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6679&quot;&gt;&lt;del&gt;SOLR-6679&lt;/del&gt;&lt;/a&gt; was filed to track the investigation into the following problem...&lt;/p&gt;

&lt;div class=&quot;panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;panelContent&quot;&gt;
&lt;p&gt;The stock solrconfig provides a bad experience with a large index... start up Solr and it will spin at 100% CPU for minutes, unresponsive, while it apparently builds a suggester index.&lt;br/&gt;
...&lt;br/&gt;
This is what I did:&lt;br/&gt;
1) indexed 10M very small docs (only takes a few minutes).&lt;br/&gt;
2) shut down Solr&lt;br/&gt;
3) start up Solr and watch it be unresponsive for over 4 minutes!&lt;/p&gt;

&lt;p&gt;I didn&apos;t even use any of the fields specified in the suggester config and I never called the suggest request handler.&lt;/p&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;..but ultimately focused on removing/disabling the suggester from the sample configs.&lt;/p&gt;

&lt;p&gt;Opening this new issue to focus on actually trying to identify the root problem &amp;amp; fix it.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12761501">SOLR-6845</key>
            <summary>Add buildOnStartup option for suggesters</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="erickerickson">Erick Erickson</assignee>
                                    <reporter username="hossman">Chris M. Hostetter</reporter>
                        <labels>
                    </labels>
                <created>Sat, 13 Dec 2014 00:07:48 +0000</created>
                <updated>Thu, 21 Nov 2019 00:41:57 +0000</updated>
                            <resolved>Mon, 2 Mar 2015 06:41:05 +0000</resolved>
                                                    <fixVersion>5.1</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>9</watches>
                                                                                                                <comments>
                            <comment id="14245257" author="varunthacker" created="Sat, 13 Dec 2014 08:53:45 +0000"  >&lt;p&gt;Excerpt from the logs - &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;16160 [coreLoadExecutor-5-thread-2] INFO  org.apache.solr.handler.component.SpellCheckComponent  &#8211; Initializing spell checkers
16161 [coreLoadExecutor-5-thread-2] INFO  org.apache.solr.spelling.DirectSolrSpellChecker  &#8211; init: {name=&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;,field=text,classname=solr.DirectSolrSpellChecker,distanceMeasure=internal,accuracy=0.5,maxEdits=2,minPrefix=1,maxInspections=5,minQueryLength=4,maxQueryFrequency=0.01}
16162 [coreLoadExecutor-5-thread-2] INFO  org.apache.solr.handler.component.SpellCheckComponent  &#8211; No queryConverter defined, using &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; converter
16164 [coreLoadExecutor-5-thread-2] INFO  org.apache.solr.handler.component.SuggestComponent  &#8211; Initializing SuggestComponent
16164 [coreLoadExecutor-5-thread-2] INFO  org.apache.solr.spelling.suggest.SolrSuggester  &#8211; init: {name=mySuggester,lookupImpl=FuzzyLookupFactory,dictionaryImpl=DocumentDictionaryFactory,field=cat,weightField=price,suggestAnalyzerFieldType=string}
16164 [coreLoadExecutor-5-thread-2] INFO  org.apache.solr.spelling.suggest.SolrSuggester  &#8211; Dictionary loaded with params: {name=mySuggester,lookupImpl=FuzzyLookupFactory,dictionaryImpl=DocumentDictionaryFactory,field=cat,weightField=price,suggestAnalyzerFieldType=string}
16164 [coreLoadExecutor-5-thread-2] INFO  org.apache.solr.common.cloud.ZkStateReader  &#8211; Load collection config from:/collections/solr6606
16166 [coreLoadExecutor-5-thread-2] INFO  org.apache.solr.common.cloud.ZkStateReader  &#8211; path=/collections/solr6606 configName=solr6606 specified config exists in ZooKeeper
16186 [coreLoadExecutor-5-thread-2] INFO  org.apache.solr.handler.ReplicationHandler  &#8211; Commits will be reserved &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;  10000
16187 [searcherExecutor-6-thread-1] INFO  org.apache.solr.core.SolrCore  &#8211; QuerySenderListener sending requests to Searcher@6b1b4cac[solr6606_shard1_replica1] main{StandardDirectoryReader(segments_5q:2567:nrt _9g(4.10.2):C794000 _io(4.10.2):C760000 _sf(4.10.2):C796000 _yk(4.10.2):C543000 _ze(4.10.2):C72000 _zf(4.10.2):C1000 _zg(4.10.2):C2000 _zh(4.10.2):C3000 _zi(4.10.2):C3000 _zj(4.10.2):C2121 _zk(4.10.2):C2879 _zl(4.10.2):C3000 _zm(4.10.2):C2000)}
16226 [searcherExecutor-6-thread-1] INFO  org.apache.solr.core.SolrCore  &#8211; [solr6606_shard1_replica1] webapp=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; path=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; params={event=firstSearcher&amp;amp;q=&lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt;+firstSearcher+warming+in+solrconfig.xml&amp;amp;distrib=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;} hits=0 status=0 QTime=39 
16227 [searcherExecutor-7-thread-1] INFO  org.apache.solr.core.SolrCore  &#8211; [collection1] webapp=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; path=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; params={event=firstSearcher&amp;amp;q=&lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt;+firstSearcher+warming+in+solrconfig.xml&amp;amp;distrib=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;} hits=0 status=0 QTime=66 
16227 [searcherExecutor-6-thread-1] INFO  org.apache.solr.core.SolrCore  &#8211; QuerySenderListener done.
16227 [searcherExecutor-7-thread-1] INFO  org.apache.solr.core.SolrCore  &#8211; QuerySenderListener done.
16227 [searcherExecutor-6-thread-1] INFO  org.apache.solr.handler.component.SpellCheckComponent  &#8211; Loading spell index &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; spellchecker: &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;
16227 [searcherExecutor-7-thread-1] INFO  org.apache.solr.handler.component.SpellCheckComponent  &#8211; Loading spell index &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; spellchecker: &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;
16228 [searcherExecutor-6-thread-1] INFO  org.apache.solr.handler.component.SpellCheckComponent  &#8211; Loading spell index &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; spellchecker: wordbreak
16228 [searcherExecutor-7-thread-1] INFO  org.apache.solr.handler.component.SpellCheckComponent  &#8211; Loading spell index &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; spellchecker: wordbreak
16228 [searcherExecutor-6-thread-1] INFO  org.apache.solr.handler.component.SuggestComponent  &#8211; Loading suggester index &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;: mySuggester
16228 [searcherExecutor-7-thread-1] INFO  org.apache.solr.handler.component.SuggestComponent  &#8211; Loading suggester index &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;: mySuggester
16229 [searcherExecutor-7-thread-1] INFO  org.apache.solr.spelling.suggest.SolrSuggester  &#8211; reload()
16228 [searcherExecutor-6-thread-1] INFO  org.apache.solr.spelling.suggest.SolrSuggester  &#8211; reload()
16229 [searcherExecutor-6-thread-1] INFO  org.apache.solr.spelling.suggest.SolrSuggester  &#8211; build()
16229 [searcherExecutor-7-thread-1] INFO  org.apache.solr.spelling.suggest.SolrSuggester  &#8211; build()
16249 [searcherExecutor-7-thread-1] INFO  org.apache.solr.core.SolrCore  &#8211; [collection1] Registered &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; searcher Searcher@2c8633e1[collection1] main{StandardDirectoryReader(segments_1:1:nrt)}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The SuggestComponent init&apos;s correctly. It&apos;s only when the firstSearcher event gets fired that the spellchecker and the suggester gets built. This is where the problem lies.&lt;/p&gt;

&lt;p&gt;We should just comment out the &lt;tt&gt;&amp;lt;str name=&quot;q&quot;&amp;gt;static firstSearcher warming in solrconfig.xml&amp;lt;/str&amp;gt;&lt;/tt&gt; query from the &lt;tt&gt;firstSearcher&lt;/tt&gt; query list, just as how the queries are commented out from the &lt;tt&gt;newSearcher&lt;/tt&gt; event listener. &lt;/p&gt;


&lt;p&gt;We should also add a comment here saying that adding queries here does the following internally and would lead to longer load times. &lt;br/&gt;
1. Builds the suggester, spellchecker and any other components which register itself to new searcher events.&lt;br/&gt;
2. When an entry contains a sort/facet/function query and the field is not an docValues field then it UnInverts the fields and puts it into the FieldCache&lt;br/&gt;
3. Adds entries to the other Solr caches.&lt;/p&gt;

&lt;p&gt;The multiple reload and build commands is because I have 2 cores on my machine.&lt;/p&gt;</comment>
                            <comment id="14247039" author="hossman" created="Mon, 15 Dec 2014 18:58:51 +0000"  >&lt;blockquote&gt;&lt;p&gt;We should just comment out the  &amp;lt;str name=&quot;q&quot;&amp;gt;static firstSearcher warming in solrconfig.xml&amp;lt;/str&amp;gt; query ...&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;This is still side stepping the root problem this issue was opened to address: why is hte /suggest handler so damn slow?&lt;/p&gt;

&lt;p&gt;We don&apos;t need more baind-aid fixes that can be applied to the techproducts example configs to work-arround whatever fundemental problem exists - &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6679&quot; title=&quot;disable/remove suggester from stock solrconfig&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6679&quot;&gt;&lt;del&gt;SOLR-6679&lt;/del&gt;&lt;/a&gt; already applied enough of a band-aid for that.&lt;/p&gt;

&lt;p&gt; what we need is to understand:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;why the hell is this suggester so damn slow to build it&apos;s dictionary even when the fields aren&apos;t used at all in the index?&lt;/li&gt;
	&lt;li&gt;why the does this suggester auto-register a firstSearcher/newSearcher event listener to build the dict w/o there being any sort of configuration option indicating that the solr-admin has &lt;b&gt;requested&lt;/b&gt; it to build on firstSearcher (or on every searcher open if that&apos;s what/why this is happening)&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14249431" author="tomasflobbe" created="Wed, 17 Dec 2014 03:54:34 +0000"  >&lt;blockquote&gt;&lt;p&gt;why the hell is this suggester so damn slow to build it&apos;s dictionary even when the fields aren&apos;t used at all in the index?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I understand the reason of this is that the suggester still iterates across all docs in the index, trying to get the stored content of those fields. Even if the field is never present, this needs to be done. Most of the time in my tests is spent in &lt;tt&gt;InputIterator.next()&lt;/tt&gt;&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;why does this suggester auto-register a firstSearcher/newSearcher event listener to build the dict w/o there being any sort of configuration option indicating that the solr-admin has requested it to build on firstSearcher (or on every searcher open if that&apos;s what/why this is happening)&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;That&apos;s right, the suggester is building on startup and there is no way to disable this. We should add an option to enable/disable this, maybe a &quot;buildOnStartup&quot; conf option that could be &quot;false&quot; by default. I think it should still &quot;load&quot; the stored suggesters when present.&lt;/p&gt;</comment>
                            <comment id="14250350" author="tomasflobbe" created="Wed, 17 Dec 2014 19:18:53 +0000"  >&lt;p&gt;Trying to add some unit tests to this feature I found another issue. SuggestComponent and SpellcheckComponent rely on a &lt;tt&gt;firstSearcherListener&lt;/tt&gt; to load (and in this case, also build) some structures. These firstSearcherListeners are registered on &lt;tt&gt;SolrCoreAware.inform()&lt;/tt&gt;, however the first searcher listener task is only added to the queue of warming tasks if there is at least one listener registered at the time of the first searcher creation (before SolrCoreAware.inform() is ever called). See &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;SolrCore.java&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (currSearcher == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; &amp;amp;&amp;amp; firstSearcherListeners.size() &amp;gt; 0) {
          &lt;span class=&quot;code-keyword&quot;&gt;future&lt;/span&gt; = searcherExecutor.submit(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Callable() {
            @Override
            &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; call() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
              &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
                &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (SolrEventListener listener : firstSearcherListeners) {
                  listener.newSearcher(newSearcher, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;);
                }
              } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (Throwable e) {
                SolrException.log(log, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, e);
                &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (e &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; Error) {
                  &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; (Error) e;
                }
              }
              &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
            }
          });
        }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I&apos;ll create a new Jira for this&lt;/p&gt;</comment>
                            <comment id="14250876" author="tomasflobbe" created="Thu, 18 Dec 2014 00:27:22 +0000"  >&lt;p&gt;Created &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6864&quot; title=&quot;Support registering searcher listeners in SolrCoreAware.inform(SolrCore) method&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6864&quot;&gt;&lt;del&gt;SOLR-6864&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14258524" author="tomasflobbe" created="Wed, 24 Dec 2014 21:11:05 +0000"  >&lt;p&gt;Here is a patch to add buildOnStartup. With buildOnStartup=false and buildOnCommit=true, the suggester is loaded if it already exist, but not built if it doesn&apos;t on startup. &lt;br/&gt;
The problem I see is that in regular core reload, searchers are open in a way that the &quot;newSearcherListeners&quot; are invoked, this means that even if buildOnStartup=false and buildOnCommit=true, a core reload would build the suggester if not found&lt;/p&gt;</comment>
                            <comment id="14263757" author="tomasflobbe" created="Sun, 4 Jan 2015 04:49:27 +0000"  >&lt;p&gt;I see now, the problem is that core reload creates a new core and then opens a new searcher, so reloading a core calls the firstSearcherListener and then the newSearcherListener.&lt;/p&gt;</comment>
                            <comment id="14273064" author="tomasflobbe" created="Sun, 11 Jan 2015 21:26:11 +0000"  >&lt;p&gt;In this patch, I added a &#8220;buildOnStartup&#8221; for the suggester that defaults to false. If this is not set, the suggester will load a dictionary if it exists, but won&#8217;t create it if it doesn&#8217;t.&lt;/p&gt;

&lt;p&gt;&quot;buildOnStartup&quot; will also build the suggester in case of a core reload. Users should be aware that in both, &#8220;SolrCloud mode&#8221; and with a &#8220;master-slave&#8221; setup, Solr may trigger a core reload internally, and if &#8220;buildOnStartup&#8221; is set, the core reload will build the suggester (if it&apos;s not being stored). Unlike with the current code a core reload won&#8217;t trigger a &#8220;buildOnCommit&#8221; event. &lt;/p&gt;

&lt;p&gt;A side note is that, even if &#8220;useColdSearcher&#8221; is set to &#8220;false&#8221;, in case of a core reload the suggester may be built after the first searcher is registered, the reason for this is that it is built using the second searcher created in the core reload process.&lt;/p&gt;
</comment>
                            <comment id="14284452" author="tomasflobbe" created="Tue, 20 Jan 2015 21:29:14 +0000"  >&lt;p&gt;Here is a new patch. I saw that we were trying to load the suggester twice, once on the Suggester init and once in the searcher listener. I removed the load from the searcher listener. &lt;br/&gt;
I also changed the default of the &quot;buildOnStartup&quot;, instead of being always &quot;false&quot;, it defaults to true if no suggester dictionary exists (if the storeDir is not set or if it&apos;s set but the suggester was never built). This is compatible with the behavior in 4.10. &lt;br/&gt;
Unfortunately I didn&apos;t have time to put this change in 5.0, there are no major compatibility issues, the only one I see is that &quot;reload&quot; no longer builds if the dictionary is not present. I think this is correct and should be the behavior of 6.x, for 5.x I&apos;ll make the reload action build if no dictionary is present.&lt;/p&gt;</comment>
                            <comment id="14284693" author="jira-bot" created="Wed, 21 Jan 2015 00:11:02 +0000"  >&lt;p&gt;Commit 1653410 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tflobbe&quot; class=&quot;user-hover&quot; rel=&quot;tflobbe&quot;&gt;tflobbe&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1653410&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1653410&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6845&quot; title=&quot;Add buildOnStartup option for suggesters&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6845&quot;&gt;&lt;del&gt;SOLR-6845&lt;/del&gt;&lt;/a&gt;: Add a &apos;&apos;buildOnStartup&apos;&apos; option for suggesters. (Tom&#225;s Fern&#225;ndez L&#246;bbe)&lt;/p&gt;</comment>
                            <comment id="14284921" author="jira-bot" created="Wed, 21 Jan 2015 00:46:43 +0000"  >&lt;p&gt;Commit 1653414 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tflobbe&quot; class=&quot;user-hover&quot; rel=&quot;tflobbe&quot;&gt;tflobbe&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1653414&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1653414&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6845&quot; title=&quot;Add buildOnStartup option for suggesters&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6845&quot;&gt;&lt;del&gt;SOLR-6845&lt;/del&gt;&lt;/a&gt;: Remove enable=false from the suggest request handler in the techproducts sample config. It is OK to use (and copy/paste this configuration) with buildOnStartup=false&lt;/p&gt;</comment>
                            <comment id="14285186" author="jira-bot" created="Wed, 21 Jan 2015 05:23:18 +0000"  >&lt;p&gt;Commit 1653443 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tflobbe&quot; class=&quot;user-hover&quot; rel=&quot;tflobbe&quot;&gt;tflobbe&lt;/a&gt; in branch &apos;dev/branches/branch_5x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1653443&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1653443&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6845&quot; title=&quot;Add buildOnStartup option for suggesters&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6845&quot;&gt;&lt;del&gt;SOLR-6845&lt;/del&gt;&lt;/a&gt;: Add a &apos;&apos;buildOnStartup&apos;&apos; option for suggesters&lt;/p&gt;</comment>
                            <comment id="14285908" author="tomasflobbe" created="Wed, 21 Jan 2015 17:16:16 +0000"  >&lt;p&gt;Changed summary to reflect the actual change done&lt;/p&gt;</comment>
                            <comment id="14286254" author="shalinmangar" created="Wed, 21 Jan 2015 21:01:44 +0000"  >&lt;p&gt;I just saw a local failure on trunk on org.apache.solr.handler.component.SuggestComponentTest.testDefaultBuildOnStartupStoredDict. The logs are attached and the stack trace is:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  2&amp;gt; 786070 T7047 oas.SolrTestCaseJ4.assertQ ERROR REQUEST FAILED: xpath=&lt;span class=&quot;code-comment&quot;&gt;//lst[@name=&lt;span class=&quot;code-quote&quot;&gt;&apos;suggest&apos;&lt;/span&gt;]/lst[@name=&lt;span class=&quot;code-quote&quot;&gt;&apos;suggest_doc_default_startup&apos;&lt;/span&gt;]/lst[@name=&lt;span class=&quot;code-quote&quot;&gt;&apos;example&apos;&lt;/span&gt;]/&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;[@name=&lt;span class=&quot;code-quote&quot;&gt;&apos;numFound&apos;&lt;/span&gt;][.=&lt;span class=&quot;code-quote&quot;&gt;&apos;0&apos;&lt;/span&gt;]
&lt;/span&gt;  2&amp;gt;            xml response was: &amp;lt;?xml version=&lt;span class=&quot;code-quote&quot;&gt;&quot;1.0&quot;&lt;/span&gt; encoding=&lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-8&quot;&lt;/span&gt;?&amp;gt;
  2&amp;gt;    &amp;lt;response&amp;gt;
  2&amp;gt;    &amp;lt;lst name=&lt;span class=&quot;code-quote&quot;&gt;&quot;responseHeader&quot;&lt;/span&gt;&amp;gt;&amp;lt;&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;status&quot;&lt;/span&gt;&amp;gt;0&amp;lt;/&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;&amp;gt;&amp;lt;&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;QTime&quot;&lt;/span&gt;&amp;gt;5&amp;lt;/&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;&amp;gt;&amp;lt;/lst&amp;gt;&amp;lt;lst name=&lt;span class=&quot;code-quote&quot;&gt;&quot;suggest&quot;&lt;/span&gt;&amp;gt;&amp;lt;lst name=&lt;span class=&quot;code-quote&quot;&gt;&quot;suggest_doc_default_startup&quot;&lt;/span&gt;&amp;gt;&amp;lt;lst name=&lt;span class=&quot;code-quote&quot;&gt;&quot;example&quot;&lt;/span&gt;&amp;gt;&amp;lt;&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;numFound&quot;&lt;/span&gt;&amp;gt;2&amp;lt;/&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;&amp;gt;&amp;lt;arr name=&lt;span class=&quot;code-quote&quot;&gt;&quot;suggestions&quot;&lt;/span&gt;&amp;gt;&amp;lt;lst&amp;gt;&amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;term&quot;&lt;/span&gt;&amp;gt;example inputdata&amp;lt;/str&amp;gt;&amp;lt;&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;weight&quot;&lt;/span&gt;&amp;gt;45&amp;lt;/&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt;&amp;gt;&amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;payload&quot;&lt;/span&gt;/&amp;gt;&amp;lt;/lst&amp;gt;&amp;lt;lst&amp;gt;&amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;term&quot;&lt;/span&gt;&amp;gt;example data&amp;lt;/str&amp;gt;&amp;lt;&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;weight&quot;&lt;/span&gt;&amp;gt;40&amp;lt;/&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt;&amp;gt;&amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;payload&quot;&lt;/span&gt;/&amp;gt;&amp;lt;/lst&amp;gt;&amp;lt;/arr&amp;gt;&amp;lt;/lst&amp;gt;&amp;lt;/lst&amp;gt;&amp;lt;/lst&amp;gt;
  2&amp;gt;    &amp;lt;/response&amp;gt;
  2&amp;gt;
  2&amp;gt;            request was:qt=/suggest&amp;amp;suggest.q=example&amp;amp;suggest.count=2&amp;amp;suggest.dictionary=suggest_doc_default_startup&amp;amp;wt=xml
  2&amp;gt; 786071 T7047 oasc.SolrException.log ERROR REQUEST FAILED: qt=/suggest&amp;amp;suggest.q=example&amp;amp;suggest.count=2&amp;amp;suggest.dictionary=suggest_doc_default_startup&amp;amp;wt=xml:java.lang.RuntimeException: REQUEST FAILED: xpath=&lt;span class=&quot;code-comment&quot;&gt;//lst[@name=&lt;span class=&quot;code-quote&quot;&gt;&apos;suggest&apos;&lt;/span&gt;]/lst[@name=&lt;span class=&quot;code-quote&quot;&gt;&apos;suggest_doc_default_startup&apos;&lt;/span&gt;]/lst[@name=&lt;span class=&quot;code-quote&quot;&gt;&apos;example&apos;&lt;/span&gt;]/&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;[@name=&lt;span class=&quot;code-quote&quot;&gt;&apos;numFound&apos;&lt;/span&gt;][.=&lt;span class=&quot;code-quote&quot;&gt;&apos;0&apos;&lt;/span&gt;]
&lt;/span&gt;  2&amp;gt;            xml response was: &amp;lt;?xml version=&lt;span class=&quot;code-quote&quot;&gt;&quot;1.0&quot;&lt;/span&gt; encoding=&lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-8&quot;&lt;/span&gt;?&amp;gt;
  2&amp;gt;    &amp;lt;response&amp;gt;
  2&amp;gt;    &amp;lt;lst name=&lt;span class=&quot;code-quote&quot;&gt;&quot;responseHeader&quot;&lt;/span&gt;&amp;gt;&amp;lt;&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;status&quot;&lt;/span&gt;&amp;gt;0&amp;lt;/&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;&amp;gt;&amp;lt;&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;QTime&quot;&lt;/span&gt;&amp;gt;5&amp;lt;/&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;&amp;gt;&amp;lt;/lst&amp;gt;&amp;lt;lst name=&lt;span class=&quot;code-quote&quot;&gt;&quot;suggest&quot;&lt;/span&gt;&amp;gt;&amp;lt;lst name=&lt;span class=&quot;code-quote&quot;&gt;&quot;suggest_doc_default_startup&quot;&lt;/span&gt;&amp;gt;&amp;lt;lst name=&lt;span class=&quot;code-quote&quot;&gt;&quot;example&quot;&lt;/span&gt;&amp;gt;&amp;lt;&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;numFound&quot;&lt;/span&gt;&amp;gt;2&amp;lt;/&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;&amp;gt;&amp;lt;arr name=&lt;span class=&quot;code-quote&quot;&gt;&quot;suggestions&quot;&lt;/span&gt;&amp;gt;&amp;lt;lst&amp;gt;&amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;term&quot;&lt;/span&gt;&amp;gt;example inputdata&amp;lt;/str&amp;gt;&amp;lt;&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;weight&quot;&lt;/span&gt;&amp;gt;45&amp;lt;/&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt;&amp;gt;&amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;payload&quot;&lt;/span&gt;/&amp;gt;&amp;lt;/lst&amp;gt;&amp;lt;lst&amp;gt;&amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;term&quot;&lt;/span&gt;&amp;gt;example data&amp;lt;/str&amp;gt;&amp;lt;&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;weight&quot;&lt;/span&gt;&amp;gt;40&amp;lt;/&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt;&amp;gt;&amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;payload&quot;&lt;/span&gt;/&amp;gt;&amp;lt;/lst&amp;gt;&amp;lt;/arr&amp;gt;&amp;lt;/lst&amp;gt;&amp;lt;/lst&amp;gt;&amp;lt;/lst&amp;gt;
  2&amp;gt;    &amp;lt;/response&amp;gt;
  2&amp;gt;
  2&amp;gt;            request was:qt=/suggest&amp;amp;suggest.q=example&amp;amp;suggest.count=2&amp;amp;suggest.dictionary=suggest_doc_default_startup&amp;amp;wt=xml
  2&amp;gt;            at org.apache.solr.SolrTestCaseJ4.assertQ(SolrTestCaseJ4.java:741)
  2&amp;gt;            at org.apache.solr.SolrTestCaseJ4.assertQ(SolrTestCaseJ4.java:715)
  2&amp;gt;            at org.apache.solr.handler.component.SuggestComponentTest.testDefaultBuildOnStartupStoredDict(SuggestComponentTest.java:257)
  2&amp;gt;            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;ant test  -Dtestcase=SuggestComponentTest -Dtests.method=testDefaultBuildOnStartupStoredDict -Dtests.seed=1AE9946D9D16B26E -Dtests.slow=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; -Dtests.locale=en -Dtests.timezone=Asia/Istanbul -Dtests.asserts=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; -Dtests.file.encoding=ISO-8859-1
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I tried a few times but couldn&apos;t reproduce it. &lt;/p&gt;</comment>
                            <comment id="14286323" author="tomasflobbe" created="Wed, 21 Jan 2015 21:38:57 +0000"  >&lt;p&gt;I&apos;ll take a look&lt;/p&gt;</comment>
                            <comment id="14286953" author="tomasflobbe" created="Thu, 22 Jan 2015 04:47:21 +0000"  >&lt;p&gt;Also a fail in Jenkins: &lt;a href=&quot;https://builds.apache.org/job/Lucene-Solr-Tests-5.x-Java7/2523/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Lucene-Solr-Tests-5.x-Java7/2523/&lt;/a&gt;&lt;br/&gt;
I can reproduce this fail by making the build slow. I&apos;ll commit a fix&lt;/p&gt;</comment>
                            <comment id="14287139" author="jira-bot" created="Thu, 22 Jan 2015 09:02:14 +0000"  >&lt;p&gt;Commit 1653784 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tflobbe&quot; class=&quot;user-hover&quot; rel=&quot;tflobbe&quot;&gt;tflobbe&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1653784&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1653784&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6845&quot; title=&quot;Add buildOnStartup option for suggesters&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6845&quot;&gt;&lt;del&gt;SOLR-6845&lt;/del&gt;&lt;/a&gt;: Suggester tests start new cores instead of reloading&lt;/p&gt;</comment>
                            <comment id="14287146" author="jira-bot" created="Thu, 22 Jan 2015 09:13:27 +0000"  >&lt;p&gt;Commit 1653789 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tflobbe&quot; class=&quot;user-hover&quot; rel=&quot;tflobbe&quot;&gt;tflobbe&lt;/a&gt; in branch &apos;dev/branches/branch_5x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1653789&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1653789&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6845&quot; title=&quot;Add buildOnStartup option for suggesters&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6845&quot;&gt;&lt;del&gt;SOLR-6845&lt;/del&gt;&lt;/a&gt;: Suggester tests start new cores instead of reloading&lt;/p&gt;</comment>
                            <comment id="14287148" author="tomasflobbe" created="Thu, 22 Jan 2015 09:15:17 +0000"  >&lt;p&gt;I changed the test to only start new cores instead of reloading as a temporary fix to avoid noise in Jenkins. I&apos;ll continue working to make the test work with reload again. &lt;/p&gt;</comment>
                            <comment id="14291293" author="jira-bot" created="Sun, 25 Jan 2015 22:40:46 +0000"  >&lt;p&gt;Commit 1654710 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tflobbe&quot; class=&quot;user-hover&quot; rel=&quot;tflobbe&quot;&gt;tflobbe&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1654710&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1654710&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6845&quot; title=&quot;Add buildOnStartup option for suggesters&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6845&quot;&gt;&lt;del&gt;SOLR-6845&lt;/del&gt;&lt;/a&gt;: Fixed Suggester&apos;s buildOnStartup in core reload and improved tests&lt;/p&gt;</comment>
                            <comment id="14291299" author="jira-bot" created="Sun, 25 Jan 2015 22:54:54 +0000"  >&lt;p&gt;Commit 1654714 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tflobbe&quot; class=&quot;user-hover&quot; rel=&quot;tflobbe&quot;&gt;tflobbe&lt;/a&gt; in branch &apos;dev/branches/branch_5x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1654714&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1654714&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6845&quot; title=&quot;Add buildOnStartup option for suggesters&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6845&quot;&gt;&lt;del&gt;SOLR-6845&lt;/del&gt;&lt;/a&gt;: Fixed Suggester&apos;s buildOnStartup in core reload and improved tests&lt;/p&gt;</comment>
                            <comment id="14297282" author="tomasflobbe" created="Thu, 29 Jan 2015 18:22:43 +0000"  >&lt;p&gt;Didn&apos;t see any Jenkins failures of this test since the last commit. I&apos;ll mark it as resolved&lt;/p&gt;</comment>
                            <comment id="14298176" author="varunthacker" created="Fri, 30 Jan 2015 04:15:02 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tflobbe&quot; class=&quot;user-hover&quot; rel=&quot;tflobbe&quot;&gt;tflobbe&lt;/a&gt; ,&lt;/p&gt;

&lt;p&gt;Minor documentation nit - In SuggestComponent , the comment on the BUILD_ON_STARTUP_LABEL variable needs to be modified to - &quot;SolrConfig label to identify boolean value to build suggesters on startup&quot;&lt;/p&gt;</comment>
                            <comment id="14307559" author="tomasflobbe" created="Thu, 5 Feb 2015 17:08:19 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=varun&quot; class=&quot;user-hover&quot; rel=&quot;varun&quot;&gt;varun&lt;/a&gt;, fixed&lt;/p&gt;</comment>
                            <comment id="14340261" author="erickerickson" created="Fri, 27 Feb 2015 15:11:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tflobbe&quot; class=&quot;user-hover&quot; rel=&quot;tflobbe&quot;&gt;tflobbe&lt;/a&gt; If I were to apply this patch to 4.10 do you see any inherent problems? I merged all the changes last night and it seems to run and index docs, the buildOnStartup parameter seems to be respected etc. Running unit tests now.&lt;/p&gt;

&lt;p&gt;My responsibility if I try this of course, just asking if yo know of any reason this is a Bad Idea.&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                            <comment id="14340366" author="tomasflobbe" created="Fri, 27 Feb 2015 16:54:22 +0000"  >&lt;p&gt;No issues that I can think of, let&apos;s backport it.&lt;/p&gt;</comment>
                            <comment id="14341241" author="erickerickson" created="Sat, 28 Feb 2015 02:35:18 +0000"  >&lt;p&gt;Reopening for inclusion in 4.10.5&lt;/p&gt;</comment>
                            <comment id="14342837" author="erickerickson" created="Mon, 2 Mar 2015 06:41:05 +0000"  >&lt;p&gt;Decided not to back-port, it was more complex than I thought.&lt;/p&gt;</comment>
                            <comment id="14366832" author="stephlag" created="Wed, 18 Mar 2015 08:43:27 +0000"  >&lt;p&gt;We will be glad to have this in 4.10.5 or at least on the 5.0 branch. &lt;br/&gt;
Is there too much effort to backport this issue or is it risky? &lt;br/&gt;
We can contribute if needed because we really need this option to avoid very long startup times.&lt;/p&gt;</comment>
                            <comment id="14385887" author="varunthacker" created="Sun, 29 Mar 2015 18:44:51 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tflobbe&quot; class=&quot;user-hover&quot; rel=&quot;tflobbe&quot;&gt;tflobbe&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;We should remove this comment from the solrconfig.xml file right? I have made the required change in the ref guide as well.&lt;/p&gt;</comment>
                            <comment id="14386943" author="tomasflobbe" created="Mon, 30 Mar 2015 16:29:59 +0000"  >&lt;blockquote&gt;&lt;p&gt;We should remove this comment from the solrconfig.xml file right?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I was sure I had remove the comment! Thanks for pointing that out. I&apos;ll remove it&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;I have made the required change in the ref guide as well.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Thanks, I didn&apos;t do this initially because by the time I did this change the docs were still about 5.0, but now was a good time to fix that.&lt;/p&gt;</comment>
                            <comment id="14387266" author="jira-bot" created="Mon, 30 Mar 2015 19:24:07 +0000"  >&lt;p&gt;Commit 1670183 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tflobbe&quot; class=&quot;user-hover&quot; rel=&quot;tflobbe&quot;&gt;tflobbe&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1670183&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1670183&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6845&quot; title=&quot;Add buildOnStartup option for suggesters&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6845&quot;&gt;&lt;del&gt;SOLR-6845&lt;/del&gt;&lt;/a&gt;: Updated SuggestComponent comments in techproducts example configset&lt;/p&gt;</comment>
                            <comment id="14387328" author="jira-bot" created="Mon, 30 Mar 2015 20:19:37 +0000"  >&lt;p&gt;Commit 1670186 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tflobbe&quot; class=&quot;user-hover&quot; rel=&quot;tflobbe&quot;&gt;tflobbe&lt;/a&gt; in branch &apos;dev/branches/branch_5x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1670186&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1670186&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6845&quot; title=&quot;Add buildOnStartup option for suggesters&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6845&quot;&gt;&lt;del&gt;SOLR-6845&lt;/del&gt;&lt;/a&gt;: Updated SuggestComponent comments in techproducts example configset&lt;/p&gt;</comment>
                            <comment id="14482409" author="tomasflobbe" created="Tue, 7 Apr 2015 01:58:47 +0000"  >&lt;p&gt;Varun, I can&apos;t find the changes made to the ref guide, where did you make them?&lt;/p&gt;</comment>
                            <comment id="14483793" author="varunthacker" created="Tue, 7 Apr 2015 18:56:33 +0000"  >&lt;p&gt;Hi Tomas,&lt;/p&gt;

&lt;p&gt;I meant I removed the sentence which went like - the suggester is disabled by default &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; I didn&apos;t add the documentation for this param.&lt;/p&gt;

&lt;p&gt;Anyways thanks for catching that. Here is what I wrote up for it - &lt;/p&gt;

&lt;p&gt;buildOnStartup: If true then the lookup data structure will be built when Solr starts or when the core is reloaded. If this parameter is not specified, the suggester will check if the lookup data structure is present on disk. If yes then it won&apos;t load up on startup. Enabling this to true could lead to the core talking longer to load as the suggester data structure needs to be built&lt;/p&gt;


&lt;p&gt;Feel free to edit it and add it to the ref guide else I&apos;ll add it tomorrow.&lt;/p&gt;</comment>
                            <comment id="14484677" author="tomasflobbe" created="Wed, 8 Apr 2015 04:07:31 +0000"  >&lt;p&gt;Added your paragraph with some modifications to the ref guide. Feel free to edit it there. &lt;/p&gt;</comment>
                            <comment id="14495308" author="thelabdude" created="Wed, 15 Apr 2015 00:30:32 +0000"  >&lt;p&gt;Bulk close after 5.1 release&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12751697">SOLR-6679</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12693395" name="SOLR-6845.patch" size="27079" author="tflobbe" created="Tue, 20 Jan 2015 21:29:14 +0000"/>
                            <attachment id="12691568" name="SOLR-6845.patch" size="15098" author="tflobbe" created="Sun, 11 Jan 2015 21:26:11 +0000"/>
                            <attachment id="12689070" name="SOLR-6845.patch" size="12669" author="tflobbe" created="Wed, 24 Dec 2014 21:11:05 +0000"/>
                            <attachment id="12708057" name="SOLR-6845_solrconfig.patch" size="1424" author="varun" created="Sun, 29 Mar 2015 18:44:51 +0000"/>
                            <attachment id="12693703" name="tests-failures.txt" size="302331" author="shalin" created="Wed, 21 Jan 2015 21:01:44 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 32 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i23e6n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>