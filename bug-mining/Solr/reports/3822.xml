<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:31:17 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-12072] Invalid path string using ZkConfigManager.copyConfigDir(String fromConfig, String toConfig)</title>
                <link>https://issues.apache.org/jira/browse/SOLR-12072</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;I&apos;ve found an issue while using the method ZkConfigManager.copyConfigDir(String fromConfig, String toConfig) from SolrJ 7.2.1.&lt;br/&gt;
&#160;&lt;br/&gt;
The error message is:&lt;br/&gt;
Invalid path string &quot;/configs//configs/myconfig&quot; caused by empty node name specified&lt;br/&gt;
&#160;&lt;br/&gt;
The problem is the method with two parameters changes the fromConfig and toConfig parameters, adding &quot;/configs/&quot;, before calling the overloading method&#160;with 3 parameters, that adds &quot;/configs/&quot; again in both parameters.&#160;&lt;br/&gt;
Guess it&apos;s a bit confusing to explain, but it&apos;s easier when looking at the code. Here&apos;s the methods implementations :&lt;br/&gt;
&#160;&lt;br/&gt;
&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void copyConfigDir(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; fromConfig, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; toConfig) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
  copyConfigDir(CONFIGS_ZKNODE + &lt;span class=&quot;code-quote&quot;&gt;&quot;/&quot;&lt;/span&gt; + fromConfig, CONFIGS_ZKNODE + &lt;span class=&quot;code-quote&quot;&gt;&quot;/&quot;&lt;/span&gt; + toConfig, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;);
}

&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void copyConfigDir(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; fromConfig, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; toConfig, Set&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt; copiedToZkPaths) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
  copyConfigDirFromZk(CONFIGS_ZKNODE + &lt;span class=&quot;code-quote&quot;&gt;&quot;/&quot;&lt;/span&gt; + fromConfig, CONFIGS_ZKNODE + &lt;span class=&quot;code-quote&quot;&gt;&quot;/&quot;&lt;/span&gt; + toConfig, copiedToZkPaths);
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The solution is just remove the &apos;CONFIGS_ZKNODE + &quot;/&quot;&apos; in the former method.&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;br/&gt;
The workaround is calling directly the latter method.&lt;/p&gt;</description>
                <environment>&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</environment>
        <key id="13143726">SOLR-12072</key>
            <summary>Invalid path string using ZkConfigManager.copyConfigDir(String fromConfig, String toConfig)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="erickerickson">Erick Erickson</assignee>
                                    <reporter username="alehoss">Alessandro Hoss</reporter>
                        <labels>
                    </labels>
                <created>Thu, 8 Mar 2018 23:25:17 +0000</created>
                <updated>Sat, 8 Jun 2019 15:10:34 +0000</updated>
                            <resolved>Fri, 9 Mar 2018 06:05:18 +0000</resolved>
                                    <version>7.2.1</version>
                                    <fixVersion>7.3</fixVersion>
                                    <component>SolrJ</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16392111" author="alehoss" created="Thu, 8 Mar 2018 23:33:34 +0000"  >&lt;p&gt;First contribution... Please tell me if there&apos;s something wrong.&lt;/p&gt;</comment>
                            <comment id="16392363" author="erickerickson" created="Fri, 9 Mar 2018 03:48:50 +0000"  >&lt;p&gt;Yeah, that can&apos;t be right &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;... Thanks!&lt;/p&gt;

&lt;p&gt;Very minor nit, and just for future reference. It&apos;s preferred to just name patches with the JIRA and &quot;.patch&quot; extension, even multiple copies of a patch. In this case name all patches exactly&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-12072&quot; title=&quot;Invalid path string using ZkConfigManager.copyConfigDir(String fromConfig, String toConfig)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-12072&quot;&gt;&lt;del&gt;SOLR-12072&lt;/del&gt;&lt;/a&gt;.patch&lt;/p&gt;

&lt;p&gt;Each subsequent upload grays out all the previous ones rather than overwrites them. That makes it easier to tell which is the most recent. The exception is if you, say, reopen a JIRA and have to attach a patch-for-the-patch...&lt;/p&gt;
</comment>
                            <comment id="16392374" author="erickerickson" created="Fri, 9 Mar 2018 04:09:33 +0000"  >&lt;p&gt;Same patch with a test. I&apos;ll commit shortly&lt;/p&gt;

&lt;p&gt;Thanks Alessandro!&lt;/p&gt;</comment>
                            <comment id="16392462" author="jira-bot" created="Fri, 9 Mar 2018 06:00:25 +0000"  >&lt;p&gt;Commit 7dfb04ee5e9f973fbad20c529ec091c201743398 in lucene-solr&apos;s branch refs/heads/master from Erick&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=7dfb04e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=7dfb04e&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-12072&quot; title=&quot;Invalid path string using ZkConfigManager.copyConfigDir(String fromConfig, String toConfig)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-12072&quot;&gt;&lt;del&gt;SOLR-12072&lt;/del&gt;&lt;/a&gt;: Invalid path string using ZkConfigManager.copyConfigDir(String fromConfig, String toConfig)&lt;/p&gt;</comment>
                            <comment id="16392464" author="jira-bot" created="Fri, 9 Mar 2018 06:04:53 +0000"  >&lt;p&gt;Commit 3d805dea8b9f97743ba46e71381cdbd0e1350cc4 in lucene-solr&apos;s branch refs/heads/branch_7x from Erick&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=3d805de&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=3d805de&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-12072&quot; title=&quot;Invalid path string using ZkConfigManager.copyConfigDir(String fromConfig, String toConfig)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-12072&quot;&gt;&lt;del&gt;SOLR-12072&lt;/del&gt;&lt;/a&gt;: Invalid path string using ZkConfigManager.copyConfigDir(String fromConfig, String toConfig)&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 7dfb04e)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12913671" name="0001-SOLR-12072.patch" size="1626" author="alehoss" created="Thu, 8 Mar 2018 23:31:36 +0000"/>
                            <attachment id="12913712" name="SOLR-12072.patch" size="2201" author="erickerickson" created="Fri, 9 Mar 2018 04:08:49 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 36 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3r2pb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>