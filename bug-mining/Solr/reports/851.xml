<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:26:46 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-3268] remove write acess to source tree (chmod 555) when running tests in jenkins</title>
                <link>https://issues.apache.org/jira/browse/SOLR-3268</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;Some tests are currently creating files under the source tree.&lt;/p&gt;

&lt;p&gt;This causes a lot of problems, it makes my checkout look dirty after running &apos;ant test&apos; and i have to cleanup.&lt;/p&gt;

&lt;p&gt;I opened and issue for this a month in a half for solrj/src/test-files/solrj/solr/shared/test-solr.xml (&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-3112&quot; title=&quot;after running &amp;#39;ant test&amp;#39; solr/solrj/src/test-files/solrj/solr/shared/test-solr.xml is leftover&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-3112&quot;&gt;&lt;del&gt;SOLR-3112&lt;/del&gt;&lt;/a&gt;), &lt;br/&gt;
but now we have a second file (core/src/test-files/solr/conf/elevate-data-distrib.xml).&lt;/p&gt;

&lt;p&gt;So I think hudson needs to chmod these src directories to 555, so that solr tests that do this will fail.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12547769">SOLR-3268</key>
            <summary>remove write acess to source tree (chmod 555) when running tests in jenkins</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rcmuir">Robert Muir</assignee>
                                    <reporter username="rcmuir">Robert Muir</reporter>
                        <labels>
                    </labels>
                <created>Fri, 23 Mar 2012 09:16:00 +0000</created>
                <updated>Fri, 10 May 2013 10:38:53 +0000</updated>
                            <resolved>Mon, 26 Mar 2012 22:46:33 +0000</resolved>
                                                    <fixVersion>3.6</fixVersion>
                    <fixVersion>4.0-ALPHA</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13236474" author="thetaphi" created="Fri, 23 Mar 2012 09:21:03 +0000"  >&lt;p&gt;LOL&lt;/p&gt;</comment>
                            <comment id="13236489" author="dweiss" created="Fri, 23 Mar 2012 10:08:21 +0000"  >&lt;p&gt;I agree that tests modifying sources or writing to source areas are a pain. I know these files can be svn:ignored but it just... feels dirty somehow. On a constructive note &amp;#8211; maybe we can use this:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://ant.apache.org/manual/Tasks/sync.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ant.apache.org/manual/Tasks/sync.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;and mirror whatever src folder structure is required for these tests in the build area?&lt;/p&gt;</comment>
                            <comment id="13236490" author="rcmuir" created="Fri, 23 Mar 2012 10:11:53 +0000"  >&lt;p&gt;Dawid: we already do that.&lt;/p&gt;</comment>
                            <comment id="13236494" author="dweiss" created="Fri, 23 Mar 2012 10:19:57 +0000"  >&lt;p&gt;Oh... in that case the tests just need to be fixed &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13236500" author="mikemccand" created="Fri, 23 Mar 2012 10:36:31 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13236506" author="rcmuir" created="Fri, 23 Mar 2012 10:44:49 +0000"  >&lt;p&gt;So I was wrong about the resource-sync idea: here&apos;s a patch implementing it.&lt;/p&gt;

&lt;p&gt;unfortunately this is not a great solution:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;it only solves one of the problems (for some reason &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-3112&quot; title=&quot;after running &amp;#39;ant test&amp;#39; solr/solrj/src/test-files/solrj/solr/shared/test-solr.xml is leftover&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-3112&quot;&gt;&lt;del&gt;SOLR-3112&lt;/del&gt;&lt;/a&gt; is not solved by this).&lt;/li&gt;
	&lt;li&gt;its just syncing the test-files to build/test-files and putting that in classpath instead: but this still doesnt &quot;fix&quot; anything, any tests that modify things in here could interfere with other tests because its not a per-jvm sandbox like TEMP_DIR, and its definitely not per-test.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Bottom line: I think really the best solution is that tests that want to write files to their configuration area should create a temporary directory (via our normal tempdir mechanism) and write to that... &lt;/p&gt;</comment>
                            <comment id="13237090" author="hossman" created="Fri, 23 Mar 2012 20:36:53 +0000"  >&lt;p&gt;Issue is marked 3.6 and actively being discussed but has no assignee - assigning to most active committer contributing patches/discussion so far to triage wether this can/should be pushed to 4.0 or not.&lt;/p&gt;</comment>
                            <comment id="13237921" author="rcmuir" created="Sun, 25 Mar 2012 16:47:24 +0000"  >&lt;p&gt;I don&apos;t think figuring out how to do this needs to block 3.6: fortunately Luca fixed all&lt;br/&gt;
the tests in question!&lt;/p&gt;

&lt;p&gt;But we should look into a safe way to do this in the future: the main thing being is that&lt;br/&gt;
we want to restore the correct chmod in jenkins even if the build fails, otherwise&lt;br/&gt;
the next time it goes to svn update, I think there will be problems?&lt;/p&gt;</comment>
                            <comment id="13238685" author="hossman" created="Mon, 26 Mar 2012 19:02:13 +0000"  >&lt;p&gt;if locking down src/ so tests can&apos;t make changes is tricky to do safely, perhaps a we could do something simpler to get us part way towards the ultimate goal? ... add a final step to the jenkins build script that fails if &quot;svn status | wc -l&quot; returns non-zero?&lt;/p&gt;

&lt;p&gt;it wont&apos;t ensure no changes are made to src/, but it should ensure no changes are made to src/ unless explicitly allowed by an svn:ignore ... then we just have to (remove any existing svn:ignore under /src and) make sure we publicly shame anyone who adds svn:ignores to src/ because they wrote a sloppy test.&lt;/p&gt;</comment>
                            <comment id="13238686" author="rcmuir" created="Mon, 26 Mar 2012 19:03:29 +0000"  >&lt;blockquote&gt;
&lt;p&gt;add a final step to the jenkins build script that fails if &quot;svn status | wc -l&quot; returns non-zero?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;duh... what a simple solution. +1&lt;/p&gt;</comment>
                            <comment id="13238702" author="steve_rowe" created="Mon, 26 Mar 2012 19:17:47 +0000"  >&lt;blockquote&gt;
&lt;p&gt;add a final step to the jenkins build script that fails if &quot;svn status | wc -l&quot; returns non-zero?&lt;/p&gt;

&lt;p&gt;it wont&apos;t ensure no changes are made to src/, but it should ensure no changes are made to src/ unless explicitly allowed by an svn:ignore&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I don&apos;t remember which one(s), but I recall that at least one file is (was?) produced by a Solr test and svn:ignore&apos;d.  In order for Hoss&apos;s suggestion to be fully effective, we should stop svn:ignore&apos;ing test outputs (outside of &lt;tt&gt;build/&lt;/tt&gt; or other already ignored directories).  I&apos;ll see what&apos;s being svn:ignore&apos;d now.&lt;/p&gt;</comment>
                            <comment id="13238710" author="hossman" created="Mon, 26 Mar 2012 19:23:22 +0000"  >&lt;p&gt;i think you&apos;re talking about &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-3112&quot; title=&quot;after running &amp;#39;ant test&amp;#39; solr/solrj/src/test-files/solrj/solr/shared/test-solr.xml is leftover&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-3112&quot;&gt;&lt;del&gt;SOLR-3112&lt;/del&gt;&lt;/a&gt; which was dealt with .. but even if there are others, we can start by adding this check now, and then file issues to fix &amp;amp; remove whatever is left.&lt;/p&gt;

&lt;p&gt;this isn&apos;t a silver bullet, it&apos;s certainly not as good as actually looking down src to fail on writes, but it will at least force people to be aware if/when they add a test that pollutes src/&lt;/p&gt;</comment>
                            <comment id="13238738" author="steve_rowe" created="Mon, 26 Mar 2012 19:53:35 +0000"  >&lt;blockquote&gt;&lt;p&gt;i think you&apos;re talking about &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-3112&quot; title=&quot;after running &amp;#39;ant test&amp;#39; solr/solrj/src/test-files/solrj/solr/shared/test-solr.xml is leftover&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-3112&quot;&gt;&lt;del&gt;SOLR-3112&lt;/del&gt;&lt;/a&gt; &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I don&apos;t think so - I think I was remembering something under DIH &lt;tt&gt;test-files/&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;Here are the non-standard &lt;tt&gt;svn:ignore&lt;/tt&gt;&apos;s I found under &lt;tt&gt;branch_3x/solr/&lt;/tt&gt; - are any of these problematic?:&lt;/p&gt;

&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;directory&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;svn:ignore&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;contrib/dataimporthandler/src/test-files&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;dataimport.properties&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;contrib/dataimporthandler/src/test-files/dih/solr/conf&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;dataimport.properties&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;contrib/dataimporthandler-extras/src/test-files/dihextras/solr/conf&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;dataimport.properties&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;core/src/test-files/solr&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;data&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;core/src/test-files/solr&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;data&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;example/example-DIH/solr/db&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;data&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;example/example-DIH/solr/mail&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;data&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;example/example-DIH/solr/db&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;data&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;example/example-DIH/solr/mail&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;data&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;example/example-DIH/solr/mail/lib&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;*.jar&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;example/example-DIH/solr/rss&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;data&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;example/example-DIH/solr/rss/conf&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;dataimport.properties&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;example/example-DIH/solr/tika&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;data&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;example/exampledocs&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;post.jar&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;example/multicore/core0&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;data&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;example/multicore/core1&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;data&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;example/solr&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;data, lib, logs&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;
</comment>
                            <comment id="13238743" author="rcmuir" created="Mon, 26 Mar 2012 19:58:52 +0000"  >&lt;p&gt;The ones under src/test-files is definitely problematic.&lt;br/&gt;
What happens is that tests put indexes in there. And later tests go&lt;br/&gt;
and &apos;update&apos; those indexes. So if you make any change to the index format,&lt;br/&gt;
two things can happen (both of which have happened to me):&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;you see strange exceptions and think you broke something, digging into&lt;br/&gt;
  tests only to find out its this src/test-files stuff.&lt;/li&gt;
	&lt;li&gt;after committing, other developers on the mailing list get confused&lt;br/&gt;
  and think something is broken for the same reason.&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;As a temporary hack we have this in &apos;ant clean&apos;:&lt;/p&gt;

&lt;p&gt;clean:&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;echo&amp;#93;&lt;/span&gt; TODO: fix tests to not write files to &apos;core/src/test-files/solr/data&apos;!&lt;/p&gt;

&lt;p&gt;But thats not a real solution.&lt;/p&gt;

&lt;p&gt;The svn:ignore just shoves the problem under the rug.&lt;/p&gt;</comment>
                            <comment id="13238752" author="rcmuir" created="Mon, 26 Mar 2012 20:04:52 +0000"  >&lt;p&gt;its also possible the patch on this issue might solve that problem for individual runs&lt;br/&gt;
(its still not as good as a test creating its own tempdir, guaranteeing it wont interfere with&lt;br/&gt;
other tests in the same run though).&lt;/p&gt;</comment>
                            <comment id="13238767" author="steve_rowe" created="Mon, 26 Mar 2012 20:15:19 +0000"  >&lt;p&gt;Here&apos;s the list for &lt;tt&gt;trunk/solr/&lt;/tt&gt;:&lt;/p&gt;

&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;directory&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;svn:ignore&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;contrib/dataimporthandler/src/test-files&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;dataimport.properties&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;contrib/dataimporthandler/src/test-files/dih/solr/conf&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;dataimport.properties&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;contrib/dataimporthandler-extras/src/test-files/dihextras/solr/conf&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;dataimport.properties&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;core/src/test-files/solr&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;data&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;example/example-DIH/solr/db&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;data&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;example/example-DIH/solr/db/conf&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;dataimport.properties&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;example/example-DIH/solr/mail&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;data&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;example/example-DIH/solr/mail/lib&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;*.jar&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;example/example-DIH/solr/rss&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;data&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;example/example-DIH/solr/rss/conf&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;dataimport.properties&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;example/example-DIH/solr/tika&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;data&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;example/exampledocs&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;post.jar&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;example/multicore/core0&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;data&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;example/multicore/core1&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;data&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;example/solr&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;data, lib, logs, zoo_data&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;
</comment>
                            <comment id="13238775" author="dweiss" created="Mon, 26 Mar 2012 20:22:57 +0000"  >&lt;p&gt;All of these are in .gitignore, Steven (and can be regenerated via dev-tools/scripts/gitignore-gen.sh.&lt;/p&gt;</comment>
                            <comment id="13238783" author="rcmuir" created="Mon, 26 Mar 2012 20:28:33 +0000"  >&lt;p&gt;I&apos;m first testing if core/src/test-files/solr is still needed. Luca fixed a couple tests in &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-3112&quot; title=&quot;after running &amp;#39;ant test&amp;#39; solr/solrj/src/test-files/solrj/solr/shared/test-solr.xml is leftover&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-3112&quot;&gt;&lt;del&gt;SOLR-3112&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
Maybe its obselete and can be removed from svn:ignore, along with the ant clean hack.&lt;/p&gt;</comment>
                            <comment id="13238790" author="rcmuir" created="Mon, 26 Mar 2012 20:33:56 +0000"  >&lt;p&gt;Hmm definitely this still gets created (I un-svn-ignored it).&lt;/p&gt;

&lt;p&gt;Then i chmod 555&apos;d core/src/test-file/solr just to hopefully make the offendor fail,&lt;br/&gt;
but with this in place, instead the test hangs infinitely (looks like NoCacheHeaderTest)&lt;/p&gt;</comment>
                            <comment id="13238793" author="steve_rowe" created="Mon, 26 Mar 2012 20:35:03 +0000"  >&lt;blockquote&gt;&lt;p&gt;All of these are in .gitignore, Steven (and can be regenerated via dev-tools/scripts/gitignore-gen.sh.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Right, I&apos;d forgotten about that (I&apos;m not a git user).&lt;/p&gt;

&lt;p&gt;I rolled my own dirty one-liner script (newlines/indents added here for clarity):&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;(for a in $(find . -type d | grep -v &apos;\.svn\|/build&apos;) ; do
    b=`svn propget svn:ignore $a`
    if [[ -n $b ]]; then
        c=${b//$&apos;\n&apos;/, }
        echo &quot;|$a|$c|&quot;
    fi
done) 2&amp;gt;/dev/null
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13238796" author="rcmuir" created="Mon, 26 Mar 2012 20:40:28 +0000"  >&lt;p&gt;If you apply the patch, the test won&apos;t create indexes under this directory any more.&lt;/p&gt;

&lt;p&gt;This is an improvement even though its not perfect. I&apos;m gonna commit it.&lt;/p&gt;</comment>
                            <comment id="13238821" author="rcmuir" created="Mon, 26 Mar 2012 21:01:25 +0000"  >&lt;p&gt;OK: i think the core/src/test-files/solr/data svn:ignore is nuked in trunk and branch_3x.&lt;/p&gt;

&lt;p&gt;As i said before its still not perfect, and I put comments in NoCacheHeaderTest indicating its broken,&lt;br/&gt;
because if two different tests try to write to this sync&apos;ed build/test-files directory at the same time,&lt;br/&gt;
then it will cause strange fails.&lt;/p&gt;

&lt;p&gt;But its an improvement in the sense that we don&apos;t need the special ant clean, we don&apos;t dirty up the&lt;br/&gt;
source tree, and sync task (called by compile-test) should nuke any leftover indexes created from&lt;br/&gt;
the previous run.&lt;/p&gt;</comment>
                            <comment id="13238835" author="rcmuir" created="Mon, 26 Mar 2012 21:08:27 +0000"  >&lt;p&gt;OK the previous commit may or may not have also fixed the dataimporthandler problems.&lt;/p&gt;

&lt;p&gt;I need a beer run before touching DIH but ill investigate these next.&lt;/p&gt;</comment>
                            <comment id="13238888" author="rcmuir" created="Mon, 26 Mar 2012 21:54:40 +0000"  >&lt;p&gt;OK all those non-example/ svn:ignore&apos;s are gone.&lt;/p&gt;

&lt;p&gt;I think we can now add the &apos;svn status&apos; check to jenkins nightly.&lt;/p&gt;</comment>
                            <comment id="13238933" author="rcmuir" created="Mon, 26 Mar 2012 22:46:33 +0000"  >&lt;p&gt;I committed the svn status checker to nightly.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12519604" name="SOLR-3268_sync.patch" size="1360" author="rcmuir" created="Fri, 23 Mar 2012 10:44:49 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>232866</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 35 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i03fon:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>17974</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>