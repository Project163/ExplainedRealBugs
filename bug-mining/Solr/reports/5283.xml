<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 05:11:52 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-17758] NumFieldLimiting URP &quot;warnOnly&quot; mode broken</title>
                <link>https://issues.apache.org/jira/browse/SOLR-17758</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;NumFieldLimitingUpdateProcessorFactory (introduced in &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-17192&quot; title=&quot;Maximum-fields-per-core soft limit&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-17192&quot;&gt;&lt;del&gt;SOLR-17192&lt;/del&gt;&lt;/a&gt;) aims to offer a &quot;warnOnly&quot; mode that logs a warning when the maximum number of fields is exceeded.&lt;/p&gt;

&lt;p&gt;But the &quot;warnOnly&quot; code path doesn&apos;t trigger any subsequent processors in the chain.  So in effect, both modes will prevent new documents from being added once the limit has been exceeded.&lt;/p&gt;

&lt;p&gt;We should rework this logic so that the warnOnly=true codepath allows documents to be indexed as expected.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13617678">SOLR-17758</key>
            <summary>NumFieldLimiting URP &quot;warnOnly&quot; mode broken</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gerlowskija">Jason Gerlowski</assignee>
                                    <reporter username="gerlowskija">Jason Gerlowski</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Fri, 9 May 2025 13:33:27 +0000</created>
                <updated>Fri, 17 Oct 2025 20:05:26 +0000</updated>
                            <resolved>Mon, 19 May 2025 14:33:52 +0000</resolved>
                                    <version>9.8.1</version>
                                    <fixVersion>9.9</fixVersion>
                    <fixVersion>10.0</fixVersion>
                                    <component>UpdateRequestProcessors</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="2400">40m</timespent>
                                <comments>
                            <comment id="17950600" author="rahul196452@gmail.com" created="Fri, 9 May 2025 20:07:32 +0000"  >&lt;p&gt;Thanks for creating the JIRA Jason. Although I do see that due to the reason you mentioned, the chain would get terminated irrespective of whether warnOnly is true or false, since the user complained of getting a 400 error (SolrException.ErrorCode.BAD_REQUEST) the real culprit here seems to be this &apos;&amp;gt;&apos; check in init() . It should be &quot;&amp;gt;=&quot; I believe.&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/solr/blob/main/solr/core/src/java/org/apache/solr/update/processor/NumFieldLimitingUpdateRequestProcessorFactory.java#L72&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/solr/blob/main/solr/core/src/java/org/apache/solr/update/processor/NumFieldLimitingUpdateRequestProcessorFactory.java#L72&lt;/a&gt;&lt;/p&gt;
</comment>
                            <comment id="17952628" author="jira-bot" created="Mon, 19 May 2025 14:22:49 +0000"  >&lt;p&gt;Commit 733c41a6adae2786c367a1ecd05dcba2d09eab66 in solr&apos;s branch refs/heads/main from Jason Gerlowski&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=733c41a6ada&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=733c41a6ada&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-17758&quot; title=&quot;NumFieldLimiting URP &amp;quot;warnOnly&amp;quot; mode broken&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-17758&quot;&gt;&lt;del&gt;SOLR-17758&lt;/del&gt;&lt;/a&gt;: Fix limiting-URP &quot;warnOnly&quot; mode (#3348)&lt;/p&gt;

&lt;p&gt;Due to a bug in the initial implementation, the &quot;warnOnly&quot; mode of the&lt;br/&gt;
NumFieldLimiting &quot;URP&quot; never worked as designed.  The &quot;warn&quot; codepath&lt;br/&gt;
failed to call `processAdd` for the next URP in the chain.  This makes&lt;br/&gt;
the &quot;warn only&quot; behavior indistinguishable from the &quot;hard limit&quot;&lt;br/&gt;
behavior from a user perspective.&lt;/p&gt;

&lt;p&gt;This commit fixes this bug.  It also adds integration testing for&lt;br/&gt;
several &quot;warn only&quot; mode related scenarios, to prevent against future&lt;br/&gt;
regressions.&lt;/p&gt;</comment>
                            <comment id="17952632" author="jira-bot" created="Mon, 19 May 2025 14:33:10 +0000"  >&lt;p&gt;Commit d8e05ac476299ee7cd5d726ff95162ce4dd3d1b0 in solr&apos;s branch refs/heads/branch_9x from Jason Gerlowski&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=d8e05ac4762&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=d8e05ac4762&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-17758&quot; title=&quot;NumFieldLimiting URP &amp;quot;warnOnly&amp;quot; mode broken&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-17758&quot;&gt;&lt;del&gt;SOLR-17758&lt;/del&gt;&lt;/a&gt;: Fix limiting-URP &quot;warnOnly&quot; mode (#3348)&lt;/p&gt;

&lt;p&gt;Due to a bug in the initial implementation, the &quot;warnOnly&quot; mode of the&lt;br/&gt;
NumFieldLimiting &quot;URP&quot; never worked as designed.  The &quot;warn&quot; codepath&lt;br/&gt;
failed to call `processAdd` for the next URP in the chain.  This makes&lt;br/&gt;
the &quot;warn only&quot; behavior indistinguishable from the &quot;hard limit&quot;&lt;br/&gt;
behavior from a user perspective.&lt;/p&gt;

&lt;p&gt;This commit fixes this bug.  It also adds integration testing for&lt;br/&gt;
several &quot;warn only&quot; mode related scenarios, to prevent against future&lt;br/&gt;
regressions.&lt;/p&gt;</comment>
                            <comment id="17952634" author="gerlowskija" created="Mon, 19 May 2025 14:35:58 +0000"  >&lt;p&gt;(We discussed Rahul&apos;s comment above a bit in the PR.  It indeed was a real issue, and happened to be causing some test flakiness issues.  It&apos;s fixed in the commits referenced above. Thanks Rahul!)&lt;/p&gt;</comment>
                            <comment id="18009719" author="houston" created="Thu, 24 Jul 2025 22:50:51 +0000"  >&lt;p&gt;Closing after the 9.9.0 release&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1vrzc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>