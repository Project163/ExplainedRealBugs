<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:43:32 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-14252] NullPointerException in AggregateMetric</title>
                <link>https://issues.apache.org/jira/browse/SOLR-14252</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;The &lt;tt&gt;getMax&lt;/tt&gt; and &lt;tt&gt;getMin&lt;/tt&gt; methods in &lt;a href=&quot;https://github.com/apache/lucene-solr/blob/master/solr/core/src/java/org/apache/solr/metrics/AggregateMetric.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;AggregateMetric&lt;/a&gt; can throw an NPE if non-&lt;tt&gt;Number&lt;/tt&gt; values are present in &lt;tt&gt;values&lt;/tt&gt;, when it tries to cast a &lt;tt&gt;null&lt;/tt&gt; &lt;tt&gt;Double&lt;/tt&gt; to a &lt;tt&gt;double&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;This PR prevents the NPE occurring:&#160;&lt;a href=&quot;https://github.com/apache/lucene-solr/pull/1265&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/lucene-solr/pull/1265&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;(We&apos;ve also noticed an error in the documentation - see &lt;a href=&quot;https://github.com/apache/lucene-solr/commit/109d3411cd3866d83273187170dbc5b8b3211d20&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/lucene-solr/commit/109d3411cd3866d83273187170dbc5b8b3211d20&lt;/a&gt; - this could be pulled out into a separate ticket if necessary?)&lt;/p&gt;</description>
                <environment></environment>
        <key id="13284256">SOLR-14252</key>
            <summary>NullPointerException in AggregateMetric</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ab">Andrzej Bialecki</assignee>
                                    <reporter username="andywebb1975">Andy Webb</reporter>
                        <labels>
                    </labels>
                <created>Mon, 10 Feb 2020 11:32:04 +0000</created>
                <updated>Wed, 27 May 2020 18:05:03 +0000</updated>
                            <resolved>Thu, 27 Feb 2020 14:27:18 +0000</resolved>
                                                    <fixVersion>8.5</fixVersion>
                                    <component>metrics</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="14400">4h</timespent>
                                <comments>
                            <comment id="17040066" author="andywebb1975" created="Wed, 19 Feb 2020 13:56:53 +0000"  >&lt;p&gt;We have this patch working on a non-production system that previously suffered NPEs when the metrics reporter is configured to show e.g. &lt;tt&gt;CACHE\.searcher.*&lt;/tt&gt; which contains both numeric and non-numeric metrics. The output below illustrates how the latter&apos;s aggregations are now zero:&lt;/p&gt;


&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;  ...
  &quot;CACHE.searcher.statsCache.missingGlobalFieldStats&quot;: {
    &quot;count&quot;: 2,
    &quot;max&quot;: 280,
    &quot;min&quot;: 0,
    &quot;mean&quot;: 140,
    &quot;stddev&quot;: 197.9898987322333,
    &quot;sum&quot;: 280,
    &quot;values&quot;: {
      &quot;core_node6&quot;: {
        &quot;value&quot;: 280,
        &quot;updateCount&quot;: 320
      },
      &quot;core_node4&quot;: {
        &quot;value&quot;: 0,
        &quot;updateCount&quot;: 318
      }
    }
  },
  ...
  &quot;CACHE.searcher.statsCache.statsCacheImpl&quot;: {
    &quot;count&quot;: 2,
    &quot;max&quot;: 0,
    &quot;min&quot;: 0,
    &quot;mean&quot;: 0,
    &quot;stddev&quot;: 0,
    &quot;sum&quot;: 0,
    &quot;values&quot;: {
      &quot;core_node6&quot;: {
        &quot;value&quot;: &quot;LocalStatsCache&quot;,
        &quot;updateCount&quot;: 320
      },
      &quot;core_node4&quot;: {
        &quot;value&quot;: &quot;LocalStatsCache&quot;,
        &quot;updateCount&quot;: 318
      }
    }
  },
  ...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17046541" author="jira-bot" created="Thu, 27 Feb 2020 12:00:56 +0000"  >&lt;p&gt;Commit c6bf8b6cec8e09c7c155419173fcfa8aa5f75d51 in lucene-solr&apos;s branch refs/heads/master from Andrzej Bialecki&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=c6bf8b6&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=c6bf8b6&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-14252&quot; title=&quot;NullPointerException in AggregateMetric&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-14252&quot;&gt;&lt;del&gt;SOLR-14252&lt;/del&gt;&lt;/a&gt;: NullPointerException in AggregateMetric.&lt;/p&gt;</comment>
                            <comment id="17046574" author="jira-bot" created="Thu, 27 Feb 2020 12:39:26 +0000"  >&lt;p&gt;Commit ad9b2d2e1994f6cc868444eed9c3438408ef6078 in lucene-solr&apos;s branch refs/heads/branch_8x from Andrzej Bialecki&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=ad9b2d2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=ad9b2d2&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-14252&quot; title=&quot;NullPointerException in AggregateMetric&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-14252&quot;&gt;&lt;del&gt;SOLR-14252&lt;/del&gt;&lt;/a&gt;: NullPointerException in AggregateMetric.&lt;/p&gt;</comment>
                            <comment id="17046671" author="ab" created="Thu, 27 Feb 2020 14:27:18 +0000"  >&lt;p&gt;Thank you Andy!&lt;/p&gt;</comment>
                            <comment id="17046804" author="andywebb1975" created="Thu, 27 Feb 2020 17:08:12 +0000"  >&lt;p&gt;No worries - thank you for picking this up!&lt;/p&gt;

&lt;p&gt;Andy&lt;/p&gt;</comment>
                            <comment id="17065737" author="romseygeek" created="Tue, 24 Mar 2020 12:46:47 +0000"  >&lt;p&gt;Bulk close for 8.5.0 release&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 34 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0bbeo:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>