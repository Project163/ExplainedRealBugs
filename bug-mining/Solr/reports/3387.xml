<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:22:31 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-10489] StatsReloadRaceTest.testParallelReloadAndStats failures</title>
                <link>https://issues.apache.org/jira/browse/SOLR-10489</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;This test has been failing a lot after the changes in &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9959&quot; title=&quot;SolrInfoMBean-s category and hierarchy cleanup&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9959&quot;&gt;&lt;del&gt;SOLR-9959&lt;/del&gt;&lt;/a&gt;, for unclear reasons. The failure is always in the same place:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;java.lang.AssertionError: Key SEARCHER.searcher.indexVersion not found in registry solr.core.collection1
	at __randomizedtesting.SeedInfo.seed([28B54D77FD0E3DF1:E72B284E72FF55AE]:0)
	at org.junit.Assert.fail(Assert.java:93)
	at org.junit.Assert.assertTrue(Assert.java:43)
	at org.apache.solr.handler.admin.StatsReloadRaceTest.requestMetrics(StatsReloadRaceTest.java:132)
	at org.apache.solr.handler.admin.StatsReloadRaceTest.testParallelReloadAndStats(StatsReloadRaceTest.java:70)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13063925">SOLR-10489</key>
            <summary>StatsReloadRaceTest.testParallelReloadAndStats failures</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="ab">Andrzej Bialecki</assignee>
                                    <reporter username="ab">Andrzej Bialecki</reporter>
                        <labels>
                    </labels>
                <created>Thu, 13 Apr 2017 21:04:53 +0000</created>
                <updated>Thu, 14 Nov 2019 20:51:03 +0000</updated>
                            <resolved>Thu, 14 Nov 2019 20:51:03 +0000</resolved>
                                    <version>7.0</version>
                                    <fixVersion>7.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="15968500" author="erickerickson" created="Fri, 14 Apr 2017 02:00:10 +0000"  >&lt;p&gt;Andrzej:&lt;/p&gt;

&lt;p&gt;Note that I also checked in &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10007&quot; title=&quot;Clean up references to CoreContainer and CoreDescriptors&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10007&quot;&gt;&lt;del&gt;SOLR-10007&lt;/del&gt;&lt;/a&gt; yesterday evening and that code &lt;em&gt;definitely&lt;/em&gt; touched the core reload code. This one is on my list as well to investigate tomorrow (traveling today) relative to &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10007&quot; title=&quot;Clean up references to CoreContainer and CoreDescriptors&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10007&quot;&gt;&lt;del&gt;SOLR-10007&lt;/del&gt;&lt;/a&gt;. I have no idea whether the changes for 10007 are really related but I wouldn&apos;t necessarily assume 9959 is responsible.&lt;/p&gt;

&lt;p&gt;BTW, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt;, kudos for the work you did on test failures. It&apos;s waaaaay harder to see a failure that &lt;em&gt;may&lt;/em&gt; be related to something recently changed and say &quot;well, maybe that&apos;s just been failing all along&quot; when I can check the list you put together and not find it.. rats...&lt;/p&gt;</comment>
                            <comment id="15968543" author="markrmiller@gmail.com" created="Fri, 14 Apr 2017 03:03:21 +0000"  >&lt;p&gt;Glad you have found it useful. I&apos;ve had a little break for a variety of reasons, but I&apos;m going to dive back into that very soon.&lt;/p&gt;</comment>
                            <comment id="15969123" author="erickerickson" created="Fri, 14 Apr 2017 15:09:46 +0000"  >&lt;p&gt;I&#8217;m getting about a 1% failure rate on this test &lt;em&gt;and&lt;/em&gt; one of the ones that gave me grief when working on &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10007&quot; title=&quot;Clean up references to CoreContainer and CoreDescriptors&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10007&quot;&gt;&lt;del&gt;SOLR-10007&lt;/del&gt;&lt;/a&gt;. I&#8217;ve backed my local version out to the commit just before &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10007&quot; title=&quot;Clean up references to CoreContainer and CoreDescriptors&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10007&quot;&gt;&lt;del&gt;SOLR-10007&lt;/del&gt;&lt;/a&gt; but including &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9959&quot; title=&quot;SolrInfoMBean-s category and hierarchy cleanup&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9959&quot;&gt;&lt;del&gt;SOLR-9959&lt;/del&gt;&lt;/a&gt; and I&apos;m beasting it now. My guess is that these two tests won&#8217;t fail, but it&#8217;ll take pretty much all day for me to be certain.&lt;/p&gt;

&lt;p&gt;Meanwhile I&apos;ll grab this JIRA since I strongly suspect &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10007&quot; title=&quot;Clean up references to CoreContainer and CoreDescriptors&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10007&quot;&gt;&lt;del&gt;SOLR-10007&lt;/del&gt;&lt;/a&gt;. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ab&quot; class=&quot;user-hover&quot; rel=&quot;ab&quot;&gt;ab&lt;/a&gt; feel free to take it back, at this point it looks like something I introduced though.&lt;/p&gt;

&lt;p&gt;This is the other test that fails for me.&lt;br/&gt;
SolrCloudExampleTest&lt;/p&gt;
</comment>
                            <comment id="15969636" author="erickerickson" created="Fri, 14 Apr 2017 22:36:09 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10007&quot; title=&quot;Clean up references to CoreContainer and CoreDescriptors&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10007&quot;&gt;&lt;del&gt;SOLR-10007&lt;/del&gt;&lt;/a&gt; doesn&apos;t appear to be the culprit. Steve Rowe generously ran 1,000 iterations on his beefy machine with &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10007&quot; title=&quot;Clean up references to CoreContainer and CoreDescriptors&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10007&quot;&gt;&lt;del&gt;SOLR-10007&lt;/del&gt;&lt;/a&gt; rolled back and we&apos;re seeing the same errors. Actually, Steve reports two different ones. The one Andrzej reported above and:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; [junit4]   2&amp;gt; NOTE: reproduce with: ant test  -Dtestcase=StatsReloadRaceTest -Dtests.method=testParallelReloadAndStats -Dtests.seed=76D37F1574FC0FE3 -Dtests.slow=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; -Dtests.locale=es-HN -Dtests.timezone=America/Indiana/Indianapolis -Dtests.asserts=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; -Dtests.file.encoding=US-ASCII
   [junit4] ERROR   3.20s | StatsReloadRaceTest.testParallelReloadAndStats &amp;lt;&amp;lt;&amp;lt;
   [junit4]    &amp;gt; Throwable #1: java.lang.NullPointerException
   [junit4]    &amp;gt;        at __randomizedtesting.SeedInfo.seed([76D37F1574FC0FE3:B94D1A2CFB0D67BC]:0)
   [junit4]    &amp;gt;        at org.apache.solr.handler.admin.StatsReloadRaceTest.requestMetrics(StatsReloadRaceTest.java:120)
   [junit4]    &amp;gt;        at org.apache.solr.handler.admin.StatsReloadRaceTest.testParallelReloadAndStats(StatsReloadRaceTest.java:70)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ab&quot; class=&quot;user-hover&quot; rel=&quot;ab&quot;&gt;ab&lt;/a&gt; I&apos;ll try to assign it back to you. I doubt that there&apos;s a single underlying cause so I&apos;ll raise a separate JIRA for SolrCloudExampleTest as the failures Steve had are significantly different than mine. Unlike the failures for this JIRA, the ones for SolrCloudExample test look more likely to be related to 10007.&lt;/p&gt;</comment>
                            <comment id="15971367" author="erickerickson" created="Mon, 17 Apr 2017 17:29:37 +0000"  >&lt;p&gt;Taking this back. The more I look at the SolrCloudExample test failures the more suspicious I&apos;m getting about &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10007&quot; title=&quot;Clean up references to CoreContainer and CoreDescriptors&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10007&quot;&gt;&lt;del&gt;SOLR-10007&lt;/del&gt;&lt;/a&gt; having some side-effect. I don&apos;t think there&apos;s much point in wasting cycles until I get that straightened out.&lt;/p&gt;</comment>
                            <comment id="15980329" author="mkhludnev" created="Sun, 23 Apr 2017 08:56:33 +0000"  >&lt;p&gt;I&apos;ve got a failure locally. &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  [junit4]   2&amp;gt; 693939 INFO  (TEST-StatsReloadRaceTest.testParallelReloadAndStats-seed#[FD888D7C65C51E79]) [    ] o.a.s.h.a.CoreAdminOperation Checking request status &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; : 1
   [junit4]   2&amp;gt; 693940 INFO  (searcherExecutor-2408-thread-1-processing-x:collection1 1 RELOAD) [    x:collection1] o.a.s.c.SolrCore [collection1] Registered &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; searcher Searcher@6562708c[collection1] main{ExitableDirectoryReader(UninvertingDirectoryReader(Uninverting(_0(7.0.0):C11)))}
   [junit4]   2&amp;gt; 693940 INFO  (parallelCoreAdminExecutor-2401-thread-1-processing-1 RELOAD) [    x:collection1] o.a.s.s.SolrIndexSearcher Opening [Searcher@2851a031[collection1] main]
   [junit4]   2&amp;gt; 693940 INFO  (parallelCoreAdminExecutor-2401-thread-1-processing-1 RELOAD) [    x:collection1] o.a.s.c.SolrCore [collection1]  CLOSING SolrCore org.apache.solr.core.SolrCore@39c5ee88
   [junit4]   2&amp;gt; 693941 INFO  (parallelCoreAdminExecutor-2401-thread-1-processing-1 RELOAD) [    x:collection1] o.a.s.m.SolrMetricManager Closing metric reporters &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; registry=solr.core.collection1, tag=969272968
   [junit4]   2&amp;gt; 693943 INFO  (searcherExecutor-2408-thread-1-processing-x:collection1 1 RELOAD) [    x:collection1] o.a.s.c.SolrCore [collection1] Registered &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; searcher Searcher@2851a031[collection1] main{ExitableDirectoryReader(UninvertingDirectoryReader(Uninverting(_0(7.0.0):C11)))}
   [junit4]   2&amp;gt; 703982 INFO  (TEST-StatsReloadRaceTest.testParallelReloadAndStats-seed#[FD888D7C65C51E79]) [    ] o.a.s.SolrTestCaseJ4 ###Ending testParallelReloadAndStats
   [junit4]   2&amp;gt; NOTE: reproduce with: ant test  -Dtestcase=StatsReloadRaceTest -Dtests.method=testParallelReloadAndStats -Dtests.seed=FD888D7C65C51E79 -Dtests.slow=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; -Dtests.locale=no-NO -Dtests.timezone=Pacific/Fakaofo -Dtests.asserts=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; -Dtests.file.encoding=UTF-8
   [junit4] FAILURE 10.3s J1 | StatsReloadRaceTest.testParallelReloadAndStats &amp;lt;&amp;lt;&amp;lt;
   [junit4]    &amp;gt; Throwable #1: java.lang.AssertionError: Key SEARCHER.searcher.indexVersion not found in registry solr.core.collection1
   [junit4]    &amp;gt; 	at __randomizedtesting.SeedInfo.seed([FD888D7C65C51E79:3216E845EA347626]:0)
   [junit4]    &amp;gt; 	at org.apache.solr.handler.admin.StatsReloadRaceTest.requestMetrics(StatsReloadRaceTest.java:132)
   [junit4]    &amp;gt; 	at org.apache.solr.handler.admin.StatsReloadRaceTest.testParallelReloadAndStats(StatsReloadRaceTest.java:70)
   [junit4]    &amp;gt; 	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The earlier version of this test (&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9330&quot; title=&quot;Race condition between core reload and statistics request&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9330&quot;&gt;&lt;del&gt;SOLR-9330&lt;/del&gt;&lt;/a&gt; see branch_6x) just asserts that there was no exception from the stats call. The current master version asserts that metric is published during core reload in 10 sec. I don&apos;t know about new metrics&apos; design, but earlier there was no such guarantee. I suppose it requires a separate development. &lt;br/&gt;
Here is the proposal: &lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;make parallel checks more opportunistic, just check that there is no exception, and roughly check the version if it exists, but not rely on it.&lt;/li&gt;
	&lt;li&gt;After reload is completed it can make the current strong check, but only if asynchronous listeners don&apos;t delay publishing the metric.&lt;br/&gt;
What do you think about it?  &lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15981199" author="jira-bot" created="Mon, 24 Apr 2017 14:13:20 +0000"  >&lt;p&gt;Commit c09d82e5381a6b328c108c9b755986ddeb801c38 in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ab&quot; class=&quot;user-hover&quot; rel=&quot;ab&quot;&gt;ab&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=c09d82e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=c09d82e&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10489&quot; title=&quot;StatsReloadRaceTest.testParallelReloadAndStats failures&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10489&quot;&gt;&lt;del&gt;SOLR-10489&lt;/del&gt;&lt;/a&gt; Tentative fix for a test failure (Mikhail Khludnev via ab)&lt;/p&gt;</comment>
                            <comment id="15981202" author="ab" created="Mon, 24 Apr 2017 14:13:55 +0000"  >&lt;p&gt;Thanks Mikhail - I pushed a fix along these lines, we&apos;ll see how it goes.&lt;/p&gt;</comment>
                            <comment id="15982886" author="steve_rowe" created="Tue, 25 Apr 2017 13:38:03 +0000"  >&lt;p&gt;My Jenkins got an NPE, doesn&apos;t reproduce for me:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Checking out Revision 680f4d7fd378868254786107de92a894758f667c (refs/remotes/origin/master)
[...]
   [junit4]   2&amp;gt; NOTE: reproduce with: ant test  -Dtestcase=StatsReloadRaceTest -Dtests.method=testParallelReloadAndStats -Dtests.seed=836CBFBDD3BB1223 -Dtests.slow=true -Dtests.locale=tr -Dtests.timezone=Asia/Seoul -Dtests.asserts=true -Dtests.file.encoding=UTF-8
   [junit4] ERROR   0.57s J4  | StatsReloadRaceTest.testParallelReloadAndStats &amp;lt;&amp;lt;&amp;lt;
   [junit4]    &amp;gt; Throwable #1: java.lang.NullPointerException
   [junit4]    &amp;gt; 	at __randomizedtesting.SeedInfo.seed([836CBFBDD3BB1223:4CF2DA845C4A7A7C]:0)
   [junit4]    &amp;gt; 	at org.apache.solr.handler.admin.StatsReloadRaceTest.requestMetrics(StatsReloadRaceTest.java:121)
   [junit4]    &amp;gt; 	at org.apache.solr.handler.admin.StatsReloadRaceTest.testParallelReloadAndStats(StatsReloadRaceTest.java:70)
[...]
   [junit4]   2&amp;gt; NOTE: test params are: codec=Asserting(Lucene70): {name_s=PostingsFormat(name=Memory), range_facet_l_dv=PostingsFormat(name=Memory), multiDefault=PostingsFormat(name=LuceneVarGapDocFreqInterval), intDefault=PostingsFormat(name=MockRandom), id=PostingsFormat(name=Memory), range_facet_i_dv=PostingsFormat(name=LuceneVarGapDocFreqInterval), range_facet_l=PostingsFormat(name=LuceneVarGapDocFreqInterval), timestamp=PostingsFormat(name=LuceneVarGapDocFreqInterval)}, docValues:{range_facet_l_dv=DocValuesFormat(name=Lucene70), _version_=DocValuesFormat(name=Lucene70), range_facet_i_dv=DocValuesFormat(name=Memory), intDvoDefault=DocValuesFormat(name=Lucene70), timestamp=DocValuesFormat(name=Memory)}, maxPointsInLeafNode=857, maxMBSortInHeap=5.619388505700988, sim=RandomSimilarity(queryNorm=true): {}, locale=tr, timezone=Asia/Seoul
   [junit4]   2&amp;gt; NOTE: Linux 4.1.0-custom2-amd64 amd64/Oracle Corporation 1.8.0_77 (64-bit)/cpus=16,threads=1,free=232791432,total=513802240
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15982969" author="mkhludnev" created="Tue, 25 Apr 2017 14:38:03 +0000"  >&lt;p&gt;It needs to be more lenient: whole {{ 120       NamedList metrics = (NamedList)values.get(&quot;metrics&quot;);}} is absent. &lt;/p&gt;</comment>
                            <comment id="15984552" author="jira-bot" created="Wed, 26 Apr 2017 10:33:19 +0000"  >&lt;p&gt;Commit d8ec25bdc53d39ca4539dd251c5ed0bba35e609f in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ab&quot; class=&quot;user-hover&quot; rel=&quot;ab&quot;&gt;ab&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=d8ec25b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=d8ec25b&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10489&quot; title=&quot;StatsReloadRaceTest.testParallelReloadAndStats failures&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10489&quot;&gt;&lt;del&gt;SOLR-10489&lt;/del&gt;&lt;/a&gt;: Fix an occasional NPE.&lt;/p&gt;</comment>
                            <comment id="15984903" author="erickerickson" created="Wed, 26 Apr 2017 14:29:22 +0000"  >&lt;p&gt;I&apos;ll beast this on a new machine we have in the house today and see what falls out...&lt;/p&gt;
</comment>
                            <comment id="15985464" author="erickerickson" created="Wed, 26 Apr 2017 19:54:01 +0000"  >&lt;p&gt;I seem to have gotten 1,000 runs without a failure....&lt;/p&gt;</comment>
                            <comment id="15985543" author="mkhludnev" created="Wed, 26 Apr 2017 20:56:26 +0000"  >&lt;p&gt;now this test is hard to break. &lt;/p&gt;</comment>
                            <comment id="15986155" author="ab" created="Thu, 27 Apr 2017 07:40:26 +0000"  >&lt;blockquote&gt;&lt;p&gt;now this test is hard to break.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I&apos;ll take this as an endorsement &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; - closing this issue. Thanks for your help Mikhail and Erick!&lt;/p&gt;</comment>
                            <comment id="15987772" author="ab" created="Thu, 27 Apr 2017 21:55:07 +0000"  >&lt;p&gt;The failure is back in &lt;a href=&quot;https://jenkins.thetaphi.de/job/Lucene-Solr-master-Linux/19498&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://jenkins.thetaphi.de/job/Lucene-Solr-master-Linux/19498&lt;/a&gt; :&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;ant test  -Dtestcase=StatsReloadRaceTest -Dtests.method=testParallelReloadAndStats -Dtests.seed=2110CF39E198C13E -Dtests.multiplier=3 -Dtests.slow=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; -Dtests.locale=en-SG -Dtests.timezone=Portugal -Dtests.asserts=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; -Dtests.file.encoding=ISO-8859-1
...
   [junit4]   2&amp;gt; 1605512 INFO  (TEST-StatsReloadRaceTest.testParallelReloadAndStats-seed#[2110CF39E198C13E]) [    ] o.a.s.h.a.CoreAdminOperation Checking request status &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; : 4
   [junit4]   2&amp;gt; 1605512 INFO  (searcherExecutor-9273-thread-1-processing-x:collection1 4 RELOAD) [    x:collection1] o.a.s.c.SolrCore [collection1] Registered &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; searcher Searcher@2626ccfe[collection1] main{ExitableDirectoryReader(UninvertingDirectoryReader(Uninverting(_0(7.0.0):c42)))}
   [junit4]   2&amp;gt; 1610519 INFO  (TEST-StatsReloadRaceTest.testParallelReloadAndStats-seed#[2110CF39E198C13E]) [    ] o.a.s.SolrTestCaseJ4 ###Ending testParallelReloadAndStats
   [junit4]   2&amp;gt; NOTE: reproduce with: ant test  -Dtestcase=StatsReloadRaceTest -Dtests.method=testParallelReloadAndStats -Dtests.seed=2110CF39E198C13E -Dtests.multiplier=3 -Dtests.slow=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; -Dtests.locale=en-SG -Dtests.timezone=Portugal -Dtests.asserts=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; -Dtests.file.encoding=ISO-8859-1
   [junit4] FAILURE 5.99s J2 | StatsReloadRaceTest.testParallelReloadAndStats &amp;lt;&amp;lt;&amp;lt;
   [junit4]    &amp;gt; Throwable #1: java.lang.AssertionError: Key SEARCHER.searcher.indexVersion not found in registry solr.core.collection1
   [junit4]    &amp;gt; 	at __randomizedtesting.SeedInfo.seed([2110CF39E198C13E:EE8EAA006E69A961]:0)
   [junit4]    &amp;gt; 	at org.apache.solr.handler.admin.StatsReloadRaceTest.requestMetrics(StatsReloadRaceTest.java:143)
   [junit4]    &amp;gt; 	at org.apache.solr.handler.admin.StatsReloadRaceTest.testParallelReloadAndStats(StatsReloadRaceTest.java:77)
   [junit4]    &amp;gt; 	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
   [junit4]   2&amp;gt; 1610520 INFO  (SUITE-StatsReloadRaceTest-seed#[2110CF39E198C13E]-worker) [    ] o.a.s.SolrTestCaseJ4 ###deleteCore
   [junit4]   2&amp;gt; 1610520 INFO  (SUITE-StatsReloadRaceTest-seed#[2110CF39E198C13E]-worker) [    ] o.a.s.c.CoreContainer Shutting down CoreContainer instance=1177008470
   [junit4]   2&amp;gt; 1610521 INFO  (SUITE-StatsReloadRaceTest-seed#[2110CF39E198C13E]-worker) [    ] o.a.s.m.SolrMetricManager Closing metric reporters &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; registry=solr.node, tag=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
   [junit4]   2&amp;gt; 1610521 INFO  (SUITE-StatsReloadRaceTest-seed#[2110CF39E198C13E]-worker) [    ] o.a.s.m.SolrMetricManager Closing metric reporters &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; registry=solr.jvm, tag=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
   [junit4]   2&amp;gt; 1610522 INFO  (SUITE-StatsReloadRaceTest-seed#[2110CF39E198C13E]-worker) [    ] o.a.s.m.SolrMetricManager Closing metric reporters &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; registry=solr.jetty, tag=&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
   [junit4]   2&amp;gt; 1610522 INFO  (SUITE-StatsReloadRaceTest-seed#[2110CF39E198C13E]-worker) [    ] o.a.s.c.TransientSolrCoreCacheDefault Allocating &lt;span class=&quot;code-keyword&quot;&gt;transient&lt;/span&gt; cache &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; 2147483647 &lt;span class=&quot;code-keyword&quot;&gt;transient&lt;/span&gt; cores
   [junit4]   2&amp;gt; 1610523 INFO  (coreCloseExecutor-9277-thread-1) [    x:collection1] o.a.s.c.SolrCore [collection1]  CLOSING SolrCore org.apache.solr.core.SolrCore@6530abfb
   [junit4]   2&amp;gt; 1610524 INFO  (coreCloseExecutor-9277-thread-1) [    x:collection1] o.a.s.m.SolrMetricManager Closing metric reporters &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; registry=solr.core.collection1, tag=1697688571
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16042395" author="mkhludnev" created="Thu, 8 Jun 2017 08:13:41 +0000"  >&lt;p&gt;&lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12872018/12872018_19806.txt&quot; title=&quot;19806.txt attached to SOLR-10489&quot;&gt;19806.txt&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; &lt;a href=&quot;https://jenkins.thetaphi.de/job/Lucene-Solr-master-Linux/19806/consoleFull&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://jenkins.thetaphi.de/job/Lucene-Solr-master-Linux/19806/consoleFull&lt;/a&gt; I don&apos;t take it seriously, yet. &lt;/p&gt;</comment>
                            <comment id="16974594" author="ab" created="Thu, 14 Nov 2019 20:51:03 +0000"  >&lt;p&gt;This failure doesn&apos;t reproduce anymore. It was likely related to problems with gauge registration / unregistration races, eventually fixed in &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13677&quot; title=&quot;All Metrics Gauges should be unregistered by components that registered them&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13677&quot;&gt;&lt;del&gt;SOLR-13677&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12991887">SOLR-9330</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12872018" name="19806.txt" size="255452" author="mkhl" created="Thu, 8 Jun 2017 08:13:41 +0000"/>
                            <attachment id="12865477" name="SOLR-10489.comeback.log" size="631304" author="mkhl" created="Fri, 28 Apr 2017 08:15:14 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3dm1b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>