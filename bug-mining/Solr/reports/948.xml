<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:28:39 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-3377] eDismax: A fielded query wrapped by parens is not recognized</title>
                <link>https://issues.apache.org/jira/browse/SOLR-3377</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;As reported by &quot;bernd&quot; on the user list, a query like this&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;q=(name:test)&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;will yield 0 hits in 3.6 while it worked in 3.5. It works without the parens.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12551552">SOLR-3377</key>
            <summary>eDismax: A fielded query wrapped by parens is not recognized</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="yseeley@gmail.com">Yonik Seeley</assignee>
                                    <reporter username="janhoy">Jan H&#248;ydahl</reporter>
                        <labels>
                    </labels>
                <created>Wed, 18 Apr 2012 23:44:02 +0000</created>
                <updated>Mon, 11 Nov 2013 11:10:30 +0000</updated>
                            <resolved>Fri, 13 Jul 2012 08:38:12 +0000</resolved>
                                    <version>3.6</version>
                                    <fixVersion>4.0-BETA</fixVersion>
                                    <component>query parsers</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="13257094" author="janhoy" created="Wed, 18 Apr 2012 23:48:23 +0000"  >&lt;p&gt;The query is parsed into:&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;+(id:name:test^10.0 | text:name:test^0.5 | cat:name:test^1.4 | manu:name:test^1.1 | name:name:test^1.2 | features:name:test | sku:nametest^1.5)&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;suggesting that eDismax falls back to literal matching because the field name (name is not found. Perhaps introduced by &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-3026&quot; title=&quot;eDismax: Locking down which fields can be explicitly queried (user fields aka uf)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-3026&quot;&gt;&lt;del&gt;SOLR-3026&lt;/del&gt;&lt;/a&gt;?&lt;/p&gt;

&lt;p&gt;A temporary workaround seems to be to insert a space before all field names:&lt;/p&gt;

&lt;p&gt;q=&lt;tt&gt;( name:test )&lt;/tt&gt;&lt;/p&gt;</comment>
                            <comment id="13257111" author="janhoy" created="Thu, 19 Apr 2012 00:30:00 +0000"  >&lt;p&gt;This first patch only reproduces the bug with a failing unit test&lt;/p&gt;</comment>
                            <comment id="13257334" author="befehl" created="Thu, 19 Apr 2012 07:25:26 +0000"  >&lt;p&gt;A suggestion, how would it be to do a simple &quot;cleanup&quot; as a first step of query string handling by removing the outermost parantheses (if there are any)?&lt;br/&gt;
This won&apos;t touch the inner edismax logic and produce another bad sideeffect.&lt;/p&gt;</comment>
                            <comment id="13262578" author="befehl" created="Thu, 26 Apr 2012 12:49:06 +0000"  >&lt;p&gt;I have enhanced the test a bit more and supplied a patch which works.&lt;br/&gt;
It also passes all other tests.&lt;/p&gt;

&lt;p&gt;Please test and give feedback.&lt;/p&gt;</comment>
                            <comment id="13263161" author="janhoy" created="Thu, 26 Apr 2012 21:33:03 +0000"  >&lt;p&gt;Tried the patch, it fails one of the existing tests for me @ TestExtendedDismaxParser.java:164, the query is&lt;br/&gt;
&lt;tt&gt;star OR (-star)&lt;/tt&gt;&lt;br/&gt;
Does this test pass for you?&lt;/p&gt;</comment>
                            <comment id="13263654" author="befehl" created="Fri, 27 Apr 2012 13:46:55 +0000"  >&lt;p&gt;You&apos;re right.&lt;br/&gt;
New patch is doing the job now but I&apos;m not very happy with it.&lt;/p&gt;

&lt;p&gt;The patch should be a more general solution but this is currently a specific solution.&lt;/p&gt;

&lt;p&gt;At least it does not change the original query as a replacement from &quot;(&quot; to &quot;( + space&quot; would do.&lt;/p&gt;</comment>
                            <comment id="13264726" author="befehl" created="Mon, 30 Apr 2012 08:29:43 +0000"  >&lt;p&gt;Now this is a general patch which passes all tests.&lt;br/&gt;
It can handle one or more parentheses directly before a valid field name.&lt;/p&gt;

&lt;p&gt;Please test and give feedback.&lt;/p&gt;</comment>
                            <comment id="13272268" author="befehl" created="Thu, 10 May 2012 12:02:50 +0000"  >&lt;p&gt;If there are no further complains about the patch can it then be committed to 3.6.1 / trunk and the issue closed?&lt;/p&gt;

&lt;p&gt;Who is doing the commit / has the permissions to commit?&lt;/p&gt;</comment>
                            <comment id="13272293" author="janhoy" created="Thu, 10 May 2012 12:55:57 +0000"  >&lt;p&gt;I think we need better test coverage before this is ready.&lt;br/&gt;
We should add a bunch of tests with queries involving parens, to verify that they behave as expected. Both tests involving parens as intended grouping for boolean precedence as well as parens not intended as boolean sugar but as plain text pasted from somewhere:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;q=(foo OR title:bar) AND (title:foo OR bar)
q=Meeting at noon (room:Auditorium)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The first should obey the instructed boolean order, while the last should return docs with the literal token &quot;room:Autirium&quot; in any of the qf fields.&lt;/p&gt;

&lt;p&gt;The key goal of dismax is to be very robust so people can paste in all kind of garbage, and get matches. So if the query parses as valid boolean logic, that should be used.&lt;/p&gt;</comment>
                            <comment id="13273099" author="befehl" created="Fri, 11 May 2012 07:22:38 +0000"  >&lt;p&gt;Shoot me an enhanced unit test which covers your requests and i will look into this.&lt;/p&gt;

&lt;p&gt;But, while looking through all the test cases I think we really need a clear definition of rules and define a BNF syntax description for edismax and then implement the BNF syntax. This has two advantages, the user knows how to construct a valid query and we can clean up the patch work inside edismax. This can also obey fallback mechanism to always return a valid query.&lt;br/&gt;
How about that?&lt;/p&gt;</comment>
                            <comment id="13406478" author="janhoy" created="Wed, 4 Jul 2012 12:30:30 +0000"  >&lt;p&gt;Have not time to work on this for the next few months, so unassigning for now&lt;/p&gt;</comment>
                            <comment id="13406796" author="jkrupan" created="Thu, 5 Jul 2012 00:37:41 +0000"  >&lt;p&gt;This seems like a rather serious bug to me, quite a black eye for Solr 3.6. There must be some committer willing to commit the proposed patch.&lt;/p&gt;</comment>
                            <comment id="13406866" author="befehl" created="Thu, 5 Jul 2012 06:09:54 +0000"  >&lt;p&gt;I was willing to supply a final fix to this and was hoping that it will make it to release 4.x.&lt;br/&gt;
But unfortunately:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;I got no enhanced unit test&lt;/li&gt;
	&lt;li&gt;noone comitted this/my patch either&lt;/li&gt;
	&lt;li&gt;the problem is still there&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;So I said &quot;was willing&quot;, thats true, I gave up on this and thinking now about switching to ElasticSearch because they really appreciate any help.&lt;/p&gt;</comment>
                            <comment id="13406923" author="janhoy" created="Thu, 5 Jul 2012 09:05:14 +0000"  >&lt;p&gt;Bernd, I agree that this is a bug that absolutely should be fixed.&lt;/p&gt;

&lt;p&gt;I have followed it through this far but have not yet had the chance to go the last mile until committing, but I am definitely keen to pick it up again after summer holidays and parental leave, hopefully before. The reason I unassigned myself is to signal to the other committers that I&apos;m not actively working on this and let others step in if they wish.&lt;/p&gt;

&lt;p&gt;This is the way Apache works - we are all volunteers, and I am sure that with some patience this will make it through in time for 4.0 final. You&apos;ve done a great job so far with the patch. It may be &quot;final&quot; and good to go, but personally I&apos;d write some more tests since this particular area has been lacking - before committing.&lt;/p&gt;</comment>
                            <comment id="13406926" author="janhoy" created="Thu, 5 Jul 2012 09:07:36 +0000"  >&lt;p&gt;Upgrading priority to signal the severity - i.e. a valid user query may return 0 hits, which may be pretty critical for some.&lt;/p&gt;</comment>
                            <comment id="13411542" author="yseeley@gmail.com" created="Wed, 11 Jul 2012 14:12:01 +0000"  >&lt;p&gt;I took a quick look at the current edismax code.&lt;br/&gt;
The major flaw seems to be the attempt to check user fields in splitIntoClauses().  That method was never meant to be an exact replication of Lucene query parsing.  Is there a reason we aren&apos;t checking user fields in the parser itself (the ExtendedSolrQueryParser.getFieldQuery)?&lt;/p&gt;

&lt;p&gt;edit: thinking a little more about it, I guess one reason is so whitespace or other potentially significant syntax isn&apos;t discarded?&lt;/p&gt;</comment>
                            <comment id="13412204" author="hossman" created="Wed, 11 Jul 2012 22:26:19 +0000"  >&lt;p&gt;bulk fixing the version info for 4.0-ALPHA and 4.0 all affected issues have &quot;hoss20120711-bulk-40-change&quot; in comment&lt;/p&gt;</comment>
                            <comment id="13412920" author="yseeley@gmail.com" created="Thu, 12 Jul 2012 16:36:32 +0000"  >&lt;p&gt;Thanks Bernd, this looks like an improvement.&lt;br/&gt;
After some ad-hoc testing, it seems we still have problems with q=(+id:42)&lt;/p&gt;

&lt;p&gt;Another minor concern: the change to clause.field to exclude things like &apos;(&apos; also means that when it&apos;s not a valid lucene query, our reconstructed query will currently drop the paren.&lt;/p&gt;

&lt;p&gt;Example: A query of (a:b with a qf=id correctly produces id:&quot;(a:b&quot;&lt;br/&gt;
but a query of (id:b produces id:b&lt;br/&gt;
That type of thing should really only affect exact match type fields where punctuation isn&apos;t dropped - not sure how much of an issue it really is.&lt;/p&gt;</comment>
                            <comment id="13413585" author="yseeley@gmail.com" created="Fri, 13 Jul 2012 08:38:12 +0000"  >&lt;p&gt;I fixed the issue with +,- and committed to trunk and 4x&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1361091&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1361091&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;note: I&apos;ll start adding the commit URL since JIRA is not currently linking up the commit automatically.&lt;/p&gt;</comment>
                            <comment id="13433784" author="jkrupan" created="Tue, 14 Aug 2012 00:34:42 +0000"  >&lt;p&gt;Checking CHANGES.TXT and the revision history, I don&apos;t think this fix got backported to 3.6.1 when it was backported to 4.x. I would lobby for it to be included in 3.6.2 since it is such a serious problem.&lt;/p&gt;</comment>
                            <comment id="13471685" author="elyograg" created="Mon, 8 Oct 2012 17:29:31 +0000"  >&lt;p&gt;I have come across something similar to this in Solr 3.5.0.  I am wondering if this problem is fixed by this issue in the upcoming 4.0.  I don&apos;t have a 4.0 index at the moment that I can test on.&lt;/p&gt;

&lt;p&gt;query:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;((feature:depphotos) OR (feature:glowimages) OR (feature:ipurestockx)  (Kitchen))
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;handler definition:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;defType&quot;&lt;/span&gt;&amp;gt;edismax&amp;lt;/str&amp;gt;
    &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;echoParams&quot;&lt;/span&gt;&amp;gt;all&amp;lt;/str&amp;gt;
    &amp;lt;&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;rows&quot;&lt;/span&gt;&amp;gt;70&amp;lt;/&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;&amp;gt;
    &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;shards&quot;&lt;/span&gt;&amp;gt;idxa2.REDACTED.com:8981/solr/inclive,idxa1.REDACTED.com:8981/solr/s0live,idxa1.REDACTED.com:8981/solr/s1live,idxa1.REDACTED.com:8981/solr/s2live,idxa2.REDACTED.com:8981/solr/s3live,idxa2.REDACTED.com:8981/solr/s4live,idxa2.REDACTED.com:8981/solr/s5live&amp;lt;/str&amp;gt;
    &amp;lt;&lt;span class=&quot;code-object&quot;&gt;float&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;tie&quot;&lt;/span&gt;&amp;gt;0.1&amp;lt;/&lt;span class=&quot;code-object&quot;&gt;float&lt;/span&gt;&amp;gt;
    &amp;lt;&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;qs&quot;&lt;/span&gt;&amp;gt;3&amp;lt;/&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;&amp;gt;
    &amp;lt;&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;ps&quot;&lt;/span&gt;&amp;gt;3&amp;lt;/&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;&amp;gt;
    &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;qf&quot;&lt;/span&gt;&amp;gt;catchall&amp;lt;/str&amp;gt;
    &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;pf&quot;&lt;/span&gt;&amp;gt;catchall^2&amp;lt;/str&amp;gt;
    &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;boost&quot;&lt;/span&gt;&amp;gt;
      recip(ms(NOW/DAY,pd),3.16e-11,1,1)
    &amp;lt;/str&amp;gt;
    &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;fl&quot;&lt;/span&gt;&amp;gt;score,*&amp;lt;/str&amp;gt;
    &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;mm&quot;&lt;/span&gt;&amp;gt;100%&amp;lt;/str&amp;gt;
    &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;q.alt&quot;&lt;/span&gt;&amp;gt;*:*&amp;lt;/str&amp;gt;
    &amp;lt;bool name=&lt;span class=&quot;code-quote&quot;&gt;&quot;lowercaseOperators&quot;&lt;/span&gt;&amp;gt;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&amp;lt;/bool&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;parsedquery_toString:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;boost(+(feature:depphotos feature:glowimages feature:ipurestockx (catchall:kitchen)~0.1) (catchall:&lt;span class=&quot;code-quote&quot;&gt;&quot;(feature:depphotos feature) depphotos (feature:glowimages feature) glowimages (feature:ipurestockx feature) ipurestockx kitchen&quot;&lt;/span&gt;~3^2.0)~0.1,1.0/(3.16E-11*&lt;span class=&quot;code-object&quot;&gt;float&lt;/span&gt;(ms(&lt;span class=&quot;code-keyword&quot;&gt;const&lt;/span&gt;(1349654400000),date(pd)))+1.0))
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Adding some spaces fixes it:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;(( feature:depphotos ) OR ( feature:glowimages ) OR ( feature:ipurestockx )  (Kitchen))
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;becomes:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;boost(+(feature:depphotos feature:glowimages feature:ipurestockx (catchall:kitchen)~0.1) (),1.0/(3.16E-11*&lt;span class=&quot;code-object&quot;&gt;float&lt;/span&gt;(ms(&lt;span class=&quot;code-keyword&quot;&gt;const&lt;/span&gt;(1349654400000),date(pd)))+1.0))
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It also suffers from the problem where the default operator (AND in our case) is ignored, but I believe that issue is already filed.&lt;/p&gt;</comment>
                            <comment id="13471689" author="elyograg" created="Mon, 8 Oct 2012 17:40:51 +0000"  >&lt;p&gt;I have the relevant pieces of schema.xml ready to include, but I will wait until I know whether this is the appropriate issue, or a new issue should be filed.&lt;/p&gt;</comment>
                            <comment id="13473024" author="elyograg" created="Wed, 10 Oct 2012 06:23:22 +0000"  >&lt;p&gt;I confirmed (using the solr example) that 4.0-BETA and lucene_solr_4_0 can parse a query similar to my test query perfectly.  Query URL created by filling out the admin query interface:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://server:8983/solr/collection1/select?q=((cat%3Astring1)+OR+(cat%3Astring2)+OR+(cat%3Astring3)+(Kitchen+Sink))&amp;amp;wt=xml&amp;amp;debugQuery=true&amp;amp;defType=edismax&amp;amp;qf=text&amp;amp;pf=text%5E2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://server:8983/solr/collection1/select?q=((cat%3Astring1)+OR+(cat%3Astring2)+OR+(cat%3Astring3)+(Kitchen+Sink))&amp;amp;wt=xml&amp;amp;debugQuery=true&amp;amp;defType=edismax&amp;amp;qf=text&amp;amp;pf=text%5E2&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13505370" author="maylein" created="Wed, 28 Nov 2012 11:18:16 +0000"  >&lt;p&gt;I do not agree that this issue is solved.&lt;/p&gt;

&lt;p&gt;I&apos;ve tried the following combination with SOLR 4.0.0&lt;/p&gt;

&lt;p&gt;q: +sw(a b) +ti:(c d)&lt;br/&gt;
qf: freitext exttext^0.5&lt;br/&gt;
pf: freitext^6 exttext^3&lt;/p&gt;

&lt;p&gt;The result is:&lt;/p&gt;

&lt;p&gt;&amp;lt;str name=&quot;rawquerystring&quot;&amp;gt;+sw:(a b) +ti:(c d)&amp;lt;/str&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;str name=&quot;querystring&quot;&amp;gt;+sw:(a b) +ti:(c d)&amp;lt;/str&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;str name=&quot;parsedquery&quot;&amp;gt;(&lt;ins&gt;(&lt;/ins&gt;(sw:a sw:b) +(ti:c ti:d)) DisjunctionMaxQuery((freitext:&quot;b d&quot;^6.0)) DisjunctionMaxQuery((exttext:&quot;b d&quot;^3.0)))/no_coord&amp;lt;/str&amp;gt;&lt;/p&gt;

&lt;p&gt;There should be no splitting on the qf/pf fields and therefore no DisjunctionMaxQueries.&lt;/p&gt;

&lt;p&gt;The query &apos;+(sw:a sw:b) +(ti:c ti:d)&apos; works as expected.&lt;/p&gt;</comment>
                            <comment id="13505453" author="jkrupan" created="Wed, 28 Nov 2012 14:00:19 +0000"  >&lt;p&gt;Leonhard, your use case seems rather different from that of this Jira.&lt;/p&gt;

&lt;p&gt;I presume that you are referring to the generated phrase query boost being a little odd, or maybe that the phrase boost should not occur when the terms are queried against fields not listed in the &quot;pf&quot; parameter. Feel free to raise that as a separate issue.&lt;/p&gt;

&lt;p&gt;You refer to &quot;splitting&quot;, but I don&apos;t see any term splitting in this example.&lt;/p&gt;</comment>
                            <comment id="13505554" author="maylein" created="Wed, 28 Nov 2012 15:35:18 +0000"  >&lt;p&gt;Ok, I understand.&lt;br/&gt;
The phrase boost queries are separated from the normal query expansion via the qf paramter.&lt;/p&gt;

&lt;p&gt;But, all terms are (equally) qualified by a field (field sw for the terms a and b, field ti for the terms c and d).&lt;br/&gt;
Why do the eDismax handler only use the terms b and d to build the phrase boost query?&lt;br/&gt;
Isn&apos;t it a bug?&lt;/p&gt;
</comment>
                            <comment id="13505623" author="jkrupan" created="Wed, 28 Nov 2012 16:29:35 +0000"  >&lt;p&gt;Yes, it looks like a bug, but distinct from this current Jira. Actually, two bugs:&lt;/p&gt;

&lt;p&gt;1. Fielded terms should not be used in phrase boost except for the specified field.&lt;br/&gt;
2. Some terms appear to have been skipped for phrase boost.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12478788">SOLR-2209</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12603534">SOLR-3729</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12611126">SOLR-3923</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12678552">SOLR-5435</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12525046" name="SOLR-3377.patch" size="2101" author="befehl" created="Mon, 30 Apr 2012 08:29:43 +0000"/>
                            <attachment id="12524858" name="SOLR-3377.patch" size="2029" author="befehl" created="Fri, 27 Apr 2012 13:46:55 +0000"/>
                            <attachment id="12524431" name="SOLR-3377.patch" size="2406" author="befehl" created="Thu, 26 Apr 2012 12:49:05 +0000"/>
                            <attachment id="12523280" name="SOLR-3377.patch" size="636" author="janhoy" created="Thu, 19 Apr 2012 00:30:00 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>236360</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 51 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i03f1b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>17869</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>