<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 05:11:20 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-17515] Recovery fails in Solr 9.7.0 if basic-auth is enabled</title>
                <link>https://issues.apache.org/jira/browse/SOLR-17515</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;Several reporters on the users@ list, recently shared a bug they noticed on upgrading to Solr 9.7.  Replicas would try to recover, but fail with a NullPointerException:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2024-09-18 09:36:31.238 ERROR (recoveryExecutor-12-thread-1-processing-fts06.host.internal:8983_solr dovecot_fts_shard5_replica_n61 dovecot_fts shard5 core_node62) [c:dovecot_fts s:shard5 r:core_node62 x:dovecot_fts_shard5_replica_n61 t:] o.a.s.c.RecoveryStrategy Error &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; trying to recover. core=dovecot_fts_shard5_replica_n61 =&amp;gt; java.lang.NullPointerException: Cannot invoke &lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.solr.client.solrj.impl.AuthenticationStoreHolder.updateAuthenticationStore(org.eclipse.jetty.client.api.AuthenticationStore)&quot;&lt;/span&gt; because &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.authenticationStore&quot;&lt;/span&gt; is &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
	at org.apache.solr.client.solrj.impl.Http2SolrClient.setAuthenticationStore(Http2SolrClient.java:318)
java.lang.NullPointerException: Cannot invoke &lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.solr.client.solrj.impl.AuthenticationStoreHolder.updateAuthenticationStore(org.eclipse.jetty.client.api.AuthenticationStore)&quot;&lt;/span&gt; because &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.authenticationStore&quot;&lt;/span&gt; is &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
	at org.apache.solr.client.solrj.impl.Http2SolrClient.setAuthenticationStore(Http2SolrClient.java:318) ~[solr-solrj-9.7.0.jar:9.7.0 675a41516e3f3bacfc975590773e7abdca444ff4 - anshum - 2024-09-03 15:05:20]
	at org.apache.solr.client.solrj.impl.PreemptiveBasicAuthClientBuilderFactory.setup(PreemptiveBasicAuthClientBuilderFactory.java:97) ~[solr-solrj-9.7.0.jar:9.7.0 675a41516e3f3bacfc975590773e7abdca444ff4 - anshum - 2024-09-03 15:05:20]
	at org.apache.solr.client.solrj.impl.PreemptiveBasicAuthClientBuilderFactory.setup(PreemptiveBasicAuthClientBuilderFactory.java:85) ~[solr-solrj-9.7.0.jar:9.7.0 675a41516e3f3bacfc975590773e7abdca444ff4 - anshum - 2024-09-03 15:05:20]
	at org.apache.solr.client.solrj.impl.Http2SolrClient$Builder.httpClientBuilderSetup(Http2SolrClient.java:1093) ~[solr-solrj-9.7.0.jar:9.7.0 675a41516e3f3bacfc975590773e7abdca444ff4 - anshum - 2024-09-03 15:05:20]
	at org.apache.solr.client.solrj.impl.Http2SolrClient$Builder.build(Http2SolrClient.java:1062) ~[solr-solrj-9.7.0.jar:9.7.0 675a41516e3f3bacfc975590773e7abdca444ff4 - anshum - 2024-09-03 15:05:20]
	at org.apache.solr.cloud.RecoveryStrategy.sendPrepRecoveryCmd(RecoveryStrategy.java:907) ~[solr-core-9.7.0.jar:9.7.0 675a41516e3f3bacfc975590773e7abdca444ff4 - anshum - 2024-09-03 15:05:20]
	at org.apache.solr.cloud.RecoveryStrategy.doSyncOrReplicateRecovery(RecoveryStrategy.java:633) ~[solr-core-9.7.0.jar:9.7.0 675a41516e3f3bacfc975590773e7abdca444ff4 - anshum - 2024-09-03 15:05:20]
	at org.apache.solr.cloud.RecoveryStrategy.doRecovery(RecoveryStrategy.java:333) ~[solr-core-9.7.0.jar:9.7.0 675a41516e3f3bacfc975590773e7abdca444ff4 - anshum - 2024-09-03 15:05:20]
	at org.apache.solr.cloud.RecoveryStrategy.run(RecoveryStrategy.java:309) ~[solr-core-9.7.0.jar:9.7.0 675a41516e3f3bacfc975590773e7abdca444ff4 - anshum - 2024-09-03 15:05:20]
        ...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It turns out that the issue isn&apos;t specific to upgrading clusters: &lt;b&gt;any 9.7.0 cluster (new or existing/upgrading) that uses basic-auth will hit this NPE on during replica recovery&lt;/b&gt;.  The result is that replicas will fail to recover, and sit marked as &quot;recovering&quot; indefinitely.&lt;/p&gt;

&lt;p&gt;The issue can be reproduced locally in a source-checkout using the following steps:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
git checkout branch_9_7
./gradlew clean assemble
cd solr/packaging/build/solr-9.7.0-SNAPSHOT

# At prompts, I chose: 4 nodes, &lt;span class=&quot;code-quote&quot;&gt;&quot;gettingstarted&quot;&lt;/span&gt;, 1 shard, 2 replicas, &lt;span class=&quot;code-quote&quot;&gt;&quot;_default&quot;&lt;/span&gt; configset
bin/solr start -e cloud

bin/solr post -c gettingstarted example/exampledocs/books.json
# Stop the node containing the non-leader replica
bin/solr stop -p &amp;lt;port&amp;gt;
bin/solr post -c gettingstarted example/exampledocs/books.csv

# Enable auth and trigger recovery by turning the node back on
bin/solr auth enable -type basicAuth -credentials solr:solrRocks -blockUnknown &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
# This line will need tweaked based on which Solr node was previously stopped
&lt;span class=&quot;code-quote&quot;&gt;&quot;bin/solr&quot;&lt;/span&gt; start --cloud -p &amp;lt;port&amp;gt; -s &lt;span class=&quot;code-quote&quot;&gt;&quot;example/cloud/&amp;lt;node&amp;gt;/solr&quot;&lt;/span&gt; -z 127.0.0.1:9983
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13596740">SOLR-17515</key>
            <summary>Recovery fails in Solr 9.7.0 if basic-auth is enabled</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gerlowskija">Jason Gerlowski</assignee>
                                    <reporter username="gerlowskija">Jason Gerlowski</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Fri, 25 Oct 2024 14:10:30 +0000</created>
                <updated>Fri, 18 Apr 2025 18:14:50 +0000</updated>
                            <resolved>Wed, 30 Oct 2024 10:45:58 +0000</resolved>
                                    <version>9.7</version>
                                    <fixVersion>9.8</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="3000">50m</timespent>
                                <comments>
                            <comment id="17892821" author="gerlowskija" created="Fri, 25 Oct 2024 14:12:29 +0000"  >&lt;p&gt;Credit and thanks to Patrik Peng and Endika Posadas for &lt;a href=&quot;https://lists.apache.org/thread/jhs7lkg942nxg2hlb879k6tc832yhm06&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;reporting this on the users list&lt;/a&gt;!&lt;/p&gt;

&lt;p&gt;This seems like a pretty serious bug: perhaps worth a 9.7.1?&lt;/p&gt;</comment>
                            <comment id="17892831" author="gerlowskija" created="Fri, 25 Oct 2024 14:47:05 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sanjaydutt&quot; class=&quot;user-hover&quot; rel=&quot;sanjaydutt&quot;&gt;sanjaydutt&lt;/a&gt; pointed me at the likely culprit:&lt;/p&gt;

&lt;p&gt;At various points, the RecoveryStrategy code bootstraps a new Http2SolrClient based on an existing one.  But this bootstrapping overlooks the &apos;authenticationStore&apos; object from the existing client, which results in a NPE when code later on expects it to be set.  The place to fix this is &lt;em&gt;probably&lt;/em&gt; in the &quot;withHttpClient&quot; builder method used by RecoveryStrategy (see the calling snippet below):&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;RecoveryStrategy#recoverySolrClientBuilder&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; Http2SolrClient.Builder recoverySolrClientBuilder(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; baseUrl, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; leaderCoreName) {
    &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; UpdateShardHandlerConfig cfg = cc.getConfig().getUpdateShardHandlerConfig();
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Http2SolrClient.Builder(baseUrl)
        .withDefaultCollection(leaderCoreName)
        .withHttpClient(cc.getUpdateShardHandler().getRecoveryOnlyHttpClient());
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17892962" author="JIRAUSER305513" created="Fri, 25 Oct 2024 17:27:05 +0000"  >&lt;p&gt;Thank you so much &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gerlowskija&quot; class=&quot;user-hover&quot; rel=&quot;gerlowskija&quot;&gt;gerlowskija&lt;/a&gt; for reproducing it and providing all the details. Though I am bit confused with all the different auth mechanism we have in place. Even last time two auth cases found for which new test case were added. Clearly, more test cases are required. Going to work on this one unless you are already on it.&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17892967" author="JIRAUSER305513" created="Fri, 25 Oct 2024 17:53:03 +0000"  >&lt;p&gt;We both updated it same time. That&apos;s great! Yes go ahead and take it, and meanwhile I will try to see If why my old test case were not able to caught this one, and try to update them.&#160;&lt;/p&gt;</comment>
                            <comment id="17893500" author="gerlowskija" created="Mon, 28 Oct 2024 15:33:16 +0000"  >&lt;p&gt;Alright, a few updates:&lt;/p&gt;

&lt;p&gt;&lt;b&gt;First, a workaround!&lt;/b&gt;  The NPE reported above triggers when using &apos;PreemptiveBasicAuthClientBuilderFactory&apos; to initialize a nascent Http2SolrClient.  PreemptiveBasicAuthClientBuilderFactory is frequently useful on the client-side and in &quot;standalone&quot; Solr setups.  But it&apos;s not strictly needed on nodes running SolrCloud, which will either use PKI or forward user-provided credentials on any internode requests.&lt;/p&gt;

&lt;p&gt;So SolrCloud users at least can prevent this NPE by ensuring the &apos;solr.httpclient.builder.factory&apos; system property is not set on their Solr nodes.  (This system property is set by the &quot;bin/solr&quot; startup script itself if &quot;SOLR_AUTH_TYPE&quot; is specified in &quot;solr.in.sh&quot;, so removing the SOLR_AUTH_TYPE env-var will also help prevent Solr nodes from using PremeptiveBasicAuthClientBuilderFactory.)&lt;/p&gt;

&lt;p&gt;While this workaround seems effective in preliminary testing - the underlying bug (i.e. that Http2SolrClient doesn&apos;t always initialize its &quot;authenticationStore&quot;) still remains on 9.7, so this workaround may not solve all problems.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Second, a note on testing&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;Solr has a number of tests that cover basic-auth and recovery together, so this bug has been a bit confounding: why didn&apos;t our existing tests catch this issue?  The workaround above points towards the answer: the bug relies on a sysprop that&apos;s frequently set by the &quot;bin/solr&quot; scripts, but not set in our Java-based tests.  So this bug is another victim of the &quot;fidelity gap&quot; between how we test Solr and how it is deployed by users.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Third, a prospective fix&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;I&apos;ve created a PR &lt;a href=&quot;https://github.com/apache/solr/pull/2802&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;here&lt;/a&gt;, which aims to fix the initialization bug in Http2SolrClient.  It also strengthens some existing tests so that they reproduce the NPE when this fix is not in place.&lt;/p&gt;</comment>
                            <comment id="17893950" author="jira-bot" created="Tue, 29 Oct 2024 18:15:27 +0000"  >&lt;p&gt;Commit 700d2f2291030c0eade9b20004fdd428e633b7c1 in solr&apos;s branch refs/heads/main from Jason Gerlowski&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=700d2f22910&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=700d2f22910&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-17515&quot; title=&quot;Recovery fails in Solr 9.7.0 if basic-auth is enabled&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-17515&quot;&gt;&lt;del&gt;SOLR-17515&lt;/del&gt;&lt;/a&gt;: Always init Http2SolrClient authStore (#2802)&lt;/p&gt;

&lt;p&gt;Prior to this commit, Http2SolrClient only initialized its&lt;br/&gt;
&apos;authenticationStore&apos; instance var when creating a fresh Jetty&lt;br/&gt;
HttpClient.  This causes NPE&apos;s later on when client code (e.g.&lt;br/&gt;
PreemptiveBasicAuthClientBuilderFactory) would attempt to access the&lt;br/&gt;
object.&lt;/p&gt;

&lt;p&gt;This commit fixes this by making sure that &apos;authenticationStore&apos; is&lt;br/&gt;
initialized when using an existing Jetty client (typically by reusing&lt;br/&gt;
the AuthenticationStore already used by the client).&lt;/p&gt;</comment>
                            <comment id="17893959" author="jira-bot" created="Tue, 29 Oct 2024 18:58:53 +0000"  >&lt;p&gt;Commit cae9f7c16f4a4fe20544dee5886cae2989a897c8 in solr&apos;s branch refs/heads/branch_9x from Jason Gerlowski&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=cae9f7c16f4&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=cae9f7c16f4&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-17515&quot; title=&quot;Recovery fails in Solr 9.7.0 if basic-auth is enabled&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-17515&quot;&gt;&lt;del&gt;SOLR-17515&lt;/del&gt;&lt;/a&gt;: Always init Http2SolrClient authStore (#2802)&lt;/p&gt;

&lt;p&gt;Prior to this commit, Http2SolrClient only initialized its&lt;br/&gt;
&apos;authenticationStore&apos; instance var when creating a fresh Jetty&lt;br/&gt;
HttpClient.  This causes NPE&apos;s later on when client code (e.g.&lt;br/&gt;
PreemptiveBasicAuthClientBuilderFactory) would attempt to access the&lt;br/&gt;
object.&lt;/p&gt;

&lt;p&gt;This commit fixes this by making sure that &apos;authenticationStore&apos; is&lt;br/&gt;
initialized when using an existing Jetty client (typically by reusing&lt;br/&gt;
the AuthenticationStore already used by the client).&lt;/p&gt;</comment>
                            <comment id="17894052" author="dsmiley" created="Wed, 30 Oct 2024 02:02:11 +0000"  >&lt;p&gt;Why wasn&apos;t CHANGES.txt updated?&lt;/p&gt;</comment>
                            <comment id="17894130" author="jira-bot" created="Wed, 30 Oct 2024 10:11:23 +0000"  >&lt;p&gt;Commit 88ecadd2f546c3855c96e83bacc6ad61db71d9c2 in solr&apos;s branch refs/heads/branch_9_7 from Jason Gerlowski&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=88ecadd2f54&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=88ecadd2f54&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-17515&quot; title=&quot;Recovery fails in Solr 9.7.0 if basic-auth is enabled&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-17515&quot;&gt;&lt;del&gt;SOLR-17515&lt;/del&gt;&lt;/a&gt;: Always init Http2SolrClient authStore (#2802)&lt;/p&gt;

&lt;p&gt;Prior to this commit, Http2SolrClient only initialized its&lt;br/&gt;
&apos;authenticationStore&apos; instance var when creating a fresh Jetty&lt;br/&gt;
HttpClient.  This causes NPE&apos;s later on when client code (e.g.&lt;br/&gt;
PreemptiveBasicAuthClientBuilderFactory) would attempt to access the&lt;br/&gt;
object.&lt;/p&gt;

&lt;p&gt;This commit fixes this by making sure that &apos;authenticationStore&apos; is&lt;br/&gt;
initialized when using an existing Jetty client (typically by reusing&lt;br/&gt;
the AuthenticationStore already used by the client).&lt;/p&gt;</comment>
                            <comment id="17894145" author="gerlowskija" created="Wed, 30 Oct 2024 10:35:59 +0000"  >&lt;blockquote&gt;&lt;p&gt;Why wasn&apos;t CHANGES.txt updated?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Ah, yeah, I spoke to this &lt;a href=&quot;https://github.com/apache/solr/pull/2802#issuecomment-2445000209&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;on the PR yesterday&lt;/a&gt;.  I didn&apos;t include an entry for this on main or branch_9x because CHANGES.txt doesn&apos;t have a 9.7.1 section on those branches.  I did write a CHANGES.txt entry, but it only exists on branch_9_7 where there&apos;s a section for it to go into.&lt;/p&gt;

&lt;p&gt;The CHANGES.txt entry on branch_9_7 reads:&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-17515&quot; title=&quot;Recovery fails in Solr 9.7.0 if basic-auth is enabled&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-17515&quot;&gt;&lt;del&gt;SOLR-17515&lt;/del&gt;&lt;/a&gt;: Http2SolrClient now sets its &apos;AuthenticationStore&apos; in all circumstances, preventing NPE&apos;s when used with a HttpClientBuilderFactory (Jason Gerlowski)&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="17945731" author="jira-bot" created="Fri, 18 Apr 2025 18:14:50 +0000"  >&lt;p&gt;Commit 5cfabe58da3251c89d30e52adc55c3494d07ee7b in solr&apos;s branch refs/heads/add-pki-caching from Jason Gerlowski&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=5cfabe58da3&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=5cfabe58da3&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-17515&quot; title=&quot;Recovery fails in Solr 9.7.0 if basic-auth is enabled&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-17515&quot;&gt;&lt;del&gt;SOLR-17515&lt;/del&gt;&lt;/a&gt;: Always init Http2SolrClient authStore (#2802)&lt;/p&gt;

&lt;p&gt;Prior to this commit, Http2SolrClient only initialized its&lt;br/&gt;
&apos;authenticationStore&apos; instance var when creating a fresh Jetty&lt;br/&gt;
HttpClient.  This causes NPE&apos;s later on when client code (e.g.&lt;br/&gt;
PreemptiveBasicAuthClientBuilderFactory) would attempt to access the&lt;br/&gt;
object.&lt;/p&gt;

&lt;p&gt;This commit fixes this by making sure that &apos;authenticationStore&apos; is&lt;br/&gt;
initialized when using an existing Jetty client (typically by reusing&lt;br/&gt;
the AuthenticationStore already used by the client).&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            29 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1s7mw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>