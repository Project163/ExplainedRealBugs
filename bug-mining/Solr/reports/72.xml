<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:05:40 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-335] solrj and ping / PingRequestHandler</title>
                <link>https://issues.apache.org/jira/browse/SOLR-335</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;Solrj needs to talk to a PingRequestHandler&lt;/p&gt;

&lt;p&gt;see: &lt;br/&gt;
&lt;a href=&quot;http://www.nabble.com/-Solrj--Documentation---SolrServer-Ping-tf4246988.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.nabble.com/-Solrj--Documentation---SolrServer-Ping-tf4246988.html&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12375852">SOLR-335</key>
            <summary>solrj and ping / PingRequestHandler</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ryantxu">Ryan McKinley</assignee>
                                    <reporter username="ryantxu">Ryan McKinley</reporter>
                        <labels>
                    </labels>
                <created>Sun, 12 Aug 2007 19:00:28 +0000</created>
                <updated>Fri, 10 May 2013 10:39:19 +0000</updated>
                            <resolved>Fri, 9 Nov 2007 19:38:09 +0000</resolved>
                                                    <fixVersion>1.3</fixVersion>
                                    <component>clients - java</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12526195" author="billa" created="Mon, 10 Sep 2007 17:24:40 +0000"  >&lt;p&gt;Until there is a PingRequestHandler, a simple work-around would be to pass in the required parameter for the standard request handler, ie q=solrpingquery.  This is what the admin jsp does.&lt;/p&gt;

&lt;p&gt;I would like to provide a patch to fix the broken ping function in SolrJ.  Should I attach it here or open a new bug.  If I attach it here, we can keep this bug open until we have a PingRequestHandler.&lt;/p&gt;</comment>
                            <comment id="12526198" author="ryantxu" created="Mon, 10 Sep 2007 17:35:32 +0000"  >&lt;p&gt;attach here seems fine.  Lets keep this open till there is a PingRequestHandler.&lt;/p&gt;</comment>
                            <comment id="12526237" author="billa" created="Mon, 10 Sep 2007 19:44:36 +0000"  >&lt;p&gt;It turns out that in the Solr response for a ping is neither a &amp;lt;response&amp;gt; or &amp;lt;result&amp;gt; but a &amp;lt;solr&amp;gt;:&lt;/p&gt;

&lt;p&gt;&amp;lt;?xml-stylesheet type=&quot;text/xsl&quot; href=&quot;ping.xsl&quot;?&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;solr&amp;gt;&lt;br/&gt;
  &amp;lt;ping&amp;gt;&lt;/p&gt;

&lt;p&gt;  &amp;lt;/ping&amp;gt;&lt;br/&gt;
&amp;lt;/solr&amp;gt;&lt;/p&gt;

&lt;p&gt;Since the response has no useful information, I will put an empty NamedList in SolrPingResponse.&lt;/p&gt;</comment>
                            <comment id="12526242" author="billa" created="Mon, 10 Sep 2007 19:49:55 +0000"  >&lt;p&gt;A work-around for getting ping to work in solrj until we have PingRequestHandler.&lt;/p&gt;</comment>
                            <comment id="12526462" author="billa" created="Tue, 11 Sep 2007 14:10:23 +0000"  >&lt;p&gt;Patch for work-around applied (Committed revision 574600).  Keeping this bug open until we have a PingRequestHandler.&lt;/p&gt;</comment>
                            <comment id="12526464" author="billa" created="Tue, 11 Sep 2007 14:17:37 +0000"  >&lt;p&gt;Since I am returning a null NamedList in SolrPingResponse, I have also put some checks into SolrResponseBase to guide against NPE:&lt;/p&gt;

&lt;p&gt;&amp;#8212; client/java/solrj/src/org/apache/solr/client/solrj/response/SolrResponseBase.java   (revision 574346)&lt;br/&gt;
+++ client/java/solrj/src/org/apache/solr/client/solrj/response/SolrResponseBase.java   (working copy)&lt;br/&gt;
@@ -63,11 +63,23 @@&lt;/p&gt;

&lt;p&gt;   // these two methods are based on the logic in SolrCore.setResponseHeaderValues(...)&lt;br/&gt;
   public int getStatus() {&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;return (Integer) getResponseHeader().get(&quot;status&quot;);&lt;br/&gt;
+    NamedList header = getResponseHeader();&lt;br/&gt;
+    if (header != null) 
{
+        return (Integer) header.get(&quot;status&quot;);
+    }
&lt;p&gt;+    else &lt;/p&gt;
{
+        return 0;
+    }&lt;br/&gt;
   }&lt;br/&gt;
   &lt;br/&gt;
   public int getQTime() {&lt;br/&gt;
-    return (Integer) getResponseHeader().get(&quot;QTime&quot;);&lt;br/&gt;
+    NamedList header = getResponseHeader();&lt;br/&gt;
+    if (header != null) {
+        return (Integer) header.get(&quot;QTime&quot;);
+    }&lt;br/&gt;
+    else {+        return 0;+    }
&lt;p&gt;   }&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;   public String getRequestUrl() {&lt;/p&gt;</comment>
                            <comment id="12541419" author="ryantxu" created="Fri, 9 Nov 2007 19:38:09 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-408&quot; title=&quot;PingRequestHandler&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-408&quot;&gt;&lt;del&gt;SOLR-408&lt;/del&gt;&lt;/a&gt; adds a PingRequestHandler and solrj plays nicely with it.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12381975">SOLR-408</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12365498" name="solr-335-workaround.patch" size="1766" author="billa" created="Mon, 10 Sep 2007 19:49:54 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7257</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 years, 3 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i03xfj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>20849</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>