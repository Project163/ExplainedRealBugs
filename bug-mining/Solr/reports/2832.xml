<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:11:30 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-8578] Successful or not, requests are not always fully consumed by Solrj clients and we count on HttpClient or the JVM.</title>
                <link>https://issues.apache.org/jira/browse/SOLR-8578</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;Does not seem to happen with XML response parser.&lt;/p&gt;

&lt;p&gt;Not the largest deal because HttpClient appears to consume unread bytes from the stream for us, but something seems off.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12932981">SOLR-8578</key>
            <summary>Successful or not, requests are not always fully consumed by Solrj clients and we count on HttpClient or the JVM.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="4" iconUrl="https://issues.apache.org/jira/images/icons/statuses/reopened.png" description="This issue was once resolved, but the resolution was deemed incorrect. From here issues are either marked assigned or resolved.">Reopened</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="markrmiller@gmail.com">Mark Miller</assignee>
                                    <reporter username="markrmiller@gmail.com">Mark Miller</reporter>
                        <labels>
                    </labels>
                <created>Thu, 21 Jan 2016 05:28:24 +0000</created>
                <updated>Mon, 9 May 2016 18:51:20 +0000</updated>
                                                            <fixVersion>6.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="15111683" author="markrmiller@gmail.com" created="Fri, 22 Jan 2016 00:29:51 +0000"  >&lt;p&gt;Okay, I see now, we simply don&apos;t process the response, we just use the error code on success since it&apos;s {responseHeader={status=0,QTime=0}}.&lt;/p&gt;

&lt;p&gt;Following the logic in &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8451?focusedCommentId=15110095&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15110095&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SOLR-8451?focusedCommentId=15110095&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15110095&lt;/a&gt;, we should just nicely eat this up.&lt;/p&gt;</comment>
                            <comment id="15111685" author="markrmiller@gmail.com" created="Fri, 22 Jan 2016 00:33:19 +0000"  >&lt;p&gt;Hmmm...and it looks like I thought it only affect Binary and not XML because XML does not specify a content type size and I was using the InputStream#available call. It affects all types.&lt;/p&gt;</comment>
                            <comment id="15111742" author="markrmiller@gmail.com" created="Fri, 22 Jan 2016 01:27:16 +0000"  >&lt;p&gt;Seems only Binary will actually return a content length header rather than using chunked encoding.&lt;/p&gt;

&lt;p&gt;This seems to be because of some Writer nonsense. I &lt;b&gt;think&lt;/b&gt; that we put a Writer around the outputstream. We can&apos;t and don&apos;t want to close it, that will close the outputstream. We can&apos;t do nothing or everything stays in the buffer. So we flush. I think that causes Jetty to use chunked encoding. I think what we would like to do is Writer#flushBuffer, but it&apos;s package protected. Binary just doesn&apos;t have this Writer issue.&lt;/p&gt;</comment>
                            <comment id="15111784" author="markrmiller@gmail.com" created="Fri, 22 Jan 2016 02:05:12 +0000"  >&lt;p&gt;We can fix this by passing a special outputstream to the Writer that will not flush.&lt;/p&gt;</comment>
                            <comment id="15140887" author="markrmiller@gmail.com" created="Wed, 10 Feb 2016 14:39:00 +0000"  >&lt;p&gt;Created &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8669&quot; title=&quot;Non binary responses use chunked encoding because we flush the outputstream early.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-8669&quot;&gt;&lt;del&gt;SOLR-8669&lt;/del&gt;&lt;/a&gt; to fix the early flush in it&apos;s own issue.&lt;/p&gt;</comment>
                            <comment id="15141102" author="markrmiller@gmail.com" created="Wed, 10 Feb 2016 16:32:26 +0000"  >&lt;p&gt;Patch attached.&lt;/p&gt;</comment>
                            <comment id="15141611" author="jira-bot" created="Wed, 10 Feb 2016 20:34:35 +0000"  >&lt;p&gt;Commit a8bc427aac85d600e1abee28bb373f428c08c7ae in lucene-solr&apos;s branch refs/heads/master from markrmiller&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=a8bc427&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=a8bc427&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8578&quot; title=&quot;Successful or not, requests are not always fully consumed by Solrj clients and we count on HttpClient or the JVM.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-8578&quot;&gt;SOLR-8578&lt;/a&gt;: Successful or not, requests are not always fully consumed by Solrj clients and we count on HttpClient or the JVM.&lt;/p&gt;</comment>
                            <comment id="15148094" author="markrmiller@gmail.com" created="Tue, 16 Feb 2016 04:39:26 +0000"  >&lt;p&gt;Whoops, I need to move the CHANGES entry.&lt;/p&gt;</comment>
                            <comment id="15149013" author="jira-bot" created="Tue, 16 Feb 2016 18:16:21 +0000"  >&lt;p&gt;Commit a40118c9df0db1deaee9ea0d7e2ad399704ff5b3 in lucene-solr&apos;s branch refs/heads/master from markrmiller&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=a40118c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=a40118c&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8578&quot; title=&quot;Successful or not, requests are not always fully consumed by Solrj clients and we count on HttpClient or the JVM.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-8578&quot;&gt;SOLR-8578&lt;/a&gt;: Fully consume proxy requests and move CHANGES entry to 6.0.&lt;/p&gt;</comment>
                            <comment id="15248457" author="anshumg" created="Tue, 19 Apr 2016 19:25:34 +0000"  >&lt;p&gt;Reopening to back-port for 5.5.&lt;/p&gt;</comment>
                            <comment id="15248649" author="jira-bot" created="Tue, 19 Apr 2016 21:11:05 +0000"  >&lt;p&gt;Commit dab4c81b03e51d9c8a11d60c41d916da50052dde in lucene-solr&apos;s branch refs/heads/branch_5x from markrmiller&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=dab4c81&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=dab4c81&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8578&quot; title=&quot;Successful or not, requests are not always fully consumed by Solrj clients and we count on HttpClient or the JVM.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-8578&quot;&gt;SOLR-8578&lt;/a&gt;: Successful or not, requests are not always fully consumed by Solrj clients and we count on HttpClient or the JVM.&lt;/p&gt;</comment>
                            <comment id="15248814" author="jira-bot" created="Tue, 19 Apr 2016 22:34:18 +0000"  >&lt;p&gt;Commit 50ae1fff7c0a18576c59ec672eb3b6b6ad921781 in lucene-solr&apos;s branch refs/heads/branch_5_5 from markrmiller&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=50ae1ff&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=50ae1ff&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8578&quot; title=&quot;Successful or not, requests are not always fully consumed by Solrj clients and we count on HttpClient or the JVM.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-8578&quot;&gt;SOLR-8578&lt;/a&gt;: Successful or not, requests are not always fully consumed by Solrj clients and we count on HttpClient or the JVM.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12938192">SOLR-8669</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12923484">SOLR-8451</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12787328" name="SOLR-8578.patch" size="5607" author="markrmiller@gmail.com" created="Wed, 10 Feb 2016 20:24:29 +0000"/>
                            <attachment id="12787282" name="SOLR-8578.patch" size="6929" author="markrmiller@gmail.com" created="Wed, 10 Feb 2016 16:32:26 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 31 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2rs73:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>