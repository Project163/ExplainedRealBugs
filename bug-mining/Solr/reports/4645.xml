<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:47:09 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-15138] PerReplicaStates does not scale to large collections as well as state.json</title>
                <link>https://issues.apache.org/jira/browse/SOLR-15138</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;I was testing PRS collection creation with larger collections today (previously I had tested with many small collections) and it seemed to be having trouble keeping up.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;I was running a 4 node instance, each JVM with 4G Heap in k8s, and a single zookeeper.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;With this cluster configuration, I am able to create several (at least 10) collections with 11 shards and 11 replicas using the &quot;old way&quot; of keeping state. These collections are created serially, waiting for all replicas to be active before proceeding.&lt;/p&gt;

&lt;p&gt;However, when attempting to do the same with PRS, the creation stalls on collection 2 or 3, with several replicas stuck in a &quot;down&quot; state. Further, when attempting to delete these collections using the regular API it sometimes takes several attempts after getting stuck a few times as well.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13356875">SOLR-15138</key>
            <summary>PerReplicaStates does not scale to large collections as well as state.json</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="noble.paul">Noble Paul</assignee>
                                    <reporter username="mdrob">Mike Drob</reporter>
                        <labels>
                    </labels>
                <created>Thu, 4 Feb 2021 23:28:32 +0000</created>
                <updated>Wed, 23 Jun 2021 13:42:48 +0000</updated>
                            <resolved>Fri, 12 Feb 2021 20:40:06 +0000</resolved>
                                    <version>8.8</version>
                                    <fixVersion>8.9</fixVersion>
                                    <component>SolrCloud</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="13200">3h 40m</timespent>
                                <comments>
                            <comment id="17279234" author="mdrob" created="Thu, 4 Feb 2021 23:28:49 +0000"  >&lt;p&gt;cc: &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=noble.paul&quot; class=&quot;user-hover&quot; rel=&quot;noble.paul&quot;&gt;noble.paul&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ichattopadhyaya&quot; class=&quot;user-hover&quot; rel=&quot;ichattopadhyaya&quot;&gt;ichattopadhyaya&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17279305" author="noble.paul" created="Fri, 5 Feb 2021 03:36:51 +0000"  >&lt;p&gt;I&apos;m testing this &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mdrob&quot; class=&quot;user-hover&quot; rel=&quot;mdrob&quot;&gt;mdrob&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17280708" author="noble.paul" created="Mon, 8 Feb 2021 01:10:34 +0000"  >&lt;p&gt;Diagnosis:&lt;/p&gt;

&lt;p&gt;As we create collections using perReplicaState=true the replicas keep coming up after some time. Each replica coming up fires an event. Overseer is watching all these collections and as there are more collections the events take longer to process.&lt;br/&gt;
 At some point, the message that is sent to overseer Q takes longer than the wait time out (30 secs) to get processed. In my machine, it started happening after around 220 collections were created.&lt;/p&gt;

&lt;p&gt;I have created a PR with a temp solution. &lt;/p&gt;

&lt;p&gt;This is still WIP&lt;/p&gt;</comment>
                            <comment id="17281996" author="mdrob" created="Tue, 9 Feb 2021 19:42:28 +0000"  >&lt;p&gt;Added a couple comments where I agreed with Ilan&apos;s review.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;More generally, I don&apos;t know if that is the right place to be blocking? Why not in AddReplicaCmd where we already have a check for user provided &lt;tt&gt;waitForFinalState&lt;/tt&gt; parameter. Similarly, do we need to consider PRS state in MoveReplicaCmd (or maybe other places?)&lt;/p&gt;</comment>
                            <comment id="17282040" author="mdrob" created="Tue, 9 Feb 2021 20:59:42 +0000"  >&lt;p&gt;This patch is an improvement over what we had previously, but I don&apos;t think it takes care of the situation completely. I was able to create 5 collections in my cluster, but #6 timed out. Although interestingly, #7 created just fine.&lt;/p&gt;

&lt;p&gt;Maybe there&apos;s a race condition somewhere then, if it&apos;s not related to the amount of existing or outstanding watches when subsequent collections continue to create.&lt;/p&gt;</comment>
                            <comment id="17282042" author="mdrob" created="Tue, 9 Feb 2021 21:06:15 +0000"  >&lt;p&gt;For the shards which did not come up, I noticed that not all replicas had registered for leader election, and that there was no leader present for that shard. Maybe our creations timeouts need to take into account leaderVoteWait?&lt;/p&gt;</comment>
                            <comment id="17283942" author="jira-bot" created="Fri, 12 Feb 2021 19:41:06 +0000"  >&lt;p&gt;Commit 4b113067d8185a62d0ea1292f5088d5f8300d75e in lucene-solr&apos;s branch refs/heads/master from Ishan Chattopadhyaya&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=4b11306&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=4b11306&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-15138&quot; title=&quot;PerReplicaStates does not scale to large collections as well as state.json&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-15138&quot;&gt;&lt;del&gt;SOLR-15138&lt;/del&gt;&lt;/a&gt;: Collection creation for PerReplicaStates does not scale to large collections as well as regular collections (#2318)&lt;/p&gt;</comment>
                            <comment id="17283963" author="jira-bot" created="Fri, 12 Feb 2021 20:28:04 +0000"  >&lt;p&gt;Commit 1a05c83b5f93b9014008e30b519c3f6064c78731 in lucene-solr&apos;s branch refs/heads/branch_8x from Ishan Chattopadhyaya&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=1a05c83&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=1a05c83&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-15138&quot; title=&quot;PerReplicaStates does not scale to large collections as well as state.json&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-15138&quot;&gt;&lt;del&gt;SOLR-15138&lt;/del&gt;&lt;/a&gt;: Collection creation for PerReplicaStates does not scale to large collections as well as regular collections (closes #2359 and #2318)&lt;/p&gt;</comment>
                            <comment id="17283964" author="jira-bot" created="Fri, 12 Feb 2021 20:33:44 +0000"  >&lt;p&gt;Commit 22c716bcd946fa2d49e6cea53c0f0dd689954d76 in lucene-solr&apos;s branch refs/heads/branch_8_8 from Ishan Chattopadhyaya&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=22c716b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=22c716b&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-15138&quot; title=&quot;PerReplicaStates does not scale to large collections as well as state.json&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-15138&quot;&gt;&lt;del&gt;SOLR-15138&lt;/del&gt;&lt;/a&gt;: Collection creation for PerReplicaStates does not scale to large collections as well as regular collections (closes #2359 and #2318)&lt;/p&gt;</comment>
                            <comment id="17283968" author="ichattopadhyaya" created="Fri, 12 Feb 2021 20:40:06 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mdrob&quot; class=&quot;user-hover&quot; rel=&quot;mdrob&quot;&gt;mdrob&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ilan&quot; class=&quot;user-hover&quot; rel=&quot;ilan&quot;&gt;ilan&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="17284075" author="jira-bot" created="Sat, 13 Feb 2021 03:18:40 +0000"  >&lt;p&gt;Commit 5f065acfbdb10e35633859520bb59122f4809f0b in lucene-solr&apos;s branch refs/heads/branch_8_8 from Ishan Chattopadhyaya&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=5f065ac&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=5f065ac&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Revert &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-15138&quot; title=&quot;PerReplicaStates does not scale to large collections as well as state.json&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-15138&quot;&gt;&lt;del&gt;SOLR-15138&lt;/del&gt;&lt;/a&gt;: Collection creation for PerReplicaStates does not scale to large collections as well as regular collections (closes #2359 and #2318)&quot;&lt;/p&gt;

&lt;p&gt;This reverts commit 22c716bcd946fa2d49e6cea53c0f0dd689954d76.&lt;/p&gt;</comment>
                            <comment id="17284569" author="jira-bot" created="Mon, 15 Feb 2021 06:50:00 +0000"  >&lt;p&gt;Commit 368c5be30368c0d94fcdd8ec14a5b580c9f0f381 in lucene-solr&apos;s branch refs/heads/branch_8x from Ishan Chattopadhyaya&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=368c5be&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=368c5be&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-15138&quot; title=&quot;PerReplicaStates does not scale to large collections as well as state.json&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-15138&quot;&gt;&lt;del&gt;SOLR-15138&lt;/del&gt;&lt;/a&gt;: Send an intra-process message after ZkClient#create() call&lt;/p&gt;</comment>
                            <comment id="17284571" author="jira-bot" created="Mon, 15 Feb 2021 06:52:51 +0000"  >&lt;p&gt;Commit 83ccf23fa205f3fa54599094b0a6566c8224a529 in lucene-solr&apos;s branch refs/heads/master from Ishan Chattopadhyaya&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=83ccf23&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=83ccf23&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-15138&quot; title=&quot;PerReplicaStates does not scale to large collections as well as state.json&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-15138&quot;&gt;&lt;del&gt;SOLR-15138&lt;/del&gt;&lt;/a&gt;: Send an intra-process message after ZkClient#create() call&lt;/p&gt;</comment>
                            <comment id="17284929" author="thelabdude" created="Mon, 15 Feb 2021 19:24:41 +0000"  >&lt;p&gt;changing the fix version to 8.9 as it was reverted from branch_8_8 with this commit:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/lucene-solr/commit/5f065acfbdb10e35633859520bb59122f4809f0b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/lucene-solr/commit/5f065acfbdb10e35633859520bb59122f4809f0b&lt;/a&gt; (hence not in 8.8.1)&lt;/p&gt;</comment>
                            <comment id="17284973" author="mdrob" created="Mon, 15 Feb 2021 23:05:33 +0000"  >&lt;p&gt;I&apos;ve done some performance testing on master, here are comparisons on the same 4 node cluster after a sufficient warm up period.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Small collections - 10 clients creating 10 collections in parallel, each collection 2x2&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&#160;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Default&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;PRS&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Median&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;4806ms&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;4779ms&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;95%&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;6057ms&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;5434ms&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;Large collections - 1 client creating 10x10 sized collections&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&#160;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Default&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;PRS&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Median&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;8972ms&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;13956ms&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;95%&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;10294ms&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;17393ms&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;I didn&apos;t have a chance to take heap measurements or anything much more detailed here, but my observations are that while PRS is &lt;em&gt;slightly&lt;/em&gt; better for lots of small collections, looks like about 10% faster on the tails, and a fair bit worse for large collections overall, maybe 50-70% slower.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;I then sized my cluster up to 8 nodes, the small collection test performed almost identically (not sure if this is a good sign or not). The large collection test gave me these numbers:&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&#160;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Default&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;PRS&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;Median&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;8882ms&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;9016ms&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;95%&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;8903ms&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;9246ms&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;A lot less impact from the slowest requests on the larger cluster, but PRS still does worse than the consolidated state.json implementation.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Note that this was with the Distributed Overseer change in the code, but I did not have that enabled for this cluster.&lt;/p&gt;</comment>
                            <comment id="17285306" author="jira-bot" created="Tue, 16 Feb 2021 16:06:43 +0000"  >&lt;p&gt;Commit 2d32cca8061d95d0b469c9de218d707f73ef6429 in lucene-solr&apos;s branch refs/heads/branch_8_8 from Ishan Chattopadhyaya&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=2d32cca&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=2d32cca&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-15138&quot; title=&quot;PerReplicaStates does not scale to large collections as well as state.json&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-15138&quot;&gt;&lt;del&gt;SOLR-15138&lt;/del&gt;&lt;/a&gt;: Collection creation for PerReplicaStates does not scale to large collections as well as regular collections (closes #2359 and #2318)&lt;/p&gt;</comment>
                            <comment id="17285307" author="jira-bot" created="Tue, 16 Feb 2021 16:06:45 +0000"  >&lt;p&gt;Commit b31c117987a33cd2de9daa9f6b0d35035d11ec85 in lucene-solr&apos;s branch refs/heads/branch_8_8 from Ishan Chattopadhyaya&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=b31c117&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=b31c117&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-15138&quot; title=&quot;PerReplicaStates does not scale to large collections as well as state.json&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-15138&quot;&gt;&lt;del&gt;SOLR-15138&lt;/del&gt;&lt;/a&gt;: Send an intra-process message after ZkClient#create() call&lt;/p&gt;</comment>
                            <comment id="17308004" author="jira-bot" created="Wed, 24 Mar 2021 17:01:19 +0000"  >&lt;p&gt;Commit 2d32cca8061d95d0b469c9de218d707f73ef6429 in solr&apos;s branch refs/heads/branch_8_8 from Ishan Chattopadhyaya&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=2d32cca&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=2d32cca&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-15138&quot; title=&quot;PerReplicaStates does not scale to large collections as well as state.json&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-15138&quot;&gt;&lt;del&gt;SOLR-15138&lt;/del&gt;&lt;/a&gt;: Collection creation for PerReplicaStates does not scale to large collections as well as regular collections (closes #2359 and #2318)&lt;/p&gt;</comment>
                            <comment id="17308005" author="jira-bot" created="Wed, 24 Mar 2021 17:01:22 +0000"  >&lt;p&gt;Commit b31c117987a33cd2de9daa9f6b0d35035d11ec85 in solr&apos;s branch refs/heads/branch_8_8 from Ishan Chattopadhyaya&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=b31c117&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=b31c117&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-15138&quot; title=&quot;PerReplicaStates does not scale to large collections as well as state.json&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-15138&quot;&gt;&lt;del&gt;SOLR-15138&lt;/del&gt;&lt;/a&gt;: Send an intra-process message after ZkClient#create() call&lt;/p&gt;</comment>
                            <comment id="17368194" author="mayya" created="Wed, 23 Jun 2021 13:42:48 +0000"  >&lt;p&gt;Closing after the 8.9.0 release&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 20 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0ndmw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>