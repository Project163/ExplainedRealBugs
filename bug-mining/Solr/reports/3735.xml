<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:30:00 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-11783] Rename core in solr standalone mode is not persisted</title>
                <link>https://issues.apache.org/jira/browse/SOLR-11783</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;After I upgraded from solr 6.3.0 to 7.1.0 I recognized that the RENAME admin command does not persist the new core name to the core.properties file.&lt;/p&gt;

&lt;p&gt;I&apos;m not very familiar with the solr internals, but it seems like the &lt;blockquote&gt;&lt;p&gt;CorePropertiesLocator.buildCoreProperties(CoreDescriptor cd)&lt;/p&gt;&lt;/blockquote&gt; method uses an invalid core descriptor to initialize the core properties that get written to the core properties file.&lt;/p&gt;

&lt;p&gt;Best regards,&lt;br/&gt;
Michael&lt;/p&gt;</description>
                <environment></environment>
        <key id="13126205">SOLR-11783</key>
            <summary>Rename core in solr standalone mode is not persisted</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="erickerickson">Erick Erickson</assignee>
                                    <reporter username="duerrm">Michael D&#252;rr</reporter>
                        <labels>
                    </labels>
                <created>Wed, 20 Dec 2017 08:13:44 +0000</created>
                <updated>Sat, 8 Jun 2019 15:13:34 +0000</updated>
                            <resolved>Wed, 27 Dec 2017 06:23:26 +0000</resolved>
                                    <version>7.1</version>
                                    <fixVersion>7.2.1</fixVersion>
                    <fixVersion>7.3</fixVersion>
                                    <component>Server</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16298684" author="erickerickson" created="Wed, 20 Dec 2017 16:17:05 +0000"  >&lt;p&gt;Michael:&lt;/p&gt;

&lt;p&gt;This is perhaps &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11503&quot; title=&quot;Collections created with legacyCloud=true cannot be opened if legacyCloud=false&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-11503&quot;&gt;&lt;del&gt;SOLR-11503&lt;/del&gt;&lt;/a&gt;, which was in 7.2. Is there any chance you could give Solr 7.2 a try and see if the behavior persists?&lt;/p&gt;

&lt;p&gt;If that doesn&apos;t fix the problem, please include an example of a core.properties file that is incorrect. Unfortunately &quot;core name&quot; is a bit ambiguous, there&apos;s coreNodeName, name, etc....&lt;/p&gt;</comment>
                            <comment id="16299518" author="duerrm" created="Thu, 21 Dec 2017 04:03:49 +0000"  >&lt;p&gt;Hi Erick,&lt;/p&gt;

&lt;p&gt;thanks for your quick answering!&lt;/p&gt;

&lt;p&gt;I don&apos;t think it is related to &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11503&quot; title=&quot;Collections created with legacyCloud=true cannot be opened if legacyCloud=false&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-11503&quot;&gt;&lt;del&gt;SOLR-11503&lt;/del&gt;&lt;/a&gt; as the problem occurs in standalone mode (i.e. not solr cloud).&lt;/p&gt;

&lt;p&gt;It is very simple to reproduce the problem:&lt;/p&gt;

&lt;p&gt;1. Go to &amp;lt;install_dir&amp;gt;/solr-7.1.0/solr/&lt;br/&gt;
2. Start techproducts example (./bin/solr -e techproducts)&lt;br/&gt;
3. Rename core (e.g. via solr UI or core admin api)&lt;br/&gt;
4. Check persistence (cat example/techproducts/solr/techproducts/core.properties)&lt;/p&gt;

&lt;p&gt;The core.properties file still holds the old core name (name=techproducts)&lt;/p&gt;

&lt;p&gt;Performing the same steps with solr 6.3.0 works as expected, i.e. the core.properties file holds the new core name.&lt;/p&gt;</comment>
                            <comment id="16301768" author="erickerickson" created="Fri, 22 Dec 2017 18:27:59 +0000"  >&lt;p&gt;I just confirmed that it fails on master too.&lt;/p&gt;

&lt;p&gt;I have no idea when I&apos;ll be able to actually work on this, so anyone who wants to go for it please do.&lt;/p&gt;</comment>
                            <comment id="16301827" author="elyograg" created="Fri, 22 Dec 2017 19:12:16 +0000"  >&lt;p&gt;I haven&apos;t been able to locate the problem, but I did encounter some odd behavior.  I did the recreate as outlined above, renaming the techproducts core to &quot;foo&quot;.  Then I stopped Solr and started it back up with the bin\solr command used by the &quot;-e&quot; option.  Because core.properties hadn&apos;t been updated, the core name was back to techproducts, as the issue describes.&lt;/p&gt;

&lt;p&gt;Then I tried to change the core name again to &quot;foo&quot; but it told me &quot;New name must be different from the current one&quot; ... which is really really odd, particularly because Solr was restarted and the core was NOT named foo.&lt;/p&gt;</comment>
                            <comment id="16304261" author="jira-bot" created="Wed, 27 Dec 2017 06:16:59 +0000"  >&lt;p&gt;Commit 137675ace7fe0ca3264d18fd11e9e61cb535515a in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=erickerickson&quot; class=&quot;user-hover&quot; rel=&quot;erickerickson&quot;&gt;erickerickson&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=137675a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=137675a&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11783&quot; title=&quot;Rename core in solr standalone mode is not persisted&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-11783&quot;&gt;&lt;del&gt;SOLR-11783&lt;/del&gt;&lt;/a&gt;: Rename core in solr standalone mode is not persisted&lt;/p&gt;</comment>
                            <comment id="16304265" author="jira-bot" created="Wed, 27 Dec 2017 06:22:37 +0000"  >&lt;p&gt;Commit 89344ea4c5c1c1f7da2797f0e724574751723976 in lucene-solr&apos;s branch refs/heads/branch_7x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=erickerickson&quot; class=&quot;user-hover&quot; rel=&quot;erickerickson&quot;&gt;erickerickson&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=89344ea&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=89344ea&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11783&quot; title=&quot;Rename core in solr standalone mode is not persisted&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-11783&quot;&gt;&lt;del&gt;SOLR-11783&lt;/del&gt;&lt;/a&gt;: Rename core in solr standalone mode is not persisted&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 137675a)&lt;/p&gt;</comment>
                            <comment id="16304266" author="erickerickson" created="Wed, 27 Dec 2017 06:23:16 +0000"  >&lt;p&gt;This is quite an isolated patch so I&apos;d expect it to apply to 6x if you need it.&lt;/p&gt;
</comment>
                            <comment id="16308535" author="elyograg" created="Tue, 2 Jan 2018 19:13:28 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=erickerickson&quot; class=&quot;user-hover&quot; rel=&quot;erickerickson&quot;&gt;erickerickson&lt;/a&gt;, small nitpick that&apos;s probably not actually so small:&lt;/p&gt;

&lt;p&gt;I noticed that there&apos;s new code using File.  Although there seems to be plenty of old code using it also.&lt;/p&gt;

&lt;p&gt;IMHO, it all ought to be replaced with nio2.  This might be part of a much larger overhaul affecting a LOT of code.  I believe that such an overhaul has already happened in critical parts of Lucene.&lt;/p&gt;</comment>
                            <comment id="16308918" author="erickerickson" created="Wed, 3 Jan 2018 00:25:25 +0000"  >&lt;p&gt;Fair point, I&apos;ll try to remember that in the future. But yeah, I agree that this would be part of a larger effort.&lt;/p&gt;</comment>
                            <comment id="16317415" author="jira-bot" created="Tue, 9 Jan 2018 00:28:26 +0000"  >&lt;p&gt;Commit 429719f25741827408d58d1c7a6fa884f5e955ff in lucene-solr&apos;s branch refs/heads/branch_7_2 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=erickerickson&quot; class=&quot;user-hover&quot; rel=&quot;erickerickson&quot;&gt;erickerickson&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=429719f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=429719f&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11783&quot; title=&quot;Rename core in solr standalone mode is not persisted&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-11783&quot;&gt;&lt;del&gt;SOLR-11783&lt;/del&gt;&lt;/a&gt;: Rename core in solr standalone mode is not persisted&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 45 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3o48v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>