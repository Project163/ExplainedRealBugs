<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:19:20 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-10035] Admin UI cannot find dataimport handlers</title>
                <link>https://issues.apache.org/jira/browse/SOLR-10035</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;The 6.4.0 version of Solr has a problem with the Dataimport tab in the admin UI.  It will say &quot;Sorry, no dataimport-handler defined&quot; when trying to access that tab.&lt;/p&gt;

&lt;p&gt;The root cause of the problem is a change in the /admin/mbeans handler, by &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9947&quot; title=&quot;Miscellaneous metrics cleanup&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9947&quot;&gt;&lt;del&gt;SOLR-9947&lt;/del&gt;&lt;/a&gt;.  The section of the output where defined dataimport handlers are listed was changed from QUERYHANDLER to QUERY.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13037799">SOLR-10035</key>
            <summary>Admin UI cannot find dataimport handlers</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ab">Andrzej Bialecki</assignee>
                                    <reporter username="elyograg">Shawn Heisey</reporter>
                        <labels>
                            <label>regression</label>
                    </labels>
                <created>Wed, 25 Jan 2017 18:51:31 +0000</created>
                <updated>Sat, 8 Jun 2019 15:33:47 +0000</updated>
                            <resolved>Mon, 6 Feb 2017 08:02:57 +0000</resolved>
                                    <version>6.4</version>
                                    <fixVersion>6.4.1</fixVersion>
                    <fixVersion>7.0</fixVersion>
                                    <component>Admin UI</component>
                        <due></due>
                            <votes>2</votes>
                                    <watches>9</watches>
                                                                                                                <comments>
                            <comment id="15838363" author="elyograg" created="Wed, 25 Jan 2017 18:57:26 +0000"  >&lt;p&gt;The changes to the mbean output are going to make my life interesting beyond the admin UI.  I have a SolrJ program that accesses this information and isn&apos;t going to work with newer versions of Solr.  Because it will need to deal with multiple versions, it&apos;s going to have to handle both the old and the new output.&lt;/p&gt;</comment>
                            <comment id="15838825" author="elyograg" created="Wed, 25 Jan 2017 23:37:58 +0000"  >&lt;p&gt;A binary install of Solr 6.4.0 can be fixed without a new version.  Edit the following file:&lt;/p&gt;

&lt;p&gt;solr/server/solr-webapp/webapp/js/angular/controllers/dataimport.js&lt;/p&gt;

&lt;p&gt;The string &quot;QUERYHANDLER&quot; will show up once in the file.  Change this text to &quot;QUERY&quot;.  Be sure to only change the one that&apos;s all uppercase.&lt;/p&gt;</comment>
                            <comment id="15838830" author="elyograg" created="Wed, 25 Jan 2017 23:39:00 +0000"  >&lt;p&gt;Something that would be good to add is a test of the dataimport tab in the admin UI ... I&apos;ve got absolutely no idea how to write that test.  Code that can run javascript like a browser would be required.&lt;/p&gt;</comment>
                            <comment id="15839401" author="janhoy" created="Thu, 26 Jan 2017 08:04:41 +0000"  >&lt;p&gt;Hmm, we should not change the mbeans API between minor versions. Can we publish these metrics in both sections until 7.0 and publish a deprecation message in changes? This should go in 6.4.1&lt;/p&gt;</comment>
                            <comment id="15839470" author="ab" created="Thu, 26 Jan 2017 09:36:28 +0000"  >&lt;blockquote&gt;&lt;p&gt;Can we publish these metrics in both sections until 7.0 and publish a deprecation message in changes?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yes, I&apos;ll take care of this.&lt;/p&gt;</comment>
                            <comment id="15839754" author="elyograg" created="Thu, 26 Jan 2017 14:34:16 +0000"  >&lt;blockquote&gt;&lt;p&gt;Hmm, we should not change the mbeans API between minor versions&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I was thinking the same thing as I filed this issue, but I was worried that anything I said about it would be seen as hindering progress.  The changelog mention for &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9947&quot; title=&quot;Miscellaneous metrics cleanup&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9947&quot;&gt;&lt;del&gt;SOLR-9947&lt;/del&gt;&lt;/a&gt; was not adequate enough for a reader to realize that a user program consuming the mbeans would need to be changed.&lt;/p&gt;</comment>
                            <comment id="15840001" author="ab" created="Thu, 26 Jan 2017 16:40:50 +0000"  >&lt;p&gt;I wasn&apos;t aware of back-compat concerns in Dataimport UI ... which says something about tests, too (unfortunately I don&apos;t know anything about writing UI tests...). I can either revert the name changes, or do as you proposed, ie. register them under both the new and the old names.&lt;/p&gt;</comment>
                            <comment id="15840067" author="elyograg" created="Thu, 26 Jan 2017 17:14:51 +0000"  >&lt;p&gt;Fixing the UI (the focus of this issue) is easy - one string on one line.&lt;/p&gt;

&lt;p&gt;The larger concern is that the API for getting statistical information out of Solr has changed in a minor release, in a way that can break clients, and nothing in CHANGES.txt indicated that there was such a change.  I understand the desire to remove &quot;HANDLER&quot; from the category names &amp;#8211; it&apos;s unnecessarily verbose.  If it were me making the improvements, I would have left the category names unchanged in 6.x, only making the changes in master.&lt;/p&gt;

&lt;p&gt;Users expect that their client code will continue working if they make a minor version upgrade, and for the most part Solr has kept that promise.  Sometimes progress &lt;b&gt;requires&lt;/b&gt; changes that break user expectations, but in that case, it should be mentioned in the changelog.&lt;/p&gt;</comment>
                            <comment id="15840084" author="janhoy" created="Thu, 26 Jan 2017 17:23:03 +0000"  >&lt;p&gt;If we revert then the new metrics stuff will break or need to change later, right?&lt;/p&gt;

&lt;p&gt;Now that 7.0 is discussed in a may timeframe perhaps some things can wait?&lt;/p&gt;</comment>
                            <comment id="15840146" author="ab" created="Thu, 26 Jan 2017 18:06:51 +0000"  >&lt;p&gt;The original reason for this change was that the names with &quot;HANDLER&quot; suffixes didn&apos;t fit the metrics, and I wanted to avoid creating too many category names... If we change this back to use the old names, it won&apos;t unbreak 6.4.0 and it will create a weird situation where names flipped back and forth between 6.x releases. And we need to keep the changed names anyway in 7.0, again in order to cover broader set of plugins and metrics and to avoid creating too many category names.&lt;/p&gt;

&lt;p&gt;So I think that the least confusing option at this point would be to add a very clear note in CHANGES and keep the new names (and avoid breaking back-compat in the future!) Keeping both new and old names is an option, too, but it may be more confusing in the UI / JMX.&lt;/p&gt;</comment>
                            <comment id="15840454" author="janhoy" created="Thu, 26 Jan 2017 21:03:24 +0000"  >&lt;blockquote&gt;&lt;p&gt;So I think that the least confusing option at this point would be to add a very clear note in CHANGES and keep the new names (and avoid breaking back-compat in the future!) Keeping both new and old names is an option, too, but it may be more confusing in the UI / JMX.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Or some middle ground. Expose both old and new for the rest of 6.x and add a &lt;tt&gt;-Dsolr.mbeans.useOnlyNewNaming=true&lt;/tt&gt; flag which removes the old names with a warning in release notes that this breaks back compat to gain less confusing GUI output. Anyway most users will not even notice, except those that use a monitoring solution which suddenly breaks. Then again, very few have had the chance to upgrade to 6.4 yet&lt;/p&gt;</comment>
                            <comment id="15846085" author="ab" created="Mon, 30 Jan 2017 22:50:16 +0000"  >&lt;p&gt;This patch changes the output of /admin/mbeans to return affected mbeans under both new and old names, and supports selecting beans by both new and old categories.&lt;/p&gt;

&lt;p&gt;I also modified the UI to indicate that old names are deprecated (see the screenshot).&lt;/p&gt;</comment>
                            <comment id="15846140" author="janhoy" created="Mon, 30 Jan 2017 23:29:50 +0000"  >&lt;p&gt;Looks awesome &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
The obvious question then is, if you specify &lt;tt&gt;-Dsolr.mbeans.useOnlyNewNaming=true&lt;/tt&gt;, will then the DIH UI work? &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; I think we should flip the constant &lt;tt&gt;QUERYHANDLER&lt;/tt&gt; -&amp;gt; &lt;tt&gt;QUERY&lt;/tt&gt; in that dih JS file...&lt;/p&gt;</comment>
                            <comment id="15846577" author="ab" created="Tue, 31 Jan 2017 09:29:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=janhoy&quot; class=&quot;user-hover&quot; rel=&quot;janhoy&quot;&gt;janhoy&lt;/a&gt; good point &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; I&apos;ll change that JS file, and commit it shortly - thanks!&lt;/p&gt;</comment>
                            <comment id="15846594" author="ab" created="Tue, 31 Jan 2017 09:50:17 +0000"  >&lt;p&gt;Final patch. I manually verified that DIH works also when &quot;-Dsolr.mbeans.useOnlyNewNaming=true&quot; is specified.&lt;/p&gt;</comment>
                            <comment id="15848562" author="jira-bot" created="Wed, 1 Feb 2017 15:56:39 +0000"  >&lt;p&gt;Commit f51a38fd4cd5f98da3a26df55970d662227b633a in lucene-solr&apos;s branch refs/heads/branch_6x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ab&quot; class=&quot;user-hover&quot; rel=&quot;ab&quot;&gt;ab&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=f51a38f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=f51a38f&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10035&quot; title=&quot;Admin UI cannot find dataimport handlers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10035&quot;&gt;&lt;del&gt;SOLR-10035&lt;/del&gt;&lt;/a&gt; Admin UI cannot find dataimport handlers.&lt;/p&gt;</comment>
                            <comment id="15852969" author="janhoy" created="Sat, 4 Feb 2017 22:51:43 +0000"  >&lt;p&gt;This can be RESOLVED, not?&lt;/p&gt;</comment>
                            <comment id="15853645" author="jira-bot" created="Mon, 6 Feb 2017 08:02:14 +0000"  >&lt;p&gt;Commit 51ff50d76da23137e2b0afe4af130601ba17eab1 in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ab&quot; class=&quot;user-hover&quot; rel=&quot;ab&quot;&gt;ab&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=51ff50d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=51ff50d&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10035&quot; title=&quot;Admin UI cannot find dataimport handlers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10035&quot;&gt;&lt;del&gt;SOLR-10035&lt;/del&gt;&lt;/a&gt; Fix dataimport to use the new names.&lt;/p&gt;</comment>
                            <comment id="15853646" author="ab" created="Mon, 6 Feb 2017 08:02:57 +0000"  >&lt;p&gt;This needed also a small fix on master so that the UI uses only the new names.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13039952">SOLR-10090</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="13033062">SOLR-9947</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12850172" name="SOLR-10035.patch" size="12019" author="ab" created="Tue, 31 Jan 2017 09:50:17 +0000"/>
                            <attachment id="12850072" name="SOLR-10035.patch" size="10744" author="ab" created="Mon, 30 Jan 2017 22:50:16 +0000"/>
                            <attachment id="12850073" name="screenshot-1.png" size="65097" author="ab" created="Mon, 30 Jan 2017 22:51:36 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 41 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i397db:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>