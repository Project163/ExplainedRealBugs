<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:48:05 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-5550] shards.info is not returned in case of short circuited distributed query</title>
                <link>https://issues.apache.org/jira/browse/SOLR-5550</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;Distributed queries which are short circuited and executed locally do not return a shards.info section even when requested.&lt;/p&gt;

&lt;p&gt;Steps to reproduce:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;cd solr; ant example; cp -r example example2&lt;/li&gt;
	&lt;li&gt;cd example; java -Dbootstrap_confdir=./solr/collection1/conf -Dcollection.configName=conf1 -DzkRun -DnumShards=2 -jar start.jar&lt;/li&gt;
	&lt;li&gt;cd example2; java -Djetty.port=7574 -DzkHost=localhost:9983 -jar start.jar&lt;/li&gt;
	&lt;li&gt;curl &lt;a href=&quot;http://localhost:8983/solr/admin/collections?action=CREATE&amp;amp;collection=test1&amp;amp;name=test1&amp;amp;numShards=2&amp;amp;collection.configName=conf1&amp;amp;maxShardsPerNode=3&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8983/solr/admin/collections?action=CREATE&amp;amp;collection=test1&amp;amp;name=test1&amp;amp;numShards=2&amp;amp;collection.configName=conf1&amp;amp;maxShardsPerNode=3&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;Add two docs:
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;add&amp;gt;
  &amp;lt;doc&amp;gt;
    &amp;lt;field name=&lt;span class=&quot;code-quote&quot;&gt;&quot;id&quot;&lt;/span&gt;&amp;gt;a!1&amp;lt;/field&amp;gt;
    &amp;lt;field name=&lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt;&amp;gt;xyz&amp;lt;/field&amp;gt;
    &amp;lt;field name=&lt;span class=&quot;code-quote&quot;&gt;&quot;price&quot;&lt;/span&gt;&amp;gt;2.00&amp;lt;/field&amp;gt;
  &amp;lt;/doc&amp;gt;
  &amp;lt;doc&amp;gt;
    &amp;lt;field name=&lt;span class=&quot;code-quote&quot;&gt;&quot;id&quot;&lt;/span&gt;&amp;gt;b!1&amp;lt;/field&amp;gt;
    &amp;lt;field name=&lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt;&amp;gt;abc&amp;lt;/field&amp;gt;
    &amp;lt;field name=&lt;span class=&quot;code-quote&quot;&gt;&quot;price&quot;&lt;/span&gt;&amp;gt;5.00&amp;lt;/field&amp;gt;
  &amp;lt;/doc&amp;gt;
&amp;lt;/add&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
	&lt;li&gt;curl &lt;a href=&quot;http://localhost:8983/admin/cores?name=test1_shard2_replica2&amp;amp;collection=test1&amp;amp;shard=shard2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8983/admin/cores?name=test1_shard2_replica2&amp;amp;collection=test1&amp;amp;shard=shard2&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;curl &lt;a href=&quot;http://localhost:8983/solr/test1_shard2_replica1/select?_route_=b!&amp;amp;fl=*&amp;amp;start=0&amp;amp;q=*:*&amp;amp;shards.info=true&amp;amp;collection=test1&amp;amp;rows=10&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8983/solr/test1_shard2_replica1/select?_route_=b!&amp;amp;fl=*&amp;amp;start=0&amp;amp;q=*:*&amp;amp;shards.info=true&amp;amp;collection=test1&amp;amp;rows=10&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;The above will not return shards.info&lt;/li&gt;
	&lt;li&gt;curl &lt;a href=&quot;http://localhost:7574/solr/test1/select?_route_=b!&amp;amp;fl=*&amp;amp;start=0&amp;amp;q=*:*&amp;amp;shards.info=true&amp;amp;collection=test1&amp;amp;rows=10&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:7574/solr/test1/select?_route_=b!&amp;amp;fl=*&amp;amp;start=0&amp;amp;q=*:*&amp;amp;shards.info=true&amp;amp;collection=test1&amp;amp;rows=10&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;The above will return shards.info&lt;/li&gt;
&lt;/ol&gt;
</description>
                <environment></environment>
        <key id="12684181">SOLR-5550</key>
            <summary>shards.info is not returned in case of short circuited distributed query</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="shalin">Shalin Shekhar Mangar</assignee>
                                    <reporter username="shalin">Shalin Shekhar Mangar</reporter>
                        <labels>
                    </labels>
                <created>Thu, 12 Dec 2013 08:56:43 +0000</created>
                <updated>Wed, 2 Oct 2019 17:23:31 +0000</updated>
                            <resolved>Mon, 24 Mar 2014 18:43:22 +0000</resolved>
                                    <version>4.6</version>
                                    <fixVersion>4.7.1</fixVersion>
                    <fixVersion>4.8</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                    <component>SolrCloud</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="13858216" author="tim.potter" created="Sun, 29 Dec 2013 02:40:03 +0000"  >&lt;p&gt;Here&apos;s a first cut of a solution to this issue w/o unit test. I wasn&apos;t able to find any existing unit tests for short circuited distributed requests, so will need to build out a unit test once I get a better feel for testing distributed requests.&lt;/p&gt;</comment>
                            <comment id="13937149" author="shalinmangar" created="Sun, 16 Mar 2014 13:24:25 +0000"  >&lt;p&gt;Added a test which fails without the patch.&lt;/p&gt;</comment>
                            <comment id="13937172" author="jira-bot" created="Sun, 16 Mar 2014 14:11:09 +0000"  >&lt;p&gt;Commit 1578078 from shalin@apache.org in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1578078&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1578078&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5550&quot; title=&quot;shards.info is not returned in case of short circuited distributed query&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5550&quot;&gt;&lt;del&gt;SOLR-5550&lt;/del&gt;&lt;/a&gt;: shards.info is not returned by a short circuited distributed query&lt;/p&gt;</comment>
                            <comment id="13937174" author="jira-bot" created="Sun, 16 Mar 2014 14:19:18 +0000"  >&lt;p&gt;Commit 1578083 from shalin@apache.org in branch &apos;dev/branches/branch_4x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1578083&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1578083&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5550&quot; title=&quot;shards.info is not returned in case of short circuited distributed query&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5550&quot;&gt;&lt;del&gt;SOLR-5550&lt;/del&gt;&lt;/a&gt;: shards.info is not returned by a short circuited distributed query&lt;/p&gt;</comment>
                            <comment id="13937175" author="shalinmangar" created="Sun, 16 Mar 2014 14:20:05 +0000"  >&lt;p&gt;Thanks Tim!&lt;/p&gt;</comment>
                            <comment id="13937177" author="shalinmangar" created="Sun, 16 Mar 2014 14:24:27 +0000"  >&lt;p&gt;Oh, just fyi, I made one change before committing the patch. I reduced shardCount to 4 from 8. No need to spin up extra replicas here.&lt;/p&gt;</comment>
                            <comment id="13945227" author="steve_rowe" created="Mon, 24 Mar 2014 15:41:43 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=shalin&quot; class=&quot;user-hover&quot; rel=&quot;shalin&quot;&gt;shalin&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tim.potter&quot; class=&quot;user-hover&quot; rel=&quot;tim.potter&quot;&gt;tim.potter&lt;/a&gt;, any reason not to backport this to 4.7.1?&lt;/p&gt;</comment>
                            <comment id="13945326" author="shalinmangar" created="Mon, 24 Mar 2014 16:35:51 +0000"  >&lt;p&gt;Thanks Steve. I&apos;ll backport it.&lt;/p&gt;</comment>
                            <comment id="13945499" author="jira-bot" created="Mon, 24 Mar 2014 18:39:02 +0000"  >&lt;p&gt;Commit 1580979 from shalin@apache.org in branch &apos;dev/branches/lucene_solr_4_7&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1580979&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1580979&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5550&quot; title=&quot;shards.info is not returned in case of short circuited distributed query&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5550&quot;&gt;&lt;del&gt;SOLR-5550&lt;/del&gt;&lt;/a&gt;: shards.info is not returned by a short circuited distributed query&lt;/p&gt;</comment>
                            <comment id="13945503" author="jira-bot" created="Mon, 24 Mar 2014 18:41:27 +0000"  >&lt;p&gt;Commit 1580982 from shalin@apache.org in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1580982&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1580982&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5550&quot; title=&quot;shards.info is not returned in case of short circuited distributed query&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5550&quot;&gt;&lt;del&gt;SOLR-5550&lt;/del&gt;&lt;/a&gt;: Move entry to 4.7.1&lt;/p&gt;</comment>
                            <comment id="13945506" author="jira-bot" created="Mon, 24 Mar 2014 18:42:33 +0000"  >&lt;p&gt;Commit 1580985 from shalin@apache.org in branch &apos;dev/branches/branch_4x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1580985&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1580985&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5550&quot; title=&quot;shards.info is not returned in case of short circuited distributed query&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5550&quot;&gt;&lt;del&gt;SOLR-5550&lt;/del&gt;&lt;/a&gt;: Move entry to 4.7.1&lt;/p&gt;</comment>
                            <comment id="13945507" author="shalinmangar" created="Mon, 24 Mar 2014 18:43:22 +0000"  >&lt;p&gt;Backported to 4.7.1&lt;/p&gt;</comment>
                            <comment id="13957744" author="steve_rowe" created="Wed, 2 Apr 2014 15:03:38 +0000"  >&lt;p&gt;Bulk close 4.7.1 issues&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12680787">SOLR-5492</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12634977" name="SOLR-5550.patch" size="10465" author="shalin" created="Sun, 16 Mar 2014 13:24:25 +0000"/>
                            <attachment id="12620749" name="SOLR-5550.patch" size="4528" author="tim.potter" created="Sun, 29 Dec 2013 02:40:03 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>363253</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 33 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qm6f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>363559</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>