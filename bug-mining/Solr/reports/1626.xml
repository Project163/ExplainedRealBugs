<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:41:38 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-4553] Bug in finding remote node when proxying update request in a cluster with more than one collection.</title>
                <link>https://issues.apache.org/jira/browse/SOLR-4553</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description></description>
                <environment></environment>
        <key id="12636266">SOLR-4553</key>
            <summary>Bug in finding remote node when proxying update request in a cluster with more than one collection.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="markrmiller@gmail.com">Mark Miller</assignee>
                                    <reporter username="markrmiller@gmail.com">Mark Miller</reporter>
                        <labels>
                    </labels>
                <created>Sun, 10 Mar 2013 20:39:02 +0000</created>
                <updated>Mon, 9 May 2016 18:43:47 +0000</updated>
                            <resolved>Mon, 25 Nov 2013 01:51:35 +0000</resolved>
                                                    <fixVersion>4.7</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13598387" author="commit-tag-bot" created="Sun, 10 Mar 2013 21:18:51 +0000"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;trunk commit&amp;#93;&lt;/span&gt; Mark Robert Miller&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1454921&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1454921&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-4553&quot; title=&quot;Bug in finding remote node when proxying update request in a cluster with more than one collection.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-4553&quot;&gt;&lt;del&gt;SOLR-4553&lt;/del&gt;&lt;/a&gt;: attempt to harden #testNodeWithoutCollectionForwarding&lt;/p&gt;</comment>
                            <comment id="13598403" author="commit-tag-bot" created="Sun, 10 Mar 2013 21:50:19 +0000"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;branch_4x commit&amp;#93;&lt;/span&gt; Mark Robert Miller&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1454927&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1454927&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-4553&quot; title=&quot;Bug in finding remote node when proxying update request in a cluster with more than one collection.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-4553&quot;&gt;&lt;del&gt;SOLR-4553&lt;/del&gt;&lt;/a&gt;: attempt to harden #testNodeWithoutCollectionForwarding&lt;/p&gt;</comment>
                            <comment id="13622412" author="markrmiller@gmail.com" created="Thu, 4 Apr 2013 15:24:38 +0000"  >&lt;p&gt;Turns out this happens on java 8 only it seems.&lt;/p&gt;</comment>
                            <comment id="13631353" author="markrmiller@gmail.com" created="Sun, 14 Apr 2013 17:15:26 +0000"  >&lt;p&gt;I have actually seen this at least once not on java 8 - so I think some java 8 changes are just making some issue &lt;b&gt;much&lt;/b&gt; more noticeable.&lt;/p&gt;

&lt;p&gt;I did some investigation, but I guess I responded on the dev list and forgot to update this ticket.&lt;/p&gt;

&lt;p&gt;I&apos;ll have to dig up what I wrote, but basically it seems like sometimes the SolrDispatchFilter is either not getting started properly, or is taking forever to get set properly (adding additional sleeps as a hack didn&apos;t seem to help).&lt;/p&gt;</comment>
                            <comment id="13717211" author="steve_rowe" created="Tue, 23 Jul 2013 18:47:29 +0000"  >&lt;p&gt;Bulk move 4.4 issues to 4.5 and 5.0&lt;/p&gt;</comment>
                            <comment id="13800289" author="markrmiller@gmail.com" created="Mon, 21 Oct 2013 00:30:26 +0000"  >&lt;p&gt;I&apos;m seeing this more on java 7 now.&lt;/p&gt;</comment>
                            <comment id="13831007" author="jira-bot" created="Sun, 24 Nov 2013 18:45:19 +0000"  >&lt;p&gt;Commit 1545027 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1545027&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1545027&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-4553&quot; title=&quot;Bug in finding remote node when proxying update request in a cluster with more than one collection.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-4553&quot;&gt;&lt;del&gt;SOLR-4553&lt;/del&gt;&lt;/a&gt;: for some reason, a node can keep seeing slices inactive or something - we should attempt to proxy inactive slices anyway&lt;/p&gt;</comment>
                            <comment id="13831008" author="jira-bot" created="Sun, 24 Nov 2013 18:46:07 +0000"  >&lt;p&gt;Commit 1545029 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/branches/branch_4x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1545029&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1545029&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-4553&quot; title=&quot;Bug in finding remote node when proxying update request in a cluster with more than one collection.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-4553&quot;&gt;&lt;del&gt;SOLR-4553&lt;/del&gt;&lt;/a&gt;: for some reason, a node can keep seeing slices inactive or something - we should attempt to proxy inactive slices anyway&lt;/p&gt;</comment>
                            <comment id="13831020" author="markrmiller@gmail.com" created="Sun, 24 Nov 2013 19:19:43 +0000"  >&lt;p&gt;It seems that somehow random hashmap ordering makes this more likely to happen - odd &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13831032" author="jira-bot" created="Sun, 24 Nov 2013 20:19:45 +0000"  >&lt;p&gt;Commit 1545065 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1545065&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1545065&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-4553&quot; title=&quot;Bug in finding remote node when proxying update request in a cluster with more than one collection.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-4553&quot;&gt;&lt;del&gt;SOLR-4553&lt;/del&gt;&lt;/a&gt;: Bug in finding remote node when proxying update request in a cluster with more than one collection.&lt;br/&gt;
Also, attempt to proxy requests more aggressively.&lt;/p&gt;</comment>
                            <comment id="13831036" author="jira-bot" created="Sun, 24 Nov 2013 20:21:10 +0000"  >&lt;p&gt;Commit 1545068 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/branches/branch_4x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1545068&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1545068&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-4553&quot; title=&quot;Bug in finding remote node when proxying update request in a cluster with more than one collection.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-4553&quot;&gt;&lt;del&gt;SOLR-4553&lt;/del&gt;&lt;/a&gt;: Bug in finding remote node when proxying update request in a cluster with more than one collection.&lt;br/&gt;
Also, attempt to proxy requests more aggressively.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>316758</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1inpb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317100</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>