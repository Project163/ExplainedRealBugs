<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:40:49 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-13665] Connecting to ZK on SSL port (secureClient: ClassNotDef found error)</title>
                <link>https://issues.apache.org/jira/browse/SOLR-13665</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;I managed to setup Zookeeper 3.5.5 with secure Client enabled and configured in solr.in.sh the zookeeper properties to use that port, which offers SSL.&lt;/p&gt;

&lt;p&gt;However, I see the following error in the logfiles when starting up Solr:&lt;/p&gt;

&lt;p&gt;2019-07-30 14:59:09.704 INFO &#160;(main) [ &#160; ] o.a.z.c.X509Util Setting -D jdk.tls.rejectClientInitiatedRenegotiation=true to disable client-initiated TLS renegotiation&lt;br/&gt;
 2019-07-30 14:59:09.710 ERROR (main) [ &#160; ] o.a.s.s.SolrDispatchFilter Could not start Solr. Check solr/home property and the logs&lt;br/&gt;
 2019-07-30 14:59:09.743 ERROR (main) [ &#160; ] o.a.s.c.SolrCore null:java.lang.NoClassDefFoundError: io/netty/channel/ChannelHandler&lt;br/&gt;
 &#160;&#160; &#160;at java.base/java.lang.Class.forName0(Native Method)&lt;br/&gt;
 &#160;&#160; &#160;at java.base/java.lang.Class.forName(Class.java:315)&lt;br/&gt;
 &#160;&#160; &#160;at org.apache.zookeeper.ZooKeeper.getClientCnxnSocket(ZooKeeper.java:3063)&lt;br/&gt;
 &#160;&#160; &#160;at org.apache.zookeeper.ZooKeeper.&amp;lt;init&amp;gt;(ZooKeeper.java:883)&lt;br/&gt;
 &#160;&#160; &#160;at org.apache.zookeeper.ZooKeeper.&amp;lt;init&amp;gt;(ZooKeeper.java:801)&lt;br/&gt;
 &#160;&#160; &#160;at org.apache.zookeeper.ZooKeeper.&amp;lt;init&amp;gt;(ZooKeeper.java:950)&lt;br/&gt;
 &#160;&#160; &#160;at org.apache.zookeeper.ZooKeeper.&amp;lt;init&amp;gt;(ZooKeeper.java:688)&lt;br/&gt;
 &#160;&#160; &#160;at org.apache.solr.common.cloud.SolrZooKeeper.&amp;lt;init&amp;gt;(SolrZooKeeper.java:43)&lt;br/&gt;
 &#160;&#160; &#160;at org.apache.solr.common.cloud.ZkClientConnectionStrategy.createSolrZooKeeper(ZkClientConnectionStrategy.java:105)&lt;br/&gt;
 &#160;&#160; &#160;at org.apache.solr.common.cloud.DefaultConnectionStrategy.connect(DefaultConnectionStrategy.java:37)&lt;br/&gt;
 &#160;&#160; &#160;at org.apache.solr.common.cloud.SolrZkClient.&amp;lt;init&amp;gt;(SolrZkClient.java:166)&lt;br/&gt;
 &#160;&#160; &#160;at org.apache.solr.common.cloud.SolrZkClient.&amp;lt;init&amp;gt;(SolrZkClient.java:125)&lt;br/&gt;
 &#160;&#160; &#160;at org.apache.solr.common.cloud.SolrZkClient.&amp;lt;init&amp;gt;(SolrZkClient.java:120)&lt;br/&gt;
 &#160;&#160; &#160;at org.apache.solr.common.cloud.SolrZkClient.&amp;lt;init&amp;gt;(SolrZkClient.java:107)&lt;br/&gt;
 &#160;&#160; &#160;at org.apache.solr.servlet.SolrDispatchFilter.loadNodeConfig(SolrDispatchFilter.java:282)&lt;br/&gt;
 &#160;&#160; &#160;at org.apache.solr.servlet.SolrDispatchFilter.createCoreContainer(SolrDispatchFilter.java:259)&lt;br/&gt;
 &#160;&#160; &#160;at org.apache.solr.servlet.SolrDispatchFilter.init(SolrDispatchFilter.java:181)&lt;br/&gt;
 &#160;&#160; &#160;at org.eclipse.jetty.servlet.FilterHolder.initialize(FilterHolder.java:136)&lt;br/&gt;
 &#160;&#160; &#160;at org.eclipse.jetty.servlet.ServletHandler.lambda$initialize$0(ServletHandler.java:750)&lt;br/&gt;
 &#160;&#160; &#160;at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948)&lt;br/&gt;
 &#160;&#160; &#160;at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)&lt;br/&gt;
 &#160;&#160; &#160;at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)&lt;br/&gt;
 &#160;&#160; &#160;at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)&lt;br/&gt;
 &#160;&#160; &#160;at org.eclipse.jetty.servlet.ServletHandler.initialize(ServletHandler.java:744)&lt;br/&gt;
 &#160;&#160; &#160;at org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:369)&lt;br/&gt;
 &#160;&#160; &#160;at org.eclipse.jetty.webapp.WebAppContext.startWebapp(WebAppContext.java:1497)&lt;br/&gt;
 &#160;&#160; &#160;at org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1459)&lt;br/&gt;
 &#160;&#160; &#160;at org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:854)&lt;br/&gt;
 &#160;&#160; &#160;at org.eclipse.jetty.servlet.ServletContextHandler.doStart(ServletContextHandler.java:278)&lt;br/&gt;
 &#160;&#160; &#160;at org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:545)&lt;br/&gt;
 &#160;&#160; &#160;at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)&lt;br/&gt;
 &#160;&#160; &#160;at org.eclipse.jetty.deploy.bindings.StandardStarter.processBinding(StandardStarter.java:46)&lt;br/&gt;
 &#160;&#160; &#160;at org.eclipse.jetty.deploy.AppLifeCycle.runBindings(AppLifeCycle.java:192)&lt;br/&gt;
 &#160;&#160; &#160;at org.eclipse.jetty.deploy.DeploymentManager.requestAppGoal(DeploymentManager.java:510)&lt;br/&gt;
 &#160;&#160; &#160;at org.eclipse.jetty.deploy.DeploymentManager.addApp(DeploymentManager.java:153)&lt;br/&gt;
 &#160;&#160; &#160;at org.eclipse.jetty.deploy.providers.ScanningAppProvider.fileAdded(ScanningAppProvider.java:172)&lt;br/&gt;
 &#160;&#160; &#160;at org.eclipse.jetty.deploy.providers.WebAppProvider.fileAdded(WebAppProvider.java:436)&lt;br/&gt;
 &#160;&#160; &#160;at org.eclipse.jetty.deploy.providers.ScanningAppProvider$1.fileAdded(ScanningAppProvider.java:65)&lt;br/&gt;
 &#160;&#160; &#160;at org.eclipse.jetty.util.Scanner.reportAddition(Scanner.java:610)&lt;br/&gt;
 &#160;&#160; &#160;at org.eclipse.jetty.util.Scanner.reportDifferences(Scanner.java:529)&lt;br/&gt;
 &#160;&#160; &#160;at org.eclipse.jetty.util.Scanner.scan(Scanner.java:392)&lt;br/&gt;
 &#160;&#160; &#160;at org.eclipse.jetty.util.Scanner.doStart(Scanner.java:313)&lt;br/&gt;
 &#160;&#160; &#160;at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)&lt;br/&gt;
 &#160;&#160; &#160;at org.eclipse.jetty.deploy.providers.ScanningAppProvider.doStart(ScanningAppProvider.java:145)&lt;br/&gt;
 &#160;&#160; &#160;at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)&lt;br/&gt;
 &#160;&#160; &#160;at org.eclipse.jetty.deploy.DeploymentManager.startAppProvider(DeploymentManager.java:598)&lt;br/&gt;
 &#160;&#160; &#160;at org.eclipse.jetty.deploy.DeploymentManager.doStart(DeploymentManager.java:240)&lt;br/&gt;
 &#160;&#160; &#160;at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)&lt;br/&gt;
 &#160;&#160; &#160;at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:167)&lt;br/&gt;
 &#160;&#160; &#160;at org.eclipse.jetty.server.Server.start(Server.java:418)&lt;br/&gt;
 &#160;&#160; &#160;at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:119)&lt;br/&gt;
 &#160;&#160; &#160;at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:113)&lt;br/&gt;
 &#160;&#160; &#160;at org.eclipse.jetty.server.Server.doStart(Server.java:382)&lt;br/&gt;
 &#160;&#160; &#160;at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)&lt;br/&gt;
 &#160;&#160; &#160;at org.eclipse.jetty.xml.XmlConfiguration.lambda$main$0(XmlConfiguration.java:1797)&lt;br/&gt;
 &#160;&#160; &#160;at java.base/java.security.AccessController.doPrivileged(Native Method)&lt;br/&gt;
 &#160;&#160; &#160;at org.eclipse.jetty.xml.XmlConfiguration.main(XmlConfiguration.java:1746)&lt;br/&gt;
 &#160;&#160; &#160;at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
 &#160;&#160; &#160;at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)&lt;br/&gt;
 &#160;&#160; &#160;at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&lt;br/&gt;
 &#160;&#160; &#160;at java.base/java.lang.reflect.Method.invoke(Method.java:566)&lt;br/&gt;
 &#160;&#160; &#160;at org.eclipse.jetty.start.Main.invokeMain(Main.java:220)&lt;br/&gt;
 &#160;&#160; &#160;at org.eclipse.jetty.start.Main.start(Main.java:490)&lt;br/&gt;
 &#160;&#160; &#160;at org.eclipse.jetty.start.Main.main(Main.java:77)&lt;br/&gt;
 Caused by: java.lang.ClassNotFoundException: io.netty.channel.ChannelHandler&lt;br/&gt;
 &#160;&#160; &#160;at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:471)&lt;br/&gt;
 &#160;&#160; &#160;at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:588)&lt;br/&gt;
 &#160;&#160; &#160;at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)&lt;br/&gt;
 &#160;&#160; &#160;at org.eclipse.jetty.webapp.WebAppClassLoader.loadClass(WebAppClassLoader.java:555)&lt;br/&gt;
 &#160;&#160; &#160;at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)&lt;br/&gt;
 &#160;&#160; &#160;... 64 more&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Is there a jar file missing in the Solr distribution? Can this be fixed by copying the Jar file in 8.2 to the webapp/lib directory?&lt;/p&gt;</description>
                <environment></environment>
        <key id="13247918">SOLR-13665</key>
            <summary>Connecting to ZK on SSL port (secureClient: ClassNotDef found error)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="janhoy">Jan H&#248;ydahl</assignee>
                                    <reporter username="jornfranke">J&#246;rn Franke</reporter>
                        <labels>
                    </labels>
                <created>Tue, 30 Jul 2019 18:42:59 +0000</created>
                <updated>Tue, 21 Jan 2020 16:58:40 +0000</updated>
                            <resolved>Tue, 15 Oct 2019 08:53:11 +0000</resolved>
                                    <version>8.2</version>
                                    <fixVersion>8.3</fixVersion>
                                    <component>SolrCloud</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1800">0.5h</timespent>
                                <comments>
                            <comment id="16896411" author="elyograg" created="Tue, 30 Jul 2019 18:59:08 +0000"  >&lt;p&gt;The ZK SSL guide says that Netty is required for SSL.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/ZOOKEEPER/ZooKeeper+SSL+User+Guide&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://cwiki.apache.org/confluence/display/ZOOKEEPER/ZooKeeper+SSL+User+Guide&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Solr has a dependency on netty for tests, but not for anything else &amp;#8211; it&apos;s not in the binary download.&lt;/p&gt;

&lt;p&gt;This requirement probably was not known when we upgraded ZK to 3.5.5.  Manually adding the netty jar to WEB-INF/lib would most likely fix the problem.  I can&apos;t guarantee that, but I think it should work.&lt;/p&gt;

&lt;p&gt;The binary ZK 3.5.5 download contains a file named netty-all-4.1.29.Final.jar that should work.&lt;/p&gt;</comment>
                            <comment id="16896414" author="jornfranke" created="Tue, 30 Jul 2019 19:02:48 +0000"  >&lt;p&gt;Ok thanks,&#160; I will try.&lt;/p&gt;

&lt;p&gt;Would it make sense to include it in the Solr distribution?&lt;/p&gt;

&lt;p&gt;That being said, I can also describe in the reference guide some instructions on how to configure it, if wanted/needed. Just point me to some documents on how to update it.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Probably the SolrCloud client (included via SolrJ) should also add the library in its classpath.&lt;/p&gt;</comment>
                            <comment id="16896471" author="elyograg" created="Tue, 30 Jul 2019 20:08:38 +0000"  >&lt;p&gt;Yes, the netty jar probably needs to be added to solrj-libs as well as the webapp.  I wonder if the SSL functionality that ZK needs can be satisfied by a smaller jar than netty-all.  The Solr download is already quite large.  The specific class that was missing in the error above is in the netty-transport jar, but I have no idea whether that jar contains everything that ZK needs for SSL:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://mvnrepository.com/artifact/io.netty/netty-transport/4.1.38.Final&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://mvnrepository.com/artifact/io.netty/netty-transport/4.1.38.Final&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16896476" author="jornfranke" created="Tue, 30 Jul 2019 20:15:26 +0000"  >&lt;p&gt;I will experiment a bit and see if a smaller library is possible. I may need a few days due to other tasks. I hope then I can come up with some example instructions as well.&lt;/p&gt;</comment>
                            <comment id="16896499" author="janhoy" created="Tue, 30 Jul 2019 20:34:17 +0000"  >&lt;p&gt;Thanks for working on this. You may also see &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7893&quot; title=&quot;Document ZooKeeper SSL support&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7893&quot;&gt;SOLR-7893&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16897460" author="jornfranke" created="Wed, 31 Jul 2019 19:20:01 +0000"  >&lt;p&gt;I started with netty-transport, but it always found new NoClassDefs so I ended up in adding the Jetty-all dependency, which resolved all of them. I cannot exclude that there is a set of jars that will do the same purpose but you might no save so much in size. Lets wait for feedback from the Zookeeper mailing list&lt;/p&gt;</comment>
                            <comment id="16900045" author="janhoy" created="Mon, 5 Aug 2019 12:19:49 +0000"  >&lt;p&gt;Ok, according to&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/ZOOKEEPER-3494&quot; title=&quot;No need to depend on netty-all (SSL)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ZOOKEEPER-3494&quot;&gt;&lt;del&gt;ZOOKEEPER-3494&lt;/del&gt;&lt;/a&gt;&#160;the necessary dups are netty-handler (429KB) and netty-transport-native-epoll (115KB). We should add these to ivy for next release. Anyone want to put up a patch? (Must not forget to commit similar to the Gradle branch too)&lt;/p&gt;</comment>
                            <comment id="16900097" author="nkalmar" created="Mon, 5 Aug 2019 13:48:48 +0000"  >&lt;p&gt;Hi Solr devs,&lt;/p&gt;

&lt;p&gt;I checked ZooKeeper dependencies, netty-handler (429KB) and netty-transport-native-epoll (115KB) is required for ZK. this is only ~ 0.5MB, not 4 like netty-all.&lt;br/&gt;
If I understand this would be better for you. &lt;br/&gt;
I linked the ZK jira for this change, pull request is already in place.&lt;/p&gt;

&lt;p&gt;edit: I see Jan already commented. This is not yet merged or accepted to master/3.5, but this 2 jar should fulfill ZK&apos;s dependency.&lt;/p&gt;

&lt;p&gt;Regards,&lt;br/&gt;
Norbert&lt;/p&gt;</comment>
                            <comment id="16948352" author="janhoy" created="Thu, 10 Oct 2019 09:36:56 +0000"  >&lt;p&gt;I&apos;m picking up this and hope to get it in 8.3&lt;/p&gt;</comment>
                            <comment id="16948385" author="janhoy" created="Thu, 10 Oct 2019 10:18:14 +0000"  >&lt;p&gt;Please see&#160;&lt;a href=&quot;https://github.com/apache/lucene-solr/pull/938&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;GitHub Pull Request #938&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16948824" author="janhoy" created="Thu, 10 Oct 2019 17:48:58 +0000"  >&lt;p&gt;I get it working when I include &lt;tt&gt;netty-all.jar&lt;/tt&gt;, but when I try to pick the two jars mentioned above I&apos;m still missing some classes. Here is the full set of netty jars I had to include in solrj/ivy.xml for ZK SSL to work without ClassNotFound:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;dependency org=&lt;span class=&quot;code-quote&quot;&gt;&quot;io.netty&quot;&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;netty-common&quot;&lt;/span&gt; rev=&lt;span class=&quot;code-quote&quot;&gt;&quot;${/io.netty/netty-common}&quot;&lt;/span&gt; conf=&lt;span class=&quot;code-quote&quot;&gt;&quot;compile&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;dependency org=&lt;span class=&quot;code-quote&quot;&gt;&quot;io.netty&quot;&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;netty-resolver&quot;&lt;/span&gt; rev=&lt;span class=&quot;code-quote&quot;&gt;&quot;${/io.netty/netty-resolver}&quot;&lt;/span&gt; conf=&lt;span class=&quot;code-quote&quot;&gt;&quot;compile&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;dependency org=&lt;span class=&quot;code-quote&quot;&gt;&quot;io.netty&quot;&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;netty-buffer&quot;&lt;/span&gt; rev=&lt;span class=&quot;code-quote&quot;&gt;&quot;${/io.netty/netty-buffer}&quot;&lt;/span&gt; conf=&lt;span class=&quot;code-quote&quot;&gt;&quot;compile&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;dependency org=&lt;span class=&quot;code-quote&quot;&gt;&quot;io.netty&quot;&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;netty-codec&quot;&lt;/span&gt; rev=&lt;span class=&quot;code-quote&quot;&gt;&quot;${/io.netty/netty-codec}&quot;&lt;/span&gt; conf=&lt;span class=&quot;code-quote&quot;&gt;&quot;compile&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;dependency org=&lt;span class=&quot;code-quote&quot;&gt;&quot;io.netty&quot;&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;netty-handler&quot;&lt;/span&gt; rev=&lt;span class=&quot;code-quote&quot;&gt;&quot;${/io.netty/netty-handler}&quot;&lt;/span&gt; conf=&lt;span class=&quot;code-quote&quot;&gt;&quot;compile&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;dependency org=&lt;span class=&quot;code-quote&quot;&gt;&quot;io.netty&quot;&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;netty-transport&quot;&lt;/span&gt; rev=&lt;span class=&quot;code-quote&quot;&gt;&quot;${/io.netty/netty-transport}&quot;&lt;/span&gt; conf=&lt;span class=&quot;code-quote&quot;&gt;&quot;compile&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;dependency org=&lt;span class=&quot;code-quote&quot;&gt;&quot;io.netty&quot;&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;netty-transport-native-epoll&quot;&lt;/span&gt; rev=&lt;span class=&quot;code-quote&quot;&gt;&quot;${/io.netty/netty-transport-native-epoll}&quot;&lt;/span&gt; conf=&lt;span class=&quot;code-quote&quot;&gt;&quot;compile&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt; &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;All these jars weigh 2.2Mb while netty-all weighs 3.9Mb, i.e. not that big saving. There could still be other netty libs that are needed in runtime that I have not yet encountered, but I don&apos;t think that is likely.&lt;/p&gt;

&lt;p&gt;I wonder how/why the ZK project manages with only &lt;tt&gt;netty-handler&lt;/tt&gt; and &lt;tt&gt;netty-transport-native-epoll&lt;/tt&gt;...&lt;/p&gt;</comment>
                            <comment id="16948917" author="janhoy" created="Thu, 10 Oct 2019 20:13:12 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=elyograg&quot; class=&quot;user-hover&quot; rel=&quot;elyograg&quot;&gt;elyograg&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jornfranke&quot; class=&quot;user-hover&quot; rel=&quot;jornfranke&quot;&gt;jornfranke&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dsmiley&quot; class=&quot;user-hover&quot; rel=&quot;dsmiley&quot;&gt;dsmiley&lt;/a&gt; &#160;PR 938 is ready for review, it passes precommit and I want to target the upcoming 8.3.&lt;/p&gt;

&lt;p&gt;Please if you could both review the PR and if possible if you have a test environment, test with SSL against ZK 3.5.5. Do anyone of you know how we could possibly write a unit test to validate ZK SSL traffic? I see &lt;tt&gt;ZkTestServer&lt;/tt&gt; that is used in tests, guess we could extend it with capability of listening on secureClientPort with some pre-canned certificate? But won&apos;t have time for that for 8.3 so better to get the jars in the release and manual test for now?&lt;/p&gt;</comment>
                            <comment id="16950797" author="janhoy" created="Mon, 14 Oct 2019 08:12:27 +0000"  >&lt;p&gt;So what do you think? The current set of netty libs seems to do the trick and that is what I plan to merge very soon, unless anyone object. The alternative is to include netty-all which is 1.7Mb larger and a bit safer in case there is some runtime dependencies on other libs that we have not encountered in testing so far?&lt;/p&gt;</comment>
                            <comment id="16951701" author="janhoy" created="Tue, 15 Oct 2019 08:04:16 +0000"  >&lt;p&gt;So I inspected the dependency tree on maven for &lt;tt&gt;netty-transport-native-epoll&lt;/tt&gt; and &lt;tt&gt;netty-handler&lt;/tt&gt; and see that they depend on common, buffer, transport, codec etc, so the reason why zookeeper project can get away with only those two is because they use transitive dependency resolution while we don&apos;t. There was one compile-time lib dependency that I needed to add to the PR, namely &lt;tt&gt;netty-transport-native-unix-common&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;I&apos;ll merge once precommit passes &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="16951722" author="jira-bot" created="Tue, 15 Oct 2019 08:35:30 +0000"  >&lt;p&gt;Commit 64fb42c71475fb849da873297f53a982e5293f14 in lucene-solr&apos;s branch refs/heads/master from Jan H&#248;ydahl&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=64fb42c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=64fb42c&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13665&quot; title=&quot;Connecting to ZK on SSL port (secureClient: ClassNotDef found error)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13665&quot;&gt;&lt;del&gt;SOLR-13665&lt;/del&gt;&lt;/a&gt;: Added missing netty dependencies to solrJ (#938)&lt;/p&gt;
</comment>
                            <comment id="16951733" author="jira-bot" created="Tue, 15 Oct 2019 08:50:59 +0000"  >&lt;p&gt;Commit 337dbd50a61fde770204fe605b64c79ad99e8b4b in lucene-solr&apos;s branch refs/heads/branch_8x from Jan H&#248;ydahl&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=337dbd5&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=337dbd5&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13665&quot; title=&quot;Connecting to ZK on SSL port (secureClient: ClassNotDef found error)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13665&quot;&gt;&lt;del&gt;SOLR-13665&lt;/del&gt;&lt;/a&gt;: Added missing netty dependencies to solrJ (#938)&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 64fb42c71475fb849da873297f53a982e5293f14)&lt;/p&gt;</comment>
                            <comment id="16951738" author="jira-bot" created="Tue, 15 Oct 2019 08:53:12 +0000"  >&lt;p&gt;Commit 7581c5d41b032d7ec1e619d92e7ec437a77b0c03 in lucene-solr&apos;s branch refs/heads/branch_8_3 from Jan H&#248;ydahl&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=7581c5d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=7581c5d&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13665&quot; title=&quot;Connecting to ZK on SSL port (secureClient: ClassNotDef found error)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13665&quot;&gt;&lt;del&gt;SOLR-13665&lt;/del&gt;&lt;/a&gt;: Added missing netty dependencies to solrJ (#938)&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 64fb42c71475fb849da873297f53a982e5293f14)&lt;/p&gt;</comment>
                            <comment id="16951803" author="elyograg" created="Tue, 15 Oct 2019 10:18:47 +0000"  >&lt;blockquote&gt;&lt;p&gt;so the reason why zookeeper project can get away with only those two is because they use transitive dependency resolution while we don&apos;t&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;TL;DR comment.&lt;/p&gt;

&lt;p&gt;If I have read the intent properly, the new Gradle build will be set to primarily transitive dependencies.  I think we should be using those for the most part, except for situations where we KNOW we don&apos;t need something that would normally be included, and for those we should probably be using exclusions rather than non-transitive.  IMHO.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12852841">SOLR-7893</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13248867">ZOOKEEPER-3494</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 5 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0563s:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>