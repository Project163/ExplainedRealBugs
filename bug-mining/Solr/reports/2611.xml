<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:07:14 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-7957] Allow multiple queries per request and simplify ResultContext / TransformContext</title>
                <link>https://issues.apache.org/jira/browse/SOLR-7957</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;Today we have a ResultContext which simply has two public variables query and docList.  For writing a response, those fields are used to create a DocsStreamer which creates a TransformContext for transformers (which just copies the values like searcher, req, q, etc again).&lt;/p&gt;

&lt;p&gt;It seems the all the methods on TransformContext could be simply moved to ResultContext.&lt;/p&gt;

&lt;p&gt;Only exception is &quot;iterator&quot; needed by ScoreAugmenter, but we could simply pass down the score in the transform() method as well.&lt;/p&gt;

&lt;p&gt;This would result in a ResultContext that could do things like support multiple queries with different return fields, and things like returning a list of docs from another core (think cross-core join).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12858095">SOLR-7957</key>
            <summary>Allow multiple queries per request and simplify ResultContext / TransformContext</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="yseeley@gmail.com">Yonik Seeley</assignee>
                                    <reporter username="yseeley@gmail.com">Yonik Seeley</reporter>
                        <labels>
                    </labels>
                <created>Sat, 22 Aug 2015 21:26:49 +0000</created>
                <updated>Thu, 16 Jun 2016 13:46:38 +0000</updated>
                            <resolved>Sun, 3 Jan 2016 14:54:23 +0000</resolved>
                                                    <fixVersion>6.0</fixVersion>
                                    <component>search</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14717949" author="yseeley@gmail.com" created="Fri, 28 Aug 2015 02:39:22 +0000"  >&lt;p&gt;OK, here&apos;s a patch that puts  enough info into ResultContext to allow for multiple queries per request.  Since the ResultContext carries all of the info that was previously in TransformContext, the latter was redundant and hence was removed.&lt;/p&gt;

&lt;p&gt;ResponseWriters now ask for an iterator over the results from the ResultContext itself, expanding future options (as opposed to hard-coding DocStreamer).&lt;/p&gt;

&lt;p&gt;This doesn&apos;t address all of the issues with transformers, etc...  we don&apos;t have a good answer for transformers that would benefit from batching, and transformers aren&apos;t thread safe (they can&apos;t be used concurrently in different threads).  But I think allowing multiple queries per request is a good start.&lt;/p&gt;</comment>
                            <comment id="14720597" author="jira-bot" created="Fri, 28 Aug 2015 21:24:46 +0000"  >&lt;p&gt;Commit 1698421 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yonik%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;yonik@apache.org&quot;&gt;yonik@apache.org&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1698421&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1698421&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7957&quot; title=&quot;Allow multiple queries per request and simplify ResultContext / TransformContext&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7957&quot;&gt;&lt;del&gt;SOLR-7957&lt;/del&gt;&lt;/a&gt;: expand ResultContext to allow for multiple DocLists per response, remove redundant TransformContext&lt;/p&gt;</comment>
                            <comment id="14721003" author="jira-bot" created="Sat, 29 Aug 2015 07:47:04 +0000"  >&lt;p&gt;Commit 1698442 from shalin@apache.org in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1698442&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1698442&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7957&quot; title=&quot;Allow multiple queries per request and simplify ResultContext / TransformContext&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7957&quot;&gt;&lt;del&gt;SOLR-7957&lt;/del&gt;&lt;/a&gt;: Fix javadoc error causing precommit to fail&lt;/p&gt;</comment>
                            <comment id="15071237" author="erickerickson" created="Thu, 24 Dec 2015 20:48:27 +0000"  >&lt;p&gt;OK, never mind my previous noise. But the questions still remain:&lt;br/&gt;
1&amp;gt; should this be merged into 5x?&lt;br/&gt;
2&amp;gt; can it be closed?&lt;/p&gt;</comment>
                            <comment id="15080446" author="yseeley@gmail.com" created="Sun, 3 Jan 2016 14:54:24 +0000"  >&lt;p&gt;I only committed these changes to trunk because they changed/removed public interfaces that would reasonably be used by certain plugins.&lt;/p&gt;</comment>
                            <comment id="15333810" author="jira-bot" created="Thu, 16 Jun 2016 13:46:30 +0000"  >&lt;p&gt;Commit 489f386b766882d717d1bf5f740b81c179084d0e in lucene-solr&apos;s branch refs/heads/branch_5_5 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=steve_rowe&quot; class=&quot;user-hover&quot; rel=&quot;steve_rowe&quot;&gt;steve_rowe&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=489f386&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=489f386&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8902&quot; title=&quot;ReturnFields can return fields that were not requested&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-8902&quot;&gt;&lt;del&gt;SOLR-8902&lt;/del&gt;&lt;/a&gt;: don&apos;t try to pull return fields from the ResultContext - this method, added in &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7957&quot; title=&quot;Allow multiple queries per request and simplify ResultContext / TransformContext&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7957&quot;&gt;&lt;del&gt;SOLR-7957&lt;/del&gt;&lt;/a&gt;, won&apos;t be backported to 5.x&lt;/p&gt;</comment>
                            <comment id="15333816" author="jira-bot" created="Thu, 16 Jun 2016 13:46:38 +0000"  >&lt;p&gt;Commit 0442aa5e5eca3a688fa1aa47b26d2f1aeaa5c994 in lucene-solr&apos;s branch refs/heads/branch_5x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=steve_rowe&quot; class=&quot;user-hover&quot; rel=&quot;steve_rowe&quot;&gt;steve_rowe&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=0442aa5&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=0442aa5&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8902&quot; title=&quot;ReturnFields can return fields that were not requested&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-8902&quot;&gt;&lt;del&gt;SOLR-8902&lt;/del&gt;&lt;/a&gt;: don&apos;t try to pull return fields from the ResultContext - this method, added in &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7957&quot; title=&quot;Allow multiple queries per request and simplify ResultContext / TransformContext&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7957&quot;&gt;&lt;del&gt;SOLR-7957&lt;/del&gt;&lt;/a&gt;, won&apos;t be backported to 5.x&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12752921" name="SOLR-7957.patch" size="45203" author="yseeley@gmail.com" created="Fri, 28 Aug 2015 02:39:22 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 22 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2j93j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>