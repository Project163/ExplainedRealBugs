<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:43:29 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-11035] (at least) 2 distinct failures possible when clients attempt searches during SolrCore reload</title>
                <link>https://issues.apache.org/jira/browse/SOLR-11035</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>
&lt;p&gt;If a SolrCore is reloaded, there are (at least) 2 distinct types of failures that clients may observe when executing updates + queries while the reload is in progress...&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;documents may appear missing during queries&lt;/li&gt;
	&lt;li&gt;queries may fail with &quot;SolrException: openNewSearcher called on closed core&quot;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Details to follow in comment...&lt;/p&gt;</description>
                <environment></environment>
        <key id="13085638">SOLR-11035</key>
            <summary>(at least) 2 distinct failures possible when clients attempt searches during SolrCore reload</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="erickerickson">Erick Erickson</assignee>
                                    <reporter username="hossman">Chris M. Hostetter</reporter>
                        <labels>
                    </labels>
                <created>Sat, 8 Jul 2017 01:42:08 +0000</created>
                <updated>Tue, 24 Mar 2020 12:45:12 +0000</updated>
                            <resolved>Fri, 21 Feb 2020 16:13:34 +0000</resolved>
                                                    <fixVersion>8.5</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="16078892" author="hossman" created="Sat, 8 Jul 2017 01:43:13 +0000"  >
&lt;p&gt;This issue is the root cause of some suspicious (mostly cloud based) test failures that &amp;#8211; on the surface &amp;#8211; may initially seem like they are either &apos;impossible&apos; or that the commit requests done by the tests are returning before the newSearcher was opened (even though &lt;tt&gt;waitSearcher=true&lt;/tt&gt;).&lt;/p&gt;

&lt;p&gt;In my personal experience, the crux of the symptoms are:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Documents missing from searches done immediately after they were (successfully) added+commited&lt;/li&gt;
	&lt;li&gt;Seeds don&apos;t reproduce reliably, but fail more commonly when running many tests and/or CPU usage on the test machine is high.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;An example of this class of test failure that initially caught my eye, and I could typically get to reproduce semi-frequently is DocValuesNotIndexedTest.testGroupingDVOnly.  Running only that test method &amp;#8211; or even that entire class &amp;#8211; never failed for me, but if i ran &lt;tt&gt;ant test -Dtests.class=&amp;#42;DocValues&amp;#42;&lt;/tt&gt; I could usually get a consistent failure within ~15 attempts.&lt;/p&gt;

&lt;p&gt;One thing most of these failing tests have in common is that instead of a static schema, they use managed-schema and either use the Schema API to explicitly create the fields needed, or let the schemaless update processors add fields as needed.&lt;/p&gt;

&lt;p&gt;In comparing the logs of &quot;successful&quot; runs vs &quot;failure&quot; runs, the thing that jumped out at me is that the failure runs contain more SolrCore &quot;reloads&quot; (due to &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11034&quot; title=&quot;Redundent/Unneccessary SolrCore reload when ManagedIndexSchema changes are made in cloud mode&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-11034&quot;&gt;SOLR-11034&lt;/a&gt;) and in every failure case i saw the &quot;CLOSING&quot; log message of a SolrCore was occuring &lt;em&gt;after&lt;/em&gt; the document adds &amp;amp; commit had been logged by that core, but &lt;em&gt;before&lt;/em&gt; the log messages from the searches that failed validation (meaning they were processed by the newly (re)loaded core)&lt;/p&gt;

&lt;p&gt;As Shalin notes in &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10562&quot; title=&quot;TestSolrCLIRunExample failures indicating documents just indexed are not all searchable.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10562&quot;&gt;&lt;del&gt;SOLR-10562&lt;/del&gt;&lt;/a&gt; (where the Congif API is used causing a core reload) in the process of closing the &quot;old&quot; core and opening the &quot;new&quot; core, there is a race condition where the &quot;old&quot; core will accept/log/write documents/commits to the index, but these will not be immediately visible to the SolrIndexSearcher that the &quot;new&quot; core is using once the hand-off is made.&lt;/p&gt;

&lt;p&gt;I wrote the attached test class to try and demonstrate this problem in it&apos;s simplest form (independent of ManagedIndexSchema or SolrCloud or Config API) using concurrent 2 threads: one to do an &quot;add, commit(waitSearcher), query&quot; and the second to trigger a core reload.&lt;/p&gt;

&lt;p&gt;In addition to reproducing the failure I expected (where the query result don&apos;t reflect the last add+commit) i was able to trigger the second type of failure mentioned above: queries can be routed to the &quot;old&quot; core after/during it&apos;s shutdown, causing a solr exception because the (old) core refuses to open a new searcher.&lt;/p&gt;

&lt;p&gt;I tweaked my test as originally written to include a HACK making it possible to demonstrate both types of failures in a single run &amp;#8211; see the attached log for full details....&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;   [junit4]   2&amp;gt; NOTE: reproduce with: ant test  -Dtestcase=TestReloadConcurrentAdds -Dtests.method=testConcurrent -Dtests.seed=5A728C1E8654399 -Dtests.slow=true -Dtests.locale=es-PA -Dtests.timezone=Atlantic/Faroe -Dtests.asserts=true -Dtests.file.encoding=UTF-8
   [junit4] ERROR   0.57s | TestReloadConcurrentAdds.testConcurrent &amp;lt;&amp;lt;&amp;lt;
   [junit4]    &amp;gt; Throwable #1: java.lang.RuntimeException: Exception during query
   [junit4]    &amp;gt;        at __randomizedtesting.SeedInfo.seed([5A728C1E8654399:25D4A7DB2FCE2B30]:0)
   [junit4]    &amp;gt;        at org.apache.solr.SolrTestCaseJ4.assertQ(SolrTestCaseJ4.java:878)
   [junit4]    &amp;gt;        at org.apache.solr.SolrTestCaseJ4.assertQ(SolrTestCaseJ4.java:845)
   [junit4]    &amp;gt;        at org.apache.solr.core.TestReloadConcurrentAdds.testConcurrent(TestReloadConcurrentAdds.java:103)
   [junit4]    &amp;gt;        at org.apache.solr.core.TestReloadConcurrentAdds.testConcurrent(TestReloadConcurrentAdds.java:49)
   [junit4]    &amp;gt;        at java.lang.Thread.run(Thread.java:748)
   [junit4]    &amp;gt; Caused by: org.apache.solr.common.SolrException: openNewSearcher called on closed core
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;   [junit4]   2&amp;gt; NOTE: reproduce with: ant test  -Dtestcase=TestReloadConcurrentAdds -Dtests.method=testConcurrentWithNewSearcherExceptionHack -Dtests.seed=5A728C1E8654399 -Dtests.slow=true -Dtests.locale=es-PA -Dtests.timezone=Atlantic/Faroe -Dtests.asserts=true -Dtests.file.encoding=UTF-8
   [junit4] ERROR   0.81s | TestReloadConcurrentAdds.testConcurrentWithNewSearcherExceptionHack &amp;lt;&amp;lt;&amp;lt;
   [junit4]    &amp;gt; Throwable #1: java.lang.RuntimeException: Exception during query
   [junit4]    &amp;gt;        at __randomizedtesting.SeedInfo.seed([5A728C1E8654399:1C989F4D65319F55]:0)
   [junit4]    &amp;gt;        at org.apache.solr.SolrTestCaseJ4.assertQ(SolrTestCaseJ4.java:878)
   [junit4]    &amp;gt;        at org.apache.solr.SolrTestCaseJ4.assertQ(SolrTestCaseJ4.java:845)
   [junit4]    &amp;gt;        at org.apache.solr.core.TestReloadConcurrentAdds.testConcurrent(TestReloadConcurrentAdds.java:103)
   [junit4]    &amp;gt;        at org.apache.solr.core.TestReloadConcurrentAdds.testConcurrentWithNewSearcherExceptionHack(TestReloadConcurrentAdds.java:55)
   [junit4]    &amp;gt;        at java.lang.Thread.run(Thread.java:748)
   [junit4]    &amp;gt; Caused by: java.lang.RuntimeException: REQUEST FAILED: xpath=//result[@numFound=&apos;33&apos;]
   [junit4]    &amp;gt;        xml response was: &amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;
   [junit4]    &amp;gt; &amp;lt;response&amp;gt;
   [junit4]    &amp;gt; &amp;lt;lst name=&quot;responseHeader&quot;&amp;gt;
   [junit4]    &amp;gt;   &amp;lt;int name=&quot;status&quot;&amp;gt;0&amp;lt;/int&amp;gt;
   [junit4]    &amp;gt;   &amp;lt;int name=&quot;QTime&quot;&amp;gt;0&amp;lt;/int&amp;gt;
   [junit4]    &amp;gt;   &amp;lt;lst name=&quot;params&quot;&amp;gt;
   [junit4]    &amp;gt;     &amp;lt;str name=&quot;q&quot;&amp;gt;*:*&amp;lt;/str&amp;gt;
   [junit4]    &amp;gt;     &amp;lt;str name=&quot;rows&quot;&amp;gt;0&amp;lt;/str&amp;gt;
   [junit4]    &amp;gt;     &amp;lt;str name=&quot;wt&quot;&amp;gt;xml&amp;lt;/str&amp;gt;
   [junit4]    &amp;gt;   &amp;lt;/lst&amp;gt;
   [junit4]    &amp;gt; &amp;lt;/lst&amp;gt;
   [junit4]    &amp;gt; &amp;lt;result name=&quot;response&quot; numFound=&quot;32&quot; start=&quot;0&quot;&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16078899" author="hossman" created="Sat, 8 Jul 2017 01:49:28 +0000"  >&lt;p&gt;Linking &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10562&quot; title=&quot;TestSolrCLIRunExample failures indicating documents just indexed are not all searchable.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10562&quot;&gt;&lt;del&gt;SOLR-10562&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9843&quot; title=&quot;DocValuesNotIndexedTest failures indicating exepected documents aren&amp;#39;t found&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9843&quot;&gt;&lt;del&gt;SOLR-9843&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16078901" author="hossman" created="Sat, 8 Jul 2017 01:51:28 +0000"  >&lt;p&gt;re-attaching log.txt with ansi color markup removed. (sorry about that)&lt;/p&gt;</comment>
                            <comment id="16096746" author="sarkaramrit2@gmail.com" created="Fri, 21 Jul 2017 19:37:13 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hossman&quot; class=&quot;user-hover&quot; rel=&quot;hossman&quot;&gt;hossman&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;Pardon me if I am missing context or steps, I tried reproducing the failure by applying the patch attached and running the test seeds you listed 20 times each continuously. It succeeded everytime.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;ant test  -Dtestcase=TestReloadConcurrentAdds -Dtests.method=testConcurrentWithNewSearcherExceptionHack -Dtests.seed=5A728C1E8654399 -Dtests.slow=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; -Dtests.locale=es-PA -Dtests.timezone=Atlantic/Faroe -Dtests.asserts=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; -Dtests.file.encoding=UTF-8
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;ant test  -Dtestcase=TestReloadConcurrentAdds -Dtests.method=testConcurrent -Dtests.seed=5A728C1E8654399 -Dtests.slow=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; -Dtests.locale=es-PA -Dtests.timezone=Atlantic/Faroe -Dtests.asserts=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; -Dtests.file.encoding=UTF-8
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</comment>
                            <comment id="16096922" author="hossman" created="Fri, 21 Jul 2017 21:57:15 +0000"  >&lt;p&gt;Amrit: because of the nature of the bug (concurrent threads w/o synchronization or adequate locking) it&apos;s virtually impossible to write a test that is garunteed to fail on any system.  The test case i&apos;ve attached just boils the problematic scenerios down into their simplest essence.&lt;/p&gt;

&lt;p&gt;If they pass reliably for you, i would suggest trying with diff seeds, and or increasing the CPU load on your machine to force more thread switching in the JVM (with something like &lt;tt&gt;stress&lt;/tt&gt;)&lt;/p&gt;

&lt;p&gt;either way: As i described in my earlier comment (and as shalin described in the linked issue) at least one of the problems is fairly self evident when reading the code.&lt;/p&gt;</comment>
                            <comment id="16097413" author="erickerickson" created="Sat, 22 Jul 2017 19:20:47 +0000"  >&lt;p&gt;I can get this to fail virtually all the time by beasting it on my MBP, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sarkaramrit2%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;sarkaramrit2@gmail.com&quot;&gt;sarkaramrit2@gmail.com&lt;/a&gt; go ahead and put any patches up and let me know and I can verify.&lt;/p&gt;

&lt;p&gt;I&apos;ve assigned this to myself, but Amrit will be doing the heavy lifting. If we get a good patch for this I&apos;ll also beast the related JIRAs and see. Although it won&apos;t be clear until patches happen what it means for &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10034&quot; title=&quot;PointField could leverage IndexOrDocValuesQuery&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10034&quot;&gt;&lt;del&gt;SOLR-10034&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16818171" author="erickerickson" created="Mon, 15 Apr 2019 16:53:59 +0000"  >&lt;p&gt;Now here we have a collossally ugly patch. We&apos;ve known for a long time that there&apos;s a problem here, but we don&apos;t have a root cause. Meanwhile, here&apos;s a bandaid patch for tests that are sensitive to this issue, with a &quot;fixer uppoer&quot; method cleverly named Solr11035BandAid. DocValuesNotIndexedTest is the one I was working on this weekend and have used it in.&lt;/p&gt;

&lt;p&gt;The root problem here is that I can:&lt;br/&gt;
&amp;gt; commit some docs synchronously, so when it returns I should have a new searcher that sees them.&lt;br/&gt;
&amp;gt; go search for those docs added above and not find them. No matter how long I wait.&lt;/p&gt;

&lt;p&gt;So this patch creates a utility function in SolrTestCaseJ4 that we can call for &quot;impossible&quot; failures with this pattern that:&lt;br/&gt;
&amp;gt; checks to see whether the counts for the query passed in match the expectation. If it does, return. Otherwise&lt;br/&gt;
&amp;gt; indexes a bogus doc (with commit)&lt;br/&gt;
&amp;gt; deletes that same doc (with commit)&lt;br/&gt;
&amp;gt; checks numFound again and fails if they don&apos;t match.&lt;/p&gt;

&lt;p&gt;What I can guarantee:&lt;/p&gt;

&lt;p&gt;&amp;gt; DocValuesNotIndexedTest would fail about 10-15% of the time with the test case in the comments of the new method in SolrTestCaseJ4&lt;br/&gt;
&amp;gt; I see the log messages regularly from the new method, but the test calling it succeeds&lt;br/&gt;
&amp;gt; This is not a good fix, but it&apos;ll reduce the noise until we&#160;figure out a proper fix&lt;br/&gt;
&amp;gt; Once the underlying cause is fixed, we can comment out the body this method to see if the problem is really gone. If so, nuke it.&lt;/p&gt;

&lt;p&gt;I&apos;ll commit this soon, and as other tests come up that have the same pattern we&#160;can add the call to the new method. Precommit passes, and all the DocValuesNotIndexedTest tests use it, but no others. I&apos;m calling it &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11035&quot; title=&quot;(at least) 2 distinct failures possible when clients attempt searches during SolrCore reload&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-11035&quot;&gt;&lt;del&gt;SOLR-11035&lt;/del&gt;&lt;/a&gt;-bandaid.patch to keep it distinct from the &lt;em&gt;real&lt;/em&gt; fix.&lt;/p&gt;

&lt;p&gt;Callers will have to take some care to know how many docs &lt;em&gt;should&lt;/em&gt; be found, which will be trickier when random numbers of docs are indexed. Any test that depends on merging predictably can&apos;t use it, etc.&lt;/p&gt;</comment>
                            <comment id="16821657" author="erickerickson" created="Fri, 19 Apr 2019 04:35:21 +0000"  >&lt;p&gt;Final patch for DocValuesNotIndexed test with CHANGES entry&lt;/p&gt;</comment>
                            <comment id="16821658" author="jira-bot" created="Fri, 19 Apr 2019 04:38:09 +0000"  >&lt;p&gt;Commit 2a3bd8e8648e85963a668d46a239cc48db777f5b in lucene-solr&apos;s branch refs/heads/master from Erick Erickson&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=2a3bd8e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=2a3bd8e&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11035&quot; title=&quot;(at least) 2 distinct failures possible when clients attempt searches during SolrCore reload&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-11035&quot;&gt;&lt;del&gt;SOLR-11035&lt;/del&gt;&lt;/a&gt;: (at least) 2 distinct failures possible when clients attempt searches during SolrCore reload bandaid for DocValuesNotIndexedTest&lt;/p&gt;</comment>
                            <comment id="16821667" author="jira-bot" created="Fri, 19 Apr 2019 05:03:42 +0000"  >&lt;p&gt;Commit 249a03d4f5432a093356455e8415915bfa97270a in lucene-solr&apos;s branch refs/heads/branch_8x from Erick Erickson&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=249a03d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=249a03d&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11035&quot; title=&quot;(at least) 2 distinct failures possible when clients attempt searches during SolrCore reload&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-11035&quot;&gt;&lt;del&gt;SOLR-11035&lt;/del&gt;&lt;/a&gt;: (at least) 2 distinct failures possible when clients attempt searches during SolrCore reload bandaid for DocValuesNotIndexedTest&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 2a3bd8e8648e85963a668d46a239cc48db777f5b)&lt;/p&gt;</comment>
                            <comment id="16828028" author="jira-bot" created="Sun, 28 Apr 2019 14:26:10 +0000"  >&lt;p&gt;Commit a6262af84253c1e377c0c7a32d0277edb5dd2d6e in lucene-solr&apos;s branch refs/heads/master from Erick Erickson&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=a6262af&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=a6262af&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11035&quot; title=&quot;(at least) 2 distinct failures possible when clients attempt searches during SolrCore reload&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-11035&quot;&gt;&lt;del&gt;SOLR-11035&lt;/del&gt;&lt;/a&gt;: (at least) 2 distinct failures possible when clients attempt searches during SolrCore reload. More fixes, bad test.&lt;/p&gt;</comment>
                            <comment id="16828031" author="jira-bot" created="Sun, 28 Apr 2019 14:31:41 +0000"  >&lt;p&gt;Commit 16203c266823efa9afe09c65f78ac533d1bf06d4 in lucene-solr&apos;s branch refs/heads/branch_8x from Erick Erickson&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=16203c2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=16203c2&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11035&quot; title=&quot;(at least) 2 distinct failures possible when clients attempt searches during SolrCore reload&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-11035&quot;&gt;&lt;del&gt;SOLR-11035&lt;/del&gt;&lt;/a&gt;: (at least) 2 distinct failures possible when clients attempt searches during SolrCore reload. More fixes, bad test.&lt;/p&gt;</comment>
                            <comment id="17041997" author="erickerickson" created="Fri, 21 Feb 2020 16:13:34 +0000"  >&lt;p&gt;This hasn&apos;t been triggered in quite a while. I also beasted the tests 1,000 each after these were removed and no failures so I removed it.&lt;/p&gt;</comment>
                            <comment id="17065620" author="romseygeek" created="Tue, 24 Mar 2020 12:45:12 +0000"  >&lt;p&gt;Bulk close for 8.5.0 release&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="13066459">SOLR-10562</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13027211">SOLR-9843</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13048390">SOLR-10229</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13232220">SOLR-13454</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13085637">SOLR-11034</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12966438" name="SOLR-11035-bandaid.patch" size="8597" author="erickerickson" created="Fri, 19 Apr 2019 04:34:45 +0000"/>
                            <attachment id="12965960" name="SOLR-11035-bandaid.patch" size="7874" author="erickerickson" created="Mon, 15 Apr 2019 16:51:24 +0000"/>
                            <attachment id="12876167" name="SOLR-11035.patch" size="4683" author="hossman" created="Sat, 8 Jul 2017 01:42:42 +0000"/>
                            <attachment id="12876168" name="log.txt" size="164018" author="hossman" created="Sat, 8 Jul 2017 01:51:03 +0000"/>
                            <attachment id="12876166" name="log.txt" size="180348" author="hossman" created="Sat, 8 Jul 2017 01:43:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 34 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3h9lr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>