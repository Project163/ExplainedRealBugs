<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 05:12:00 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-17746] bin/solr always fails if you attempt to use --jettyconfig (aka &quot;-j&quot;)</title>
                <link>https://issues.apache.org/jira/browse/SOLR-17746</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;The &quot;-jettyconfig&quot; optiona (aka &quot;-j&quot;) is documented as...&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;  -j &amp;lt;jettyParams&amp;gt;      Additional parameters to pass to Jetty when starting Solr.
                          For example, to add configuration folder that jetty should read
                          you could pass: -j &quot;--include-jetty-dir=/etc/jetty/custom/server/&quot;
                          In most cases, you should wrap the additional parameters in double quotes.

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;..but if you actually attempt to run  use that example option, you will get an error...&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;./bin/solr start ... -j &quot;--include-jetty-dir=/etc/jetty/custom/server/&quot;

ERROR: Jetty config is required when using the -j option!
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;IIUC this is because the bash code for parsing this option requires that it not start with a &quot;&lt;tt&gt;&amp;#45;&lt;/tt&gt;&quot; character; but by definition any option you want to pass to jetty will start with &quot;&lt;tt&gt;&amp;#45;-&lt;/tt&gt;&quot;.&lt;/p&gt;

&lt;p&gt;Attempting to workaround this problem by using two sets of quotes doesn&apos;t seem to work &amp;#8211; the inner quotes are passed verbatim to jetty which seems to prevent jetty from recognizing it as a valid option.&lt;/p&gt;

&lt;p&gt;A workaround that &lt;b&gt;does&lt;/b&gt; seem to work (in my limited testing) is to include a leading space character &lt;em&gt;inside&lt;/em&gt; the quotes...&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;./bin/solr start ... -j &quot; --include-jetty-dir=/etc/jetty/custom/server/&quot;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;...because for some reason that does &lt;b&gt;NOT&lt;/b&gt; seem to be passed verbatim.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13615694">SOLR-17746</key>
            <summary>bin/solr always fails if you attempt to use --jettyconfig (aka &quot;-j&quot;)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="epugh">Eric Pugh</assignee>
                                    <reporter username="hossman">Chris M. Hostetter</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Thu, 17 Apr 2025 21:40:21 +0000</created>
                <updated>Thu, 24 Jul 2025 22:50:52 +0000</updated>
                            <resolved>Wed, 25 Jun 2025 18:52:16 +0000</resolved>
                                                    <fixVersion>9.9</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="4800">1h 20m</timespent>
                                <comments>
                            <comment id="17945520" author="hossman" created="Thu, 17 Apr 2025 21:44:41 +0000"  >&lt;p&gt;I think this bug was introduced by the changes in &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6962&quot; title=&quot;bin/solr stop/start/restart should complain about missing value for options that expect a value.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6962&quot;&gt;&lt;del&gt;SOLR-6962&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=epugh&quot; class=&quot;user-hover&quot; rel=&quot;epugh&quot;&gt;epugh&lt;/a&gt; - can you please take a look?&#160; I&apos;m not sure I understand why 34f77886104a15f9e478cf7b4a5f6b0691d79eb7 added this simple check for &lt;tt&gt;--jvm-options&lt;/tt&gt; ...&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;+            if [[ -z &quot;$2&quot; ]]; then
+              print_usage &quot;$SCRIPT_CMD&quot; &quot;JVM options are required when using the $1 option!&quot;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;but this more restrictive check for &lt;tt&gt;--jettyconfig&lt;/tt&gt; ...&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;+            if [[ -z &quot;$2&quot; || &quot;${2:0:1}&quot; == &quot;-&quot; ]]; then
+              print_usage &quot;$SCRIPT_CMD&quot; &quot;Jetty config is required when using the $1 option!&quot;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17945857" author="epugh" created="Sat, 19 Apr 2025 13:24:54 +0000"  >&lt;p&gt;Did some digging...&#160; I am putting up a PR that first cleans some docs up about --jettyconfig, and then adds a test.&#160; Can you look at it?&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;I asked GPT about what the&#160; &quot;${2:0:1}&quot; == &quot;-&quot; ] is about, and basically it ensures that you don&apos;t forget to provide a value for the option, like in this example for port: --port --jettyconfig blah.&#160;&#160; &lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;However, there is no real pattern for that check and I can see that removing it globaly might make sense?&lt;/p&gt;</comment>
                            <comment id="17946176" author="hossman" created="Mon, 21 Apr 2025 16:50:19 +0000"  >&lt;blockquote&gt;&lt;p&gt;... and basically it ensures that you don&apos;t forget to provide a value for the option ...&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Strictly speaking it checks if the value of the first character is &quot;-&quot;&lt;/p&gt;

&lt;p&gt;It makes sense for things like &lt;tt&gt;&lt;del&gt;{&lt;/del&gt;}port&lt;del&gt;&lt;/tt&gt; but it definitely doesn&apos;t make sense for &lt;tt&gt;-jettyconfig&lt;/del&gt;&lt;/tt&gt; or &lt;tt&gt;-jvm-opts&lt;/tt&gt;&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;I am putting up a PR that first cleans some docs up about --jettyconfig, and then adds a test. Can you look at it?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Seems fine ... except the absolute path in your test might actually exist &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; ... maybe better to use something like &lt;tt&gt;./BOGUS&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;FWIW: Since you can&apos;t specify &lt;tt&gt;&lt;del&gt;{&lt;/del&gt;}jettyconfig&lt;del&gt;&lt;/tt&gt; or &lt;tt&gt;-jvm-opts&lt;/del&gt;&lt;/tt&gt; more then once on the command line (w/o them overwriting their respective previous usages) we should probably also be be testing that you can pass a quoted sting containing multiple &quot;real&quot; options and they get parsed correctly...&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;./bin/solr ... -j &quot;--module=foobar --include-jetty-dir=/weird&quot;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;(but maybe that should be it&apos;s own jira?)&lt;/p&gt;</comment>
                            <comment id="17986145" author="rahul196452@gmail.com" created="Wed, 25 Jun 2025 13:54:16 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hossman&quot; class=&quot;user-hover&quot; rel=&quot;hossman&quot;&gt;hossman&lt;/a&gt; FWIW passing multiple space separated args in --jvm-opts as shown below &lt;b&gt;does&lt;/b&gt;&#160;work on Windows post the fix in &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7962&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SOLR-7962&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;--jvm-opts &quot; -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:18983&#160; -Dsolr.myprops.custom=hello&quot;&lt;/p&gt;

&lt;p&gt;I remember it not working on Linux since the parsing in SolrCLI is different, but might need to check again.&lt;/p&gt;</comment>
                            <comment id="17986233" author="jira-bot" created="Wed, 25 Jun 2025 18:49:40 +0000"  >&lt;p&gt;Commit 47e74382d3189c98085ce122700f8ca1295cb00d in solr&apos;s branch refs/heads/main from Eric Pugh&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=47e74382d31&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=47e74382d31&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-17746&quot; title=&quot;bin/solr always fails if you attempt to use --jettyconfig (aka &amp;quot;-j&amp;quot;)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-17746&quot;&gt;&lt;del&gt;SOLR-17746&lt;/del&gt;&lt;/a&gt;: Provide long form --jettyconfig option to go with -j (#3332)&lt;/p&gt;
</comment>
                            <comment id="17986234" author="epugh" created="Wed, 25 Jun 2025 18:52:16 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rahul196452%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;rahul196452@gmail.com&quot;&gt;rahul196452@gmail.com&lt;/a&gt;&#160; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=houston&quot; class=&quot;user-hover&quot; rel=&quot;houston&quot;&gt;houston&lt;/a&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17986247" author="jira-bot" created="Wed, 25 Jun 2025 20:21:02 +0000"  >&lt;p&gt;Commit 332ac1816ebba1c72977dfd8bee3a356f0b58b83 in solr&apos;s branch refs/heads/branch_9x from Eric Pugh&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=332ac1816eb&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=332ac1816eb&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-17746&quot; title=&quot;bin/solr always fails if you attempt to use --jettyconfig (aka &amp;quot;-j&amp;quot;)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-17746&quot;&gt;&lt;del&gt;SOLR-17746&lt;/del&gt;&lt;/a&gt;: Provide long form --jettyconfig option to go with -j (#3332)&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 47e74382d3189c98085ce122700f8ca1295cb00d)&lt;/p&gt;</comment>
                            <comment id="17986930" author="jira-bot" created="Mon, 30 Jun 2025 12:46:50 +0000"  >&lt;p&gt;Commit 47e74382d3189c98085ce122700f8ca1295cb00d in solr&apos;s branch refs/heads/fix-native-access-warning from Eric Pugh&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=47e74382d31&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=47e74382d31&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-17746&quot; title=&quot;bin/solr always fails if you attempt to use --jettyconfig (aka &amp;quot;-j&amp;quot;)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-17746&quot;&gt;&lt;del&gt;SOLR-17746&lt;/del&gt;&lt;/a&gt;: Provide long form --jettyconfig option to go with -j (#3332)&lt;/p&gt;
</comment>
                            <comment id="18009732" author="houston" created="Thu, 24 Jul 2025 22:50:52 +0000"  >&lt;p&gt;Closing after the 9.9.0 release&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="12766738">SOLR-6962</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1vfqg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>