<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:19:39 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-1556] TermVectorComponents should provide good error messages when fieldtype isn&apos;t compatible with requested options</title>
                <link>https://issues.apache.org/jira/browse/SOLR-1556</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;As noted by grant on the email list, asking TermVectorComponent for things like termVectors, positions, and offsets can&apos;t produce meaningful results unless the field in question has the corrisponding schema option set to true &amp;#8211; but the behavior of TVC when they not true is confusing to users. &lt;/p&gt;

&lt;p&gt;We should make TVC return a meaningful error if it&apos;s asked to return  a certain type of info for field that it can&apos;t deal with - something making it clear what properties of hte schema need to be changed to make it work...&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://old.nabble.com/Re%3A-TermVectorComponent-%3A-Required---Optional-Parameters-p26181454.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://old.nabble.com/Re%3A-TermVectorComponent-%3A-Required---Optional-Parameters-p26181454.html&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12440535">SOLR-1556</key>
            <summary>TermVectorComponents should provide good error messages when fieldtype isn&apos;t compatible with requested options</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gsingers">Grant Ingersoll</assignee>
                                    <reporter username="hossman">Chris M. Hostetter</reporter>
                        <labels>
                    </labels>
                <created>Thu, 12 Nov 2009 19:39:14 +0000</created>
                <updated>Wed, 30 Mar 2011 15:45:31 +0000</updated>
                            <resolved>Sat, 3 Jul 2010 12:01:37 +0000</resolved>
                                    <version>1.4</version>
                                    <fixVersion>3.1</fixVersion>
                    <fixVersion>4.0-ALPHA</fixVersion>
                                    <component>search</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12868904" author="hossman" created="Tue, 18 May 2010 23:37:18 +0000"  >&lt;p&gt;updating hte issue summary/description after re-reading the email thread.&lt;/p&gt;</comment>
                            <comment id="12868910" author="hossman" created="Tue, 18 May 2010 23:47:12 +0000"  >&lt;p&gt;skimming the code a bit, this doesn&apos;t seem easy to be a very a clean way to do this.  &lt;/p&gt;

&lt;p&gt;TVC allows multiple fields to be specified at once, but the positions &amp;amp; offsets options can not be specified per field &amp;#8211; so if the user wants termVectors for fieldA and termVectors plus position info for fieldB, there is no way for them to distinguish that they don&apos;t care about position info for fieldA &amp;#8211; if fieldA doens&apos;t have positions enabled in the schema, making TVC error based on that request would do the user a dis-service.  Even if there is no clean way to ask for it, the scema supports what they want &amp;#8211; so we shouldn&apos;t error.&lt;/p&gt;

&lt;p&gt;I considerd breifly what it would take to make TVC support per-field overrides for the various options &amp;#8211; the trickiness comes from hte fact that it doesn&apos;t iterate over the list of fields itself.  It builds up a custom TermVectorMapper to pass to IndexReader.getTermFreqVector for each doc.  So we&apos;d need to modify that TermVectorMapper impl to know about the SolrQueryRequest so it could check the options per field instead of just specifying the booleans when it&apos;s constructed.&lt;/p&gt;

&lt;p&gt;Things are also complicated by the fact that the tv.fl param defaults to the fl param &amp;#8211; so even if users enable termVectors, positions, and offsets for all the fields they care about, and they could starting getting errors if a new field is added to the &quot;fl&quot; when they &lt;b&gt;don&apos;t&lt;/b&gt; care about any of that info.&lt;/p&gt;

&lt;p&gt;All told: this may be one of the situations where an actual &quot;error&quot; isn&apos;t in hte best interests of the user &amp;#8211; adding a warning to the TVC output for each field/option combo that doesn&apos;t make sense is probably more useful.&lt;/p&gt;</comment>
                            <comment id="12872428" author="hossman" created="Thu, 27 May 2010 22:05:04 +0000"  >&lt;p&gt;Bulk updating 240 Solr issues to set the Fix Version to &quot;next&quot; per the process outlined in this email...&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/lucene-dev/201005.mbox/%3Calpine.DEB.1.10.1005251052040.24672@radix.cryptio.net%3E&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://mail-archives.apache.org/mod_mbox/lucene-dev/201005.mbox/%3Calpine.DEB.1.10.1005251052040.24672@radix.cryptio.net%3E&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Selection criteria was &quot;Unresolved&quot; with a Fix Version of 1.5, 1.6, 3.1, or 4.0.  email notifications were suppressed.&lt;/p&gt;

&lt;p&gt;A unique token for finding these 240 issues in the future: hossversioncleanup20100527&lt;/p&gt;</comment>
                            <comment id="12884878" author="gsingers" created="Sat, 3 Jul 2010 00:53:03 +0000"  >&lt;p&gt;Here&apos;s a patch, with tests, that fixes all the issues raised.  See &lt;a href=&quot;http://wiki.apache.org/solr/TermVectorComponent&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://wiki.apache.org/solr/TermVectorComponent&lt;/a&gt; for more details on the new per field options and the error messages.&lt;/p&gt;</comment>
                            <comment id="12884885" author="gsingers" created="Sat, 3 Jul 2010 01:27:15 +0000"  >&lt;p&gt;Ready to go.  Going to commit this weekend.&lt;/p&gt;</comment>
                            <comment id="12884914" author="gsingers" created="Sat, 3 Jul 2010 12:01:37 +0000"  >&lt;p&gt;Committed revision 960204 to trunk.&lt;/p&gt;

&lt;p&gt;Committed revision 960206.&lt;/p&gt;</comment>
                            <comment id="13013096" author="gsingers" created="Wed, 30 Mar 2011 15:45:31 +0000"  >&lt;p&gt;Bulk close for 3.1.0 release&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12448619" name="SOLR-1556.patch" size="26472" author="gsingers" created="Sat, 3 Jul 2010 01:27:14 +0000"/>
                            <attachment id="12448617" name="SOLR-1556.patch" size="26472" author="gsingers" created="Sat, 3 Jul 2010 00:53:03 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6112</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 34 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i03q0v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>19649</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>