<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:43:52 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-11775] json.facet can use inconsistent Long/Integer for &quot;count&quot; depending on shard count</title>
                <link>https://issues.apache.org/jira/browse/SOLR-11775</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;(NOTE: I noticed this while working on a test for &lt;tt&gt;type: range&lt;/tt&gt; but it&apos;s possible other facet types may be affected as well)&lt;/p&gt;

&lt;p&gt;When dealing with a single core request &amp;#8211; either standalone or a collection with only one shard &amp;#8211; json.facet seems to use &quot;Integer&quot; objects to return the &quot;count&quot; of facet buckets, however if the shard count is increased then the end client gets a &quot;Long&quot; object for the &quot;count&quot;&lt;/p&gt;

&lt;p&gt;(This isn&apos;t noticable when using &lt;tt&gt;wt=json&lt;/tt&gt; but can be very problematic when trying to write client code using &lt;tt&gt;wt=xml&lt;/tt&gt; or SolrJ&lt;/p&gt;</description>
                <environment></environment>
        <key id="13125681">SOLR-11775</key>
            <summary>json.facet can use inconsistent Long/Integer for &quot;count&quot; depending on shard count</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="munendrasn">Munendra S N</assignee>
                                    <reporter username="hossman">Chris M. Hostetter</reporter>
                        <labels>
                    </labels>
                <created>Mon, 18 Dec 2017 18:18:53 +0000</created>
                <updated>Thu, 12 May 2022 00:27:02 +0000</updated>
                            <resolved>Fri, 10 Apr 2020 14:06:56 +0000</resolved>
                                                    <fixVersion>9.0</fixVersion>
                                    <component>Facet Module</component>
                        <due></due>
                            <votes>2</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="16295378" author="hossman" created="Mon, 18 Dec 2017 18:21:42 +0000"  >&lt;p&gt;Trivial to reproduce...&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&quot;Non-Distributed&quot; request (either standalone, or cloud w/one shard)...
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;bin/solr -e techproducts
# (or bin/solr -e cloud, choose 1 shard w/ sample_techproducts_configs, and index the docs manually)
...
$ curl http://localhost:8983/solr/techproducts/select -d &apos;q=*:*&amp;amp;wt=xml&amp;amp;rows=0&amp;amp;json.facet={ foo:{type:range, field:price, start:0, end:1000, gap:100, other:all } }&apos;
&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;
&amp;lt;response&amp;gt;

&amp;lt;lst name=&quot;responseHeader&quot;&amp;gt;
  &amp;lt;int name=&quot;status&quot;&amp;gt;0&amp;lt;/int&amp;gt;
  &amp;lt;int name=&quot;QTime&quot;&amp;gt;23&amp;lt;/int&amp;gt;
  &amp;lt;lst name=&quot;params&quot;&amp;gt;
    &amp;lt;str name=&quot;q&quot;&amp;gt;*:*&amp;lt;/str&amp;gt;
    &amp;lt;str name=&quot;json.facet&quot;&amp;gt;{ foo:{type:range, field:price, start:0, end:1000, gap:100, other:all } }&amp;lt;/str&amp;gt;
    &amp;lt;str name=&quot;rows&quot;&amp;gt;0&amp;lt;/str&amp;gt;
    &amp;lt;str name=&quot;wt&quot;&amp;gt;xml&amp;lt;/str&amp;gt;
  &amp;lt;/lst&amp;gt;
&amp;lt;/lst&amp;gt;
&amp;lt;result name=&quot;response&quot; numFound=&quot;32&quot; start=&quot;0&quot;&amp;gt;
&amp;lt;/result&amp;gt;
&amp;lt;lst name=&quot;facets&quot;&amp;gt;
  &amp;lt;int name=&quot;count&quot;&amp;gt;32&amp;lt;/int&amp;gt;
  &amp;lt;lst name=&quot;foo&quot;&amp;gt;
    &amp;lt;arr name=&quot;buckets&quot;&amp;gt;
      &amp;lt;lst&amp;gt;
        &amp;lt;float name=&quot;val&quot;&amp;gt;0.0&amp;lt;/float&amp;gt;
        &amp;lt;int name=&quot;count&quot;&amp;gt;7&amp;lt;/int&amp;gt;
      &amp;lt;/lst&amp;gt;
      &amp;lt;lst&amp;gt;
        &amp;lt;float name=&quot;val&quot;&amp;gt;100.0&amp;lt;/float&amp;gt;
        &amp;lt;int name=&quot;count&quot;&amp;gt;2&amp;lt;/int&amp;gt;
      &amp;lt;/lst&amp;gt;
      &amp;lt;lst&amp;gt;
        &amp;lt;float name=&quot;val&quot;&amp;gt;200.0&amp;lt;/float&amp;gt;
        &amp;lt;int name=&quot;count&quot;&amp;gt;1&amp;lt;/int&amp;gt;
      &amp;lt;/lst&amp;gt;
      ...
    &amp;lt;/arr&amp;gt;
    &amp;lt;lst name=&quot;before&quot;&amp;gt;
      &amp;lt;int name=&quot;count&quot;&amp;gt;0&amp;lt;/int&amp;gt;
    &amp;lt;/lst&amp;gt;
    &amp;lt;lst name=&quot;after&quot;&amp;gt;
      &amp;lt;int name=&quot;count&quot;&amp;gt;1&amp;lt;/int&amp;gt;
    &amp;lt;/lst&amp;gt;
    &amp;lt;lst name=&quot;between&quot;&amp;gt;
      &amp;lt;int name=&quot;count&quot;&amp;gt;15&amp;lt;/int&amp;gt;
    &amp;lt;/lst&amp;gt;
  &amp;lt;/lst&amp;gt;
&amp;lt;/lst&amp;gt;
&amp;lt;/response&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
	&lt;li&gt;Using muliple shards...
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;bin/solr -e cloud
# choose multiple shards, any number of replicas, w/ sample_techproducts_configs
bin/post -c techproducts example/exampledocs/
$ curl http://localhost:8983/solr/techproducts/select -d &apos;q=*:*&amp;amp;wt=xml&amp;amp;rows=0&amp;amp;json.facet={ foo:{type:range, field:price, start:0, end:1000, gap:100, other:all } }&apos;
&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;
&amp;lt;response&amp;gt;

&amp;lt;lst name=&quot;responseHeader&quot;&amp;gt;
  &amp;lt;bool name=&quot;zkConnected&quot;&amp;gt;true&amp;lt;/bool&amp;gt;
  &amp;lt;int name=&quot;status&quot;&amp;gt;0&amp;lt;/int&amp;gt;
  &amp;lt;int name=&quot;QTime&quot;&amp;gt;60&amp;lt;/int&amp;gt;
  &amp;lt;lst name=&quot;params&quot;&amp;gt;
    &amp;lt;str name=&quot;q&quot;&amp;gt;*:*&amp;lt;/str&amp;gt;
    &amp;lt;str name=&quot;json.facet&quot;&amp;gt;{ foo:{type:range, field:price, start:0, end:1000, gap:100, other:all } }&amp;lt;/str&amp;gt;
    &amp;lt;str name=&quot;rows&quot;&amp;gt;0&amp;lt;/str&amp;gt;
    &amp;lt;str name=&quot;wt&quot;&amp;gt;xml&amp;lt;/str&amp;gt;
  &amp;lt;/lst&amp;gt;
&amp;lt;/lst&amp;gt;
&amp;lt;result name=&quot;response&quot; numFound=&quot;50&quot; start=&quot;0&quot; maxScore=&quot;1.0&quot;&amp;gt;
&amp;lt;/result&amp;gt;
&amp;lt;lst name=&quot;facets&quot;&amp;gt;
  &amp;lt;long name=&quot;count&quot;&amp;gt;50&amp;lt;/long&amp;gt;
  &amp;lt;lst name=&quot;foo&quot;&amp;gt;
    &amp;lt;arr name=&quot;buckets&quot;&amp;gt;
      &amp;lt;lst&amp;gt;
        &amp;lt;float name=&quot;val&quot;&amp;gt;0.0&amp;lt;/float&amp;gt;
        &amp;lt;long name=&quot;count&quot;&amp;gt;17&amp;lt;/long&amp;gt;
      &amp;lt;/lst&amp;gt;
      &amp;lt;lst&amp;gt;
        &amp;lt;float name=&quot;val&quot;&amp;gt;100.0&amp;lt;/float&amp;gt;
        &amp;lt;long name=&quot;count&quot;&amp;gt;2&amp;lt;/long&amp;gt;
      &amp;lt;/lst&amp;gt;
      &amp;lt;lst&amp;gt;
        &amp;lt;float name=&quot;val&quot;&amp;gt;200.0&amp;lt;/float&amp;gt;
        &amp;lt;long name=&quot;count&quot;&amp;gt;1&amp;lt;/long&amp;gt;
      &amp;lt;/lst&amp;gt;
      ...
    &amp;lt;/arr&amp;gt;
    &amp;lt;lst name=&quot;before&quot;&amp;gt;
      &amp;lt;long name=&quot;count&quot;&amp;gt;0&amp;lt;/long&amp;gt;
    &amp;lt;/lst&amp;gt;
    &amp;lt;lst name=&quot;after&quot;&amp;gt;
      &amp;lt;long name=&quot;count&quot;&amp;gt;1&amp;lt;/long&amp;gt;
    &amp;lt;/lst&amp;gt;
    &amp;lt;lst name=&quot;between&quot;&amp;gt;
      &amp;lt;long name=&quot;count&quot;&amp;gt;25&amp;lt;/long&amp;gt;
    &amp;lt;/lst&amp;gt;
  &amp;lt;/lst&amp;gt;
&amp;lt;/lst&amp;gt;
&amp;lt;/response&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="16348012" author="yseeley@gmail.com" created="Thu, 1 Feb 2018 04:55:23 +0000"  >&lt;p&gt;facet.field faceting does return an integer in distrib mode as well, but client code should not rely on getting an integer vs a long given that distributed search &amp;amp; faceting supports greater than 2B docs.&lt;/p&gt;</comment>
                            <comment id="16349048" author="hossman" created="Thu, 1 Feb 2018 18:26:02 +0000"  >&lt;blockquote&gt;&lt;p&gt;client code should not rely on getting an integer vs a long given that distributed search &amp;amp; faceting supports greater than 2B docs.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;It doesn&apos;t feel fair to pass the buck and say &quot;client code should not rely on getting what we&apos;re giving you&quot; because they have no way of knowing (or reason to wonder if) that the data types being returned might change out from under them.&lt;/p&gt;

&lt;p&gt;If you&apos;re a developer just starting out and you&apos;re using the XML response, you&apos;re going to see get back an &lt;tt&gt;&amp;lt;int&amp;gt;&lt;/tt&gt; and you&apos;re going to write code to parse that so you can use it.  If you&apos;re using solrj, then inspecting the Objects in the &lt;tt&gt;QueryResponse&lt;/tt&gt; during your development is going to show you that the &quot;count&quot; is an &lt;tt&gt;Integer&lt;/tt&gt; and you&apos;re going write code that looks something like &lt;tt&gt;Integer count = (Integer) bucket.get(&quot;count&quot;))&lt;/tt&gt; in order to us that &lt;tt&gt;Integer&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;that code is going to all work fine in development on single core solr, or even when you use your first SolrCloud collection with a single shard &amp;#8211; but as soon as you have multiple shards your client code is going to break and it&apos;s not going to be obvious why.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;I really think we should just bite the bullet and make all the json.facet counts be Longs &amp;#8211; if not on 7.x then at the very least for 8.0, ... and &lt;b&gt;definitely&lt;/b&gt; before anybody spends time working on any SolrJ QueryResponse convenience methods/classes for json.facets results.&lt;/p&gt;</comment>
                            <comment id="16349265" author="yseeley@gmail.com" created="Thu, 1 Feb 2018 20:59:31 +0000"  >&lt;blockquote&gt;&lt;p&gt;It doesn&apos;t feel fair to pass the buck and say &quot;client code should not rely on getting what we&apos;re giving you&quot;&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I was just pointing out that we already do this in other places - it&apos;s not unique to json facets.&lt;br/&gt;
The parts of Solr that consume code like this typically use ((Number)value).longValue()&lt;/p&gt;

&lt;p&gt;I&apos;m not opposed to changing the behavior, but I disagree that this is a bug.&lt;/p&gt;</comment>
                            <comment id="17025968" author="gerlowskija" created="Wed, 29 Jan 2020 15:29:36 +0000"  >&lt;blockquote&gt;&lt;p&gt;I&apos;m not opposed to changing the behavior, but I disagree that this is a bug.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Don&apos;t really have an opinion on how this is classified.&lt;/p&gt;

&lt;p&gt;But can we agree that, purely as a usability improvement, it&apos;d be nice for our users (internal code included) if the return value was always &lt;tt&gt;long&lt;/tt&gt; here?  If so, the classification doesn&apos;t really matter and someone is good to pursue this change.&lt;/p&gt;</comment>
                            <comment id="17066797" author="munendrasn" created="Wed, 25 Mar 2020 16:17:01 +0000"  >&lt;p&gt; &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12997914/12997914_SOLR-11775.patch&quot; title=&quot;SOLR-11775.patch attached to SOLR-11775&quot;&gt;SOLR-11775.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; &lt;br/&gt;
Irrespective of shard count, the value returned type would be long for facet counts&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hossman&quot; class=&quot;user-hover&quot; rel=&quot;hossman&quot;&gt;hossman&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yseeley%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;yseeley@gmail.com&quot;&gt;yseeley@gmail.com&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gerlowskija&quot; class=&quot;user-hover&quot; rel=&quot;gerlowskija&quot;&gt;gerlowskija&lt;/a&gt; please review&lt;/p&gt;</comment>
                            <comment id="17067827" author="munendrasn" created="Thu, 26 Mar 2020 16:41:52 +0000"  >&lt;p&gt; &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12997914/12997914_SOLR-11775.patch&quot; title=&quot;SOLR-11775.patch attached to SOLR-11775&quot;&gt;SOLR-11775.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Test failure fixes and handling Classical faceting which delegates  to Json faceting&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17068061" author="lucenesolrqa" created="Thu, 26 Mar 2020 21:32:38 +0000"  >&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/check.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;b&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;&lt;/b&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Vote &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Subsystem &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Runtime &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Comment &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; &lt;font color=&quot;brown&quot;&gt; Prechecks &lt;/font&gt; &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; test4tests &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  0m  0s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; The patch appears to include 8 new or modified test files. &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; &lt;font color=&quot;brown&quot;&gt; master Compile Tests &lt;/font&gt; &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; compile &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  1m 19s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; master passed &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; &lt;font color=&quot;brown&quot;&gt; Patch Compile Tests &lt;/font&gt; &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; compile &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  1m 15s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; the patch passed &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; javac &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  1m 15s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; the patch passed &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; Release audit (RAT) &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  1m 11s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; the patch passed &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; Check forbidden APIs &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  1m  7s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; the patch passed &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; Validate source patterns &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  1m  7s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; the patch passed &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;&amp;nbsp;&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; &lt;font color=&quot;brown&quot;&gt; Other Tests &lt;/font&gt; &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; unit &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; 48m 39s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; core in the patch passed. &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;+1&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; unit &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt;  0m 16s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;green&quot;&gt; test-framework in the patch passed. &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;black&quot;&gt;&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;black&quot;&gt; &lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;black&quot;&gt; 53m 44s&lt;/font&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;font color=&quot;black&quot;&gt; &lt;/font&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;br class=&quot;atl-forced-newline&quot; /&gt;
&lt;br class=&quot;atl-forced-newline&quot; /&gt;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Subsystem &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Report/Notes &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; JIRA Issue &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11775&quot; title=&quot;json.facet can use inconsistent Long/Integer for &amp;quot;count&amp;quot; depending on shard count&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-11775&quot;&gt;&lt;del&gt;SOLR-11775&lt;/del&gt;&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; JIRA Patch URL &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12997914/SOLR-11775.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12997914/SOLR-11775.patch&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Optional Tests &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  compile  javac  unit  ratsources  checkforbiddenapis  validatesourcepatterns  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; uname &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Linux lucene1-us-west 4.15.0-54-generic #58-Ubuntu SMP Mon Jun 24 10:55:24 UTC 2019 x86_64 x86_64 x86_64 GNU/Linux &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Build tool &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; ant &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Personality &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; /home/jenkins/jenkins-slave/workspace/PreCommit-SOLR-Build/sourcedir/dev-tools/test-patch/lucene-solr-yetus-personality.sh &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; git revision &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; master / cd9375a6f9c &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; ant &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; version: Apache Ant(TM) version 1.10.5 compiled on March 28 2019 &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Default Java &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; LTS &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  Test Results &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://builds.apache.org/job/PreCommit-SOLR-Build/727/testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-SOLR-Build/727/testReport/&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; modules &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; C: solr/core solr/test-framework U: solr &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Console output &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://builds.apache.org/job/PreCommit-SOLR-Build/727/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-SOLR-Build/727/console&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Powered by &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Apache Yetus 0.7.0   &lt;a href=&quot;http://yetus.apache.org&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://yetus.apache.org&lt;/a&gt; &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;



&lt;p&gt;This message was automatically generated.&lt;/p&gt;
</comment>
                            <comment id="17069271" author="munendrasn" created="Sat, 28 Mar 2020 07:05:25 +0000"  >&lt;p&gt;If there are no objections, I&apos;m  planning to commit(only  master) this in the coming week&lt;/p&gt;</comment>
                            <comment id="17069943" author="mkhludnev" created="Sat, 28 Mar 2020 16:30:24 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="17080506" author="jira-bot" created="Fri, 10 Apr 2020 14:01:18 +0000"  >&lt;p&gt;Commit 36b280bd0a21952ea54c7567f037eb48dc93205a in lucene-solr&apos;s branch refs/heads/master from Munendra S N&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=36b280b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=36b280b&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11775&quot; title=&quot;json.facet can use inconsistent Long/Integer for &amp;quot;count&amp;quot; depending on shard count&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-11775&quot;&gt;&lt;del&gt;SOLR-11775&lt;/del&gt;&lt;/a&gt;: return long val for facet count in json facet&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Long value is returned for any count related to json facets&lt;br/&gt;
  irrespective of number of shards&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17535761" author="janhoy" created="Thu, 12 May 2022 00:27:02 +0000"  >&lt;p&gt;Closing after the 9.0.0 release&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                            <outwardlinks description="causes">
                                        <issuelink>
            <issuekey id="13221218">SOLR-13318</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13272239">SOLR-14012</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12997914" name="SOLR-11775.patch" size="68852" author="munendrasn" created="Thu, 26 Mar 2020 16:41:39 +0000"/>
                            <attachment id="12997703" name="SOLR-11775.patch" size="53948" author="munendrasn" created="Wed, 25 Mar 2020 16:16:20 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 26 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3o11b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>