<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:46:01 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-14829] Update default components information in Reference Guide and solrconfig.xml files</title>
                <link>https://issues.apache.org/jira/browse/SOLR-14829</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;In the reference guide, the list of search components that are enabled by default is missing the &lt;tt&gt;facet_module&lt;/tt&gt; and &lt;tt&gt;terms&lt;/tt&gt; components. The terms component is instead listed under &quot;other useful components&quot;, while the &lt;tt&gt;FacetModule&lt;/tt&gt; is never listed anywhere in the documentation, despite it being neccessary for the JSON Facet API to work.&lt;/p&gt;

&lt;p&gt;This is also how I stumbled upon this, I spent hours trying to figure out why JSON-based faceting was not working with my setup, after taking a glance at the &lt;tt&gt;SearchHandler&lt;/tt&gt; source code based on a hunch, it became clear that my custom list of search components (created based on the list in the reference guide) was to blame.&lt;/p&gt;

&lt;p&gt;A patch for the documentation gap is attached, but I think there are some other issues with the naming/documentation around the two faceting APIs that may be worth discussing:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;The names &lt;tt&gt;facet_module&lt;/tt&gt; / &lt;tt&gt;FacetModule&lt;/tt&gt; are very misleading, since the documentation is always talking about the &quot;JSON Facet API&quot;, but the term &quot;JSON&quot; does not appear in the name of the component nor does the component have any documentation attached that mentions this&lt;/li&gt;
	&lt;li&gt;Why is the &lt;tt&gt;FacetModule&lt;/tt&gt; class located in the &lt;tt&gt;search.facet&lt;/tt&gt; package while every single other search component included in the core is located in the &lt;tt&gt;handler.component&lt;/tt&gt; package?&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="13325997">SOLR-14829</key>
            <summary>Update default components information in Reference Guide and solrconfig.xml files</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="arafalov">Alexandre Rafalovitch</assignee>
                                    <reporter username="jbaiter">Johannes Baiter</reporter>
                        <labels>
                    </labels>
                <created>Thu, 3 Sep 2020 22:58:20 +0000</created>
                <updated>Thu, 12 May 2022 00:26:25 +0000</updated>
                            <resolved>Wed, 7 Oct 2020 00:45:40 +0000</resolved>
                                    <version>8.6.2</version>
                                    <fixVersion>9.0</fixVersion>
                                    <component>documentation</component>
                    <component>examples</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="7200">2h</timespent>
                                <comments>
                            <comment id="17190430" author="ichattopadhyaya" created="Thu, 3 Sep 2020 23:47:00 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jbaiter&quot; class=&quot;user-hover&quot; rel=&quot;jbaiter&quot;&gt;jbaiter&lt;/a&gt;. I&apos;ll take a look soon (unless Cassandra beats me to it).&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;The names facet_module / FacetModule are very misleading, since the documentation is always talking about the &quot;JSON Facet API&quot;, but the term &quot;JSON&quot; does not appear in the name of the component nor does the component have any documentation attached that mentions this&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Why is the FacetModule class located in the search.facet package while every single other search component included in the core is located in the handler.component package?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;These are very important concerns and something we need to tackle going forward for better consistency. I can offer historical perspective on why it is this way, but I think we should seriously think of streamlining this going forward &amp;#8211; there is no reason why this inconsistency should persist. Would you like to open a new JIRA issue on those concerns so that I can invite a wider discussion around it from some of the committers who are in the best position to resolve this (e.g. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ctargett&quot; class=&quot;user-hover&quot; rel=&quot;ctargett&quot;&gt;ctargett&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hossman&quot; class=&quot;user-hover&quot; rel=&quot;hossman&quot;&gt;hossman&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yonik&quot; class=&quot;user-hover&quot; rel=&quot;yonik&quot;&gt;yonik&lt;/a&gt;, et. al.)?&lt;/p&gt;

&lt;p&gt;Just want to share your Twitter thread here, because I believe it is a very illustrative example of where Solr needs improvement: &lt;a href=&quot;https://twitter.com/jbaiter_/status/1301518376246874116&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://twitter.com/jbaiter_/status/1301518376246874116&lt;/a&gt;. FYI, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=arafalov&quot; class=&quot;user-hover&quot; rel=&quot;arafalov&quot;&gt;arafalov&lt;/a&gt; is leading an effort for improving our examples. We have discussed some other aspects of getting started documentation here: &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-14726&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SOLR-14726&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="17190814" author="dsmiley" created="Fri, 4 Sep 2020 16:28:18 +0000"  >&lt;p&gt;In your own/custom definition of your request handler, do you need to actually list these components at all, vs just rely on the default list?  I think most people by far let the defaults happen.&lt;/p&gt;</comment>
                            <comment id="17191009" author="jbaiter" created="Sat, 5 Sep 2020 08:24:22 +0000"  >&lt;blockquote&gt;&lt;p&gt;Would you like to open a new JIRA issue on those concerns so that I can invite a wider discussion around it from some of the committers who are in the best position to resolve this&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Sure, I&apos;ll try to get a better picture of the code/architecture first, though, so I have a better picture of it and am not just ranting based on some superficial observations &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;In your own/custom definition of your request handler, do you need to actually list these components at all, vs just rely on the default list? I think most people by far let the defaults happen.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yeah, in my case I have a custom highlight component that I want to have on my handler. Sure, there&apos;s &lt;tt&gt;first-components&lt;/tt&gt; and &lt;tt&gt;last-components&lt;/tt&gt;, which would probably better for this case.&lt;br/&gt;
But I think we can agree that if there&apos;s an option to define your own &lt;tt&gt;components&lt;/tt&gt;, the documentation on the defaults for this option should be correct so that users can operate under the right assumptions? Especially since the documentation treats &lt;tt&gt;first-components&lt;/tt&gt;, &lt;tt&gt;last-components&lt;/tt&gt; and &lt;tt&gt;components&lt;/tt&gt; as equals, i.e. there&apos;s no comment indicating that the former two might be preferable because they&apos;re &quot;safer&quot;?&lt;/p&gt;</comment>
                            <comment id="17191200" author="dsmiley" created="Sun, 6 Sep 2020 05:28:53 +0000"  >&lt;blockquote&gt;&lt;p&gt;Yeah, in my case I have a custom highlight component that I want to have on my handler.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Is it enough to merely define your search component with the name &quot;highlight&quot; in solrconfig.xml, thus overriding the built-in one?  Then you don&apos;t even need to make any component changes to your handler definition.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;But I think we can agree that if there&apos;s an option to define your own components, the documentation on the defaults for this option should be correct so that users can operate under the right assumptions&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Of course!&lt;/p&gt;
</comment>
                            <comment id="17191223" author="jbaiter" created="Sun, 6 Sep 2020 07:36:31 +0000"  >&lt;blockquote&gt;&lt;p&gt;Is it enough to merely define your search component with the name &quot;highlight&quot; in solrconfig.xml, thus overriding the built-in one? Then you don&apos;t even need to make any component changes to your handler definition.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Unfortunately, no. The &lt;a href=&quot;https://dbmdz.github.io/solr-ocrhighlighting/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;custom highlighter&lt;/a&gt; is supposed to run alongside the regular highlighter, since it only takes care of highlighting a specific subset of fields in the response, all other fields go through the default highlighter.&lt;/p&gt;

&lt;p&gt;Maybe it would be a good idea to add a warning to the section about defining the &lt;tt&gt;components&lt;/tt&gt; from scratch that this is a last resort (because of mistakes like mine, and also for future-proofing in case other new default components are added) and the other alternatives should be preferred?&lt;/p&gt;</comment>
                            <comment id="17191847" author="ctargett" created="Mon, 7 Sep 2020 19:48:51 +0000"  >&lt;p&gt;The docs changes are fine from my POV, someone just needs to confirm that terms and facet_module are both really enabled by default.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I think we should seriously think of streamlining this going forward &#8211; there is no reason why this inconsistency should persist.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I agree, and it&apos;s something that&apos;s been discussed many times over the years. A simple explanation (IMO) is that it was someone&apos;s vision that &lt;tt&gt;facet_module&lt;/tt&gt; would replace &lt;tt&gt;facet&lt;/tt&gt; at some point but as a project we haven&apos;t progressed very far toward that goal. &lt;/p&gt;</comment>
                            <comment id="17201815" author="arafalov" created="Thu, 24 Sep 2020 23:31:45 +0000"  >&lt;p&gt;The patch no longer applies clean because some of the other documentation changes I did. But I also did some related research and want to cleanup the default components information in RefGuide and solrconfig files. So, I took the issue over from Ishan and will make it a bit more generic.&lt;/p&gt;</comment>
                            <comment id="17201841" author="arafalov" created="Fri, 25 Sep 2020 01:42:39 +0000"  >&lt;p&gt;Ok, the &lt;a href=&quot;https://lucene.apache.org/solr/guide/8_6/requesthandlers-and-searchcomponents-in-solrconfig.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Reference Guide page&lt;/a&gt; is rather a mess. Here is a couple of things that need cleaning up:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;defaults, appends, and invariants are defined as part of SearchHandler, should be all handlers&lt;/li&gt;
	&lt;li&gt;we mention initParams (in general section, good) but not useParams&lt;/li&gt;
	&lt;li&gt;it is very hard to notice that SearchComponents references (components, first-components, last-components) are actually section &lt;b&gt;inside&lt;/b&gt; SearchHandlers only, partially because they are so far apart&lt;/li&gt;
	&lt;li&gt;we don&apos;t actually explain how to declare a custom search component explicitly (some definitions are available on linked pages)&lt;/li&gt;
	&lt;li&gt;we don&apos;t have example of UpdateRequestHandlers either in the doc or in solrconfig.xml (because they all became implicit)&lt;/li&gt;
	&lt;li&gt;we don&apos;t mention UpdateRequestProcessors, which could be viewed as a parallel pipeline to SearchComponents&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I am going to try refactoring that page.&lt;/p&gt;</comment>
                            <comment id="17202510" author="arafalov" created="Sat, 26 Sep 2020 04:17:54 +0000"  >&lt;p&gt;Refactoring and cleaning up done. Now in linked PR, ready for review. It may be easier to check the branch out and read what was built, the whole Request Handlers page was refactored around.&lt;/p&gt;</comment>
                            <comment id="17209242" author="jira-bot" created="Wed, 7 Oct 2020 00:42:32 +0000"  >&lt;p&gt;Commit 247cea1011f742d696c637a07a2888c511ca2bcc in lucene-solr&apos;s branch refs/heads/master from Alexandre Rafalovitch&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=247cea1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=247cea1&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-14829&quot; title=&quot;Update default components information in Reference Guide and solrconfig.xml files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-14829&quot;&gt;&lt;del&gt;SOLR-14829&lt;/del&gt;&lt;/a&gt;: Improve documentation for Request Handlers in RefGuide and solrconfig.xml (#1921)&lt;/p&gt;

&lt;p&gt;Restructured documentation page, fixed cross-linked, and cleanup of relevant sections of example configuration files&lt;/p&gt;</comment>
                            <comment id="17209243" author="jira-bot" created="Wed, 7 Oct 2020 00:42:58 +0000"  >&lt;p&gt;Commit 247cea1011f742d696c637a07a2888c511ca2bcc in lucene-solr&apos;s branch refs/heads/master from Alexandre Rafalovitch&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=247cea1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=247cea1&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-14829&quot; title=&quot;Update default components information in Reference Guide and solrconfig.xml files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-14829&quot;&gt;&lt;del&gt;SOLR-14829&lt;/del&gt;&lt;/a&gt;: Improve documentation for Request Handlers in RefGuide and solrconfig.xml (#1921)&lt;/p&gt;

&lt;p&gt;Restructured documentation page, fixed cross-linked, and cleanup of relevant sections of example configuration files&lt;/p&gt;</comment>
                            <comment id="17535410" author="janhoy" created="Thu, 12 May 2022 00:26:25 +0000"  >&lt;p&gt;Closing after the 9.0.0 release&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13011009" name="SOLR-14829.patch" size="3081" author="jbaiter" created="Thu, 3 Sep 2020 22:59:06 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 26 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0ic1s:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>