<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:34:23 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-12679] MiniSolrCloudCluster internal jetty list should never have duplicates</title>
                <link>https://issues.apache.org/jira/browse/SOLR-12679</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;MiniSolrCloudCluster has a &lt;tt&gt;startJettySolrRunner&lt;/tt&gt; method and a corresponding &lt;tt&gt;stopJettySolrRunner&lt;/tt&gt; method. While the former adds the given jetty instance to the internal list of jetty instances, the latter does not remove the given instance from the list. This leads to inconsistencies e.g.&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;If a node is restarted using these two methods, the final list will contain a duplicate instance of jetty.&lt;/li&gt;
	&lt;li&gt;If a node is shutdown, it remains in the list (in the closed state) so trying to use its method such as getNode will throw an exception&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;We should fix the &lt;tt&gt;stopJettySolrRunner&lt;/tt&gt; method to remove the jetty from the internal list. This change in behavior can potentially break test code but I think it is a valid bug that should be fixed.&lt;/p&gt;

&lt;p&gt;The &lt;tt&gt;startJettySolrRunner&lt;/tt&gt; method too, adds the given instance to the internal list without checking whether it exists already or not. That too should be fixed.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13179859">SOLR-12679</key>
            <summary>MiniSolrCloudCluster internal jetty list should never have duplicates</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="shalin">Shalin Shekhar Mangar</assignee>
                                    <reporter username="shalin">Shalin Shekhar Mangar</reporter>
                        <labels>
                    </labels>
                <created>Mon, 20 Aug 2018 04:36:45 +0000</created>
                <updated>Wed, 2 Oct 2019 17:23:57 +0000</updated>
                            <resolved>Mon, 20 Aug 2018 08:55:35 +0000</resolved>
                                    <version>7.4</version>
                                    <fixVersion>7.5</fixVersion>
                    <fixVersion>8.0</fixVersion>
                                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16585557" author="jira-bot" created="Mon, 20 Aug 2018 07:47:15 +0000"  >&lt;p&gt;Commit ee498f5a38c0454f6649e78f71c74d4bb2da1228 in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=shalin&quot; class=&quot;user-hover&quot; rel=&quot;shalin&quot;&gt;shalin&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=ee498f5&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=ee498f5&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-12679&quot; title=&quot;MiniSolrCloudCluster internal jetty list should never have duplicates&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-12679&quot;&gt;&lt;del&gt;SOLR-12679&lt;/del&gt;&lt;/a&gt;: MiniSolrCloudCluster.stopJettySolrRunner should remove jetty from the internal list&lt;/p&gt;

&lt;p&gt;While the startJettySolrRunner adds the given jetty instance to the internal list of jetty instances, the stopJettySolrRunner method does not remove the given instance from the list. This leads to inconsistencies such as stopped jettys retained in the internal list and duplicate (stopped) jettys. This commit also fixes TestCollectionsAPIViaSolrCloudCluster to deal with this change.&lt;/p&gt;</comment>
                            <comment id="16585572" author="jira-bot" created="Mon, 20 Aug 2018 07:57:22 +0000"  >&lt;p&gt;Commit faf3eaabf0bbcbad161805e8e53b68e4cdc34d47 in lucene-solr&apos;s branch refs/heads/branch_7x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=shalin&quot; class=&quot;user-hover&quot; rel=&quot;shalin&quot;&gt;shalin&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=faf3eaa&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=faf3eaa&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-12679&quot; title=&quot;MiniSolrCloudCluster internal jetty list should never have duplicates&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-12679&quot;&gt;&lt;del&gt;SOLR-12679&lt;/del&gt;&lt;/a&gt;: MiniSolrCloudCluster.stopJettySolrRunner should remove jetty from the internal list&lt;/p&gt;

&lt;p&gt;While the startJettySolrRunner adds the given jetty instance to the internal list of jetty instances, the stopJettySolrRunner method does not remove the given instance from the list. This leads to inconsistencies such as stopped jettys retained in the internal list and duplicate (stopped) jettys. This commit also fixes TestCollectionsAPIViaSolrCloudCluster to deal with this change.&lt;/p&gt;

&lt;p&gt;(cherry picked from commit ee498f5a38c0454f6649e78f71c74d4bb2da1228)&lt;/p&gt;</comment>
                            <comment id="16585628" author="shalinmangar" created="Mon, 20 Aug 2018 08:38:14 +0000"  >&lt;p&gt;Re-opening because I think we should modify the startJettySolrRunner method too and prevent duplicate instances from getting added.&lt;/p&gt;</comment>
                            <comment id="16585653" author="jira-bot" created="Mon, 20 Aug 2018 08:54:43 +0000"  >&lt;p&gt;Commit 3c9050c3dd3f4ceda3dad612307e0589cf2e12ab in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=shalin&quot; class=&quot;user-hover&quot; rel=&quot;shalin&quot;&gt;shalin&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=3c9050c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=3c9050c&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-12679&quot; title=&quot;MiniSolrCloudCluster internal jetty list should never have duplicates&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-12679&quot;&gt;&lt;del&gt;SOLR-12679&lt;/del&gt;&lt;/a&gt;: MiniSolrCloudCluster.startJettySolrRunner method should not add a duplicate jetty instance to the list&lt;/p&gt;</comment>
                            <comment id="16585655" author="jira-bot" created="Mon, 20 Aug 2018 08:55:22 +0000"  >&lt;p&gt;Commit 66441d870e3e5291578ce0bcf4d3dfd7789d1155 in lucene-solr&apos;s branch refs/heads/branch_7x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=shalin&quot; class=&quot;user-hover&quot; rel=&quot;shalin&quot;&gt;shalin&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=66441d8&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=66441d8&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-12679&quot; title=&quot;MiniSolrCloudCluster internal jetty list should never have duplicates&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-12679&quot;&gt;&lt;del&gt;SOLR-12679&lt;/del&gt;&lt;/a&gt;: MiniSolrCloudCluster.startJettySolrRunner method should not add a duplicate jetty instance to the list&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 3c9050c3dd3f4ceda3dad612307e0589cf2e12ab)&lt;/p&gt;</comment>
                            <comment id="16586758" author="jira-bot" created="Tue, 21 Aug 2018 01:30:32 +0000"  >&lt;p&gt;Commit ee498f5a38c0454f6649e78f71c74d4bb2da1228 in lucene-solr&apos;s branch refs/heads/jira/http2 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=shalin&quot; class=&quot;user-hover&quot; rel=&quot;shalin&quot;&gt;shalin&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=ee498f5&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=ee498f5&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-12679&quot; title=&quot;MiniSolrCloudCluster internal jetty list should never have duplicates&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-12679&quot;&gt;&lt;del&gt;SOLR-12679&lt;/del&gt;&lt;/a&gt;: MiniSolrCloudCluster.stopJettySolrRunner should remove jetty from the internal list&lt;/p&gt;

&lt;p&gt;While the startJettySolrRunner adds the given jetty instance to the internal list of jetty instances, the stopJettySolrRunner method does not remove the given instance from the list. This leads to inconsistencies such as stopped jettys retained in the internal list and duplicate (stopped) jettys. This commit also fixes TestCollectionsAPIViaSolrCloudCluster to deal with this change.&lt;/p&gt;</comment>
                            <comment id="16586760" author="jira-bot" created="Tue, 21 Aug 2018 01:30:35 +0000"  >&lt;p&gt;Commit 3c9050c3dd3f4ceda3dad612307e0589cf2e12ab in lucene-solr&apos;s branch refs/heads/jira/http2 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=shalin&quot; class=&quot;user-hover&quot; rel=&quot;shalin&quot;&gt;shalin&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=3c9050c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=3c9050c&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-12679&quot; title=&quot;MiniSolrCloudCluster internal jetty list should never have duplicates&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-12679&quot;&gt;&lt;del&gt;SOLR-12679&lt;/del&gt;&lt;/a&gt;: MiniSolrCloudCluster.startJettySolrRunner method should not add a duplicate jetty instance to the list&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12936230" name="SOLR-12679.patch" size="1934" author="shalin" created="Mon, 20 Aug 2018 06:55:05 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 13 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3x7b3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>