<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:31:32 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-12110] Replica which failed to register in Zk can become leader</title>
                <link>https://issues.apache.org/jira/browse/SOLR-12110</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;In case&#160;of when an exception is thrown in ZkController.register() a replica can still be able to joinElection&#160;and become leader after that. This will cause many problems, one of the&#160;problems can happen (the patch including a test which lead to this failure) is&lt;/p&gt;

&lt;p&gt;A replica with DOWN state can become a leader&#160;and the shard will be stuck in this state forever until the replica is removed or the node contains the replica is restarted.&lt;/p&gt;

&lt;p&gt;This won&apos;t be a problem in Solr 7.2.1 because a replica with last published state = DOWN can&apos;t become a leader, only since&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7034&quot; title=&quot;Consider allowing any node to become leader, regardless of their last published state.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7034&quot;&gt;&lt;del&gt;SOLR-7034&lt;/del&gt;&lt;/a&gt;&#160;get resolved (by &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-12011&quot; title=&quot;Consistence problem when in-sync replicas are DOWN&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-12011&quot;&gt;&lt;del&gt;SOLR-12011&lt;/del&gt;&lt;/a&gt;)&lt;/p&gt;</description>
                <environment></environment>
        <key id="13145561">SOLR-12110</key>
            <summary>Replica which failed to register in Zk can become leader</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="caomanhdat">Cao Manh Dat</assignee>
                                    <reporter username="caomanhdat">Cao Manh Dat</reporter>
                        <labels>
                    </labels>
                <created>Fri, 16 Mar 2018 01:51:26 +0000</created>
                <updated>Wed, 2 Oct 2019 17:23:32 +0000</updated>
                            <resolved>Fri, 16 Mar 2018 23:56:46 +0000</resolved>
                                    <version>7.3</version>
                                    <fixVersion>7.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="16401377" author="caomanhdat" created="Fri, 16 Mar 2018 01:54:25 +0000"  >&lt;p&gt;The idea of the patch is calling ZkController.unregister when an exception is thrown by ZkController.register&lt;/p&gt;</comment>
                            <comment id="16401736" author="shalinmangar" created="Fri, 16 Mar 2018 10:57:41 +0000"  >&lt;p&gt;+1 LGTM&lt;/p&gt;</comment>
                            <comment id="16402059" author="caomanhdat" created="Fri, 16 Mar 2018 15:31:41 +0000"  >&lt;p&gt;Updated patch with reliable test ( beasted 100 times )&lt;/p&gt;</comment>
                            <comment id="16403134" author="jira-bot" created="Fri, 16 Mar 2018 23:55:09 +0000"  >&lt;p&gt;Commit be8dca3c7bc064bc42662cb3fa6eb7439ffc7fdb in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=caomanhdat&quot; class=&quot;user-hover&quot; rel=&quot;caomanhdat&quot;&gt;caomanhdat&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=be8dca3&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=be8dca3&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-12110&quot; title=&quot;Replica which failed to register in Zk can become leader&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-12110&quot;&gt;&lt;del&gt;SOLR-12110&lt;/del&gt;&lt;/a&gt;: Replica which failed to register in Zk can become leader&lt;/p&gt;</comment>
                            <comment id="16403135" author="jira-bot" created="Fri, 16 Mar 2018 23:55:51 +0000"  >&lt;p&gt;Commit 911fda2efd4d71a604c1815e7e0545bc66986eee in lucene-solr&apos;s branch refs/heads/branch_7x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=caomanhdat&quot; class=&quot;user-hover&quot; rel=&quot;caomanhdat&quot;&gt;caomanhdat&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=911fda2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=911fda2&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-12110&quot; title=&quot;Replica which failed to register in Zk can become leader&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-12110&quot;&gt;&lt;del&gt;SOLR-12110&lt;/del&gt;&lt;/a&gt;: Replica which failed to register in Zk can become leader&lt;/p&gt;</comment>
                            <comment id="16403137" author="jira-bot" created="Fri, 16 Mar 2018 23:56:23 +0000"  >&lt;p&gt;Commit 8a3742d2ee342ee60a6ed822e36fbdf66e0b5b97 in lucene-solr&apos;s branch refs/heads/branch_7_3 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=caomanhdat&quot; class=&quot;user-hover&quot; rel=&quot;caomanhdat&quot;&gt;caomanhdat&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=8a3742d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=8a3742d&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-12110&quot; title=&quot;Replica which failed to register in Zk can become leader&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-12110&quot;&gt;&lt;del&gt;SOLR-12110&lt;/del&gt;&lt;/a&gt;: Replica which failed to register in Zk can become leader&lt;/p&gt;</comment>
                            <comment id="16403138" author="caomanhdat" created="Fri, 16 Mar 2018 23:56:33 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=shalin&quot; class=&quot;user-hover&quot; rel=&quot;shalin&quot;&gt;shalin&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16407445" author="jira-bot" created="Wed, 21 Mar 2018 04:26:10 +0000"  >&lt;p&gt;Commit d2ef38d7845d967e259483bbf4a22cf8abec1309 in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=caomanhdat&quot; class=&quot;user-hover&quot; rel=&quot;caomanhdat&quot;&gt;caomanhdat&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=d2ef38d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=d2ef38d&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-12110&quot; title=&quot;Replica which failed to register in Zk can become leader&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-12110&quot;&gt;&lt;del&gt;SOLR-12110&lt;/del&gt;&lt;/a&gt;: Remove debug log for test&lt;/p&gt;</comment>
                            <comment id="16407446" author="jira-bot" created="Wed, 21 Mar 2018 04:26:53 +0000"  >&lt;p&gt;Commit 32c8540d56add6fbf1906225f58afb78b7f9983c in lucene-solr&apos;s branch refs/heads/branch_7x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=caomanhdat&quot; class=&quot;user-hover&quot; rel=&quot;caomanhdat&quot;&gt;caomanhdat&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=32c8540&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=32c8540&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-12110&quot; title=&quot;Replica which failed to register in Zk can become leader&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-12110&quot;&gt;&lt;del&gt;SOLR-12110&lt;/del&gt;&lt;/a&gt;: Remove debug log for test&lt;/p&gt;</comment>
                            <comment id="16407447" author="jira-bot" created="Wed, 21 Mar 2018 04:27:19 +0000"  >&lt;p&gt;Commit a1692f950797abe9b4faeb3154f50b3bce25ec52 in lucene-solr&apos;s branch refs/heads/branch_7_3 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=caomanhdat&quot; class=&quot;user-hover&quot; rel=&quot;caomanhdat&quot;&gt;caomanhdat&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=a1692f9&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=a1692f9&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-12110&quot; title=&quot;Replica which failed to register in Zk can become leader&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-12110&quot;&gt;&lt;del&gt;SOLR-12110&lt;/del&gt;&lt;/a&gt;: Remove debug log for test&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12914882" name="SOLR-12110.patch" size="9616" author="caomanhdat" created="Fri, 16 Mar 2018 15:31:24 +0000"/>
                            <attachment id="12914811" name="SOLR-12110.patch" size="9616" author="caomanhdat" created="Fri, 16 Mar 2018 01:53:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 35 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3rdkv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>