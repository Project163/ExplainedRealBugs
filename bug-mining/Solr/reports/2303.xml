<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:01:50 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-7024] bin/solr: Improve java detection and error messages</title>
                <link>https://issues.apache.org/jira/browse/SOLR-7024</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;Java detection needs a bit of an overhaul.  One example: When running the shell script, if JAVA_HOME is set, but does not point to a valid java home, Solr will not start, but the error message is unhelpful, especially to users who actually DO have the right java version installed.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Linux bigindy5 3.10.0-123.9.2.el7.x86_64 #1 SMP Tue Oct 28 18:05:26 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux&lt;/p&gt;</environment>
        <key id="12769734">SOLR-7024</key>
            <summary>bin/solr: Improve java detection and error messages</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="elyograg">Shawn Heisey</assignee>
                                    <reporter username="elyograg">Shawn Heisey</reporter>
                        <labels>
                    </labels>
                <created>Fri, 23 Jan 2015 20:01:28 +0000</created>
                <updated>Mon, 9 May 2016 18:52:36 +0000</updated>
                            <resolved>Sat, 24 Jan 2015 00:12:30 +0000</resolved>
                                    <version>5.0</version>
                                    <fixVersion>5.0</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                    <component>scripts and tools</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="14289877" author="anshumg" created="Fri, 23 Jan 2015 20:12:43 +0000"  >&lt;p&gt;I&apos;m not sure if this is expected/wanted. What happens when JAVA_HOME is not set at all? I think that should be the failover too but at the same time, it should at least echo a WARNING in such a case before the auto-failover happens.&lt;/p&gt;</comment>
                            <comment id="14289907" author="thelabdude" created="Fri, 23 Jan 2015 20:28:12 +0000"  >&lt;p&gt;Don&apos;t see how this is a blocker?&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;$ export JAVA_HOME=not_a_valid_path
$ bin/solr start
Java is required to run Solr! Please install Java 7 or 8 before running &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; script.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14289909" author="arafalov" created="Fri, 23 Jan 2015 20:28:23 +0000"  >&lt;p&gt;I think it should crash/ERROR in that case. Otherwise, it would be impossible to troubleshoot. JAVA_HOME is supposed to be an override of sorts.&lt;/p&gt;</comment>
                            <comment id="14289917" author="elyograg" created="Fri, 23 Jan 2015 20:31:41 +0000"  >&lt;p&gt;Patch that fixes the problem, and also adds troubleshooting info to the &quot;java not found&quot; error message.&lt;/p&gt;</comment>
                            <comment id="14289922" author="elyograg" created="Fri, 23 Jan 2015 20:34:53 +0000"  >&lt;p&gt;Patch with entry in CHANGES.txt&lt;/p&gt;</comment>
                            <comment id="14289928" author="elyograg" created="Fri, 23 Jan 2015 20:38:29 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thelabdude&quot; class=&quot;user-hover&quot; rel=&quot;thelabdude&quot;&gt;thelabdude&lt;/a&gt; If a good java version is available on the PATH, it does not get found, because JAVA is never set when JAVA_HOME refers to a location that doesn&apos;t contain java.&lt;/p&gt;

&lt;p&gt;Blocker might be overkill.&lt;/p&gt;</comment>
                            <comment id="14289941" author="anshumg" created="Fri, 23 Jan 2015 20:46:57 +0000"  >&lt;p&gt;+1 on what &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=arafalov&quot; class=&quot;user-hover&quot; rel=&quot;arafalov&quot;&gt;arafalov&lt;/a&gt; said. Considering JAVA_HOME is supposed to be an override, a wrong override must result in an error..&lt;/p&gt;

&lt;p&gt;Not having JAVA_HOME defined and then finding JAVA in the path is totally fine in my opinion though.&lt;/p&gt;</comment>
                            <comment id="14289945" author="elyograg" created="Fri, 23 Jan 2015 20:49:38 +0000"  >&lt;p&gt;I guess we need to decide what we want to happen when we have an invalid JAVA_HOME.&lt;/p&gt;</comment>
                            <comment id="14289950" author="elyograg" created="Fri, 23 Jan 2015 20:50:56 +0000"  >&lt;p&gt;New patch.  If JAVA_HOME is no good, lets the user know the script is going to try to find java on the path.&lt;/p&gt;</comment>
                            <comment id="14289953" author="elyograg" created="Fri, 23 Jan 2015 20:51:51 +0000"  >&lt;p&gt;Alternately, the message in the new patch could just indicate JAVA_HOME is no good and exit.&lt;/p&gt;</comment>
                            <comment id="14289960" author="elyograg" created="Fri, 23 Jan 2015 20:57:53 +0000"  >&lt;p&gt;Typo in patch.&lt;br/&gt;
&quot;an location&quot; -&amp;gt; &quot;a location&quot;&lt;/p&gt;</comment>
                            <comment id="14289963" author="anshumg" created="Fri, 23 Jan 2015 20:59:10 +0000"  >&lt;p&gt;I&apos;d suggest exiting out after mentioning (which happens already I think).&lt;br/&gt;
Overriding an override might not be such a good idea.&lt;/p&gt;

&lt;p&gt;We could change the message to something more descriptive though so instead of &quot;Please install Java 7 or 8 before running this script.&quot;, we could provide information about the JAVA_HOME that was tried and that it was an invalid path.&lt;/p&gt;</comment>
                            <comment id="14289992" author="elyograg" created="Fri, 23 Jan 2015 21:16:29 +0000"  >&lt;p&gt;New patch.&lt;/p&gt;

&lt;p&gt;Cleaned up the new echo commands and improved the existing error message.  Script aborts if java not located in JAVA_HOME location.&lt;/p&gt;</comment>
                            <comment id="14289996" author="elyograg" created="Fri, 23 Jan 2015 21:18:37 +0000"  >&lt;p&gt;CHANGES.txt update.&lt;/p&gt;</comment>
                            <comment id="14290003" author="elyograg" created="Fri, 23 Jan 2015 21:23:08 +0000"  >&lt;p&gt;forgot to include my name on the patch, but if this form is acceptable, it will be present in what gets committed.&lt;/p&gt;</comment>
                            <comment id="14290052" author="elyograg" created="Fri, 23 Jan 2015 21:51:54 +0000"  >&lt;p&gt;Updated patch.  I had changed the default executable to javxa so I could verify functionality, that edit was left in.&lt;/p&gt;</comment>
                            <comment id="14290068" author="elyograg" created="Fri, 23 Jan 2015 22:00:22 +0000"  >&lt;p&gt;Another iteration of the patch.  This only has a minor update to CHANGES.txt.&lt;/p&gt;</comment>
                            <comment id="14290075" author="anshumg" created="Fri, 23 Jan 2015 22:04:42 +0000"  >&lt;p&gt;Do we really need to init the variable as BADJAVA? Just checking against if [ -z &quot;$JAVA&quot; ] should work too, right?&lt;br/&gt;
Also, we should have this fix for windows too so that the behavior stays consistent.&lt;/p&gt;</comment>
                            <comment id="14290089" author="elyograg" created="Fri, 23 Jan 2015 22:13:14 +0000"  >&lt;p&gt;I promise that I will eventually have the patch where I want it.&lt;/p&gt;

&lt;p&gt;Tweaked the error message a little.&lt;/p&gt;</comment>
                            <comment id="14290103" author="elyograg" created="Fri, 23 Jan 2015 22:19:04 +0000"  >&lt;p&gt;Good idea on using -z.  New patch that does exactly that.&lt;/p&gt;

&lt;p&gt;I looked at the windows batch file.  The logic there looks completely different and I&apos;m not sure at first glance how to make a similar change.&lt;/p&gt;</comment>
                            <comment id="14290110" author="anshumg" created="Fri, 23 Jan 2015 22:20:41 +0000"  >&lt;blockquote&gt;&lt;p&gt;Please install/fix Java 7 or 8 before running this script.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;You might want to rename this to:&lt;br/&gt;
Please install Java 7 or 8 and fix JAVA_HOME before running this script?&lt;/p&gt;

&lt;p&gt;Also, windows? did you mean you&apos;d have a patch for that too?&lt;/p&gt;</comment>
                            <comment id="14290186" author="elyograg" created="Fri, 23 Jan 2015 23:07:35 +0000"  >&lt;p&gt;Moving out of Blocker because I don&apos;t have any solution for Windows yet.&lt;/p&gt;</comment>
                            <comment id="14290196" author="elyograg" created="Fri, 23 Jan 2015 23:20:27 +0000"  >&lt;p&gt;I will create a new issue for the batch file.  I&apos;d like to get the shell script improvements into 5.0, a similar improvement for Windows might need to wait until 5.0.1 or 5.1.&lt;/p&gt;</comment>
                            <comment id="14290239" author="jira-bot" created="Sat, 24 Jan 2015 00:02:27 +0000"  >&lt;p&gt;Commit 1654434 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=elyograg&quot; class=&quot;user-hover&quot; rel=&quot;elyograg&quot;&gt;elyograg&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1654434&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1654434&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7024&quot; title=&quot;bin/solr: Improve java detection and error messages&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7024&quot;&gt;&lt;del&gt;SOLR-7024&lt;/del&gt;&lt;/a&gt;: bin/solr: Improve java detection and error messages&lt;/p&gt;</comment>
                            <comment id="14290243" author="jira-bot" created="Sat, 24 Jan 2015 00:07:27 +0000"  >&lt;p&gt;Commit 1654436 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=elyograg&quot; class=&quot;user-hover&quot; rel=&quot;elyograg&quot;&gt;elyograg&lt;/a&gt; in branch &apos;dev/branches/branch_5x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1654436&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1654436&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7024&quot; title=&quot;bin/solr: Improve java detection and error messages&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7024&quot;&gt;&lt;del&gt;SOLR-7024&lt;/del&gt;&lt;/a&gt;: bin/solr: Improve java detection and error messages (merge trunk r1654434)&lt;/p&gt;</comment>
                            <comment id="14290249" author="jira-bot" created="Sat, 24 Jan 2015 00:10:47 +0000"  >&lt;p&gt;Commit 1654438 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=elyograg&quot; class=&quot;user-hover&quot; rel=&quot;elyograg&quot;&gt;elyograg&lt;/a&gt; in branch &apos;dev/branches/lucene_solr_5_0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1654438&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1654438&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7024&quot; title=&quot;bin/solr: Improve java detection and error messages&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7024&quot;&gt;&lt;del&gt;SOLR-7024&lt;/del&gt;&lt;/a&gt;: bin/solr: Improve java detection and error messages (merge trunk r1654434)&lt;/p&gt;</comment>
                            <comment id="14332951" author="anshumg" created="Mon, 23 Feb 2015 05:02:46 +0000"  >&lt;p&gt;Bulk close after 5.0 release.&lt;/p&gt;</comment>
                            <comment id="14521432" author="dsmiley" created="Thu, 30 Apr 2015 12:39:46 +0000"  >&lt;p&gt;The bin/solr script on 5x will report an error to the user if Java isn&apos;t installed, but it will claim Java 8:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;echo &amp;gt;&amp;amp;2 &lt;span class=&quot;code-quote&quot;&gt;&quot;A working Java 8 is required to run Solr!&quot;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; </comment>
                            <comment id="14522727" author="jira-bot" created="Fri, 1 May 2015 03:47:51 +0000"  >&lt;p&gt;Commit 1677094 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=elyograg&quot; class=&quot;user-hover&quot; rel=&quot;elyograg&quot;&gt;elyograg&lt;/a&gt; in branch &apos;dev/branches/branch_5x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1677094&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1677094&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7024&quot; title=&quot;bin/solr: Improve java detection and error messages&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7024&quot;&gt;&lt;del&gt;SOLR-7024&lt;/del&gt;&lt;/a&gt;: Correct Java version in error message to 7 or later on 5x.&lt;/p&gt;</comment>
                            <comment id="14522728" author="elyograg" created="Fri, 1 May 2015 03:48:37 +0000"  >&lt;p&gt;oops!  I committed a fix.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10020">
                    <name>Cloners</name>
                                                                <inwardlinks description="is cloned by">
                                        <issuelink>
            <issuekey id="12769773">SOLR-7025</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12694265" name="SOLR-7024.patch" size="1683" author="elyograg" created="Fri, 23 Jan 2015 22:19:04 +0000"/>
                            <attachment id="12694262" name="SOLR-7024.patch" size="1862" author="elyograg" created="Fri, 23 Jan 2015 22:13:14 +0000"/>
                            <attachment id="12694257" name="SOLR-7024.patch" size="1780" author="elyograg" created="Fri, 23 Jan 2015 22:00:22 +0000"/>
                            <attachment id="12694255" name="SOLR-7024.patch" size="1764" author="elyograg" created="Fri, 23 Jan 2015 21:51:54 +0000"/>
                            <attachment id="12694247" name="SOLR-7024.patch" size="1763" author="elyograg" created="Fri, 23 Jan 2015 21:18:37 +0000"/>
                            <attachment id="12694245" name="SOLR-7024.patch" size="1859" author="elyograg" created="Fri, 23 Jan 2015 21:16:29 +0000"/>
                            <attachment id="12694240" name="SOLR-7024.patch" size="1735" author="elyograg" created="Fri, 23 Jan 2015 20:57:53 +0000"/>
                            <attachment id="12694239" name="SOLR-7024.patch" size="1736" author="elyograg" created="Fri, 23 Jan 2015 20:50:56 +0000"/>
                            <attachment id="12694237" name="SOLR-7024.patch" size="1561" author="elyograg" created="Fri, 23 Jan 2015 20:34:53 +0000"/>
                            <attachment id="12694236" name="SOLR-7024.patch" size="990" author="elyograg" created="Fri, 23 Jan 2015 20:31:41 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>10.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 29 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i24qnj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>