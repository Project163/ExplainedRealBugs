<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:36:16 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-4768] The Solr war produced by generate-maven-artifacts should not contain logging jars</title>
                <link>https://issues.apache.org/jira/browse/SOLR-4768</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;I know why the two .wars are different:&lt;/p&gt;

&lt;p&gt;The binary package Solr war&apos;s target chain is:&lt;/p&gt;

  &lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;&apos;package&apos;-&amp;gt;&apos;create-package&apos;-&amp;gt;&apos;dist&apos;-&amp;gt;&apos;dist-war&apos;-&amp;gt;webapp:&apos;dist&apos;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The maven Solr war&apos;s target chain is:&lt;/p&gt;

  &lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;&apos;generate-maven-artifacts&apos;-&amp;gt;webapp:&apos;dist-maven&apos;-&amp;gt;webapp:&apos;dist&apos;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So both create the war using webapp:&apos;dist&apos;, but only &apos;dist-war&apos; passes in a modified &apos;exclude.from.war&apos; property definition (which is empty by default):&lt;/p&gt;

  &lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;property name=&lt;span class=&quot;code-quote&quot;&gt;&quot;exclude.from.war&quot;&lt;/span&gt; value=&lt;span class=&quot;code-quote&quot;&gt;&quot;*slf4j*,log4j-*&quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;As a result, the maven Solr war contains logging jars while the official war does not.&lt;/p&gt;

&lt;p&gt;I think the fix is to make the above the default setting, rather than passing in a non-default property value from &apos;dist-war&apos;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12644840">SOLR-4768</key>
            <summary>The Solr war produced by generate-maven-artifacts should not contain logging jars</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sarowe">Steven Rowe</assignee>
                                    <reporter username="sarowe">Steven Rowe</reporter>
                        <labels>
                    </labels>
                <created>Fri, 26 Apr 2013 14:20:43 +0000</created>
                <updated>Mon, 9 May 2016 18:44:20 +0000</updated>
                            <resolved>Fri, 26 Apr 2013 20:13:11 +0000</resolved>
                                    <version>4.3</version>
                                    <fixVersion>4.3</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                    <component>Build</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13642892" author="steve_rowe" created="Fri, 26 Apr 2013 14:29:44 +0000"  >&lt;p&gt;Here&apos;s the patch:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;Index: solr/build.xml
===================================================================
--- solr/build.xml	(revision 1476218)
+++ solr/build.xml	(working copy)
@@ -353,7 +353,6 @@
   &amp;lt;target name=&lt;span class=&quot;code-quote&quot;&gt;&quot;dist-war&quot;&lt;/span&gt;
           description=&lt;span class=&quot;code-quote&quot;&gt;&quot;Creates the Solr WAR Distribution file.&quot;&lt;/span&gt;&amp;gt;
     &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;ant dir=&lt;span class=&quot;code-quote&quot;&gt;&quot;webapp&quot;&lt;/span&gt; target=&lt;span class=&quot;code-quote&quot;&gt;&quot;dist&quot;&lt;/span&gt; inheritall=&lt;span class=&quot;code-quote&quot;&gt;&quot;false&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
-      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;property name=&lt;span class=&quot;code-quote&quot;&gt;&quot;exclude.from.war&quot;&lt;/span&gt; value=&lt;span class=&quot;code-quote&quot;&gt;&quot;*slf4j*,log4j-*&quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;
       &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;propertyset refid=&lt;span class=&quot;code-quote&quot;&gt;&quot;uptodate.and.compiled.properties&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
     &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/ant&amp;gt;&lt;/span&gt;
   &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/target&amp;gt;&lt;/span&gt;
Index: solr/webapp/build.xml
===================================================================
--- solr/webapp/build.xml	(revision 1476218)
+++ solr/webapp/build.xml	(working copy)
@@ -20,7 +20,7 @@
 
   &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;import file=&lt;span class=&quot;code-quote&quot;&gt;&quot;../common-build.xml&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
 
-	&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;property name=&lt;span class=&quot;code-quote&quot;&gt;&quot;exclude.from.war&quot;&lt;/span&gt; value=&quot;&quot; /&amp;gt;&lt;/span&gt;
+  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;property name=&lt;span class=&quot;code-quote&quot;&gt;&quot;exclude.from.war&quot;&lt;/span&gt; value=&lt;span class=&quot;code-quote&quot;&gt;&quot;*slf4j*,log4j-*&quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;
   &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;property name=&lt;span class=&quot;code-quote&quot;&gt;&quot;solr.war.suffix&quot;&lt;/span&gt; value=&quot;&quot; /&amp;gt;&lt;/span&gt;
 	
   &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;target name=&lt;span class=&quot;code-quote&quot;&gt;&quot;test&quot;&lt;/span&gt; depends=&lt;span class=&quot;code-quote&quot;&gt;&quot;compile-test-solr-core&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13642914" author="steve_rowe" created="Fri, 26 Apr 2013 14:52:32 +0000"  >&lt;p&gt;With the above patch applied I ran &lt;tt&gt;ant generate-maven-artifacts&lt;/tt&gt; and &lt;tt&gt;ant dist-war&lt;/tt&gt; from &lt;tt&gt;solr/&lt;/tt&gt;, and both created wars without the logging jars.&lt;/p&gt;

&lt;p&gt;Committing now.&lt;/p&gt;</comment>
                            <comment id="13642917" author="commit-tag-bot" created="Fri, 26 Apr 2013 14:53:26 +0000"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;trunk commit&amp;#93;&lt;/span&gt; sarowe&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1476237&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1476237&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-4768&quot; title=&quot;The Solr war produced by generate-maven-artifacts should not contain logging jars&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-4768&quot;&gt;&lt;del&gt;SOLR-4768&lt;/del&gt;&lt;/a&gt;: The Solr war produced by generate-maven-artifacts should not contain logging jars&lt;/p&gt;</comment>
                            <comment id="13642922" author="commit-tag-bot" created="Fri, 26 Apr 2013 14:55:48 +0000"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;branch_4x commit&amp;#93;&lt;/span&gt; sarowe&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1476239&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1476239&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-4768&quot; title=&quot;The Solr war produced by generate-maven-artifacts should not contain logging jars&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-4768&quot;&gt;&lt;del&gt;SOLR-4768&lt;/del&gt;&lt;/a&gt;: The Solr war produced by generate-maven-artifacts should not contain logging jars (merged trunk r1476237)&lt;/p&gt;</comment>
                            <comment id="13642942" author="markrmiller@gmail.com" created="Fri, 26 Apr 2013 15:12:02 +0000"  >&lt;p&gt;Thanks Steve.&lt;/p&gt;</comment>
                            <comment id="13643165" author="commit-tag-bot" created="Fri, 26 Apr 2013 19:34:42 +0000"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;lucene_solr_4_3 commit&amp;#93;&lt;/span&gt; sarowe&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1476353&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1476353&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-4768&quot; title=&quot;The Solr war produced by generate-maven-artifacts should not contain logging jars&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-4768&quot;&gt;&lt;del&gt;SOLR-4768&lt;/del&gt;&lt;/a&gt;: The Solr war produced by generate-maven-artifacts should not contain logging jars (merged trunk r1476237)&lt;/p&gt;</comment>
                            <comment id="13643172" author="rcmuir" created="Fri, 26 Apr 2013 19:40:25 +0000"  >&lt;p&gt;Thank you!&lt;/p&gt;</comment>
                            <comment id="13643206" author="steve_rowe" created="Fri, 26 Apr 2013 20:13:11 +0000"  >&lt;p&gt;Committed to trunk, branch_4x and lucene_solr_4_3.&lt;/p&gt;</comment>
                            <comment id="13654083" author="thetaphi" created="Fri, 10 May 2013 10:33:58 +0000"  >&lt;p&gt;Closed after release.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12601393">SOLR-3706</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>325202</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 28 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1k3sv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>325547</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>