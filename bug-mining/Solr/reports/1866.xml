<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:49:08 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-5914] Almost all Solr tests no longer cleanup their temp dirs on Windows</title>
                <link>https://issues.apache.org/jira/browse/SOLR-5914</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;Recently the Windows Jenkins Build server has the problem of all-the time running out of disk space. This machine runs 2 workspaces (4.x and trunk) and has initially 8 Gigabytes of free SSD disk space.&lt;/p&gt;

&lt;p&gt;Because of the recently all-the time failing tests, the test framework does not forcefully clean up the &quot;J0&quot; working folders after running tests. This leads to the fact, that the workspace is filled with tons of Solr Home dirs. I tried this on my local machine:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;run ant test&lt;/li&gt;
	&lt;li&gt;go to build/.../test/J0 and watch folders appearing: Almost every test no longer cleans up after shutting down, leaving a million of files there. This is approx 3 to 4 Gigabytes!!!&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;In Lucene the folders are correctly removed. This has happened recently, so i think we have some code like (&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=erickerickson&quot; class=&quot;user-hover&quot; rel=&quot;erickerickson&quot;&gt;erickerickson&lt;/a&gt; !!!):&lt;br/&gt;
&lt;tt&gt;new Properties().load(new FileInputStream(...))&lt;/tt&gt; that does not close the files. Because of this, the test&apos;s afterClass cannot clean up folders anymore. If you look in the test log, you see messages like &quot;&lt;tt&gt;!!!! WARNING: best effort to remove C:\Users\JenkinsSlave\workspace\Lucene-Solr-4.x-Windows\solr\build\solr-core\test\J0\.\org.apache.solr.cloud.TestShortCircuitedRequests-1395693845226 FAILED !!!!!&lt;/tt&gt;&quot; all the time.&lt;/p&gt;

&lt;p&gt;So if anybody committed some changes that might not close files correctly, please fix! Otherwise I have to disable testing on windows - and I will no longer run solr, tests, too: My local computer also uses gigabytes of temp space after running tests!&lt;/p&gt;</description>
                <environment></environment>
        <key id="12703693">SOLR-5914</key>
            <summary>Almost all Solr tests no longer cleanup their temp dirs on Windows</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="markrmiller@gmail.com">Mark Miller</assignee>
                                    <reporter username="uschindler">Uwe Schindler</reporter>
                        <labels>
                    </labels>
                <created>Wed, 26 Mar 2014 10:25:00 +0000</created>
                <updated>Mon, 9 May 2016 18:50:42 +0000</updated>
                            <resolved>Fri, 4 Apr 2014 17:45:29 +0000</resolved>
                                    <version>4.8</version>
                                    <fixVersion>4.8</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="13947776" author="thetaphi" created="Wed, 26 Mar 2014 10:28:02 +0000"  >&lt;p&gt;Screenshots from the Windows Jenkins VM after out of disk space.&lt;/p&gt;</comment>
                            <comment id="13947784" author="dweiss" created="Wed, 26 Mar 2014 10:32:34 +0000"  >&lt;p&gt;Perhaps we should change and instead of a warning throw a regular failure if something cannot be cleaned up?&lt;/p&gt;</comment>
                            <comment id="13947830" author="erickerickson" created="Wed, 26 Mar 2014 11:46:19 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thetaphi&quot; class=&quot;user-hover&quot; rel=&quot;thetaphi&quot;&gt;thetaphi&lt;/a&gt; Wait, are you saying this is something I recently committed? Or just referencing one of my more stellar moments?&lt;/p&gt;</comment>
                            <comment id="13947868" author="dweiss" created="Wed, 26 Mar 2014 12:49:00 +0000"  >&lt;p&gt;No fingerpointing &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Let&apos;s try to make the tests better and life easier. I believe tests should clean up after they&apos;re done. When a test is successful, it should remove any directories or files it&apos;s created, simple. There is some infrastructure we could utilize for creating temp files and resources, such as:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/carrotsearch/randomizedtesting/blob/master/randomized-runner/src/main/java/com/carrotsearch/randomizedtesting/RandomizedTest.java#L371&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/carrotsearch/randomizedtesting/blob/master/randomized-runner/src/main/java/com/carrotsearch/randomizedtesting/RandomizedTest.java#L371&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Specifically, after a suite class completes (successfully), this File should be removable:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/carrotsearch/randomizedtesting/blob/master/randomized-runner/src/main/java/com/carrotsearch/randomizedtesting/RandomizedTest.java#L266&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/carrotsearch/randomizedtesting/blob/master/randomized-runner/src/main/java/com/carrotsearch/randomizedtesting/RandomizedTest.java#L266&lt;/a&gt;&lt;/p&gt;
</comment>
                            <comment id="13947892" author="thetaphi" created="Wed, 26 Mar 2014 13:18:49 +0000"  >&lt;blockquote&gt;&lt;p&gt;Or just referencing one of my more stellar moments?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;That one &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13947907" author="markrmiller@gmail.com" created="Wed, 26 Mar 2014 13:35:04 +0000"  >&lt;p&gt;Dawid Weiss added a comment - Today 10:32&lt;br/&gt;
Perhaps we should change and instead of a warning throw a regular failure if something cannot be cleaned up?&lt;/p&gt;

&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13947911" author="yseeley@gmail.com" created="Wed, 26 Mar 2014 13:40:24 +0000"  >&lt;blockquote&gt;&lt;p&gt;Perhaps we should change and instead of a warning throw a regular failure if something cannot be cleaned up?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;+1, failure to clean up on windows can often be indicative of a real bug.&lt;/p&gt;</comment>
                            <comment id="13947914" author="dweiss" created="Wed, 26 Mar 2014 13:43:52 +0000"  >&lt;p&gt;I&apos;ll try to look into it.&lt;/p&gt;</comment>
                            <comment id="13947959" author="thetaphi" created="Wed, 26 Mar 2014 14:29:29 +0000"  >&lt;p&gt;I think we just have to change the warning printed all the time (see issue description) to be a failure?&lt;/p&gt;</comment>
                            <comment id="13948025" author="markrmiller@gmail.com" created="Wed, 26 Mar 2014 15:55:04 +0000"  >&lt;p&gt;Looking at a couple tests real quick, I&apos;ve seen ZooKeeper files not cleaned up and tlog files not cleaned up.&lt;/p&gt;</comment>
                            <comment id="13948195" author="markrmiller@gmail.com" created="Wed, 26 Mar 2014 17:38:52 +0000"  >&lt;blockquote&gt;&lt;p&gt;Looking at a couple tests real quick, I&apos;ve seen ZooKeeper files not cleaned up and tlog files not cleaned up.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;That mostly looks like it&apos;s because our clean up code is a bit of a mess - I&apos;ll straighten it up.&lt;/p&gt;</comment>
                            <comment id="13948232" author="thetaphi" created="Wed, 26 Mar 2014 18:03:49 +0000"  >&lt;p&gt;As a workaround I added the following post-build set on the windows Jenkins machines. This means that the test working folder are nuked when the build is done. This is not ideal, because we can no longer check what happened on windows builds, but this is the only possibility to work around this issue until the test bugs are fixed.&lt;/p&gt;</comment>
                            <comment id="13948372" author="markrmiller@gmail.com" created="Wed, 26 Mar 2014 19:50:20 +0000"  >&lt;p&gt;Here is a patch that cleans up the clean up code.&lt;/p&gt;</comment>
                            <comment id="13948388" author="markrmiller@gmail.com" created="Wed, 26 Mar 2014 20:06:55 +0000"  >&lt;p&gt;Fixes TestSolrEntityProcessorEndToEnd.&lt;/p&gt;</comment>
                            <comment id="13948409" author="jira-bot" created="Wed, 26 Mar 2014 20:30:17 +0000"  >&lt;p&gt;Commit 1582038 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1582038&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1582038&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5914&quot; title=&quot;Almost all Solr tests no longer cleanup their temp dirs on Windows&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5914&quot;&gt;&lt;del&gt;SOLR-5914&lt;/del&gt;&lt;/a&gt;: Cleanup and fix Solr&apos;s test cleanup code.&lt;/p&gt;</comment>
                            <comment id="13948414" author="jira-bot" created="Wed, 26 Mar 2014 20:31:57 +0000"  >&lt;p&gt;Commit 1582042 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/branches/branch_4x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1582042&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1582042&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5914&quot; title=&quot;Almost all Solr tests no longer cleanup their temp dirs on Windows&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5914&quot;&gt;&lt;del&gt;SOLR-5914&lt;/del&gt;&lt;/a&gt;: Cleanup and fix Solr&apos;s test cleanup code.&lt;/p&gt;</comment>
                            <comment id="13948415" author="markrmiller@gmail.com" created="Wed, 26 Mar 2014 20:32:29 +0000"  >&lt;p&gt;That&apos;s a good start - my Windows VM likes it so far.&lt;/p&gt;</comment>
                            <comment id="13948432" author="thetaphi" created="Wed, 26 Mar 2014 20:46:44 +0000"  >&lt;p&gt;Thanks Mark.&lt;/p&gt;

&lt;p&gt;Is it ok to remove the forceful cleanup after the Jenkins build? Means: We no longer create 3 Gigabytes of data per test run?&lt;/p&gt;</comment>
                            <comment id="13948441" author="markrmiller@gmail.com" created="Wed, 26 Mar 2014 20:50:58 +0000"  >&lt;p&gt;Yeah, we should have proper cleanup, except for the spellcheck tests. Let&apos;s see how it pans out.&lt;/p&gt;</comment>
                            <comment id="13948615" author="thetaphi" created="Wed, 26 Mar 2014 23:06:57 +0000"  >&lt;p&gt;Hi Mark,&lt;/p&gt;

&lt;p&gt;thanks. I started a new build. It looks better now, but its still generating &amp;gt; 2 GB data while running solr-core tests, so not everything is covered by the cleanup. Here is a live &quot;dir&quot; shortly before the tests succeeded:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;C:\Users\JenkinsSlave\workspace\Lucene-Solr-trunk-Windows\solr\build\solr-core\test&amp;gt;dir J0
 Volume in drive C is HARDDISK
 Volume Serial Number is 58F1-5382

 Directory of C:\Users\JenkinsSlave\workspace\Lucene-Solr-trunk-Windows\solr\build\solr-core\test\J0

2014-03-26  23:03    &amp;lt;DIR&amp;gt;          .
2014-03-26  23:03    &amp;lt;DIR&amp;gt;          ..
2014-03-26  22:14    &amp;lt;DIR&amp;gt;          1395872092623-0
2014-03-26  22:51    &amp;lt;DIR&amp;gt;          alternateIdx1395874264370
2014-03-26  23:02    &amp;lt;DIR&amp;gt;          badConfigSet
2014-03-26  22:22    &amp;lt;DIR&amp;gt;          ChangedSchemaMergeTest
2014-03-26  23:02    &amp;lt;DIR&amp;gt;          core-reload
2014-03-26  22:15    &amp;lt;DIR&amp;gt;          data
2014-03-26  23:02    &amp;lt;DIR&amp;gt;          findsConfigSets
2014-03-26  22:14    &amp;lt;DIR&amp;gt;          managed
2014-03-26  22:18    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.AliasIntegrationTest-1395872282539
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.AliasIntegrationTest-controljetty-1395872282776
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.AliasIntegrationTest-jetty1-1395872286276
2014-03-26  22:18    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.AliasIntegrationTest-jetty2-1395872290964
2014-03-26  22:18    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.AliasIntegrationTest-jetty3-1395872295741
2014-03-26  22:36    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.AsyncMigrateRouteKeyTest-1395873396484
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.AsyncMigrateRouteKeyTest-controljetty-1395873396662
2014-03-26  22:37    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.AsyncMigrateRouteKeyTest-jetty1-1395873399601
2014-03-26  22:37    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.AsyncMigrateRouteKeyTest-jetty2-1395873403459
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.AsyncMigrateRouteKeyTest-jetty3-1395873407351
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.AsyncMigrateRouteKeyTest-jetty4-1395873411574
2014-03-26  22:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.BasicDistributedZk2Test-1395872669978
2014-03-26  22:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.BasicDistributedZk2Test-backupdir-1395872721159
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.BasicDistributedZk2Test-controljetty-1395872670179
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.BasicDistributedZk2Test-jetty1-1395872673905
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.BasicDistributedZk2Test-jetty2-1395872677749
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.BasicDistributedZk2Test-jetty3-1395872681517
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.BasicDistributedZk2Test-jetty4-1395872685545
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.BasicDistributedZk2Test-jetty5-1395872721863
2014-03-26  22:39    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.BasicDistributedZkTest-1395873576104
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.BasicDistributedZkTest-controljetty-1395873576286
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.BasicDistributedZkTest-jetty1-1395873579528
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.BasicDistributedZkTest-jetty2-1395873583401
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.BasicDistributedZkTest-jetty3-1395873586925
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.BasicDistributedZkTest-jetty4-1395873590539
2014-03-26  22:52    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.ChaosMonkeyNothingIsSafeTest-1395874307115
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.ChaosMonkeyNothingIsSafeTest-controljetty-1395874307338
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.ChaosMonkeyNothingIsSafeTest-jetty1-1395874311142
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.ChaosMonkeyNothingIsSafeTest-jetty2-1395874315747
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.ChaosMonkeyNothingIsSafeTest-jetty3-1395874320123
2014-03-26  22:52    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.ChaosMonkeyNothingIsSafeTest-jetty4-1395874324288
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.ChaosMonkeyNothingIsSafeTest-jetty5-1395874328202
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.ChaosMonkeyNothingIsSafeTest-jetty6-1395874332189
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.ChaosMonkeyNothingIsSafeTest-jetty7-1395874336606
2014-03-26  22:53    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.CollectionsAPIAsyncDistributedZkTest-1395874432351
2014-03-26  22:54    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.CollectionsAPIAsyncDistributedZkTest-controljetty-1395874432556
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.CollectionsAPIAsyncDistributedZkTest-jetty1-1395874436525
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.CollectionsAPIAsyncDistributedZkTest-jetty2-1395874441514
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.CollectionsAPIAsyncDistributedZkTest-jetty3-1395874446349
2014-03-26  22:54    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.CollectionsAPIAsyncDistributedZkTest-jetty4-1395874450968
2014-03-26  22:26    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.CollectionsAPIDistributedZkTest-1395872769742
2014-03-26  22:28    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.CollectionsAPIDistributedZkTest-controljetty-1395872769991
2014-03-26  22:28    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.CollectionsAPIDistributedZkTest-jetty1-1395872773183
2014-03-26  22:28    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.CollectionsAPIDistributedZkTest-jetty2-1395872777010
2014-03-26  22:28    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.CollectionsAPIDistributedZkTest-jetty3-1395872780620
2014-03-26  22:28    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.CollectionsAPIDistributedZkTest-jetty4-1395872784271
2014-03-26  22:32    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.CustomCollectionTest-1395873153259
2014-03-26  22:33    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.CustomCollectionTest-controljetty-1395873153469
2014-03-26  22:33    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.CustomCollectionTest-jetty1-1395873157398
2014-03-26  22:33    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.CustomCollectionTest-jetty2-1395873162252
2014-03-26  22:33    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.CustomCollectionTest-jetty3-1395873167251
2014-03-26  22:33    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.CustomCollectionTest-jetty4-1395873172036
2014-03-26  22:37    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.DeleteInactiveReplicaTest-1395873465635
2014-03-26  22:38    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.DeleteInactiveReplicaTest-controljetty-1395873465859
2014-03-26  22:38    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.DeleteInactiveReplicaTest-jetty1-1395873469262
2014-03-26  22:38    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.DeleteInactiveReplicaTest-jetty2-1395873473633
2014-03-26  22:38    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.DeleteInactiveReplicaTest-jetty3-1395873477736
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.DeleteInactiveReplicaTest-jetty4-1395873481815
2014-03-26  22:16    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.DeleteReplicaTest-1395872184784
2014-03-26  22:16    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.DeleteReplicaTest-controljetty-1395872185090
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.DeleteReplicaTest-jetty1-1395872190049
2014-03-26  22:16    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.DeleteReplicaTest-jetty2-1395872195139
2014-03-26  22:16    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.DeleteReplicaTest-jetty3-1395872200076
2014-03-26  22:16    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.DeleteReplicaTest-jetty4-1395872204810
2014-03-26  22:34    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.DeleteShardTest-1395873269920
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.DeleteShardTest-controljetty-1395873270159
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.DeleteShardTest-jetty1-1395873273799
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.DeleteShardTest-jetty2-1395873278330
2014-03-26  22:54    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.DistribCursorPagingTest-1395874470943
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.DistribCursorPagingTest-controljetty-1395874471153
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.DistribCursorPagingTest-jetty1-1395874474981
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.DistribCursorPagingTest-jetty2-1395874479793
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.DistribCursorPagingTest-jetty3-1395874484627
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.DistribCursorPagingTest-jetty4-1395874489820
2014-03-26  22:31    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.FullSolrCloudDistribCmdsTest-1395873081563
2014-03-26  22:32    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.FullSolrCloudDistribCmdsTest-controljetty-1395873081829
2014-03-26  22:32    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.FullSolrCloudDistribCmdsTest-jetty1-1395873085733
2014-03-26  22:32    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.FullSolrCloudDistribCmdsTest-jetty2-1395873090044
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.FullSolrCloudDistribCmdsTest-jetty3-1395873094283
2014-03-26  22:32    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.FullSolrCloudDistribCmdsTest-jetty4-1395873098475
2014-03-26  22:32    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.FullSolrCloudDistribCmdsTest-jetty5-1395873102796
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.FullSolrCloudDistribCmdsTest-jetty6-1395873107325
2014-03-26  22:55    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.MigrateRouteKeyTest-1395874516302
2014-03-26  22:55    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.MigrateRouteKeyTest-controljetty-1395874516484
2014-03-26  22:55    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.MigrateRouteKeyTest-jetty1-1395874519611
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.MigrateRouteKeyTest-jetty2-1395874523732
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.MigrateRouteKeyTest-jetty3-1395874527584
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.MigrateRouteKeyTest-jetty4-1395874531206
2014-03-26  22:57    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.OverseerRolesTest-1395874575057
2014-03-26  22:56    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.OverseerRolesTest-controljetty-1395874575320
2014-03-26  22:56    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.OverseerRolesTest-jetty1-1395874579843
2014-03-26  22:56    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.OverseerRolesTest-jetty2-1395874585458
2014-03-26  22:56    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.OverseerRolesTest-jetty3-1395874591401
2014-03-26  22:56    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.OverseerRolesTest-jetty4-1395874597692
2014-03-26  22:56    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.OverseerRolesTest-jetty5-1395874603870
2014-03-26  22:56    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.OverseerRolesTest-jetty6-1395874609504
2014-03-26  22:23    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.OverseerStatusTest-1395872580782
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.OverseerStatusTest-controljetty-1395872580999
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.OverseerStatusTest-jetty1-1395872584409
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.OverseerStatusTest-jetty2-1395872588669
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.OverseerStatusTest-jetty3-1395872592777
2014-03-26  22:23    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.OverseerStatusTest-jetty4-1395872596435
2014-03-26  22:42    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.RecoveryZkTest-1395873762003
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.RecoveryZkTest-controljetty-1395873762283
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.RecoveryZkTest-jetty1-1395873766994
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.RecoveryZkTest-jetty2-1395873772754
2014-03-26  22:24    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.RemoteQueryErrorTest-1395872621201
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.RemoteQueryErrorTest-controljetty-1395872621447
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.RemoteQueryErrorTest-jetty1-1395872625507
2014-03-26  22:24    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.RemoteQueryErrorTest-jetty2-1395872630507
2014-03-26  22:24    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.RemoteQueryErrorTest-jetty3-1395872636158
2014-03-26  22:19    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.ShardRoutingCustomTest-1395872358405
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.ShardRoutingCustomTest-controljetty-1395872358648
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.ShardRoutingCustomTest-jetty1-1395872362534
2014-03-26  22:29    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.ShardRoutingTest-1395872906293
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.ShardRoutingTest-controljetty-1395872906517
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.ShardRoutingTest-jetty1-1395872910026
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.ShardRoutingTest-jetty2-1395872914490
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.ShardRoutingTest-jetty3-1395872919050
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.ShardRoutingTest-jetty4-1395872923562
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.ShardRoutingTest-jetty5-1395872928627
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.ShardRoutingTest-jetty6-1395872933434
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.ShardRoutingTest-jetty7-1395872938064
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.ShardRoutingTest-jetty8-1395872942440
2014-03-26  22:58    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.ShardSplitTest-1395874669896
2014-03-26  22:59    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.ShardSplitTest-controljetty-1395874670069
2014-03-26  22:58    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.ShardSplitTest-jetty1-1395874673104
2014-03-26  22:59    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.ShardSplitTest-jetty2-1395874677188
2014-03-26  22:58    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.ShardSplitTest-jetty3-1395874681049
2014-03-26  22:59    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.ShardSplitTest-jetty4-1395874685037
2014-03-26  22:57    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.SSLMigrationTest-1395874630695
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.SSLMigrationTest-controljetty-1395874630907
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.SSLMigrationTest-jetty1-1395874634153
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.SSLMigrationTest-jetty2-1395874638133
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.SSLMigrationTest-jetty3-1395874642015
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.SSLMigrationTest-jetty4-1395874645693
2014-03-26  22:35    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.SyncSliceTest-1395873298880
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.SyncSliceTest-controljetty-1395873299093
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.SyncSliceTest-jetty1-1395873302366
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.SyncSliceTest-jetty2-1395873306431
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.SyncSliceTest-jetty3-1395873310382
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.SyncSliceTest-jetty4-1395873314162
2014-03-26  23:00    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.TestDistribDocBasedVersion-1395874782399
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.TestDistribDocBasedVersion-controljetty-1395874782652
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.TestDistribDocBasedVersion-jetty1-1395874786890
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.TestDistribDocBasedVersion-jetty2-1395874791637
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.TestDistribDocBasedVersion-jetty3-1395874796422
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.TestDistribDocBasedVersion-jetty4-1395874800888
2014-03-26  22:20    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.TestModifyConfFiles-1395872429293
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.TestModifyConfFiles-controljetty-1395872429555
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.TestModifyConfFiles-jetty1-1395872433940
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.TestModifyConfFiles-jetty2-1395872439551
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.TestModifyConfFiles-jetty3-1395872444054
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.TestModifyConfFiles-jetty4-1395872448716
2014-03-26  22:36    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.TestRequestStatusCollectionAPI-1395873369032
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.TestRequestStatusCollectionAPI-controljetty-1395873369293
2014-03-26  22:36    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.TestRequestStatusCollectionAPI-jetty1-1395873373119
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.TestRequestStatusCollectionAPI-jetty2-1395873377467
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.TestRequestStatusCollectionAPI-jetty3-1395873381763
2014-03-26  22:36    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.TestRequestStatusCollectionAPI-jetty4-1395873385686
2014-03-26  22:17    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.TestShortCircuitedRequests-1395872233140
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.TestShortCircuitedRequests-controljetty-1395872233358
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.TestShortCircuitedRequests-jetty1-1395872236934
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.TestShortCircuitedRequests-jetty2-1395872241635
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.TestShortCircuitedRequests-jetty3-1395872246453
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.TestShortCircuitedRequests-jetty4-1395872251632
2014-03-26  23:01    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.TriLevelCompositeIdRoutingTest-1395874815901
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.TriLevelCompositeIdRoutingTest-controljetty-1395874816084
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.TriLevelCompositeIdRoutingTest-jetty1-1395874818914
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.TriLevelCompositeIdRoutingTest-jetty10-1395874846280
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.TriLevelCompositeIdRoutingTest-jetty11-1395874849202
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.TriLevelCompositeIdRoutingTest-jetty12-1395874852320
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.TriLevelCompositeIdRoutingTest-jetty13-1395874855705
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.TriLevelCompositeIdRoutingTest-jetty14-1395874859035
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.TriLevelCompositeIdRoutingTest-jetty15-1395874862723
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.TriLevelCompositeIdRoutingTest-jetty16-1395874867046
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.TriLevelCompositeIdRoutingTest-jetty17-1395874871870
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.TriLevelCompositeIdRoutingTest-jetty18-1395874876210
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.TriLevelCompositeIdRoutingTest-jetty19-1395874880819
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.TriLevelCompositeIdRoutingTest-jetty2-1395874822466
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.TriLevelCompositeIdRoutingTest-jetty20-1395874885941
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.TriLevelCompositeIdRoutingTest-jetty21-1395874891003
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.TriLevelCompositeIdRoutingTest-jetty22-1395874896108
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.TriLevelCompositeIdRoutingTest-jetty23-1395874901734
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.TriLevelCompositeIdRoutingTest-jetty24-1395874907454
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.TriLevelCompositeIdRoutingTest-jetty3-1395874825873
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.TriLevelCompositeIdRoutingTest-jetty4-1395874829053
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.TriLevelCompositeIdRoutingTest-jetty5-1395874832242
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.TriLevelCompositeIdRoutingTest-jetty6-1395874835169
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.TriLevelCompositeIdRoutingTest-jetty7-1395874838032
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.TriLevelCompositeIdRoutingTest-jetty8-1395874840695
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.TriLevelCompositeIdRoutingTest-jetty9-1395874843398
2014-03-26  22:41    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.UnloadDistributedZkTest-1395873668638
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.UnloadDistributedZkTest-controljetty-1395873668829
2014-03-26  22:42    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.UnloadDistributedZkTest-jetty1-1395873671999
2014-03-26  22:41    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.UnloadDistributedZkTest-jetty2-1395873676015
2014-03-26  22:41    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.UnloadDistributedZkTest-jetty3-1395873679981
2014-03-26  22:41    &amp;lt;DIR&amp;gt;          org.apache.solr.cloud.UnloadDistributedZkTest-jetty4-1395873683716
2014-03-26  22:51    &amp;lt;DIR&amp;gt;          org.apache.solr.core.TestArbitraryIndexDir-1395874280112
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.core.TestCoreContainer_classLoaderHierarchy
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.core.TestCoreContainer_reloadSequential
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.core.TestCoreContainer_reloadThreaded
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.core.TestCoreContainer_shareSchema
2014-03-26  22:50    &amp;lt;DIR&amp;gt;          org.apache.solr.core.TestCoreDiscovery
2014-03-26  23:02    &amp;lt;DIR&amp;gt;          org.apache.solr.core.TestSolrXml
2014-03-26  22:50    &amp;lt;DIR&amp;gt;          org.apache.solr.handler.admin.CoreAdminHandlerTest-corex-1395874238332
2014-03-26  23:02    &amp;lt;DIR&amp;gt;          org.apache.solr.handler.admin.CoreAdminRequestStatusTest
2014-03-26  23:02    &amp;lt;DIR&amp;gt;          org.apache.solr.handler.component.DistributedExpandComponentTest-1395874957439
2014-03-26  22:37    &amp;lt;DIR&amp;gt;          org.apache.solr.handler.component.DistributedQueryComponentCustomSortTest-1395873461156
2014-03-26  23:02    &amp;lt;DIR&amp;gt;          org.apache.solr.handler.component.DistributedQueryComponentOptimizationTest-1395874964419
2014-03-26  22:17    &amp;lt;DIR&amp;gt;          org.apache.solr.handler.component.DistributedQueryElevationComponentTest-1395872262687
2014-03-26  22:46    &amp;lt;DIR&amp;gt;          org.apache.solr.handler.component.DistributedSpellCheckComponentTest-1395873972866
2014-03-26  23:02    &amp;lt;DIR&amp;gt;          org.apache.solr.handler.component.DistributedSuggestComponentTest-1395874967878
2014-03-26  22:48    &amp;lt;DIR&amp;gt;          org.apache.solr.handler.component.DistributedTermsComponentTest-1395874121982
2014-03-26  22:46    &amp;lt;DIR&amp;gt;          org.apache.solr.handler.component.TermVectorComponentDistributedTest-1395873985101
2014-03-26  22:18    &amp;lt;DIR&amp;gt;          org.apache.solr.schema.TestCloudManagedSchema-1395872325756
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.schema.TestCloudManagedSchema-controljetty-1395872325952
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.schema.TestCloudManagedSchema-jetty1-1395872329525
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.schema.TestCloudManagedSchema-jetty2-1395872334206
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.schema.TestCloudManagedSchema-jetty3-1395872338940
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.schema.TestCloudManagedSchema-jetty4-1395872344228
2014-03-26  22:29    &amp;lt;DIR&amp;gt;          org.apache.solr.schema.TestCloudManagedSchemaAddField-1395872965843
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.schema.TestCloudManagedSchemaAddField-controljetty-1395872966121
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.schema.TestCloudManagedSchemaAddField-jetty1-1395872969983
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.schema.TestCloudManagedSchemaAddField-jetty2-1395872974755
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.schema.TestCloudManagedSchemaAddField-jetty3-1395872980253
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.schema.TestCloudManagedSchemaAddField-jetty4-1395872986370
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.schema.TestCloudManagedSchemaAddField-jetty5-1395872991156
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.schema.TestCloudManagedSchemaAddField-jetty6-1395872995862
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.schema.TestCloudManagedSchemaAddField-jetty7-1395873000361
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          org.apache.solr.schema.TestCloudManagedSchemaAddField-jetty8-1395873004604
2014-03-26  22:45    &amp;lt;DIR&amp;gt;          org.apache.solr.TestDistributedGrouping-1395873933434
2014-03-26  22:53    &amp;lt;DIR&amp;gt;          org.apache.solr.TestDistributedMissingSort-1395874378367
2014-03-26  22:45    &amp;lt;DIR&amp;gt;          org.apache.solr.TestDistributedSearch-1395873900301
2014-03-26  22:53    &amp;lt;DIR&amp;gt;          org.apache.solr.TestHighlightDedupGrouping-1395874387200
2014-03-26  22:21    &amp;lt;DIR&amp;gt;          org.apache.solr.update.PeerSyncTest-1395872507319
2014-03-26  22:49    &amp;lt;DIR&amp;gt;          org.apache.solr.update.SolrCmdDistributorTest-1395874180178
2014-03-26  22:34    &amp;lt;DIR&amp;gt;          org.apache.solr.update.SolrIndexSplitterTesttestSplitByRouteKey
2014-03-26  22:34    &amp;lt;DIR&amp;gt;          org.apache.solr.update.SolrIndexSplitterTest_testSplit1
2014-03-26  22:34    &amp;lt;DIR&amp;gt;          org.apache.solr.update.SolrIndexSplitterTest_testSplit2
2014-03-26  22:34    &amp;lt;DIR&amp;gt;          org.apache.solr.update.SolrIndexSplitterTest_testSplit3
2014-03-26  22:21    &amp;lt;DIR&amp;gt;          solrHome
2014-03-26  23:03    &amp;lt;DIR&amp;gt;          solrtest-BJQParserTest-1395875032523
2014-03-26  22:21    &amp;lt;DIR&amp;gt;          solrtest-confdropspot-org.apache.solr.cloud.ZkCLITest-1395872486763
2014-03-26  22:15    &amp;lt;DIR&amp;gt;          solrtest-DirectSolrSpellCheckerTest-1395872150183
2014-03-26  22:21                16 solrtest-getfile-org.apache.solr.cloud.ZkCLITest-1395872466806
2014-03-26  22:38    &amp;lt;DIR&amp;gt;          solrtest-LeaderElectionIntegrationTest-1395873511273
2014-03-26  22:49    &amp;lt;DIR&amp;gt;          solrtest-QueryElevationComponentTest-1395874186376
2014-03-26  22:49    &amp;lt;DIR&amp;gt;          solrtest-QueryElevationComponentTest-1395874186956
2014-03-26  22:49    &amp;lt;DIR&amp;gt;          solrtest-QueryElevationComponentTest-1395874187677
2014-03-26  22:49    &amp;lt;DIR&amp;gt;          solrtest-QueryElevationComponentTest-1395874188395
2014-03-26  22:49    &amp;lt;DIR&amp;gt;          solrtest-QueryElevationComponentTest-1395874189158
2014-03-26  22:49    &amp;lt;DIR&amp;gt;          solrtest-QueryElevationComponentTest-1395874189563
2014-03-26  22:49    &amp;lt;DIR&amp;gt;          solrtest-QueryElevationComponentTest-1395874190215
2014-03-26  22:50    &amp;lt;DIR&amp;gt;          solrtest-SolrCoreCheckLockOnStartupTest-1395874251121
2014-03-26  22:59    &amp;lt;DIR&amp;gt;          solrtest-SolrXmlInZkTest-1395874762339
2014-03-26  22:59    &amp;lt;DIR&amp;gt;          solrtest-SolrXmlInZkTest-1395874765727
2014-03-26  22:59    &amp;lt;DIR&amp;gt;          solrtest-SolrXmlInZkTest-1395874769144
2014-03-26  22:59    &amp;lt;DIR&amp;gt;          solrtest-SolrXmlInZkTest-1395874772554
2014-03-26  22:59    &amp;lt;DIR&amp;gt;          solrtest-SolrXmlInZkTest-1395874775852
2014-03-26  22:50    &amp;lt;DIR&amp;gt;          solrtest-SpellCheckCollatorTest-1395874233679
2014-03-26  22:31    &amp;lt;DIR&amp;gt;          solrtest-SpellCheckComponentTest-1395873075489
2014-03-26  22:51    &amp;lt;DIR&amp;gt;          solrtest-TestBinaryField-1395874298057
2014-03-26  22:34    &amp;lt;DIR&amp;gt;          solrtest-TestManagedSchema-1395873255904
2014-03-26  22:34    &amp;lt;DIR&amp;gt;          solrtest-TestManagedSchema-1395873256355
2014-03-26  22:34    &amp;lt;DIR&amp;gt;          solrtest-TestManagedSchema-1395873256836
2014-03-26  22:34    &amp;lt;DIR&amp;gt;          solrtest-TestManagedSchema-1395873257356
2014-03-26  22:34    &amp;lt;DIR&amp;gt;          solrtest-TestManagedSchema-1395873257803
2014-03-26  22:34    &amp;lt;DIR&amp;gt;          solrtest-TestManagedSchema-1395873258330
2014-03-26  22:34    &amp;lt;DIR&amp;gt;          solrtest-TestManagedSchema-1395873258908
2014-03-26  22:34    &amp;lt;DIR&amp;gt;          solrtest-TestManagedSchema-1395873259187
2014-03-26  22:34    &amp;lt;DIR&amp;gt;          solrtest-TestManagedSchema-1395873259693
2014-03-26  22:34    &amp;lt;DIR&amp;gt;          solrtest-TestManagedSchema-1395873260202
2014-03-26  22:34    &amp;lt;DIR&amp;gt;          solrtest-TestManagedSchema-1395873260698
2014-03-26  22:34    &amp;lt;DIR&amp;gt;          solrtest-TestManagedSchema-1395873260969
2014-03-26  22:34    &amp;lt;DIR&amp;gt;          solrtest-TestManagedSchema-1395873261644
2014-03-26  23:03    &amp;lt;DIR&amp;gt;          solrtest-TestManagedSchemaFieldResource-1395874989522
2014-03-26  23:03    &amp;lt;DIR&amp;gt;          solrtest-TestManagedSchemaFieldResource-1395874992882
2014-03-26  23:03    &amp;lt;DIR&amp;gt;          solrtest-TestManagedSchemaFieldResource-1395874995751
2014-03-26  23:03    &amp;lt;DIR&amp;gt;          solrtest-TestManagedSchemaFieldResource-1395874998489
2014-03-26  23:03    &amp;lt;DIR&amp;gt;          solrtest-TestManagedSchemaFieldResource-1395875001264
2014-03-26  23:03    &amp;lt;DIR&amp;gt;          solrtest-TestManagedSchemaFieldResource-1395875004013
2014-03-26  23:03    &amp;lt;DIR&amp;gt;          solrtest-TestManagedSchemaFieldResource-1395875006771
2014-03-26  23:03    &amp;lt;DIR&amp;gt;          solrtest-TestManagedSchemaFieldResource-1395875009382
2014-03-26  23:03    &amp;lt;DIR&amp;gt;          solrtest-TestManagedSchemaFieldResource-1395875011983
2014-03-26  22:36    &amp;lt;DIR&amp;gt;          solrtest-TestSolrCoreProperties-1395873363377
2014-03-26  22:14    &amp;lt;DIR&amp;gt;          solrtest-TestSolrXmlPersistence-1395872078098
2014-03-26  22:44    &amp;lt;DIR&amp;gt;          solrtest-TestZkChroot-1395873858625
2014-03-26  22:44    &amp;lt;DIR&amp;gt;          solrtest-TestZkChroot-1395873863542
2014-03-26  22:44    &amp;lt;DIR&amp;gt;          solrtest-TestZkChroot-1395873865854
2014-03-26  22:17    &amp;lt;DIR&amp;gt;          solrtest-WordBreakSolrSpellCheckerTest-1395872222378
2014-03-26  22:21    &amp;lt;DIR&amp;gt;          solrtest-ZkCLITest-1395872459648
2014-03-26  22:21    &amp;lt;DIR&amp;gt;          solrtest-ZkCLITest-1395872463281
2014-03-26  22:21    &amp;lt;DIR&amp;gt;          solrtest-ZkCLITest-1395872466680
2014-03-26  22:21    &amp;lt;DIR&amp;gt;          solrtest-ZkCLITest-1395872469063
2014-03-26  22:21    &amp;lt;DIR&amp;gt;          solrtest-ZkCLITest-1395872472217
2014-03-26  22:21    &amp;lt;DIR&amp;gt;          solrtest-ZkCLITest-1395872474359
2014-03-26  22:21    &amp;lt;DIR&amp;gt;          solrtest-ZkCLITest-1395872476496
2014-03-26  22:21    &amp;lt;DIR&amp;gt;          solrtest-ZkCLITest-1395872479370
2014-03-26  22:21    &amp;lt;DIR&amp;gt;          solrtest-ZkCLITest-1395872482653
2014-03-26  22:21    &amp;lt;DIR&amp;gt;          solrtest-ZkCLITest-1395872485943
2014-03-26  22:21    &amp;lt;DIR&amp;gt;          solrtest-ZkCLITest-1395872489827
2014-03-26  22:23    &amp;lt;DIR&amp;gt;          spellingIdx1395872620614
2014-03-26  22:23    &amp;lt;DIR&amp;gt;          spellingIdx1395872620691
2014-03-26  22:51    &amp;lt;DIR&amp;gt;          spellingIdx1395874264146
2014-03-26  22:51    &amp;lt;DIR&amp;gt;          spellingIdx1395874264226
2014-03-26  22:51    &amp;lt;DIR&amp;gt;          spellingIdx1395874264297
2014-03-26  22:51    &amp;lt;DIR&amp;gt;          spellingIdx1395874264370
2014-03-26  23:03    &amp;lt;DIR&amp;gt;          TestManagedSchema1395875022011
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          TestManagedSchemaFieldResource1395874989524
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          TestManagedSchemaFieldResource1395874992886
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          TestManagedSchemaFieldResource1395874995752
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          TestManagedSchemaFieldResource1395874998491
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          TestManagedSchemaFieldResource1395875001266
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          TestManagedSchemaFieldResource1395875004015
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          TestManagedSchemaFieldResource1395875006772
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          TestManagedSchemaFieldResource1395875009384
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          TestManagedSchemaFieldResource1395875011983
2014-03-26  01:25    &amp;lt;DIR&amp;gt;          TestManagedSchemaFieldResource1395875014545
2014-03-26  22:48    &amp;lt;DIR&amp;gt;          TestMultiCoreConfBootstrap-core1-1395874085663
               1 File(s)             16 bytes
             329 Dir(s)   2,512,564,224 bytes free
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;As the tests passed, the test framework was nuking that folder J0, but if tests would have failed it would have been a lot of data left over.&lt;/p&gt;</comment>
                            <comment id="13948617" author="thetaphi" created="Wed, 26 Mar 2014 23:07:58 +0000"  >&lt;p&gt;After cleanup: &lt;tt&gt;6,854,742,016 bytes free&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;This means the solr-core tests used 4.3 Gigabytes of disk space shortly before cleanup!&lt;/p&gt;</comment>
                            <comment id="13949126" author="dweiss" created="Thu, 27 Mar 2014 10:29:53 +0000"  >&lt;p&gt;I&apos;ve looked at refactoring it a bit. The temporary folder and file creation in tests is very, very hairy. And time-consuming to fix. My conclusions so far:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;we should add deleteOnExit to forbidden APIs; most of its use is laziness, and potentially bugs like this one:
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!success) {
      &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
        file.deleteOnExit();
      } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (Exception e) {
        log.error(&lt;span class=&quot;code-quote&quot;&gt;&quot;Error deleting file on exit: &quot;&lt;/span&gt; + file, e);
      }
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;asserting on a &apos;clean&apos; temporary folder state may be impossible given how much code would have to be fixed (unless somebody can lend a hand here).&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;global TEMP_DIR is evil. Use TestUtil.createTempFile and TestUtil.getTempDir (which I will rename to createTempDir).&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;A patch will follow once I run the tests and ensure I didn&apos;t break anything. The patch removes refs to TEMP_DIR and cleans a lot of junk code. By calling TestUtil.* methods the temporary folders/ files are removed after a test class completes. Failure to remove a folder or a directory will cause a test suite failure.&lt;/p&gt;</comment>
                            <comment id="13949145" author="dweiss" created="Thu, 27 Mar 2014 10:56:49 +0000"  >&lt;p&gt;I&apos;ve created a branch at &lt;a href=&quot;https://svn.apache.org/repos/asf/lucene/dev/branches/solr5914&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/repos/asf/lucene/dev/branches/solr5914&lt;/a&gt;. A number of Solr tests fail on this branch (Windows):&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Tests with failures (first 3 out of 11):
  - org.apache.solr.handler.component.DistributedSpellCheckComponentTest (suite)
  - org.apache.solr.spelling.IndexBasedSpellCheckerTest (suite)
  - org.apache.solr.spelling.SpellCheckCollatorTest (suite)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I have to switch to other things, it&apos;s taken me quite longer than I expected. If somebody wants to take over and try to fix those tests, go ahead.&lt;/p&gt;</comment>
                            <comment id="13949297" author="markrmiller@gmail.com" created="Thu, 27 Mar 2014 13:32:02 +0000"  >&lt;p&gt;You can&apos;t fix them easily - that&apos;s why I created the annotation for them to not fail on cleanup. &lt;/p&gt;</comment>
                            <comment id="13949300" author="markrmiller@gmail.com" created="Thu, 27 Mar 2014 13:34:51 +0000"  >&lt;p&gt;(At  least the spellcheck ones - I don&apos;t know what others are in that list)&lt;/p&gt;</comment>
                            <comment id="13949305" author="dweiss" created="Thu, 27 Mar 2014 13:41:38 +0000"  >&lt;p&gt;They won&apos;t pass on the branch &amp;#8211; the criterion of being able to release temp. resources is now strict. It&apos;d have to be a (disabled by default) test group so that these tests are not run at all.&lt;/p&gt;</comment>
                            <comment id="13949328" author="thetaphi" created="Thu, 27 Mar 2014 13:51:23 +0000"  >&lt;p&gt;I think the most important thing in the new branch is this:&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;A patch will follow once I run the tests and ensure I didn&apos;t break anything. The patch removes refs to TEMP_DIR and cleans a lot of junk code. By calling TestUtil.* methods the temporary folders/ files are removed after a test class completes. Failure to remove a folder or a directory will cause a test suite failure.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;This gets my big +1. This makes Mark&apos;s manual cleanup code obsolete, because once you create a temp folder with the TestUtil method, this is nuked on test shutdown. But as Mark said, if those tests are not easy to fix, we have to think about a workaround.&lt;/p&gt;

&lt;p&gt;Dawid: You said, 11 tests are failing, does this mean in your branch the number of left over files reduced dramatically?&lt;/p&gt;</comment>
                            <comment id="13949333" author="dweiss" created="Thu, 27 Mar 2014 13:54:00 +0000"  >&lt;p&gt;Yep. I think so. Try it.&lt;/p&gt;</comment>
                            <comment id="13949342" author="thetaphi" created="Thu, 27 Mar 2014 13:59:05 +0000"  >&lt;blockquote&gt;&lt;p&gt;we should add deleteOnExit to forbidden APIs&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;+1. I think we should disallow it globally. I was thinking first about &quot;test&quot; group only, but it also makes no sense to have it in our main code!&lt;/p&gt;</comment>
                            <comment id="13949378" author="markrmiller@gmail.com" created="Thu, 27 Mar 2014 14:24:46 +0000"  >&lt;blockquote&gt;&lt;p&gt;It looks better now, but its still generating &amp;gt; 2 GB data while running solr-core tests, so not everything is covered by the cleanup&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yeah, so it looks like we are just trying to clean up the dataDir sub folder - instead we need to clean up the whole TEMP_DIR - some more things to fix to make that possible it looks.&lt;/p&gt;</comment>
                            <comment id="13949385" author="thetaphi" created="Thu, 27 Mar 2014 14:28:47 +0000"  >&lt;blockquote&gt;&lt;p&gt;Yeah, so it looks like we are just trying to clean up the dataDir sub folder - instead we need to clean up the whole TEMP_DIR - some more things to fix to make that possible it looks.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I think the branch created by Dawid covers this. Nuking the TEMP_DIR global evilness is a good step forward. Because &lt;tt&gt;TestUtil.createTemp*&lt;/tt&gt; is already there to take care of cleanup.&lt;/p&gt;</comment>
                            <comment id="13949403" author="markrmiller@gmail.com" created="Thu, 27 Mar 2014 14:44:00 +0000"  >&lt;p&gt;Yeah, I&apos;m fine with David&apos;s work as a longer term step - sounds like he calling it quits for now though, and I&apos;m not ready to turn off all the spellcheck tests, so I&apos;m working on a shorter term solution as a first step.&lt;/p&gt;</comment>
                            <comment id="13949441" author="thetaphi" created="Thu, 27 Mar 2014 15:24:53 +0000"  >&lt;p&gt;I would not think thats needed. In his branch only 11 tests were initially not working. If you fix those we are done. The switch in his branch away from TEMP_DIR already fixed 99% of the stuff!&lt;/p&gt;</comment>
                            <comment id="13949451" author="markrmiller@gmail.com" created="Thu, 27 Mar 2014 15:32:02 +0000"  >&lt;blockquote&gt;&lt;p&gt;In his branch only 11 tests were initially not working. If you fix those we are done.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Be my guest on tackling that without just ignoring the tests &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Nothing I&apos;m doing conflicts with Davids work, and I know I can finish it and finish it shortly.&lt;/p&gt;

&lt;p&gt;Things like the spellchecker tests have problems root in apis rooted in years of history. I&apos;ve got almost no time for this, and so I&apos;d like to get the Solr clean up code in order, which will address this as a major issue in the short term and then we can focus on doing the right thing at the test framework level as a whole as follow up.&lt;/p&gt;</comment>
                            <comment id="13949592" author="dweiss" created="Thu, 27 Mar 2014 17:00:00 +0000"  >&lt;p&gt;&amp;gt; sounds like he calling it quits for now though, &lt;/p&gt;

&lt;p&gt;No, no man &amp;#8211; I just had to do some real work and called in for a break. I also don&apos;t mean it has to be you in particular to fix those tests; like Uwe said, there are just a bunch of them (perhaps more, if we take a different seed &amp;#8211; didn&apos;t check) so it&apos;s probably a realistic goal to fix these and merge back. If you look at the diff from trunk there were many horrible, horrible temp snippets I nuked. Perhaps I also introduced some regressions, another look from a different person would be definitely good.&lt;/p&gt;

&lt;p&gt;I&apos;ll get back to it when I can, obviously.&lt;/p&gt;</comment>
                            <comment id="13949641" author="jira-bot" created="Thu, 27 Mar 2014 17:23:41 +0000"  >&lt;p&gt;Commit 1582413 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1582413&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1582413&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5914&quot; title=&quot;Almost all Solr tests no longer cleanup their temp dirs on Windows&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5914&quot;&gt;&lt;del&gt;SOLR-5914&lt;/del&gt;&lt;/a&gt;: Solr tests should use dataDir for tmp files.&lt;/p&gt;</comment>
                            <comment id="13949655" author="dweiss" created="Thu, 27 Mar 2014 17:30:56 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;-    File tmpdir = File.createTempFile(&lt;span class=&quot;code-quote&quot;&gt;&quot;test&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;tmp&quot;&lt;/span&gt;, TEMP_DIR);
+    File tmpdir = File.createTempFile(&lt;span class=&quot;code-quote&quot;&gt;&quot;test&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;tmp&quot;&lt;/span&gt;, dataDir);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Mark, it&apos;ll make every single file conflict with what I&apos;ve done on the branch... Seems like we&apos;re doubling efforts here.&lt;/p&gt;</comment>
                            <comment id="13949672" author="markrmiller@gmail.com" created="Thu, 27 Mar 2014 17:36:54 +0000"  >&lt;p&gt;I&apos;m moving the reference to TEMP_DIR to one spot - so all those changes of your should just become unnecessary.&lt;/p&gt;</comment>
                            <comment id="13949684" author="markrmiller@gmail.com" created="Thu, 27 Mar 2014 17:42:39 +0000"  >&lt;blockquote&gt;&lt;p&gt;Seems like we&apos;re doubling efforts here.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I&apos;m not sure - I do know that it took me about 5 min to make that change, so it sounds like you spent most of your time on something else. I know your solution attempts to deal with TEMP_DIR and requires looking at 11 tests, some of which won&apos;t clean up properly anytime soon. My cleanup of Solr code to do what it was supposed to do to begin with already works with all tests.&lt;/p&gt;

&lt;p&gt;I look at what you are doing as a larger fix that is needed for the Lucene/Solr test framework as a whole. I&apos;m happy to help with that later. I&apos;m simply making the Solr cleanup code consistent with itself.&lt;/p&gt;</comment>
                            <comment id="13949687" author="dweiss" created="Thu, 27 Mar 2014 17:44:42 +0000"  >&lt;p&gt;I think my patch has benefits over the previous code. It&apos;s more structured (uses test class names for temp dirs instead of arbitrary strings, in many cases copy-pasted incorrectly), it&apos;s not using timestamps (which is awkward), it relies on a single point of creating temporary folders and files (which we can use for enforcing stuff), each of which is tracked separately (so that you will know what code allocated a particular folder which caused problems).&lt;/p&gt;

&lt;p&gt;I honestly think the notion of &quot;dataDir&quot; in Solr&apos;s base test class is flawed &amp;#8211; it just creates another sub-temp folder that becomes a dump for other temporary files, etc. Besides there&apos;s a lot of duplication too, for instance:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;+    dfsCluster = HdfsTestUtil.setupClass(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(dataDir,
         HdfsCollectionsAPIDistributedZkTest.&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;getName() + &lt;span class=&quot;code-quote&quot;&gt;&quot;_&quot;&lt;/span&gt;
             + &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.currentTimeMillis()).getAbsolutePath());
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;just became a single call to:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    dfsCluster = HdfsTestUtil.setupClass();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;because the temp file is created bases on the current context. How are these changes unnecessary compared to what you&apos;ve done?&lt;/p&gt;</comment>
                            <comment id="13949691" author="dweiss" created="Thu, 27 Mar 2014 17:46:57 +0000"  >&lt;p&gt;&amp;gt; I&apos;m not sure - I do know that it took me about 5 min to make that change,&lt;/p&gt;

&lt;p&gt;Yeah... it took me over three hours to review and change those snippets which were using TEMP_DIR and now your commit will make me go through this again. Not fun.&lt;/p&gt;</comment>
                            <comment id="13949697" author="dweiss" created="Thu, 27 Mar 2014 17:48:59 +0000"  >&lt;p&gt;Also: I can easily make those 11 tests still leave their leftover files behind (without causing a failure). I just deliberately chose not to because I thought we&apos;d polish the patch before reintegrating.&lt;/p&gt;

&lt;p&gt;Perhaps it&apos;s still doable by reverting your commit (later on when the patch is ready) and then applying the changes made to the branch. Don&apos;t know if SVN can handle this well.&lt;/p&gt;</comment>
                            <comment id="13949700" author="markrmiller@gmail.com" created="Thu, 27 Mar 2014 17:50:15 +0000"  >&lt;p&gt;We can just merge up the branch - it&apos;s pretty easy.&lt;/p&gt;</comment>
                            <comment id="13949701" author="jira-bot" created="Thu, 27 Mar 2014 17:50:26 +0000"  >&lt;p&gt;Commit 1582427 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/branches/branch_4x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1582427&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1582427&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5914&quot; title=&quot;Almost all Solr tests no longer cleanup their temp dirs on Windows&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5914&quot;&gt;&lt;del&gt;SOLR-5914&lt;/del&gt;&lt;/a&gt;: Solr tests should use dataDir for tmp files.&lt;/p&gt;</comment>
                            <comment id="13949711" author="markrmiller@gmail.com" created="Thu, 27 Mar 2014 17:58:25 +0000"  >&lt;p&gt;I&apos;ve got a meeting or two - give me a bit of time. Don&apos;t worry, this won&apos;t be any extra work for you.&lt;/p&gt;</comment>
                            <comment id="13949736" author="dweiss" created="Thu, 27 Mar 2014 18:16:51 +0000"  >&lt;p&gt;I don&apos;t. But I don&apos;t see how you intend to keep your changes together with mine (and I preferred my version, to be honest &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;.&lt;/p&gt;</comment>
                            <comment id="13949780" author="markrmiller@gmail.com" created="Thu, 27 Mar 2014 18:48:45 +0000"  >&lt;blockquote&gt;&lt;p&gt;(and I preferred my version, to be honest) .&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Your version is wrong IMO &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; You attempted to address the use of TEMP_DIR at each place - but the Solr tests should not even be using TEMP_DIR like this - they should use dataDir as the cleanup code expects and as the sys prop solr.test.leavedatadir expects to work properly.&lt;/p&gt;

&lt;p&gt;All Solr test files should already be created under a tmp directory specified in SolrTestCaseJ4 - they just started leaking out at some point.&lt;/p&gt;

&lt;p&gt;You should only be dealing with this TEMP_DIR thing in one spot in Solr code.&lt;/p&gt;</comment>
                            <comment id="13949864" author="dweiss" created="Thu, 27 Mar 2014 20:11:24 +0000"  >&lt;p&gt;You see it depends on what you consider &quot;wrong&quot;. &lt;/p&gt;

&lt;p&gt;Is &apos;dataDir&apos; embedded in some form of hierarchy (i.e., does it require a parent structure of folders)? I don&apos;t think so (based on the fact that most tests pass with flying colors &amp;#8211; they don&apos;t &quot;depend&quot; on dataDir). The &quot;cleanup code&quot; present in Solr is in my opinion an unnecessary duplication and the notion of &quot;dataDir&quot; can lead to problems. I removed everything related to creating temporary folders and files and moved it to a single place. One clear evidence how broken it was is how many sections of the code tried to either create timestamp-based temporary folders or delete-recreate folders with a fixed name. This just sucked. If a test needs a temporary folder (initially empty) or a temporary file then it should ask for one.&lt;/p&gt;

&lt;p&gt;Having one &quot;dataDir&quot; that one suite can inherit from another sounds &quot;wrong&quot; to me, especially if you allow certain suites to leave some of the files in those directories...&lt;/p&gt;

&lt;p&gt;So I still argue that my commit was a better cleanup than yours. I don&apos;t work so much on Solr code though, so I won&apos;t authoritatively commit it back to the trunk without consensus.&lt;/p&gt;</comment>
                            <comment id="13949893" author="markrmiller@gmail.com" created="Thu, 27 Mar 2014 20:35:39 +0000"  >&lt;blockquote&gt;&lt;p&gt;So I still argue that my commit was a better cleanup than yours. &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I don&apos;t agree &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; Mine fixes the issue and doesn&apos;t do contentious things like remove the dataDir or the system property that controls cleaning it up. Your also is not finished - you state above that your stopping your work and that you sunk more than 3 hours into it.&lt;/p&gt;

&lt;p&gt;My changes fix things to work as currently designed and took me less than 30 minutes.&lt;/p&gt;

&lt;p&gt;The difference that you have fallen in love with is simply called TestUtil.createTmpDir vs using dataDir - I can&apos;t find it in myself to argue about that, but it seems totally unrelated anyway.&lt;/p&gt;

&lt;p&gt;You have a path that you have spent hours on and still needs work and wants to do contentious things. I have a path that took me less than 30 min and is done.&lt;/p&gt;

&lt;p&gt;Great, now I don&apos;t have to worry about lots of data not getting cleaned up, we can look at your slower path &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Merging up your branch won&apos;t take me any time at all, and we can properly discuss how this might be handled going forward. I won&apos;t make you go and make 3 hours of changes again &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13949932" author="markrmiller@gmail.com" created="Thu, 27 Mar 2014 21:13:31 +0000"  >&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;One clear evidence how broken it was is how many sections of the code tried to either create timestamp-based temporary folders or delete-recreate folders with a fixed name. This just sucked. If a test needs a temporary folder (initially empty) or a temporary file then it should ask for one. 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Your conflating things - fixing this issue and improvements are two different things. I fixed the issue - according to the current rules. It sounds like you want to talk about changing the rules and adding improvements. Fine - but this is a burning issue - we leave gigs around on win on every run &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;/p&gt;

&lt;p&gt;What you have done is just not even competition for what I have done.&lt;/p&gt;

&lt;p&gt;It&apos;s something to talk about and work on as a normal issue.&lt;/p&gt;

&lt;p&gt;The only valid complaint I can see you might have is some work on merging was dump on you - which I&apos;ve said I&apos;ll happily do.&lt;/p&gt;</comment>
                            <comment id="13949971" author="markrmiller@gmail.com" created="Thu, 27 Mar 2014 21:39:40 +0000"  >&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;One clear evidence how broken it was is how many sections of the code tried to either create timestamp-based temporary folders or delete-recreate folders with a fixed name. This just sucked.&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It wasn&apos;t even necessary - it was either a wrong or outdated idea - same with the attempts to delete and then mkdir or deleteOnExit. That&apos;s all stuff waiting for improvement. But that is just sugar - and I&apos;ll take sugar man &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; Load it on.&lt;/p&gt;

&lt;p&gt;I do have issues with how your branch does not deal with the borked dataDir concept, I don&apos;t like that it requires that special util method call everywhere. I really think what you have done actually simply compliments the fix, I would just do a few things a little differently. I&apos;ll show you how I would merge it up.&lt;/p&gt;</comment>
                            <comment id="13950011" author="markrmiller@gmail.com" created="Thu, 27 Mar 2014 22:07:29 +0000"  >&lt;blockquote&gt;&lt;p&gt;You see it depends on what you consider &quot;wrong&quot;.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Let&apos;s also come to agreement here. SolrjTestCase4j has a temporary directory that it tries to clean after the test and that you can set a special system property to prevent cleaning. This is obviously where Solr tests should be creating their temporary files - SolrjTestCase4j is the root of all Solr tests (or is intended to be). So clearly, this working haphazardly is wrong.&lt;/p&gt;

&lt;p&gt;I&apos;ve been part of that happening - LuceneTestCase#TEMP_DIR was just too tempting - I remember it&apos;s allure and using it. It got to the point where a ton of stuff was no longer under the cleaned up tmp dir and we got into this situation. It was not always like this - we had much, much less leakage.&lt;/p&gt;

&lt;p&gt;So I have fixed that. I didn&apos;t fix that the dataDir is conflated hopelessly between two worlds, I didn&apos;t fix any sugar api&apos;s or code, and I didn&apos;t address any other systemic issue. I just fixed what has clearly been borked and was supposed to work for eons now. If you set the right solr sys prop, you dont less any tmp files. When the test is over, it cleans up. That is back to working.&lt;/p&gt;

&lt;p&gt;If we can agree on that, perhaps we can start on the path of improvement. I just started integrating into your branch. Let&apos;s see what I come up with and push forward together from there.&lt;/p&gt;</comment>
                            <comment id="13950013" author="markrmiller@gmail.com" created="Thu, 27 Mar 2014 22:11:59 +0000"  >&lt;p&gt;Oh yeah, I also fixed some other stuff that was confusing and silly - like trying to delete global test resources in tearDown and not just afterClass and other such garbage.&lt;/p&gt;</comment>
                            <comment id="13950130" author="thetaphi" created="Thu, 27 Mar 2014 23:32:02 +0000"  >&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;the last Jenkins run was successful. solr-core only had the well known SpellChecker tests leaving folders in the worker dir.&lt;/p&gt;

&lt;p&gt;We had one failure in solrj (&lt;a href=&quot;http://jenkins.thetaphi.de/job/Lucene-Solr-trunk-Windows/3901/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://jenkins.thetaphi.de/job/Lucene-Solr-trunk-Windows/3901/&lt;/a&gt;)&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;   [junit4] Suite: org.apache.solr.common.util.ContentStreamTest
   [junit4]   2&amp;gt; Creating dataDir: C:\Users\JenkinsSlave\workspace\Lucene-Solr-trunk-Windows\solr\build\solr-solrj\test\J0\.\solrtest-ContentStreamTest-1395962448800
   [junit4]   2&amp;gt; 68449 T207 oas.SolrTestCaseJ4.buildSSLConfig Randomized ssl (true) and clientAuth (false)
   [junit4]   2&amp;gt; 68452 T207 oas.SolrTestCaseJ4.setUp ###Starting testURLStream
   [junit4]   2&amp;gt; 68453 T207 oasc.SolrResourceLoader.locateSolrHome JNDI not configured for solr (NoInitialContextEx)
   [junit4]   2&amp;gt; 68453 T207 oasc.SolrResourceLoader.locateSolrHome solr home defaulted to &apos;solr/&apos; (could not find system property or JNDI)
   [junit4]   2&amp;gt; 68453 T207 oasc.SolrResourceLoader.&amp;lt;init&amp;gt; new SolrResourceLoader for deduced Solr Home: &apos;solr/&apos;
   [junit4]   2&amp;gt; 68554 T207 oas.SolrTestCaseJ4.tearDown ###Ending testURLStream
   [junit4]   2&amp;gt; 68565 T207 oas.SolrTestCaseJ4.setUp ###Starting testFileStream
   [junit4]   2&amp;gt; 68566 T207 oasc.SolrResourceLoader.locateSolrHome JNDI not configured for solr (NoInitialContextEx)
   [junit4]   2&amp;gt; 68566 T207 oasc.SolrResourceLoader.locateSolrHome solr home defaulted to &apos;solr/&apos; (could not find system property or JNDI)
   [junit4]   2&amp;gt; 68567 T207 oasc.SolrResourceLoader.&amp;lt;init&amp;gt; new SolrResourceLoader for deduced Solr Home: &apos;solr/&apos;
   [junit4]   2&amp;gt; 68615 T207 oas.SolrTestCaseJ4.tearDown ###Ending testFileStream
   [junit4]   2&amp;gt; 68622 T207 oas.SolrTestCaseJ4.setUp ###Starting testStringStream
   [junit4]   2&amp;gt; 68623 T207 oas.SolrTestCaseJ4.tearDown ###Ending testStringStream
   [junit4]   2&amp;gt; 68624 T207 oas.SolrTestCaseJ4.deleteCore ###deleteCore
   [junit4]   2&amp;gt; !!!! WARNING: best effort to remove C:\Users\JenkinsSlave\workspace\Lucene-Solr-trunk-Windows\solr\build\solr-solrj\test\J0\.\solrtest-ContentStreamTest-1395962448800\README FAILED !!!!!
   [junit4]   2&amp;gt; NOTE: test params are: codec=FastCompressingStoredFields(storedFieldsFormat=CompressingStoredFieldsFormat(compressionMode=FAST, chunkSize=271), termVectorsFormat=CompressingTermVectorsFormat(compressionMode=FAST, chunkSize=271)), sim=DefaultSimilarity, locale=en_IE, timezone=America/Vancouver
   [junit4]   2&amp;gt; NOTE: Windows 7 6.1 x86/Oracle Corporation 1.7.0_51 (32-bit)/cpus=2,threads=1,free=17354576,total=84934656
   [junit4]   2&amp;gt; NOTE: All tests run in this JVM: [TestXMLEscaping, JettyWebappTest, CloudSolrServerTest, LargeVolumeJettyTest, TestHash, SolrExampleStreamingTest, IteratorChainTest, TestFastInputStream, ContentStreamTest]
   [junit4]   2&amp;gt; NOTE: reproduce with: ant test  -Dtestcase=ContentStreamTest -Dtests.seed=32A8B44CEE4187EC -Dtests.slow=true -Dtests.locale=en_IE -Dtests.timezone=America/Vancouver -Dtests.file.encoding=UTF-8
   [junit4] ERROR   0.00s | ContentStreamTest (suite) &amp;lt;&amp;lt;&amp;lt;
   [junit4]    &amp;gt; Throwable #1: java.lang.AssertionError: !!!! WARNING: best effort to remove C:\Users\JenkinsSlave\workspace\Lucene-Solr-trunk-Windows\solr\build\solr-solrj\test\J0\.\solrtest-ContentStreamTest-1395962448800 FAILED !!!!!
   [junit4]    &amp;gt; 	at __randomizedtesting.SeedInfo.seed([32A8B44CEE4187EC]:0)
   [junit4]    &amp;gt; 	at org.apache.solr.SolrTestCaseJ4.afterClass(SolrTestCaseJ4.java:217)
   [junit4]    &amp;gt; 	at java.lang.Thread.run(Thread.java:744)
   [junit4] Completed in 0.41s, 3 tests, 1 failure &amp;lt;&amp;lt;&amp;lt; FAILURES!
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I would also change the message to no longer say &quot;!!! WARNING !!!&quot; -&amp;gt; we should only print this with the annotation, otheriwse it should be a standard assertion Error without &quot;WARNING&quot; included. The current message is a bit confusing.&lt;/p&gt;

&lt;p&gt;Otherwise: Thanks Mark, that was fast!&lt;/p&gt;

&lt;p&gt;Dawid: I agree with you that we should fix the whole stuff globally on the suite level. We should:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;remove the TEMP_DIR constant completely!&lt;/li&gt;
	&lt;li&gt;forbid the File#deleteOnExit stuff&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Uwe&lt;/p&gt;</comment>
                            <comment id="13950139" author="markrmiller@gmail.com" created="Thu, 27 Mar 2014 23:37:58 +0000"  >&lt;p&gt;Thanks - I&apos;ll address the solrj test.&lt;/p&gt;

&lt;p&gt;I&apos;ll also commit my merge up to the branch soon - we can revert it if there is too much disagreement, but its the only easy way to show the work.&lt;/p&gt;

&lt;p&gt;There will still be some things to tidy up, but I think the merge up has worked out pretty nicely myself.&lt;/p&gt;</comment>
                            <comment id="13950161" author="jira-bot" created="Thu, 27 Mar 2014 23:49:04 +0000"  >&lt;p&gt;Commit 1582549 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thetaphi&quot; class=&quot;user-hover&quot; rel=&quot;thetaphi&quot;&gt;thetaphi&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1582549&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1582549&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5914&quot; title=&quot;Almost all Solr tests no longer cleanup their temp dirs on Windows&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5914&quot;&gt;&lt;del&gt;SOLR-5914&lt;/del&gt;&lt;/a&gt;: Fix missing close on Reader&lt;/p&gt;</comment>
                            <comment id="13950163" author="jira-bot" created="Thu, 27 Mar 2014 23:50:09 +0000"  >&lt;p&gt;Commit 1582550 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thetaphi&quot; class=&quot;user-hover&quot; rel=&quot;thetaphi&quot;&gt;thetaphi&lt;/a&gt; in branch &apos;dev/branches/branch_4x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1582550&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1582550&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Merged revision(s) 1582549 from lucene/dev/trunk:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5914&quot; title=&quot;Almost all Solr tests no longer cleanup their temp dirs on Windows&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5914&quot;&gt;&lt;del&gt;SOLR-5914&lt;/del&gt;&lt;/a&gt;: Fix missing close on Reader&lt;/p&gt;</comment>
                            <comment id="13950166" author="thetaphi" created="Thu, 27 Mar 2014 23:50:39 +0000"  >&lt;p&gt;I fixed the ContentStreamTest suite (the Reader was not closed in one of the tests).&lt;/p&gt;</comment>
                            <comment id="13950227" author="jira-bot" created="Fri, 28 Mar 2014 00:57:02 +0000"  >&lt;p&gt;Commit 1582571 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/branches/solr5914&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1582571&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1582571&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5914&quot; title=&quot;Almost all Solr tests no longer cleanup their temp dirs on Windows&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5914&quot;&gt;&lt;del&gt;SOLR-5914&lt;/del&gt;&lt;/a&gt;: Merge branch up to trunk, make all tests pass, make some other improvements and small changes.&lt;/p&gt;</comment>
                            <comment id="13950230" author="markrmiller@gmail.com" created="Fri, 28 Mar 2014 01:04:49 +0000"  >&lt;blockquote&gt;&lt;p&gt;I would also change the message to no longer say &quot;!!! WARNING !!!&quot; -&amp;gt; we should only print this with the annotation, otheriwse it should be a standard assertion Error without &quot;WARNING&quot; included. The current message is a bit confusing.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I have not addressed that yet - I&apos;ve just put a couple TODO&apos;s around the area - prob the largest thing left to cleanup.&lt;/p&gt;</comment>
                            <comment id="13950244" author="markrmiller@gmail.com" created="Fri, 28 Mar 2014 01:21:34 +0000"  >&lt;p&gt;Okay - good stuff I think.&lt;/p&gt;

&lt;p&gt;If you guys have ideas for further improvements or spot issues, I&apos;m happy to turn your thoughts into code. Or just jump right in.&lt;/p&gt;</comment>
                            <comment id="13950245" author="jira-bot" created="Fri, 28 Mar 2014 01:21:47 +0000"  >&lt;p&gt;Commit 1582575 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/branches/solr5914&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1582575&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1582575&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5914&quot; title=&quot;Almost all Solr tests no longer cleanup their temp dirs on Windows&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5914&quot;&gt;&lt;del&gt;SOLR-5914&lt;/del&gt;&lt;/a&gt;: Fix map-reduce contrib tests use of solrhome.&lt;/p&gt;</comment>
                            <comment id="13950257" author="jira-bot" created="Fri, 28 Mar 2014 01:33:45 +0000"  >&lt;p&gt;Commit 1582577 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/branches/solr5914&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1582577&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1582577&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5914&quot; title=&quot;Almost all Solr tests no longer cleanup their temp dirs on Windows&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5914&quot;&gt;&lt;del&gt;SOLR-5914&lt;/del&gt;&lt;/a&gt;: Fix morphlines contrib tests use of solrhome.&lt;/p&gt;</comment>
                            <comment id="13950465" author="dweiss" created="Fri, 28 Mar 2014 07:51:50 +0000"  >&lt;p&gt;Hey. I don&apos;t know if I&apos;ll be able to go back to  this today, most likely not. I&apos;ll try to merge the changes Mark made to the trunk.&lt;/p&gt;</comment>
                            <comment id="13950467" author="dweiss" created="Fri, 28 Mar 2014 07:52:34 +0000"  >&lt;p&gt;Uh, damn, I just noticed you already merged, Mark. Thanks. I&apos;ll review when I can.&lt;/p&gt;</comment>
                            <comment id="13950470" author="dweiss" created="Fri, 28 Mar 2014 07:59:26 +0000"  >&lt;p&gt;Just a quick follow-up &amp;#8211; is there any other reason for dataDir to exist other than to simplify cleanup? Also, what&apos;s the rationale for that property that prevents cleaning it up? The utilities in TestUtil have logic that doesn&apos;t prevent temporary directories when the test ended in a failure. Would this make that property effectively useless (because I think it&apos;s for debugging failed runs)?&lt;/p&gt;</comment>
                            <comment id="13950651" author="markrmiller@gmail.com" created="Fri, 28 Mar 2014 12:53:27 +0000"  >&lt;blockquote&gt;&lt;p&gt;is there any other reason for dataDir to exist other than to simplify cleanup?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yes - we want to be able to keep around all the files for debugging and development by request of the dev whether it fails or not - and it would be good if all those files for a test where under one root dir named after the test.&lt;/p&gt;

&lt;p&gt;I don&apos;t think that&apos;s fully happening yet though - I think the children dirs of the root test dir will still be removed - I&apos;ve still got to look at that.&lt;/p&gt;</comment>
                            <comment id="13951034" author="jira-bot" created="Fri, 28 Mar 2014 16:55:25 +0000"  >&lt;p&gt;Commit 1582826 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/branches/solr5914&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1582826&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1582826&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5914&quot; title=&quot;Almost all Solr tests no longer cleanup their temp dirs on Windows&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5914&quot;&gt;&lt;del&gt;SOLR-5914&lt;/del&gt;&lt;/a&gt;: Need to use ensureClosed boolean everywhere in SolrTestCaseJ4.&lt;/p&gt;</comment>
                            <comment id="13954447" author="dweiss" created="Sat, 29 Mar 2014 21:19:59 +0000"  >&lt;p&gt;I looked at the current state of the branch, Mark, and I strongly disagree with having this in TestUtil:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; File createTempDir(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; name, File tmpDir, &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; ensureCleanedUp)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It&apos;s creating a gateway for bad code to proliferate. A temporary folder WILL be removed after a suite is done, there should be no way to &quot;opt out&quot; from this check. I understand sometimes it&apos;s useful to keep temp. files and it should be possible, but NOT AT THE CODE LEVEL (it should be a result of an explicit action of the developer).&lt;/p&gt;

&lt;p&gt;My suggestion is to change SolrTestCaseJ4 and instead of putting the logic to keep temporary folders in there I&apos;d rather:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;declare a global sys property that would prevent removing temporary folders (placed in TestUtil; but we can keep solr.test.leavetmpdir as an alias). In fact there already is a similar property for the runner itself:
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;# Don&apos;t remove temporary files under slave directories, even &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;
# the test passes.
ant -Dtests.leaveTemporary=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;so we could just adopt it here too.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;make an annotation called DirtyHarry (suggestions welcome) to mark suites which are known offenders of the default behavior. Classes annotated with DirtyHarry wouldn&apos;t fail if they leave undeletable garbage behind (but would print a warning).&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I also don&apos;t quite understand why you insist on things like this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; rootTmpDir = TestUtil.createTempDir(&lt;span class=&quot;code-quote&quot;&gt;&quot;solrtest-&quot;&lt;/span&gt; + cname, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, ensureClosed);
 initCoreDataDir = TestUtil.createTempDir(&lt;span class=&quot;code-quote&quot;&gt;&quot;solrtest-&quot;&lt;/span&gt; + cname, rootTmpDir, ensureClosed);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Why &apos;solrtest-*&apos; prefix? Isn&apos;t class name enough? And why create a temporary folder under a temporary folder (if we know rootTmpDir will always be empty, even on a run when previous runs left their temporary folders a new, empty folder uniquely suffixed will be created.&lt;/p&gt;

&lt;p&gt;As for this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;          &lt;span class=&quot;code-comment&quot;&gt;// TODO: tmp files should already get cleaned up by the test framework, but
&lt;/span&gt;          &lt;span class=&quot;code-comment&quot;&gt;// we still &lt;span class=&quot;code-keyword&quot;&gt;do&lt;/span&gt; it here as well, so that we clean up as much as we can, even
&lt;/span&gt;          &lt;span class=&quot;code-comment&quot;&gt;// when a test is the SuppressTempDirCleanUp annotation&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;it isn&apos;t true. The rule to clean up temporary files is fired almost at the very end of processing, after all the after class rules have already been executed. The reason for this is that you don&apos;t want to clean up any temporary files for failed tests/ suites and you know this only after everything else has been executed.&lt;/p&gt;

&lt;p&gt;Let me know what you think, I&apos;ll make the above changes and make them ready for your review.&lt;/p&gt;</comment>
                            <comment id="13954456" author="dweiss" created="Sat, 29 Mar 2014 21:34:13 +0000"  >&lt;p&gt;Just looking at the diff file:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;+    solrHomeDirectory = createTempDir();
+    FileUtils.deleteDirectory(solrHomeDirectory); &lt;span class=&quot;code-comment&quot;&gt;// Ensure that a failed test didn&apos;t leave something lying around. &lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This is not possible. A new temporary folder will always be empty (it is uniquely suffixed if a previous folder with the same prefix exists), no need to clean it.&lt;/p&gt;

&lt;p&gt;You reverted timestamp-based folder creation. I don&apos;t see the point of this. Why bother (again, parent will be empty anyway).&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;-      File home = TestUtil.createTempDir(getClass().getName());
+      File home = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(dataDir, 
+                           getClass().getName() + &lt;span class=&quot;code-quote&quot;&gt;&quot;-&quot;&lt;/span&gt; + 
+                           &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.currentTimeMillis()); 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Same here:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;+    File indexDir = createTempDir();
+    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (indexDir.exists())  {
+      FileUtils.deleteDirectory(indexDir);
+    }
+    indexDir.mkdirs(); 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13954720" author="markrmiller@gmail.com" created="Sun, 30 Mar 2014 15:42:19 +0000"  >&lt;blockquote&gt;&lt;p&gt;I looked at the current state of the branch, Mark, and I strongly disagree with having this in TestUtil: boolean ensureCleanedUp&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I don&apos;t really care about that - I left the tension between your clean up method and Solr&apos;s because yours is not good enough for our needs yet and Solr&apos;s is not making you happy. Like I said, that&apos;s the stuff that is left to clean up. I had to put that in now, because the spellcheck tests need to run and pass.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;My suggestion is &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;That sounds fine to me - I would prefer first class test framework support for this rather than having it just be a Solr thing. &lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I also don&apos;t quite understand why you insist on things like this:&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I don&apos;t insist - I think that was just already there. Though come to think of it, yes, I&apos;d prefer test was in the folder name rather than just the classname.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;it isn&apos;t true. &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;My comment wasn&apos;t meant to indicate order of deletion. What it meant is that since we prevent the folder from being cleaned up via TestUtil, I still left that recursive delete so that any files that can be deleted still are.&lt;/p&gt;

&lt;p&gt;Like I said, this is the piece that is left to cleanup - and it&apos;s what I thought you intended from the beginning. This is what I meant when I said Dawid was working on first class test framework support and I was just doing the fix that made sense in the current world.&lt;/p&gt;

&lt;p&gt;Anyway, we always seem to have been on the same page but it seems you want to insist that we are not. Strange to me, but we will get there. No hurry anymore at least.&lt;/p&gt;</comment>
                            <comment id="13954725" author="markrmiller@gmail.com" created="Sun, 30 Mar 2014 15:48:45 +0000"  >&lt;blockquote&gt;&lt;p&gt;This is not possible. &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I didn&apos;t put that there that I know of - I removed most clean up attempts I saw, but I guess that missed that one. Must have just come in with the merge.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;You reverted timestamp-based folder creation. &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I removed most of them but may have missed one or two.&lt;/p&gt;

&lt;p&gt;I was not 100% thorough on either of those since they don&apos;t hurt anything either - were I noticed, I removed them. You&apos;ll notice 99% of them are still gone, so they are obviously an oversight.&lt;/p&gt;

&lt;p&gt;There was a lot of TestUtil calls to change, we can vet them before merging back in.&lt;/p&gt;</comment>
                            <comment id="13954731" author="markrmiller@gmail.com" created="Sun, 30 Mar 2014 16:03:39 +0000"  >&lt;p&gt;Just to make things simpler, take what I&apos;m looking for and insist on from my comments and look at the branch as a work in progress.&lt;/p&gt;

&lt;p&gt;I&apos;ll reiterate what I&apos;m looking for:&lt;/p&gt;

&lt;p&gt;1. We want a root temp directory for a Solr test. All tmp files created by that test are under this directory. Directory should be named after test class. Personally, I&apos;d also prefer Solr and Test where in the name, but thats pretty low priority compared to the rest. I like tmp folders to be very self identifiable.&lt;/p&gt;

&lt;p&gt;2. As a dev, I want to be able to simply pass a sys prop to get that temp folder and all it&apos;s contents to stick around. Then I can easily explore the temporary indexes and what not that a test creates.&lt;/p&gt;

&lt;p&gt;3. I&apos;d prefer we didn&apos;t have TestUtil calls all over the test code. If you want a temp folder, as you said, you should just have to ask for it - not pass any params. And getting a tmp dir for a test should be easily discoverable rather than a random Util class. Also, there should be no need to import.&lt;/p&gt;

&lt;p&gt;Those are my main sticking points. The rest is malleable.&lt;/p&gt;</comment>
                            <comment id="13954735" author="markrmiller@gmail.com" created="Sun, 30 Mar 2014 16:18:30 +0000"  >&lt;p&gt;To be explicit about the main work to do on that branch:&lt;/p&gt;

&lt;p&gt;We are still using both delete methods - TestUtil&apos;s build in support and Solr&apos;s - why? It makes no sense to have both. But we have them because TestUtil is not good enough and we don&apos;t plan on staying with Solr. To make them both work the same, I have hacked TestUtil to work in concert with Sol&apos;s stuff. So, obviously, we have to resolve this on the branch.&lt;/p&gt;

&lt;p&gt;My preference would be to get first class support for what I want outside of SolrTestCaseJ4 and remove all that cleanup code entirely.&lt;/p&gt;

&lt;p&gt;I suppose my backup would be to continue using what we have in Solr and stop using your TestUtil - but that would defeat a lot of the progress forward.&lt;/p&gt;
</comment>
                            <comment id="13954759" author="jira-bot" created="Sun, 30 Mar 2014 17:37:32 +0000"  >&lt;p&gt;Commit 1583163 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/branches/solr5914&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1583163&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1583163&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5914&quot; title=&quot;Almost all Solr tests no longer cleanup their temp dirs on Windows&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5914&quot;&gt;&lt;del&gt;SOLR-5914&lt;/del&gt;&lt;/a&gt;: Polish up createTempDir calls.&lt;/p&gt;</comment>
                            <comment id="13955025" author="dweiss" created="Mon, 31 Mar 2014 08:25:00 +0000"  >&lt;p&gt;&amp;gt; Anyway, we always seem to have been on the same page but it seems you want to insist that we are not.&lt;/p&gt;

&lt;p&gt;We are, I never meant to give you an impression that we&apos;re not. Discussion leads progress forward. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;I&apos;ll try to address your points above, give me some time though, I think all are addressable. I need a spare minute out of work to handle this.&lt;/p&gt;</comment>
                            <comment id="13959936" author="dweiss" created="Fri, 4 Apr 2014 13:16:43 +0000"  >&lt;p&gt;I&apos;ve committed some cleanups to the branch but I have some more on disk, unfinished. Don&apos;t bother looking at the branch yet, pls.&lt;/p&gt;</comment>
                            <comment id="13960183" author="dweiss" created="Fri, 4 Apr 2014 17:45:29 +0000"  >&lt;p&gt;I will close this issue because Mark addressed it already with his round of fixes and the temporary-resource refactoring has grown into a bigger deal.&lt;/p&gt;</comment>
                            <comment id="13982509" author="thetaphi" created="Sun, 27 Apr 2014 23:25:33 +0000"  >&lt;p&gt;Close issue after release of 4.8.0&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12706672">LUCENE-5577</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12636991" name="SOLR-5914 .patch" size="16757" author="markrmiller@gmail.com" created="Wed, 26 Mar 2014 20:06:55 +0000"/>
                            <attachment id="12636987" name="SOLR-5914 .patch" size="17197" author="markrmiller@gmail.com" created="Wed, 26 Mar 2014 19:50:20 +0000"/>
                            <attachment id="12636901" name="branch4x-jenkins.png" size="155193" author="uschindler" created="Wed, 26 Mar 2014 10:28:02 +0000"/>
                            <attachment id="12636963" name="build-plugin.jpg" size="80728" author="uschindler" created="Wed, 26 Mar 2014 18:03:49 +0000"/>
                            <attachment id="12636900" name="trunk-jenkins.png" size="157542" author="uschindler" created="Wed, 26 Mar 2014 10:28:02 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382027</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 30 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1tth3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>382302</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>