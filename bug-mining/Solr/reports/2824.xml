<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:11:25 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-8658] Fix test failure introduced in SOLR-8651</title>
                <link>https://issues.apache.org/jira/browse/SOLR-8658</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;OK, I think I&apos;ve found a possible reason. The waitForDocCount method waits until a response comes back with the, well, expected doc counts. But then it drops out of the wait loop the first time a query works.&lt;/p&gt;

&lt;p&gt;But then it goes out to each and every node and re-issues the request. This looks to be a 2-shard, 2-replica situation. So here&apos;s the theory: the second node hasn&apos;t yet opened a new searcher. So the wait loop is satisfied by, say, node2 but the test later looks at node4 (both for shard2) which hasn&apos;t completed opening a searcher yet so it fails.&lt;/p&gt;

&lt;p&gt;I could not get this to fail locally in 20 runs. So I&apos;ll beast the unchanged version some more to see but meanwhile commit this change which I think is more correct anyway and monitor.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12937619">SOLR-8658</key>
            <summary>Fix test failure introduced in SOLR-8651</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="erickerickson">Erick Erickson</assignee>
                                    <reporter username="erickerickson">Erick Erickson</reporter>
                        <labels>
                    </labels>
                <created>Mon, 8 Feb 2016 19:58:07 +0000</created>
                <updated>Tue, 23 Feb 2016 10:40:07 +0000</updated>
                            <resolved>Wed, 10 Feb 2016 17:30:15 +0000</resolved>
                                                    <fixVersion>5.5</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15138286" author="jira-bot" created="Tue, 9 Feb 2016 03:38:47 +0000"  >&lt;p&gt;Commit b5823b50db14d93b546fa898e33ad3dfea58df17 in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=erickerickson&quot; class=&quot;user-hover&quot; rel=&quot;erickerickson&quot;&gt;erickerickson&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=b5823b5&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=b5823b5&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8658&quot; title=&quot;Fix test failure introduced in SOLR-8651&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-8658&quot;&gt;&lt;del&gt;SOLR-8658&lt;/del&gt;&lt;/a&gt;: Fix test failure introduced in &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8651&quot; title=&quot;The commitWithin parameter is not passed on for deleteById in UpdateRequest for distributed queries&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-8651&quot;&gt;&lt;del&gt;SOLR-8651&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15138290" author="erickerickson" created="Tue, 9 Feb 2016 03:45:20 +0000"  >&lt;p&gt;200 runs of this test case and this error did not recur (without this patch). I&apos;m guessing that it requires a slower machine to reproduce the assumed race condition. So I don&apos;t see any other choice than to commit this test fix and see if it happens again.&lt;/p&gt;

&lt;p&gt;I&apos;ll keep this JIRA open for a day or two and then close it if we don&apos;t see the problem again.&lt;/p&gt;

&lt;p&gt;I don&apos;t think this really requires a CHANGES.txt entry so if we package up 6.0 and 5.5 &lt;/p&gt;</comment>
                            <comment id="15138301" author="jira-bot" created="Tue, 9 Feb 2016 03:52:50 +0000"  >&lt;p&gt;Commit f4f1486895bf9cc18bb4e9f89a110c50ae63f59c in lucene-solr&apos;s branch refs/heads/branch_5x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=erickerickson&quot; class=&quot;user-hover&quot; rel=&quot;erickerickson&quot;&gt;erickerickson&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=f4f1486&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=f4f1486&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8658&quot; title=&quot;Fix test failure introduced in SOLR-8651&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-8658&quot;&gt;&lt;del&gt;SOLR-8658&lt;/del&gt;&lt;/a&gt;: Fix test failure introduced in &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8651&quot; title=&quot;The commitWithin parameter is not passed on for deleteById in UpdateRequest for distributed queries&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-8651&quot;&gt;&lt;del&gt;SOLR-8651&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15141251" author="erickerickson" created="Wed, 10 Feb 2016 17:30:15 +0000"  >&lt;p&gt;I think this is OK, if it crops back up we can open a new JIRA or re-open this one.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12786984" name="SOLR-8658.patch" size="3423" author="erickerickson" created="Tue, 9 Feb 2016 03:45:20 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 40 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2skqn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>