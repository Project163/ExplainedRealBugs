<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:26:49 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-3261] edismax ignores explicit operators when literal colon is found</title>
                <link>https://issues.apache.org/jira/browse/SOLR-3261</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;Using the 3.5 example this query...&lt;/p&gt;

&lt;p&gt;q = bogus:xxx AND text_t:yak&lt;br/&gt;
&lt;a href=&quot;http://localhost:8983/solr/select/?debugQuery=true&amp;amp;qf=a_t+b_t&amp;amp;defType=edismax&amp;amp;mm=0&amp;amp;q=bogus:xxx+AND+text_t:yak&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8983/solr/select/?debugQuery=true&amp;amp;qf=a_t+b_t&amp;amp;defType=edismax&amp;amp;mm=0&amp;amp;q=bogus:xxx+AND+text_t:yak&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;parses as...&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;+(DisjunctionMaxQuery((a_t:bogus:xxx | b_t:bogus:xxx)) DisjunctionMaxQuery((a_t:and | b_t:and)) text_t:yak)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;(Note that &quot;AND&quot; is considered a term and is searched for in the qf fields)&lt;/p&gt;

&lt;p&gt;But this query...&lt;br/&gt;
q = foo_s:xxx AND text_t:yak&lt;br/&gt;
&lt;a href=&quot;http://localhost:8983/solr/select/?debugQuery=true&amp;amp;qf=a_t+b_t&amp;amp;defType=edismax&amp;amp;mm=0&amp;amp;q=foo_s:xxx+AND+text_t:yak&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8983/solr/select/?debugQuery=true&amp;amp;qf=a_t+b_t&amp;amp;defType=edismax&amp;amp;mm=0&amp;amp;q=foo_s:xxx+AND+text_t:yak&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;parses correctly treating AND as an explicit operator...&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;+(+foo_s:xxx +text_t:yak)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;(this problem also seems to affect trunk circa 2012-03-20)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12547285">SOLR-3261</key>
            <summary>edismax ignores explicit operators when literal colon is found</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="juangrande">Juan Grande</assignee>
                                    <reporter username="hossman">Chris M. Hostetter</reporter>
                        <labels>
                    </labels>
                <created>Tue, 20 Mar 2012 21:38:52 +0000</created>
                <updated>Fri, 10 May 2013 10:40:43 +0000</updated>
                            <resolved>Tue, 27 Mar 2012 23:41:38 +0000</resolved>
                                                    <fixVersion>3.6</fixVersion>
                    <fixVersion>4.0-ALPHA</fixVersion>
                                    <component>query parsers</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13237743" author="juangrande" created="Sun, 25 Mar 2012 00:26:55 +0000"  >&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;I&apos;m attaching a patch that solves this issue. &lt;/p&gt;

&lt;p&gt;The problem was that when an inexistent field occurred in the query, the raw (unescaped) Clause was used, so ExtendedSolrQueryParser failed and then the query was re-parsed with operators quoted.&lt;/p&gt;

&lt;p&gt;For existent but non-allowed fields the behavior was different: all the special characters in the clause were escaped in the first place.&lt;/p&gt;

&lt;p&gt;With my patch, when an inexistent or non-allowed field is found, only the colons are escaped, the rest of the clause is left unmodified. There is the special case of &amp;#42;:&amp;#42;, where the colon is not escaped.&lt;/p&gt;

&lt;p&gt;The patch was made for trunk, but it applies (with some warnings from &quot;patch&quot;) to branch_3x. All tests pass for me!&lt;/p&gt;

&lt;p&gt;Juan&lt;/p&gt;</comment>
                            <comment id="13240038" author="hossman" created="Tue, 27 Mar 2012 23:04:30 +0000"  >&lt;p&gt;updated version of Juan&apos;s patch with some test improvements: &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;tweaked the name to make it more clear we were testing the behavior with literal colons (not that there was anything invalid about the requests)&lt;/li&gt;
	&lt;li&gt;tweaked the assertions to be explicit about which docs should match, not just how many&lt;/li&gt;
	&lt;li&gt;added a doc with literal AND and NOT values to make sure we weren&apos;t matching stray docs.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;...still running full tests, but i&apos;m aiming to commit this to trunk and 3.6 ASAP&lt;/p&gt;</comment>
                            <comment id="13240062" author="hossman" created="Tue, 27 Mar 2012 23:41:38 +0000"  >&lt;p&gt;Committed revision 1306054.&lt;br/&gt;
Committed revision 1306059.&lt;/p&gt;

&lt;p&gt;thanks for figuring this out Juan!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                                                <inwardlinks description="is part of">
                                        <issuelink>
            <issuekey id="12498784">SOLR-2368</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12534581">SOLR-2959</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12520211" name="SOLR-3261.patch" size="4685" author="hossman" created="Tue, 27 Mar 2012 23:04:30 +0000"/>
                            <attachment id="12519831" name="SOLR-3261.patch" size="4169" author="juangrande" created="Sun, 25 Mar 2012 00:26:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>232443</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 35 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i03fq7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>17981</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>