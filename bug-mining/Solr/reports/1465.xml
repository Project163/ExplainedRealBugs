<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:37:55 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-4452] Hunspell stemmer should not merge duplicate dictionary entries</title>
                <link>https://issues.apache.org/jira/browse/SOLR-4452</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;Hunspell dictionaries are on the form&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;lucene/ABC
mahout/X
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Each word is listed once with is base form, and the flags after the / define allowed prefixes and suffixes.&lt;/p&gt;

&lt;p&gt;In HunspellDictionary&apos;s parsing logic, if the same base word should appear multiple times in the file, the flags from the duplicate entry are added to the flags from the existing entry.&lt;/p&gt;

&lt;p&gt;However, HunSpellStemFilterFactory allows for a comma-separated list of dictionary files to be passed in, the idea being that you can have your own custom extensions and not need to modify the &quot;standard&quot; ones which may change upstream once in a while. This feature now works only for NEW words, not for overriding existing entries from the first dictionary.&lt;/p&gt;

&lt;p&gt;Would like to change this behavior, so that the last line read overwrites any previous one. This will both fix the custom dictionary issue and also fix unintentional wrong original dictionaries, where someone added a word definition at the end without realizing there was another already.&lt;/p&gt;

&lt;p&gt;For the en_UK.dic there are no duplicates. For en_US.dic there is one duplicate, so I argue this behavior is a bug and not a feature dictionary authors depend upon.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12632219">SOLR-4452</key>
            <summary>Hunspell stemmer should not merge duplicate dictionary entries</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="janhoy">Jan H&#248;ydahl</assignee>
                                    <reporter username="janhoy">Jan H&#248;ydahl</reporter>
                        <labels>
                            <label>hunspell</label>
                    </labels>
                <created>Wed, 13 Feb 2013 15:00:29 +0000</created>
                <updated>Mon, 9 May 2016 18:43:27 +0000</updated>
                            <resolved>Wed, 3 Jul 2013 00:39:08 +0000</resolved>
                                                    <fixVersion>4.4</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                    <component>Schema and Analysis</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13577624" author="janhoy" created="Wed, 13 Feb 2013 15:12:00 +0000"  >&lt;p&gt;Initial patch&lt;/p&gt;</comment>
                            <comment id="13578219" author="janhoy" created="Thu, 14 Feb 2013 08:14:57 +0000"  >&lt;p&gt;New patch with testcase&lt;/p&gt;</comment>
                            <comment id="13578228" author="janhoy" created="Thu, 14 Feb 2013 08:28:58 +0000"  >&lt;p&gt;Think this is ready. Will commit in a day or two unless anyone proves that this is a needed &quot;feature&quot;, not a bug.&lt;/p&gt;</comment>
                            <comment id="13698447" author="jira-bot" created="Wed, 3 Jul 2013 00:36:21 +0000"  >&lt;p&gt;Commit 1499164 from janhoy@apache.org&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1499164&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1499164&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-4452&quot; title=&quot;Hunspell stemmer should not merge duplicate dictionary entries&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-4452&quot;&gt;&lt;del&gt;SOLR-4452&lt;/del&gt;&lt;/a&gt;: Hunspell stemmer should not merge duplicate dictionary entries&lt;/p&gt;</comment>
                            <comment id="13698450" author="jira-bot" created="Wed, 3 Jul 2013 00:38:33 +0000"  >&lt;p&gt;Commit 1499166 from janhoy@apache.org&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1499166&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1499166&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-4452&quot; title=&quot;Hunspell stemmer should not merge duplicate dictionary entries&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-4452&quot;&gt;&lt;del&gt;SOLR-4452&lt;/del&gt;&lt;/a&gt;: Hunspell stemmer should not merge duplicate dictionary entries (merge from trunk)&lt;/p&gt;</comment>
                            <comment id="13698476" author="rcmuir" created="Wed, 3 Jul 2013 01:28:31 +0000"  >&lt;p&gt;This commit is causing test failures.&lt;/p&gt;</comment>
                            <comment id="13698483" author="janhoy" created="Wed, 3 Jul 2013 01:32:56 +0000"  >&lt;p&gt;Yup, the test for case insensitive dictionary assumes that entries are merged. Not sure what is the best action.&lt;/p&gt;</comment>
                            <comment id="13698501" author="janhoy" created="Wed, 3 Jul 2013 02:09:25 +0000"  >&lt;p&gt;This extra patch takes care of this corner case where two lines are same word but different case.&lt;/p&gt;

&lt;p&gt;For case sensitive dictionary we will treat these as two distinct words. But for case insensitive dictionaries we&apos;ll merge them as before.&lt;/p&gt;

&lt;p&gt;Sounds good? Or would it be better to treat these also as duplicates and use only the last one? If so, we should modify the unit test instead.&lt;/p&gt;</comment>
                            <comment id="13698511" author="janhoy" created="Wed, 3 Jul 2013 02:25:03 +0000"  >&lt;p&gt;Changed my mind. This patch treats lower/upper entries the same in caseInsensitive mode, i.e. the last one wins. So we modify the tests instead. Will commit shortly.&lt;/p&gt;</comment>
                            <comment id="13698513" author="jira-bot" created="Wed, 3 Jul 2013 02:25:57 +0000"  >&lt;p&gt;Commit 1499179 from janhoy@apache.org&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1499179&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1499179&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-4452&quot; title=&quot;Hunspell stemmer should not merge duplicate dictionary entries&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-4452&quot;&gt;&lt;del&gt;SOLR-4452&lt;/del&gt;&lt;/a&gt;: Fix test for case insensitive mode&lt;/p&gt;</comment>
                            <comment id="13698514" author="jira-bot" created="Wed, 3 Jul 2013 02:27:28 +0000"  >&lt;p&gt;Commit 1499180 from janhoy@apache.org&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1499180&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1499180&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-4452&quot; title=&quot;Hunspell stemmer should not merge duplicate dictionary entries&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-4452&quot;&gt;&lt;del&gt;SOLR-4452&lt;/del&gt;&lt;/a&gt;: Fix test for case insensitive mode&lt;/p&gt;</comment>
                            <comment id="13716860" author="steve_rowe" created="Tue, 23 Jul 2013 18:38:47 +0000"  >&lt;p&gt;Bulk close resolved 4.4 issues&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12590560" name="SOLR-4452-caseinsensitive-nomerge.patch" size="2629" author="janhoy" created="Wed, 3 Jul 2013 02:25:03 +0000"/>
                            <attachment id="12590558" name="SOLR-4452-caseinsensitivemerge.patch" size="2286" author="janhoy" created="Wed, 3 Jul 2013 02:09:25 +0000"/>
                            <attachment id="12569323" name="SOLR-4452.patch" size="3921" author="janhoy" created="Thu, 14 Feb 2013 08:14:57 +0000"/>
                            <attachment id="12569198" name="SOLR-4452.patch" size="766" author="janhoy" created="Wed, 13 Feb 2013 15:12:00 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>312715</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 18 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1hyrr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>313061</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>