<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 05:05:57 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-15771] bin/solr auth enable should model best practices for security.json</title>
                <link>https://issues.apache.org/jira/browse/SOLR-15771</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;During discussion of &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-15770&quot; title=&quot;Clarify Authorization documentation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-15770&quot;&gt;SOLR-15770&lt;/a&gt;, the idea came up that the &lt;tt&gt;bin/solr auth enable&lt;/tt&gt; command should model a best practices setup of &lt;tt&gt;security.json&lt;/tt&gt;, with the idea that it&apos;s sometimes easier to show versus tell people how to setup security.&lt;/p&gt;

&lt;p&gt;&#160;&lt;br/&gt;
 My wish for that default security.json&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Add three users&#160;&lt;tt&gt;user&lt;/tt&gt;&#160;,&#160;&lt;tt&gt;admin&lt;/tt&gt;&#160;and&#160;&lt;tt&gt;superadmin&lt;/tt&gt;&lt;/li&gt;
	&lt;li&gt;Add three roles with the same names&lt;/li&gt;
	&lt;li&gt;Map&#160;&lt;b&gt;every&lt;/b&gt;&#160;permission in the system to one or more of those roles&lt;/li&gt;
	&lt;li&gt;End the chain with an &lt;tt&gt;all&lt;/tt&gt; permission connected to the &lt;tt&gt;superadmin&lt;/tt&gt; role&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Bonus points would be to have the &lt;tt&gt;security.json&lt;/tt&gt; be a template file read in by &lt;tt&gt;AuthTool&lt;/tt&gt; instead of a hard to edit/understand String generated in Java. Then we could also reference this file in the Ref Guide (the way we do with some SolrJ chunks of code) and provide more detailed explanation of thinking in the Ref Guide.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13410219">SOLR-15771</key>
            <summary>bin/solr auth enable should model best practices for security.json</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="epugh">Eric Pugh</assignee>
                                    <reporter username="epugh">Eric Pugh</reporter>
                        <labels>
                    </labels>
                <created>Fri, 5 Nov 2021 10:06:36 +0000</created>
                <updated>Fri, 17 Oct 2025 20:05:41 +0000</updated>
                            <resolved>Tue, 12 Sep 2023 18:45:21 +0000</resolved>
                                                    <fixVersion>9.4</fixVersion>
                    <fixVersion>10.0</fixVersion>
                                    <component>Authentication</component>
                    <component>SolrCLI</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="18600">5h 10m</timespent>
                                <comments>
                            <comment id="17752792" author="epugh" created="Thu, 10 Aug 2023 12:42:31 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=janhoy&quot; class=&quot;user-hover&quot; rel=&quot;janhoy&quot;&gt;janhoy&lt;/a&gt; would you be interested in picking this one up with me?   I think I can do a lot of the coding work, but my innate understanding of how it SHOULD work is lacking &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17756853" author="epugh" created="Mon, 21 Aug 2023 11:21:50 +0000"  >&lt;p&gt;The PR is ready for review.   One thought that struck me over the weekend, why do we have blockUnknown?   Couldn&apos;t that logic be modeled in security.json???&lt;/p&gt;</comment>
                            <comment id="17756854" author="epugh" created="Mon, 21 Aug 2023 11:24:28 +0000"  >&lt;p&gt;Could we change this logic (from ref guide) so that if a permission doesn&apos;t have a role, it just doesn&apos;t do anything?   Maybe introduce an anonymous role that any anonymous users get, and then you specify what they can (or can not do?)&lt;/p&gt;

&lt;p&gt;If you do not select any roles for a permission, then the permission is assigned the null role, which means grants the permission to anonymous users. However, if Block anonymous requests (blockUnknown=true) is checked, then anonymous users will not be allowed to make requests, thus permission with the null role are effectively inactive.&lt;/p&gt;</comment>
                            <comment id="17757398" author="janhoy" created="Tue, 22 Aug 2023 12:01:50 +0000"  >&lt;blockquote&gt;&lt;p&gt;Maybe introduce an anonymous role that any anonymous users get&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;This already exists. Anonymous requests will match the &lt;tt&gt;null&lt;/tt&gt; role. I.e. if you want an endpoint (e.g. /solr/admin/info/system) to be un-authenticated, you can add it to the list with role &quot;null&quot;. But then you also need blockUnknown=false, and a catch-all &quot;all&quot; permission on the bottom of the list to avoid sneaky fall-through logic.&lt;/p&gt;</comment>
                            <comment id="17760396" author="epugh" created="Wed, 30 Aug 2023 13:20:28 +0000"  >&lt;p&gt;I keep pulling up this ticket to think about doing it, and then deciding, what I really want is standalone Solr to have an embedded ZK, so that we eliminate the distinction between SolrCloud based features and single node Solr..   It&apos;s all just Solr.    That is the approach I want to take to implement this &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17764333" author="jira-bot" created="Tue, 12 Sep 2023 18:44:31 +0000"  >&lt;p&gt;Commit b163a0e50469dbb6357cef8506fba760710ef16b in solr&apos;s branch refs/heads/main from Eric Pugh&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=b163a0e5046&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=b163a0e5046&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-15771&quot; title=&quot;bin/solr auth enable should model best practices for security.json&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-15771&quot;&gt;&lt;del&gt;SOLR-15771&lt;/del&gt;&lt;/a&gt;: bin/solr auth enable should model best practices for security.json (#1851)&lt;/p&gt;

&lt;p&gt;Introduce a security.json that defines four roles: `search`, `index`, `admin` and `superadmin`, and assigns the `superadmin` to the user created by running bin/solr auth.&lt;/p&gt;</comment>
                            <comment id="17764334" author="jira-bot" created="Tue, 12 Sep 2023 18:45:05 +0000"  >&lt;p&gt;Commit 79b9c80a28634bea6859906dee4b1ff886bcf60c in solr&apos;s branch refs/heads/branch_9x from Eric Pugh&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=79b9c80a286&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=79b9c80a286&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-15771&quot; title=&quot;bin/solr auth enable should model best practices for security.json&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-15771&quot;&gt;&lt;del&gt;SOLR-15771&lt;/del&gt;&lt;/a&gt;: bin/solr auth enable should model best practices for security.json (#1851)&lt;/p&gt;

&lt;p&gt;Introduce a security.json that defines four roles: `search`, `index`, `admin` and `superadmin`, and assigns the `superadmin` to the user created by running bin/solr auth.&lt;/p&gt;</comment>
                            <comment id="17775463" author="alex.parvulescu" created="Sun, 15 Oct 2023 19:57:06 +0000"  >&lt;p&gt;Closing after the 9.4.0 release&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13410211">SOLR-15770</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13533446">SOLR-16757</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 4 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0wh08:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>