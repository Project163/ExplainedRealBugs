<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:18:24 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-9760] solr.cmd on Windows requires modify permissions in the current directory</title>
                <link>https://issues.apache.org/jira/browse/SOLR-9760</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;Currently starting solr fails if the user does not have permission to write to the current directory.  This is caused by the resolve_java_vendor function writing a temporary file to the current directory (javares). &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;:resolve_java_vendor
set &lt;span class=&quot;code-quote&quot;&gt;&quot;JAVA_VENDOR=Oracle&quot;&lt;/span&gt;
&lt;span class=&quot;code-quote&quot;&gt;&quot;%JAVA%&quot;&lt;/span&gt; -version 2&amp;gt;&amp;amp;1 | findstr /i &lt;span class=&quot;code-quote&quot;&gt;&quot;IBM J9&quot;&lt;/span&gt; &amp;gt; javares
set /p JAVA_VENDOR_OUT=&amp;lt;javares
del javares
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; NOT &lt;span class=&quot;code-quote&quot;&gt;&quot;%JAVA_VENDOR_OUT%&quot;&lt;/span&gt; == &quot;&quot; (
  set &lt;span class=&quot;code-quote&quot;&gt;&quot;JAVA_VENDOR=IBM J9&quot;&lt;/span&gt;
)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Rather than writing this temporary file to disk, The exit code of findstr can be used to determine if there is a match.  (0 == match, 1 == no match, 2 == syntax error)&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;:resolve_java_vendor
&lt;span class=&quot;code-quote&quot;&gt;&quot;%JAVA%&quot;&lt;/span&gt; -version 2&amp;gt;&amp;amp;1 | findstr /i &lt;span class=&quot;code-quote&quot;&gt;&quot;IBM J9&quot;&lt;/span&gt; &amp;gt; nul
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; %ERRORLEVEL% == 1 set &lt;span class=&quot;code-quote&quot;&gt;&quot;JAVA_VENDOR=Oracle&quot;&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; set &lt;span class=&quot;code-quote&quot;&gt;&quot;JAVA_VENDOR=IBM J9&quot;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;By not writing this temp file, you can reduce the permissions solr needs.  As a work around until this is fixed, you can start solr in a directory that has the required permissions, &lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows&lt;/p&gt;</environment>
        <key id="13020559">SOLR-9760</key>
            <summary>solr.cmd on Windows requires modify permissions in the current directory</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mkhl">Mikhail Khludnev</assignee>
                                    <reporter username="afscrome">Alex Crome</reporter>
                        <labels>
                    </labels>
                <created>Mon, 14 Nov 2016 18:24:55 +0000</created>
                <updated>Sat, 8 Jun 2019 15:28:49 +0000</updated>
                            <resolved>Wed, 21 Dec 2016 12:01:14 +0000</resolved>
                                    <version>6.3</version>
                                    <fixVersion>6.4</fixVersion>
                    <fixVersion>7.0</fixVersion>
                                    <component>Server</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="15664798" author="githubbot" created="Mon, 14 Nov 2016 19:37:53 +0000"  >&lt;p&gt;GitHub user afscrome opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/lucene-solr/pull/113&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/lucene-solr/pull/113&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9760&quot; title=&quot;solr.cmd on Windows requires modify permissions in the current directory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9760&quot;&gt;&lt;del&gt;SOLR-9760&lt;/del&gt;&lt;/a&gt; Avoid temporary files to determine java version&lt;/p&gt;

&lt;p&gt;    Avoid creating a temporary file so that solr does not require permissions in the current working directory.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/afscrome/lucene-solr&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/afscrome/lucene-solr&lt;/a&gt; patch-1&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/lucene-solr/pull/113.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/lucene-solr/pull/113.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #113&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 5330ed23cfbb78650537a23d455ae92648b203dd&lt;br/&gt;
Author: Alex Crome &amp;lt;afscrome@users.noreply.github.com&amp;gt;&lt;br/&gt;
Date:   2016-11-14T19:37:26Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9760&quot; title=&quot;solr.cmd on Windows requires modify permissions in the current directory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9760&quot;&gt;&lt;del&gt;SOLR-9760&lt;/del&gt;&lt;/a&gt; Avoid temporary files to determine java version&lt;/p&gt;

&lt;p&gt;    Avoid creating a temporary file so that solr does not require permissions in the current working directory.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15716017" author="afscrome" created="Fri, 2 Dec 2016 19:28:28 +0000"  >&lt;p&gt;This same fix also fixes a problem with running solr in Azure Websites - &lt;a href=&quot;https://stackoverflow.com/questions/40794626/unable-to-run-solr-on-azure-web-apps&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://stackoverflow.com/questions/40794626/unable-to-run-solr-on-azure-web-apps&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15765310" author="mkhludnev" created="Tue, 20 Dec 2016 21:38:18 +0000"  >&lt;p&gt;&lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12844136/12844136_SOLR-9760.patch&quot; title=&quot;SOLR-9760.patch attached to SOLR-9760&quot;&gt;SOLR-9760.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; checked on both jvms. It works at least. &lt;/p&gt;</comment>
                            <comment id="15765319" author="jira-bot" created="Tue, 20 Dec 2016 21:42:17 +0000"  >&lt;p&gt;Commit febe0019a1e5ad2a0d38b8cf000bcf6f3abfa760 in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mkhludnev&quot; class=&quot;user-hover&quot; rel=&quot;mkhludnev&quot;&gt;mkhludnev&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=febe001&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=febe001&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9760&quot; title=&quot;solr.cmd on Windows requires modify permissions in the current directory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9760&quot;&gt;&lt;del&gt;SOLR-9760&lt;/del&gt;&lt;/a&gt;: solr.cmd doesn&apos;t need write permission in current directory&lt;/p&gt;</comment>
                            <comment id="15765326" author="jira-bot" created="Tue, 20 Dec 2016 21:44:03 +0000"  >&lt;p&gt;Commit b45293313be52127841dc01e84bcd66909d305aa in lucene-solr&apos;s branch refs/heads/branch_6x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mkhludnev&quot; class=&quot;user-hover&quot; rel=&quot;mkhludnev&quot;&gt;mkhludnev&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=b452933&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=b452933&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9760&quot; title=&quot;solr.cmd on Windows requires modify permissions in the current directory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9760&quot;&gt;&lt;del&gt;SOLR-9760&lt;/del&gt;&lt;/a&gt;: solr.cmd doesn&apos;t need write permission in current directory&lt;/p&gt;</comment>
                            <comment id="15766877" author="mkhludnev" created="Wed, 21 Dec 2016 12:00:44 +0000"  >&lt;p&gt;Feel free to check nightly build:&lt;br/&gt;
&lt;a href=&quot;https://builds.apache.org/job/Lucene-Artifacts-6.x/lastSuccessfulBuild/artifact/lucene/dist/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Lucene-Artifacts-6.x/lastSuccessfulBuild/artifact/lucene/dist/&lt;/a&gt;&lt;/p&gt;
</comment>
                            <comment id="16187196" author="githubbot" created="Sat, 30 Sep 2017 19:41:16 +0000"  >&lt;p&gt;Github user afscrome closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/lucene-solr/pull/113&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/lucene-solr/pull/113&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12844136" name="SOLR-9760.patch" size="1443" author="mkhl" created="Tue, 20 Dec 2016 21:38:18 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 7 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i36at3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>