<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:40:48 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-13815] Live split can lose data</title>
                <link>https://issues.apache.org/jira/browse/SOLR-13815</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;This issue is to investigate potential data loss during a &quot;live&quot; split (i.e. split happens while updates are flowing)&lt;/p&gt;

&lt;p&gt;This was discovered during the shared storage work which was based on a non-release branch_8x sometime before 8.3, hence the first steps are to try and reproduce on the master branch without any shared storage changes.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13260316">SOLR-13815</key>
            <summary>Live split can lose data</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="yseeley@gmail.com">Yonik Seeley</assignee>
                                    <reporter username="yseeley@gmail.com">Yonik Seeley</reporter>
                        <labels>
                    </labels>
                <created>Thu, 3 Oct 2019 14:25:46 +0000</created>
                <updated>Tue, 21 Jan 2020 16:58:24 +0000</updated>
                            <resolved>Sun, 13 Oct 2019 21:13:53 +0000</resolved>
                                                    <fixVersion>8.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="2400">40m</timespent>
                                <comments>
                            <comment id="16943695" author="yseeley@gmail.com" created="Thu, 3 Oct 2019 16:05:08 +0000"  >&lt;p&gt;OK, I&apos;ve confirmed that this test sometimes fails on master (normally a single doc missing.)&lt;br/&gt;
The test itself is pretty simple, so this may be a real bug that is relatively easy to trigger.  I didn&apos;t see any exceptions in the failing test run either (before the failed assertion)&lt;br/&gt;
Next step is to enhance the test to figure out what documents are missing to aid in debugging.&lt;/p&gt;</comment>
                            <comment id="16944569" author="yseeley@gmail.com" created="Fri, 4 Oct 2019 14:53:34 +0000"  >&lt;p&gt;OK, I updated the PR with code to show what document is missing.&lt;br/&gt;
The current test fails about 5% of the time (on my old linux box at least.)&lt;br/&gt;
I uploaded an example failing run:  &lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12982242/fail.191004_093307&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12982242/fail.191004_093307&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The missing documents always seems to be right near the end.  For example in this run:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  2&amp;gt; 14727 ERROR (TEST-SplitShardTest.testLiveSplit-seed#[871F69E54EBB37FF]) [     ] o.a.s.c.SplitShardTest MISSING DOCUMENT doc_68
  &amp;gt; Throwable #1: java.lang.AssertionError: expected:&amp;lt;71&amp;gt; but was:&amp;lt;70&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;So 71 documents were expected, only 70 were found, and it was doc #68 (numbered from 0) that was missing.&lt;/p&gt;</comment>
                            <comment id="16946917" author="yseeley@gmail.com" created="Tue, 8 Oct 2019 14:02:36 +0000"  >&lt;p&gt;I dug into &lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12982490/fail.191004_053129&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12982490/fail.191004_053129&lt;/a&gt; a bit.&lt;br/&gt;
Here are some commented log lines from it:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
# doc_38 finishes on subshard leader (was forwarded by leader)
# TODO: what is the state of the leader at &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; point?
  2&amp;gt; 13961 INFO  (qtp577294902-45) [n:127.0.0.1:39195_solr c:livesplit1 s:shard1_1 r:core_node6 x:livesplit1_shard1_1_replica_n4 ] o.a.s.u.p.LogUpdateProcessorFactory [livesplit1_shard1_1_replica_n4]  webapp=/solr path=/update params={update.distrib=FROMLEADER&amp;amp;distrib.from.parent=shard1&amp;amp;distrib.from=http:&lt;span class=&quot;code-comment&quot;&gt;//127.0.0.1:39195/solr/livesplit1_shard1_replica_n1/&amp;amp;wt=javabin&amp;amp;version=2}{add=[doc_38 (1646454616073699328)]} 0 1
&lt;/span&gt;# doc_38 finishes on leader
  2&amp;gt; 13963 INFO  (qtp577294902-118) [n:127.0.0.1:39195_solr c:livesplit1 s:shard1 r:core_node2 x:livesplit1_shard1_replica_n1 ] o.a.s.u.p.LogUpdateProcessorFactory [livesplit1_shard1_replica_n1]  webapp=/solr path=/update params={_stateVer_=livesplit1:4&amp;amp;wt=javabin&amp;amp;version=2}{add=[doc_38 (1646454616073699328)]} 0 11

# The split is finished and the shards change their states
  2&amp;gt; 14113 INFO  (OverseerStateUpdate-72062023354613765-127.0.0.1:39195_solr-n_0000000000) [n:127.0.0.1:39195_solr     ] o.a.s.c.o.SliceMutator Update shard state shard1 to inactive
  2&amp;gt; 14113 INFO  (OverseerStateUpdate-72062023354613765-127.0.0.1:39195_solr-n_0000000000) [n:127.0.0.1:39195_solr     ] o.a.s.c.o.SliceMutator Update shard state shard1_1 to active
  2&amp;gt; 14113 INFO  (OverseerStateUpdate-72062023354613765-127.0.0.1:39195_solr-n_0000000000) [n:127.0.0.1:39195_solr     ] o.a.s.c.o.SliceMutator Update shard state shard1_0 to active

# doc_39 finishes on leader (was never forwarded to sub-shard leader!)
  2&amp;gt; 14219 INFO  (qtp577294902-48) [n:127.0.0.1:39195_solr c:livesplit1 s:shard1 r:core_node2 x:livesplit1_shard1_replica_n1 ] o.a.s.u.p.LogUpdateProcessorFactory [livesplit1_shard1_replica_n1]  webapp=/solr path=/update params={_stateVer_=livesplit1:4&amp;amp;wt=javabin&amp;amp;version=2}{add=[doc_39 (1646454616338989056)]} 0 14
  
# doc_40 finishes on sub-shardleader (was forwarded by leader)
  2&amp;gt; 14291 INFO  (qtp577294902-47) [n:127.0.0.1:39195_solr c:livesplit1 s:shard1_1 r:core_node6 x:livesplit1_shard1_1_replica_n4 ] o.a.s.u.p.LogUpdateProcessorFactory [livesplit1_shard1_1_replica_n4]  webapp=/solr path=/update params={update.distrib=TOLEADER&amp;amp;distrib.from=http:&lt;span class=&quot;code-comment&quot;&gt;//127.0.0.1:39195/solr/livesplit1_shard1_replica_n1/&amp;amp;wt=javabin&amp;amp;version=2}{add=[doc_40 (1646454616426020864)]} 0 3
&lt;/span&gt;# doc_40 finishes on leader
  2&amp;gt; 14293 INFO  (qtp577294902-49) [n:127.0.0.1:39195_solr c:livesplit1 s:shard1 r:core_node2 x:livesplit1_shard1_replica_n1 ] o.a.s.u.p.LogUpdateProcessorFactory [livesplit1_shard1_replica_n1]  webapp=/solr path=/update params={_stateVer_=livesplit1:4&amp;amp;wt=javabin&amp;amp;version=2}{add=[doc_40]} 0 16
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;doc_39 is the missing doc in this case.  Notice that the document indexed both before &lt;b&gt;and&lt;/b&gt; after it both go to the original shard leader and are forwarded to the sub-shard leader, whereas doc_39 is not forwarded (or at least is not logged).  My guess at this point is that there is some sort of race condition around changing the states of the shards and forwarding updates.  We&apos;ll probably need higher levels of logging (or more instrumentation) to confirm what&apos;s going on though.&lt;/p&gt;</comment>
                            <comment id="16947902" author="yseeley@gmail.com" created="Wed, 9 Oct 2019 18:02:38 +0000"  >&lt;p&gt;Actually, doc_38 and doc_40 don&apos;t look the same.&lt;/p&gt;

&lt;p&gt;When indexing on the new subShard for doc_38, we see&#160;update.distrib=FROMLEADER&lt;br/&gt;
For doc_40, we see update.distrib=TOLEADER, so for doc_40, it was forwarded to the new leader.&lt;/p&gt;

&lt;p&gt;If we look at DistributedZkUpdateProcessor, it looks like a slice is only considered a sub-slice if it is in the CONSTRUCTION or Slice.State.RECOVERY state:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  &lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; List&amp;lt;SolrCmdDistributor.Node&amp;gt; getSubShardLeaders(DocCollection coll, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; shardId, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; docId, SolrInputDocument doc) {
    Collection&amp;lt;Slice&amp;gt; allSlices = coll.getSlices();
    List&amp;lt;SolrCmdDistributor.Node&amp;gt; nodes = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
    &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (Slice aslice : allSlices) {
      &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Slice.State state = aslice.getState();
      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (state == Slice.State.CONSTRUCTION || state == Slice.State.RECOVERY)  {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This must introduce the race condition, where the state of the sub-slice was just changed to active (and hence it won&apos;t be returned by getSubShardLeaders), but the code to check/forward to the leader has already completed.&lt;/p&gt;

&lt;p&gt;I&apos;m not sure what the implications are of removing the state checks.  We either need to do that, or somehow close the hole that causes the race condition. &lt;/p&gt;</comment>
                            <comment id="16947933" author="yseeley@gmail.com" created="Wed, 9 Oct 2019 19:04:00 +0000"  >&lt;p&gt;OK, I&apos;ve verified what the race is (or rather what this test case hits).&lt;/p&gt;

&lt;p&gt;At the start of the distributed add (DistributedZkUpdateProcessor.setupRequest) the shard states are active/construction/construction (for parent-shard/sub-shard1/sub-shard2) and this parent shard receiving the request correctly thinks it is the leader.  Then later on for the same update in doDistribAdd(), the cluster state is re-retrieved and the shard states are now inactive/active/active.  getSubShardLeaders() thus returns null because it is only looking for shards with states of CONSTRUCTION or RECOVERY.&lt;/p&gt;

&lt;p&gt;We could retrieve the cluster state once per request, and that would probably be a huge help.  Still... I don&apos;t think zookeeper can update multiple znodes at the same time, so we might still have a very small window where we see something like inactive/construction/construction.  I&apos;m not sure what the behavior of the current code would be in that case.&lt;/p&gt;</comment>
                            <comment id="16949560" author="yseeley@gmail.com" created="Fri, 11 Oct 2019 15:33:54 +0000"  >&lt;p&gt;I&apos;ve updated the PR with the fix, which eliminates the race condition uncovered by the test.  It grabs the clusterState at the start of processAdd and uses that same cluster state for both determining who is the leader and the further on what are the subShards.&lt;/p&gt;

&lt;p&gt;I looped the test over the last 24 hours and it has passed 100%&lt;/p&gt;</comment>
                            <comment id="16949719" author="jira-bot" created="Fri, 11 Oct 2019 19:07:18 +0000"  >&lt;p&gt;Commit a057b0d159f669d28565f48c3ee2bee76ab3d821 in lucene-solr&apos;s branch refs/heads/master from Yonik Seeley&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=a057b0d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=a057b0d&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13815&quot; title=&quot;Live split can lose data&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13815&quot;&gt;&lt;del&gt;SOLR-13815&lt;/del&gt;&lt;/a&gt;: fix live split data loss due to cluster state change between checking current shard state and getting list of subShards (#920)&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13815&quot; title=&quot;Live split can lose data&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13815&quot;&gt;&lt;del&gt;SOLR-13815&lt;/del&gt;&lt;/a&gt;: add simple live split test to help debugging possible issue&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13815&quot; title=&quot;Live split can lose data&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13815&quot;&gt;&lt;del&gt;SOLR-13815&lt;/del&gt;&lt;/a&gt;: fix live split data loss due to cluster state change berween checking current shard state and getting list of subShards&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="16949720" author="jira-bot" created="Fri, 11 Oct 2019 19:07:20 +0000"  >&lt;p&gt;Commit a057b0d159f669d28565f48c3ee2bee76ab3d821 in lucene-solr&apos;s branch refs/heads/master from Yonik Seeley&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=a057b0d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=a057b0d&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13815&quot; title=&quot;Live split can lose data&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13815&quot;&gt;&lt;del&gt;SOLR-13815&lt;/del&gt;&lt;/a&gt;: fix live split data loss due to cluster state change between checking current shard state and getting list of subShards (#920)&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13815&quot; title=&quot;Live split can lose data&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13815&quot;&gt;&lt;del&gt;SOLR-13815&lt;/del&gt;&lt;/a&gt;: add simple live split test to help debugging possible issue&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13815&quot; title=&quot;Live split can lose data&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13815&quot;&gt;&lt;del&gt;SOLR-13815&lt;/del&gt;&lt;/a&gt;: fix live split data loss due to cluster state change berween checking current shard state and getting list of subShards&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="16949721" author="jira-bot" created="Fri, 11 Oct 2019 19:07:22 +0000"  >&lt;p&gt;Commit a057b0d159f669d28565f48c3ee2bee76ab3d821 in lucene-solr&apos;s branch refs/heads/master from Yonik Seeley&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=a057b0d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=a057b0d&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13815&quot; title=&quot;Live split can lose data&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13815&quot;&gt;&lt;del&gt;SOLR-13815&lt;/del&gt;&lt;/a&gt;: fix live split data loss due to cluster state change between checking current shard state and getting list of subShards (#920)&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13815&quot; title=&quot;Live split can lose data&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13815&quot;&gt;&lt;del&gt;SOLR-13815&lt;/del&gt;&lt;/a&gt;: add simple live split test to help debugging possible issue&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13815&quot; title=&quot;Live split can lose data&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13815&quot;&gt;&lt;del&gt;SOLR-13815&lt;/del&gt;&lt;/a&gt;: fix live split data loss due to cluster state change berween checking current shard state and getting list of subShards&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="16949752" author="jira-bot" created="Fri, 11 Oct 2019 19:30:53 +0000"  >&lt;p&gt;Commit cc62b9fac2302b8db627490efb88482ff6bbde54 in lucene-solr&apos;s branch refs/heads/branch_8x from Yonik Seeley&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=cc62b9f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=cc62b9f&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13815&quot; title=&quot;Live split can lose data&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13815&quot;&gt;&lt;del&gt;SOLR-13815&lt;/del&gt;&lt;/a&gt;: fix live split data loss due to cluster state change between checking current shard state and getting list of subShards (#920)&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13815&quot; title=&quot;Live split can lose data&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13815&quot;&gt;&lt;del&gt;SOLR-13815&lt;/del&gt;&lt;/a&gt;: add simple live split test to help debugging possible issue&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13815&quot; title=&quot;Live split can lose data&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13815&quot;&gt;&lt;del&gt;SOLR-13815&lt;/del&gt;&lt;/a&gt;: fix live split data loss due to cluster state change berween checking current shard state and getting list of subShards&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="16949753" author="jira-bot" created="Fri, 11 Oct 2019 19:30:55 +0000"  >&lt;p&gt;Commit cc62b9fac2302b8db627490efb88482ff6bbde54 in lucene-solr&apos;s branch refs/heads/branch_8x from Yonik Seeley&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=cc62b9f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=cc62b9f&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13815&quot; title=&quot;Live split can lose data&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13815&quot;&gt;&lt;del&gt;SOLR-13815&lt;/del&gt;&lt;/a&gt;: fix live split data loss due to cluster state change between checking current shard state and getting list of subShards (#920)&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13815&quot; title=&quot;Live split can lose data&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13815&quot;&gt;&lt;del&gt;SOLR-13815&lt;/del&gt;&lt;/a&gt;: add simple live split test to help debugging possible issue&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13815&quot; title=&quot;Live split can lose data&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13815&quot;&gt;&lt;del&gt;SOLR-13815&lt;/del&gt;&lt;/a&gt;: fix live split data loss due to cluster state change berween checking current shard state and getting list of subShards&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="16949754" author="jira-bot" created="Fri, 11 Oct 2019 19:30:57 +0000"  >&lt;p&gt;Commit cc62b9fac2302b8db627490efb88482ff6bbde54 in lucene-solr&apos;s branch refs/heads/branch_8x from Yonik Seeley&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=cc62b9f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=cc62b9f&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13815&quot; title=&quot;Live split can lose data&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13815&quot;&gt;&lt;del&gt;SOLR-13815&lt;/del&gt;&lt;/a&gt;: fix live split data loss due to cluster state change between checking current shard state and getting list of subShards (#920)&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13815&quot; title=&quot;Live split can lose data&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13815&quot;&gt;&lt;del&gt;SOLR-13815&lt;/del&gt;&lt;/a&gt;: add simple live split test to help debugging possible issue&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13815&quot; title=&quot;Live split can lose data&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13815&quot;&gt;&lt;del&gt;SOLR-13815&lt;/del&gt;&lt;/a&gt;: fix live split data loss due to cluster state change berween checking current shard state and getting list of subShards&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="16949755" author="jira-bot" created="Fri, 11 Oct 2019 19:31:09 +0000"  >&lt;p&gt;Commit 503fe7e9a9d5e80890fa7fe63c4fd56a161d0619 in lucene-solr&apos;s branch refs/heads/branch_8_3 from Yonik Seeley&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=503fe7e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=503fe7e&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13815&quot; title=&quot;Live split can lose data&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13815&quot;&gt;&lt;del&gt;SOLR-13815&lt;/del&gt;&lt;/a&gt;: fix live split data loss due to cluster state change between checking current shard state and getting list of subShards (#920)&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13815&quot; title=&quot;Live split can lose data&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13815&quot;&gt;&lt;del&gt;SOLR-13815&lt;/del&gt;&lt;/a&gt;: add simple live split test to help debugging possible issue&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13815&quot; title=&quot;Live split can lose data&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13815&quot;&gt;&lt;del&gt;SOLR-13815&lt;/del&gt;&lt;/a&gt;: fix live split data loss due to cluster state change berween checking current shard state and getting list of subShards&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="16949756" author="jira-bot" created="Fri, 11 Oct 2019 19:31:11 +0000"  >&lt;p&gt;Commit 503fe7e9a9d5e80890fa7fe63c4fd56a161d0619 in lucene-solr&apos;s branch refs/heads/branch_8_3 from Yonik Seeley&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=503fe7e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=503fe7e&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13815&quot; title=&quot;Live split can lose data&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13815&quot;&gt;&lt;del&gt;SOLR-13815&lt;/del&gt;&lt;/a&gt;: fix live split data loss due to cluster state change between checking current shard state and getting list of subShards (#920)&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13815&quot; title=&quot;Live split can lose data&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13815&quot;&gt;&lt;del&gt;SOLR-13815&lt;/del&gt;&lt;/a&gt;: add simple live split test to help debugging possible issue&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13815&quot; title=&quot;Live split can lose data&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13815&quot;&gt;&lt;del&gt;SOLR-13815&lt;/del&gt;&lt;/a&gt;: fix live split data loss due to cluster state change berween checking current shard state and getting list of subShards&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="16949757" author="jira-bot" created="Fri, 11 Oct 2019 19:31:14 +0000"  >&lt;p&gt;Commit 503fe7e9a9d5e80890fa7fe63c4fd56a161d0619 in lucene-solr&apos;s branch refs/heads/branch_8_3 from Yonik Seeley&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=503fe7e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=503fe7e&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13815&quot; title=&quot;Live split can lose data&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13815&quot;&gt;&lt;del&gt;SOLR-13815&lt;/del&gt;&lt;/a&gt;: fix live split data loss due to cluster state change between checking current shard state and getting list of subShards (#920)&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13815&quot; title=&quot;Live split can lose data&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13815&quot;&gt;&lt;del&gt;SOLR-13815&lt;/del&gt;&lt;/a&gt;: add simple live split test to help debugging possible issue&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13815&quot; title=&quot;Live split can lose data&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13815&quot;&gt;&lt;del&gt;SOLR-13815&lt;/del&gt;&lt;/a&gt;: fix live split data loss due to cluster state change berween checking current shard state and getting list of subShards&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="16949901" author="shalinmangar" created="Sat, 12 Oct 2019 04:32:13 +0000"  >&lt;p&gt;Probably too late for this comment but...&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Still... I don&apos;t think zookeeper can update multiple znodes at the same time, so we might still have a very small window where we see something like inactive/construction/construction. I&apos;m not sure what the behavior of the current code would be in that case.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Actually inactive/construction/construction is impossible because the shard state is coming from the clusterstate which is a single znode updated atomically. So the states will either be active/construction/construction or active/recovery/recovery or inactive/active/active. No other state is possible.&lt;/p&gt;</comment>
                            <comment id="16949902" author="shalinmangar" created="Sat, 12 Oct 2019 04:32:53 +0000"  >&lt;p&gt;Thanks for investigating and fixing the problem!&lt;/p&gt;</comment>
                            <comment id="16950132" author="yseeley@gmail.com" created="Sat, 12 Oct 2019 21:09:41 +0000"  >&lt;blockquote&gt;&lt;p&gt;the shard state is coming from the clusterstate which is a single znode updated atomically.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Oops, of course!  I was down in the JSON so much I lost sight of the fact that it&apos;s a single znode.&lt;/p&gt;</comment>
                            <comment id="16950475" author="jira-bot" created="Sun, 13 Oct 2019 21:07:20 +0000"  >&lt;p&gt;Commit 1d43bda2840668e507b808b3f12fc86f0a8f3662 in lucene-solr&apos;s branch refs/heads/master from Yonik Seeley&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=1d43bda&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=1d43bda&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13815&quot; title=&quot;Live split can lose data&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13815&quot;&gt;&lt;del&gt;SOLR-13815&lt;/del&gt;&lt;/a&gt;: enhance live split test to fail more often&lt;/p&gt;</comment>
                            <comment id="16950477" author="jira-bot" created="Sun, 13 Oct 2019 21:10:40 +0000"  >&lt;p&gt;Commit 845c3e9775f0352c56e284ed7017848ee75ed070 in lucene-solr&apos;s branch refs/heads/branch_8x from Yonik Seeley&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=845c3e9&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=845c3e9&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13815&quot; title=&quot;Live split can lose data&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13815&quot;&gt;&lt;del&gt;SOLR-13815&lt;/del&gt;&lt;/a&gt;: enhance live split test to fail more often&lt;/p&gt;</comment>
                            <comment id="16950478" author="jira-bot" created="Sun, 13 Oct 2019 21:11:03 +0000"  >&lt;p&gt;Commit 10d7df77ca120c22181d6315be94db8185b5e8cc in lucene-solr&apos;s branch refs/heads/branch_8_3 from Yonik Seeley&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=10d7df7&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=10d7df7&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13815&quot; title=&quot;Live split can lose data&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13815&quot;&gt;&lt;del&gt;SOLR-13815&lt;/del&gt;&lt;/a&gt;: enhance live split test to fail more often&lt;/p&gt;</comment>
                            <comment id="16950629" author="jira-bot" created="Mon, 14 Oct 2019 00:04:33 +0000"  >&lt;p&gt;Commit a057b0d159f669d28565f48c3ee2bee76ab3d821 in lucene-solr&apos;s branch refs/heads/jira/&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13731&quot; title=&quot;javabin  must support a 1:1 mapping of the JSON update format&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13731&quot;&gt;&lt;del&gt;SOLR-13731&lt;/del&gt;&lt;/a&gt; from Yonik Seeley&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=a057b0d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=a057b0d&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13815&quot; title=&quot;Live split can lose data&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13815&quot;&gt;&lt;del&gt;SOLR-13815&lt;/del&gt;&lt;/a&gt;: fix live split data loss due to cluster state change between checking current shard state and getting list of subShards (#920)&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13815&quot; title=&quot;Live split can lose data&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13815&quot;&gt;&lt;del&gt;SOLR-13815&lt;/del&gt;&lt;/a&gt;: add simple live split test to help debugging possible issue&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13815&quot; title=&quot;Live split can lose data&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13815&quot;&gt;&lt;del&gt;SOLR-13815&lt;/del&gt;&lt;/a&gt;: fix live split data loss due to cluster state change berween checking current shard state and getting list of subShards&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="16950630" author="jira-bot" created="Mon, 14 Oct 2019 00:04:36 +0000"  >&lt;p&gt;Commit a057b0d159f669d28565f48c3ee2bee76ab3d821 in lucene-solr&apos;s branch refs/heads/jira/&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13731&quot; title=&quot;javabin  must support a 1:1 mapping of the JSON update format&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13731&quot;&gt;&lt;del&gt;SOLR-13731&lt;/del&gt;&lt;/a&gt; from Yonik Seeley&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=a057b0d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=a057b0d&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13815&quot; title=&quot;Live split can lose data&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13815&quot;&gt;&lt;del&gt;SOLR-13815&lt;/del&gt;&lt;/a&gt;: fix live split data loss due to cluster state change between checking current shard state and getting list of subShards (#920)&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13815&quot; title=&quot;Live split can lose data&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13815&quot;&gt;&lt;del&gt;SOLR-13815&lt;/del&gt;&lt;/a&gt;: add simple live split test to help debugging possible issue&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13815&quot; title=&quot;Live split can lose data&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13815&quot;&gt;&lt;del&gt;SOLR-13815&lt;/del&gt;&lt;/a&gt;: fix live split data loss due to cluster state change berween checking current shard state and getting list of subShards&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="16950631" author="jira-bot" created="Mon, 14 Oct 2019 00:04:38 +0000"  >&lt;p&gt;Commit a057b0d159f669d28565f48c3ee2bee76ab3d821 in lucene-solr&apos;s branch refs/heads/jira/&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13731&quot; title=&quot;javabin  must support a 1:1 mapping of the JSON update format&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13731&quot;&gt;&lt;del&gt;SOLR-13731&lt;/del&gt;&lt;/a&gt; from Yonik Seeley&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=a057b0d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=a057b0d&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13815&quot; title=&quot;Live split can lose data&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13815&quot;&gt;&lt;del&gt;SOLR-13815&lt;/del&gt;&lt;/a&gt;: fix live split data loss due to cluster state change between checking current shard state and getting list of subShards (#920)&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13815&quot; title=&quot;Live split can lose data&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13815&quot;&gt;&lt;del&gt;SOLR-13815&lt;/del&gt;&lt;/a&gt;: add simple live split test to help debugging possible issue&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13815&quot; title=&quot;Live split can lose data&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13815&quot;&gt;&lt;del&gt;SOLR-13815&lt;/del&gt;&lt;/a&gt;: fix live split data loss due to cluster state change berween checking current shard state and getting list of subShards&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="16950634" author="jira-bot" created="Mon, 14 Oct 2019 00:04:47 +0000"  >&lt;p&gt;Commit 1d43bda2840668e507b808b3f12fc86f0a8f3662 in lucene-solr&apos;s branch refs/heads/jira/&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13731&quot; title=&quot;javabin  must support a 1:1 mapping of the JSON update format&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13731&quot;&gt;&lt;del&gt;SOLR-13731&lt;/del&gt;&lt;/a&gt; from Yonik Seeley&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=1d43bda&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=lucene-solr.git;h=1d43bda&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-13815&quot; title=&quot;Live split can lose data&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-13815&quot;&gt;&lt;del&gt;SOLR-13815&lt;/del&gt;&lt;/a&gt;: enhance live split test to fail more often&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13260157">SOLR-13813</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12982490" name="fail.191004_053129" size="385755" author="yseeley@gmail.com" created="Tue, 8 Oct 2019 13:56:47 +0000"/>
                            <attachment id="12982242" name="fail.191004_093307" size="588286" author="yseeley@gmail.com" created="Fri, 4 Oct 2019 14:45:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 5 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z079kg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>