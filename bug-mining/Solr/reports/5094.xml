<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 05:05:53 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-16415] ZK DistributedMap should reject slash in IDs</title>
                <link>https://issues.apache.org/jira/browse/SOLR-16415</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;When calling&#160; the DELETESTATUS API to clear all the stored statues as below&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://localhost:8983/solr/admin/collections?action=DELETESTATUS&amp;amp;flush=true&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8983/solr/admin/collections?action=DELETESTATUS&amp;amp;flush=true&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;throws exception&lt;/p&gt;


&lt;p&gt;KeeperErrorCode = Directory not empty for /overseer/collection-map-completed/mn-.auto_add_replicas&lt;/p&gt;

&lt;p&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.apache.solr.client.solrj.impl.HttpSolrClient.executeMethod(HttpSolrClient.java:681) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;solr-solrj-8.11.1.jar!/:8.11.1 0b002b11819df70783e83ef36b42ed1223c14b50 - janhoy - 2021-12-14 13:50:57&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.apache.solr.client.solrj.impl.HttpSolrClient.request(HttpSolrClient.java:266) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;solr-solrj-8.11.1.jar!/:8.11.1 0b002b11819df70783e83ef36b42ed1223c14b50 - janhoy - 2021-12-14 13:50:57&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.apache.solr.client.solrj.impl.HttpSolrClient.request(HttpSolrClient.java:248) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;solr-solrj-8.11.1.jar!/:8.11.1 0b002b11819df70783e83ef36b42ed1223c14b50 - janhoy - 2021-12-14 13:50:57&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.apache.solr.client.solrj.impl.LBSolrClient.doRequest(LBSolrClient.java:369) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;solr-solrj-8.11.1.jar!/:8.11.1 0b002b11819df70783e83ef36b42ed1223c14b50 - janhoy - 2021-12-14 13:50:57&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.apache.solr.client.solrj.impl.LBSolrClient.request(LBSolrClient.java:297) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;solr-solrj-8.11.1.jar!/:8.11.1 0b002b11819df70783e83ef36b42ed1223c14b50 - janhoy - 2021-12-14 13:50:57&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.apache.solr.client.solrj.impl.BaseCloudSolrClient.sendRequest(BaseCloudSolrClient.java:1171) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;solr-solrj-8.11.1.jar!/:8.11.1 0b002b11819df70783e83ef36b42ed1223c14b50 - janhoy - 2021-12-14 13:50:57&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.apache.solr.client.solrj.impl.BaseCloudSolrClient.requestWithRetryOnStaleState(BaseCloudSolrClient.java:934) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;solr-solrj-8.11.1.jar!/:8.11.1 0b002b11819df70783e83ef36b42ed1223c14b50 - janhoy - 2021-12-14 13:50:57&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.apache.solr.client.solrj.impl.BaseCloudSolrClient.request(BaseCloudSolrClient.java:866) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;solr-solrj-8.11.1.jar!/:8.11.1 0b002b11819df70783e83ef36b42ed1223c14b50 - janhoy - 2021-12-14 13:50:57&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.apache.solr.client.solrj.SolrRequest.process(SolrRequest.java:214) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;solr-solrj-8.11.1.jar!/:8.11.1 0b002b11819df70783e83ef36b42ed1223c14b50 - janhoy - 2021-12-14 13:50:57&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.apache.solr.client.solrj.SolrRequest.process(SolrRequest.java:231) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;solr-solrj-8.11.1.jar!/:8.11.1 0b002b11819df70783e83ef36b42ed1223c14b50 - janhoy - 2021-12-14 13:50:57&amp;#93;&lt;/span&gt;&lt;/p&gt;


&lt;p&gt;After deleting the znode manually /overseer/collection-map-completed/mn-.auto_add_replicas , the api worked.&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13482121">SOLR-16415</key>
            <summary>ZK DistributedMap should reject slash in IDs</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dsmiley">David Smiley</assignee>
                                    <reporter username="knraji">Rajeswari Natarajan</reporter>
                        <labels>
                    </labels>
                <created>Mon, 19 Sep 2022 07:33:18 +0000</created>
                <updated>Sun, 15 Oct 2023 19:57:05 +0000</updated>
                            <resolved>Mon, 11 Sep 2023 20:36:26 +0000</resolved>
                                                    <fixVersion>9.4</fixVersion>
                                    <component>SolrCloud</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1800">0.5h</timespent>
                                <comments>
                            <comment id="17606565" author="epugh" created="Mon, 19 Sep 2022 11:57:30 +0000"  >&lt;p&gt;I&apos;d love to review a pull request for the fix!   It would be great to have a unit test demonstrate the problem, and then the fix.&lt;/p&gt;</comment>
                            <comment id="17606751" author="anshumg" created="Mon, 19 Sep 2022 20:17:06 +0000"  >&lt;p&gt;As &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=epugh&quot; class=&quot;user-hover&quot; rel=&quot;epugh&quot;&gt;epugh&lt;/a&gt; suggested, having a test demonstrating the problem would be really helpful but to begin with, can you please add the Solr server logs here? &lt;/p&gt;
</comment>
                            <comment id="17606778" author="JIRAUSER295908" created="Mon, 19 Sep 2022 21:35:01 +0000"  >&lt;p&gt;Below is the server log. Invoking DELETESTATUS API produces it , very straightforward , only it needs to have a znode&#160; &lt;b&gt;/overseer/collection-map-completed/mn-.auto_add_replicas&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;2022-09-19 21:26:39.742 ERROR (qtp1212772528-182) [ &#160; ] o.a.s.h.RequestHandlerBase org.apache.zookeeper.KeeperException$NotEmptyException: KeeperErrorCode = Directory not empty for /overseer/collection-map-completed/mn-.auto_add_replicas =&amp;gt; org.apache.zookeeper.KeeperException$NotEmptyException: KeeperErrorCode = Directory not empty for /overseer/collection-map-completed/mn-.auto_add_replicas&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; at org.apache.zookeeper.KeeperException.create(KeeperException.java:132)&lt;/p&gt;

&lt;p&gt;org.apache.zookeeper.KeeperException$NotEmptyException: KeeperErrorCode = Directory not empty for /overseer/collection-map-completed/mn-.auto_add_replicas&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; at org.apache.zookeeper.KeeperException.create(KeeperException.java:132) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;zookeeper-3.6.2.jar:3.6.2&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; at org.apache.zookeeper.KeeperException.create(KeeperException.java:54) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;zookeeper-3.6.2.jar:3.6.2&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; at org.apache.zookeeper.ZooKeeper.delete(ZooKeeper.java:2001) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;zookeeper-3.6.2.jar:3.6.2&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; at org.apache.solr.common.cloud.SolrZkClient.lambda$delete$1(SolrZkClient.java:256) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;solr-solrj-8.11.1.jar:8.11.1 0b002b11819df70783e83ef36b42ed1223c14b50 - janhoy - 2021-12-14 13:50:57&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; at org.apache.solr.common.cloud.ZkCmdExecutor.retryOperation(ZkCmdExecutor.java:79) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;solr-solrj-8.11.1.jar:8.11.1 0b002b11819df70783e83ef36b42ed1223c14b50 - janhoy - 2021-12-14 13:50:57&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; at org.apache.solr.common.cloud.SolrZkClient.delete(SolrZkClient.java:255) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;solr-solrj-8.11.1.jar:8.11.1 0b002b11819df70783e83ef36b42ed1223c14b50 - janhoy - 2021-12-14 13:50:57&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; at org.apache.solr.cloud.DistributedMap.remove(DistributedMap.java:98) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;solr-core-8.11.1.jar:8.11.1 0b002b11819df70783e83ef36b42ed1223c14b50 - janhoy - 2021-12-14 13:50:55&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; at org.apache.solr.handler.admin.CollectionsHandler$CollectionOperation$1.execute(CollectionsHandler.java:938) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;solr-core-8.11.1.jar:8.11.1 0b002b11819df70783e83ef36b42ed1223c14b50 - janhoy - 2021-12-14 13:50:55&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; at org.apache.solr.handler.admin.CollectionsHandler$CollectionOperation.execute(CollectionsHandler.java:1453) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;solr-core-8.11.1.jar:8.11.1 0b002b11819df70783e83ef36b42ed1223c14b50 - janhoy - 2021-12-14 13:50:55&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; at org.apache.solr.handler.admin.CollectionsHandler.invokeAction(CollectionsHandler.java:285) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;solr-core-8.11.1.jar:8.11.1 0b002b11819df70783e83ef36b42ed1223c14b50 - janhoy - 2021-12-14 13:50:55&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; at org.apache.solr.handler.admin.CollectionsHandler.handleRequestBody(CollectionsHandler.java:257) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;solr-core-8.11.1.jar:8.11.1 0b002b11819df70783e83ef36b42ed1223c14b50 - janhoy - 2021-12-14 13:50:55&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; at org.apache.solr.handler.RequestHandlerBase.handleRequest(RequestHandlerBase.java:216) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;solr-core-8.11.1.jar:8.11.1 0b002b11819df70783e83ef36b42ed1223c14b50 - janhoy - 2021-12-14 13:50:55&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; at org.apache.solr.servlet.HttpSolrCall.handleAdmin(HttpSolrCall.java:836) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;solr-core-8.11.1.jar:8.11.1 0b002b11819df70783e83ef36b42ed1223c14b50 - janhoy - 2021-12-14 13:50:55&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; at org.apache.solr.servlet.HttpSolrCall.handleAdminRequest(HttpSolrCall.java:800) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;solr-core-8.11.1.jar:8.11.1 0b002b11819df70783e83ef36b42ed1223c14b50 - janhoy - 2021-12-14 13:50:55&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160;&#160; &#160; &#160; at org.apache.solr.servlet.HttpSolrCall.call(HttpSolrCall.java:545) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;solr-core-8.11.1.jar:8.11.1 0b002b11819df70783e83ef36b42ed1223c14b50 - janhoy - 2021-12-14 13:50:55&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:427) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;solr-core-8.11.1.jar:8.11.1 0b002b11819df70783e83ef36b42ed1223c14b50 - janhoy - 2021-12-14 13:50:55&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:357) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;solr-core-8.11.1.jar:8.11.1 0b002b11819df70783e83ef36b42ed1223c14b50 - janhoy - 2021-12-14 13:50:55&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:201) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;jetty-servlet-9.4.44.v20210927.jar:9.4.44.v20210927&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1601) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;jetty-servlet-9.4.44.v20210927.jar:9.4.44.v20210927&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:548) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;jetty-servlet-9.4.44.v20210927.jar:9.4.44.v20210927&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:600) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;jetty-security-9.4.44.v20210927.jar:9.4.44.v20210927&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:235) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1624) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1434) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:501) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;jetty-servlet-9.4.44.v20210927.jar:9.4.44.v20210927&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1594) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1349) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:191) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160;&#160; &#160; &#160; at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:501) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;jetty-servlet-9.4.44.v20210927.jar:9.4.44.v20210927&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1594) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1349) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:191) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.handler.InetAccessHandler.handle(InetAccessHandler.java:177) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:146) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; at org.eclipse.jetty.rewrite.handler.RewriteHandler.handle(RewriteHandler.java:322) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;jetty-rewrite-9.4.44.v20210927.jar:9.4.44.v20210927&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.handler.gzip.GzipHandler.handle(GzipHandler.java:763) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.Server.handle(Server.java:516) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:400) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:645) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:392) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:277) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;jetty-server-9.4.44.v20210927.jar:9.4.44.v20210927&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;jetty-io-9.4.44.v20210927.jar:9.4.44.v20210927&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;jetty-io-9.4.44.v20210927.jar:9.4.44.v20210927&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; at org.eclipse.jetty.io.ssl.SslConnection$DecryptedEndPoint.onFillable(SslConnection.java:555) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;jetty-io-9.4.44.v20210927.jar:9.4.44.v20210927&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; at org.eclipse.jetty.io.ssl.SslConnection.onFillable(SslConnection.java:410) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;jetty-io-9.4.44.v20210927.jar:9.4.44.v20210927&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; at org.eclipse.jetty.io.ssl.SslConnection$2.succeeded(SslConnection.java:164) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;jetty-io-9.4.44.v20210927.jar:9.4.44.v20210927&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;jetty-io-9.4.44.v20210927.jar:9.4.44.v20210927&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; at org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;jetty-io-9.4.44.v20210927.jar:9.4.44.v20210927&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:338) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;jetty-util-9.4.44.v20210927.jar:9.4.44.v20210927&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:315) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;jetty-util-9.4.44.v20210927.jar:9.4.44.v20210927&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160; at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:173) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;jetty-util-9.4.44.v20210927.jar:9.4.44.v20210927&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17747621" author="dsmiley" created="Wed, 26 Jul 2023 18:21:15 +0000"  >&lt;p&gt;Duplicates 2 existing issues that I am linking now.  I&apos;m tempted to close this issue as a duplicate (as I did in &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-12563&quot; title=&quot;Unable to delete failed/completed async request statuses &quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-12563&quot;&gt;&lt;del&gt;SOLR-12563&lt;/del&gt;&lt;/a&gt;) but there is some discussion/context here.&lt;/p&gt;

&lt;p&gt;FWIW we&apos;ve seen this with Solr 8.6 as well.  Each time I see this issue (locally and in these issues), it&apos;s with AutoScaling framework stuff.  Doesn&apos;t exist in Solr 9.&lt;/p&gt;</comment>
                            <comment id="17750469" author="dsmiley" created="Wed, 2 Aug 2023 20:16:26 +0000"  >&lt;p&gt;The problem is that &quot;asyncId&quot; cannot have forward slashes in it &quot;/&quot; yet there is no enforcement of this.  The Autoscaling framework (doesn&apos;t exist in 9.0 onwards) &lt;a href=&quot;https://github.com/apache/lucene-solr/blob/4352894a1b140f09c7eeb596d05c388595ce668c/solr/core/src/java/org/apache/solr/cloud/autoscaling/ExecutePlanAction.java#L104C24-L104C24&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;created asyncIds with forward slashes in it&lt;/a&gt;.  Credit to &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pmcarthur&quot; class=&quot;user-hover&quot; rel=&quot;pmcarthur&quot;&gt;pmcarthur&lt;/a&gt; for identifying the cause.&lt;/p&gt;

&lt;p&gt;Solr ought to enforce this restriction.  And for safety/thoroughness, it should try to clean it up (e.g. upgraded from 8x cluster).  I believe in an extreme situation, this could deadlock the Overseer as it can no longer put anything in ZK based queues that reach their capacity.  For example maybe asyncId is used a lot in a fire-and-forget manner; are not deleted because it may be impractical for some use-cases to delete their status.  I&apos;ll propose a PR.&lt;/p&gt;</comment>
                            <comment id="17750628" author="aishwaryasoni1991" created="Thu, 3 Aug 2023 08:24:34 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dsmiley&quot; class=&quot;user-hover&quot; rel=&quot;dsmiley&quot;&gt;dsmiley&lt;/a&gt; You are right. Once this situation occurs, the znode size increases so much even with increasing the jute buffer size to 4 MB. Async IDs created by multiple workflows causes the overseer znode to become so large that zookeeper loses its context and the znode becomes like a zombie znode. We cannot do any operations including a simple &lt;b&gt;ls&lt;/b&gt; or &lt;b&gt;get&lt;/b&gt; or even &lt;b&gt;deleteall&lt;/b&gt;.&lt;/p&gt;</comment>
                            <comment id="17752526" author="JIRAUSER295908" created="Wed, 9 Aug 2023 21:53:56 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dsmiley&quot; class=&quot;user-hover&quot; rel=&quot;dsmiley&quot;&gt;dsmiley&lt;/a&gt; , is it possible to create a patch for this issue. Thanks&lt;/p&gt;</comment>
                            <comment id="17752527" author="dsmiley" created="Wed, 9 Aug 2023 22:01:07 +0000"  >&lt;p&gt;There is a PR; peer-review would be helpful. &#160; (PR==patch)&lt;/p&gt;</comment>
                            <comment id="17752529" author="dsmiley" created="Wed, 9 Aug 2023 22:04:12 +0000"  >&lt;p&gt;If you are running Solr 8, then furthermore look at the link I shared pointing to the line of code where a forward slash is used. &#160;Change it to a forward slash.&lt;/p&gt;

&lt;p&gt;&#160;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ichattopadhyaya&quot; class=&quot;user-hover&quot; rel=&quot;ichattopadhyaya&quot;&gt;ichattopadhyaya&lt;/a&gt; as you are considering a new 8.11 release, it could make sense to backport this to 8.11 with the change I mentioned.&lt;/p&gt;</comment>
                            <comment id="17763901" author="jira-bot" created="Mon, 11 Sep 2023 20:02:59 +0000"  >&lt;p&gt;Commit 78b02620807ebada04be58988196d1f46c7c3a24 in solr&apos;s branch refs/heads/main from David Smiley&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=78b02620807&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=78b02620807&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16415&quot; title=&quot;ZK DistributedMap should reject slash in IDs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16415&quot;&gt;&lt;del&gt;SOLR-16415&lt;/del&gt;&lt;/a&gt;: ZK DistributedMap should reject slash in IDs. (#1824)&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;asyncId should not have forward slashes in it&lt;/li&gt;
	&lt;li&gt;SizeLimitedDistributedMap should be resilient to directories (from before)&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17763913" author="jira-bot" created="Mon, 11 Sep 2023 20:31:59 +0000"  >&lt;p&gt;Commit f685f96656e4cb1260b971822028bb19a205352d in solr&apos;s branch refs/heads/branch_9x from David Smiley&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=f685f96656e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=f685f96656e&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-16415&quot; title=&quot;ZK DistributedMap should reject slash in IDs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-16415&quot;&gt;&lt;del&gt;SOLR-16415&lt;/del&gt;&lt;/a&gt;: ZK DistributedMap should reject slash in IDs. (#1824)&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;asyncId should not have forward slashes in it&lt;/li&gt;
	&lt;li&gt;SizeLimitedDistributedMap should be resilient to directories (from before)&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17775454" author="alex.parvulescu" created="Sun, 15 Oct 2023 19:57:05 +0000"  >&lt;p&gt;Closing after the 9.4.0 release&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="13173098">SOLR-12563</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13296536">SOLR-14390</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 4 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z18nqg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>