<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:05:59 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-7682] Schema API - Add New Copy Field Rule doesn&apos;t allow maxChars parameter</title>
                <link>https://issues.apache.org/jira/browse/SOLR-7682</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;As shown in the Schema API documentation&lt;br/&gt;
&lt;a href=&quot;https://cwiki.apache.org/confluence/display/solr/Schema+API#SchemaAPI-AddaNewCopyFieldRule&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://cwiki.apache.org/confluence/display/solr/Schema+API#SchemaAPI-AddaNewCopyFieldRule&lt;/a&gt;&lt;/p&gt;

&lt;p&gt; when adding a new copy field rule, the &lt;em&gt;maxChars&lt;/em&gt; argument can be also specified.&lt;/p&gt;

&lt;p&gt;When trying to execute the request : &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;curl -X POST -H &lt;span class=&quot;code-quote&quot;&gt;&apos;Content-type:application/json&apos;&lt;/span&gt; --data-binary &apos;{
  &lt;span class=&quot;code-quote&quot;&gt;&quot;add-copy-field&quot;&lt;/span&gt;:{
     &lt;span class=&quot;code-quote&quot;&gt;&quot;source&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt;,
     &lt;span class=&quot;code-quote&quot;&gt;&quot;dest&quot;&lt;/span&gt;:[ &lt;span class=&quot;code-quote&quot;&gt;&quot;secondname&quot;&lt;/span&gt;],
     &lt;span class=&quot;code-quote&quot;&gt;&quot;maxChars&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;3000&quot;&lt;/span&gt;}
}&apos; http:&lt;span class=&quot;code-comment&quot;&gt;//localhost:8983/solr/films/schema&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;(after creating a core &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;bin/solr create -c films&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;, and creating two text fields&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;curl http:&lt;span class=&quot;code-comment&quot;&gt;//localhost:8983/solr/films/schema -X POST -H &lt;span class=&quot;code-quote&quot;&gt;&apos;Content-type:application/json&apos;&lt;/span&gt; --data-binary &apos;{
&lt;/span&gt;    &lt;span class=&quot;code-quote&quot;&gt;&quot;add-field&quot;&lt;/span&gt; : {
        &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt;,
        &lt;span class=&quot;code-quote&quot;&gt;&quot;type&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;text_general&quot;&lt;/span&gt;,
        &lt;span class=&quot;code-quote&quot;&gt;&quot;stored&quot;&lt;/span&gt;:&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
    },
   &lt;span class=&quot;code-quote&quot;&gt;&quot;add-field&quot;&lt;/span&gt; : {
        &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;secondname&quot;&lt;/span&gt;,
        &lt;span class=&quot;code-quote&quot;&gt;&quot;type&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;text_general&quot;&lt;/span&gt;,
        &lt;span class=&quot;code-quote&quot;&gt;&quot;stored&quot;&lt;/span&gt;:&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
    }
}&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;the error message shown is &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  &lt;span class=&quot;code-quote&quot;&gt;&quot;responseHeader&quot;&lt;/span&gt;:{
    &lt;span class=&quot;code-quote&quot;&gt;&quot;status&quot;&lt;/span&gt;:0,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;QTime&quot;&lt;/span&gt;:1},
  &lt;span class=&quot;code-quote&quot;&gt;&quot;errors&quot;&lt;/span&gt;:[{
      &lt;span class=&quot;code-quote&quot;&gt;&quot;add-copy-field&quot;&lt;/span&gt;:{
        &lt;span class=&quot;code-quote&quot;&gt;&quot;source&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt;,
        &lt;span class=&quot;code-quote&quot;&gt;&quot;dest&quot;&lt;/span&gt;:[&lt;span class=&quot;code-quote&quot;&gt;&quot;secondname&quot;&lt;/span&gt;],
        &lt;span class=&quot;code-quote&quot;&gt;&quot;maxChars&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;3000&quot;&lt;/span&gt;},
      &lt;span class=&quot;code-quote&quot;&gt;&quot;errorMessages&quot;&lt;/span&gt;:[&lt;span class=&quot;code-quote&quot;&gt;&quot;Only the &lt;span class=&quot;code-quote&quot;&gt;&apos;source&apos;&lt;/span&gt; and &lt;span class=&quot;code-quote&quot;&gt;&apos;dest&apos;&lt;/span&gt; params are allowed with the &lt;span class=&quot;code-quote&quot;&gt;&apos;add-copy-field&apos;&lt;/span&gt; operation&quot;&lt;/span&gt;]}]}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;which occurs due to the handling in SchemaManager.java file&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; ( ! op.getValuesExcluding(SOURCE, DESTINATION).isEmpty()) {
          op.addError(&lt;span class=&quot;code-quote&quot;&gt;&quot;Only the &lt;span class=&quot;code-quote&quot;&gt;&apos;&quot;&lt;/span&gt; + SOURCE + &lt;span class=&quot;code-quote&quot;&gt;&quot;&apos;&lt;/span&gt; and &apos;&quot;&lt;/span&gt; + DESTINATION
              + &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-quote&quot;&gt;&apos; params are allowed with the &apos;&lt;/span&gt;add-copy-field&apos; operation&quot;&lt;/span&gt;);
          &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
        }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12837751">SOLR-7682</key>
            <summary>Schema API - Add New Copy Field Rule doesn&apos;t allow maxChars parameter</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sarowe">Steven Rowe</assignee>
                                    <reporter username="mariusneo">Marius Grama</reporter>
                        <labels>
                    </labels>
                <created>Mon, 15 Jun 2015 05:54:25 +0000</created>
                <updated>Mon, 9 May 2016 18:46:45 +0000</updated>
                            <resolved>Tue, 16 Jun 2015 20:35:16 +0000</resolved>
                                    <version>5.2</version>
                                    <fixVersion>5.3</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                    <component>Schema and Analysis</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14588505" author="steve_rowe" created="Tue, 16 Jun 2015 18:21:51 +0000"  >&lt;p&gt;Patch adding maxChars support and modifying &lt;tt&gt;TestBulkSchemaAPI&lt;/tt&gt; to test for it.&lt;/p&gt;

&lt;p&gt;I&apos;ll commit after all solr tests and precommit pass.&lt;/p&gt;</comment>
                            <comment id="14588664" author="jira-bot" created="Tue, 16 Jun 2015 20:02:02 +0000"  >&lt;p&gt;Commit 1685900 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=steve_rowe&quot; class=&quot;user-hover&quot; rel=&quot;steve_rowe&quot;&gt;steve_rowe&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1685900&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1685900&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7682&quot; title=&quot;Schema API - Add New Copy Field Rule doesn&amp;#39;t allow maxChars parameter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7682&quot;&gt;&lt;del&gt;SOLR-7682&lt;/del&gt;&lt;/a&gt;: Schema API - Add New Copy Field Rule doesn&apos;t allow maxChars parameter&lt;/p&gt;</comment>
                            <comment id="14588722" author="jira-bot" created="Tue, 16 Jun 2015 20:33:35 +0000"  >&lt;p&gt;Commit 1685903 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=steve_rowe&quot; class=&quot;user-hover&quot; rel=&quot;steve_rowe&quot;&gt;steve_rowe&lt;/a&gt; in branch &apos;dev/branches/branch_5x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1685903&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1685903&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7682&quot; title=&quot;Schema API - Add New Copy Field Rule doesn&amp;#39;t allow maxChars parameter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7682&quot;&gt;&lt;del&gt;SOLR-7682&lt;/del&gt;&lt;/a&gt;: Schema API - Add New Copy Field Rule doesn&apos;t allow maxChars parameter (merged trunk r1685900)&lt;/p&gt;</comment>
                            <comment id="14588729" author="steve_rowe" created="Tue, 16 Jun 2015 20:35:16 +0000"  >&lt;p&gt;Committed to trunk and branch_5x.&lt;/p&gt;

&lt;p&gt;Thanks Marius for reporting.&lt;/p&gt;</comment>
                            <comment id="14589315" author="mariusneo" created="Wed, 17 Jun 2015 05:12:06 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=steve_rowe&quot; class=&quot;user-hover&quot; rel=&quot;steve_rowe&quot;&gt;steve_rowe&lt;/a&gt; the copy fields can be modified also through CopyFieldsCollectionResource.&lt;br/&gt;
I guess that maxChars should be also handled by this resource like in the following call : &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;curl http:&lt;span class=&quot;code-comment&quot;&gt;//localhost:8983/solr/films/schema/copyfields -X POST  -H &lt;span class=&quot;code-quote&quot;&gt;&apos;Content-type:application/json&apos;&lt;/span&gt; --data-binary &apos;[
&lt;/span&gt;    {
      &lt;span class=&quot;code-quote&quot;&gt;&quot;source&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt;,
      &lt;span class=&quot;code-quote&quot;&gt;&quot;dest&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;secondname&quot;&lt;/span&gt;,
      &lt;span class=&quot;code-quote&quot;&gt;&quot;maxChars&quot;&lt;/span&gt; : 100}
]&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I think the functionality of this resource should be extended as well. If so, you could merge the functionality of ManagedIndexSchema.addCopyFields methods into one method.&lt;/p&gt;</comment>
                            <comment id="14589734" author="steve_rowe" created="Wed, 17 Jun 2015 12:57:00 +0000"  >&lt;p&gt;Marius, I intentionally did not update CopyFieldsCollectionResource, because it will be deprecated - see &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6594&quot; title=&quot;deprecate the one action only APIs for schema editing&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6594&quot;&gt;&lt;del&gt;SOLR-6594&lt;/del&gt;&lt;/a&gt;.  Although that deprecation has not yet happened, information about the REST non-bulk methods of modifying the schema was removed from the Solr Reference guide a few versions ago.&lt;/p&gt;

&lt;p&gt;Following deprecation on branch_5x, we&apos;ll remove these schema modification methods from trunk, and in that process, there will be several methods in (Managed)IndexSchema, including the older addCopyFields method, that will be removed.&lt;/p&gt;</comment>
                            <comment id="14591261" author="mariusneo" created="Thu, 18 Jun 2015 05:12:50 +0000"  >&lt;p&gt;Thanks for the heads up &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=steve_rowe&quot; class=&quot;user-hover&quot; rel=&quot;steve_rowe&quot;&gt;steve_rowe&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14713302" author="shalinmangar" created="Wed, 26 Aug 2015 13:06:22 +0000"  >&lt;p&gt;Bulk close for 5.3.0 release&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12911436">SOLR-8252</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12778755">SOLR-7182</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12739926" name="SOLR-7682.patch" size="10291" author="sarowe" created="Tue, 16 Jun 2015 18:21:51 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 12 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2g17j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>