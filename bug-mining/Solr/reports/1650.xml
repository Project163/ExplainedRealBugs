<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:43:47 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-5516] ChaosMonkeyNothingIsSafeTest rare inconsistency fails.</title>
                <link>https://issues.apache.org/jira/browse/SOLR-5516</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description></description>
                <environment></environment>
        <key id="12681948">SOLR-5516</key>
            <summary>ChaosMonkeyNothingIsSafeTest rare inconsistency fails.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="markrmiller@gmail.com">Mark Miller</assignee>
                                    <reporter username="markrmiller@gmail.com">Mark Miller</reporter>
                        <labels>
                    </labels>
                <created>Sat, 30 Nov 2013 02:46:16 +0000</created>
                <updated>Mon, 9 May 2016 18:45:14 +0000</updated>
                                                            <fixVersion>4.9</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                    <component>SolrCloud</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="13835599" author="jira-bot" created="Sat, 30 Nov 2013 03:03:46 +0000"  >&lt;p&gt;Commit 1546683 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1546683&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1546683&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5516&quot; title=&quot;ChaosMonkeyNothingIsSafeTest rare inconsistency fails.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5516&quot;&gt;SOLR-5516&lt;/a&gt;: wait a moment before trying to Sync&lt;/p&gt;</comment>
                            <comment id="13835600" author="jira-bot" created="Sat, 30 Nov 2013 03:05:08 +0000"  >&lt;p&gt;Commit 1546684 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/branches/branch_4x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1546684&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1546684&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5516&quot; title=&quot;ChaosMonkeyNothingIsSafeTest rare inconsistency fails.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5516&quot;&gt;SOLR-5516&lt;/a&gt;: wait a moment before trying to Sync&lt;/p&gt;</comment>
                            <comment id="13835609" author="markrmiller@gmail.com" created="Sat, 30 Nov 2013 03:57:00 +0000"  >&lt;p&gt;I think the key here is that we have to ensure we are not somehow sending documents during the leader sync process.&lt;/p&gt;

&lt;p&gt;We are counting on the fact that there is no leader means no updates will be coming in - but it seems depending on how the leader goes down (hard fail, graceful stop, zk expiration), there can rarely be a brief overlap. I suppose I&apos;d have to guess zk expiration...&lt;/p&gt;</comment>
                            <comment id="13836105" author="jira-bot" created="Sun, 1 Dec 2013 20:15:49 +0000"  >&lt;p&gt;Commit 1546851 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1546851&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1546851&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5516&quot; title=&quot;ChaosMonkeyNothingIsSafeTest rare inconsistency fails.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5516&quot;&gt;SOLR-5516&lt;/a&gt;: Try only waiting if we are a replacement leader and waiting a bit longer.&lt;/p&gt;</comment>
                            <comment id="13836109" author="jira-bot" created="Sun, 1 Dec 2013 20:18:28 +0000"  >&lt;p&gt;Commit 1546853 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; in branch &apos;dev/branches/branch_4x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1546853&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1546853&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5516&quot; title=&quot;ChaosMonkeyNothingIsSafeTest rare inconsistency fails.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5516&quot;&gt;SOLR-5516&lt;/a&gt;: Try only waiting if we are a replacement leader and waiting a bit longer.&lt;/p&gt;</comment>
                            <comment id="13841903" author="markrmiller@gmail.com" created="Fri, 6 Dec 2013 23:40:22 +0000"  >&lt;p&gt;I&apos;ve got this little wait here - and it did improve things in my testing - but I don&apos;t think it&apos;s enough for &apos;real life&apos; and some test runs on slow boxes or envs still fail (though fairly rarely even in that case).&lt;/p&gt;

&lt;p&gt;I&apos;ve gotten to where the chaos monkeys on fullmetaljenkins can pass for days, but then I&apos;ve seen fails from apache jenkins and my win7 virt machine and a report of a fail on real hardware even with this short wait.&lt;/p&gt;</comment>
                            <comment id="13971289" author="thetaphi" created="Wed, 16 Apr 2014 12:57:40 +0000"  >&lt;p&gt;Move issue to Solr 4.9.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>361209</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 31 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1q9kv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>361508</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>