<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:30:12 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-11825] TestPointFields.testDatePointFieldSortAndFunction() failure</title>
                <link>https://issues.apache.org/jira/browse/SOLR-11825</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;Reproducing master seed from &lt;a href=&quot;https://jenkins.thetaphi.de/job/Lucene-Solr-master-Linux/21216/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://jenkins.thetaphi.de/job/Lucene-Solr-master-Linux/21216/&lt;/a&gt;:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Checking out Revision 5a08fa8bbb1cf26b4af5b71549671c31e1427f44 (refs/remotes/origin/master)
[...]
   [junit4]   2&amp;gt; NOTE: reproduce with: ant test  -Dtestcase=TestPointFields -Dtests.method=testDatePointFieldSortAndFunction -Dtests.seed=A41248828EFF34E3 -Dtests.multiplier=3 -Dtests.slow=true -Dtests.locale=ar-YE -Dtests.timezone=Etc/GMT+10 -Dtests.asserts=true -Dtests.file.encoding=UTF-8
   [junit4] ERROR   0.17s J2 | TestPointFields.testDatePointFieldSortAndFunction &amp;lt;&amp;lt;&amp;lt;
   [junit4]    &amp;gt; Throwable #1: java.lang.RuntimeException: Exception during query
   [junit4]    &amp;gt; 	at __randomizedtesting.SeedInfo.seed([A41248828EFF34E3:73AF779D2D1E9BFD]:0)
   [junit4]    &amp;gt; 	at org.apache.solr.SolrTestCaseJ4.assertQ(SolrTestCaseJ4.java:902)
   [junit4]    &amp;gt; 	at org.apache.solr.SolrTestCaseJ4.assertQ(SolrTestCaseJ4.java:862)
   [junit4]    &amp;gt; 	at org.apache.solr.schema.TestPointFields.doTestDatePointFunctionQuery(TestPointFields.java:3599)
   [junit4]    &amp;gt; 	at org.apache.solr.schema.TestPointFields.testDatePointFieldSortAndFunction(TestPointFields.java:1664)
   [junit4]    &amp;gt; 	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
   [junit4]    &amp;gt; 	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
   [junit4]    &amp;gt; 	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
   [junit4]    &amp;gt; 	at java.base/java.lang.reflect.Method.invoke(Method.java:564)
   [junit4]    &amp;gt; 	at java.base/java.lang.Thread.run(Thread.java:844)
   [junit4]    &amp;gt; Caused by: java.lang.RuntimeException: REQUEST FAILED: xpath=//result/doc[9]/date[@name=&apos;number_p_dt_dv&apos;][.=&apos;+293401-11-02T19:17:28.572Z&apos;]
   [junit4]    &amp;gt; 	xml response was: &amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;
   [junit4]    &amp;gt; &amp;lt;response&amp;gt;
   [junit4]    &amp;gt; &amp;lt;lst name=&quot;responseHeader&quot;&amp;gt;&amp;lt;int name=&quot;status&quot;&amp;gt;0&amp;lt;/int&amp;gt;&amp;lt;int name=&quot;QTime&quot;&amp;gt;0&amp;lt;/int&amp;gt;&amp;lt;/lst&amp;gt;&amp;lt;result name=&quot;response&quot; numFound=&quot;30&quot; start=&quot;0&quot;&amp;gt;&amp;lt;doc&amp;gt;&amp;lt;str name=&quot;id&quot;&amp;gt;R&amp;lt;/str&amp;gt;&amp;lt;date name=&quot;number_p_dt_dv&quot;&amp;gt;+831895-07-23T21:09:09.338Z&amp;lt;/date&amp;gt;&amp;lt;/doc&amp;gt;&amp;lt;doc&amp;gt;&amp;lt;str name=&quot;id&quot;&amp;gt;Z&amp;lt;/str&amp;gt;&amp;lt;date name=&quot;number_p_dt_dv&quot;&amp;gt;+725281-03-30T13:09:50.329Z&amp;lt;/date&amp;gt;&amp;lt;/doc&amp;gt;&amp;lt;doc&amp;gt;&amp;lt;str name=&quot;id&quot;&amp;gt;A&amp;lt;/str&amp;gt;&amp;lt;date name=&quot;number_p_dt_dv&quot;&amp;gt;+681046-11-04T12:49:38.424Z&amp;lt;/date&amp;gt;&amp;lt;/doc&amp;gt;&amp;lt;doc&amp;gt;&amp;lt;str name=&quot;id&quot;&amp;gt;S&amp;lt;/str&amp;gt;&amp;lt;date name=&quot;number_p_dt_dv&quot;&amp;gt;+662906-09-27T18:36:37.903Z&amp;lt;/date&amp;gt;&amp;lt;/doc&amp;gt;&amp;lt;doc&amp;gt;&amp;lt;str name=&quot;id&quot;&amp;gt;K&amp;lt;/str&amp;gt;&amp;lt;date name=&quot;number_p_dt_dv&quot;&amp;gt;+477986-01-24T14:48:55.265Z&amp;lt;/date&amp;gt;&amp;lt;/doc&amp;gt;&amp;lt;doc&amp;gt;&amp;lt;str name=&quot;id&quot;&amp;gt;M&amp;lt;/str&amp;gt;&amp;lt;date name=&quot;number_p_dt_dv&quot;&amp;gt;+395512-11-01T10:23:52.727Z&amp;lt;/date&amp;gt;&amp;lt;/doc&amp;gt;&amp;lt;doc&amp;gt;&amp;lt;str name=&quot;id&quot;&amp;gt;I&amp;lt;/str&amp;gt;&amp;lt;date name=&quot;number_p_dt_dv&quot;&amp;gt;+350980-09-17T07:18:22.252Z&amp;lt;/date&amp;gt;&amp;lt;/doc&amp;gt;&amp;lt;doc&amp;gt;&amp;lt;str name=&quot;id&quot;&amp;gt;O&amp;lt;/str&amp;gt;&amp;lt;date name=&quot;number_p_dt_dv&quot;&amp;gt;+295226-09-03T14:25:02.014Z&amp;lt;/date&amp;gt;&amp;lt;/doc&amp;gt;&amp;lt;doc&amp;gt;&amp;lt;str name=&quot;id&quot;&amp;gt;F&amp;lt;/str&amp;gt;&amp;lt;date name=&quot;number_p_dt_dv&quot;&amp;gt;+293401-10-30T14:59:03.236Z&amp;lt;/date&amp;gt;&amp;lt;/doc&amp;gt;&amp;lt;doc&amp;gt;&amp;lt;str name=&quot;id&quot;&amp;gt;Y&amp;lt;/str&amp;gt;&amp;lt;date name=&quot;number_p_dt_dv&quot;&amp;gt;+293401-11-02T19:17:28.572Z&amp;lt;/date&amp;gt;&amp;lt;/doc&amp;gt;&amp;lt;doc&amp;gt;&amp;lt;str name=&quot;id&quot;&amp;gt;N&amp;lt;/str&amp;gt;&amp;lt;date name=&quot;number_p_dt_dv&quot;&amp;gt;+284573-12-19T12:15:27.792Z&amp;lt;/date&amp;gt;&amp;lt;/doc&amp;gt;&amp;lt;doc&amp;gt;&amp;lt;str name=&quot;id&quot;&amp;gt;X&amp;lt;/str&amp;gt;&amp;lt;date name=&quot;number_p_dt_dv&quot;&amp;gt;+223248-07-13T00:56:07.425Z&amp;lt;/date&amp;gt;&amp;lt;/doc&amp;gt;&amp;lt;doc&amp;gt;&amp;lt;str name=&quot;id&quot;&amp;gt;U&amp;lt;/str&amp;gt;&amp;lt;date name=&quot;number_p_dt_dv&quot;&amp;gt;+13953-10-02T03:24:10.232Z&amp;lt;/date&amp;gt;&amp;lt;/doc&amp;gt;&amp;lt;doc&amp;gt;&amp;lt;str name=&quot;id&quot;&amp;gt;E&amp;lt;/str&amp;gt;&amp;lt;date name=&quot;number_p_dt_dv&quot;&amp;gt;-71579-02-08T15:03:14.552Z&amp;lt;/date&amp;gt;&amp;lt;/doc&amp;gt;&amp;lt;doc&amp;gt;&amp;lt;str name=&quot;id&quot;&amp;gt;D&amp;lt;/str&amp;gt;&amp;lt;date name=&quot;number_p_dt_dv&quot;&amp;gt;-117292-05-19T19:23:42.342Z&amp;lt;/date&amp;gt;&amp;lt;/doc&amp;gt;&amp;lt;doc&amp;gt;&amp;lt;str name=&quot;id&quot;&amp;gt;C&amp;lt;/str&amp;gt;&amp;lt;date name=&quot;number_p_dt_dv&quot;&amp;gt;-236708-05-08T15:18:34.650Z&amp;lt;/date&amp;gt;&amp;lt;/doc&amp;gt;&amp;lt;doc&amp;gt;&amp;lt;str name=&quot;id&quot;&amp;gt;Q&amp;lt;/str&amp;gt;&amp;lt;date name=&quot;number_p_dt_dv&quot;&amp;gt;-279851-11-04T08:31:48.940Z&amp;lt;/date&amp;gt;&amp;lt;/doc&amp;gt;&amp;lt;doc&amp;gt;&amp;lt;str name=&quot;id&quot;&amp;gt;T&amp;lt;/str&amp;gt;&amp;lt;date name=&quot;number_p_dt_dv&quot;&amp;gt;-298426-05-18T11:07:08.059Z&amp;lt;/date&amp;gt;&amp;lt;/doc&amp;gt;&amp;lt;doc&amp;gt;&amp;lt;str name=&quot;id&quot;&amp;gt;L&amp;lt;/str&amp;gt;&amp;lt;date name=&quot;number_p_dt_dv&quot;&amp;gt;-424243-10-30T19:47:50.864Z&amp;lt;/date&amp;gt;&amp;lt;/doc&amp;gt;&amp;lt;doc&amp;gt;&amp;lt;str name=&quot;id&quot;&amp;gt;J&amp;lt;/str&amp;gt;&amp;lt;date name=&quot;number_p_dt_dv&quot;&amp;gt;-500593-12-19T00:44:52.457Z&amp;lt;/date&amp;gt;&amp;lt;/doc&amp;gt;&amp;lt;doc&amp;gt;&amp;lt;str name=&quot;id&quot;&amp;gt;V&amp;lt;/str&amp;gt;&amp;lt;date name=&quot;number_p_dt_dv&quot;&amp;gt;-644149-02-10T23:07:16.955Z&amp;lt;/date&amp;gt;&amp;lt;/doc&amp;gt;&amp;lt;doc&amp;gt;&amp;lt;str name=&quot;id&quot;&amp;gt;W&amp;lt;/str&amp;gt;&amp;lt;date name=&quot;number_p_dt_dv&quot;&amp;gt;-659321-04-17T04:29:21.261Z&amp;lt;/date&amp;gt;&amp;lt;/doc&amp;gt;&amp;lt;doc&amp;gt;&amp;lt;str name=&quot;id&quot;&amp;gt;]&amp;lt;/str&amp;gt;&amp;lt;date name=&quot;number_p_dt_dv&quot;&amp;gt;-771072-10-19T17:00:40.997Z&amp;lt;/date&amp;gt;&amp;lt;/doc&amp;gt;&amp;lt;doc&amp;gt;&amp;lt;str name=&quot;id&quot;&amp;gt;B&amp;lt;/str&amp;gt;&amp;lt;date name=&quot;number_p_dt_dv&quot;&amp;gt;-844756-02-08T16:51:18.073Z&amp;lt;/date&amp;gt;&amp;lt;/doc&amp;gt;&amp;lt;doc&amp;gt;&amp;lt;str name=&quot;id&quot;&amp;gt;^&amp;lt;/str&amp;gt;&amp;lt;date name=&quot;number_p_dt_dv&quot;&amp;gt;-844852-04-22T10:39:12.946Z&amp;lt;/date&amp;gt;&amp;lt;/doc&amp;gt;&amp;lt;doc&amp;gt;&amp;lt;str name=&quot;id&quot;&amp;gt;[&amp;lt;/str&amp;gt;&amp;lt;date name=&quot;number_p_dt_dv&quot;&amp;gt;-854949-01-22T23:26:25.473Z&amp;lt;/date&amp;gt;&amp;lt;/doc&amp;gt;&amp;lt;doc&amp;gt;&amp;lt;str name=&quot;id&quot;&amp;gt;G&amp;lt;/str&amp;gt;&amp;lt;date name=&quot;number_p_dt_dv&quot;&amp;gt;-867161-10-28T16:28:50.272Z&amp;lt;/date&amp;gt;&amp;lt;/doc&amp;gt;&amp;lt;doc&amp;gt;&amp;lt;str name=&quot;id&quot;&amp;gt;H&amp;lt;/str&amp;gt;&amp;lt;date name=&quot;number_p_dt_dv&quot;&amp;gt;-911399-03-28T15:02:37.797Z&amp;lt;/date&amp;gt;&amp;lt;/doc&amp;gt;&amp;lt;doc&amp;gt;&amp;lt;str name=&quot;id&quot;&amp;gt;P&amp;lt;/str&amp;gt;&amp;lt;date name=&quot;number_p_dt_dv&quot;&amp;gt;-911691-05-13T13:07:48.860Z&amp;lt;/date&amp;gt;&amp;lt;/doc&amp;gt;&amp;lt;doc&amp;gt;&amp;lt;str name=&quot;id&quot;&amp;gt;\&amp;lt;/str&amp;gt;&amp;lt;date name=&quot;number_p_dt_dv&quot;&amp;gt;-921747-04-13T05:12:36.872Z&amp;lt;/date&amp;gt;&amp;lt;/doc&amp;gt;&amp;lt;/result&amp;gt;
   [junit4]    &amp;gt; &amp;lt;/response&amp;gt;
   [junit4]    &amp;gt; 	request was:q=*:*&amp;amp;fl=id,+number_p_dt_dv&amp;amp;sort=product(-1,ms(number_p_dt_dv))+asc&amp;amp;rows=30&amp;amp;wt=xml
   [junit4]    &amp;gt; 	at org.apache.solr.SolrTestCaseJ4.assertQ(SolrTestCaseJ4.java:895)
[...]
   [junit4]   2&amp;gt; NOTE: test params are: codec=Asserting(Lucene70): {id=PostingsFormat(name=Memory)}, docValues:{foo_p_f_ni_dv_ns=DocValuesFormat(name=Lucene70), foo_p_f_ni_dv_ns_mv=DocValuesFormat(name=Lucene70), number_p_dt_dv_ns=DocValuesFormat(name=Asserting), foo_p_d_ni_dv_ns_mv=DocValuesFormat(name=Lucene70), foo_p_i_ni_dv_ns=DocValuesFormat(name=Asserting), number_p_f_ni_mv_dv_smf=DocValuesFormat(name=Lucene70), number_p_dt_ni_mv_dv_sml=DocValuesFormat(name=Lucene70), number_p_f_dv=DocValuesFormat(name=Asserting), number_p_i_dv_ns=DocValuesFormat(name=Lucene70), number_p_l_ni_dv=DocValuesFormat(name=Asserting), number_p_l_dv_ns=DocValuesFormat(name=Asserting), foo_p_l_ni_dv_ns=DocValuesFormat(name=Lucene70), number_p_dt_ni_mv_dv=DocValuesFormat(name=Asserting), number_p_l_dv_sml=DocValuesFormat(name=Lucene70), number_p_i_dv_smf=DocValuesFormat(name=Direct), number_p_d_ni_ns_dv=DocValuesFormat(name=Direct), number_p_dt_ni_dv_ns_mv=DocValuesFormat(name=Asserting), number_p_i_ni_dv_ns_mv=DocValuesFormat(name=Lucene70), number_p_f_dv_smf=DocValuesFormat(name=Lucene70), number_p_l_ni_dv_ns=DocValuesFormat(name=Direct), number_p_l_dv_smf=DocValuesFormat(name=Lucene70), number_p_d_ni_mv_dv_sml=DocValuesFormat(name=Lucene70), number_p_d_dv_smf=DocValuesFormat(name=Lucene70), number_p_f_ni_dv_ns_mv=DocValuesFormat(name=Direct), number_p_dt_ni_dv=DocValuesFormat(name=Asserting), number_p_f_ni_mv_dv_sml=DocValuesFormat(name=Lucene70), number_p_d_ni_mv_dv_smf=DocValuesFormat(name=Lucene70), number_p_f_dv_ns_mv=DocValuesFormat(name=Asserting), number_p_l_dv_ns_mv=DocValuesFormat(name=Asserting), number_p_dt_mv_dv_sml=DocValuesFormat(name=Lucene70), number_p_l_ni_ns_dv=DocValuesFormat(name=Asserting), number_p_f_ni_ns_dv=DocValuesFormat(name=Direct), number_p_i_ni_dv_ns=DocValuesFormat(name=Lucene70), number_p_i_dv_sml=DocValuesFormat(name=Asserting), foo_p_d_ni_dv_ns=DocValuesFormat(name=Lucene70), number_p_dt_dv_sml=DocValuesFormat(name=Lucene70), number_p_dt_dv_smf=DocValuesFormat(name=Lucene70), number_p_i_mv_dv=DocValuesFormat(name=Lucene70), number_p_d_ni_dv=DocValuesFormat(name=Direct), number_p_l_ni_dv_ns_mv=DocValuesFormat(name=Asserting), number_p_dt_ni_dv_sml=DocValuesFormat(name=Lucene70), number_p_d_mv_dv_smf=DocValuesFormat(name=Lucene70), number_p_d_ni_dv_smf=DocValuesFormat(name=Lucene70), foo_p_l_ni_dv_ns_mv=DocValuesFormat(name=Lucene70), number_p_dt_ni_dv_smf=DocValuesFormat(name=Lucene70), number_p_d_mv_dv_sml=DocValuesFormat(name=Lucene70), number_p_dt_ni_ns_dv=DocValuesFormat(name=Asserting), foo_p_i_ni_dv_ns_mv=DocValuesFormat(name=Asserting), number_p_dt_mv_dv_smf=DocValuesFormat(name=Lucene70), number_p_l_mv_dv=DocValuesFormat(name=Direct), number_p_d_ni_dv_sml=DocValuesFormat(name=Lucene70), number_p_f_mv_dv=DocValuesFormat(name=Asserting), number_p_f_ni_mv_dv=DocValuesFormat(name=Direct), number_p_i_ni_mv_dv=DocValuesFormat(name=Lucene70), number_p_i_mv_dv_smf=DocValuesFormat(name=Direct), foo_p_dt_ni_dv_ns_mv=DocValuesFormat(name=Lucene70), number_p_l_ni_mv_dv=DocValuesFormat(name=Asserting), number_p_d_dv=DocValuesFormat(name=Direct), number_p_l_ni_dv_sml=DocValuesFormat(name=Lucene70), number_p_d_dv_ns=DocValuesFormat(name=Direct), number_p_i_ni_mv_dv_smf=DocValuesFormat(name=Direct), number_p_l_ni_dv_smf=DocValuesFormat(name=Lucene70), number_p_dt_dv_ns_mv=DocValuesFormat(name=Direct), number_p_i_ni_mv_dv_sml=DocValuesFormat(name=Asserting), number_p_l_dv=DocValuesFormat(name=Direct), number_p_dt_mv_dv=DocValuesFormat(name=Direct), number_p_l_mv_dv_smf=DocValuesFormat(name=Lucene70), number_p_d_ni_dv_ns=DocValuesFormat(name=Asserting), number_p_i_dv_ns_mv=DocValuesFormat(name=Lucene70), number_p_d_ni_dv_ns_mv=DocValuesFormat(name=Direct), number_p_i_ni_dv_sml=DocValuesFormat(name=Direct), number_p_i_ni_dv_smf=DocValuesFormat(name=Asserting), number_p_l_mv_dv_sml=DocValuesFormat(name=Lucene70), number_p_d_dv_sml=DocValuesFormat(name=Lucene70), number_p_f_dv_sml=DocValuesFormat(name=Lucene70), number_p_f_ni_dv_ns=DocValuesFormat(name=Asserting), number_p_i_ni_ns_dv=DocValuesFormat(name=Lucene70), number_p_f_ni_dv=DocValuesFormat(name=Direct), foo_p_dt_ni_dv_ns=DocValuesFormat(name=Lucene70), number_p_dt_dv=DocValuesFormat(name=Asserting), number_p_l_ni_mv_dv_smf=DocValuesFormat(name=Lucene70), number_p_dt_ni_mv_dv_smf=DocValuesFormat(name=Lucene70), number_p_d_ni_mv_dv=DocValuesFormat(name=Direct), number_p_d_dv_ns_mv=DocValuesFormat(name=Direct), number_p_f_ni_dv_sml=DocValuesFormat(name=Lucene70), number_p_l_ni_mv_dv_sml=DocValuesFormat(name=Lucene70), number_p_d_mv_dv=DocValuesFormat(name=Asserting), number_p_i_dv=DocValuesFormat(name=Lucene70), number_p_f_mv_dv_sml=DocValuesFormat(name=Lucene70), number_p_i_mv_dv_sml=DocValuesFormat(name=Asserting), number_p_f_ni_dv_smf=DocValuesFormat(name=Lucene70), number_p_dt_ni_dv_ns=DocValuesFormat(name=Direct), number_p_f_mv_dv_smf=DocValuesFormat(name=Lucene70), number_p_i_ni_dv=DocValuesFormat(name=Lucene70), number_p_f_dv_ns=DocValuesFormat(name=Direct)}, maxPointsInLeafNode=304, maxMBSortInHeap=5.893618502916581, sim=Asserting(org.apache.lucene.search.similarities.AssertingSimilarity@144ec6b), locale=ar-YE, timezone=Etc/GMT+10
   [junit4]   2&amp;gt; NOTE: Linux 4.10.0-40-generic amd64/Oracle Corporation 10-ea (64-bit)/cpus=8,threads=1,free=144014848,total=518979584
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13128928">SOLR-11825</key>
            <summary>TestPointFields.testDatePointFieldSortAndFunction() failure</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sarowe">Steven Rowe</assignee>
                                    <reporter username="sarowe">Steven Rowe</reporter>
                        <labels>
                    </labels>
                <created>Fri, 5 Jan 2018 21:48:36 +0000</created>
                <updated>Sat, 8 Jun 2019 15:12:05 +0000</updated>
                            <resolved>Wed, 10 Jan 2018 02:03:32 +0000</resolved>
                                                    <fixVersion>7.3</fixVersion>
                    <fixVersion>8.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="16314078" author="steve_rowe" created="Fri, 5 Jan 2018 22:55:56 +0000"  >&lt;p&gt;The issue appears to be that the float sort value isn&apos;t precise enough to distinguish between two dates that are fairly close.  After adding the sort value &lt;tt&gt;product(-1,ms(field))&lt;/tt&gt; to the &lt;tt&gt;fl&lt;/tt&gt; list, the two out-of-order docs are:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;doc&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;id&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;F&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/str&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;date name=&lt;span class=&quot;code-quote&quot;&gt;&quot;number_p_dt_dv&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;+293401-10-30T14:59:03.236Z&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/date&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;float name=&lt;span class=&quot;code-quote&quot;&gt;&quot;product(-1,ms(number_p_dt_dv))&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;-9.1967007E15&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/float&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/doc&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;doc&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;id&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Y&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/str&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;date name=&lt;span class=&quot;code-quote&quot;&gt;&quot;number_p_dt_dv&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;+293401-11-02T19:17:28.572Z&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/date&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;float name=&lt;span class=&quot;code-quote&quot;&gt;&quot;product(-1,ms(number_p_dt_dv))&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;-9.1967007E15&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/float&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/doc&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16314093" author="hossman" created="Fri, 5 Jan 2018 23:06:52 +0000"  >&lt;p&gt;yeah &amp;#8211; i was just about to post that hypothosis based on reading the query response and noting how close those &quot;randomly large&quot; dates were to eachother.&lt;/p&gt;

&lt;p&gt;I suspect the test, as written to (evidently) use completley random dates, is invalid given that sorting by function happens at float precision.&lt;/p&gt;

&lt;p&gt;We should probably make this test only used randomized dates for strict date sorting (ie: &lt;tt&gt;sort=field asc|desc&lt;/tt&gt; ) since that should happen at ms level precision &amp;#8211; and should fail if it doesn&apos;t &amp;#8211; and use a static set of dates for testing that function composition/sorting works properly&lt;/p&gt;</comment>
                            <comment id="16319545" author="steve_rowe" created="Wed, 10 Jan 2018 01:55:20 +0000"  >&lt;blockquote&gt;&lt;p&gt;I suspect the test, as written to (evidently) use completley random dates, is invalid given that sorting by function happens at float precision.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Agreed.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;We should probably make this test only used randomized dates for strict date sorting (ie: sort=field asc|desc ) since that should happen at ms level precision &#8211; and should fail if it doesn&apos;t &#8211; and use a static set of dates for testing that function composition/sorting works properly&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Agreed.  This patch does this.  Committing shortly.&lt;/p&gt;</comment>
                            <comment id="16319560" author="jira-bot" created="Wed, 10 Jan 2018 02:03:14 +0000"  >&lt;p&gt;Commit da011e6fcd4991b386118ce803186f6fd640ac43 in lucene-solr&apos;s branch refs/heads/branch_7x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=steve_rowe&quot; class=&quot;user-hover&quot; rel=&quot;steve_rowe&quot;&gt;steve_rowe&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=da011e6&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=da011e6&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11825&quot; title=&quot;TestPointFields.testDatePointFieldSortAndFunction() failure&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-11825&quot;&gt;&lt;del&gt;SOLR-11825&lt;/del&gt;&lt;/a&gt;: stop testing randomized dates with function query sorting&lt;/p&gt;</comment>
                            <comment id="16319564" author="jira-bot" created="Wed, 10 Jan 2018 02:04:32 +0000"  >&lt;p&gt;Commit 077e8b1da4f5a2ab99ac5fefcb2891869c2a43c6 in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=steve_rowe&quot; class=&quot;user-hover&quot; rel=&quot;steve_rowe&quot;&gt;steve_rowe&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=077e8b1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=077e8b1&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-11825&quot; title=&quot;TestPointFields.testDatePointFieldSortAndFunction() failure&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-11825&quot;&gt;&lt;del&gt;SOLR-11825&lt;/del&gt;&lt;/a&gt;: stop testing randomized dates with function query sorting&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12905379" name="SOLR-11825.patch" size="5139" author="sarowe" created="Wed, 10 Jan 2018 01:54:03 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 45 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3okzz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>