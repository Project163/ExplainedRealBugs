<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:13:39 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-9117] Leaking the first SolrCore after reload</title>
                <link>https://issues.apache.org/jira/browse/SOLR-9117</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;When a SolrCore for a particular index is created for the first time, it&apos;s added to the SolrCores#createdCores map. However, this map doesn&apos;t get updated when this core is reloaded, leading to the first SolrCore being leaked.&lt;/p&gt;

&lt;p&gt;Taking a look at how createdCores is used, it seems like it doesn&apos;t serve any purpose (its only read is in SolrCores#getAllCoreNames, which includes entries from SolrCores.cores anyway), so I&apos;m proposing a patch to remove the createdCores map completely. However, if someone else knows that createdCores exist for a reason, I&apos;ll be happy to change the fix to updating the createdCores map when reload is called.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12970066">SOLR-9117</key>
            <summary>Leaking the first SolrCore after reload</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="shalin">Shalin Shekhar Mangar</assignee>
                                    <reporter username="mewmewball">Jessica Cheng Mallet</reporter>
                        <labels>
                            <label>core</label>
                            <label>leak</label>
                    </labels>
                <created>Mon, 16 May 2016 17:03:13 +0000</created>
                <updated>Wed, 2 Oct 2019 17:24:29 +0000</updated>
                            <resolved>Fri, 17 Jun 2016 21:38:48 +0000</resolved>
                                                    <fixVersion>5.5.2</fixVersion>
                    <fixVersion>5.6</fixVersion>
                    <fixVersion>6.0.1</fixVersion>
                    <fixVersion>6.1</fixVersion>
                    <fixVersion>7.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                                                                <comments>
                            <comment id="15285083" author="shalinmangar" created="Mon, 16 May 2016 18:58:58 +0000"  >&lt;p&gt;Thanks Jessica! I don&apos;t see why/how createdCores is useful so +1 on removing it.&lt;/p&gt;

&lt;p&gt;I&apos;ll commit this in a day if no one objects to it.&lt;/p&gt;</comment>
                            <comment id="15286907" author="erickerickson" created="Tue, 17 May 2016 16:01:41 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=shalin&quot; class=&quot;user-hover&quot; rel=&quot;shalin&quot;&gt;shalin&lt;/a&gt; I assigned this to myself just so I don&apos;t lose track of it, not to take it away from you &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;. Please go ahead and commit if you get to it before I do.&lt;/p&gt;</comment>
                            <comment id="15287505" author="jira-bot" created="Tue, 17 May 2016 20:32:47 +0000"  >&lt;p&gt;Commit d1202a8f8d223a6148e79628e63e7677dd4325a6 in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=shalin&quot; class=&quot;user-hover&quot; rel=&quot;shalin&quot;&gt;shalin&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=d1202a8&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=d1202a8&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9117&quot; title=&quot;Leaking the first SolrCore after reload&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9117&quot;&gt;&lt;del&gt;SOLR-9117&lt;/del&gt;&lt;/a&gt;: The first SolrCore is leaked after reload&lt;/p&gt;</comment>
                            <comment id="15287508" author="jira-bot" created="Tue, 17 May 2016 20:34:29 +0000"  >&lt;p&gt;Commit ba7698e4e70f5851e22fb47e2ca595ba983b134a in lucene-solr&apos;s branch refs/heads/branch_6x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=shalin&quot; class=&quot;user-hover&quot; rel=&quot;shalin&quot;&gt;shalin&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=ba7698e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=ba7698e&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9117&quot; title=&quot;Leaking the first SolrCore after reload&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9117&quot;&gt;&lt;del&gt;SOLR-9117&lt;/del&gt;&lt;/a&gt;: The first SolrCore is leaked after reload&lt;br/&gt;
(cherry picked from commit d1202a8)&lt;/p&gt;</comment>
                            <comment id="15287509" author="shalinmangar" created="Tue, 17 May 2016 20:35:15 +0000"  >&lt;p&gt;Thanks Jessica!&lt;/p&gt;</comment>
                            <comment id="15289092" author="jira-bot" created="Wed, 18 May 2016 14:50:11 +0000"  >&lt;p&gt;Commit 4bc3477fbf9be688c14bbb07f5982d5f4b615591 in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=shalin&quot; class=&quot;user-hover&quot; rel=&quot;shalin&quot;&gt;shalin&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=4bc3477&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=4bc3477&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9117&quot; title=&quot;Leaking the first SolrCore after reload&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9117&quot;&gt;&lt;del&gt;SOLR-9117&lt;/del&gt;&lt;/a&gt;: Write contributor&apos;s full name in change log&lt;/p&gt;</comment>
                            <comment id="15289097" author="jira-bot" created="Wed, 18 May 2016 14:50:49 +0000"  >&lt;p&gt;Commit 894650d3525672a18c4eba7bf4d836f132d03b8d in lucene-solr&apos;s branch refs/heads/branch_6x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=shalin&quot; class=&quot;user-hover&quot; rel=&quot;shalin&quot;&gt;shalin&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=894650d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=894650d&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9117&quot; title=&quot;Leaking the first SolrCore after reload&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9117&quot;&gt;&lt;del&gt;SOLR-9117&lt;/del&gt;&lt;/a&gt;: Write contributor&apos;s full name in change log&lt;br/&gt;
(cherry picked from commit 4bc3477)&lt;/p&gt;</comment>
                            <comment id="15294443" author="jira-bot" created="Fri, 20 May 2016 22:51:53 +0000"  >&lt;p&gt;Commit 3e19c5ad1b1a401c9ccc491d8d2c95bd0878424d in lucene-solr&apos;s branch refs/heads/branch_6_0 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=shalin&quot; class=&quot;user-hover&quot; rel=&quot;shalin&quot;&gt;shalin&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=3e19c5a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=3e19c5a&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9117&quot; title=&quot;Leaking the first SolrCore after reload&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9117&quot;&gt;&lt;del&gt;SOLR-9117&lt;/del&gt;&lt;/a&gt;: The first SolrCore is leaked after reload&lt;br/&gt;
(cherry picked from commit d1202a8)&lt;/p&gt;</comment>
                            <comment id="15297284" author="jira-bot" created="Mon, 23 May 2016 22:52:03 +0000"  >&lt;p&gt;Commit c7510a0fdd93329ec04c853c8557f4a3f2309eaf in lucene-solr&apos;s branch refs/heads/branch_6_0 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=shalin&quot; class=&quot;user-hover&quot; rel=&quot;shalin&quot;&gt;shalin&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=c7510a0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=c7510a0&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9117&quot; title=&quot;Leaking the first SolrCore after reload&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9117&quot;&gt;&lt;del&gt;SOLR-9117&lt;/del&gt;&lt;/a&gt;: Write contributor&apos;s full name in change log&lt;br/&gt;
(cherry picked from commit 4bc3477)&lt;/p&gt;</comment>
                            <comment id="15337018" author="steve_rowe" created="Fri, 17 Jun 2016 21:38:21 +0000"  >&lt;p&gt;Reopening to backport to 5.6 and 5.5.2.&lt;/p&gt;</comment>
                            <comment id="15337019" author="jira-bot" created="Fri, 17 Jun 2016 21:38:32 +0000"  >&lt;p&gt;Commit 8fcaa8568b1e00a12b07e5a5cb396c3da2f65b0e in lucene-solr&apos;s branch refs/heads/branch_5_5 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=shalin&quot; class=&quot;user-hover&quot; rel=&quot;shalin&quot;&gt;shalin&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=8fcaa85&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=8fcaa85&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9117&quot; title=&quot;Leaking the first SolrCore after reload&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9117&quot;&gt;&lt;del&gt;SOLR-9117&lt;/del&gt;&lt;/a&gt;: The first SolrCore is leaked after reload&lt;br/&gt;
(cherry picked from commit d1202a8)&lt;/p&gt;</comment>
                            <comment id="15337020" author="jira-bot" created="Fri, 17 Jun 2016 21:38:34 +0000"  >&lt;p&gt;Commit 1df6d4f078de33ac3f49dd33b09d3ae8c90f5137 in lucene-solr&apos;s branch refs/heads/branch_5x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=shalin&quot; class=&quot;user-hover&quot; rel=&quot;shalin&quot;&gt;shalin&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=1df6d4f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=1df6d4f&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9117&quot; title=&quot;Leaking the first SolrCore after reload&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9117&quot;&gt;&lt;del&gt;SOLR-9117&lt;/del&gt;&lt;/a&gt;: The first SolrCore is leaked after reload&lt;br/&gt;
(cherry picked from commit d1202a8)&lt;/p&gt;</comment>
                            <comment id="15349795" author="steve_rowe" created="Sat, 25 Jun 2016 20:33:50 +0000"  >&lt;p&gt;Bulk close issues released with 5.5.2.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12751687">SOLR-6678</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12804206" name="SOLR-9117.patch" size="2319" author="mewmewball" created="Mon, 16 May 2016 17:03:44 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10430"><![CDATA[Patch]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 21 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2y0zb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>