<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:26:58 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-3295] Binaries contain 1.6 classes</title>
                <link>https://issues.apache.org/jira/browse/SOLR-3295</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;I&apos;ve ran this tool (does the job): &lt;a href=&quot;http://code.google.com/p/versioncheck/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://code.google.com/p/versioncheck/&lt;/a&gt; on the checkout of branch_3x. To my surprise there is a JAR which contains Java 1.6 code:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Major.Minor Version : 50.0             JAVA compatibility : Java 1.6 platform: 45.3-50.0
Number of classes : 60

Classes are : 
c:\Work\lucene-solr\.\solr\contrib\extraction\lib\netcdf-4.2-min.jar [:] ucar/unidata/geoloc/Bearing.class
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12548740">SOLR-3295</key>
            <summary>Binaries contain 1.6 classes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rcmuir">Robert Muir</assignee>
                                    <reporter username="dweiss">Dawid Weiss</reporter>
                        <labels>
                    </labels>
                <created>Thu, 29 Mar 2012 21:08:23 +0000</created>
                <updated>Fri, 10 May 2013 10:39:01 +0000</updated>
                            <resolved>Tue, 3 Apr 2012 13:30:54 +0000</resolved>
                                                    <fixVersion>3.6</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13241766" author="dweiss" created="Thu, 29 Mar 2012 21:08:55 +0000"  >&lt;p&gt;Full output log from version checker.&lt;/p&gt;</comment>
                            <comment id="13241771" author="ryantxu" created="Thu, 29 Mar 2012 21:11:52 +0000"  >&lt;p&gt;Solr is at java 1.6 in 3.x right?&lt;/p&gt;

&lt;p&gt;so I think we only need to worry about the stuff in lucene&lt;/p&gt;</comment>
                            <comment id="13241780" author="dweiss" created="Thu, 29 Mar 2012 21:18:11 +0000"  >&lt;p&gt;Robert says this isn&apos;t the case. Also: this is THE only jar that requires 1.6 so I&apos;d say it&apos;s probably a mistake?&lt;/p&gt;</comment>
                            <comment id="13241934" author="rcmuir" created="Thu, 29 Mar 2012 23:48:58 +0000"  >&lt;p&gt;if all tests pass without this jar, why do we need it?&lt;/p&gt;</comment>
                            <comment id="13242097" author="thetaphi" created="Fri, 30 Mar 2012 06:14:14 +0000"  >&lt;blockquote&gt;&lt;p&gt;Solr is at java 1.6 in 3.x right?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Solr is at 1.5 in 3.x. That&apos;s &quot;tested&quot; compilation wise every 30 minutes with Jenkins, but this error cannot be found by this.&lt;/p&gt;

&lt;p&gt;Thanks for doing the test. I know this already because I hit that, too. Its caused by TIKA&apos;s dependencies. The NetCDF (&lt;a href=&quot;http://www.unidata.ucar.edu/software/netcdf/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.unidata.ucar.edu/software/netcdf/&lt;/a&gt;) parser is only compiled with Java 1.6, although TIKA is also only Java 1.5, so this is a TIKA bug.&lt;/p&gt;

&lt;p&gt;But on the other hand, you would only hit the bug, if you try to extract NetCDF-metadata and have only Java 5. The bug is not seen, because we have no test for this in the contrib/extraction tests. The compiler cannot find that bug, as he will never reach out to that class (because they are only indirectly used by TIKA).&lt;/p&gt;

&lt;p&gt;We should open an issue at TIKA.&lt;/p&gt;</comment>
                            <comment id="13242098" author="thetaphi" created="Fri, 30 Mar 2012 06:14:54 +0000"  >&lt;blockquote&gt;&lt;p&gt;if all tests pass without this jar, why do we need it?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;If you run the TIKA tests with 1.5 it will crash.&lt;/p&gt;</comment>
                            <comment id="13242101" author="thetaphi" created="Fri, 30 Mar 2012 06:22:07 +0000"  >&lt;p&gt;I opened &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-888&quot; title=&quot;NetCDF parser uses Java 6 JAR file and test/compilation fails with Java 1.5, although TIKA is Java 1.5&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-888&quot;&gt;&lt;del&gt;TIKA-888&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13242106" author="dweiss" created="Fri, 30 Mar 2012 06:44:05 +0000"  >&lt;blockquote&gt;&lt;p&gt;if all tests pass without this jar, why do we need it?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;It&apos;s some obscure &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/help_16.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; data format that tika can convert to plain text. I&apos;ve never seen it, don&apos;t know what it is. Uwe filed a bug for Tika.&lt;/p&gt;</comment>
                            <comment id="13242120" author="thetaphi" created="Fri, 30 Mar 2012 07:05:43 +0000"  >&lt;blockquote&gt;&lt;p&gt;It&apos;s some obscure  data format that tika can convert to plain text. I&apos;ve never seen it, don&apos;t know what it is. Uwe filed a bug for Tika.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;LOL. It&apos;s obscure, indeed, especially for people outside the climate community. As representative of PANGAEA, I of course know this format (its something like a container for huge multi-dimensional arrays) of numeric data. The funny thing is: The only textual parts are metadata about the file in the header, the data itsself never contains any text. The UCAR netcdf library is on the other hand not able to handle streaming file input, so TIKA loads the whole file into memory... and OOMs in most cases for files I have seen (climate users produce files up to several gigabytes, if not terabytes, depends on use-case, see examples here: &lt;a href=&quot;http://doi.pangaea.de/10.1594/PANGAEA.758219?format=html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Kleinen, T et al. (2011): Holocene carbon cycle dynamics, links to model files. doi:10.1594/PANGAEA.758219&lt;/a&gt;). So I don&apos;t really see the use-case for support in Solr. But if we remove the JAR file, people who try to index .nc files, will get ClassNotFoundException. So ideally, we should also remove the file format from TIKA&apos;s META-INF in that case, or instruct the loader to ignore that. I always use some  &quot;TIKA loader&quot; component in my programs, that configure TIKA to only provide the formats I am interested in and I remove all useless JAR files then (but thats not easy). I can provide code how to configure TIKA for a subset of formats, which makes it easier for us to control what libraries are needed and users won&apos;t get ClassNotFound/InvalidClassFileFormat errors.&lt;/p&gt;</comment>
                            <comment id="13242121" author="dweiss" created="Fri, 30 Mar 2012 07:08:25 +0000"  >&lt;p&gt;Climate format data? Man... This just calls for a custom simplified parser that would read the header and forget the rest. And it&apos;d be 5mb less to distribute...&lt;/p&gt;</comment>
                            <comment id="13242125" author="thetaphi" created="Fri, 30 Mar 2012 07:20:42 +0000"  >&lt;p&gt;Exactly. This is why I disabled that parser for our indexing at PANGAEA (although we support that file format). Loading a 500 Megabyte file into memory just to get the header and extract 2 kilobytes (of useless textual metadata) isn&apos;t really useful - especially if the file is on tape archive.&lt;/p&gt;</comment>
                            <comment id="13242227" author="rcmuir" created="Fri, 30 Mar 2012 10:20:52 +0000"  >&lt;p&gt;Lets disable the parser here. I don&apos;t want to wait on tika to release.&lt;/p&gt;</comment>
                            <comment id="13242232" author="rcmuir" created="Fri, 30 Mar 2012 10:26:29 +0000"  >&lt;blockquote&gt;
&lt;p&gt;    if all tests pass without this jar, why do we need it?&lt;/p&gt;

&lt;p&gt;If you run the TIKA tests with 1.5 it will crash.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Let me rephrase.&lt;/p&gt;

&lt;p&gt;I&apos;m going to &apos;svn delete&apos; this jar file in 5 hours from 3.x, unless anyone can tell me otherwise, and mark this issue resolved.&lt;/p&gt;

&lt;p&gt;If you commit a 5MB jar there should be a test showing why its used.&lt;/p&gt;</comment>
                            <comment id="13242270" author="thetaphi" created="Fri, 30 Mar 2012 11:45:05 +0000"  >&lt;p&gt;If you do this, the problem does not get better. A user who feeds a nc file to Solr Extraction handler will get ClassNotFoundException, thats identical problem like an invalid class format (we have now). The only difference is, that it would work if he uses Java 6 (what most users do). The problem here is more consistency.&lt;/p&gt;

&lt;p&gt;If we want to fix it correct, we have to add some configuration class file to contrib/extraction, listing all supported parsers, so Solr will not chosse one thats not there.&lt;/p&gt;</comment>
                            <comment id="13242274" author="rcmuir" created="Fri, 30 Mar 2012 11:49:24 +0000"  >&lt;blockquote&gt;
&lt;p&gt;If we want to fix it correct, we have to add some configuration class file to contrib/extraction, listing all supported parsers, so Solr will not chosse one thats not there.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Right, but how many people have these gigabyte climate data files? realistically jar-nuking sounds pretty good.&lt;/p&gt;

&lt;p&gt;if someone knows how to make this configuration file excluding this format, great, but i don&apos;t think i need&lt;br/&gt;
to figure that out to svn rm this jar.&lt;/p&gt;</comment>
                            <comment id="13242278" author="thetaphi" created="Fri, 30 Mar 2012 11:53:47 +0000"  >&lt;p&gt;I have a file here that i used locally that configures TIKA for all parsers we are (PANGAEA) interested in. In my opinion, its also useless to feed mp3 and several other non-text file types to Solr Extraction handler, it would only extract file metadata, but no contents. By limiting to only formats containing &lt;b&gt;fulltext&lt;/b&gt; (not only metadata), this would make much more sense and would remove a bunch of other JAR files.&lt;/p&gt;</comment>
                            <comment id="13242279" author="rcmuir" created="Fri, 30 Mar 2012 11:55:45 +0000"  >&lt;p&gt;Can we somehow enable everything that was working before except the problematic java5 stuff?&lt;/p&gt;</comment>
                            <comment id="13242280" author="thetaphi" created="Fri, 30 Mar 2012 11:57:31 +0000"  >&lt;p&gt;This is a long standing issue in TIKA, so that they provide separate parser jars, each with own META-INF, splitting the parsers up in e.g. tika-office-parsers, tika-image-parsers, tika-horrible-huge-climate-data-parsers, tika-soundfile-parsers,... Then each of these JARS would have a limited dependency set.&lt;/p&gt;

&lt;p&gt;We should open issue (I will check) and suggest that. It annoys me since month. Every TIKA release gets more crazy formats nobody is interested ina nd you only get a huge tika-parsers.jar will approx 100 3rd-Party JARS you have no control anymore.&lt;/p&gt;</comment>
                            <comment id="13242281" author="thetaphi" created="Fri, 30 Mar 2012 12:00:14 +0000"  >&lt;p&gt;The problem is, the tika-parser list is in META-INFO of tika-parsers.jar. To override it, you must disable the META-INF completely and list the parsers in program code when calling TIKAs ctors... I can upload our (unedited example code here).&lt;/p&gt;</comment>
                            <comment id="13242340" author="janhoy" created="Fri, 30 Mar 2012 13:55:15 +0000"  >&lt;blockquote&gt;&lt;p&gt;The problem is, the tika-parser list is in META-INFO of tika-parsers.jar. To override it, you must disable the META-INF completely and list the parsers in program code when calling TIKAs ctors... I can upload our (unedited example code here).&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yes, they use the ServiceProvider mechanism, so that each JAR providing Tika parser(s) have a META-INF/services/org.apache.tika.parser.Parser and it will register itself when on classpath. I agree that if the parsers were in many small JARs we could simply choose which ones to include and all would be fine. Then, Solr users could simply add a parser JAR to classpath to get support for a new format.&lt;/p&gt;</comment>
                            <comment id="13242376" author="chrismattmann" created="Fri, 30 Mar 2012 14:27:58 +0000"  >&lt;p&gt;Hi Guys:&lt;/p&gt;

&lt;p&gt;Couple of comments.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Thanks for doing the test. I know this already because I hit that, too. Its caused by TIKA&apos;s dependencies. The NetCDF (&lt;a href=&quot;http://www.unidata.ucar.edu/software/netcdf/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.unidata.ucar.edu/software/netcdf/&lt;/a&gt;) parser is only compiled with Java 1.6, although TIKA is also only Java 1.5, so this is a TIKA bug.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;In Tika, I wouldn&apos;t classify this as a bug, since our parser jar dependencies can be excluded in various ways. It&apos;s simply a requirement for folks that are interested in all of the features that the NetCDF library provides, but if you don&apos;t care about parsing those types of files, you can simply omit that parser and exclude the jar file dependency.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;&apos;s obscure, indeed, especially for people outside the climate community. &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Obscure? Sorry, not meaning to argue here, but that&apos;s pretty patently untrue. All data formats are at some level obscure, depending on the community that you work in. The &quot;climate&quot; one that you are talking about includes a broad range of folks, dealing with remote sensing, climate modeling, decision making, etc., at some of the highest levels of government, funding, and other areas, both in the U.S. and internationally. NetCDF, and HDF, OPeNDAP, and other formats are pretty broadly accepted standards. The use of data from NetCDF for example, resulted in over 2000+ publications generated as part of the last Intergovernmental Panel on Climate Change (IPCC) and its 4th assessment report &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; So, not sure it&apos;s obscure.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;he UCAR netcdf library is on the other hand not able to handle streaming file input, so TIKA loads the whole file into memory&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yep, it&apos;s part of the issue of the underlying data file format more so than the actually library itself. It&apos;s because it doesn&apos;t support random access and yes the current code I had to bake into Tika unfortunately must work around it by loading the whole file into memory. Jukka and I have discussed some better support for this including temporary file support in Tika and we&apos;re working on improving it, but not there yet.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;don&apos;t really see the use-case for support in Solr&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;It&apos;s up to you guys. If you want to tell users of Solr, &quot;hey you can drop a scientific data file format onto Solr and magically its metadata will be indexed&quot;, then it might be important. We do this in OODT quite often, and it&apos;s one of the core use cases (and we even use Lucene and Solr for the metadata catalogs &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; ).&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Loading a 500 Megabyte file into memory just to get the header&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;A lot of times that header contains the key parameters (spatial and temporal bounds) that are required to make a decision as to what to do with the file, as well as other met fields including the remote sensing variables, or climate variables being measured, valid units, links to publications, etc. So it&apos;s more than useless information.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Right, but how many people have these gigabyte climate data files&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Depends on who is using it. Like I said, this is pretty much all of the files that I deal with &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;, but to each their own. Disabling it in Solr isn&apos;t really going to affect me (or others much) since OODT pretty much does this anyways, but meh.&lt;/p&gt;


</comment>
                            <comment id="13242381" author="rcmuir" created="Fri, 30 Mar 2012 14:35:37 +0000"  >&lt;blockquote&gt;
&lt;p&gt;but if you don&apos;t care about parsing those types of files, you can simply omit that parser and exclude the jar file dependency.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;How can i simply do this? Thats basically how i&apos;d like to fix this for this (last java5) solr release.&lt;br/&gt;
I would like to omit JUST this one by default, along with documentation saying: if you are willing to run java6,&lt;br/&gt;
then do XYZ to enable it.&lt;/p&gt;

&lt;p&gt;I can&apos;t wait to put java5 support behind us...&lt;/p&gt;</comment>
                            <comment id="13242390" author="chrismattmann" created="Fri, 30 Mar 2012 14:43:56 +0000"  >&lt;p&gt;Hey Robert:&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;How can i simply do this?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I was just discussing this with Uwe on &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-888&quot; title=&quot;NetCDF parser uses Java 6 JAR file and test/compilation fails with Java 1.5, although TIKA is Java 1.5&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-888&quot;&gt;&lt;del&gt;TIKA-888&lt;/del&gt;&lt;/a&gt; &amp;#8211; I think you guys can provide your own custom version of the Tika service provider load file, and just omit the classes for Hdf and NetCDF parsers. I think then your users won&apos;t get to the code that depends on that jar file and you&apos;ll be good. See this file:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/tika/trunk/tika-parsers/src/main/resources/META-INF/services/org.apache.tika.parser.Parser&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/repos/asf/tika/trunk/tika-parsers/src/main/resources/META-INF/services/org.apache.tika.parser.Parser&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I &lt;b&gt;think&lt;/b&gt; you can just provide your own version of that in SolrCell and then it will load yours over the one in the tika-parsers jar, and then in yours you remove those class definitions.&lt;/p&gt;
</comment>
                            <comment id="13242398" author="rcmuir" created="Fri, 30 Mar 2012 14:50:12 +0000"  >&lt;blockquote&gt;
&lt;p&gt;I think you can just provide your own version of that in SolrCell and then it will load yours over the one in the tika-parsers jar, and then in yours you remove those class definitions.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Is that the ordinary java SPI mechanism? If so, then it depends upon classpath order right?&lt;br/&gt;
(and, doesn&apos;t work on IBM JRE: see &lt;a href=&quot;https://issues.apache.org/jira/browse/LUCENE-3927&quot; title=&quot;allow running trunk tests with IBM JRE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LUCENE-3927&quot;&gt;&lt;del&gt;LUCENE-3927&lt;/del&gt;&lt;/a&gt;).&lt;/p&gt;</comment>
                            <comment id="13242402" author="thetaphi" created="Fri, 30 Mar 2012 14:52:20 +0000"  >&lt;p&gt;TIKA has own SPI parser. See my comment on TIKA issue. Modifying the SPI file does not work, because the SPI parser will collect all parsers from &lt;b&gt;all&lt;/b&gt; SPI files it found on classpath, so removing is impossible.&lt;/p&gt;</comment>
                            <comment id="13242428" author="chrismattmann" created="Fri, 30 Mar 2012 15:22:06 +0000"  >&lt;p&gt;Yep, Uwe is right. I am going to try and reproduce the error in Tika-ville, and see if we can just make Tika swallow the ClassNotFoundException and move along (as it shouldn&apos;t affect Tika parsing for the rest of the valid parsers there). If so, we can push a fix for it in Tika and see if that addresses your guys&apos; issue. &lt;/p&gt;

&lt;p&gt;Thanks for the note on IBM JRE, Robert. I didn&apos;t know that.&lt;/p&gt;</comment>
                            <comment id="13242497" author="thetaphi" created="Fri, 30 Mar 2012 16:20:03 +0000"  >&lt;p&gt;IBM JRE should not affect TIKA, as TIKA has an own SPI parser (because it only requires Java 5 that has no SPI). Lucene 4 uses Java 6 SPI, which has the problem.&lt;/p&gt;</comment>
                            <comment id="13242517" author="dweiss" created="Fri, 30 Mar 2012 16:38:44 +0000"  >&lt;blockquote&gt;&lt;p&gt;It&apos;s some obscure  data format&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I meant no offense, just my take at how many people in the wild may be using it compared to how many download solr in general.&lt;/p&gt;</comment>
                            <comment id="13244694" author="rcmuir" created="Mon, 2 Apr 2012 21:49:12 +0000"  >&lt;p&gt;Is it possible for anyone to write a solr-level test? I tried to make one (using testrh.nc from &lt;a href=&quot;http://www.unidata.ucar.edu/software/netcdf/examples/files.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.unidata.ucar.edu/software/netcdf/examples/files.html&lt;/a&gt;)&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Index: solr/contrib/extraction/src/test/org/apache/solr/handler/extraction/ExtractingRequestHandlerTest.java
===================================================================
--- solr/contrib/extraction/src/test/org/apache/solr/handler/extraction/ExtractingRequestHandlerTest.java	(revision 1308448)
+++ solr/contrib/extraction/src/test/org/apache/solr/handler/extraction/ExtractingRequestHandlerTest.java	(working copy)
@@ -445,6 +445,17 @@
     catch(Exception expected){}
   }
   
+  public void testCDF() throws Exception {
+    ExtractingRequestHandler handler = (ExtractingRequestHandler) h.getCore().getRequestHandler(&quot;/update/extract&quot;);
+    assertTrue(&quot;handler is null and it shouldn&apos;t be&quot;, handler != null);
+    loadLocal(&quot;extraction/testrh.nc&quot;,
+        &quot;literal.id&quot;, &quot;one&quot;,
+        &quot;fmap.content&quot;, &quot;extractedContent&quot;
+    );
+    assertU(commit());
+    assertQ(req(&quot;*:*&quot;), &quot;//result[@numFound=1]&quot;);
+  }
+  
   SolrQueryResponse loadLocal(String filename, String... args) throws Exception {
     LocalSolrQueryRequest req = (LocalSolrQueryRequest) req(args);
     try {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;But on my java5 jdk, this test passes. I guess i dont know enough about whats going on with contrib/extraction&lt;br/&gt;
here to figure this out. But i saw options like &apos;ignore exceptions from tika&apos; and it seems like there are a lot&lt;br/&gt;
of options.&lt;/p&gt;

&lt;p&gt;I&apos;d like to get a 3.6 release candidate out soon... &lt;/p&gt;</comment>
                            <comment id="13244741" author="thetaphi" created="Mon, 2 Apr 2012 22:20:46 +0000"  >&lt;p&gt;Nuke the JAR. See the comments on the TIKA issue. If the JAR is missing, the Parser will get a ClassNotFoundException and TIKA&apos;s framework will disable it.&lt;/p&gt;

&lt;p&gt;Your test simply uses the next possible parser, which is the plain text parser; indexing gigabytes of horrible binary data casted to text in arbitrary autodetected encoding &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13244745" author="rcmuir" created="Mon, 2 Apr 2012 22:22:13 +0000"  >&lt;p&gt;ok. the user did ask to index the gigabytes of binary data so I don&apos;t feel bad about that &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13244761" author="rcmuir" created="Mon, 2 Apr 2012 22:27:55 +0000"  >&lt;p&gt;simple patch&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="12548787">TIKA-888</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12521066" name="SOLR-3295.patch" size="1943" author="rcmuir" created="Mon, 2 Apr 2012 22:27:55 +0000"/>
                            <attachment id="12520512" name="output.log" size="3843422" author="dweiss" created="Thu, 29 Mar 2012 21:08:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>233837</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 34 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i03fiv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>17948</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>