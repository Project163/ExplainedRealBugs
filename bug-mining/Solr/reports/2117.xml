<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:57:15 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-6545] Query field list with wild card on dynamic field fails</title>
                <link>https://issues.apache.org/jira/browse/SOLR-6545</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;Downloaded 4.10.0, unpacked, and setup a solrcloud 2-node cluster by running: &lt;br/&gt;
  bin/solr -e cloud &lt;/p&gt;

&lt;p&gt;Accepting all the default options and you will have a 2 node cloud running with replication factor of 2.  &lt;/p&gt;

&lt;p&gt;Now add 2 documents by going to example/exampledocs, creating the following file named my_test.xml:&lt;/p&gt;

&lt;p&gt;&amp;lt;add&amp;gt;&lt;br/&gt;
 &amp;lt;doc&amp;gt;&lt;br/&gt;
  &amp;lt;field name=&quot;id&quot;&amp;gt;1000&amp;lt;/field&amp;gt;&lt;br/&gt;
  &amp;lt;field name=&quot;name&quot;&amp;gt;test 1&amp;lt;/field&amp;gt;&lt;br/&gt;
  &amp;lt;field name=&quot;desc_t&quot;&amp;gt;Text about test 1.&amp;lt;/field&amp;gt;&lt;br/&gt;
  &amp;lt;field name=&quot;cat_A_s&quot;&amp;gt;Category A&amp;lt;/field&amp;gt;&lt;br/&gt;
 &amp;lt;/doc&amp;gt;&lt;br/&gt;
 &amp;lt;doc&amp;gt;&lt;br/&gt;
  &amp;lt;field name=&quot;id&quot;&amp;gt;1001&amp;lt;/field&amp;gt;&lt;br/&gt;
  &amp;lt;field name=&quot;name&quot;&amp;gt;test 2&amp;lt;/field&amp;gt;&lt;br/&gt;
  &amp;lt;field name=&quot;desc_t&quot;&amp;gt;Stuff about test 2.&amp;lt;/field&amp;gt;&lt;br/&gt;
  &amp;lt;field name=&quot;cat_B_s&quot;&amp;gt;Category B&amp;lt;/field&amp;gt;&lt;br/&gt;
 &amp;lt;/doc&amp;gt;&lt;br/&gt;
&amp;lt;/add&amp;gt;&lt;/p&gt;

&lt;p&gt;Then import these documents by running:&lt;br/&gt;
  java -Durl=&lt;a href=&quot;http://localhost:7574/solr/gettingstarted/update&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:7574/solr/gettingstarted/update&lt;/a&gt; -jar post.jar my_test.xml&lt;/p&gt;

&lt;p&gt;Verify the docs are there by hitting:&lt;br/&gt;
  &lt;a href=&quot;http://localhost:8983/solr/gettingstarted/select?q=*:*&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8983/solr/gettingstarted/select?q=*:*&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Now run a query and ask for only the id and cat_*_s fields:&lt;br/&gt;
  &lt;a href=&quot;http://localhost:8983/solr/gettingstarted/select?q=*:*&amp;amp;fl=id,cat_*&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8983/solr/gettingstarted/select?q=*:*&amp;amp;fl=id,cat_*&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;You will only get the id fields back.  Change the query a little to include a third field:&lt;br/&gt;
  &lt;a href=&quot;http://localhost:8983/solr/gettingstarted/select?q=*:*&amp;amp;fl=id,name,cat_*&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8983/solr/gettingstarted/select?q=*:*&amp;amp;fl=id,name,cat_*&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;You will now get the following exception:&lt;br/&gt;
java.lang.NullPointerException&lt;br/&gt;
	at org.apache.solr.handler.component.QueryComponent.returnFields(QueryComponent.java:1257)&lt;br/&gt;
	at org.apache.solr.handler.component.QueryComponent.handleRegularResponses(QueryComponent.java:720)&lt;br/&gt;
	at org.apache.solr.handler.component.QueryComponent.handleResponses(QueryComponent.java:695)&lt;br/&gt;
	at org.apache.solr.handler.component.SearchHandler.handleRequestBody(SearchHandler.java:324)&lt;br/&gt;
	at org.apache.solr.handler.RequestHandlerBase.handleRequest(RequestHandlerBase.java:135)&lt;br/&gt;
	at org.apache.solr.core.SolrCore.execute(SolrCore.java:1967)&lt;br/&gt;
	at org.apache.solr.servlet.SolrDispatchFilter.execute(SolrDispatchFilter.java:777)&lt;br/&gt;
	at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:418)&lt;br/&gt;
	at org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:207)&lt;br/&gt;
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1419)&lt;br/&gt;
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:455)&lt;br/&gt;
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:137)&lt;br/&gt;
	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:557)&lt;br/&gt;
	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:231)&lt;br/&gt;
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1075)&lt;br/&gt;
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:384)&lt;br/&gt;
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:193)&lt;br/&gt;
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1009)&lt;br/&gt;
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:135)&lt;br/&gt;
	at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:255)&lt;br/&gt;
	at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:154)&lt;br/&gt;
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:116)&lt;br/&gt;
	at org.eclipse.jetty.server.Server.handle(Server.java:368)&lt;br/&gt;
	at org.eclipse.jetty.server.AbstractHttpConnection.handleRequest(AbstractHttpConnection.java:489)&lt;br/&gt;
	at org.eclipse.jetty.server.BlockingHttpConnection.handleRequest(BlockingHttpConnection.java:53)&lt;br/&gt;
	at org.eclipse.jetty.server.AbstractHttpConnection.headerComplete(AbstractHttpConnection.java:942)&lt;br/&gt;
	at org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.headerComplete(AbstractHttpConnection.java:1004)&lt;br/&gt;
	at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:640)&lt;br/&gt;
	at org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:235)&lt;br/&gt;
	at org.eclipse.jetty.server.BlockingHttpConnection.handle(BlockingHttpConnection.java:72)&lt;br/&gt;
	at org.eclipse.jetty.server.bio.SocketConnector$ConnectorEndPoint.run(SocketConnector.java:264)&lt;br/&gt;
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:608)&lt;br/&gt;
	at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:543)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:744)&lt;/p&gt;

&lt;p&gt;I believe &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6501&quot; title=&quot;Binary Response Writer does not return wildcard fields&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6501&quot;&gt;&lt;del&gt;SOLR-6501&lt;/del&gt;&lt;/a&gt; partially fixes the issue.  After downloading build 607 (4.11.0-2014-09-11_22-31-51 1624413 - jenkins - 2014-09-11 22:32:47) which contains the fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6501&quot; title=&quot;Binary Response Writer does not return wildcard fields&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6501&quot;&gt;&lt;del&gt;SOLR-6501&lt;/del&gt;&lt;/a&gt; and going through the same setup as above, I still see some issues but no exceptions are thrown.&lt;/p&gt;

&lt;p&gt;With build 607, running a query for id and a wild card field still does&apos;t work:&lt;br/&gt;
 &lt;a href=&quot;http://localhost:8983/solr/gettingstarted/select?q=*:*&amp;amp;fl=id,cat_*&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8983/solr/gettingstarted/select?q=*:*&amp;amp;fl=id,cat_*&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;It returns only the id field.  If I add another field into the list it finally works:&lt;br/&gt;
 &lt;a href=&quot;http://localhost:8983/solr/gettingstarted/select?q=*:*&amp;amp;fl=id,name,cat_*&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8983/solr/gettingstarted/select?q=*:*&amp;amp;fl=id,name,cat_*&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Returns id, name, and the cat_*_s fields.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Mac OS X 10.9.5, Ubuntu 14.04.1 LTS&lt;/p&gt;</environment>
        <key id="12742845">SOLR-6545</key>
            <summary>Query field list with wild card on dynamic field fails</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="shalin">Shalin Shekhar Mangar</assignee>
                                    <reporter username="BurkeW">Burke Webster</reporter>
                        <labels>
                    </labels>
                <created>Fri, 19 Sep 2014 20:59:23 +0000</created>
                <updated>Mon, 9 May 2016 18:43:38 +0000</updated>
                            <resolved>Fri, 24 Oct 2014 12:14:17 +0000</resolved>
                                    <version>4.10</version>
                                    <fixVersion>4.10.2</fixVersion>
                    <fixVersion>5.0</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                    <component>search</component>
                        <due></due>
                            <votes>3</votes>
                                    <watches>8</watches>
                                                                                                                <comments>
                            <comment id="14142765" author="simplebread" created="Sun, 21 Sep 2014 23:09:16 +0000"  >&lt;p&gt;Looks like code broken when doing distributed queries. Single node works fine.&lt;/p&gt;</comment>
                            <comment id="14142767" author="burkew" created="Sun, 21 Sep 2014 23:13:22 +0000"  >&lt;p&gt;Correct, I should have been explicit about that. This seems to only be an issue in distrib mode with at least 2 nodes. &lt;/p&gt;</comment>
                            <comment id="14143642" author="simplebread" created="Mon, 22 Sep 2014 19:06:24 +0000"  >&lt;p&gt;Upload a patch base on lucene_solr_4_10. &lt;/p&gt;

&lt;p&gt;Run through all tests, the new change doesn&apos;t break any other test.&lt;/p&gt;</comment>
                            <comment id="14157863" author="sachinpkale" created="Fri, 3 Oct 2014 10:43:38 +0000"  >&lt;p&gt;We are running 4.10.0 on Production and we are getting tons of NullPointerException due to this bug. Though we are using SolrCloud setup, we are having only one shard, so it is a basically master-slave configuration only. In one of the comments, it is mentioned that, this bug occurs when doing distributed queries only. How do I disable the distributed queries?&lt;/p&gt;</comment>
                            <comment id="14163722" author="shalinmangar" created="Wed, 8 Oct 2014 16:33:31 +0000"  >&lt;p&gt;Thanks Xu. I&apos;ve moved your test case to TestDistributedSearch and also to DistributedQueryComponentOptimizationTest (which also tests for distrib.singlePass along with wild card dynamic fields).&lt;/p&gt;

&lt;p&gt;All tests pass. I&apos;ll commit this shortly.&lt;/p&gt;</comment>
                            <comment id="14163726" author="jira-bot" created="Wed, 8 Oct 2014 16:36:04 +0000"  >&lt;p&gt;Commit 1630169 from shalin@apache.org in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1630169&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1630169&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6545&quot; title=&quot;Query field list with wild card on dynamic field fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6545&quot;&gt;&lt;del&gt;SOLR-6545&lt;/del&gt;&lt;/a&gt;: Query field list with wild card on dynamic field fails&lt;/p&gt;</comment>
                            <comment id="14163731" author="jira-bot" created="Wed, 8 Oct 2014 16:38:09 +0000"  >&lt;p&gt;Commit 1630171 from shalin@apache.org in branch &apos;dev/branches/branch_5x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1630171&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1630171&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6545&quot; title=&quot;Query field list with wild card on dynamic field fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6545&quot;&gt;&lt;del&gt;SOLR-6545&lt;/del&gt;&lt;/a&gt;: Query field list with wild card on dynamic field fails&lt;/p&gt;</comment>
                            <comment id="14182721" author="jira-bot" created="Fri, 24 Oct 2014 12:13:38 +0000"  >&lt;p&gt;Commit 1634044 from shalin@apache.org in branch &apos;dev/branches/lucene_solr_4_10&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1634044&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1634044&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6545&quot; title=&quot;Query field list with wild card on dynamic field fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6545&quot;&gt;&lt;del&gt;SOLR-6545&lt;/del&gt;&lt;/a&gt;: Query field list with wild card on dynamic field fails&lt;/p&gt;</comment>
                            <comment id="14182723" author="shalinmangar" created="Fri, 24 Oct 2014 12:14:17 +0000"  >&lt;p&gt;This is fixed. Thanks everyone!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12673626" name="SOLR-6545.patch" size="4304" author="shalin" created="Wed, 8 Oct 2014 16:33:31 +0000"/>
                            <attachment id="12670471" name="SOLR-6545.patch" size="2406" author="simpleBread" created="Mon, 22 Sep 2014 19:06:24 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 4 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i209wv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>