<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:25:18 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-9526] data_driven configs defaults to &quot;strings&quot; for unmapped fields, makes most fields containing &quot;textual content&quot; unsearchable, breaks tutorial examples</title>
                <link>https://issues.apache.org/jira/browse/SOLR-9526</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;James Pritchett pointed out on the solr-user list that this sample query from the quick start tutorial matched no docs (even though the tutorial text says &quot;The above request returns only one document&quot;)...&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://localhost:8983/solr/gettingstarted/select?wt=json&amp;amp;indent=true&amp;amp;q=name:foundation&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8983/solr/gettingstarted/select?wt=json&amp;amp;indent=true&amp;amp;q=name:foundation&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The root problem seems to be that the add-unknown-fields-to-the-schema chain in data_driven_schema_configs is configured with...&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;defaultFieldType&quot;&lt;/span&gt;&amp;gt;strings&amp;lt;/str&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;...and the &quot;strings&quot; type uses StrField and is not tokenized.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;Original thread: &lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/lucene-solr-user/201609.mbox/%3CCAC-n2zRPsspfnK43AGeCspchc5b-0FF25xLfnzogYuVyg2dWbw@mail.gmail.com%3E&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://mail-archives.apache.org/mod_mbox/lucene-solr-user/201609.mbox/%3CCAC-n2zRPsspfnK43AGeCspchc5b-0FF25xLfnzogYuVyg2dWbw@mail.gmail.com%3E&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13005588">SOLR-9526</key>
            <summary>data_driven configs defaults to &quot;strings&quot; for unmapped fields, makes most fields containing &quot;textual content&quot; unsearchable, breaks tutorial examples</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="janhoy">Jan H&#248;ydahl</assignee>
                                    <reporter username="hossman">Chris M. Hostetter</reporter>
                        <labels>
                            <label>dynamic-schema</label>
                    </labels>
                <created>Sat, 17 Sep 2016 00:26:53 +0000</created>
                <updated>Sat, 8 Jun 2019 15:29:47 +0000</updated>
                            <resolved>Thu, 6 Jul 2017 14:56:02 +0000</resolved>
                                                    <fixVersion>7.0</fixVersion>
                    <fixVersion>7.1</fixVersion>
                    <fixVersion>8.0</fixVersion>
                                    <component>UpdateRequestProcessors</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>9</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="600">10m</timespent>
                                <comments>
                            <comment id="15497815" author="hossman" created="Sat, 17 Sep 2016 00:29:56 +0000"  >&lt;p&gt;I have no idea if other parts of the tutorial are totally broken, but my biggest question first and foremost is WTF is up with &quot;strings&quot; being the defaultFieldType in data_driven_schema_configs???? that makes no sense to me at all.&lt;/p&gt;

&lt;p&gt;It appears it&apos;s been that way since commit 0ff1e75b for &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6779&quot; title=&quot;/browse fails for schemaless example&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6779&quot;&gt;&lt;del&gt;SOLR-6779&lt;/del&gt;&lt;/a&gt;, but there&apos;s no explanation i can see in that jira as to why this change was made.&lt;/p&gt;

&lt;p&gt;Has this really been broken this horiffically since 5.0?!?!?!&lt;/p&gt;</comment>
                            <comment id="15497960" author="arafalov" created="Sat, 17 Sep 2016 01:54:39 +0000"  >&lt;p&gt;Possibly to make facets work out of the box? Just guessing.&lt;/p&gt;</comment>
                            <comment id="15499254" author="elyograg" created="Sat, 17 Sep 2016 16:00:17 +0000"  >&lt;p&gt;I would think that adding docValues to the field would allow facets to work like most people expect, while also allowing single-word searches.&lt;/p&gt;</comment>
                            <comment id="15502645" author="janhoy" created="Mon, 19 Sep 2016 07:59:35 +0000"  >&lt;p&gt;Yea, I remember the discussion about &lt;tt&gt;string&lt;/tt&gt; vs &lt;tt&gt;text&lt;/tt&gt;, and the tradeoff between searchability and facets. Some argued to choose &quot;string&quot; for short strings and &quot;text&quot; for longer strings, but that would be a mess, so we settled on a more consistent behavior. What if we create a new fieldType &lt;tt&gt;text_datadriven&lt;/tt&gt; which has &lt;tt&gt;docValues=&quot;true&quot;&lt;/tt&gt;, and let the data driven logic always use that one, perhaps with some cutoff for very long texts? It will not be the best fit for all data sets, but then people should do explicit mapping anyway...&lt;/p&gt;</comment>
                            <comment id="15503073" author="arafalov" created="Mon, 19 Sep 2016 10:49:28 +0000"  >&lt;p&gt;The problem with adding docValues to the field is that now the stored=false flag is ignored, because we fetch from docValues. In fact, we already saw users super-confused when that happened with one of the example schemas.&lt;/p&gt;</comment>
                            <comment id="15503942" author="steve_rowe" created="Mon, 19 Sep 2016 16:41:05 +0000"  >&lt;p&gt;I&apos;m going to work on updating the quick start tutorial - it should be kept up-to-date, independently of any changes we may decide on for the data driven configset,&lt;/p&gt;</comment>
                            <comment id="15503983" author="hossman" created="Mon, 19 Sep 2016 16:53:11 +0000"  >&lt;blockquote&gt;&lt;p&gt;Possibly to make facets work out of the box? Just guessing.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I&apos;m probably the biggest proponent of &quot;featuring&quot; &amp;amp; promoting faceting in solr, and even i think it&apos;s absurd for our recomended cofigs to promote faceting at the expense of basic (tokenized) field search.&lt;/p&gt;

&lt;p&gt;Hee&apos;s my off the cuff, un tested, straw man suggestion, that seems like it would be 100x better then what we have now...&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;change &lt;tt&gt;defaultFieldType&lt;/tt&gt; back to &lt;tt&gt;text_general&lt;/tt&gt;&lt;/li&gt;
	&lt;li&gt;add this to the processor chain, &lt;b&gt;after&lt;/b&gt; AddSchemaFieldsUpdateProcessorFactory...
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;processor class=&lt;span class=&quot;code-quote&quot;&gt;&quot;solr.CloneFieldUpdateProcessorFactory&quot;&lt;/span&gt;&amp;gt;
 &amp;lt;lst name=&lt;span class=&quot;code-quote&quot;&gt;&quot;source&quot;&lt;/span&gt;&amp;gt;
  &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;typeClass&quot;&lt;/span&gt;&amp;gt;solr.TextField&amp;lt;/str&amp;gt;
  &amp;lt;lst name=&lt;span class=&quot;code-quote&quot;&gt;&quot;exclude&quot;&lt;/span&gt;&amp;gt;
   &amp;lt;!-- large text fieds you don&apos;t want &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; sorting or faceting can be excluded here --&amp;gt;
  &amp;lt;/lst&amp;gt;
 &amp;lt;/lst&amp;gt;
 &amp;lt;lst name=&lt;span class=&quot;code-quote&quot;&gt;&quot;dest&quot;&lt;/span&gt;&amp;gt;
  &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;pattern&quot;&lt;/span&gt;&amp;gt;^(.*)$&amp;lt;/str&amp;gt;
  &amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;replacement&quot;&lt;/span&gt;&amp;gt;$1_str&amp;lt;/str&amp;gt;
 &amp;lt;/lst&amp;gt;
&amp;lt;/processor&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
	&lt;li&gt;Add &lt;tt&gt;&amp;lt;dynamicField name=&quot;*_str&quot; type=&quot;strings&quot; useDocValuesAsStored=&quot;false&quot; indexed=&quot;true&quot; stored=&quot;false&quot;/&amp;gt;&lt;/tt&gt; to the managed-schema&lt;/li&gt;
	&lt;li&gt;?? Add &lt;tt&gt;stored=&quot;true&quot;&lt;/tt&gt; to &lt;tt&gt;text_general&lt;/tt&gt; ??
	&lt;ul&gt;
		&lt;li&gt;All the existing fields/dynamicFields using this type set it explicitly to either true/false, but i think if we want to use it as the &lt;tt&gt;defaultFieldType&lt;/tt&gt; we&apos;re going to want to set it to &lt;tt&gt;true&lt;/tt&gt; on the fieldType itself so any fields added by AddSchemaFieldsUpdateProcessorFactory have the value stored (so end users can see them in search results)&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;This should fix the most egregious problems like what we see with the broken tutorial (folks add a simple &quot;text&quot; field containing a &quot;name&quot; or a &quot;title&quot; and can&apos;t search on &quot;words&quot; in that text field) while still supporting sorting/faceting on short &quot;string&quot; fields by using the &lt;tt&gt;_str&lt;/tt&gt; variant.&lt;/p&gt;

&lt;p&gt;I&apos;m assuming this wouldn&apos;t break whatever &quot;auto pick facet&quot; stuff is in velocity, since i&apos;m pretty sure it works by looking for all the &lt;tt&gt;solr.StrField&lt;/tt&gt; fields, but if it does then that should be fixed as a distinct issue &amp;#8211; we shouldn&apos;t be breaking something as basic as &quot;i want to search for a word in a field&quot; just because it makes the velocity UI harder to use.&lt;/p&gt;</comment>
                            <comment id="15504104" author="steve_rowe" created="Mon, 19 Sep 2016 17:37:04 +0000"  >&lt;p&gt;+1 to hoss&apos;s suggested changes&lt;/p&gt;</comment>
                            <comment id="15507506" author="steve_rowe" created="Tue, 20 Sep 2016 19:18:54 +0000"  >&lt;p&gt;I attached a patch on &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6871&quot; title=&quot;Need a process for updating &amp;amp; maintaining the new quickstart tutorial (and any other tutorials added to the website)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6871&quot;&gt;&lt;del&gt;SOLR-6871&lt;/del&gt;&lt;/a&gt; that addresses the per-field search problem - see &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6871?focusedCommentId=15507467&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15507467&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;my comment there&lt;/a&gt; for details.&lt;/p&gt;</comment>
                            <comment id="15551468" author="janhoy" created="Thu, 6 Oct 2016 09:37:20 +0000"  >&lt;p&gt;This is the approach that ES will take in 5.x too, see &lt;a href=&quot;https://www.elastic.co/blog/strings-are-dead-long-live-strings&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://www.elastic.co/blog/strings-are-dead-long-live-strings&lt;/a&gt;&lt;br/&gt;
When auto guessing they will index the field, say &quot;city&quot; as full-text, and also add a string/keyword copy as &quot;city.keyword&quot;. This can be changed by modifying mappings.&lt;/p&gt;

&lt;p&gt;Instead of the &quot;exclude&quot; params, perhaps we should have a way to cutoff the string copy at e.g. 256 chars, I mean, when would you need longer facet values?&lt;/p&gt;

&lt;p&gt;Also, it is unfortunate to split your &quot;schema&quot; across the schema file and a solrconfig URP. Take the example where you want to use data driven schema, but want to lock a few key fields up front by issuing &lt;tt&gt;add-field&lt;/tt&gt; commands. With Hoss&apos; suggestion this would work fine if you lock e.g. &lt;tt&gt;&amp;lt;field name=&quot;city&quot; fieldType=&quot;string&quot; /&amp;gt;&lt;/tt&gt;, but what if you want to force it into e.g. a Norwegian text with &lt;tt&gt;&amp;lt;field name=&quot;city&quot; fieldType=&quot;text_no&quot; /&amp;gt;&lt;/tt&gt;. Then the CloneFieldUpdateProcessorFactory would still run, creating the &lt;tt&gt;city_str&lt;/tt&gt; copy. That would be confusing.&lt;/p&gt;

&lt;p&gt;So I&apos;m thinking if it would be best to bake this feature more integrated with &lt;tt&gt;AddSchemaFieldsUpdateProcessorFactory&lt;/tt&gt;, so that when an unknown field name with String content comes in, we create a text_general field for it, but we also create a copyFIeld in the schema for it, e.g. &lt;tt&gt;&amp;lt;copyField source=&quot;city&quot; dest=&quot;city_txt&quot; cutoff=&quot;256&quot;/&amp;gt;&lt;/tt&gt;. This means we&apos;d add a cutoff feature to today&apos;s copyFIeld, but we have the rest of what we need. Sample UPF:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;processor class=&lt;span class=&quot;code-quote&quot;&gt;&quot;solr.AddSchemaFieldsUpdateProcessorFactory&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;defaultFieldType&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;text_general&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/str&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;lst name=&lt;span class=&quot;code-quote&quot;&gt;&quot;typeMapping&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;valueClass&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;java.lang.String&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/str&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;fieldType&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;text_general&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/str&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;lst name=&lt;span class=&quot;code-quote&quot;&gt;&quot;copyField&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;pattern&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;^(.*)$&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/str&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;replacement&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;$1_str&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/str&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;int name=&lt;span class=&quot;code-quote&quot;&gt;&quot;cutoff&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;256&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/int&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/lst&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/lst&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;lst name=&lt;span class=&quot;code-quote&quot;&gt;&quot;typeMapping&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;valueClass&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;java.lang.Boolean&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/str&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;fieldType&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;booleans&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/str&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/lst&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;lst name=&lt;span class=&quot;code-quote&quot;&gt;&quot;typeMapping&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;valueClass&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;java.util.Date&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/str&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;fieldType&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;tdates&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/str&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/lst&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;lst name=&lt;span class=&quot;code-quote&quot;&gt;&quot;typeMapping&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;valueClass&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;java.lang.Long&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/str&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;valueClass&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;java.lang.Integer&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/str&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;fieldType&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;tlongs&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/str&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/lst&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;lst name=&lt;span class=&quot;code-quote&quot;&gt;&quot;typeMapping&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;valueClass&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;java.lang.Number&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/str&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;fieldType&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;tdoubles&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/str&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/lst&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/processor&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The result will be that users can configure fields up-front without our logic messing it up, and they can also change ONLY the schema later if they wish to remove the &lt;tt&gt;copyFIeld&lt;/tt&gt; again. Then our defaults would not mess it up either. Users will only need to relate the the schema API!&lt;/p&gt;</comment>
                            <comment id="15551641" author="arafalov" created="Thu, 6 Oct 2016 11:08:14 +0000"  >&lt;p&gt;Actually copyField already has a limiting parameter, it is called maxChars. So, we just need to generate the instruction. And I don&apos;t think we have a lot of flexibility on original field name (unless we support multiple matches and multiple ways to generate copyField), so we probably don&apos;t need to match it in anyway. We just need to indicate the target field construction pattern, which will need to be materialized if we are creating a separate copyField for each original field.&lt;/p&gt;

&lt;p&gt;So it would look something like this:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;&amp;lt;lst name=&quot;typeMapping&quot;&amp;gt;
        &amp;lt;str name=&quot;valueClass&quot;&amp;gt;java.lang.String&amp;lt;/str&amp;gt;
        &amp;lt;str name=&quot;fieldType&quot;&amp;gt;text_general&amp;lt;/str&amp;gt;
        &amp;lt;lst name=&quot;copyField&quot;&amp;gt;
          &amp;lt;str name=&quot;dest&quot;&amp;gt;*_ss&amp;lt;/str&amp;gt;
          &amp;lt;int name=&quot;maxChars&quot;&amp;gt;256&amp;lt;/int&amp;gt;
        &amp;lt;/lst&amp;gt;
&amp;lt;/lst&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And for a field &quot;xyz&quot; it would generate:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;&amp;lt;copyField source=&quot;xyz&quot; dest=&quot;xyz_ss&quot; maxChars=&quot;256&quot;/&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Hoss&apos; proposal is nicer in that it is more flexible (we could put any URP sequence there) and we could generate different matching patterns. But as already mentioned, doing the URP-side copying is a bit more challenging. Especially since CloneField URP does not actually inherit FieldMutating URP (perhaps it should). And what happens if people want to remove the schemaless mode when going into production, will this suddenly break the setup and content stops flowing from text field to the string?&lt;/p&gt;

&lt;p&gt;(Edit) field has to be _ss because - I assume - we are generating a copyField to a dynamicField that has to be strings *multiValued=true&quot;. Unless we are generating individual &quot;xyz_str&quot; fields as well, in which case, perhaps the syntax should not look like copyField at all as we are generating 3 instructions instead of 1 before.&lt;/p&gt;</comment>
                            <comment id="15552168" author="janhoy" created="Thu, 6 Oct 2016 15:10:52 +0000"  >&lt;p&gt;In Hoss&apos; proposal above, he suggests the following:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Add &amp;lt;dynamicField name=&quot;*_str&quot; type=&quot;strings&quot; useDocValuesAsStored=&quot;false&quot; indexed=&quot;true&quot; stored=&quot;false&quot;/&amp;gt; to the managed-schema...&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;So that dynField will already exist. And since this will be a feature that will need to be explained in tutorials etc (why to facet on &lt;tt&gt;city_str&lt;/tt&gt; and not &lt;tt&gt;city&lt;/tt&gt;, it is nice if the suffix is meaningful.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hossman&quot; class=&quot;user-hover&quot; rel=&quot;hossman&quot;&gt;hossman&lt;/a&gt; why did you propose both docValues=true and indexed=true for &lt;tt&gt;*_str&lt;/tt&gt;?&lt;/p&gt;</comment>
                            <comment id="15552529" author="hossman" created="Thu, 6 Oct 2016 17:06:59 +0000"  >&lt;blockquote&gt;&lt;p&gt;Hoss Man why did you propose both docValues=true and indexed=true for &lt;tt&gt;&amp;#42;_str&lt;/tt&gt;?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I don&apos;t remember concretely, but I&apos;m guessing my thinking was:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;(inherit) docValues=true (from the fieldType) so we get the most efficient faceting&lt;/li&gt;
	&lt;li&gt;indexed=true so we can get the most efficient filtering&lt;/li&gt;
	&lt;li&gt;stored=false because this is a redundant copy of another field that&apos;s already stored&lt;/li&gt;
	&lt;li&gt;useDocValuesAsStored=false for the same reason.&lt;/li&gt;
&lt;/ul&gt;


&lt;blockquote&gt;&lt;p&gt;Also, it is unfortunate to split your &quot;schema&quot; across the schema file and a solrconfig URP. Take the example where you want to use data driven schema, ...&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I think he 1st priority should be making the data_driven configs work well for trivial examples and the tutorial - by the time a user starts thinking about explicit fields they wnat, and explicit copy/clones they want, they should be thinking about overridding/eliminating/disabling all of the &quot;schemaless&quot; features anyway.&lt;/p&gt;</comment>
                            <comment id="15554306" author="janhoy" created="Fri, 7 Oct 2016 06:46:35 +0000"  >&lt;p&gt;Ok, I tested the add-copy-field approach and it works so far.&lt;br/&gt;
Added a test case that validates that both fields get created with correct type.&lt;br/&gt;
Attached is a preliminary patch with lots of TODO. So far it lacks support for maxChars cutoff.&lt;/p&gt;</comment>
                            <comment id="15555154" author="githubbot" created="Fri, 7 Oct 2016 14:02:33 +0000"  >&lt;p&gt;GitHub user janhoy opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/lucene-solr/pull/91&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/lucene-solr/pull/91&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9526&quot; title=&quot;data_driven configs defaults to &amp;quot;strings&amp;quot; for unmapped fields, makes most fields containing &amp;quot;textual content&amp;quot; unsearchable, breaks tutorial examples&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9526&quot;&gt;&lt;del&gt;SOLR-9526&lt;/del&gt;&lt;/a&gt;: Next iteration on data driven schema, _str copyField&lt;/p&gt;

&lt;p&gt;    Added support for a default typeMapping.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/cominvent/lucene-solr&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/cominvent/lucene-solr&lt;/a&gt; solr9526-datadriven&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/lucene-solr/pull/91.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/lucene-solr/pull/91.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #91&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit e7fad966553b51231c36d8d5368f04caf54083f8&lt;br/&gt;
Author: Jan H&#248;ydahl &amp;lt;janhoy@apache.org&amp;gt;&lt;br/&gt;
Date:   2016-10-07T00:40:36Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9526&quot; title=&quot;data_driven configs defaults to &amp;quot;strings&amp;quot; for unmapped fields, makes most fields containing &amp;quot;textual content&amp;quot; unsearchable, breaks tutorial examples&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9526&quot;&gt;&lt;del&gt;SOLR-9526&lt;/del&gt;&lt;/a&gt;: First patch for data-driven string clone, support for default typeMapping, tests pass&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15555352" author="dsmiley" created="Fri, 7 Oct 2016 15:15:00 +0000"  >&lt;blockquote&gt;&lt;p&gt;I think he 1st priority should be making the data_driven configs work well for trivial examples and the tutorial - by the time a user starts thinking about explicit fields they wnat, and explicit copy/clones they want, they should be thinking about overridding/eliminating/disabling all of the &quot;schemaless&quot; features anyway.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;+1 to that!&lt;/p&gt;</comment>
                            <comment id="15559487" author="janhoy" created="Sun, 9 Oct 2016 07:27:13 +0000"  >&lt;p&gt;Updated patch:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;tt&gt;maxChars&lt;/tt&gt; settings now work&lt;/li&gt;
	&lt;li&gt;Supports multiple &lt;tt&gt;copyField&lt;/tt&gt; per typeMapping&lt;/li&gt;
	&lt;li&gt;Possible to let one of the defined typeMappings be &quot;default&quot; instead of falling back to &lt;tt&gt;defaultFieldType&lt;/tt&gt;. This allows a new field with unknown / mixed-type value-type to use the type and copyField of a mapping&lt;/li&gt;
	&lt;li&gt;Changed tests to validate that the schema is modified correclty&lt;/li&gt;
	&lt;li&gt;Added an actual indexing/query test validating that the cutoff works&lt;/li&gt;
	&lt;li&gt;The data-driven-config now defaults to &lt;tt&gt;text_general&lt;/tt&gt; instead of string, and for java.lang.String types it adds a &lt;tt&gt;*_str&lt;/tt&gt; copyField with maxChars=256&lt;/li&gt;
	&lt;li&gt;Removed &lt;tt&gt;useDocValuesAsStored=&quot;false&quot;&lt;/tt&gt; from the dynamicField &lt;tt&gt;*_str&lt;/tt&gt; definition, meaning the *_str copy will be visible in search results (from docValues). Think this is more intuitive for beginners and easier to explain in tutorials&lt;/li&gt;
	&lt;li&gt;Removed &lt;tt&gt;indexed=&quot;true&quot;&lt;/tt&gt; to save space and simplify things, filtering will still work, if not as efficient?&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="16047067" author="janhoy" created="Mon, 12 Jun 2017 21:09:02 +0000"  >&lt;p&gt;What do folks think about the approach taken in the patch? I&apos;m thinking about updating it to apply to master.&lt;/p&gt;</comment>
                            <comment id="16055714" author="githubbot" created="Tue, 20 Jun 2017 13:04:37 +0000"  >&lt;p&gt;Github user janhoy commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/lucene-solr/pull/91&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/lucene-solr/pull/91&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Pull request updated to current master. Please review.&lt;/p&gt;</comment>
                            <comment id="16057121" author="janhoy" created="Wed, 21 Jun 2017 07:55:52 +0000"  >&lt;p&gt;New patch and updated PR &lt;a href=&quot;https://github.com/apache/lucene-solr/pull/91&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/lucene-solr/pull/91&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Fixed bug that did not persist copyFields to schema&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;See new NOCOMMIT comments. I was using the &lt;tt&gt;ManagedIndexSchema&lt;/tt&gt; method&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; ManagedIndexSchema addCopyFields(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; source, Collection&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt; destinations, &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; maxChars)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;which does not have a &lt;tt&gt;persist=true/false&lt;/tt&gt; argument, so calling it leaves the schema not persisted. Then I could not find a way to explicitly persist it since method&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; persistManagedSchema(&lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; createOnly)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;was not public. In this patch I&apos;ve made it public and done a hacky instanceof check in &lt;tt&gt;AddSchemaFieldsUpdateProcessorFactory&lt;/tt&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (newSchema &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; ManagedIndexSchema) {
  &lt;span class=&quot;code-comment&quot;&gt;// NOCOMMIT: Hack to avoid persisting schema once after addFields and then once after each copyField
&lt;/span&gt;  ((ManagedIndexSchema)newSchema).persistManagedSchema(&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;);
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=steve_rowe&quot; class=&quot;user-hover&quot; rel=&quot;steve_rowe&quot;&gt;steve_rowe&lt;/a&gt;, you wrote the &lt;tt&gt;addCopyFields()&lt;/tt&gt; method a while ago, is there a cleaner way to make sure schema is persisted after adding a copyField?&lt;/p&gt;</comment>
                            <comment id="16057194" author="janhoy" created="Wed, 21 Jun 2017 08:45:36 +0000"  >&lt;p&gt;I have recorded a Terminal session recording to show how this patch works, from creating a collection, to adding a doc, inspecting schema and verifying that the string copy is cutoff. Enjoy:&lt;br/&gt;
&lt;a href=&quot;https://asciinema.org/a/HY7TDV1owj2Og1qlpfeJondsi&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://asciinema.org/a/HY7TDV1owj2Og1qlpfeJondsi.png&quot; width=&quot;400&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=arafalov&quot; class=&quot;user-hover&quot; rel=&quot;arafalov&quot;&gt;arafalov&lt;/a&gt; Don&apos;t you agree that this approach is better than having some field copying being done in URP and some in schema? You can now:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;Create a collection&lt;/li&gt;
	&lt;li&gt;Define some fields up-front with schema REST API&lt;/li&gt;
	&lt;li&gt;Start indexing documents and let other fields be guessed, searchable and facetable (_str)&lt;/li&gt;
	&lt;li&gt;Inspect the schema created, and if you&apos;re happy you can switch to &lt;tt&gt;update.autoCreateFields=false&lt;/tt&gt; or even copy the schema to another collection&lt;/li&gt;
	&lt;li&gt;If you&apos;re not happy with some field guessing, you can modify schema with the API, changing type, removing/adding &lt;tt&gt;*_str&lt;/tt&gt; copyField rules etc&lt;/li&gt;
	&lt;li&gt;You can even create a &lt;tt&gt;typeMapping&lt;/tt&gt; in the &lt;tt&gt;add-unknown-fields-to-the-schema&lt;/tt&gt; chain that will copy all Integers to a &lt;tt&gt;_f&lt;/tt&gt; float version or any other combination if it makes sense for you &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/li&gt;
&lt;/ol&gt;
</comment>
                            <comment id="16068936" author="janhoy" created="Thu, 29 Jun 2017 20:32:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=steve_rowe&quot; class=&quot;user-hover&quot; rel=&quot;steve_rowe&quot;&gt;steve_rowe&lt;/a&gt; please fill in your wisdom regarding my question above &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="16070570" author="steve_rowe" created="Fri, 30 Jun 2017 18:49:53 +0000"  >&lt;blockquote&gt;&lt;p&gt;Steve Rowe please fill in your wisdom regarding my question above &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Sure, sorry for the delay, I&apos;ll investigate today and let you know what I find.  (It&apos;s been long enough that I don&apos;t remember the situation there.)&lt;/p&gt;</comment>
                            <comment id="16074862" author="janhoy" created="Wed, 5 Jul 2017 14:38:49 +0000"  >&lt;p&gt;Any luck &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=steve_rowe&quot; class=&quot;user-hover&quot; rel=&quot;steve_rowe&quot;&gt;steve_rowe&lt;/a&gt;? I&apos;d like for this to be in 7.0 from the get go to have a better OOTB experience with field guessing now that _default schema will be even more used.&lt;/p&gt;</comment>
                            <comment id="16074877" author="anshumg" created="Wed, 5 Jul 2017 14:50:31 +0000"  >&lt;p&gt;I think we can get this into 7.0. I&apos;m fine with this as it&apos;s an improvement that fixes things.&lt;/p&gt;</comment>
                            <comment id="16074905" author="steve_rowe" created="Wed, 5 Jul 2017 15:08:46 +0000"  >&lt;blockquote&gt;&lt;p&gt;Any luck Steve Rowe? I&apos;d like for this to be in 7.0 from the get go to have a better OOTB experience with field guessing now that _default schema will be even more used.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Sorry, didn&apos;t look yet, doing so now.&lt;/p&gt;</comment>
                            <comment id="16075116" author="steve_rowe" created="Wed, 5 Jul 2017 17:32:13 +0000"  >&lt;p&gt;Attaching patch brought up to date with master (in particular, collapsing of &lt;tt&gt;data_driven_schema_configs&lt;/tt&gt; and &lt;tt&gt;basic_configs&lt;/tt&gt; into &lt;tt&gt;_default&lt;/tt&gt;) - note that your original patch only modified &lt;tt&gt;solrconfig.xml&lt;/tt&gt; on one of these and &lt;tt&gt;managed_schema&lt;/tt&gt; on the other - I assume you had/have local changes that didn&apos;t make it into the patch &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=janhoy&quot; class=&quot;user-hover&quot; rel=&quot;janhoy&quot;&gt;janhoy&lt;/a&gt;?  I made a couple of other changes; details below.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;See new NOCOMMIT comments. I was using the ManagedIndexSchema method&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; ManagedIndexSchema addCopyFields(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; source, Collection&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt; destinations, &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; maxChars)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;which does not have a &lt;tt&gt;persist=true/false&lt;/tt&gt; argument, so calling it leaves the schema not persisted. Then I could not find a way to explicitly persist it since method&lt;br/&gt;
&lt;tt&gt;boolean persistManagedSchema(boolean createOnly)&lt;/tt&gt;&lt;br/&gt;
was not public. In this patch I&apos;ve made it public and done a hacky instanceof check in AddSchemaFieldsUpdateProcessorFactory&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (newSchema &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; ManagedIndexSchema) {
  &lt;span class=&quot;code-comment&quot;&gt;// NOCOMMIT: Hack to avoid persisting schema once after addFields and then once after each copyField
&lt;/span&gt;  ((ManagedIndexSchema)newSchema).persistManagedSchema(&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;);
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Steve Rowe, you wrote the &lt;tt&gt;addCopyFields()&lt;/tt&gt; method a while ago, is there a cleaner way to make sure schema is persisted after adding a copyField?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;The design of &lt;tt&gt;ManagedIndexSchema&lt;/tt&gt;&apos;s API was in support of the Schema REST API, where each resource was modifiable one at a time; &quot;bulk&quot; modifications weren&apos;t possible.  In the new bulk schema API, though, the ordinary case involves multiple modifications; in this case, it is counter-productive to persist in the middle of a set of operations.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6476&quot; title=&quot;Create a bulk mode for schema API&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6476&quot;&gt;&lt;del&gt;SOLR-6476&lt;/del&gt;&lt;/a&gt; (introducing schema &quot;bulk&quot; mode) added the option to &lt;b&gt;not&lt;/b&gt; persist the schema after an operation; previously every operation was automatically persisted.  This was added as an option because at the time, bulk and REST modes co-existed.   &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-7682&quot; title=&quot;Schema API - Add New Copy Field Rule doesn&amp;#39;t allow maxChars parameter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-7682&quot;&gt;&lt;del&gt;SOLR-7682&lt;/del&gt;&lt;/a&gt; added the ability to specify maxChars for copyField directives, and I intentionally left off the &lt;tt&gt;persist&lt;/tt&gt; option of the new &lt;tt&gt;addCopyFields()&lt;/tt&gt; method, because there was (intentionally) no way to invoke this capability via the (now deprecated) schema REST API, and the bulk schema API didn&apos;t need the &lt;tt&gt;persist&lt;/tt&gt; option.&lt;/p&gt;

&lt;p&gt;Long story short: I think making &lt;tt&gt;persistManagedSchema()&lt;/tt&gt; public is a natural consequence of the bulk schema API (and in support of bulk operations from other sources, e.g. this issue).  It&apos;s just that nobody had gotten around to it yet.  &lt;/p&gt;

&lt;p&gt;In &lt;tt&gt;AddSchemaFieldsUpdateProcessorFactory.processAdd()&lt;/tt&gt; in my patch I removed the &lt;tt&gt;instanceof ManagedIndexSchema&lt;/tt&gt; check wrapping the call to &lt;tt&gt;persistManagedSchama()&lt;/tt&gt;, as well as the &lt;tt&gt;NOCOMMIT&lt;/tt&gt;&apos;s, since the check &lt;tt&gt;if ( ! cmd.getReq().getSchema().isMutable())&lt;/tt&gt; at the beginning of the method already ensures that we&apos;re dealing with a &lt;tt&gt;ManagedIndexSchema&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;I also removed the following &lt;tt&gt;typeMapping&lt;/tt&gt; that was added in your patch from URP chains &lt;tt&gt;add-fields-no-run-processor&lt;/tt&gt; and &lt;tt&gt;parse-and-add-fields&lt;/tt&gt; in &lt;tt&gt;solrconfig-add-schema-fields-update-processor-chains.xml&lt;/tt&gt; - I&apos;m assuming this is a vestige from an earlier concept of removing &lt;tt&gt;&amp;lt;defaultTypeMapping&amp;gt;&lt;/tt&gt;, since these chains have &lt;tt&gt;&amp;lt;str name=&quot;defaultFieldType&quot;&amp;gt;text&amp;lt;/str&amp;gt;&lt;/tt&gt;?  &lt;tt&gt;AddSchemaFieldsUpdateProcessorFactoryTest&lt;/tt&gt; passes with my change:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;lst name=&lt;span class=&quot;code-quote&quot;&gt;&quot;typeMapping&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;valueClass&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;java.lang.String&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/str&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;str name=&lt;span class=&quot;code-quote&quot;&gt;&quot;fieldType&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;text&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/str&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/lst&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16076151" author="janhoy" created="Thu, 6 Jul 2017 08:20:58 +0000"  >&lt;p&gt;Thanks a lot for the thorough work. I&apos;m attaching another iteration&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Added CHANGES.txt entries for &quot;Upgrading&quot; and &quot;New features&quot; sections. Please review.&lt;/li&gt;
	&lt;li&gt;Removed the need for &lt;tt&gt;&amp;lt;str name=&quot;defaultFieldType&quot;&amp;gt;strings&amp;lt;/str&amp;gt;&lt;/tt&gt; when one of the typeMappings has the new tag &lt;tt&gt;&amp;lt;bool name=&quot;default&quot;&amp;gt;true&amp;lt;/bool&amp;gt;&lt;/tt&gt;, also removed this from solrconfigs&lt;/li&gt;
	&lt;li&gt;Updated Ref-Guide, mainly &lt;tt&gt;schemaless-mode.adoc&lt;/tt&gt;, to discuss the copyField. There may be other locations, examples etc that also needs update...&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Precommit passes. Several test failures but that is unrelated as far as I can tell&lt;/p&gt;</comment>
                            <comment id="16076260" author="janhoy" created="Thu, 6 Jul 2017 09:45:22 +0000"  >&lt;p&gt;New patch&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Fix test failure &lt;tt&gt;TestConfigSetsAPI.testUserAndTestDefaultConfigsetsAreSame&lt;/tt&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Now both &lt;tt&gt;ant test&lt;/tt&gt; and &lt;tt&gt;ant precommit&lt;/tt&gt; succeeds on my Mac! Will commit this later today.. We can followup with doc fixes as we come across them.&lt;/p&gt;</comment>
                            <comment id="16076551" author="jira-bot" created="Thu, 6 Jul 2017 14:07:56 +0000"  >&lt;p&gt;Commit a60ec1b4321b023ec868d77bce71660e5a19ce47 in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=janhoy&quot; class=&quot;user-hover&quot; rel=&quot;janhoy&quot;&gt;janhoy&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=a60ec1b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=a60ec1b&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9526&quot; title=&quot;data_driven configs defaults to &amp;quot;strings&amp;quot; for unmapped fields, makes most fields containing &amp;quot;textual content&amp;quot; unsearchable, breaks tutorial examples&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9526&quot;&gt;&lt;del&gt;SOLR-9526&lt;/del&gt;&lt;/a&gt;: Data driven schema now indexes text field &quot;foo&quot; as both &quot;foo&quot; (text_general) and as &quot;foo_str&quot; (string) to facilitate both search and faceting&lt;/p&gt;</comment>
                            <comment id="16076580" author="jira-bot" created="Thu, 6 Jul 2017 14:22:14 +0000"  >&lt;p&gt;Commit 451a203f2de8393b69751bf4351896cfc87bd9bd in lucene-solr&apos;s branch refs/heads/branch_7x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=janhoy&quot; class=&quot;user-hover&quot; rel=&quot;janhoy&quot;&gt;janhoy&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=451a203&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=451a203&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9526&quot; title=&quot;data_driven configs defaults to &amp;quot;strings&amp;quot; for unmapped fields, makes most fields containing &amp;quot;textual content&amp;quot; unsearchable, breaks tutorial examples&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9526&quot;&gt;&lt;del&gt;SOLR-9526&lt;/del&gt;&lt;/a&gt;: Data driven schema now indexes text field &quot;foo&quot; as both &quot;foo&quot; (text_general) and as &quot;foo_str&quot; (string) to facilitate both search and faceting&lt;/p&gt;

&lt;p&gt;(cherry picked from commit a60ec1b)&lt;/p&gt;</comment>
                            <comment id="16076610" author="jira-bot" created="Thu, 6 Jul 2017 14:34:48 +0000"  >&lt;p&gt;Commit 257883d65c4cc4c366493a6d0cae908fbccaca8f in lucene-solr&apos;s branch refs/heads/branch_7_0 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=janhoy&quot; class=&quot;user-hover&quot; rel=&quot;janhoy&quot;&gt;janhoy&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=257883d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=257883d&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9526&quot; title=&quot;data_driven configs defaults to &amp;quot;strings&amp;quot; for unmapped fields, makes most fields containing &amp;quot;textual content&amp;quot; unsearchable, breaks tutorial examples&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9526&quot;&gt;&lt;del&gt;SOLR-9526&lt;/del&gt;&lt;/a&gt;: Data driven schema now indexes text field &quot;foo&quot; as both &quot;foo&quot; (text_general) and as &quot;foo_str&quot; (string) to facilitate both search and faceting&lt;/p&gt;

&lt;p&gt;(cherry picked from commit a60ec1b)&lt;/p&gt;</comment>
                            <comment id="16076640" author="janhoy" created="Thu, 6 Jul 2017 14:56:02 +0000"  >&lt;p&gt;Finally this is done! Thanks to all participants. Will be exciting to see user reactions when they try this in 7.0.&lt;/p&gt;

&lt;p&gt;I urge all committers to give it a spin right now and also open new JIRAs for bugs, documentation that is wrong due to this etc.&lt;/p&gt;</comment>
                            <comment id="16076775" author="jira-bot" created="Thu, 6 Jul 2017 15:47:19 +0000"  >&lt;p&gt;Commit 5e7fa4ceee8f31fcf90254e96d1476281faa922b in lucene-solr&apos;s branch refs/heads/branch_7_0 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=steve_rowe&quot; class=&quot;user-hover&quot; rel=&quot;steve_rowe&quot;&gt;steve_rowe&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=5e7fa4c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=5e7fa4c&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9526&quot; title=&quot;data_driven configs defaults to &amp;quot;strings&amp;quot; for unmapped fields, makes most fields containing &amp;quot;textual content&amp;quot; unsearchable, breaks tutorial examples&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9526&quot;&gt;&lt;del&gt;SOLR-9526&lt;/del&gt;&lt;/a&gt;: fix javadocs&lt;/p&gt;</comment>
                            <comment id="16076776" author="jira-bot" created="Thu, 6 Jul 2017 15:47:21 +0000"  >&lt;p&gt;Commit 20fccd286d207363b154fca61e5aa49824dbf295 in lucene-solr&apos;s branch refs/heads/branch_7x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=steve_rowe&quot; class=&quot;user-hover&quot; rel=&quot;steve_rowe&quot;&gt;steve_rowe&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=20fccd2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=20fccd2&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9526&quot; title=&quot;data_driven configs defaults to &amp;quot;strings&amp;quot; for unmapped fields, makes most fields containing &amp;quot;textual content&amp;quot; unsearchable, breaks tutorial examples&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9526&quot;&gt;&lt;del&gt;SOLR-9526&lt;/del&gt;&lt;/a&gt;: fix javadocs&lt;/p&gt;</comment>
                            <comment id="16076777" author="jira-bot" created="Thu, 6 Jul 2017 15:47:23 +0000"  >&lt;p&gt;Commit 510608decb5e4ce5b6184d86662af5bd33e1be11 in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=steve_rowe&quot; class=&quot;user-hover&quot; rel=&quot;steve_rowe&quot;&gt;steve_rowe&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=510608d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=510608d&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9526&quot; title=&quot;data_driven configs defaults to &amp;quot;strings&amp;quot; for unmapped fields, makes most fields containing &amp;quot;textual content&amp;quot; unsearchable, breaks tutorial examples&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9526&quot;&gt;&lt;del&gt;SOLR-9526&lt;/del&gt;&lt;/a&gt;: fix javadocs&lt;/p&gt;</comment>
                            <comment id="16076785" author="steve_rowe" created="Thu, 6 Jul 2017 15:51:32 +0000"  >&lt;p&gt;I brought the &lt;tt&gt;AddSchemaFieldsUpdateProcessorFactory&lt;/tt&gt; javadocs up to date.  &lt;/p&gt;

&lt;p&gt;I also looked at all mentions of &quot;schemaless&quot; and &quot;data-driven&quot; in the ref guide, and didn&apos;t find any other places that needed updating.&lt;/p&gt;</comment>
                            <comment id="16077215" author="janhoy" created="Thu, 6 Jul 2017 21:24:26 +0000"  >&lt;p&gt;Thanks Steve. &lt;/p&gt;</comment>
                            <comment id="16153747" author="jira-bot" created="Tue, 5 Sep 2017 14:36:41 +0000"  >&lt;p&gt;Commit aff647ecfaf5af3bbeb2363b82821c53c5df7f3d in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ctargett&quot; class=&quot;user-hover&quot; rel=&quot;ctargett&quot;&gt;ctargett&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=aff647e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=aff647e&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9526&quot; title=&quot;data_driven configs defaults to &amp;quot;strings&amp;quot; for unmapped fields, makes most fields containing &amp;quot;textual content&amp;quot; unsearchable, breaks tutorial examples&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9526&quot;&gt;&lt;del&gt;SOLR-9526&lt;/del&gt;&lt;/a&gt;: Update Ref Guide for schemaless changes&lt;/p&gt;</comment>
                            <comment id="16153749" author="jira-bot" created="Tue, 5 Sep 2017 14:37:35 +0000"  >&lt;p&gt;Commit 1ecc0344ef45571bf8aaf84c8a37e8d18e17a0c2 in lucene-solr&apos;s branch refs/heads/branch_7x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ctargett&quot; class=&quot;user-hover&quot; rel=&quot;ctargett&quot;&gt;ctargett&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=1ecc034&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=1ecc034&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9526&quot; title=&quot;data_driven configs defaults to &amp;quot;strings&amp;quot; for unmapped fields, makes most fields containing &amp;quot;textual content&amp;quot; unsearchable, breaks tutorial examples&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9526&quot;&gt;&lt;del&gt;SOLR-9526&lt;/del&gt;&lt;/a&gt;: Update Ref Guide for schemaless changes&lt;/p&gt;</comment>
                            <comment id="16153750" author="jira-bot" created="Tue, 5 Sep 2017 14:37:54 +0000"  >&lt;p&gt;Commit 562613dc8f7906b5b7c123a6a6ed5726674e09e4 in lucene-solr&apos;s branch refs/heads/branch_7_0 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ctargett&quot; class=&quot;user-hover&quot; rel=&quot;ctargett&quot;&gt;ctargett&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=562613d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=562613d&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9526&quot; title=&quot;data_driven configs defaults to &amp;quot;strings&amp;quot; for unmapped fields, makes most fields containing &amp;quot;textual content&amp;quot; unsearchable, breaks tutorial examples&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9526&quot;&gt;&lt;del&gt;SOLR-9526&lt;/del&gt;&lt;/a&gt;: Update Ref Guide for schemaless changes&lt;/p&gt;</comment>
                            <comment id="16207365" author="shalinmangar" created="Tue, 17 Oct 2017 11:03:44 +0000"  >&lt;p&gt;Bulk close after 7.1.0 release&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12928045">SOLR-8495</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12766877">SOLR-6966</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12766877">SOLR-6966</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12763041">SOLR-6871</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12928045">SOLR-8495</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12875892" name="SOLR-9526.patch" size="46341" author="janhoy" created="Thu, 6 Jul 2017 09:41:42 +0000"/>
                            <attachment id="12875879" name="SOLR-9526.patch" size="42214" author="janhoy" created="Thu, 6 Jul 2017 08:19:19 +0000"/>
                            <attachment id="12875789" name="SOLR-9526.patch" size="27179" author="sarowe" created="Wed, 5 Jul 2017 16:52:09 +0000"/>
                            <attachment id="12873821" name="SOLR-9526.patch" size="27848" author="janhoy" created="Wed, 21 Jun 2017 07:49:09 +0000"/>
                            <attachment id="12873680" name="SOLR-9526.patch" size="26840" author="janhoy" created="Tue, 20 Jun 2017 13:35:05 +0000"/>
                            <attachment id="12832322" name="SOLR-9526.patch" size="26669" author="janhoy" created="Sun, 9 Oct 2016 07:27:13 +0000"/>
                            <attachment id="12832092" name="SOLR-9526.patch" size="16852" author="janhoy" created="Fri, 7 Oct 2016 06:46:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 5 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i33qnb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>