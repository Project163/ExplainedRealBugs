<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 05:08:38 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-17048] solr-api dependency sope in solr-solrj is wrong</title>
                <link>https://issues.apache.org/jira/browse/SOLR-17048</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;The dependency scope of solr-api is currently set to runtime, this leads to following NoClassDefFoundError&lt;/p&gt;

&lt;p&gt;Caused by: java.lang.NoClassDefFoundError: org/apache/solr/client/api/util/ReflectWritable&lt;br/&gt;
&#160; &#160; at org.apache.solr.common.util.TextWriter.writeVal(TextWriter.java:89) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;solr-solrj-9.4.0.jar:9.4.0 71e101bb37497f730078d9afe1991b60d10bfe96 - stillalex - 2023-10-10 19:10:39&amp;#93;&lt;/span&gt;&lt;br/&gt;
&#160; &#160; at org.apache.solr.common.util.TextWriter.writeVal(TextWriter.java:48) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;solr-solrj-9.4.0.jar:9.4.0 71e101bb37497f730078d9afe1991b60d10bfe96 - stillalex - 2023-10-10 19:10:39&amp;#93;&lt;/span&gt;&lt;br/&gt;
&#160; &#160; at org.apache.solr.common.util.SolrJSONWriter.writeObj(SolrJSONWriter.java:52) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;solr-solrj-9.4.0.jar:9.4.0 71e101bb37497f730078d9afe1991b60d10bfe96 - stillalex - 2023-10-10 19:10:39&amp;#93;&lt;/span&gt;&lt;br/&gt;
&#160; &#160; at org.apache.solr.common.util.Utils.writeJson(Utils.java:213) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;solr-solrj-9.4.0.jar:9.4.0 71e101bb37497f730078d9afe1991b60d10bfe96 - stillalex - 2023-10-10 19:10:39&amp;#93;&lt;/span&gt;&lt;br/&gt;
&#160; &#160; at org.apache.solr.common.util.Utils.writeJson(Utils.java:208) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;solr-solrj-9.4.0.jar:9.4.0 71e101bb37497f730078d9afe1991b60d10bfe96 - stillalex - 2023-10-10 19:10:39&amp;#93;&lt;/span&gt;&lt;br/&gt;
&#160; &#160; at org.apache.solr.client.solrj.request.json.JsonQueryRequest$1.write(JsonQueryRequest.java:430) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;solr-solrj-9.4.0.jar:9.4.0 71e101bb37497f730078d9afe1991b60d10bfe96 - stillalex - 2023-10-10 19:10:39&amp;#93;&lt;/span&gt;&lt;br/&gt;
&#160; &#160; at org.apache.solr.client.solrj.impl.Http2SolrClient.makeRequestAndSend(Http2SolrClient.java:723) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;solr-solrj-9.4.0.jar:9.4.0 71e101bb37497f730078d9afe1991b60d10bfe96 - stillalex - 2023-10-10 19:10:39&amp;#93;&lt;/span&gt;&lt;br/&gt;
&#160; &#160; at org.apache.solr.client.solrj.impl.Http2SolrClient.request(Http2SolrClient.java:529) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;solr-solrj-9.4.0.jar:9.4.0 71e101bb37497f730078d9afe1991b60d10bfe96 - stillalex - 2023-10-10 19:10:39&amp;#93;&lt;/span&gt;&lt;br/&gt;
&#160; &#160; at org.apache.solr.client.solrj.impl.LBSolrClient.doRequest(LBSolrClient.java:386) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;solr-solrj-9.4.0.jar:9.4.0 71e101bb37497f730078d9afe1991b60d10bfe96 - stillalex - 2023-10-10 19:10:39&amp;#93;&lt;/span&gt;&lt;br/&gt;
&#160; &#160; at org.apache.solr.client.solrj.impl.LBSolrClient.request(LBSolrClient.java:352) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;solr-solrj-9.4.0.jar:9.4.0 71e101bb37497f730078d9afe1991b60d10bfe96 - stillalex - 2023-10-10 19:10:39&amp;#93;&lt;/span&gt;&lt;br/&gt;
&#160; &#160; at org.apache.solr.client.solrj.impl.CloudSolrClient.sendRequest(CloudSolrClient.java:1199) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;solr-solrj-9.4.0.jar:9.4.0 71e101bb37497f730078d9afe1991b60d10bfe96 - stillalex - 2023-10-10 19:10:39&amp;#93;&lt;/span&gt;&lt;br/&gt;
&#160; &#160; at org.apache.solr.client.solrj.impl.CloudSolrClient.requestWithRetryOnStaleState(CloudSolrClient.java:898) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;solr-solrj-9.4.0.jar:9.4.0 71e101bb37497f730078d9afe1991b60d10bfe96 - stillalex - 2023-10-10 19:10:39&amp;#93;&lt;/span&gt;&lt;br/&gt;
&#160; &#160; at org.apache.solr.client.solrj.impl.CloudSolrClient.request(CloudSolrClient.java:826) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;solr-solrj-9.4.0.jar:9.4.0 71e101bb37497f730078d9afe1991b60d10bfe96 - stillalex - 2023-10-10 19:10:39&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Workaroud is to overridde the the dependency sope of solr-api in solr-solrj to `compile`&lt;/p&gt;

&lt;p&gt;So either the scope is wrong or this code should never be called by solrj.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13554910">SOLR-17048</key>
            <summary>solr-api dependency sope in solr-solrj is wrong</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="thomas.woeckinger">Thomas W&#246;ckinger</reporter>
                        <labels>
                            <label>easyfix</label>
                    </labels>
                <created>Fri, 20 Oct 2023 09:55:19 +0000</created>
                <updated>Thu, 18 Jan 2024 22:35:54 +0000</updated>
                            <resolved>Thu, 21 Dec 2023 03:42:04 +0000</resolved>
                                    <version>9.4</version>
                                    <fixVersion>9.4.1</fixVersion>
                                    <component>clients - java</component>
                    <component>Gradle</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1800">0.5h</timespent>
                                <comments>
                            <comment id="17777761" author="risdenk" created="Fri, 20 Oct 2023 13:17:30 +0000"  >&lt;p&gt;FYI &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gerlowskija&quot; class=&quot;user-hover&quot; rel=&quot;gerlowskija&quot;&gt;gerlowskija&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17777959" author="gerlowskija" created="Fri, 20 Oct 2023 20:17:02 +0000"  >&lt;p&gt;Gah - I knew about this and forgot to prioritize it for 9.4.  This is my fault.  Thanks for reporting &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thomas.woeckinger&quot; class=&quot;user-hover&quot; rel=&quot;thomas.woeckinger&quot;&gt;thomas.woeckinger&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I wonder how big the impact of this is.  Is it a bad enough experience on the client side to merit a 9.4.1, or is it minor enough (and the workaround easy enough) that a bugfix release would be overkill?&lt;/p&gt;</comment>
                            <comment id="17778496" author="jira-bot" created="Mon, 23 Oct 2023 01:24:11 +0000"  >&lt;p&gt;Commit 1bccdf99ebf08cc2dd9cac046e68d16375683110 in solr&apos;s branch refs/heads/main from Jason Gerlowski&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=1bccdf99ebf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=1bccdf99ebf&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-17048&quot; title=&quot;solr-api dependency sope in solr-solrj is wrong&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-17048&quot;&gt;&lt;del&gt;SOLR-17048&lt;/del&gt;&lt;/a&gt;: Update solrj dep on &apos;api&apos; module (#2029)&lt;/p&gt;

&lt;p&gt;Previously listed as an &apos;implementation&apos; dependency, this was causing&lt;br/&gt;
ClassDefNotFoundExceptions in some client apps that ran afoul of it.&lt;/p&gt;

&lt;p&gt;Switching to an &apos;api&apos; dependency should fix this.&lt;/p&gt;</comment>
                            <comment id="17778498" author="jira-bot" created="Mon, 23 Oct 2023 01:33:02 +0000"  >&lt;p&gt;Commit 083833e70f3d01aa382547054e2f705c7e5c9588 in solr&apos;s branch refs/heads/branch_9x from Jason Gerlowski&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=083833e70f3&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=083833e70f3&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-17048&quot; title=&quot;solr-api dependency sope in solr-solrj is wrong&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-17048&quot;&gt;&lt;del&gt;SOLR-17048&lt;/del&gt;&lt;/a&gt;: Update solrj dep on &apos;api&apos; module (#2029)&lt;/p&gt;

&lt;p&gt;Previously listed as an &apos;implementation&apos; dependency, this was causing&lt;br/&gt;
ClassDefNotFoundExceptions in some client apps that ran afoul of it.&lt;/p&gt;

&lt;p&gt;Switching to an &apos;api&apos; dependency should fix this.&lt;/p&gt;</comment>
                            <comment id="17795486" author="dsmiley" created="Mon, 11 Dec 2023 18:54:38 +0000"  >&lt;p&gt;Heh; I remember telling Jason about this in &lt;a href=&quot;https://the-asf.slack.com/archives/CEKUCUNE9/p1695922039567549&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Slack&lt;/a&gt; Sept 28th. &#160;I should have created the issue and submitted the trivial PR.  Similarly some needless &quot;api&quot; level for the HttpClient we use (Apache vs Jetty), which I think is an implementation detail that typically a client needn&apos;t reference on its class path&lt;/p&gt;</comment>
                            <comment id="17796315" author="gerlowskija" created="Wed, 13 Dec 2023 14:46:29 +0000"  >&lt;p&gt;Thanks for commenting here &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dsmiley&quot; class=&quot;user-hover&quot; rel=&quot;dsmiley&quot;&gt;dsmiley&lt;/a&gt;.  I think I meant to close this ticket out, as long as it addresses the concern you raised in Slack back then?  Will close out by end-of-week if the fix looks okay to you.  (The Apache/Jetty deps should prob be their own ticket IMO, so I won&apos;t tackle those here...)&lt;/p&gt;</comment>
                            <comment id="17799243" author="jira-bot" created="Thu, 21 Dec 2023 03:40:48 +0000"  >&lt;p&gt;Commit 86adba8e146918af05dca5fc2160475b81faf337 in solr&apos;s branch refs/heads/branch_9_4 from Jason Gerlowski&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=86adba8e146&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=86adba8e146&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-17048&quot; title=&quot;solr-api dependency sope in solr-solrj is wrong&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-17048&quot;&gt;&lt;del&gt;SOLR-17048&lt;/del&gt;&lt;/a&gt;: Update solrj dep on &apos;api&apos; module (#2029)&lt;/p&gt;

&lt;p&gt;Previously listed as an &apos;implementation&apos; dependency, this was causing&lt;br/&gt;
ClassDefNotFoundExceptions in some client apps that ran afoul of it.&lt;/p&gt;

&lt;p&gt;Switching to an &apos;api&apos; dependency should fix this.&lt;/p&gt;</comment>
                            <comment id="17799244" author="dsmiley" created="Thu, 21 Dec 2023 03:42:04 +0000"  >&lt;p&gt;I back ported to 9.4.1.&lt;br/&gt;
Thanks&lt;/p&gt;</comment>
                            <comment id="17808389" author="dsmiley" created="Thu, 18 Jan 2024 22:33:08 +0000"  >&lt;p&gt;Closing after the 9.4.1 release&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 42 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1l30w:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>