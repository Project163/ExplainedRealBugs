<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:50:09 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-5993] ZkController can warn about shard leader conflict after conflict resolved</title>
                <link>https://issues.apache.org/jira/browse/SOLR-5993</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;If the clusterState and ZK disagree about the shard leader for awhile, a warning is printed to the log here:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;         &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; warnMsg = &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.format(Locale.ENGLISH, &lt;span class=&quot;code-quote&quot;&gt;&quot;Still seeing conflicting information about the leader &quot;&lt;/span&gt;
              + &lt;span class=&quot;code-quote&quot;&gt;&quot;of shard %s &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; collection %s after %d seconds; our state says %s, but ZooKeeper says %s&quot;&lt;/span&gt;,
              cloudDesc.getShardId(), collection, tries, clusterStateLeaderUrl, leaderUrl);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The issue is that the clusterStateLeaderUrl and leaderUrl are updated but not checked before the warning, so a warning can be printed to the log saying something like:&lt;br/&gt;
our state says localhost:9893_solr but ZooKeeper says localhost:9893_solr&lt;/p&gt;

&lt;p&gt;which is confusing because there is no conflict.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12709152">SOLR-5993</key>
            <summary>ZkController can warn about shard leader conflict after conflict resolved</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="shalin">Shalin Shekhar Mangar</assignee>
                                    <reporter username="gchanan">Gregory Chanan</reporter>
                        <labels>
                    </labels>
                <created>Thu, 17 Apr 2014 21:28:31 +0000</created>
                <updated>Mon, 9 May 2016 18:57:09 +0000</updated>
                            <resolved>Fri, 18 Apr 2014 05:32:33 +0000</resolved>
                                    <version>4.7.1</version>
                    <version>4.8</version>
                    <version>6.0</version>
                                    <fixVersion>4.8.1</fixVersion>
                    <fixVersion>4.9</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                    <component>SolrCloud</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13973442" author="gchanan" created="Thu, 17 Apr 2014 21:30:41 +0000"  >&lt;p&gt;Here&apos;s a small patch that prints the warning before the sleep and reload of the values.&lt;/p&gt;</comment>
                            <comment id="13973801" author="jira-bot" created="Fri, 18 Apr 2014 05:31:53 +0000"  >&lt;p&gt;Commit 1588415 from shalin@apache.org in branch &apos;dev/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1588415&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1588415&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5993&quot; title=&quot;ZkController can warn about shard leader conflict after conflict resolved&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5993&quot;&gt;&lt;del&gt;SOLR-5993&lt;/del&gt;&lt;/a&gt;: ZkController can warn about shard leader conflict even after the conflict is resolved&lt;/p&gt;</comment>
                            <comment id="13973802" author="shalinmangar" created="Fri, 18 Apr 2014 05:32:33 +0000"  >&lt;p&gt;Thanks Gregory!&lt;/p&gt;</comment>
                            <comment id="13973803" author="jira-bot" created="Fri, 18 Apr 2014 05:33:10 +0000"  >&lt;p&gt;Commit 1588416 from shalin@apache.org in branch &apos;dev/branches/branch_4x&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1588416&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1588416&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5993&quot; title=&quot;ZkController can warn about shard leader conflict after conflict resolved&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5993&quot;&gt;&lt;del&gt;SOLR-5993&lt;/del&gt;&lt;/a&gt;: ZkController can warn about shard leader conflict even after the conflict is resolved&lt;/p&gt;</comment>
                            <comment id="13990917" author="jira-bot" created="Tue, 6 May 2014 18:11:32 +0000"  >&lt;p&gt;Commit 1592821 from hossman@apache.org in branch &apos;dev/branches/lucene_solr_4_8&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1592821&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1592821&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Merge back several &quot;low hanging&quot; bug fixes into the 4.8 branch...&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6029&quot; title=&quot;CollapsingQParserPlugin throws ArrayIndexOutOfBoundsException if elevated doc has been deleted from a segment&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6029&quot;&gt;&lt;del&gt;SOLR-6029&lt;/del&gt;&lt;/a&gt;: r1590867&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6030&quot; title=&quot;Use System.nanoTime() instead of currentTimeInMills() in LRUCache.warm&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6030&quot;&gt;&lt;del&gt;SOLR-6030&lt;/del&gt;&lt;/a&gt;: r1591555&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6037&quot; title=&quot;Stats Component Reports Incorrect max/sum/stddev for date fields in Distributed Data&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6037&quot;&gt;&lt;del&gt;SOLR-6037&lt;/del&gt;&lt;/a&gt;: r1591800&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6023&quot; title=&quot;NPE in /admin/field with no parameters&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6023&quot;&gt;&lt;del&gt;SOLR-6023&lt;/del&gt;&lt;/a&gt;: r1592195&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5090&quot; title=&quot;NPE in DirectSpellChecker with alternativeTermCount and mm.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5090&quot;&gt;&lt;del&gt;SOLR-5090&lt;/del&gt;&lt;/a&gt;: r1592591&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-6039&quot; title=&quot;debug=track causes debug=query info to be suppressed when no results found&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-6039&quot;&gt;&lt;del&gt;SOLR-6039&lt;/del&gt;&lt;/a&gt;: r1592605&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5993&quot; title=&quot;ZkController can warn about shard leader conflict after conflict resolved&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5993&quot;&gt;&lt;del&gt;SOLR-5993&lt;/del&gt;&lt;/a&gt;: r1588415&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-5904&quot; title=&quot;ElectionContext can cancel an election when it should not if there was an exception while trying to register as the leader.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-5904&quot;&gt;&lt;del&gt;SOLR-5904&lt;/del&gt;&lt;/a&gt;: r1587702&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12640711" name="SOLR-5993.patch" size="1461" author="gchanan" created="Thu, 17 Apr 2014 21:30:41 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>387475</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 29 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1uqyf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>387737</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>