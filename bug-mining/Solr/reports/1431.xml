<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 03:37:18 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-4805] SolrCloud - RELOAD on collections or cores leaves collection offline and unusable till restart</title>
                <link>https://issues.apache.org/jira/browse/SOLR-4805</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;If you have a collection that is composed of a single core, then calling reload on that collection leaves the core offline.  This happens even if nothing at all has changed about the collection or its config.  This happens whether you call reload via an http GET or if you directly call reload via the collections api. &lt;/p&gt;

&lt;p&gt;Tried a collection with a single core that contains data, change nothing about the config in ZK and call reload and the collection.  The call completes, but ZK flags that replica with &quot;state&quot;:&quot;down&quot;&lt;/p&gt;

&lt;p&gt;Try it where a the single core contains no data and the same thing happens, ZK config updates and broadcasts &quot;state&quot;:&quot;down&quot; for the replica.&lt;/p&gt;

&lt;p&gt;I did not try this in a multicore or replicated core environment.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12646895">SOLR-4805</key>
            <summary>SolrCloud - RELOAD on collections or cores leaves collection offline and unusable till restart</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="markrmiller@gmail.com">Mark Miller</assignee>
                                    <reporter username="jcr">Jared Rodriguez</reporter>
                        <labels>
                    </labels>
                <created>Thu, 9 May 2013 21:58:18 +0000</created>
                <updated>Mon, 9 May 2016 18:52:48 +0000</updated>
                            <resolved>Mon, 10 Jun 2013 00:32:08 +0000</resolved>
                                    <version>4.3</version>
                                    <fixVersion>4.4</fixVersion>
                    <fixVersion>6.0</fixVersion>
                                    <component>SolrCloud</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="13664232" author="markrmiller@gmail.com" created="Wed, 22 May 2013 16:32:19 +0000"  >&lt;p&gt;This may actually be causing an interrmitent test fail on jenkins.&lt;/p&gt;</comment>
                            <comment id="13670622" author="dboychuck" created="Thu, 30 May 2013 19:18:17 +0000"  >&lt;p&gt;I&apos;m having this same issue on a cloud of 6 servers&lt;/p&gt;</comment>
                            <comment id="13670623" author="dboychuck" created="Thu, 30 May 2013 19:18:34 +0000"  >&lt;p&gt;Details here: &lt;a href=&quot;http://lucene.472066.n3.nabble.com/Collections-API-Reload-killing-my-cloud-td4067141.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://lucene.472066.n3.nabble.com/Collections-API-Reload-killing-my-cloud-td4067141.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13670627" author="markrmiller@gmail.com" created="Thu, 30 May 2013 19:22:28 +0000"  >&lt;p&gt;I&apos;ll fix it for 4.4 - we should stop doing preRegister when doing a reload.&lt;/p&gt;</comment>
                            <comment id="13670630" author="dboychuck" created="Thu, 30 May 2013 19:25:44 +0000"  >&lt;p&gt;I get the same issue when I try to reload a single core. The only way for me to currently change my configs is to restart the container.&lt;/p&gt;</comment>
                            <comment id="13675724" author="alexeyk" created="Wed, 5 Jun 2013 09:01:44 +0000"  >&lt;p&gt;It seems that the issue happens because ZkController.preRegister sets state &apos;Down&apos; while in ZkController.register a piece fo code setting state to Active is skipped for reloaded core.&lt;br/&gt;
Only recovery should be skipped but not setting state to Active.&lt;/p&gt;</comment>
                            <comment id="13678855" author="markrmiller@gmail.com" created="Sat, 8 Jun 2013 21:10:07 +0000"  >&lt;p&gt;A patch that de couples preRegister and CoreContainer#register - we want this anyway, so that SolrCores can use info they get from zk in init. With the decouple, we can move to correctly &lt;b&gt;not&lt;/b&gt; calling preRegister on a SolrCore reload.&lt;/p&gt;</comment>
                            <comment id="13679239" author="markrmiller@gmail.com" created="Mon, 10 Jun 2013 00:32:01 +0000"  >&lt;p&gt;Committed as &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=r1491312&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=r1491312&lt;/a&gt; and &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=r1491310&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=r1491310&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Thanks Jared!&lt;/p&gt;</comment>
                            <comment id="13716801" author="steve_rowe" created="Tue, 23 Jul 2013 18:38:38 +0000"  >&lt;p&gt;Bulk close resolved 4.4 issues&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12680101">SOLR-5471</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12648612">SOLR-4843</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12586901" name="SOLR-4805.patch" size="7422" author="markrmiller@gmail.com" created="Sat, 8 Jun 2013 21:10:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>327252</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 18 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1kgpr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>327596</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>