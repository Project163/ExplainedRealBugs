<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:33:25 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-12438] Improve status reporting of metrics history API</title>
                <link>https://issues.apache.org/jira/browse/SOLR-12438</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;In an offline conversation with &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=janhoy&quot; class=&quot;user-hover&quot; rel=&quot;janhoy&quot;&gt;janhoy&lt;/a&gt; we identified the following areas of improvement to the metrics history API in order to increase its user-friendliness and provide more details about its status.&lt;br/&gt;
&#160;&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;there are three possible states for the API: inactive (when not in cloud mode), in-memory only (when &lt;tt&gt;.system&lt;/tt&gt; collection doesn&#8217;t exist), and persisted when it&#8217;s both active and persisted in Solr. The /admin/metrics/history endpoint should give some hint about this status, such as &quot;mode&quot;:&quot;memory/index&quot;, &quot;active&quot;: true|false. Or a separate action=status just to poll status? Currently when the API is inactive it simply returns 404 Not Found.&lt;/li&gt;
	&lt;li&gt;when in &quot;memory&quot; mode a call to /admin/metrics/history on a non-overseer node should forward the request to the overseer, so that the client does not need to care what mode it is in - kind of like how a query works in distributed mode.&lt;/li&gt;
	&lt;li&gt;better documentation for the API behavior in each mode.&lt;/li&gt;
	&lt;li&gt;perhaps if mode=memory, there could also be a &quot;message&quot;:&quot;Warning, metrics history is not being persisted. Please create the .system collection to start persisting history&quot;&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="13163594">SOLR-12438</key>
            <summary>Improve status reporting of metrics history API</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ab">Andrzej Bialecki</assignee>
                                    <reporter username="ab">Andrzej Bialecki</reporter>
                        <labels>
                    </labels>
                <created>Sat, 2 Jun 2018 07:43:02 +0000</created>
                <updated>Sat, 8 Jun 2019 15:13:59 +0000</updated>
                            <resolved>Fri, 8 Jun 2018 18:29:00 +0000</resolved>
                                                    <fixVersion>7.4</fixVersion>
                    <fixVersion>8.0</fixVersion>
                                    <component>metrics</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16502397" author="ab" created="Tue, 5 Jun 2018 19:54:32 +0000"  >&lt;p&gt;This patch contains the following changes:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;the API works now also in non-cloud mode.&lt;/li&gt;
	&lt;li&gt;report the current &quot;mode&quot; (disabled, memory, index).&lt;/li&gt;
	&lt;li&gt;automatically pull in-memory history from Overseer when request is submitted to any node and when the API is in non-persistent mode (the data is not available then in the &lt;tt&gt;.system&lt;/tt&gt; collection)&lt;/li&gt;
	&lt;li&gt;report the source node where the data was obtained from. When in &quot;index&quot; mode the source node is always the one where the request was submitted to.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="16504587" author="ab" created="Thu, 7 Jun 2018 12:17:40 +0000"  >&lt;p&gt;I updated this issue to &quot;Bug&quot; because JSON output of the handler was being serialized in a way that didn&apos;t make sense (due to using NamedList-s instead of SimpleOrderedMap-s).&lt;/p&gt;</comment>
                            <comment id="16504596" author="ab" created="Thu, 7 Jun 2018 12:26:16 +0000"  >&lt;p&gt;Updated patch with fixes for the serialization bug and Ref Guide changes to show the correct outputs.&lt;/p&gt;</comment>
                            <comment id="16505210" author="jira-bot" created="Thu, 7 Jun 2018 20:26:55 +0000"  >&lt;p&gt;Commit 417940cdd76ded0a41906ce794a79f4f09136314 in lucene-solr&apos;s branch refs/heads/master from Andrzej Bialecki&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=417940c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=417940c&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-12438&quot; title=&quot;Improve status reporting of metrics history API&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-12438&quot;&gt;&lt;del&gt;SOLR-12438&lt;/del&gt;&lt;/a&gt;: Improve status reporting of metrics history API.&lt;/p&gt;</comment>
                            <comment id="16505295" author="jira-bot" created="Thu, 7 Jun 2018 21:15:16 +0000"  >&lt;p&gt;Commit 87c23545a103d16aff19b3623b3985ae9b63a870 in lucene-solr&apos;s branch refs/heads/branch_7x from Andrzej Bialecki&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=87c2354&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=87c2354&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-12438&quot; title=&quot;Improve status reporting of metrics history API&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-12438&quot;&gt;&lt;del&gt;SOLR-12438&lt;/del&gt;&lt;/a&gt;: Improve status reporting of metrics history API.&lt;/p&gt;</comment>
                            <comment id="16506424" author="jira-bot" created="Fri, 8 Jun 2018 18:28:28 +0000"  >&lt;p&gt;Commit 943e78e7e45e29661fb5ef1a3cb2d315ab348165 in lucene-solr&apos;s branch refs/heads/branch_7_4 from Andrzej Bialecki&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=943e78e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=943e78e&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-12438&quot; title=&quot;Improve status reporting of metrics history API&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-12438&quot;&gt;&lt;del&gt;SOLR-12438&lt;/del&gt;&lt;/a&gt;: Improve status reporting of metrics history API.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="13162871">SOLR-12426</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12926881" name="SOLR-12438.patch" size="65434" author="ab" created="Thu, 7 Jun 2018 12:25:27 +0000"/>
                            <attachment id="12926630" name="SOLR-12438.patch" size="40309" author="ab" created="Tue, 5 Jun 2018 19:50:00 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 23 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3ufkv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>