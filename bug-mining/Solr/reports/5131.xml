<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 05:08:56 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-10653] After Upgrade from 5.3.1 to 6.4.2, Solr is storing certain fields like UUID, BigDecimal, Enums as &lt;object type &gt;:&lt;value&gt;</title>
                <link>https://issues.apache.org/jira/browse/SOLR-10653</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;Originally being in 5.3.1 when supplying object types such as java.util.UUID, Enum, BigDecimal supplied to SolrInputDocument the conversion to corresponding data types defined in the Solr schema happened just fine in this case string, string, float respectively. After the upgrade to 6.4.2 version, I see that when such values are supplied to SolrInputDocument, while saving it gets stored as &quot;java.util.UUID:0997e78e-6e3d-4824-8c52-8cc15533e541&quot; with UUID for example and fully qualified name of the class for Enums etc. Hence while deserializing we are getting errors such as &lt;/p&gt;

&lt;p&gt;Invalid UUID String: &apos;java.util.UUID:0997e78e-6e3d-4824-8c52-8cc15533e541&apos;&lt;/p&gt;

&lt;p&gt;Although converting these fields to String before supplying to SolrInputDocument or converting to varchar for delta import queries seem to fix the problem. I wonder what changed between the 2 versions to have me do this String or varchar conversion that was not required before.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13070520">SOLR-10653</key>
            <summary>After Upgrade from 5.3.1 to 6.4.2, Solr is storing certain fields like UUID, BigDecimal, Enums as &lt;object type &gt;:&lt;value&gt;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mkhl">Mikhail Khludnev</assignee>
                                    <reporter username="suducode">Sudharshan Krishnamurthy</reporter>
                        <labels>
                    </labels>
                <created>Tue, 9 May 2017 18:09:27 +0000</created>
                <updated>Mon, 12 Feb 2024 19:48:58 +0000</updated>
                            <resolved>Sat, 25 Nov 2023 20:22:09 +0000</resolved>
                                    <version>6.4.2</version>
                                    <fixVersion>9.5</fixVersion>
                                    <component>update</component>
                        <due></due>
                            <votes>2</votes>
                                    <watches>6</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="10200">2h 50m</timespent>
                                <comments>
                            <comment id="16354537" author="thomas.heigl" created="Tue, 6 Feb 2018 21:12:21 +0000"  >&lt;p&gt;I just ran into the same issue when upgrading from Solr 4.10 to Solr 7.1. Do I have to change all my enum fields to String values to fix this or is there some kind of configuration for SolrJ?&lt;/p&gt;</comment>
                            <comment id="16949369" author="matthall103" created="Fri, 11 Oct 2019 11:03:02 +0000"  >&lt;p&gt;Hi, is there any movement on this? Currently running into the same issue&lt;/p&gt;</comment>
                            <comment id="16953991" author="dsmiley" created="Thu, 17 Oct 2019 18:17:14 +0000"  >&lt;p&gt;Maybe kinda sorta related to &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-8866&quot; title=&quot;UpdateLog should throw an exception when serializing unknown types&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-8866&quot;&gt;&lt;del&gt;SOLR-8866&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
I don&apos;t think it&apos;s well documented how non-String objects get serialized.  Still... silently converting to class:value is clearly bad though &amp;#8211; like when would anyone want that?!&lt;br/&gt;
You might try working around by using another writer like XML or JSON.&lt;/p&gt;</comment>
                            <comment id="17786474" author="mkhludnev" created="Wed, 15 Nov 2023 19:09:47 +0000"  >&lt;p&gt;it&apos;s bad. please join discussion &lt;a href=&quot;https://github.com/apache/solr/pull/2078&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/solr/pull/2078&lt;/a&gt; &lt;/p&gt;</comment>
                            <comment id="17789676" author="jira-bot" created="Sat, 25 Nov 2023 14:32:35 +0000"  >&lt;p&gt;Commit c1cfaec00d37cbca71b62b4c535c1eed5fa7c4f6 in solr&apos;s branch refs/heads/main from Mikhail Khludnev&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=c1cfaec00d3&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=c1cfaec00d3&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10653&quot; title=&quot;After Upgrade from 5.3.1 to 6.4.2, Solr is storing certain fields like UUID, BigDecimal, Enums as &amp;lt;object type &amp;gt;:&amp;lt;value&amp;gt;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10653&quot;&gt;&lt;del&gt;SOLR-10653&lt;/del&gt;&lt;/a&gt;: leader to replica update fail if there&apos;s a UUIDField in schema (#2078)&lt;/p&gt;

&lt;p&gt;Also FieldType.createField() propagates underneath SolrException, to avoid error code erasure.   &lt;/p&gt;</comment>
                            <comment id="17789699" author="jira-bot" created="Sat, 25 Nov 2023 17:43:50 +0000"  >&lt;p&gt;Commit 81d0440c1361e7a7327de40ef2b7cc1bcff20b68 in solr&apos;s branch refs/heads/branch_9x from Mikhail Khludnev&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=solr.git;h=81d0440c136&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=solr.git;h=81d0440c136&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-10653&quot; title=&quot;After Upgrade from 5.3.1 to 6.4.2, Solr is storing certain fields like UUID, BigDecimal, Enums as &amp;lt;object type &amp;gt;:&amp;lt;value&amp;gt;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-10653&quot;&gt;&lt;del&gt;SOLR-10653&lt;/del&gt;&lt;/a&gt;: leader to replica update fail if there&apos;s a UUIDField in schema (#2078) (#2096)&lt;/p&gt;

&lt;p&gt;Also FieldType.createField() propagates underneath SolrException, to avoid error code erasure.&lt;/p&gt;

&lt;p&gt;(cherry picked from commit c1cfaec00d37cbca71b62b4c535c1eed5fa7c4f6)&lt;/p&gt;</comment>
                            <comment id="17789724" author="mkhludnev" created="Sat, 25 Nov 2023 20:23:36 +0000"  >&lt;p&gt;perhaps it&apos;s worth to cover enum field type as well. &lt;br/&gt;
after quick check &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/13064679/13064679_SOLR-10653-enums-fine.patch&quot; title=&quot;SOLR-10653-enums-fine.patch attached to SOLR-10653&quot;&gt;SOLR-10653-enums-fine.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; it seems like it&apos;s working &lt;/p&gt;</comment>
                            <comment id="17789886" author="dsmiley" created="Mon, 27 Nov 2023 02:25:52 +0000"  >&lt;p&gt;+1 to expand the test to cover more cases; thanks.&lt;/p&gt;</comment>
                            <comment id="17792451" author="mkhludnev" created="Sat, 2 Dec 2023 22:49:23 +0000"  >&lt;p&gt;&lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/13064926/13064926_non-cloud-json-request-reproducer.patch&quot; title=&quot;non-cloud-json-request-reproducer.patch attached to SOLR-10653&quot;&gt;non-cloud-json-request-reproducer.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; draft reproducer &lt;br/&gt;
up to 9.4 it fails on non-cloud json request on vals like &quot;uuid&quot;:1f9b1f5d-a23a-4a6d-a113-4cf0f230f741,&apos;&lt;br/&gt;
I don&apos;t think it&apos;s worth to commit anything on that. &lt;br/&gt;
discussion: &lt;a href=&quot;https://lists.apache.org/thread/p8lcwv6lh4yn7g8yyhfvcgc9hrw9ppvq&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://lists.apache.org/thread/p8lcwv6lh4yn7g8yyhfvcgc9hrw9ppvq&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17816740" author="gerlowskija" created="Mon, 12 Feb 2024 19:48:58 +0000"  >&lt;p&gt;Closing after the 9.5.0 release&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12681769">SOLR-5514</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="13064679" name="SOLR-10653-enums-fine.patch" size="4690" author="mkhl" created="Sat, 25 Nov 2023 20:56:07 +0000"/>
                            <attachment id="13064926" name="non-cloud-json-request-reproducer.patch" size="6904" author="mkhl" created="Sat, 2 Dec 2023 22:36:37 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 39 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3eq3j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>