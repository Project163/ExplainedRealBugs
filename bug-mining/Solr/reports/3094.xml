<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 04:16:18 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[SOLR-9408] Add solr commit data in TreeMergeRecordWriter</title>
                <link>https://issues.apache.org/jira/browse/SOLR-9408</link>
                <project id="12310230" key="SOLR">Solr</project>
                    <description>&lt;p&gt;The lucene index produced by TreeMergeRecordWriter when the segments are merged doesn&apos;t contain Solr&apos;s commit data, specifically, commitTimeMsec.&lt;/p&gt;

&lt;p&gt;This means that when this index is subsequently loaded into SolrCloud and if the index stays unchanged so no newer commits occurs, ADDREPLICA will appear to succeed but will not actually do any full sync due to &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9369&quot; title=&quot;SolrCloud should not compare commitTimeMSec to see if replicas are in sync&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9369&quot;&gt;SOLR-9369&lt;/a&gt;, resulting in adding an empty index as a replica.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12996677">SOLR-9408</key>
            <summary>Add solr commit data in TreeMergeRecordWriter</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="varun">Varun Thacker</assignee>
                                    <reporter username="mewmewball">Jessica Cheng Mallet</reporter>
                        <labels>
                            <label>mapreduce</label>
                            <label>solrcloud</label>
                    </labels>
                <created>Thu, 11 Aug 2016 16:50:44 +0000</created>
                <updated>Thu, 21 Nov 2019 00:41:52 +0000</updated>
                            <resolved>Tue, 13 Sep 2016 05:27:01 +0000</resolved>
                                                    <fixVersion>6.2.1</fixVersion>
                    <fixVersion>7.0</fixVersion>
                                    <component>contrib - MapReduce</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="15422576" author="varunthacker" created="Tue, 16 Aug 2016 10:42:55 +0000"  >&lt;p&gt;Patch looks good to me!&lt;/p&gt;

&lt;p&gt;I think we should commit this irrespective of &lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9369&quot; title=&quot;SolrCloud should not compare commitTimeMSec to see if replicas are in sync&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9369&quot;&gt;SOLR-9369&lt;/a&gt; . &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markrmiller%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;markrmiller@gmail.com&quot;&gt;markrmiller@gmail.com&lt;/a&gt; Do you have any thoughts on this?&lt;/p&gt;</comment>
                            <comment id="15484074" author="varunthacker" created="Mon, 12 Sep 2016 13:13:03 +0000"  >&lt;p&gt;I ran into this failure a couple of times in my testing but it doesn&apos;t fail all the time . I&apos;ll dig into it this week to see whats the issue &lt;/p&gt;

&lt;p&gt;&lt;tt&gt;ant test  -Dtestcase=SoftAutoCommitTest -Dtests.method=testSoftAndHardCommitMaxTimeMixedAdds -Dtests.seed=F1E9CC578C23E178 -Dtests.slow=true -Dtests.locale=sr-Latn-RS -Dtests.timezone=America/Argentina/Salta -Dtests.asserts=true -Dtests.file.encoding=UTF-8&lt;/tt&gt;&lt;/p&gt;</comment>
                            <comment id="15484093" author="shalinmangar" created="Mon, 12 Sep 2016 13:19:15 +0000"  >&lt;p&gt;This seems unrelated to the change here. I have seen this test fail on jenkins as well with the message &quot;soft wasn&apos;t fast enough&quot;. I think we can safely ignore it. The rest of the patch looks good and we should commit it for 6.2.1&lt;/p&gt;</comment>
                            <comment id="15484511" author="varunthacker" created="Mon, 12 Sep 2016 16:06:19 +0000"  >&lt;p&gt;Attaching updated patch against master. I&apos;ll commit this soon&lt;/p&gt;</comment>
                            <comment id="15486296" author="jira-bot" created="Tue, 13 Sep 2016 05:20:35 +0000"  >&lt;p&gt;Commit ef3057e43b6c3783f1324b2893eeb8702c86487c in lucene-solr&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=varun&quot; class=&quot;user-hover&quot; rel=&quot;varun&quot;&gt;varun&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=ef3057e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=ef3057e&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9408&quot; title=&quot;Add solr commit data in TreeMergeRecordWriter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9408&quot;&gt;&lt;del&gt;SOLR-9408&lt;/del&gt;&lt;/a&gt;: Fix TreeMergeOutputFormat to add timestamp metadata to commits&lt;/p&gt;</comment>
                            <comment id="15486299" author="jira-bot" created="Tue, 13 Sep 2016 05:22:22 +0000"  >&lt;p&gt;Commit 08453fb7f000342352c6c08dcdf83cdbda1694c6 in lucene-solr&apos;s branch refs/heads/branch_6x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=varun&quot; class=&quot;user-hover&quot; rel=&quot;varun&quot;&gt;varun&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=08453fb&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=08453fb&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9408&quot; title=&quot;Add solr commit data in TreeMergeRecordWriter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9408&quot;&gt;&lt;del&gt;SOLR-9408&lt;/del&gt;&lt;/a&gt;: Fix TreeMergeOutputFormat to add timestamp metadata to commits&lt;/p&gt;</comment>
                            <comment id="15486304" author="jira-bot" created="Tue, 13 Sep 2016 05:26:33 +0000"  >&lt;p&gt;Commit 2335cf7cd52323c02041f28ebdbf7f8c5bb5bb4e in lucene-solr&apos;s branch refs/heads/branch_6_2 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=varun&quot; class=&quot;user-hover&quot; rel=&quot;varun&quot;&gt;varun&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=2335cf7&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=2335cf7&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SOLR-9408&quot; title=&quot;Add solr commit data in TreeMergeRecordWriter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SOLR-9408&quot;&gt;&lt;del&gt;SOLR-9408&lt;/del&gt;&lt;/a&gt;: Fix TreeMergeOutputFormat to add timestamp metadata to commits&lt;/p&gt;</comment>
                            <comment id="15486307" author="varunthacker" created="Tue, 13 Sep 2016 05:27:01 +0000"  >&lt;p&gt;Thanks Jessica for the patch and Shalin for the review!&lt;/p&gt;</comment>
                            <comment id="15508551" author="shalinmangar" created="Wed, 21 Sep 2016 03:03:29 +0000"  >&lt;p&gt;Closing after 6.2.1 release&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12828064" name="SOLR-9408.patch" size="10655" author="varun" created="Mon, 12 Sep 2016 16:06:19 +0000"/>
                            <attachment id="12823524" name="SOLR-9408.patch" size="6595" author="mewmewball" created="Fri, 12 Aug 2016 20:01:51 +0000"/>
                            <attachment id="12823316" name="SOLR-9408.patch" size="6249" author="mewmewball" created="Thu, 11 Aug 2016 16:51:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10430"><![CDATA[Patch]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 9 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i327p3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12313321" key="com.atlassian.jira.toolkit:message">
                        <customfieldname>Solr Mailing List Info</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>