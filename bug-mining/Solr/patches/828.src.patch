diff --git a/solr/webapp/web/js/scripts/analysis.js b/solr/webapp/web/js/scripts/analysis.js
index 5bcc112b77b..74a6271103a 100644
--- a/solr/webapp/web/js/scripts/analysis.js
+++ b/solr/webapp/web/js/scripts/analysis.js
@@ -277,7 +277,7 @@ sammy.get
                   var elements = analysis_data[type][i+1];
                   var elements_count = global_elements_count;
                                     
-                  if( !elements[0].positionHistory )
+                  if( !elements[0] || !elements[0].positionHistory )
                   {
                     colspan = elements_count;
                     elements_count = 1;
