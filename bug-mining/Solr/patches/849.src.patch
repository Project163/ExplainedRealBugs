diff --git a/solr/core/src/java/org/apache/solr/search/ExtendedDismaxQParserPlugin.java b/solr/core/src/java/org/apache/solr/search/ExtendedDismaxQParserPlugin.java
index 3978eaaa20a..0f6a2f4a605 100755
--- a/solr/core/src/java/org/apache/solr/search/ExtendedDismaxQParserPlugin.java
+++ b/solr/core/src/java/org/apache/solr/search/ExtendedDismaxQParserPlugin.java
@@ -163,7 +163,7 @@ class ExtendedDismaxQParser extends QParser {
     parsedUserQuery = null;
     String userQuery = getString();
     altUserQuery = null;
-    if( userQuery == null || userQuery.length() < 1 ) {
+    if( userQuery == null || userQuery.trim().length() == 0 ) {
       // If no query is specified, we may have an alternate
       String altQ = solrParams.get( DisMaxParams.ALTQ );
       if (altQ != null) {
diff --git a/solr/core/src/test/org/apache/solr/search/TestExtendedDismaxParser.java b/solr/core/src/test/org/apache/solr/search/TestExtendedDismaxParser.java
index eb76eec29c0..a9c83f157b6 100755
--- a/solr/core/src/test/org/apache/solr/search/TestExtendedDismaxParser.java
+++ b/solr/core/src/test/org/apache/solr/search/TestExtendedDismaxParser.java
@@ -71,8 +71,14 @@ public class TestExtendedDismaxParser extends AbstractSolrTestCase {
     String oner = "*[count(//doc)=1]";
     String twor = "*[count(//doc)=2]";
     String nor = "*[count(//doc)=0]";
-
-  assertQ("expected doc is missing (using un-escaped edismax w/qf)",
+    
+    assertQ("blank q",
+        req("q"," ",
+            "q.alt",allq,
+            "defType","edismax")
+        ,allr);
+    
+    assertQ("expected doc is missing (using un-escaped edismax w/qf)",
           req("q", "literal:colon", 
               "qf", "t_special",
               "defType", "edismax"),
