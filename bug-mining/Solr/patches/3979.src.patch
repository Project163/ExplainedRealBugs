diff --git a/solr/CHANGES.txt b/solr/CHANGES.txt
index ed9530c3893..b113aaf0e48 100644
--- a/solr/CHANGES.txt
+++ b/solr/CHANGES.txt
@@ -138,6 +138,9 @@ Bug Fixes
 
 * SOLR-12533 Collection collection fails if metrics are called during core creation (Peter Cseh, Mano Kovacs)
 
+* SOLR-2834: Fix SolrJ Field and Document analyzes for types that include CharacterFilter (Alexandre Rafalovitch)
+
+
 Optimizations
 ----------------------
 
diff --git a/solr/solrj/src/java/org/apache/solr/client/solrj/response/AnalysisResponseBase.java b/solr/solrj/src/java/org/apache/solr/client/solrj/response/AnalysisResponseBase.java
index b2d18842ea0..54163766c5e 100644
--- a/solr/solrj/src/java/org/apache/solr/client/solrj/response/AnalysisResponseBase.java
+++ b/solr/solrj/src/java/org/apache/solr/client/solrj/response/AnalysisResponseBase.java
@@ -57,24 +57,43 @@ public class AnalysisResponseBase extends SolrResponseBase {
    *  &lt;/lst&gt;
    * </code></pre>
    *
+   * The special case is a CharacterFilter that just returns a string, which we then map to a single token without type.
+   *
    * @param phaseNL The names list to parse.
    *
    * @return The built analysis phases list.
    */
-  protected List<AnalysisPhase> buildPhases(NamedList<List<NamedList<Object>>> phaseNL) {
+  protected List<AnalysisPhase> buildPhases(NamedList<Object> phaseNL) {
     List<AnalysisPhase> phases = new ArrayList<>(phaseNL.size());
-    for (Map.Entry<String, List<NamedList<Object>>> phaseEntry : phaseNL) {
+    for (Map.Entry<String, Object> phaseEntry : phaseNL) {
       AnalysisPhase phase = new AnalysisPhase(phaseEntry.getKey());
-      List<NamedList<Object>> tokens = phaseEntry.getValue();
-      for (NamedList<Object> token : tokens) {
-        TokenInfo tokenInfo = buildTokenInfo(token);
+      Object phaseValue = phaseEntry.getValue();
+
+      if (phaseValue instanceof String) {
+        // We are looking at CharacterFilter, which - exceptionally - returns a string
+        TokenInfo tokenInfo = buildTokenInfoFromString((String) phaseValue);
         phase.addTokenInfo(tokenInfo);
+      } else {
+        List<NamedList<Object>> tokens = (List<NamedList<Object>>) phaseEntry.getValue();
+        for (NamedList<Object> token : tokens) {
+          TokenInfo tokenInfo = buildTokenInfo(token);
+          phase.addTokenInfo(tokenInfo);
+        }
       }
       phases.add(phase);
     }
     return phases;
   }
 
+  /**
+   * Convert a string value (from CharacterFilter) into a TokenInfo for its value full span.
+   * @param value String value
+   * @return The built token info (with type set to null)
+   */
+  protected TokenInfo buildTokenInfoFromString(String value) {
+    return new TokenInfo(value, value, null, 0, value.length(), 1, false);
+  }
+
   /**
    * Parses the given named list and builds a token infoform it. Expects a named list of the form:
    * <br>
diff --git a/solr/solrj/src/java/org/apache/solr/client/solrj/response/DocumentAnalysisResponse.java b/solr/solrj/src/java/org/apache/solr/client/solrj/response/DocumentAnalysisResponse.java
index 231199d44b0..311318ee43c 100644
--- a/solr/solrj/src/java/org/apache/solr/client/solrj/response/DocumentAnalysisResponse.java
+++ b/solr/solrj/src/java/org/apache/solr/client/solrj/response/DocumentAnalysisResponse.java
@@ -49,19 +49,19 @@ public class DocumentAnalysisResponse extends AnalysisResponseBase implements It
         NamedList<Object> field = fieldEntry.getValue();
 
         @SuppressWarnings("unchecked")
-        NamedList<List<NamedList<Object>>> query 
-          = (NamedList<List<NamedList<Object>>>) field.get("query");
+        NamedList<Object> query
+          = (NamedList<Object>) field.get("query");
         if (query != null) {
           List<AnalysisPhase> phases = buildPhases(query);
           fieldAnalysis.setQueryPhases(phases);
         }
         
         @SuppressWarnings("unchecked")
-        NamedList<NamedList<List<NamedList<Object>>>> index 
-          = (NamedList<NamedList<List<NamedList<Object>>>>) field.get("index");
-        for (Map.Entry<String, NamedList<List<NamedList<Object>>>> valueEntry : index) {
+        NamedList<NamedList<Object>> index
+          = (NamedList<NamedList<Object>>) field.get("index");
+        for (Map.Entry<String, NamedList<Object>> valueEntry : index) {
           String fieldValue = valueEntry.getKey();
-          NamedList<List<NamedList<Object>>> valueNL = valueEntry.getValue();
+          NamedList<Object> valueNL = valueEntry.getValue();
           List<AnalysisPhase> phases = buildPhases(valueNL);
           fieldAnalysis.setIndexPhases(fieldValue, phases);
         }
diff --git a/solr/solrj/src/java/org/apache/solr/client/solrj/response/FieldAnalysisResponse.java b/solr/solrj/src/java/org/apache/solr/client/solrj/response/FieldAnalysisResponse.java
index 533885b2c71..032af0c187c 100644
--- a/solr/solrj/src/java/org/apache/solr/client/solrj/response/FieldAnalysisResponse.java
+++ b/solr/solrj/src/java/org/apache/solr/client/solrj/response/FieldAnalysisResponse.java
@@ -39,30 +39,30 @@ public class FieldAnalysisResponse extends AnalysisResponseBase {
     super.setResponse(response);
 
     @SuppressWarnings("unchecked")
-    NamedList<NamedList<NamedList<NamedList<List<NamedList<Object>>>>>> analysisNL 
-      = (NamedList<NamedList<NamedList<NamedList<List<NamedList<Object>>>>>>) response.get("analysis");
+    NamedList<NamedList<NamedList<NamedList<Object>>>> analysisNL
+      = (NamedList<NamedList<NamedList<NamedList<Object>>>>) response.get("analysis");
 
-    for (Map.Entry<String, NamedList<NamedList<List<NamedList<Object>>>>> entry 
+    for (Map.Entry<String, NamedList<NamedList<Object>>> entry
            : analysisNL.get("field_types")) {
 
       analysisByFieldTypeName.put(entry.getKey(), buildAnalysis(entry.getValue()));
     }
 
-    for (Map.Entry<String, NamedList<NamedList<List<NamedList<Object>>>>> entry 
+    for (Map.Entry<String, NamedList<NamedList<Object>>> entry
            : analysisNL.get("field_names")) {
 
       analysisByFieldName.put(entry.getKey(), buildAnalysis(entry.getValue()));
     }
   }
 
-  private Analysis buildAnalysis(NamedList<NamedList<List<NamedList<Object>>>> value) {
+  private Analysis buildAnalysis(NamedList<NamedList<Object>> value) {
       Analysis analysis = new Analysis();
       
-      NamedList<List<NamedList<Object>>> queryNL = value.get("query");
+      NamedList<Object> queryNL = value.get("query");
       List<AnalysisPhase> phases = (queryNL == null) ? null : buildPhases(queryNL);
       analysis.setQueryPhases(phases);
 
-      NamedList<List<NamedList<Object>>> indexNL = value.get("index");
+      NamedList<Object> indexNL = value.get("index");
       phases = buildPhases(indexNL);
       analysis.setIndexPhases(phases);
       
diff --git a/solr/solrj/src/test/org/apache/solr/client/solrj/response/AnlysisResponseBaseTest.java b/solr/solrj/src/test/org/apache/solr/client/solrj/response/AnlysisResponseBaseTest.java
index 228bf8268ca..c1686663977 100644
--- a/solr/solrj/src/test/org/apache/solr/client/solrj/response/AnlysisResponseBaseTest.java
+++ b/solr/solrj/src/test/org/apache/solr/client/solrj/response/AnlysisResponseBaseTest.java
@@ -98,6 +98,19 @@ public class AnlysisResponseBaseTest extends LuceneTestCase {
     assertPhase(phases.get(3), "Filter3", 3, tokenInfo);
   }
 
+  /**
+   * Tests the {@link AnalysisResponseBase#buildPhases(org.apache.solr.common.util.NamedList)} )}
+   * method for the special case of CharacterFilter.
+   */
+  @Test
+  public void testCharFilterBuildPhases() throws Exception {
+    NamedList nl = new NamedList();
+    nl.add("CharFilter1", "CharFilterOutput"); //not list of tokens
+    AnalysisResponseBase response = new AnalysisResponseBase();
+    List<AnalysisResponseBase.AnalysisPhase> phases = response.buildPhases(nl);
+    assertEquals(1, phases.size());
+  }
+
   //================================================ Helper Methods ==================================================
 
   private List<NamedList> buildFakeTokenInfoList(int numberOfTokens) {
diff --git a/solr/solrj/src/test/org/apache/solr/client/solrj/response/DocumentAnalysisResponseTest.java b/solr/solrj/src/test/org/apache/solr/client/solrj/response/DocumentAnalysisResponseTest.java
index 2a60e94e9e9..6e4b785033e 100644
--- a/solr/solrj/src/test/org/apache/solr/client/solrj/response/DocumentAnalysisResponseTest.java
+++ b/solr/solrj/src/test/org/apache/solr/client/solrj/response/DocumentAnalysisResponseTest.java
@@ -47,7 +47,7 @@ public class DocumentAnalysisResponseTest extends LuceneTestCase {
     DocumentAnalysisResponse response = new DocumentAnalysisResponse() {
 
       @Override
-      protected List<AnalysisPhase> buildPhases(NamedList<List<NamedList<Object>>> phaseNL) {
+      protected List<AnalysisPhase> buildPhases(NamedList<Object> phaseNL) {
         return phases;
       }
     };
diff --git a/solr/solrj/src/test/org/apache/solr/client/solrj/response/FieldAnalysisResponseTest.java b/solr/solrj/src/test/org/apache/solr/client/solrj/response/FieldAnalysisResponseTest.java
index ee9c532731b..866aad1ec62 100644
--- a/solr/solrj/src/test/org/apache/solr/client/solrj/response/FieldAnalysisResponseTest.java
+++ b/solr/solrj/src/test/org/apache/solr/client/solrj/response/FieldAnalysisResponseTest.java
@@ -48,7 +48,7 @@ public class FieldAnalysisResponseTest extends LuceneTestCase {
     NamedList responseNL = buildResponse();
     FieldAnalysisResponse response = new FieldAnalysisResponse() {
       @Override
-      protected List<AnalysisPhase> buildPhases(NamedList<List<NamedList<Object>>> phaseNL) {
+      protected List<AnalysisPhase> buildPhases(NamedList<Object> phaseNL) {
         return phases;
       }
     };
