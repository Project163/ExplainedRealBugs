diff --git a/solr/CHANGES.txt b/solr/CHANGES.txt
index 899e25f516c..a1725e7f74a 100644
--- a/solr/CHANGES.txt
+++ b/solr/CHANGES.txt
@@ -12,7 +12,7 @@ See http://lucene.apache.org/solr for more information.
 Getting Started
 ---------------
 You need a Java 1.8 VM or later installed.
-In this release, there is an example Solr server including a bundled 
+In this release, there is an example Solr server including a bundled
 servlet container in the directory named "example".
 See the Solr tutorial at https://lucene.apache.org/solr/guide/solr-tutorial.html
 
@@ -129,12 +129,15 @@ Bug Fixes
 
 * SOLR-11714: AddReplicaSuggester  / ComputePlanAction infinite loop. (ab)
 
+* SOLR-11895: Logging Screen in the Admin UI will now show "No Events available" when there are no events to show.
+  Also, the spinner icon is removed to prevent users thinking the page has hung. (Cassandra Targett, Shawn Heisey)
+
 Optimizations
 ----------------------
 
 * SOLR-11711: Fixed distributed processing of facet.field/facet.pivot sub requests to prevent requesting
   unneccessary and excessive '0' count terms from each shard (Houston Putman via hossman)
-  
+
 Other Changes
 ----------------------
 
@@ -325,7 +328,7 @@ Bug Fixes
 
 * SOLR-11423: Overseer queue needs a hard cap (maximum size) that clients respect (Scott Blum, Joshua Humphries, Noble Paul)
 
-* SOLR-11445: Overseer should not hang when process bad message. (Cao Manh Dat, shalin) 
+* SOLR-11445: Overseer should not hang when process bad message. (Cao Manh Dat, shalin)
 
 * SOLR-11447: ZkStateWriter should process commands in atomic. (Cao Manh Dat, shalin)
 
@@ -335,7 +338,7 @@ Bug Fixes
 
 * SOLR-11326: A bootstrap of a target cluster does not need to download the tlog files from the source cluster
   (Amrit Sarkar, Varun Thacker)
-  
+
 * SOLR-10874: Fix AIOOBE caused by FloatPayloadValueSource calling PostingsEnum.nextPosition()
   more than the given term's frequency in overridden FloatDocValues.floatVal().
   (Michael Kosten, Erik Hatcher, Steve Rowe)
@@ -844,18 +847,18 @@ Upgrading from Solr 6.x
 
 * HttpClientInterceptorPlugin is now HttpClientBuilderPlugin and must work with a
   SolrHttpClientBuilder rather than an HttpClientConfigurer.
-  
+
 * HttpClientUtil now allows configuring HttpClient instances via SolrHttpClientBuilder
   rather than an HttpClientConfigurer. Use of env variable SOLR_AUTHENTICATION_CLIENT_CONFIGURER
-  no longer works, please use SOLR_AUTHENTICATION_CLIENT_BUILDER 
+  no longer works, please use SOLR_AUTHENTICATION_CLIENT_BUILDER
 
 * SolrClient implementations now use their own internal configuration for socket timeouts,
   connect timeouts, and allowing redirects rather than what is set as the default when
   building the HttpClient instance. Use the appropriate setters on the SolrClient instance.
-  
+
 * HttpSolrClient#setAllowCompression has been removed and compression must be enabled as
-  a constructor param. 
-  
+  a constructor param.
+
 * HttpSolrClient#setDefaultMaxConnectionsPerHost and
   HttpSolrClient#setMaxTotalConnections have been removed. These now default very
   high and can only be changed via param when creating an HttpClient instance.
@@ -991,16 +994,16 @@ New Features
 * SOLR-10431: Make it possible to invoke v2 api calls using SolrJ (Cao Manh Dat, Noble Paul, shalin)
 
 * SOLR-10233: Add support for different replica types, that can handle updates differently:
-  - NRT: Writes updates to transaction log and indexes locally. Replicas of type “NRT” support NRT 
-         (soft commits) and RTG. Any NRT replica can become a leader. This was the only type supported 
+  - NRT: Writes updates to transaction log and indexes locally. Replicas of type “NRT” support NRT
+         (soft commits) and RTG. Any NRT replica can become a leader. This was the only type supported
          in SolrCloud until now and it’s the default type.
-  - TLOG: Writes to transaction log, but not to index, uses replication to copy segment files from the 
-          shard leader. Any TLOG replica can become leader (by first applying all local transaction log 
+  - TLOG: Writes to transaction log, but not to index, uses replication to copy segment files from the
+          shard leader. Any TLOG replica can become leader (by first applying all local transaction log
           elements). If a replica is of type TLOG but is also the leader, it will behave as a NRT. This
           is exactly what was added in SOLR-9835 (non-realtime replicas), just the API and naming changes.
-  - PULL: Doesn’t index or writes to transaction log, just replicates from the shard leader. PULL replicas 
-          can’t become shard leaders (i.e., if there are only PULL replicas in the collection at some point, 
-          updates will fail same as if there is no leaders, queries continue to work), so they don’t even 
+  - PULL: Doesn’t index or writes to transaction log, just replicates from the shard leader. PULL replicas
+          can’t become shard leaders (i.e., if there are only PULL replicas in the collection at some point,
+          updates will fail same as if there is no leaders, queries continue to work), so they don’t even
           participate in elections.
   (Tomás Fernández Löbbe)
 
@@ -1160,9 +1163,9 @@ Bug Fixes
 
 * SOLR-11039: Next button in Solr admin UI for collection list pagination does not work. (janhoy)
 
-* SOLR-11041: MoveReplicaCmd do not specify ulog dir in case of HDFS (Cao Manh Dat) 
+* SOLR-11041: MoveReplicaCmd do not specify ulog dir in case of HDFS (Cao Manh Dat)
 
-* SOLR-11045: The new replica created by MoveReplica will have to have same name and coreName as the 
+* SOLR-11045: The new replica created by MoveReplica will have to have same name and coreName as the
   old one in case of HDFS (Cao Manh Dat)
 
 * SOLR-11043: Fix facet.range.method=dv and interval facets on single-valued float fields with negative values.
@@ -1171,7 +1174,7 @@ Bug Fixes
 * SOLR-11073: Fix overflow in interval faceting when querying Long limits (e.g. (Long.MAX_VALUE TO Long.MAX_VALUE])
   (Tomás Fernández Löbbe)
 
-* SOLR-11057: Fix overflow in point range queries when querying the type limits 
+* SOLR-11057: Fix overflow in point range queries when querying the type limits
   (e.g. q=field_i:{Integer.MAX_VALUE TO Integer.MAX_VALUE]) (Tomás Fernández Löbbe)
 
 * SOLR-11136: Fix solrj XMLResponseParser when nested docs transformer is used with indented XML (hossman)
@@ -1251,14 +1254,14 @@ when using one of Exact*StatsCache (Mikhail Khludnev)
 Optimizations
 ----------------------
 
-* SOLR-4509: Move to non deprecated HttpClient impl classes to remove stale connection 
+* SOLR-4509: Move to non deprecated HttpClient impl classes to remove stale connection
   check on every request and move connection lifecycle management towards the client.
   (Ryan Zezeski, Mark Miller, Shawn Heisey, Steve Davids)
 
-* SOLR-9255: Rename SOLR_AUTHENTICATION_CLIENT_CONFIGURER -> SOLR_AUTHENTICATION_CLIENT_BUILDER (janhoy) 
+* SOLR-9255: Rename SOLR_AUTHENTICATION_CLIENT_CONFIGURER -> SOLR_AUTHENTICATION_CLIENT_BUILDER (janhoy)
 
-* SOLR-9579: Make Solr's SchemaField implement Lucene's IndexableFieldType, removing the 
-  creation of a Lucene FieldType every time a field is indexed. (John Call, yonik) 
+* SOLR-9579: Make Solr's SchemaField implement Lucene's IndexableFieldType, removing the
+  creation of a Lucene FieldType every time a field is indexed. (John Call, yonik)
 
 * SOLR-9822: JSON Facet API: Recover performance lost due to the DocValues transition to
   an iterator API (LUCENE-7407).  This only fixes calculating counts for single-valued
@@ -1385,7 +1388,7 @@ Other Changes
 
 * SOLR-10807: Randomize Points based numeric field types in all existing tests & test schemas
   where Trie numerics were previously hardcoded. (hossman, Steve Rowe, Anshum Gupta)
-  
+
 * SOLR-6807: Changed requestDispatcher's handleSelect to default to false, thus ignoring "qt".
   Simplified configs to not refer to handleSelect or "qt".  Switch all tests that assumed true to assume false
   (added leading '/' in request handlers). Switch all tests referring to "standard" request handler to
@@ -1655,7 +1658,7 @@ New Features
 
 * SOLR-10507: Core Admin status command to emit collection details of each core (noble)
 
-* SOLR-10521: introducing sort=childfield(field) asc for searching by {!parent} (Mikhail Khludnev) 
+* SOLR-10521: introducing sort=childfield(field) asc for searching by {!parent} (Mikhail Khludnev)
 
 * SOLR-9596: Add Solr support for SimpleTextCodec, via <codecFactory class="solr.SimpleTextCodecFactory"/>
   in solrconfig.xml (per-field specification in the schema is not possible). (Steve Rowe)
@@ -1714,7 +1717,7 @@ Optimizations
 * SOLR-10499: facet.heatmap is now significantly faster when the docset (base query) matches everything and there are no
   deleted docs.  It's also faster when the docset matches a small fraction of the index or none. (David Smiley)
 
-* SOLR-9217: Reduced heap consumption for filter({!join ... score=...}) 
+* SOLR-9217: Reduced heap consumption for filter({!join ... score=...})
   (Andrey Kudryavtsev, Gopikannan Venugopalsamy via Mikhail Khludnev)
 
 * SOLR-10548: JSON Facet API now uses hyper-log-log++ for determining the number of buckets
@@ -1735,7 +1738,7 @@ Bug Fixes
 
 * SOLR-10369: bin\solr.cmd delete and healthcheck now works again; fixed continuation chars ^ (Luis Goes via janhoy)
 
-* SOLR-10387: zkTransfer normalizes destination path incorrectly if source is a windows directory 
+* SOLR-10387: zkTransfer normalizes destination path incorrectly if source is a windows directory
   (gopikannan venugopalsamy, Erick Erickson)
 
 * SOLR-10323: fix to SpellingQueryConverter to properly strip out colons in field-specific queries.
@@ -1743,8 +1746,8 @@ Bug Fixes
 
 * SOLR-10264: Fixes multi-term synonym parsing in ManagedSynonymFilterFactory.
   (Jörg Rathlev, Steve Rowe, Christine Poerschke)
-  
-* SOLR-8807: fix Spellcheck "collateMaxCollectDocs" parameter to work with queries that have the 
+
+* SOLR-8807: fix Spellcheck "collateMaxCollectDocs" parameter to work with queries that have the
   CollpasingQParserPlugin applied.  (James Dyer)
 
 * SOLR-10474: TestPointFields.testPointFieldReturn() depends on order of unsorted hits. (Steve Rowe)
@@ -1754,7 +1757,7 @@ Bug Fixes
 
 * SOLR-10047: Mismatched Docvalues segments cause exception in Sorting/Faceting. Solr now uninverts per segment
   to avoid such exceptions. (Keith Laban via shalin)
-  
+
 * SOLR-10472: Fixed uninversion (aka: FieldCache) bugs with the numeric PointField classes, and CurrencyField (hossman)
 
 * SOLR-5127: Multiple highlight fields and wildcards are now supported e.g. hl.fl=title,text_*
@@ -1766,13 +1769,13 @@ Bug Fixes
   when there was a mincount > 1.  This has been corrected by changing numBuckets cardinality processing to
   ignore mincount > 1 for non-distributed requests. (yonik)
 
-* SOLR-10520: child.facet.field doubled counts at least when rows>0. (Dr. Oleg Savrasov via Mikhail Khludnev) 
+* SOLR-10520: child.facet.field doubled counts at least when rows>0. (Dr. Oleg Savrasov via Mikhail Khludnev)
 
 * SOLR-10480: Full pagination in JSON Facet API using offset does not work. (yonik)
 
 * SOLR-10526: facet.heatmap didn't honor facet exclusions ('ex') for distributed search. (David Smiley)
 
-* SOLR-10500: nested child docs are adopted by neighbour when several parents come in update/json/docs 
+* SOLR-10500: nested child docs are adopted by neighbour when several parents come in update/json/docs
   (Alexey Suprun,noble via Mikhail Khludnev)
 
 * SOLR-10316: Unloading a core can remove a ZK SolrCore registration entry for the wrong SolrCore. (Mark Miller)
@@ -1798,7 +1801,7 @@ Bug Fixes
   and accept "TO" as endpoints in range queries. (hossman, Steve Rowe)
 
 * SOLR-10735: Windows script (solr.cmd) didn't work properly with directory containing spaces. Adding quotations
-  to fix (Uwe Schindler, janhoy, Tomas Fernandez-Lobbe, Ishan Chattopadhyaya) 
+  to fix (Uwe Schindler, janhoy, Tomas Fernandez-Lobbe, Ishan Chattopadhyaya)
 
 Ref Guide
 ----------------------
@@ -1817,7 +1820,7 @@ Other Changes
 
 * SOLR-10352: bin/solr script now prints warning when available system entropy is lower than 300 (Esther Quansah via
   Ishan Chattopadhyaya)
-  
+
 * SOLR-10344: Update Solr default/example and test configs to use WordDelimiterGraphFilterFactory. (Steve Rowe)
 
 * SOLR-10343: Update Solr default/example and test configs to use SynonymGraphFilterFactory. (Steve Rowe)
@@ -1825,7 +1828,7 @@ Other Changes
 * SOLR-10365: Handle a SolrCoreInitializationException while publishing core state during SolrCore creation
   (Ishan Chattopadhyaya)
 
-* SOLR-10357: Enable edismax and standard query parsers to handle the option combination 
+* SOLR-10357: Enable edismax and standard query parsers to handle the option combination
   sow=false / autoGeneratePhraseQueries="true" by setting QueryBuilder.autoGenerateMultiTermSynonymsQuery.
   (Steve Rowe)
 
@@ -1898,7 +1901,7 @@ Bug Fixes
 
 * SOLR-10404: The fetch() streaming expression wouldn't work if a value included query syntax chars (like :+-).
   Fixed, and enhanced the generated query to not pollute the queryCache. (David Smiley)
-  
+
 * SOLR-10423: Disable graph query production via schema configuration <fieldtype ... enableGraphQueries="false">.
   This fixes broken queries for ShingleFilter-containing query-time analyzers when request param sow=false.
   (Steve Rowe)
@@ -2142,7 +2145,7 @@ Other Changes
 * SOLR-9972: SpellCheckComponent collations and suggestions returned as a JSON object rather than a list
   (Christine Poerschke in response to bug report from Ricky Oktavianus Lazuardy)
 
-* SOLR-9983: Fixing NullPointerException failure by TestManagedSchemaThreadSafety 
+* SOLR-9983: Fixing NullPointerException failure by TestManagedSchemaThreadSafety
   adding check for Zookeeper session expiration (Steve Rowe, Mikhail Khludnev)
 
 * SOLR-10043: Reduce logging of pre-start log rotation (janhoy)
@@ -2288,7 +2291,7 @@ Upgrade Notes
 ----------------------
 
 * SOLR-9166: Export handler returns zero for numeric fields that are not in the original doc. One
-  consequence of this change is that you must be aware that some tuples will not have values if 
+  consequence of this change is that you must be aware that some tuples will not have values if
   there were none in the original document.
 
 * SOLR-8785: Metrics related classes in org.apache.solr.util.stats have been removed in favor of
@@ -2315,20 +2318,20 @@ Upgrade Notes
   risk in overlapping commits.  Nonetheless users should continue to avoid excessive committing. Users are
   advised to remove any pre-existing maxWarmingSearchers entries from their solrconfig.xml files.
 
-* SOLR-7466: complexphrase query parser now supports leading wildcards, beware of its' possible heaviness. 
-  Users are encouraged to use ReversedWildcardFilter in index time analysis.    
+* SOLR-7466: complexphrase query parser now supports leading wildcards, beware of its' possible heaviness.
+  Users are encouraged to use ReversedWildcardFilter in index time analysis.
 
 New Features
 ----------------------
 * SOLR-9918: Add SkipExistingDocumentsProcessor that skips duplicate inserts and ignores updates to missing docs
   (Tim Owen via koji)
 
-* SOLR-9293: Solrj client support for hierarchical clusters and other topics 
+* SOLR-9293: Solrj client support for hierarchical clusters and other topics
   marker. (Dawid Weiss)
 
 * SOLR-9681: FacetModule / JSON Facet API added the ability to add filters directly to
   any facet command.  The filters are applied after any domain change operations.
-  Example:  { type:terms, field:category, filter:"user:yonik" } 
+  Example:  { type:terms, field:category, filter:"user:yonik" }
   (yonik)
 
 * SOLR-9442, SOLR-9787: Adds Array of Name Type Value (json.nl=arrntv) style to JSONResponseWriter.
@@ -2374,7 +2377,7 @@ New Features
   all functionality to Hadoop authentication framework. (Hrishikesh Gadre via Ishan Chattopadhyaya)
 
 * SOLR-9860: Enable configuring invariantParams via HttpSolrClient.Builder (Hrishikesh Gadre, Ishan Chattopadhyaya)
- 
+
 * SOLR-4735, SOLR-9921: Improve metrics reporting. This uses the dropwizard metric library, adding an internal
   API for registering and reporting metrics from Solr components. Several new metrics and an improved JMX
   reporter have been added (Alan Woodward, Jeff Wartes, Christine Poerschke, Kelvin Wong, shalin, ab)
@@ -2421,7 +2424,7 @@ New Features
 
 * SOLR-8530: Add HavingStream to Streaming API and StreamingExpressions (Joel Bernstein)
 
-* SOLR-7466: Enable leading wildcard in complexphrase query parser, optimize it with  ReversedWildcardFilterFactory 
+* SOLR-7466: Enable leading wildcard in complexphrase query parser, optimize it with  ReversedWildcardFilterFactory
   when it's provided (Mikhail Khludnev)
 
 * SOLR-9935: Add hl.fragsize support when using the UnifiedHighlighter to avoid snippets/Passages that are too small.
@@ -2481,7 +2484,7 @@ Bug Fixes
 * SOLR-9740: A bug in macro expansion of multi-valued parameters caused non-expanded values
   after the first expanded value in the same multi-valued parameter to be dropped.
   (Erik Hatcher, yonik)
-  
+
 * SOLR-9751: PreAnalyzedField can cause managed schema corruption. (Steve Rowe)
 
 * SOLR-9736: Solr resolves the collection name against the first available leader or first replica
@@ -2505,7 +2508,7 @@ Bug Fixes
 
 * SOLR-9832: Schema modifications are not immediately visible on the coordinating node. (Steve Rowe)
 
-* SOLR-9834: A variety of spots in the code can create a collection zk node after the collection has been 
+* SOLR-9834: A variety of spots in the code can create a collection zk node after the collection has been
   removed. (Mark Miller)
 
 * SOLR-9707: Don't forward DeleteByQuery requests to down replicas. (Jessica Cheng Mallet via Varun Thacker)
@@ -2657,7 +2660,7 @@ Upgrade Notes
   logging messages you used to see at INFO level before.
 
 * We are no longer backing up solr.log and solr_gc.log files in date-stamped copies forever. If you relied on
-  the solr_log_<date> or solr_gc_log_<date> being in the logs folder that will no longer be the case. 
+  the solr_log_<date> or solr_gc_log_<date> being in the logs folder that will no longer be the case.
   See SOLR-9570 for details.
 
 * The create/deleteCollection methods on MiniSolrCloudCluster have been
@@ -2713,7 +2716,7 @@ New Features
 
 * SOLR-9417: Allow daemons to terminate when they finish iterating a topic (Joel Bernstein)
 
-* SOLR-8370: Display configured Similarity in Schema-Browser, both global/default and per-field/field-type 
+* SOLR-8370: Display configured Similarity in Schema-Browser, both global/default and per-field/field-type
   (janhoy, Alexandre Rafalovitch)
 
 * SOLR-9326: Ability to create/delete/list snapshots at collection level.
@@ -2782,9 +2785,9 @@ Bug Fixes
 * SOLR-9518: Kerberos Delegation Tokens don't work without a chrooted ZK (Ishan Chattopadhyaya,via noble)
 
 * SOLR-9687: Fixed Interval Facet count issue in cases of open/close intervals on the same values
- (Andy Chillrud, Tomás Fernández Löbbe)  
+ (Andy Chillrud, Tomás Fernández Löbbe)
 
-* SOLR-9441: Solr collection backup on HDFS can only be manipulated by the Solr process owner. 
+* SOLR-9441: Solr collection backup on HDFS can only be manipulated by the Solr process owner.
  (Hrishikesh Gadre via Mark Miller)
 
 * SOLR-9536: OldBackupDirectory timestamp field needs to be initialized to avoid NPE.
@@ -2802,7 +2805,7 @@ Bug Fixes
   the 'forEach' or 'xpath' attributes are templates & it is not a root entity (Cao Manh Dat, noble)
 
 * SOLR-9697: zk upconfig broken on windows (Xavier Jmlucjav via janhoy)
- 
+
 Optimizations
 ----------------------
 
@@ -3234,7 +3237,7 @@ Other Changes
 
 * SOLR-8643: BlockJoinFacetComponent is substituted by BlockJoinFacetDocSetComponent. It doesn't need to change solrconfig.xml (Mikhail Khludnev)
 
-* SOLR-8644: Test asserts that block join facets work with parent level fq exclusions. (Dr. Oleg Savrasov via Mikhail Khludnev) 
+* SOLR-8644: Test asserts that block join facets work with parent level fq exclusions. (Dr. Oleg Savrasov via Mikhail Khludnev)
 
 ==================  6.1.0 ==================
 
@@ -3268,7 +3271,7 @@ New Features
 * SOLR-8765: Enforce required parameters at query construction time in the SolrJ
   Collections API, add static factory methods, and deprecate old setter methods.
   (Alan Woodward, Jason Gerlowski)
- 
+
 * SOLR-8842: authorization APIs do not use name as an identifier for a permission
   for update, delete commands and 'before' attribute (noble)
 
@@ -3294,14 +3297,14 @@ New Features
   to indicate request params that should be forwarded when DUP distributes updates. (hossman)
 
 * SOLR-8888: Add shortestPath Streaming Expression. This expression performs a breadth first
-  graph traversal to find the shortest path(s) in an unweighted, directed graph stored in a 
+  graph traversal to find the shortest path(s) in an unweighted, directed graph stored in a
   SolrCloud collection. (Joel Bernstein)
 
 * SOLR-8938: Add optional --excluderegex argument to ZkCLI. (Christine Poerschke)
 
 * SOLR-8976: Add SolrJ support for REBALANCELEADERS Collections API (Anshum Gupta)
 
-* SOLR-8962: Add sort Streaming Expression. The expression takes a single input stream and a 
+* SOLR-8962: Add sort Streaming Expression. The expression takes a single input stream and a
   comparator and outputs tuples in stable order of the comparator. (Dennis Gove)
 
 * SOLR-8349: Allow sharing of large in memory data structures across cores (Gus Heck, noble)
@@ -3310,8 +3313,8 @@ New Features
 
 * SOLR-8918: Adds Streaming to the admin page under the collections section. Includes
   ability to see graphically the expression explanation (Dennis Gove)
-  
-* SOLR-8913: When using a shared filesystem we should store data dir and tlog dir locations in 
+
+* SOLR-8913: When using a shared filesystem we should store data dir and tlog dir locations in
   the cluster state. (Mark Miller)
 
 * SOLR-8809: Implement Connection.prepareStatement (Kevin Risden)
@@ -3384,9 +3387,9 @@ Bug Fixes
 
 * SOLR-9151: Fix SolrCLI so that bin/solr -e cloud example can be run from any CWD (janhoy)
 
-* SOLR-9141: Fix ClassCastException when using the /sql handler count() function with 
+* SOLR-9141: Fix ClassCastException when using the /sql handler count() function with
   single-shard collections (Minoru Osuka via James Dyer)
-  
+
 * SOLR-9165: Spellcheck does not return collations if "maxCollationTries" is used with "cursorMark".
   (James Dyer)
 
@@ -3412,7 +3415,7 @@ Optimizations
 
 * SOLR-8745: Deprecate costly ZkStateReader.updateClusterState(), replace with a narrow
   forceUpdateCollection(collection) (Scott Blum via shalin)
-  
+
 * SOLR-8856: Do not cache merge or 'read once' contexts in the hdfs block cache. (Mark Miller, Mike Drob)
 
 * SOLR-8922: Optimize filter creation (DocSetCollector) to minimize the amount of garbage
@@ -3475,7 +3478,7 @@ Other Changes
 
 * SOLR-8458: Add Streaming Expressions tests for parameter substitution (Joel Bernstein, Cao Manh Dat, Dennis Gove, Kevin Risden)
 
-* SOLR-8467: CloudSolrStream and FacetStream should take a SolrParams object rather than a 
+* SOLR-8467: CloudSolrStream and FacetStream should take a SolrParams object rather than a
   Map<String, String> to allow more complex Solr queries to be specified. (Erick Erickson)
 
 * SOLR-9083: Remove all <types> and <fields> from schemas. NOTE: as in the JIRA I left a few in to insure the (no cost)
@@ -3701,7 +3704,7 @@ New Features
 
 * SOLR-8038: Add the StatsStream to the Streaming API and wire it into the SQLHandler (Joel Bernstein)
 
-* SOLR-8086: Add support for SELECT DISTINCT queries to the SQL interface (Joel Bernstein) 
+* SOLR-8086: Add support for SELECT DISTINCT queries to the SQL interface (Joel Bernstein)
 
 * SOLR-7543: Basic graph traversal query
   Example: {!graph from="node_id" to="edge_id"}id:doc_1
@@ -3729,7 +3732,7 @@ New Features
 * SOLR-6398: Add IterativeMergeStrategy to support running Parallel Iterative Algorithms inside of Solr
   (Joel Bernstein)
 
-* SOLR-8436: Real-time get now supports filters. (yonik) 
+* SOLR-8436: Real-time get now supports filters. (yonik)
 
 * SOLR-7535: Add UpdateStream to Streaming API and Streaming Expression (Jason Gerlowski, Joel Bernstein)
 
@@ -3738,7 +3741,7 @@ New Features
 
 * SOLR-8002: Add column alias support to the Parallel SQL Interface (Joel Bernstein)
 
-* SOLR-7525: Add ComplementStream and IntersectStream to the Streaming API and Streaming Expressions 
+* SOLR-7525: Add ComplementStream and IntersectStream to the Streaming API and Streaming Expressions
   (Dennis Gove, Jason Gerlowski, Joel Bernstein)
 
 * SOLR-8415: Provide command to switch between non/secure mode in ZK
@@ -3800,15 +3803,15 @@ Bug Fixes
 * SOLR-8701: CloudSolrClient decides that there are no healthy nodes to handle a request too early.
   (Mark Miller)
 
-* SOLR-8694: DistributedMap/Queue can create too many Watchers and some code simplification. 
+* SOLR-8694: DistributedMap/Queue can create too many Watchers and some code simplification.
   (Scott Blum via Mark Miller)
-  
+
 * SOLR-8695: Ensure ZK watchers are not triggering our watch logic on connection events and
   make this handling more consistent. (Scott Blum via Mark Miller)
 
-* SOLR-8633: DistributedUpdateProcess processCommit/deleteByQuery call finish on DUP and 
+* SOLR-8633: DistributedUpdateProcess processCommit/deleteByQuery call finish on DUP and
   SolrCmdDistributor, which violates the lifecycle and can cause bugs. (hossman via Mark Miller)
-  
+
 * SOLR-8656: PeerSync should use same nUpdates everywhere. (Ramsey Haddad via Mark Miller)
 
 * SOLR-8697, SOLR-8837: Scope ZK election nodes by session to prevent elections from interfering with each other
@@ -3817,14 +3820,14 @@ Bug Fixes
 
 * SOLR-8599: After a failed connection during construction of SolrZkClient attempt to retry until a connection
   can be made. (Keith Laban, Dennis Gove)
-  
-* SOLR-8497: Merge index does not mark the Directory objects it creates as 'done' and they are retained in the 
+
+* SOLR-8497: Merge index does not mark the Directory objects it creates as 'done' and they are retained in the
   Directory cache. (Sivlio Sanchez, Mark Miller)
 
-* SOLR-8696: Start the Overseer before actions that need the overseer on init and when reconnecting after 
+* SOLR-8696: Start the Overseer before actions that need the overseer on init and when reconnecting after
   zk expiration and improve init logic. (Scott Blum, Mark Miller)
 
-* SOLR-8420: Fix long overflow in sumOfSquares for Date statistics. (Tom Hill, Christine Poerschke, 
+* SOLR-8420: Fix long overflow in sumOfSquares for Date statistics. (Tom Hill, Christine Poerschke,
   Tomás Fernández Löbbe)
 
 * SOLR-8748: OverseerTaskProcessor limits number of concurrent tasks to just 10 even though the thread pool
@@ -3891,7 +3894,7 @@ Optimizations
   speedups were up to 2.5x for production of filters, and up to 10x for query evaluation with
   embedded term range queres that resulted in filter cache hits.  (yonik)
 
-* SOLR-8559: FCS facet performance optimization which significantly speeds up processing when terms 
+* SOLR-8559: FCS facet performance optimization which significantly speeds up processing when terms
   are high cardinality and the matching docset is small. When facet minCount > 0 and the number of
   matching documents is small (or 0) this enhancement prevents considering terms which have a 0
   count. Also includes change to move to the next non-zero term value when selecting a segment
@@ -3995,7 +3998,7 @@ Other Changes
 * SOLR-8671: Date statistics: make "sum" a double instead of a long/date (Tom Hill, Christine Poerschke,
   Tomás Fernández Löbbe)
 
-* SOLR-8713: new UI and example solrconfig files point to Reference Guide for Solr Query Syntax instead 
+* SOLR-8713: new UI and example solrconfig files point to Reference Guide for Solr Query Syntax instead
   of the wiki. (Marius Grama via Tomás Fernández Löbbe)
 
 * SOLR-8758: Add a new SolrCloudTestCase class, using MiniSolrCloudCluster (Alan
@@ -4018,7 +4021,7 @@ Other Changes
 * SOLR-8819: Implement DatabaseMetaDataImpl getTables() and fix getSchemas(). (Trey Cahill,
   Joel Bernstein, Kevin Risden)
 
-* SOLR-8810: Implement Connection.setReadOnly, Statement.set/getFetchSize, 
+* SOLR-8810: Implement Connection.setReadOnly, Statement.set/getFetchSize,
   ResultSet.getType (Kevin Risden)
 
 * SOLR-8904: All dates are formatted via Instant.toString() (ISO-8601); see Solr upgrade notes for differences. Will
@@ -4497,13 +4500,13 @@ New Features
 
 * SOLR-4619: Improve PreAnalyzedField query analysis. (Andrzej Bialecki, Steve Rowe)
 
-* SOLR-8560: Added RequestStatusState enum which can be used when comparing states of 
+* SOLR-8560: Added RequestStatusState enum which can be used when comparing states of
   asynchronous requests. (Shai Erera)
 
 * SOLR-8586: added index fingerprint, a hash over all versions currently in the index.
   PeerSync now uses this to check if replicas are in sync. (yonik)
 
-* SOLR-8500: Allow the number of threads ConcurrentUpdateSolrClient StreamingSolrClients configurable by a 
+* SOLR-8500: Allow the number of threads ConcurrentUpdateSolrClient StreamingSolrClients configurable by a
   system property. NOTE: this is an expert option and can result in more often needing to do full index replication
   for recovery, the sweet spot for using this is very high volume, leader-only indexing. (Tim Potter, Erick Erickson)
 
@@ -4524,18 +4527,18 @@ New Features
 Bug Fixes
 ----------------------
 
-* SOLR-8175: Word Break Spellchecker would throw AIOOBE with certain queries containing 
+* SOLR-8175: Word Break Spellchecker would throw AIOOBE with certain queries containing
    "should" clauses. (Ryan Josal via James Dyer)
-   
+
 * SOLR-2556: The default spellcheck query converter was ignoring terms consisting entirely
   of digits. (James Dyer)
 
 * SOLR-8366: ConcurrentUpdateSolrClient attempts to use response's content type as charset encoding
   for parsing exception. (shalin)
-  
+
 * SOLR-6271: Fix ConjunctionSolrSpellChecker to not compare StringDistance by instance.
   (Igor Kostromin via James Dyer)
-  
+
 * SOLR-7304: Fix Spellcheck Collate to not invalidate range queries. (James Dyer)
 
 * SOLR-8373: KerberosPlugin: Using multiple nodes on same machine leads clients to
@@ -4581,7 +4584,7 @@ Bug Fixes
 
 * SOLR-8494: SimplePostTool and therefore the bin/post script cannot upload files larger than 2.1GB. (shalin)
 
-* SOLR-8451: We should not call method.abort in HttpSolrClient or HttpSolrCall#remoteQuery and 
+* SOLR-8451: We should not call method.abort in HttpSolrClient or HttpSolrCall#remoteQuery and
   HttpSolrCall#remoteQuery should not close streams. (Mark Miller)
 
 * SOLR-8450: Our HttpClient retry policy is too permissive. (Mark Miller, shalin)
@@ -4606,7 +4609,7 @@ Bug Fixes
 
 * SOLR-8564: Fix Embedded ZooKeeper to use <solrHome>/zoo_data for it's data directory
 
-* SOLR-8371: Try and prevent too many recovery requests from stacking up and clean up some faulty 
+* SOLR-8371: Try and prevent too many recovery requests from stacking up and clean up some faulty
   cancel recovery logic. (Mark Miller)
 
 * SOLR-8582 : memory leak in JsonRecordReader affecting /update/json/docs. Large payloads
@@ -4621,12 +4624,12 @@ Bug Fixes
 * SOLR-8575: Fix HDFSLogReader replay status numbers, a performance bug where we can reopen
   FSDataInputStream much too often, and an hdfs tlog data integrity bug.
   (Mark Miller, Patrick Dvorack, yonik)
-  
+
 * SOLR-8651: The commitWithin parameter is not passed on for deleteById in UpdateRequest in
   distributed queries (Jessica Cheng Mallet via Erick Erickson)
 
 * SOLR-8551: Make collection deletion more robust. (Mark Miller)
-  
+
 Optimizations
 ----------------------
 
@@ -4671,7 +4674,7 @@ Other Changes
 
 * SOLR-8313: SimpleQueryParser doesn't use MultiTermAnalysis for Fuzzy Queries (Tom Hill via Erick Erickson)
 
-* SOLR-8359: Restrict child classes from using parent logger's state 
+* SOLR-8359: Restrict child classes from using parent logger's state
   (Jason Gerlowski, Mike Drob, Anshum Gupta)
 
 * SOLR-8131: All example config sets now explicitly use the ManagedIndexSchemaFactory
@@ -4878,7 +4881,7 @@ New Features
   (yonik)
 
 * SOLR-7775: Allow fromIndex parameter to ScoreJoinQParserPlugin {!join score=.. fromIndex=..}..
-   to refer to a single-sharded collection that has a replica on all nodes where there is a 
+   to refer to a single-sharded collection that has a replica on all nodes where there is a
    replica in the to index (Andrei Beliakov via Mikhail Khludnev)
 
 * SOLR-7961: Print Solr's version with command bin/solr version (janhoy)
@@ -4977,16 +4980,16 @@ Bug Fixes
 * SOLR-8058: Fix the exclusion filter so that collections that start with js, css, img, tpl
   can be accessed. (Upayavira, Steve Rowe, Anshum Gupta)
 
-* SOLR-8069: Ensure that only the valid ZooKeeper registered leader can put a replica into Leader 
+* SOLR-8069: Ensure that only the valid ZooKeeper registered leader can put a replica into Leader
   Initiated Recovery. (Mark Miller, Jessica Cheng, Anshum Gupta)
-  
+
 * SOLR-8077: Replication can still cause index corruption. (Mark Miller)
 
 * SOLR-8104: Config API does not work for spellchecker (noble)
 
 * SOLR-8095: Allow disabling HDFS Locality Metrics and disable by default as it may have performance
   implications on rapidly changing indexes. (Mike Drob via Mark Miller)
-  
+
 * SOLR-8085: Fix a variety of issues that can result in replicas getting out of sync. (yonik, Mark Miller)
 
 * SOLR-8094: HdfsUpdateLog should not replay buffered documents as a replacement to dropping them.
@@ -5075,7 +5078,7 @@ Bug Fixes
 * SOLR-8287: TrieDoubleField and TrieLongField now override toNativeType
   (Ishan Chattopadhyaya via Christine Poerschke)
 
-* SOLR-8284: JSON Facet API - fix NPEs when short form "sort:index" or "sort:count" 
+* SOLR-8284: JSON Facet API - fix NPEs when short form "sort:index" or "sort:count"
   are used. (Michael Sun via yonik)
 
 * SOLR-8295: Fix NPE in collapse QParser when collapse field is missing from all docs in a segment (hossman)
@@ -5091,7 +5094,7 @@ Bug Fixes
 * SOLR-8073: Solr fails to start on Windows with obscure errors when using relative path.
   (Alexandre Rafalovitch, Ishan Chattopadhyaya via shalin)
 
-* SOLR-7169: bin/solr status should return exit code 3, not 0 if Solr is not running 
+* SOLR-7169: bin/solr status should return exit code 3, not 0 if Solr is not running
   (Dominik Siebel via Timothy Potter)
 
 * SOLR-8341: Fix JSON Facet API excludeTags when specified in the
@@ -5142,7 +5145,7 @@ Other Changes
 
 * SOLR-7969: Unavailable clustering engines should not fail the core. (Dawid Weiss)
 
-* SOLR-7790, SOLR-7791: Update Carrot2 clustering component to 
+* SOLR-7790, SOLR-7791: Update Carrot2 clustering component to
   version 3.10.4. Upgrade HPPC library to version 0.7.1. (Dawid Weiss)
 
 * SOLR-7831: Start Scripts: Allow a configurable stack size [-Xss] (Steve Davids via Mark Miller)
@@ -5392,14 +5395,14 @@ Detailed Change List
 New Features
 ----------------------
 
-* SOLR-7724: SolrJ now supports parsing the output of the clustering component. 
+* SOLR-7724: SolrJ now supports parsing the output of the clustering component.
   (Alessandro Benedetti via Dawid Weiss)
 
 * SOLR-7389: Expose znodeVersion property for each of the collections returned for the clusterstatus
   operation in the collections API (Marius Grama via shalin)
 
 * SOLR-7622: A DocTransformer can now request fields from the SolrIndexSearcher that are not
-  necessarily returned in the file SolrDocument by returning a list of fields from 
+  necessarily returned in the file SolrDocument by returning a list of fields from
   DocTransformer#getExtraRequestFields  (ryan)
 
 * SOLR-7458: Expose HDFS Block Locality Metrics via JMX (Mike Drob via Mark Miller)
@@ -5477,29 +5480,29 @@ Bug Fixes
 
 * SOLR-7566: Search requests should return the shard name that is down. (Marius Grama, shalin)
 
-* SOLR-7675: Add missing _root_ field to managed-schema template so that the default data driven 
+* SOLR-7675: Add missing _root_ field to managed-schema template so that the default data driven
   config set can index nested documents by default.  (yonik)
 
 * SOLR-7635: Limit lsof port check in bin/solr to just listening ports
   (Upayavira, Ramkumar Aiyengar)
-  
-* SOLR-7091: Nested documents with unknown fields don't work in schemaless mode. 
+
+* SOLR-7091: Nested documents with unknown fields don't work in schemaless mode.
   (Steve Rowe)
-  
+
 * SOLR-7682: Schema API: add-copy-field should accept the maxChars parameter. (Steve Rowe)
 
 * SOLR-7693: Fix the bin/solr -e cloud example to work if lsof is not installed
-  on the local machine by waiting for 10 seconds before starting the second node. 
+  on the local machine by waiting for 10 seconds before starting the second node.
   (hossman, Timothy Potter)
 
 * SOLR-7689: ReRankQuery rewrite method can change the QueryResultKey causing cache misses.
   (Emad Nashed, Yonik Seeley, Joel Bernstein)
-  
+
 * SOLR-7697: Schema API doesn't take class or luceneMatchVersion attributes into
   account for the analyzer when adding a new field type. (Marius Grama, Steve Rowe)
-  
+
 * SOLR-7679: Schema API doesn't take similarity attribute into account when adding
-  field types. (Marius Grama, Steve Rowe) 
+  field types. (Marius Grama, Steve Rowe)
 
 * SOLR-7664: Throw correct exception (RemoteSolrException) on receiving a HTTP 413.
   (Ramkumar Aiyengar, Eirik Lygre)
@@ -5512,13 +5515,13 @@ Bug Fixes
 
 * SOLR-7741: Add missing fields to SolrIndexerConfig.toMap
   (Mike Drob, Christine Poerschke via Ramkumar Aiyengar)
-  
+
 * SOLR-7748: Fix bin/solr to start on IBM J9. (Shai Erera)
 
 * SOLR-7143: MoreLikeThis Query parser should handle multiple field names
   (Jens Wille, Anshum Gupta)
 
-* SOLR-7132: The Collections API ADDREPLICA command property.name is not reflected 
+* SOLR-7132: The Collections API ADDREPLICA command property.name is not reflected
   in the clusterstate until after Solr restarts (Erick Erickson)
 
 * SOLR-7172: addreplica API fails with incorrect error msg "cannot create collection"
@@ -5530,8 +5533,8 @@ Bug Fixes
 * SOLR-7529: CoreAdminHandler Reload throws NPE on null core name instead of a bad
   request error. (Jellyfrog, Edward Ribeiro via shalin)
 
-* SOLR-7781: JSON Facet API: Terms facet on string/text fields with sub-facets caused 
-  a bug that resulted in filter cache lookup misses as well as the filter cache 
+* SOLR-7781: JSON Facet API: Terms facet on string/text fields with sub-facets caused
+  a bug that resulted in filter cache lookup misses as well as the filter cache
   exceeding it's configured size. (yonik)
 
 * SOLR-7810: map-reduce contrib script to set classpath for convenience refers to example
@@ -5597,7 +5600,7 @@ Optimizations
 Other Changes
 ----------------------
 
-* SOLR-7787: Removed fastutil and java-hll dependency, integrated HyperLogLog from java-hll 
+* SOLR-7787: Removed fastutil and java-hll dependency, integrated HyperLogLog from java-hll
   into Solr core. (Dawid Weiss)
 
 * SOLR-7595: Allow method chaining for all CollectionAdminRequests in Solrj. (shalin)
@@ -5697,7 +5700,7 @@ Other Changes
   request object available at the interceptor context ( Ishan Chattopadhyay, Gregory Chanan, noble, Anshum Gupta)
 
 * SOLR-5022: On Java 7 raise permgen for running tests.  (Uwe Schindler)
-  
+
 * SOLR-7823: TestMiniSolrCloudCluster.testCollectionCreateSearchDelete async collection-creation (sometimes)
   (Christine Poerschke)
 
@@ -5707,7 +5710,7 @@ Other Changes
 
 * SOLR-7832: bin/post now allows either -url or -c, rather than requiring both. (ehatcher)
 
-* SOLR-7847: Implement run example logic in Java instead of OS-specific scripts in 
+* SOLR-7847: Implement run example logic in Java instead of OS-specific scripts in
   bin/solr and bin\solr.cmd (Timothy Potter)
 
 * SOLR-7877: TestAuthenticationFramework.testBasics to preserve/restore the original request(Username|Password)
@@ -5745,7 +5748,7 @@ Bug Fixes
   instead of throwing an exception. (yonik)
 
 * SOLR-7574: A request with a json content type but no body caused a null pointer exception (yonik)
-  
+
 * SOLR-7512: SolrOutputFormat creates an invalid solr.xml in the solr home zip for MapReduceIndexerTool.
   (Mark Miller, Adam McElwee)
 
@@ -5758,7 +5761,7 @@ Bug Fixes
 
 * SOLR-7493: Requests aren't distributed evenly if the collection isn't present locally.
   (Jeff Wartes, shalin)
-  
+
 Other Changes
 ----------------------
 
@@ -5790,8 +5793,8 @@ Upgrading from Solr 5.1
   This bug has now been fixed, but users of document boosts are strongly encouraged to re-index.
   See SOLR-7335 for more details.
 
-* The Slice and Replica classes have been changed to use State enums instead of string constants 
-  to track the respective stats.  Advanced users with client code manipulating these objects will 
+* The Slice and Replica classes have been changed to use State enums instead of string constants
+  to track the respective stats.  Advanced users with client code manipulating these objects will
   need to update their code accordingly.  See SOLR-7325 and SOLR-7336 for more info.
 
 * Solr has internally been upgraded to use Jetty 9. See SOLR-4839 for full details, but there are
@@ -5828,16 +5831,16 @@ Upgrading from Solr 5.1
 * The package structure under org.apache.solr.client.solrj.io has been changed to support
   the Streaming Expression Language (SOLR-7377). Any code written with the 5.1 Streaming API will have to
   be updated to reflect these changes.
-  
+
 * Merge Policy's "noCFSRatio" is no longer set based on <useCompoundFile> element in the indexConfig section
   of solrconfig.xml. This means that Solr will start using Lucene's default for MP "noCFSRatio", with this
-  new default Solr will decide if a segment should use cfs or not based on the size of the segment in relation 
+  new default Solr will decide if a segment should use cfs or not based on the size of the segment in relation
   the size of the complete index. For TieredMergePolicy for example (current default), segments will use cfs
-  if they are less than 10% of the index, otherwise cfs is disabled. Old values for this setting 
-  (1.0 for useCompoundFile=true and 0.0 for useCompoundFile=false) as well as any other value can be set 
+  if they are less than 10% of the index, otherwise cfs is disabled. Old values for this setting
+  (1.0 for useCompoundFile=true and 0.0 for useCompoundFile=false) as well as any other value can be set
   inside the <mergePolicy> element in solrconfig.xml. <useCompoundFile> will only apply to newly created
   segments. See SOLR-7463.
- 
+
 
 Detailed Change List
 ----------------------
@@ -5852,8 +5855,8 @@ New Features
     http://localhost:8983/solr/techproducts/replication?command=restorestatus
   (Varun Thacker, noble, shalin)
 
-* SOLR-7241, SOLR-7263, SOLR-7279, SOLR-7300, SOLR-7396, SOLR-7397, SOLR-7492: 
-  Admin UI - Refactoring using AngularJS. More functionality moving the Admin 
+* SOLR-7241, SOLR-7263, SOLR-7279, SOLR-7300, SOLR-7396, SOLR-7397, SOLR-7492:
+  Admin UI - Refactoring using AngularJS. More functionality moving the Admin
   UI to Angular JS (Upayavira via Erick)
 
 * SOLR-7372: Limit memory consumed by LRUCache with a new 'maxRamMB' config parameter.
@@ -5873,9 +5876,9 @@ New Features
 * SOLR-7417: JSON Facet API - unique() is now implemented for numeric and date fields.
   (yonik)
 
-* SOLR-7406: Add a new "facet.range.method" parameter to let users choose how to do range 
-  faceting between an implementation based on filters (previous algorithm, using 
-  "facet.range.method=filter") or DocValues ("facet.range.method=dv"). 
+* SOLR-7406: Add a new "facet.range.method" parameter to let users choose how to do range
+  faceting between an implementation based on filters (previous algorithm, using
+  "facet.range.method=filter") or DocValues ("facet.range.method=dv").
   Input parameters and output of both methods are the same. (Tomás Fernández Löbbe)
 
 * SOLR-7473: Facet Module (Json Facet API) range faceting now supports the "mincount"
@@ -5890,7 +5893,7 @@ New Features
   parameter which disregards any matching tagged filters for that facet.  Example:
   & q=shoes
   & fq={!tag=COLOR}color:blue
-  & json.facet={ colors:{type:terms, field:color, excludeTags=COLOR} } 
+  & json.facet={ colors:{type:terms, field:color, excludeTags=COLOR} }
   (yonik)
 
 * SOLR-7231: DIH-TikaEntityprocessor, create lat-lon field from Metadata
@@ -5899,7 +5902,7 @@ New Features
 * SOLR-6220: Rule Based Replica Assignment during collection, shard creation
   and replica creation (Noble Paul)
 
-* SOLR-6968: New 'cardinality' option for stats.field, uses HyperLogLog to efficiently 
+* SOLR-6968: New 'cardinality' option for stats.field, uses HyperLogLog to efficiently
   estimate the cardinality of a field w/bounded RAM. (hossman)
 
 * SOLR-4392: Make it possible to specify AES encrypted password in dataconfig.xml (Noble Paul)
@@ -5910,7 +5913,7 @@ New Features
 * SOLR-7522: Facet Module - Implement field/terms faceting over single-valued
   numeric fields. (yonik)
 
-* SOLR-7275: Authorization framework for Solr. It defines an interface and a mechanism to create, 
+* SOLR-7275: Authorization framework for Solr. It defines an interface and a mechanism to create,
   load, and use an Authorization plugin. (Noble Paul, Ishan Chattopadhyaya, Anshum Gupta)
 
 * SOLR-7377: Solr Streaming Expressions (Dennis Gove, Joel Bernstein, Steven Bower)
@@ -5944,7 +5947,7 @@ Bug Fixes
 
 * SOLR-7066: autoAddReplicas feature has bug when selecting replacement nodes. (Mark Miller)
 
-* SOLR-7370: FSHDFSUtils#recoverFileLease tries to recover the lease every one second after 
+* SOLR-7370: FSHDFSUtils#recoverFileLease tries to recover the lease every one second after
   the first four second wait. (Mark Miller)
 
 * SOLR-7369: AngularJS UI insufficient URLDecoding in cloud/tree view (janhoy)
@@ -5957,7 +5960,7 @@ Bug Fixes
 * SOLR-7401: Fixed a NullPointerException when concurrently creating and deleting collections,
   while accessing other collections. (Shai Erera)
 
-* SOLR-7412: Fixed range.facet.other parameter for distributed requests. 
+* SOLR-7412: Fixed range.facet.other parameter for distributed requests.
   (Will Miller, Tomás Fernández Löbbe)
 
 * SOLR-6087: SolrIndexSearcher makes no DelegatingCollector.finish() call when IndexSearcher
@@ -5982,7 +5985,7 @@ Bug Fixes
 
 * SOLR-7440: DebugComponent does not return the right requestPurpose for pivot facet refinements.
   (shalin)
-  
+
 * SOLR-7408: Listeners set by SolrCores on config directories in ZK could be removed if collections
   are created/deleted in paralle against the same config set. (Shai Erera, Anshum Gupta)
 
@@ -5999,7 +6002,7 @@ Bug Fixes
 * SOLR-7449: solr/server/etc/jetty-https-ssl.xml hard codes the key store file and password rather
   than pulling them from the sysprops defined in solr/bin/solr.in.{sh,cmd}
 
-* SOLR-7470: Fix sample data to eliminate file order dependency for successful indexing, also 
+* SOLR-7470: Fix sample data to eliminate file order dependency for successful indexing, also
   fixed SolrCloudExampleTest to help catch this in the future. (hossman)
 
 * SOLR-7478: UpdateLog#close shuts down it's executor with interrupts before running it's close logic,
@@ -6056,7 +6059,7 @@ Optimizations
 * SOLR-7547: Short circuit SolrDisptachFilter for static content request. Right now it creates
   a new HttpSolrCall object and tries to process it. (Anshum Gupta)
 
-* SOLR-7333: Make the poll queue time a leader uses when distributing updates to replicas 
+* SOLR-7333: Make the poll queue time a leader uses when distributing updates to replicas
   configurable and use knowledge that a batch is being processed to poll efficiently.
   (Timothy Potter)
 
@@ -6124,7 +6127,7 @@ Other Changes
 * SOLR-7325: Slice.getState() now returns a State enum instead of a String. This helps
   clarify the states a Slice can be in, as well comparing the state of a Slice.
   (Shai Erera)
-  
+
 * SOLR-7336: Added Replica.getState() and removed ZkStateReader state-related constants.
   You should use Replica.State to compare a replica's state. (Shai Erera)
 
@@ -6136,9 +6139,9 @@ Other Changes
   was listing them in a random order.  Now they are sorted in a natural order
   that handles numbers properly. (Jellyfrog via Shawn Heisey)
 
-* SOLR-7484: Refactor SolrDispatchFilter to extract all Solr specific implementation detail 
-  to HttpSolrCall and also extract methods from within the current SDF.doFilter(..) logic 
-  making things easier to manage. HttpSolrCall converts the processing to a 3-step process 
+* SOLR-7484: Refactor SolrDispatchFilter to extract all Solr specific implementation detail
+  to HttpSolrCall and also extract methods from within the current SDF.doFilter(..) logic
+  making things easier to manage. HttpSolrCall converts the processing to a 3-step process
   i.e. Construct, Init, and Call so the context of the request would be available after Init
    and before the actual call operation. (Anshum Gupta, Noble Paul)
 
@@ -6165,7 +6168,7 @@ Other Changes
 * SOLR-7541: Removed CollectionsHandler#createNodeIfNotExists. All calls made to this method now call
   ZkCmdExecutor#ensureExists as they were doing the same thing. Also ZkCmdExecutor#ensureExists now respects the
   CreateMode passed to it. (Varun Thacker)
-  
+
 * SOLR-6820: Make the number of version buckets used by the UpdateLog configurable as
   increasing beyond the default 256 has been shown to help with high volume indexing
   performance in SolrCloud; helps overcome a limitation where Lucene uses the request
@@ -6624,12 +6627,12 @@ Upgrading from Solr 4.x
   still have old segments in your index. Alternatively fully optimize your index
   with Solr 4.10 to make sure it consists only of one up-to-date index segment.
 
-* The "file" attribute of infoStream in solrconfig.xml is removed. Control this 
+* The "file" attribute of infoStream in solrconfig.xml is removed. Control this
   via your logging configuration (org.apache.solr.update.LoggingInfoStream) instead.
 
 * UniqFieldsUpdateProcessorFactory no longer supports the <lst named="fields"> init
-  param style that was deprecated in Solr 4.5.  If you are still using this syntax, 
-  update your configs to use <arr name="fieldName"> instead. See SOLR-4249 for more 
+  param style that was deprecated in Solr 4.5.  If you are still using this syntax,
+  update your configs to use <arr name="fieldName"> instead. See SOLR-4249 for more
   details.
 
 * The following legacy numeric and date field types, deprecated in Solr 4.8, are no
@@ -6641,8 +6644,8 @@ Upgrading from Solr 4.x
 
 * getAnalyzer() in IndexSchema and FieldType that was deprecated in Solr 4.9 has
   been removed.  Use getIndexAnalyzer() instead. See SOLR-6022 for more information.
-  
-* The spellcheck response format has changed, affecting xml and json clients.  In 
+
+* The spellcheck response format has changed, affecting xml and json clients.  In
   particular, the "correctlySpelled" and "collations" subsections have been moved outside
   the "suggestions" subsection, and now are directly under "spellcheck".
   See SOLR-3029 for more information.
@@ -6661,10 +6664,10 @@ Upgrading from Solr 4.x
   If you need the old functionality back , please add an extra parameter f=/**
   example: /update/json/docs?f=/**
 
-* Bugs fixed in several ValueSource functions may result in different behavior in 
-  situations where some documents do not have values for fields wrapped in other value 
+* Bugs fixed in several ValueSource functions may result in different behavior in
+  situations where some documents do not have values for fields wrapped in other value
   sources.  Users who want to preserve the previous behavior may need to wrap fields
-  in the "def()" function. Example: changing "fl=sum(fieldA,fieldB)" to 
+  in the "def()" function. Example: changing "fl=sum(fieldA,fieldB)" to
   "fl=sum(def(fieldA,0.0),def(fieldB,0.0))".  See LUCENE-5961 for more details.
 
 * AdminHandlers is deprecated, /admin/* are implicitly defined, /get, /replication and
@@ -6673,16 +6676,16 @@ Upgrading from Solr 4.x
 * SolrCore.reload(ConfigSet coreConfig, SolrCore prev) was deprecated in 4.10.3 and
   removed in 5.0. use SolrCore.reload(ConfigSet coreConfig). See SOLR-5864.
 
-* The "termIndexInterval" option in solrconfig.xml has been a No-Op in the default codec 
-  since Solr 4.0, and has been removed completely in 5.0.  If you get an "Illegal parameter 
-  'termIndexInterval'" error when upgrading, you can safely remove this option from your 
-  configs.  If you have a strong need to configure this, you must explicitly configure your 
+* The "termIndexInterval" option in solrconfig.xml has been a No-Op in the default codec
+  since Solr 4.0, and has been removed completely in 5.0.  If you get an "Illegal parameter
+  'termIndexInterval'" error when upgrading, you can safely remove this option from your
+  configs.  If you have a strong need to configure this, you must explicitly configure your
   schema with a custom codec.  See SOLR-6560 and for more details.
 
 * The "checkIntegrityAtMerge" option in solrconfig.xml is now a No-Op and should be removed
   from any solrconfig.xml files -- these integrity checks are now done automatically at a very
   low level during the segment merging process.  See SOLR-6834 for more details.
-  
+
 * SimplePostTool (post.jar) no longer defaults to collection1, making either of core/collection
   name or update URL mandatory. An existing call without an explicit update URL needs to now
   have the core/collection name passed as "-Dc=<collection/core name>" e.g.:
@@ -6712,7 +6715,7 @@ Upgrading from Solr 4.x
   comprised of minX minY maxX maxY that should now be replaced with
   ENVELOPE(minX, maxX, maxY, minY).
 
-* Due to changes in the underlying commons-codec package, users of the BeiderMorseFilterFactory 
+* Due to changes in the underlying commons-codec package, users of the BeiderMorseFilterFactory
   will need to rebuild their indexes after upgrading.  See LUCENE-6058 for more details.
 
 * CachedSqlEntityProcessor has been removed, use SqlEntityProcessor with the
@@ -6791,20 +6794,20 @@ New Features
 
 * SOLR-6543: Give HttpSolrClient the ability to send PUT requests (Gregory Chanan)
 
-* SOLR-5986: Don't allow runaway queries from harming Solr cluster health or search 
+* SOLR-5986: Don't allow runaway queries from harming Solr cluster health or search
   performance (Anshum Gupta, Steve Rowe, Robert Muir)
 
 * SOLR-6565: SolrRequest support for query params (Gregory Chanan)
 
 * SOLR-6476: Create a bulk mode for schema API (Noble Paul, Steve Rowe)
 
-* SOLR-6512: Add a collections API call to add/delete arbitrary properties 
+* SOLR-6512: Add a collections API call to add/delete arbitrary properties
   to a specific replica. Optionally adding sliceUnique=true will remove
-  this property from all other replicas within a particular slice. 
+  this property from all other replicas within a particular slice.
   (Erick Erickson)
 
 * SOLR-6513: Add a collectionsAPI call BALANCESLICEUNIQUE. Allows the even
-  distribution of custom replica properties across nodes making up a 
+  distribution of custom replica properties across nodes making up a
   collection, at most one node per slice will have the property.
 
 * SOLR-6605: Make ShardHandlerFactory maxConnections configurable.
@@ -6828,7 +6831,7 @@ New Features
   (Jessica Cheng Mallet via Timothy Potter)
 
 * SOLR-6655: SimplePostTool now features -Dhost, -Dport, and -Dc (for core/collection)
-  properties to allow easier overriding of just the right piece of the Solr URL. 
+  properties to allow easier overriding of just the right piece of the Solr URL.
   (ehatcher)
 
 * SOLR-6248: MoreLikeThis QParser that accepts a document id and returns documents that
@@ -6838,7 +6841,7 @@ New Features
 * SOLR-6670: change BALANCESLICEUNIQUE to BALANCESHARDUNIQUE. Also, the parameter
   for ADDREPLICAPROP that used to be sliceUnique is now shardUnique. (Erick Erickson)
 
-* SOLR-6351: Stats can now be nested under pivot values by adding a 'stats' local param to 
+* SOLR-6351: Stats can now be nested under pivot values by adding a 'stats' local param to
   facet.pivot which refers to a 'tag' local param in one or more stats.field params.
   (hossman, Vitaliy Zhovtyuk, Steve Molloy)
 
@@ -6888,14 +6891,14 @@ New Features
 * SOLR-6916: Toggle payload support for the default highlighter via hl.payloads.  It's auto
   enabled when the index has payloads. (David Smiley)
 
-* SOLR-6581: Efficient DocValues support and numeric collapse field implementations 
+* SOLR-6581: Efficient DocValues support and numeric collapse field implementations
   for Collapse and Expand (Joel Bernstein)
 
 * SOLR-6937: In schemaless mode ,replace spaces and special characters with underscore (Noble Paul)
 
 * SOLR-5147: Support child documents in DIH
   (Vadim Kirilchuk, Shawn Heisey, Thomas Champagne, Mikhail Khludnev via Noble Paul)
-  
+
 Bug Fixes
 ----------------------
 
@@ -6970,7 +6973,7 @@ Bug Fixes
 
 * SOLR-6763: Shard leader elections should not persist across session expiry
   (Alan Woodward, Mark Miller)
-  
+
 * SOLR-3881: Avoid OOMs in LanguageIdentifierUpdateProcessor:
   - Added langid.maxFieldValueChars and langid.maxTotalChars params to limit
     input, by default 10k and 20k chars, respectively.
@@ -6988,7 +6991,7 @@ Bug Fixes
 * SOLR-6718: Core discovery was walking paths relative to the Jetty working
   directory, rather than SOLR_HOME. (Andreas Hubold, Alan Woodward)
 
-* SOLR-6864: Support registering searcher listeners in SolrCoreAware.inform(SolrCore) 
+* SOLR-6864: Support registering searcher listeners in SolrCoreAware.inform(SolrCore)
   method. Existing components rely on this. (Tomás Fernández Löbbe)
 
 * SOLR-6850: AutoAddReplicas makes a call to wait to see live replicas that times
@@ -7005,7 +7008,7 @@ Bug Fixes
 
 * SOLR-6779: fix /browse for schemaless example (ehatcher)
 
-* SOLR-6874: There is a race around SocketProxy binding to it's port the way we setup 
+* SOLR-6874: There is a race around SocketProxy binding to it's port the way we setup
   JettySolrRunner and SocketProxy. (Mark Miller, Timothy Potter)
 
 * SOLR-6735: Make CloneFieldUpdateProcessorFactory null safe (Steve Davids via ehatcher)
@@ -7016,7 +7019,7 @@ Bug Fixes
 * SOLR-6880: Harden ZkStateReader to expect that getCollectionLive may return null
   as it's contract states. (Mark Miller, shalin)
 
-* SOLR-6643: Fix error reporting & logging of low level JVM Errors that occur when 
+* SOLR-6643: Fix error reporting & logging of low level JVM Errors that occur when
   loading/reloading a SolrCore (hossman)
 
 * SOLR-6839: Direct routing with CloudSolrServer will ignore the Overwrite document option.
@@ -7035,8 +7038,8 @@ Bug Fixes
 
 * SOLR-6764: Field types need to be re-informed after reloading a managed schema from ZK
   (Timothy Potter)
-  
-* SOLR-6931: We should do a limited retry when using HttpClient. 
+
+* SOLR-6931: We should do a limited retry when using HttpClient.
  (Mark Miller, Hrishikesh Gadre, Gregory Chanan)
 
 * SOLR-7004: Add a missing constructor for CollectionAdminRequest.BalanceShardUnique that
@@ -7055,7 +7058,7 @@ Bug Fixes
 
 * SOLR-6847: LeaderInitiatedRecoveryThread compares wrong replica's state with lirState.
   (shalin)
-  
+
 * SOLR-6856: Restore ExtractingRequestHandler's ability to capture all HTML tags when
   parsing (X)HTML. (hossman, Uwe Schindler, ehatcher, Steve Rowe)
 
@@ -7077,29 +7080,29 @@ Bug Fixes
 
 * SOLR-7067: bin/solr won't run under bash 4.2+. (Steve Rowe)
 
-* SOLR-7068: Collapse on numeric field breaks when min/max values are negative. 
+* SOLR-7068: Collapse on numeric field breaks when min/max values are negative.
   (Joel Bernstein)
 
-* SOLR-6780: Fixed a bug in how default/appends/invariants params were affecting the set 
-  of all "keys" found in the request parameters, resulting in some key=value param pairs 
-  being duplicated.  This was noticeably affecting some areas of the code where iteration 
-  was done over the set of all params: 
+* SOLR-6780: Fixed a bug in how default/appends/invariants params were affecting the set
+  of all "keys" found in the request parameters, resulting in some key=value param pairs
+  being duplicated.  This was noticeably affecting some areas of the code where iteration
+  was done over the set of all params:
     - literal.* in ExtractingRequestHandler
     - facet.* in FacetComponent
     - spellcheck.[dictionary name].* and spellcheck.collateParam.* in SpellCheckComponent
     - olap.* in AnalyticsComponent
   (Alexandre Rafalovitch & hossman)
 
-* SOLR-6920: A replicated index can end up corrupted when small files end up with the same 
+* SOLR-6920: A replicated index can end up corrupted when small files end up with the same
   file name and size. (Varun Thacker, Mark Miller)
 
 * SOLR-7033, SOLR-5961: RecoveryStrategy should not publish any state when
-  closed / cancelled and there should always be a pause between recoveries 
+  closed / cancelled and there should always be a pause between recoveries
   even when recoveries are rapidly stopped and started as well as when a
-  node attempts to become the leader for a shard. 
+  node attempts to become the leader for a shard.
   (Mark Miller, Maxim Novikov)
 
-* SOLR-6693: bin\solr.cmd doesn't support 32-bit JRE/JDK running on Windows due to 
+* SOLR-6693: bin\solr.cmd doesn't support 32-bit JRE/JDK running on Windows due to
   parenthesis in JAVA_HOME. (Timothy Potter, Christopher Hewitt, Jan Høydahl)
 
 Optimizations
@@ -7130,12 +7133,12 @@ Other Changes
 * SOLR-5936: Removed deprecated non-Trie-based numeric & date field types.
   (Steve Rowe)
 
-* SOLR-6169: Finish removal of CoreAdminHandler handleAlias action begun in 4.9 
+* SOLR-6169: Finish removal of CoreAdminHandler handleAlias action begun in 4.9
   (Alan Woodward)
 
 * SOLR-6215: TrieDateField should directly extend TrieField instead of
   forwarding to a wrapped TrieField. (Steve Rowe)
-  
+
 * SOLR-3029: Changes to spellcheck response format (Nalini Kartha via James Dyer)
 
 * SOLR-3957: Removed RequestHandlerUtils#addExperimentalFormatWarning(), which
@@ -7220,9 +7223,9 @@ Other Changes
 
 * SOLR-6740: Admin UI - improve Files View (steffkes)
 
-* SOLR-6570: Run SolrZkClient session watch asynchronously. 
+* SOLR-6570: Run SolrZkClient session watch asynchronously.
  (Ramkumar Aiyengar via Mark Miller)
- 
+
 * SOLR-6747: Add an optional caching option as a workaround for SOLR-6586.
   (Mark Miller, Gregory Chanan)
 
@@ -7240,13 +7243,13 @@ Other Changes
   /get and /admin/* handlers (Noble Paul)
 
 * SOLR-5864: Remove previous SolrCore as parameter on reload.
-  (Tomás Fernández Löbbe) 
+  (Tomás Fernández Löbbe)
 
 * SOLR-4792: Stop shipping a .war. (Robert Muir, Ramkumar Aiyengar, Mark Miller)
 
 * SOLR-6799: Update Saxon-HE to 9.6.0-2. (Mark Miller)
 
-* SOLR-6454: Suppress EOFExceptions in SolrDispatchFilter. 
+* SOLR-6454: Suppress EOFExceptions in SolrDispatchFilter.
   (Ramkumar Aiyengar via Mark Miller)
 
 * SOLR-6370: Allow tests to report/fail on many ZK watches being parallelly
@@ -7258,11 +7261,11 @@ Other Changes
 * SOLR-6560: Purge termIndexInterval from example/test configs
   (Tom Burton-West, hossman)
 
-* SOLR-6773: Remove the multicore example as the DIH and cloud examples 
+* SOLR-6773: Remove the multicore example as the DIH and cloud examples
   illustrate multicore behavior (hossman, Timothy Potter)
 
 * SOLR-6834: Warn if checkIntegrityAtMerge is configured.  This option is no longer meaningful
-  since the checks are done automatically at a very low level in the segment merging. 
+  since the checks are done automatically at a very low level in the segment merging.
   This warning will become an error in Solr 6.0.  (hossman)
 
 * SOLR-6833: Examples started with bin/solr -e should use a solr.solr.home directory under
@@ -7294,8 +7297,8 @@ Other Changes
 * SOLR-6882: Misspelled collection API actions in ReplicaMutator exception messages.
   (Steve Rowe via shalin)
 
-* SOLR-6867: SolrCLI should check for existence before creating a new core/collection, 
-  more user-friendly error reporting (no stack trace), and the ability to pass a 
+* SOLR-6867: SolrCLI should check for existence before creating a new core/collection,
+  more user-friendly error reporting (no stack trace), and the ability to pass a
   directory when using bin/solr to create a core or collection (Timothy Potter)
 
 * SOLR-6885: Add core name to RecoveryThread name. (Christine Poerschke via shalin)
@@ -7355,7 +7358,7 @@ Other Changes
 * SOLR-6943: HdfsDirectoryFactory should fall back to system props for most of it's config
   if it is not found in solrconfig.xml. (Mark Miller, Mike Drob)
 
-* SOLR-6926: "ant example" makes no sense anymore - should be "ant server" 
+* SOLR-6926: "ant example" makes no sense anymore - should be "ant server"
   (Ramkumar Aiyengar, Timothy Potter)
 
 * SOLR-6982: bin/solr and SolrCLI should support SSL-related Java System Properties
@@ -7375,7 +7378,7 @@ Other Changes
 * SOLR-7018: bin/solr stop should stop if there is only one node running or generate
   an error message prompting the user to be explicit about which of multiple nodes
   to stop using the -p or -all options (Timothy Potter)
-  
+
 * SOLR-5918: ant clean does not remove ZooKeeper data (Varun Thacker, Steve Rowe)
 
 * SOLR-7020: 'bin/solr start' should automatically use an SSL-enabled alternate jetty
@@ -7390,13 +7393,13 @@ Other Changes
 Bug Fixes
 ----------------------
 
-* SOLR-6931: We should do a limited retry when using HttpClient. 
+* SOLR-6931: We should do a limited retry when using HttpClient.
   (Mark Miller, Hrishikesh Gadre, Gregory Chanan)
 
-* SOLR-6780: Fixed a bug in how default/appends/invariants params were affecting the set 
-  of all "keys" found in the request parameters, resulting in some key=value param pairs 
-  being duplicated.  This was noticeably affecting some areas of the code where iteration 
-  was done over the set of all params: 
+* SOLR-6780: Fixed a bug in how default/appends/invariants params were affecting the set
+  of all "keys" found in the request parameters, resulting in some key=value param pairs
+  being duplicated.  This was noticeably affecting some areas of the code where iteration
+  was done over the set of all params:
     - literal.* in ExtractingRequestHandler
     - facet.* in FacetComponent
     - spellcheck.[dictionary name].* and spellcheck.collateParam.* in SpellCheckComponent
@@ -7419,7 +7422,7 @@ Bug Fixes
 
 * SOLR-6763: Shard leader elections should not persist across session expiry
   (Alan Woodward, Mark Miller)
-  
+
 * SOLR-3881: Avoid OOMs in LanguageIdentifierUpdateProcessor:
   - Added langid.maxFieldValueChars and langid.maxTotalChars params to limit
     input, by default 10k and 20k chars, respectively.
@@ -7434,7 +7437,7 @@ Bug Fixes
   (Mark Miller)
 
 * SOLR-7139: Fix SolrContentHandler for TIKA to ignore multiple startDocument events.
-  (Chris A. Mattmann, Uwe Schindler)  
+  (Chris A. Mattmann, Uwe Schindler)
 
 * SOLR-6941: DistributedQueue#containsTaskWithRequestId can fail with NPE. (Mark Miller)
 
@@ -7443,7 +7446,7 @@ Bug Fixes
 
 * SOLR-6856: Restore ExtractingRequestHandler's ability to capture all HTML tags when
   parsing (X)HTML. (hossman, Uwe Schindler, ehatcher, Steve Rowe)
-  
+
 * SOLR-6928: solr.cmd stop works only in english (john.work, Jan Høydahl, Timothy Potter)
 
 * SOLR-7038: Validate the presence of configset before trying to create a collection.
@@ -7451,18 +7454,18 @@ Bug Fixes
 
 * SOLR-7016: Fix bin\solr.cmd to work in a directory with spaces in the name.
   (Timothy Potter, Uwe Schindler)
-    
-* SOLR-6693: bin\solr.cmd doesn't support 32-bit JRE/JDK running on Windows due to 
+
+* SOLR-6693: bin\solr.cmd doesn't support 32-bit JRE/JDK running on Windows due to
   parenthesis in JAVA_HOME. (Timothy Potter, Christopher Hewitt, Jan Høydahl)
-  
+
 * SOLR-7067: bin/solr won't run under bash 4.2+. (Steve Rowe)
 
 * SOLR-7033, SOLR-5961: RecoveryStrategy should not publish any state when
-  closed / cancelled and there should always be a pause between recoveries 
+  closed / cancelled and there should always be a pause between recoveries
   even when recoveries are rapidly stopped and started as well as when a
-  node attempts to become the leader for a shard. 
+  node attempts to become the leader for a shard.
   (Mark Miller, Maxim Novikov)
-  
+
 * SOLR-6847: LeaderInitiatedRecoveryThread compares wrong replica's state with lirState.
   (shalin)
 
@@ -7486,7 +7489,7 @@ Bug Fixes
 
 * SOLR-6085: Suggester crashes when prefixToken is longer than surface form (janhoy)
 
-* SOLR-6323: ReRankingQParserPlugin cleaner paging and fix bug with fuzzy, range and other queries 
+* SOLR-6323: ReRankingQParserPlugin cleaner paging and fix bug with fuzzy, range and other queries
   that need to be re-written. (Adair Kovac, Joel Bernstein)
 
 * SOLR-6684: Fix-up /export JSON. (Joel Bernstein)
@@ -7651,11 +7654,11 @@ Upgrading from Solr 4.9
 * CoreContainer.remove() has been removed.  You should now use CoreContainer.unload() to
   delete a SolrCore (see SOLR-6232).
 
-* solr.xml parsing has been improved to better account for the expected data types of 
+* solr.xml parsing has been improved to better account for the expected data types of
   various options.  As part of this fix, additional error checking has also been added to
-  provide errors in the event of duplicated options, or unknown option names that may 
-  indicate a typo.  Users who have modified their solr.xml in the past and now upgrade may 
-  get errors on startup if they have typos or unexpected options specified in their solr.xml 
+  provide errors in the event of duplicated options, or unknown option names that may
+  indicate a typo.  Users who have modified their solr.xml in the past and now upgrade may
+  get errors on startup if they have typos or unexpected options specified in their solr.xml
   file.  (See SOLR-5746 for more information.)
 
 Detailed Change List
@@ -7718,7 +7721,7 @@ New Features
 
 * SOLR-2894: Distributed query support for facet.pivot (Dan Cooper, Erik Hatcher, Chris Russell,
   Andrew Muldowney, Brett Lucey, Mark Miller, hossman)
-  
+
 * SOLR-5656: Add autoAddReplicas feature for shared file systems. (Mark Miller, Gregory Chanan)
 
 * SOLR-5244: Exporting Full Sorted Result Sets (Erik Hatcher, Joel Bernstein)
@@ -7737,7 +7740,7 @@ Bug Fixes
 
 * SOLR-6165: DataImportHandler should write BigInteger and BigDecimal values as strings.
   (Anand Sengamalai via shalin)
-  
+
 * SOLR-6189: Avoid publishing the state as down if the node is not live when determining
   if a replica should be in leader-initiated recovery. (Timothy Potter)
 
@@ -7749,7 +7752,7 @@ Bug Fixes
 
 * SOLR-6072: The 'deletereplica' API should remove the data and instance directory by default.
   (shalin)
-  
+
 * SOLR-6211: TrieDateField doesn't default to omitNorms=true. (Michael Ryan, Steve Rowe)
 
 * SOLR-6159: A ZooKeeper session expiry during setup can keep LeaderElector from joining elections.
@@ -7757,7 +7760,7 @@ Bug Fixes
 
 * SOLR-6223: SearchComponents may throw NPE when using shards.tolerant and there is a failure
   in the 'GET_FIELDS/GET_HIGHLIGHTS/GET_DEBUG' phase. (Tomás Fernández Löbbe via shalin)
-  
+
 * SOLR-6180: Callers of ManagedIndexSchema mutators should hold the schemaUpdateLock.
   (Gregory Chanan via Steve Rowe)
 
@@ -7771,7 +7774,7 @@ Bug Fixes
 
 * SOLR-6245: Socket and Connection configuration are ignored in HttpSolrServer when passing in HttpClient.
   (Patanachai Tangchaisin, shalin)
-  
+
 * SOLR-6137: Schemaless concurrency improvements:
   - Fixed an NPE when reloading a managed schema with no dynamic copy fields
   - Moved parsing and schema fields addition to after the distributed phase
@@ -7786,13 +7789,13 @@ Bug Fixes
   ArrayIndexOutOfBoundsException when using the composite id router.
   (Steve Rowe)
 
-* SOLR-5746: Bugs in solr.xml parsing have been fixed to more correctly deal with the various 
-  datatypes of options people can specify, additional error handling of duplicated/unidentified 
+* SOLR-5746: Bugs in solr.xml parsing have been fixed to more correctly deal with the various
+  datatypes of options people can specify, additional error handling of duplicated/unidentified
   options has also been added. (Maciej Zasada, hossman)
 
 * SOLR-5847: Fixed data import abort button in admin UI. (ehatcher)
 
-* SOLR-6264: Distributed commit and optimize are executed serially across all 
+* SOLR-6264: Distributed commit and optimize are executed serially across all
   replicas. (Mark Miller, Timothy Potter)
 
 * SOLR-6163: Correctly decode special characters in managed stopwords and synonym endpoints.
@@ -7831,19 +7834,19 @@ Bug Fixes
 
 * SOLR-6378: Fixed example/example-DIH/ issues with "tika" and "solr" configurations, and tidied up README.txt
   (Daniel Shchyokin via ehatcher)
-  
-* SOLR-6393: TransactionLog replay performance on HDFS is very poor. (Mark Miller)  
 
-* SOLR-6268: HdfsUpdateLog has a race condition that can expose a closed HDFS FileSystem instance and should 
+* SOLR-6393: TransactionLog replay performance on HDFS is very poor. (Mark Miller)
+
+* SOLR-6268: HdfsUpdateLog has a race condition that can expose a closed HDFS FileSystem instance and should
   close its FileSystem instance if either inherited close method is called. (Mark Miller)
 
-* SOLR-6089: When using the HDFS block cache, when a file is deleted, its underlying data entries in the 
-  block cache are not removed, which is a problem with the global block cache option. 
+* SOLR-6089: When using the HDFS block cache, when a file is deleted, its underlying data entries in the
+  block cache are not removed, which is a problem with the global block cache option.
   (Mark Miller, Patrick Hunt)
 
 * SOLR-6402: OverseerCollectionProcessor should not exit for ZooKeeper ConnectionLoss.
   (Jessica Cheng via Mark Miller)
-  
+
 * SOLR-6405: ZooKeeper calls can easily not be retried enough on ConnectionLoss.
   (Jessica Cheng, Mark Miller)
 
@@ -7905,7 +7908,7 @@ Other Changes
 
 * SOLR-3893: DIH should not depend on mail.jar,activation.jar (Timothy Potter, Steve Rowe)
 
-* SOLR-6252: A couple of small improvements to UnInvertedField class. 
+* SOLR-6252: A couple of small improvements to UnInvertedField class.
   (Vamsee Yarlagadda, Gregory Chanan, Mark Miller)
 
 * SOLR-3345: BaseDistributedSearchTestCase should always ignore QTime.
@@ -7990,10 +7993,10 @@ Apache ZooKeeper 3.4.6
 Upgrading from Solr 4.8
 ----------------------
 
-* Support for DiskDocValuesFormat (ie: fieldTypes configured with docValuesFormat="Disk") 
-  has been removed due to poor performance.  If you have an existing fieldTypes using 
-  DiskDocValuesFormat please modify your schema.xml to remove the 'docValuesFormat' 
-  attribute, and optimize your index to rewrite it into the default codec, prior to 
+* Support for DiskDocValuesFormat (ie: fieldTypes configured with docValuesFormat="Disk")
+  has been removed due to poor performance.  If you have an existing fieldTypes using
+  DiskDocValuesFormat please modify your schema.xml to remove the 'docValuesFormat'
+  attribute, and optimize your index to rewrite it into the default codec, prior to
   upgrading to 4.9.  See LUCENE-5761 for more details.
 
 Detailed Change List
@@ -8020,9 +8023,9 @@ New Features
 * SOLR-6088: Add query re-ranking with the ReRankingQParserPlugin
   (Joel Bernstein)
 
-* SOLR-5285: Added a new [child ...] DocTransformer for optionally including 
-  Block-Join descendant documents inline in the results of a search.  This works 
-  independent of whether the search itself is a block-join related query and is 
+* SOLR-5285: Added a new [child ...] DocTransformer for optionally including
+  Block-Join descendant documents inline in the results of a search.  This works
+  independent of whether the search itself is a block-join related query and is
   supported by he xml, json, and javabin response formats.
   (Varun Thacker via hossman)
 
@@ -8041,9 +8044,9 @@ Bug Fixes
 
 * SOLR-5956: Use coreDescriptor.getInstanceDir() instead of getRawInstanceDir()
   in the SnapShooter to avoid problems when solr.solr.home is a symbolic link.
-  (Timothy Potter) 
+  (Timothy Potter)
 
-* SOLR-6002: Fix a couple of ugly issues around SolrIndexWriter close and 
+* SOLR-6002: Fix a couple of ugly issues around SolrIndexWriter close and
   rollback as well as how SolrIndexWriter manages its ref counted directory
   instance. (Mark Miller, Gregory Chanan)
 
@@ -8066,9 +8069,9 @@ Bug Fixes
 
 * SOLR-6149: Specifying the query value without any index value does not work in
   Analysis browser. (Aman Tandon, shalin)
-  
-* SOLR-6145: Fix Schema API optimistic concurrency by moving it out of 
-  ManagedIndexSchema.add(Copy)Fields() into the consumers of those methods: 
+
+* SOLR-6145: Fix Schema API optimistic concurrency by moving it out of
+  ManagedIndexSchema.add(Copy)Fields() into the consumers of those methods:
   CopyFieldCollectionResource, FieldCollectionResource, FieldResource,
   and AddSchemaFieldsUpdateProcessorFactory.
   (Gregory Chanan, Alexey Serba, Steve Rowe)
@@ -8076,7 +8079,7 @@ Bug Fixes
 * SOLR-6146: Incorrect configuration such as wrong chroot in zk server address can
   cause CloudSolrServer to leak resources. (Jessica Cheng, Varun Thacker, shalin)
 
-* SOLR-6158: Relative configSetBase directories were resolved relative to the 
+* SOLR-6158: Relative configSetBase directories were resolved relative to the
   container CWD, rather than solr.home. (Simon Endele, Alan Woodward)
 
 * SOLR-5426: Fixed a bug in ReverseWildCardFilter that could cause
@@ -8106,8 +8109,8 @@ Other Changes
 
 * SOLR-5987: Add "collection" to UpdateParams. (Mark Miller, Greg Solovyev)
 
-* SOLR-3862: Add remove" as update option for atomically removing a value 
-  from a multivalued field (Jim Musli, Steven Bower, Alaknantha via Erick Erickson) 
+* SOLR-3862: Add remove" as update option for atomically removing a value
+  from a multivalued field (Jim Musli, Steven Bower, Alaknantha via Erick Erickson)
 
 * SOLR-5974: Remove ShardDoc.score and use parent's ScoreDoc.score.
   (Tomás Fernández Löbbe via Ryan Ernst)
@@ -8135,7 +8138,7 @@ Other Changes
 * SOLR-6026: REQUESTSTATUS Collection API now also checks for submitted tasks which are
   yet to begin execution.
 
-* SOLR-6067: Refactor duplicate Collector code in SolrIndexSearcher 
+* SOLR-6067: Refactor duplicate Collector code in SolrIndexSearcher
   (Christine Poerschke via hossman)
 
 * SOLR-5940: post.jar reports back detailed error in case of error responses.
@@ -8160,7 +8163,7 @@ Other Changes
 Optimizations
 ----------------------
 
-* SOLR-5681: Make the processing of Collection API calls multi-threaded. 
+* SOLR-5681: Make the processing of Collection API calls multi-threaded.
   (Anshum Gupta, shalin, Noble Paul)
 
 Build
@@ -8169,7 +8172,7 @@ Build
 * SOLR-6006: Separate test and compile scope dependencies in the Solrj and
   Solr contrib ivy.xml files, so that the derived Maven dependencies get
   filled out properly in the corresponding POMs. (Steven Scott, Steve Rowe)
-  
+
 * SOLR-6130: Added com.uwyn:jhighlight dependency to, and removed asm:asm
   dependency from the extraction contrib - dependencies weren't fully
   upgraded with the Tika 1.4->1.5 upgrade (SOLR-5763). (Steve Rowe)
@@ -8180,7 +8183,7 @@ Bug Fixes
 ----------------------
 
 * SOLR-5904: ElectionContext can cancel an election when it should not if there
-  was an exception while trying to register as the leader. 
+  was an exception while trying to register as the leader.
   (Mark Miller, Alan Woodward)
 
 * SOLR-5993: ZkController can warn about shard leader conflict even after the conflict
@@ -8200,8 +8203,8 @@ Bug Fixes
 
 * SOLR-6023: FieldAnalysisRequestHandler throws NPE if no parameters are supplied.
   (shalin)
-  
-* SOLR-5090: SpellCheckComponent sometimes throws NPE if 
+
+* SOLR-5090: SpellCheckComponent sometimes throws NPE if
   "spellcheck.alternativeTermCount" is set to zero (James Dyer).
 
 * SOLR-6039: fixed debug output when no results in response
@@ -8229,7 +8232,7 @@ Upgrading from Solr 4.7
   that is too large.  If you wish to continue to have large terms ignored,
   use "solr.LengthFilterFactory" in all of your Analyzers.  See LUCENE-5472 for
   more details.
-  
+
 * Solr 4.8 requires Java 7 or greater, Java 8 is verified to be
   compatible and may bring some performance improvements. When using
   Oracle Java 7 or OpenJDK 7, be sure to not use the GA build 147 or
@@ -8260,18 +8263,18 @@ New Features
 
 * SOLR-5130: Implement addReplica Collections API (Noble Paul)
 
-* SOLR-5183: JSON updates now support nested child documents using a 
+* SOLR-5183: JSON updates now support nested child documents using a
   "_childDocument_" object key.  (Varun Thacker, hossman)
 
 * SOLR-5714: You can now use one pool of memory for for the HDFS block cache
   that all collections share. (Mark Miller, Gregory Chanan)
 
-* SOLR-5720: Add ExpandComponent to expand results collapsed by the 
+* SOLR-5720: Add ExpandComponent to expand results collapsed by the
   CollapsingQParserPlugin. (Joel Bernstein)
 
 * SOLR-3177: Enable tagging and excluding filters in StatsComponent via the
   localParams syntax. (Mathias H., Nikolai Luthman, Vitaliy Zhovtyuk, shalin)
-  
+
 * SOLR-1604: Wildcards, ORs etc inside Phrase Queries. (Ahmet Arslan via Erick Erickson)
 
 * SOLR-5477: Async execution of OverseerCollectionProcessor(CollectionsAPI)
@@ -8283,7 +8286,7 @@ New Features
 * SOLR-5860: Use leaderConflictResolveWait in WaitForState during recovery/startup,
   improve logging and force refresh cluster state every 15 seconds.
   (Timothy Potter via shalin)
-  
+
 * SOLR-5749: A new Overseer status collection API exposes overseer queue sizes, timing
   statistics, success and error counts and last N failures per operation. (shalin)
 
@@ -8298,8 +8301,8 @@ New Features
   to read collection and shard information instead of reading data directly from ZooKeeper.
   (Dave Seltzer, Varun Thacker, Vitaliy Zhovtyuk, Erick Erickson, shalin)
 
-* SOLR-5795: New DocExpirationUpdateProcessorFactory supports computing an expiration 
-  date for documents from the "TTL" expression, as well as automatically deleting expired 
+* SOLR-5795: New DocExpirationUpdateProcessorFactory supports computing an expiration
+  date for documents from the "TTL" expression, as well as automatically deleting expired
   documents on a periodic basis. (hossman)
 
 * SOLR-5829: Allow ExpandComponent to accept query and filter query parameters
@@ -8341,7 +8344,7 @@ Bug Fixes
 * SOLR-5954: Slower DataImportHandler process caused by not reusing jdbc
   connections. (Mark Miller, Paco Garcia, Raja Nagendra Kumar)
 
-* SOLR-5897: Upgraded to jQuery 1.7.2, Solr was previously using 1.4.3, the file was 
+* SOLR-5897: Upgraded to jQuery 1.7.2, Solr was previously using 1.4.3, the file was
   mistakenly named 1.7.2 (steffkes)
 
 Optimizations
@@ -8351,10 +8354,10 @@ Optimizations
   (Shawn Smith, Vitaliy Zhovtyuk, shalin)
 
 * SOLR-5783: Requests to open a new searcher will now reuse the current registered
-  searcher (w/o additional warming) if possible in situations where the underlying 
-  index has not changed.  This reduces overhead in situations such as deletes that 
+  searcher (w/o additional warming) if possible in situations where the underlying
+  index has not changed.  This reduces overhead in situations such as deletes that
   do not modify the index, and/or redundant commits. (hossman)
-  
+
 * SOLR-5884: When recovery is cancelled, any call to the leader to wait to see
   the replica in the right state for recovery should be aborted. (Mark Miller)
 
@@ -8367,7 +8370,7 @@ Other Changes
   use SolrTestCaseJ4.getFile() and getResource() instead; fix morphlines/map-reduce
   to not duplicate test resources and fix dependencies among them.
   (Uwe Schindler)
-  
+
 * SOLR-5765: Update to SLF4J 1.7.6. (Mark Miller)
 
 * SOLR-5609: If legacy mode is disabled don't let cores create slices/replicas/collections .
@@ -8383,14 +8386,14 @@ Other Changes
   registration exists, wait a short time to see if it goes away.
   (Mark Miller)
 
-* LUCENE-5472: IndexWriter.addDocument will now throw an IllegalArgumentException 
+* LUCENE-5472: IndexWriter.addDocument will now throw an IllegalArgumentException
   if a Term to be indexed exceeds IndexWriter.MAX_TERM_LENGTH.  To recreate previous
   behavior of silently ignoring these terms, use LengthFilter in your Analyzer.
   (hossman, Mike McCandless, Varun Thacker)
 
 * SOLR-5825: Separate http request creating and execution in SolrJ
   (Steven Bower via Erick Erickson)
-  
+
 * SOLR-5837: Add hashCode/equals to SolrDocument, SolrInputDocument
   and SolrInputField for testing purposes. (Varun Thacker, Noble Paul,
   Mark Miller)
@@ -8405,10 +8408,10 @@ Other Changes
 
 * SOLR-5881: Upgrade ZooKeeper to 3.4.6 (Shawn Heisey)
 
-* SOLR-5883: Many tests do not shutdown SolrServer. 
+* SOLR-5883: Many tests do not shutdown SolrServer.
   (Tomás Fernández Löbbe via Mark Miller)
 
-* SOLR-5898: Update to latest Kite Morphlines release: Version 0.12.1. 
+* SOLR-5898: Update to latest Kite Morphlines release: Version 0.12.1.
   (Mark Miller)
 
 * SOLR-5228: Don't require <field> or <dynamicField> be inside of <fields> -- or
@@ -8417,7 +8420,7 @@ Other Changes
 * SOLR-5903: SolrCore implements Closeable, cut over to using try-with-resources
   where possible. (Alan Woodward)
 
-* SOLR-5914: Cleanup and fix Solr's test cleanup code. 
+* SOLR-5914: Cleanup and fix Solr's test cleanup code.
  (Mark Miller, Uwe Schindler)
 
 * SOLR-5936: Deprecate non-Trie-based numeric & date field types. (Steve Rowe)
@@ -8425,7 +8428,7 @@ Other Changes
 * SOLR-5934: LBHttpSolrServer exception handling improvement and small test
   improvements. (Gregory Chanan via Mark Miller)
 
-* SOLR-5773: CollapsingQParserPlugin should make elevated documents the 
+* SOLR-5773: CollapsingQParserPlugin should make elevated documents the
   group head. (David Boychuck, Joel Bernstein)
 
 * SOLR-5937: Modernize the DIH example config sets. (Steve Rowe)
@@ -8490,7 +8493,7 @@ Bug Fixes
 
 * SOLR-5866: UpdateShardHandler needs to use the system default scheme registry to
   properly handle https via javax.net.ssl.* properties. (Steve Davids via shalin)
-  
+
 * SOLR-5782: The full MapReduceIndexer help text does not display when using --help.
   (Mark Miller, Wolfgang Hoschek)
 
@@ -8534,7 +8537,7 @@ Bug Fixes
   problem if you hit a bad work item. (Mark Miller)
 
 * SOLR-5796: Increase how long we are willing to wait for a core to see the ZK
-  advertised leader in its local state. (Timothy Potter, Mark Miller)  
+  advertised leader in its local state. (Timothy Potter, Mark Miller)
 
 * SOLR-5834: Overseer threads are only being interrupted and not closed.
   (hossman, Mark Miller)
@@ -8562,7 +8565,7 @@ Other Changes
 ---------------------
 
 * SOLR-5796: Make how long we are willing to wait for a core to see the ZK
-  advertised leader in its local state configurable. 
+  advertised leader in its local state configurable.
   (Timothy Potter via Mark Miller)
 
 ==================  4.7.0 ==================
@@ -8579,15 +8582,15 @@ Upgrading from Solr 4.6.0
 ----------------------
 
 * CloudSolrServer and LBHttpSolrServer no longer declare MalformedURLException
-  as thrown from their constructors.  
+  as thrown from their constructors.
 
 * Due to a bug in previous versions the default value of the 'discountOverlap' property
   of DefaultSimilarity was not being set appropriately if you were using the implicit
-  DefaultSimilarityFactory instead of explicitly configuring it.  To preserve 
-  consistent behavior for people who upgrade, the implicit behavior is now contingent 
-  on the <luceneMatchVersion/> -- discountOverlap=false for 4.6 and below, 
+  DefaultSimilarityFactory instead of explicitly configuring it.  To preserve
+  consistent behavior for people who upgrade, the implicit behavior is now contingent
+  on the <luceneMatchVersion/> -- discountOverlap=false for 4.6 and below,
   discountOverlap=true for 4.7 and above.  See SOLR-5561 for more information.
-                      
+
 Detailed Change List
 ----------------------
 
@@ -8602,7 +8605,7 @@ New Features
 
 * SOLR-5320: Added support for tri-level compositeId routing.
   (Anshum Gupta via shalin)
-  
+
 * SOLR-5458: Admin UI - Added a new "Files" conf directory browser/file viewer.
   (steffkes)
 
@@ -8640,7 +8643,7 @@ New Features
 
 * SOLR-5536: Add ValueSource collapse criteria to CollapsingQParsingPlugin (Joel Bernstein)
 
-* SOLR-5541: Allow QueryElevationComponent to accept elevateIds and excludeIds 
+* SOLR-5541: Allow QueryElevationComponent to accept elevateIds and excludeIds
   as http parameters (Joel Bernstein)
 
 * SOLR-5463: new 'cursorMark' request param for deep paging of sorted result sets
@@ -8660,7 +8663,7 @@ New Features
 
 * SOLR-5695: Add support for Lucene's BlendedInfixSuggester.
   (Areek Zillur)
-  
+
 * SOLR-5476: Overseer Role for nodes (Noble Paul)
 
 * SOLR-5594: Allow FieldTypes to specify custom PrefixQuery behavior
@@ -8690,7 +8693,7 @@ New Features
 * SOLR-5672: Add logParamsList parameter to support reduced logging.
   (Christine Poerschke via Mark Miller)
 
-* SOLR-3854: SSL support for SolrCloud. (Sami Siren, hossman, Steve Davids, 
+* SOLR-3854: SSL support for SolrCloud. (Sami Siren, hossman, Steve Davids,
   Alexey Serba, Mark Miller)
 
 Bug Fixes
@@ -8704,13 +8707,13 @@ Bug Fixes
 * SOLR-5451: SyncStrategy closes its http connection manager before the
   executor that uses it in its close method. (Mark Miller)
 
-* SOLR-5460: SolrDispatchFilter#sendError can get a SolrCore that it does not 
+* SOLR-5460: SolrDispatchFilter#sendError can get a SolrCore that it does not
   close. (Mark Miller)
 
 * SOLR-5461: Request proxying should only set con.setDoOutput(true) if the
   request is a post. (Mark Miller)
 
-* SOLR-5481: SolrCmdDistributor should not let the http client do its own 
+* SOLR-5481: SolrCmdDistributor should not let the http client do its own
   retries. (Mark Miller)
 
 * LUCENE-5347: Fixed Solr's Zookeeper Client to copy files to Zookeeper using
@@ -8724,8 +8727,8 @@ Bug Fixes
 
 * SOLR-5494: CoreContainer#remove throws NPE rather than returning null when
   a SolrCore does not exist in core discovery mode. (Mark Miller)
-  
-* SOLR-5354: Distributed sort is broken with CUSTOM FieldType. 
+
+* SOLR-5354: Distributed sort is broken with CUSTOM FieldType.
   (Steve Rowe, hossman, Robert Muir, Jessica Cheng)
 
 * SOLR-5515: NPE when getting stats on date field with empty result on
@@ -8746,7 +8749,7 @@ Bug Fixes
   (Kyle Halliday, Alexey Serba, shalin)
 
 * SOLR-4992: Solr eats OutOfMemoryError exceptions in many cases.
-  (Mark Miller, Daniel Collins)  
+  (Mark Miller, Daniel Collins)
 
 * LUCENE-5399, SOLR-5354 sort wouldn't work correctly with
   distributed searching for some field types such as legacy numeric
@@ -8784,13 +8787,13 @@ Bug Fixes
 
 * SOLR-5667: Performance problem when not using hdfs block cache. (Mark Miller)
 
-* SOLR-5526: Fixed NPE that could arise when explicitly configuring some built 
+* SOLR-5526: Fixed NPE that could arise when explicitly configuring some built
   in QParserPlugins (Nikolay Khitrin, Vitaliy Zhovtyuk, hossman)
 
 * SOLR-5598: LanguageIdentifierUpdateProcessor ignores all but the first value
   of multiValued string fields. (Andreas Hubold, Vitaliy Zhovtyuk via shalin)
 
-* SOLR-5593: Replicas should accept the last updates from a leader that has just 
+* SOLR-5593: Replicas should accept the last updates from a leader that has just
   lost its connection to ZooKeeper. (Christine Poerschke via Mark Miller)
 
 * SOLR-5678: SolrZkClient should throw a SolrException when connect times out
@@ -8813,14 +8816,14 @@ Bug Fixes
 * SOLR-5709: Highlighting grouped duplicate docs from different shards with
   group.limit > 1 throws ArrayIndexOutOfBoundsException. (Steve Rowe)
 
-* SOLR-5561: Fix implicit DefaultSimilarityFactory initialization in IndexSchema 
+* SOLR-5561: Fix implicit DefaultSimilarityFactory initialization in IndexSchema
   to properly specify discountOverlap option.
   (Isaac Hebsh, Ahmet Arslan, Vitaliy Zhovtyuk, hossman)
 
 * SOLR-5689: On reconnect, ZkController cancels election on first context rather
   than latest. (Gregory Chanan, Mark Miller via shalin)
 
-* SOLR-5649: Clean up some minor ConnectionManager issues. 
+* SOLR-5649: Clean up some minor ConnectionManager issues.
   (Mark Miller, Gregory Chanan)
 
 * SOLR-5365: Fix bug with compressed files in ExtractingRequestHandler by
@@ -8831,14 +8834,14 @@ Bug Fixes
 
 * SOLR-5721: ConnectionManager can become stuck in likeExpired.
   (Gregory Chanan via Mark Miller)
-  
+
 * SOLR-5731: In ConnectionManager, we should catch and only log exceptions
   from BeforeReconnect. (Mark Miller)
 
 * SOLR-5718: Make LBHttpSolrServer zombie checks non-distrib and non-scoring.
   (Christine Poerschke via Mark Miller)
 
-* SOLR-5727: LBHttpSolrServer should only retry on Connection exceptions when 
+* SOLR-5727: LBHttpSolrServer should only retry on Connection exceptions when
   sending updates. Affects CloudSolrServer. (Mark Miller)
 
 * SOLR-5739: Sub-shards created by shard splitting have their update log set
@@ -8859,7 +8862,7 @@ Optimizations
 * SOLR-5436: Eliminate the 1500ms wait in overseer loop as well as
   polling the ZK distributed queue. (Noble Paul, Mark Miller)
 
-* SOLR-5189: Solr 4.x Web UI Log Viewer does not display 'date' column from 
+* SOLR-5189: Solr 4.x Web UI Log Viewer does not display 'date' column from
   logs (steffkes)
 
 * SOLR-5512: Optimize DocValuesFacets. (Robert Muir)
@@ -8876,8 +8879,8 @@ Optimizations
 * SOLR-5624: Enable QueryResultCache for CollapsingQParserPlugin.
   (David Boychuck, Joel Bernstein)
 
-* LUCENE-5440: DocSet decoupled from OpenBitSet. DocSetBase moved to use 
-  FixedBitSet instead of OpenBitSet. As a result BitDocSet now only works 
+* LUCENE-5440: DocSet decoupled from OpenBitSet. DocSetBase moved to use
+  FixedBitSet instead of OpenBitSet. As a result BitDocSet now only works
   with FixedBitSet. (Shai Erera)
 
 Other Changes
@@ -8907,7 +8910,7 @@ Other Changes
 * SOLR-5533: Improve out of the box support for running Solr on hdfs with
   SolrCloud. (Mark Miller)
 
-* SOLR-5548: Give DistributedSearchTestCase / JettySolrRunner the ability to 
+* SOLR-5548: Give DistributedSearchTestCase / JettySolrRunner the ability to
   specify extra filters. (Greg Chanan via Mark Miller)
 
 * SOLR-5555: LBHttpSolrServer and CloudSolrServer constructors don't need to
@@ -8977,10 +8980,10 @@ Bug Fixes
 * SOLR-5442: Python client cannot parse proxied response when served by Tomcat.
   (Patrick Hunt, Gregory Chanan, Vamsee Yarlagadda, Romain Rigaux, Mark Miller)
 
-* SOLR-5445: Proxied responses should propagate all headers rather than the 
-  first one for each key. (Patrick Hunt, Mark Miller) 
+* SOLR-5445: Proxied responses should propagate all headers rather than the
+  first one for each key. (Patrick Hunt, Mark Miller)
 
-* SOLR-5479: SolrCmdDistributor retry logic stops if a leader for the request 
+* SOLR-5479: SolrCmdDistributor retry logic stops if a leader for the request
   cannot be found in 1 second. (Mark Miller)
 
 * SOLR-5532: SolrJ Content-Type validation is too strict for some
@@ -8992,23 +8995,23 @@ Bug Fixes
   (Aaron Schram, Mark Miller)
 
 * SOLR-5577: Likely ZooKeeper expiration should not slow down updates a given
-  amount, but instead cut off updates after a given time. 
+  amount, but instead cut off updates after a given time.
   (Mark Miller, Christine Poerschke, Ramkumar Aiyengar)
-  
+
 * SOLR-5580: NPE when creating a core with both explicit shard and coreNodeName.
   (YouPeng Yang, Mark Miller)
 
-* SOLR-5552: Leader recovery process can select the wrong leader if all replicas 
-  for a shard are down and trying to recover as well as lose updates that should 
+* SOLR-5552: Leader recovery process can select the wrong leader if all replicas
+  for a shard are down and trying to recover as well as lose updates that should
   have been recovered. (Timothy Potter, Mark Miller)
-  
-* SOLR-5569 A replica should not try and recover from a leader until it has 
+
+* SOLR-5569 A replica should not try and recover from a leader until it has
   published that it is ACTIVE. (Mark Miller)
-  
+
 * SOLR-5568 A SolrCore cannot decide to be the leader just because the cluster
   state says no other SolrCore's are active. (Mark Miller)
 
-* SOLR-5496: We should share an http connection manager across non search 
+* SOLR-5496: We should share an http connection manager across non search
   HttpClients and ensure all http connection managers get shutdown.
   (Mark Miller)
 
@@ -9018,17 +9021,17 @@ Bug Fixes
 * SOLR-5586: All ZkCmdExecutor's should be initialized with the zk client
   timeout. (Mark Miller)
 
-* SOLR-5587: ElectionContext implementations should use 
+* SOLR-5587: ElectionContext implementations should use
   ZkCmdExecutor#ensureExists to ensure their election paths are properly
   created. (Mark Miller)
 
-* SOLR-5540: HdfsLockFactory should explicitly create the lock parent directory if 
+* SOLR-5540: HdfsLockFactory should explicitly create the lock parent directory if
   necessary. (Mark Miller)
-  
+
 * SOLR-4709: The core reload after replication if config files have changed
   can fail due to a race condition. (Mark Miller, Hossman)
 
-* SOLR-5503: Retry 'forward to leader' requests less aggressively - rather 
+* SOLR-5503: Retry 'forward to leader' requests less aggressively - rather
   than on IOException and status 500, ConnectException. (Mark Miller)
 
 * SOLR-5588: PeerSync doesn't count all connect failures as success.
@@ -9046,7 +9049,7 @@ Bug Fixes
 * SOLR-5543: Core swaps resulted in duplicate core entries in solr.xml when
   using solr.xml persistence. (Bill Bell, Alan Woodward)
 
-* SOLR-5618: Fix false cache hits in queryResultCache when hashCodes are equal 
+* SOLR-5618: Fix false cache hits in queryResultCache when hashCodes are equal
   and duplicate filter queries exist in one of the requests (hossman)
 
 * SOLR-4260: ConcurrentUpdateSolrServer#blockUntilFinished can return before
@@ -9065,9 +9068,9 @@ Bug Fixes
   (Mark Miller, Varun Thacker, Elodie Sannier, shalin)
 
 Optimizations
-----------------------  
+----------------------
 
-* SOLR-5576: Improve concurrency when registering and waiting for all 
+* SOLR-5576: Improve concurrency when registering and waiting for all
   SolrCore's to register a DOWN state. (Christine Poerschke via Mark Miller)
 
 ==================  4.6.0 ==================
@@ -9100,14 +9103,14 @@ New Features
 
 * SOLR-5246: Shard splitting now supports collections configured with router.field.
   (shalin)
- 
+
 * SOLR-5274: Allow JettySolrRunner SSL config to be specified via a constructor.
   (Mark Miller)
 
 * SOLR-5300: Shards can be split by specifying arbitrary number of hash ranges
   within the shard's hash range. (shalin)
 
-* SOLR-5226: Add Lucene index heap usage to the Solr admin UI. 
+* SOLR-5226: Add Lucene index heap usage to the Solr admin UI.
   (Areek Zillur via Robert Muir)
 
 * SOLR-5324: Make sub shard replica recovery and shard state switch asynchronous.
@@ -9121,7 +9124,7 @@ New Features
 * SOLR-5027: CollapsingQParserPlugin for high performance field collapsing on high cardinality fields.
   (Joel Bernstein)
 
-* SOLR-5395: Added a RunAlways marker interface for UpdateRequestProcessorFactory 
+* SOLR-5395: Added a RunAlways marker interface for UpdateRequestProcessorFactory
   implementations indicating that they should not be removed in later stages
   of distributed updates (usually signalled by the update.distrib parameter)
   (yonik)
@@ -9139,19 +9142,19 @@ New Features
 
 *  SOLR-5392: Extend solrj apis to cover collection management.
    (Roman Shaposhnik via Mark Miller)
-   
+
 * SOLR-5084: new field type EnumField. (Elran Dvir via Erick Erickson)
 
-* SOLR-5464: Add option to ConcurrentSolrServer to stream pure delete 
+* SOLR-5464: Add option to ConcurrentSolrServer to stream pure delete
    requests. (Mark Miller)
-  
+
 Bug Fixes
 ----------------------
-  
+
 * SOLR-5216: Document updates to SolrCloud can cause a distributed deadlock.
   (Mark Miller)
 
-* SOLR-5367: Unmarshalling delete by id commands with JavaBin can lead to class cast 
+* SOLR-5367: Unmarshalling delete by id commands with JavaBin can lead to class cast
   exception. (Mark Miller)
 
 * SOLR-5359: ZooKeeper client is not closed when it fails to connect to an ensemble.
@@ -9168,12 +9171,12 @@ Bug Fixes
   Woodward)
 
 * SOLR-5380: Using cloudSolrServer.setDefaultCollection(collectionId) does not
-  work as intended for an alias spanning more than 1 collection. 
+  work as intended for an alias spanning more than 1 collection.
   (Thomas Egense, Shawn Heisey, Mark Miller)
 
-* SOLR-5418: Background merge after field removed from solr.xml causes error. 
+* SOLR-5418: Background merge after field removed from solr.xml causes error.
   (Reported on user's list, Robert M's patch via Erick Erickson)
-  
+
 * SOLR-5318: Creating a core via the admin API doesn't respect transient property
    (Olivier Soyez via Erick Erickson)
 
@@ -9185,26 +9188,26 @@ Bug Fixes
 
 * SOLR-5397: Replication can fail silently in some cases. (Mark Miller)
 
-* SOLR-5465: SolrCmdDistributor retry logic has a concurrency race bug. 
+* SOLR-5465: SolrCmdDistributor retry logic has a concurrency race bug.
   (Mark Miller)
-  
+
 * SOLR-5452: Do not attempt to proxy internal update requests. (Mark Miller)
 
 Optimizations
-----------------------  
+----------------------
 
 * SOLR-5232: SolrCloud should distribute updates via streaming rather than buffering.
   (Mark Miller)
 
-* SOLR-5223: SolrCloud should use the JavaBin binary format for communication by default. 
+* SOLR-5223: SolrCloud should use the JavaBin binary format for communication by default.
   (Mark Miller)
 
-* SOLR-5370: Requests to recover when an update fails should be done in 
+* SOLR-5370: Requests to recover when an update fails should be done in
   background threads. (Mark Miller)
 
 * LUCENE-5300,LUCENE-5304: Specialized faceting for fields which are declared as
   multi-valued in the schema but are actually single-valued. (Adrien Grand)
-  
+
 Security
 ----------------------
 
@@ -9239,7 +9242,7 @@ Other Changes
 
 * SOLR-5401: SolrResourceLoader logs a warning if a deprecated (factory) class
   is used in schema or config.  (Uwe Schindler)
-  
+
 * SOLR-3397: Warn if master or slave replication is enabled in SolrCloud mode. (Erick
   Erickson)
 
@@ -9326,35 +9329,35 @@ Upgrading from Solr 4.4.0
 
 * XML configuration parsing is now more strict about situations where a single
   setting is allowed but multiple values are found.  In the past, one value
-  would be chosen arbitrarily and silently.  Starting with 4.5, configuration 
-  parsing will fail with an error in situations like this.  If you see error 
-  messages such as "solrconfig.xml contains more than one value for config path: 
-  XXXXX" or "Found Z configuration sections when at most 1 is allowed matching 
-  expression: XXXXX" check your solrconfig.xml file for multiple occurrences of 
-  XXXXX and delete the ones that you do not wish to use.  See SOLR-4953 & 
+  would be chosen arbitrarily and silently.  Starting with 4.5, configuration
+  parsing will fail with an error in situations like this.  If you see error
+  messages such as "solrconfig.xml contains more than one value for config path:
+  XXXXX" or "Found Z configuration sections when at most 1 is allowed matching
+  expression: XXXXX" check your solrconfig.xml file for multiple occurrences of
+  XXXXX and delete the ones that you do not wish to use.  See SOLR-4953 &
   SOLR-5108 for more details.
 
-* In the past, schema.xml parsing would silently ignore "default" or "required" 
+* In the past, schema.xml parsing would silently ignore "default" or "required"
   options specified on <dynamicField/> declarations.  Beginning with 4.5, attempting
-  to do configured these on a dynamic field will cause an init error.  If you 
-  encounter one of these errors when upgrading an existing schema.xml, you can 
-  safely remove these attributes, regardless of their value, from your config and 
-  Solr will continue to behave exactly as it did in previous versions.  See 
+  to do configured these on a dynamic field will cause an init error.  If you
+  encounter one of these errors when upgrading an existing schema.xml, you can
+  safely remove these attributes, regardless of their value, from your config and
+  Solr will continue to behave exactly as it did in previous versions.  See
   SOLR-5227 for more details.
 
 * The UniqFieldsUpdateProcessorFactory has been improved to support all of the
-  FieldMutatingUpdateProcessorFactory selector options.  The <lst named="fields"> 
+  FieldMutatingUpdateProcessorFactory selector options.  The <lst named="fields">
   init param option is now deprecated and should be replaced with the more standard
   <arr name="fieldName">.  See SOLR-4249 for more details.
 
-* UpdateRequestExt has been removed as part of SOLR-4816. You should use UpdateRequest 
+* UpdateRequestExt has been removed as part of SOLR-4816. You should use UpdateRequest
   instead.
-  
+
 * CloudSolrServer can now use multiple threads to add documents by default. This is a
   small change in runtime semantics when using the bulk add method - you will still
   end up with the same exception on a failure, but some documents beyond the one that
   failed may have made it in. To get the old, single threaded behavior, set parallel updates
-  to false on the CloudSolrServer instance.  
+  to false on the CloudSolrServer instance.
 
 Detailed Change List
 ----------------------
@@ -9362,13 +9365,13 @@ Detailed Change List
 New Features
 ----------------------
 
-* SOLR-5219: Rewritten selection of the default search and document clustering 
+* SOLR-5219: Rewritten selection of the default search and document clustering
   algorithms. (Dawid Weiss)
 
-* SOLR-5202: Support easier overrides of Carrot2 clustering attributes via 
+* SOLR-5202: Support easier overrides of Carrot2 clustering attributes via
   XML data sets exported from the Workbench. (Dawid Weiss)
 
-* SOLR-5126: Update Carrot2 clustering to version 3.8.0, update Morfologik 
+* SOLR-5126: Update Carrot2 clustering to version 3.8.0, update Morfologik
   to version 1.7.1 (Dawid Weiss)
 
 * SOLR-2345: Enhanced geodist() to work with an RPT field, provided that the
@@ -9379,10 +9382,10 @@ New Features
   the "ie" (input encoding) parameter, e.g. "select?q=m%FCller&ie=ISO-8859-1".
   The default is UTF-8. To change the encoding of POSTed content, use the
   "Content-Type" HTTP header.  (Uwe Schindler, Shawn Heisey)
-  
+
 * SOLR-4221: Custom sharding (Noble Paul)
 
-* SOLR-4808: Persist and use router,replicationFactor and maxShardsPerNode at Collection 
+* SOLR-4808: Persist and use router,replicationFactor and maxShardsPerNode at Collection
   and Shard level (Noble Paul, Shalin Mangar)
 
 * SOLR-5006: CREATESHARD command for 'implicit' shards (Noble Paul)
@@ -9396,16 +9399,16 @@ New Features
 * SOLR-5156: Enhance ZkCLI to allow uploading of arbitrary files to ZK. (Erick Erickson)
 
 * SOLR-5165: Single-valued docValues fields no longer require a default value.
-  Additionally they work with sortMissingFirst, sortMissingLast, facet.missing, 
+  Additionally they work with sortMissingFirst, sortMissingLast, facet.missing,
   exists() in function queries, etc.  (Robert Muir)
 
 * SOLR-5182: Add NoOpRegenerator, a regenerator for custom per-segment caches
   where items are preserved across commits.  (Robert Muir)
 
-* SOLR-4249: UniqFieldsUpdateProcessorFactory now extends 
+* SOLR-4249: UniqFieldsUpdateProcessorFactory now extends
   FieldMutatingUpdateProcessorFactory and supports all of its selector options. Use
   of the "fields" init param is now deprecated in favor of "fieldName" (hossman)
-  
+
 * SOLR-2548: Allow multiple threads to be specified for faceting. When threading, one
   can specify facet.threads to parallelize loading the uninverted fields. In at least
   one extreme case this reduced warmup time from 20 seconds to 3 seconds. (Janne Majaranta,
@@ -9413,19 +9416,19 @@ New Features
 
 * SOLR-4816: CloudSolrServer can now route updates locally and no longer relies on inter-node
   update forwarding.  (Joel Bernstein, Shikhar Bhushan, Stephen Riesenberg, Mark Miller)
-  
-* SOLR-3249: Allow CloudSolrServer and SolrCmdDistributor to use JavaBin. (Mark Miller)  
+
+* SOLR-3249: Allow CloudSolrServer and SolrCmdDistributor to use JavaBin. (Mark Miller)
 
 Bug Fixes
 ----------------------
 
 * SOLR-3633: web UI reports an error if CoreAdminHandler says there are no
   SolrCores (steffkes)
-  
+
 * SOLR-4489: SpellCheckComponent can throw StringIndexOutOfBoundsException
   when generating collations involving multiple word-break corrections.
   (James Dyer)
-  
+
 * SOLR-5087 - CoreAdminHandler.handleMergeAction generating NullPointerException
  (Patrick Hunt via Erick Erickson)
 
@@ -9439,33 +9442,33 @@ Bug Fixes
 
 * SOLR-5121: zkcli usage help for makepath doesn't match actual command.
   (Daniel Collins via Mark Miller)
-  
+
 * SOLR-5119: Managed schema problems after adding fields via Schema Rest API.
   (Nils Kübler, Steve Rowe)
-  
-* SOLR-5133: HdfsUpdateLog can fail to close a FileSystem instance if init 
+
+* SOLR-5133: HdfsUpdateLog can fail to close a FileSystem instance if init
   is called more than once. (Mark Miller)
 
-* SOLR-5135: Harden Collection API deletion of /collections/$collection 
+* SOLR-5135: Harden Collection API deletion of /collections/$collection
   ZooKeeper node. (Mark Miller)
 
 * SOLR-4764: When using NRT, just init the first reader from IndexWriter.
   (Robert Muir, Mark Miller)
-  
-* SOLR-5122: Fixed bug in spellcheck.collateMaxCollectDocs.  Eliminates risk 
+
+* SOLR-5122: Fixed bug in spellcheck.collateMaxCollectDocs.  Eliminates risk
   of divide by zero, and makes estimated hit counts meaningful in non-optimized
   indexes.  (hossman)
-  
+
 * SOLR-3936: Fixed QueryElevationComponent sorting when used with Grouping
   (Michael Garski via hossman)
 
 * SOLR-5171: SOLR Admin gui works in IE9, breaks in IE10. (Joseph L Howard via
   steffkes)
 
-* SOLR-5174: Admin UI - Query View doesn't highlight (json) Result if it 
+* SOLR-5174: Admin UI - Query View doesn't highlight (json) Result if it
   contains HTML Tags (steffkes)
-  
-* SOLR-4817 Solr should not fall back to the back compat built in solr.xml in SolrCloud 
+
+* SOLR-4817 Solr should not fall back to the back compat built in solr.xml in SolrCloud
   mode (Erick Erickson)
 
 * SOLR-5112: Show full message in Admin UI Logging View (Matthew Keeney via
@@ -9474,7 +9477,7 @@ Bug Fixes
 * SOLR-5190: SolrEntityProcessor substitutes variables only once in child entities
   (Harsh Chawla, shalin)
 
-* SOLR-3852: Fixed ZookeeperInfoServlet so that the SolrCloud Admin UI pages will 
+* SOLR-3852: Fixed ZookeeperInfoServlet so that the SolrCloud Admin UI pages will
   work even if ZK contains nodes with data which are not utf8 text. (hossman)
 
 * SOLR-5206: Fixed OpenExchangeRatesOrgProvider to use refreshInterval correctly
@@ -9504,14 +9507,14 @@ Bug Fixes
   in zookeeper mode to avoid deadlocks due to replicas waiting for other replicas
   to come up. (yonik)
 
-* SOLR-5243: Killing a shard in one collection can result in leader election in a different 
+* SOLR-5243: Killing a shard in one collection can result in leader election in a different
   collection if they share the same coreNodeName. (yonik, Mark Miller)
 
 * SOLR-5281: IndexSchema log message was printing '[null]' instead of
   '[<core name>]' (Jun Ohtani via Steve Rowe)
-  
+
 * SOLR-5279: Implicit properties don't seem to exist on core RELOAD
-  (elyograg, hossman, Steve Rowe) 
+  (elyograg, hossman, Steve Rowe)
 
 * SOLR-5291: Solrj does not propagate the root cause to the user for many errors.
   (Mark Miller)
@@ -9519,15 +9522,15 @@ Bug Fixes
 Optimizations
 ----------------------
 
-* SOLR-5044: Admin UI - Note on Core-Admin about directories while creating 
+* SOLR-5044: Admin UI - Note on Core-Admin about directories while creating
   core (steffkes)
 
-* SOLR-5134: Have HdfsIndexOutput extend BufferedIndexOutput. 
+* SOLR-5134: Have HdfsIndexOutput extend BufferedIndexOutput.
   (Mark Miller, Uwe Schindler)
 
  * SOLR-5057: QueryResultCache should not related with the order of fq's list (Feihong Huang via Erick Erickson)
 
-* SOLR-4816: CloudSolrServer now uses multiple threads to send updates by default.  
+* SOLR-4816: CloudSolrServer now uses multiple threads to send updates by default.
   (Joel Bernstein via Mark Miller)
 
 * SOLR-3530: Better error messages / Content-Type validation in SolrJ. (Mark Miller, hossman)
@@ -9546,8 +9549,8 @@ Other Changes
 
 * SOLR-4951: Better randomization of MergePolicy in Solr tests (hossman)
 
-* SOLR-4953, SOLR-5108: Make XML Configuration parsing fail if an xpath matches 
-  multiple nodes when only a single value or plugin instance is expected.  
+* SOLR-4953, SOLR-5108: Make XML Configuration parsing fail if an xpath matches
+  multiple nodes when only a single value or plugin instance is expected.
   (hossman)
 
 * The routing parameter "shard.keys" is deprecated as part of SOLR-5017 .The new parameter name is '_route_' .
@@ -9570,21 +9573,21 @@ Apache ZooKeeper 3.4.5
 Upgrading from Solr 4.3.0
 ----------------------
 
-* TieredMergePolicy and the various subtypes of LogMergePolicy no longer have 
-  an explicit "setUseCompoundFile" method.  Instead the behavior of new 
-  segments is determined by the IndexWriter configuration, and the MergePolicy 
-  is only consulted to determine if merge segments should use the compound 
-  file format (based on the value of "setNoCFSRatio").  If you have explicitly 
-  configured one of these classes using <mergePolicy> and include an init arg 
+* TieredMergePolicy and the various subtypes of LogMergePolicy no longer have
+  an explicit "setUseCompoundFile" method.  Instead the behavior of new
+  segments is determined by the IndexWriter configuration, and the MergePolicy
+  is only consulted to determine if merge segments should use the compound
+  file format (based on the value of "setNoCFSRatio").  If you have explicitly
+  configured one of these classes using <mergePolicy> and include an init arg
   like this...
      <bool name="useCompoundFile">true</bool>
   ...this will now be treated as if you specified...
-     <useCompoundFile>true</useCompoundFile> 
+     <useCompoundFile>true</useCompoundFile>
   ...directly on the <indexConfig> (overriding any value already set using that
-  syntax) and a warning will be logged to updated your configuration.  Users 
-  with an explicitly declared <mergePolicy> are encouraged to review the 
-  current javadocs for their MergePolicy subclass and review their configured 
-  options carefully.  See SOLR-4941, SOLR-4934 and LUCENE-5038 for more 
+  syntax) and a warning will be logged to updated your configuration.  Users
+  with an explicitly declared <mergePolicy> are encouraged to review the
+  current javadocs for their MergePolicy subclass and review their configured
+  options carefully.  See SOLR-4941, SOLR-4934 and LUCENE-5038 for more
   information.
 
 * SOLR-4778: The signature of LogWatcher.registerListener has changed, from
@@ -9595,16 +9598,16 @@ Upgrading from Solr 4.3.0
   in 5.0. If you are still using these field types, you should migrate your
   fields to TrieIntField.
 
-  
+
 Detailed Change List
 ----------------------
 
 New Features
 ----------------------
 
-* SOLR-3251: Dynamically add fields to schema. (Steve Rowe, Robert Muir, yonik)   
+* SOLR-3251: Dynamically add fields to schema. (Steve Rowe, Robert Muir, yonik)
 
-* SOLR-4761, SOLR-4976: Add option to plugin a merged segment warmer into solrconfig.xml. 
+* SOLR-4761, SOLR-4976: Add option to plugin a merged segment warmer into solrconfig.xml.
   Info about segments warmed in the background is available via infostream.
   (Mark Miller, Ryan Ernst, Mike McCandless, Robert Muir)
 
@@ -9622,7 +9625,7 @@ New Features
 
 * SOLR-4228: SolrJ's SolrPing object has new methods for ping, enable, and
   disable. (Shawn Heisey, hossman, Steve Rowe)
-  
+
 * SOLR-4893: Extend FieldMutatingUpdateProcessor.ConfigurableFieldNameSelector
   to enable checking whether a field matches any schema field.  To select field
   names that don't match any fields or dynamic fields in the schema, add
@@ -9633,14 +9636,14 @@ New Features
 
 * SOLR-4916: Add support to write and read Solr index files and transaction log
   files to and from HDFS. (phunt, Mark Miller, Gregory Chanan)
-  
-* SOLR-4892: Add FieldMutatingUpdateProcessorFactory subclasses 
+
+* SOLR-4892: Add FieldMutatingUpdateProcessorFactory subclasses
   Parse{Date,Integer,Long,Float,Double,Boolean}UpdateProcessorFactory. These
   factories have a default selector that matches all fields that either don’t
   match any schema field, or are in the schema with the corresponding
   typeClass. If they see a value that is not a CharSequence, or can't parse
   the value, they leave it as is. For multi-valued fields, these processors
-  will not convert any values unless all are first successfully parsed, or 
+  will not convert any values unless all are first successfully parsed, or
   already are instances of the target class. Ordering the processors, e.g.
   [Boolean, Long, Double, Date] will allow e.g. values ["2", "5", "8.6"] to
   be left alone by the Boolean and Long processors, but then converted by the
@@ -9650,7 +9653,7 @@ New Features
 
 * SOLR-4973: Adding getter method for defaultCollection on CloudSolrServer.
   (Furkan KAMACI via Mark Miller)
-  
+
 * SOLR-4897: Add solr/example/example-schemaless/, an example config set
   for schemaless mode. (Steve Rowe)
 
@@ -9665,7 +9668,7 @@ New Features
   which are INACTIVE or have no range (created for custom sharding).
   (Anshum Gupta, shalin)
 
-* SOLR-5003: CSV Update Handler supports optionally adding the line number/row id to 
+* SOLR-5003: CSV Update Handler supports optionally adding the line number/row id to
   a document (gsingers)
 
 * SOLR-5010: Add support for creating copy fields to the Schema REST API (gsingers)
@@ -9696,17 +9699,17 @@ Bug Fixes
 
 * SOLR-4616: HitRatio on caches is now exposed over JMX MBeans as a float.
   (Greg Bowyer)
-  
-* SOLR-4803: Fixed core discovery mode (ie: new style solr.xml) to treat 
+
+* SOLR-4803: Fixed core discovery mode (ie: new style solr.xml) to treat
   'collection1' as the default core name. (hossman)
-  
+
 * SOLR-4790: Throw an error if a core has the same name as another core, both old and
   new style solr.xml
 
 * SOLR-4842: Fix facet.field local params from affecting other facet.field's.
   (ehatcher, hossman)
 
-* SOLR-4814: If a SolrCore cannot be created it should remove any information it 
+* SOLR-4814: If a SolrCore cannot be created it should remove any information it
   published about itself from ZooKeeper. (Mark Miller)
 
 * SOLR-4863: Removed non-existent attribute sourceId from dynamic JMX stats
@@ -9714,11 +9717,11 @@ Bug Fixes
 
 * SOLR-4891: JsonLoader should preserve field value types from the JSON content stream.
   (Steve Rowe)
- 
+
 * SOLR-4805: SolrCore#reload should not call preRegister and publish a DOWN state to
   ZooKeeper. (Mark Miller, Jared Rodriguez)
 
-* SOLR-4899: When reconnecting after ZooKeeper expiration, we need to be willing to wait 
+* SOLR-4899: When reconnecting after ZooKeeper expiration, we need to be willing to wait
   forever, not just for 30 seconds. (Mark Miller)
 
 * SOLR-4920: JdbcDataSource incorrectly suppresses exceptions when retrieving a connection from
@@ -9754,7 +9757,7 @@ Bug Fixes
   defined in the original. Benign since the default values are saved, but still incorrect.
   (Erick Erickson, thanks Shawn Heisey for helping test!)
 
-* SOLR-4934, SOLR-4941: Fix handling of <mergePolicy> init arg 
+* SOLR-4934, SOLR-4941: Fix handling of <mergePolicy> init arg
   "useCompoundFile" needed after changes in LUCENE-5038 (hossman)
 
 * SOLR-4456: Admin UI: Displays dashboard even if Solr is down (steffkes)
@@ -9765,9 +9768,9 @@ Bug Fixes
   and getCore that could cause a request to attempt to use a core that
   has shut down. (yonik)
 
-* SOLR-4926: Fixed rare replication bug that normally only manifested when 
+* SOLR-4926: Fixed rare replication bug that normally only manifested when
   using compound file format. (yonik, Mark Miller)
-  
+
 * SOLR-4974: Outgrowth of SOLR-4960 that includes transient cores and pending cores
   (Erick Erickson)
 
@@ -9778,7 +9781,7 @@ Bug Fixes
 
 * SOLR-5000: ManagedIndexSchema doesn't persist uniqueKey tag after calling addFields
   method. (Jun Ohtani, Steve Rowe)
-  
+
 * SOLR-4982: Creating a core while referencing system properties looks like it loses files
   Actually, instanceDir, config, dataDir and schema are not dereferenced properly
   when creating cores that reference sys vars (e.g. &dataDir=${dir}). In the dataDir
@@ -9793,8 +9796,8 @@ Bug Fixes
 
 * SOLR-5019: spurious ConcurrentModificationException when spell check component
   was in use with filters. (yonik)
-  
-* SOLR-5018: The Overseer should avoid publishing the state for collections that do not 
+
+* SOLR-5018: The Overseer should avoid publishing the state for collections that do not
   exist under the /collections zk node. (Mark Miller)
 
 * SOLR-5028,SOLR-5029: ShardHandlerFactory was not being created properly when
@@ -9807,13 +9810,13 @@ Bug Fixes
 
 * SOLR-5034: A facet.query that parses or analyzes down to a null Query would
   throw a NPE. Fixed. (David Smiley)
-  
+
 * SOLR-5039: Admin/Schema Browser displays -1 for term counts for multiValued fields.
 
 * SOLR-5037: The CSV loader now accepts field names that are not in the schema.
   (gsingers, ehatcher, Steve Rowe)
 
-* SOLR-4791: solr.xml sharedLib does not work in 4.3.0 (Ryan Ernst, Jan Høydahl via 
+* SOLR-4791: solr.xml sharedLib does not work in 4.3.0 (Ryan Ernst, Jan Høydahl via
   Erick Erickson)
 
 Optimizations
@@ -9831,7 +9834,7 @@ Optimizations
 
 * SOLR-4955: Admin UI - Show address bar on top for Schema + Config (steffkes)
 
-* SOLR-4412: New parameter langid.lcmap to map detected language code to be placed 
+* SOLR-4412: New parameter langid.lcmap to map detected language code to be placed
   in "language" field (janhoy)
 
 * SOLR-4815: Admin-UI - DIH: Let "commit" be checked by default (steffkes)
@@ -9856,7 +9859,7 @@ Other Changes
 * SOLR-4547: Move logging of filenames on commit from INFO to DEBUG.
   (Shawn Heisey, hossman)
 
-* SOLR-4757: Change the example to use the new solr.xml format and core 
+* SOLR-4757: Change the example to use the new solr.xml format and core
   discovery by directory structure. (Mark Miller)
 
 * SOLR-4759: Velocity (/browse) template cosmetic cleanup.
@@ -9868,7 +9871,7 @@ Other Changes
 
 * SOLR-4448: Allow the solr internal load balancer to be more easily pluggable.
   (Philip Hoy via Robert Muir)
-  
+
 * SOLR-4224: Refactor JavaBinCodec input stream definition to enhance reuse.
   (phunt via Mark Miller)
 
@@ -9971,7 +9974,7 @@ Bug Fixes
 
 * SOLR-4744: Update failure on sub shard is not propagated to clients by parent
   shard (Anshum Gupta, yonik, shalin)
-  
+
 Other Changes
 ----------------------
 
@@ -9991,24 +9994,24 @@ Apache ZooKeeper 3.4.5
 Upgrading from Solr 4.2.0
 ----------------------
 
-* In the schema REST API, the output path for copyFields and dynamicFields 
-  has been changed from all lowercase "copyfields" and "dynamicfields" to 
-  camelCase "copyFields" and "dynamicFields", respectively, to align with all 
-  other schema REST API outputs, which use camelCase.  The URL format remains 
+* In the schema REST API, the output path for copyFields and dynamicFields
+  has been changed from all lowercase "copyfields" and "dynamicfields" to
+  camelCase "copyFields" and "dynamicFields", respectively, to align with all
+  other schema REST API outputs, which use camelCase.  The URL format remains
   the same: all resource names are lowercase.  See SOLR-4623 for details.
-  
-* Slf4j/logging jars are no longer included in the Solr webapp. All logging 
-  jars are now in example/lib/ext. Changing logging impls is now as easy as 
-  updating the jars in this folder with those necessary for the logging impl 
-  you would like. If you are using another webapp container, these jars will 
-  need to go in the corresponding location for that container. 
-  In conjunction, the dist-excl-slf4j and dist-war-excl-slf4 build targets 
-  have been removed since they are redundant.  See the Slf4j documentation, 
+
+* Slf4j/logging jars are no longer included in the Solr webapp. All logging
+  jars are now in example/lib/ext. Changing logging impls is now as easy as
+  updating the jars in this folder with those necessary for the logging impl
+  you would like. If you are using another webapp container, these jars will
+  need to go in the corresponding location for that container.
+  In conjunction, the dist-excl-slf4j and dist-war-excl-slf4 build targets
+  have been removed since they are redundant.  See the Slf4j documentation,
   SOLR-3706, and SOLR-4651 for more details.
 
-* The hardcoded SolrCloud defaults for 'hostContext="solr"' and 
-  'hostPort="8983"' have been deprecated and will be removed in Solr 5.0.  
-  Existing solr.xml files that do not have these options explicitly specified 
+* The hardcoded SolrCloud defaults for 'hostContext="solr"' and
+  'hostPort="8983"' have been deprecated and will be removed in Solr 5.0.
+  Existing solr.xml files that do not have these options explicitly specified
   should be updated accordingly.  See SOLR-4622 for more details.
 
 
@@ -10021,7 +10024,7 @@ New Features
 * SOLR-4648 PreAnalyzedUpdateProcessorFactory allows using the functionality
   of PreAnalyzedField with other field types. See javadoc for details and
   examples. (Andrzej Bialecki)
-  
+
 * SOLR-4623: Provide REST API read access to all elements of the live schema.
   Add a REST API request to return the entire live schema, in JSON, XML, and
   schema.xml formats.  Move REST API methods from package org.apache.solr.rest
@@ -10032,19 +10035,19 @@ New Features
   "dynamicFields", respectively, to align with all other REST API outputs, which
   use camelCase.
   (Steve Rowe)
-    
+
 * SOLR-4658: In preparation for REST API requests that can modify the schema,
-  a "managed schema" is introduced.  
+  a "managed schema" is introduced.
   Add '<schemaFactory class="ManagedSchemaFactory" mutable="true"/>' to solrconfig.xml
   in order to use it, and to enable schema modifications via REST API requests.
   (Steve Rowe, Robert Muir)
 
-* SOLR-4656: Added two new highlight parameters, hl.maxMultiValuedToMatch and 
-  hl.maxMultiValuedToExamine. maxMultiValuedToMatch stops looking for snippets after 
+* SOLR-4656: Added two new highlight parameters, hl.maxMultiValuedToMatch and
+  hl.maxMultiValuedToExamine. maxMultiValuedToMatch stops looking for snippets after
   finding the specified number of matches, no matter how far into the multivalued field
   you've gone. maxMultiValuedToExamine stops looking for matches after the specified
   number of multiValued entries have been examined. If both are specified, the limit
-  hit first stops the loop. Also this patch cuts down on the copying of the document 
+  hit first stops the loop. Also this patch cuts down on the copying of the document
   entries during highlighting. These optimizations are probably unnoticeable unless
   there are a large number of entries in the multiValued field. Conspicuously, this will
   prevent the "best" match from being found if it appears later in the MV list than the
@@ -10059,7 +10062,7 @@ New Features
 
 * SOLR-4530: DIH: Provide configuration to use Tika's IdentityHtmlMapper
   (Alexandre Rafalovitch via shalin)
-  
+
 * SOLR-4662: Discover SolrCores by directory structure rather than defining them
   in solr.xml. Also, change the format of solr.xml to be closer to that of solrconfig.xml.
   This version of Solr will ship the example in the old style, but you can manually
@@ -10070,17 +10073,17 @@ New Features
     (Erick Erickson)
   - SOLR-1905: Cores created by the admin request handler should be persisted to solr.xml.
     Also fixed a problem whereby properties like solr.solr.datadir would be persisted
-    to solr.xml. Also, cores that didn't happen to be loaded were not persisted. 
+    to solr.xml. Also, cores that didn't happen to be loaded were not persisted.
     (Erick Erickson)
 
-* SOLR-4717/SOLR-1351: SimpleFacets now work with localParams allowing faceting on the 
+* SOLR-4717/SOLR-1351: SimpleFacets now work with localParams allowing faceting on the
   same field multiple ways (ryan, Uri Boness)
 
 * SOLR-4671: CSVResponseWriter now supports pseudo fields. (ryan, nihed mbarek)
 
 * SOLR-4358: HttpSolrServer sends the stream name and exposes 'useMultiPartPost'
   (Karl Wright via ryan)
-   
+
 
 Bug Fixes
 ----------------------
@@ -10098,11 +10101,11 @@ Bug Fixes
 
 * SOLR-3956: Fixed group.facet=true to work with negative facet.limit
   (Chris van der Merwe, hossman)
-  
+
 * SOLR-4650: copyField doesn't work with source globs that don't match any
   explicit or dynamic fields.  This regression was introduced in Solr 4.2.
   (Daniel Collins, Steve Rowe)
-  
+
 * SOLR-4641: Schema now throws exception on illegal field parameters.  (Robert Muir)
 
 * SOLR-3758: Fixed SpellCheckComponent to work consistently with distributed grouping
@@ -10111,7 +10114,7 @@ Bug Fixes
 * SOLR-4652: Fix broken behavior with shared libraries in resource loader for
   solr.xml plugins.  (Ryan Ernst, Robert Muir, Uwe Schindler)
 
-* SOLR-4664: ZkStateReader should update aliases on construction. 
+* SOLR-4664: ZkStateReader should update aliases on construction.
   (Mark Miller, Elodie Sannier)
 
 * SOLR-4682: CoreAdminRequest.mergeIndexes can not merge multiple cores or indexDirs.
@@ -10120,7 +10123,7 @@ Bug Fixes
 * SOLR-4581: When faceting on numeric fields in Solr 4.2, negative values (constraints)
   were sorted incorrectly. (Alexander Buhr, shalin, yonik)
 
-* SOLR-4699: The System admin handler should not assume a file system based data directory 
+* SOLR-4699: The System admin handler should not assume a file system based data directory
   location. (Mark Miller)
 
 * SOLR-4695: Fix core admin SPLIT action to be useful with non-cloud setups (shalin)
@@ -10130,12 +10133,12 @@ Bug Fixes
 
 * SOLR-4702: Fix example /browse "Did you mean?" suggestion feature. (ehatcher, Mark Bennett)
 
-* SOLR-4710: You cannot delete a collection fully from ZooKeeper unless all nodes are up and 
+* SOLR-4710: You cannot delete a collection fully from ZooKeeper unless all nodes are up and
   functioning correctly. (Mark Miller)
 
-* SOLR-4487: SolrExceptions thrown by HttpSolrServer will now contain the 
-  proper HTTP status code returned by the remote server, even if that status 
-  code is not something Solr itself returned -- eg: from the Servlet Container, 
+* SOLR-4487: SolrExceptions thrown by HttpSolrServer will now contain the
+  proper HTTP status code returned by the remote server, even if that status
+  code is not something Solr itself returned -- eg: from the Servlet Container,
   or an intermediate HTTP Proxy (hossman)
 
 * SOLR-4661: Admin UI Replication details now correctly displays the current
@@ -10148,7 +10151,7 @@ Bug Fixes
   for the top level group commands, causing output formatting differences
   compared to non-distributed grouping. (yonik)
 
-* SOLR-4705: Fixed bug causing NPE when querying a single replica in SolrCloud 
+* SOLR-4705: Fixed bug causing NPE when querying a single replica in SolrCloud
   using the shards param (Raintung Li, hossman)
 
 * SOLR-4729: LukeRequestHandler: Using a dynamic copyField source that is
@@ -10161,38 +10164,38 @@ Optimizations
 Other Changes
 ----------------------
 
-* SOLR-4653: Solr configuration should log inaccessible/ non-existent relative paths in lib 
+* SOLR-4653: Solr configuration should log inaccessible/ non-existent relative paths in lib
   dir=... (Dawid Weiss)
 
 * SOLR-4317: SolrTestCaseJ4: Can't avoid "collection1" convention (Tricia Jenkins, via Erick Erickson)
 
 * SOLR-4571: SolrZkClient#setData should return Stat object. (Mark Miller)
 
-* SOLR-4603: CachingDirectoryFactory should use an IdentityHashMap for 
+* SOLR-4603: CachingDirectoryFactory should use an IdentityHashMap for
   byDirectoryCache. (Mark Miller)
 
 * SOLR-4544: Refactor HttpShardHandlerFactory so load-balancing logic can be customized.
   (Ryan Ernst via Robert Muir)
 
 * SOLR-4607: Use noggit 0.5 release jar rather than a forked copy.  (Yonik Seeley, Robert Muir)
-  
+
 * SOLR-3706: Ship setup to log with log4j. (ryan, Mark Miller)
 
 * SOLR-4651: Remove dist-excl-slf4j build target. (Shawn Heisey)
 
-* SOLR-4622: The hardcoded SolrCloud defaults for 'hostContext="solr"' and 
-  'hostPort="8983"' have been deprecated and will be removed in Solr 5.0.  
-  Existing solr.xml files that do not have these options explicitly specified 
+* SOLR-4622: The hardcoded SolrCloud defaults for 'hostContext="solr"' and
+  'hostPort="8983"' have been deprecated and will be removed in Solr 5.0.
+  Existing solr.xml files that do not have these options explicitly specified
   should be updated accordingly.  (hossman)
 
-* SOLR-4672: Requests attempting to use SolrCores which had init failures 
-  (that would be reported by CoreAdmin STATUS requests) now result in 500 
-  error responses with the details about the init failure, instead of 404 
+* SOLR-4672: Requests attempting to use SolrCores which had init failures
+  (that would be reported by CoreAdmin STATUS requests) now result in 500
+  error responses with the details about the init failure, instead of 404
   error responses.  (hossman)
 
 * SOLR-4730: Make the wiki link more prominent in the release documentation.
   (Uri Laserson via Robert Muir)
-  
+
 
 ==================  4.2.1 ==================
 
@@ -10212,11 +10215,11 @@ Bug Fixes
 
 * SOLR-4567: copyField source glob matching explicit field(s) stopped working
   in Solr 4.2. (Alexandre Rafalovitch, Steve Rowe)
-  
-* SOLR-4475: Fix various places that still assume File based paths even when 
+
+* SOLR-4475: Fix various places that still assume File based paths even when
   not using a file based DirectoryFactory. (Mark Miller)
 
-* SOLR-4551: CachingDirectoryFactory needs to create CacheEntry's with the 
+* SOLR-4551: CachingDirectoryFactory needs to create CacheEntry's with the
   fullpath not path. (Mark Miller)
 
 * SOLR-4555: When forceNew is used with CachingDirectoryFactory#get, the old
@@ -10236,55 +10239,55 @@ Bug Fixes
 
 * SOLR-4577: The collections API should return responses (success or failure)
   for each node it attempts to work with. (Mark Miller)
-  
-* SOLR-4568: The lastPublished state check before becoming a leader is not 
+
+* SOLR-4568: The lastPublished state check before becoming a leader is not
   working correctly. (Mark Miller)
 
-* SOLR-4570: Even if an explicit shard id is used, ZkController#preRegister 
+* SOLR-4570: Even if an explicit shard id is used, ZkController#preRegister
   should still wait to see the shard id in its current ClusterState.
   (Mark Miller)
 
-* SOLR-4585: The Collections API validates numShards with < 0 but should use 
+* SOLR-4585: The Collections API validates numShards with < 0 but should use
   <= 0. (Mark Miller)
 
 * SOLR-4592: DefaultSolrCoreState#doRecovery needs to check the CoreContainer
   shutdown flag inside the recoveryLock sync block. (Mark Miller)
 
-* SOLR-4595: CachingDirectoryFactory#close can throw a concurrent 
+* SOLR-4595: CachingDirectoryFactory#close can throw a concurrent
   modification exception. (Mark Miller)
 
 * SOLR-4573: Accessing Admin UI files in SolrCloud mode logs warnings.
   (Mark Miller, Phil John)
 
-* SOLR-4594: StandardDirectoryFactory#remove accesses byDirectoryCache 
+* SOLR-4594: StandardDirectoryFactory#remove accesses byDirectoryCache
   without a lock. (Mark Miller)
 
-* SOLR-4597: CachingDirectoryFactory#remove should not attempt to empty/remove 
+* SOLR-4597: CachingDirectoryFactory#remove should not attempt to empty/remove
   the index right away but flag for removal after close. (Mark Miller)
 
-* SOLR-4598: The Core Admin unload command's option 'deleteDataDir', should use 
+* SOLR-4598: The Core Admin unload command's option 'deleteDataDir', should use
   the DirectoryFactory API to remove the data dir. (Mark Miller)
 
-* SOLR-4599: CachingDirectoryFactory calls close(Directory) on forceNew if the 
+* SOLR-4599: CachingDirectoryFactory calls close(Directory) on forceNew if the
   Directory has a refCnt of 0, but it should call closeDirectory(CacheValue).
   (Mark Miller)
 
-* SOLR-4602: ZkController#unregister should cancel its election participation 
+* SOLR-4602: ZkController#unregister should cancel its election participation
   before asking the Overseer to delete the SolrCore information. (Mark Miller)
 
-* SOLR-4601: A Collection that is only partially created and then deleted will 
+* SOLR-4601: A Collection that is only partially created and then deleted will
   leave pre allocated shard information in ZooKeeper. (Mark Miller)
-  
+
 * SOLR-4604: UpdateLog#init is over called on SolrCore#reload. (Mark Miller)
 
 * SOLR-4605: Rollback does not work correctly. (Mark S, Mark Miller)
 
-* SOLR-4609: The Collections API should only send the reload command to ACTIVE 
-  cores. (Mark Miller)     
-           
+* SOLR-4609: The Collections API should only send the reload command to ACTIVE
+  cores. (Mark Miller)
+
 * SOLR-4297: Atomic update request containing null=true sets all subsequent
   fields to null (Ben Pennell, Rob, shalin)
-  
+
 * SOLR-4371: Admin UI - Analysis Screen shows empty result (steffkes)
 
 * SOLR-4318: NPE encountered with querying with wildcards on a field that uses
@@ -10297,11 +10300,11 @@ Bug Fixes
 * SOLR-4538: Date Math expressions were being truncated to 32 characters
   when used in field:value queries in the lucene QParser.  (hossman, yonik)
 
-* SOLR-4617: SolrCore#reload needs to pass the deletion policy to the next 
+* SOLR-4617: SolrCore#reload needs to pass the deletion policy to the next
   SolrCore through its constructor rather than setting a field after.
   (Mark Miller)
-    
-* SOLR-4589: Fixed CPU spikes and poor performance in lazy field loading 
+
+* SOLR-4589: Fixed CPU spikes and poor performance in lazy field loading
   of multivalued fields. (hossman)
 
 * SOLR-4608: Update Log replay and PeerSync replay should use the default
@@ -10311,7 +10314,7 @@ Bug Fixes
   values and top-level phrase slops on queries produced by nested
   sub-parsers. (yonik)
 
-* SOLR-4624: CachingDirectoryFactory does not need to support forceNew any 
+* SOLR-4624: CachingDirectoryFactory does not need to support forceNew any
   longer and it appears to be causing a missing close directory bug. forceNew
   is no longer respected and will be removed in 4.3. (Mark Miller)
 
@@ -10320,9 +10323,9 @@ Bug Fixes
 
 * SOLR-4637: Replication can sometimes wait until shutdown or core unload until
   removing some tmp directories. (Mark Miller)
-  
+
 * SOLR-4638: DefaultSolrCoreState#getIndexWriter(null) is a way to avoid
-  creating the IndexWriter earlier than necessary, but it's not 
+  creating the IndexWriter earlier than necessary, but it's not
   implemented quite right. (Mark Miller)
 
 * SOLR-4640: CachingDirectoryFactory can fail to close directories in some race
@@ -10338,7 +10341,7 @@ Optimizations
   expected slice in the clusterstate rather than waiting. (Mark Miller)
 
 * SOLR-4311: Admin UI - Optimize Caching Behaviour (steffkes)
-      
+
 Other Changes
 ----------------------
 
@@ -10346,7 +10349,7 @@ Other Changes
 
 * SOLR-4596: DistributedQueue should ensure its full path exists in the constructor.
   (Mark Miller)
-  
+
 ==================  4.2.0 ==================
 
 Versions of Major Components
@@ -10373,10 +10376,10 @@ New Features
 
 * SOLR-2827: RegexpBoost Update Processor (janhoy)
 
-* SOLR-4370: Allow configuring commitWithin to do hard commits. 
+* SOLR-4370: Allow configuring commitWithin to do hard commits.
   (Mark Miller, Senthuran Sivananthan)
 
-* SOLR-4451: SolrJ, and SolrCloud internals, now use SystemDefaultHttpClient 
+* SOLR-4451: SolrJ, and SolrCloud internals, now use SystemDefaultHttpClient
   under the covers -- allowing many HTTP connection related properties to be
   controlled via 'standard' java system properties.  (hossman)
 
@@ -10384,37 +10387,37 @@ New Features
 
 * SOLR-4417: Reopen the IndexWriter on SolrCore reload. (Mark Miller)
 
-* SOLR-4477: Add support for queries (match-only) against docvalues fields. 
+* SOLR-4477: Add support for queries (match-only) against docvalues fields.
   (Robert Muir)
 
 * SOLR-4488: Return slave replication details for a master if the master has
   also acted like a slave. (Mark Miller)
 
-* SOLR-4498: Add list command to ZkCLI that prints out the contents of 
+* SOLR-4498: Add list command to ZkCLI that prints out the contents of
   ZooKeeper. (Roman Shaposhnik via Mark Miller)
 
-* SOLR-4481: SwitchQParserPlugin registered by default as 'switch' using  
+* SOLR-4481: SwitchQParserPlugin registered by default as 'switch' using
   syntax: {!switch case=XXX case.foo=YYY case.bar=ZZZ default=QQQ}foo
   (hossman)
-  
-* SOLR-4078: Allow custom naming of SolrCloud nodes so that a new host:port 
+
+* SOLR-4078: Allow custom naming of SolrCloud nodes so that a new host:port
   combination can take over for a previous shard. (Mark Miller)
 
 * SOLR-4210: Requests to a Collection that does not exist on the receiving node
   should be proxied to a suitable node. (Mark Miller, Po Rui, yonik)
 
 * SOLR-1365: New SweetSpotSimilarityFactory allows customizable TF/IDF based
-  Similarity when you know the optimal "Sweet Spot" of values for the field 
+  Similarity when you know the optimal "Sweet Spot" of values for the field
   length and TF scoring factors.  (hossman)
 
 * SOLR-4138: CurrencyField fields can now be used in a ValueSources to
-  get the "raw" value (using the default number of fractional digits) in 
-  the default currency of the field type.  There is also a new 
-  currency(field,[CODE]) function for generating a ValueSource of the 
-  "natural" value, converted to an optionally specified currency to 
+  get the "raw" value (using the default number of fractional digits) in
+  the default currency of the field type.  There is also a new
+  currency(field,[CODE]) function for generating a ValueSource of the
+  "natural" value, converted to an optionally specified currency to
   override the default for the field type.
   (hossman)
-  
+
 * SOLR-4503: Add REST API methods, via Restlet integration, for reading schema
   elements, at /schema/fields/, /schema/dynamicfields/, /schema/fieldtypes/,
   and /schema/copyfields/.  (Steve Rowe)
@@ -10429,9 +10432,9 @@ Bug Fixes
 
 * SOLR-4330: group.sort is ignored when using group.truncate and ex/tag
   local params together (koji)
-  
+
 * SOLR-4321: Collections API will sometimes use a node more than once, even
-  when more unused nodes are available. 
+  when more unused nodes are available.
   (Eric Falcao, Brett Hoerner, Mark Miller)
 
 * SOLR-4345 : Solr Admin UI doesn't work in IE 10 (steffkes)
@@ -10445,7 +10448,7 @@ Bug Fixes
 
 * SOLR-4225: Term info page under schema browser shows incorrect count of terms
   (steffkes)
-  
+
 * SOLR-3926: Solr should support better way of finding active sorts (Eirik Lygre via
   Erick Erickson)
 
@@ -10458,7 +10461,7 @@ Bug Fixes
 
 * SOLR-4400: Deadlock can occur in a rare race between committing and
   closing a SolrIndexWriter. (Erick Erickson, Mark Miller)
-  
+
 * SOLR-3655: A restarted node can briefly appear live and active before it really
   is in some cases. (Mark Miller)
 
@@ -10471,26 +10474,26 @@ Bug Fixes
   kick in when using NRTCachingDirectory or the rate limiting feature.
   (Mark Miller)
 
-* SOLR-4421,SOLR-4165: On CoreContainer shutdown, all SolrCores should publish their 
+* SOLR-4421,SOLR-4165: On CoreContainer shutdown, all SolrCores should publish their
   state as DOWN. (Mark Miller, Markus Jelsma)
 
-* SOLR-4467: Ephemeral directory implementations may not recover correctly 
+* SOLR-4467: Ephemeral directory implementations may not recover correctly
   because the code to clear the tlog files on startup is off. (Mark Miller)
 
 * SOLR-4413: Fix SolrCore#getIndexDir() to return the current index directory.
   (Gregg Donovan, Mark Miller)
-  
+
 * SOLR-4469: A new IndexWriter must be opened on SolrCore reload when the index
-  directory has changed and the previous SolrCore's state should not be 
+  directory has changed and the previous SolrCore's state should not be
   propagated. (Mark Miller, Gregg Donovan)
 
 * SOLR-4471: Replication occurs even when a slave is already up to date.
   (Mark Miller, Andre Charton)
-  
-* SOLR-4484: ReplicationHandler#loadReplicationProperties still uses Files 
+
+* SOLR-4484: ReplicationHandler#loadReplicationProperties still uses Files
   rather than the Directory to try and read the replication properties files.
-  (Mark Miller) 
-  
+  (Mark Miller)
+
 * SOLR-4352: /browse pagination now supports and preserves sort context
   (Eric Spiegelberg, Erik Hatcher)
 
@@ -10498,7 +10501,7 @@ Bug Fixes
   AnalysisSPILoader when doing concurrent core loads in multicore
   Solr configs.  (Uwe Schindler, Hossman)
 
-* SOLR-4504: Fixed CurrencyField range queries to correctly exclude 
+* SOLR-4504: Fixed CurrencyField range queries to correctly exclude
   documents w/o values (hossman)
 
 * SOLR-4480: A trailing + or - caused the edismax parser to throw
@@ -10509,9 +10512,9 @@ Bug Fixes
 
 * SOLR-4505: Possible deadlock around SolrCoreState update lock.
   (Erick Erickson, Mark Miller)
-  
+
 * SOLR-4511: When a new index is replicated into place, we need
-  to update the most recent replicatable index point without 
+  to update the most recent replicatable index point without
   doing a commit. This is important for repeater use cases, as
   well as when nodes may switch master/slave roles.
   (Mark Miller, Raúl Grande)
@@ -10522,7 +10525,7 @@ Bug Fixes
 
 * SOLR-4518: Improved CurrencyField error messages when attempting to
   use a Currency that is not supported by the current JVM. (hossman)
-  
+
 * SOLR-3798: Fix copyField implementation in IndexSchema to handle
   dynamic field references that aren't string-equal to the name of
   the referenced dynamic field. (Steve Rowe)
@@ -10555,7 +10558,7 @@ Optimizations
   will keep some less common unnecessary replications from happening.
   (Mark Miller, Simon Scofield)
 
-* SOLR-4529: Improve Admin UI Dashboard legibility (Felix Buenemann via 
+* SOLR-4529: Improve Admin UI Dashboard legibility (Felix Buenemann via
   steffkes)
 
 * SOLR-4526: Admin UI depends on optional system info (Felix Buenemann via
@@ -10577,15 +10580,15 @@ Other Changes
 * SOLR-4415: Add 'state' to shards (default to 'active') and read/write them to
   ZooKeeper (Anshum Gupta via shalin)
 
-* SOLR-4394: Tests and example configs demonstrating SSL with both server 
+* SOLR-4394: Tests and example configs demonstrating SSL with both server
   and client certs (hossman)
 
-* SOLR-3060: SurroundQParserPlugin highlighting tests 
+* SOLR-3060: SurroundQParserPlugin highlighting tests
   (Ahmet Arslan via hossman)
 
 * SOLR-2470: Added more tests for VelocityResponseWriter
 
-* SOLR-4471: Improve and clean up TestReplicationHandler. 
+* SOLR-4471: Improve and clean up TestReplicationHandler.
   (Amit Nithian via Mark Miller)
 
 * SOLR-3843: Include lucene codecs jar and enable per-field postings and docvalues
@@ -10621,9 +10624,9 @@ Upgrading from Solr 4.0.0
 Custom java parsing plugins need to migrate from throwing the internal
 ParseException to throwing SyntaxError.
 
-BaseDistributedSearchTestCase now randomizes the servlet context it uses when 
-creating Jetty instances.  Subclasses that assume a hard coded context of 
-"/solr" should either be fixed to use the "String context" variable, or should 
+BaseDistributedSearchTestCase now randomizes the servlet context it uses when
+creating Jetty instances.  Subclasses that assume a hard coded context of
+"/solr" should either be fixed to use the "String context" variable, or should
 take advantage of the new BaseDistributedSearchTestCase(String) constructor
 to explicitly specify a fixed servlet context path.  See SOLR-4136 for details.
 
@@ -10654,7 +10657,7 @@ New Features
 * SOLR-3985: ExternalFileField caches can be reloaded on firstSearcher/
   newSearcher events using the ExternalFileFieldReloader (Alan Woodward)
 
-* SOLR-3911: Make Directory and DirectoryFactory first class so that the majority 
+* SOLR-3911: Make Directory and DirectoryFactory first class so that the majority
   of Solr's features work with any custom implementations. (Mark Miller)
   Additional Work:
   - SOLR-4032: Files larger than an internal buffer size fail to replicate.
@@ -10663,22 +10666,22 @@ New Features
     (Mark Miller, Markus Jelsma)
   - SOLR-4144: Replication using too much RAM. (yonik, Markus Jelsma)
   - SOLR-4187: NPE on Directory release (Mark Miller, Markus Jelsma)
-    
-* SOLR-4051: Add <propertyWriter /> element to DIH's data-config.xml file,  
+
+* SOLR-4051: Add <propertyWriter /> element to DIH's data-config.xml file,
   allowing the user to specify the location, filename and Locale for
   the "data-config.properties" file.  Alternatively, users can specify their
-  own property writer implementation for greater control. This new configuration 
-  element is optional, and defaults mimic prior behavior.  The one exception is 
-  that the "root" locale is default. Previously it was the machine's default locale.  
+  own property writer implementation for greater control. This new configuration
+  element is optional, and defaults mimic prior behavior.  The one exception is
+  that the "root" locale is default. Previously it was the machine's default locale.
   (James Dyer)
 
-* SOLR-4084: Add FuzzyLookupFactory, which is like AnalyzingSuggester except that 
+* SOLR-4084: Add FuzzyLookupFactory, which is like AnalyzingSuggester except that
   it can tolerate typos in the input.  (Areek Zillur via Robert Muir)
 
 * SOLR-4088: New and improved auto host detection strategy for SolrCloud.
   (Raintung Li via Mark Miller)
 
-* SOLR-3970: SystemInfoHandler now exposes more details about the 
+* SOLR-3970: SystemInfoHandler now exposes more details about the
   JRE/VM/Java version in use.  (hossman)
 
 * SOLR-4101: Add support for storing term offsets in the index via a
@@ -10697,7 +10700,7 @@ New Features
   Collection API. (Per Steffensen, Mark Miller)
 
 * SOLR-3531: Allowing configuring maxMergeSizeMB and maxCachedMB when
-  using NRTCachingDirectoryFactory. (Andy Laird via Mark Miller) 
+  using NRTCachingDirectoryFactory. (Andy Laird via Mark Miller)
 
 * SOLR-4118: Fix replicationFactor to align with industry usage.
   replicationFactor now means the total number of copies
@@ -10709,13 +10712,13 @@ New Features
 
 * SOLR-4124: You should be able to set the update log directory with the
   CoreAdmin API the same way as the data directory. (Mark Miller)
-  
-* SOLR-4028: When using ZK chroot, it would be nice if Solr would create the 
+
+* SOLR-4028: When using ZK chroot, it would be nice if Solr would create the
   initial path when it doesn't exist. (Tomás Fernández Löbbe via Mark Miller)
 
 * SOLR-3948: Calculate/display deleted documents in admin interface.
   (Shawn Heisey via Mark Miller)
-  
+
 * SOLR-4030: Allow rate limiting Directory IO based on the IO context.
   (Mark Miller, Radim Kolar)
 
@@ -10731,9 +10734,9 @@ New Features
 * SOLR-4120: Collection API: Support for specifying a list of Solr addresses to
   spread a new collection across. (Per Steffensen via Mark Miller)
 
-* SOLR-4110: Configurable Content-Type headers for PHPResponseWriters and 
+* SOLR-4110: Configurable Content-Type headers for PHPResponseWriters and
   PHPSerializedResponseWriter. (Dominik Siebel via Mark Miller)
-  
+
 * SOLR-1028: The ability to specify "transient" and "loadOnStartup" as a new properties of
   <core> tags in solr.xml. Can specify "transientCacheSize" in the <cores> tag. Together
   these allow cores to be loaded only when needed and only transientCacheSize transient
@@ -10781,7 +10784,7 @@ New Features
 
   Example:
     The following two documents will be indexed to the same shard
-    since they share the same domain "customerB!". 
+    since they share the same domain "customerB!".
     <code>
        {"id" : "customerB!doc1" [...] }
        {"id" : "customerB!doc2" [...] }
@@ -10812,13 +10815,13 @@ Optimizations
 
 * SOLR-3734: Improve Schema-Browser Handling for CopyField using
   dynamicField's (steffkes)
-  
+
 * SOLR-3941: The "commitOnLeader" part of distributed recovery can use
   openSearcher=false. (Tomás Fernández Löbbe via Mark Miller)
-  
+
 * SOLR-4063: Allow CoreContainer to load multiple SolrCores in parallel rather
   than just serially. (Mark Miller)
-  
+
 * SOLR-4199: When doing zk retries due to connection loss, rather than just
   retrying for 2 minutes, retry in proportion to the session timeout.
   (Mark Miller)
@@ -10830,7 +10833,7 @@ Optimizations
 
 * SOLR-4261: Percentage Infos on Dashboard have a fixed width (steffkes)
 
-* SOLR-3851: create a new core/delete an existing core should also update 
+* SOLR-3851: create a new core/delete an existing core should also update
   the main/left list of cores on the admin UI (steffkes)
 
 * SOLR-3840: XML query response display is unreadable in Solr Admin Query UI
@@ -10845,7 +10848,7 @@ Optimizations
 Bug Fixes
 ----------------------
 
-* SOLR-4288: Improve logging for FileDataSource (basePath, relative 
+* SOLR-4288: Improve logging for FileDataSource (basePath, relative
   resources). (Dawid Weiss)
 
 * SOLR-4007: Morfologik dictionaries not available in Solr field type
@@ -10858,27 +10861,27 @@ Bug Fixes
 
 * SOLR-3917: Partial State on Schema-Browser UI is not defined for Dynamic
   Fields & Types (steffkes)
-  
-* SOLR-3939: Consider a sync attempt from leader to replica that fails due 
+
+* SOLR-3939: Consider a sync attempt from leader to replica that fails due
   to 404 a success. (Mark Miller, Joel Bernstein)
-  
+
 * SOLR-3940: Rejoining the leader election incorrectly triggers the code path
   for a fresh cluster start rather than fail over. (Mark Miller)
 
-* SOLR-3961: Fixed error using LimitTokenCountFilterFactory 
+* SOLR-3961: Fixed error using LimitTokenCountFilterFactory
   (Jack Krupansky, hossman)
 
-* SOLR-3933: Distributed commits are not guaranteed to be ordered within a 
+* SOLR-3933: Distributed commits are not guaranteed to be ordered within a
   request. (Mark Miller)
 
 * SOLR-3939: An empty or just replicated index cannot become the leader of a
   shard after a leader goes down. (Joel Bernstein, yonik, Mark Miller)
-  
-* SOLR-3971: A collection that is created with numShards=1 turns into a 
-  numShards=2 collection after starting up a second core and not specifying 
+
+* SOLR-3971: A collection that is created with numShards=1 turns into a
+  numShards=2 collection after starting up a second core and not specifying
   numShards. (Mark Miller)
 
-* SOLR-3988: Fixed SolrTestCaseJ4.adoc(SolrInputDocument) to respect 
+* SOLR-3988: Fixed SolrTestCaseJ4.adoc(SolrInputDocument) to respect
   field and document boosts (hossman)
 
 * SOLR-3981: Fixed bug that resulted in document boosts being compounded in
@@ -10893,7 +10896,7 @@ Bug Fixes
 * SOLR-3992: QuerySenderListener doesn't populate document cache.
   (Shotaro Kamio, yonik)
 
-* SOLR-3995: Recovery may never finish on SolrCore shutdown if the last reference to 
+* SOLR-3995: Recovery may never finish on SolrCore shutdown if the last reference to
   a SolrCore is closed by the recovery process. (Mark Miller)
 
 * SOLR-3998: Atomic update on uniqueKey field itself causes duplicate document.
@@ -10916,7 +10919,7 @@ Bug Fixes
 * SOLR-3589: Edismax parser does not honor mm parameter if analyzer splits a token.
   (Tom Burton-West, Robert Muir)
 
-* SOLR-4031: Upgrade to Jetty 8.1.7 to fix a bug where in very rare occasions 
+* SOLR-4031: Upgrade to Jetty 8.1.7 to fix a bug where in very rare occasions
   the content of two concurrent requests get mixed up. (Per Steffensen, yonik)
 
 * SOLR-4060: ReplicationHandler can try and do a snappull and open a new IndexWriter
@@ -10924,14 +10927,14 @@ Bug Fixes
   (Mark Miller)
 
 * SOLR-4055: Fix a thread safety issue with the Collections API that could
-  cause actions to be targeted at the wrong SolrCores. 
+  cause actions to be targeted at the wrong SolrCores.
   (Raintung Li, Per Steffensen via Mark Miller)
 
 * SOLR-3993: If multiple SolrCore's for a shard coexist on a node, on cluster
-  restart, leader election would stall until timeout, waiting to see all of 
+  restart, leader election would stall until timeout, waiting to see all of
   the replicas come up. (Mark Miller, Alexey Kudinov)
-  
-* SOLR-2045: Databases that require a commit to be issued before closing the 
+
+* SOLR-2045: Databases that require a commit to be issued before closing the
   connection on a non-read-only database leak connections.  Also expanded the
   SqlEntityProcessor test to sometimes use Derby as well as HSQLDB (Derby is
   one db affected by this bug).  (Fenlor Sebastia, James Dyer)
@@ -10962,16 +10965,16 @@ Bug Fixes
 
 * SOLR-3959: Ensure the internal comma separator of poly fields is escaped
   for CSVResponseWriter.  (Areek Zillur via Robert Muir)
-  
-* SOLR-4075: A logical shard that has had all of its SolrCores unloaded should 
+
+* SOLR-4075: A logical shard that has had all of its SolrCores unloaded should
   be removed from the cluster state. (Mark Miller, Gilles Comeau)
-  
+
 * SOLR-4034: Check if a collection already exists before trying to create a
   new one. (Po Rui, Mark Miller)
 
 * SOLR-4097: Race can cause NPE in logging line on first cluster state update.
   (Mark Miller)
-  
+
 * SOLR-4099: Allow the collection api work queue to make forward progress even
   when its watcher is not fired for some reason. (Raintung Li via Mark Miller)
 
@@ -10985,30 +10988,30 @@ Bug Fixes
   you are replicating.
   (Mark Miller, Markus Jelsma)
 
-* SOLR-2890: Fixed a bug that prevented omitNorms and omitTermFreqAndPositions 
+* SOLR-2890: Fixed a bug that prevented omitNorms and omitTermFreqAndPositions
   options from being respected in some <fieldType/> declarations (hossman)
 
-* SOLR-4159: When we are starting a shard from rest, a potential leader should 
-  not consider its last published state when deciding if it can be the new 
+* SOLR-4159: When we are starting a shard from rest, a potential leader should
+  not consider its last published state when deciding if it can be the new
   leader. (Mark Miller)
 
-* SOLR-4158: When a core is registering in ZooKeeper it may not wait long 
-  enough to find the leader due to how long the potential leader waits to see 
+* SOLR-4158: When a core is registering in ZooKeeper it may not wait long
+  enough to find the leader due to how long the potential leader waits to see
   replicas. (Mark Miller, Alain Rogister)
 
-* SOLR-4162: ZkCli usage examples are not correct because the zkhost parameter 
-  is not present and it is mandatory for all commands. 
+* SOLR-4162: ZkCli usage examples are not correct because the zkhost parameter
+  is not present and it is mandatory for all commands.
   (Tomás Fernández Löbbe via Mark Miller)
 
 * SOLR-4071: Validate that name is pass to Collections API create, and behave the
   same way as on startup when collection.configName is not explicitly passed.
   (Po Rui, Mark Miller)
 
-* SOLR-4127: Added explicit error message if users attempt Atomic document 
+* SOLR-4127: Added explicit error message if users attempt Atomic document
   updates with either updateLog or DistribUpdateProcessor. (hossman)
 
-* SOLR-4136: Fix SolrCloud behavior when using "hostContext" containing "_" 
-  or"/" characters.  This fix also makes SolrCloud more accepting of 
+* SOLR-4136: Fix SolrCloud behavior when using "hostContext" containing "_"
+  or"/" characters.  This fix also makes SolrCloud more accepting of
   hostContext values with leading/trailing slashes. (hossman)
 
 * SOLR-4168: Ensure we are using the absolute latest index dir when getting
@@ -11020,24 +11023,24 @@ Bug Fixes
 * SOLR-4102: Fix UI javascript error if canonical hostname can not be resolved
   (steffkes via hossman)
 
-* SOLR-4178: ReplicationHandler should abort any current pulls and wait for 
+* SOLR-4178: ReplicationHandler should abort any current pulls and wait for
   its executor to stop during core close. (Mark Miller)
 
 * SOLR-3918: Fixed the 'dist-war-excl-slf4j' ant target to exclude all
-  slf4j jars, so that the resulting war is usable as is provided the servlet 
+  slf4j jars, so that the resulting war is usable as is provided the servlet
   container includes the correct slf4j api and impl jars.
   (Shawn Heisey, hossman)
 
 * SOLR-4198: OverseerCollectionProcessor should implement ClosableThread.
   (Mark Miller)
 
-* SOLR-4213: Directories that are not shutdown until DirectoryFactory#close 
+* SOLR-4213: Directories that are not shutdown until DirectoryFactory#close
   do not have close listeners called on them. (Mark Miller)
 
 * SOLR-4134: Standard (XML) request writer cannot "set" multiple values into
   multivalued field with partial updates. (Luis Cappa Banda, Will Butler, shalin)
 
-* SOLR-3972: Fix ShowFileRequestHandler to not log a warning in the 
+* SOLR-3972: Fix ShowFileRequestHandler to not log a warning in the
   (expected) situation of a file not found.  (hossman)
 
 * SOLR-4133: Cannot "set" field to null with partial updates when using the
@@ -11045,7 +11048,7 @@ Bug Fixes
 
 * SOLR-4223: "maxFormContentSize" in jetty.xml is not picked up by jetty 8
   so set it via solr webapp context file. (shalin)
-  
+
 * SOLR-4175:SearchComponent chain can't contain two components of the
   same class and use debugQuery. (Tomás Fernández Löbbe via ehatcher)
 
@@ -11054,7 +11057,7 @@ Bug Fixes
   the leader. (Mark Miller)
 
 * SOLR-4245: When a core is registering with ZooKeeper, the timeout to find the
-  leader in the cluster state is 30 seconds rather than leaderVoteWait + extra 
+  leader in the cluster state is 30 seconds rather than leaderVoteWait + extra
   time. (Mark Miller)
 
 * SOLR-4238: Fix jetty example requestLog config (jm via hossman)
@@ -11062,7 +11065,7 @@ Bug Fixes
 * SOLR-4251: Fix SynonymFilterFactory when an optional tokenizerFactory is supplied.
   (Chris Bleakley via rmuir)
 
-* SOLR-4253: Misleading resource loading warning from Carrot2 clustering 
+* SOLR-4253: Misleading resource loading warning from Carrot2 clustering
   component fixed (Stanisław Osiński)
 
 * SOLR-4257: PeerSync updates and Log Replay updates should not wait for
@@ -11075,7 +11078,7 @@ Bug Fixes
   of input (steffkes)
 
 * SOLR-4079: Long core names break web gui appearance and functionality
-  (steffkes) 
+  (steffkes)
 
 * SOLR-4263: Incorrect Link from Schema-Browser to Query From for Top-Terms
   (steffkes)
@@ -11108,7 +11111,7 @@ Bug Fixes
 
 * SOLR-4303: On replication, if the generation of the master is lower than the
   slave we need to force a full copy of the index. (Mark Miller, Gregg Donovan)
-  
+
 * SOLR-4266: HttpSolrServer does not release connection properly on exception
   when no response parser is used. (Steve Molloy via Mark Miller)
 
@@ -11131,17 +11134,17 @@ Other Changes
   (Markus Jelsma via hossman)
 
 * SOLR-3932: SolrCmdDistributorTest either takes 3 seconds or 3 minutes.
-  (yonik, Mark Miller)  
-  
-* SOLR-3856: New tests for SqlEntityProcessor/CachedSqlEntityProcessor 
+  (yonik, Mark Miller)
+
+* SOLR-3856: New tests for SqlEntityProcessor/CachedSqlEntityProcessor
   (James Dyer)
 
 * SOLR-4067: ZkStateReader#getLeaderProps should not return props for a leader
   that it does not think is live. (Mark Miller)
-  
+
 * SOLR-4086: DIH refactor of VariableResolver and Evaluator.  VariableResolver
   and each built-in Evaluator are separate concrete classes.  DateFormatEvaluator
-  now defaults with the ROOT Locale. However, users may specify a different 
+  now defaults with the ROOT Locale. However, users may specify a different
   Locale using an optional new third parameter. (James Dyer)
 
 * SOLR-3602: Update ZooKeeper to 3.4.5 (Mark Miller)
@@ -11149,12 +11152,12 @@ Other Changes
 * SOLR-4095: DIH NumberFormatTransformer & DateFormatTransformer default to the
   ROOT Locale if none is specified.  These previously used the machine's default.
   (James Dyer)
-  
+
 * SOLR-4096: DIH FileDataSource & FieldReaderDataSource default to UTF-8 encoding
   if none is specified.  These previously used the machine's default.
   (James Dyer)
-  
-* SOLR-1916: DIH to not use Lucene-forbidden Java APIs 
+
+* SOLR-1916: DIH to not use Lucene-forbidden Java APIs
   (default encoding, locale, etc.) (James Dyer, Robert Muir)
 
 * SOLR-4111: SpellCheckCollatorTest#testContextSensitiveCollate to test against
@@ -11168,7 +11171,7 @@ Other Changes
 * SOLR-4074: Raise default ramBufferSizeMB to 100 from 32.
   (yonik, Mark Miller)
 
-* SOLR-4062: The update log location in solrconfig.xml should default to 
+* SOLR-4062: The update log location in solrconfig.xml should default to
   ${solr.ulog.dir} rather than ${solr.data.dir:} (Mark Miller)
 
 * SOLR-4155: Upgrade Jetty to 8.1.8. (Robert Muir)
@@ -11189,9 +11192,9 @@ Other Changes
 * SOLR-4226: Extract fl parsing code out of ReturnFields constructor.
   (Ryan Ernst via Robert Muir)
 
-* SOLR-4208: ExtendedDismaxQParserPlugin has been refactored to make 
+* SOLR-4208: ExtendedDismaxQParserPlugin has been refactored to make
   subclassing easier. (Tomás Fernández Löbbe, hossman)
-  
+
 * SOLR-3735: Relocate the example mime-to-extension mapping, and
   upgrade Velocity Engine to 1.7 (ehatcher)
 
@@ -11219,9 +11222,9 @@ Upgrading from Solr 4.0.0-BETA
 ----------------------
 
 In order to better support distributed search mode, the TermVectorComponent's
-response format has been changed so that if the schema defines a 
+response format has been changed so that if the schema defines a
 uniqueKeyField, then that field value is used as the "key" for each document in
-its response section, instead of the internal lucene doc id.  Users w/o a 
+its response section, instead of the internal lucene doc id.  Users w/o a
 uniqueKeyField will continue to see the same response format.  See SOLR-3229
 for more details.
 
@@ -11231,10 +11234,10 @@ string type id field, you must re-index.
 Upgrading from Solr 4.0.0-ALPHA
 ----------------------
 
-Solr is now much more strict about requiring that the uniqueKeyField feature 
-(if used) must refer to a field which is not multiValued.  If you upgrade from 
-an earlier version of Solr and see an error that your uniqueKeyField "can not 
-be configured to be multivalued" please add 'multiValued="false"' to the 
+Solr is now much more strict about requiring that the uniqueKeyField feature
+(if used) must refer to a field which is not multiValued.  If you upgrade from
+an earlier version of Solr and see an error that your uniqueKeyField "can not
+be configured to be multivalued" please add 'multiValued="false"' to the
 <field /> declaration for your uniqueKeyField.  See SOLR-3682 for more details.
 
 In addition, please review the notes above about upgrading from 4.0.0-BETA
@@ -11242,7 +11245,7 @@ In addition, please review the notes above about upgrading from 4.0.0-BETA
 Upgrading from Solr 3.6
 ----------------------
 
-* The Lucene index format has changed and as a result, once you upgrade, 
+* The Lucene index format has changed and as a result, once you upgrade,
   previous versions of Solr will no longer be able to read your indices.
   In a master/slave configuration, all searchers/slaves should be upgraded
   before the master.  If the master were to be updated first, the older
@@ -11261,13 +11264,13 @@ Upgrading from Solr 3.6
   If q.op is effectively "OR" then mm=0%.  Users who wish to force the
   legacy behavior should set a default value for the 'mm' param in
   their solrconfig.xml file.
-  
+
 * The VelocityResponseWriter is no longer built into the core.  Its JAR and
   dependencies now need to be added (via <lib> or solr/home lib inclusion),
   and it needs to be registered in solrconfig.xml like this:
     <queryResponseWriter name="velocity" class="solr.VelocityResponseWriter"/>
 
-* The update request parameter to choose Update Request Processor Chain is 
+* The update request parameter to choose Update Request Processor Chain is
   renamed from "update.processor" to "update.chain". The old parameter was
   deprecated but still working since Solr3.2, but is now removed
   entirely.
@@ -11279,21 +11282,21 @@ Upgrading from Solr 3.6
   put them in <indexConfig> section - with same syntax as before.
 
 * Two of the SolrServer subclasses in SolrJ were renamed/replaced.
-  CommonsHttpSolrServer is now HttpSolrServer, and 
+  CommonsHttpSolrServer is now HttpSolrServer, and
   StreamingUpdateSolrServer is now ConcurrentUpdateSolrServer.
 
-* The PingRequestHandler no longer looks for a <healthcheck/> option in the 
-  (legacy) <admin> section of solrconfig.xml.  Users who wish to take 
-  advantage of this feature should configure a "healthcheckFile" init param 
-  directly on the  PingRequestHandler.  As part of this change, relative file 
-  paths have been fixed to be resolved against the data dir.  See the example 
+* The PingRequestHandler no longer looks for a <healthcheck/> option in the
+  (legacy) <admin> section of solrconfig.xml.  Users who wish to take
+  advantage of this feature should configure a "healthcheckFile" init param
+  directly on the  PingRequestHandler.  As part of this change, relative file
+  paths have been fixed to be resolved against the data dir.  See the example
   solrconfig.xml and SOLR-1258 for more details.
 
-* Due to low level changes to support SolrCloud, the uniqueKey field can no 
-  longer be populated via <copyField/> or <field default=...> in the 
-  schema.xml.  Users wishing to have Solr automatically generate a uniqueKey 
+* Due to low level changes to support SolrCloud, the uniqueKey field can no
+  longer be populated via <copyField/> or <field default=...> in the
+  schema.xml.  Users wishing to have Solr automatically generate a uniqueKey
   value when adding documents should instead use an instance of
-  solr.UUIDUpdateProcessorFactory in their update processor chain.  See 
+  solr.UUIDUpdateProcessorFactory in their update processor chain.  See
   SOLR-2796 for more details.
 
 In addition, please review the notes above about upgrading from 4.0.0-BETA, and 4.0.0-ALPHA
@@ -11304,10 +11307,10 @@ Detailed Change List
 New Features
 ----------------------
 
-* SOLR-3670: New CountFieldValuesUpdateProcessorFactory makes it easy to index 
+* SOLR-3670: New CountFieldValuesUpdateProcessorFactory makes it easy to index
   the number of values in another field for later use at query time. (hossman)
 
-* SOLR-2768: new "mod(x,y)" function for computing the modulus of two value 
+* SOLR-2768: new "mod(x,y)" function for computing the modulus of two value
   sources. (hossman)
 
 * SOLR-3238: Numerous small improvements to the Admin UI (steffkes)
@@ -11327,7 +11330,7 @@ New Features
 
 * SOLR-3821: Added 'df' to the UI Query form (steffkes)
 
-* SOLR-3822: Added hover titles to the edismax params on the UI Query form 
+* SOLR-3822: Added hover titles to the edismax params on the UI Query form
   (steffkes)
 
 Optimizations
@@ -11336,13 +11339,13 @@ Optimizations
 * SOLR-3715: improve concurrency of the transaction log by removing
   synchronization around log record serialization. (yonik)
 
-* SOLR-3807: Currently during recovery we pause for a number of seconds after 
+* SOLR-3807: Currently during recovery we pause for a number of seconds after
   waiting for the leader to see a recovering state so that any previous updates
-  will have finished before our commit on the leader - we don't need this wait 
+  will have finished before our commit on the leader - we don't need this wait
   for peersync. (Mark Miller)
-  
-* SOLR-3837: When a leader is elected and asks replicas to sync back to him and 
-  that fails, we should ask those nodes to recovery asynchronously rather than 
+
+* SOLR-3837: When a leader is elected and asks replicas to sync back to him and
+  that fails, we should ask those nodes to recovery asynchronously rather than
   synchronously. (Mark Miller)
 
 * SOLR-3709: Cache the url list created from the ClusterState in CloudSolrServer
@@ -11365,10 +11368,10 @@ Bug Fixes
 * SOLR-3649: Fixed bug in JavabinLoader that caused deleteById(List<String> ids)
   to not work in SolrJ (siren)
 
-* SOLR-3730: Rollback is not implemented quite right and can cause corner case fails in 
+* SOLR-3730: Rollback is not implemented quite right and can cause corner case fails in
   SolrCloud tests. (rmuir, Mark Miller)
 
-* SOLR-2981: Fixed StatsComponent to no longer return duplicated information 
+* SOLR-2981: Fixed StatsComponent to no longer return duplicated information
   when requesting multiple stats.facet fields.
   (Roman Kliewer via hossman)
 
@@ -11376,10 +11379,10 @@ Bug Fixes
   conjunction with stored copyField targets by making real-time get never
   return copyField targets. (yonik)
 
-* SOLR-3746: Proper error reporting if updateLog is configured w/o necessary 
+* SOLR-3746: Proper error reporting if updateLog is configured w/o necessary
   "_version_" field in schema.xml (hossman)
 
-* SOLR-3745: Proper error reporting if SolrCloud mode is used w/o 
+* SOLR-3745: Proper error reporting if SolrCloud mode is used w/o
   necessary "_version_" field in schema.xml (hossman)
 
 * SOLR-3770: Overseer may lose updates to cluster state (siren)
@@ -11409,55 +11412,55 @@ Bug Fixes
 
 * SOLR-3679: Core Admin UI gives no feedback if "Add Core" fails (steffkes, hossman)
 
-* SOLR-3795: Fixed LukeRequestHandler response to correctly return field name 
+* SOLR-3795: Fixed LukeRequestHandler response to correctly return field name
   strings in copyDests and copySources arrays (hossman)
 
-* SOLR-3699: Fixed some Directory leaks when there were errors during SolrCore 
+* SOLR-3699: Fixed some Directory leaks when there were errors during SolrCore
   or SolrIndexWriter initialization. (hossman)
 
-* SOLR-3518: Include final 'hits' in log information when aggregating a 
+* SOLR-3518: Include final 'hits' in log information when aggregating a
   distributed request (Markus Jelsma via hossman)
 
-* SOLR-3628: SolrInputField and SolrInputDocument are now consistently backed 
-  by Collections passed in to setValue/setField, and defensively copy values 
+* SOLR-3628: SolrInputField and SolrInputDocument are now consistently backed
+  by Collections passed in to setValue/setField, and defensively copy values
   from Collections passed to addValue/addField
   (Tom Switzer via hossman)
 
 * SOLR-3595: CurrencyField now generates an appropriate error on schema init
-  if it is configured as multiValued - this has never been properly supported, 
+  if it is configured as multiValued - this has never been properly supported,
   but previously failed silently in odd ways.  (hossman)
 
-* SOLR-3823: Fix 'bq' parsing in edismax.  Please note that this required 
+* SOLR-3823: Fix 'bq' parsing in edismax.  Please note that this required
   reverting the negative boost support added by SOLR-3278 (hossman)
 
-* SOLR-3827: Fix shareSchema=true in solr.xml 
+* SOLR-3827: Fix shareSchema=true in solr.xml
   (Tomás Fernández Löbbe via hossman)
 
 * SOLR-3809: Fixed config file replication when subdirectories are used
   (Emmanuel Espina via hossman)
 
-* SOLR-3828: Fixed QueryElevationComponent so that using 'markExcludes' does 
-  not modify the result set or ranking of 'excluded' documents relative to 
+* SOLR-3828: Fixed QueryElevationComponent so that using 'markExcludes' does
+  not modify the result set or ranking of 'excluded' documents relative to
   not using elevation at all.  (Alexey Serba via hossman)
 
-* SOLR-3569: Fixed debug output on distributed requests when there are no 
+* SOLR-3569: Fixed debug output on distributed requests when there are no
   results found.  (David Bowen via hossman)
 
 * SOLR-3811: Query Form using wrong values for dismax, edismax (steffkes)
 
-* SOLR-3779: DataImportHandler's LineEntityProcessor when used in conjunction 
+* SOLR-3779: DataImportHandler's LineEntityProcessor when used in conjunction
   with FileListEntityProcessor would only process the first file.
   (Ahmet Arslan via James Dyer)
-  
-* SOLR-3791: CachedSqlEntityProcessor would throw a NullPointerException when 
+
+* SOLR-3791: CachedSqlEntityProcessor would throw a NullPointerException when
   a query returns a row with a NULL key.  (Steffen Moelter via James Dyer)
 
-* SOLR-3833: When a election is started because a leader went down, the new 
+* SOLR-3833: When a election is started because a leader went down, the new
   leader candidate should decline if the last state they published was not
   active. (yonik, Mark Miller)
 
-* SOLR-3836: When doing peer sync, we should only count sync attempts that 
-  cannot reach the given host as success when the candidate leader is 
+* SOLR-3836: When doing peer sync, we should only count sync attempts that
+  cannot reach the given host as success when the candidate leader is
   syncing with the replicas - not when replicas are syncing to the leader.
   (Mark Miller)
 
@@ -11465,37 +11468,37 @@ Bug Fixes
   we did not create our election node, we should retry, not throw an exception.
   (Mark Miller)
 
-* SOLR-3834: A new leader on cluster startup should also run the leader sync 
+* SOLR-3834: A new leader on cluster startup should also run the leader sync
   process in case there was a bad cluster shutdown. (Mark Miller)
 
-* SOLR-3772: On cluster startup, we should wait until we see all registered 
+* SOLR-3772: On cluster startup, we should wait until we see all registered
   replicas before running the leader process - or if they all do not come up,
   N amount of time. (Mark Miller)
-  
-* SOLR-3756: If we are elected the leader of a shard, but we fail to publish 
+
+* SOLR-3756: If we are elected the leader of a shard, but we fail to publish
   this for any reason, we should clean up and re trigger a leader election.
   (Mark Miller)
 
-* SOLR-3812: ConnectionLoss during recovery can cause lost updates, leading to 
+* SOLR-3812: ConnectionLoss during recovery can cause lost updates, leading to
   shard inconsistency. (Mark Miller)
-  
-* SOLR-3813: When a new leader syncs, we need to ask all shards to sync back, 
+
+* SOLR-3813: When a new leader syncs, we need to ask all shards to sync back,
   not just those that are active. (Mark Miller)
 
-* SOLR-3641: CoreContainer is not persisting roles core attribute. 
+* SOLR-3641: CoreContainer is not persisting roles core attribute.
   (hossman, Mark Miller)
 
 * SOLR-3527: SolrCmdDistributor drops some of the important commit attributes
   (maxOptimizeSegments, softCommit, expungeDeletes) when sending a commit to
   replicas. (Andy Laird, Tomás Fernández Löbbe, Mark Miller)
 
-* SOLR-3844: SolrCore reload can fail because it tries to remove the index 
+* SOLR-3844: SolrCore reload can fail because it tries to remove the index
   write lock while already holding it. (Mark Miller)
 
 * SOLR-3831: Atomic updates do not distribute correctly to other nodes.
   (Jim Musil, Mark Miller)
-  
-* SOLR-3465: Replication causes two searcher warmups. 
+
+* SOLR-3465: Replication causes two searcher warmups.
   (Michael Garski, Mark Miller)
 
 * SOLR-3645: /terms should default to distrib=false. (Nick Cotton, Mark Miller)
@@ -11508,7 +11511,7 @@ Bug Fixes
 * SOLR-3850: DataImportHandler "cacheKey" parameter was incorrectly renamed "cachePk"
   (James Dyer)
 
-* SOLR-3087: Fixed DOMUtil so that code doing attribute validation will 
+* SOLR-3087: Fixed DOMUtil so that code doing attribute validation will
   automatically ignore nodes in the reserved "xml" prefix - in particular this
   fixes some bugs related to xinclude and fieldTypes.
   (Amit Nithian, hossman)
@@ -11518,14 +11521,14 @@ Bug Fixes
 * SOLR-3869: A PeerSync attempt to its replicas by a candidate leader should
   not fail on o.a.http.conn.ConnectTimeoutException. (Mark Miller)
 
-* SOLR-3875: Fixed index boosts on multi-valued fields when docBoost is used 
+* SOLR-3875: Fixed index boosts on multi-valued fields when docBoost is used
   (hossman)
 
 * SOLR-3878: Exception when using open-ended range query with CurrencyField (janhoy)
 
-* SOLR-3891: CacheValue in CachingDirectoryFactory cannot be used outside of 
+* SOLR-3891: CacheValue in CachingDirectoryFactory cannot be used outside of
   solr.core package. (phunt via Mark Miller)
-  
+
 * SOLR-3892: Inconsistent locking when accessing cache in CachingDirectoryFactory
   from RAMDirectoryFactory and MockDirectoryFactory. (phunt via Mark Miller)
 
@@ -11554,21 +11557,21 @@ Other Changes
 * SOLR-2747: Updated changes2html.pl to handle Solr's CHANGES.txt; added
   target 'changes-to-html' to solr/build.xml.
   (Steve Rowe, Robert Muir)
-  
+
 * SOLR-3752: When a leader goes down, have the Overseer clear the leader state
   in cluster.json (Mark Miller)
 
-* SOLR-3751: Add defensive checks for SolrCloud updates and requests that ensure 
+* SOLR-3751: Add defensive checks for SolrCloud updates and requests that ensure
   the local state matches what we can tell the request expected. (Mark Miller)
-  
-* SOLR-3773: Hash based on the external String id rather than the indexed 
+
+* SOLR-3773: Hash based on the external String id rather than the indexed
   representation for distributed updates. (Michael Garski, yonik, Mark Miller)
 
 * SOLR-3780: Maven build: Make solrj tests run separately from solr-core.
   (Steve Rowe)
-  
-* SOLR-3772: Optionally, on cluster startup, we can wait until we see all registered 
-  replicas before running the leader process - or if they all do not come up, 
+
+* SOLR-3772: Optionally, on cluster startup, we can wait until we see all registered
+  replicas before running the leader process - or if they all do not come up,
   N amount of time. (Jan Høydahl, Per Steffensen, Mark Miller)
 
 * SOLR-3750: Optionally, on session expiration, we can explicitly wait some time before
@@ -11579,7 +11582,7 @@ Other Changes
 
 * SOLR-3826: Test framework improvements for specifying coreName on initCore
   (Amit Nithian, hossman)
-  
+
 * SOLR-3749: Allow default UpdateLog syncLevel to be configured by
   solrconfig.xml (Raintung Li, Mark Miller)
 
@@ -11591,8 +11594,8 @@ Other Changes
 
 * SOLR-3871: SyncStrategy should use an executor for the threads it creates to
   request recoveries. (Mark Miller)
-  
-* SOLR-3870: SyncStrategy should have a close so it can abort earlier on 
+
+* SOLR-3870: SyncStrategy should have a close so it can abort earlier on
   shutdown. (Mark Miller)
 
 
@@ -11610,10 +11613,10 @@ Apache ZooKeeper 3.3.6
 Upgrading from Solr 4.0.0-ALPHA
 ----------------------
 
-Solr is now much more strict about requiring that the uniqueKeyField feature 
-(if used) must refer to a field which is not multiValued.  If you upgrade from 
-an earlier version of Solr and see an error that your uniqueKeyField "can not 
-be configured to be multivalued" please add 'multiValued="false"' to the 
+Solr is now much more strict about requiring that the uniqueKeyField feature
+(if used) must refer to a field which is not multiValued.  If you upgrade from
+an earlier version of Solr and see an error that your uniqueKeyField "can not
+be configured to be multivalued" please add 'multiValued="false"' to the
 <field /> declaration for your uniqueKeyField.  See SOLR-3682 for more details.
 
 Detailed Change List
@@ -11626,9 +11629,9 @@ New Features
   iteration marks. (Robert Muir, Christian Moen)
 
 * SOLR-1856: In Solr Cell, literals should override Tika-parsed values.
-  Patch adds a param "literalsOverride" which defaults to true, but can be set 
+  Patch adds a param "literalsOverride" which defaults to true, but can be set
   to "false" to let Tika-parsed values be appended to literal values (Chris Harris, janhoy)
-  
+
 * SOLR-3488: Added a Collection management API for SolrCloud.
   (Tommaso Teofili, Sami Siren, yonik, Mark Miller)
 
@@ -11644,18 +11647,18 @@ New Features
 * SOLR-3562: Add options to remove instance dir or data dir on core unload.
   (Mark Miller, Per Steffensen)
 
-* SOLR-2702: The default directory factory was changed to NRTCachingDirectoryFactory 
+* SOLR-2702: The default directory factory was changed to NRTCachingDirectoryFactory
   which wraps the StandardDirectoryFactory and caches small files for improved
   Near Real-time (NRT) performance. (Mark Miller, yonik)
-  
-* SOLR-2616: Include a sample java util logging configuration file. 
+
+* SOLR-2616: Include a sample java util logging configuration file.
   (David Smiley, Mark Miller)
- 
+
 * SOLR-3460: Add cloud-scripts directory and a zkcli.sh|bat tool for easy scripting
   and interaction with ZooKeeper. (Mark Miller)
 
 * SOLR-1725: StatelessScriptUpdateProcessorFactory allows users to implement
-  the full ScriptUpdateProcessor API using any scripting language with a 
+  the full ScriptUpdateProcessor API using any scripting language with a
   javax.script.ScriptEngineFactory
   (Uri Boness, ehatcher, Simon Rosenthal, hossman)
 
@@ -11670,10 +11673,10 @@ New Features
   lib folder. The factories are automatically made available with SPI.
   (Chris Male, Robert Muir, Uwe Schindler)
 
-* SOLR-3634, SOLR-3635: CoreContainer and CoreAdminHandler will now remember 
-  and report back information about failures to initialize SolrCores.  These 
-  failures will be accessible from the web UI and CoreAdminHandler STATUS 
-  command until they are "reset" by creating/renaming a SolrCore with the 
+* SOLR-3634, SOLR-3635: CoreContainer and CoreAdminHandler will now remember
+  and report back information about failures to initialize SolrCores.  These
+  failures will be accessible from the web UI and CoreAdminHandler STATUS
+  command until they are "reset" by creating/renaming a SolrCore with the
   same name.  (hossman, steffkes)
 
 * SOLR-1280: Added commented-out example of the new script update processor
@@ -11685,43 +11688,43 @@ New Features
 Optimizations
 ----------------------
 
-* SOLR-3708: Add hashCode to ClusterState so that structures built based on the 
+* SOLR-3708: Add hashCode to ClusterState so that structures built based on the
   ClusterState can be easily cached. (Mark Miller)
 
-* SOLR-3709: Cache the url list created from the ClusterState in CloudSolrServer on each 
+* SOLR-3709: Cache the url list created from the ClusterState in CloudSolrServer on each
   request. (Mark Miller, yonik)
-  
-* SOLR-3710: Change CloudSolrServer so that update requests are only sent to leaders by 
+
+* SOLR-3710: Change CloudSolrServer so that update requests are only sent to leaders by
   default. (Mark Miller)
 
 Bug Fixes
 ----------------------
 
-* SOLR-3582: Our ZooKeeper watchers respond to session events as if they are change events, 
+* SOLR-3582: Our ZooKeeper watchers respond to session events as if they are change events,
   creating undesirable side effects. (Trym R. Møller, Mark Miller)
 
 * SOLR-3467: ExtendedDismax escaping is missing several reserved characters
   (Michael Dodsworth via janhoy)
-  
-* SOLR-3587: After reloading a SolrCore, the original Analyzer is still used rather than a new 
+
+* SOLR-3587: After reloading a SolrCore, the original Analyzer is still used rather than a new
   one. (Alexey Serba, yonik, rmuir, Mark Miller)
-  
+
 * LUCENE-4185: Fix a bug where CharFilters were wrongly being applied twice. (Michael Froh, rmuir)
 
 * SOLR-3610: After reloading a core, indexing would fail on any newly added fields to the schema. (Brent Mills, rmuir)
 
 * SOLR-3377: edismax fails to correctly parse a fielded query wrapped by parens.
   This regression was introduced in 3.6.  (Bernd Fehling, Jan Høydahl, yonik)
-  
+
 * SOLR-3621: Fix rare concurrency issue when opening a new IndexWriter for replication or rollback.
   (Mark Miller)
 
-* SOLR-1781: Replication index directories not always cleaned up. 
+* SOLR-1781: Replication index directories not always cleaned up.
   (Markus Jelsma, Terje Sten Bjerkseth, Mark Miller)
 
 * SOLR-3639: Update ZooKeeper to 3.3.6 for a variety of bug fixes. (Mark Miller)
 
-* SOLR-3629: Typo in solr.xml persistence when overriding the solrconfig.xml 
+* SOLR-3629: Typo in solr.xml persistence when overriding the solrconfig.xml
   file name using the "config" attribute prevented the override file from being
   used. (Ryan Zezeski, hossman)
 
@@ -11740,15 +11743,15 @@ Bug Fixes
   did not work correctly across a core reload, and update handler synchronization
   was changed to synchronize on core state since more than on update handler
   can coexist for a single index during a reload. (yonik)
-  
-* SOLR-3663: There are a couple of bugs in the sync process when a leader goes down and a 
+
+* SOLR-3663: There are a couple of bugs in the sync process when a leader goes down and a
   new leader is elected. (Mark Miller)
 
-* SOLR-3623: Fixed inconsistent treatment of third-party dependencies for 
-  solr contribs analysis-extras & uima (hossman) 
+* SOLR-3623: Fixed inconsistent treatment of third-party dependencies for
+  solr contribs analysis-extras & uima (hossman)
 
-* SOLR-3652: Fixed range faceting to error instead of looping infinitely 
-  when 'gap' is zero -- or effectively zero due to floating point arithmetic 
+* SOLR-3652: Fixed range faceting to error instead of looping infinitely
+  when 'gap' is zero -- or effectively zero due to floating point arithmetic
   underflow. (hossman)
 
 * SOLR-3648: Fixed VelocityResponseWriter template loading in SolrCloud mode.
@@ -11758,11 +11761,11 @@ Bug Fixes
 * SOLR-3677: Fixed misleading error message in web ui to distinguish between
   no SolrCores loaded vs. no /admin/ handler available.
   (hossman, steffkes)
-  
-* SOLR-3428: SolrCmdDistributor flushAdds/flushDeletes can cause repeated 
+
+* SOLR-3428: SolrCmdDistributor flushAdds/flushDeletes can cause repeated
   adds/deletes to be sent (Mark Miller, Per Steffensen)
-  
-* SOLR-3647: DistributedQueue should use our Solr zk client rather than the std zk 
+
+* SOLR-3647: DistributedQueue should use our Solr zk client rather than the std zk
   client. ZooKeeper expiration can be permanent otherwise. (Mark Miller)
 
 Other Changes
@@ -11774,7 +11777,7 @@ Other Changes
 
 * SOLR-1770: Move the default core instance directory into a collection1 folder.
   (Mark Miller)
-  
+
 * SOLR-3355: Add shard and collection to SolrCore statistics. (Michael Garski, Mark Miller)
 
 * SOLR-3575: solr.xml should default to persist=true (Mark Miller)
@@ -11782,18 +11785,18 @@ Other Changes
 * SOLR-3563: Unloading all cores in a SolrCloud collection will now cause the removal of
   that collection's meta data from ZooKeeper. (Mark Miller, Per Steffensen)
 
-* SOLR-3599: Add zkClientTimeout to solr.xml so that it's obvious how to change it and so 
+* SOLR-3599: Add zkClientTimeout to solr.xml so that it's obvious how to change it and so
   that you can change it with a system property. (Mark Miller)
 
 * SOLR-3609: Change Solr's expanded webapp directory to be at a consistent path called
   solr-webapp rather than a temporary directory. (Mark Miller)
-  
+
 * SOLR-3600: Raise the default zkClientTimeout from 10 seconds to 15 seconds. (Mark Miller)
 
 * SOLR-3215: Clone SolrInputDocument when distrib indexing so that update processors after
   the distrib update process do not process the document twice. (Mark Miller)
 
-* SOLR-3683: Improved error handling if an <analyzer> contains both an 
+* SOLR-3683: Improved error handling if an <analyzer> contains both an
   explicit class attribute, as well as nested factories. (hossman)
 
 * SOLR-3682: Fail to parse schema.xml if uniqueKeyField is multivalued (hossman)
@@ -11802,19 +11805,19 @@ Other Changes
   Instead, the configuration is loaded and parsed with every import.  This allows the use of
   a different configuration with each import, and makes correcting configuration errors simpler.
   Also, the configuration itself can be passed using the "dataConfig" parameter rather than
-  using a file (this previously worked in debug mode only).  When configuration errors are 
+  using a file (this previously worked in debug mode only).  When configuration errors are
   encountered, the error message is returned in XML format.  (James Dyer)
-  
+
 * SOLR-3439: Make SolrCell easier to use out of the box. Also improves "/browse" to display
-  rich-text documents correctly, along with facets for author and content_type.  
+  rich-text documents correctly, along with facets for author and content_type.
   With the new "content" field, highlighting of body is supported. See also SOLR-3672 for
   easier posting of a whole directory structure. (Jack Krupansky, janhoy)
-  
+
 * SOLR-3579: SolrCloud view should default to the graph view rather than tree view.
   (steffkes, Mark Miller)
 
 ==================  4.0.0-ALPHA ==================
-More information about this release, including any errata related to the 
+More information about this release, including any errata related to the
 release notes, upgrade instructions, or other changes may be found online at:
    https://wiki.apache.org/solr/Solr4.0
 
@@ -11831,7 +11834,7 @@ Apache ZooKeeper 3.3.4
 Upgrading from Solr 3.6-dev
 ----------------------
 
-* The Lucene index format has changed and as a result, once you upgrade, 
+* The Lucene index format has changed and as a result, once you upgrade,
   previous versions of Solr will no longer be able to read your indices.
   In a master/slave configuration, all searchers/slaves should be upgraded
   before the master.  If the master were to be updated first, the older
@@ -11850,13 +11853,13 @@ Upgrading from Solr 3.6-dev
   If q.op is effectively "OR" then mm=0%.  Users who wish to force the
   legacy behavior should set a default value for the 'mm' param in
   their solrconfig.xml file.
-  
+
 * The VelocityResponseWriter is no longer built into the core.  Its JAR and
   dependencies now need to be added (via <lib> or solr/home lib inclusion),
   and it needs to be registered in solrconfig.xml like this:
     <queryResponseWriter name="velocity" class="solr.VelocityResponseWriter"/>
 
-* The update request parameter to choose Update Request Processor Chain is 
+* The update request parameter to choose Update Request Processor Chain is
   renamed from "update.processor" to "update.chain". The old parameter was
   deprecated but still working since Solr3.2, but is now removed
   entirely.
@@ -11868,21 +11871,21 @@ Upgrading from Solr 3.6-dev
   put them in <indexConfig> section - with same syntax as before.
 
 * Two of the SolrServer subclasses in SolrJ were renamed/replaced.
-  CommonsHttpSolrServer is now HttpSolrServer, and 
+  CommonsHttpSolrServer is now HttpSolrServer, and
   StreamingUpdateSolrServer is now ConcurrentUpdateSolrServer.
 
-* The PingRequestHandler no longer looks for a <healthcheck/> option in the 
-  (legacy) <admin> section of solrconfig.xml.  Users who wish to take 
-  advantage of this feature should configure a "healthcheckFile" init param 
-  directly on the  PingRequestHandler.  As part of this change, relative file 
-  paths have been fixed to be resolved against the data dir.  See the example 
+* The PingRequestHandler no longer looks for a <healthcheck/> option in the
+  (legacy) <admin> section of solrconfig.xml.  Users who wish to take
+  advantage of this feature should configure a "healthcheckFile" init param
+  directly on the  PingRequestHandler.  As part of this change, relative file
+  paths have been fixed to be resolved against the data dir.  See the example
   solrconfig.xml and SOLR-1258 for more details.
 
-* Due to low level changes to support SolrCloud, the uniqueKey field can no 
-  longer be populated via <copyField/> or <field default=...> in the 
-  schema.xml.  Users wishing to have Solr automatically generate a uniqueKey 
+* Due to low level changes to support SolrCloud, the uniqueKey field can no
+  longer be populated via <copyField/> or <field default=...> in the
+  schema.xml.  Users wishing to have Solr automatically generate a uniqueKey
   value when adding documents should instead use an instance of
-  solr.UUIDUpdateProcessorFactory in their update processor chain.  See 
+  solr.UUIDUpdateProcessorFactory in their update processor chain.  See
   SOLR-2796 for more details.
 
 
@@ -11895,9 +11898,9 @@ New Features
 * SOLR-3272: Solr filter factory for MorfologikFilter (Polish lemmatisation).
   (Rafał Kuć via Dawid Weiss, Steven Rowe, Uwe Schindler).
 
-* SOLR-571: The autowarmCount for LRUCaches (LRUCache and FastLRUCache) now 
-  supports "percentages" which get evaluated  relative the current size of 
-  the cache when warming happens. 
+* SOLR-571: The autowarmCount for LRUCaches (LRUCache and FastLRUCache) now
+  supports "percentages" which get evaluated  relative the current size of
+  the cache when warming happens.
   (Tomás Fernández Löbbe and hossman)
 
 * SOLR-1932: New relevancy function queries: termfreq, tf, docfreq, idf
@@ -11913,9 +11916,9 @@ New Features
 * LUCENE-2507, SOLR-2571, SOLR-2576: Added DirectSolrSpellChecker, which uses Lucene's
   DirectSpellChecker to retrieve correction candidates directly from the term dictionary using
   levenshtein automata.  (James Dyer, rmuir)
-   
+
 * SOLR-1873, SOLR-2358: SolrCloud - added shared/central config and core/shard management via zookeeper,
-  built-in load balancing, and distributed indexing. 
+  built-in load balancing, and distributed indexing.
   (Jamie Johnson, Sami Siren, Ted Dunning, yonik, Mark Miller)
   Additional Work:
   - SOLR-2324: SolrCloud solr.xml parameters are not persisted by CoreContainer.
@@ -11933,19 +11936,19 @@ New Features
 
 * SOLR-1566: Transforming documents in the ResponseWriters.  This will allow
   for more complex results in responses and open the door for function queries
-  as results. 
+  as results.
   (ryan with patches from grant, noble, cmale, yonik, Jan Høydahl,
   Arul Kalaipandian, Luca Cavanna, hossman)
   - SOLR-2037: Thanks to SOLR-1566, documents boosted by the QueryElevationComponent
     can be marked as boosted.  (gsingers, ryan, yonik)
 
-* SOLR-2396: Add CollationField, which is much more efficient than 
-  the Solr 3.x CollationKeyFilterFactory, and also supports 
+* SOLR-2396: Add CollationField, which is much more efficient than
+  the Solr 3.x CollationKeyFilterFactory, and also supports
   Locale-sensitive range queries. (rmuir)
 
 * SOLR-2338: Add support for using <similarity/> in a schema's fieldType,
   for customizing scoring on a per-field basis. (hossman, yonik, rmuir)
-  
+
 * SOLR-2335: New 'field("...")' function syntax for referring to complex
   field names (containing whitespace or special characters) in functions.
 
@@ -11965,20 +11968,20 @@ New Features
 
 * SOLR-2136: Boolean type added to function queries, along with
   new functions exists(), if(), and(), or(), xor(), not(), def(),
-  and true and false constants. (yonik) 
+  and true and false constants. (yonik)
 
 * SOLR-2491: Add support for using spellcheck collation in conjunction
   with grouping. Note that the number of hits returned for collations
   is the number of ungrouped hits.  (James Dyer via rmuir)
-  
+
 * SOLR-1298: Return FunctionQuery as pseudo field.  The solr 'fl' param
   now supports functions.  For example:  fl=id,sum(x,y) -- NOTE: only
   functions with fast random access are recommended. (yonik, ryan)
-  
+
 * SOLR-705: Optionally return shard info with each document in distributed
-  search.  Use fl=id,[shard]  to return the shard url.  (ryan)  
+  search.  Use fl=id,[shard]  to return the shard url.  (ryan)
 
-* SOLR-2417: Add explain info directly to return documents using 
+* SOLR-2417: Add explain info directly to return documents using
   ?fl=id,[explain] (ryan)
 
 * SOLR-2533: Converted ValueSource.ValueSourceSortField over to new rewriteable Lucene
@@ -11999,20 +12002,20 @@ New Features
 * SOLR-2656: realtime-get, efficiently retrieves the latest stored fields for specified
   documents, even if they are not yet searchable (i.e. without reopening a searcher)
   (yonik)
-  
+
 * SOLR-2703: Added support for Lucene's "surround" query parser. (Simon Rosenthal, ehatcher)
 
-* SOLR-2754: Added factories for several ranking algorithms: 
+* SOLR-2754: Added factories for several ranking algorithms:
     - BM25SimilarityFactory: Okapi BM25
     - DFRSimilarityFactory: Divergence from Randomness models
     - IBSimilarityFactory: Information-based models
     - LMDirichletSimilarity: LM with Dirichlet smoothing
     - LMJelinekMercerSimilarity: LM with Jelinek-Mercer smoothing
   (David Mark Nemeskey, Robert Muir)
- 
+
 * SOLR-2134 Trie* fields should support sortMissingLast=true, and deprecate Sortable* Field Types
   (Ryan McKinley, Mike McCandless, Uwe Schindler, Erick Erickson)
-    
+
 * SOLR-2438 added MultiTermAwareComponent to the various classes to allow automatic lowercasing
   for multiterm queries (wildcards, regex, prefix, range, etc). You can now optionally specify a
   "multiterm" analyzer in our schema.xml, but Solr should "do the right thing" if you don't
@@ -12029,7 +12032,7 @@ New Features
   a hard commit.  commitWithin now only invokes a softCommit. (yonik)
 
 * SOLR-2802: New FieldMutatingUpdateProcessor and Factory to simplify the
-  development of UpdateProcessors that modify field values of documents as 
+  development of UpdateProcessors that modify field values of documents as
   they are indexed. Also includes several useful new implementations:
     - RemoveBlankFieldUpdateProcessorFactory
     - TrimFieldUpdateProcessorFactory
@@ -12051,7 +12054,7 @@ New Features
 * SOLR-2459: Expose LogLevel selection with a RequestHandler rather then servlet
   (Stefan Matheis, Upayavira, ryan)
 
-* SOLR-3134: Include shard info in distributed response when shards.info=true 
+* SOLR-3134: Include shard info in distributed response when shards.info=true
   (Russell Black, ryan)
 
 * SOLR-2898: Support grouped faceting. (Martijn van Groningen)
@@ -12075,18 +12078,18 @@ New Features
 
 * SOLR-3255: OpenExchangeRates.Org Exchange Rate Provider for CurrencyField (janhoy)
 
-* SOLR-3358: Logging events are captured and available from the /admin/logging 
+* SOLR-3358: Logging events are captured and available from the /admin/logging
   request handler. (ryan)
-  
+
 * SOLR-1535: PreAnalyzedField type provides a functionality to index (and optionally store)
   field content that was already processed and split into tokens using some external processing
   chain. Serialization format is pluggable, and defaults to JSON. (ab)
 
-* SOLR-3363: Consolidated Exceptions in Analysis Factories so they only throw 
+* SOLR-3363: Consolidated Exceptions in Analysis Factories so they only throw
   InitializationExceptions (Chris Male)
 
-* SOLR-2690: New support for a "TZ" request param which overrides the TimeZone 
-  used when rounding Dates in DateMath expressions for the entire request 
+* SOLR-2690: New support for a "TZ" request param which overrides the TimeZone
+  used when rounding Dates in DateMath expressions for the entire request
   (all date range queries and date faceting is affected).  The default TZ
   is still UTC.  (David Schlotfeldt, hossman)
 
@@ -12105,14 +12108,14 @@ New Features
   other existing fields unchanged.  All source fields must be stored for
   this feature to work correctly.  (Ryan McKinley, Erik Hatcher, yonik)
 
-* SOLR-2857: Support XML,CSV,JSON, and javabin in a single RequestHandler and 
+* SOLR-2857: Support XML,CSV,JSON, and javabin in a single RequestHandler and
   choose the correct ContentStreamLoader based on Content-Type header.  This
   also deprecates the existing [Xml,JSON,CSV,Binary,Xslt]UpdateRequestHandler.
   (ryan)
-  
+
 * SOLR-2585: Context-Sensitive Spelling Suggestions & Collations.  This adds support
-  for the "spellcheck.alternativeTermCount" & "spellcheck.maxResultsForSuggest" 
-  parameters, letting users receive suggestions even when all the queried terms 
+  for the "spellcheck.alternativeTermCount" & "spellcheck.maxResultsForSuggest"
+  parameters, letting users receive suggestions even when all the queried terms
   exist in the dictionary.  This differs from "spellcheck.onlyMorePopular" in
   that the suggestions need not consist entirely of terms with a greater document
   frequency than the queried terms. (James Dyer)
@@ -12122,20 +12125,20 @@ New Features
   prior "FieldName^boost" syntax is still accepted.  In such cases the value on the
   "ps" parameter serves as the default slop.  (Ron Mayer via James Dyer)
 
-* SOLR-3495: New UpdateProcessors have been added to create default values for 
-  configured fields.  These works similarly to the <field default="..."/> 
-  option in schema.xml, but are applied in the UpdateProcessorChain, so they 
-  may be used prior to other UpdateProcessors, or to generate a uniqueKey field 
+* SOLR-3495: New UpdateProcessors have been added to create default values for
+  configured fields.  These works similarly to the <field default="..."/>
+  option in schema.xml, but are applied in the UpdateProcessorChain, so they
+  may be used prior to other UpdateProcessors, or to generate a uniqueKey field
   value when using the DistributedUpdateProcessor (ie: SolrCloud)
     TimestampUpdateProcessorFactory
     UUIDUpdateProcessorFactory
     DefaultValueUpdateProcessorFactory
   (hossman)
-  
-* SOLR-2993: Add WordBreakSolrSpellChecker to offer suggestions by combining adjacent 
-  query terms and/or breaking terms into multiple words.  This spellchecker can be 
-  configured with a traditional checker (ie: DirectSolrSpellChecker).  The results 
-  are combined and collations can contain a mix of corrections from both spellcheckers.  
+
+* SOLR-2993: Add WordBreakSolrSpellChecker to offer suggestions by combining adjacent
+  query terms and/or breaking terms into multiple words.  This spellchecker can be
+  configured with a traditional checker (ie: DirectSolrSpellChecker).  The results
+  are combined and collations can contain a mix of corrections from both spellcheckers.
   (James Dyer)
 
 * SOLR-3508: Simplify JSON update format for deletes as well as allow
@@ -12151,8 +12154,8 @@ New Features
   in cases where testing spellcheck collations for result counts should use different
   parameters from the main query (James Dyer)
 
-* SOLR-2599: CloneFieldUpdateProcessorFactory provides similar functionality 
-  to schema.xml's <copyField/> declaration but as an update processor that can 
+* SOLR-2599: CloneFieldUpdateProcessorFactory provides similar functionality
+  to schema.xml's <copyField/> declaration but as an update processor that can
   be combined with other processors in any order. (Jan Høydahl & hossman)
 
 * SOLR-3351: eDismax: ps2 and ps3 params (janhoy)
@@ -12160,8 +12163,8 @@ New Features
 * SOLR-3542: Add WeightedFragListBuilder for FVH and set it to default fragListBuilder
   in example solrconfig.xml. (Sebastian Lutze, koji)
 
-* SOLR-2396: Add ICUCollationField to contrib/analysis-extras, which is much 
-  more efficient than the Solr 3.x ICUCollationKeyFilterFactory, and also 
+* SOLR-2396: Add ICUCollationField to contrib/analysis-extras, which is much
+  more efficient than the Solr 3.x ICUCollationKeyFilterFactory, and also
   supports Locale-sensitive range queries.  (rmuir)
 
 
@@ -12179,11 +12182,11 @@ Optimizations
 * SOLR-2092: Speed up single-valued and multi-valued "fc" faceting. Typical
   improvement is 5%, but can be much greater (up to 10x faster) when facet.offset
   is very large (deep paging). (yonik)
-  
+
 * SOLR-2193, SOLR-2565: The default Solr update handler has been improved so
   that it uses fewer locks, keeps the IndexWriter open rather than closing it
-  on each commit (ie commits no longer wait for background merges to complete), 
-  works with SolrCore to provide faster 'soft' commits, and has an improved API 
+  on each commit (ie commits no longer wait for background merges to complete),
+  works with SolrCore to provide faster 'soft' commits, and has an improved API
   that requires less instanceof special casing. (Mark Miller, Robert Muir)
   Additional Work:
   - SOLR-2697: commit and autocommit operations don't reset
@@ -12196,9 +12199,9 @@ Optimizations
 Bug Fixes
 ----------------------
 * SOLR-3139: Make ConcurrentUpdateSolrServer send UpdateRequest.getParams()
-  as HTTP request params (siren) 
+  as HTTP request params (siren)
 
-* SOLR-3165: Cannot use DIH in Solrcloud + Zookeeper (Alexey Serba, 
+* SOLR-3165: Cannot use DIH in Solrcloud + Zookeeper (Alexey Serba,
   Mark Miller, siren)
 
 * SOLR-3068: Occasional NPE in ThreadDumpHandler (siren)
@@ -12229,7 +12232,7 @@ Bug Fixes
 
 * SOLR-2275: fix DisMax 'mm' parsing to be tolerant of whitespace
   (Erick Erickson via hossman)
-  
+
 * SOLR-2193, SOLR-2565, SOLR-2651: SolrCores now properly share IndexWriters across SolrCore reloads.
   (Mark Miller, Robert Muir)
   Additional Work:
@@ -12241,25 +12244,25 @@ Bug Fixes
 
 * SOLR-2654: Directorys used by a SolrCore are now closed when they are no longer used.
   (Mark Miller)
-  
+
 * SOLR-2854: Now load URL content stream data (via stream.url) when called for during request handling,
   rather than loading URL content streams automatically regardless of use.
   (David Smiley and Ryan McKinley via ehatcher)
-  
+
 * SOLR-2829: Fix problem with false-positives due to incorrect
-  equals methods. (Yonik Seeley, Hossman, Erick Erickson. 
-  Marc Tinnemeyer caught the bug)  
+  equals methods. (Yonik Seeley, Hossman, Erick Erickson.
+  Marc Tinnemeyer caught the bug)
 
 * SOLR-2848: Removed 'instanceof AbstractLuceneSpellChecker' hacks from distributed spellchecking code,
   and added a merge() method to SolrSpellChecker instead. Previously if you extended SolrSpellChecker
   your spellchecker would not work in distributed fashion.  (James Dyer via rmuir)
-  
+
 * SOLR-2509: StringIndexOutOfBoundsException in the spellchecker collate when the term contains
   a hyphen. (Thomas Gambier caught the bug, Steffen Godskesen did the patch, via Erick Erickson)
 
 * SOLR-1730: Made it clearer when a core failed to load as well as better logging when the
   QueryElevationComponent fails to properly initialize (gsingers)
-  
+
 * SOLR-1520: QueryElevationComponent now supports non-string ids (gsingers)
 
 * SOLR-3037: When using binary format in solrj the codec screws up parameters
@@ -12267,10 +12270,10 @@ Bug Fixes
 
 * SOLR-3062: A join in the main query was not respecting any filters pushed
   down to it via acceptDocs since LUCENE-1536. (Mike Hugo, yonik)
-  
+
 * SOLR-3214: If you use multiple fl entries rather than a comma separated list, all but the first
   entry can be ignored if you are using distributed search. (Tomás Fernández Löbbe via Mark Miller)
- 
+
 * SOLR-3352: eDismax: pf2 should kick in for a query with 2 terms (janhoy)
 
 * SOLR-3361: ReplicationHandler "maxNumberOfBackups" doesn't work if backups are triggered on commit
@@ -12289,17 +12292,17 @@ Bug Fixes
 * SOLR-3454: Exception when using result grouping with main=true and using
   wt=javabin. (Ludovic Boutros, Martijn van Groningen)
 
-* SOLR-3446: Better errors when PatternTokenizerFactory is configured with 
-  an invalid pattern, and include the 'name' whenever possible in plugin init 
+* SOLR-3446: Better errors when PatternTokenizerFactory is configured with
+  an invalid pattern, and include the 'name' whenever possible in plugin init
   error messages. (hossman)
 
 * LUCENE-4075: Cleaner path usage in TestXPathEntityProcessor
   (Greg Bowyer via hossman)
-  
-* SOLR-2923: IllegalArgumentException when using useFilterForSortedQuery on an 
+
+* SOLR-2923: IllegalArgumentException when using useFilterForSortedQuery on an
   empty index. (Adrien Grand via Mark Miller)
 
-* SOLR-2352: Fixed TermVectorComponent so that it will not fail if the fl 
+* SOLR-2352: Fixed TermVectorComponent so that it will not fail if the fl
   param contains globs or psuedo-fields (hossman)
 
 * SOLR-3541: add missing solrj dependencies to binary packages.
@@ -12308,19 +12311,19 @@ Bug Fixes
 * SOLR-3522: fixed parsing of the 'literal()' function (hossman)
 
 * SOLR-3548: Fixed a bug in the cachability of queries using the {!join}
-  parser or the strdist() function, as well as some minor improvements to 
+  parser or the strdist() function, as well as some minor improvements to
   the hashCode implementation of {!bbox} and {!geofilt} queries.
   (hossman)
 
 * SOLR-3470: contrib/clustering: custom Carrot2 tokenizer and stemmer factories
   are respected now (Stanislaw Osinski, Dawid Weiss)
 
-* SOLR-3430: Added a new DIH test against a real SQL database.  Fixed problems 
-  revealed by this new test related to  the expanded cache support added to 
+* SOLR-3430: Added a new DIH test against a real SQL database.  Fixed problems
+  revealed by this new test related to  the expanded cache support added to
   3.6/SOLR-2382 (James Dyer)
-             
-* SOLR-1958: When using the MailEntityProcessor, import would fail if 
-  fetchMailsSince was not specified. (Max Lynch via James Dyer) 
+
+* SOLR-1958: When using the MailEntityProcessor, import would fail if
+  fetchMailsSince was not specified. (Max Lynch via James Dyer)
 
 * SOLR-4289: Admin UI - JVM memory bar - dark grey "used" width is too small
   (steffkes, elyograg)
@@ -12350,15 +12353,15 @@ Other Changes
   and load it back on init. This means that large tries don't have to be
   rebuilt on every commit or core reload. (ab)
 
-* SOLR-2413: Support for returning multi-valued fields w/o <arr> tag 
-  in the XMLResponseWriter was removed.  XMLResponseWriter only 
+* SOLR-2413: Support for returning multi-valued fields w/o <arr> tag
+  in the XMLResponseWriter was removed.  XMLResponseWriter only
   no longer work with values less then 2.2 (ryan)
 
 * SOLR-2423: FieldType argument changed from String to Object
   Conversion from SolrInputDocument > Object > Fieldable is now managed
   by FieldType rather then DocumentBuilder.  (ryan)
 
-* SOLR-2461: QuerySenderListener and AbstractSolrEventListener are 
+* SOLR-2461: QuerySenderListener and AbstractSolrEventListener are
   now public (hossman)
 
 * LUCENE-2995: Moved some spellchecker and suggest APIs to modules/suggest:
@@ -12380,47 +12383,47 @@ Other Changes
 * SOLR-1825: SolrQuery.addFacetQuery now enables facets automatically, like
   addFacetField (Chris Male)
 
-* SOLR-2663: FieldTypePluginLoader has been refactored out of IndexSchema 
+* SOLR-2663: FieldTypePluginLoader has been refactored out of IndexSchema
   and made public. (hossman)
 
 * SOLR-2331,SOLR-2691: Refactor CoreContainer's SolrXML serialization code and improve testing
   (Yury Kats, hossman, Mark Miller)
-  
+
 * SOLR-2698: Enhance CoreAdmin STATUS command to return index size.
   (Yury Kats, hossman, Mark Miller)
-  
+
 * SOLR-2654: The same Directory instance is now always used across a SolrCore so that
   it's easier to add other DirectoryFactory's without static caching hacks.
   (Mark Miller)
 
 * LUCENE-3286: 'luke' ant target has been disabled due to incompatibilities with XML
   queryparser location (Chris Male)
-  
-* SOLR-1897: The data dir from the core descriptor should override the data dir from 
+
+* SOLR-1897: The data dir from the core descriptor should override the data dir from
   the solrconfig.xml rather than the other way round. (Mark Miller)
 
 * SOLR-2756: Maven configuration: Excluded transitive stax:stax-api dependency
   from org.codehaus.woodstox:wstx-asl dependency. (David Smiley via Steve Rowe)
 
-* SOLR-2588: Moved VelocityResponseWriter back to contrib module in order to 
+* SOLR-2588: Moved VelocityResponseWriter back to contrib module in order to
   remove it as a mandatory core dependency.  (ehatcher)
-  
+
 * SOLR-2862: More explicit lexical resources location logged if Carrot2 clustering
   extension is used. Fixed solr. impl. of IResource and IResourceLookup. (Dawid Weiss)
 
 * SOLR-1123: Changed JSONResponseWriter to now use application/json as its Content-Type
   by default.  However the Content-Type can be overwritten and is set to text/plain in
   the example configuration. (Uri Boness, Chris Male)
-  
+
 * SOLR-2607: Removed deprecated client/ruby directory, which included solr-ruby and flare.
   (ehatcher)
-  
+
 * SOLR-3032: logOnce from SolrException logOnce and all the supporting
   structure is gone. abortOnConfigurationError is also gone as it is no longer referenced.
-  Errors should be caught and logged at the top-most level or logged and NOT propagated up the 
+  Errors should be caught and logged at the top-most level or logged and NOT propagated up the
   chain. (Erick Erickson)
 
-* SOLR-2105: Remove support for deprecated "update.processor" (since 3.2), in favor of 
+* SOLR-2105: Remove support for deprecated "update.processor" (since 3.2), in favor of
   "update.chain" (janhoy)
 
 * SOLR-3005: Default QueryResponseWriters are now initialized via init() with an empty
@@ -12435,7 +12438,7 @@ Other Changes
 
 * SOLR-3254: Upgrade Solr to Tika 1.1 (janhoy)
 
-* SOLR-3329: Dropped getSourceID() from SolrInfoMBean and using 
+* SOLR-3329: Dropped getSourceID() from SolrInfoMBean and using
   getClass().getPackage().getSpecificationVersion() for Version. (ryan)
 
 * SOLR-3302: Upgraded SLF4j to version 1.6.4 (hossman)
@@ -12450,27 +12453,27 @@ Other Changes
 
 * SOLR-3388: HTTP caching is now disabled by default for RequestUpdateHandlers. (ryan)
 
-* SOLR-3309: web.xml now specifies metadata-complete=true (which requires 
-  Servlet 2.5) to prevent servlet containers from scanning class annotations 
+* SOLR-3309: web.xml now specifies metadata-complete=true (which requires
+  Servlet 2.5) to prevent servlet containers from scanning class annotations
   on startup.  This allows for faster startup times on some servlet containers.
   (Bill Bell, hossman)
 
-* SOLR-1893: Refactored some common code from LRUCache and FastLRUCache into 
+* SOLR-1893: Refactored some common code from LRUCache and FastLRUCache into
   SolrCacheBase (Tomás Fernández Löbbe via hossman)
 
 * SOLR-3403: Deprecated Analysis Factories now log their own deprecation messages.
   No logging support is provided by Factory parent classes. (Chris Male)
 
-* SOLR-1258: PingRequestHandler is now directly configured with a 
-  "healthcheckFile" instead of looking for the legacy 
-  <admin><healthcheck/></admin> syntax.  Filenames specified as relative 
-  paths have been fixed so that they are resolved against the data dir 
+* SOLR-1258: PingRequestHandler is now directly configured with a
+  "healthcheckFile" instead of looking for the legacy
+  <admin><healthcheck/></admin> syntax.  Filenames specified as relative
+  paths have been fixed so that they are resolved against the data dir
   instead of the CWD of the java process. (hossman)
 
 * SOLR-3083: JMX beans now report Numbers as numeric values rather then String
   (Tagged Siteops, Greg Bowyer via ryan)
 
-* SOLR-2796: Due to low level changes to support SolrCloud, the uniqueKey 
+* SOLR-2796: Due to low level changes to support SolrCloud, the uniqueKey
   field can no longer be populated via <copyField/> or <field default=...>
   in the schema.xml.
 
@@ -12478,12 +12481,12 @@ Other Changes
   when 'qf' is absent.  And if neither is present nor the schema default search field
   then an exception will be thrown now. (dsmiley)
 
-* SOLR-3262: The "threads" feature of DIH is removed (deprecated in Solr 3.6) 
+* SOLR-3262: The "threads" feature of DIH is removed (deprecated in Solr 3.6)
   (James Dyer)
 
-* SOLR-3422: Refactored DIH internal data classes.  All entities in 
+* SOLR-3422: Refactored DIH internal data classes.  All entities in
   data-config.xml must have a name (James Dyer)
- 
+
 Documentation
 ----------------------
 
@@ -12501,7 +12504,7 @@ Bug Fixes
   (Tom Burton-West, Robert Muir)
 
 ==================  3.6.1  ==================
-More information about this release, including any errata related to the 
+More information about this release, including any errata related to the
 release notes, upgrade instructions, or other changes may be found online at:
    https://wiki.apache.org/solr/Solr3.6.1
 
@@ -12510,7 +12513,7 @@ Bug Fixes
 * LUCENE-3969: Throw IAE on bad arguments that could cause confusing errors in
   PatternTokenizer. CommonGrams populates PositionLengthAttribute correctly.
   (Uwe Schindler, Mike McCandless, Robert Muir)
-  
+
 * SOLR-3361: ReplicationHandler "maxNumberOfBackups" doesn't work if backups are triggered on commit
   (James Dyer, Tomás Fernández Löbbe)
 
@@ -12529,11 +12532,11 @@ Bug Fixes
 * SOLR-3470: contrib/clustering: custom Carrot2 tokenizer and stemmer factories
   are respected now (Stanislaw Osinski, Dawid Weiss)
 
-* SOLR-3360: More DIH bug fixes for the deprecated "threads" parameter.  
+* SOLR-3360: More DIH bug fixes for the deprecated "threads" parameter.
   (Mikhail Khludnev, Claudio R, via James Dyer)
 
-* SOLR-3430: Added a new DIH test against a real SQL database.  Fixed problems 
-  revealed by this new test related to the expanded cache support added to 
+* SOLR-3430: Added a new DIH test against a real SQL database.  Fixed problems
+  revealed by this new test related to the expanded cache support added to
   3.6/SOLR-2382 (James Dyer)
 
 * SOLR-3336: SolrEntityProcessor substitutes most variables at query time.
@@ -12541,7 +12544,7 @@ Bug Fixes
 
 
 ==================  3.6.0  ==================
-More information about this release, including any errata related to the 
+More information about this release, including any errata related to the
 release notes, upgrade instructions, or other changes may be found online at:
    https://wiki.apache.org/solr/Solr3.6
 
@@ -12581,10 +12584,10 @@ Upgrading from Solr 3.5
   schema.xml is now considered deprecated.  Instead you are encouraged to specify these via the "df"
   and "q.op" parameters in your request handler definition.  (David Smiley)
 
-* Bugs found and fixed in the SignatureUpdateProcessor that previously caused 
-  some documents to produce the same signature even when the configured fields 
-  contained distinct (non-String) values.  Users of SignatureUpdateProcessor 
-  are strongly advised that they should re-index as document signatures may 
+* Bugs found and fixed in the SignatureUpdateProcessor that previously caused
+  some documents to produce the same signature even when the configured fields
+  contained distinct (non-String) values.  Users of SignatureUpdateProcessor
+  are strongly advised that they should re-index as document signatures may
   have now changed. (see SOLR-3200 & SOLR-3226 for details)
 
 New Features
@@ -12601,7 +12604,7 @@ New Features
 
 * SOLR-1565: StreamingUpdateSolrServer supports RequestWriter API and therefore, javabin update
   format (shalin)
-  
+
 * SOLR-2438 added MultiTermAwareComponent to the various classes to allow automatic lowercasing
   for multiterm queries (wildcards, regex, prefix, range, etc). You can now optionally specify a
   "multiterm" analyzer in our schema.xml, but Solr should "do the right thing" if you don't
@@ -12618,7 +12621,7 @@ New Features
   Solr will use it as the root name for all MBeans Solr exposes via
   JMX.  The default root name is "solr" followed by the core name.
   (Constantijn Visinescu, hossman)
-  
+
 * SOLR-2906: Added LFU cache options to Solr. (Shawn Heisey via Erick Erickson)
 
 * SOLR-3036: Ability to specify overwrite=false on the URL for XML updates.
@@ -12626,12 +12629,12 @@ New Features
 
 * SOLR-2603: Add the encoding function for alternate fields in highlighting.
   (Massimo Schiavon, koji)
-  
+
 * SOLR-1729: Evaluation of NOW for date math is done only once per request for
   consistency, and is also propagated to shards in distributed search.
   Adding a parameter NOW=<time_in_ms> to the request will override the
   current time.  (Peter Sturge, yonik, Simon Willnauer)
-  
+
 * SOLR-1709: Distributed support for Date and Numeric Range Faceting
   (Peter Sturge, David Smiley, hossman, Simon Willnauer)
 
@@ -12643,11 +12646,11 @@ New Features
   See the 'text_ja' fieldtype in the example to get started.
   (Christian Moen, Masaru Hasegawa via Robert Muir)
 
-* SOLR-1860: StopFilterFactory, CommonGramsFilterFactory, and 
+* SOLR-1860: StopFilterFactory, CommonGramsFilterFactory, and
   CommonGramsQueryFilterFactory can optionally read stopwords in Snowball
   format (specify format="snowball").  (Robert Muir)
 
-* SOLR-3105: ElisionFilterFactory optionally allows the parameter 
+* SOLR-3105: ElisionFilterFactory optionally allows the parameter
   ignoreCase (default=false).  (Robert Muir)
 
 * LUCENE-3714: Add WFSTLookupFactory, a suggester that uses a weighted FST
@@ -12656,7 +12659,7 @@ New Features
 * SOLR-3143: Add SuggestQueryConverter, a QueryConverter intended for
   auto-suggesters. (Robert Muir)
 
-* SOLR-3033: ReplicationHandler's backup command now supports a 'maxNumberOfBackups' 
+* SOLR-3033: ReplicationHandler's backup command now supports a 'maxNumberOfBackups'
   init param that can be used to delete all but the most recent N backups. (Torsten Krah, James Dyer)
 
 * SOLR-2202: Currency FieldType, whith support for currencies and exchange rates
@@ -12687,29 +12690,29 @@ New Features
   support numeric collation, ignore punctuation/whitespace, ignore accents but
   not case, control whether upper/lowercase values are sorted first, etc.  (rmuir)
 
-* SOLR-2346: Add a chance to set content encoding explicitly via content type 
-  of stream for extracting request handler.  This is convenient when Tika's 
-  auto detector cannot detect encoding, especially the text file is too short 
+* SOLR-2346: Add a chance to set content encoding explicitly via content type
+  of stream for extracting request handler.  This is convenient when Tika's
+  auto detector cannot detect encoding, especially the text file is too short
   to detect encoding. (koji)
 
 * SOLR-1499: Added SolrEntityProcessor that imports data from another Solr core
   or instance based on a specified query.
-  (Lance Norskog, Erik Hatcher, Pulkit Singhal, Ahmet Arslan, Luca Cavanna, 
+  (Lance Norskog, Erik Hatcher, Pulkit Singhal, Ahmet Arslan, Luca Cavanna,
   Martijn van Groningen)
 
-* SOLR-3190: Minor improvements to SolrEntityProcessor. Add more consistency 
-  between solr parameters and parameters used in SolrEntityProcessor and 
+* SOLR-3190: Minor improvements to SolrEntityProcessor. Add more consistency
+  between solr parameters and parameters used in SolrEntityProcessor and
   ability to specify a custom HttpClient instance.
   (Luca Cavanna via Martijn van Groningen)
 
-* SOLR-2382: Added pluggable cache support to DIH so that any Entity can be 
-  made cache-able by adding the "cacheImpl" parameter.  Include 
-  "SortedMapBackedCache" to provide in-memory caching (as previously this was 
-  the only option when using CachedSqlEntityProcessor).  Users can provide 
-  their own implementations of DIHCache for other caching strategies.  
+* SOLR-2382: Added pluggable cache support to DIH so that any Entity can be
+  made cache-able by adding the "cacheImpl" parameter.  Include
+  "SortedMapBackedCache" to provide in-memory caching (as previously this was
+  the only option when using CachedSqlEntityProcessor).  Users can provide
+  their own implementations of DIHCache for other caching strategies.
   Deprecate CachedSqlEntityProcessor in favor of specifing "cacheImpl" with
-  SqlEntityProcessor.  Make SolrWriter implement DIHWriter and allow the 
-  possibility of pluggable Writers (DIH writing to something other than Solr). 
+  SqlEntityProcessor.  Make SolrWriter implement DIHWriter and allow the
+  possibility of pluggable Writers (DIH writing to something other than Solr).
   (James Dyer, Noble Paul)
 
 
@@ -12722,7 +12725,7 @@ Optimizations
 * SOLR-3012: Move System.getProperty("type") in postData() to main() and add type argument so that
   the client applications of SimplePostTool can set content type via method argument. (koji)
 
-* SOLR-2888: FSTSuggester refactoring: internal storage is now UTF-8, 
+* SOLR-2888: FSTSuggester refactoring: internal storage is now UTF-8,
   external sorting (on disk) prevents OOMs even with large data sets
   (the bottleneck is now FST construction), code cleanups and API cleanups.
   (Dawid Weiss, Robert Muir)
@@ -12748,7 +12751,7 @@ Bug Fixes
 * SOLR-2955: Fixed IllegalStateException when querying with group.sort=score desc in sharded
              environment. (Steffen Elberg Godskesen, Martijn van Groningen)
 
-* SOLR-2956: Fixed inconsistencies in the flags (and flag key) reported by 
+* SOLR-2956: Fixed inconsistencies in the flags (and flag key) reported by
   the LukeRequestHandler (hossman)
 
 * SOLR-1730: Made it clearer when a core failed to load as well as better logging when the
@@ -12756,13 +12759,13 @@ Bug Fixes
 
 * SOLR-1520: QueryElevationComponent now supports non-string ids (gsingers)
 
-* SOLR-3024: Fixed JSONTestUtil.matchObj, in previous releases it was not 
+* SOLR-3024: Fixed JSONTestUtil.matchObj, in previous releases it was not
   respecting the 'delta' arg (David Smiley via hossman)
-  
-* SOLR-2542: Fixed DIH Context variables which were broken for all scopes other 
+
+* SOLR-2542: Fixed DIH Context variables which were broken for all scopes other
   then SCOPE_ENTITY (Linbin Chen & Frank Wesemann via hossman)
 
-* SOLR-3042: Fixed Maven Jetty plugin configuration. 
+* SOLR-3042: Fixed Maven Jetty plugin configuration.
   (David Smiley via Steve Rowe)
 
 * SOLR-2970: CSV ResponseWriter returns fields defined as stored=false in schema (janhoy)
@@ -12817,7 +12820,7 @@ Bug Fixes
 * SOLR-3073: Fixed 'Invalid UUID string' error when having an UUID field as
   the unique key and executing a distributed grouping request. (Devon Krisman, Martijn van Groningen)
 
-* SOLR-3084: Fixed initialization error when using 
+* SOLR-3084: Fixed initialization error when using
   <queryResponseWriter default="true" ... /> (Bernd Fehling and hossman)
 
 * SOLR-3109: Fixed numerous redundant shard requests when using distributed grouping.
@@ -12828,7 +12831,7 @@ Bug Fixes
 
 * SOLR-2909: Add support for ResourceLoaderAware tokenizerFactories in synonym
   filter factories. (Tom Klonikowski, Jun Ohtani via Koji Sekiguchi)
-  
+
 * SOLR-3168: ReplicationHandler "numberToKeep" & "maxNumberOfBackups" parameters
   would keep only 1 backup, even if more than 1 was specified (Neil Hooey, James Dyer)
 
@@ -12839,52 +12842,52 @@ Bug Fixes
 
 * SOLR-2124: Do not log stack traces for "Service Disabled" / 503 Exceptions (PingRequestHandler, etc)
   (James Dyer, others)
-  
-* SOLR-3260: DataImportHandler: ScriptTransformer gives better error messages when 
+
+* SOLR-3260: DataImportHandler: ScriptTransformer gives better error messages when
   problems arise on initialization (no Script Engine, invalid script, etc). (James Dyer)
 
 * SOLR-2959: edismax now respects the magic fields '_val_' and '_query_'
   (Michael Watts, hossman)
 
-* SOLR-3074: fix SolrPluginUtils.docListToSolrDocumentList to respect the 
-  list of fields specified.  This fix also deprecates 
-  DocumentBuilder.loadStoredFields which is not used anywhere in Solr, 
+* SOLR-3074: fix SolrPluginUtils.docListToSolrDocumentList to respect the
+  list of fields specified.  This fix also deprecates
+  DocumentBuilder.loadStoredFields which is not used anywhere in Solr,
   and was fundamentally broken/bizarre.
   (hossman, Ahmet Arslan)
 
 * SOLR-2291: fix JSONWriter to respect field list when writing SolrDocuments
   (Ahmet Arslan via hossman)
 
-* SOLR-3264: Fix CoreContainer and SolrResourceLoader logging to be more 
-  clear about when SolrCores are being created, and stop misleading people 
+* SOLR-3264: Fix CoreContainer and SolrResourceLoader logging to be more
+  clear about when SolrCores are being created, and stop misleading people
   about SolrCore instanceDir's being the "Solr Home Dir" (hossman)
 
 * SOLR-3046: Fix whitespace typo in DIH response "Time taken" (hossman)
 
-* SOLR-3261: Fix edismax to respect query operators when literal colons 
+* SOLR-3261: Fix edismax to respect query operators when literal colons
   are used in query string.  (Juan Grande via hossman)
 
-* SOLR-3226: Fix SignatureUpdateProcessor to no longer ignore non-String 
+* SOLR-3226: Fix SignatureUpdateProcessor to no longer ignore non-String
   field values (Spyros Kapnissis, hossman)
 
-* SOLR-3200: Fix SignatureUpdateProcessor "all fields" mode to use all 
-  fields of each document instead of the fields specified by the first 
+* SOLR-3200: Fix SignatureUpdateProcessor "all fields" mode to use all
+  fields of each document instead of the fields specified by the first
   document indexed (Spyros Kapnissis via hossman)
-  
-* SOLR-3316: Distributed grouping failed when rows parameter was set to 0 and 
+
+* SOLR-3316: Distributed grouping failed when rows parameter was set to 0 and
   sometimes returned a wrong hit count as matches. (Cody Young, Martijn van Groningen)
 
-* SOLR-3107: contrib/langid: When using the LangDetect implementation of 
-  langid, set the random seed to 0, so that the same document is detected as 
-  the same language with the same probability every time.  
+* SOLR-3107: contrib/langid: When using the LangDetect implementation of
+  langid, set the random seed to 0, so that the same document is detected as
+  the same language with the same probability every time.
   (Christian Moen via rmuir)
 
-* SOLR-2937: Configuring the number of contextual snippets used for 
+* SOLR-2937: Configuring the number of contextual snippets used for
   search results clustering. The hl.snippets parameter is now respected
   by the clustering plugin, can be overridden by carrot.summarySnippets
   if needed (Stanislaw Osinski).
 
-* SOLR-2938: Clustering on multiple fields. The carrot.title and 
+* SOLR-2938: Clustering on multiple fields. The carrot.title and
   carrot.snippet can now take comma- or space-separated lists of
   field names to cluster (Stanislaw Osinski).
 
@@ -12892,14 +12895,14 @@ Bug Fixes
   language field be passed in the carrot.lang parameter, the carrot.lcmap
   parameter enables mapping of language codes to ISO 639 (Stanislaw Osinski).
 
-* SOLR-2940: Passing values for custom Carrot2 fields to Clustering component. 
-  The custom field mapping are defined using the carrot.custom parameter 
+* SOLR-2940: Passing values for custom Carrot2 fields to Clustering component.
+  The custom field mapping are defined using the carrot.custom parameter
   (Stanislaw Osinski).
 
-* SOLR-2941: NullPointerException on clustering component initialization 
+* SOLR-2941: NullPointerException on clustering component initialization
   when schema does not have a unique key field (Stanislaw Osinski).
 
-* SOLR-2942: ClassCastException when passing non-textual fields to  
+* SOLR-2942: ClassCastException when passing non-textual fields to
   clustering component (Stanislaw Osinski).
 
 
@@ -12907,10 +12910,10 @@ Other Changes
 ----------------------
 * SOLR-2922: Upgrade commons-io and commons-lang to 2.1 and 2.6, respectively. (koji)
 
-* SOLR-2920: Refactor frequent conditional use of DefaultSolrParams and 
+* SOLR-2920: Refactor frequent conditional use of DefaultSolrParams and
   AppendedSolrParams into factory methods.
   (David Smiley via hossman)
-  
+
 * SOLR-3032: Deprecate logOnce from SolrException logOnce and all the supporting
   structure will disappear in 4.0. Errors should be caught and logged at the
   top-most level or logged and NOT propagated up the chain. (Erick Erickson)
@@ -12922,7 +12925,7 @@ Other Changes
 
 * SOLR-3059: Example XSL stylesheet for indexing query result XML (janhoy)
 
-* SOLR-3097, SOLR-3105: Add analysis configurations for different languages to 
+* SOLR-3097, SOLR-3105: Add analysis configurations for different languages to
   the example.  (Christian Moen, Robert Muir)
 
 * SOLR-3005: Default QueryResponseWriters are now initialized via init() with an empty
@@ -12931,10 +12934,10 @@ Other Changes
 * SOLR-3140: Upgrade schema version to 1.5, where omitNorms defaults to "true" for all
   primitive (non-analyzed) field types such as int, float, date, bool, string.. (janhoy)
 
-* SOLR-3077: Better error messages when attempting to use "blank" field names 
+* SOLR-3077: Better error messages when attempting to use "blank" field names
   (Antony Stubbs via hossman)
 
-* SOLR-2712: expecting fl=score to return all fields is now deprecated.  
+* SOLR-2712: expecting fl=score to return all fields is now deprecated.
   In solr 4.0, this will only return the score.  (ryan)
 
 * SOLR-3156: Check for Lucene directory locks at startup. In previous versions
@@ -12954,14 +12957,14 @@ Other Changes
   repository).  Also updated dependencies jackson-core-asl and
   jackson-mapper-asl (both v1.5.2 -> v1.7.4).  (Dawid Weiss, Steve Rowe)
 
-* SOLR-3295: netcdf jar is excluded from the binary release (and disabled in 
-  ivy.xml) because it requires java 6. If you want to parse this content with 
-  extracting request handler and are willing to use java 6, just add the jar. 
+* SOLR-3295: netcdf jar is excluded from the binary release (and disabled in
+  ivy.xml) because it requires java 6. If you want to parse this content with
+  extracting request handler and are willing to use java 6, just add the jar.
   (rmuir)
 
-* SOLR-3142: DIH Imports no longer default optimize to true, instead false. 
-  If you want to force all segments to be merged into one, you can specify 
-  this parameter yourself. NOTE: this can be very expensive operation and 
+* SOLR-3142: DIH Imports no longer default optimize to true, instead false.
+  If you want to force all segments to be merged into one, you can specify
+  this parameter yourself. NOTE: this can be very expensive operation and
   usually does not make sense for delta-imports.  (Robert Muir)
 
 Build
@@ -12976,8 +12979,8 @@ Build
   package name (org.apache.commons.csv). This created a compatibility issue as
   the Apache Commons team works toward an official release of Commons CSV.
   The source of Commons CSV was added under a separate package name to the
-  Solr source code.  (Uwe Schindler, Chris Male, Emmanuel Bourg)  
- 
+  Solr source code.  (Uwe Schindler, Chris Male, Emmanuel Bourg)
+
 * LUCENE-3930: Changed build system to use Apache Ivy for retrival of 3rd
   party JAR files.  Please review README.txt for instructions.
   (Robert Muir, Chris Male, Uwe Schindler, Steven Rowe, Hossman)
@@ -12993,17 +12996,17 @@ New Features
 * SOLR-2066,SOLR-2776: Added support for distributed grouping.
   (Martijn van Groningen, Jasper van Veghel, Matt Beaumont)
 
-* SOLR-2769: Added factory for the new Hunspell stemmer capable of doing stemming 
+* SOLR-2769: Added factory for the new Hunspell stemmer capable of doing stemming
   for 99 languages (janhoy, cmale)
 
-* SOLR-1979: New contrib "langid". Adds language identification capabilities as an 
+* SOLR-1979: New contrib "langid". Adds language identification capabilities as an
   Update Processor, using Tika's LanguageIdentifier or Cybozu language-detection
   library (janhoy, Tommaso Teofili, gsingers)
 
 * SOLR-2818: Added before/after count response parsing support for range facets in
-  SolrJ. (Bernhard Frauendienst via Martijn van Groningen)  
-  
-* SOLR-2276: Add support for cologne phonetic to PhoneticFilterFactory. 
+  SolrJ. (Bernhard Frauendienst via Martijn van Groningen)
+
+* SOLR-2276: Add support for cologne phonetic to PhoneticFilterFactory.
   (Marc Pompl via rmuir)
 
 * SOLR-1926: Add hl.q parameter. (koji)
@@ -13014,11 +13017,11 @@ New Features
 * SOLR-1023: StatsComponent now supports date fields and string fields.
   (Chris Male, Mark Holland, Gunnlaugur Thor Briem, Ryan McKinley)
 
-* SOLR-2578: ReplicationHandler's backup command now supports a 'numberToKeep' 
+* SOLR-2578: ReplicationHandler's backup command now supports a 'numberToKeep'
   request param that can be used to delete all but the most recent N backups.
   (James Dyer via hossman)
 
-* SOLR-2839: Add alternative implementation to contrib/langid supporting 53 
+* SOLR-2839: Add alternative implementation to contrib/langid supporting 53
   languages, based on http://code.google.com/p/language-detection/ (rmuir)
 
 Optimizations
@@ -13038,12 +13041,12 @@ Bug Fixes
 
 * SOLR-2772: Fixed Date parsing/formatting of years 0001-1000 (hossman)
 
-* SOLR-2763: Extracting update request handler throws exception and returns 400 
+* SOLR-2763: Extracting update request handler throws exception and returns 400
   when zero-length file posted using multipart form post (janhoy)
 
 * SOLR-2780: Fixed issue where multi select facets didn't respect group.truncate parameter.
   (Martijn van Groningen, Ramzi Alqrainy)
-  
+
 * SOLR-2793: In rare cases (most likely during shutdown), a SolrIndexSearcher can be left
   open if the executor rejects a task. (Mark Miller)
 
@@ -13055,12 +13058,12 @@ Bug Fixes
 
 * SOLR-2813: Fix HTTP error codes returned when requests contain strings that
   can not be parsed as numbers for Trie fields. (Jeff Crump and hossman)
-  
+
 * SOLR-2902: List of collations are wrong parsed in SpellCheckResponse causing
   a wrong number of collation results in the response.
   (Bastiaan Verhoef, James Dyer via Simon Willnauer)
 
-* SOLR-2875: Fix the incorrect url in DIH example tika-data-config.xml 
+* SOLR-2875: Fix the incorrect url in DIH example tika-data-config.xml
   (Shinichiro Abe via koji)
 
 Other Changes
@@ -13072,9 +13075,9 @@ Other Changes
 * LUCENE-3410: Deprecated the WordDelimiterFilter constructors accepting multiple
   ints masquerading as booleans.  Preferred constructor now accepts a single int
   bitfield (Chris Male)
-  
+
 * SOLR-2758: Moved ConcurrentLRUCache from o.a.s.common.util package in the solrj
-  module to the o.a.s.util package in the Solr core module. 
+  module to the o.a.s.util package in the Solr core module.
   (David Smiley via Steve Rowe)
 
 * SOLR-2766: Package individual javadoc sites for solrj and test-framework.
@@ -13086,14 +13089,14 @@ Other Changes
 
 * LUCENE-3457: Upgrade commons-compress to 1.2 (Doron Cohen)
 
-* SOLR-2757: min() and max() functions now support an arbitrary number of 
+* SOLR-2757: min() and max() functions now support an arbitrary number of
   ValueSources  (Bill Bell via hossman)
 
 * SOLR-2372: Upgrade Solr to Tika 0.10 (janhoy)
 
 * SOLR-2792: Allow case insensitive Hunspell stemming (janhoy, rmuir)
 
-* SOLR-2862: More explicit lexical resources location logged if Carrot2 clustering 
+* SOLR-2862: More explicit lexical resources location logged if Carrot2 clustering
   extension is used. Fixed solr. impl. of IResource and IResourceLookup. (Dawid Weiss)
 
 * SOLR-2849: Fix dependencies in Maven POMs. (David Smiley via Steve Rowe)
@@ -13114,9 +13117,9 @@ Upgrading from Solr 3.3
   before the master.  If the master were to be updated first, the older
   searchers would not be able to read the new index format.
 
-* Previous versions of Solr silently allow and ignore some contradictory 
+* Previous versions of Solr silently allow and ignore some contradictory
   properties specified in schema.xml.  For example:
-    - indexed="false" omitNorms="false" 
+    - indexed="false" omitNorms="false"
     - indexed="false" omitTermFreqAndPositions="false"
   Field property validation has now been fixed, to ensure that
   contradictions like these now generate error messages.  If users
@@ -13126,7 +13129,7 @@ Upgrading from Solr 3.3
   "true" for consistent behavior with previous Solr versions.  This
   situation has now been fixed to cause an error on startup when these
   contradictory options.  See SOLR-2669.
-  
+
 * FacetComponent no longer catches and embeds exceptions occurred during facet
   processing, it throws HTTP 400 or 500 exceptions instead.
 
@@ -13190,7 +13193,7 @@ New Features
 Optimizations
 ----------------------
 
-* LUCENE-3233: Improved memory usage, build time, and performance of 
+* LUCENE-3233: Improved memory usage, build time, and performance of
   SynonymFilterFactory.  (Mike McCandless, Robert Muir)
 
 Bug Fixes
@@ -13204,15 +13207,15 @@ Bug Fixes
 
 * SOLR-2636: Fix explain functionality for negative queries. (Tom Hill via yonik)
 
-* SOLR-2538: Range Faceting on long/double fields could overflow if values 
+* SOLR-2538: Range Faceting on long/double fields could overflow if values
   bigger then the max int/float were used.
   (Erbi Hanka, hossman)
 
-* SOLR-2230: CommonsHttpSolrServer.addFile could not be used to send 
+* SOLR-2230: CommonsHttpSolrServer.addFile could not be used to send
   multiple files in a single request.
   (Stephan Günther, hossman)
 
-* SOLR-2541: PluginInfos was not correctly parsing <long/> tags when 
+* SOLR-2541: PluginInfos was not correctly parsing <long/> tags when
   initializing plugins
   (Frank Wesemann, hossman)
 
@@ -13230,7 +13233,7 @@ Bug Fixes
   fails to show directory listings (David Smiley, Peter Wolanin via Erick Erickson)
 
 * SOLR-2545: ExternalFileField file parsing would fail if any key
-  contained an "=" character.  It now only looks for the last "=" delimiter 
+  contained an "=" character.  It now only looks for the last "=" delimiter
   prior to the float value.
   (Markus Jelsma, hossman)
 
@@ -13238,39 +13241,39 @@ Bug Fixes
   "start" parameter was not honored and the documents returned were
    0 through start+offset.  (Markus Jelsma, yonik)
 
-* SOLR-2669: Fix backwards validation of field properties in 
+* SOLR-2669: Fix backwards validation of field properties in
   SchemaField.calcProps (hossman)
 
-* SOLR-2676: Add "welcome-file-list" to solr.war so admin UI works correctly 
+* SOLR-2676: Add "welcome-file-list" to solr.war so admin UI works correctly
   in servlet containers such as WebSphere that do not use a default list
   (Jay R. Jaeger, hossman)
 
-* SOLR-2606: Fixed sort parsing of fields containing punctuation that 
+* SOLR-2606: Fixed sort parsing of fields containing punctuation that
   failed due to sort by function changes introduced in SOLR-1297
   (Mitsu Hadeishi, hossman)
 
-* SOLR-2706: contrib/clustering: The carrot.lexicalResourcesDir parameter 
+* SOLR-2706: contrib/clustering: The carrot.lexicalResourcesDir parameter
   now works with absolute directories (Stanislaw Osinski)
-  
-* SOLR-2692: contrib/clustering: Typo in param name fixed: "carrot.fragzise" 
+
+* SOLR-2692: contrib/clustering: Typo in param name fixed: "carrot.fragzise"
   changed to "carrot.fragSize" (Stanislaw Osinski).
 
 * SOLR-2644: When using DIH with threads=2 the default logging is set too high
   (Bill Bell via shalin)
 
-* SOLR-2492: DIH does not commit if only deletes are processed 
+* SOLR-2492: DIH does not commit if only deletes are processed
   (James Dyer via shalin)
 
-* SOLR-2186: DataImportHandler's multi-threaded option throws NPE 
+* SOLR-2186: DataImportHandler's multi-threaded option throws NPE
   (Lance Norskog, Frank Wesemann, shalin)
 
-* SOLR-2655: DIH multi threaded mode does not resolve attributes correctly 
+* SOLR-2655: DIH multi threaded mode does not resolve attributes correctly
   (Frank Wesemann, shalin)
 
-* SOLR-2695: DIH: Documents are collected in unsynchronized list in 
+* SOLR-2695: DIH: Documents are collected in unsynchronized list in
   multi-threaded debug mode (Michael McCandless, shalin)
 
-* SOLR-2668: DIH multithreaded mode does not rollback on errors from 
+* SOLR-2668: DIH multithreaded mode does not rollback on errors from
   EntityProcessor (Frank Wesemann, shalin)
 
 Other Changes
@@ -13321,7 +13324,7 @@ Documentation
 Upgrading from Solr 3.2.0
 ----------------------
  * SolrCore's CloseHook API has been changed in a backward-incompatible way. It
-   has been changed from an interface to an abstract class. Any custom 
+   has been changed from an interface to an abstract class. Any custom
    components which use the SolrCore.addCloseHook method will need to
    be modified accordingly. To migrate, put your old CloseHook#close impl into
    CloseHook#preClose.
@@ -13329,7 +13332,7 @@ Upgrading from Solr 3.2.0
 New Features
 ----------------------
 
-* SOLR-2378: A new, automaton-based, implementation of suggest (autocomplete) 
+* SOLR-2378: A new, automaton-based, implementation of suggest (autocomplete)
   component, offering an order of magnitude smaller memory consumption
   compared to ternary trees and jaspell and very fast lookups at runtime.
   (Dawid Weiss)
@@ -13341,9 +13344,9 @@ New Features
   (Uwe Schindler)
 
 * SOLR-2524: (SOLR-236, SOLR-237, SOLR-1773, SOLR-1311) Grouping / Field collapsing
-  using the Lucene grouping contrib. The search result can be grouped by field and query. 
-  (Martijn van Groningen, Emmanuel Keller, Shalin Shekhar Mangar, Koji Sekiguchi, 
-   Iván de Prado, Ryan McKinley, Marc Sturlese, Peter Karich, Bojan Smid, 
+  using the Lucene grouping contrib. The search result can be grouped by field and query.
+  (Martijn van Groningen, Emmanuel Keller, Shalin Shekhar Mangar, Koji Sekiguchi,
+   Iván de Prado, Ryan McKinley, Marc Sturlese, Peter Karich, Bojan Smid,
    Charles Hornberger, Dieter Grad, Dmitry Lihachev, Doug Steigerwald,
    Karsten Sperling, Michael Gundlach, Oleg Gnatovskiy, Thomas Traeger,
    Harish Agarwal, yonik, Michael McCandless, Bill Bell)
@@ -13353,8 +13356,8 @@ New Features
 
 * SOLR-2610 -- Add an option to delete index through CoreAdmin UNLOAD action (shalin)
 
-* SOLR-2480: Add ignoreTikaException flag to the extraction request handler so 
-  that users can ignore TikaException but index meta data. 
+* SOLR-2480: Add ignoreTikaException flag to the extraction request handler so
+  that users can ignore TikaException but index meta data.
   (Shinichiro Abe, koji)
 
 * SOLR-2582: Use uniqueKey for error log in UIMAUpdateRequestProcessor.
@@ -13385,7 +13388,7 @@ Bug Fixes
 * SOLR-2581: UIMAToSolrMapper wrongly instantiates Type with reflection.
   (Tommaso Teofili via koji)
 
-* SOLR-2551: Check dataimport.properties for write access (if delta-import is 
+* SOLR-2551: Check dataimport.properties for write access (if delta-import is
   supported in DIH configuration) before starting an import (C S, shalin)
 
 Other Changes
@@ -13403,13 +13406,13 @@ Other Changes
 
 * LUCENE-3204: The maven-ant-tasks jar is now included in the source tree;
   users of the generate-maven-artifacts target no longer have to manually
-  place this jar in the Ant classpath.  NOTE: when Ant looks for the 
+  place this jar in the Ant classpath.  NOTE: when Ant looks for the
   maven-ant-tasks jar, it looks first in its pre-existing classpath, so
-  any copies it finds will be used instead of the copy included in the 
+  any copies it finds will be used instead of the copy included in the
   Lucene/Solr source tree.  For this reason, it is recommeded to remove
   any copies of the maven-ant-tasks jar in the Ant classpath, e.g. under
   ~/.ant/lib/ or under the Ant installation's lib/ directory. (Steve Rowe)
-  
+
 * SOLR-2611: Fix typos in the example configuration (Eric Pugh via rmuir)
 
 ==================  3.2.0  ==================
@@ -13422,7 +13425,7 @@ Carrot2 3.4.2
 
 Upgrading from Solr 3.1
 ----------------------
-  
+
 * The updateRequestProcessorChain for a RequestHandler is now defined
   with update.chain rather than update.processor. The latter still works,
   but has been deprecated.
@@ -13440,12 +13443,12 @@ New Features
 * SOLR-2496: Add ability to specify overwrite and commitWithin as request
   parameters (e.g. specified in the URL) when using the JSON update format,
   and added a simplified format for specifying multiple documents.
-  Example: [{"id":"doc1"},{"id":"doc2"}] 
+  Example: [{"id":"doc1"},{"id":"doc2"}]
   (yonik)
 
 * SOLR-2113: Add TermQParserPlugin, registered as "term".  This is useful
   when generating filter queries from terms returned from field faceting or
-  the terms component. Example: fq={!term f=weight}1.5   (hossman, yonik) 
+  the terms component. Example: fq={!term f=weight}1.5   (hossman, yonik)
 
 * SOLR-1915: DebugComponent now supports using a NamedList to model
   Explanation objects in its responses instead of
@@ -13457,10 +13460,10 @@ New Features
   for clustering (SOLR-2450), output of cluster scores (SOLR-2505)
   (Stanislaw Osinski, Dawid Weiss).
 
-* SOLR-2503: extend UIMAUpdateRequestProcessorFactory mapping function to 
+* SOLR-2503: extend UIMAUpdateRequestProcessorFactory mapping function to
   map feature value to dynamicField. (koji)
 
-* SOLR-2512: add ignoreErrors flag to UIMAUpdateRequestProcessorFactory so 
+* SOLR-2512: add ignoreErrors flag to UIMAUpdateRequestProcessorFactory so
   that users can ignore exceptions in AE. (Tommaso Teofili, koji)
 
 Optimizations
@@ -13497,15 +13500,15 @@ Bug Fixes
 
 * SOLR-2333: The "rename" core admin action does not persist the new name to solr.xml
   (Rasmus Hahn, Paul R. Brown via Mark Miller)
-  
-* SOLR-2390: Performance of usePhraseHighlighter is terrible on very large Documents, 
+
+* SOLR-2390: Performance of usePhraseHighlighter is terrible on very large Documents,
   regardless of hl.maxDocCharsToAnalyze. (Mark Miller)
 
 * SOLR-2474: The helper TokenStreams in analysis.jsp and AnalysisRequestHandlerBase
   did not clear all attributes so they displayed incorrect attribute values for tokens
   in later filter stages. (uschindler, rmuir, yonik)
 
-* SOLR-2467: Fix <analyzer class="..." /> initialization so any errors 
+* SOLR-2467: Fix <analyzer class="..." /> initialization so any errors
   are logged properly.  (hossman)
 
 * SOLR-2493: SolrQueryParser was fixed to not parse the SolrConfig DOM tree on each
@@ -13532,17 +13535,17 @@ Other Changes
 ----------------------
 
 * SOLR-2061: Pull base tests out into a new Solr Test Framework module,
-  and publish binary, javadoc, and source test-framework jars. 
+  and publish binary, javadoc, and source test-framework jars.
   (Drew Farris, Robert Muir, Steve Rowe)
 
 * SOLR-2105: Rename RequestHandler param 'update.processor' to 'update.chain'.
   (Jan Høydahl via Mark Miller)
 
-* SOLR-2485: Deprecate BaseResponseWriter, GenericBinaryResponseWriter, and 
+* SOLR-2485: Deprecate BaseResponseWriter, GenericBinaryResponseWriter, and
   GenericTextResponseWriter.  These classes will be removed in 4.0.  (ryan)
 
-* SOLR-2451: Enhance assertJQ to allow individual tests to specify the 
-  tolerance delta used in numeric equalities.  This allows for slight 
+* SOLR-2451: Enhance assertJQ to allow individual tests to specify the
+  tolerance delta used in numeric equalities.  This allows for slight
   variance in asserting score comparisons in unit tests.
   (David Smiley, Chris Hostetter)
 
@@ -13552,7 +13555,7 @@ Other Changes
 * SOLR-2387: add mock annotators for improved testing in contrib/uima,
   (Tommaso Teofili via rmuir)
 
-* SOLR-2436: move uimaConfig to under the uima's update processor in 
+* SOLR-2436: move uimaConfig to under the uima's update processor in
   solrconfig.xml.  (Tommaso Teofili, koji)
 
 Build
@@ -13812,9 +13815,9 @@ New Features
 
 * SOLR-1057: Add PathHierarchyTokenizerFactory. (ryan, koji)
 
-* SOLR-1804: Re-enabled clustering component on trunk, updated to latest 
-  version of Carrot2.  No more LGPL run-time dependencies.  This release of 
-  C2 also does not have a specific Lucene dependency.  
+* SOLR-1804: Re-enabled clustering component on trunk, updated to latest
+  version of Carrot2.  No more LGPL run-time dependencies.  This release of
+  C2 also does not have a specific Lucene dependency.
   (Stanislaw Osinski, gsingers)
 
 * SOLR-2282: Add distributed search support for search result clustering.
@@ -13822,7 +13825,7 @@ New Features
 
 * SOLR-2210: Add icu-based tokenizer and filters to contrib/analysis-extras (rmuir)
 
-* SOLR-1336: Add SmartChinese (word segmentation for Simplified Chinese) 
+* SOLR-1336: Add SmartChinese (word segmentation for Simplified Chinese)
   tokenizer and filters to contrib/analysis-extras (rmuir)
 
 * SOLR-2211,LUCENE-2763: Added UAX29URLEmailTokenizerFactory, which implements
@@ -13834,7 +13837,7 @@ New Features
 
 * SOLR-1525: allow DIH to refer to core properties (noble)
 
-* SOLR-1547: DIH TemplateTransformer copy objects more intelligently when the 
+* SOLR-1547: DIH TemplateTransformer copy objects more intelligently when the
   template is a single variable (noble)
 
 * SOLR-1627: DIH VariableResolver should be fetched just in time (noble)
@@ -13843,14 +13846,14 @@ New Features
 
 * SOLR-1358: Integration of Tika and DataImportHandler (Akshay Ukey, noble)
 
-* SOLR-1654: TikaEntityProcessor example added DIHExample 
+* SOLR-1654: TikaEntityProcessor example added DIHExample
   (Akshay Ukey via noble)
 
 * SOLR-1678: Move onError handling to DIH framework (noble)
 
 * SOLR-1352: Multi-threaded implementation of DIH (noble)
 
-* SOLR-1721: Add explicit option to run DataImportHandler in synchronous mode 
+* SOLR-1721: Add explicit option to run DataImportHandler in synchronous mode
   (Alexey Serba via noble)
 
 * SOLR-1737: Added FieldStreamDataSource (noble)
@@ -13877,11 +13880,11 @@ Optimizations
 
 * SOLR-2046: add common functions to scripts-util. (koji)
 
-* SOLR-1684: Switch clustering component to use the 
-  SolrIndexSearcher.doc(int, Set<String>) method b/c it can use the document 
+* SOLR-1684: Switch clustering component to use the
+  SolrIndexSearcher.doc(int, Set<String>) method b/c it can use the document
   cache (gsingers)
 
-* SOLR-2200: Improve the performance of DataImportHandler for large 
+* SOLR-2200: Improve the performance of DataImportHandler for large
   delta-import updates. (Mark Waddle via rmuir)
 
 Bug Fixes
@@ -14138,58 +14141,58 @@ Bug Fixes
 * SOLR-2192: StreamingUpdateSolrServer.blockUntilFinished was not
   thread safe and could throw an exception. (yonik)
 
-* SOLR-1692: Fix bug in clustering component relating to carrot.produceSummary 
+* SOLR-1692: Fix bug in clustering component relating to carrot.produceSummary
   option (gsingers)
 
-* SOLR-1756: The date.format setting for extraction request handler causes 
-  ClassCastException when enabled and the config code that parses this setting 
-  does not properly use the same iterator instance. 
+* SOLR-1756: The date.format setting for extraction request handler causes
+  ClassCastException when enabled and the config code that parses this setting
+  does not properly use the same iterator instance.
   (Christoph Brill, Mark Miller)
 
-* SOLR-1638: Fixed NullPointerException during DIH import if uniqueKey is not 
+* SOLR-1638: Fixed NullPointerException during DIH import if uniqueKey is not
   specified in schema (Akshay Ukey via shalin)
 
-* SOLR-1639: Fixed misleading error message when dataimport.properties is not 
+* SOLR-1639: Fixed misleading error message when dataimport.properties is not
   writable (shalin)
 
-* SOLR-1598: DIH: Reader used in PlainTextEntityProcessor is not explicitly 
+* SOLR-1598: DIH: Reader used in PlainTextEntityProcessor is not explicitly
   closed (Sascha Szott via noble)
 
-* SOLR-1759: DIH: $skipDoc was not working correctly 
+* SOLR-1759: DIH: $skipDoc was not working correctly
   (Gian Marco Tagliani via noble)
 
-* SOLR-1762: DIH: DateFormatTransformer does not work correctly with 
+* SOLR-1762: DIH: DateFormatTransformer does not work correctly with
   non-default locale dates (tommy chheng via noble)
 
 * SOLR-1757: DIH multithreading sometimes throws NPE (noble)
 
-* SOLR-1766: DIH with threads enabled doesn't respond to the abort command 
+* SOLR-1766: DIH with threads enabled doesn't respond to the abort command
   (Michael Henson via noble)
 
-* SOLR-1767: dataimporter.functions.escapeSql() does not escape backslash 
+* SOLR-1767: dataimporter.functions.escapeSql() does not escape backslash
   character (Sean Timm via noble)
 
-* SOLR-1811: formatDate should use the current NOW value always 
+* SOLR-1811: formatDate should use the current NOW value always
   (Sean Timm via noble)
 
-* SOLR-1794: Dataimport of CLOB fields fails when getCharacterStream() is 
+* SOLR-1794: Dataimport of CLOB fields fails when getCharacterStream() is
   defined in a superclass. (Gunnar Gauslaa Bergem via rmuir)
 
 * SOLR-2057: DataImportHandler never calls UpdateRequestProcessor.finish()
   (Drew Farris via koji)
 
-* SOLR-1973: Empty fields in XML update messages confuse DataImportHandler. 
+* SOLR-1973: Empty fields in XML update messages confuse DataImportHandler.
   (koji)
 
 * SOLR-2221: Use StrUtils.parseBool() to get values of boolean options in DIH.
-  true/on/yes (for TRUE) and false/off/no (for FALSE) can be used for 
-  sub-options (debug, verbose, synchronous, commit, clean, optimize) for 
+  true/on/yes (for TRUE) and false/off/no (for FALSE) can be used for
+  sub-options (debug, verbose, synchronous, commit, clean, optimize) for
   full/delta-import commands. (koji)
 
-* SOLR-2310: DIH: getTimeElapsedSince() returns incorrect hour value when 
+* SOLR-2310: DIH: getTimeElapsedSince() returns incorrect hour value when
   the elapse is over 60 hours (tom liu via koji)
 
-* SOLR-2252: DIH: When a child entity in nested entities is rootEntity="true", 
+* SOLR-2252: DIH: When a child entity in nested entities is rootEntity="true",
   delta-import doesn't work. (koji)
 
 * SOLR-2330: solrconfig.xml files in example-DIH are broken. (Matt Parker, koji)
@@ -14205,7 +14208,7 @@ Bug Fixes
 Other Changes
 ----------------------
 
-* SOLR-1602: Refactor SOLR package structure to include o.a.solr.response 
+* SOLR-1602: Refactor SOLR package structure to include o.a.solr.response
   and move QueryResponseWriters in there
   (Chris A. Mattmann, ryan, hoss)
 
@@ -14218,7 +14221,7 @@ Other Changes
 
 * SOLR-1561: Added Lucene 2.9.1 spatial contrib jar to lib. (gsingers)
 
-* SOLR-1570: Log warnings if uniqueKey is multi-valued or not stored (hossman, shalin) 
+* SOLR-1570: Log warnings if uniqueKey is multi-valued or not stored (hossman, shalin)
 
 * SOLR-1558: QueryElevationComponent only works if the uniqueKey field is
   implemented using StrField.  In previous versions of Solr no warning or
@@ -14239,7 +14242,7 @@ Other Changes
 
 * SOLR-1662: Added Javadocs in BufferedTokenStream and fixed incorrect cloning
   in TestBufferedTokenStream (Robert Muir, Uwe Schindler via shalin)
-  
+
 * SOLR-1674: Improve analysis tests and cut over to new TokenStream API.
   (Robert Muir via Mark Miller)
 
@@ -14252,10 +14255,10 @@ Other Changes
 * SOLR-1538: Reordering of object allocations in ConcurrentLRUCache to eliminate
   (an extremely small) potential for deadlock.
   (gabriele renzi via hossman)
-  
+
 * SOLR-1588: Removed some very old dead code.
   (Chris A. Mattmann via hossman)
-  
+
 * SOLR-1696 : Deprecate old <highlighting> syntax and move configuration to HighlightComponent (noble)
 
 * SOLR-1727: SolrEventListener should extend NamedListInitializedPlugin (noble)
@@ -14277,12 +14280,12 @@ Other Changes
   Notepad.  (rmuir, hossman)
 
 * SOLR-1938: ElisionFilterFactory will use a default set of French contractions
-  if you do not supply a custom articles file.  (rmuir)  
-  
+  if you do not supply a custom articles file.  (rmuir)
+
 * SOLR-2003: SolrResourceLoader will report any encoding errors, rather than
   silently using replacement characters for invalid inputs (blargy via rmuir)
 
-* SOLR-1804: Google collections updated to Google Guava (which is a superset of collections and contains bug fixes) (gsingers)  
+* SOLR-1804: Google collections updated to Google Guava (which is a superset of collections and contains bug fixes) (gsingers)
 
 * SOLR-2034: Switch to JavaBin codec version 2. Strings are now serialized
   as the number of UTF-8 bytes, followed by the bytes in UTF-8. Previously
@@ -14291,7 +14294,7 @@ Other Changes
 
 * SOLR-2013: Add mapping-FoldToASCII.txt to example conf directory.
   (Steven Rowe via koji)
-  
+
 * SOLR-2213: Upgrade to jQuery 1.4.3 (Erick Erickson via ryan)
 
 * SOLR-1826: Add unit tests for highlighting with termOffsets=true
@@ -14306,7 +14309,7 @@ Other Changes
 
 * SOLR-2365: Move DIH jars out of solr.war (David Smiley via yonik)
 
-* SOLR-2381: Include a patched version of Jetty (6.1.26 + JETTY-1340) 
+* SOLR-2381: Include a patched version of Jetty (6.1.26 + JETTY-1340)
   to fix problematic UTF-8 handling for supplementary characters.
   (Bernd Fehling, uschindler, yonik, rmuir)
 
@@ -14331,13 +14334,13 @@ Other Changes
 
 * SOLR-1902: Upgraded to Tika 0.8 and changed deprecated parse call
 
-* SOLR-1813: Add ICU4j to contrib/extraction libs and add tests for Arabic 
+* SOLR-1813: Add ICU4j to contrib/extraction libs and add tests for Arabic
   extraction (Robert Muir via gsingers)
 
 * SOLR-1821: Fix TimeZone-dependent test failure in TestEvaluatorBag.
   (Chris Male via rmuir)
 
-* SOLR-2367: Reduced noise in test output by ensuring the properties file 
+* SOLR-2367: Reduced noise in test output by ensuring the properties file
   can be written. (Gunnlaugur Thor Briem via rmuir)
 
 Build
@@ -14345,7 +14348,7 @@ Build
 
 * SOLR-1522: Automated release signing process. (gsingers)
 
-* SOLR-1891: Make lucene-jars-to-solr fail if copying any of the jars fails, and 
+* SOLR-1891: Make lucene-jars-to-solr fail if copying any of the jars fails, and
   update clean to remove the jars in that directory (Mark Miller)
 
 * LUCENE-2466: Commons-Codec was upgraded from 1.3 to 1.4. (rmuir)
@@ -14494,9 +14497,9 @@ Searching and sorting is now done on a per-segment basis, meaning that
 the FieldCache entries used for sorting and for function queries are
 created and used per-segment and can be reused for segments that don't
 change between index updates.  While generally beneficial, this can lead
-to increased memory usage over 1.3 in certain scenarios: 
+to increased memory usage over 1.3 in certain scenarios:
   1) A single valued field that was used for both sorting and faceting
-in 1.3 would have used the same top level FieldCache entry.  In 1.4, 
+in 1.3 would have used the same top level FieldCache entry.  In 1.4,
 sorting will use entries at the segment level while faceting will still
 use entries at the top reader level, leading to increased memory usage.
   2) Certain function queries such as ord() and rord() require a top level
@@ -14526,7 +14529,7 @@ Users who wish to continue using the semi-colon based method of specifying the
 sort options should explicitly set the defType param to "lucenePlusSort" on all
 requests. (The simplest way to do this is by specifying it as a default param
 for your request handlers in solrconfig.xml, see the example solrconfig.xml for
-sample syntax.) 
+sample syntax.)
 
 If spellcheck.extendedResults=true, the response format for suggestions
 has changed, see SOLR-1071.
@@ -14540,31 +14543,31 @@ error.  See SOLR-1410 for more information.
  - RussianLowerCaseFilterFactory
  - RussianLetterTokenizerFactory
 
-DIH: Evaluator API has been changed in a non back-compatible way. Users who 
-have developed custom Evaluators will need to change their code according to 
+DIH: Evaluator API has been changed in a non back-compatible way. Users who
+have developed custom Evaluators will need to change their code according to
 the new API for it to work. See SOLR-996 for details.
 
-DIH: The formatDate evaluator's syntax has been changed. The new syntax is 
-formatDate(<variable>, '<format_string>'). For example, 
-formatDate(x.date, 'yyyy-MM-dd'). In the old syntax, the date string was 
-written without a single-quotes. The old syntax has been deprecated and will 
+DIH: The formatDate evaluator's syntax has been changed. The new syntax is
+formatDate(<variable>, '<format_string>'). For example,
+formatDate(x.date, 'yyyy-MM-dd'). In the old syntax, the date string was
+written without a single-quotes. The old syntax has been deprecated and will
 be removed in 1.5, until then, using the old syntax will log a warning.
 
-DIH: The Context API has been changed in a non back-compatible way. In 
-particular, the Context.currentProcess() method now returns a String 
-describing the type of the current import process instead of an int. 
-Similarily, the public constants in Context viz. FULL_DUMP, DELTA_DUMP and 
+DIH: The Context API has been changed in a non back-compatible way. In
+particular, the Context.currentProcess() method now returns a String
+describing the type of the current import process instead of an int.
+Similarily, the public constants in Context viz. FULL_DUMP, DELTA_DUMP and
 FIND_DELTA are changed to a String type. See SOLR-969 for details.
 
-DIH: The EntityProcessor API has been simplified by moving logic for applying 
-transformers and handling multi-row outputs from Transformers into an 
-EntityProcessorWrapper class. The EntityProcessor#destroy is now called once 
-per parent-row at the end of row (end of data). A new method 
+DIH: The EntityProcessor API has been simplified by moving logic for applying
+transformers and handling multi-row outputs from Transformers into an
+EntityProcessorWrapper class. The EntityProcessor#destroy is now called once
+per parent-row at the end of row (end of data). A new method
 EntityProcessor#close is added which is called at the end of import.
 
-DIH: In Solr 1.3, if the last_index_time was not available (first import) and 
-a delta-import was requested, a full-import was run instead. This is no longer 
-the case. In Solr 1.4 delta import is run with last_index_time as the epoch 
+DIH: In Solr 1.3, if the last_index_time was not available (first import) and
+a delta-import was requested, a full-import was run instead. This is no longer
+the case. In Solr 1.4 delta import is run with last_index_time as the epoch
 date (January 1, 1970, 00:00:00 GMT) if last_index_time is not available.
 
 Versions of Major Components
@@ -14588,8 +14591,8 @@ New Features
 ----------------------
  1. SOLR-560: Use SLF4J logging API rather then JDK logging.  The packaged .war file is
     shipped with a JDK logging implementation, so logging configuration for the .war should
-    be identical to solr 1.3.  However, if you are using the .jar file, you can select 
-    which logging implementation to use by dropping a different binding.  
+    be identical to solr 1.3.  However, if you are using the .jar file, you can select
+    which logging implementation to use by dropping a different binding.
     See: http://www.slf4j.org/  (ryan)
 
  2. SOLR-617: Allow configurable index deletion policy and provide a default implementation which
@@ -14641,7 +14644,7 @@ New Features
 
 15. SOLR-822: Add CharFilter so that characters can be filtered (e.g. character normalization)
     before Tokenizer/TokenFilters. (koji)
-    
+
 16. SOLR-829: Allow slaves to request compressed files from master during replication
     (Simon Collins, Noble Paul, Akshay Ukey via shalin)
 
@@ -14686,7 +14689,7 @@ New Features
     For example, hl.fl=*_text will highlight all fieldnames ending with
     _text.  (Lars Kotthoff via yonik)
 
-28. SOLR-906: Adding a StreamingUpdateSolrServer that writes update commands to 
+28. SOLR-906: Adding a StreamingUpdateSolrServer that writes update commands to
     an open HTTP connection.  If you are using solrj for bulk update requests
     you should consider switching to this implementaion.  However, note that
     the error handling is not immediate as it is with the standard SolrServer.
@@ -14715,7 +14718,7 @@ New Features
 37. SOLR-739: Add support for OmitTf (Mark Miller via yonik)
 
 38. SOLR-1046: Nested query support for the function query parser
-    and lucene query parser (the latter existed as an undocumented 
+    and lucene query parser (the latter existed as an undocumented
     feature in 1.3) (yonik)
 
 39. SOLR-940: Add support for Lucene's Trie Range Queries by providing new FieldTypes in
@@ -14774,20 +14777,20 @@ New Features
 
 58. SOLR-1189: Support providing username and password for basic HTTP authentication in Java replication
     (Matthew Gregg, shalin)
-    
-59. SOLR-243: Add configurable IndexReaderFactory so that alternate IndexReader implementations 
+
+59. SOLR-243: Add configurable IndexReaderFactory so that alternate IndexReader implementations
     can be specified via solrconfig.xml. Note that using a custom IndexReader may be incompatible
     with ReplicationHandler (see comments in SOLR-1366). This should be treated as an experimental feature.
     (Andrzej Bialecki, hossman, Mark Miller, John Wang)
-    
+
 60. SOLR-1214: differentiate between solr home and instanceDir .deprecates the method SolrResourceLoader#locateInstanceDir()
     and it is renamed to locateSolrHome (noble)
 
-61. SOLR-1216 :  disambiguate the replication command names. 'snappull' becomes 'fetchindex' 'abortsnappull' becomes 'abortfetch' (noble) 
- 
+61. SOLR-1216 :  disambiguate the replication command names. 'snappull' becomes 'fetchindex' 'abortsnappull' becomes 'abortfetch' (noble)
+
 62. SOLR-1145: Add capability to specify an infoStream log file for the underlying Lucene IndexWriter in solrconfig.xml.
     This is an advanced debug log file that can be used to aid developers in fixing IndexWriter bugs. See the commented
-    out example in the example solrconfig.xml under the indexDefaults section. 
+    out example in the example solrconfig.xml under the indexDefaults section.
     (Chris Harris, Mark Miller)
 
 63. SOLR-1256: Show the output of CharFilters in analysis.jsp. (koji)
@@ -14796,9 +14799,9 @@ New Features
     that allows disabling of english possessive stemming (removal of trailing 's from tokens)
     (Robert Muir via yonik)
 
-65. SOLR-1237: firstSearcher and newSearcher can now be identified via the CommonParams.EVENT (evt) parameter 
-    in a request.  This allows a RequestHandler or SearchComponent to know when a newSearcher or firstSearcher 
-    event happened.  QuerySenderListender is the only implementation in Solr that implements this, but outside 
+65. SOLR-1237: firstSearcher and newSearcher can now be identified via the CommonParams.EVENT (evt) parameter
+    in a request.  This allows a RequestHandler or SearchComponent to know when a newSearcher or firstSearcher
+    event happened.  QuerySenderListender is the only implementation in Solr that implements this, but outside
     implementations may wish to.  See the AbstractSolrEventListener for a helper method. (gsingers)
 
 66. SOLR-1343: Added HTMLStripCharFilter and marked HTMLStripReader, HTMLStripWhitespaceTokenizerFactory and
@@ -14814,7 +14817,7 @@ New Features
 70. SOLR-1373: Add Filter query to admin/form.jsp
     (Jason Rutherglen via hossman)
 
-71. SOLR-1368: Add ms() function query for getting milliseconds from dates and for 
+71. SOLR-1368: Add ms() function query for getting milliseconds from dates and for
     high precision date subtraction, add sub() for subtracting other arguments.
     (yonik)
 
@@ -14839,9 +14842,9 @@ New Features
 
 80. SOLR-908 : CommonGramsFilterFactory/CommonGramsQueryFilterFactory for
     speeding up phrase queries containing common words by indexing
-    n-grams and using them at query time. 
+    n-grams and using them at query time.
     (Tom Burton-West, Jason Rutherglen via yonik)
-    
+
 81. SOLR-1292: Add FieldCache introspection to stats.jsp and JMX Monitoring via
     a new SolrFieldCacheMBean.  (hossman)
 
@@ -14852,57 +14855,57 @@ New Features
 84. SOLR-1449: Add <lib> elements to solrconfig.xml to specifying additional
     classpath directories and regular expressions. (hossman via yonik)
 
-85. SOLR-1128: Added metadata output to extraction request handler "extract 
+85. SOLR-1128: Added metadata output to extraction request handler "extract
     only" option.  (gsingers)
 
-86. SOLR-1274: Added text serialization output for extractOnly 
-    (Peter Wolanin, gsingers)  
+86. SOLR-1274: Added text serialization output for extractOnly
+    (Peter Wolanin, gsingers)
 
 87. SOLR-768: DIH: Set last_index_time variable in full-import command.
     (Wojtek Piaseczny, Noble Paul via shalin)
 
-88. SOLR-811: Allow a "deltaImportQuery" attribute in SqlEntityProcessor 
-    which is used for delta imports instead of DataImportHandler manipulating 
+88. SOLR-811: Allow a "deltaImportQuery" attribute in SqlEntityProcessor
+    which is used for delta imports instead of DataImportHandler manipulating
     the SQL itself. (Noble Paul via shalin)
 
-89. SOLR-842:  Better error handling in DataImportHandler with options to 
+89. SOLR-842:  Better error handling in DataImportHandler with options to
     abort, skip and continue imports. (Noble Paul, shalin)
 
-90. SOLR-833: DIH: A DataSource to read data from a field as a reader. This 
-    can be used, for example, to read XMLs residing as CLOBs or BLOBs in 
+90. SOLR-833: DIH: A DataSource to read data from a field as a reader. This
+    can be used, for example, to read XMLs residing as CLOBs or BLOBs in
     databases. (Noble Paul via shalin)
 
 91. SOLR-887: A DIH Transformer to strip HTML tags. (Ahmed Hammad via shalin)
 
-92. SOLR-886: DataImportHandler should rollback when an import fails or it is 
+92. SOLR-886: DataImportHandler should rollback when an import fails or it is
     aborted (shalin)
 
-93. SOLR-891: A DIH Transformer to read strings from Clob type. 
+93. SOLR-891: A DIH Transformer to read strings from Clob type.
     (Noble Paul via shalin)
 
-94. SOLR-812: Configurable JDBC settings in JdbcDataSource including optimized 
+94. SOLR-812: Configurable JDBC settings in JdbcDataSource including optimized
     defaults for read only mode. (David Smiley, Glen Newton, shalin)
 
-95. SOLR-910: Add a few utility commands to the DIH admin page such as full 
+95. SOLR-910: Add a few utility commands to the DIH admin page such as full
     import, delta import, status, reload config. (Ahmed Hammad via shalin)
 
 96. SOLR-938: Add event listener API for DIH import start and end.
     (Kay Kay, Noble Paul via shalin)
 
-97. SOLR-801: DIH: Add support for configurable pre-import and post-import 
+97. SOLR-801: DIH: Add support for configurable pre-import and post-import
     delete query per root-entity. (Noble Paul via shalin)
 
-98. SOLR-988: Add a new scope for session data stored in Context to store 
+98. SOLR-988: Add a new scope for session data stored in Context to store
     objects across imports. (Noble Paul via shalin)
 
-99. SOLR-980: A PlainTextEntityProcessor which can read from any 
-    DataSource<Reader> and output a String. 
+99. SOLR-980: A PlainTextEntityProcessor which can read from any
+    DataSource<Reader> and output a String.
     (Nathan Adams, Noble Paul via shalin)
 
-100.SOLR-1003: XPathEntityprocessor must allow slurping all text from a given 
+100.SOLR-1003: XPathEntityprocessor must allow slurping all text from a given
     xml node and its children. (Noble Paul via shalin)
 
-101.SOLR-1001: Allow variables in various attributes of RegexTransformer, 
+101.SOLR-1001: Allow variables in various attributes of RegexTransformer,
     HTMLStripTransformer and NumberFormatTransformer.
     (Fergus McMenemie, Noble Paul, shalin)
 
@@ -14911,53 +14914,53 @@ New Features
 
 103.SOLR-996: DIH: Expose Context to Evaluators. (Noble Paul, shalin)
 
-104.SOLR-783: DIH: Enhance delta-imports by maintaining separate 
+104.SOLR-783: DIH: Enhance delta-imports by maintaining separate
     last_index_time for each entity. (Jon Baer, Noble Paul via shalin)
 
-105.SOLR-1033: Current entity's namespace is made available to all DIH 
+105.SOLR-1033: Current entity's namespace is made available to all DIH
     Transformers. This allows one to use an output field of TemplateTransformer
     in other transformers, among other things.
     (Fergus McMenemie, Noble Paul via shalin)
 
-106.SOLR-1066: New methods in DIH Context to expose Script details. 
+106.SOLR-1066: New methods in DIH Context to expose Script details.
     ScriptTransformer changed to read scripts through the new API methods.
     (Noble Paul via shalin)
 
-107.SOLR-1062: A DIH LogTransformer which can log data in a given template 
+107.SOLR-1062: A DIH LogTransformer which can log data in a given template
     format. (Jon Baer, Noble Paul via shalin)
 
-108.SOLR-1065: A DIH ContentStreamDataSource which can accept HTTP POST data 
-    in a content stream. This can be used to push data to Solr instead of 
+108.SOLR-1065: A DIH ContentStreamDataSource which can accept HTTP POST data
+    in a content stream. This can be used to push data to Solr instead of
     just pulling it from DB/Files/URLs. (Noble Paul via shalin)
 
-109.SOLR-1061: Improve DIH RegexTransformer to create multiple columns from 
+109.SOLR-1061: Improve DIH RegexTransformer to create multiple columns from
     regex groups. (Noble Paul via shalin)
 
-110.SOLR-1059: Special DIH flags introduced for deleting documents by query or 
-    id, skipping rows and stopping further transforms. Use $deleteDocById, 
-    $deleteDocByQuery for deleting by id and query respectively.  Use $skipRow 
-    to skip the current row but continue with the document. Use $stopTransform 
-    to stop further transformers. New methods are introduced in Context for 
+110.SOLR-1059: Special DIH flags introduced for deleting documents by query or
+    id, skipping rows and stopping further transforms. Use $deleteDocById,
+    $deleteDocByQuery for deleting by id and query respectively.  Use $skipRow
+    to skip the current row but continue with the document. Use $stopTransform
+    to stop further transformers. New methods are introduced in Context for
     deleting by id and query. (Noble Paul, Fergus McMenemie, shalin)
 
-111.SOLR-1076: JdbcDataSource should resolve DIH variables in all its 
+111.SOLR-1076: JdbcDataSource should resolve DIH variables in all its
     configuration parameters. (shalin)
 
-112.SOLR-1055: Make DIH JdbcDataSource easily extensible by making the 
-    createConnectionFactory method protected and return a 
+112.SOLR-1055: Make DIH JdbcDataSource easily extensible by making the
+    createConnectionFactory method protected and return a
     Callable<Connection> object. (Noble Paul, shalin)
 
-113.SOLR-1058: DIH: JdbcDataSource can lookup javax.sql.DataSource using JNDI. 
+113.SOLR-1058: DIH: JdbcDataSource can lookup javax.sql.DataSource using JNDI.
     Use a jndiName attribute to specify the location of the data source.
     (Jason Shepherd, Noble Paul via shalin)
 
-114.SOLR-1083: A DIH Evaluator for escaping query characters. 
+114.SOLR-1083: A DIH Evaluator for escaping query characters.
     (Noble Paul, shalin)
 
-115.SOLR-934: A MailEntityProcessor to enable indexing mails from 
+115.SOLR-934: A MailEntityProcessor to enable indexing mails from
     POP/IMAP sources into a solr index. (Preetam Rao, shalin)
 
-116.SOLR-1060: A DIH LineEntityProcessor which can stream lines of text from a 
+116.SOLR-1060: A DIH LineEntityProcessor which can stream lines of text from a
     given file to be indexed directly or for processing with transformers and
     child entities.
     (Fergus McMenemie, Noble Paul, shalin)
@@ -14965,31 +14968,31 @@ New Features
 117.SOLR-1127: Add support for DIH field name to be templatized.
     (Noble Paul, shalin)
 
-118.SOLR-1092: Added a new DIH command named 'import' which does not 
+118.SOLR-1092: Added a new DIH command named 'import' which does not
     automatically clean the index. This is useful and more appropriate when one
     needs to import only some of the entities.
     (Noble Paul via shalin)
-              
-119.SOLR-1153: DIH 'deltaImportQuery' is honored on child entities as well 
-    (noble) 
 
-120.SOLR-1230: Enhanced dataimport.jsp to work with all DataImportHandler 
-    request handler configurations, rather than just a hardcoded /dataimport 
+119.SOLR-1153: DIH 'deltaImportQuery' is honored on child entities as well
+    (noble)
+
+120.SOLR-1230: Enhanced dataimport.jsp to work with all DataImportHandler
+    request handler configurations, rather than just a hardcoded /dataimport
     handler. (ehatcher)
-              
+
 121.SOLR-1235: disallow period (.) in DIH entity names (noble)
 
-122.SOLR-1234: Multiple DIH does not work because all of them write to 
-    dataimport.properties. Use the handler name as the properties file name 
+122.SOLR-1234: Multiple DIH does not work because all of them write to
+    dataimport.properties. Use the handler name as the properties file name
     (noble)
 
-123.SOLR-1348: Support binary field type in convertType logic in DIH 
+123.SOLR-1348: Support binary field type in convertType logic in DIH
     JdbcDataSource (shalin)
 
-124.SOLR-1406: DIH: Make FileDataSource and FileListEntityProcessor to be more 
+124.SOLR-1406: DIH: Make FileDataSource and FileListEntityProcessor to be more
     extensible (Luke Forehand, shalin)
 
-125.SOLR-1437: DIH: XPathEntityProcessor can deal with xpath syntaxes such as 
+125.SOLR-1437: DIH: XPathEntityProcessor can deal with xpath syntaxes such as
     //tagname , /root//tagname (Fergus McMenemie via noble)
 
 
@@ -15009,14 +15012,14 @@ Optimizations
     since we know exactly how long the List will be in advance.
     (Kay Kay via hossman)
 
- 5. SOLR-1002: Change SolrIndexSearcher to use insertWithOverflow 
+ 5. SOLR-1002: Change SolrIndexSearcher to use insertWithOverflow
     with reusable priority queue entries to reduce the amount of
     generated garbage during searching.  (Mark Miller via yonik)
 
  6. SOLR-971: Replace StringBuffer with StringBuilder for instances that do not require thread-safety.
     (Kay Kay via shalin)
 
- 7. SOLR-921: SolrResourceLoader must cache short class name vs fully qualified classname 
+ 7. SOLR-921: SolrResourceLoader must cache short class name vs fully qualified classname
     (Noble Paul, hossman via shalin)
 
  8. SOLR-973: CommonsHttpSolrServer writes the xml directly to the server.
@@ -15029,7 +15032,7 @@ Optimizations
     score() call and iterating over leaf readers with TermDocs. (yonik)
 
 11. SOLR-1169: SortedIntDocSet - a new small set implementation
-    that saves memory over HashDocSet, is faster to construct, 
+    that saves memory over HashDocSet, is faster to construct,
     is ordered for easier implementation of skipTo, and is faster
     in the general case. (yonik)
 
@@ -15042,7 +15045,7 @@ Optimizations
 
 14. SOLR-1188: Minor efficiency improvement in TermVectorComponent related to ignoring positions or offsets (gsingers)
 
-15. SOLR-1150: Load Documents for Highlighting one at a time rather than 
+15. SOLR-1150: Load Documents for Highlighting one at a time rather than
     all at once to avoid OOM with many large Documents. (Siddharth Gargate via Mark Miller)
 
 16. SOLR-1353: Implement and use reusable token streams for analysis. (Robert Muir, yonik)
@@ -15050,7 +15053,7 @@ Optimizations
 17. SOLR-1296: Enables setting IndexReader's termInfosIndexDivisor via a new attribute to StandardIndexReaderFactory.  Enables
     setting termIndexInterval to IndexWriter via SolrIndexConfig. (Jason Rutherglen, hossman, gsingers)
 
-18. SOLR-846: DIH: Reduce memory consumption during delta import by removing 
+18. SOLR-846: DIH: Reduce memory consumption during delta import by removing
     keys when used (Ricky Leung, Noble Paul via shalin)
 
 19. SOLR-974: DataImportHandler skips commit if no data has been updated.
@@ -15062,7 +15065,7 @@ Optimizations
 21. SOLR-1098: DIH DateFormatTransformer can cache the format objects.
     (Noble Paul via shalin)
 
-22. SOLR-1465: Replaced string concatenations with StringBuilder append 
+22. SOLR-1465: Replaced string concatenations with StringBuilder append
     calls in DIH XPathRecordReader. (Mark Miller, shalin)
 
 Bug Fixes
@@ -15182,7 +15185,7 @@ Bug Fixes
 
 45. SOLR-1078: Fixes to WordDelimiterFilter to avoid splitting or dropping
     international non-letter characters such as non spacing marks. (yonik)
-    
+
 46. SOLR-825, SOLR-1221: Enables highlighting for range/wildcard/fuzzy/prefix queries if using hl.usePhraseHighlighter=true
     and hl.highlightMultiTerm=true. Also make both options default to true. (Mark Miller, yonik)
 
@@ -15219,7 +15222,7 @@ Bug Fixes
 
 57. SOLR-1360: Prevent PhoneticFilter from producing duplicate tokens. (yonik)
 
-58. SOLR-1371: LukeRequestHandler/schema.jsp errored if schema had no 
+58. SOLR-1371: LukeRequestHandler/schema.jsp errored if schema had no
     uniqueKey field.  The new test for this also (hopefully) adds some
     future proofing against similar bugs in the future.  As a side
     effect QueryElevationComponentTest was refactored, and a bug in
@@ -15238,15 +15241,15 @@ Bug Fixes
 61. SOLR-1091: Jetty's use of CESU-8 for code points outside the BMP
     resulted in invalid output from the serialized PHP writer. (yonik)
 
-62. SOLR-1103: LukeRequestHandler (and schema.jsp) have been fixed to 
-    include the "1" (ie: 2**0) bucket in the term histogram data. 
+62. SOLR-1103: LukeRequestHandler (and schema.jsp) have been fixed to
+    include the "1" (ie: 2**0) bucket in the term histogram data.
     (hossman)
 
 63. SOLR-1398: Add offset corrections in PatternTokenizerFactory.
     (Anders Melchiorsen, koji)
 
 64. SOLR-1400: Properly handle zero-length tokens in TrimFilter.  This
-    was not a bug in any released version. (Peter Wolanin, gsingers) 
+    was not a bug in any released version. (Peter Wolanin, gsingers)
 
 65. SOLR-1071: spellcheck.extendedResults returns an invalid JSON response
     when count > 1.  To fix, the extendedResults format was changed.
@@ -15254,7 +15257,7 @@ Bug Fixes
 
 66. SOLR-1381: Fixed improper handling of fields that have only term positions and not term offsets during Highlighting (Thorsten Fischer, gsingers)
 
-67. SOLR-1427: Fixed registry.jsp issue with MBeans (gsingers) 
+67. SOLR-1427: Fixed registry.jsp issue with MBeans (gsingers)
 
 68. SOLR-1468: SolrJ's XML response parsing threw an exception for null
      names, such as those produced when facet.missing=true (yonik)
@@ -15283,96 +15286,96 @@ Bug Fixes
     caused an error to be returned, although the deletes were
     still executed.  (asmodean via yonik)
 
-76. SOLR-800: Deep copy collections to avoid ConcurrentModificationException 
+76. SOLR-800: Deep copy collections to avoid ConcurrentModificationException
     in XPathEntityprocessor while streaming
     (Kyle Morrison, Noble Paul via shalin)
 
-77. SOLR-823: Request parameter variables ${dataimporter.request.xxx} are not 
+77. SOLR-823: Request parameter variables ${dataimporter.request.xxx} are not
     resolved in DIH (Mck SembWever, Noble Paul, shalin)
 
-78. SOLR-728: Add synchronization to avoid race condition of multiple DIH 
+78. SOLR-728: Add synchronization to avoid race condition of multiple DIH
     imports working concurrently (Walter Ferrara, shalin)
 
-79. SOLR-742: Add ability to create dynamic fields with custom 
+79. SOLR-742: Add ability to create dynamic fields with custom
     DataImportHandler transformers (Wojtek Piaseczny, Noble Paul, shalin)
 
-80. SOLR-832: Rows parameter is not honored in DIH non-debug mode and can 
+80. SOLR-832: Rows parameter is not honored in DIH non-debug mode and can
     abort a running import in debug mode. (Akshay Ukey, shalin)
 
-81. SOLR-838: The DIH VariableResolver obtained from a DataSource's context 
+81. SOLR-838: The DIH VariableResolver obtained from a DataSource's context
     does not have current data. (Noble Paul via shalin)
 
 82. SOLR-864: DataImportHandler does not catch and log Errors (shalin)
 
 83. SOLR-873: Fix case-sensitive field names and columns (Jon Baer, shalin)
 
-84. SOLR-893: Unable to delete documents via SQL and deletedPkQuery with 
+84. SOLR-893: Unable to delete documents via SQL and deletedPkQuery with
     deltaimport (Dan Rosher via shalin)
 
 85. SOLR-888: DIH DateFormatTransformer cannot convert non-string type
     (Amit Nithian via shalin)
 
-86. SOLR-841: DataImportHandler should throw exception if a field does not 
+86. SOLR-841: DataImportHandler should throw exception if a field does not
     have column attribute (Michael Henson, shalin)
 
-87. SOLR-884: CachedSqlEntityProcessor should check if the cache key is 
+87. SOLR-884: CachedSqlEntityProcessor should check if the cache key is
     present in the query results (Noble Paul via shalin)
 
-88. SOLR-985: Fix thread-safety issue with DIH TemplateString for concurrent 
+88. SOLR-985: Fix thread-safety issue with DIH TemplateString for concurrent
     imports with multiple cores. (Ryuuichi Kumai via shalin)
 
-89. SOLR-999: DIH XPathRecordReader fails on XMLs with nodes mixed with 
+89. SOLR-999: DIH XPathRecordReader fails on XMLs with nodes mixed with
     CDATA content. (Fergus McMenemie, Noble Paul via shalin)
 
-90. SOLR-1000: DIH FileListEntityProcessor should not apply fileName filter to 
+90. SOLR-1000: DIH FileListEntityProcessor should not apply fileName filter to
     directory names. (Fergus McMenemie via shalin)
 
-91. SOLR-1009: Repeated column names result in duplicate values. 
+91. SOLR-1009: Repeated column names result in duplicate values.
     (Fergus McMenemie, Noble Paul via shalin)
 
-92. SOLR-1017: Fix DIH thread-safety issue with last_index_time for concurrent 
-    imports in multiple cores due to unsafe usage of SimpleDateFormat by 
+92. SOLR-1017: Fix DIH thread-safety issue with last_index_time for concurrent
+    imports in multiple cores due to unsafe usage of SimpleDateFormat by
     multiple threads. (Ryuuichi Kumai via shalin)
 
-93. SOLR-1024: Calling abort on DataImportHandler import commits data instead 
+93. SOLR-1024: Calling abort on DataImportHandler import commits data instead
     of calling rollback. (shalin)
 
-94. SOLR-1037: DIH should not add null values in a row returned by 
+94. SOLR-1037: DIH should not add null values in a row returned by
     EntityProcessor to documents. (shalin)
 
-95. SOLR-1040: DIH XPathEntityProcessor fails with an xpath like 
+95. SOLR-1040: DIH XPathEntityProcessor fails with an xpath like
     /feed/entry/link[@type='text/html']/@href (Noble Paul via shalin)
 
-96. SOLR-1042: Fix memory leak in DIH by making TemplateString non-static 
+96. SOLR-1042: Fix memory leak in DIH by making TemplateString non-static
     member in VariableResolverImpl (Ryuuichi Kumai via shalin)
 
-97. SOLR-1053: IndexOutOfBoundsException in DIH SolrWriter.getResourceAsString 
+97. SOLR-1053: IndexOutOfBoundsException in DIH SolrWriter.getResourceAsString
     when size of data-config.xml is a multiple of 1024 bytes.
     (Herb Jiang via shalin)
 
-98. SOLR-1077: IndexOutOfBoundsException with useSolrAddSchema in DIH 
+98. SOLR-1077: IndexOutOfBoundsException with useSolrAddSchema in DIH
     XPathEntityProcessor. (Sam Keen, Noble Paul via shalin)
 
 99. SOLR-1080: DIH RegexTransformer should not replace if regex is not matched.
     (Noble Paul, Fergus McMenemie via shalin)
 
-100.SOLR-1090: DataImportHandler should load the data-config.xml using UTF-8 
+100.SOLR-1090: DataImportHandler should load the data-config.xml using UTF-8
     encoding. (Rui Pereira, shalin)
 
 101.SOLR-1146: ConcurrentModificationException in DataImporter.getStatusMessages
     (Walter Ferrara, Noble Paul via shalin)
 
-102.SOLR-1229: Fixes for DIH deletedPkQuery, particularly when using 
+102.SOLR-1229: Fixes for DIH deletedPkQuery, particularly when using
     transformed Solr unique id's
     (Lance Norskog, Noble Paul via ehatcher)
-              
-103.SOLR-1286: Fix the IH commit parameter always defaulting to "true" even 
+
+103.SOLR-1286: Fix the IH commit parameter always defaulting to "true" even
     if "false" is explicitly passed in. (Jay Hill, Noble Paul via ehatcher)
-            
-104.SOLR-1323: Reset XPathEntityProcessor's $hasMore/$nextUrl when fetching 
+
+104.SOLR-1323: Reset XPathEntityProcessor's $hasMore/$nextUrl when fetching
     next URL (noble, ehatcher)
 
-105.SOLR-1450: DIH: Jdbc connection properties such as batchSize are not 
+105.SOLR-1450: DIH: Jdbc connection properties such as batchSize are not
     applied if the driver jar is placed in solr_home/lib.
     (Steve Sun via shalin)
 
@@ -15390,7 +15393,7 @@ Other Changes
 
  4. SOLR-852: Refactored common code in CSVRequestHandler and XMLUpdateRequestHandler (gsingers, ehatcher)
 
- 5. SOLR-871: Removed dependency on stax-utils.jar.  If you using solr.jar and running 
+ 5. SOLR-871: Removed dependency on stax-utils.jar.  If you using solr.jar and running
     java 6, you can also remove woodstox and geronimo.  (ryan)
 
  6. SOLR-465: Upgraded to Lucene 2.9-dev (r719351) (shalin)
@@ -15451,7 +15454,7 @@ Other Changes
 
 30. SOLR-748: FacetComponent helper classes are made public as an experimental API.
     (Wojtek Piaseczny via shalin)
-    
+
 31. Upgraded to Lucene 2.9-dev 773862 (Mark Miller)
 
 32. Upgraded to Lucene 2.9-dev r776177 (shalin)
@@ -15464,12 +15467,12 @@ Other Changes
 35. SOLR-786: Refactor DisMaxQParser to allow overriding certain features of DisMaxQParser
     (Wojciech Biela via shalin)
 
-36. SOLR-458: Add equals and hashCode methods to NamedList (Stefan Rinner, shalin) 
+36. SOLR-458: Add equals and hashCode methods to NamedList (Stefan Rinner, shalin)
 
 37. SOLR-1184: Add option in solrconfig to open a new IndexReader rather than
     using reopen. Done mainly as a fail-safe in the case that a user runs into
     a reopen bug/issue.  (Mark Miller)
-    
+
 38. SOLR-1215 use double quotes to enclose attributes in solr.xml (noble)
 
 39. SOLR-1151: add dynamic copy field and maxChars example to example schema.xml.
@@ -15499,10 +15502,10 @@ Other Changes
 
 45. SOLR-1276: Added StatsComponentTest (Rafał Kuć, gsingers)
 
-46. SOLR-1377:  The TokenizerFactory API has changed to explicitly return a Tokenizer 
-    rather then a TokenStream (that may be or may not be a Tokenizer).  This change 
-    is required to take advantage of the Token reuse improvements in lucene 2.9. (ryan)  
-    
+46. SOLR-1377:  The TokenizerFactory API has changed to explicitly return a Tokenizer
+    rather then a TokenStream (that may be or may not be a Tokenizer).  This change
+    is required to take advantage of the Token reuse improvements in lucene 2.9. (ryan)
+
 47. SOLR-1410: Log a warning if the deprecated charset option is used
     on GreekLowerCaseFilterFactory, RussianStemFilterFactory,
     RussianLowerCaseFilterFactory or RussianLetterTokenizerFactory.
@@ -15511,68 +15514,68 @@ Other Changes
 48. SOLR-1423: Due to LUCENE-1906, Solr's tokenizer should use Tokenizer.correctOffset() instead of CharStream.correctOffset().
     (Uwe Schindler via koji)
 
-49. SOLR-1319, SOLR-1345: Upgrade Solr Highlighter classes to new Lucene Highlighter API. This upgrade has 
-    resulted in a back compat break in the DefaultSolrHighlighter class - getQueryScorer is no longer 
-    protected. If you happened to be overriding that method in custom code, overide getHighlighter instead. 
-    Also, HighlightingUtils#getQueryScorer has been removed as it was deprecated and backcompat has been 
+49. SOLR-1319, SOLR-1345: Upgrade Solr Highlighter classes to new Lucene Highlighter API. This upgrade has
+    resulted in a back compat break in the DefaultSolrHighlighter class - getQueryScorer is no longer
+    protected. If you happened to be overriding that method in custom code, overide getHighlighter instead.
+    Also, HighlightingUtils#getQueryScorer has been removed as it was deprecated and backcompat has been
     broken with it anyway.  (Mark Miller)
 
 50. SOLR-1357 SolrInputDocument cannot process dynamic fields (Lars Grote via noble)
 
 51. SOLR-1075: Upgrade to Tika 0.3.  See http://www.apache.org/dist/lucene/tika/CHANGES-0.3.txt (gsingers)
 
-52. SOLR-1310: Upgrade to Tika 0.4. Note there are some differences in 
+52. SOLR-1310: Upgrade to Tika 0.4. Note there are some differences in
     detecting Languages now in extracting request handler.
     See http://www.lucidimagination.com/search/document/d6f1899a85b2a45c/vote_apache_tika_0_4_release_candidate_2#d6f1899a85b2a45c
     for discussion on language detection.
     See http://www.apache.org/dist/lucene/tika/CHANGES-0.4.txt. (gsingers)
 
-53. SOLR-782: DIH: Refactored SolrWriter to make it a concrete class and 
-    removed wrappers over SolrInputDocument.  Refactored to load Evaluators 
-    lazily. Removed multiple document nodes in the configuration xml. Removed 
-    support for 'default' variables, they are automatically available as 
+53. SOLR-782: DIH: Refactored SolrWriter to make it a concrete class and
+    removed wrappers over SolrInputDocument.  Refactored to load Evaluators
+    lazily. Removed multiple document nodes in the configuration xml. Removed
+    support for 'default' variables, they are automatically available as
     request parameters. (Noble Paul via shalin)
 
 54. SOLR-964: DIH: XPathEntityProcessor now ignores DTD validations
     (Fergus McMenemie, Noble Paul via shalin)
 
-55. SOLR-1029: DIH: Standardize Evaluator parameter parsing and added helper 
+55. SOLR-1029: DIH: Standardize Evaluator parameter parsing and added helper
     functions for parsing all evaluator parameters in a standard way.
     (Noble Paul, shalin)
 
-56. SOLR-1081: Change DIH EventListener to be an interface so that components 
+56. SOLR-1081: Change DIH EventListener to be an interface so that components
     such as an EntityProcessor or a Transformer can act as an event listener.
     (Noble Paul, shalin)
 
 57. SOLR-1027: DIH: Alias the 'dataimporter' namespace to a shorter name 'dih'.
     (Noble Paul via shalin)
 
-58. SOLR-1084: Better error reporting when DIH entity name is a reserved word 
+58. SOLR-1084: Better error reporting when DIH entity name is a reserved word
     and data-config.xml root node is not <dataConfig>.
     (Noble Paul via shalin)
 
-59. SOLR-1087: Deprecate 'where' attribute in CachedSqlEntityProcessor in 
+59. SOLR-1087: Deprecate 'where' attribute in CachedSqlEntityProcessor in
     favor of cacheKey and cacheLookup. (Noble Paul via shalin)
 
-60. SOLR-969: Change the FULL_DUMP, DELTA_DUMP, FIND_DELTA constants in DIH 
-    Context to String.  Change Context.currentProcess() to return a string 
+60. SOLR-969: Change the FULL_DUMP, DELTA_DUMP, FIND_DELTA constants in DIH
+    Context to String.  Change Context.currentProcess() to return a string
     instead of an integer.  (Kay Kay, Noble Paul, shalin)
 
-61. SOLR-1120: Simplified DIH EntityProcessor API by moving logic for applying 
-    transformers and handling multi-row outputs from Transformers into an 
-    EntityProcessorWrapper class. The behavior of the method 
-    EntityProcessor#destroy has been modified to be called once per parent-row 
-    at the end of row. A new method EntityProcessor#close is added which is 
-    called at the end of import. A new method 
-    Context#getResolvedEntityAttribute is added which returns the resolved 
-    value of an entity's attribute. Introduced a DocWrapper which takes care 
+61. SOLR-1120: Simplified DIH EntityProcessor API by moving logic for applying
+    transformers and handling multi-row outputs from Transformers into an
+    EntityProcessorWrapper class. The behavior of the method
+    EntityProcessor#destroy has been modified to be called once per parent-row
+    at the end of row. A new method EntityProcessor#close is added which is
+    called at the end of import. A new method
+    Context#getResolvedEntityAttribute is added which returns the resolved
+    value of an entity's attribute. Introduced a DocWrapper which takes care
     of maintaining document level session variables.
     (Noble Paul, shalin)
 
-62. SOLR-1265: Add DIH variable resolving for URLDataSource properties like 
+62. SOLR-1265: Add DIH variable resolving for URLDataSource properties like
     baseUrl.  (Chris Eldredge via ehatcher)
 
-63. SOLR-1269: Better error messages from DIH JdbcDataSource when JDBC Driver 
+63. SOLR-1269: Better error messages from DIH JdbcDataSource when JDBC Driver
     name or SQL is incorrect. (ehatcher, shalin)
 
 
@@ -15590,7 +15593,7 @@ Build
     (Mark Miller via shalin)
 
  6. SOLR-1441: Make it possible to run all tests in a package (shalin)
- 
+
 
 Documentation
 ----------------------
@@ -15599,9 +15602,9 @@ Documentation
  2. SOLR-962: Note about null handling in ModifiableSolrParams.add javadoc
     (Kay Kay via hossman)
 
- 3. SOLR-1409: Added Solr Powered By Logos    
+ 3. SOLR-1409: Added Solr Powered By Logos
 
- 4. SOLR-1369: Add HSQLDB Jar to example-DIH, unzip database and update 
+ 4. SOLR-1369: Add HSQLDB Jar to example-DIH, unzip database and update
     instructions.
 
 
@@ -15619,12 +15622,12 @@ and are not guaranteed to be backward compatible at the index level
 
 Older Apache Solr installations can be upgraded by replacing
 the relevant war file with the new version.  No changes to configuration
-files should be needed.  
+files should be needed.
 
 This version of Solr contains a new version of Lucene implementing
 an updated index format.  This version of Solr/Lucene can still read
 and update indexes in the older formats, and will convert them to the new
-format on the first index change.  Be sure to backup your index before 
+format on the first index change.  Be sure to backup your index before
 upgrading in case you need to downgrade.
 
 Solr now recognizes HTTP Request headers related to HTTP Caching (see
@@ -15633,7 +15636,7 @@ when appropriate.  This should only affect users who access Solr via
 an HTTP Cache, or via a Web-browser that has an internal cache, but if
 you wish to suppress this behavior an '<httpCaching never304="true"/>'
 option can be added to your solrconfig.xml.  See the wiki (or the
-example solrconfig.xml) for more details...  
+example solrconfig.xml) for more details...
    http://wiki.apache.org/solr/SolrConfigXml#HTTPCaching
 
 In Solr 1.2, DateField did not enforce the canonical representation of
@@ -15655,15 +15658,15 @@ Due to some changes in the lifecycle of TokenFilterFactories, users of
 Solr 1.2 who have written Java code which constructs new instances of
 StopFilterFactory, SynonymFilterFactory, or EnglishProterFilterFactory
 will need to modify their code by adding a line like the following
-prior to using the factory object...   
-  factory.inform(SolrCore.getSolrCore().getSolrConfig().getResourceLoader()); 
+prior to using the factory object...
+  factory.inform(SolrCore.getSolrCore().getSolrConfig().getResourceLoader());
 These lifecycle changes do not affect people who use Solr "out of the
 box" or who have developed their own TokenFilterFactory plugins. More
 info can be found in SOLR-594.
 
-The python client that used to ship with Solr is no longer included in 
+The python client that used to ship with Solr is no longer included in
 the distribution (see client/python/README.txt).
-   
+
 Detailed Change List
 --------------------
 
@@ -15679,61 +15682,61 @@ New Features
  3. SOLR-257: WordDelimiterFilter has a new parameter splitOnCaseChange,
     which can be set to 0 to disable splitting "PowerShot" => "Power" "Shot".
     (klaas)
-    
+
  4. SOLR-193: Adding SolrDocument and SolrInputDocument to represent documents
-    outside of the lucene Document infrastructure.  This class will be used 
-    by clients and for processing documents. (ryan) 
+    outside of the lucene Document infrastructure.  This class will be used
+    by clients and for processing documents. (ryan)
 
- 5. SOLR-244: Added ModifiableSolrParams - a SolrParams implementation that 
+ 5. SOLR-244: Added ModifiableSolrParams - a SolrParams implementation that
     help you change values after initialization. (ryan)
 
- 6. SOLR-20: Added a java client interface with two implementations.  One 
-    implementation uses commons httpclient to connect to solr via HTTP.  The 
+ 6. SOLR-20: Added a java client interface with two implementations.  One
+    implementation uses commons httpclient to connect to solr via HTTP.  The
     other connects to solr directly.  Check client/java/solrj.  This addition
     also includes tests that start jetty and test a connection using the full
     HTTP request cycle.  (Darren Erik Vengroff, Will Johnson, ryan)
- 
+
  7. SOLR-133: Added StaxUpdateRequestHandler that uses StAX for XML parsing.
     This implementation has much better error checking and lets you configure
-    a custom UpdateRequestProcessor that can selectively process update 
-    requests depending on the request attributes.  This class will likely 
+    a custom UpdateRequestProcessor that can selectively process update
+    requests depending on the request attributes.  This class will likely
     replace XmlUpdateRequestHandler.  (Thorsten Scherler, ryan)
 
  8. SOLR-264: Added RandomSortField, a utility field with a random sort order.
     The seed is based on a hash of the field name, so a dynamic field
     of this type is useful for generating different random sequences.
     This field type should only be used for sorting or as a value source
-    in a FunctionQuery (ryan, hossman, yonik) 
+    in a FunctionQuery (ryan, hossman, yonik)
 
  9. SOLR-266: Adding show=schema to LukeRequestHandler to show the parsed
     schema fields and field types.  (ryan)
 
-10. SOLR-133: The UpdateRequestHandler now accepts multiple delete options 
+10. SOLR-133: The UpdateRequestHandler now accepts multiple delete options
     within a single request.  For example, sending:
      <delete><id>1</id><id>2</id></delete> will delete both 1 and 2. (ryan)
 
 11. SOLR-269: Added UpdateRequestProcessor plugin framework.  This provides
-    a reasonable place to process documents after they are parsed and 
-    before they are committed to the index.  This is a good place for custom 
+    a reasonable place to process documents after they are parsed and
+    before they are committed to the index.  This is a good place for custom
     document manipulation or document based authorization. (yonik, ryan)
 
 12. SOLR-260: Converting to a standard PluginLoader framework.  This reworks
     RequestHandlers, FieldTypes, and QueryResponseWriters to share the same
-    base code for loading and initializing plugins.  This adds a new 
-    configuration option to define the default RequestHandler and 
+    base code for loading and initializing plugins.  This adds a new
+    configuration option to define the default RequestHandler and
     QueryResponseWriter in XML using default="true".  (ryan)
 
 13. SOLR-225: Enable pluggable highlighting classes.  Allow configurable
     highlighting formatters and Fragmenters.  (ryan)
 
-14. SOLR-273/376/452/516: Added hl.maxAnalyzedChars highlighting parameter, defaulting 
+14. SOLR-273/376/452/516: Added hl.maxAnalyzedChars highlighting parameter, defaulting
     to 50k, hl.alternateField, which allows the specification of a backup
     field to use as summary if no keywords are matched, and hl.mergeContiguous,
     which combines fragments if they are adjacent in the source document.
     (klaas, Grant Ingersoll, Koji Sekiguchi via klaas)
 
 15. SOLR-291: Control maximum number of documents to cache for any entry
-    in the queryResultCache via queryResultMaxDocsCached solrconfig.xml 
+    in the queryResultCache via queryResultMaxDocsCached solrconfig.xml
     entry. (Koji Sekiguchi via yonik)
 
 16. SOLR-240: New <lockType> configuration setting in <mainIndex> and
@@ -15741,12 +15744,12 @@ New Features
     'single' is recommended setting, but 'simple' is default for total
     backwards compatibility.
     (Will Johnson via hossman)
-    
-17. SOLR-248: Added CapitalizationFilterFactory that creates tokens with 
+
+17. SOLR-248: Added CapitalizationFilterFactory that creates tokens with
     normalized capitalization.  This filter is useful for facet display,
     but will not work with a prefix query.  (ryan)
-    SOLR-468: Change to the semantics to keep the original token, not the 
-    token in the Map.  Also switched to use Lucene's new reusable token 
+    SOLR-468: Change to the semantics to keep the original token, not the
+    token in the Map.  Also switched to use Lucene's new reusable token
     capabilities.  (gsingers)
 
 18. SOLR-307: Added NGramFilterFactory and EdgeNGramFilterFactory.
@@ -15759,7 +15762,7 @@ New Features
     based on a given pattern.  (klaas)
 
 21. SOLR-258: Date Faceting added to SimpleFacets.  Facet counts
-    computed for ranges of size facet.date.gap (a DateMath expression) 
+    computed for ranges of size facet.date.gap (a DateMath expression)
     between facet.date.start and facet.date.end.  (hossman)
 
 22. SOLR-196: A PHP serialized "phps" response writer that returns a
@@ -15767,8 +15770,8 @@ New Features
     and a PHP response writer "php" that may be used by eval.
     (Nick Jenkin, Paul Borgermans, Pieter Berkel via yonik)
 
-23. SOLR-308: A new UUIDField class which accepts UUID string values, 
-    as well as the special value of "NEW" which triggers generation of 
+23. SOLR-308: A new UUIDField class which accepts UUID string values,
+    as well as the special value of "NEW" which triggers generation of
     a new random UUID.
     (Thomas Peuss via hossman)
 
@@ -15798,20 +15801,20 @@ New Features
     (Karsten Sperling via ryan)
 
 30. SOLR-281: Added a 'Search Component' interface and converted StandardRequestHandler
-    and DisMaxRequestHandler to use this framework.  
-    (Sharad Agarwal, Henri Biestro, yonik, ryan) 
-    
+    and DisMaxRequestHandler to use this framework.
+    (Sharad Agarwal, Henri Biestro, yonik, ryan)
+
 31. SOLR-176: Add detailed timing data to query response output.  The SearchHandler
     interface now returns how long each section takes.  (klaas)
-    
-32. SOLR-414: Plugin initialization now supports SolrCore and ResourceLoader "Aware" 
-    plugins.  Plugins that implement SolrCoreAware or ResourceLoaderAware are 
+
+32. SOLR-414: Plugin initialization now supports SolrCore and ResourceLoader "Aware"
+    plugins.  Plugins that implement SolrCoreAware or ResourceLoaderAware are
     informed about the SolrCore/ResourceLoader. (Henri Biestro, ryan)
 
 33. SOLR-350: Support multiple SolrCores running in the same solr instance and allows
-    runtime runtime management for any running SolrCore.  If a solr.xml file exists 
-    in solr.home, this file is used to instanciate multiple cores and enables runtime 
-    core manipulation.  For more informaion see:  http://wiki.apache.org/solr/CoreAdmin  
+    runtime runtime management for any running SolrCore.  If a solr.xml file exists
+    in solr.home, this file is used to instanciate multiple cores and enables runtime
+    core manipulation.  For more informaion see:  http://wiki.apache.org/solr/CoreAdmin
     (Henri Biestro, ryan)
 
 34. SOLR-447: Added an single request handler that will automatically register all
@@ -15820,22 +15823,22 @@ New Features
      <requestHandler name="/admin/" class="org.apache.solr.handler.admin.AdminHandlers" />
     This will register: Luke/SystemInfo/PluginInfo/ThreadDump/PropertiesRequestHandler.
     (ryan)
-    
+
 35. SOLR-142: Added RawResponseWriter and ShowFileRequestHandler.  This returns config
     files directly.  If AdminHandlers are configured, this will be added automatically.
     The jsp files /admin/get-file.jsp and /admin/raw-schema.jsp have been deprecated.
     The deprecated <admin><gettableFiles> will be automatically registered with
     a ShowFileRequestHandler instance for backwards compatibility. (ryan)
 
-36. SOLR-446: TextResponseWriter can write SolrDocuments and SolrDocumentLists the 
+36. SOLR-446: TextResponseWriter can write SolrDocuments and SolrDocumentLists the
     same way it writes Document and DocList.  (yonik, ryan)
 
 37. SOLR-418: Adding a query elevation component.  This is an optional component to
     elevate some documents to the top positions (or exclude them) for a given query.
     (ryan)
 
-38. SOLR-478: Added ability to get back unique key information from the LukeRequestHandler. 
-    (gsingers)    
+38. SOLR-478: Added ability to get back unique key information from the LukeRequestHandler.
+    (gsingers)
 
 39. SOLR-127: HTTP Caching awareness.  Solr now recognizes HTTP Request
     headers related to HTTP Caching (see RFC 2616 sec13) and will respond
@@ -15851,7 +15854,7 @@ New Features
     (Sharad Agarwal, Patrick O'Leary, Sabyasachi Dalal, Stu Hood,
      Jayson Minard, Lars Kotthoff, ryan, yonik)
 
-41. SOLR-356: Pluggable functions (value sources) that allow 
+41. SOLR-356: Pluggable functions (value sources) that allow
     registration of new functions via solrconfig.xml
     (Doug Daniels via yonik)
 
@@ -15887,21 +15890,21 @@ New Features
     making config file parameters usable in the construction of
     the global Lucene Similarity implementation.
     (ehatcher)
-    
+
 50. SOLR-536: Add a DocumentObjectBinder to solrj that converts Objects to and
     from SolrDocuments.  (Noble Paul via ryan)
 
-51. SOLR-595: Add support for Field level boosting in the MoreLikeThis Handler.  
+51. SOLR-595: Add support for Field level boosting in the MoreLikeThis Handler.
     (Tom Morton, gsingers)
 
-52. SOLR-572: Added SpellCheckComponent and org.apache.solr.spelling package to support more spell 
+52. SOLR-572: Added SpellCheckComponent and org.apache.solr.spelling package to support more spell
     checking functionality.  Also includes ability to add your own SolrSpellChecker implementation that
     plugs in.  See http://wiki.apache.org/solr/SpellCheckComponent for more details
     (Shalin Shekhar Mangar, Bojan Smid, gsingers)
 
 53. SOLR-679: Added accessor methods to Lucene based spell checkers (gsingers)
 
-54. SOLR-423: Added Request Handler close hook notification so that RequestHandlers can be notified 
+54. SOLR-423: Added Request Handler close hook notification so that RequestHandlers can be notified
     when a core is closing.  (gsingers, ryan)
 
 55. SOLR-603: Added ability to partially optimize. (gsingers)
@@ -15912,59 +15915,59 @@ New Features
     (Geoffrey Young, Trey Hyde, Ankur Madnani, yonik)
 
 58. SOLR-502: Add search timeout support. (Sean Timm via yonik)
-    
+
 59. SOLR-605: Add the ability to register callbacks programatically (ryan, Noble Paul)
 
 60. SOLR-610: hl.maxAnalyzedChars can be -1 to highlight everything (Lars Kotthoff via klaas)
 
 61. SOLR-522: Make analysis.jsp show payloads. (Tricia Williams via yonik)
 
-62. SOLR-611: Expose sort_values returned by QueryComponent in SolrJ's QueryResponse 
+62. SOLR-611: Expose sort_values returned by QueryComponent in SolrJ's QueryResponse
     (Dan Rosher via shalin)
 
 63. SOLR-256: Support exposing Solr statistics through JMX (Sharad Agrawal, shalin)
 
 64. SOLR-666: Expose warmup time in statistics for SolrIndexSearcher and LRUCache (shalin)
 
-65. SOLR-663: Allow multiple files for stopwords, keepwords, protwords and synonyms 
+65. SOLR-663: Allow multiple files for stopwords, keepwords, protwords and synonyms
     (Otis Gospodnetic, shalin)
 
-66. SOLR-469: Added DataImportHandler as a contrib project which makes indexing data from Databases, 
+66. SOLR-469: Added DataImportHandler as a contrib project which makes indexing data from Databases,
     XML files and HTTP data sources into Solr quick and easy. Includes API and implementations for
-    supporting multiple data sources, processors and transformers for importing data. Supports full 
+    supporting multiple data sources, processors and transformers for importing data. Supports full
     data imports as well as incremental (delta) indexing. See http://wiki.apache.org/solr/DataImportHandler
     for more details. (Noble Paul, shalin)
 
 67. SOLR-622: SpellCheckComponent supports auto-loading indices on startup and optionally, (re)builds
     indices on newSearcher event, if configured in solrconfig.xml (shalin)
 
-68. SOLR-554: Hierarchical JDK log level selector for SOLR Admin replaces logging.jsp 
+68. SOLR-554: Hierarchical JDK log level selector for SOLR Admin replaces logging.jsp
     (Sean Timm via shalin)
 
-69. SOLR-506: Emitting HTTP Cache headers can be enabled or disabled through configuration on a 
+69. SOLR-506: Emitting HTTP Cache headers can be enabled or disabled through configuration on a
     per-handler basis (shalin)
 
-70. SOLR-716: Added support for properties in configuration files. Properties can be specified in 
+70. SOLR-716: Added support for properties in configuration files. Properties can be specified in
     solr.xml and can be used in solrconfig.xml and schema.xml (Henri Biestro, hossman, ryan, shalin)
 
 71. SOLR-1129 : Support binding dynamic fields to beans in SolrJ (Avlesh Singh , noble)
 
 72. SOLR-920 : Cache and reuse IndexSchema . A new attribute added in solr.xml called 'shareSchema' (noble)
 
-73. SOLR-700: DIH: Allow configurable locales through a locale attribute in 
+73. SOLR-700: DIH: Allow configurable locales through a locale attribute in
     fields for NumberFormatTransformer. (Stefan Oestreicher, shalin)
 
 Changes in runtime behavior
  1. SOLR-559: use Lucene updateDocument, deleteDocuments methods.  This
     removes the maxBufferedDeletes parameter added by SOLR-310 as Lucene
-    now manages the deletes.  This provides slightly better indexing 
+    now manages the deletes.  This provides slightly better indexing
     performance and makes overwrites atomic, eliminating the possibility of
     a crash causing duplicates. (yonik)
 
  2. SOLR-689 / SOLR-695: If you have used "MultiCore" functionality in an unreleased
-    version of 1.3-dev, many classes and configs have been renamed for the official 
+    version of 1.3-dev, many classes and configs have been renamed for the official
     1.3 release.  Speciffically, solr.xml has replaced multicore.xml, and uses a slightly
-    different syntax.  The solrj classes: MultiCore{Request/Response/Params} have been 
+    different syntax.  The solrj classes: MultiCore{Request/Response/Params} have been
     renamed:  CoreAdmin{Request/Response/Params}  (hossman, ryan, Henri Biestro)
 
  3. SOLR-647: reference count the SolrCore uses to prevent a premature
@@ -15973,13 +15976,13 @@ Changes in runtime behavior
  4. SOLR-737: SolrQueryParser now uses a ConstantScoreQuery for wildcard
     queries that prevent an exception from being thrown when the number
     of matching terms exceeds the BooleanQuery clause limit.  (yonik)
-    
+
 Optimizations
  1. SOLR-276: improve JSON writer speed. (yonik)
- 
+
  2. SOLR-310: bound and reduce memory usage by providing <maxBufferedDeletes> parameter,
     which flushes deleted without forcing the user to use <commit/> for this purpose.
-    (klaas) 
+    (klaas)
 
  3. SOLR-348: short-circuit faceting if less than mincount docs match. (yonik)
 
@@ -15989,18 +15992,18 @@ Optimizations
  5. SOLR-377: Speed up response writers. (yonik)
 
  6. SOLR-342:  Added support into the SolrIndexWriter for using several new features of the new
-    LuceneIndexWriter, including: setRAMBufferSizeMB(), setMergePolicy(), setMergeScheduler.  
+    LuceneIndexWriter, including: setRAMBufferSizeMB(), setMergePolicy(), setMergeScheduler.
     Also, added support to specify Lucene's autoCommit functionality (not to be confused with Solr's
-    similarily named autoCommit functionality) via the <luceneAutoCommit> config. item.  See the test 
-    and example solrconfig.xml <indexDefaults> section for usage.  Performance during indexing should 
-    be significantly increased by moving up to 2.3 due to Lucene's new indexing capabilities.  
+    similarily named autoCommit functionality) via the <luceneAutoCommit> config. item.  See the test
+    and example solrconfig.xml <indexDefaults> section for usage.  Performance during indexing should
+    be significantly increased by moving up to 2.3 due to Lucene's new indexing capabilities.
     Furthermore, the setRAMBufferSizeMB makes it more logical to decide on tuning factors related to
     indexing.  For best performance, leave the mergePolicy and mergeScheduler as the defaults and set
-    ramBufferSizeMB instead of maxBufferedDocs.  The best value for this depends on the types of 
+    ramBufferSizeMB instead of maxBufferedDocs.  The best value for this depends on the types of
     documents in use.  32 should be a good starting point, but reports have shown up to 48 MB provides
-    good results. Note, it is acceptable to set both ramBufferSizeMB and maxBufferedDocs, and Lucene 
+    good results. Note, it is acceptable to set both ramBufferSizeMB and maxBufferedDocs, and Lucene
     will flush based on whichever limit is reached first. (gsingers)
-    
+
  7. SOLR-330: Converted TokenStreams to use Lucene's new char array based
     capabilities. (gsingers)
 
@@ -16032,7 +16035,7 @@ Bug Fixes
     specific param would fail if a general default value had been supplied.
     (hossman)
 
- 7. SOLR-331: Fix WordDelimiterFilter handling of offsets for synonyms or 
+ 7. SOLR-331: Fix WordDelimiterFilter handling of offsets for synonyms or
     other injected tokens that can break highlighting. (yonik)
 
  8. SOLR-282: Snapshooter does not work on Solaris and OS X since the cp command
@@ -16045,7 +16048,7 @@ Bug Fixes
 10. SOLR-136: Snappuller - "date -d" and locales don't mix.  (Jürgen Hermann via bill)
 
 11. SOLR-333: Changed distributiondump.jsp to use Solr HOME instead of CWD to set path.
- 
+
 12. SOLR-393: Removed duplicate contentType from raw-schema.jsp. (bill)
 
 13. SOLR-413: Requesting a large numbers of documents to be returned (limit)
@@ -16054,7 +16057,7 @@ Bug Fixes
 14. The CSV loader incorrectly threw an exception when given
     header=true (the default).  (ryan, yonik)
 
-15. SOLR-449: the python and ruby response writers are now able to correctly 
+15. SOLR-449: the python and ruby response writers are now able to correctly
     output NaN and Infinity in their respective languages.  (klaas)
 
 16. SOLR-42: HTMLStripReader tokenizers now preserve correct source
@@ -16062,7 +16065,7 @@ Bug Fixes
 
 17. SOLR-481: Handle UnknownHostException in _info.jsp (gsingers)
 
-18. SOLR-324: Add proper support for Long and Doubles in sorting, etc. (gsingers) 
+18. SOLR-324: Add proper support for Long and Doubles in sorting, etc. (gsingers)
 
 19. SOLR-496: Cache-Control max-age changed to Long so Expires
     calculation won't cause overflow.  (Thomas Peuss via hossman)
@@ -16080,7 +16083,7 @@ Bug Fixes
 23. SOLR-528: Better error message when defaultSearchField is bogus or not
     indexed.  (Lars Kotthoff via hossman)
 
-24. SOLR-533: Fixed tests so they don't use hardcoded port numbers. 
+24. SOLR-533: Fixed tests so they don't use hardcoded port numbers.
     (hossman)
 
 25. SOLR-400: SolrExceptionTest should now handle using OpenDNS as a DNS provider (gsingers)
@@ -16089,13 +16092,13 @@ Bug Fixes
     when no RequestHandler is mapped to "/update") now logs error correctly.
     (hossman)
 
-27. SOLR-267: Changed logging to report number of hits, and also provide a mechanism to add log 
-    messages to be output by the SolrCore via a NamedList toLog member variable.  
+27. SOLR-267: Changed logging to report number of hits, and also provide a mechanism to add log
+    messages to be output by the SolrCore via a NamedList toLog member variable.
     (Will Johnson, yseeley, gsingers)
 
     - SOLR-267: Removed adding values to the HTTP headers in SolrDispatchFilter (gsingers)
 
-28. SOLR-509: Moved firstSearcher event notification to the end of the SolrCore constructor 
+28. SOLR-509: Moved firstSearcher event notification to the end of the SolrCore constructor
     (Koji Sekiguchi via gsingers)
 
 29. SOLR-470, SOLR-552, SOLR-544, SOLR-701: Multiple fixes to DateField
@@ -16108,7 +16111,7 @@ Bug Fixes
     by zero. (Sean Timm via Otis Gospodnetic)
 
 31. SOLR-514: Added explicit media-type with UTF* charset to *.xsl files that
-    don't already have one. (hossman) 
+    don't already have one. (hossman)
 
 32. SOLR-505: Give RequestHandlers the possiblity to suppress the generation
     of HTTP caching headers.  (Thomas Peuss via Otis Gospodnetic)
@@ -16117,7 +16120,7 @@ Bug Fixes
     hl.usePhraseHighligher=true URL param is used.
     (Bojan Smid via Otis Gospodnetic)
 
-34. SOLR-590: Limitation in pgrep on Linux platform breaks script-utils fixUser.    
+34. SOLR-590: Limitation in pgrep on Linux platform breaks script-utils fixUser.
     (Hannes Schmidt via billa)
 
 35. SOLR-597: SolrServlet no longer "caches" SolrCore.  This was causing
@@ -16126,7 +16129,7 @@ Bug Fixes
 
 36. SOLR-585: Now sets the QParser on the ResponseBuilder (gsingers)
 
-37. SOLR-604: If the spellchecking path is relative, make it relative to the Solr Data Directory.  
+37. SOLR-604: If the spellchecking path is relative, make it relative to the Solr Data Directory.
     (Shalin Shekhar Mangar via gsingers)
 
 38. SOLR-584: Make stats.jsp and stats.xsl more robust.
@@ -16138,24 +16141,24 @@ Bug Fixes
     via useMultiPartPost in CommonsHttpSolrServer.
     (Lars Kotthoff, Andrew Schurman, ryan, yonik)
 
-40. SOLR-556: multi-valued fields always highlighted in disparate snippets 
+40. SOLR-556: multi-valued fields always highlighted in disparate snippets
     (Lars Kotthoff via klaas)
 
 41. SOLR-501: Fix admin/analysis.jsp UTF-8 input for some other servlet
     containers such as Tomcat. (Hiroaki Kawai, Lars Kotthoff via yonik)
-    
+
 42. SOLR-616: SpellChecker accuracy configuration is not applied for FileBasedSpellChecker.
     Apply it for FileBasedSpellChecker and IndexBasedSpellChecker both.
     (shalin)
-    
+
 43. SOLR-648: SpellCheckComponent throws NullPointerException on using spellcheck.q request
     parameter after restarting Solr, if reload is called but build is not called.
     (Jonathan Lee, shalin)
 
-44. SOLR-598: DebugComponent now always occurs last in the SearchHandler list unless the 
+44. SOLR-598: DebugComponent now always occurs last in the SearchHandler list unless the
     components are explicitly declared. (gsingers)
 
-45. SOLR-676: DataImportHandler should use UpdateRequestProcessor API instead of directly 
+45. SOLR-676: DataImportHandler should use UpdateRequestProcessor API instead of directly
     using UpdateHandler. (shalin)
 
 46. SOLR-696: Fixed bug in NamedListCodec in regards to serializing Iterable objects.  (gsingers)
@@ -16168,22 +16171,22 @@ Bug Fixes
 
 50. SOLR-749: Allow QParser and ValueSourceParsers to be extended with same name (hossman, gsingers)
 
-51. SOLR-704: DIH NumberFormatTransformer can silently ignore part of the 
-    string while parsing. Now it tries to use the complete string for parsing. 
+51. SOLR-704: DIH NumberFormatTransformer can silently ignore part of the
+    string while parsing. Now it tries to use the complete string for parsing.
     Failure to do so will result in an exception.
     (Stefan Oestreicher via shalin)
 
-52. SOLR-729: DIH Context.getDataSource(String) gives current entity's 
+52. SOLR-729: DIH Context.getDataSource(String) gives current entity's
     DataSource instance regardless of argument. (Noble Paul, shalin)
 
-53. SOLR-726: DIH: Jdbc Drivers and DataSources fail to load if placed in 
+53. SOLR-726: DIH: Jdbc Drivers and DataSources fail to load if placed in
     multicore sharedLib or core's lib directory.
     (Walter Ferrara, Noble Paul, shalin)
 
 Other Changes
  1. SOLR-135: Moved common classes to org.apache.solr.common and altered the
-    build scripts to make two jars: apache-solr-1.3.jar and 
-    apache-solr-1.3-common.jar.  This common.jar can be used in client code; 
+    build scripts to make two jars: apache-solr-1.3.jar and
+    apache-solr-1.3-common.jar.  This common.jar can be used in client code;
     It does not have lucene or junit dependencies.  The original classes
     have been replaced with a @Deprecated extended class and are scheduled
     to be removed in a later release.  While this change does not affect API
@@ -16215,7 +16218,7 @@ Other Changes
 
  8. Upgraded to Lucene 2.3.0; Jan 23, 2008.
 
- 9. SOLR-451: Changed analysis.jsp to use POST instead of GET, also made the input area a 
+ 9. SOLR-451: Changed analysis.jsp to use POST instead of GET, also made the input area a
     bit bigger (gsingers)
 
 10. Upgrade to Lucene 2.3.1
@@ -16238,8 +16241,8 @@ Other Changes
 
 17. SOLR-645: Refactored SimpleFacetsTest (Lars Kotthoff via hossman)
 
-18. SOLR-591: Changed Solrj default value for facet.sort to true (Lars Kotthoff via Shalin) 
-    
+18. SOLR-591: Changed Solrj default value for facet.sort to true (Lars Kotthoff via Shalin)
+
 19. Upgraded to Lucene 2.4-dev (r669476) to support SOLR-572 (gsingers)
 
 20. SOLR-636: Improve/simplify example configs; and make index.jsp
@@ -16264,7 +16267,7 @@ Build
       apache-solr-solrj-1.3-dev.jar
       apache-solr-1.3-dev.jar
 
- 2. SOLR-479: Added clover code coverage targets for committers and the nightly build.  Requires 
+ 2. SOLR-479: Added clover code coverage targets for committers and the nightly build.  Requires
     the Clover library, as licensed to Apache and only available privately.  To run:
           ant -Drun.clover=true clean clover test generate-clover-reports
 
@@ -16291,12 +16294,12 @@ first, the older searchers would not be able to read the new index format.
 
 Older Apache Solr installations can be upgraded by replacing
 the relevant war file with the new version.  No changes to configuration
-files should be needed.  
+files should be needed.
 
 This version of Solr contains a new version of Lucene implementing
 an updated index format.  This version of Solr/Lucene can still read
 and update indexes in the older formats, and will convert them to the new
-format on the first index change.  One change in the new index format 
+format on the first index change.  One change in the new index format
 is that all "norms" are kept in a single file, greatly reducing the number
 of files per segment. Users of compound file indexes will want to consider
 converting to the non-compound format for faster indexing and slightly better
@@ -16339,7 +16342,7 @@ New Features
       stream, replacing match occurances with a specified replacement.
     (hossman)
 
- 3. SOLR-91: allow configuration of a limit of the number of searchers 
+ 3. SOLR-91: allow configuration of a limit of the number of searchers
     that can be warming in the background.  This can be used to avoid
     out-of-memory errors, or contention caused by more and more searchers
     warming in the background.  An error is thrown if the limit specified
@@ -16401,14 +16404,14 @@ New Features
 
 16. SOLR-81: SpellCheckerRequestHandler that uses the SpellChecker from
     the Lucene contrib.
-    (Otis Gospodnetic and Adam Hiatt)    
+    (Otis Gospodnetic and Adam Hiatt)
 
 17. SOLR-182: allow lazy loading of request handlers on first request.
     (Ryan McKinley via yonik)
 
 18. SOLR-81: More SpellCheckerRequestHandler enhancements, inlcluding
     support for relative or absolute directory path configurations, as
-    well as RAM based directory. (hossman)   
+    well as RAM based directory. (hossman)
 
 19. SOLR-197: New parameters for input: stream.contentType for specifying
     or overriding the content type of input, and stream.file for reading
@@ -16418,26 +16421,26 @@ New Features
 
 21. SOLR-184: add echoHandler=true to responseHeader, support echoParams=all
     (Ryan McKinley via ehatcher)
-    
-22. SOLR-211: Added a regex PatternTokenizerFactory.  This extracts tokens 
+
+22. SOLR-211: Added a regex PatternTokenizerFactory.  This extracts tokens
     from the input string using a regex Pattern. (Ryan McKinley)
-    
+
 23. SOLR-162: Added a "Luke" request handler and other admin helpers.
     This exposes the system status through the standard requestHandler
     framework. (ryan)
-    
+
 24. SOLR-212: Added a DirectSolrConnection class.  This lets you access
     solr using the standard request/response formats, but does not require
-    an HTTP connection.  It is designed for embedded applications. (ryan)    
+    an HTTP connection.  It is designed for embedded applications. (ryan)
 
 25. SOLR-204: The request dispatcher (added in SOLR-104) can handle
-    calls to /select.  This offers uniform error handling for /update and 
+    calls to /select.  This offers uniform error handling for /update and
     /select.  To enable this behavior, you must add:
       <requestDispatcher handleSelect="true" > to your solrconfig.xml
     See the example solrconfig.xml for details.  (ryan)
 
 26. SOLR-170: StandardRequestHandler now supports a "sort" parameter.
-    Using the ';' syntax is still supported, but it is recommended to 
+    Using the ';' syntax is still supported, but it is recommended to
     transition to the new syntax. (ryan)
 
 27. SOLR-181: The index schema now supports "required" fields.  Attempts
@@ -16452,24 +16455,24 @@ New Features
     ignore any "unknown" fields.
     (Will Johnson via hossman)
 
-29. SOLR-227: If schema.xml defines multiple fieldTypes, fields, or 
-    dynamicFields with the same name, a severe error will be logged rather 
-    then quietly continuing. Depending on the <abortOnConfigurationError> 
-    settings, this may halt the server.  Likewise, if solrconfig.xml 
+29. SOLR-227: If schema.xml defines multiple fieldTypes, fields, or
+    dynamicFields with the same name, a severe error will be logged rather
+    then quietly continuing. Depending on the <abortOnConfigurationError>
+    settings, this may halt the server.  Likewise, if solrconfig.xml
     defines multiple RequestHandlers with the same name it will also add
     an error.  (ryan)
 
-30. SOLR-226: Added support for dynamic field as the destination of a 
+30. SOLR-226: Added support for dynamic field as the destination of a
     copyField using glob (*) replacement. (ryan)
-    
+
 31. SOLR-224: Adding a PhoneticFilterFactory that uses apache commons codec
     language encoders to build phonetically similar tokens.  This currently
     supports: DoubleMetaphone, Metaphone, Soundex, and RefinedSoundex (ryan)
 
-32. SOLR-199: new n-gram tokenizers available via NGramTokenizerFactory 
+32. SOLR-199: new n-gram tokenizers available via NGramTokenizerFactory
     and EdgeNGramTokenizerFactory. (Adam Hiatt via yonik)
 
-33. SOLR-234: TrimFilter can update the Token's startOffset and endOffset 
+33. SOLR-234: TrimFilter can update the Token's startOffset and endOffset
     if updateOffsets="true".  By default the Token offsets are unchanged.
     (ryan)
 
@@ -16478,17 +16481,17 @@ New Features
     can transform it to suit different needs.
     (Brian Whitman via hossman)
 
-35. SOLR-249: Deprecated SolrException( int, ... ) constructors in favor 
+35. SOLR-249: Deprecated SolrException( int, ... ) constructors in favor
     of constructors that takes an ErrorCode enum.  This will ensure that
     all SolrExceptions use a valid HTTP status code. (ryan)
-    
+
 36. SOLR-386: Abstracted SolrHighlighter and moved existing implementation
-    to DefaultSolrHighlighter.  Adjusted SolrCore and solrconfig.xml so 
-    that highlighter is configurable via a class attribute.  Allows users 
+    to DefaultSolrHighlighter.  Adjusted SolrCore and solrconfig.xml so
+    that highlighter is configurable via a class attribute.  Allows users
     to use their own highlighter implementation. (Tricia Williams via klaas)
-        
+
 Changes in runtime behavior
- 1. Highlighting using DisMax will only pick up terms from the main 
+ 1. Highlighting using DisMax will only pick up terms from the main
     user query, not boost or filter queries (klaas).
 
  2. SOLR-125: Change default of json.nl to flat, change so that
@@ -16509,7 +16512,7 @@ Changes in runtime behavior
  5. Query are re-written before highlighting is performed.  This enables
     proper highlighting of prefix and wildcard queries (klaas).
 
- 6. A meaningful exception is raised when attempting to add a doc missing 
+ 6. A meaningful exception is raised when attempting to add a doc missing
     a unique id if it is declared in the schema and allowDups=false.
     (ryan via klaas)
 
@@ -16523,14 +16526,14 @@ Changes in runtime behavior
     <abortOnConfigurationError>false</abortOnConfigurationError>
     in solrconfig.xml (ryan)
 
- 9. The example solrconfig.xml maps /update to XmlUpdateRequestHandler using 
-    the new request dispatcher (SOLR-104).  This requires posted content to 
-    have a valid contentType: curl -H 'Content-type:text/xml; charset=utf-8' 
-    The response format matches that of /select and returns standard error 
-    codes.  To enable solr1.1 style /update, do not map "/update" to any 
+ 9. The example solrconfig.xml maps /update to XmlUpdateRequestHandler using
+    the new request dispatcher (SOLR-104).  This requires posted content to
+    have a valid contentType: curl -H 'Content-type:text/xml; charset=utf-8'
+    The response format matches that of /select and returns standard error
+    codes.  To enable solr1.1 style /update, do not map "/update" to any
     handler in solrconfig.xml (ryan)
 
-10. SOLR-231: If a charset is not specified in the contentType, 
+10. SOLR-231: If a charset is not specified in the contentType,
     ContentStream.getReader() will use UTF-8 encoding.  (ryan)
 
 11. SOLR-230: More options for post.jar to support stdin, xml on the
@@ -16539,13 +16542,13 @@ Changes in runtime behavior
     (hossman)
 
 12. SOLR-128: Upgraded Jetty to the latest stable release 6.1.3 (ryan)
-    
-Optimizations 
+
+Optimizations
  1. SOLR-114: HashDocSet specific implementations of union() and andNot()
     for a 20x performance improvement for those set operations, and a new
     hash algorithm speeds up exists() by 10% and intersectionSize() by 8%.
     (yonik)
-   
+
  2. SOLR-115: Solr now uses BooleanQuery.clauses() instead of
     BooleanQuery.getClauses() in any situation where there is no risk of
     modifying the original query.
@@ -16563,17 +16566,17 @@ Bug Fixes
  1. SOLR-87: Parsing of synonym files did not correctly handle escaped
     whitespace such as \r\n\t\b\f. (yonik)
 
- 2. SOLR-92: DOMUtils.getText (used when parsing config files) did not 
-    work properly with many DOM implementations when dealing with 
+ 2. SOLR-92: DOMUtils.getText (used when parsing config files) did not
+    work properly with many DOM implementations when dealing with
     "Attributes". (Ryan McKinley via hossman)
 
  3. SOLR-9,SOLR-99: Tighten up sort specification error checking, throw
     exceptions for missing sort specifications or a sort on a non-indexed
     field. (Ryan McKinley via yonik)
-    
+
  4. SOLR-145: Fix for bug introduced in SOLR-104 where some Exceptions
     were being ignored by all "out of the box" RequestHandlers. (hossman)
-      
+
  5. SOLR-166: JNDI solr.home code refactoring.  SOLR-104 moved
     some JNDI related code to the init method of a Servlet Filter -
     according to the Servlet Spec, all Filter's should be initialized
@@ -16593,7 +16596,7 @@ Bug Fixes
     position in analysis.jsp (yonik)
 
  8. SOLR-167: The SynonymFilter sometimes generated incorrect offsets when
-    multi token synonyms were mached in the source text. (yonik) 
+    multi token synonyms were mached in the source text. (yonik)
 
  9. SOLR-188: bin scripts do not support non-default webapp names.  Added "-U"
     option to specify a full path to the update url, overriding the
@@ -16610,20 +16613,20 @@ Bug Fixes
 12. SOLR-222: Changing writeLockTimeout in solrconfig.xml did not
     change the effective timeout. (Koji Sekiguchi via yonik)
 
-13. Changed the SOLR-104 RequestDispatcher so that /select?qt=xxx can not 
+13. Changed the SOLR-104 RequestDispatcher so that /select?qt=xxx can not
     access handlers that start with "/".  This makes path based authentication
     possible for path based request handlers.  (ryan)
 
 14. SOLR-214: Some servlet containers (including Tomcat and Resin) do not
-    obey the specified charset.  Rather then letting the the container handle 
+    obey the specified charset.  Rather then letting the the container handle
     it solr now uses the charset from the header contentType to decode posted
     content.  Using the contentType: "text/xml; charset=utf-8" will force
-    utf-8 encoding.  If you do not specify a contentType, it will use the 
+    utf-8 encoding.  If you do not specify a contentType, it will use the
     platform default.  (Koji Sekiguchi via ryan)
 
 15. SOLR-241: Undefined system properties used in configuration files now
     cause a clear message to be logged rather than an obscure exception thrown.
-    (Koji Sekiguchi via ehatcher) 
+    (Koji Sekiguchi via ehatcher)
 
 Other Changes
  1. Updated to Lucene 2.1
@@ -16646,7 +16649,7 @@ the relevant war file with the new version.  No changes to configuration
 files are needed and the index format has not changed.
 
 The default version of the Solr XML response syntax has been changed to 2.2.
-Behavior can be preserved for those clients not explicitly specifying a 
+Behavior can be preserved for those clients not explicitly specifying a
 version by adding a default to the request handler in solrconfig.xml
 
 By default, Solr will no longer use a searcher that has not fully warmed,
@@ -16732,14 +16735,14 @@ New Features
     from being used before it's done warming.  This can help prevent
     thrashing on startup when multiple requests hit a cold searcher.
     The default is "false", preventing use before warm. (yonik, SOLR-77)
-    
+
 Changes in runtime behavior
  1. classes reorganized into different packages, package names changed to Apache
  2. force read of document stored fields in QuerySenderListener
  3. Solr now looks in ./solr/conf for config, ./solr/data for data
     configurable via solr.solr.home system property
  4. Highlighter params changed to be prefixed with "hl."; allow fragmentsize
-    customization and per-field overrides on many options 
+    customization and per-field overrides on many options
     (Andrew May via klaas, SOLR-37)
  5. Default param values for DisMaxRequestHandler should now be specified
     using a '<lst name="defaults">...</lst>' init param, for backwards
@@ -16753,17 +16756,17 @@ Changes in runtime behavior
  8. Document update handling locking is much sparser, allowing performance gains
     through multiple threads.  Large commits also might be faster (klaas, SOLR-65)
  9. Lazy field loading can be enabled via a solrconfig directive.  This will be faster when
-    not all stored fields are needed from a document (klaas, SOLR-52)   
+    not all stored fields are needed from a document (klaas, SOLR-52)
 10. Made admin JSPs return XML and transform them with new XSL stylesheets
     (Otis Gospodnetic, SOLR-58)
-11. If the "echoParams=explicit" request parameter is set, request parameters are copied 
-    to the output. In an XML output, they appear in new <lst name="params"> list inside 
-    the new <lst name="responseHeader"> element, which replaces the old <responseHeader>. 
-    Adding a version=2.1 parameter to the request produces the old format, for backwards 
+11. If the "echoParams=explicit" request parameter is set, request parameters are copied
+    to the output. In an XML output, they appear in new <lst name="params"> list inside
+    the new <lst name="responseHeader"> element, which replaces the old <responseHeader>.
+    Adding a version=2.1 parameter to the request produces the old format, for backwards
     compatibility (bdelacretaz and yonik, SOLR-59).
 
-Optimizations 
- 1. getDocListAndSet can now generate both a DocList and a DocSet from a 
+Optimizations
+ 1. getDocListAndSet can now generate both a DocList and a DocSet from a
     single lucene query.
  2. BitDocSet.intersectionSize(HashDocSet) no longer generates an intermediate
     set
@@ -16792,7 +16795,7 @@ Bug Fixes
     containing non ASCII chars.  (Bertrand Delacretaz via yonik, SOLR-32)
  7. WordDelimiterFilter can throw exceptions if configured with both
     generate and catenate off.  (Mike Klaas via yonik, SOLR-34)
- 8. Escape '>' in XML output (because ]]> is illegal in CharData) 
+ 8. Escape '>' in XML output (because ]]> is illegal in CharData)
  9. field boosts weren't being applied and doc boosts were being applied to fields (klaas)
 10. Multiple-doc update generates well-formed xml (klaas, SOLR-65)
 11. Better parsing of pingQuery from solrconfig.xml (hossman, SOLR-70)
diff --git a/solr/webapp/web/css/angular/logging.css b/solr/webapp/web/css/angular/logging.css
index af7ec4429d2..f56497b1517 100644
--- a/solr/webapp/web/css/angular/logging.css
+++ b/solr/webapp/web/css/angular/logging.css
@@ -55,8 +55,7 @@ limitations under the License.
 {
   background-position: 0 50%;
   float: left;
-  color: #c0c0c0;
-  padding-left: 21px;
+  color: #8D8D8D;
   width: 45%;
 }
 
@@ -69,7 +68,7 @@ limitations under the License.
 {
   background-image: url( ../../img/ico/ui-check-box-uncheck.png );
   background-position: 0 50%;
-  color: #c0c0c0;
+  color: #8D8D8D;
   display: block;
   padding-left: 21px;
 }
@@ -176,14 +175,9 @@ limitations under the License.
   color: #c0c0c0;
 }
 
-#content #logging #viewer .has-data tfoot
-{
-  display: none;
-}
-
 #content #logging #viewer tfoot td
 {
-  color: #c0c0c0;
+  color: #8D8D8D;
 }
 
 #content #logging .jstree > li
diff --git a/solr/webapp/web/partials/logging.html b/solr/webapp/web/partials/logging.html
index d5850e78020..833806a7f34 100644
--- a/solr/webapp/web/partials/logging.html
+++ b/solr/webapp/web/partials/logging.html
@@ -46,10 +46,10 @@ limitations under the License.
         <tr ng-show="events.length==0">
           <td colspan="4">No Events available</td>
         </tr>
-      </thead>
+     </tfoot>
     </table>
     <div id="footer" class="clearfix">
-      <div id="state" class="loader">Last Check: {{sinceDisplay}}</div>
+      <div id="state">Last Check: {{sinceDisplay}}</div>
       <div id="date-format" ng-click="toggleTimezone()"><a ng-class="{on: timezone=='UTC'}">Show dates in UTC</a></div>
     </div>
   </div>
