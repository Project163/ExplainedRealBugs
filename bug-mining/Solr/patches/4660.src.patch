diff --git a/build.gradle b/build.gradle
index 2d848878e5b..e1e18b316e0 100644
--- a/build.gradle
+++ b/build.gradle
@@ -178,7 +178,7 @@ apply from: file('gradle/documentation/render-javadoc.gradle')
 apply from: file('gradle/hacks/gradle-archives.gradle')
 apply from: file('gradle/hacks/solr.findbugs.gradle')
 
-apply from: file('gradle/hacks/gradle.gradle')
+apply from: file('gradle/hacks/wipe-temp.gradle')
 apply from: file('gradle/hacks/hashmapAssertions.gradle')
 apply from: file('gradle/hacks/turbocharge-jvm-opts.gradle')
 
diff --git a/gradle/hacks/gradle.gradle b/gradle/hacks/wipe-temp.gradle
similarity index 87%
rename from gradle/hacks/gradle.gradle
rename to gradle/hacks/wipe-temp.gradle
index acb93947ac6..2b7e56ad947 100644
--- a/gradle/hacks/gradle.gradle
+++ b/gradle/hacks/wipe-temp.gradle
@@ -19,13 +19,11 @@
 // so that it doesn't pollute user's tmp. Wipe it during a clean though.
 
 configure(rootProject) {
-  task cleanGradleTmp(type: Delete) {
-    delete fileTree(".gradle/tmp").matching {
+  gradle.buildFinished {
+    rootProject.delete fileTree(".gradle/tmp").matching {
       include "gradle-worker-classpath*"
     }
   }
-
-  clean.dependsOn cleanGradleTmp
 }
 
 // Make sure we clean up after running tests.
@@ -33,7 +31,7 @@ allprojects {
   plugins.withType(JavaPlugin) {
     def temps = []
 
-    task cleanTaskTmp() {
+    task wipeTaskTemp() {
       doLast {
         temps.each { temp ->
           project.delete fileTree(temp).matching {
@@ -44,7 +42,7 @@ allprojects {
     }
 
     tasks.withType(Test) {
-      finalizedBy rootProject.cleanGradleTmp, cleanTaskTmp
+      finalizedBy wipeTaskTemp
       temps += temporaryDir
     }
   }
