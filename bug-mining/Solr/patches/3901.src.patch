diff --git a/solr/core/src/test/org/apache/solr/update/TransactionLogTest.java b/solr/core/src/test/org/apache/solr/update/TransactionLogTest.java
index 27383e700a9..1bf4ad41978 100644
--- a/solr/core/src/test/org/apache/solr/update/TransactionLogTest.java
+++ b/solr/core/src/test/org/apache/solr/update/TransactionLogTest.java
@@ -23,23 +23,18 @@ import java.util.ArrayList;
 import java.util.Locale;
 
 import org.apache.lucene.util.LuceneTestCase;
-import org.apache.solr.SolrTestCaseJ4;
 import org.apache.solr.common.SolrInputDocument;
 import org.junit.Test;
 
-import static org.mockito.Mockito.*;
-
 public class TransactionLogTest extends LuceneTestCase {
 
   @Test
   public void testBigLastAddSize() throws IOException {
-    SolrTestCaseJ4.assumeWorkingMockito();
     String tlogFileName = String.format(Locale.ROOT, UpdateLog.LOG_FILENAME_PATTERN, UpdateLog.TLOG_NAME, 0);
     try (TransactionLog transactionLog = new TransactionLog(Files.createTempFile(tlogFileName, "").toFile(), new ArrayList<>())) {
       transactionLog.lastAddSize = 2000000000;
-      AddUpdateCommand updateCommand = mock(AddUpdateCommand.class);
-      when(updateCommand.isInPlaceUpdate()).thenReturn(false);
-      when(updateCommand.getSolrInputDocument()).thenReturn(new SolrInputDocument());
+      AddUpdateCommand updateCommand = new AddUpdateCommand(null);
+      updateCommand.solrDoc = new SolrInputDocument();
       transactionLog.write(updateCommand, 0);
     }
   }
