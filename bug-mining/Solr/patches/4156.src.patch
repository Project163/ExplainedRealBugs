diff --git a/lucene/tools/src/groovy/check-source-patterns.groovy b/lucene/tools/src/groovy/check-source-patterns.groovy
index e2dfb302db6..f0007eac88e 100644
--- a/lucene/tools/src/groovy/check-source-patterns.groovy
+++ b/lucene/tools/src/groovy/check-source-patterns.groovy
@@ -181,7 +181,8 @@ ant.fileScanner{
     if (f.name.contains("Test")) {
       checkMockitoAssume(f, text);
     }
-    if (f.path.contains("solr/") && f.name.equals("SolrTestCase.java") == false) {
+
+    if (f.path.substring(baseDirLen).contains("solr/") && f.name.equals("SolrTestCase.java") == false) {
       if (extendsLuceneTestCasePattern.matcher(text).find()) {
         reportViolation(f, "Solr test cases should extend SolrTestCase rather than LuceneTestCase");
       }
