<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:30:24 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[IMAGING-209] PnmImageParser throws ImageWriteException when writing if PnmImageParser.PARAM_KEY_PNM_RAWBITS is provided</title>
                <link>https://issues.apache.org/jira/browse/IMAGING-209</link>
                <project id="12313421" key="IMAGING">Commons Imaging</project>
                    <description>&lt;p&gt;Code sample:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Map&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;&amp;gt; params = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; HashMap&amp;lt;&amp;gt;();
params.put(PnmImageParser.PARAM_KEY_PNM_RAWBITS, PnmImageParser.PARAM_VALUE_PNM_RAWBITS_YES);
Imaging.writeImage(image, file, ImageFormats.PNM, params);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Error message is: &quot;Unknown parameter: PNM_RAWBITS:&lt;/p&gt;

&lt;p&gt;This happens because used parameters are cleared from the map after usage and any remaining parameters are determined to be unknown, but PnmImageParser.PARAM_KEY_PNM_RAWBITS is never cleared.&lt;/p&gt;

&lt;p&gt;I will provide a patch on Github shortly.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13122578">IMAGING-209</key>
            <summary>PnmImageParser throws ImageWriteException when writing if PnmImageParser.PARAM_KEY_PNM_RAWBITS is provided</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kinow">Bruno P. Kinoshita</assignee>
                                    <reporter username="easypeasy">Isak W</reporter>
                        <labels>
                    </labels>
                <created>Mon, 4 Dec 2017 13:38:05 +0000</created>
                <updated>Fri, 7 Aug 2020 04:32:19 +0000</updated>
                            <resolved>Sat, 23 Dec 2017 10:58:09 +0000</resolved>
                                                    <fixVersion>1.0-alpha1</fixVersion>
                                    <component>Format: PNM</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16276870" author="githubbot" created="Mon, 4 Dec 2017 14:43:26 +0000"  >&lt;p&gt;GitHub user aesy opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/commons-imaging/pull/33&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-imaging/pull/33&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Imaging-209 PnmImageParser throws ImageWriteException when writing&lt;/p&gt;

&lt;p&gt;    if PnmImageParser.PARAM_KEY_PNM_RAWBITS is provided.&lt;/p&gt;

&lt;p&gt;    I fixed the issue and added a test to cover it.&lt;/p&gt;

&lt;p&gt;    Issue can be found here: &lt;a href=&quot;https://issues.apache.org/jira/browse/IMAGING-209&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/IMAGING-209&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/aesy/commons-imaging&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/aesy/commons-imaging&lt;/a&gt; master&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/commons-imaging/pull/33.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-imaging/pull/33.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #33&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 9ab1fb1615c97aa635d660d1b41ee0776ab7e401&lt;br/&gt;
Author: Isak W &amp;lt;isak.wertwein@gmail.com&amp;gt;&lt;br/&gt;
Date:   2017-12-04T14:38:24Z&lt;/p&gt;

&lt;p&gt;    Fix issue where PnmImageParser would throw ImageWriteException&lt;br/&gt;
    when writing if PnmImageParser.PARAM_KEY_PNM_RAWBITS is provided.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16276877" author="easypeasy" created="Mon, 4 Dec 2017 14:45:17 +0000"  >&lt;p&gt;Let me know if there is anything I have missed.&lt;/p&gt;</comment>
                            <comment id="16277488" author="kinow" created="Mon, 4 Dec 2017 20:58:39 +0000"  >&lt;p&gt;Thanks for creating the ticket with a good summary of the problem, and for the pull request. Code looks clean, plus a unit test (thanks a lot for that as well!). Just need to read the code with more calm to properly understand the problem before merging it (never used that parser). But nothing looks out of place for this pull request. Will try to review it by the next weekend/or next days.&lt;/p&gt;

&lt;p&gt;Cheers&lt;br/&gt;
Bruno&lt;/p&gt;</comment>
                            <comment id="16302348" author="githubbot" created="Sat, 23 Dec 2017 10:55:44 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/commons-imaging/pull/33&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-imaging/pull/33&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16302351" author="kinow" created="Sat, 23 Dec 2017 10:58:09 +0000"  >&lt;p&gt;Merged, pull request closed, and changes.xml updated.&lt;/p&gt;

&lt;p&gt;Thank you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=easypeasy&quot; class=&quot;user-hover&quot; rel=&quot;easypeasy&quot;&gt;easypeasy&lt;/a&gt; for your contribution!&lt;/p&gt;

&lt;p&gt;Bruno&lt;/p&gt;</comment>
                            <comment id="17172870" author="kinow" created="Fri, 7 Aug 2020 04:32:19 +0000"  >&lt;p&gt;Apache Commons Imaging 1.0-alpha1 released (long ago, just closing the remaining issues marked as Resolved)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 14 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3ni07:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>