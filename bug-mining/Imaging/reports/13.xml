<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:30:04 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[IMAGING-113] Cannot read multipage tiff</title>
                <link>https://issues.apache.org/jira/browse/IMAGING-113</link>
                <project id="12313421" key="IMAGING">Commons Imaging</project>
                    <description>&lt;p&gt;I get the error below when I&apos;m trying to read a multipage tiff file as a list of images&lt;br/&gt;
			final List&amp;lt;BufferedImage&amp;gt; images = Imaging.getAllBufferedImages(new File(imageLocation));&lt;/p&gt;

&lt;p&gt;line 589 of TiffImageParser&lt;/p&gt;

&lt;p&gt;        Rectangle subImage = checkForSubImage(params); //if the params is null it will crash&lt;/p&gt;

&lt;p&gt;java.lang.NullPointerException&lt;br/&gt;
	at org.apache.commons.imaging.formats.tiff.TiffImageParser.getIntegerParameter(TiffImageParser.java:513)&lt;br/&gt;
	at org.apache.commons.imaging.formats.tiff.TiffImageParser.checkForSubImage(TiffImageParser.java:531)&lt;br/&gt;
	at org.apache.commons.imaging.formats.tiff.TiffImageParser.getBufferedImage(TiffImageParser.java:589)&lt;br/&gt;
	at org.apache.commons.imaging.formats.tiff.TiffDirectory.getTiffImage(TiffDirectory.java:163)&lt;br/&gt;
	at org.apache.commons.imaging.formats.tiff.TiffImageParser.getAllBufferedImages(TiffImageParser.java:499)&lt;br/&gt;
	at org.apache.commons.imaging.Imaging.getAllBufferedImages(Imaging.java:1210)&lt;br/&gt;
	at org.apache.commons.imaging.Imaging.getAllBufferedImages(Imaging.java:1202)&lt;br/&gt;
	at TestWriteTiffImages.main(TestWriteTiffImages.java:30)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12673471">IMAGING-113</key>
            <summary>Cannot read multipage tiff</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="acostil">Adrian Costil</reporter>
                        <labels>
                            <label>multipage</label>
                            <label>tiff</label>
                    </labels>
                <created>Fri, 11 Oct 2013 18:18:46 +0000</created>
                <updated>Fri, 3 May 2019 08:39:33 +0000</updated>
                            <resolved>Mon, 21 Oct 2013 18:07:41 +0000</resolved>
                                    <version>1.0-alpha1</version>
                                    <fixVersion>1.0-alpha1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="13800898" author="damjan" created="Mon, 21 Oct 2013 18:07:41 +0000"  >&lt;p&gt;Thank you for the bug report. Patch committed, resolving fixed.&lt;/p&gt;</comment>
                            <comment id="13801830" author="acostil" created="Tue, 22 Oct 2013 13:55:07 +0000"  >&lt;p&gt;the patch seems to work.&lt;br/&gt;
I was facing another issue with my test tiff image which has 14 images, each 3386 x 4397. The library uses a lot of memory for  Imaging.getAllBufferedImages(new File(imageLocation));&lt;br/&gt;
so I had to start the JVM with a lot of memory to process a single image file.&lt;br/&gt;
-Xms512m&lt;br/&gt;
-Xmx1024m&lt;/p&gt;

&lt;p&gt;Is there a way to improve the memory usage ?&lt;/p&gt;

&lt;p&gt;Also I was trying to write to a different file and it seems that it will write only the last image. Is there a way to append the images to a tiff file ?&lt;/p&gt;

&lt;p&gt;this is a sample code:&lt;br/&gt;
final List&amp;lt;BufferedImage&amp;gt; images = Imaging.getAllBufferedImages(new File(imageLocation));&lt;/p&gt;


&lt;p&gt;			final ImageFormat format = ImageFormat.IMAGE_FORMAT_TIFF;&lt;br/&gt;
	        final Map&amp;lt;String,Object&amp;gt; params = new HashMap&amp;lt;String,Object&amp;gt;();&lt;/p&gt;

&lt;p&gt;	        // set optional parameters if you like&lt;br/&gt;
	        params.put(ImagingConstants.PARAM_KEY_COMPRESSION, new Integer(&lt;br/&gt;
	                TiffConstants.TIFF_COMPRESSION_LZW));&lt;/p&gt;

&lt;p&gt;	        int i= 0;&lt;br/&gt;
	        File outFile = new File(outLocation);&lt;br/&gt;
	        for (Iterator&amp;lt;BufferedImage&amp;gt; iterator = images.iterator(); iterator.hasNext(); i++) &lt;/p&gt;
{
				BufferedImage bufferedImage = iterator.next();
		        System.out.println(&quot;write image &quot; + i);
		        Imaging.writeImage(bufferedImage, outFile, format, params);
			}
</comment>
                            <comment id="16104936" author="venkaram" created="Fri, 28 Jul 2017 13:22:21 +0000"  >&lt;p&gt;Hello. I am new to apache jira. I have faced this issue and would like to get the fix downloaded. Can someone help me in downloading this fix ? &lt;br/&gt;
It is asking me to validate using fisheye and i am not sure how to do it.&lt;/p&gt;

&lt;p&gt;Thanks in advance&lt;/p&gt;</comment>
                            <comment id="16105484" author="garydgregory" created="Fri, 28 Jul 2017 18:48:01 +0000"  >&lt;p&gt;JIRA is not a support forum, please ask on the user&apos;s mailing list: &lt;a href=&quot;https://commons.apache.org/mail-lists.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://commons.apache.org/mail-lists.html&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>353094</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 16 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ovjz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>353381</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>