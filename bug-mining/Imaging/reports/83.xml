<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:30:42 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[IMAGING-136] Imaging.getImageInfo() fails to read JPEG file</title>
                <link>https://issues.apache.org/jira/browse/IMAGING-136</link>
                <project id="12313421" key="IMAGING">Commons Imaging</project>
                    <description>&lt;p&gt;I get this with the attached file:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Exception in thread &lt;span class=&quot;code-quote&quot;&gt;&quot;main&quot;&lt;/span&gt; java.io.IOException: Could not read block (block start: 20274, block length: 24267, data length: 7789).
	at org.apache.commons.imaging.common.bytesource.ByteSourceArray.getBlock(ByteSourceArray.java:47)
	at org.apache.commons.imaging.formats.tiff.TiffReader.getTiffRawImageData(TiffReader.java:445)
	at org.apache.commons.imaging.formats.tiff.TiffReader.readDirectory(TiffReader.java:222)
	at org.apache.commons.imaging.formats.tiff.TiffReader.readDirectory(TiffReader.java:120)
	at org.apache.commons.imaging.formats.tiff.TiffReader.readDirectories(TiffReader.java:113)
	at org.apache.commons.imaging.formats.tiff.TiffReader.read(TiffReader.java:425)
	at org.apache.commons.imaging.formats.tiff.TiffReader.readContents(TiffReader.java:417)
	at org.apache.commons.imaging.formats.tiff.TiffImageParser.getMetadata(TiffImageParser.java:123)
	at org.apache.commons.imaging.ImageParser.getMetadata(ImageParser.java:220)
	at org.apache.commons.imaging.formats.jpeg.JpegImageParser.getExifMetadata(JpegImageParser.java:355)
	at org.apache.commons.imaging.formats.jpeg.JpegImageParser.getMetadata(JpegImageParser.java:312)
	at org.apache.commons.imaging.formats.jpeg.JpegImageParser.getImageInfo(JpegImageParser.java:725)
	at org.apache.commons.imaging.Imaging.getImageInfo(Imaging.java:704)
	at org.apache.commons.imaging.Imaging.getImageInfo(Imaging.java:678)
	at org.apache.commons.imaging.Imaging.getImageInfo(Imaging.java:697)
	at com.mycompany.apacheimagingtest.App.main(App.java:17)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I don&apos;t need any EXIF data, so it would be nice to have a workaround that just gets me the basic information about the image, i.e. size, bits, and color type (ycck, cmyk).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12720710">IMAGING-136</key>
            <summary>Imaging.getImageInfo() fails to read JPEG file</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="4" iconUrl="https://issues.apache.org/jira/images/icons/statuses/reopened.png" description="This issue was once resolved, but the resolution was deemed incorrect. From here issues are either marked assigned or resolved.">Reopened</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="kinow">Bruno P. Kinoshita</assignee>
                                    <reporter username="tilman">Tilman Hausherr</reporter>
                        <labels>
                    </labels>
                <created>Wed, 11 Jun 2014 21:42:14 +0000</created>
                <updated>Sun, 11 Apr 2021 10:53:39 +0000</updated>
                                            <version>1.0-alpha1</version>
                                    <fixVersion>1.0-alpha2</fixVersion>
                                    <component>Format: JPEG</component>
                        <due></due>
                            <votes>2</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14353662" author="mgmechanics" created="Mon, 9 Mar 2015 21:35:08 +0000"  >&lt;p&gt;1402522741337.jpg has several scans. Commons-imaging reads the last one which has 4 components (= the color of a pixel is defined by a color model with 4 inks like CMYK).&lt;/p&gt;

&lt;p&gt;I propose a patch at&lt;br/&gt;
&lt;a href=&quot;http://github.com/mgmechanics/commons-imaging/tree/IMAGING-136&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://github.com/mgmechanics/commons-imaging/tree/IMAGING-136&lt;/a&gt;&lt;br/&gt;
which assumes the CMYK color model and reads the image 1402522741337.jpg.&lt;/p&gt;

&lt;p&gt;This patch also includes changes for Imaging-134 (all changes but these for test) because the test image (1402522741337.jpg) contains RST markers.&lt;/p&gt;</comment>
                            <comment id="16972197" author="kinow" created="Tue, 12 Nov 2019 09:01:41 +0000"  >&lt;p&gt;Patch merged. Fixed conflicts and checkstyle violations. Thanks for the PR Michael!&lt;/p&gt;</comment>
                            <comment id="17172841" author="kinow" created="Fri, 7 Aug 2020 04:25:16 +0000"  >&lt;p&gt;Commons Imaging 1.0-alpha2 released!&lt;/p&gt;</comment>
                            <comment id="17318689" author="tilman" created="Sun, 11 Apr 2021 08:13:10 +0000"  >&lt;p&gt;I get the same IOException both with the SNAPSHOT and the alpha2 build?!&lt;/p&gt;</comment>
                            <comment id="17318725" author="kinow" created="Sun, 11 Apr 2021 10:35:54 +0000"  >&lt;p&gt;That&apos;s strange Tilman. Could you share the code and - if possible - a test image to reproduce it, please? I&apos;m planning to release alpha3 in May, so we can try to fix it before then if necessary. Thanks!&lt;/p&gt;</comment>
                            <comment id="17318731" author="tilman" created="Sun, 11 Apr 2021 10:39:57 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Imaging.getImageInfo(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; URL(&lt;span class=&quot;code-quote&quot;&gt;&quot;https:&lt;span class=&quot;code-comment&quot;&gt;//issues.apache.org/jira/secure/attachment/12649901/1402522741337.jpg&quot;&lt;/span&gt;).openStream(), &lt;span class=&quot;code-quote&quot;&gt;&quot;1402522741337.jpg&quot;&lt;/span&gt;);&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17318732" author="tilman" created="Sun, 11 Apr 2021 10:40:28 +0000"  >&lt;p&gt;The image is the one from this issue.&lt;/p&gt;</comment>
                            <comment id="17318737" author="kinow" created="Sun, 11 Apr 2021 10:52:45 +0000"  >&lt;p&gt;Ah, perfect. I will have to debug and check if any the methods in the test call `#getImageInfo` - &lt;a href=&quot;https://github.com/apache/commons-imaging/commit/38cf7a81f06902e0edea1b694e690f58d5b4a3c6#diff-d57423e88a43f94428f9d74222abf60394c41765f9ef596e2e76d9b77208df57R41-R50&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-imaging/commit/38cf7a81f06902e0edea1b694e690f58d5b4a3c6#diff-d57423e88a43f94428f9d74222abf60394c41765f9ef596e2e76d9b77208df57R41-R50&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;It might be that I missed something applying the pull request, or maybe when I rebased the code. Thanks Tilman.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12718258">IMAGING-134</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12720329">PDFBOX-2128</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12649901" name="1402522741337.jpg" size="789976" author="tilman" created="Wed, 11 Jun 2014 21:43:38 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>398909</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 30 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1woc7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>399031</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>