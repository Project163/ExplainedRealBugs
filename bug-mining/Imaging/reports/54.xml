<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:30:26 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[IMAGING-203] JPEG segment size not validated</title>
                <link>https://issues.apache.org/jira/browse/IMAGING-203</link>
                <project id="12313421" key="IMAGING">Commons Imaging</project>
                    <description>&lt;p&gt;Using my AFL-based fuzzer for Java, Kelinci (&lt;a href=&quot;https://github.com/isstac/kelinci&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/isstac/kelinci&lt;/a&gt;) I found that a NegativeArraySizeException may be throw when attempting to read an invalid JPEG image.&lt;/p&gt;

&lt;p&gt;Each JPEG segment starts with a two-byte unsigned integer specifying the segment size. Segments are parsed by org.apache.commons.imaging.formats.jpeg.JpegUtils.traverseJFIF(). As the specified size includes these two bytes, the method subtracts 2 from the size before it is used. It then attempts to allocate a buffer for the segment, which fails if the specified size is 0 or 1. The method should throw an ImageReadException instead.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="13094869">IMAGING-203</key>
            <summary>JPEG segment size not validated</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kinow">Bruno P. Kinoshita</assignee>
                                    <reporter username="rodykersten">Rody Kersten</reporter>
                        <labels>
                    </labels>
                <created>Tue, 15 Aug 2017 21:27:18 +0000</created>
                <updated>Fri, 7 Aug 2020 04:32:07 +0000</updated>
                            <resolved>Fri, 29 Dec 2017 11:40:17 +0000</resolved>
                                                    <fixVersion>1.0-alpha1</fixVersion>
                                    <component>Format: JPEG</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16127897" author="rodykersten" created="Tue, 15 Aug 2017 21:29:17 +0000"  >&lt;p&gt;Patch to fix the problem. Includes a unit test.&lt;/p&gt;</comment>
                            <comment id="16127899" author="rodykersten" created="Tue, 15 Aug 2017 21:31:29 +0000"  >&lt;p&gt;Input file that triggers the exception. Found with Kelinci (&lt;a href=&quot;https://github.com/isstac/kelinci&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/isstac/kelinci&lt;/a&gt;).&lt;/p&gt;</comment>
                            <comment id="16128186" author="kinow" created="Wed, 16 Aug 2017 01:29:16 +0000"  >&lt;p&gt;Had a look at the issue description, and patch, and both look good. I&apos;m +1 for merging it, but before doing it myself I will read the existing code and tests, as I am not completely familiar with it yet.&lt;/p&gt;

&lt;p&gt;Thank you for providing a patch, example input and, a very detailed description in the issue. That is extremely helpful.&lt;/p&gt;

&lt;p&gt;That said, very interesting the kelinci fuzzer. I&apos;m creating a &lt;a href=&quot;https://github.com/kinow/kinoshita.eti.br/issues/46&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;list of fuzzers&lt;/a&gt; in order to compare them, and decide which ones I could use later for Java and Python projects. Will definitely look into kelinci too. Thanks!&lt;/p&gt;

&lt;p&gt;Bruno&lt;/p&gt;</comment>
                            <comment id="16129078" author="rodykersten" created="Wed, 16 Aug 2017 17:02:00 +0000"  >&lt;p&gt;Thank you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kinow&quot; class=&quot;user-hover&quot; rel=&quot;kinow&quot;&gt;kinow&lt;/a&gt;, also for including Kelinci in your list of fuzzers! It&apos;s an interface to run AFL on Java programs. As you&apos;re probably aware, AFL has been very successful at finding security vulnerabilities in C programs (and binaries). Hopefully with Kelinci we can harness some of that power for Java.&lt;/p&gt;</comment>
                            <comment id="16306211" author="kinow" created="Fri, 29 Dec 2017 11:40:08 +0000"  >&lt;p&gt;Patch applied with `patch -p1 &amp;lt; ~/patch`. Then added license header, fixed indentation in test, and added brackets after the if.&lt;/p&gt;

&lt;p&gt;Also added a changes.xml entry.&lt;/p&gt;

&lt;p&gt;Thanks for the patch &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rodykersten&quot; class=&quot;user-hover&quot; rel=&quot;rodykersten&quot;&gt;rodykersten&lt;/a&gt;!!!&lt;/p&gt;</comment>
                            <comment id="16306213" author="kinow" created="Fri, 29 Dec 2017 11:40:43 +0000"  >&lt;p&gt;Commit: 4701b96281124b9ccd6ecd35c3f16aa73345f315&lt;/p&gt;</comment>
                            <comment id="17172849" author="kinow" created="Fri, 7 Aug 2020 04:32:07 +0000"  >&lt;p&gt;Apache Commons Imaging 1.0-alpha1 released (long ago, just closing the remaining issues marked as Resolved)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12882016" name="NegSegmentSize.JPG" size="8" author="rodykersten" created="Tue, 15 Aug 2017 21:30:48 +0000"/>
                            <attachment id="12882014" name="NegSegmentSize.patch" size="2784" author="rodykersten" created="Tue, 15 Aug 2017 21:28:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 14 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3itpz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>