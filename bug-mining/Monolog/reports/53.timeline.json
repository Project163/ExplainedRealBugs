[{"id":353773021,"node_id":"MDExOkNsb3NlZEV2ZW50MzUzNzczMDIx","url":"https://api.github.com/repos/Seldaek/monolog/issues/events/353773021","actor":{"login":"Seldaek","id":183678,"node_id":"MDQ6VXNlcjE4MzY3OA==","avatar_url":"https://avatars.githubusercontent.com/u/183678?v=4","gravatar_id":"","url":"https://api.github.com/users/Seldaek","html_url":"https://github.com/Seldaek","followers_url":"https://api.github.com/users/Seldaek/followers","following_url":"https://api.github.com/users/Seldaek/following{/other_user}","gists_url":"https://api.github.com/users/Seldaek/gists{/gist_id}","starred_url":"https://api.github.com/users/Seldaek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Seldaek/subscriptions","organizations_url":"https://api.github.com/users/Seldaek/orgs","repos_url":"https://api.github.com/users/Seldaek/repos","events_url":"https://api.github.com/users/Seldaek/events{/privacy}","received_events_url":"https://api.github.com/users/Seldaek/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"0c8a92af4759ee6d53c4c8a4d7a923d22d0c3da2","commit_url":"https://api.github.com/repos/Seldaek/monolog/commits/0c8a92af4759ee6d53c4c8a4d7a923d22d0c3da2","created_at":"2015-07-12T12:44:48Z","state_reason":null,"performed_via_github_app":null},{"actor":{"login":"Seldaek","id":183678,"node_id":"MDQ6VXNlcjE4MzY3OA==","avatar_url":"https://avatars.githubusercontent.com/u/183678?v=4","gravatar_id":"","url":"https://api.github.com/users/Seldaek","html_url":"https://github.com/Seldaek","followers_url":"https://api.github.com/users/Seldaek/followers","following_url":"https://api.github.com/users/Seldaek/following{/other_user}","gists_url":"https://api.github.com/users/Seldaek/gists{/gist_id}","starred_url":"https://api.github.com/users/Seldaek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Seldaek/subscriptions","organizations_url":"https://api.github.com/users/Seldaek/orgs","repos_url":"https://api.github.com/users/Seldaek/repos","events_url":"https://api.github.com/users/Seldaek/events{/privacy}","received_events_url":"https://api.github.com/users/Seldaek/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-12T12:48:48Z","updated_at":"2015-07-12T12:48:48Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/Seldaek/monolog/issues/528","repository_url":"https://api.github.com/repos/Seldaek/monolog","labels_url":"https://api.github.com/repos/Seldaek/monolog/issues/528/labels{/name}","comments_url":"https://api.github.com/repos/Seldaek/monolog/issues/528/comments","events_url":"https://api.github.com/repos/Seldaek/monolog/issues/528/events","html_url":"https://github.com/Seldaek/monolog/issues/528","id":62543854,"node_id":"MDU6SXNzdWU2MjU0Mzg1NA==","number":528,"title":"Exceptions are converted to string before they can be normalized","user":{"login":"carcinocron","id":4094542,"node_id":"MDQ6VXNlcjQwOTQ1NDI=","avatar_url":"https://avatars.githubusercontent.com/u/4094542?v=4","gravatar_id":"","url":"https://api.github.com/users/carcinocron","html_url":"https://github.com/carcinocron","followers_url":"https://api.github.com/users/carcinocron/followers","following_url":"https://api.github.com/users/carcinocron/following{/other_user}","gists_url":"https://api.github.com/users/carcinocron/gists{/gist_id}","starred_url":"https://api.github.com/users/carcinocron/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/carcinocron/subscriptions","organizations_url":"https://api.github.com/users/carcinocron/orgs","repos_url":"https://api.github.com/users/carcinocron/repos","events_url":"https://api.github.com/users/carcinocron/events{/privacy}","received_events_url":"https://api.github.com/users/carcinocron/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2015-03-17T23:40:49Z","updated_at":"2015-11-12T17:34:25Z","closed_at":"2015-11-12T10:20:22Z","author_association":"NONE","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":1376664,"node_id":"MDEwOlJlcG9zaXRvcnkxMzc2NjY0","name":"monolog","full_name":"Seldaek/monolog","private":false,"owner":{"login":"Seldaek","id":183678,"node_id":"MDQ6VXNlcjE4MzY3OA==","avatar_url":"https://avatars.githubusercontent.com/u/183678?v=4","gravatar_id":"","url":"https://api.github.com/users/Seldaek","html_url":"https://github.com/Seldaek","followers_url":"https://api.github.com/users/Seldaek/followers","following_url":"https://api.github.com/users/Seldaek/following{/other_user}","gists_url":"https://api.github.com/users/Seldaek/gists{/gist_id}","starred_url":"https://api.github.com/users/Seldaek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Seldaek/subscriptions","organizations_url":"https://api.github.com/users/Seldaek/orgs","repos_url":"https://api.github.com/users/Seldaek/repos","events_url":"https://api.github.com/users/Seldaek/events{/privacy}","received_events_url":"https://api.github.com/users/Seldaek/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/Seldaek/monolog","description":"Sends your logs to files, sockets, inboxes, databases and various web services","fork":false,"url":"https://api.github.com/repos/Seldaek/monolog","forks_url":"https://api.github.com/repos/Seldaek/monolog/forks","keys_url":"https://api.github.com/repos/Seldaek/monolog/keys{/key_id}","collaborators_url":"https://api.github.com/repos/Seldaek/monolog/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/Seldaek/monolog/teams","hooks_url":"https://api.github.com/repos/Seldaek/monolog/hooks","issue_events_url":"https://api.github.com/repos/Seldaek/monolog/issues/events{/number}","events_url":"https://api.github.com/repos/Seldaek/monolog/events","assignees_url":"https://api.github.com/repos/Seldaek/monolog/assignees{/user}","branches_url":"https://api.github.com/repos/Seldaek/monolog/branches{/branch}","tags_url":"https://api.github.com/repos/Seldaek/monolog/tags","blobs_url":"https://api.github.com/repos/Seldaek/monolog/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/Seldaek/monolog/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/Seldaek/monolog/git/refs{/sha}","trees_url":"https://api.github.com/repos/Seldaek/monolog/git/trees{/sha}","statuses_url":"https://api.github.com/repos/Seldaek/monolog/statuses/{sha}","languages_url":"https://api.github.com/repos/Seldaek/monolog/languages","stargazers_url":"https://api.github.com/repos/Seldaek/monolog/stargazers","contributors_url":"https://api.github.com/repos/Seldaek/monolog/contributors","subscribers_url":"https://api.github.com/repos/Seldaek/monolog/subscribers","subscription_url":"https://api.github.com/repos/Seldaek/monolog/subscription","commits_url":"https://api.github.com/repos/Seldaek/monolog/commits{/sha}","git_commits_url":"https://api.github.com/repos/Seldaek/monolog/git/commits{/sha}","comments_url":"https://api.github.com/repos/Seldaek/monolog/comments{/number}","issue_comment_url":"https://api.github.com/repos/Seldaek/monolog/issues/comments{/number}","contents_url":"https://api.github.com/repos/Seldaek/monolog/contents/{+path}","compare_url":"https://api.github.com/repos/Seldaek/monolog/compare/{base}...{head}","merges_url":"https://api.github.com/repos/Seldaek/monolog/merges","archive_url":"https://api.github.com/repos/Seldaek/monolog/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/Seldaek/monolog/downloads","issues_url":"https://api.github.com/repos/Seldaek/monolog/issues{/number}","pulls_url":"https://api.github.com/repos/Seldaek/monolog/pulls{/number}","milestones_url":"https://api.github.com/repos/Seldaek/monolog/milestones{/number}","notifications_url":"https://api.github.com/repos/Seldaek/monolog/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/Seldaek/monolog/labels{/name}","releases_url":"https://api.github.com/repos/Seldaek/monolog/releases{/id}","deployments_url":"https://api.github.com/repos/Seldaek/monolog/deployments","created_at":"2011-02-17T02:07:15Z","updated_at":"2025-11-09T16:20:07Z","pushed_at":"2025-10-27T13:40:53Z","git_url":"git://github.com/Seldaek/monolog.git","ssh_url":"git@github.com:Seldaek/monolog.git","clone_url":"https://github.com/Seldaek/monolog.git","svn_url":"https://github.com/Seldaek/monolog","homepage":"https://seldaek.github.io/monolog/","size":4917,"stargazers_count":21350,"watchers_count":21350,"language":"PHP","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":false,"forks_count":1904,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":33,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["hacktoberfest","logger","logging","php","psr-3"],"visibility":"public","forks":1904,"open_issues":33,"watchers":21350,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"I was wondering why Exceptions are always logged as ugly truncated string blobs, so I looked into it:\n\nI checked here, then I found that they are already strings before they reach \nhttps://github.com/Seldaek/monolog/blob/master/src/Monolog/Formatter/NormalizerFormatter.php#L94\n\n```\nreturn $this->normalizeException($data);\n```\n\nSo it looks like this code is converting it to string prematurely:\nhttps://github.com/Seldaek/monolog/blob/master/src/Monolog/Logger.php#L252\n\n```\n        $record = array(\n            'message' => (string) $message,\n            'context' => $context,\n            'level' => $level,\n            'level_name' => $levelName,\n            'channel' => $this->name,\n            'datetime' => \\DateTime::createFromFormat('U.u', sprintf('%.6F', microtime(true)), static::$timezone)->setTimezone(static::$timezone),\n            'extra' => array(),\n        );\n```\n\nSo now I'm at a total loss what I'm suppose to do...\n","reactions":{"url":"https://api.github.com/repos/Seldaek/monolog/issues/528/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/Seldaek/monolog/issues/528/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/Seldaek/monolog/issues/comments/155521866","html_url":"https://github.com/Seldaek/monolog/issues/545#issuecomment-155521866","issue_url":"https://api.github.com/repos/Seldaek/monolog/issues/545","id":155521866,"node_id":"MDEyOklzc3VlQ29tbWVudDE1NTUyMTg2Ng==","user":{"login":"bd808","id":6469,"node_id":"MDQ6VXNlcjY0Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6469?v=4","gravatar_id":"","url":"https://api.github.com/users/bd808","html_url":"https://github.com/bd808","followers_url":"https://api.github.com/users/bd808/followers","following_url":"https://api.github.com/users/bd808/following{/other_user}","gists_url":"https://api.github.com/users/bd808/gists{/gist_id}","starred_url":"https://api.github.com/users/bd808/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bd808/subscriptions","organizations_url":"https://api.github.com/users/bd808/orgs","repos_url":"https://api.github.com/users/bd808/repos","events_url":"https://api.github.com/users/bd808/events{/privacy}","received_events_url":"https://api.github.com/users/bd808/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-10T18:23:10Z","updated_at":"2015-11-10T18:23:10Z","body":"This decision is causing fatal runtime errors for Wikipedia: https://phabricator.wikimedia.org/T118057\n\nThe choice to raise a RuntimeException for a logging failure seems to be a bit short sighted. @Seldaek would you be open to some patch to make this configurable behavior (preferably with the default being no errors)?\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/Seldaek/monolog/issues/comments/155521866/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bd808","id":6469,"node_id":"MDQ6VXNlcjY0Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6469?v=4","gravatar_id":"","url":"https://api.github.com/users/bd808","html_url":"https://github.com/bd808","followers_url":"https://api.github.com/users/bd808/followers","following_url":"https://api.github.com/users/bd808/following{/other_user}","gists_url":"https://api.github.com/users/bd808/gists{/gist_id}","starred_url":"https://api.github.com/users/bd808/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bd808/subscriptions","organizations_url":"https://api.github.com/users/bd808/orgs","repos_url":"https://api.github.com/users/bd808/repos","events_url":"https://api.github.com/users/bd808/events{/privacy}","received_events_url":"https://api.github.com/users/bd808/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":460424844,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDYwNDI0ODQ0","url":"https://api.github.com/repos/Seldaek/monolog/issues/events/460424844","actor":{"login":"Seldaek","id":183678,"node_id":"MDQ6VXNlcjE4MzY3OA==","avatar_url":"https://avatars.githubusercontent.com/u/183678?v=4","gravatar_id":"","url":"https://api.github.com/users/Seldaek","html_url":"https://github.com/Seldaek","followers_url":"https://api.github.com/users/Seldaek/followers","following_url":"https://api.github.com/users/Seldaek/following{/other_user}","gists_url":"https://api.github.com/users/Seldaek/gists{/gist_id}","starred_url":"https://api.github.com/users/Seldaek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Seldaek/subscriptions","organizations_url":"https://api.github.com/users/Seldaek/orgs","repos_url":"https://api.github.com/users/Seldaek/repos","events_url":"https://api.github.com/users/Seldaek/events{/privacy}","received_events_url":"https://api.github.com/users/Seldaek/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2015-11-10T18:23:10Z","performed_via_github_app":null},{"id":460424845,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQ2MDQyNDg0NQ==","url":"https://api.github.com/repos/Seldaek/monolog/issues/events/460424845","actor":{"login":"Seldaek","id":183678,"node_id":"MDQ6VXNlcjE4MzY3OA==","avatar_url":"https://avatars.githubusercontent.com/u/183678?v=4","gravatar_id":"","url":"https://api.github.com/users/Seldaek","html_url":"https://github.com/Seldaek","followers_url":"https://api.github.com/users/Seldaek/followers","following_url":"https://api.github.com/users/Seldaek/following{/other_user}","gists_url":"https://api.github.com/users/Seldaek/gists{/gist_id}","starred_url":"https://api.github.com/users/Seldaek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Seldaek/subscriptions","organizations_url":"https://api.github.com/users/Seldaek/orgs","repos_url":"https://api.github.com/users/Seldaek/repos","events_url":"https://api.github.com/users/Seldaek/events{/privacy}","received_events_url":"https://api.github.com/users/Seldaek/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2015-11-10T18:23:10Z","performed_via_github_app":null},{"id":460432396,"node_id":"MDEzOlJlb3BlbmVkRXZlbnQ0NjA0MzIzOTY=","url":"https://api.github.com/repos/Seldaek/monolog/issues/events/460432396","actor":{"login":"Seldaek","id":183678,"node_id":"MDQ6VXNlcjE4MzY3OA==","avatar_url":"https://avatars.githubusercontent.com/u/183678?v=4","gravatar_id":"","url":"https://api.github.com/users/Seldaek","html_url":"https://github.com/Seldaek","followers_url":"https://api.github.com/users/Seldaek/followers","following_url":"https://api.github.com/users/Seldaek/following{/other_user}","gists_url":"https://api.github.com/users/Seldaek/gists{/gist_id}","starred_url":"https://api.github.com/users/Seldaek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Seldaek/subscriptions","organizations_url":"https://api.github.com/users/Seldaek/orgs","repos_url":"https://api.github.com/users/Seldaek/repos","events_url":"https://api.github.com/users/Seldaek/events{/privacy}","received_events_url":"https://api.github.com/users/Seldaek/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"reopened","commit_id":null,"commit_url":null,"created_at":"2015-11-10T18:30:36Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/Seldaek/monolog/issues/comments/155524575","html_url":"https://github.com/Seldaek/monolog/issues/545#issuecomment-155524575","issue_url":"https://api.github.com/repos/Seldaek/monolog/issues/545","id":155524575,"node_id":"MDEyOklzc3VlQ29tbWVudDE1NTUyNDU3NQ==","user":{"login":"Seldaek","id":183678,"node_id":"MDQ6VXNlcjE4MzY3OA==","avatar_url":"https://avatars.githubusercontent.com/u/183678?v=4","gravatar_id":"","url":"https://api.github.com/users/Seldaek","html_url":"https://github.com/Seldaek","followers_url":"https://api.github.com/users/Seldaek/followers","following_url":"https://api.github.com/users/Seldaek/following{/other_user}","gists_url":"https://api.github.com/users/Seldaek/gists{/gist_id}","starred_url":"https://api.github.com/users/Seldaek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Seldaek/subscriptions","organizations_url":"https://api.github.com/users/Seldaek/orgs","repos_url":"https://api.github.com/users/Seldaek/repos","events_url":"https://api.github.com/users/Seldaek/events{/privacy}","received_events_url":"https://api.github.com/users/Seldaek/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-10T18:34:31Z","updated_at":"2015-11-10T18:34:31Z","body":"Reopening while we discuss. Not sure I see it the same way you do though. I see that it sucks if user input randomly blows up the logging, but before you would just lose those logs silently as well which isn't ideal.\n\nAs a quick fix for now (and I'd argue it might be a good thing to do in any case in a context such a wikipedia, you can wrap all your handlers within a WhatFailureGroupHandler, it will ignore any exception thrown by child handlers, which should get you back to where you were before (dropping log records.. but not failing hard).\n\nThere are many handlers that can fail while logging for various reasons (backend down and such) and therefore I think being strict rather than hiding errors by default there is a good thing.\n","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/Seldaek/monolog/issues/comments/155524575/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Seldaek","id":183678,"node_id":"MDQ6VXNlcjE4MzY3OA==","avatar_url":"https://avatars.githubusercontent.com/u/183678?v=4","gravatar_id":"","url":"https://api.github.com/users/Seldaek","html_url":"https://github.com/Seldaek","followers_url":"https://api.github.com/users/Seldaek/followers","following_url":"https://api.github.com/users/Seldaek/following{/other_user}","gists_url":"https://api.github.com/users/Seldaek/gists{/gist_id}","starred_url":"https://api.github.com/users/Seldaek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Seldaek/subscriptions","organizations_url":"https://api.github.com/users/Seldaek/orgs","repos_url":"https://api.github.com/users/Seldaek/repos","events_url":"https://api.github.com/users/Seldaek/events{/privacy}","received_events_url":"https://api.github.com/users/Seldaek/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/Seldaek/monolog/issues/comments/155560891","html_url":"https://github.com/Seldaek/monolog/issues/545#issuecomment-155560891","issue_url":"https://api.github.com/repos/Seldaek/monolog/issues/545","id":155560891,"node_id":"MDEyOklzc3VlQ29tbWVudDE1NTU2MDg5MQ==","user":{"login":"bd808","id":6469,"node_id":"MDQ6VXNlcjY0Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6469?v=4","gravatar_id":"","url":"https://api.github.com/users/bd808","html_url":"https://github.com/bd808","followers_url":"https://api.github.com/users/bd808/followers","following_url":"https://api.github.com/users/bd808/following{/other_user}","gists_url":"https://api.github.com/users/bd808/gists{/gist_id}","starred_url":"https://api.github.com/users/bd808/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bd808/subscriptions","organizations_url":"https://api.github.com/users/bd808/orgs","repos_url":"https://api.github.com/users/bd808/repos","events_url":"https://api.github.com/users/bd808/events{/privacy}","received_events_url":"https://api.github.com/users/bd808/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-10T20:47:28Z","updated_at":"2015-11-10T20:47:28Z","body":"> There are many handlers that can fail while logging for various reasons\n\nWe've gone to pretty great lengths to keep logging failures from causing application failures in our configuration, but I understand that others may have different goals. I like the idea of not silently losing events but again I think the Exception route is a bit heavy handed.\n\nIt seems that you at least at some level agree with this as can be seen in https://github.com/Seldaek/monolog/commit/63e3bfdf7eba6492eced7ac651c3772b7f1d2689 where you introduced the `$ignoreErrors` flag to `NormalizerFormatter::toJson`.\n\nFor my use case the frequency of having non-UTF-8 data in the log record is pretty low. We are mostly seeing it creep in from user-agent strings and referrer URLs which are sometimes embedded in the log record. My first thought was to create a Filter that did UTF-8 normalization of every record, but I realized that detecting encoding of strings is error prone and unnecessary most of the time. I've got a [mostly working class](https://gerrit.wikimedia.org/r/#/c/251679/5/includes/debug/logger/monolog/LogstashFormatter.php,unified) subclass of LogstashFormatter put together that tries to recover the event by scrubbing the encoding of the string elements. It isn't passing our local PHP5.3 tests yet which I need to spend more time looking at.\n\nIf I can get some error recovery by sanitizing encoding method working at least semi-reliably would you be interested in having it upstreamed? It would probably be nicer to put it into `NormalizerFormatter::toJson` than to only have it benefit LogstashFormatter.\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/Seldaek/monolog/issues/comments/155560891/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bd808","id":6469,"node_id":"MDQ6VXNlcjY0Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6469?v=4","gravatar_id":"","url":"https://api.github.com/users/bd808","html_url":"https://github.com/bd808","followers_url":"https://api.github.com/users/bd808/followers","following_url":"https://api.github.com/users/bd808/following{/other_user}","gists_url":"https://api.github.com/users/bd808/gists{/gist_id}","starred_url":"https://api.github.com/users/bd808/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bd808/subscriptions","organizations_url":"https://api.github.com/users/bd808/orgs","repos_url":"https://api.github.com/users/bd808/repos","events_url":"https://api.github.com/users/bd808/events{/privacy}","received_events_url":"https://api.github.com/users/bd808/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/Seldaek/monolog/issues/comments/155701437","html_url":"https://github.com/Seldaek/monolog/issues/545#issuecomment-155701437","issue_url":"https://api.github.com/repos/Seldaek/monolog/issues/545","id":155701437,"node_id":"MDEyOklzc3VlQ29tbWVudDE1NTcwMTQzNw==","user":{"login":"Seldaek","id":183678,"node_id":"MDQ6VXNlcjE4MzY3OA==","avatar_url":"https://avatars.githubusercontent.com/u/183678?v=4","gravatar_id":"","url":"https://api.github.com/users/Seldaek","html_url":"https://github.com/Seldaek","followers_url":"https://api.github.com/users/Seldaek/followers","following_url":"https://api.github.com/users/Seldaek/following{/other_user}","gists_url":"https://api.github.com/users/Seldaek/gists{/gist_id}","starred_url":"https://api.github.com/users/Seldaek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Seldaek/subscriptions","organizations_url":"https://api.github.com/users/Seldaek/orgs","repos_url":"https://api.github.com/users/Seldaek/repos","events_url":"https://api.github.com/users/Seldaek/events{/privacy}","received_events_url":"https://api.github.com/users/Seldaek/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-11T08:21:04Z","updated_at":"2015-11-11T08:21:04Z","body":"Yeah I think that would be nice. Avoiding failures is of course better than\nfailing hard which is better than failing silently IMO.\n\nWould you have a chance to store a few of those bad inputs (maybe using\nserialize+base64encode so we have strings that aren't charset dependent and\ncan be shared around)? It would be good to have for the test suite and for\ntrying to find a workaround. I'm thinking doing iconv from iso-8859-15 to\nUTF-8//IGNORE might help to get rid of those invalid sequences and preserve\ndata in most cases.\n","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/Seldaek/monolog/issues/comments/155701437/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Seldaek","id":183678,"node_id":"MDQ6VXNlcjE4MzY3OA==","avatar_url":"https://avatars.githubusercontent.com/u/183678?v=4","gravatar_id":"","url":"https://api.github.com/users/Seldaek","html_url":"https://github.com/Seldaek","followers_url":"https://api.github.com/users/Seldaek/followers","following_url":"https://api.github.com/users/Seldaek/following{/other_user}","gists_url":"https://api.github.com/users/Seldaek/gists{/gist_id}","starred_url":"https://api.github.com/users/Seldaek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Seldaek/subscriptions","organizations_url":"https://api.github.com/users/Seldaek/orgs","repos_url":"https://api.github.com/users/Seldaek/repos","events_url":"https://api.github.com/users/Seldaek/events{/privacy}","received_events_url":"https://api.github.com/users/Seldaek/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/Seldaek/monolog/issues/comments/155896564","html_url":"https://github.com/Seldaek/monolog/issues/545#issuecomment-155896564","issue_url":"https://api.github.com/repos/Seldaek/monolog/issues/545","id":155896564,"node_id":"MDEyOklzc3VlQ29tbWVudDE1NTg5NjU2NA==","user":{"login":"bd808","id":6469,"node_id":"MDQ6VXNlcjY0Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6469?v=4","gravatar_id":"","url":"https://api.github.com/users/bd808","html_url":"https://github.com/bd808","followers_url":"https://api.github.com/users/bd808/followers","following_url":"https://api.github.com/users/bd808/following{/other_user}","gists_url":"https://api.github.com/users/bd808/gists{/gist_id}","starred_url":"https://api.github.com/users/bd808/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bd808/subscriptions","organizations_url":"https://api.github.com/users/bd808/orgs","repos_url":"https://api.github.com/users/bd808/repos","events_url":"https://api.github.com/users/bd808/events{/privacy}","received_events_url":"https://api.github.com/users/bd808/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-11T20:07:26Z","updated_at":"2015-11-11T20:07:26Z","body":"This may not be the sexiest conversion function, but it seems to be fairly fast and capable of making any random binary input strings I throw at it safe for json_encode():\n\n```\n/**\n * Scrub an input string to ensure that it only contains valid UTF-8\n * characters.\n *\n * @param string $str\n * @param bool $iso885915 Convert as ISO-8859-15 rather than ISO-8859-1\n * @return string\n */\nfunction scrubUTF8($str, $iso885915 = false) {\n    if (!preg_match('//u', $str)) {\n\n        $str = preg_replace_callback(\n            '/[\\x80-\\xFF]+/',\n            function ($m) { return utf8_encode($m[0]); },\n            $str);\n        if ($iso885915) {\n            $str = str_replace(\n                array('¤', '¦', '¨', '´', '¸', '¼', '½', '¾'),\n                array('€', 'Š', 'š', 'Ž', 'ž', 'Œ', 'œ', 'Ÿ'),\n                $str\n            );\n        }\n    }\n    return $str;\n}\n```\n\nIt also doesn't require any special support in the PHP install other than PCRE UTF-8 support which I _think_ is fairly common these days.\n\nThere are quite a few UTF-8 related libraries on Packagist as well that could be used instead of something simple like this including [Wikimedia's own utfnormal library](https://github.com/wikimedia/utfnormal).\n\nI'll see if I can come up with a good way to gather some real error data and make it clean enough to share as a test set. For my initial testing I've just been using `openssl_random_pseudo_bytes` to generate random binary strings.\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/Seldaek/monolog/issues/comments/155896564/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bd808","id":6469,"node_id":"MDQ6VXNlcjY0Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6469?v=4","gravatar_id":"","url":"https://api.github.com/users/bd808","html_url":"https://github.com/bd808","followers_url":"https://api.github.com/users/bd808/followers","following_url":"https://api.github.com/users/bd808/following{/other_user}","gists_url":"https://api.github.com/users/bd808/gists{/gist_id}","starred_url":"https://api.github.com/users/bd808/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bd808/subscriptions","organizations_url":"https://api.github.com/users/bd808/orgs","repos_url":"https://api.github.com/users/bd808/repos","events_url":"https://api.github.com/users/bd808/events{/privacy}","received_events_url":"https://api.github.com/users/bd808/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":462033889,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDQ2MjAzMzg4OQ==","url":"https://api.github.com/repos/Seldaek/monolog/issues/events/462033889","actor":{"login":"bd808","id":6469,"node_id":"MDQ6VXNlcjY0Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6469?v=4","gravatar_id":"","url":"https://api.github.com/users/bd808","html_url":"https://github.com/bd808","followers_url":"https://api.github.com/users/bd808/followers","following_url":"https://api.github.com/users/bd808/following{/other_user}","gists_url":"https://api.github.com/users/bd808/gists{/gist_id}","starred_url":"https://api.github.com/users/bd808/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bd808/subscriptions","organizations_url":"https://api.github.com/users/bd808/orgs","repos_url":"https://api.github.com/users/bd808/repos","events_url":"https://api.github.com/users/bd808/events{/privacy}","received_events_url":"https://api.github.com/users/bd808/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"abceaab6664a62416b30b013a7a4d2afc6b6e514","commit_url":"https://api.github.com/repos/bd808/monolog/commits/abceaab6664a62416b30b013a7a4d2afc6b6e514","created_at":"2015-11-12T03:40:55Z","performed_via_github_app":null},{"id":462036326,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDQ2MjAzNjMyNg==","url":"https://api.github.com/repos/Seldaek/monolog/issues/events/462036326","actor":{"login":"bd808","id":6469,"node_id":"MDQ6VXNlcjY0Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6469?v=4","gravatar_id":"","url":"https://api.github.com/users/bd808","html_url":"https://github.com/bd808","followers_url":"https://api.github.com/users/bd808/followers","following_url":"https://api.github.com/users/bd808/following{/other_user}","gists_url":"https://api.github.com/users/bd808/gists{/gist_id}","starred_url":"https://api.github.com/users/bd808/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bd808/subscriptions","organizations_url":"https://api.github.com/users/bd808/orgs","repos_url":"https://api.github.com/users/bd808/repos","events_url":"https://api.github.com/users/bd808/events{/privacy}","received_events_url":"https://api.github.com/users/bd808/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"e0a90360d164796e1c3e4ee74ef8fe25dee18370","commit_url":"https://api.github.com/repos/bd808/monolog/commits/e0a90360d164796e1c3e4ee74ef8fe25dee18370","created_at":"2015-11-12T03:47:14Z","performed_via_github_app":null},{"id":462037630,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDQ2MjAzNzYzMA==","url":"https://api.github.com/repos/Seldaek/monolog/issues/events/462037630","actor":{"login":"bd808","id":6469,"node_id":"MDQ6VXNlcjY0Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6469?v=4","gravatar_id":"","url":"https://api.github.com/users/bd808","html_url":"https://github.com/bd808","followers_url":"https://api.github.com/users/bd808/followers","following_url":"https://api.github.com/users/bd808/following{/other_user}","gists_url":"https://api.github.com/users/bd808/gists{/gist_id}","starred_url":"https://api.github.com/users/bd808/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bd808/subscriptions","organizations_url":"https://api.github.com/users/bd808/orgs","repos_url":"https://api.github.com/users/bd808/repos","events_url":"https://api.github.com/users/bd808/events{/privacy}","received_events_url":"https://api.github.com/users/bd808/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"9217902cf19ada2ffb0571aabb7cbdbc3fc2bf8b","commit_url":"https://api.github.com/repos/bd808/monolog/commits/9217902cf19ada2ffb0571aabb7cbdbc3fc2bf8b","created_at":"2015-11-12T03:50:00Z","performed_via_github_app":null},{"id":462047240,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDQ2MjA0NzI0MA==","url":"https://api.github.com/repos/Seldaek/monolog/issues/events/462047240","actor":{"login":"bd808","id":6469,"node_id":"MDQ6VXNlcjY0Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6469?v=4","gravatar_id":"","url":"https://api.github.com/users/bd808","html_url":"https://github.com/bd808","followers_url":"https://api.github.com/users/bd808/followers","following_url":"https://api.github.com/users/bd808/following{/other_user}","gists_url":"https://api.github.com/users/bd808/gists{/gist_id}","starred_url":"https://api.github.com/users/bd808/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bd808/subscriptions","organizations_url":"https://api.github.com/users/bd808/orgs","repos_url":"https://api.github.com/users/bd808/repos","events_url":"https://api.github.com/users/bd808/events{/privacy}","received_events_url":"https://api.github.com/users/bd808/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"c0c9bee289db88aa461bef44ebf7bc074bd85f1e","commit_url":"https://api.github.com/repos/bd808/monolog/commits/c0c9bee289db88aa461bef44ebf7bc074bd85f1e","created_at":"2015-11-12T04:08:58Z","performed_via_github_app":null},{"actor":{"login":"bd808","id":6469,"node_id":"MDQ6VXNlcjY0Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6469?v=4","gravatar_id":"","url":"https://api.github.com/users/bd808","html_url":"https://github.com/bd808","followers_url":"https://api.github.com/users/bd808/followers","following_url":"https://api.github.com/users/bd808/following{/other_user}","gists_url":"https://api.github.com/users/bd808/gists{/gist_id}","starred_url":"https://api.github.com/users/bd808/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bd808/subscriptions","organizations_url":"https://api.github.com/users/bd808/orgs","repos_url":"https://api.github.com/users/bd808/repos","events_url":"https://api.github.com/users/bd808/events{/privacy}","received_events_url":"https://api.github.com/users/bd808/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-11-12T04:09:28Z","updated_at":"2015-11-12T04:09:28Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/Seldaek/monolog/issues/683","repository_url":"https://api.github.com/repos/Seldaek/monolog","labels_url":"https://api.github.com/repos/Seldaek/monolog/issues/683/labels{/name}","comments_url":"https://api.github.com/repos/Seldaek/monolog/issues/683/comments","events_url":"https://api.github.com/repos/Seldaek/monolog/issues/683/events","html_url":"https://github.com/Seldaek/monolog/pull/683","id":116475931,"node_id":"MDExOlB1bGxSZXF1ZXN0NTA0Njk4OTE=","number":683,"title":"Attempt to recover from json encoding errors","user":{"login":"bd808","id":6469,"node_id":"MDQ6VXNlcjY0Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6469?v=4","gravatar_id":"","url":"https://api.github.com/users/bd808","html_url":"https://github.com/bd808","followers_url":"https://api.github.com/users/bd808/followers","following_url":"https://api.github.com/users/bd808/following{/other_user}","gists_url":"https://api.github.com/users/bd808/gists{/gist_id}","starred_url":"https://api.github.com/users/bd808/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bd808/subscriptions","organizations_url":"https://api.github.com/users/bd808/orgs","repos_url":"https://api.github.com/users/bd808/repos","events_url":"https://api.github.com/users/bd808/events{/privacy}","received_events_url":"https://api.github.com/users/bd808/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2015-11-12T04:09:28Z","updated_at":"2015-11-19T03:03:20Z","closed_at":"2015-11-18T17:57:14Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"draft":false,"repository":{"id":1376664,"node_id":"MDEwOlJlcG9zaXRvcnkxMzc2NjY0","name":"monolog","full_name":"Seldaek/monolog","private":false,"owner":{"login":"Seldaek","id":183678,"node_id":"MDQ6VXNlcjE4MzY3OA==","avatar_url":"https://avatars.githubusercontent.com/u/183678?v=4","gravatar_id":"","url":"https://api.github.com/users/Seldaek","html_url":"https://github.com/Seldaek","followers_url":"https://api.github.com/users/Seldaek/followers","following_url":"https://api.github.com/users/Seldaek/following{/other_user}","gists_url":"https://api.github.com/users/Seldaek/gists{/gist_id}","starred_url":"https://api.github.com/users/Seldaek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Seldaek/subscriptions","organizations_url":"https://api.github.com/users/Seldaek/orgs","repos_url":"https://api.github.com/users/Seldaek/repos","events_url":"https://api.github.com/users/Seldaek/events{/privacy}","received_events_url":"https://api.github.com/users/Seldaek/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/Seldaek/monolog","description":"Sends your logs to files, sockets, inboxes, databases and various web services","fork":false,"url":"https://api.github.com/repos/Seldaek/monolog","forks_url":"https://api.github.com/repos/Seldaek/monolog/forks","keys_url":"https://api.github.com/repos/Seldaek/monolog/keys{/key_id}","collaborators_url":"https://api.github.com/repos/Seldaek/monolog/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/Seldaek/monolog/teams","hooks_url":"https://api.github.com/repos/Seldaek/monolog/hooks","issue_events_url":"https://api.github.com/repos/Seldaek/monolog/issues/events{/number}","events_url":"https://api.github.com/repos/Seldaek/monolog/events","assignees_url":"https://api.github.com/repos/Seldaek/monolog/assignees{/user}","branches_url":"https://api.github.com/repos/Seldaek/monolog/branches{/branch}","tags_url":"https://api.github.com/repos/Seldaek/monolog/tags","blobs_url":"https://api.github.com/repos/Seldaek/monolog/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/Seldaek/monolog/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/Seldaek/monolog/git/refs{/sha}","trees_url":"https://api.github.com/repos/Seldaek/monolog/git/trees{/sha}","statuses_url":"https://api.github.com/repos/Seldaek/monolog/statuses/{sha}","languages_url":"https://api.github.com/repos/Seldaek/monolog/languages","stargazers_url":"https://api.github.com/repos/Seldaek/monolog/stargazers","contributors_url":"https://api.github.com/repos/Seldaek/monolog/contributors","subscribers_url":"https://api.github.com/repos/Seldaek/monolog/subscribers","subscription_url":"https://api.github.com/repos/Seldaek/monolog/subscription","commits_url":"https://api.github.com/repos/Seldaek/monolog/commits{/sha}","git_commits_url":"https://api.github.com/repos/Seldaek/monolog/git/commits{/sha}","comments_url":"https://api.github.com/repos/Seldaek/monolog/comments{/number}","issue_comment_url":"https://api.github.com/repos/Seldaek/monolog/issues/comments{/number}","contents_url":"https://api.github.com/repos/Seldaek/monolog/contents/{+path}","compare_url":"https://api.github.com/repos/Seldaek/monolog/compare/{base}...{head}","merges_url":"https://api.github.com/repos/Seldaek/monolog/merges","archive_url":"https://api.github.com/repos/Seldaek/monolog/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/Seldaek/monolog/downloads","issues_url":"https://api.github.com/repos/Seldaek/monolog/issues{/number}","pulls_url":"https://api.github.com/repos/Seldaek/monolog/pulls{/number}","milestones_url":"https://api.github.com/repos/Seldaek/monolog/milestones{/number}","notifications_url":"https://api.github.com/repos/Seldaek/monolog/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/Seldaek/monolog/labels{/name}","releases_url":"https://api.github.com/repos/Seldaek/monolog/releases{/id}","deployments_url":"https://api.github.com/repos/Seldaek/monolog/deployments","created_at":"2011-02-17T02:07:15Z","updated_at":"2025-11-09T16:20:07Z","pushed_at":"2025-10-27T13:40:53Z","git_url":"git://github.com/Seldaek/monolog.git","ssh_url":"git@github.com:Seldaek/monolog.git","clone_url":"https://github.com/Seldaek/monolog.git","svn_url":"https://github.com/Seldaek/monolog","homepage":"https://seldaek.github.io/monolog/","size":4917,"stargazers_count":21350,"watchers_count":21350,"language":"PHP","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":false,"forks_count":1904,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":33,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["hacktoberfest","logger","logging","php","psr-3"],"visibility":"public","forks":1904,"open_issues":33,"watchers":21350,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/Seldaek/monolog/pulls/683","html_url":"https://github.com/Seldaek/monolog/pull/683","diff_url":"https://github.com/Seldaek/monolog/pull/683.diff","patch_url":"https://github.com/Seldaek/monolog/pull/683.patch","merged_at":"2015-11-18T17:57:13Z"},"body":"Detect and attempt to recover from json_encode errors triggered by\nstrings containing invalid UTF-8 sequences. Recovery will only be\nattempted when encoding strings or arrays. If recovery fails then\na RuntimeException will be thrown.\n\nThe recovery process will convert invalid UTF-8 codepoints as though the\ninput string was encoded using the ISO-8859-15 character encoding. This\nconversion may result in incorrect string output if the original\nencoding was not ISO-8859-15, but it will be a valid UTF-8 string.\n\nCloses #545 and possibly #616\n","reactions":{"url":"https://api.github.com/repos/Seldaek/monolog/issues/683/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/Seldaek/monolog/issues/683/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":462733487,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDQ2MjczMzQ4Nw==","url":"https://api.github.com/repos/Seldaek/monolog/issues/events/462733487","actor":{"login":"bd808","id":6469,"node_id":"MDQ6VXNlcjY0Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6469?v=4","gravatar_id":"","url":"https://api.github.com/users/bd808","html_url":"https://github.com/bd808","followers_url":"https://api.github.com/users/bd808/followers","following_url":"https://api.github.com/users/bd808/following{/other_user}","gists_url":"https://api.github.com/users/bd808/gists{/gist_id}","starred_url":"https://api.github.com/users/bd808/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bd808/subscriptions","organizations_url":"https://api.github.com/users/bd808/orgs","repos_url":"https://api.github.com/users/bd808/repos","events_url":"https://api.github.com/users/bd808/events{/privacy}","received_events_url":"https://api.github.com/users/bd808/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"6f9e221bd62d2d95170e13aad6ad2a45044c5e2c","commit_url":"https://api.github.com/repos/bd808/monolog/commits/6f9e221bd62d2d95170e13aad6ad2a45044c5e2c","created_at":"2015-11-12T18:02:08Z","performed_via_github_app":null},{"id":468243066,"node_id":"MDExOkNsb3NlZEV2ZW50NDY4MjQzMDY2","url":"https://api.github.com/repos/Seldaek/monolog/issues/events/468243066","actor":{"login":"Seldaek","id":183678,"node_id":"MDQ6VXNlcjE4MzY3OA==","avatar_url":"https://avatars.githubusercontent.com/u/183678?v=4","gravatar_id":"","url":"https://api.github.com/users/Seldaek","html_url":"https://github.com/Seldaek","followers_url":"https://api.github.com/users/Seldaek/followers","following_url":"https://api.github.com/users/Seldaek/following{/other_user}","gists_url":"https://api.github.com/users/Seldaek/gists{/gist_id}","starred_url":"https://api.github.com/users/Seldaek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Seldaek/subscriptions","organizations_url":"https://api.github.com/users/Seldaek/orgs","repos_url":"https://api.github.com/users/Seldaek/repos","events_url":"https://api.github.com/users/Seldaek/events{/privacy}","received_events_url":"https://api.github.com/users/Seldaek/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2015-11-18T17:57:13Z","state_reason":null,"performed_via_github_app":null},{"actor":{"login":"bd808","id":6469,"node_id":"MDQ6VXNlcjY0Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6469?v=4","gravatar_id":"","url":"https://api.github.com/users/bd808","html_url":"https://github.com/bd808","followers_url":"https://api.github.com/users/bd808/followers","following_url":"https://api.github.com/users/bd808/following{/other_user}","gists_url":"https://api.github.com/users/bd808/gists{/gist_id}","starred_url":"https://api.github.com/users/bd808/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bd808/subscriptions","organizations_url":"https://api.github.com/users/bd808/orgs","repos_url":"https://api.github.com/users/bd808/repos","events_url":"https://api.github.com/users/bd808/events{/privacy}","received_events_url":"https://api.github.com/users/bd808/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-11T21:13:00Z","updated_at":"2020-05-11T21:13:00Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/Seldaek/monolog/issues/1446","repository_url":"https://api.github.com/repos/Seldaek/monolog","labels_url":"https://api.github.com/repos/Seldaek/monolog/issues/1446/labels{/name}","comments_url":"https://api.github.com/repos/Seldaek/monolog/issues/1446/comments","events_url":"https://api.github.com/repos/Seldaek/monolog/issues/1446/events","html_url":"https://github.com/Seldaek/monolog/issues/1446","id":593689073,"node_id":"MDU6SXNzdWU1OTM2ODkwNzM=","number":1446,"title":"Make NormalizerFormatter::addJsonEncodeOption public","user":{"login":"zerkms","id":302295,"node_id":"MDQ6VXNlcjMwMjI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/302295?v=4","gravatar_id":"","url":"https://api.github.com/users/zerkms","html_url":"https://github.com/zerkms","followers_url":"https://api.github.com/users/zerkms/followers","following_url":"https://api.github.com/users/zerkms/following{/other_user}","gists_url":"https://api.github.com/users/zerkms/gists{/gist_id}","starred_url":"https://api.github.com/users/zerkms/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zerkms/subscriptions","organizations_url":"https://api.github.com/users/zerkms/orgs","repos_url":"https://api.github.com/users/zerkms/repos","events_url":"https://api.github.com/users/zerkms/events{/privacy}","received_events_url":"https://api.github.com/users/zerkms/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":87833791,"node_id":"MDU6TGFiZWw4NzgzMzc5MQ==","url":"https://api.github.com/repos/Seldaek/monolog/labels/Feature","name":"Feature","color":"009800","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/Seldaek/monolog/milestones/6","html_url":"https://github.com/Seldaek/monolog/milestone/6","labels_url":"https://api.github.com/repos/Seldaek/monolog/milestones/6/labels","id":3833113,"node_id":"MDk6TWlsZXN0b25lMzgzMzExMw==","number":6,"title":"2.x","description":"","creator":{"login":"Seldaek","id":183678,"node_id":"MDQ6VXNlcjE4MzY3OA==","avatar_url":"https://avatars.githubusercontent.com/u/183678?v=4","gravatar_id":"","url":"https://api.github.com/users/Seldaek","html_url":"https://github.com/Seldaek","followers_url":"https://api.github.com/users/Seldaek/followers","following_url":"https://api.github.com/users/Seldaek/following{/other_user}","gists_url":"https://api.github.com/users/Seldaek/gists{/gist_id}","starred_url":"https://api.github.com/users/Seldaek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Seldaek/subscriptions","organizations_url":"https://api.github.com/users/Seldaek/orgs","repos_url":"https://api.github.com/users/Seldaek/repos","events_url":"https://api.github.com/users/Seldaek/events{/privacy}","received_events_url":"https://api.github.com/users/Seldaek/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":5,"closed_issues":126,"state":"open","created_at":"2018-11-19T22:36:56Z","updated_at":"2025-03-20T09:28:01Z","due_on":null,"closed_at":null},"comments":4,"created_at":"2020-04-03T23:23:58Z","updated_at":"2020-05-11T21:13:00Z","closed_at":"2020-05-11T19:52:52Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":1376664,"node_id":"MDEwOlJlcG9zaXRvcnkxMzc2NjY0","name":"monolog","full_name":"Seldaek/monolog","private":false,"owner":{"login":"Seldaek","id":183678,"node_id":"MDQ6VXNlcjE4MzY3OA==","avatar_url":"https://avatars.githubusercontent.com/u/183678?v=4","gravatar_id":"","url":"https://api.github.com/users/Seldaek","html_url":"https://github.com/Seldaek","followers_url":"https://api.github.com/users/Seldaek/followers","following_url":"https://api.github.com/users/Seldaek/following{/other_user}","gists_url":"https://api.github.com/users/Seldaek/gists{/gist_id}","starred_url":"https://api.github.com/users/Seldaek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Seldaek/subscriptions","organizations_url":"https://api.github.com/users/Seldaek/orgs","repos_url":"https://api.github.com/users/Seldaek/repos","events_url":"https://api.github.com/users/Seldaek/events{/privacy}","received_events_url":"https://api.github.com/users/Seldaek/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/Seldaek/monolog","description":"Sends your logs to files, sockets, inboxes, databases and various web services","fork":false,"url":"https://api.github.com/repos/Seldaek/monolog","forks_url":"https://api.github.com/repos/Seldaek/monolog/forks","keys_url":"https://api.github.com/repos/Seldaek/monolog/keys{/key_id}","collaborators_url":"https://api.github.com/repos/Seldaek/monolog/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/Seldaek/monolog/teams","hooks_url":"https://api.github.com/repos/Seldaek/monolog/hooks","issue_events_url":"https://api.github.com/repos/Seldaek/monolog/issues/events{/number}","events_url":"https://api.github.com/repos/Seldaek/monolog/events","assignees_url":"https://api.github.com/repos/Seldaek/monolog/assignees{/user}","branches_url":"https://api.github.com/repos/Seldaek/monolog/branches{/branch}","tags_url":"https://api.github.com/repos/Seldaek/monolog/tags","blobs_url":"https://api.github.com/repos/Seldaek/monolog/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/Seldaek/monolog/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/Seldaek/monolog/git/refs{/sha}","trees_url":"https://api.github.com/repos/Seldaek/monolog/git/trees{/sha}","statuses_url":"https://api.github.com/repos/Seldaek/monolog/statuses/{sha}","languages_url":"https://api.github.com/repos/Seldaek/monolog/languages","stargazers_url":"https://api.github.com/repos/Seldaek/monolog/stargazers","contributors_url":"https://api.github.com/repos/Seldaek/monolog/contributors","subscribers_url":"https://api.github.com/repos/Seldaek/monolog/subscribers","subscription_url":"https://api.github.com/repos/Seldaek/monolog/subscription","commits_url":"https://api.github.com/repos/Seldaek/monolog/commits{/sha}","git_commits_url":"https://api.github.com/repos/Seldaek/monolog/git/commits{/sha}","comments_url":"https://api.github.com/repos/Seldaek/monolog/comments{/number}","issue_comment_url":"https://api.github.com/repos/Seldaek/monolog/issues/comments{/number}","contents_url":"https://api.github.com/repos/Seldaek/monolog/contents/{+path}","compare_url":"https://api.github.com/repos/Seldaek/monolog/compare/{base}...{head}","merges_url":"https://api.github.com/repos/Seldaek/monolog/merges","archive_url":"https://api.github.com/repos/Seldaek/monolog/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/Seldaek/monolog/downloads","issues_url":"https://api.github.com/repos/Seldaek/monolog/issues{/number}","pulls_url":"https://api.github.com/repos/Seldaek/monolog/pulls{/number}","milestones_url":"https://api.github.com/repos/Seldaek/monolog/milestones{/number}","notifications_url":"https://api.github.com/repos/Seldaek/monolog/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/Seldaek/monolog/labels{/name}","releases_url":"https://api.github.com/repos/Seldaek/monolog/releases{/id}","deployments_url":"https://api.github.com/repos/Seldaek/monolog/deployments","created_at":"2011-02-17T02:07:15Z","updated_at":"2025-11-09T16:20:07Z","pushed_at":"2025-10-27T13:40:53Z","git_url":"git://github.com/Seldaek/monolog.git","ssh_url":"git@github.com:Seldaek/monolog.git","clone_url":"https://github.com/Seldaek/monolog.git","svn_url":"https://github.com/Seldaek/monolog","homepage":"https://seldaek.github.io/monolog/","size":4917,"stargazers_count":21350,"watchers_count":21350,"language":"PHP","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":false,"forks_count":1904,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":33,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["hacktoberfest","logger","logging","php","psr-3"],"visibility":"public","forks":1904,"open_issues":33,"watchers":21350,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"At this point `NormalizerFormatter::addJsonEncodeOption` function is protected, and is not used anywhere (no wondering).\r\n\r\nIn my code base I wanted to `JSON_INVALID_UTF8_SUBSTITUTE` so that Monolog could log broken UTF8 as well (at the moment it simply would return `null`).\r\n\r\nTo do that I need to `$formatter->addJsonEncodeOption(JSON_INVALID_UTF8_SUBSTITUTE)` from my code, which is impossible.","reactions":{"url":"https://api.github.com/repos/Seldaek/monolog/issues/1446/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/Seldaek/monolog/issues/1446/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"}]