{"url":"https://api.github.com/repos/Seldaek/monolog/issues/289","repository_url":"https://api.github.com/repos/Seldaek/monolog","labels_url":"https://api.github.com/repos/Seldaek/monolog/issues/289/labels{/name}","comments_url":"https://api.github.com/repos/Seldaek/monolog/issues/289/comments","events_url":"https://api.github.com/repos/Seldaek/monolog/issues/289/events","html_url":"https://github.com/Seldaek/monolog/issues/289","id":24745358,"node_id":"MDU6SXNzdWUyNDc0NTM1OA==","number":289,"title":"HipChatHandler: Parameter validation/handling","user":{"login":"levacic","id":1636354,"node_id":"MDQ6VXNlcjE2MzYzNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/1636354?v=4","gravatar_id":"","url":"https://api.github.com/users/levacic","html_url":"https://github.com/levacic","followers_url":"https://api.github.com/users/levacic/followers","following_url":"https://api.github.com/users/levacic/following{/other_user}","gists_url":"https://api.github.com/users/levacic/gists{/gist_id}","starred_url":"https://api.github.com/users/levacic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/levacic/subscriptions","organizations_url":"https://api.github.com/users/levacic/orgs","repos_url":"https://api.github.com/users/levacic/repos","events_url":"https://api.github.com/users/levacic/events{/privacy}","received_events_url":"https://api.github.com/users/levacic/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2013-12-24T12:37:45Z","updated_at":"2013-12-25T11:36:24Z","closed_at":"2013-12-25T11:36:24Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"The HipChat API (as per https://www.hipchat.com/docs/api/method/rooms/message) has a limit of 15 characters for the `from` parameter (the API docs say \"less than 15\", but 15 characters seem to be accepted).\n\nWhen a `HipChatHandler` is instantiated with a longer name, perhaps it should throw an exception, or maybe only take the first 15 characters of the provided name. In my opinion, an exception is better, since the developer can instantly know they shouldn't do that, but maybe others have different preferences (I wasted some time figuring out why it wouldn't work, before I found out what happened, and an exception would have saved me that time).\n\nSimilarly, the message is limited to 10,000 characters, so it might be wise to automatically strip longer messages within `HipChatHandler::buildContent()` (it seems like an awfully bad idea to throw exceptions in this case, and stripping content shouldn't be a problem, as there is likely also a log file being written to). This change _could_ have some performance implications, though, but I don't think they would be relevant (haven't benchmarked it, to be honest, it just makes sense).\n\nI can implement these changes (or at least the first one, if people think the second one shouldn't be implemented) and send a PR, but I'd just like to know what others feel is the best approach to handle these cases.\n\nAlso, if an exception is to be thrown, what should its name be? I was thinking simply `Monolog\\Handler\\HipChatHandlerException`, so as not to complicate things too much (e.g. `Monolog\\Handler\\HipChatHandler\\LongNameException` extending `Monolog\\Handler\\HipChatHandler\\Exception` extending `Exception`, and similar bloat).\n","closed_by":{"login":"Seldaek","id":183678,"node_id":"MDQ6VXNlcjE4MzY3OA==","avatar_url":"https://avatars.githubusercontent.com/u/183678?v=4","gravatar_id":"","url":"https://api.github.com/users/Seldaek","html_url":"https://github.com/Seldaek","followers_url":"https://api.github.com/users/Seldaek/followers","following_url":"https://api.github.com/users/Seldaek/following{/other_user}","gists_url":"https://api.github.com/users/Seldaek/gists{/gist_id}","starred_url":"https://api.github.com/users/Seldaek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Seldaek/subscriptions","organizations_url":"https://api.github.com/users/Seldaek/orgs","repos_url":"https://api.github.com/users/Seldaek/repos","events_url":"https://api.github.com/users/Seldaek/events{/privacy}","received_events_url":"https://api.github.com/users/Seldaek/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/Seldaek/monolog/issues/289/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/Seldaek/monolog/issues/289/timeline","performed_via_github_app":null,"state_reason":"completed"}