[{"actor":{"login":"linaori","id":1754678,"node_id":"MDQ6VXNlcjE3NTQ2Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/1754678?v=4","gravatar_id":"","url":"https://api.github.com/users/linaori","html_url":"https://github.com/linaori","followers_url":"https://api.github.com/users/linaori/followers","following_url":"https://api.github.com/users/linaori/following{/other_user}","gists_url":"https://api.github.com/users/linaori/gists{/gist_id}","starred_url":"https://api.github.com/users/linaori/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/linaori/subscriptions","organizations_url":"https://api.github.com/users/linaori/orgs","repos_url":"https://api.github.com/users/linaori/repos","events_url":"https://api.github.com/users/linaori/events{/privacy}","received_events_url":"https://api.github.com/users/linaori/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-11T11:19:45Z","updated_at":"2018-04-11T11:19:45Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/hostnet/form-handler-component/issues/26","repository_url":"https://api.github.com/repos/hostnet/form-handler-component","labels_url":"https://api.github.com/repos/hostnet/form-handler-component/issues/26/labels{/name}","comments_url":"https://api.github.com/repos/hostnet/form-handler-component/issues/26/comments","events_url":"https://api.github.com/repos/hostnet/form-handler-component/issues/26/events","html_url":"https://github.com/hostnet/form-handler-component/pull/26","id":313280651,"node_id":"MDExOlB1bGxSZXF1ZXN0MTgwODcwMTY3","number":26,"title":"Don't expose request stacktrace in call_user_func","user":{"login":"linaori","id":1754678,"node_id":"MDQ6VXNlcjE3NTQ2Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/1754678?v=4","gravatar_id":"","url":"https://api.github.com/users/linaori","html_url":"https://github.com/linaori","followers_url":"https://api.github.com/users/linaori/followers","following_url":"https://api.github.com/users/linaori/following{/other_user}","gists_url":"https://api.github.com/users/linaori/gists{/gist_id}","starred_url":"https://api.github.com/users/linaori/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/linaori/subscriptions","organizations_url":"https://api.github.com/users/linaori/orgs","repos_url":"https://api.github.com/users/linaori/repos","events_url":"https://api.github.com/users/linaori/events{/privacy}","received_events_url":"https://api.github.com/users/linaori/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2018-04-11T11:19:45Z","updated_at":"2018-04-11T12:25:11Z","closed_at":"2018-04-11T12:25:11Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":20103461,"node_id":"MDEwOlJlcG9zaXRvcnkyMDEwMzQ2MQ==","name":"form-handler-component","full_name":"hostnet/form-handler-component","private":false,"owner":{"login":"hostnet","id":1465011,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE0NjUwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/1465011?v=4","gravatar_id":"","url":"https://api.github.com/users/hostnet","html_url":"https://github.com/hostnet","followers_url":"https://api.github.com/users/hostnet/followers","following_url":"https://api.github.com/users/hostnet/following{/other_user}","gists_url":"https://api.github.com/users/hostnet/gists{/gist_id}","starred_url":"https://api.github.com/users/hostnet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hostnet/subscriptions","organizations_url":"https://api.github.com/users/hostnet/orgs","repos_url":"https://api.github.com/users/hostnet/repos","events_url":"https://api.github.com/users/hostnet/events{/privacy}","received_events_url":"https://api.github.com/users/hostnet/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/hostnet/form-handler-component","description":"Contains form handling logic","fork":false,"url":"https://api.github.com/repos/hostnet/form-handler-component","forks_url":"https://api.github.com/repos/hostnet/form-handler-component/forks","keys_url":"https://api.github.com/repos/hostnet/form-handler-component/keys{/key_id}","collaborators_url":"https://api.github.com/repos/hostnet/form-handler-component/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/hostnet/form-handler-component/teams","hooks_url":"https://api.github.com/repos/hostnet/form-handler-component/hooks","issue_events_url":"https://api.github.com/repos/hostnet/form-handler-component/issues/events{/number}","events_url":"https://api.github.com/repos/hostnet/form-handler-component/events","assignees_url":"https://api.github.com/repos/hostnet/form-handler-component/assignees{/user}","branches_url":"https://api.github.com/repos/hostnet/form-handler-component/branches{/branch}","tags_url":"https://api.github.com/repos/hostnet/form-handler-component/tags","blobs_url":"https://api.github.com/repos/hostnet/form-handler-component/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/hostnet/form-handler-component/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/hostnet/form-handler-component/git/refs{/sha}","trees_url":"https://api.github.com/repos/hostnet/form-handler-component/git/trees{/sha}","statuses_url":"https://api.github.com/repos/hostnet/form-handler-component/statuses/{sha}","languages_url":"https://api.github.com/repos/hostnet/form-handler-component/languages","stargazers_url":"https://api.github.com/repos/hostnet/form-handler-component/stargazers","contributors_url":"https://api.github.com/repos/hostnet/form-handler-component/contributors","subscribers_url":"https://api.github.com/repos/hostnet/form-handler-component/subscribers","subscription_url":"https://api.github.com/repos/hostnet/form-handler-component/subscription","commits_url":"https://api.github.com/repos/hostnet/form-handler-component/commits{/sha}","git_commits_url":"https://api.github.com/repos/hostnet/form-handler-component/git/commits{/sha}","comments_url":"https://api.github.com/repos/hostnet/form-handler-component/comments{/number}","issue_comment_url":"https://api.github.com/repos/hostnet/form-handler-component/issues/comments{/number}","contents_url":"https://api.github.com/repos/hostnet/form-handler-component/contents/{+path}","compare_url":"https://api.github.com/repos/hostnet/form-handler-component/compare/{base}...{head}","merges_url":"https://api.github.com/repos/hostnet/form-handler-component/merges","archive_url":"https://api.github.com/repos/hostnet/form-handler-component/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/hostnet/form-handler-component/downloads","issues_url":"https://api.github.com/repos/hostnet/form-handler-component/issues{/number}","pulls_url":"https://api.github.com/repos/hostnet/form-handler-component/pulls{/number}","milestones_url":"https://api.github.com/repos/hostnet/form-handler-component/milestones{/number}","notifications_url":"https://api.github.com/repos/hostnet/form-handler-component/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/hostnet/form-handler-component/labels{/name}","releases_url":"https://api.github.com/repos/hostnet/form-handler-component/releases{/id}","deployments_url":"https://api.github.com/repos/hostnet/form-handler-component/deployments","created_at":"2014-05-23T15:00:42Z","updated_at":"2025-02-11T13:05:09Z","pushed_at":"2025-02-11T13:06:47Z","git_url":"git://github.com/hostnet/form-handler-component.git","ssh_url":"git@github.com:hostnet/form-handler-component.git","clone_url":"https://github.com/hostnet/form-handler-component.git","svn_url":"https://github.com/hostnet/form-handler-component","homepage":null,"size":93,"stargazers_count":12,"watchers_count":12,"language":"PHP","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":12,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":2,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":12,"open_issues":2,"watchers":12,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/hostnet/form-handler-component/pulls/26","html_url":"https://github.com/hostnet/form-handler-component/pull/26","diff_url":"https://github.com/hostnet/form-handler-component/pull/26.diff","patch_url":"https://github.com/hostnet/form-handler-component/pull/26.patch","merged_at":"2018-04-11T12:25:11Z"},"body":"When call_user_func runs a callable that throws an exception, the\r\nexception stacktrace will contain the request object. When a logger\r\nparses the array of functions, it might cause this processor/formatter\r\nto call the `__toString()` function on the Request object, which will\r\nthen contain all request information, which includes passwords when\r\nsent as post body.\r\n\r\nSee: Seldaek/monolog#1138","reactions":{"url":"https://api.github.com/repos/hostnet/form-handler-component/issues/26/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/hostnet/form-handler-component/issues/26/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":1568416129,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDE1Njg0MTYxMjk=","url":"https://api.github.com/repos/Seldaek/monolog/issues/events/1568416129","actor":{"login":"rickprent","id":2202733,"node_id":"MDQ6VXNlcjIyMDI3MzM=","avatar_url":"https://avatars.githubusercontent.com/u/2202733?v=4","gravatar_id":"","url":"https://api.github.com/users/rickprent","html_url":"https://github.com/rickprent","followers_url":"https://api.github.com/users/rickprent/followers","following_url":"https://api.github.com/users/rickprent/following{/other_user}","gists_url":"https://api.github.com/users/rickprent/gists{/gist_id}","starred_url":"https://api.github.com/users/rickprent/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rickprent/subscriptions","organizations_url":"https://api.github.com/users/rickprent/orgs","repos_url":"https://api.github.com/users/rickprent/repos","events_url":"https://api.github.com/users/rickprent/events{/privacy}","received_events_url":"https://api.github.com/users/rickprent/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"87cbc8444ec20a0c66bc8e05e79a102fb7cf4b0d","commit_url":"https://api.github.com/repos/hostnet/form-handler-component/commits/87cbc8444ec20a0c66bc8e05e79a102fb7cf4b0d","created_at":"2018-04-11T12:25:12Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/Seldaek/monolog/issues/comments/397982946","html_url":"https://github.com/Seldaek/monolog/issues/1138#issuecomment-397982946","issue_url":"https://api.github.com/repos/Seldaek/monolog/issues/1138","id":397982946,"node_id":"MDEyOklzc3VlQ29tbWVudDM5Nzk4Mjk0Ng==","user":{"login":"Seldaek","id":183678,"node_id":"MDQ6VXNlcjE4MzY3OA==","avatar_url":"https://avatars.githubusercontent.com/u/183678?v=4","gravatar_id":"","url":"https://api.github.com/users/Seldaek","html_url":"https://github.com/Seldaek","followers_url":"https://api.github.com/users/Seldaek/followers","following_url":"https://api.github.com/users/Seldaek/following{/other_user}","gists_url":"https://api.github.com/users/Seldaek/gists{/gist_id}","starred_url":"https://api.github.com/users/Seldaek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Seldaek/subscriptions","organizations_url":"https://api.github.com/users/Seldaek/orgs","repos_url":"https://api.github.com/users/Seldaek/repos","events_url":"https://api.github.com/users/Seldaek/events{/privacy}","received_events_url":"https://api.github.com/users/Seldaek/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-18T08:41:25Z","updated_at":"2018-06-18T08:41:25Z","body":"I'm not entirely sure what you suggest we do here? Perhaps we could filter out the arguments from the stacktrace in the NormalizerFormatter?","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/Seldaek/monolog/issues/comments/397982946/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Seldaek","id":183678,"node_id":"MDQ6VXNlcjE4MzY3OA==","avatar_url":"https://avatars.githubusercontent.com/u/183678?v=4","gravatar_id":"","url":"https://api.github.com/users/Seldaek","html_url":"https://github.com/Seldaek","followers_url":"https://api.github.com/users/Seldaek/followers","following_url":"https://api.github.com/users/Seldaek/following{/other_user}","gists_url":"https://api.github.com/users/Seldaek/gists{/gist_id}","starred_url":"https://api.github.com/users/Seldaek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Seldaek/subscriptions","organizations_url":"https://api.github.com/users/Seldaek/orgs","repos_url":"https://api.github.com/users/Seldaek/repos","events_url":"https://api.github.com/users/Seldaek/events{/privacy}","received_events_url":"https://api.github.com/users/Seldaek/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1685627765,"node_id":"MDEyOkxhYmVsZWRFdmVudDE2ODU2Mjc3NjU=","url":"https://api.github.com/repos/Seldaek/monolog/issues/events/1685627765","actor":{"login":"Seldaek","id":183678,"node_id":"MDQ6VXNlcjE4MzY3OA==","avatar_url":"https://avatars.githubusercontent.com/u/183678?v=4","gravatar_id":"","url":"https://api.github.com/users/Seldaek","html_url":"https://github.com/Seldaek","followers_url":"https://api.github.com/users/Seldaek/followers","following_url":"https://api.github.com/users/Seldaek/following{/other_user}","gists_url":"https://api.github.com/users/Seldaek/gists{/gist_id}","starred_url":"https://api.github.com/users/Seldaek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Seldaek/subscriptions","organizations_url":"https://api.github.com/users/Seldaek/orgs","repos_url":"https://api.github.com/users/Seldaek/repos","events_url":"https://api.github.com/users/Seldaek/events{/privacy}","received_events_url":"https://api.github.com/users/Seldaek/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2018-06-18T08:42:14Z","label":{"name":"Bug","color":"e11d21"},"performed_via_github_app":null},{"id":1685627847,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDE2ODU2Mjc4NDc=","url":"https://api.github.com/repos/Seldaek/monolog/issues/events/1685627847","actor":{"login":"Seldaek","id":183678,"node_id":"MDQ6VXNlcjE4MzY3OA==","avatar_url":"https://avatars.githubusercontent.com/u/183678?v=4","gravatar_id":"","url":"https://api.github.com/users/Seldaek","html_url":"https://github.com/Seldaek","followers_url":"https://api.github.com/users/Seldaek/followers","following_url":"https://api.github.com/users/Seldaek/following{/other_user}","gists_url":"https://api.github.com/users/Seldaek/gists{/gist_id}","starred_url":"https://api.github.com/users/Seldaek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Seldaek/subscriptions","organizations_url":"https://api.github.com/users/Seldaek/orgs","repos_url":"https://api.github.com/users/Seldaek/repos","events_url":"https://api.github.com/users/Seldaek/events{/privacy}","received_events_url":"https://api.github.com/users/Seldaek/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2018-06-18T08:42:16Z","milestone":{"title":"1.x"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/Seldaek/monolog/issues/comments/397994735","html_url":"https://github.com/Seldaek/monolog/issues/1138#issuecomment-397994735","issue_url":"https://api.github.com/repos/Seldaek/monolog/issues/1138","id":397994735,"node_id":"MDEyOklzc3VlQ29tbWVudDM5Nzk5NDczNQ==","user":{"login":"linaori","id":1754678,"node_id":"MDQ6VXNlcjE3NTQ2Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/1754678?v=4","gravatar_id":"","url":"https://api.github.com/users/linaori","html_url":"https://github.com/linaori","followers_url":"https://api.github.com/users/linaori/followers","following_url":"https://api.github.com/users/linaori/following{/other_user}","gists_url":"https://api.github.com/users/linaori/gists{/gist_id}","starred_url":"https://api.github.com/users/linaori/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/linaori/subscriptions","organizations_url":"https://api.github.com/users/linaori/orgs","repos_url":"https://api.github.com/users/linaori/repos","events_url":"https://api.github.com/users/linaori/events{/privacy}","received_events_url":"https://api.github.com/users/linaori/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-18T09:25:21Z","updated_at":"2018-06-18T09:25:21Z","body":"I'd say remove `__toString` support... It's always giving trouble when I see it implemented. ","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/Seldaek/monolog/issues/comments/397994735/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"linaori","id":1754678,"node_id":"MDQ6VXNlcjE3NTQ2Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/1754678?v=4","gravatar_id":"","url":"https://api.github.com/users/linaori","html_url":"https://github.com/linaori","followers_url":"https://api.github.com/users/linaori/followers","following_url":"https://api.github.com/users/linaori/following{/other_user}","gists_url":"https://api.github.com/users/linaori/gists{/gist_id}","starred_url":"https://api.github.com/users/linaori/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/linaori/subscriptions","organizations_url":"https://api.github.com/users/linaori/orgs","repos_url":"https://api.github.com/users/linaori/repos","events_url":"https://api.github.com/users/linaori/events{/privacy}","received_events_url":"https://api.github.com/users/linaori/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1686492397,"node_id":"MDExOkNsb3NlZEV2ZW50MTY4NjQ5MjM5Nw==","url":"https://api.github.com/repos/Seldaek/monolog/issues/events/1686492397","actor":{"login":"Seldaek","id":183678,"node_id":"MDQ6VXNlcjE4MzY3OA==","avatar_url":"https://avatars.githubusercontent.com/u/183678?v=4","gravatar_id":"","url":"https://api.github.com/users/Seldaek","html_url":"https://github.com/Seldaek","followers_url":"https://api.github.com/users/Seldaek/followers","following_url":"https://api.github.com/users/Seldaek/following{/other_user}","gists_url":"https://api.github.com/users/Seldaek/gists{/gist_id}","starred_url":"https://api.github.com/users/Seldaek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Seldaek/subscriptions","organizations_url":"https://api.github.com/users/Seldaek/orgs","repos_url":"https://api.github.com/users/Seldaek/repos","events_url":"https://api.github.com/users/Seldaek/events{/privacy}","received_events_url":"https://api.github.com/users/Seldaek/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"3e92b08956da82867774ca8a8edef2472ab743f9","commit_url":"https://api.github.com/repos/Seldaek/monolog/commits/3e92b08956da82867774ca8a8edef2472ab743f9","created_at":"2018-06-18T15:27:45Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/Seldaek/monolog/issues/comments/398094569","html_url":"https://github.com/Seldaek/monolog/issues/1138#issuecomment-398094569","issue_url":"https://api.github.com/repos/Seldaek/monolog/issues/1138","id":398094569,"node_id":"MDEyOklzc3VlQ29tbWVudDM5ODA5NDU2OQ==","user":{"login":"Seldaek","id":183678,"node_id":"MDQ6VXNlcjE4MzY3OA==","avatar_url":"https://avatars.githubusercontent.com/u/183678?v=4","gravatar_id":"","url":"https://api.github.com/users/Seldaek","html_url":"https://github.com/Seldaek","followers_url":"https://api.github.com/users/Seldaek/followers","following_url":"https://api.github.com/users/Seldaek/following{/other_user}","gists_url":"https://api.github.com/users/Seldaek/gists{/gist_id}","starred_url":"https://api.github.com/users/Seldaek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Seldaek/subscriptions","organizations_url":"https://api.github.com/users/Seldaek/orgs","repos_url":"https://api.github.com/users/Seldaek/repos","events_url":"https://api.github.com/users/Seldaek/events{/privacy}","received_events_url":"https://api.github.com/users/Seldaek/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-18T15:28:45Z","updated_at":"2018-06-18T15:28:45Z","body":"I think supporting __toString is quite important for objects you pass in as context, but the issue here is that this can include things you didn't expect in the stack trace, so I simplified the arguments quite a bit when they get logged.","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/Seldaek/monolog/issues/comments/398094569/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Seldaek","id":183678,"node_id":"MDQ6VXNlcjE4MzY3OA==","avatar_url":"https://avatars.githubusercontent.com/u/183678?v=4","gravatar_id":"","url":"https://api.github.com/users/Seldaek","html_url":"https://github.com/Seldaek","followers_url":"https://api.github.com/users/Seldaek/followers","following_url":"https://api.github.com/users/Seldaek/following{/other_user}","gists_url":"https://api.github.com/users/Seldaek/gists{/gist_id}","starred_url":"https://api.github.com/users/Seldaek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Seldaek/subscriptions","organizations_url":"https://api.github.com/users/Seldaek/orgs","repos_url":"https://api.github.com/users/Seldaek/repos","events_url":"https://api.github.com/users/Seldaek/events{/privacy}","received_events_url":"https://api.github.com/users/Seldaek/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/Seldaek/monolog/issues/comments/398113636","html_url":"https://github.com/Seldaek/monolog/issues/1138#issuecomment-398113636","issue_url":"https://api.github.com/repos/Seldaek/monolog/issues/1138","id":398113636,"node_id":"MDEyOklzc3VlQ29tbWVudDM5ODExMzYzNg==","user":{"login":"linaori","id":1754678,"node_id":"MDQ6VXNlcjE3NTQ2Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/1754678?v=4","gravatar_id":"","url":"https://api.github.com/users/linaori","html_url":"https://github.com/linaori","followers_url":"https://api.github.com/users/linaori/followers","following_url":"https://api.github.com/users/linaori/following{/other_user}","gists_url":"https://api.github.com/users/linaori/gists{/gist_id}","starred_url":"https://api.github.com/users/linaori/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/linaori/subscriptions","organizations_url":"https://api.github.com/users/linaori/orgs","repos_url":"https://api.github.com/users/linaori/repos","events_url":"https://api.github.com/users/linaori/events{/privacy}","received_events_url":"https://api.github.com/users/linaori/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-18T16:26:54Z","updated_at":"2018-06-18T16:26:54Z","body":"I guess that will work as well, thanks! I figured this solution would be a lot harder to implement.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/Seldaek/monolog/issues/comments/398113636/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"linaori","id":1754678,"node_id":"MDQ6VXNlcjE3NTQ2Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/1754678?v=4","gravatar_id":"","url":"https://api.github.com/users/linaori","html_url":"https://github.com/linaori","followers_url":"https://api.github.com/users/linaori/followers","following_url":"https://api.github.com/users/linaori/following{/other_user}","gists_url":"https://api.github.com/users/linaori/gists{/gist_id}","starred_url":"https://api.github.com/users/linaori/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/linaori/subscriptions","organizations_url":"https://api.github.com/users/linaori/orgs","repos_url":"https://api.github.com/users/linaori/repos","events_url":"https://api.github.com/users/linaori/events{/privacy}","received_events_url":"https://api.github.com/users/linaori/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"andrei-e-random","id":24353101,"node_id":"MDQ6VXNlcjI0MzUzMTAx","avatar_url":"https://avatars.githubusercontent.com/u/24353101?v=4","gravatar_id":"","url":"https://api.github.com/users/andrei-e-random","html_url":"https://github.com/andrei-e-random","followers_url":"https://api.github.com/users/andrei-e-random/followers","following_url":"https://api.github.com/users/andrei-e-random/following{/other_user}","gists_url":"https://api.github.com/users/andrei-e-random/gists{/gist_id}","starred_url":"https://api.github.com/users/andrei-e-random/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrei-e-random/subscriptions","organizations_url":"https://api.github.com/users/andrei-e-random/orgs","repos_url":"https://api.github.com/users/andrei-e-random/repos","events_url":"https://api.github.com/users/andrei-e-random/events{/privacy}","received_events_url":"https://api.github.com/users/andrei-e-random/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-10T14:42:24Z","updated_at":"2019-07-10T14:42:24Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/Seldaek/monolog/issues/1346","repository_url":"https://api.github.com/repos/Seldaek/monolog","labels_url":"https://api.github.com/repos/Seldaek/monolog/issues/1346/labels{/name}","comments_url":"https://api.github.com/repos/Seldaek/monolog/issues/1346/comments","events_url":"https://api.github.com/repos/Seldaek/monolog/issues/1346/events","html_url":"https://github.com/Seldaek/monolog/issues/1346","id":466350753,"node_id":"MDU6SXNzdWU0NjYzNTA3NTM=","number":1346,"title":"JsonFormatter with stacktaces may cause fatal errors and reveal sensitive data","user":{"login":"andrei-e-random","id":24353101,"node_id":"MDQ6VXNlcjI0MzUzMTAx","avatar_url":"https://avatars.githubusercontent.com/u/24353101?v=4","gravatar_id":"","url":"https://api.github.com/users/andrei-e-random","html_url":"https://github.com/andrei-e-random","followers_url":"https://api.github.com/users/andrei-e-random/followers","following_url":"https://api.github.com/users/andrei-e-random/following{/other_user}","gists_url":"https://api.github.com/users/andrei-e-random/gists{/gist_id}","starred_url":"https://api.github.com/users/andrei-e-random/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrei-e-random/subscriptions","organizations_url":"https://api.github.com/users/andrei-e-random/orgs","repos_url":"https://api.github.com/users/andrei-e-random/repos","events_url":"https://api.github.com/users/andrei-e-random/events{/privacy}","received_events_url":"https://api.github.com/users/andrei-e-random/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":87833823,"node_id":"MDU6TGFiZWw4NzgzMzgyMw==","url":"https://api.github.com/repos/Seldaek/monolog/labels/Bug","name":"Bug","color":"e11d21","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/Seldaek/monolog/milestones/5","html_url":"https://github.com/Seldaek/monolog/milestone/5","labels_url":"https://api.github.com/repos/Seldaek/monolog/milestones/5/labels","id":1854876,"node_id":"MDk6TWlsZXN0b25lMTg1NDg3Ng==","number":5,"title":"1.x","description":"","creator":{"login":"Seldaek","id":183678,"node_id":"MDQ6VXNlcjE4MzY3OA==","avatar_url":"https://avatars.githubusercontent.com/u/183678?v=4","gravatar_id":"","url":"https://api.github.com/users/Seldaek","html_url":"https://github.com/Seldaek","followers_url":"https://api.github.com/users/Seldaek/followers","following_url":"https://api.github.com/users/Seldaek/following{/other_user}","gists_url":"https://api.github.com/users/Seldaek/gists{/gist_id}","starred_url":"https://api.github.com/users/Seldaek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Seldaek/subscriptions","organizations_url":"https://api.github.com/users/Seldaek/orgs","repos_url":"https://api.github.com/users/Seldaek/repos","events_url":"https://api.github.com/users/Seldaek/events{/privacy}","received_events_url":"https://api.github.com/users/Seldaek/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":2,"closed_issues":64,"state":"open","created_at":"2016-06-29T11:29:05Z","updated_at":"2022-07-22T11:21:04Z","due_on":null,"closed_at":null},"comments":3,"created_at":"2019-07-10T14:42:24Z","updated_at":"2019-08-30T08:32:27Z","closed_at":"2019-08-30T08:32:27Z","author_association":"NONE","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":1376664,"node_id":"MDEwOlJlcG9zaXRvcnkxMzc2NjY0","name":"monolog","full_name":"Seldaek/monolog","private":false,"owner":{"login":"Seldaek","id":183678,"node_id":"MDQ6VXNlcjE4MzY3OA==","avatar_url":"https://avatars.githubusercontent.com/u/183678?v=4","gravatar_id":"","url":"https://api.github.com/users/Seldaek","html_url":"https://github.com/Seldaek","followers_url":"https://api.github.com/users/Seldaek/followers","following_url":"https://api.github.com/users/Seldaek/following{/other_user}","gists_url":"https://api.github.com/users/Seldaek/gists{/gist_id}","starred_url":"https://api.github.com/users/Seldaek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Seldaek/subscriptions","organizations_url":"https://api.github.com/users/Seldaek/orgs","repos_url":"https://api.github.com/users/Seldaek/repos","events_url":"https://api.github.com/users/Seldaek/events{/privacy}","received_events_url":"https://api.github.com/users/Seldaek/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/Seldaek/monolog","description":"Sends your logs to files, sockets, inboxes, databases and various web services","fork":false,"url":"https://api.github.com/repos/Seldaek/monolog","forks_url":"https://api.github.com/repos/Seldaek/monolog/forks","keys_url":"https://api.github.com/repos/Seldaek/monolog/keys{/key_id}","collaborators_url":"https://api.github.com/repos/Seldaek/monolog/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/Seldaek/monolog/teams","hooks_url":"https://api.github.com/repos/Seldaek/monolog/hooks","issue_events_url":"https://api.github.com/repos/Seldaek/monolog/issues/events{/number}","events_url":"https://api.github.com/repos/Seldaek/monolog/events","assignees_url":"https://api.github.com/repos/Seldaek/monolog/assignees{/user}","branches_url":"https://api.github.com/repos/Seldaek/monolog/branches{/branch}","tags_url":"https://api.github.com/repos/Seldaek/monolog/tags","blobs_url":"https://api.github.com/repos/Seldaek/monolog/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/Seldaek/monolog/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/Seldaek/monolog/git/refs{/sha}","trees_url":"https://api.github.com/repos/Seldaek/monolog/git/trees{/sha}","statuses_url":"https://api.github.com/repos/Seldaek/monolog/statuses/{sha}","languages_url":"https://api.github.com/repos/Seldaek/monolog/languages","stargazers_url":"https://api.github.com/repos/Seldaek/monolog/stargazers","contributors_url":"https://api.github.com/repos/Seldaek/monolog/contributors","subscribers_url":"https://api.github.com/repos/Seldaek/monolog/subscribers","subscription_url":"https://api.github.com/repos/Seldaek/monolog/subscription","commits_url":"https://api.github.com/repos/Seldaek/monolog/commits{/sha}","git_commits_url":"https://api.github.com/repos/Seldaek/monolog/git/commits{/sha}","comments_url":"https://api.github.com/repos/Seldaek/monolog/comments{/number}","issue_comment_url":"https://api.github.com/repos/Seldaek/monolog/issues/comments{/number}","contents_url":"https://api.github.com/repos/Seldaek/monolog/contents/{+path}","compare_url":"https://api.github.com/repos/Seldaek/monolog/compare/{base}...{head}","merges_url":"https://api.github.com/repos/Seldaek/monolog/merges","archive_url":"https://api.github.com/repos/Seldaek/monolog/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/Seldaek/monolog/downloads","issues_url":"https://api.github.com/repos/Seldaek/monolog/issues{/number}","pulls_url":"https://api.github.com/repos/Seldaek/monolog/pulls{/number}","milestones_url":"https://api.github.com/repos/Seldaek/monolog/milestones{/number}","notifications_url":"https://api.github.com/repos/Seldaek/monolog/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/Seldaek/monolog/labels{/name}","releases_url":"https://api.github.com/repos/Seldaek/monolog/releases{/id}","deployments_url":"https://api.github.com/repos/Seldaek/monolog/deployments","created_at":"2011-02-17T02:07:15Z","updated_at":"2025-11-09T16:20:07Z","pushed_at":"2025-10-27T13:40:53Z","git_url":"git://github.com/Seldaek/monolog.git","ssh_url":"git@github.com:Seldaek/monolog.git","clone_url":"https://github.com/Seldaek/monolog.git","svn_url":"https://github.com/Seldaek/monolog","homepage":"https://seldaek.github.io/monolog/","size":4917,"stargazers_count":21350,"watchers_count":21350,"language":"PHP","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":false,"forks_count":1904,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":33,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["hacktoberfest","logger","logging","php","psr-3"],"visibility":"public","forks":1904,"open_issues":33,"watchers":21350,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"I'd propose a PR, but I'm not very familiar with the code. Plus some of the stuff in the second part is rather debatable and it is probably better to discuss it first. \r\n\r\nPHP:  7.2.15\r\nMonolog: 1.24.0 ( I realize this is a slightly older version but the code in master which is causing the issue looks the same). \r\n\r\nTo verify the crash, one can use almost exactly the code from #772, but:\r\n\r\n1. Put the closure into method of a class which has a namespace. \r\n2. Use JsonFormatter instead of NormalizerFormatter  because the latter has been actually fixed (see at the end) by 3e92b08956da82867774ca8a8edef2472ab743f9 (which  fixes #1138)\r\n\r\n```php\r\n<?php\r\n\r\nnamespace MyIterators;\r\n\r\nuse ArrayIterator;\r\n\r\nclass SomeIter extends ArrayIterator\r\n{\r\n    public function next()\r\n    {\r\n        // Imagine some logic attempted to evaluate\r\n        // current element but failed and throws exception\r\n        throw new \\Exception('Something bad');\r\n    }\r\n}\r\n\r\nnamespace MyNamespace;\r\n\r\nuse Monolog\\Formatter\\JsonFormatter;\r\nuse Monolog\\Handler\\ErrorLogHandler;\r\nuse Monolog\\Logger;\r\nuse MyIterators\\SomeIter;\r\n\r\nclass MyClass {\r\n\r\n    public function process() {\r\n        $handler = new ErrorLogHandler();\r\n        $formatter = new JsonFormatter();\r\n        $formatter->includeStacktraces();\r\n        $handler->setFormatter($formatter);\r\n\r\n        $logger = new Logger('name');\r\n        $logger->pushHandler($handler);\r\n\r\n        $array = [\r\n            new SomeIter([1]),\r\n            new SomeIter([2]),\r\n        ];\r\n\r\n        $result = \\array_filter($array, function ($iter) use ($logger) {\r\n            try {\r\n                foreach ($iter as $elem) {\r\n                    // don't care\r\n                }\r\n            } catch (\\Exception $e) {\r\n                $logger->error('Failed iterating.', ['exception' => $e]);\r\n            }\r\n        });\r\n\r\n    }\r\n}\r\n\r\n$myObject = new MyClass();\r\n$myObject->process();\r\n\r\n```\r\n\r\nThe above code will cause a fatal uncaught exception, instead of just logging an error.\r\n\r\nThe problem lies in the `JsonFormatter` class:\r\n\r\n```php\r\n          foreach ($trace as $frame) {\r\n                if (isset($frame['file'])) {\r\n                    $data['trace'][] = $frame['file'].':'.$frame['line'];\r\n                } elseif (isset($frame['function']) && $frame['function'] === '{closure}') {\r\n                    // We should again normalize the frames, because it might contain invalid items\r\n                    $data['trace'][] = $frame['function'];\r\n                } else {\r\n                    // We should again normalize the frames, because it might contain invalid items\r\n                    $data['trace'][] = $this->normalize($frame);\r\n                }\r\n            }\r\n```\r\n\r\nHere `$frame['function']` is not `{closure}` but `MyNamespace\\{closure}`. This causes the final else path to be evaluated.\r\n\r\n_Suggested Fix_\r\n\r\nI think the initial approach checking for closure and just putting in `$frame['function']` when a closure is detected is fine, except for the fact that ` $frame['function'] === '{closure}'` is not the complete way to do it. (maybe using some sort of `endsWith` function could do it). \r\n\r\n\r\n**Revealing sensitive data**\r\n\r\nHowever, once the closure detection is fine we're still left with the fact the stacktrace may contain functions which will also contain args. That is somewhat mitigated for NormalizerFormatter  in 3e92b08956da82867774ca8a8edef2472ab743f9 - but there are some problems I see with that commit, the most important beeing that it does not touch the JsonFormatter - so the problem still exists for this one (not sure if there are other formatters which should be touched.\r\n\r\nAnother potential problem is that it still leaks the class name or the arguments. I'm not sure how can that be relevant at any point, but the class name themselves could be seen as data in certain (exotic?) circumstances.\r\n\r\nAnother potential problem is that the `$frame['file'].':'.$frame['line']` structure of the stacktrace is being not being respected for functions. This means that whoever is parsing the stacktraces from log files (I know, not many people do), will have to account for different possible formats for elements on the same array, which is, in my opinion, not ideal. \r\n\r\n_Suggested Fix_\r\n\r\nI believe functions should be handled exactly the same way as closures when it comes to stacktraces: no information about args should be logged. \r\n\r\nIf one decides to display some information about args for functions, then it should probably display the same information for closures as well. Ideally though whether those args are displayed should be controlled by a flag.\r\n\r\nEither way, the 2 formatters should have the same behavior.\r\n\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/Seldaek/monolog/issues/1346/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/Seldaek/monolog/issues/1346/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"id":12220841392,"node_id":"REFE_lADOABUBmM4Sq2rDzwAAAALYaz2w","url":"https://api.github.com/repos/Seldaek/monolog/issues/events/12220841392","actor":{"login":"dfiedlerx","id":32338795,"node_id":"MDQ6VXNlcjMyMzM4Nzk1","avatar_url":"https://avatars.githubusercontent.com/u/32338795?v=4","gravatar_id":"","url":"https://api.github.com/users/dfiedlerx","html_url":"https://github.com/dfiedlerx","followers_url":"https://api.github.com/users/dfiedlerx/followers","following_url":"https://api.github.com/users/dfiedlerx/following{/other_user}","gists_url":"https://api.github.com/users/dfiedlerx/gists{/gist_id}","starred_url":"https://api.github.com/users/dfiedlerx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dfiedlerx/subscriptions","organizations_url":"https://api.github.com/users/dfiedlerx/orgs","repos_url":"https://api.github.com/users/dfiedlerx/repos","events_url":"https://api.github.com/users/dfiedlerx/events{/privacy}","received_events_url":"https://api.github.com/users/dfiedlerx/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"3e92b08956da82867774ca8a8edef2472ab743f9","commit_url":"https://api.github.com/repos/dfiedlerx/monolog/commits/3e92b08956da82867774ca8a8edef2472ab743f9","created_at":"2024-03-22T20:46:19Z","performed_via_github_app":null}]