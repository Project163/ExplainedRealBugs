diff --git a/src/Monolog/Processor/WebProcessor.php b/src/Monolog/Processor/WebProcessor.php
index 684188f6..2e8dfae1 100644
--- a/src/Monolog/Processor/WebProcessor.php
+++ b/src/Monolog/Processor/WebProcessor.php
@@ -52,6 +52,10 @@ class WebProcessor implements ProcessorInterface
             throw new \UnexpectedValueException('$serverData must be an array or object implementing ArrayAccess.');
         }
 
+        if (isset($this->serverData['UNIQUE_ID'])) {
+            $this->extraFields['unique_id'] = 'UNIQUE_ID';
+        }
+
         if (null !== $extraFields) {
             if (isset($extraFields[0])) {
                 foreach (array_keys($this->extraFields) as $fieldName) {
@@ -104,10 +108,6 @@ class WebProcessor implements ProcessorInterface
             $extra[$extraName] = isset($this->serverData[$serverName]) ? $this->serverData[$serverName] : null;
         }
 
-        if (isset($this->serverData['UNIQUE_ID'])) {
-            $extra['unique_id'] = $this->serverData['UNIQUE_ID'];
-        }
-
         return $extra;
     }
 }
diff --git a/tests/Monolog/Processor/WebProcessorTest.php b/tests/Monolog/Processor/WebProcessorTest.php
index 4105baf7..3e4effb6 100644
--- a/tests/Monolog/Processor/WebProcessorTest.php
+++ b/tests/Monolog/Processor/WebProcessorTest.php
@@ -88,6 +88,19 @@ class WebProcessorTest extends TestCase
         $this->assertSame(array('url' => 'A', 'http_method' => 'C'), $record['extra']);
     }
 
+    public function testProcessorAddsOnlyRequestedExtraFieldsIncludingOptionalFields()
+    {
+        $server = array(
+            'REQUEST_URI'  => 'A',
+            'UNIQUE_ID'    => 'X',
+        );
+
+        $processor = new WebProcessor($server, array('url'));
+        $record = $processor($this->getRecord());
+
+        $this->assertSame(array('url' => 'A'), $record['extra']);
+    }
+
     public function testProcessorConfiguringOfExtraFields()
     {
         $server = array(
