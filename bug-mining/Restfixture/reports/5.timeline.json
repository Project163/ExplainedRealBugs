[{"id":11736559,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDExNzM2NTU5","url":"https://api.github.com/repos/smartrics/RestFixture/issues/events/11736559","actor":null,"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2012-03-20T19:35:09Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/smartrics/RestFixture/issues/comments/4607091","html_url":"https://github.com/smartrics/RestFixture/issues/15#issuecomment-4607091","issue_url":"https://api.github.com/repos/smartrics/RestFixture/issues/15","id":4607091,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MDcwOTE=","user":{"login":"smartrics","id":140858,"node_id":"MDQ6VXNlcjE0MDg1OA==","avatar_url":"https://avatars.githubusercontent.com/u/140858?v=4","gravatar_id":"","url":"https://api.github.com/users/smartrics","html_url":"https://github.com/smartrics","followers_url":"https://api.github.com/users/smartrics/followers","following_url":"https://api.github.com/users/smartrics/following{/other_user}","gists_url":"https://api.github.com/users/smartrics/gists{/gist_id}","starred_url":"https://api.github.com/users/smartrics/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/smartrics/subscriptions","organizations_url":"https://api.github.com/users/smartrics/orgs","repos_url":"https://api.github.com/users/smartrics/repos","events_url":"https://api.github.com/users/smartrics/events{/privacy}","received_events_url":"https://api.github.com/users/smartrics/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2012-03-20T22:40:12Z","updated_at":"2012-03-20T22:40:12Z","body":"I will deprecate the handling of JSON content types via XPaths (that was only a temporary measure)\n\ntry \n\n```\n| let | dispRef | js | response.body.dispersionRef | |\n```\n\nI am looking into why your example isn't working anyway. \n","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/smartrics/RestFixture/issues/comments/4607091/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"smartrics","id":140858,"node_id":"MDQ6VXNlcjE0MDg1OA==","avatar_url":"https://avatars.githubusercontent.com/u/140858?v=4","gravatar_id":"","url":"https://api.github.com/users/smartrics","html_url":"https://github.com/smartrics","followers_url":"https://api.github.com/users/smartrics/followers","following_url":"https://api.github.com/users/smartrics/following{/other_user}","gists_url":"https://api.github.com/users/smartrics/gists{/gist_id}","starred_url":"https://api.github.com/users/smartrics/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/smartrics/subscriptions","organizations_url":"https://api.github.com/users/smartrics/orgs","repos_url":"https://api.github.com/users/smartrics/repos","events_url":"https://api.github.com/users/smartrics/events{/privacy}","received_events_url":"https://api.github.com/users/smartrics/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":11750000,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDExNzUwMDAw","url":"https://api.github.com/repos/smartrics/RestFixture/issues/events/11750000","actor":{"login":"smartrics","id":140858,"node_id":"MDQ6VXNlcjE0MDg1OA==","avatar_url":"https://avatars.githubusercontent.com/u/140858?v=4","gravatar_id":"","url":"https://api.github.com/users/smartrics","html_url":"https://github.com/smartrics","followers_url":"https://api.github.com/users/smartrics/followers","following_url":"https://api.github.com/users/smartrics/following{/other_user}","gists_url":"https://api.github.com/users/smartrics/gists{/gist_id}","starred_url":"https://api.github.com/users/smartrics/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/smartrics/subscriptions","organizations_url":"https://api.github.com/users/smartrics/orgs","repos_url":"https://api.github.com/users/smartrics/repos","events_url":"https://api.github.com/users/smartrics/events{/privacy}","received_events_url":"https://api.github.com/users/smartrics/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2012-03-20T22:40:12Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/smartrics/RestFixture/issues/comments/4607391","html_url":"https://github.com/smartrics/RestFixture/issues/15#issuecomment-4607391","issue_url":"https://api.github.com/repos/smartrics/RestFixture/issues/15","id":4607391,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MDczOTE=","user":{"login":"smartrics","id":140858,"node_id":"MDQ6VXNlcjE0MDg1OA==","avatar_url":"https://avatars.githubusercontent.com/u/140858?v=4","gravatar_id":"","url":"https://api.github.com/users/smartrics","html_url":"https://github.com/smartrics","followers_url":"https://api.github.com/users/smartrics/followers","following_url":"https://api.github.com/users/smartrics/following{/other_user}","gists_url":"https://api.github.com/users/smartrics/gists{/gist_id}","starred_url":"https://api.github.com/users/smartrics/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/smartrics/subscriptions","organizations_url":"https://api.github.com/users/smartrics/orgs","repos_url":"https://api.github.com/users/smartrics/repos","events_url":"https://api.github.com/users/smartrics/events{/privacy}","received_events_url":"https://api.github.com/users/smartrics/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2012-03-20T22:58:37Z","updated_at":"2012-03-20T22:59:43Z","body":"Unfortunately your JSON expression doesn't translate very well in XML for the XPath to apply.\nBecause there isn't a root node, it gets translated into\n\n&lt;accountRef>http://sfftcpod:8111/account/4f68da0fe4b0dd0376cc1df5&lt;/accountRef>\n\nif your POST was creating a JSON like\n\n`{\"cart\" : { _your JSON here_ } }`\n\nit would have been possible to execute `/cart/dispersableRef/text()` and extract the correct value.\n\nIn your case you can only let the value as explained above via JS adapter.\n","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/smartrics/RestFixture/issues/comments/4607391/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"smartrics","id":140858,"node_id":"MDQ6VXNlcjE0MDg1OA==","avatar_url":"https://avatars.githubusercontent.com/u/140858?v=4","gravatar_id":"","url":"https://api.github.com/users/smartrics","html_url":"https://github.com/smartrics","followers_url":"https://api.github.com/users/smartrics/followers","following_url":"https://api.github.com/users/smartrics/following{/other_user}","gists_url":"https://api.github.com/users/smartrics/gists{/gist_id}","starred_url":"https://api.github.com/users/smartrics/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/smartrics/subscriptions","organizations_url":"https://api.github.com/users/smartrics/orgs","repos_url":"https://api.github.com/users/smartrics/repos","events_url":"https://api.github.com/users/smartrics/events{/privacy}","received_events_url":"https://api.github.com/users/smartrics/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":11751210,"node_id":"MDExOkNsb3NlZEV2ZW50MTE3NTEyMTA=","url":"https://api.github.com/repos/smartrics/RestFixture/issues/events/11751210","actor":{"login":"smartrics","id":140858,"node_id":"MDQ6VXNlcjE0MDg1OA==","avatar_url":"https://avatars.githubusercontent.com/u/140858?v=4","gravatar_id":"","url":"https://api.github.com/users/smartrics","html_url":"https://github.com/smartrics","followers_url":"https://api.github.com/users/smartrics/followers","following_url":"https://api.github.com/users/smartrics/following{/other_user}","gists_url":"https://api.github.com/users/smartrics/gists{/gist_id}","starred_url":"https://api.github.com/users/smartrics/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/smartrics/subscriptions","organizations_url":"https://api.github.com/users/smartrics/orgs","repos_url":"https://api.github.com/users/smartrics/repos","events_url":"https://api.github.com/users/smartrics/events{/privacy}","received_events_url":"https://api.github.com/users/smartrics/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2012-03-20T22:59:59Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/smartrics/RestFixture/issues/comments/4609635","html_url":"https://github.com/smartrics/RestFixture/issues/15#issuecomment-4609635","issue_url":"https://api.github.com/repos/smartrics/RestFixture/issues/15","id":4609635,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MDk2MzU=","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2012-03-21T01:55:40Z","updated_at":"2012-03-21T01:55:40Z","body":"Thanks Fabrizio,\nI think I tried that based on other examples in the live docs... but I'll\ngive it another shot... it makes more sense to me to use the js adapter\nanyway.\n\n  -Jon\n\nOn Tue, Mar 20, 2012 at 4:58 PM, Fabrizio Cannizzo <\nreply@reply.github.com\n\n> wrote:\n> \n> Unfortunately your JSON expression doesn't translate very well in XML for\n> the XPath to apply.\n> Because there isn't a root node, it gets translated into\n> \n> <accountRef>http://sfftcpod:8111/account/4f68da0fe4b0dd0376cc1df5\n> </accountRef>\n> \n> if your POST was creating a JSON like\n> \n> {\"cart\" : { _your JSON here_ } }\n> \n> it would have been possible to execute /cart/dispersableRef/text() and\n> extract the correct value.\n> \n> In your case you can only let the value as explained above via JS adapter.\n> \n> ---\n> \n> Reply to this email directly or view it on GitHub:\n> https://github.com/smartrics/RestFixture/issues/15#issuecomment-4607391\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/smartrics/RestFixture/issues/comments/4609635/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/smartrics/RestFixture/issues/comments/4622880","html_url":"https://github.com/smartrics/RestFixture/issues/15#issuecomment-4622880","issue_url":"https://api.github.com/repos/smartrics/RestFixture/issues/15","id":4622880,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MjI4ODA=","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2012-03-21T17:45:30Z","updated_at":"2012-03-21T19:32:06Z","body":"Fabrizio,\n\nI just tried that again.\n\nPOST   /cart    201\nContent-Type : application/json; charset=UTF-8\nDate : Wed, 21 Mar 2012 17:43:15 GMT\nAccept-Ranges : bytes\nLocation : http://sfftcpod:8111/cart/4f6a1333e4b0dd0376cc1e20\nServer : Restlet-Framework/2.0.10\nVary : Accept-Charset, Accept-Encoding, Accept-Language, Accept\nTransfer-Encoding : chunked{\"accountRef\":\"\nhttp://sfftcpod:8111/account/4f6a1333e4b0dd0376cc1e1f\n\",\"label\":\"default\",\"websiteRef\":\"ws1\",\"createDate\":1332351795419,\"shipBins\":[{\"shipBinId\":1000,\"shippingType\":\"UFC\",\"shippingAddressRef\":\"addr_1\",\"lineItems\":[{\"lineItemId\":1,\"skuRef\":\"sku1\",\"projectRef\":\"proj1\",\"quantity\":3},{\"lineItemId\":2,\"skuRef\":\"sku2\",\"projectRef\":\"proj2\",\"quantity\":1}]}],\"priceRef\":\"\nhttp://sfftcpod:8111/cart/4f6a1333e4b0dd0376cc1e20/price\",\"dispersionRef\":\"\nhttp://localhost:8111/disperser?dispersable=http://sfftcpod:8111/cart/4f6a1333e4b0dd0376cc1e20\n\"}\nlet   dispRef   js    response.body.dispersionRef      org.mozilla.javascript.Undefined@5e7808b9\n\nIs there some config I need to set prior to this operation?\n\nI know that the javascript processing is working because of the operations\nthat happen right after the above interaction:\n\nGET   /disperser?dispersable=http://sfftcpod:8111/cart/4f6a1333e4b0dd0376cc1e20     200\nContent-Type : application/json; charset=UTF-8\nDate : Wed, 21 Mar 2012 17:43:15 GMT\nAccept-Ranges : bytes\nServer : Restlet-Framework/2.0.10\nVary : Accept-Charset, Accept-Encoding, Accept-Language, Accept\nTransfer-Encoding : chunked\n\njsonbody.shipBinDispersions.length==1\njsonbody.shipBinDispersions[0].lineItemDispersions.length==2\njsonbody.timestamp!==0\n\n## expected\n\n{\"shipBinDispersions\":[{\"shipBinId\":1000,\"lineItemDispersions\":[{\"lineItemId\":1,\"vendorRef\":\"\nhttp://localhost:8111/vendor/4f6a1333e4b0dd0376cc1e1e\n\"},{\"lineItemId\":2,\"vendorRef\":\"\nhttp://localhost:8111/vendor/4f6a1333e4b0dd0376cc1e1e\n\"}]}],\"timeStamp\":1332351795567}\n\nactual\n\nThanks,\n  -Jon\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/smartrics/RestFixture/issues/comments/4622880/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/smartrics/RestFixture/issues/comments/4637460","html_url":"https://github.com/smartrics/RestFixture/issues/15#issuecomment-4637460","issue_url":"https://api.github.com/repos/smartrics/RestFixture/issues/15","id":4637460,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2Mzc0NjA=","user":{"login":"smartrics","id":140858,"node_id":"MDQ6VXNlcjE0MDg1OA==","avatar_url":"https://avatars.githubusercontent.com/u/140858?v=4","gravatar_id":"","url":"https://api.github.com/users/smartrics","html_url":"https://github.com/smartrics","followers_url":"https://api.github.com/users/smartrics/followers","following_url":"https://api.github.com/users/smartrics/following{/other_user}","gists_url":"https://api.github.com/users/smartrics/gists{/gist_id}","starred_url":"https://api.github.com/users/smartrics/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/smartrics/subscriptions","organizations_url":"https://api.github.com/users/smartrics/orgs","repos_url":"https://api.github.com/users/smartrics/repos","events_url":"https://api.github.com/users/smartrics/events{/privacy}","received_events_url":"https://api.github.com/users/smartrics/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2012-03-22T12:47:39Z","updated_at":"2012-03-22T12:47:39Z","body":"ok i will check\n","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/smartrics/RestFixture/issues/comments/4637460/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"smartrics","id":140858,"node_id":"MDQ6VXNlcjE0MDg1OA==","avatar_url":"https://avatars.githubusercontent.com/u/140858?v=4","gravatar_id":"","url":"https://api.github.com/users/smartrics","html_url":"https://github.com/smartrics","followers_url":"https://api.github.com/users/smartrics/followers","following_url":"https://api.github.com/users/smartrics/following{/other_user}","gists_url":"https://api.github.com/users/smartrics/gists{/gist_id}","starred_url":"https://api.github.com/users/smartrics/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/smartrics/subscriptions","organizations_url":"https://api.github.com/users/smartrics/orgs","repos_url":"https://api.github.com/users/smartrics/repos","events_url":"https://api.github.com/users/smartrics/events{/privacy}","received_events_url":"https://api.github.com/users/smartrics/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/smartrics/RestFixture/issues/comments/17000783","html_url":"https://github.com/smartrics/RestFixture/issues/15#issuecomment-17000783","issue_url":"https://api.github.com/repos/smartrics/RestFixture/issues/15","id":17000783,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MDAwNzgz","user":{"login":"beusink","id":4254692,"node_id":"MDQ6VXNlcjQyNTQ2OTI=","avatar_url":"https://avatars.githubusercontent.com/u/4254692?v=4","gravatar_id":"","url":"https://api.github.com/users/beusink","html_url":"https://github.com/beusink","followers_url":"https://api.github.com/users/beusink/followers","following_url":"https://api.github.com/users/beusink/following{/other_user}","gists_url":"https://api.github.com/users/beusink/gists{/gist_id}","starred_url":"https://api.github.com/users/beusink/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/beusink/subscriptions","organizations_url":"https://api.github.com/users/beusink/orgs","repos_url":"https://api.github.com/users/beusink/repos","events_url":"https://api.github.com/users/beusink/events{/privacy}","received_events_url":"https://api.github.com/users/beusink/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-04-25T11:13:13Z","updated_at":"2013-04-25T11:13:31Z","body":"I bumped in to the same issue and resolved it using slightly different JS command:\n| let | dispRef | js | var p = JSON.parse(response.body); p.dispersionRef; | |\n\nAlso note the slightly different syntax in referring to dispRef, or any let defined symbol for that matter:\n!define TEST_SYSTEM {slim}\n!define myVariable (http://somehost:someport/somepath)\n| Table:smartrics.rest.fitnesse.fixture.RestFixture | <b>${myVariable}</b> |\n\nvs\n\n| Table:smartrics.rest.fitnesse.fixture.RestFixture | <b>%dispRef%</b> |\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/smartrics/RestFixture/issues/comments/17000783/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"beusink","id":4254692,"node_id":"MDQ6VXNlcjQyNTQ2OTI=","avatar_url":"https://avatars.githubusercontent.com/u/4254692?v=4","gravatar_id":"","url":"https://api.github.com/users/beusink","html_url":"https://github.com/beusink","followers_url":"https://api.github.com/users/beusink/followers","following_url":"https://api.github.com/users/beusink/following{/other_user}","gists_url":"https://api.github.com/users/beusink/gists{/gist_id}","starred_url":"https://api.github.com/users/beusink/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/beusink/subscriptions","organizations_url":"https://api.github.com/users/beusink/orgs","repos_url":"https://api.github.com/users/beusink/repos","events_url":"https://api.github.com/users/beusink/events{/privacy}","received_events_url":"https://api.github.com/users/beusink/received_events","type":"User","user_view_type":"public","site_admin":false}}]