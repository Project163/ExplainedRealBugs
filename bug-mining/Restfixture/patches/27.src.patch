diff --git a/src/main/java/smartrics/rest/fitnesse/fixture/support/JavascriptWrapper.java b/src/main/java/smartrics/rest/fitnesse/fixture/support/JavascriptWrapper.java
index a0afbee..edeba5d 100644
--- a/src/main/java/smartrics/rest/fitnesse/fixture/support/JavascriptWrapper.java
+++ b/src/main/java/smartrics/rest/fitnesse/fixture/support/JavascriptWrapper.java
@@ -75,7 +75,7 @@ public class JavascriptWrapper {
             return null;
         }
         Context context = Context.enter();
-        removeOptimisationForLargeExpressions(expression, context);
+        removeOptimisationForLargeExpressions(response, expression, context);
         ScriptableObject scope = context.initStandardObjects();
         injectImports(context, scope, imports);
         injectFitNesseSymbolMap(scope);
@@ -189,8 +189,9 @@ public class JavascriptWrapper {
         return false;
     }
 
-    private void removeOptimisationForLargeExpressions(String expression, Context context) {
-        if (expression.getBytes().length > _64K) {
+    private void removeOptimisationForLargeExpressions(RestResponse response, String expression, Context context) {
+        final String body = response == null ? null : response.getBody();
+        if ((body != null && body.getBytes().length > _64K) || expression.getBytes().length > _64K) {
             context.setOptimizationLevel(-1);
         }
     }
@@ -211,7 +212,7 @@ public class JavascriptWrapper {
         } catch (Exception e) {
             throw new JavascriptException("Invalid url: " + importUrl + " for '" + name + "'", e);
         } finally {
-            if(is != null) {
+            if (is != null) {
                 try {
                     is.close();
                 } catch (IOException e) {
@@ -222,6 +223,31 @@ public class JavascriptWrapper {
 
     }
 
+    private InputStream parseImport(String name) {
+        try {
+            return new URL(name).openStream();
+        } catch (Exception e1) {
+            File f = new File(name);
+            if (f.exists()) {
+                if (f.isFile() && f.canRead()) {
+                    try {
+                        return new FileInputStream(f);
+                    } catch (Exception e2) {
+                        throw new IllegalArgumentException("Invalid import file: " + name + ", path: " + f.getAbsolutePath());
+                    }
+                } else {
+                    throw new IllegalArgumentException("Import file not accessible: " + name + ", path: " + f.getAbsolutePath());
+                }
+            } else {
+                try {
+                    return Thread.currentThread().getContextClassLoader().getResource(name).openStream();
+                } catch (Exception e3) {
+                    throw new IllegalArgumentException("Import resource not valid: " + name);
+                }
+            }
+        }
+    }
+
     /**
      * Wrapper class for Response to be embedded in the Rhino Context.
      *
@@ -252,7 +278,7 @@ public class JavascriptWrapper {
         }
 
         /**
-         * @param name the header name
+         * @param name  the header name
          * @param value the value
          */
         public void jsFunction_addHeader(String name, String value) {
@@ -265,7 +291,7 @@ public class JavascriptWrapper {
         }
 
         /**
-         * @param name the header name
+         * @param name  the header name
          * @param value the value
          */
         public void jsFunction_putHeader(String name, String value) {
@@ -320,7 +346,7 @@ public class JavascriptWrapper {
 
         /**
          * @param name the header name
-         * @param pos the pos
+         * @param pos  the pos
          * @return the value of the header with name at pos 0
          */
         public String jsFunction_header(String name, int pos) {
@@ -333,29 +359,4 @@ public class JavascriptWrapper {
 
     }
 
-    private InputStream parseImport(String name) {
-        try {
-            return new URL(name).openStream();
-        } catch (Exception e1) {
-            File f = new File(name);
-            if (f.exists()) {
-                if(f.isFile() && f.canRead()) {
-                    try {
-                        return new FileInputStream(f);
-                    } catch (Exception e2) {
-                        throw new IllegalArgumentException("Invalid import file: " + name + ", path: " + f.getAbsolutePath());
-                    }
-                } else {
-                    throw new IllegalArgumentException("Import file not accessible: " + name + ", path: " + f.getAbsolutePath());
-                }
-            } else {
-                try {
-                    return Thread.currentThread().getContextClassLoader().getResource(name).openStream();
-                } catch (Exception e3) {
-                    throw new IllegalArgumentException("Import resource not valid: " + name);
-                }
-            }
-        }
-    }
-
 }
diff --git a/src/test/java/smartrics/rest/fitnesse/fixture/support/JavascriptWrapperTest.java b/src/test/java/smartrics/rest/fitnesse/fixture/support/JavascriptWrapperTest.java
index 87e8b75..2cc15a5 100644
--- a/src/test/java/smartrics/rest/fitnesse/fixture/support/JavascriptWrapperTest.java
+++ b/src/test/java/smartrics/rest/fitnesse/fixture/support/JavascriptWrapperTest.java
@@ -89,6 +89,20 @@ public class JavascriptWrapperTest {
         assertThat(res.toString(), is(equalTo("My friend Rokko is 30 years old.")));
     }
 
+    @Test
+    public void shouldEvalExpressionsForLargeContentJson() {
+        StringBuffer sb = new StringBuffer("{ \"content\" : \"");
+        final int size = 1024 * 1024 * 10;
+        for(int i = 0; i < size; i++) {
+            sb.append("A");
+        }
+        sb.append("\"}");
+        RestResponse response = createResponse(ContentType.JSON, sb.toString());
+        JavascriptWrapper h = new JavascriptWrapper(variablesProvider);
+        Object res = h.evaluateExpression(response, "response.jsonbody.content.length");
+        assertThat(res.toString(), is(equalTo(Integer.toString(size))));
+    }
+
     @Test
     public void shouldNotProvideLastResponseBodyInJsContextIfResponseIsNull() {
         JavascriptWrapper h = new JavascriptWrapper(variablesProvider);
