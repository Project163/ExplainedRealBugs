{"url":"https://api.github.com/repos/helm/helm/issues/12024","repository_url":"https://api.github.com/repos/helm/helm","labels_url":"https://api.github.com/repos/helm/helm/issues/12024/labels{/name}","comments_url":"https://api.github.com/repos/helm/helm/issues/12024/comments","events_url":"https://api.github.com/repos/helm/helm/issues/12024/events","html_url":"https://github.com/helm/helm/issues/12024","id":1682999636,"node_id":"I_kwDOApspmc5kUIlU","number":12024,"title":"Add TOML parsing capability","user":{"login":"dominikmueller","id":6460178,"node_id":"MDQ6VXNlcjY0NjAxNzg=","avatar_url":"https://avatars.githubusercontent.com/u/6460178?v=4","gravatar_id":"","url":"https://api.github.com/users/dominikmueller","html_url":"https://github.com/dominikmueller","followers_url":"https://api.github.com/users/dominikmueller/followers","following_url":"https://api.github.com/users/dominikmueller/following{/other_user}","gists_url":"https://api.github.com/users/dominikmueller/gists{/gist_id}","starred_url":"https://api.github.com/users/dominikmueller/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dominikmueller/subscriptions","organizations_url":"https://api.github.com/users/dominikmueller/orgs","repos_url":"https://api.github.com/users/dominikmueller/repos","events_url":"https://api.github.com/users/dominikmueller/events{/privacy}","received_events_url":"https://api.github.com/users/dominikmueller/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":562687520,"node_id":"MDU6TGFiZWw1NjI2ODc1MjA=","url":"https://api.github.com/repos/helm/helm/labels/feature","name":"feature","color":"0052cc","default":false,"description":null},{"id":562692416,"node_id":"MDU6TGFiZWw1NjI2OTI0MTY=","url":"https://api.github.com/repos/helm/helm/labels/in%20progress","name":"in progress","color":"11DD11","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2023-04-25T11:41:06Z","updated_at":"2024-09-12T15:53:30Z","closed_at":"2024-09-12T15:53:30Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Currently, the standard library includes functions to parse data from [JSON and YAML](https://github.com/helm/helm/blob/main/pkg/engine/funcs.go#L50-L56), but there is no built-in function to parse data from [TOML](https://toml.io/).\r\n\r\nGiven that TOML is sometimes used as format for configuration files (e.g. [GitLab Runner configuration](https://docs.gitlab.com/runner/install/kubernetes.html#additional-configuration)), it would be beneficial to have a `fromToml` function in the standard library, like `fromJson` and `fromYaml`, to provide consistency for developers.\r\n\r\nExample use case:\r\nWe want to deploy GitLab runners with helm and want to use Googles config-connector to create necessary GCS buckets for caching.\r\nThe bucket name therefore needs to be provided twice: in the config-connector resource and in the GitLab config TOML. \r\nTo keep the config DRY, we want to be able to extract the GCS bucket name from GitLab's TOML configuration. This is not possible without parsing the TOML configuration.\r\nOther solutions such as YAML anchors or reusing values in the same `values.yaml` file won't work either.\r\n\r\nPS: I have a PR in the making. Just adding this issue to adhere to the contribution guidelines.","closed_by":{"login":"joejulian","id":952828,"node_id":"MDQ6VXNlcjk1MjgyOA==","avatar_url":"https://avatars.githubusercontent.com/u/952828?v=4","gravatar_id":"","url":"https://api.github.com/users/joejulian","html_url":"https://github.com/joejulian","followers_url":"https://api.github.com/users/joejulian/followers","following_url":"https://api.github.com/users/joejulian/following{/other_user}","gists_url":"https://api.github.com/users/joejulian/gists{/gist_id}","starred_url":"https://api.github.com/users/joejulian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joejulian/subscriptions","organizations_url":"https://api.github.com/users/joejulian/orgs","repos_url":"https://api.github.com/users/joejulian/repos","events_url":"https://api.github.com/users/joejulian/events{/privacy}","received_events_url":"https://api.github.com/users/joejulian/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/helm/helm/issues/12024/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/helm/helm/issues/12024/timeline","performed_via_github_app":null,"state_reason":"completed"}