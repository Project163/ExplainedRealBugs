{"url":"https://api.github.com/repos/helm/helm/issues/7513","repository_url":"https://api.github.com/repos/helm/helm","labels_url":"https://api.github.com/repos/helm/helm/issues/7513/labels{/name}","comments_url":"https://api.github.com/repos/helm/helm/issues/7513/comments","events_url":"https://api.github.com/repos/helm/helm/issues/7513/events","html_url":"https://github.com/helm/helm/issues/7513","id":558916902,"node_id":"MDU6SXNzdWU1NTg5MTY5MDI=","number":7513,"title":"Timeout 'helm upgrade --wait'","user":{"login":"ArieGato","id":1059562,"node_id":"MDQ6VXNlcjEwNTk1NjI=","avatar_url":"https://avatars.githubusercontent.com/u/1059562?v=4","gravatar_id":"","url":"https://api.github.com/users/ArieGato","html_url":"https://github.com/ArieGato","followers_url":"https://api.github.com/users/ArieGato/followers","following_url":"https://api.github.com/users/ArieGato/following{/other_user}","gists_url":"https://api.github.com/users/ArieGato/gists{/gist_id}","starred_url":"https://api.github.com/users/ArieGato/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ArieGato/subscriptions","organizations_url":"https://api.github.com/users/ArieGato/orgs","repos_url":"https://api.github.com/users/ArieGato/repos","events_url":"https://api.github.com/users/ArieGato/events{/privacy}","received_events_url":"https://api.github.com/users/ArieGato/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":778135666,"node_id":"MDU6TGFiZWw3NzgxMzU2NjY=","url":"https://api.github.com/repos/helm/helm/labels/bug","name":"bug","color":"e11d21","default":true,"description":"Categorizes issue or PR as related to a bug."}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/helm/helm/milestones/84","html_url":"https://github.com/helm/helm/milestone/84","labels_url":"https://api.github.com/repos/helm/helm/milestones/84/labels","id":5082612,"node_id":"MDk6TWlsZXN0b25lNTA4MjYxMg==","number":84,"title":"3.1.1","description":"","creator":{"login":"mattfarina","id":62991,"node_id":"MDQ6VXNlcjYyOTkx","avatar_url":"https://avatars.githubusercontent.com/u/62991?v=4","gravatar_id":"","url":"https://api.github.com/users/mattfarina","html_url":"https://github.com/mattfarina","followers_url":"https://api.github.com/users/mattfarina/followers","following_url":"https://api.github.com/users/mattfarina/following{/other_user}","gists_url":"https://api.github.com/users/mattfarina/gists{/gist_id}","starred_url":"https://api.github.com/users/mattfarina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mattfarina/subscriptions","organizations_url":"https://api.github.com/users/mattfarina/orgs","repos_url":"https://api.github.com/users/mattfarina/repos","events_url":"https://api.github.com/users/mattfarina/events{/privacy}","received_events_url":"https://api.github.com/users/mattfarina/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":10,"state":"closed","created_at":"2020-02-07T17:26:50Z","updated_at":"2020-02-20T20:06:29Z","due_on":null,"closed_at":"2020-02-20T20:06:29Z"},"comments":4,"created_at":"2020-02-03T08:18:29Z","updated_at":"2021-01-07T08:56:56Z","closed_at":"2020-02-18T20:28:36Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Output of `helm version`:\r\n```\r\nversion.BuildInfo{Version:\"v3.0.3\", GitCommit:\"ac925eb7279f4a6955df663a0128044a8a6b7593\", GitTreeState:\"clean\", GoVersion:\"go1.13.6\"}\r\n```\r\nOutput of `kubectl version`:\r\n```\r\nClient Version: version.Info{Major:\"1\", Minor:\"17\", GitVersion:\"v1.17.2\", GitCommit:\"59603c6e503c87169aea6106f57b9f242f64df89\", GitTreeState:\"clean\", BuildDate:\"2020-01-18T23:30:10Z\", GoVersion:\"go1.13.5\", Compiler:\"gc\", Platform:\"windows/amd64\"}\r\nServer Version: version.Info{Major:\"1\", Minor:\"17\", GitVersion:\"v1.17.2\", GitCommit:\"59603c6e503c87169aea6106f57b9f242f64df89\", GitTreeState:\"clean\", BuildDate:\"2020-01-18T23:22:30Z\", GoVersion:\"go1.13.5\", Compiler:\"gc\", Platform:\"linux/amd64\"}\r\n```\r\nCloud Provider/Platform (AKS, GKE, Minikube etc.): \r\n\r\nI created a helm chart to run in a release pipeline in devops with the flag --wait. The build task times out and with --debug flag it continuously shows:\r\n```\r\n2020-02-03T07:46:29.3015941Z wait.go:182: [debug] Service does not have IP address: ******\r\n```\r\nBut when I check the service in k8s it is running and functioning properly.\r\n\r\nThis is the output of --dry-run:\r\n```\r\n# Source: identityserver/templates/service.yaml\r\napiVersion: v1\r\nkind: Service\r\nmetadata:\r\n  name: identityserver\r\n  labels:\r\n    app: identityserver\r\n    chart: identityserver-0.1.0\r\n    release: identityserver-1580717645\r\n    heritage: Helm\r\nspec:\r\n  type: LoadBalancer\r\n  ports:\r\n    - port: 80\r\n      targetPort: http\r\n      protocol: TCP\r\n      name: http\r\n  externalIPs:\r\n    - 172.16.253.90\r\n  selector:\r\n    app: identityserver\r\n    release: identityserver-1580717645\r\n```","closed_by":{"login":"thomastaylor312","id":4294228,"node_id":"MDQ6VXNlcjQyOTQyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/4294228?v=4","gravatar_id":"","url":"https://api.github.com/users/thomastaylor312","html_url":"https://github.com/thomastaylor312","followers_url":"https://api.github.com/users/thomastaylor312/followers","following_url":"https://api.github.com/users/thomastaylor312/following{/other_user}","gists_url":"https://api.github.com/users/thomastaylor312/gists{/gist_id}","starred_url":"https://api.github.com/users/thomastaylor312/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thomastaylor312/subscriptions","organizations_url":"https://api.github.com/users/thomastaylor312/orgs","repos_url":"https://api.github.com/users/thomastaylor312/repos","events_url":"https://api.github.com/users/thomastaylor312/events{/privacy}","received_events_url":"https://api.github.com/users/thomastaylor312/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/helm/helm/issues/7513/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/helm/helm/issues/7513/timeline","performed_via_github_app":null,"state_reason":"completed"}