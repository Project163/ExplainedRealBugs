diff --git a/activemq-amqp/src/main/java/org/apache/activemq/transport/amqp/AmqpProtocolConverter.java b/activemq-amqp/src/main/java/org/apache/activemq/transport/amqp/AmqpProtocolConverter.java
index 1e43cbac6..62a05b9cd 100644
--- a/activemq-amqp/src/main/java/org/apache/activemq/transport/amqp/AmqpProtocolConverter.java
+++ b/activemq-amqp/src/main/java/org/apache/activemq/transport/amqp/AmqpProtocolConverter.java
@@ -566,6 +566,16 @@ class AmqpProtocolConverter implements IAmqpProtocolConverter {
                 message.setTransactionId(new LocalTransactionId(connectionId, txid));
             }
 
+            // Lets handle the case where the expiration was set, but the timestamp
+            // was not set by the client.  Lets assign the timestamp now, and adjust the
+            // expiration.
+            if( message.getExpiration()!= 0 ) {
+                if( message.getTimestamp()==0 ) {
+                    message.setTimestamp(System.currentTimeMillis());
+                    message.setExpiration(message.getTimestamp()+message.getExpiration());
+                }
+            }
+
             message.onSend();
             sendToActiveMQ(message, new ResponseHandler() {
                 @Override
