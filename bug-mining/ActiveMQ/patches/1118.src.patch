diff --git a/activemq-core/src/main/java/org/apache/activemq/store/kahadb/KahaDBStore.java b/activemq-core/src/main/java/org/apache/activemq/store/kahadb/KahaDBStore.java
index 9e2b206e7..a67c1d82f 100644
--- a/activemq-core/src/main/java/org/apache/activemq/store/kahadb/KahaDBStore.java
+++ b/activemq-core/src/main/java/org/apache/activemq/store/kahadb/KahaDBStore.java
@@ -892,7 +892,7 @@ public class KahaDBStore extends MessageDatabase implements PersistenceAdapter {
                         ActiveMQDestination dest = convert(entry.getKey());
                         if (dest.isTopic()) {
                             StoredDestination loadedStore = getStoredDestination(convert(dest), tx);
-                            if (loadedStore.ackPositions.isEmpty(tx)) {
+                            if (loadedStore.subscriptionAcks.isEmpty(tx)) {
                                 isEmptyTopic = true;
                             }
                         }
