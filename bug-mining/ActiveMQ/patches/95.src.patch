diff --git a/activemq-core/src/main/java/org/apache/activemq/transport/WireFormatNegotiator.java b/activemq-core/src/main/java/org/apache/activemq/transport/WireFormatNegotiator.java
index c6ea1ca26..139df32b7 100755
--- a/activemq-core/src/main/java/org/apache/activemq/transport/WireFormatNegotiator.java
+++ b/activemq-core/src/main/java/org/apache/activemq/transport/WireFormatNegotiator.java
@@ -70,6 +70,11 @@ public class WireFormatNegotiator extends TransportFilter {
         }
     }
     
+    public void stop() throws Exception {
+    	super.stop();
+        readyCountDownLatch.countDown();
+    }
+    
     public void oneway(Command command) throws IOException {
         try {
             if( !readyCountDownLatch.await(negotiateTimeout, TimeUnit.MILLISECONDS) ) 
