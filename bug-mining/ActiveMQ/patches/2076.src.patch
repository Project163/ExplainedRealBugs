diff --git a/activemq-kahadb-store/src/main/java/org/apache/activemq/util/RecoverableRandomAccessFile.java b/activemq-kahadb-store/src/main/java/org/apache/activemq/util/RecoverableRandomAccessFile.java
index fbb321247..35c1586ea 100644
--- a/activemq-kahadb-store/src/main/java/org/apache/activemq/util/RecoverableRandomAccessFile.java
+++ b/activemq-kahadb-store/src/main/java/org/apache/activemq/util/RecoverableRandomAccessFile.java
@@ -56,7 +56,9 @@ public class RecoverableRandomAccessFile implements java.io.DataOutput, java.io.
 
     @Override
     public void close() throws IOException {
-        raf.close();
+        if (raf != null) {
+            raf.close();
+        }
     }
 
     @Override
