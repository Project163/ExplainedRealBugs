diff --git a/activemq-console/src/main/java/org/apache/activemq/console/Main.java b/activemq-console/src/main/java/org/apache/activemq/console/Main.java
index a4dfe0ba6..67c2562a3 100644
--- a/activemq-console/src/main/java/org/apache/activemq/console/Main.java
+++ b/activemq-console/src/main/java/org/apache/activemq/console/Main.java
@@ -112,8 +112,8 @@ public class Main {
         app.addClassPathList(System.getProperty("activemq.classpath"));
 
         try {
-            app.runTaskClass(tokens);
-            System.exit(0);
+            int ret = app.runTaskClass(tokens);
+            System.exit(ret);
         } catch (ClassNotFoundException e) {
             System.out.println("Could not load class: " + e.getMessage());
             try {
@@ -216,7 +216,7 @@ public class Main {
 
     }
 
-    public void runTaskClass(List<String> tokens) throws Throwable {
+    public int runTaskClass(List<String> tokens) throws Throwable {
 
         StringBuilder buffer = new StringBuilder();
         buffer.append(System.getProperty("java.vendor"));
@@ -259,7 +259,7 @@ public class Main {
             Method runTask = task.getMethod("main", new Class[] {
                 String[].class, InputStream.class, PrintStream.class
             });
-            runTask.invoke(task.newInstance(), args, System.in, System.out);
+            return (int)runTask.invoke(task.newInstance(), args, System.in, System.out);
         } catch (InvocationTargetException e) {
             throw e.getCause();
         }
diff --git a/activemq-console/src/main/java/org/apache/activemq/console/command/ShellCommand.java b/activemq-console/src/main/java/org/apache/activemq/console/command/ShellCommand.java
index ad6bfc5c3..61ee2072c 100644
--- a/activemq-console/src/main/java/org/apache/activemq/console/command/ShellCommand.java
+++ b/activemq-console/src/main/java/org/apache/activemq/console/command/ShellCommand.java
@@ -105,7 +105,7 @@ public class ShellCommand extends AbstractCommand {
             return 0;
         } catch (Exception e) {
             context.printException(e);
-            return -1;
+            return 1;
         }
     }
 
diff --git a/assembly/src/release/bin/activemq b/assembly/src/release/bin/activemq
index 100e0cd63..de448dabb 100755
--- a/assembly/src/release/bin/activemq
+++ b/assembly/src/release/bin/activemq
@@ -538,7 +538,7 @@ invoke_task(){
       exit $?
     else
       invokeJar
-      exit 1
+      exit $?
     fi
 }
 
