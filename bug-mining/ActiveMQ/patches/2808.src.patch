diff --git a/activemq-broker/src/main/java/org/apache/activemq/broker/region/Queue.java b/activemq-broker/src/main/java/org/apache/activemq/broker/region/Queue.java
index 9578c7d40..a2f718443 100755
--- a/activemq-broker/src/main/java/org/apache/activemq/broker/region/Queue.java
+++ b/activemq-broker/src/main/java/org/apache/activemq/broker/region/Queue.java
@@ -840,26 +840,12 @@ public class Queue extends BaseDestination implements Task, UsageListener, Index
                     if (messages.isCacheEnabled() && !isPersistJMSRedelivered()) {
                         message.beforeMarshall(null);
                         result = store.asyncAddQueueMessage(context, message, isOptimizeStorage());
-                        final PendingMarshalUsageTracker tracker = new PendingMarshalUsageTracker(message);
-                        result.addListener(new Runnable() {
-                            @Override
-                            public void run() {
-                                //Execute usage tracker and then check isReduceMemoryFootprint()
-                                tracker.run();
-                                if (isReduceMemoryFootprint()) {
-                                    try {
-                                        message.clearMarshalledState();
-                                    } catch (JMSException e) {
-                                        throw new IllegalStateException(e);
-                                    }
-                                }
-                            }
-                        });
+                        result.addListener(new PendingMarshalUsageTracker(message));
                     } else {
                         store.addMessage(context, message);
-                        if (isReduceMemoryFootprint()) {
-                            message.clearMarshalledState();
-                        }
+                    }
+                    if (isReduceMemoryFootprint()) {
+                        message.clearMarshalledState();
                     }
                 } catch (Exception e) {
                     // we may have a store in inconsistent state, so reset the cursor
