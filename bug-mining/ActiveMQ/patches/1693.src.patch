diff --git a/activemq-core/src/main/java/org/apache/activemq/util/TypeConversionSupport.java b/activemq-core/src/main/java/org/apache/activemq/util/TypeConversionSupport.java
index 2b6dfa011..db9df2922 100755
--- a/activemq-core/src/main/java/org/apache/activemq/util/TypeConversionSupport.java
+++ b/activemq-core/src/main/java/org/apache/activemq/util/TypeConversionSupport.java
@@ -29,6 +29,13 @@ import org.apache.activemq.command.ActiveMQDestination;
  */
 public final class TypeConversionSupport {
 
+    private static final Converter IDENTITY_CONVERTER = new Converter() {
+        @Override
+        public Object convert(Object value) {
+            return value;
+        }
+    };
+
     private static class ConversionKey {
         final Class from;
         final Class to;
@@ -191,6 +198,10 @@ public final class TypeConversionSupport {
             to = convertPrimitiveTypeToWrapperType(to);
         }
 
+        if (from.equals(to)) {
+            return IDENTITY_CONVERTER;
+        }
+
         return CONVERSION_MAP.get(new ConversionKey(from, to));
     }
 
diff --git a/activemq-core/src/test/java/org/apache/activemq/transport/tcp/TcpTransportServerTest.java b/activemq-core/src/test/java/org/apache/activemq/transport/tcp/TcpTransportServerTest.java
new file mode 100644
index 000000000..67e659f18
--- /dev/null
+++ b/activemq-core/src/test/java/org/apache/activemq/transport/tcp/TcpTransportServerTest.java
@@ -0,0 +1,80 @@
+/**
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements.  See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache License, Version 2.0
+ * (the "License"); you may not use this file except in compliance with
+ * the License.  You may obtain a copy of the License at
+ *
+ * http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+package org.apache.activemq.transport.tcp;
+
+import junit.framework.TestCase;
+import org.apache.activemq.transport.*;
+
+import javax.net.ServerSocketFactory;
+import java.net.Socket;
+import java.net.URI;
+import java.util.HashMap;
+
+/**
+ * @author <a href="http://www.christianposta.com/blog">Christian Posta</a>
+ */
+public class TcpTransportServerTest extends TestCase{
+
+    public void testDefaultPropertiesSetOnTransport() throws Exception {
+        TcpTransportServer server = (TcpTransportServer) TransportFactory.bind(new URI("tcp://localhost:61616?trace=true"));
+        server.setTransportOption(new HashMap<String, Object>());
+
+        server.setAcceptListener(new TransportAcceptListener() {
+            @Override
+            public void onAccept(Transport transport) {
+                assertTrue("This transport does not have a TransportLogger!!", hasTransportLogger(transport));
+            }
+
+            @Override
+            public void onAcceptError(Exception error) {
+                fail("Should not have received an error!");
+            }
+        });
+
+        server.start();
+
+
+        Socket socket = new Socket("localhost", 61616);
+        server.handleSocket(socket);
+        server.stop();
+
+
+    }
+
+    private boolean hasTransportLogger(Transport transport) {
+        boolean end = false;
+
+        Transport current = transport;
+        while(!end) {
+
+            if (current instanceof TransportFilter) {
+                TransportFilter filter = (TransportFilter) current;
+
+                if(filter instanceof TransportLogger){
+                    return true;
+                }
+
+                current = filter.getNext();
+            }
+            else {
+                end = true;
+            }
+        }
+
+        return false;
+    }
+}
diff --git a/activemq-core/src/test/java/org/apache/activemq/util/IntrospectionSupportTest.java b/activemq-core/src/test/java/org/apache/activemq/util/IntrospectionSupportTest.java
new file mode 100644
index 000000000..32cab8e2a
--- /dev/null
+++ b/activemq-core/src/test/java/org/apache/activemq/util/IntrospectionSupportTest.java
@@ -0,0 +1,53 @@
+/**
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements.  See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache License, Version 2.0
+ * (the "License"); you may not use this file except in compliance with
+ * the License.  You may obtain a copy of the License at
+ *
+ * http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+package org.apache.activemq.util;
+
+import junit.framework.TestCase;
+
+/**
+ * @author <a href="http://www.christianposta.com/blog">Christian Posta</a>
+ */
+public class IntrospectionSupportTest extends TestCase {
+
+    class DummyClass {
+        private boolean trace;
+
+        DummyClass(boolean trace) {
+            this.trace = trace;
+        }
+
+        public boolean isTrace() {
+            return trace;
+        }
+
+        public void setTrace(boolean trace) {
+            this.trace = trace;
+        }
+    }
+
+    public void testSetPropertyPrimitiveWithWrapperValue() {
+        // Wrapper value
+        Boolean value = Boolean.valueOf(true);
+
+        DummyClass dummyClass = new DummyClass(false);
+
+        // dummy field expects a primitive
+        IntrospectionSupport.setProperty(dummyClass, "trace", value);
+
+        assertTrue(dummyClass.isTrace());
+    }
+}
