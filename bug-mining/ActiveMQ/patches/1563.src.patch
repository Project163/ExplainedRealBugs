diff --git a/activemq-core/src/main/java/org/apache/activemq/transport/stomp/ProtocolConverter.java b/activemq-core/src/main/java/org/apache/activemq/transport/stomp/ProtocolConverter.java
index 961127e25..b50536238 100644
--- a/activemq-core/src/main/java/org/apache/activemq/transport/stomp/ProtocolConverter.java
+++ b/activemq-core/src/main/java/org/apache/activemq/transport/stomp/ProtocolConverter.java
@@ -661,7 +661,7 @@ public class ProtocolConverter {
             heartBeat = defaultHeartBeat;
         }
 
-        HashSet<String> acceptsVersions = new HashSet<String>(Arrays.asList(accepts.split(Stomp.COMMA)));
+        HashSet<String> acceptsVersions = new HashSet<String>(Arrays.asList(accepts.trim().split(Stomp.COMMA)));
         acceptsVersions.retainAll(Arrays.asList(Stomp.SUPPORTED_PROTOCOL_VERSIONS));
         if (acceptsVersions.isEmpty()) {
             throw new ProtocolException("Invalid Protocol version[" + accepts +"], supported versions are: " +
@@ -670,7 +670,7 @@ public class ProtocolConverter {
             this.version = Collections.max(acceptsVersions);
         }
 
-        configureInactivityMonitor(heartBeat);
+        configureInactivityMonitor(heartBeat.trim());
 
         IntrospectionSupport.setProperties(connectionInfo, headers, "activemq.");
         connectionInfo.setConnectionId(connectionId);
diff --git a/activemq-core/src/test/java/org/apache/activemq/transport/stomp/StompTelnetTest.java b/activemq-core/src/test/java/org/apache/activemq/transport/stomp/StompTelnetTest.java
index 0bb1a3e20..a2cdf7b9e 100644
--- a/activemq-core/src/test/java/org/apache/activemq/transport/stomp/StompTelnetTest.java
+++ b/activemq-core/src/test/java/org/apache/activemq/transport/stomp/StompTelnetTest.java
@@ -60,6 +60,23 @@ public class StompTelnetTest extends CombinationTestSupport {
         }
     }
 
+    public void testCRLF11() throws Exception {
+
+        for (TransportConnector connector : broker.getTransportConnectors()) {
+            LOG.info("try: " + connector.getConnectUri());
+
+            StompConnection stompConnection = new StompConnection();
+            stompConnection.open(createSocket(connector.getConnectUri()));
+            String frame = "CONNECT\r\naccept-version:1.1\r\n\r\n" + Stomp.NULL;
+            stompConnection.sendFrame(frame);
+
+            frame = stompConnection.receiveFrame();
+            LOG.info("response from: " + connector.getConnectUri() + ", " + frame);
+            assertTrue(frame.startsWith("CONNECTED"));
+            stompConnection.close();
+        }
+    }
+
     protected Socket createSocket(URI connectUri) throws IOException {
         return new Socket("127.0.0.1", connectUri.getPort());
     }
