diff --git a/assembly/src/release/bin/activemq b/assembly/src/release/bin/activemq
index ee705e823..b9e5b0622 100755
--- a/assembly/src/release/bin/activemq
+++ b/assembly/src/release/bin/activemq
@@ -321,7 +321,12 @@ fi
 invokeJar(){
    local PIDFILE="$1"
    local RET="1"
-   local CUSER="$(whoami)"
+   local CUSER="$(whoami 2>/dev/null)"
+
+   # Solaris fix
+   if ( ! [ $? -eq 0 ] ) ; then
+    local CUSER="$(/usr/ucb/whoami)"
+   fi
 
    if ( ! [ -f "${ACTIVEMQ_HOME}/bin/run.jar" ] );then
     echo "ERROR: '${ACTIVEMQ_HOME}/bin/run.jar' does not exist"
