diff --git a/activemq-broker/src/main/java/org/apache/activemq/plugin/SubQueueSelectorCacheBroker.java b/activemq-broker/src/main/java/org/apache/activemq/plugin/SubQueueSelectorCacheBroker.java
index 0e488304c..7a0e58c72 100644
--- a/activemq-broker/src/main/java/org/apache/activemq/plugin/SubQueueSelectorCacheBroker.java
+++ b/activemq-broker/src/main/java/org/apache/activemq/plugin/SubQueueSelectorCacheBroker.java
@@ -276,8 +276,8 @@ public class SubQueueSelectorCacheBroker extends BrokerFilter implements Runnabl
     @SuppressWarnings("unchecked")
     public Set<String> getSelectorsForDestination(String destinationName) {
         final Set<String> cachedSelectors = subSelectorCache.get(destinationName);
-        synchronized(cachedSelectors) {
-            if (cachedSelectors != null) {
+        if (cachedSelectors != null) {
+            synchronized(cachedSelectors) {
                 return new HashSet<>(cachedSelectors);
             }
         }
