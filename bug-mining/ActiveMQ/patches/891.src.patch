diff --git a/activemq-core/pom.xml b/activemq-core/pom.xml
index bb0b42091..3f7076409 100755
--- a/activemq-core/pom.xml
+++ b/activemq-core/pom.xml
@@ -530,9 +530,6 @@
             <!-- breaks hudson: disable till we get a chance to give it the time that it needs - http://hudson.zones.apache.org/hudson/job/ActiveMQ/org.apache.activemq$activemq-core/199/testReport/org.apache.activemq.network/BrokerNetworkWithStuckMessagesTest/testBrokerNetworkWithStuckMessages/ -->
             <exclude>**/BrokerNetworkWithStuckMessagesTest.*</exclude>
             
-            <!-- until https://issues.apache.org/activemq/browse/AMQ-2448 is fixed -->
-            <exclude>**/VmTransportNetworkBrokerTest.*</exclude>
-            
           </excludes>
         </configuration>
       </plugin>
diff --git a/activemq-core/src/main/java/org/apache/activemq/transport/vm/VMTransport.java b/activemq-core/src/main/java/org/apache/activemq/transport/vm/VMTransport.java
index 4bdc7426e..b795c32ad 100755
--- a/activemq-core/src/main/java/org/apache/activemq/transport/vm/VMTransport.java
+++ b/activemq-core/src/main/java/org/apache/activemq/transport/vm/VMTransport.java
@@ -109,11 +109,15 @@ public class VMTransport implements Transport, Task {
             peer.enqueueValve.decrement();
         }
 
+        dispatch(peer, transportListener, command);
+    }
+    
+    public void dispatch(VMTransport transport, TransportListener transportListener, Object command) {
         if( transportListener!=null ) {
             if( command == DISCONNECT ) {
                 transportListener.onException(new TransportDisposedIOException("Peer (" + peer.toString() + ") disposed."));
             } else {
-                peer.receiveCounter++;
+                transport.receiveCounter++;
                 transportListener.onCommand(command);
             }
         }
@@ -129,7 +133,7 @@ public class VMTransport implements Transport, Task {
                 Object command;
                 while ((command = messageQueue.poll()) != null && !stopping.get() ) {
                     receiveCounter++;
-                    transportListener.onCommand(command);
+                    dispatch(this, transportListener, command);
                 }
             }
             started = true;
@@ -149,7 +153,14 @@ public class VMTransport implements Transport, Task {
         
         // If stop() is called while being start()ed.. then we can't stop until we return to the start() method.
         if( enqueueValve.isOn() ) {
-
+        	
+            // let the peer know that we are disconnecting..
+            try {
+            	peer.transportListener.onException(new TransportDisposedIOException("Peer (" + peer.toString() + ") disposed."));
+            } catch (Exception ignore) {
+            }
+        	
+        	
             TaskRunner tr = null;
             try {
                 enqueueValve.turnOff();
@@ -168,12 +179,10 @@ public class VMTransport implements Transport, Task {
             if (tr != null) {
                 tr.shutdown(1000);
             }
-            // let the peer know that we are disconnecting..
-            try {
-                oneway(DISCONNECT);
-            } catch (Exception ignore) {
-            }
+            
+
         }
+        
     }
     
     /**
diff --git a/activemq-core/src/main/java/org/apache/activemq/transport/vm/VMTransportFactory.java b/activemq-core/src/main/java/org/apache/activemq/transport/vm/VMTransportFactory.java
index f1c03c72c..3bdf95d4c 100755
--- a/activemq-core/src/main/java/org/apache/activemq/transport/vm/VMTransportFactory.java
+++ b/activemq-core/src/main/java/org/apache/activemq/transport/vm/VMTransportFactory.java
@@ -206,16 +206,7 @@ public class VMTransportFactory extends TransportFactory {
 
     public static void stopped(VMTransportServer server) {
         String host = server.getBindURI().getHost();
-        SERVERS.remove(host);
-        TransportConnector connector = CONNECTORS.remove(host);
-        if (connector != null) {
-            LOG.debug("Shutting down VM connectors for broker: " + host);
-            ServiceSupport.dispose(connector);
-            BrokerService broker = BROKERS.remove(host);
-            if (broker != null) {
-                ServiceSupport.dispose(broker);
-            }
-        }
+        stopped(host);
     }
 
     public static void stopped(String host) {
diff --git a/assembly/src/release/conf/camel.xml b/assembly/src/release/conf/camel.xml
index 737847485..8e5b7422f 100644
--- a/assembly/src/release/conf/camel.xml
+++ b/assembly/src/release/conf/camel.xml
@@ -60,6 +60,5 @@
             <property name="password" value="${activemq.password}"/>
           </bean>
         </property>
-        <property name="useSingleConnection" value="true" />
     </bean>
 </beans>
diff --git a/assembly/src/release/webapps/camel/WEB-INF/applicationContext.xml b/assembly/src/release/webapps/camel/WEB-INF/applicationContext.xml
index daeaea72a..d242f8926 100644
--- a/assembly/src/release/webapps/camel/WEB-INF/applicationContext.xml
+++ b/assembly/src/release/webapps/camel/WEB-INF/applicationContext.xml
@@ -58,6 +58,5 @@
             <property name="password" value="${activemq.password}"/>
           </bean>
         </property>
-        <property name="useSingleConnection" value="true" />
     </bean>
 </beans>
