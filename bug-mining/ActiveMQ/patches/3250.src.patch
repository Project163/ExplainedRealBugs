diff --git a/activemq-client/pom.xml b/activemq-client/pom.xml
index 0a6f8e194..f5e2bae9b 100644
--- a/activemq-client/pom.xml
+++ b/activemq-client/pom.xml
@@ -32,6 +32,15 @@
 
   <properties>
     <surefire.argLine>-Xmx512M</surefire.argLine>
+    <activemq.osgi.import.pkg>
+      !com.google.errorprone.annotations,
+      !com.google.errorprone.annotations.concurrent,
+      *
+    </activemq.osgi.import.pkg>
+    <activemq.osgi.private.pkg>
+      com.google.errorprone.annotations,
+      com.google.errorprone.annotations.concurrent
+    </activemq.osgi.private.pkg>
   </properties>
 
   <dependencies>
diff --git a/activemq-karaf/pom.xml b/activemq-karaf/pom.xml
index 7277ea74d..60d64eee8 100644
--- a/activemq-karaf/pom.xml
+++ b/activemq-karaf/pom.xml
@@ -153,7 +153,7 @@
                 </artifact>
                 <artifact>
                   <file>target/classes/activemq.xml</file>
-                  <type>xml</type>
+                  <type>xml</type>>
                   <classifier>activemq</classifier>
                 </artifact>
                 <artifact>
@@ -179,12 +179,17 @@
             <Bundle-SymbolicName>${project.artifactId}</Bundle-SymbolicName>
             <Export-Package>org.apache.activemq.karaf*;version=${project.version};-split-package:=merge-first</Export-Package>
             <Import-Package>
+              !com.google.errorprone.annotations,
+              !com.google.errorprone.annotations.concurrent,
               org.apache.felix.gogo.commands,
               org.apache.karaf.shell.console;version="[2,4)",
               org.apache.karaf.shell.console.commands;version="[2,4)",
               *
             </Import-Package>
-            <Private-Package>!*</Private-Package>
+            <Private-Package>
+              com.google.errorprone.annotations,
+              com.google.errorprone.annotations.concurrent
+            </Private-Package>
             <_versionpolicy>[$(version;==;$(@)),$(version;+;$(@)))</_versionpolicy>
             <Embed-Transitive>true</Embed-Transitive>
           </instructions>
diff --git a/activemq-osgi/pom.xml b/activemq-osgi/pom.xml
index c7cdac6ba..9f8bd8a6b 100644
--- a/activemq-osgi/pom.xml
+++ b/activemq-osgi/pom.xml
@@ -36,6 +36,9 @@
       !org.apache.maven*,
       !com.google.thirdparty.publicsuffix,
       !com.rometools*,
+      !com.google.errorprone.annotations,
+      !com.google.errorprone.annotations.concurrent,
+      !com.google.j2objc.annotations,
       sun.misc*;resolution:=optional,
       sun.nio*;resolution:=optional,
       javax.jmdns*;resolution:=optional,
@@ -63,7 +66,7 @@
       org.springframework*;version="[4,5)";resolution:=optional,
       org.xmlpull*;resolution:=optional,
       scala*;resolution:=optional,
-      javax.annotation*,
+      javax.annotation*;version="[1,4)",
       !com.thoughtworks.qdox*,
       org.apache.commons.logging;version="[1.2,2)";resolution:=optional,
       javax.jms*;version="[1.1,3)",
@@ -93,6 +96,9 @@
          org.fusesource.hawtbuf*,
          org.apache.qpid*,
          com.google.common*,
+         com.google.errorprone.annotations,
+         com.google.errorprone.annotations.concurrent,
+         com.google.j2objc.annotations,
          org.linkedin*,
          org.iq80*
     </activemq.osgi.private.pkg>
