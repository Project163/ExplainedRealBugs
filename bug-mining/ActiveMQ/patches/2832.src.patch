diff --git a/activemq-client/src/main/java/org/apache/activemq/transport/tcp/TcpTransportServer.java b/activemq-client/src/main/java/org/apache/activemq/transport/tcp/TcpTransportServer.java
index 33d9c72da..5d623b626 100755
--- a/activemq-client/src/main/java/org/apache/activemq/transport/tcp/TcpTransportServer.java
+++ b/activemq-client/src/main/java/org/apache/activemq/transport/tcp/TcpTransportServer.java
@@ -501,10 +501,9 @@ public class TcpTransportServer extends TransportServerThreadSupport implements
         Exception firstFailure = null;
 
         try {
-            final Selector selector = this.selector;
             if (selector != null) {
-                this.selector = null;
                 selector.close();
+                selector = null;
             }
         } catch (Exception error) {
         }
