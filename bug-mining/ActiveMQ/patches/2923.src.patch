diff --git a/activemq-kahadb-store/src/main/java/org/apache/activemq/store/kahadb/disk/journal/Journal.java b/activemq-kahadb-store/src/main/java/org/apache/activemq/store/kahadb/disk/journal/Journal.java
index e526698c9..a417adfda 100644
--- a/activemq-kahadb-store/src/main/java/org/apache/activemq/store/kahadb/disk/journal/Journal.java
+++ b/activemq-kahadb-store/src/main/java/org/apache/activemq/store/kahadb/disk/journal/Journal.java
@@ -374,10 +374,8 @@ public class Journal {
     }
 
     private void doPreallocationKernelCopy(RecoverableRandomAccessFile file) {
-        try {
-            RandomAccessFile templateRaf = new RandomAccessFile(osKernelCopyTemplateFile, "rw");
+        try (RandomAccessFile templateRaf = new RandomAccessFile(osKernelCopyTemplateFile, "rw");){
             templateRaf.getChannel().transferTo(0, getMaxFileLength(), file.getChannel());
-            templateRaf.close();
         } catch (ClosedByInterruptException ignored) {
             LOG.trace("Could not preallocate journal file with kernel copy", ignored);
         } catch (FileNotFoundException e) {
diff --git a/activemq-kahadb-store/src/main/java/org/apache/activemq/store/kahadb/disk/util/DiskBenchmark.java b/activemq-kahadb-store/src/main/java/org/apache/activemq/store/kahadb/disk/util/DiskBenchmark.java
index f59e1c3d3..b6388b844 100644
--- a/activemq-kahadb-store/src/main/java/org/apache/activemq/store/kahadb/disk/util/DiskBenchmark.java
+++ b/activemq-kahadb-store/src/main/java/org/apache/activemq/store/kahadb/disk/util/DiskBenchmark.java
@@ -300,11 +300,11 @@ public class DiskBenchmark {
         if (tmpFile.exists()) {
             tmpFile.delete();
         }
-        RandomAccessFile templateFile = new RandomAccessFile(tmpFile, "rw");
-        templateFile.setLength(size);
-        templateFile.getChannel().force(true);
-        templateFile.getChannel().transferTo(0, size, raf.getChannel());
-        templateFile.close();
+        try (RandomAccessFile templateFile = new RandomAccessFile(tmpFile, "rw");) {
+            templateFile.setLength(size);
+            templateFile.getChannel().force(true);
+            templateFile.getChannel().transferTo(0, size, raf.getChannel());
+        }
         tmpFile.delete();
     }
 
