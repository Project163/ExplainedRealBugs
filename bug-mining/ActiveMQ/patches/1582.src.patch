diff --git a/activemq-core/src/main/java/org/apache/activemq/transport/failover/FailoverTransport.java b/activemq-core/src/main/java/org/apache/activemq/transport/failover/FailoverTransport.java
index b89d8439b..2cf563734 100755
--- a/activemq-core/src/main/java/org/apache/activemq/transport/failover/FailoverTransport.java
+++ b/activemq-core/src/main/java/org/apache/activemq/transport/failover/FailoverTransport.java
@@ -355,15 +355,6 @@ public class FailoverTransport implements CompositeTransport {
             started = false;
             disposed = true;
             connected = false;
-            for (BackupTransport backup : backups) {
-                backup.setDisposed(true);
-                Transport transport = backup.getTransport();
-                if (transport != null) {
-                    transport.setTransportListener(disposedListener);
-                    backupsToStop.add(transport);
-                }
-            }
-            backups.clear();
 
             if (connectedTransport.get() != null) {
                 transportToStop = connectedTransport.getAndSet(null);
@@ -374,15 +365,29 @@ public class FailoverTransport implements CompositeTransport {
             sleepMutex.notifyAll();
         }
         reconnectTask.shutdown();
-        if (transportToStop != null) {
-            transportToStop.stop();
+        synchronized(backupMutex) {
+            for (BackupTransport backup : backups) {
+                backup.setDisposed(true);
+                Transport transport = backup.getTransport();
+                if (transport != null) {
+                    transport.setTransportListener(disposedListener);
+                    backupsToStop.add(transport);
+                }
+            }
+            backups.clear();
         }
         for (Transport transport : backupsToStop) {
             try {
+                if (LOG.isTraceEnabled()) {
+                    LOG.trace("Stopped backup: " + transport);
+                }
                 disposeTransport(transport);
             } catch (Exception e) {
             }
         }
+        if (transportToStop != null) {
+            transportToStop.stop();
+        }
     }
 
     public long getInitialReconnectDelay() {
diff --git a/activemq-core/src/test/java/org/apache/activemq/transport/failover/FailoverBackupLeakTest.java b/activemq-core/src/test/java/org/apache/activemq/transport/failover/FailoverBackupLeakTest.java
index 17ff1109b..24278be1d 100644
--- a/activemq-core/src/test/java/org/apache/activemq/transport/failover/FailoverBackupLeakTest.java
+++ b/activemq-core/src/test/java/org/apache/activemq/transport/failover/FailoverBackupLeakTest.java
@@ -92,7 +92,7 @@ public class FailoverBackupLeakTest {
             buildConnection(factory);
         }
 
-        assertTrue(connectionProperties +  " broker1 connection count not zero", Wait.waitFor(new Wait.Condition() {
+        assertTrue(connectionProperties +  " broker1 connection count not zero: was["+getConnectionCount(s1)+"]", Wait.waitFor(new Wait.Condition() {
 
             @Override
             public boolean isSatisified() throws Exception {
@@ -100,7 +100,7 @@ public class FailoverBackupLeakTest {
             }
         }));
 
-        assertTrue(connectionProperties +  " broker2 connection count not zero", Wait.waitFor(new Wait.Condition() {
+        assertTrue(connectionProperties +  " broker2 connection count not zero: was["+getConnectionCount(s2)+"]", Wait.waitFor(new Wait.Condition() {
 
             @Override
             public boolean isSatisified() throws Exception {
