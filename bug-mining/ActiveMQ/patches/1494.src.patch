diff --git a/activemq-core/src/main/java/org/apache/activemq/transport/stomp/StompWireFormat.java b/activemq-core/src/main/java/org/apache/activemq/transport/stomp/StompWireFormat.java
index 282443eb9..d276f6738 100644
--- a/activemq-core/src/main/java/org/apache/activemq/transport/stomp/StompWireFormat.java
+++ b/activemq-core/src/main/java/org/apache/activemq/transport/stomp/StompWireFormat.java
@@ -16,15 +16,21 @@
  */
 package org.apache.activemq.transport.stomp;
 
+import java.io.DataInput;
+import java.io.DataInputStream;
+import java.io.DataOutput;
+import java.io.DataOutputStream;
+import java.io.IOException;
+import java.io.InputStream;
+import java.io.PushbackInputStream;
+import java.util.HashMap;
+import java.util.Map;
+
 import org.apache.activemq.util.ByteArrayInputStream;
 import org.apache.activemq.util.ByteArrayOutputStream;
 import org.apache.activemq.util.ByteSequence;
 import org.apache.activemq.wireformat.WireFormat;
 
-import java.io.*;
-import java.util.HashMap;
-import java.util.Map;
-
 /**
  * Implements marshalling and unmarsalling the <a
  * href="http://stomp.codehaus.org/">Stomp</a> protocol.
@@ -201,7 +207,7 @@ public class StompWireFormat implements WireFormat {
 
                     ByteSequence nameSeq = stream.toByteSequence();
                     String name = new String(nameSeq.getData(), nameSeq.getOffset(), nameSeq.getLength(), "UTF-8").trim();
-                    String value = decodeHeader(headerLine).trim();
+                    String value = decodeHeader(headerLine);
                     headers.put(name, value);
                 } catch (Exception e) {
                     throw new ProtocolException("Unable to parser header line [" + line + "]", true);
diff --git a/activemq-core/src/test/java/org/apache/activemq/transport/SoWriteTimeoutTest.java b/activemq-core/src/test/java/org/apache/activemq/transport/SoWriteTimeoutTest.java
index 28db485b9..6f0565891 100644
--- a/activemq-core/src/test/java/org/apache/activemq/transport/SoWriteTimeoutTest.java
+++ b/activemq-core/src/test/java/org/apache/activemq/transport/SoWriteTimeoutTest.java
@@ -20,12 +20,15 @@ import java.net.Socket;
 import java.net.SocketException;
 import java.net.URI;
 import java.util.concurrent.TimeUnit;
+
 import javax.jms.Connection;
 import javax.jms.Destination;
 import javax.jms.JMSException;
 import javax.jms.MessageConsumer;
 import javax.jms.Session;
+
 import junit.framework.Test;
+
 import org.apache.activemq.ActiveMQConnectionFactory;
 import org.apache.activemq.JmsTestSupport;
 import org.apache.activemq.broker.BrokerService;
@@ -110,7 +113,7 @@ public class SoWriteTimeoutTest extends JmsTestSupport {
         stompConnection.open(new Socket("localhost", proxy.getUrl().getPort()));
         stompConnection.getStompSocket().setTcpNoDelay(true);
 
-        String frame = "CONNECT\n" + "login: system\n" + "passcode: manager\n\n" + Stomp.NULL;
+        String frame = "CONNECT\n" + "login:system\n" + "passcode:manager\n\n" + Stomp.NULL;
         stompConnection.sendFrame(frame);
         frame = stompConnection.receiveFrame();
         assertTrue(frame.startsWith("CONNECTED"));
diff --git a/activemq-core/src/test/java/org/apache/activemq/transport/stomp/Stomp11Test.java b/activemq-core/src/test/java/org/apache/activemq/transport/stomp/Stomp11Test.java
index 1ee49d315..ef76f8a0e 100644
--- a/activemq-core/src/test/java/org/apache/activemq/transport/stomp/Stomp11Test.java
+++ b/activemq-core/src/test/java/org/apache/activemq/transport/stomp/Stomp11Test.java
@@ -68,7 +68,6 @@ public class Stomp11Test extends CombinationTestSupport {
         session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);
         queue = new ActiveMQQueue(getQueueName());
         connection.start();
-
     }
 
     private void stompConnect() throws IOException, URISyntaxException, UnknownHostException {
@@ -106,11 +105,11 @@ public class Stomp11Test extends CombinationTestSupport {
     public void testConnect() throws Exception {
 
         String connectFrame = "STOMP\n" +
-                              "login: system\n" +
-                              "passcode: manager\n" +
+                              "login:system\n" +
+                              "passcode:manager\n" +
                               "accept-version:1.1\n" +
                               "host:localhost\n" +
-                              "request-id: 1\n" +
+                              "request-id:1\n" +
                               "\n" + Stomp.NULL;
         stompConnection.sendFrame(connectFrame);
 
@@ -129,8 +128,8 @@ public class Stomp11Test extends CombinationTestSupport {
     public void testConnectWithVersionOptions() throws Exception {
 
         String connectFrame = "STOMP\n" +
-                              "login: system\n" +
-                              "passcode: manager\n" +
+                              "login:system\n" +
+                              "passcode:manager\n" +
                               "accept-version:1.0,1.1\n" +
                               "host:localhost\n" +
                               "\n" + Stomp.NULL;
@@ -150,8 +149,8 @@ public class Stomp11Test extends CombinationTestSupport {
     public void testConnectWithValidFallback() throws Exception {
 
         String connectFrame = "STOMP\n" +
-                              "login: system\n" +
-                              "passcode: manager\n" +
+                              "login:system\n" +
+                              "passcode:manager\n" +
                               "accept-version:1.0,10.1\n" +
                               "host:localhost\n" +
                               "\n" + Stomp.NULL;
@@ -171,8 +170,8 @@ public class Stomp11Test extends CombinationTestSupport {
     public void testConnectWithInvalidFallback() throws Exception {
 
         String connectFrame = "STOMP\n" +
-                              "login: system\n" +
-                              "passcode: manager\n" +
+                              "login:system\n" +
+                              "passcode:manager\n" +
                               "accept-version:9.0,10.1\n" +
                               "host:localhost\n" +
                               "\n" + Stomp.NULL;
@@ -189,8 +188,8 @@ public class Stomp11Test extends CombinationTestSupport {
     public void testHeartbeats() throws Exception {
 
         String connectFrame = "STOMP\n" +
-                              "login: system\n" +
-                              "passcode: manager\n" +
+                              "login:system\n" +
+                              "passcode:manager\n" +
                               "accept-version:1.1\n" +
                               "heart-beat:0,1000\n" +
                               "host:localhost\n" +
@@ -231,8 +230,8 @@ public class Stomp11Test extends CombinationTestSupport {
     public void testHeartbeatsDropsIdleConnection() throws Exception {
 
         String connectFrame = "STOMP\n" +
-                              "login: system\n" +
-                              "passcode: manager\n" +
+                              "login:system\n" +
+                              "passcode:manager\n" +
                               "accept-version:1.1\n" +
                               "heart-beat:1000,0\n" +
                               "host:localhost\n" +
@@ -261,8 +260,8 @@ public class Stomp11Test extends CombinationTestSupport {
 
     public void testSendAfterMissingHeartbeat() throws Exception {
 
-        String connectFrame = "STOMP\n" + "login: system\n" +
-                              "passcode: manager\n" +
+        String connectFrame = "STOMP\n" + "login:system\n" +
+                              "passcode:manager\n" +
                               "accept-version:1.1\n" +
                               "heart-beat:1000,0\n" +
                               "host:localhost\n" +
@@ -290,8 +289,8 @@ public class Stomp11Test extends CombinationTestSupport {
     public void testRejectInvalidHeartbeats1() throws Exception {
 
         String connectFrame = "STOMP\n" +
-                              "login: system\n" +
-                              "passcode: manager\n" +
+                              "login:system\n" +
+                              "passcode:manager\n" +
                               "accept-version:1.1\n" +
                               "heart-beat:0\n" +
                               "host:localhost\n" +
@@ -309,8 +308,8 @@ public class Stomp11Test extends CombinationTestSupport {
     public void testRejectInvalidHeartbeats2() throws Exception {
 
         String connectFrame = "STOMP\n" +
-                              "login: system\n" +
-                              "passcode: manager\n" +
+                              "login:system\n" +
+                              "passcode:manager\n" +
                               "accept-version:1.1\n" +
                               "heart-beat:T,0\n" +
                               "host:localhost\n" +
@@ -328,8 +327,8 @@ public class Stomp11Test extends CombinationTestSupport {
     public void testRejectInvalidHeartbeats3() throws Exception {
 
         String connectFrame = "STOMP\n" +
-                              "login: system\n" +
-                              "passcode: manager\n" +
+                              "login:system\n" +
+                              "passcode:manager\n" +
                               "accept-version:1.1\n" +
                               "heart-beat:100,10,50\n" +
                               "host:localhost\n" +
@@ -347,8 +346,8 @@ public class Stomp11Test extends CombinationTestSupport {
     public void testSubscribeAndUnsubscribe() throws Exception {
 
         String connectFrame = "STOMP\n" +
-                              "login: system\n" +
-                              "passcode: manager\n" +
+                              "login:system\n" +
+                              "passcode:manager\n" +
                               "accept-version:1.1\n" +
                               "host:localhost\n" +
                               "\n" + Stomp.NULL;
@@ -392,8 +391,8 @@ public class Stomp11Test extends CombinationTestSupport {
     public void testSubscribeWithNoId() throws Exception {
 
         String connectFrame = "STOMP\n" +
-                              "login: system\n" +
-                              "passcode: manager\n" +
+                              "login:system\n" +
+                              "passcode:manager\n" +
                               "accept-version:1.1\n" +
                               "host:localhost\n" +
                               "\n" + Stomp.NULL;
@@ -418,8 +417,8 @@ public class Stomp11Test extends CombinationTestSupport {
     public void testUnsubscribeWithNoId() throws Exception {
 
         String connectFrame = "STOMP\n" +
-                              "login: system\n" +
-                              "passcode: manager\n" +
+                              "login:system\n" +
+                              "passcode:manager\n" +
                               "accept-version:1.1\n" +
                               "host:localhost\n" +
                               "\n" + Stomp.NULL;
@@ -449,8 +448,8 @@ public class Stomp11Test extends CombinationTestSupport {
     public void testAckMessageWithId() throws Exception {
 
         String connectFrame = "STOMP\n" +
-                              "login: system\n" +
-                              "passcode: manager\n" +
+                              "login:system\n" +
+                              "passcode:manager\n" +
                               "accept-version:1.1\n" +
                               "host:localhost\n" +
                               "\n" + Stomp.NULL;
@@ -487,8 +486,8 @@ public class Stomp11Test extends CombinationTestSupport {
     public void testAckMessageWithNoId() throws Exception {
 
         String connectFrame = "STOMP\n" +
-                              "login: system\n" +
-                              "passcode: manager\n" +
+                              "login:system\n" +
+                              "passcode:manager\n" +
                               "accept-version:1.1\n" +
                               "host:localhost\n" +
                               "\n" + Stomp.NULL;
@@ -530,8 +529,8 @@ public class Stomp11Test extends CombinationTestSupport {
         final int MSG_COUNT = 10;
 
         String connectFrame = "STOMP\n" +
-                              "login: system\n" +
-                              "passcode: manager\n" +
+                              "login:system\n" +
+                              "passcode:manager\n" +
                               "accept-version:1.1\n" +
                               "host:localhost\n" +
                               "\n" + Stomp.NULL;
@@ -591,12 +590,11 @@ public class Stomp11Test extends CombinationTestSupport {
         stompConnection.sendFrame(frame);
     }
 
-
     public void testSendMessageWithStandardHeadersEncoded() throws Exception {
 
         MessageConsumer consumer = session.createConsumer(queue);
 
-        String frame = "CONNECT\n" + "login: system\n" + "passcode: manager\n" +
+        String frame = "CONNECT\n" + "login:system\n" + "passcode:manager\n" +
                 "accept-version:1.1" + "\n\n" + Stomp.NULL;
         stompConnection.sendFrame(frame);
 
@@ -622,10 +620,9 @@ public class Stomp11Test extends CombinationTestSupport {
         assertEquals("GroupID", "abc", amqMessage.getGroupID());
     }
 
-
     public void testSubscribeWithMessageSentWithEncodedProperties() throws Exception {
 
-        String frame = "CONNECT\n" + "login: system\n" + "passcode: manager\n" +  "accept-version:1.1" + "\n\n" + Stomp.NULL;
+        String frame = "CONNECT\n" + "login:system\n" + "passcode:manager\n" +  "accept-version:1.1" + "\n\n" + Stomp.NULL;
         stompConnection.sendFrame(frame);
 
         frame = stompConnection.receiveFrame();
@@ -654,8 +651,8 @@ public class Stomp11Test extends CombinationTestSupport {
     public void testNackMessage() throws Exception {
 
         String connectFrame = "STOMP\n" +
-                "login: system\n" +
-                "passcode: manager\n" +
+                "login:system\n" +
+                "passcode:manager\n" +
                 "accept-version:1.1\n" +
                 "host:localhost\n" +
                 "\n" + Stomp.NULL;
@@ -702,9 +699,49 @@ public class Stomp11Test extends CombinationTestSupport {
                 "id:12345\n\n" + Stomp.NULL;
         stompConnection.sendFrame(frame);
 
-
         frame = "DISCONNECT\n" + "\n\n" + Stomp.NULL;
         stompConnection.sendFrame(frame);
     }
 
+    public void testHeaderValuesAreNotWSTrimmed() throws Exception {
+
+        String connectFrame = "STOMP\n" +
+                              "login:system\n" +
+                              "passcode:manager\n" +
+                              "accept-version:1.1\n" +
+                              "host:localhost\n" +
+                              "\n" + Stomp.NULL;
+        stompConnection.sendFrame(connectFrame);
+
+        String f = stompConnection.receiveFrame();
+        LOG.debug("Broker sent: " + f);
+
+        assertTrue(f.startsWith("CONNECTED"));
+
+        String message = "SEND\n" + "destination:/queue/" + getQueueName() +
+                         "\ntest1: value" +
+                         "\ntest2:value " +
+                         "\ntest3: value " +
+                         "\n\n" + "Hello World" + Stomp.NULL;
+
+        stompConnection.sendFrame(message);
+
+        String frame = "SUBSCRIBE\n" + "destination:/queue/" + getQueueName() + "\n" +
+                       "id:12345\n" + "ack:auto\n\n" + Stomp.NULL;
+        stompConnection.sendFrame(frame);
+
+        StompFrame received = stompConnection.receive();
+        assertTrue(received.getAction().equals("MESSAGE"));
+
+        assertEquals(" value", received.getHeaders().get("test1"));
+        assertEquals("value ", received.getHeaders().get("test2"));
+        assertEquals(" value ", received.getHeaders().get("test3"));
+
+        frame = "UNSUBSCRIBE\n" + "destination:/queue/" + getQueueName() + "\n" +
+                "id:12345\n\n" + Stomp.NULL;
+        stompConnection.sendFrame(frame);
+
+        frame = "DISCONNECT\n" + "\n\n" + Stomp.NULL;
+        stompConnection.sendFrame(frame);
+    }
 }
diff --git a/activemq-core/src/test/java/org/apache/activemq/transport/stomp/StompTest.java b/activemq-core/src/test/java/org/apache/activemq/transport/stomp/StompTest.java
index bc03c9a48..ff7c71bf5 100644
--- a/activemq-core/src/test/java/org/apache/activemq/transport/stomp/StompTest.java
+++ b/activemq-core/src/test/java/org/apache/activemq/transport/stomp/StompTest.java
@@ -188,7 +188,7 @@ public class StompTest extends CombinationTestSupport {
 
     public void testConnect() throws Exception {
 
-        String connectFrame = "CONNECT\n" + "login: system\n" + "passcode: manager\n" + "request-id: 1\n" + "\n" + Stomp.NULL;
+        String connectFrame = "CONNECT\n" + "login:system\n" + "passcode:manager\n" + "request-id:1\n" + "\n" + Stomp.NULL;
         stompConnection.sendFrame(connectFrame);
 
         String f = stompConnection.receiveFrame();
@@ -201,7 +201,7 @@ public class StompTest extends CombinationTestSupport {
 
         MessageConsumer consumer = session.createConsumer(queue);
 
-        String frame = "CONNECT\n" + "login: system\n" + "passcode: manager\n\n" + Stomp.NULL;
+        String frame = "CONNECT\n" + "login:system\n" + "passcode:manager\n\n" + Stomp.NULL;
         stompConnection.sendFrame(frame);
 
         frame = stompConnection.receiveFrame();
@@ -226,13 +226,13 @@ public class StompTest extends CombinationTestSupport {
 
         MessageConsumer consumer = session.createConsumer(queue);
 
-        String frame = "CONNECT\n" + "login: system\n" + "passcode: manager\n\n" + Stomp.NULL;
+        String frame = "CONNECT\n" + "login:system\n" + "passcode:manager\n\n" + Stomp.NULL;
         stompConnection.sendFrame(frame);
 
         frame = stompConnection.receiveFrame();
         assertTrue(frame.startsWith("CONNECTED"));
 
-        frame = "SEND\n" + "destination:/queue/" + getQueueName() + "\n" + "JMSXGroupID: TEST\n\n" + "Hello World" + Stomp.NULL;
+        frame = "SEND\n" + "destination:/queue/" + getQueueName() + "\n" + "JMSXGroupID:TEST\n\n" + "Hello World" + Stomp.NULL;
 
         stompConnection.sendFrame(frame);
 
@@ -245,7 +245,7 @@ public class StompTest extends CombinationTestSupport {
 
         MessageConsumer consumer = session.createConsumer(queue, "foo = 'abc'");
 
-        String frame = "CONNECT\n" + "login: system\n" + "passcode: manager\n\n" + Stomp.NULL;
+        String frame = "CONNECT\n" + "login:system\n" + "passcode:manager\n\n" + Stomp.NULL;
         stompConnection.sendFrame(frame);
 
         frame = stompConnection.receiveFrame();
@@ -266,7 +266,7 @@ public class StompTest extends CombinationTestSupport {
 
         MessageConsumer consumer = session.createConsumer(queue);
 
-        String frame = "CONNECT\n" + "login: system\n" + "passcode: manager\n\n" + Stomp.NULL;
+        String frame = "CONNECT\n" + "login:system\n" + "passcode:manager\n\n" + Stomp.NULL;
         stompConnection.sendFrame(frame);
 
         frame = stompConnection.receiveFrame();
@@ -286,7 +286,7 @@ public class StompTest extends CombinationTestSupport {
 
         MessageConsumer consumer = session.createConsumer(queue);
 
-        String frame = "CONNECT\n" + "login: system\n" + "passcode: manager\n\n" + Stomp.NULL;
+        String frame = "CONNECT\n" + "login:system\n" + "passcode:manager\n\n" + Stomp.NULL;
         stompConnection.sendFrame(frame);
 
         frame = stompConnection.receiveFrame();
@@ -315,7 +315,7 @@ public class StompTest extends CombinationTestSupport {
 
         MessageConsumer consumer = session.createConsumer(queue);
 
-        String frame = "CONNECT\n" + "login: system\n" + "passcode: manager\n\n" + Stomp.NULL;
+        String frame = "CONNECT\n" + "login:system\n" + "passcode:manager\n\n" + Stomp.NULL;
         stompConnection.sendFrame(frame);
 
         frame = stompConnection.receiveFrame();
@@ -337,7 +337,7 @@ public class StompTest extends CombinationTestSupport {
         StompConnection receiver = new StompConnection();
         URI connectUri = new URI(bindAddress);
         receiver.open(createSocket(connectUri));
-        String frame = "CONNECT\n" + "login: system\n" + "passcode: manager\n\n" + Stomp.NULL;
+        String frame = "CONNECT\n" + "login:system\n" + "passcode:manager\n\n" + Stomp.NULL;
         receiver.sendFrame(frame);
 
         frame = receiver.receiveFrame();
@@ -346,7 +346,7 @@ public class StompTest extends CombinationTestSupport {
         frame = "SUBSCRIBE\n" + "destination:/queue/" + getQueueName() + "\n" + "ack:auto\n\n" + Stomp.NULL;
         receiver.sendFrame(frame);
 
-        frame = "CONNECT\n" + "login: system\n" + "passcode: manager\n\n" + Stomp.NULL;
+        frame = "CONNECT\n" + "login:system\n" + "passcode:manager\n\n" + Stomp.NULL;
         stompConnection.sendFrame(frame);
 
         frame = stompConnection.receiveFrame();
@@ -395,7 +395,7 @@ public class StompTest extends CombinationTestSupport {
 
             StompConnection sender = new StompConnection();
             sender.open(createSocket(connectUri));
-            String frame = "CONNECT\n" + "login: system\n" + "passcode: manager\n\n" + Stomp.NULL;
+            String frame = "CONNECT\n" + "login:system\n" + "passcode:manager\n\n" + Stomp.NULL;
             sender.sendFrame(frame);
 
             frame = sender.receiveFrame();
@@ -411,7 +411,7 @@ public class StompTest extends CombinationTestSupport {
             StompConnection receiver = new StompConnection();
             receiver.open(createSocket(connectUri));
 
-            frame = "CONNECT\n" + "login: system\n" + "passcode: manager\n\n" + Stomp.NULL;
+            frame = "CONNECT\n" + "login:system\n" + "passcode:manager\n\n" + Stomp.NULL;
             receiver.sendFrame(frame);
 
             frame = receiver.receiveFrame();
@@ -439,7 +439,7 @@ public class StompTest extends CombinationTestSupport {
 
     public void testSubscribeWithAutoAck() throws Exception {
 
-        String frame = "CONNECT\n" + "login: system\n" + "passcode: manager\n\n" + Stomp.NULL;
+        String frame = "CONNECT\n" + "login:system\n" + "passcode:manager\n\n" + Stomp.NULL;
         stompConnection.sendFrame(frame);
 
         frame = stompConnection.receiveFrame();
@@ -459,7 +459,7 @@ public class StompTest extends CombinationTestSupport {
 
     public void testSubscribeWithAutoAckAndBytesMessage() throws Exception {
 
-        String frame = "CONNECT\n" + "login: system\n" + "passcode: manager\n\n" + Stomp.NULL;
+        String frame = "CONNECT\n" + "login:system\n" + "passcode:manager\n\n" + Stomp.NULL;
         stompConnection.sendFrame(frame);
 
         frame = stompConnection.receiveFrame();
@@ -488,7 +488,7 @@ public class StompTest extends CombinationTestSupport {
 
     public void testBytesMessageWithNulls() throws Exception {
 
-        String frame = "CONNECT\n" + "login: system\n" + "passcode: manager\n\n" + Stomp.NULL;
+        String frame = "CONNECT\n" + "login:system\n" + "passcode:manager\n\n" + Stomp.NULL;
         stompConnection.sendFrame(frame);
 
         frame = stompConnection.receiveFrame();
@@ -516,7 +516,7 @@ public class StompTest extends CombinationTestSupport {
 
         final int MSG_COUNT = 50;
 
-        String frame = "CONNECT\n" + "login: system\n" + "passcode: manager\n\n" + Stomp.NULL;
+        String frame = "CONNECT\n" + "login:system\n" + "passcode:manager\n\n" + Stomp.NULL;
         stompConnection.sendFrame(frame);
 
         frame = stompConnection.receiveFrame();
@@ -546,7 +546,7 @@ public class StompTest extends CombinationTestSupport {
 
     public void testSubscribeWithMessageSentWithProperties() throws Exception {
 
-        String frame = "CONNECT\n" + "login: system\n" + "passcode: manager\n\n" + Stomp.NULL;
+        String frame = "CONNECT\n" + "login:system\n" + "passcode:manager\n\n" + Stomp.NULL;
         stompConnection.sendFrame(frame);
 
         frame = stompConnection.receiveFrame();
@@ -579,7 +579,7 @@ public class StompTest extends CombinationTestSupport {
         int ctr = 10;
         String[] data = new String[ctr];
 
-        String frame = "CONNECT\n" + "login: system\n" + "passcode: manager\n\n" + Stomp.NULL;
+        String frame = "CONNECT\n" + "login:system\n" + "passcode:manager\n\n" + Stomp.NULL;
         stompConnection.sendFrame(frame);
 
         frame = stompConnection.receiveFrame();
@@ -617,7 +617,7 @@ public class StompTest extends CombinationTestSupport {
 
     public void testSubscribeWithAutoAckAndSelector() throws Exception {
 
-        String frame = "CONNECT\n" + "login: system\n" + "passcode: manager\n\n" + Stomp.NULL;
+        String frame = "CONNECT\n" + "login:system\n" + "passcode:manager\n\n" + Stomp.NULL;
         stompConnection.sendFrame(frame);
 
         frame = stompConnection.receiveFrame();
@@ -639,7 +639,7 @@ public class StompTest extends CombinationTestSupport {
 
     public void testSubscribeWithAutoAckAndNumericSelector() throws Exception {
 
-        String frame = "CONNECT\n" + "login: system\n" + "passcode: manager\n\n" + Stomp.NULL;
+        String frame = "CONNECT\n" + "login:system\n" + "passcode:manager\n\n" + Stomp.NULL;
         stompConnection.sendFrame(frame);
 
         frame = stompConnection.receiveFrame();
@@ -666,7 +666,7 @@ public class StompTest extends CombinationTestSupport {
 
     public void testSubscribeWithAutoAckAndBooleanSelector() throws Exception {
 
-        String frame = "CONNECT\n" + "login: system\n" + "passcode: manager\n\n" + Stomp.NULL;
+        String frame = "CONNECT\n" + "login:system\n" + "passcode:manager\n\n" + Stomp.NULL;
         stompConnection.sendFrame(frame);
 
         frame = stompConnection.receiveFrame();
@@ -693,7 +693,7 @@ public class StompTest extends CombinationTestSupport {
 
     public void testSubscribeWithAutoAckAnFloatSelector() throws Exception {
 
-        String frame = "CONNECT\n" + "login: system\n" + "passcode: manager\n\n" + Stomp.NULL;
+        String frame = "CONNECT\n" + "login:system\n" + "passcode:manager\n\n" + Stomp.NULL;
         stompConnection.sendFrame(frame);
 
         frame = stompConnection.receiveFrame();
@@ -720,7 +720,7 @@ public class StompTest extends CombinationTestSupport {
 
     public void testSubscribeWithClientAck() throws Exception {
 
-        String frame = "CONNECT\n" + "login: system\n" + "passcode: manager\n\n" + Stomp.NULL;
+        String frame = "CONNECT\n" + "login:system\n" + "passcode:manager\n\n" + Stomp.NULL;
         stompConnection.sendFrame(frame);
 
         frame = stompConnection.receiveFrame();
@@ -744,7 +744,7 @@ public class StompTest extends CombinationTestSupport {
 
     public void testSubscribeWithClientAckedAndContentLength() throws Exception {
 
-        String frame = "CONNECT\n" + "login: system\n" + "passcode: manager\n\n" + Stomp.NULL;
+        String frame = "CONNECT\n" + "login:system\n" + "passcode:manager\n\n" + Stomp.NULL;
         stompConnection.sendFrame(frame);
 
         frame = stompConnection.receiveFrame();
@@ -788,7 +788,7 @@ public class StompTest extends CombinationTestSupport {
 
     public void testUnsubscribe() throws Exception {
 
-        String frame = "CONNECT\n" + "login: system\n" + "passcode: manager\n\n" + Stomp.NULL;
+        String frame = "CONNECT\n" + "login:system\n" + "passcode:manager\n\n" + Stomp.NULL;
         stompConnection.sendFrame(frame);
         frame = stompConnection.receiveFrame();
         assertTrue(frame.startsWith("CONNECTED"));
@@ -824,7 +824,7 @@ public class StompTest extends CombinationTestSupport {
     public void testTransactionCommit() throws Exception {
         MessageConsumer consumer = session.createConsumer(queue);
 
-        String frame = "CONNECT\n" + "login: system\n" + "passcode: manager\n\n" + Stomp.NULL;
+        String frame = "CONNECT\n" + "login:system\n" + "passcode:manager\n\n" + Stomp.NULL;
         stompConnection.sendFrame(frame);
 
         String f = stompConnection.receiveFrame();
@@ -846,7 +846,7 @@ public class StompTest extends CombinationTestSupport {
     public void testTransactionRollback() throws Exception {
         MessageConsumer consumer = session.createConsumer(queue);
 
-        String frame = "CONNECT\n" + "login: system\n" + "passcode: manager\n\n" + Stomp.NULL;
+        String frame = "CONNECT\n" + "login:system\n" + "passcode:manager\n\n" + Stomp.NULL;
         stompConnection.sendFrame(frame);
 
         String f = stompConnection.receiveFrame();
@@ -879,7 +879,7 @@ public class StompTest extends CombinationTestSupport {
 
     public void testDisconnectedClientsAreRemovedFromTheBroker() throws Exception {
         assertClients(1);
-        String frame = "CONNECT\n" + "login: system\n" + "passcode: manager\n\n" + Stomp.NULL;
+        String frame = "CONNECT\n" + "login:system\n" + "passcode:manager\n\n" + Stomp.NULL;
 
         stompConnection.sendFrame(frame);
 
@@ -892,7 +892,7 @@ public class StompTest extends CombinationTestSupport {
     }
 
     public void testConnectNotAuthenticatedWrongUser() throws Exception {
-        String frame = "CONNECT\n" + "login: dejanb\n" + "passcode: manager\n\n" + Stomp.NULL;
+        String frame = "CONNECT\n" + "login: dejanb\n" + "passcode:manager\n\n" + Stomp.NULL;
         stompConnection.sendFrame(frame);
 
         String f = stompConnection.receiveFrame();
@@ -903,7 +903,7 @@ public class StompTest extends CombinationTestSupport {
 
     public void testConnectNotAuthenticatedWrongPassword() throws Exception {
 
-        String frame = "CONNECT\n" + "login: system\n" + "passcode: dejanb\n\n" + Stomp.NULL;
+        String frame = "CONNECT\n" + "login:system\n" + "passcode: dejanb\n\n" + Stomp.NULL;
         stompConnection.sendFrame(frame);
 
         String f = stompConnection.receiveFrame();
@@ -914,7 +914,7 @@ public class StompTest extends CombinationTestSupport {
 
     public void testSendNotAuthorized() throws Exception {
 
-        String frame = "CONNECT\n" + "login: guest\n" + "passcode: password\n\n" + Stomp.NULL;
+        String frame = "CONNECT\n" + "login:guest\n" + "passcode:password\n\n" + Stomp.NULL;
         stompConnection.sendFrame(frame);
 
         frame = stompConnection.receiveFrame();
@@ -929,7 +929,7 @@ public class StompTest extends CombinationTestSupport {
 
     public void testSubscribeNotAuthorized() throws Exception {
 
-        String frame = "CONNECT\n" + "login: guest\n" + "passcode: password\n\n" + Stomp.NULL;
+        String frame = "CONNECT\n" + "login:guest\n" + "passcode:password\n\n" + Stomp.NULL;
         stompConnection.sendFrame(frame);
 
         frame = stompConnection.receiveFrame();
@@ -946,7 +946,7 @@ public class StompTest extends CombinationTestSupport {
     public void testTransformationUnknownTranslator() throws Exception {
         MessageConsumer consumer = session.createConsumer(queue);
 
-        String frame = "CONNECT\n" + "login: system\n" + "passcode: manager\n\n" + Stomp.NULL;
+        String frame = "CONNECT\n" + "login:system\n" + "passcode:manager\n\n" + Stomp.NULL;
         stompConnection.sendFrame(frame);
 
         frame = stompConnection.receiveFrame();
@@ -964,7 +964,7 @@ public class StompTest extends CombinationTestSupport {
     public void testTransformationFailed() throws Exception {
         MessageConsumer consumer = session.createConsumer(queue);
 
-        String frame = "CONNECT\n" + "login: system\n" + "passcode: manager\n\n" + Stomp.NULL;
+        String frame = "CONNECT\n" + "login:system\n" + "passcode:manager\n\n" + Stomp.NULL;
         stompConnection.sendFrame(frame);
 
         frame = stompConnection.receiveFrame();
@@ -983,7 +983,7 @@ public class StompTest extends CombinationTestSupport {
     public void testTransformationSendXMLObject() throws Exception {
         MessageConsumer consumer = session.createConsumer(queue);
 
-        String frame = "CONNECT\n" + "login: system\n" + "passcode: manager\n\n" + Stomp.NULL;
+        String frame = "CONNECT\n" + "login:system\n" + "passcode:manager\n\n" + Stomp.NULL;
         stompConnection.sendFrame(frame);
 
         frame = stompConnection.receiveFrame();
@@ -1002,7 +1002,7 @@ public class StompTest extends CombinationTestSupport {
     public void testTransformationSendJSONObject() throws Exception {
         MessageConsumer consumer = session.createConsumer(queue);
 
-        String frame = "CONNECT\n" + "login: system\n" + "passcode: manager\n\n" + Stomp.NULL;
+        String frame = "CONNECT\n" + "login:system\n" + "passcode:manager\n\n" + Stomp.NULL;
         stompConnection.sendFrame(frame);
 
         frame = stompConnection.receiveFrame();
@@ -1024,7 +1024,7 @@ public class StompTest extends CombinationTestSupport {
         ObjectMessage message = session.createObjectMessage(new SamplePojo("Dejan", "Belgrade"));
         producer.send(message);
 
-        String frame = "CONNECT\n" + "login: system\n" + "passcode: manager\n\n" + Stomp.NULL;
+        String frame = "CONNECT\n" + "login:system\n" + "passcode:manager\n\n" + Stomp.NULL;
         stompConnection.sendFrame(frame);
 
         frame = stompConnection.receiveFrame();
@@ -1046,7 +1046,7 @@ public class StompTest extends CombinationTestSupport {
         ObjectMessage message = session.createObjectMessage(new SamplePojo("Dejan", "Belgrade"));
         producer.send(message);
 
-        String frame = "CONNECT\n" + "login: system\n" + "passcode: manager\n\n" + Stomp.NULL;
+        String frame = "CONNECT\n" + "login:system\n" + "passcode:manager\n\n" + Stomp.NULL;
         stompConnection.sendFrame(frame);
 
         frame = stompConnection.receiveFrame();
@@ -1069,7 +1069,7 @@ public class StompTest extends CombinationTestSupport {
         ObjectMessage message = session.createObjectMessage(new SamplePojo("Dejan", "Belgrade"));
         producer.send(message);
 
-        String frame = "CONNECT\n" + "login: system\n" + "passcode: manager\n\n" + Stomp.NULL;
+        String frame = "CONNECT\n" + "login:system\n" + "passcode:manager\n\n" + Stomp.NULL;
         stompConnection.sendFrame(frame);
 
         frame = stompConnection.receiveFrame();
@@ -1092,7 +1092,7 @@ public class StompTest extends CombinationTestSupport {
         ObjectMessage message = session.createObjectMessage(new SamplePojo("Dejan", "Belgrade"));
         producer.send(message);
 
-        String frame = "CONNECT\n" + "login: system\n" + "passcode: manager\n\n" + Stomp.NULL;
+        String frame = "CONNECT\n" + "login:system\n" + "passcode:manager\n\n" + Stomp.NULL;
         stompConnection.sendFrame(frame);
 
         frame = stompConnection.receiveFrame();
@@ -1119,7 +1119,7 @@ public class StompTest extends CombinationTestSupport {
         mapMessage.setString("city", "Belgrade");
         producer.send(mapMessage);
 
-        String frame = "CONNECT\n" + "login: system\n" + "passcode: manager\n\n" + Stomp.NULL;
+        String frame = "CONNECT\n" + "login:system\n" + "passcode:manager\n\n" + Stomp.NULL;
         stompConnection.sendFrame(frame);
 
         frame = stompConnection.receiveFrame();
@@ -1150,7 +1150,7 @@ public class StompTest extends CombinationTestSupport {
         mapMessage.setString("city", "Belgrade");
         producer.send(mapMessage);
 
-        String frame = "CONNECT\n" + "login: system\n" + "passcode: manager\n\n" + Stomp.NULL;
+        String frame = "CONNECT\n" + "login:system\n" + "passcode:manager\n\n" + Stomp.NULL;
         stompConnection.sendFrame(frame);
 
         frame = stompConnection.receiveFrame();
@@ -1173,7 +1173,7 @@ public class StompTest extends CombinationTestSupport {
 
     public void testTransformationSendAndReceiveXmlMap() throws Exception {
 
-        String frame = "CONNECT\n" + "login: system\n" + "passcode: manager\n\n" + Stomp.NULL;
+        String frame = "CONNECT\n" + "login:system\n" + "passcode:manager\n\n" + Stomp.NULL;
         stompConnection.sendFrame(frame);
 
         frame = stompConnection.receiveFrame();
@@ -1195,7 +1195,7 @@ public class StompTest extends CombinationTestSupport {
 
     public void testTransformationSendAndReceiveJsonMap() throws Exception {
 
-        String frame = "CONNECT\n" + "login: system\n" + "passcode: manager\n\n" + Stomp.NULL;
+        String frame = "CONNECT\n" + "login:system\n" + "passcode:manager\n\n" + Stomp.NULL;
         stompConnection.sendFrame(frame);
 
         frame = stompConnection.receiveFrame();
@@ -1222,7 +1222,7 @@ public class StompTest extends CombinationTestSupport {
         message.writeBytes(new byte[]{1, 2, 3, 4, 5});
         producer.send(message);
 
-        String frame = "CONNECT\n" + "login: system\n" + "passcode: manager\n\n" + Stomp.NULL;
+        String frame = "CONNECT\n" + "login:system\n" + "passcode:manager\n\n" + Stomp.NULL;
         stompConnection.sendFrame(frame);
 
         frame = stompConnection.receiveFrame();
@@ -1251,7 +1251,7 @@ public class StompTest extends CombinationTestSupport {
         message.setStringProperty("transformation",	Stomp.Transformations.JMS_OBJECT_XML.toString());
         producer.send(message);
 
-        String frame = "CONNECT\n" + "login: system\n" + "passcode: manager\n\n" + Stomp.NULL;
+        String frame = "CONNECT\n" + "login:system\n" + "passcode:manager\n\n" + Stomp.NULL;
         stompConnection.sendFrame(frame);
 
         frame = stompConnection.receiveFrame();
@@ -1274,7 +1274,7 @@ public class StompTest extends CombinationTestSupport {
         message.setStringProperty("transformation", Stomp.Transformations.JMS_OBJECT_XML.toString());
         producer.send(message);
 
-        String frame = "CONNECT\n" + "login: system\n" + "passcode: manager\n\n" + Stomp.NULL;
+        String frame = "CONNECT\n" + "login:system\n" + "passcode:manager\n\n" + Stomp.NULL;
         stompConnection.sendFrame(frame);
 
         frame = stompConnection.receiveFrame();
@@ -1294,7 +1294,7 @@ public class StompTest extends CombinationTestSupport {
     public void testTransformationSendXMLMap() throws Exception {
         MessageConsumer consumer = session.createConsumer(queue);
 
-        String frame = "CONNECT\n" + "login: system\n" + "passcode: manager\n\n" + Stomp.NULL;
+        String frame = "CONNECT\n" + "login:system\n" + "passcode:manager\n\n" + Stomp.NULL;
         stompConnection.sendFrame(frame);
 
         frame = stompConnection.receiveFrame();
@@ -1312,7 +1312,7 @@ public class StompTest extends CombinationTestSupport {
     public void testTransformationSendJSONMap() throws Exception {
         MessageConsumer consumer = session.createConsumer(queue);
 
-        String frame = "CONNECT\n" + "login: system\n" + "passcode: manager\n\n" + Stomp.NULL;
+        String frame = "CONNECT\n" + "login:system\n" + "passcode:manager\n\n" + Stomp.NULL;
         stompConnection.sendFrame(frame);
 
         frame = stompConnection.receiveFrame();
@@ -1335,7 +1335,7 @@ public class StompTest extends CombinationTestSupport {
         message.setString("city", "Belgrade");
         producer.send(message);
 
-        String frame = "CONNECT\n" + "login: system\n" + "passcode: manager\n\n" + Stomp.NULL;
+        String frame = "CONNECT\n" + "login:system\n" + "passcode:manager\n\n" + Stomp.NULL;
         stompConnection.sendFrame(frame);
 
         frame = stompConnection.receiveFrame();
@@ -1360,7 +1360,7 @@ public class StompTest extends CombinationTestSupport {
         message.setString("city", "Belgrade");
         producer.send(message);
 
-        String frame = "CONNECT\n" + "login: system\n" + "passcode: manager\n\n" + Stomp.NULL;
+        String frame = "CONNECT\n" + "login:system\n" + "passcode:manager\n\n" + Stomp.NULL;
         stompConnection.sendFrame(frame);
 
         frame = stompConnection.receiveFrame();
@@ -1386,7 +1386,7 @@ public class StompTest extends CombinationTestSupport {
         BrokerViewMBean view = (BrokerViewMBean)broker.getManagementContext().newProxyInstance(brokerName, BrokerViewMBean.class, true);
 
         // connect
-        String frame = "CONNECT\n" + "login: system\n" + "passcode: manager\nclient-id:test\n\n" + Stomp.NULL;
+        String frame = "CONNECT\n" + "login:system\n" + "passcode:manager\nclient-id:test\n\n" + Stomp.NULL;
         stompConnection.sendFrame(frame);
 
         frame = stompConnection.receiveFrame();
@@ -1412,7 +1412,7 @@ public class StompTest extends CombinationTestSupport {
         //reconnect
         stompConnect();
         // connect
-        frame = "CONNECT\n" + "login: system\n" + "passcode: manager\nclient-id:test\n\n" + Stomp.NULL;
+        frame = "CONNECT\n" + "login:system\n" + "passcode:manager\nclient-id:test\n\n" + Stomp.NULL;
         stompConnection.sendFrame(frame);
         frame = stompConnection.receiveFrame();
         assertTrue(frame.startsWith("CONNECTED"));
@@ -1530,7 +1530,7 @@ public class StompTest extends CombinationTestSupport {
 
     public void testTempDestination() throws Exception {
 
-        String frame = "CONNECT\n" + "login: system\n" + "passcode: manager\n\n" + Stomp.NULL;
+        String frame = "CONNECT\n" + "login:system\n" + "passcode:manager\n\n" + Stomp.NULL;
         stompConnection.sendFrame(frame);
 
         frame = stompConnection.receiveFrame();
@@ -1550,7 +1550,7 @@ public class StompTest extends CombinationTestSupport {
 
         MessageConsumer consumer = session.createConsumer(queue);
 
-        String frame = "CONNECT\n" + "login: system\n" + "passcode: manager\n\n" + Stomp.NULL;
+        String frame = "CONNECT\n" + "login:system\n" + "passcode:manager\n\n" + Stomp.NULL;
         stompConnection.sendFrame(frame);
 
         frame = stompConnection.receiveFrame();
@@ -1567,7 +1567,7 @@ public class StompTest extends CombinationTestSupport {
 
     public void testJMSXUserIDIsSetInStompMessage() throws Exception {
 
-        String frame = "CONNECT\n" + "login: system\n" + "passcode: manager\n\n" + Stomp.NULL;
+        String frame = "CONNECT\n" + "login:system\n" + "passcode:manager\n\n" + Stomp.NULL;
         stompConnection.sendFrame(frame);
 
         frame = stompConnection.receiveFrame();
@@ -1672,7 +1672,7 @@ public class StompTest extends CombinationTestSupport {
 
     public void testReceiptNewQueue() throws Exception {
 
-        String frame = "CONNECT\n" + "login: system\n" + "passcode: manager\n\n" + Stomp.NULL;
+        String frame = "CONNECT\n" + "login:system\n" + "passcode:manager\n\n" + Stomp.NULL;
         stompConnection.sendFrame(frame);
 
         frame = stompConnection.receiveFrame();
@@ -1707,7 +1707,7 @@ public class StompTest extends CombinationTestSupport {
     }
 
     public void testTransactedClientAckBrokerStats() throws Exception {
-        String frame = "CONNECT\n" + "login: system\n" + "passcode: manager\n\n" + Stomp.NULL;
+        String frame = "CONNECT\n" + "login:system\n" + "passcode:manager\n\n" + Stomp.NULL;
         stompConnection.sendFrame(frame);
 
         frame = stompConnection.receiveFrame();
@@ -1748,7 +1748,7 @@ public class StompTest extends CombinationTestSupport {
 
     public void testReplytoModification() throws Exception {
         String replyto = "some destination";
-        String frame = "CONNECT\n" + "login: system\n" + "passcode: manager\n\n" + Stomp.NULL;
+        String frame = "CONNECT\n" + "login:system\n" + "passcode:manager\n\n" + Stomp.NULL;
         stompConnection.sendFrame(frame);
 
         frame = stompConnection.receiveFrame();
@@ -1769,7 +1769,7 @@ public class StompTest extends CombinationTestSupport {
 
     public void testReplyToDestinationNaming() throws Exception {
 
-        String frame = "CONNECT\n" + "login: system\n" + "passcode: manager\n\n" + Stomp.NULL;
+        String frame = "CONNECT\n" + "login:system\n" + "passcode:manager\n\n" + Stomp.NULL;
         stompConnection.sendFrame(frame);
 
         frame = stompConnection.receiveFrame();
@@ -1780,7 +1780,7 @@ public class StompTest extends CombinationTestSupport {
     }
 
     public void testSendNullBodyTextMessage() throws Exception {
-        String frame = "CONNECT\n" + "login: system\n" + "passcode: manager\n\n" + Stomp.NULL;
+        String frame = "CONNECT\n" + "login:system\n" + "passcode:manager\n\n" + Stomp.NULL;
         stompConnection.sendFrame(frame);
 
         frame = stompConnection.receiveFrame();
@@ -1841,7 +1841,7 @@ public class StompTest extends CombinationTestSupport {
 
     public void testReplyToAcrossConnections() throws Exception {
 
-        String frame = "CONNECT\n" + "login: system\n" + "passcode: manager\n\n" + Stomp.NULL;
+        String frame = "CONNECT\n" + "login:system\n" + "passcode:manager\n\n" + Stomp.NULL;
         stompConnection.sendFrame(frame);
 
         frame = stompConnection.receiveFrame();
@@ -1856,7 +1856,7 @@ public class StompTest extends CombinationTestSupport {
 
         StompConnection responder = new StompConnection();
         stompConnect(responder);
-        String frame = "CONNECT\n" + "login: system\n" + "passcode: manager\n\n" + Stomp.NULL;
+        String frame = "CONNECT\n" + "login:system\n" + "passcode:manager\n\n" + Stomp.NULL;
         responder.sendFrame(frame);
 
         frame = responder.receiveFrame();
@@ -1950,7 +1950,7 @@ public class StompTest extends CombinationTestSupport {
     private void doTestConnectionLeak() throws Exception {
         stompConnect();
 
-        String frame = "CONNECT\n" + "login: system\n" + "passcode: manager\n\n" + Stomp.NULL;
+        String frame = "CONNECT\n" + "login:system\n" + "passcode:manager\n\n" + Stomp.NULL;
         stompConnection.sendFrame(frame);
 
         frame = stompConnection.receiveFrame();
diff --git a/activemq-core/src/test/java/org/apache/activemq/usecases/ThreeBrokerStompTemporaryQueueTest.java b/activemq-core/src/test/java/org/apache/activemq/usecases/ThreeBrokerStompTemporaryQueueTest.java
index 89a76f3e6..cd8d651d6 100644
--- a/activemq-core/src/test/java/org/apache/activemq/usecases/ThreeBrokerStompTemporaryQueueTest.java
+++ b/activemq-core/src/test/java/org/apache/activemq/usecases/ThreeBrokerStompTemporaryQueueTest.java
@@ -70,7 +70,7 @@ public class ThreeBrokerStompTemporaryQueueTest extends JmsMultipleBrokersTestSu
         stompConnection = new StompConnection();
         stompConnection.open("localhost", 61614);
         // Creating a temp queue
-        stompConnection.sendFrame("CONNECT\n" + "login: system\n" + "passcode: manager\n\n" + Stomp.NULL);
+        stompConnection.sendFrame("CONNECT\n" + "login:system\n" + "passcode:manager\n\n" + Stomp.NULL);
 
         StompFrame frame = stompConnection.receive();
         assertTrue(frame.toString().startsWith("CONNECTED"));
@@ -98,29 +98,29 @@ public class ThreeBrokerStompTemporaryQueueTest extends JmsMultipleBrokersTestSu
         assertEquals("Advisory topic should be present", 1, advisoryTopicsForTempQueues);
 
         stompConnection.disconnect();
-        
+
         Thread.sleep(1000);
-        
+
         advisoryTopicsForTempQueues = countTopicsByName("BrokerA", "ActiveMQ.Advisory.Consumer.Queue.ID");
         assertEquals("Advisory topic should have been deleted", 0, advisoryTopicsForTempQueues);
         advisoryTopicsForTempQueues = countTopicsByName("BrokerB", "ActiveMQ.Advisory.Consumer.Queue.ID");
         assertEquals("Advisory topic should have been deleted", 0, advisoryTopicsForTempQueues);
         advisoryTopicsForTempQueues = countTopicsByName("BrokerC", "ActiveMQ.Advisory.Consumer.Queue.ID");
-        assertEquals("Advisory topic should have been deleted", 0, advisoryTopicsForTempQueues);  
-        
+        assertEquals("Advisory topic should have been deleted", 0, advisoryTopicsForTempQueues);
+
 
         LOG.info("Restarting brokerA");
         BrokerItem brokerItem = brokers.remove("BrokerA");
         if (brokerItem != null) {
             brokerItem.destroy();
         }
-        
+
         BrokerService restartedBroker = createAndConfigureBroker(new URI("broker:(tcp://localhost:61616,stomp://localhost:61613)/BrokerA"));
         bridgeAndConfigureBrokers("BrokerA", "BrokerB");
         bridgeAndConfigureBrokers("BrokerA", "BrokerC");
         restartedBroker.start();
         waitForBridgeFormation();
-        
+
         Thread.sleep(3000);
 
         assertEquals("Destination", 0, brokers.get("BrokerA").broker.getAdminView().getTemporaryQueues().length);
