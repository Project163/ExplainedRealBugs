diff --git a/activemq-core/src/main/java/org/apache/activemq/util/BitArray.java b/activemq-core/src/main/java/org/apache/activemq/util/BitArray.java
index 6c28f31c7..daba9c897 100755
--- a/activemq-core/src/main/java/org/apache/activemq/util/BitArray.java
+++ b/activemq-core/src/main/java/org/apache/activemq/util/BitArray.java
@@ -134,7 +134,7 @@ public class BitArray implements Serializable {
     public void writeToStream(DataOutput dataOut) throws IOException {
         dataOut.writeByte(length);
         if (length <= BYTE_SIZE) {
-            dataOut.writeByte((int)bits);
+            dataOut.writeByte((byte)bits);
         } else if (length <= SHORT_SIZE) {
             dataOut.writeShort((short)bits);
         } else if (length <= INT_SIZE) {
