diff --git a/activemq-broker/src/main/java/org/apache/activemq/broker/TransportConnection.java b/activemq-broker/src/main/java/org/apache/activemq/broker/TransportConnection.java
index 8460c540b..a7a06dbcf 100755
--- a/activemq-broker/src/main/java/org/apache/activemq/broker/TransportConnection.java
+++ b/activemq-broker/src/main/java/org/apache/activemq/broker/TransportConnection.java
@@ -195,7 +195,7 @@ public class TransportConnection implements Connection, Task, CommandVisitor {
                 }
             }
         }
-        if (!stopping.get()) {
+        if (!stopping.get() && !pendingStop) {
             transportException.set(e);
             if (TRANSPORTLOG.isDebugEnabled()) {
                 TRANSPORTLOG.debug(this + " failed: " + e, e);
diff --git a/activemq-unit-tests/src/test/java/org/apache/activemq/bugs/AMQ2902Test.java b/activemq-unit-tests/src/test/java/org/apache/activemq/bugs/AMQ2902Test.java
index eb497d1e4..3c38186f8 100644
--- a/activemq-unit-tests/src/test/java/org/apache/activemq/bugs/AMQ2902Test.java
+++ b/activemq-unit-tests/src/test/java/org/apache/activemq/bugs/AMQ2902Test.java
@@ -53,6 +53,7 @@ public class AMQ2902Test extends TestCase {
 
                 gotExceptionInLog.set(Boolean.TRUE);
                 LOG.error("got event: " + event + ", ex:" + event.getThrowableInformation().getThrowable(), event.getThrowableInformation().getThrowable());
+                LOG.error("Event source: ", new Throwable("Here"));
             }
             if( !"Loaded the Bouncy Castle security provider.".equals(event.getMessage()) ) {
                 if (event.getMDC("activemq.broker") == null) {
