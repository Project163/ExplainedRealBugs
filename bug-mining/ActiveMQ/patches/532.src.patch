diff --git a/activemq-core/pom.xml b/activemq-core/pom.xml
index d2ebe921c..0605597bc 100755
--- a/activemq-core/pom.xml
+++ b/activemq-core/pom.xml
@@ -38,6 +38,7 @@
       org.apache.commons.pool*;resolution:=optional,
       org.apache.derby*;resolution:=optional,
       org.apache.tools.ant*;resolution:=optional,
+      org.apache.maven*;resolution:=optional,
       org.apache.xbean*;resolution:=optional,
       '=org.apache.xbean.spring.context.v2;resolution:=optional',
       org.apache.xpath*;resolution:=optional,
diff --git a/kahadb/pom.xml b/kahadb/pom.xml
index 56d844461..9782ba6ac 100755
--- a/kahadb/pom.xml
+++ b/kahadb/pom.xml
@@ -27,9 +27,19 @@
 
   <groupId>org.apache.activemq</groupId>
   <artifactId>kahadb</artifactId>
+  <packaging>bundle</packaging>
   <name>ActiveMQ :: KahaDB</name>
   <description>An Embedded Lightweight Non-Relational Database</description>
 
+  <properties>
+    <activemq.osgi.import.pkg>
+      *
+    </activemq.osgi.import.pkg>
+    <activemq.osgi.export>
+      org.apache.kahadb*;version=${project.version}
+    </activemq.osgi.export>
+  </properties>
+
   <dependencies>
     <dependency>
       <groupId>commons-logging</groupId>
