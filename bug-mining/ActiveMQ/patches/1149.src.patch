diff --git a/activemq-core/src/main/java/org/apache/activemq/proxy/ProxyConnection.java b/activemq-core/src/main/java/org/apache/activemq/proxy/ProxyConnection.java
index 89e1fe535..16f523004 100644
--- a/activemq-core/src/main/java/org/apache/activemq/proxy/ProxyConnection.java
+++ b/activemq-core/src/main/java/org/apache/activemq/proxy/ProxyConnection.java
@@ -21,6 +21,7 @@ import java.util.concurrent.atomic.AtomicBoolean;
 
 import org.apache.activemq.Service;
 import org.apache.activemq.command.ShutdownInfo;
+import org.apache.activemq.command.WireFormatInfo;
 import org.apache.activemq.transport.DefaultTransportListener;
 import org.apache.activemq.transport.Transport;
 import org.apache.activemq.util.IOExceptionSupport;
@@ -64,6 +65,10 @@ class ProxyConnection implements Service {
                     shuttingDown.set(true);
                     shutdown = true;
                 }
+                // skipping WireFormat infos
+                if (command.getClass() == WireFormatInfo.class) {
+                    return;
+                }
                 try {
                     remoteTransport.oneway(command);
                     if (shutdown) {
@@ -84,6 +89,10 @@ class ProxyConnection implements Service {
         this.remoteTransport.setTransportListener(new DefaultTransportListener() {
             public void onCommand(Object command) {
                 try {
+                    // skipping WireFormat infos
+                    if (command.getClass() == WireFormatInfo.class) {
+                        return;
+                    }
                     localTransport.oneway(command);
                 } catch (IOException error) {
                     onFailure(error);
diff --git a/activemq-core/src/test/java/org/apache/activemq/proxy/ProxyFailoverTest.java b/activemq-core/src/test/java/org/apache/activemq/proxy/ProxyFailoverTest.java
index be1bbd4e7..d62759326 100644
--- a/activemq-core/src/test/java/org/apache/activemq/proxy/ProxyFailoverTest.java
+++ b/activemq-core/src/test/java/org/apache/activemq/proxy/ProxyFailoverTest.java
@@ -68,9 +68,8 @@ public class ProxyFailoverTest extends TestCase {
         producer.start();
 
 
-        ActiveMQConnectionFactory consumerFactory = new ActiveMQConnectionFactory("tcp://localhost:51618?wireFormat.cacheEnabled=false");
-        // if used with cached enabled it will fail
-        //ActiveMQConnectionFactory consumerFactory = new ActiveMQConnectionFactory("tcp://localhost:51618");
+        //ActiveMQConnectionFactory consumerFactory = new ActiveMQConnectionFactory("tcp://localhost:51618?wireFormat.cacheEnabled=false");
+        ActiveMQConnectionFactory consumerFactory = new ActiveMQConnectionFactory("tcp://localhost:51618");
         Connection consumerConnection = consumerFactory.createConnection();
         consumerConnection.start();
         Session consumerSession = consumerConnection.createSession(false, Session.AUTO_ACKNOWLEDGE);
