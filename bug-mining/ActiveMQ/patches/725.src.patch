diff --git a/activemq-core/src/main/java/org/apache/activemq/store/jdbc/adapter/DefaultJDBCAdapter.java b/activemq-core/src/main/java/org/apache/activemq/store/jdbc/adapter/DefaultJDBCAdapter.java
index 8df17e716..8f9f11966 100755
--- a/activemq-core/src/main/java/org/apache/activemq/store/jdbc/adapter/DefaultJDBCAdapter.java
+++ b/activemq-core/src/main/java/org/apache/activemq/store/jdbc/adapter/DefaultJDBCAdapter.java
@@ -103,8 +103,8 @@ public class DefaultJDBCAdapter implements JDBCAdapter {
                         JDBCPersistenceAdapter.log("Failure details: ", e);
                     }
                 }
+                c.getConnection().commit();
             }
-            c.getConnection().commit();
         } finally {
             try {
                 s.close();
