diff --git a/activemq-client/src/main/java/org/apache/activemq/filter/DestinationMapNode.java b/activemq-client/src/main/java/org/apache/activemq/filter/DestinationMapNode.java
index 8a9ea8567..e7628a849 100644
--- a/activemq-client/src/main/java/org/apache/activemq/filter/DestinationMapNode.java
+++ b/activemq-client/src/main/java/org/apache/activemq/filter/DestinationMapNode.java
@@ -235,7 +235,7 @@ public class DestinationMapNode implements DestinationNode {
         int size = paths.length;
         for (int i = startIndex; i < size && node != null; i++) {
             String path = paths[i];
-            if (deep && path.equals(ANY_DESCENDENT)) {
+            if (deep && path != null && path.equals(ANY_DESCENDENT)) {
                 answer.addAll(node.getDesendentValues());
                 couldMatchAny = false;
                 break;
