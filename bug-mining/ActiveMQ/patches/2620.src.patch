diff --git a/activemq-web/src/main/java/org/apache/activemq/web/BrokerFacadeSupport.java b/activemq-web/src/main/java/org/apache/activemq/web/BrokerFacadeSupport.java
index fedc6f239..07ef9abfe 100644
--- a/activemq-web/src/main/java/org/apache/activemq/web/BrokerFacadeSupport.java
+++ b/activemq-web/src/main/java/org/apache/activemq/web/BrokerFacadeSupport.java
@@ -42,7 +42,7 @@ import org.apache.activemq.broker.jmx.ProducerViewMBean;
 import org.apache.activemq.broker.jmx.QueueViewMBean;
 import org.apache.activemq.broker.jmx.SubscriptionViewMBean;
 import org.apache.activemq.broker.jmx.TopicViewMBean;
-import org.apache.commons.lang.exception.ExceptionUtils;
+import org.apache.activemq.web.util.ExceptionUtils;
 import org.springframework.util.StringUtils;
 
 /**
@@ -135,8 +135,7 @@ public abstract class BrokerFacadeSupport implements BrokerFacade {
                     return destinationViewMBean;
                 }
             } catch (Exception ex) {
-                Class<InstanceNotFoundException> infe = InstanceNotFoundException.class;
-                if (!infe.isInstance(ex) && !infe.isInstance(ExceptionUtils.getRootCause(ex))) {
+                if (!ExceptionUtils.isRootCause(ex, InstanceNotFoundException.class)) {
                     // Only throw if not an expected InstanceNotFoundException exception
                     throw ex;
                 }
diff --git a/activemq-web/src/main/java/org/apache/activemq/web/util/ExceptionUtils.java b/activemq-web/src/main/java/org/apache/activemq/web/util/ExceptionUtils.java
new file mode 100644
index 000000000..cd9b6bb3e
--- /dev/null
+++ b/activemq-web/src/main/java/org/apache/activemq/web/util/ExceptionUtils.java
@@ -0,0 +1,54 @@
+/**
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements.  See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache License, Version 2.0
+ * (the "License"); you may not use this file except in compliance with
+ * the License.  You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+package org.apache.activemq.web.util;
+
+public class ExceptionUtils {
+
+    /**
+     * Finds the root cause of an exception.  Will return the original
+     * exception if the first getCause returns null.
+     *
+     * @param e
+     * @return
+     */
+    public static Throwable getRootCause(final Throwable e) {
+        Throwable result = e;
+
+        //loop over to find the root cause while guarding against cycles
+        while(result != null && result.getCause() != null
+                && e != result.getCause() && result != result.getCause() ) {
+            result = result.getCause();
+        }
+
+        return result;
+    }
+
+    /**
+     * Returns true if the passed in class is the root cause of the exception
+     *
+     * @param e
+     * @param clazz
+     * @return
+     */
+    public static boolean isRootCause(final Throwable e, final Class<?> clazz) {
+        if (clazz == null || e == null) {
+            return false;
+        }
+        return clazz.isInstance(getRootCause(e));
+    }
+
+}
