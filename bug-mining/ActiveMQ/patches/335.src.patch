diff --git a/activemq-core/src/main/java/org/apache/activemq/transport/vm/VMTransportFactory.java b/activemq-core/src/main/java/org/apache/activemq/transport/vm/VMTransportFactory.java
index 1c0a85bd2..1cefa908e 100755
--- a/activemq-core/src/main/java/org/apache/activemq/transport/vm/VMTransportFactory.java
+++ b/activemq-core/src/main/java/org/apache/activemq/transport/vm/VMTransportFactory.java
@@ -137,6 +137,7 @@ public class VMTransportFactory extends TransportFactory {
         }
 
         VMTransport vmtransport = server.connect();
+        IntrospectionSupport.setProperties(vmtransport.peer, new HashMap<String,String>(options));
         IntrospectionSupport.setProperties(vmtransport, options);
         Transport transport = vmtransport;
         if (vmtransport.isMarshal()) {
