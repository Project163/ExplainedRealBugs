diff --git a/activemq-unit-tests/src/test/java/org/apache/activemq/bugs/AMQ2149Test.java b/activemq-unit-tests/src/test/java/org/apache/activemq/bugs/AMQ2149Test.java
index d2c263510..57b99b851 100644
--- a/activemq-unit-tests/src/test/java/org/apache/activemq/bugs/AMQ2149Test.java
+++ b/activemq-unit-tests/src/test/java/org/apache/activemq/bugs/AMQ2149Test.java
@@ -87,13 +87,7 @@ public class AMQ2149Test extends AutoFailTestSupport {
         broker = new BrokerService();
         configurePersistenceAdapter(broker);
         
-        SystemUsage usage = new SystemUsage();
-        MemoryUsage memoryUsage = new MemoryUsage();
-        memoryUsage.setLimit(MESSAGE_LENGTH_BYTES * 200 * NUM_SENDERS_AND_RECEIVERS);
-        usage.setMemoryUsage(memoryUsage);
-        broker.setSystemUsage(usage);
-        
-        
+        broker.getSystemUsage().getMemoryUsage().setLimit(MESSAGE_LENGTH_BYTES * 200 * NUM_SENDERS_AND_RECEIVERS);
 
         broker.addConnector(BROKER_CONNECTOR);        
         broker.setBrokerName(getName());
@@ -105,9 +99,14 @@ public class AMQ2149Test extends AutoFailTestSupport {
     }
     
     protected void configurePersistenceAdapter(BrokerService brokerService) throws Exception {
+/*
+        https://issues.apache.org/jira/browse/AMQ-4296
+
+        a leveldb variant will fail. needs to have this test exercise all stores
         LevelDBStore persistenceFactory = new LevelDBStore();
         persistenceFactory.setDirectory(dataDirFile);
         brokerService.setPersistenceAdapter(persistenceFactory);
+*/
     }
 
     public void setUp() throws Exception {
