diff --git a/activemq-core/src/test/java/org/apache/activemq/bugs/AMQ2413Test.java b/activemq-core/src/test/java/org/apache/activemq/bugs/AMQ2413Test.java
index 35cdc112b..d32446f08 100644
--- a/activemq-core/src/test/java/org/apache/activemq/bugs/AMQ2413Test.java
+++ b/activemq-core/src/test/java/org/apache/activemq/bugs/AMQ2413Test.java
@@ -183,6 +183,7 @@ public class AMQ2413Test extends CombinationTestSupport implements MessageListen
         try {
             while (count.get() < SEND_COUNT) {
                 if (!receivedMessages.tryAcquire(HANG_THRESHOLD, TimeUnit.SECONDS)) {
+                    if (count.get() == SEND_COUNT) break;
                     throw new TimeoutException("Message not received for more than " + HANG_THRESHOLD + " seconds");
                 }
             }
