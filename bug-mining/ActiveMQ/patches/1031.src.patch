diff --git a/activemq-core/src/test/java/org/apache/activemq/usecases/TwoBrokerTopicSendReceiveUsingJavaConfigurationTest.java b/activemq-core/src/test/java/org/apache/activemq/usecases/TwoBrokerTopicSendReceiveUsingJavaConfigurationTest.java
index 86f39661f..3d3de2c85 100644
--- a/activemq-core/src/test/java/org/apache/activemq/usecases/TwoBrokerTopicSendReceiveUsingJavaConfigurationTest.java
+++ b/activemq-core/src/test/java/org/apache/activemq/usecases/TwoBrokerTopicSendReceiveUsingJavaConfigurationTest.java
@@ -31,6 +31,7 @@ public class TwoBrokerTopicSendReceiveUsingJavaConfigurationTest extends TwoBrok
     protected ActiveMQConnectionFactory createReceiverConnectionFactory() throws JMSException {
         try {
             receiveBroker = new BrokerService();
+            receiveBroker.setBrokerName("receiveBroker");
             receiveBroker.setUseJmx(false);
             receiveBroker.setPersistent(false);
             receiveBroker.addConnector("tcp://localhost:62002");
@@ -48,6 +49,7 @@ public class TwoBrokerTopicSendReceiveUsingJavaConfigurationTest extends TwoBrok
     protected ActiveMQConnectionFactory createSenderConnectionFactory() throws JMSException {
         try {
             sendBroker = new BrokerService();
+            sendBroker.setBrokerName("sendBroker");
             sendBroker.setUseJmx(false);
             sendBroker.setPersistent(false);
             sendBroker.addConnector("tcp://localhost:62001");
