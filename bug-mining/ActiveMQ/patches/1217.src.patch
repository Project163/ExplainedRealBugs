diff --git a/assembly/src/release/bin/activemq b/assembly/src/release/bin/activemq
index c159d11bc..66c6f7dc8 100755
--- a/assembly/src/release/bin/activemq
+++ b/assembly/src/release/bin/activemq
@@ -117,7 +117,9 @@ JAVACMD="auto"
 ACTIVEMQ_USER=""
 
 # Set jvm memory configuration
-ACTIVEMQ_OPTS_MEMORY="-Xms256M -Xmx256M"
+if [ -z "$ACTIVEMQ_OPTS_MEMORY" ] ; then
+    ACTIVEMQ_OPTS_MEMORY="-Xms256M -Xmx256M"
+fi
 
 if [ -z "$ACTIVEMQ_OPTS" ] ; then
     ACTIVEMQ_OPTS="$ACTIVEMQ_OPTS_MEMORY -Dorg.apache.activemq.UseDedicatedTaskRunner=true -Djava.util.logging.config.file=logging.properties"
@@ -249,7 +251,7 @@ case "`uname`" in
   CYGWIN*) OSTYPE="cygwin" ;;
   Darwin*) 
            OSTYPE="darwin"
-           if [-z "$JAVA_HOME"] && [ "$JAVACMD" = "auto" ];then
+           if [ -z "$JAVA_HOME" ] && [ "$JAVACMD" = "auto" ];then
              JAVA_HOME=/System/Library/Frameworks/JavaVM.framework/Home
            fi
            ;;
