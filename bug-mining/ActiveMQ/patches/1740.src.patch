diff --git a/activemq-broker/src/main/java/org/apache/activemq/broker/region/policy/PolicyEntry.java b/activemq-broker/src/main/java/org/apache/activemq/broker/region/policy/PolicyEntry.java
index 402591402..458d6749b 100644
--- a/activemq-broker/src/main/java/org/apache/activemq/broker/region/policy/PolicyEntry.java
+++ b/activemq-broker/src/main/java/org/apache/activemq/broker/region/policy/PolicyEntry.java
@@ -260,6 +260,10 @@ public class PolicyEntry extends DestinationMapEntry {
         
         if (prefetch == ActiveMQPrefetchPolicy.DEFAULT_QUEUE_PREFETCH){
             sub.setPrefetchSize(getQueuePrefetch());
+            if (sub.getPrefetchSize() == 0) {
+                // tell the sub so that it can issue a pull request
+                sub.updateConsumerPrefetch(0);
+            }
         }
         sub.setCursorMemoryHighWaterMark(getCursorMemoryHighWaterMark());
         sub.setUsePrefetchExtension(isUsePrefetchExtension());
diff --git a/activemq-client/src/main/java/org/apache/activemq/ActiveMQMessageConsumer.java b/activemq-client/src/main/java/org/apache/activemq/ActiveMQMessageConsumer.java
index 47a945262..50af67937 100755
--- a/activemq-client/src/main/java/org/apache/activemq/ActiveMQMessageConsumer.java
+++ b/activemq-client/src/main/java/org/apache/activemq/ActiveMQMessageConsumer.java
@@ -824,7 +824,7 @@ public class ActiveMQMessageConsumer implements MessageAvailableConsumer, StatsC
      */
     protected void sendPullCommand(long timeout) throws JMSException {
         clearDispatchList();
-        if (info.getPrefetchSize() == 0 && unconsumedMessages.isEmpty()) {
+        if (info.getCurrentPrefetchSize() == 0 && unconsumedMessages.isEmpty()) {
             MessagePull messagePull = new MessagePull();
             messagePull.configure(info);
             messagePull.setTimeout(timeout);
diff --git a/activemq-core/src/test/java/org/apache/activemq/ZeroPrefetchConsumerTest.java b/activemq-core/src/test/java/org/apache/activemq/ZeroPrefetchConsumerTest.java
index fd5f82a4f..8b39e7852 100644
--- a/activemq-core/src/test/java/org/apache/activemq/ZeroPrefetchConsumerTest.java
+++ b/activemq-core/src/test/java/org/apache/activemq/ZeroPrefetchConsumerTest.java
@@ -26,6 +26,10 @@ import javax.jms.Queue;
 import javax.jms.Session;
 import javax.jms.TextMessage;
 
+import org.apache.activemq.broker.BrokerService;
+import org.apache.activemq.broker.region.policy.PolicyEntry;
+import org.apache.activemq.broker.region.policy.PolicyMap;
+import org.apache.activemq.command.ActiveMQDestination;
 import org.apache.activemq.command.ActiveMQQueue;
 import org.apache.activemq.spring.SpringConsumer;
 import org.slf4j.Logger;
@@ -40,6 +44,7 @@ public class ZeroPrefetchConsumerTest extends EmbeddedBrokerTestSupport {
 
     protected Connection connection;
     protected Queue queue;
+    protected Queue brokerZeroQueue = new ActiveMQQueue("brokerZeroConfig");
 
     public void testCannotUseMessageListener() throws Exception {
         Session session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);
@@ -313,7 +318,31 @@ public class ZeroPrefetchConsumerTest extends EmbeddedBrokerTestSupport {
         answer = (TextMessage)consumer.receiveNoWait();
         assertNull("Should have not received a message!", answer);
     }
-    
+
+    // https://issues.apache.org/jira/browse/AMQ-4224
+    public void testBrokerZeroPrefetchConfig() throws Exception {
+        Session session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);
+
+        MessageProducer producer = session.createProducer(brokerZeroQueue);
+        producer.send(session.createTextMessage("Msg1"));
+        // now lets receive it
+        MessageConsumer consumer = session.createConsumer(brokerZeroQueue);
+
+        TextMessage answer = (TextMessage)consumer.receive(5000);
+        assertEquals("Should have received a message!", answer.getText(), "Msg1");
+    }
+
+    @Override
+    protected BrokerService createBroker() throws Exception {
+        BrokerService brokerService = super.createBroker();
+        PolicyMap policyMap = new PolicyMap();
+        PolicyEntry zeroPrefetchPolicy = new PolicyEntry();
+        zeroPrefetchPolicy.setQueuePrefetch(0);
+        policyMap.put(ActiveMQDestination.transform(brokerZeroQueue), zeroPrefetchPolicy);
+        brokerService.setDestinationPolicy(policyMap);
+        return brokerService;
+    }
+
     protected void setUp() throws Exception {
         bindAddress = "tcp://localhost:0";
         super.setUp();
