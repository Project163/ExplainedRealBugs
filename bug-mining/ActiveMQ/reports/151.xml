<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 05:32:50 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-1016] 4.1 RC1: META-INF/spring.schemas refers to building user &quot;file:/Users/chirino/&quot;</title>
                <link>https://issues.apache.org/jira/browse/AMQ-1016</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;Referring to the 4.1 RC1 posted by Hiram Chirino  Oct 06, here:&lt;br/&gt;
  &lt;a href=&quot;http://www.nabble.com/ActiveMQ-4.1-RC-1-tf2397970.html#a6686974&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.nabble.com/ActiveMQ-4.1-RC-1-tf2397970.html#a6686974&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The META-INF file spring.schemas have the single line.&lt;br/&gt;
&quot;http\://activemq.org/config/1.0=&lt;a href=&quot;file:/Users/chirino/sandbox/activemq-4.1/activemq-core/target/activemq.xsd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:/Users/chirino/sandbox/activemq-4.1/activemq-core/target/activemq.xsd&lt;/a&gt;&quot;&lt;/p&gt;

&lt;p&gt;Notice &quot;file:/&quot; and &quot;Users/chirino&quot;. Referring to org.springframework.beans.factory.xml.PluggableSchemaResolver&apos;s javadoc: &quot;schema-location should also be a schema file in the classpath&quot;, and that no-one can tell what structure I will have on my fs, this must be wrong. In addition, I most probably won&apos;t have a user name &quot;chirino&quot;.&lt;/p&gt;

&lt;p&gt;PS: In addition, the doc at&lt;br/&gt;
  &lt;a href=&quot;http://www.activemq.org/site/how-do-i-embed-a-broker-inside-a-connection.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.activemq.org/site/how-do-i-embed-a-broker-inside-a-connection.html&lt;/a&gt;&lt;br/&gt;
refers as such:&lt;/p&gt;

&lt;p&gt;xmlns:amq=&quot;http://activemq.org/config/1.0&quot;&lt;br/&gt;
 .. and ..&lt;br/&gt;
xsi:schemaLocation=&quot;http://activemq.org/config/1.0 &lt;a href=&quot;http://people.apache.org/repository/org.apache.activemq/xsds/activemq-core-4.1-incubator-SNAPSHOT.xsd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://people.apache.org/repository/org.apache.activemq/xsds/activemq-core-4.1-incubator-SNAPSHOT.xsd&lt;/a&gt;&quot;&lt;/p&gt;

&lt;p&gt;Wouldn&apos;t it be nice if this was put at a better place than such a snapshot-build URI? It could be put where it will reside when 4.1 actually is out, w/o anyone being to angry about changes during the finalization period, I personally believe.&lt;/p&gt;</description>
                <environment>&lt;p&gt;n/a&lt;/p&gt;</environment>
        <key id="12481971">AMQ-1016</key>
            <summary>4.1 RC1: META-INF/spring.schemas refers to building user &quot;file:/Users/chirino/&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                            <parent id="12482227">AMQ-1276</parent>
                                    <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="aco">Adrian T. Co</assignee>
                                    <reporter username="stolsvik">Endre St&#248;lsvik</reporter>
                        <labels>
                    </labels>
                <created>Mon, 30 Oct 2006 17:49:26 +0000</created>
                <updated>Thu, 14 Jun 2007 12:39:08 +0000</updated>
                            <resolved>Thu, 14 Jun 2007 00:55:18 +0000</resolved>
                                    <version>4.1.0</version>
                                    <fixVersion>5.0.0</fixVersion>
                                        <due></due>
                            <votes>6</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="12938474" author="stolsvik" created="Mon, 30 Oct 2006 18:03:03 +0000"  >&lt;p&gt;$.01 :&lt;/p&gt;

&lt;p&gt;Find one thing that stands out:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt; 
&amp;lt;beans xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
	xmlns=&quot;http://www.springframework.org/schema/beans&quot;
	xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;
	xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;
	xmlns:amq=&quot;http://activemq.org/config/1.0&quot;
	xsi:schemaLocation=&quot;
    http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd
    http://www.springframework.org/schema/aop   http://www.springframework.org/schema/aop/spring-aop-2.0.xsd
    http://www.springframework.org/schema/tx    http://www.springframework.org/schema/tx/spring-tx-2.0.xsd
    http://activemq.org/config/1.0              http://people.apache.org/repository/org.apache.activemq/xsds/activemq-core-4.1-incubator-SNAPSHOT.xsd&quot;&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; 

&lt;p&gt;and btw, the &quot;http://activemq.org/config/1.0&quot; doesn&apos;t exist (404), and I don&apos;t quite get the &quot;1.0&quot; either. Why not do as spring itself does, like &quot;http://apache.org/schema/amq&quot; and have a file &quot;activemq-amq-4.x.xsd&quot; or somehting there?&lt;/p&gt;</comment>
                            <comment id="12938543" author="chirino" created="Tue, 14 Nov 2006 17:14:01 +0000"  >&lt;p&gt;Fix applied in trunk rev 474872 and in 4.1 branch rev 474876&lt;/p&gt;</comment>
                            <comment id="12936587" author="stolsvik" created="Mon, 8 Jan 2007 14:17:08 +0000"  >&lt;p&gt;Just wanted to point out that in the 4.1 release, the line in question reads&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;http\:&lt;span class=&quot;code-comment&quot;&gt;//activemq.org/config/1.0=file:/home/foconer/logicblaze/activemq-temp/activemq-4.1.0/activemq-core/target/activemq.xsd&lt;/span&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This is still very wrong, and additionally, with the current file residing at the &lt;tt&gt;&lt;a href=&quot;http://people.apache.../activemq-core-4.1-incubator-SNAPSHOT.xsd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://people.apache.../activemq-core-4.1-incubator-SNAPSHOT.xsd&lt;/a&gt;&lt;/tt&gt; location (refer to my first comment), the entire xbeans-stuff doesn&apos;t seem able to &quot;boot&quot; at all anymore, giving a huge exception:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Exception in thread &lt;span class=&quot;code-quote&quot;&gt;&quot;main&quot;&lt;/span&gt; org.springframework.beans.factory.BeanDefinitionStoreException: Line 113 in XML document from &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;path resource [com/picorg/SpringPicorg.xml] is invalid; nested exception is org.xml.sax.SAXParseException: cvc-complex-type.2.4.b: The content of element &lt;span class=&quot;code-quote&quot;&gt;&apos;amq:transportConnector&apos;&lt;/span&gt; is not complete. One of &lt;span class=&quot;code-quote&quot;&gt;&apos;{&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//activemq.org/config/1.0&quot;&lt;/span&gt;:broker, &lt;span class=&quot;code-quote&quot;&gt;&quot;http://activemq.org/config/1.0&quot;&lt;/span&gt;:brokerInfo, &lt;span class=&quot;code-quote&quot;&gt;&quot;http://activemq.org/config/1.0&quot;&lt;/span&gt;:discoveryAgent, &lt;span class=&quot;code-quote&quot;&gt;&quot;http://activemq.org/config/1.0&quot;&lt;/span&gt;:messageAuthorizationPolicy, &lt;span class=&quot;code-quote&quot;&gt;&quot;http://activemq.org/config/1.0&quot;&lt;/span&gt;:server, &lt;span class=&quot;code-quote&quot;&gt;&quot;http://activemq.org/config/1.0&quot;&lt;/span&gt;:taskRunnerFactory, WC[##other:&lt;span class=&quot;code-quote&quot;&gt;&quot;http://activemq.org/config/1.0&quot;&lt;/span&gt;]}&apos;&lt;/span&gt; is expected.
&lt;/span&gt;Caused by: org.xml.sax.SAXParseException: cvc-complex-type.2.4.b: The content of element &lt;span class=&quot;code-quote&quot;&gt;&apos;amq:transportConnector&apos;&lt;/span&gt; is not complete. One of &lt;span class=&quot;code-quote&quot;&gt;&apos;{&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//activemq.org/config/1.0&quot;&lt;/span&gt;:broker, &lt;span class=&quot;code-quote&quot;&gt;&quot;http://activemq.org/config/1.0&quot;&lt;/span&gt;:brokerInfo, &lt;span class=&quot;code-quote&quot;&gt;&quot;http://activemq.org/config/1.0&quot;&lt;/span&gt;:discoveryAgent, &lt;span class=&quot;code-quote&quot;&gt;&quot;http://activemq.org/config/1.0&quot;&lt;/span&gt;:messageAuthorizationPolicy, &lt;span class=&quot;code-quote&quot;&gt;&quot;http://activemq.org/config/1.0&quot;&lt;/span&gt;:server, &lt;span class=&quot;code-quote&quot;&gt;&quot;http://activemq.org/config/1.0&quot;&lt;/span&gt;:taskRunnerFactory, WC[##other:&lt;span class=&quot;code-quote&quot;&gt;&quot;http://activemq.org/config/1.0&quot;&lt;/span&gt;]}&apos;&lt;/span&gt; is expected.
&lt;/span&gt;	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:195)
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.error(ErrorHandlerWrapper.java:131)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:384)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:318)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator$XSIErrorReporter.reportError(XMLSchemaValidator.java:410)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.reportSchemaError(XMLSchemaValidator.java:3165)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.elementLocallyValidComplexType(XMLSchemaValidator.java:3129)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.elementLocallyValidType(XMLSchemaValidator.java:3076)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.processElementContent(XMLSchemaValidator.java:2978)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.handleEndElement(XMLSchemaValidator.java:2121)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.emptyElement(XMLSchemaValidator.java:714)
	at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.scanStartElement(XMLNSDocumentScannerImpl.java:377)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2740)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:645)
	at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:140)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:508)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:807)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:737)
	at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:107)
	at com.sun.org.apache.xerces.internal.parsers.DOMParser.parse(DOMParser.java:225)
	at com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderImpl.parse(DocumentBuilderImpl.java:283)
	at org.springframework.beans.factory.xml.DefaultDocumentLoader.loadDocument(DefaultDocumentLoader.java:77)
	at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:405)
	at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:357)
	at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:334)
	at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:126)
	at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:142)
	at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:168)
	at org.springframework.context.support.AbstractXmlApplicationContext.loadBeanDefinitions(AbstractXmlApplicationContext.java:113)
	at org.springframework.context.support.AbstractXmlApplicationContext.loadBeanDefinitions(AbstractXmlApplicationContext.java:79)
	at org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:94)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:294)
	at org.springframework.context.support.ClassPathXmlApplicationContext.&amp;lt;init&amp;gt;(ClassPathXmlApplicationContext.java:92)
	at org.springframework.context.support.ClassPathXmlApplicationContext.&amp;lt;init&amp;gt;(ClassPathXmlApplicationContext.java:77)
	at org.springframework.context.support.ClassPathXmlApplicationContext.&amp;lt;init&amp;gt;(ClassPathXmlApplicationContext.java:68)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The spring config file in question used to boot.&lt;/p&gt;

&lt;p&gt;Shouldn&apos;t there exist a proper, stable location with a proper schema for 4.1?!&lt;/p&gt;</comment>
                            <comment id="12936701" author="stolsvik" created="Mon, 8 Jan 2007 14:39:33 +0000"  >&lt;p&gt;Just to point out for any viewers of this bug that have the same problem with AMQ 4.1: it seems like if you exchange the location URL with&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;http:&lt;span class=&quot;code-comment&quot;&gt;//people.apache.org/repository/org.apache.activemq/xsds/activemq-core-4.2-incubator-SNAPSHOT.xsd&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;.. it works again. (That is, the AMQ version 4.1 sems to work xbeans-style better with the devel 4.2 schema).&lt;/p&gt;
</comment>
                            <comment id="12936609" author="stolsvik" created="Fri, 19 Jan 2007 14:55:57 +0000"  >&lt;p&gt;Now the 4.2 SNAPSHOT version doesn&apos;t work either.&lt;/p&gt;

&lt;p&gt;I&apos;ve now put a 4.1-working version here (its a 4.2 SNAPSHOT version that I apparently downloaded 2007-01-08, according to its timestamp):&lt;br/&gt;
  &lt;a href=&quot;http://picorg.net/schema/activemq-4.1-working-V4.2.xsd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://picorg.net/schema/activemq-4.1-working-V4.2.xsd&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Hopefully the maintainers of ActiveMQ at some point will understand and fix this rather big problem.&lt;/p&gt;

&lt;p&gt;By exchanging the xsi:schemaLocation URL with that one, I got both Eclipse to be happy, and my app to actually boot.&lt;/p&gt;

&lt;p&gt;NOTE: I will not promise that I&apos;ll leave that file there forever, so don&apos;t go production with it.&lt;/p&gt;</comment>
                            <comment id="12936680" author="alewando" created="Fri, 19 Jan 2007 15:10:07 +0000"  >&lt;p&gt;This issue is not resolved.&lt;/p&gt;</comment>
                            <comment id="12936626" author="stolsvik" created="Fri, 19 Jan 2007 15:40:25 +0000"  >&lt;p&gt;Nice to see it reopened. At least the next versions, both 4.2 and 4.1.1 should have this fixed.&lt;/p&gt;

&lt;p&gt;Here&apos;s a link to a post that describes the different problems, again referring to some more posts:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.nabble.com/Re%3A-Issues-configuring-ActiveMQ-in-spring-context-file-p8450503.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.nabble.com/Re%3A-Issues-configuring-ActiveMQ-in-spring-context-file-p8450503.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12938836" author="jstrachan" created="Wed, 7 Mar 2007 18:15:36 +0000"  >&lt;p&gt;So I&apos;ve just double checked both the 4.1-SNAPSHOT (which will become 4.1.1 very soon) and 4.2-SNAPSHOT releases. Both of them are the same, the value of spring.schemas is...&lt;/p&gt;

&lt;p&gt;http\://activemq.org/config/1.0=activemq.xsd&lt;/p&gt;

&lt;p&gt;and inside the activemq-core.jar is the file activemq.xsd. i.e. so Spring will load the XSD from the jar rather than relying on some external canonical URL.&lt;/p&gt;

&lt;p&gt;Incidentally if you want to double check this,  I used the distros from 6th May 2007 from the maven repo...&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://people.apache.org/repo/m2-snapshot-repository/org/apache/activemq/apache-activemq/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://people.apache.org/repo/m2-snapshot-repository/org/apache/activemq/apache-activemq/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12938896" author="alewando" created="Thu, 15 Mar 2007 21:03:38 +0000"  >&lt;p&gt;Sorry to re-open this issue again, but Spring&apos;s entity resolver won&apos;t attempt to resolve the systemid (&quot;http://activemq.org/config/1.0&quot; in this case) unless it ends with &apos;.xsd&apos; or &apos;.dtd&apos;.  See org.springframework.beans.factory.xml.DelegatingEntityResolver&lt;/p&gt;

&lt;p&gt;To fix this, change spring.schemas to read something like:&lt;/p&gt;

&lt;p&gt;http\://activemq.org/config/1.0/activemq.xsd=activemq.xsd&lt;/p&gt;

&lt;p&gt;and use &quot;http://activemq.org/config/1.0/activemq.xsd&quot; as the systemid in the schemaLocation declaration of the app context xml.&lt;/p&gt;</comment>
                            <comment id="12938869" author="jstrachan" created="Fri, 16 Mar 2007 07:51:46 +0000"  >&lt;p&gt;OK - we can change the schema namespace in 4.2.0 to resolve this but unfortunately this will have to remain unfixed for 4.1.1 (as its a bug fix release and we can&apos;t break backwards compatibilitiy)&lt;/p&gt;</comment>
                            <comment id="12938915" author="stolsvik" created="Fri, 16 Mar 2007 08:20:39 +0000"  >&lt;p&gt;That&apos;s a &lt;em&gt;pretty darn&lt;/em&gt; moot point, as it doesn&apos;t work at all as it stands.&lt;/p&gt;

&lt;p&gt;I must say I really don&apos;t understand the point of Active MQ &quot;implementing&quot; the Spring/Xbeans combo when there is no drive at all to actually make the shit work.&lt;/p&gt;

&lt;p&gt;I have several hundred requests per week from &quot;browser: Java&quot; to the file I&apos;ve posted some comments ago - an extremely hacky solution - this due to the fact that the ActiveMQ maintainers repeatedly ignores the problem, and apparently refuses to put up a schema on some permanent location that actually works.&lt;/p&gt;

&lt;p&gt;I just can&apos;t fathom why, and really makes me wonder about the whole thing..&lt;/p&gt;</comment>
                            <comment id="12938948" author="ojs" created="Fri, 16 Mar 2007 08:46:12 +0000"  >&lt;p&gt;See my comments on &lt;a href=&quot;http://www.nabble.com/Is-any-working-%27Spring-2.0.1-%2B-Lingo-1.3-%2B-ActiveMQ-4.1-final%27-configuration-out-there--tf3127903.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.nabble.com/Is-any-working-%27Spring-2.0.1-%2B-Lingo-1.3-%2B-ActiveMQ-4.1-final%27-configuration-out-there--tf3127903.html&lt;/a&gt; - AMQ currently is just unusable for many.&lt;/p&gt;</comment>
                            <comment id="12938861" author="chirino" created="Fri, 16 Mar 2007 14:49:14 +0000"  >&lt;p&gt;You have to realized that the namspace is used by the default xbean application that is used to load the stand alone broker.  And Yes that IS working.&lt;br/&gt;
So we change the namespace, then all the existing configuration files out there would stop working as the xbean loader would no longer work.&lt;/p&gt;</comment>
                            <comment id="12938887" author="cgs" created="Fri, 16 Mar 2007 15:03:21 +0000"  >&lt;p&gt;Even if it was unusable, why couldn&apos;t one:&lt;/p&gt;

&lt;p&gt;1. Patch AMQ so it works for them&lt;br/&gt;
2. Write an EntityResolver&lt;br/&gt;
3. Configure it another way&lt;/p&gt;</comment>
                            <comment id="12936523" author="stolsvik" created="Fri, 16 Mar 2007 15:26:38 +0000"  >&lt;p&gt;Hiram: why won&apos;t you at least put a working schema for your &lt;em&gt;released&lt;/em&gt; version of AMQ on a permanent, stable location, with documentation on the AMQ site that actually will work (using the correct, stable schema)?&lt;/p&gt;

&lt;p&gt;Christopher: I&apos;ve already provided a hack for people that swing by this bug. The opinions you air are absolutely uninteresting.&lt;/p&gt;</comment>
                            <comment id="12938945" author="ge0ffrey.desmet" created="Fri, 23 Mar 2007 09:51:32 +0000"  >&lt;p&gt;Hiram, I don&apos;t believe the namespace need to be changed - as I didn&apos;t need to in my workaround.&lt;/p&gt;

&lt;p&gt;There are 2 issues:&lt;/p&gt;

&lt;p&gt;1) MINOR: an official, stable, working url with the xsd for each release.&lt;br/&gt;
So Eclipse/Intellij can fetch it and do code completion. It&apos;s not needed at runtime.&lt;br/&gt;
Till then someone makes one, this one seems to work (but can break at any time as the helpfull person who put it up said)&lt;br/&gt;
&lt;a href=&quot;http://picorg.net/schema/activemq-4.1-working-V4.2.xsd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://picorg.net/schema/activemq-4.1-working-V4.2.xsd&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;2) CRITICAL: that xsd inside the jar and a spring.schemas files which couples&lt;br/&gt;
the official url to that xsd in the jar. It is needed at runtime.&lt;br/&gt;
Notice that the namespace &quot;http://activemq.org/config/1.0&quot; isn&apos;t affected.&lt;/p&gt;

&lt;p&gt;Workaround for this issue&lt;br/&gt;
=====================&lt;/p&gt;

&lt;p&gt;Define this in your spring context - you might wanna use a more trustworty url of your own:&lt;/p&gt;

&lt;p&gt;  xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans &lt;a href=&quot;http://www.springframework.org/schema/beans/spring-beans.xsd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.springframework.org/schema/beans/spring-beans.xsd&lt;/a&gt; &lt;br/&gt;
  &lt;a href=&quot;http://activemq.org/config/1.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://activemq.org/config/1.0&lt;/a&gt; &lt;a href=&quot;http://picorg.net/schema/activemq-4.1-working-V4.2.xsd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://picorg.net/schema/activemq-4.1-working-V4.2.xsd&lt;/a&gt;&quot;&amp;gt;&lt;/p&gt;

&lt;p&gt;Make a resource in your jar:&lt;br/&gt;
  /org/apache/activemq/patch/activemq-4.1-working-V4.2.xsd&lt;br/&gt;
and copy the contents from that online xsd in it.&lt;/p&gt;

&lt;p&gt;Make a resource in your jar:&lt;br/&gt;
  /META-INF/spring.schemas&lt;br/&gt;
and copy the following contents in it:&lt;br/&gt;
  http\://picorg.net/schema/activemq-4.1-working-V4.2.xsd=org/apache/activemq/patch/activemq-4.1-working-V4.2.xsd&lt;/p&gt;

&lt;p&gt;Pitfall: notice the  \ in front of the : of http://&lt;/p&gt;</comment>
                            <comment id="12938895" author="ge0ffrey.desmet" created="Fri, 23 Mar 2007 09:53:05 +0000"  >&lt;p&gt;With your jar, I don&apos;t mean a local version of the activemq jar, but your own jar/war which uses activemq&lt;/p&gt;</comment>
                            <comment id="12938893" author="ge0ffrey.desmet" created="Mon, 2 Apr 2007 15:12:57 +0000"  >&lt;p&gt;Since this can be fixed without changing the namespace (so it doesn&apos;t affect the xbean implementation),&lt;br/&gt;
can it be pushed back for 4.1.1 or at least 4.1.2?&lt;/p&gt;

&lt;p&gt;It blocks the use of ActiveMQ with Spring 2&apos;s schema support.&lt;br/&gt;
Falling back on xbean is for many not an option if you&apos;re using spring&apos;s property placeholder support to configure port/host etc. &lt;/p&gt;</comment>
                            <comment id="12938986" author="alewando" created="Mon, 16 Apr 2007 20:32:09 +0000"  >&lt;p&gt;I&apos;m able to use placeholders with xbean. You just need to declare the configurer in the xbean config file:&lt;/p&gt;

&lt;p&gt;Ex: activemq-brokers.xml:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;?xml version=&lt;span class=&quot;code-quote&quot;&gt;&quot;1.0&quot;&lt;/span&gt; encoding=&lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-8&quot;&lt;/span&gt;?&amp;gt;
&amp;lt;!-- &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; file can only be parsed using the xbean-spring library --&amp;gt;
&amp;lt;beans&amp;gt;
	&amp;lt;bean
		class=&lt;span class=&quot;code-quote&quot;&gt;&quot;org.springframework.beans.factory.config.PropertiesPlaceholderConfigurer&quot;&lt;/span&gt;&amp;gt;
		&amp;lt;property name=&lt;span class=&quot;code-quote&quot;&gt;&quot;location&quot;&lt;/span&gt;
			value=&lt;span class=&quot;code-quote&quot;&gt;&quot;classpath:config/environment.properties&quot;&lt;/span&gt; /&amp;gt;
		&amp;lt;property name=&lt;span class=&quot;code-quote&quot;&gt;&quot;placeholderPrefix&quot;&lt;/span&gt; value=&lt;span class=&quot;code-quote&quot;&gt;&quot;$jms{&quot;&lt;/span&gt; /&amp;gt;
	&amp;lt;/bean&amp;gt;

	&amp;lt;broker brokerName=clusterBroker$jms{nodeNumber}&lt;span class=&quot;code-quote&quot;&gt;&quot; persistent=&quot;&lt;/span&gt;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;code-quote&quot;&gt;&quot; useJmx=&quot;&lt;/span&gt;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;code-quote&quot;&gt;&quot; start=&quot;&lt;/span&gt;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&quot;
		xmlns=&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//activemq.org/config/1.0&quot;&lt;/span&gt;&amp;gt;
&lt;/span&gt;		&amp;lt;transportConnectors&amp;gt;
			&amp;lt;transportConnector uri=&lt;span class=&quot;code-quote&quot;&gt;&quot;$jms{cluster.local.listener}&quot;&lt;/span&gt; /&amp;gt;
		&amp;lt;/transportConnectors&amp;gt;

		&amp;lt;networkConnectors&amp;gt;
			&amp;lt;networkConnector
				uri=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt;:($jms{cluster.broker.urls})&quot;&lt;/span&gt; /&amp;gt;
		&amp;lt;/networkConnectors&amp;gt;
	&amp;lt;/broker&amp;gt;

&amp;lt;/beans&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12936562" author="aco" created="Thu, 14 Jun 2007 00:55:18 +0000"  >&lt;p&gt;Working xsds can be found here:&lt;br/&gt;
5.0 - &lt;a href=&quot;http://people.apache.org/repository/org.apache.activemq/xsds/activemq-core-5.0-SNAPSHOT.xsd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://people.apache.org/repository/org.apache.activemq/xsds/activemq-core-5.0-SNAPSHOT.xsd&lt;/a&gt;&lt;br/&gt;
4.1 - &lt;a href=&quot;http://people.apache.org/repository/org.apache.activemq/xsds/activemq-core-4.1-SNAPSHOT.xsd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://people.apache.org/repository/org.apache.activemq/xsds/activemq-core-4.1-SNAPSHOT.xsd&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Hopefully, a stable release (i.e. without the SNAPSHOT will be made available after the release).&lt;/p&gt;

&lt;p&gt;A sample spring config can be found here: &lt;a href=&quot;http://svn.apache.org/repos/asf/activemq/trunk/activemq-core/src/test/resources/spring-embedded-xbean.xml&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/repos/asf/activemq/trunk/activemq-core/src/test/resources/spring-embedded-xbean.xml&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12936566" author="stolsvik" created="Thu, 14 Jun 2007 07:30:51 +0000"  >&lt;p&gt;Those URLs looks REALLY pathetic. Seriously, are you proposing that you put a &quot;final and stable release&quot; of a configuration schema at an address that starts with &quot;people.apache.org&quot;?? And which is that extremely long-winded, with lots utterly schema-unrelated data?&lt;/p&gt;

&lt;p&gt;Why can&apos;t you come up with something along the lines of &quot;http://schemas.apache.org/activemq/amctivemq-5.0.xsd&quot;, at the MOST? Something that looks like you&apos;ve at least put one cent into doing this the right way? Look at ANY OTHER schema definition on the entire internet, and you&apos;ll find that yours are .. non-good.&lt;/p&gt;

&lt;p&gt;You folks apparently desperately wants the distribution of this file to be so automated and nice and cool. That is a very flawed logic. The URL you now propose is no better than the one that this whole shit started off with, and with later releases, you&apos;ll fsck this up again, and installations around the world will start to bomb out.&lt;/p&gt;

&lt;p&gt;And finally, you do realize that this element is this bug&apos;s &quot;secondary aspect&quot; - the first is that there really RUNTIME-wise shouldn&apos;t be need for such a proper and stable URL at all (obviously), since Spring (with xbeans) have this feature where it will look it up in the classpath, using the META-INF/spring.schemas system (so that my offline application using your system will be able to boot without being hooked up to the internet).&lt;/p&gt;

&lt;p&gt;Simply read the bug, starting with the initial description, then going through the dozen or so comments above, and you&apos;ll be informed.&lt;/p&gt;

&lt;p&gt;How you are able to close this bug with that comment is actually frightening.&lt;/p&gt;</comment>
                            <comment id="12936574" author="jstrachan" created="Thu, 14 Jun 2007 08:38:33 +0000"  >&lt;p&gt;Thanks Endre for your comments; your tone really helps encourage those volunteers on the project to use our spare time to help you out &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Note that the public URL is not required; as you say that Spring can use the one from inside the jar. The public URI is only required if folks want to use it for some XSD editing tool. &lt;br/&gt;
We&apos;re also talking about the internet too; folks can easily put that XSD wherever they like, on their hard drive, on their own server at whatever URL floats their boat.&lt;/p&gt;

&lt;p&gt;I realise we should have a nice short URL for all versions of the schema. Its not quite trivial to do that at Apache so please bear with us. &lt;/p&gt;

&lt;p&gt;We could add some redirects here...&lt;br/&gt;
&lt;a href=&quot;https://svn.apache.org/repos/asf/activemq/site/.htaccess&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/repos/asf/activemq/site/.htaccess&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;if anyone fancies figuring out the .htaccess ninja to make a nice URI of the form something like&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://activemq.apache.org/schemas/activemq-$VERSION.xsd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://activemq.apache.org/schemas/activemq-$VERSION.xsd&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;am gonna split this thing up as a separate JIRA&lt;/p&gt;</comment>
                            <comment id="12936536" author="jstrachan" created="Thu, 14 Jun 2007 08:57:48 +0000"  >&lt;p&gt;OK so the XSDs should soon be appearing here...&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://activemq.apache.org/schema/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://activemq.apache.org/schema/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;for example&lt;/p&gt;


&lt;p&gt;&lt;a href=&quot;http://activemq.apache.org/schema/activemq-core-5.0.xsd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://activemq.apache.org/schema/activemq-core-5.0.xsd&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;(when we do the release).&lt;/p&gt;

&lt;p&gt;Until then it&apos;ll be&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://activemq.apache.org/schema/activemq-core-5.0-SNAPSHOT.xsd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://activemq.apache.org/schema/activemq-core-5.0-SNAPSHOT.xsd&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;etc&lt;/p&gt;</comment>
                            <comment id="12936641" author="jstrachan" created="Thu, 14 Jun 2007 09:04:47 +0000"  >&lt;p&gt;So this issue was caused by multiple things. &lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Bad XSDs caused by a bug in XBean; which AFAIK is now fixed, the generated XSDs are now valid right?&lt;/li&gt;
	&lt;li&gt;lousy URLs for the XSDs, which should now be fixed (once Apache&apos;s caching infrastructure spots the new files)&lt;/li&gt;
	&lt;li&gt;Spring unable to find the embedded XSD which is inside the activemq-core.jar&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Am unsure how to resolve the last item without changing the namespace. Ideally if we can, we&apos;d avoid changing the namespace (then the fix can be applied to 4.1.x and 5.0). &lt;br/&gt;
Sure we could write our own EntityResolver, but I&apos;ve no idea how to automatically register it so its always available to Spring; given that Spring is in charge, loads its ApplicationContext and we have to fit inside its callback stuff mid-parse.&lt;/p&gt;

&lt;p&gt;Am wondering if the simplest solution is to change the namespace URI to end in &quot;.xsd&quot;? Maybe to &lt;a href=&quot;http://activemq.apache.org/schema/activemq-core.xsd?&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://activemq.apache.org/schema/activemq-core.xsd?&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;If anyone knows how to resolve this last issue nicely with using pure Spring I&apos;d be most grateful. Endre - any ideas? Do you think the namespace URI really has to change?&lt;/p&gt;</comment>
                            <comment id="12936617" author="jstrachan" created="Thu, 14 Jun 2007 09:16:37 +0000"  >&lt;p&gt;A few more thoughts. The ideal solution to the issue might be to keep backwards compatibility of the namespace URI; but to allow a cleaner URL thats more spring-like (and Apache-like) to be used. &lt;br/&gt;
BTW its worth saying that the use of ActiveMQ&apos;s namespaces pre-dates both the move to Apache and the Spring 2 XML configuration stuff by quite a while so it was kinda hard to second guess how the spring 2.0 XML handling was gonna work!&lt;/p&gt;

&lt;p&gt;A more spring-like namespace might be&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://activemq.apache.org/schema/activemq-core&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://activemq.apache.org/schema/activemq-core&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;for the namespace URI which then maps to the physical release as...&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://activemq.apache.org/schema/activemq-core-5.0.xsd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://activemq.apache.org/schema/activemq-core-5.0.xsd&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Then it&apos;d kinda seem more normal in an XML declaration...&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;beans xmlns:xsi=&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//www.w3.org/2001/XMLSchema-instance&quot;&lt;/span&gt;
&lt;/span&gt;	xmlns=&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//www.springframework.org/schema/beans&quot;&lt;/span&gt;
&lt;/span&gt;	xmlns:aop=&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//www.springframework.org/schema/aop&quot;&lt;/span&gt;
&lt;/span&gt;	xmlns:tx=&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//www.springframework.org/schema/tx&quot;&lt;/span&gt;
&lt;/span&gt;	xmlns:amq=&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//activemq.org/config/1.0&quot;&lt;/span&gt;
&lt;/span&gt;	xsi:schemaLocation=&quot;
    http:&lt;span class=&quot;code-comment&quot;&gt;//www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd
&lt;/span&gt;    http:&lt;span class=&quot;code-comment&quot;&gt;//www.springframework.org/schema/aop   http://www.springframework.org/schema/aop/spring-aop-2.0.xsd
&lt;/span&gt;    http:&lt;span class=&quot;code-comment&quot;&gt;//www.springframework.org/schema/tx    http://www.springframework.org/schema/tx/spring-tx-2.0.xsd
&lt;/span&gt;    http:&lt;span class=&quot;code-comment&quot;&gt;//activemq.apache.org/schema/activemq-core     http://activemq.apache.org/schema/activemq-core-5.0.xsd&quot;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Thoughts?&lt;/p&gt;</comment>
                            <comment id="12936571" author="jstrachan" created="Thu, 14 Jun 2007 09:28:07 +0000"  >&lt;p&gt;BTW am wondering if the generated file spring.schemas &lt;/p&gt;

&lt;p&gt;http\://activemq.org/config/1.0=activemq.xsd&lt;/p&gt;

&lt;p&gt;should look like this&lt;/p&gt;

&lt;p&gt;http\://activemq.org/config/1.0/1.0.xsd=activemq.xsd&lt;/p&gt;

&lt;p&gt;to work with spring&apos;s entity resolver thingy&lt;/p&gt;</comment>
                            <comment id="12936567" author="jstrachan" created="Thu, 14 Jun 2007 09:49:41 +0000"  >&lt;p&gt;DOH! Am thinking the spring.schemas file has nothing at all to do with the namespace URI at all; its purely to do with the XSD location!&lt;/p&gt;

&lt;p&gt;So maybe something like this is better&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;http\:&lt;span class=&quot;code-comment&quot;&gt;//activemq.apache.org/schema/activemq-core.xsd = activemq.xsd
&lt;/span&gt;http\:&lt;span class=&quot;code-comment&quot;&gt;//activemq.apache.org/schema/activemq-core-5.0.xsd = activemq.xsd&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So that the namespace URI does not have to change?&lt;/p&gt;</comment>
                            <comment id="12936443" author="jstrachan" created="Thu, 14 Jun 2007 09:51:07 +0000"  >&lt;p&gt;BTW the apache caching infrastructure seems to have spotted that those nicer schema URLs are working...&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://activemq.apache.org/schema/activemq-core-5.0-SNAPSHOT.xsd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://activemq.apache.org/schema/activemq-core-5.0-SNAPSHOT.xsd&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;or look at them all&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://activemq.apache.org/schema/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://activemq.apache.org/schema/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12936510" author="jstrachan" created="Thu, 14 Jun 2007 10:07:29 +0000"  >&lt;p&gt;One further change to the URL stuff. We need one directory for snapshots and one directory for actual releases.&lt;/p&gt;

&lt;p&gt;So I&apos;ve just updated the symlinks (which will take a few hours to refresh in the caching infrastructure) so that&lt;/p&gt;

&lt;p&gt;releases of XSDs appear here...&lt;br/&gt;
&lt;a href=&quot;http://activemq.apache.org/schema/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://activemq.apache.org/schema/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;such as &lt;br/&gt;
&lt;a href=&quot;http://activemq.apache.org/schema/activemq-core-4.1.1.xsd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://activemq.apache.org/schema/activemq-core-4.1.1.xsd&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;and snapshot schemas appear here&lt;br/&gt;
&lt;a href=&quot;http://activemq.apache.org/snapshot-schema/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://activemq.apache.org/snapshot-schema/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;such as &lt;br/&gt;
&lt;a href=&quot;http://activemq.apache.org/snapshot-schema/activemq-core-5.0-SNAPSHOT.xsd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://activemq.apache.org/snapshot-schema/activemq-core-5.0-SNAPSHOT.xsd&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The snapshots are a fair bit longer, but folks should usually be using the shorter, released XSDs&lt;/p&gt;</comment>
                            <comment id="12936569" author="stolsvik" created="Thu, 14 Jun 2007 10:23:54 +0000"  >&lt;p&gt;James: It is SO AMAZINGLY REFRESHING to see you on this, and just KICKING this rather longstanding bug outta here!&lt;/p&gt;

&lt;p&gt;Seriously - I think this has annoyed several people, and just stagnated others. The file I&apos;m hosting as a &quot;fix&quot; to this is getting several hundred hits per week (admittedly not from that many different hosts! But still!).&lt;/p&gt;

&lt;p&gt;I saw you asked for ideas - is that still so? After that, you quickly added 4-5 more comments, so I&apos;m not sure you need me anymore? &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; Do also note that I think I&apos;ve stated most of my knowledge on how this should be done on earlier comments.&lt;/p&gt;</comment>
                            <comment id="12936620" author="stolsvik" created="Thu, 14 Jun 2007 10:43:51 +0000"  >&lt;p&gt;Okay, here&apos;s a comment to something I spotted up there&lt;/p&gt;

&lt;p&gt;In your &quot;Then it&apos;d kinda seem more normal in an XML declaration...&quot;, and a XML suggestion, there is, as I understand it, a rather serious flaw.&lt;/p&gt;

&lt;p&gt;The idea is that the namespace declaration &lt;cite&gt;&quot;xmlns:amq=&quot;http://activemq.org/config/1.0&quot;&lt;/cite&gt; must obviously match up with the later LOCATION declaration, which it doesn&apos;t do here: &lt;cite&gt;&quot;http://activemq.apache.org/schema/activemq-core     &lt;a href=&quot;http://activemq.apache.org/schema/activemq-core-5.0.xsd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://activemq.apache.org/schema/activemq-core-5.0.xsd&lt;/a&gt;&quot;&lt;/cite&gt;&lt;/p&gt;

&lt;p&gt;Also, if you check out the URL&apos;s that spring itself uses, you&apos;ll see that BOTH of them actually resolve to something sane: the first is a unique URL that will never change - it states the &quot;scope&quot; of the declaration, and happens to point to a directory listing on a server, and the second is the actual &quot;instance&quot; of this declaration - i.e. &quot;use this specific file&quot; - which happens to be inside the former directory.&lt;/p&gt;

&lt;p&gt;And in the spring.schemas, you are correct in that it is a &quot;location&quot; or &quot;instance&quot; redirecter, not a namespace redirecter.&lt;/p&gt;

&lt;p&gt;I however wonder why you&apos;d put the actual file &quot;directly on root&quot;, and not put it inside one of the packages. Spring at least does this..&lt;/p&gt;</comment>
                            <comment id="12936605" author="jstrachan" created="Thu, 14 Jun 2007 11:06:07 +0000"  >&lt;p&gt;Hey Endre&lt;/p&gt;

&lt;p&gt;I think we&apos;re all on the same page; we all want to see an end to all these spring XML related bugs, issues and discussions &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;I think I&apos;m getting to the bottom of understanding this; apart from the various bugs mentioned above that are now resolved, I think a misunderstanding of the role of the spring.schemas file has caused some confusion &amp;amp; blind alleys.&lt;br/&gt;
To be fair quite a few folks dived in and tried to fix the various issues in this whole Spring XML namespaces thing; it turned out there was quite a few things going wrong etc.&lt;/p&gt;

&lt;p&gt;I think we&apos;re getting closer now.&lt;/p&gt;

&lt;p&gt;trunk has a test case Spring2XmlNamespacesTest which uses this spring-embedded-xbean.xml&lt;br/&gt;
which at the time of writing looks like this...&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;beans 
  xmlns=&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//www.springframework.org/schema/beans&quot;&lt;/span&gt; 
&lt;/span&gt;  xmlns:amq=&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//activemq.org/config/1.0&quot;&lt;/span&gt;
&lt;/span&gt;  xmlns:xsi=&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//www.w3.org/2001/XMLSchema-instance&quot;&lt;/span&gt;
&lt;/span&gt;  xsi:schemaLocation=&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd
&lt;/span&gt;  http:&lt;span class=&quot;code-comment&quot;&gt;//activemq.org/config/1.0 http://activemq.apache.org/snapshot-schema/activemq-core-5.0-SNAPSHOT.xsd&quot;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;which works fine. Then there&apos;s Spring2XmlNamespacesWithoutRemoteSchemaTest which uses spring-embedded-xbean-noversion.xml which uses an XSD location that doesn&apos;t actually exist (rather like in spring using&lt;br/&gt;
&lt;a href=&quot;http://www.springframework.org/schema/beans/spring-beans.xsd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.springframework.org/schema/beans/spring-beans.xsd&lt;/a&gt; without using the 2.0 version)&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;beans 
  xmlns=&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//www.springframework.org/schema/beans&quot;&lt;/span&gt; 
&lt;/span&gt;  xmlns:amq=&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//activemq.org/config/1.0&quot;&lt;/span&gt;
&lt;/span&gt;  xmlns:xsi=&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//www.w3.org/2001/XMLSchema-instance&quot;&lt;/span&gt;
&lt;/span&gt;  xsi:schemaLocation=&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd
&lt;/span&gt;  http:&lt;span class=&quot;code-comment&quot;&gt;//activemq.org/config/1.0 http://activemq.apache.org/schema/activemq-core.xsd&quot;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;this test case works too - showing that the spring.schemas is indeed finding the local activemq.xsd file.&lt;/p&gt;</comment>
                            <comment id="12936595" author="stolsvik" created="Thu, 14 Jun 2007 11:15:27 +0000"  >&lt;p&gt;This is starting to look very good!&lt;/p&gt;

&lt;p&gt;It would be nice if that &quot;schema-defintion URL&quot; (&lt;a href=&quot;http://activemq.org/config/1.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://activemq.org/config/1.0&lt;/a&gt;) actually existed - and you do own that domain, so you can make it so, right? Maybe a little README.txt in there, or something cute?&lt;/p&gt;

&lt;p&gt;If it is possible in the 5.0 release, then renaming the &quot;http://activemq.org/config/1.0&quot; to something along the lines of what spring does (read my comment above) would in addition simply LOOK very much more right and corrent, and give pedantic wankers like me those warm tingly feelings that only unifiedness, correctness and thoroughness can give! &lt;/p&gt;</comment>
                            <comment id="12936639" author="jstrachan" created="Thu, 14 Jun 2007 12:26:04 +0000"  >&lt;p&gt;Have followed spring&apos;s lead where the namespace URI points to the directory of the various versioned files. So in an hour or two the URL should work...&lt;br/&gt;
&lt;a href=&quot;http://activemq.org/config/1.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://activemq.org/config/1.0&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;when Apache catches up &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;. Though activemq.org is a redirect to activemq.apache.org so it&apos;ll probably only work in browsers; but that should do right?&lt;/p&gt;

&lt;p&gt;Have also added a little ReadMe.html.&lt;/p&gt;

&lt;p&gt;I think it might be nice to change the namespace URL to something more spring like and Apache-ish for 5.0; its a bit of a pain for users but we could support backwards compatibility I guess...&lt;/p&gt;

&lt;p&gt;have brought this (and a number of related issues) up on the dev list...&lt;br/&gt;
&lt;a href=&quot;http://www.nabble.com/Handling-XSDs-and-Spring-2-XML-processing-etc.-tf3921424s2354.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.nabble.com/Handling-XSDs-and-Spring-2-XML-processing-etc.-tf3921424s2354.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;it might be worth jumping on there, as this JIRA is long and complex enough already &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12936591" author="stolsvik" created="Thu, 14 Jun 2007 12:39:08 +0000"  >&lt;p&gt;That&apos;s really nice!&lt;/p&gt;

&lt;p&gt;If it is a proper redirect, even other clients than browsers should be able to follow it - but that is really not that terribly important.&lt;/p&gt;

&lt;p&gt;You could call the file &quot;index.html&quot; instead, so it&apos;ll just come directly up? Or maybe a dir-listing actually is good, so that one can see the different versions? Probably.. but isn&apos;t there an Apache HTTPD feature, whereby if you call a file README or something, it&apos;ll automatically be &quot;#included&quot; in the dir-listing?&lt;/p&gt;

&lt;p&gt;I&apos;ve replied to the email, basically just stating the same opinions that I have here and in 1276. And I obviously agree with the &quot;spring-like and Apache-ish&quot; URI, but realize that my &lt;em&gt;opinion&lt;/em&gt; don&apos;t weigh very much when decision-time comes!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>84501</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 years, 24 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i180rr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>254927</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310080" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Regression</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10091"><![CDATA[Regression]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>