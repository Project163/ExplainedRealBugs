<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 05:46:58 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-2203] Duplication of Camel routes in activemq.xml and applicationContext.xml for Camel web app.</title>
                <link>https://issues.apache.org/jira/browse/AMQ-2203</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;It appears that there are now duplicate configuration points for Camel routes.  In the &lt;b&gt;activemq.xml&lt;/b&gt; configuration file, the following configuration exists:&lt;/p&gt;


&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;    &amp;lt;!--
    ** Lets deploy some Enterprise Integration Patterns inside the ActiveMQ Message Broker
    ** For more details see
    **
    ** http://activemq.apache.org/enterprise-integration-patterns.html
    --&amp;gt;
    &amp;lt;camelContext id=&quot;camel&quot; xmlns=&quot;http://camel.apache.org/schema/spring&quot;&amp;gt;

        &amp;lt;!-- You can use a &amp;lt;package&amp;gt; element for each root package to search for Java routes --&amp;gt;
        &amp;lt;package&amp;gt;org.foo.bar&amp;lt;/package&amp;gt;

        &amp;lt;!-- You can use Spring XML syntax to define the routes here using the &amp;lt;route&amp;gt; element --&amp;gt;
        &amp;lt;route&amp;gt;
            &amp;lt;from uri=&quot;activemq:example.A&quot;/&amp;gt;
            &amp;lt;to uri=&quot;activemq:example.B&quot;/&amp;gt;
        &amp;lt;/route&amp;gt;
    &amp;lt;/camelContext&amp;gt;

    &amp;lt;!--
    ** Lets configure some Camel endpoints
    **
    ** http://activemq.apache.org/camel/components.html
    --&amp;gt;

    &amp;lt;!-- configure the camel activemq component to use the current broker --&amp;gt;
    &amp;lt;bean id=&quot;activemq&quot; class=&quot;org.apache.activemq.camel.component.ActiveMQComponent&quot; &amp;gt;
        &amp;lt;property name=&quot;connectionFactory&quot;&amp;gt;
          &amp;lt;bean class=&quot;org.apache.activemq.ActiveMQConnectionFactory&quot;&amp;gt;
            &amp;lt;property name=&quot;brokerURL&quot; value=&quot;vm://localhost?create=false&amp;amp;amp;waitForStart=10000&quot; /&amp;gt;
            &amp;lt;property name=&quot;userName&quot; value=&quot;${activemq.username}&quot;/&amp;gt;
            &amp;lt;property name=&quot;password&quot; value=&quot;${activemq.password}&quot;/&amp;gt;
          &amp;lt;/bean&amp;gt;
        &amp;lt;/property&amp;gt;
    &amp;lt;/bean&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This is duplicated in the &lt;b&gt;webapps\camel\WEB-INF\applicationContext.xml&lt;/b&gt; file:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;  &amp;lt;camelContext xmlns=&quot;http://camel.apache.org/schema/spring&quot;&amp;gt;
    &amp;lt;route&amp;gt;
        &amp;lt;from uri=&quot;activemq:example.A&quot;/&amp;gt;
        &amp;lt;to uri=&quot;activemq:example.B&quot;/&amp;gt;
    &amp;lt;/route&amp;gt;
  &amp;lt;/camelContext&amp;gt;

  &amp;lt;!-- configure the camel activemq component to use the current broker --&amp;gt;
  &amp;lt;bean id=&quot;activemq&quot; class=&quot;org.apache.activemq.camel.component.ActiveMQComponent&quot; &amp;gt;
    &amp;lt;property name=&quot;exposeAllQueues&quot; value=&quot;true&quot;/&amp;gt;
      &amp;lt;property name=&quot;connectionFactory&quot;&amp;gt;
        &amp;lt;bean class=&quot;org.apache.activemq.ActiveMQConnectionFactory&quot;&amp;gt;
          &amp;lt;property name=&quot;brokerURL&quot; value=&quot;vm://localhost?create=false&amp;amp;amp;waitForStart=10000&quot; /&amp;gt;
          &amp;lt;property name=&quot;userName&quot; value=&quot;${activemq.username}&quot;/&amp;gt;
          &amp;lt;property name=&quot;password&quot; value=&quot;${activemq.password}&quot;/&amp;gt;
        &amp;lt;/bean&amp;gt;
      &amp;lt;/property&amp;gt;
  &amp;lt;/bean&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The net effect of this is that when the broker is launched, there will be two consumers routing messages from example.A to example.B.  At best, this causes unnecessary overhead.  If a user edits the &lt;b&gt;activemq.xml&lt;/b&gt; file to remove the route information, they think they have removed this camel route.  However, when the broker is restarted, the route still exists, only now with a single consumer routing the messages.  To truly remove the route, the user must also edit the &lt;b&gt;applicationContext.xml&lt;/b&gt;.&lt;/p&gt;

&lt;p&gt;If the configuration of Camel routes is now being handled in the &lt;b&gt;applicationContext.xml&lt;/b&gt; file, then the obsolete configuration should be removed from &lt;b&gt;activemq.xml&lt;/b&gt; and documentation should be updated.  In any case, the duplication of Camel routes in a default configuration should be eliminated.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12483493">AMQ-2203</key>
            <summary>Duplication of Camel routes in activemq.xml and applicationContext.xml for Camel web app.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dejanb">Dejan Bosanac</assignee>
                                    <reporter username="jgomes">Jim Gomes</reporter>
                        <labels>
                    </labels>
                <created>Thu, 9 Apr 2009 19:05:46 +0000</created>
                <updated>Fri, 7 Jan 2011 03:21:37 +0000</updated>
                            <resolved>Mon, 6 Sep 2010 13:29:45 +0000</resolved>
                                    <version>5.3.0</version>
                                    <fixVersion>5.4.1</fixVersion>
                                        <due></due>
                            <votes>2</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12942801" author="dejanb" created="Mon, 6 Sep 2010 13:29:45 +0000"  >&lt;p&gt;Fixed with svn revision 993024.&lt;/p&gt;

&lt;p&gt;web console application context now imports conf/camel.xml&lt;/p&gt;

&lt;p&gt;Thanks for spotting this.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>14796</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 12 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ba6f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>63761</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>