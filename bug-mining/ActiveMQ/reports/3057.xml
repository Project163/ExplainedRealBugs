<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 06:41:00 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-6465] Memory usage incorrectly increases when messages are forwarded over a bridge for a durable subscription</title>
                <link>https://issues.apache.org/jira/browse/AMQ-6465</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;There is an issue with duplicate message suppression for durable subscriptions over a network bridge that is causing the memory usage counter to grow and never shrink.  The issue is that when the message is checked against the network bridge filter, a reference to the message is incremented (which increases the memory usage counter) but then that reference is never decremented so the memory usage doesn&apos;t decrease as it should.  The actual memory is freed but the counter continues to grow until it reaches the configured maximum at which point the broker can&apos;t do any work because it thinks the memory is full.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13012399">AMQ-6465</key>
            <summary>Memory usage incorrectly increases when messages are forwarded over a bridge for a durable subscription</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cshannon">Christopher L. Shannon</assignee>
                                    <reporter username="cshannon">Christopher L. Shannon</reporter>
                        <labels>
                    </labels>
                <created>Fri, 14 Oct 2016 16:13:35 +0000</created>
                <updated>Wed, 15 Aug 2018 15:33:10 +0000</updated>
                            <resolved>Fri, 14 Oct 2016 16:17:11 +0000</resolved>
                                    <version>5.14.1</version>
                                    <fixVersion>5.15.0</fixVersion>
                    <fixVersion>5.14.2</fixVersion>
                                    <component>Broker</component>
                    <component>Network of Brokers</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15575754" author="jira-bot" created="Fri, 14 Oct 2016 16:16:24 +0000"  >&lt;p&gt;Commit 406a34294befca4ba2de4b728c86f64b96a94945 in activemq&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cshannon&quot; class=&quot;user-hover&quot; rel=&quot;cshannon&quot;&gt;cshannon&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=406a342&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=406a342&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-6465&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/AMQ-6465&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Properly decrementing the message reference count in&lt;br/&gt;
DemandForwardingBridgeSupport when messages supression is checked for&lt;br/&gt;
durable subscriptions&lt;/p&gt;</comment>
                            <comment id="15575757" author="jira-bot" created="Fri, 14 Oct 2016 16:16:48 +0000"  >&lt;p&gt;Commit b49df4848e81b58484644ab32f424b9c6bcb7243 in activemq&apos;s branch refs/heads/activemq-5.14.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cshannon&quot; class=&quot;user-hover&quot; rel=&quot;cshannon&quot;&gt;cshannon&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=b49df48&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=b49df48&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-6465&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/AMQ-6465&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Properly decrementing the message reference count in&lt;br/&gt;
DemandForwardingBridgeSupport when messages supression is checked for&lt;br/&gt;
durable subscriptions&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 406a34294befca4ba2de4b728c86f64b96a94945)&lt;/p&gt;</comment>
                            <comment id="15994684" author="jira-bot" created="Wed, 3 May 2017 11:22:40 +0000"  >&lt;p&gt;Commit c4a1346875dc40c1469e5b9625efe73eccb4b081 in activemq&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gtully&quot; class=&quot;user-hover&quot; rel=&quot;gtully&quot;&gt;gtully&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=c4a1346&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=c4a1346&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-6465&quot; title=&quot;Memory usage incorrectly increases when messages are forwarded over a bridge for a durable subscription&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-6465&quot;&gt;&lt;del&gt;AMQ-6465&lt;/del&gt;&lt;/a&gt; fix up test interplay - clean on start and consume what is produced&lt;/p&gt;</comment>
                            <comment id="16581225" author="jira-bot" created="Wed, 15 Aug 2018 15:22:24 +0000"  >&lt;p&gt;Commit 50d27e7e545d30bc0d35f8dd8baf15b33522c33a in activemq&apos;s branch refs/heads/master from gtully&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=50d27e7&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=50d27e7&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-7035&quot; title=&quot;Memory usage incorrectly increases when selectors are used in JMX operations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-7035&quot;&gt;&lt;del&gt;AMQ-7035&lt;/del&gt;&lt;/a&gt; - use NonCachedMessageEvaluationContext in place of MessageEvaluationContext to avoid unnecessary reference count management and subsequent leaks. Rework &lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-6465&quot; title=&quot;Memory usage incorrectly increases when messages are forwarded over a bridge for a durable subscription&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-6465&quot;&gt;&lt;del&gt;AMQ-6465&lt;/del&gt;&lt;/a&gt; with additional JMX related tests&lt;/p&gt;</comment>
                            <comment id="16581243" author="jira-bot" created="Wed, 15 Aug 2018 15:33:10 +0000"  >&lt;p&gt;Commit 4a99103e706653f395e44d4b43a545b80ef664d9 in activemq&apos;s branch refs/heads/activemq-5.15.x from gtully&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=4a99103&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=4a99103&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-7035&quot; title=&quot;Memory usage incorrectly increases when selectors are used in JMX operations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-7035&quot;&gt;&lt;del&gt;AMQ-7035&lt;/del&gt;&lt;/a&gt; - use NonCachedMessageEvaluationContext in place of MessageEvaluationContext to avoid unnecessary reference count management and subsequent leaks. Rework &lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-6465&quot; title=&quot;Memory usage incorrectly increases when messages are forwarded over a bridge for a durable subscription&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-6465&quot;&gt;&lt;del&gt;AMQ-6465&lt;/del&gt;&lt;/a&gt; with additional JMX related tests&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 50d27e7e545d30bc0d35f8dd8baf15b33522c33a)&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310051">
                    <name>Supercedes</name>
                                                                <inwardlinks description="is superceded by">
                                        <issuelink>
            <issuekey id="13179107">AMQ-7035</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 13 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i34wl3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>