<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 06:52:13 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-9152] ActiveMQ unit tests are not running all tests</title>
                <link>https://issues.apache.org/jira/browse/AMQ-9152</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;There is an include filter in the pom for activemq-unit-tests that is preventing all tests from running. It&apos;s only running tests that end in &quot;Test&quot; so it won&apos;t run things like &quot;AdvisoryTests&quot; since there is an s at the end. After changing this I already found one failing test in AdvisoryTests and there will probably be others so once we see what breaks we will need to go fix the tests or ignore them for now and then add a Jira to fix them later as they have likely been broken for a long time.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13493993">AMQ-9152</key>
            <summary>ActiveMQ unit tests are not running all tests</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cshannon">Christopher L. Shannon</assignee>
                                    <reporter username="cshannon">Christopher L. Shannon</reporter>
                        <labels>
                    </labels>
                <created>Tue, 1 Nov 2022 10:37:21 +0000</created>
                <updated>Thu, 3 Nov 2022 22:29:42 +0000</updated>
                            <resolved>Thu, 3 Nov 2022 19:49:52 +0000</resolved>
                                    <version>5.17.2</version>
                                    <fixVersion>5.18.0</fixVersion>
                    <fixVersion>5.17.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="17627075" author="jira-bot" created="Tue, 1 Nov 2022 10:38:36 +0000"  >&lt;p&gt;Commit ba0b7a25a0fb8d225147748f28f69ba5abee01b5 in activemq&apos;s branch refs/heads/main from Christopher L. Shannon (cshannon)&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=ba0b7a25a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=ba0b7a25a&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-9152&quot; title=&quot;ActiveMQ unit tests are not running all tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-9152&quot;&gt;&lt;del&gt;AMQ-9152&lt;/del&gt;&lt;/a&gt;: Fix surefire setup to run all tests that are not excluded&lt;/p&gt;</comment>
                            <comment id="17627081" author="christopher.l.shannon" created="Tue, 1 Nov 2022 10:44:22 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mattrpav&quot; class=&quot;user-hover&quot; rel=&quot;mattrpav&quot;&gt;mattrpav&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jbonofre&quot; class=&quot;user-hover&quot; rel=&quot;jbonofre&quot;&gt;jbonofre&lt;/a&gt; I figured the simplest thing here is to just go ahead and push this and see what breaks in CI and then go fix.&lt;/p&gt;</comment>
                            <comment id="17627083" author="gemmellr" created="Tue, 1 Nov 2022 10:57:17 +0000"  >&lt;p&gt;Note of course that surefire still has a default (though using that will now pick up the &apos;*Tests&apos; you mentioned specifically).&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://maven.apache.org/surefire/maven-surefire-plugin/test-mojo.html#includes&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://maven.apache.org/surefire/maven-surefire-plugin/test-mojo.html#includes&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17627115" author="christopher.l.shannon" created="Tue, 1 Nov 2022 11:27:04 +0000"  >&lt;p&gt;Makes sense there&apos;s a default filter like that. I had figured surefire was just trying to scan all of src/test/java for Junit annotations or something like if no include filter but the default includes list makes more sense from a performance standpoint.&lt;/p&gt;</comment>
                            <comment id="17627149" author="jbonofre" created="Tue, 1 Nov 2022 12:58:27 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cshannon&quot; class=&quot;user-hover&quot; rel=&quot;cshannon&quot;&gt;cshannon&lt;/a&gt; it makes sense. I will a new pass but we also have to improve CI/CD (too long, too flaky IMHO).&lt;/p&gt;</comment>
                            <comment id="17627151" author="christopher.l.shannon" created="Tue, 1 Nov 2022 13:00:40 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jbonofre&quot; class=&quot;user-hover&quot; rel=&quot;jbonofre&quot;&gt;jbonofre&lt;/a&gt; - We can also disable the tests if too slow or broken but the way it was it was inadvertently excluding tests that shouldn&apos;t be. We should explicitly exclude them with the exclude filter if they are flaky or fix them.&lt;/p&gt;</comment>
                            <comment id="17627152" author="jbonofre" created="Tue, 1 Nov 2022 13:03:15 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cshannon&quot; class=&quot;user-hover&quot; rel=&quot;cshannon&quot;&gt;cshannon&lt;/a&gt; fully agree. In the last PR build, we had couple of timeouts, but most of flaky failure. I will do a pass to exclude the guilty &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17627158" author="mattrpav" created="Tue, 1 Nov 2022 13:18:07 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cshannon&quot; class=&quot;user-hover&quot; rel=&quot;cshannon&quot;&gt;cshannon&lt;/a&gt; good catch, definitely on-board with pushing it in now. &lt;/p&gt;

&lt;p&gt;I&apos;ve been thinking about approaches on cleaning up the unit tests. A number of things like breaking some up into separate maven modules (performance-related tests, etc) &lt;/p&gt;

&lt;p&gt;Also, junit5 may help from a management perspective.. using @Disabled annotation vs rules in the pom. When working in the IDE it takes an extra work flow step to check the pom to know if a test is included or not in the maven build&lt;/p&gt;</comment>
                            <comment id="17627162" author="christopher.l.shannon" created="Tue, 1 Nov 2022 13:24:18 +0000"  >&lt;p&gt;Yeah we could def split things up, it would make it easier to run certain categories of tests that you care about for quicker feedback when developing.&lt;/p&gt;</comment>
                            <comment id="17627348" author="jira-bot" created="Tue, 1 Nov 2022 21:50:03 +0000"  >&lt;p&gt;Commit ea10d984d01c665ca1883cfcc38a66719f997596 in activemq&apos;s branch refs/heads/main from Christopher L. Shannon (cshannon)&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=ea10d984d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=ea10d984d&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-9152&quot; title=&quot;ActiveMQ unit tests are not running all tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-9152&quot;&gt;&lt;del&gt;AMQ-9152&lt;/del&gt;&lt;/a&gt;: Make test classes abstract to fix surefire plugin&lt;/p&gt;</comment>
                            <comment id="17628502" author="jira-bot" created="Thu, 3 Nov 2022 19:49:06 +0000"  >&lt;p&gt;Commit 81773c85d72373896deb3a5ff7c64a6a55971c98 in activemq&apos;s branch refs/heads/activemq-5.17.x from Christopher L. Shannon (cshannon)&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=81773c85d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=81773c85d&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-9152&quot; title=&quot;ActiveMQ unit tests are not running all tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-9152&quot;&gt;&lt;del&gt;AMQ-9152&lt;/del&gt;&lt;/a&gt;: Fix surefire setup to run all tests that are not excluded&lt;/p&gt;

&lt;p&gt;(cherry picked from commit ba0b7a25a0fb8d225147748f28f69ba5abee01b5)&lt;/p&gt;</comment>
                            <comment id="17628503" author="jira-bot" created="Thu, 3 Nov 2022 19:49:06 +0000"  >&lt;p&gt;Commit 3047807763f7cf7f9791cb1272273c9161b08908 in activemq&apos;s branch refs/heads/activemq-5.17.x from Christopher L. Shannon (cshannon)&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=304780776&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=304780776&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-9152&quot; title=&quot;ActiveMQ unit tests are not running all tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-9152&quot;&gt;&lt;del&gt;AMQ-9152&lt;/del&gt;&lt;/a&gt;: Make test classes abstract to fix surefire plugin&lt;/p&gt;

&lt;p&gt;(cherry picked from commit ea10d984d01c665ca1883cfcc38a66719f997596)&lt;/p&gt;</comment>
                            <comment id="17628504" author="christopher.l.shannon" created="Thu, 3 Nov 2022 19:49:52 +0000"  >&lt;p&gt;I&apos;m closing this as resolved as the tests are now running again. If there are specific tests that are broken or need to be ignored we can fix them in another Jira.&lt;/p&gt;</comment>
                            <comment id="17628548" author="christopher.l.shannon" created="Thu, 3 Nov 2022 22:29:42 +0000"  >&lt;p&gt;Tests keep timing out now after this so I opened a PR to increase the timeout, if that fails we will need to reopen this or create a new jira to hunt down which test is causing the build to always timeout with the error: &lt;b&gt;There was a timeout in the fork&lt;/b&gt; : &lt;a href=&quot;https://github.com/apache/activemq/pull/930&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/activemq/pull/930&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 1 week, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1aom8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>