<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 05:54:01 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-3835] STOMP 1.0 protocol (read ACK) broken on ActiveMQ 5.6.0</title>
                <link>https://issues.apache.org/jira/browse/AMQ-3835</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;ActiveMQ does not respect read ACK over STOMP connections.&lt;/p&gt;

&lt;p&gt;Protocol logs follow:&lt;br/&gt;
dmichellis@ni-73291-3:~/scripts/activemq$ telnet kolombo-s-pla1 61614&lt;br/&gt;
Trying 192.168.128.130...&lt;br/&gt;
Connected to kolombo-s-pla1.&lt;br/&gt;
Escape character is &apos;^]&apos;.&lt;br/&gt;
CONNECT&lt;/p&gt;

&lt;p&gt;^@&lt;br/&gt;
CONNECTED&lt;br/&gt;
heart-beat:0,0&lt;br/&gt;
session:ID:kolombo-s-pla1.adm.intranet-34333-1336745977026-2:9&lt;br/&gt;
server:ActiveMQ/5.6.0&lt;br/&gt;
version:1.0&lt;/p&gt;


&lt;p&gt;SUBSCRIBE&lt;br/&gt;
ack:client&lt;br/&gt;
destination:nagios-events&lt;br/&gt;
activemq.prefetchSize:1&lt;/p&gt;

&lt;p&gt;^@&lt;br/&gt;
MESSAGE&lt;br/&gt;
message-id:ID:kolombo-s-pla1.adm.intranet-34333-1336745977026-2:10:-1:1:1&lt;br/&gt;
destination:/queue/nagios-events&lt;br/&gt;
timestamp:1336746413131&lt;br/&gt;
expires:0&lt;br/&gt;
persistent:true&lt;br/&gt;
priority:4&lt;/p&gt;

&lt;p&gt;msg 18712 0&lt;br/&gt;
MESSAGE&lt;br/&gt;
message-id:ID:kolombo-s-pla1.adm.intranet-34333-1336745977026-2:10:-1:1:2&lt;br/&gt;
destination:/queue/nagios-events&lt;br/&gt;
timestamp:1336746413152&lt;br/&gt;
expires:0&lt;br/&gt;
persistent:true&lt;br/&gt;
priority:4&lt;/p&gt;

&lt;p&gt;msg 18712 1&lt;br/&gt;
MESSAGE&lt;br/&gt;
message-id:ID:kolombo-s-pla1.adm.intranet-34333-1336745977026-2:10:-1:1:3&lt;br/&gt;
destination:/queue/nagios-events&lt;br/&gt;
timestamp:1336746413161&lt;br/&gt;
expires:0&lt;br/&gt;
persistent:true&lt;br/&gt;
priority:4&lt;/p&gt;

&lt;p&gt;msg 18712 2&lt;br/&gt;
MESSAGE&lt;br/&gt;
message-id:ID:kolombo-s-pla1.adm.intranet-34333-1336745977026-2:10:-1:1:4&lt;br/&gt;
destination:/queue/nagios-events&lt;br/&gt;
timestamp:1336746413163&lt;br/&gt;
expires:0&lt;br/&gt;
persistent:true&lt;br/&gt;
priority:4&lt;/p&gt;

&lt;p&gt;msg 18712 3&lt;br/&gt;
MESSAGE&lt;br/&gt;
message-id:ID:kolombo-s-pla1.adm.intranet-34333-1336745977026-2:10:-1:1:5&lt;br/&gt;
destination:/queue/nagios-events&lt;br/&gt;
timestamp:1336746413165&lt;br/&gt;
expires:0&lt;br/&gt;
persistent:true&lt;br/&gt;
priority:4&lt;/p&gt;

&lt;p&gt;msg 18712 4&lt;/p&gt;</description>
                <environment>&lt;p&gt;Apache ActiveMQ 5.6.0 running on CentOS 5, jre-1.6.0_20-fcs&lt;/p&gt;</environment>
        <key id="12554912">AMQ-3835</key>
            <summary>STOMP 1.0 protocol (read ACK) broken on ActiveMQ 5.6.0</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="4">Incomplete</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="dmichellis">Deives Michellis</reporter>
                        <labels>
                    </labels>
                <created>Fri, 11 May 2012 14:27:39 +0000</created>
                <updated>Fri, 13 Jul 2012 14:55:24 +0000</updated>
                            <resolved>Fri, 13 Jul 2012 14:55:24 +0000</resolved>
                                    <version>5.6.0</version>
                                                    <component>STOMP</component>
                        <due></due>
                            <votes>2</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="13273307" author="tabish121" created="Fri, 11 May 2012 14:44:57 +0000"  >&lt;p&gt;Recommend you create a JUnit test case to demonstrate your issue.&lt;/p&gt;</comment>
                            <comment id="13273310" author="dmichellis" created="Fri, 11 May 2012 14:48:17 +0000"  >&lt;p&gt;I have absolutely no idea how to do that. I am not a java guy, sorry&lt;/p&gt;</comment>
                            <comment id="13273319" author="tabish121" created="Fri, 11 May 2012 14:58:46 +0000"  >&lt;p&gt;StompTest.java in our unit tests has plenty of examples, barring that please create a test case using the client you are currently using.  &lt;/p&gt;</comment>
                            <comment id="13273492" author="dmichellis" created="Fri, 11 May 2012 18:33:38 +0000"  >&lt;p&gt;Well, there is a test right over there:&lt;/p&gt;

&lt;p&gt;I specifically asked activemq to wait for my ACKs before sending a new message, and send 1 single message at a time until I acknowledge the last message. ActiveMQ is ignoring both.&lt;/p&gt;</comment>
                            <comment id="13277784" author="tabish121" created="Thu, 17 May 2012 13:10:21 +0000"  >&lt;p&gt;Added a new unit test to StompTest.java testPrefetchSizeOfOneClientAck which shows that prefetch of one is working as expected.&lt;/p&gt;</comment>
                            <comment id="13277909" author="dmichellis" created="Thu, 17 May 2012 15:55:39 +0000"  >&lt;p&gt;The READ ACK, however, is NOT.&lt;/p&gt;</comment>
                            <comment id="13278007" author="tabish121" created="Thu, 17 May 2012 17:41:14 +0000"  >&lt;p&gt;You&apos;ll need to provide a test case that shows what you think is wrong then.  &lt;/p&gt;</comment>
                            <comment id="13290789" author="tapan.thapa" created="Thu, 7 Jun 2012 04:42:18 +0000"  >&lt;p&gt;Hello,&lt;/p&gt;

&lt;p&gt;I am facing the same issue. Is there any solution which has been proposed/suggested.&lt;/p&gt;

&lt;p&gt;I am using stomp 1.0 client from below link.&lt;br/&gt;
&lt;a href=&quot;http://stomp.fusesource.org/documentation/php/book.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://stomp.fusesource.org/documentation/php/book.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Error under activemq console:&lt;/p&gt;

&lt;p&gt; WARN | Exception occurred processing:&lt;br/&gt;
ACK&lt;br/&gt;
message-id: ID:tapan-htmsl-3435-1339041139453-2:4:-1:1:1&lt;br/&gt;
destination: /queue/test&lt;br/&gt;
timestamp: 1339043765083&lt;br/&gt;
expires: 0&lt;br/&gt;
priority: 4&lt;/p&gt;

&lt;p&gt; : org.apache.activemq.transport.stomp.ProtocolException: Unexpected ACK received for message-id [ I&lt;br/&gt;
D:tapan-htmsl-3435-1339041139453-2:4:-1:1:1]&lt;/p&gt;

&lt;p&gt;FYI: I am on windows.&lt;/p&gt;

&lt;p&gt;Regards&lt;br/&gt;
Tapan Thapa&lt;/p&gt;</comment>
                            <comment id="13413795" author="tabish121" created="Fri, 13 Jul 2012 14:55:24 +0000"  >&lt;p&gt;No test case provided. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>239165</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 19 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0suhr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>166417</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>