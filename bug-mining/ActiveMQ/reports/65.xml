<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 05:30:59 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-736] Broker is not delivering all messages to slow consumer</title>
                <link>https://issues.apache.org/jira/browse/AMQ-736</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;When producer produces more messages than consumer can handle, after some time some messages are not delivered to the consumer (they are just skipped). To get those messages from the broker, you need to reconnect the consumer. It seems that this bug only occures if message persistance is turned on in the broker.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Linux/Windows Java 1.5.0_06&lt;/p&gt;</environment>
        <key id="12481614">AMQ-736</key>
            <summary>Broker is not delivering all messages to slow consumer</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jurna">Danielius Jurna</reporter>
                        <labels>
                    </labels>
                <created>Sat, 3 Jun 2006 04:58:37 +0000</created>
                <updated>Mon, 5 Jun 2006 21:12:08 +0000</updated>
                            <resolved>Mon, 5 Jun 2006 20:48:23 +0000</resolved>
                                    <version>4.0</version>
                                    <fixVersion>4.0.1</fixVersion>
                                    <component>Broker</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12938011" author="jurna" created="Mon, 5 Jun 2006 04:49:47 +0000"  >&lt;p&gt;The problem is not in the broker, but in JournalMessageStore. Whet JoiurnalMessageStore is performing checkpoint, consumers doesn&apos;t receive messages during that checkpoint. &lt;br/&gt;
The bug is that during checkpoint, messages are removed from cpAddedMessageIds list, and as I understand, this is temporal message store used during checkpoint. And during checkpoint messages shouldn&apos;t be removed from there, because consumer is using this member to get messages, which are already removed from short term storage, but not yet added to long term storage. So fix is preatty simple.&lt;br/&gt;
I&apos;m adding the patch against the main trunk of ActiveMQ.&lt;br/&gt;
Hope some ActiveMQ developers will take a look.&lt;/p&gt;</comment>
                            <comment id="12937865" author="jstrachan" created="Mon, 5 Jun 2006 17:38:52 +0000"  >&lt;p&gt;Have committed your test case - many thanks for that - its here...&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://svn.apache.org/repos/asf/incubator/activemq/trunk/activemq-core/src/test/java/org/apache/activemq/bugs/SlowConsumerTest.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/repos/asf/incubator/activemq/trunk/activemq-core/src/test/java/org/apache/activemq/bugs/SlowConsumerTest.java&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I made one or two minor changes (using a name local to the test case for the queue to avoid tests treading on each others toes and failing rather than hanging if enough messages are not returned in time). The test case works fine on OS X - both before my changes and after them - before applying your patch to fix the test case. Will investigate further&lt;/p&gt;</comment>
                            <comment id="12937938" author="jstrachan" created="Mon, 5 Jun 2006 20:48:23 +0000"  >&lt;p&gt;Patch and test case applied - many thanks!&lt;/p&gt;</comment>
                            <comment id="12937850" author="jstrachan" created="Mon, 5 Jun 2006 21:12:08 +0000"  >&lt;p&gt;added patch available flag&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12460676" name="ASF.LICENSE.NOT.GRANTED--SlowConsumerTest.java" size="4565" author="jurna" created="Sat, 3 Jun 2006 04:58:37 +0000"/>
                            <attachment id="12460541" name="slowConsumer.patch" size="672" author="jurna" created="Mon, 5 Jun 2006 04:50:23 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>38747</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            19 years, 26 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310041" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Patch Info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10042"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0s08v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>161516</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>