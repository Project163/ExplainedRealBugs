<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 05:30:36 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-487] Temp Destination definition not sent across network bridge to support request/reply model?</title>
                <link>https://issues.apache.org/jira/browse/AMQ-487</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;Goal was to test request/response model across a network bridge.  The requestor sets up a temporary topic and includes as the reply topic with message sent to the responder. It is expected that the responder will send message on the provide replyTo topic.&lt;/p&gt;

&lt;p&gt;Using the multicast://default discovery mechanism and networkConnector transport to interconnect two brokers (different hosts &amp;ldquo;harley&amp;rdquo; to &amp;ldquo;roadrash&amp;rdquo;). Responder client  attaches to &amp;ldquo;harley&amp;rdquo; and requestor client attaches to &amp;ldquo;roadrash&amp;rdquo;. &lt;/p&gt;

&lt;p&gt;Requestor client creates temporary topic, sends message.&lt;br/&gt;
Responder receives message attempt to reply on the temporary topic, but errors with message indicating cannot publish to deleted topic&lt;/p&gt;</description>
                <environment>&lt;p&gt;w2k and linux with jdk 1.5&lt;/p&gt;</environment>
        <key id="12481646">AMQ-487</key>
            <summary>Temp Destination definition not sent across network bridge to support request/reply model?</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rajdavies">Robert Davies</assignee>
                                    <reporter username="dennis@bevocal.com">Dennis Cook</reporter>
                        <labels>
                    </labels>
                <created>Sat, 14 Jan 2006 01:58:08 +0000</created>
                <updated>Mon, 1 May 2006 21:48:20 +0000</updated>
                            <resolved>Mon, 27 Mar 2006 15:12:11 +0000</resolved>
                                    <version>4.0</version>
                                    <fixVersion>4.0</fixVersion>
                                    <component>Connector</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12937522" author="dennis@bevocal.com" created="Sat, 14 Jan 2006 02:06:22 +0000"  >&lt;p&gt;Actually when debug level set for broker, logs show destinations in fact are being established on both sides of the bridge.  So begs to question why responding client is informed that destination is deleted.&lt;/p&gt;</comment>
                            <comment id="12937417" author="dennis@bevocal.com" created="Sat, 14 Jan 2006 02:12:15 +0000"  >&lt;p&gt;Attachment contains 4 log files: &lt;/p&gt;

&lt;p&gt;Two broker logs from interconnected brokers&lt;br/&gt;
Log from the requestor&lt;br/&gt;
Log from the responder&lt;/p&gt;

&lt;p&gt;Requestor, responder and on broker all run on host roadrash so timestamps are exact.  Timestamps for host harly broker within one second.&lt;/p&gt;</comment>
                            <comment id="12937631" author="kieranmurphy" created="Mon, 13 Mar 2006 21:53:56 +0000"  >&lt;p&gt;I had this problem with 3.0 and submitted the following to the mailing list.  I was getting the same &quot;cannot write to a deleted destination...&quot; error. &lt;/p&gt;

&lt;p&gt;I think this is a bug in the way Network Message Bridges for TemporaryDestinations are named.&lt;br/&gt;
In my debugger, I see that the physical name of a TemporaryTopic is (for example):&lt;/p&gt;

&lt;p&gt;&amp;gt; TemporaryTopic-{TD&lt;/p&gt;
{ID:kmurphynb.alleanzasalute.it-32917-1134582426027-1:0}
&lt;p&gt;TD}ID:kmurphynb.alleanzasalute.it-32917-1134582426027-6:0&lt;/p&gt;


&lt;p&gt;In a network of brokers, a network message bridge is opened from the connection which spawned this TemporaryTopic to all others in the network &amp;#8211; apparently sometimes using this physical name:&lt;/p&gt;

&lt;p&gt;&amp;gt; 11:48:19 INFO  started NetworkMessageBridge for destination: TemporaryTopic-{TD&lt;/p&gt;
{ID:kmurphynb.alleanzasalute.it-32917-1134582426027-1:0}
&lt;p&gt;TD}ID:kmurphynb.alleanzasalute.it-32917-1134582426027-6:0 &amp;#8211; NetworkChannel: NetworkChannel&lt;/p&gt;
{ , uri = &apos;reliable:tcp://localhost:61617&apos; , remoteBrokerName = &apos;node2&apos;  }


&lt;p&gt;and other times prefaced with the class name:&lt;/p&gt;

&lt;p&gt;&amp;gt; 11:49:37 INFO  started NetworkMessageBridge for destination: ActiveMQ.Advisory.TempDestinations.temp-topic.TemporaryTopic-{TD&lt;/p&gt;
{ID:kmurphynb.alleanzasalute.it-32924-1134582576664-1:0}
&lt;p&gt;TD}ID:kmurphynb.alleanzasalute.it-32924-1134582576664-6:0 &amp;#8211; NetworkChannel: NetworkChannel&lt;/p&gt;
{ , uri = &apos;reliable:tcp://localhost:61617&apos; , remoteBrokerName = &apos;node2&apos;  }
&lt;p&gt;&amp;gt;&lt;br/&gt;
The problem is that in either case, the physical name of the TemporaryTopic is used to &quot;validate&quot; it.  So when I try to reply to the second TemporaryTopic shown above, I get:&lt;/p&gt;

&lt;p&gt;&amp;gt; ERROR - Thread-67 cosm.cee.component.messaging.impl.jms.JMSMessagingChannel send&lt;br/&gt;
&amp;gt; javax.jms.JMSException: Cannot publish to a deleted Destination: TemporaryTopic-{TD&lt;/p&gt;
{ID:kmurphynb.alleanzasalute.it-32924-1134582576664-1:0}
&lt;p&gt;TD}ID:kmurphynb.alleanzasalute.it-32924-1134582576664-6:0&lt;/p&gt;


&lt;p&gt;Note difference in the names.&lt;/p&gt;

&lt;p&gt;I got around this by creating a new, permanent Topic (or Queue &amp;#8211; I found the same problem adn solution with both TemporaryTopics and TemporaryQueues) with a random (guaranteed random in my application&apos;s scope) String for a name.  It appears that for a non-temporary Destination, the name of the destination is always used for the message bridge:&lt;/p&gt;

&lt;p&gt;&amp;gt; 12:57:37 INFO  started NetworkMessageBridge for destination: 7E3829D1-6CD3-11DA-B666-CA9B35A911B1 &amp;#8211; NetworkChannel: NetworkChannel&lt;/p&gt;
{ , uri = &apos;reliable:tcp://localhost:61617&apos; , remoteBrokerName = &apos;node2&apos;  }


&lt;p&gt;In this way I get the same effect &amp;#8211; a unique destination, whose presence is only known to recipients of a particular message, and whose lifespan is that of it&apos;s connection.  I would prefer to use TemporaryTopics and TemporaryQueues, though.&lt;/p&gt;

&lt;p&gt;Any thoughts? &lt;/p&gt;</comment>
                            <comment id="12937136" author="rajdavies" created="Mon, 27 Mar 2006 15:12:11 +0000"  >&lt;p&gt;Resolved&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12460569" name="ASF.LICENSE.NOT.GRANTED--AMQ-487-logs.zip" size="16225" author="dennis@bevocal.com" created="Sat, 14 Jan 2006 02:12:15 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>49154</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            19 years, 36 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0s2mf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>161901</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>