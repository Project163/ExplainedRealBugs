<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 06:41:46 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-6824] PrefetchExtension growth with transacted consumers</title>
                <link>https://issues.apache.org/jira/browse/AMQ-6824</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;With a transacted consumer on either a topic or queue the prefetch extension increments only. This leads to flow control failing b/c the subscription is never full. Messages can accumulate on the subscription dispatch channel if the consumer is blocked or slow. As a result, memory usage limits can be exceeded for topics.&lt;br/&gt;
There is a similar issue with client_ack mode and prefetch.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13105037">AMQ-6824</key>
            <summary>PrefetchExtension growth with transacted consumers</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gtully">Gary Tully</assignee>
                                    <reporter username="gtully">Gary Tully</reporter>
                        <labels>
                    </labels>
                <created>Tue, 26 Sep 2017 09:59:03 +0000</created>
                <updated>Fri, 1 Jun 2018 11:48:17 +0000</updated>
                            <resolved>Wed, 27 Sep 2017 13:54:48 +0000</resolved>
                                    <version>5.15.0</version>
                                    <fixVersion>5.16.0</fixVersion>
                                    <component>Broker</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16180568" author="gtully" created="Tue, 26 Sep 2017 10:00:46 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-6577&quot; title=&quot;TopicSubscription does not honor usePrefetchExtension&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-6577&quot;&gt;&lt;del&gt;AMQ-6577&lt;/del&gt;&lt;/a&gt; - used expiry processing as the trigger but prefetchExtension should be used for client_ack and transactions to allow batches to exceed the configured prefetch. Re worked the test to address that.&lt;/p&gt;</comment>
                            <comment id="16180569" author="gtully" created="Tue, 26 Sep 2017 10:02:32 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-6422&quot; title=&quot;AMQP - flow(1) without a dispositon can lead to blocked receive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-6422&quot;&gt;&lt;del&gt;AMQ-6422&lt;/del&gt;&lt;/a&gt; - brought the flawed prefetch logic from queue subscriptions to topic subscriptions.&lt;/p&gt;</comment>
                            <comment id="16180592" author="jira-bot" created="Tue, 26 Sep 2017 10:30:39 +0000"  >&lt;p&gt;Commit 41a100766c19655816d575841ba559d33c63313d in activemq&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gtully&quot; class=&quot;user-hover&quot; rel=&quot;gtully&quot;&gt;gtully&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=41a1007&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=41a1007&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-6824&quot; title=&quot;PrefetchExtension growth with transacted consumers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-6824&quot;&gt;&lt;del&gt;AMQ-6824&lt;/del&gt;&lt;/a&gt; - fix up prefetchExtension growth on transaction completion and delivered ack and tie in boolean usePrefetchExtension&lt;/p&gt;</comment>
                            <comment id="16181287" author="jira-bot" created="Tue, 26 Sep 2017 18:35:01 +0000"  >&lt;p&gt;Commit 26788f5fd7109a3cf30210744b5900f84a8eafd9 in activemq&apos;s branch refs/heads/activemq-5.15.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gtully&quot; class=&quot;user-hover&quot; rel=&quot;gtully&quot;&gt;gtully&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=26788f5&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=26788f5&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-6824&quot; title=&quot;PrefetchExtension growth with transacted consumers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-6824&quot;&gt;&lt;del&gt;AMQ-6824&lt;/del&gt;&lt;/a&gt; - fix up prefetchExtension growth on transaction completion and delivered ack and tie in boolean usePrefetchExtension&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 41a100766c19655816d575841ba559d33c63313d)&lt;/p&gt;</comment>
                            <comment id="16183978" author="jira-bot" created="Thu, 28 Sep 2017 10:36:49 +0000"  >&lt;p&gt;Commit 578eacab455d82989da2ac26980379a04eeb2ad0 in activemq&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gtully&quot; class=&quot;user-hover&quot; rel=&quot;gtully&quot;&gt;gtully&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=578eaca&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=578eaca&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-6824&quot; title=&quot;PrefetchExtension growth with transacted consumers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-6824&quot;&gt;&lt;del&gt;AMQ-6824&lt;/del&gt;&lt;/a&gt; remove time dependency in test assertion&lt;/p&gt;</comment>
                            <comment id="16184189" author="jira-bot" created="Thu, 28 Sep 2017 13:40:47 +0000"  >&lt;p&gt;Commit fe82d02e381a166f67c9da23004f3a8739b18258 in activemq&apos;s branch refs/heads/activemq-5.15.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gtully&quot; class=&quot;user-hover&quot; rel=&quot;gtully&quot;&gt;gtully&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=fe82d02&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=fe82d02&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-6824&quot; title=&quot;PrefetchExtension growth with transacted consumers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-6824&quot;&gt;&lt;del&gt;AMQ-6824&lt;/del&gt;&lt;/a&gt; remove time dependency in test assertion&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 578eacab455d82989da2ac26980379a04eeb2ad0)&lt;/p&gt;</comment>
                            <comment id="16497886" author="jira-bot" created="Fri, 1 Jun 2018 11:48:17 +0000"  >&lt;p&gt;Commit 63b71affbc22f2186ec6b02baeed34a77cbeb27b in activemq&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gtully&quot; class=&quot;user-hover&quot; rel=&quot;gtully&quot;&gt;gtully&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=63b71af&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=63b71af&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-6824&quot; title=&quot;PrefetchExtension growth with transacted consumers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-6824&quot;&gt;&lt;del&gt;AMQ-6824&lt;/del&gt;&lt;/a&gt; - harden test&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13003301">AMQ-6422</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310051">
                    <name>Supercedes</name>
                                            <outwardlinks description="supercedes">
                                        <issuelink>
            <issuekey id="13037628">AMQ-6577</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 24 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3kjk7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>