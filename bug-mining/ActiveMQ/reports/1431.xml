<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 05:53:15 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-3742] STOMP subscriber does not receive TextMessage with null body sent from JMS</title>
                <link>https://issues.apache.org/jira/browse/AMQ-3742</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;If a JMS publisher sends a TextMessage with null body, any STOMP subscribers to the topic (I haven&apos;t tested queues) will not receive that message or any further messages on that topic. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12544312">AMQ-3742</key>
            <summary>STOMP subscriber does not receive TextMessage with null body sent from JMS</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tabish">Timothy A. Bish</assignee>
                                    <reporter username="david@inomial.com">David Wheeler</reporter>
                        <labels>
                    </labels>
                <created>Mon, 27 Feb 2012 21:02:12 +0000</created>
                <updated>Mon, 27 Feb 2012 21:37:33 +0000</updated>
                            <resolved>Mon, 27 Feb 2012 21:37:33 +0000</resolved>
                                    <version>5.5.1</version>
                                    <fixVersion>5.6.0</fixVersion>
                                    <component>STOMP</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13217559" author="david@inomial.com" created="Mon, 27 Feb 2012 21:05:55 +0000"  >&lt;p&gt;I&apos;ve created the following extra test method that should reproduce the issue&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;StompTest.java.patch&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Index: src/test/java/org/apache/activemq/transport/stomp/StompTest.java
===================================================================
--- src/test/java/org/apache/activemq/transport/stomp/StompTest.java	(revision 1294315)
+++ src/test/java/org/apache/activemq/transport/stomp/StompTest.java	(working copy)
@@ -1819,6 +1819,24 @@
         doReplyToAcrossConnections(&lt;span class=&quot;code-quote&quot;&gt;&quot;queue&quot;&lt;/span&gt;);
     }
 
+    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testSendNullBodyTextMessage() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
+      &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; frame = &lt;span class=&quot;code-quote&quot;&gt;&quot;CONNECT\n&quot;&lt;/span&gt; + &lt;span class=&quot;code-quote&quot;&gt;&quot;login: system\n&quot;&lt;/span&gt; + &lt;span class=&quot;code-quote&quot;&gt;&quot;passcode: manager\n\n&quot;&lt;/span&gt; + Stomp.NULL;
+      stompConnection.sendFrame(frame);
+
+      frame = stompConnection.receiveFrame();
+      assertTrue(frame.startsWith(&lt;span class=&quot;code-quote&quot;&gt;&quot;CONNECTED&quot;&lt;/span&gt;));
+
+      frame = &lt;span class=&quot;code-quote&quot;&gt;&quot;SUBSCRIBE\n&quot;&lt;/span&gt; + &lt;span class=&quot;code-quote&quot;&gt;&quot;destination:/queue/&quot;&lt;/span&gt; + getQueueName() + &lt;span class=&quot;code-quote&quot;&gt;&quot;\n&quot;&lt;/span&gt; + &lt;span class=&quot;code-quote&quot;&gt;&quot;ack:auto\n\n&quot;&lt;/span&gt; + Stomp.NULL;
+      stompConnection.sendFrame(frame);
+
+      sendMessage(&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;);
+      frame = stompConnection.receiveFrame();
+      assertNotNull(&lt;span class=&quot;code-quote&quot;&gt;&quot;Message not received&quot;&lt;/span&gt;, frame);
+
+      frame = &lt;span class=&quot;code-quote&quot;&gt;&quot;DISCONNECT\n&quot;&lt;/span&gt; + &lt;span class=&quot;code-quote&quot;&gt;&quot;\n\n&quot;&lt;/span&gt; + Stomp.NULL;
+      stompConnection.sendFrame(frame);
+    }
+    
     &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; void doReplyToAcrossConnections(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; type) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
         LOG.info(&lt;span class=&quot;code-quote&quot;&gt;&quot;Starting test on Temp Destinations using a temporary: &quot;&lt;/span&gt; + type);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13217565" author="tabish121" created="Mon, 27 Feb 2012 21:12:42 +0000"  >&lt;p&gt;You need to attach you patch as a file to this issue and tick the &quot;grant license to apache&quot; checkbox so we can include it.  Thanks.&lt;/p&gt;</comment>
                            <comment id="13217570" author="david@inomial.com" created="Mon, 27 Feb 2012 21:18:39 +0000"  >&lt;p&gt;Patch file attached (sorry - I couldn&apos;t work out how to attach a file in JIRA)&lt;/p&gt;</comment>
                            <comment id="13217585" author="tabish121" created="Mon, 27 Feb 2012 21:37:33 +0000"  >&lt;p&gt;Fix applied on trunk.  Thanks for the test case.  &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12516211" name="StompTest.java.patch" size="1241" author="david@inomial.com" created="Mon, 27 Feb 2012 21:18:39 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>229549</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 39 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ai47:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>59208</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>