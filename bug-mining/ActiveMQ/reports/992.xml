<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 05:47:16 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-2870] Messages that don&apos;t match a message selector for a durable subscription are stored causing the persistent store to eventually fill up</title>
                <link>https://issues.apache.org/jira/browse/AMQ-2870</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;With a durable sub, ack entries are created on a message send for each durable sub, but if the durable sub does not match the message due to a selector, the message remains unacked, pending, such that is can fill up the store. Any unmatched message should be acked immediately.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12481833">AMQ-2870</key>
            <summary>Messages that don&apos;t match a message selector for a durable subscription are stored causing the persistent store to eventually fill up</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="10101">Abandoned</resolution>
                                        <assignee username="gtully">Gary Tully</assignee>
                                    <reporter username="gtully">Gary Tully</reporter>
                        <labels>
                    </labels>
                <created>Mon, 16 Aug 2010 10:26:41 +0000</created>
                <updated>Sun, 13 Mar 2022 14:02:22 +0000</updated>
                            <resolved>Sun, 13 Mar 2022 14:02:22 +0000</resolved>
                                    <version>5.3.2</version>
                                    <fixVersion>5.4.1</fixVersion>
                                    <component>Broker</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="12938668" author="gtully" created="Mon, 16 Aug 2010 15:40:56 +0000"  >&lt;p&gt;fix committed in r985993 - unmatched messages are now acked immediately by a durable sub.&lt;/p&gt;</comment>
                            <comment id="13467600" author="larhvi" created="Tue, 2 Oct 2012 10:07:45 +0000"  >&lt;p&gt;This error still exists when using the JDBC store.. &lt;/p&gt;

&lt;p&gt;2012-10-02 11:55:57,299 | TRACE | ignoring unmatched selector ack for: ID:java-dev-image-37369-1349171756956-0:1:1:1:1, cleanup will get to this message after subsequent acks. | org.apache.activemq.store.jdbc.JDBCTopicMessageStore | ActiveMQ Transport: tcp:///127.0.0.1:34884&lt;/p&gt;

&lt;p&gt;The cleanup will of course never get to this message, as no messages are acked ever..&lt;/p&gt;

&lt;p&gt;This exclusion of unmatched selectors happens at&lt;br/&gt;
&lt;a href=&quot;https://fisheye6.atlassian.com/browse/activemq/trunk/activemq-core/src/main/java/org/apache/activemq/store/jdbc/JDBCTopicMessageStore.java?r=1345202#to73&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://fisheye6.atlassian.com/browse/activemq/trunk/activemq-core/src/main/java/org/apache/activemq/store/jdbc/JDBCTopicMessageStore.java?r=1345202#to73&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;It was introduced as a fix to some other bugs in &lt;a href=&quot;https://fisheye6.atlassian.com/changelog/activemq?cs=1025939&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://fisheye6.atlassian.com/changelog/activemq?cs=1025939&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13866583" author="gtully" created="Thu, 9 Jan 2014 12:09:55 +0000"  >&lt;p&gt;need to tackle the jdbc store case - fix needs some investigation.&lt;/p&gt;</comment>
                            <comment id="17505510" author="christopher.l.shannon" created="Sun, 13 Mar 2022 14:02:22 +0000"  >&lt;p&gt;Closing very old jiras that were created more than 10 years ago&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>14760</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 35 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0b9pz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>63687</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>