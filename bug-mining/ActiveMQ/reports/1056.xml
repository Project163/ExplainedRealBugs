<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 05:48:09 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-2972] STOMP over Websockets do not work in Chrome</title>
                <link>https://issues.apache.org/jira/browse/AMQ-2972</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;The STOMP over Websocket support does not work with both client libraries referenced from the ActiveMQ Websockets page&lt;br/&gt;
( &lt;a href=&quot;http://activemq.apache.org/websockets.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://activemq.apache.org/websockets.html&lt;/a&gt; ).&lt;br/&gt;
On the ActiveMQ side, the following error appears:&lt;/p&gt;

&lt;p&gt; INFO | Started SelectChannelConnector@0.0.0.0:8161&lt;br/&gt;
ERROR | handle failed?&lt;br/&gt;
java.lang.IllegalArgumentException: !utf8&lt;br/&gt;
        at org.eclipse.jetty.util.Utf8StringBuilder.append(Utf8StringBuilder.java:112)&lt;br/&gt;
        at org.eclipse.jetty.websocket.WebSocketParser.parseNext(WebSocketParser.java:147)&lt;br/&gt;
        at org.eclipse.jetty.websocket.WebSocketConnection.handle(WebSocketConnection.java:75)&lt;br/&gt;
        at org.eclipse.jetty.server.bio.SocketConnector$ConnectorEndPoint.run(SocketConnector.java:252)&lt;br/&gt;
        at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:436)&lt;br/&gt;
        at java.lang.Thread.run(Unknown Source)&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows XP, Chrome 6.0.472.63&lt;/p&gt;</environment>
        <key id="12483502">AMQ-2972</key>
            <summary>STOMP over Websockets do not work in Chrome</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dejanb">Dejan Bosanac</assignee>
                                    <reporter username="bergamot">Arjan van den Berg</reporter>
                        <labels>
                    </labels>
                <created>Tue, 12 Oct 2010 07:52:34 +0000</created>
                <updated>Mon, 18 Oct 2010 07:15:12 +0000</updated>
                            <resolved>Wed, 13 Oct 2010 08:52:22 +0000</resolved>
                                    <version>5.4.1</version>
                                    <fixVersion>5.4.2</fixVersion>
                                    <component>Transport</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="12943040" author="bergamot" created="Tue, 12 Oct 2010 08:58:08 +0000"  >&lt;p&gt;I&apos;ve managed to solve the issue by upgrading the jetty components to version 7.1.6&lt;br/&gt;
So, in lib/web, I updated jetty-all-server-7.0.1.v20091125.jar to jetty-all-server-7.1.6.v20100715.jar&lt;br/&gt;
and jetty-websocket-7.0.1.v20091125.jar to jetty-websocket-7.1.6.v20100715.jar.&lt;/p&gt;

&lt;p&gt;Probably the websocket specification has changed between jetty releases.&lt;/p&gt;

&lt;p&gt;Also, some extra documentation on how to use the client libraries specifically for ActiveMQ would be handy.&lt;br/&gt;
It took some time for me to find out that the destination should be in the form &quot;/topic/test.topic&quot; or &quot;/queue/test.queue&quot;.&lt;/p&gt;</comment>
                            <comment id="12943028" author="dejanb" created="Wed, 13 Oct 2010 08:52:22 +0000"  >&lt;p&gt;fixed with svn revision 1022029. Thanks for digging this out.&lt;/p&gt;</comment>
                            <comment id="12943076" author="julian.cable" created="Sat, 16 Oct 2010 03:16:55 +0000"  >&lt;p&gt;Using apache-activemq-5.4.0-fuse-00-00&lt;/p&gt;

&lt;p&gt;I tried updating the jetty jars and got:&lt;/p&gt;

&lt;p&gt;ERROR: java.lang.RuntimeException: Failed to execute start task. Reason: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to load type: org.eclipse.jetty.security.HashLoginService. Reason: java.lang.ClassNotFoundException: org.eclipse.jetty.security.HashLoginService; nested exception is java.lang.ClassNotFoundException: org.eclipse.jetty.security.HashLoginService&lt;/p&gt;

&lt;p&gt;I tried adding jetty-security-7.1.6.v20100715.jar but that didn&apos;t help.&lt;/p&gt;</comment>
                            <comment id="12943078" author="bergamot" created="Mon, 18 Oct 2010 07:15:12 +0000"  >&lt;p&gt;The jetty-all-server jar is an aggregate jar that contains org.eclipse.jetty.security.HashLoginService. Maybe your classpath is non-standard or there&apos;s a difference between ActiveMQ 5.4.1 and Fuse 5.4.0?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>14833</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 6 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0b9xr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>63722</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>