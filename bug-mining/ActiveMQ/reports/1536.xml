<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 05:54:32 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-3889] Body Preview of BytesMessages change when browsed multiple times from QueueViewMbean</title>
                <link>https://issues.apache.org/jira/browse/AMQ-3889</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;When using the browse method of org.apache.activemq.broker.jmx.QueueViewMBean to obtain CompositeData of messages, the Body Preview of BytesMessages changes between each browse.&lt;/p&gt;

&lt;p&gt;I am not sure if that is intended behaviour, but I have written a testcase that illustrates it. &lt;/p&gt;

&lt;p&gt;I have also narrowed it down to org.apache.activemq.broker.jmx.OpenTypeSupport.BytesMessageOpenTypeFactory, which uses ActiveMQBytesMessage.readBytes but does not call reset afterwards.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Linux 64-bit, multiple java versions.&lt;/p&gt;</environment>
        <key id="12595083">AMQ-3889</key>
            <summary>Body Preview of BytesMessages change when browsed multiple times from QueueViewMbean</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tabish">Timothy A. Bish</assignee>
                                    <reporter username="kaaveland">Robin K&#229;veland</reporter>
                        <labels>
                    </labels>
                <created>Tue, 19 Jun 2012 10:15:41 +0000</created>
                <updated>Tue, 2 Oct 2012 04:15:02 +0000</updated>
                            <resolved>Tue, 19 Jun 2012 15:33:39 +0000</resolved>
                                    <version>5.5.1</version>
                                    <fixVersion>5.7.0</fixVersion>
                                    <component>JMX</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="13396652" author="kaaveland" created="Tue, 19 Jun 2012 10:19:01 +0000"  >&lt;p&gt;Testcase to reproduce issue.&lt;/p&gt;</comment>
                            <comment id="13396656" author="kaaveland" created="Tue, 19 Jun 2012 10:22:52 +0000"  >&lt;p&gt;Resolves this issue.&lt;/p&gt;</comment>
                            <comment id="13396857" author="tabish121" created="Tue, 19 Jun 2012 15:33:39 +0000"  >&lt;p&gt;Fix applied in trunk with thanks. &lt;/p&gt;</comment>
                            <comment id="13467089" author="z80pio" created="Mon, 1 Oct 2012 18:48:52 +0000"  >&lt;p&gt;Hi,  I see the same issue.  What should I do to get the patch, please let me know the details.&lt;/p&gt;

&lt;p&gt;-Sathish&lt;/p&gt;</comment>
                            <comment id="13467099" author="tabish121" created="Mon, 1 Oct 2012 18:59:43 +0000"  >&lt;p&gt;ActiveMQ 5.7.0 is undergoing the release process now.  You can wait a few days for that or grab one of the nightly SNAPSHOT builds.&lt;/p&gt;</comment>
                            <comment id="13467469" author="z80pio" created="Tue, 2 Oct 2012 04:15:02 +0000"  >&lt;p&gt;Thanks for your quick response.    My aim to create a external tool using JMX that will monitor few ActiveMQ Queues periodically and peek(browse) into certain non-well formed messages and raise alerts.&lt;/p&gt;

&lt;p&gt;Few questions, if you can answer, will help me a lot.&lt;br/&gt;
1) Is there a workaround available for this?  &lt;br/&gt;
2) Is this an issue with activeMQ JMX agent service?  The upcoming patch to be applied to activeMQ service?&lt;br/&gt;
3) I guess even though the browse shows message with null characters(after couple of browsing on the same message), read message actually fetches the message properly, please confirm if this is correct.  &lt;/p&gt;

&lt;p&gt;Thanks&lt;br/&gt;
Sathish&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12532523" name="OpenTypeSupport.diff" size="467" author="kaaveland" created="Tue, 19 Jun 2012 10:22:52 +0000"/>
                            <attachment id="12532521" name="OpenTypeSupportTest.java" size="2528" author="kaaveland" created="Tue, 19 Jun 2012 10:19:01 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>249813</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 8 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310041" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Patch Info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10042"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ahnr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>59134</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>