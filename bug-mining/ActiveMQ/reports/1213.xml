<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 05:50:30 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-1780] ActiveMQ broker does not automatically reconnect if the connection to the database is lost</title>
                <link>https://issues.apache.org/jira/browse/AMQ-1780</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;hi&lt;/p&gt;

&lt;p&gt;We are noticing that after any SQL Server restart or network blip between ActiveMQ and the database, after the connection or the database comes back online activeMQ broker needs to be restarted as well i.e it doesn&apos;t automatically re-establish connection to the database as result any message send fails because the broker is still using the stale connection to the database. &lt;/p&gt;

&lt;p&gt;Is this designed behaviour or a bug? we are using ActiveMQ 5.0.0 and the latest version of the JSQLConnect database driver: version 5.7. The database we are using is MS SQL Server 2005 &lt;/p&gt;

&lt;p&gt;Right now, in our production environment any time we have network maintenance or database restart we also have to restart the ActiveMQ broker which is not a good option for us. &lt;/p&gt;

&lt;p&gt;Also, We are using a single ActiveMQ broker and not the JDBC(Master/Slave) set up.&lt;/p&gt;

&lt;p&gt;Issue details in&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.nabble.com/Database-connection-between-ActiveMQ-and-broker-td17321330s2354.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.nabble.com/Database-connection-between-ActiveMQ-and-broker-td17321330s2354.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Please let me know if I need to give more information&lt;/p&gt;

&lt;p&gt;thanks&lt;br/&gt;
jaya&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows 2003 Server&lt;/p&gt;</environment>
        <key id="12483317">AMQ-1780</key>
            <summary>ActiveMQ broker does not automatically reconnect if the connection to the database is lost</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gtully">Gary Tully</assignee>
                                    <reporter username="jsrinivasan">Jaya Srinivasan</reporter>
                        <labels>
                    </labels>
                <created>Fri, 6 Jun 2008 20:44:37 +0000</created>
                <updated>Fri, 19 Jun 2015 17:01:52 +0000</updated>
                            <resolved>Mon, 28 Mar 2011 11:08:31 +0000</resolved>
                                    <version>5.0.0</version>
                                    <fixVersion>5.5.0</fixVersion>
                                    <component>Broker</component>
                        <due></due>
                            <votes>3</votes>
                                    <watches>11</watches>
                                                                                                                <comments>
                            <comment id="12939888" author="jsrinivasan" created="Tue, 24 Jun 2008 04:05:03 +0000"  >&lt;p&gt;hi&lt;/p&gt;

&lt;p&gt;can someone give an ETA on when this would be fixed?&lt;/p&gt;

&lt;p&gt;thanks!&lt;br/&gt;
jaya&lt;/p&gt;</comment>
                            <comment id="13000474" author="kaiqinsun" created="Mon, 28 Feb 2011 19:18:12 +0000"  >&lt;p&gt;This is an issue in our production as well and hope it could be fixed soon.&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Kaiqin&lt;/p&gt;</comment>
                            <comment id="13011998" author="gtully" created="Mon, 28 Mar 2011 11:08:31 +0000"  >&lt;p&gt;reused the plug-able &lt;a href=&quot;http://activemq.apache.org/configurable-ioexception-handling.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;IOExceptionHandler&lt;/a&gt;. It is now called when a call to JDBC getConnection fails. Extended the DefaultIOExceptionHandler to allow stop/resume of connectors option rather than simple broker stop. Added Xbean support for DefaultIOExceptionHandler so it can be easily included in xml configuration.&lt;/p&gt;

&lt;p&gt;Relevant programatic configuration from the test, use stopStartConnectors and do not ignore sql exceptions. Disable the default DB lock such that it will not stop the broker on a lock failure.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;        DefaultIOExceptionHandler handler = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; DefaultIOExceptionHandler();
        handler.setIgnoreSQLExceptions(&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;);
        handler.setStopStartConnectors(&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;);
        broker.setIoExceptionHandler(handler);
        JDBCPersistenceAdapter persistenceAdapter = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; JDBCPersistenceAdapter();
        persistenceAdapter.setDataSource(sharedDs);
        persistenceAdapter.setUseDatabaseLock(&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13016274" author="kiorsak" created="Wed, 6 Apr 2011 06:37:28 +0000"  >&lt;p&gt;Is this really been fixed in 5.5 ?&lt;/p&gt;

&lt;p&gt;I just tried out 5.5 and same thing happens - as soon as I restart the SQLService the ActiveQM broker shutdowns completely...&lt;/p&gt;

&lt;p&gt;(NOTE: I am using same activemq.xml config files copied across from 5.4.2 instance, do I need to modify something for &quot;fix&quot; to take effect maybe?)&lt;/p&gt;

&lt;p&gt;Thank you!&lt;/p&gt;



&lt;p&gt;&amp;#8212; LOG &amp;#8212;&lt;/p&gt;

&lt;p&gt;...&lt;br/&gt;
 INFO | Using Persistence Adapter: JDBCPersistenceAdapter(org.apache.commons.dbcp.BasicDataSource@1f758cd1)&lt;br/&gt;
 INFO | JMX consoles can connect to service:jmx:rmi:///jndi/rmi://localhost:2011/jmxrmi&lt;br/&gt;
 INFO | Database adapter driver override recognized for : &lt;span class=&quot;error&quot;&gt;&amp;#91;microsoft_sql_server_jdbc_driver_2_0&amp;#93;&lt;/span&gt; - adapter: class org.apache.activemq.store.jdbc.adapter.TransactJDBCAdapter&lt;br/&gt;
 INFO | Database lock driver override recognized for : &lt;span class=&quot;error&quot;&gt;&amp;#91;microsoft_sql_server_jdbc_driver_2_0&amp;#93;&lt;/span&gt; - adapter: class org.apache.activemq.store.jdbc.adapter.TransactDatabaseLocker&lt;br/&gt;
 INFO | Attempting to acquire the exclusive lock to become the Master broker&lt;br/&gt;
 INFO | Becoming the master on dataSource: org.apache.commons.dbcp.BasicDataSource@1f758cd1&lt;br/&gt;
 INFO | ActiveMQ 5.5.0 JMS Message Broker (MobTechTest1) is starting&lt;br/&gt;
 INFO | For help or more information please see: &lt;a href=&quot;http://activemq.apache.org/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://activemq.apache.org/&lt;/a&gt;&lt;br/&gt;
 INFO | Listening for connections at: nio://mdtapdot01:10001&lt;br/&gt;
 INFO | Connector openwire Started&lt;br/&gt;
 INFO | Listening for connections at: stomp://mdtapdot01:10002&lt;br/&gt;
 INFO | Connector STOMP Started&lt;br/&gt;
 INFO | Listening for connections at: xmpp://mdtapdot01:10003&lt;br/&gt;
 INFO | Connector xmpp Started&lt;br/&gt;
 INFO | ActiveMQ JMS Message Broker (MobTechTest1, ID:mdtapdot01-46867-1302071153455-0:1) started&lt;br/&gt;
 INFO | jetty-7.1.6.v20100715&lt;br/&gt;
 INFO | ActiveMQ WebConsole initialized.&lt;br/&gt;
 INFO | Initializing Spring FrameworkServlet &apos;dispatcher&apos;&lt;br/&gt;
 INFO | ActiveMQ Console at &lt;a href=&quot;http://0.0.0.0:8161/admin&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://0.0.0.0:8161/admin&lt;/a&gt;&lt;br/&gt;
 INFO | Initializing Spring root WebApplicationContext&lt;br/&gt;
 INFO | OSGi environment not detected.&lt;br/&gt;
 INFO | Apache Camel 2.7.0 (CamelContext: camel) is starting&lt;br/&gt;
 INFO | JMX enabled. Using ManagedManagementStrategy.&lt;br/&gt;
 INFO | Found 5 packages with 16 @Converter classes to load&lt;br/&gt;
 INFO | Loaded 152 type converters in 1.914 seconds&lt;br/&gt;
 INFO | Connector vm://MobTechTest1 Started&lt;br/&gt;
 INFO | Route: route1 started and consuming from: Endpoint&lt;span class=&quot;error&quot;&gt;&amp;#91;activemq://MDT.INBOUND&amp;#93;&lt;/span&gt;&lt;br/&gt;
 INFO | Total 1 routes, of which 1 is started.&lt;br/&gt;
 INFO | Apache Camel 2.7.0 (CamelContext: camel) started in 5.167 seconds&lt;br/&gt;
 INFO | Camel Console at &lt;a href=&quot;http://0.0.0.0:8161/camel&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://0.0.0.0:8161/camel&lt;/a&gt;&lt;br/&gt;
 INFO | ActiveMQ Web Demos at &lt;a href=&quot;http://0.0.0.0:8161/demo&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://0.0.0.0:8161/demo&lt;/a&gt;&lt;br/&gt;
 INFO | RESTful file access application at &lt;a href=&quot;http://0.0.0.0:8161/fileserver&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://0.0.0.0:8161/fileserver&lt;/a&gt;&lt;br/&gt;
 INFO | Started SelectChannelConnector@0.0.0.0:8161&lt;br/&gt;
ERROR | Failed to update database lock: com.microsoft.sqlserver.jdbc.SQLServerException: Broken pipe&lt;br/&gt;
com.microsoft.sqlserver.jdbc.SQLServerException: Broken pipe&lt;br/&gt;
        at com.microsoft.sqlserver.jdbc.SQLServerConnection.terminate(SQLServerConnection.java:1368)&lt;br/&gt;
        at com.microsoft.sqlserver.jdbc.SQLServerConnection.terminate(SQLServerConnection.java:1355)&lt;br/&gt;
        at com.microsoft.sqlserver.jdbc.TDSChannel.write(IOBuffer.java:1548)&lt;br/&gt;
        at com.microsoft.sqlserver.jdbc.TDSWriter.flush(IOBuffer.java:2368)&lt;br/&gt;
        at com.microsoft.sqlserver.jdbc.TDSWriter.writePacket(IOBuffer.java:2270)&lt;br/&gt;
        at com.microsoft.sqlserver.jdbc.TDSWriter.endMessage(IOBuffer.java:1877)&lt;br/&gt;
        at com.microsoft.sqlserver.jdbc.TDSCommand.startResponse(IOBuffer.java:4403)&lt;br/&gt;
        at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.doExecutePreparedStatement(SQLServerPreparedStatement.java:386)&lt;br/&gt;
        at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement$PrepStmtExecCmd.doExecute(SQLServerPreparedStatement.java:338)&lt;br/&gt;
        at com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:4026)&lt;br/&gt;
        at com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:1416)&lt;br/&gt;
        at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeCommand(SQLServerStatement.java:185)&lt;br/&gt;
        at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeStatement(SQLServerStatement.java:160)&lt;br/&gt;
        at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.executeUpdate(SQLServerPreparedStatement.java:306)&lt;br/&gt;
        at org.apache.commons.dbcp.DelegatingPreparedStatement.executeUpdate(DelegatingPreparedStatement.java:102)&lt;br/&gt;
        at org.apache.activemq.store.jdbc.DefaultDatabaseLocker.keepAlive(DefaultDatabaseLocker.java:161)&lt;br/&gt;
        at org.apache.activemq.store.jdbc.JDBCPersistenceAdapter.databaseLockKeepAlive(JDBCPersistenceAdapter.java:605)&lt;br/&gt;
        at org.apache.activemq.store.jdbc.JDBCPersistenceAdapter$3.run(JDBCPersistenceAdapter.java:291)&lt;br/&gt;
        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)&lt;br/&gt;
        at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)&lt;br/&gt;
        at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)&lt;br/&gt;
        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)&lt;br/&gt;
        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:181)&lt;br/&gt;
        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:205)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:619)&lt;br/&gt;
 INFO | No longer able to keep the exclusive lock so giving up being a master&lt;br/&gt;
 INFO | ActiveMQ Message Broker (MobTechTest1, ID:mdtapdot01-46867-1302071153455-0:1) is shutting down&lt;br/&gt;
 INFO | Connector openwire Stopped&lt;br/&gt;
 INFO | Connector STOMP Stopped&lt;br/&gt;
 INFO | Connector xmpp Stopped&lt;br/&gt;
 INFO | Connector vm://MobTechTest1 Stopped&lt;br/&gt;
 INFO | PListStore:/usr/local/tollmobile/activemq54data/data/MobTechTest1/tmp_storage stopped&lt;br/&gt;
 INFO | ActiveMQ JMS Message Broker (MobTechTest1, ID:mdtapdot01-46867-1302071153455-0:1) stopped&lt;/p&gt;

</comment>
                            <comment id="13016295" author="gtully" created="Wed, 6 Apr 2011 08:01:47 +0000"  >&lt;p&gt;Oleg, you do need to make some configuration changes as indicated in the previous comment as this is a behavior change.&lt;br/&gt;
You need to configure an IOExceptionHandler for the broker to override the defaults&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;ioExceptionHandler
  &amp;lt;defaultIOExceptionHandler ignoreSQLExceptions=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&quot;&lt;/span&gt; stopStartConnectors=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt; /&amp;gt;
&amp;lt;/ioExceptionHandler&amp;gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13016673" author="kiorsak" created="Thu, 7 Apr 2011 03:55:27 +0000"  >&lt;p&gt;Thanks Gary!&lt;/p&gt;

&lt;p&gt;I think I &quot;get it&quot; now... adding that config tweak and also - very importantly - setting useDatabaseLock=&quot;false&quot; in jdbcPersistenceAdapter &lt;/p&gt;

&lt;p&gt;does the trick for a single standalone broker, but for a cluster there is still an outstanding issue (where you mention all these too in comments): &lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-2497&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/AMQ-2497&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;so yes if this issue (&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-1780&quot; title=&quot;ActiveMQ broker does not automatically reconnect if the connection to the database is lost&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-1780&quot;&gt;&lt;del&gt;AMQ-1780&lt;/del&gt;&lt;/a&gt;) is meant to be the context of not-a-cluster setup only then I can confirm it appears indeed to be fixed...&lt;/p&gt;

&lt;p&gt;Hope the &lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-2497&quot; title=&quot;Message broker won&amp;#39;t come back when the databse goes offline and comes back online&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-2497&quot;&gt;&lt;del&gt;AMQ-2497&lt;/del&gt;&lt;/a&gt; (as tricky as it sounds) does get fix in 5.6 as planned too... &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;











</comment>
                            <comment id="13016679" author="kiorsak" created="Thu, 7 Apr 2011 04:27:01 +0000"  >&lt;p&gt;there is an issue however... &lt;/p&gt;

&lt;p&gt;when the database is stopped for very small period of time - everything works somewhat rather smoothly and as expected... but once DB is not available for longer time (5 secs)&lt;/p&gt;

&lt;p&gt;&quot; INFO | waiting for broker persistence adapter checkpoint to succeed before restarting transports&quot;&lt;/p&gt;

&lt;p&gt;and &lt;/p&gt;

&lt;p&gt;&quot;INFO | Connector openwire Stopped&quot;&lt;/p&gt;

&lt;p&gt;so far so good - makes sense (but note that it only stooped &quot;openwire&quot; one at this point,&lt;/p&gt;

&lt;p&gt;but when I restart the database, it then goes and stops (!!) the other transport connectors (in particular STOMP one), but does not start them back...&lt;/p&gt;

&lt;p&gt;INFO | Connector STOMP Stopped&lt;br/&gt;
 INFO | Connector xmpp Stopped&lt;/p&gt;




&lt;p&gt;only when I go to jConsole and &lt;em&gt;manually&lt;/em&gt; start the STOMP transport connector (one we&apos;re using) things get back to normal...&lt;/p&gt;

&lt;p&gt; INFO | Listening for connections at: stomp://mdtapdot01:10002&lt;br/&gt;
 INFO | Connector STOMP Started&lt;/p&gt;

&lt;p&gt;but that means it requires a manual procedure....&lt;/p&gt;

&lt;p&gt;it seems to me this is a bug and in fact it was meant to actually &quot;restart transports&quot;, not just stop them...&lt;/p&gt;

&lt;p&gt;it might be that there is in fact a different handling of &quot;openwire&quot; and the other s (&quot;STOMP&quot;) connectors... (based on the fact that &quot;openwire&quot; stops when DB connection detected as lost, but &quot;STOMP&quot; gets stopped when DB is restored... and does not get restarted automatically...&lt;/p&gt;


&lt;p&gt;??&lt;/p&gt;







</comment>
                            <comment id="13016859" author="gtully" created="Thu, 7 Apr 2011 14:53:05 +0000"  >&lt;p&gt;I wonder what is causing the delay in the shutdown of all the transports. They should all be shutdown in order by the same thread. Is there anything odd in the logs?&lt;/p&gt;

&lt;p&gt;It looks like the stop thread is blocked for some time until restart and the restart is complete before the stop is complete.&lt;/p&gt;

&lt;p&gt;Could you generate a thread dump of the broker after it has stopped openwire and before you restart... so the stop of stomp should be pending at that time?&lt;/p&gt;</comment>
                            <comment id="13017299" author="kiorsak" created="Fri, 8 Apr 2011 05:59:49 +0000"  >&lt;p&gt;Hi Gary &lt;/p&gt;

&lt;p&gt;interestingly, on some of the attempts I did today all transport connectors do stop all at same time (when DB conn is lost)...but in either case however they are not been restarted automatically when DB restored...&lt;/p&gt;

&lt;p&gt;I tried to produce a thread dump - this is what could fit on shell screen:&lt;/p&gt;

&lt;p&gt;&amp;#8212;&lt;br/&gt;
&quot;qtp768129156-32&quot; prio=3 tid=0x0000000101885800 nid=0x23 waiting on condition &lt;span class=&quot;error&quot;&gt;&amp;#91;0xfffffffd6bafe000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: TIMED_WAITING (parking)&lt;br/&gt;
        at sun.misc.Unsafe.park(Native Method)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;parking to wait for  &amp;lt;0xfffffffedce04c38&amp;gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)&lt;br/&gt;
        at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:198)&lt;br/&gt;
        at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1963)&lt;br/&gt;
        at org.eclipse.jetty.util.BlockingArrayQueue.poll(BlockingArrayQueue.java:320)&lt;br/&gt;
        at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:465)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:619)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&quot;qtp768129156-31&quot; prio=3 tid=0x00000001010dc000 nid=0x22 waiting on condition &lt;span class=&quot;error&quot;&gt;&amp;#91;0xfffffffd6bcfe000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: TIMED_WAITING (parking)&lt;br/&gt;
        at sun.misc.Unsafe.park(Native Method)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;parking to wait for  &amp;lt;0xfffffffedce04c38&amp;gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)&lt;br/&gt;
        at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:198)&lt;br/&gt;
        at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1963)&lt;br/&gt;
        at org.eclipse.jetty.util.BlockingArrayQueue.poll(BlockingArrayQueue.java:320)&lt;br/&gt;
        at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:465)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:619)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&quot;qtp768129156-30&quot; prio=3 tid=0x00000001013fe000 nid=0x21 waiting on condition &lt;span class=&quot;error&quot;&gt;&amp;#91;0xfffffffd6befe000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: TIMED_WAITING (parking)&lt;br/&gt;
        at sun.misc.Unsafe.park(Native Method)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;parking to wait for  &amp;lt;0xfffffffedce04c38&amp;gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)&lt;br/&gt;
        at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:198)&lt;br/&gt;
        at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1963)&lt;br/&gt;
        at org.eclipse.jetty.util.BlockingArrayQueue.poll(BlockingArrayQueue.java:320)&lt;br/&gt;
        at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:465)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:619)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&quot;qtp768129156-29&quot; prio=3 tid=0x00000001013fd800 nid=0x20 waiting on condition &lt;span class=&quot;error&quot;&gt;&amp;#91;0xfffffffd6c0fe000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: TIMED_WAITING (parking)&lt;br/&gt;
        at sun.misc.Unsafe.park(Native Method)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;parking to wait for  &amp;lt;0xfffffffedce04c38&amp;gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)&lt;br/&gt;
        at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:198)&lt;br/&gt;
        at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1963)&lt;br/&gt;
        at org.eclipse.jetty.util.BlockingArrayQueue.poll(BlockingArrayQueue.java:320)&lt;br/&gt;
        at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:465)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:619)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&quot;qtp768129156-28 - Acceptor0 SelectChannelConnector@0.0.0.0:8161&quot; prio=3 tid=0x0000000100e89000 nid=0x1f runnable &lt;span class=&quot;error&quot;&gt;&amp;#91;0xfffffffd6c2fe000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: RUNNABLE&lt;br/&gt;
        at sun.nio.ch.DevPollArrayWrapper.poll0(Native Method)&lt;br/&gt;
        at sun.nio.ch.DevPollArrayWrapper.poll(DevPollArrayWrapper.java:170)&lt;br/&gt;
        at sun.nio.ch.DevPollSelectorImpl.doSelect(DevPollSelectorImpl.java:68)&lt;br/&gt;
        at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:69)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;locked &amp;lt;0xffffffff03259268&amp;gt; (a sun.nio.ch.Util$1)&lt;/li&gt;
	&lt;li&gt;locked &amp;lt;0xffffffff03259250&amp;gt; (a java.util.Collections$UnmodifiableSet)&lt;/li&gt;
	&lt;li&gt;locked &amp;lt;0xffffffff03258ef0&amp;gt; (a sun.nio.ch.DevPollSelectorImpl)&lt;br/&gt;
        at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:80)&lt;br/&gt;
        at org.eclipse.jetty.io.nio.SelectorManager$SelectSet.doSelect(SelectorManager.java:480)&lt;br/&gt;
        at org.eclipse.jetty.io.nio.SelectorManager.doSelect(SelectorManager.java:193)&lt;br/&gt;
        at org.eclipse.jetty.server.nio.SelectChannelConnector.accept(SelectChannelConnector.java:134)&lt;br/&gt;
        at org.eclipse.jetty.server.AbstractConnector$Acceptor.run(AbstractConnector.java:793)&lt;br/&gt;
        at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:436)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:619)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&quot;ActiveMQ Broker&lt;span class=&quot;error&quot;&gt;&amp;#91;MobTechTest1&amp;#93;&lt;/span&gt; Scheduler&quot; daemon prio=3 tid=0x000000010109d000 nid=0x18 in Object.wait() &lt;span class=&quot;error&quot;&gt;&amp;#91;0xfffffffd6d6ff000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: TIMED_WAITING (on object monitor)&lt;br/&gt;
        at java.lang.Object.wait(Native Method)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;waiting on &amp;lt;0xfffffffedc814190&amp;gt; (a java.util.TaskQueue)&lt;br/&gt;
        at java.util.TimerThread.mainLoop(Timer.java:509)&lt;/li&gt;
	&lt;li&gt;locked &amp;lt;0xfffffffedc814190&amp;gt; (a java.util.TaskQueue)&lt;br/&gt;
        at java.util.TimerThread.run(Timer.java:462)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&quot;ActiveMQ Cleanup Timer&quot; daemon prio=3 tid=0x0000000100e35000 nid=0x17 waiting on condition &lt;span class=&quot;error&quot;&gt;&amp;#91;0xfffffffd6e8fe000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: TIMED_WAITING (parking)&lt;br/&gt;
        at sun.misc.Unsafe.park(Native Method)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;parking to wait for  &amp;lt;0xfffffffedc766668&amp;gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)&lt;br/&gt;
        at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:198)&lt;br/&gt;
        at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1963)&lt;br/&gt;
        at java.util.concurrent.DelayQueue.take(DelayQueue.java:164)&lt;br/&gt;
        at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:583)&lt;br/&gt;
        at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:576)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:947)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:907)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:619)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&quot;RMI TCP Connection(5)-10.38.58.172&quot; daemon prio=3 tid=0x0000000100f54800 nid=0x16 runnable &lt;span class=&quot;error&quot;&gt;&amp;#91;0xfffffffd6d8fe000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: RUNNABLE&lt;br/&gt;
        at java.net.SocketInputStream.socketRead0(Native Method)&lt;br/&gt;
        at java.net.SocketInputStream.read(SocketInputStream.java:129)&lt;br/&gt;
        at java.io.BufferedInputStream.fill(BufferedInputStream.java:218)&lt;br/&gt;
        at java.io.BufferedInputStream.read(BufferedInputStream.java:237)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;locked &amp;lt;0xfffffffed9747f10&amp;gt; (a java.io.BufferedInputStream)&lt;br/&gt;
        at java.io.FilterInputStream.read(FilterInputStream.java:66)&lt;br/&gt;
        at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:517)&lt;br/&gt;
        at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:790)&lt;br/&gt;
        at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:649)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:619)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&quot;RMI RenewClean-&lt;span class=&quot;error&quot;&gt;&amp;#91;10.66.179.1:50344&amp;#93;&lt;/span&gt;&quot; daemon prio=3 tid=0x0000000100efd800 nid=0x15 in Object.wait() &lt;span class=&quot;error&quot;&gt;&amp;#91;0xfffffffd6dafe000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: TIMED_WAITING (on object monitor)&lt;br/&gt;
        at java.lang.Object.wait(Native Method)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;waiting on &amp;lt;0xfffffffed7bf5598&amp;gt; (a java.lang.ref.ReferenceQueue$Lock)&lt;br/&gt;
        at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:118)&lt;/li&gt;
	&lt;li&gt;locked &amp;lt;0xfffffffed7bf5598&amp;gt; (a java.lang.ref.ReferenceQueue$Lock)&lt;br/&gt;
        at sun.rmi.transport.DGCClient$EndpointEntry$RenewCleanThread.run(DGCClient.java:516)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:619)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&quot;RMI Scheduler(0)&quot; daemon prio=3 tid=0x0000000100dc9800 nid=0x14 waiting on condition &lt;span class=&quot;error&quot;&gt;&amp;#91;0xfffffffd6defe000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: TIMED_WAITING (parking)&lt;br/&gt;
        at sun.misc.Unsafe.park(Native Method)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;parking to wait for  &amp;lt;0xfffffffd780eb878&amp;gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)&lt;br/&gt;
        at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:198)&lt;br/&gt;
        at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1963)&lt;br/&gt;
        at java.util.concurrent.DelayQueue.take(DelayQueue.java:164)&lt;br/&gt;
        at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:583)&lt;br/&gt;
        at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:576)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:947)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:907)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:619)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&quot;GC Daemon&quot; daemon prio=3 tid=0x000000010126f800 nid=0x12 in Object.wait() &lt;span class=&quot;error&quot;&gt;&amp;#91;0xfffffffd6e2ff000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: TIMED_WAITING (on object monitor)&lt;br/&gt;
        at java.lang.Object.wait(Native Method)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;waiting on &amp;lt;0xfffffffd780001d8&amp;gt; (a sun.misc.GC$LatencyLock)&lt;br/&gt;
        at sun.misc.GC$Daemon.run(GC.java:100)&lt;/li&gt;
	&lt;li&gt;locked &amp;lt;0xfffffffd780001d8&amp;gt; (a sun.misc.GC$LatencyLock)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&quot;RMI Reaper&quot; prio=3 tid=0x00000001010f9000 nid=0x11 in Object.wait() &lt;span class=&quot;error&quot;&gt;&amp;#91;0xfffffffd6e4ff000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: WAITING (on object monitor)&lt;br/&gt;
        at java.lang.Object.wait(Native Method)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;waiting on &amp;lt;0xfffffffd78000290&amp;gt; (a java.lang.ref.ReferenceQueue$Lock)&lt;br/&gt;
        at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:118)&lt;/li&gt;
	&lt;li&gt;locked &amp;lt;0xfffffffd78000290&amp;gt; (a java.lang.ref.ReferenceQueue$Lock)&lt;br/&gt;
        at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:134)&lt;br/&gt;
        at sun.rmi.transport.ObjectTable$Reaper.run(ObjectTable.java:333)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:619)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&quot;RMI TCP Accept-0&quot; daemon prio=3 tid=0x0000000101009800 nid=0x10 runnable &lt;span class=&quot;error&quot;&gt;&amp;#91;0xfffffffd6e6fe000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: RUNNABLE&lt;br/&gt;
        at java.net.PlainSocketImpl.socketAccept(Native Method)&lt;br/&gt;
        at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:390)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;locked &amp;lt;0xfffffffd782d55d0&amp;gt; (a java.net.SocksSocketImpl)&lt;br/&gt;
        at java.net.ServerSocket.implAccept(ServerSocket.java:453)&lt;br/&gt;
        at java.net.ServerSocket.accept(ServerSocket.java:421)&lt;br/&gt;
        at sun.rmi.transport.tcp.TCPTransport$AcceptLoop.executeAcceptLoop(TCPTransport.java:369)&lt;br/&gt;
        at sun.rmi.transport.tcp.TCPTransport$AcceptLoop.run(TCPTransport.java:341)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:619)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&quot;RMI TCP Accept-2011&quot; daemon prio=3 tid=0x0000000101139800 nid=0xe runnable &lt;span class=&quot;error&quot;&gt;&amp;#91;0xfffffffd6eafe000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: RUNNABLE&lt;br/&gt;
        at java.net.PlainSocketImpl.socketAccept(Native Method)&lt;br/&gt;
        at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:390)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;locked &amp;lt;0xfffffffd780007b0&amp;gt; (a java.net.SocksSocketImpl)&lt;br/&gt;
        at java.net.ServerSocket.implAccept(ServerSocket.java:453)&lt;br/&gt;
        at java.net.ServerSocket.accept(ServerSocket.java:421)&lt;br/&gt;
        at sun.rmi.transport.tcp.TCPTransport$AcceptLoop.executeAcceptLoop(TCPTransport.java:369)&lt;br/&gt;
        at sun.rmi.transport.tcp.TCPTransport$AcceptLoop.run(TCPTransport.java:341)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:619)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&quot;RMI TCP Accept-0&quot; daemon prio=3 tid=0x00000001007ba800 nid=0xc runnable &lt;span class=&quot;error&quot;&gt;&amp;#91;0xfffffffd6eefe000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: RUNNABLE&lt;br/&gt;
        at java.net.PlainSocketImpl.socketAccept(Native Method)&lt;br/&gt;
        at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:390)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;locked &amp;lt;0xfffffffd7807dcc8&amp;gt; (a java.net.SocksSocketImpl)&lt;br/&gt;
        at java.net.ServerSocket.implAccept(ServerSocket.java:453)&lt;br/&gt;
        at java.net.ServerSocket.accept(ServerSocket.java:421)&lt;br/&gt;
        at sun.management.jmxremote.LocalRMIServerSocketFactory$1.accept(LocalRMIServerSocketFactory.java:34)&lt;br/&gt;
        at sun.rmi.transport.tcp.TCPTransport$AcceptLoop.executeAcceptLoop(TCPTransport.java:369)&lt;br/&gt;
        at sun.rmi.transport.tcp.TCPTransport$AcceptLoop.run(TCPTransport.java:341)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:619)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&quot;Low Memory Detector&quot; daemon prio=3 tid=0x00000001004fe000 nid=0xb runnable &lt;span class=&quot;error&quot;&gt;&amp;#91;0x0000000000000000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: RUNNABLE&lt;/p&gt;

&lt;p&gt;&quot;CompilerThread1&quot; daemon prio=3 tid=0x00000001004f7800 nid=0xa waiting on condition &lt;span class=&quot;error&quot;&gt;&amp;#91;0x0000000000000000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: RUNNABLE&lt;/p&gt;

&lt;p&gt;&quot;CompilerThread0&quot; daemon prio=3 tid=0x00000001004f4800 nid=0x9 waiting on condition &lt;span class=&quot;error&quot;&gt;&amp;#91;0x0000000000000000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: RUNNABLE&lt;/p&gt;

&lt;p&gt;&quot;Signal Dispatcher&quot; daemon prio=3 tid=0x00000001004f2800 nid=0x8 waiting on condition &lt;span class=&quot;error&quot;&gt;&amp;#91;0x0000000000000000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: RUNNABLE&lt;/p&gt;

&lt;p&gt;&quot;Finalizer&quot; daemon prio=3 tid=0x00000001004d2800 nid=0x7 in Object.wait() &lt;span class=&quot;error&quot;&gt;&amp;#91;0xfffffffd704ff000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: WAITING (on object monitor)&lt;br/&gt;
        at java.lang.Object.wait(Native Method)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;waiting on &amp;lt;0xfffffffd7807e7d0&amp;gt; (a java.lang.ref.ReferenceQueue$Lock)&lt;br/&gt;
        at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:118)&lt;/li&gt;
	&lt;li&gt;locked &amp;lt;0xfffffffd7807e7d0&amp;gt; (a java.lang.ref.ReferenceQueue$Lock)&lt;br/&gt;
        at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:134)&lt;br/&gt;
        at java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:159)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&quot;Reference Handler&quot; daemon prio=3 tid=0x00000001004cb800 nid=0x6 in Object.wait() &lt;span class=&quot;error&quot;&gt;&amp;#91;0xfffffffd706ff000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: WAITING (on object monitor)&lt;br/&gt;
        at java.lang.Object.wait(Native Method)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;waiting on &amp;lt;0xfffffffd780001b8&amp;gt; (a java.lang.ref.Reference$Lock)&lt;br/&gt;
        at java.lang.Object.wait(Object.java:485)&lt;br/&gt;
        at java.lang.ref.Reference$ReferenceHandler.run(Reference.java:116)&lt;/li&gt;
	&lt;li&gt;locked &amp;lt;0xfffffffd780001b8&amp;gt; (a java.lang.ref.Reference$Lock)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&quot;main&quot; prio=3 tid=0x0000000100114800 nid=0x2 in Object.wait() &lt;span class=&quot;error&quot;&gt;&amp;#91;0xffffffff7c4fd000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: WAITING (on object monitor)&lt;br/&gt;
        at java.lang.Object.wait(Native Method)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;waiting on &amp;lt;0xffffffff03266308&amp;gt; (a [Z)&lt;br/&gt;
        at java.lang.Object.wait(Object.java:485)&lt;br/&gt;
        at org.apache.activemq.console.command.StartCommand.waitForShutdown(StartCommand.java:161)&lt;/li&gt;
	&lt;li&gt;locked &amp;lt;0xffffffff03266308&amp;gt; (a [Z)&lt;br/&gt;
        at org.apache.activemq.console.command.StartCommand.runTask(StartCommand.java:104)&lt;br/&gt;
        at org.apache.activemq.console.command.AbstractCommand.execute(AbstractCommand.java:57)&lt;br/&gt;
        at org.apache.activemq.console.command.ShellCommand.runTask(ShellCommand.java:143)&lt;br/&gt;
        at org.apache.activemq.console.command.AbstractCommand.execute(AbstractCommand.java:57)&lt;br/&gt;
        at org.apache.activemq.console.command.ShellCommand.main(ShellCommand.java:85)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
        at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
        at org.apache.activemq.console.Main.runTaskClass(Main.java:251)&lt;br/&gt;
        at org.apache.activemq.console.Main.main(Main.java:107)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&quot;VM Thread&quot; prio=3 tid=0x00000001004c7800 nid=0x5 runnable&lt;/p&gt;

&lt;p&gt;&quot;GC task thread#0 (ParallelGC)&quot; prio=3 tid=0x000000010011c000 nid=0x3 runnable&lt;/p&gt;

&lt;p&gt;&quot;GC task thread#1 (ParallelGC)&quot; prio=3 tid=0x0000000100128000 nid=0x4 runnable&lt;/p&gt;

&lt;p&gt;&quot;VM Periodic Task Thread&quot; prio=3 tid=0x000000010066c000 nid=0xd waiting on condition&lt;/p&gt;

&lt;p&gt;JNI global references: 767&lt;/p&gt;

&lt;p&gt;Heap&lt;br/&gt;
 PSYoungGen      total 2447872K, used 1608619K [0xfffffffecd800000, 0xffffffff78400000, 0xffffffff78400000)&lt;br/&gt;
  eden space 2098176K, 76% used [0xfffffffecd800000,0xffffffff2faeaca0,0xffffffff4d900000)&lt;br/&gt;
  from space 349696K, 0% used [0xffffffff4d900000,0xffffffff4d900000,0xffffffff62e80000)&lt;br/&gt;
  to   space 349696K, 0% used [0xffffffff62e80000,0xffffffff62e80000,0xffffffff78400000)&lt;br/&gt;
 PSOldGen        total 5595136K, used 4074K [0xfffffffd78000000, 0xfffffffecd800000, 0xfffffffecd800000)&lt;br/&gt;
  object space 5595136K, 0% used [0xfffffffd78000000,0xfffffffd783fa8a8,0xfffffffecd800000)&lt;br/&gt;
 PSPermGen       total 45056K, used 44664K [0xfffffffd72c00000, 0xfffffffd75800000, 0xfffffffd78000000)&lt;br/&gt;
  object space 45056K, 99% used [0xfffffffd72c00000,0xfffffffd7579e1b8,0xfffffffd75800000)&lt;/p&gt;


&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;mdtapdot01&amp;#93;&lt;/span&gt;#&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;mdtapdot01&amp;#93;&lt;/span&gt;#  INFO | waiting for broker persistence adapter checkpoint to succeed before restarting transports&lt;br/&gt;
 INFO | waiting for broker persistence adapter checkpoint to succeed before restarting transports&lt;br/&gt;
 INFO | waiting for broker persistence adapter checkpoint to succeed before restarting transports&lt;/p&gt;



</comment>
                            <comment id="13017304" author="kiorsak" created="Fri, 8 Apr 2011 06:08:14 +0000"  >&lt;p&gt;I also see a message in teh log that might explain why transport connections don&apos;t get restarted:&lt;/p&gt;


&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;mdtapdot01&amp;#93;&lt;/span&gt;#  WARN | Failure occurred while restarting broker connectors&lt;br/&gt;
java.io.IOException: Transport Connector could not be registered in JMX: org.apache.activemq:BrokerName=MobTechTest1,Type=Connector,ConnectorName=openwire&lt;br/&gt;
        at org.apache.activemq.util.IOExceptionSupport.create(IOExceptionSupport.java:27)&lt;br/&gt;
        at org.apache.activemq.broker.BrokerService.registerConnectorMBean(BrokerService.java:1670)&lt;br/&gt;
        at org.apache.activemq.broker.BrokerService.startTransportConnector(BrokerService.java:2159)&lt;br/&gt;
        at org.apache.activemq.broker.BrokerService.startAllConnectors(BrokerService.java:2073)&lt;br/&gt;
        at org.apache.activemq.util.DefaultIOExceptionHandler$2.run(DefaultIOExceptionHandler.java:99)&lt;br/&gt;
Caused by: javax.management.InstanceAlreadyExistsException: org.apache.activemq:BrokerName=MobTechTest1,Type=Connector,ConnectorName=openwire&lt;br/&gt;
        at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:453)&lt;br/&gt;
        at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.internal_addObject(DefaultMBeanServerInterceptor.java:1484)&lt;br/&gt;
        at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:963)&lt;br/&gt;
        at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:917)&lt;br/&gt;
        at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:312)&lt;br/&gt;
        at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:482)&lt;br/&gt;
        at org.apache.activemq.broker.jmx.ManagementContext.registerMBean(ManagementContext.java:299)&lt;br/&gt;
        at org.apache.activemq.broker.jmx.AnnotatedMBean.registerMBean(AnnotatedMBean.java:65)&lt;br/&gt;
        at org.apache.activemq.broker.BrokerService.registerConnectorMBean(BrokerService.java:1667)&lt;br/&gt;
        ... 3 more&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;mdtapdot01&amp;#93;&lt;/span&gt;#&lt;/p&gt;
</comment>
                            <comment id="13119180" author="flume" created="Mon, 3 Oct 2011 07:50:57 +0000"  >&lt;p&gt;When not using useDatabaseLock=&quot;true&quot; on the jdbcPersistenceAdapter I still see the broker go down on a stopped database.&lt;br/&gt;
When useDatabaseLock=&quot;false&quot; the broker keeps on going on a stopped database but accepted messages disappear (tested with web-console) completely. One should be warned using this setting.&lt;/p&gt;

&lt;p&gt;&amp;lt;bean id=&quot;ioExceptionHandler&quot; class=&quot;org.apache.activemq.util.DefaultIOExceptionHandler&quot;&amp;gt;&lt;br/&gt;
	&amp;lt;property name=&quot;ignoreAllErrors&quot;&amp;gt;&amp;lt;value&amp;gt;false&amp;lt;/value&amp;gt;&amp;lt;/property&amp;gt;&lt;br/&gt;
        &amp;lt;property name=&quot;stopStartConnectors&quot;&amp;gt;&amp;lt;value&amp;gt;true&amp;lt;/value&amp;gt;&amp;lt;/property&amp;gt;&lt;br/&gt;
&amp;lt;/bean&amp;gt; &lt;/p&gt;</comment>
                            <comment id="13695040" author="gtully" created="Thu, 27 Jun 2013 20:39:30 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-4575&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/AMQ-4575&lt;/a&gt; is relevant.&lt;/p&gt;</comment>
                            <comment id="13837963" author="kishan3814" created="Tue, 3 Dec 2013 18:03:47 +0000"  >&lt;p&gt;Please have a look at &lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-4911&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/AMQ-4911&lt;/a&gt; andwould appreciate if u guys try to solve &lt;/p&gt;</comment>
                            <comment id="14593638" author="volkerk" created="Fri, 19 Jun 2015 17:01:52 +0000"  >&lt;p&gt;When  using useDatabaseLock=&quot;true&quot; of course a stopped DB will cause the broker to go down - it no longer has a lock, nor a means of obtaining one. But when the DB is back up, it needs to be able to re-establish connections, and obtain a new lock, since the DB going down means there no longer is anyone holding that lock. But if you have merely a network blip, and the DB did not go down, you may have a stale session in the DB that still holds the lock, and needs to be killed before a broker can be reestablished. That&apos;s tough, but tends to be a lot more reliable than filesystem-based locks, which go AWOL all the time.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12483693">AMQ-2497</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>14608</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 22 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ah2n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>59039</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>