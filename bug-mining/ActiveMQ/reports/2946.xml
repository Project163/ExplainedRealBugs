<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 06:38:39 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-6474] Memory leak</title>
                <link>https://issues.apache.org/jira/browse/AMQ-6474</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;Hello,&lt;/p&gt;

&lt;p&gt;when undeploying a Spring (4) webapp (JDK 1.8.101), we got a memory leak error message on a thread.&lt;/p&gt;


&lt;p&gt;AVERTISSEMENT: The web application &lt;span class=&quot;error&quot;&gt;&amp;#91;venus&amp;#93;&lt;/span&gt; appears to have started a thread named &lt;span class=&quot;error&quot;&gt;&amp;#91;ActiveMQ InactivityMonitor Worker&amp;#93;&lt;/span&gt; but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:&lt;br/&gt;
 sun.misc.Unsafe.park(Native Method)&lt;br/&gt;
 java.util.concurrent.locks.LockSupport.parkNanos(Unknown Source)&lt;br/&gt;
 java.util.concurrent.SynchronousQueue$TransferStack.awaitFulfill(Unknown Source)&lt;br/&gt;
 java.util.concurrent.SynchronousQueue$TransferStack.transfer(Unknown Source)&lt;br/&gt;
 java.util.concurrent.SynchronousQueue.poll(Unknown Source)&lt;br/&gt;
 java.util.concurrent.ThreadPoolExecutor.getTask(Unknown Source)&lt;br/&gt;
 java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)&lt;br/&gt;
 java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)&lt;br/&gt;
 java.lang.Thread.run(Unknown Source)&lt;br/&gt;
oct. 20, 2016 2:50:43 PM org.apache.catalina.loader.WebappClassLoaderBase clearReferencesThreads&lt;/p&gt;

&lt;p&gt;when using an older version of active MQ 5.11.4 we don&apos;t get the error.&lt;/p&gt;

&lt;p&gt;We notice the shutwon of factory thread pool is not made anymore ( &lt;/p&gt;

&lt;p&gt;inside class AbstractInactivityMonitor , method stopMonitorThreads &lt;br/&gt;
this line has been removed: ThreadPoolUtils.shutdown(ASYNC_TASKS);&lt;/p&gt;

&lt;p&gt;Could you fix it.&lt;/p&gt;
</description>
                <environment>&lt;p&gt;Spring&lt;/p&gt;</environment>
        <key id="13014262">AMQ-6474</key>
            <summary>Memory leak</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="skermani">skermani</reporter>
                        <labels>
                    </labels>
                <created>Fri, 21 Oct 2016 14:59:22 +0000</created>
                <updated>Wed, 2 Nov 2016 16:57:06 +0000</updated>
                            <resolved>Wed, 2 Nov 2016 16:46:32 +0000</resolved>
                                    <version>5.12.0</version>
                    <version>5.13.0</version>
                    <version>5.14.1</version>
                                    <fixVersion>5.15.0</fixVersion>
                    <fixVersion>5.14.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15629541" author="jira-bot" created="Wed, 2 Nov 2016 16:44:48 +0000"  >&lt;p&gt;Commit d1f42bd01e90abe3fb171834efd46a3594ba2600 in activemq&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tabish121&quot; class=&quot;user-hover&quot; rel=&quot;tabish121&quot;&gt;tabish121&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=d1f42bd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=d1f42bd&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-6474&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/AMQ-6474&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ASYNC_TASKS executor not being shut down on stop with no other users in&lt;br/&gt;
service.  &lt;/p&gt;</comment>
                            <comment id="15629546" author="jira-bot" created="Wed, 2 Nov 2016 16:46:18 +0000"  >&lt;p&gt;Commit 3642ab1c1096fc84e2370c03a5507878ca658281 in activemq&apos;s branch refs/heads/activemq-5.14.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tabish121&quot; class=&quot;user-hover&quot; rel=&quot;tabish121&quot;&gt;tabish121&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=3642ab1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=3642ab1&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-6474&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/AMQ-6474&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ASYNC_TASKS executor not being shut down on stop with no other users in&lt;br/&gt;
service.&lt;br/&gt;
(cherry picked from commit d1f42bd01e90abe3fb171834efd46a3594ba2600)&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13015315">AMQ-6482</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10431"><![CDATA[Important]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i357yv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310080" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Regression</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10091"><![CDATA[Regression]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>