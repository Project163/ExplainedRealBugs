<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 06:51:41 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-8554] RESTful API: NoClassDefFoundError-&gt;ContinuationSupport</title>
                <link>https://issues.apache.org/jira/browse/AMQ-8554</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;The RESTful API does not work since version 5.17.0. If you send a GET-Request like&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;http://BROKER-IP:8161/api/message/abc?type=queue&amp;amp;oneShot=true&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;font color=&quot;#212121&quot;&gt;&lt;font color=&quot;#212121&quot;&gt;&lt;/font&gt;&lt;/font&gt;You get an error:&lt;br/&gt;
&lt;font color=&quot;&quot;&gt;&lt;/font&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2022-03-29 19:00:14,445 | INFO &#160;| ActiveMQ Jolokia REST API available at http:&lt;span class=&quot;code-comment&quot;&gt;//0.0.0.0:8161/api/jolokia/ | org.apache.activemq.web.WebConsoleStarter | main
&lt;/span&gt;2022-03-29 19:01:06,597 | INFO &#160;| Connector vm:&lt;span class=&quot;code-comment&quot;&gt;//localhost started | org.apache.activemq.broker.TransportConnector | qtp1845760645-40
&lt;/span&gt;2022-03-29 19:01:06,703 | WARN &#160;| /api/message/abc | org.eclipse.jetty.server.HttpChannel | qtp1845760645-40
java.lang.NoClassDefFoundError: org/eclipse/jetty/continuation/ContinuationSupport
&#160; &#160; &#160; &#160; at org.apache.activemq.web.MessageServlet.doMessages(MessageServlet.java:188)
&#160; &#160; &#160; &#160; at org.apache.activemq.web.MessageServlet.doGet(MessageServlet.java:167)
&#160; &#160; &#160; &#160; at javax.servlet.http.HttpServlet.service(HttpServlet.java:655)
&#160; &#160; &#160; &#160; at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
&#160; &#160; &#160; &#160; at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:799)
&#160; &#160; &#160; &#160; at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:550)
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)
&#160; &#160; &#160; &#160; at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:560)
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:235)
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1624)
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1440)
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)
&#160; &#160; &#160; &#160; at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:501)
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1594)
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1355)
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:146)
&#160; &#160; &#160; &#160; at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:560)
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:146)
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.Server.handle(Server.java:516)
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:487)
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:732)
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:479)
&#160; &#160; &#160; &#160; at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:277)
&#160; &#160; &#160; &#160; at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)
&#160; &#160; &#160; &#160; at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105)
&#160; &#160; &#160; &#160; at org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104)
&#160; &#160; &#160; &#160; at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:883)
&#160; &#160; &#160; &#160; at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1034)
&#160; &#160; &#160; &#160; at java.base/java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:829)
Caused by: java.lang.ClassNotFoundException: org.eclipse.jetty.continuation.ContinuationSupport
&#160; &#160; &#160; &#160; at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:476)
&#160; &#160; &#160; &#160; at java.base/java.lang.&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.loadClass(&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.java:589)
&#160; &#160; &#160; &#160; at java.base/java.lang.&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.loadClass(&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.java:522)
&#160; &#160; &#160; &#160; ... 34 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment>&lt;p&gt;Ubuntu 20.04.4 LTS&lt;/p&gt;

&lt;p&gt;java --version:&lt;br/&gt;
openjdk 11.0.14 2022-01-18&lt;br/&gt;
OpenJDK Runtime Environment (build 11.0.14+9-Ubuntu-0ubuntu2.20.04)&lt;br/&gt;
OpenJDK 64-Bit Server VM (build 11.0.14+9-Ubuntu-0ubuntu2.20.04, mixed mode, sharing)&lt;/p&gt;

&lt;p&gt;ActiveMQ-Version: 5.17.0 (clean installation)&lt;/p&gt;</environment>
        <key id="13436484">AMQ-8554</key>
            <summary>RESTful API: NoClassDefFoundError-&gt;ContinuationSupport</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cshannon">Christopher L. Shannon</assignee>
                                    <reporter username="shine">Marc Giavarra</reporter>
                        <labels>
                            <label>JAR-files</label>
                            <label>Jetty</label>
                            <label>REST</label>
                            <label>RESTful</label>
                    </labels>
                <created>Tue, 29 Mar 2022 17:17:56 +0000</created>
                <updated>Wed, 6 Apr 2022 13:54:42 +0000</updated>
                            <resolved>Wed, 6 Apr 2022 05:58:09 +0000</resolved>
                                    <version>5.17.0</version>
                                    <fixVersion>5.17.1</fixVersion>
                    <fixVersion>5.16.5</fixVersion>
                    <fixVersion>5.18.0</fixVersion>
                                    <component>Broker</component>
                    <component>Connector</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1800">0.5h</timespent>
                                <comments>
                            <comment id="17514554" author="shine" created="Wed, 30 Mar 2022 09:08:06 +0000"  >&lt;p&gt;hi,&lt;/p&gt;

&lt;p&gt;maybe the problem is related with this issue: &lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-7358&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/AMQ-7358&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13041755/13041755_image-2022-03-30-10-58-20-270.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;If you upload the file &quot;Jetty :: Continuation &#187; 9.4.45.v20220203 (jetty-continuation-9.4.45.v20220203.jar)&quot; from &lt;a href=&quot;https://mvnrepository.com/artifact/org.eclipse.jetty/jetty-continuation/9.4.45.v20220203&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://mvnrepository.com/artifact/org.eclipse.jetty/jetty-continuation/9.4.45.v20220203&lt;/a&gt; in the %AMQ-BROKER-INST-DIR%/lib/web/ folder the RESTful API works again.&lt;/p&gt;

&lt;p&gt;i think the file jetty-continuation-9.4.45.v20220203.jar is missing in the setup package at least.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17517850" author="jira-bot" created="Wed, 6 Apr 2022 05:56:41 +0000"  >&lt;p&gt;Commit 291f925601312c62b568876d25992d65d1ce69e6 in activemq&apos;s branch refs/heads/main from Christopher L. Shannon (cshannon)&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=291f92560&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=291f92560&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-8554&quot; title=&quot;RESTful API: NoClassDefFoundError-&amp;gt;ContinuationSupport&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-8554&quot;&gt;&lt;del&gt;AMQ-8554&lt;/del&gt;&lt;/a&gt; - Add missing jetty-continuation jar to assembly&lt;/p&gt;</comment>
                            <comment id="17517851" author="jira-bot" created="Wed, 6 Apr 2022 05:56:41 +0000"  >&lt;p&gt;Commit 6b7ed382c3be54d2945f5bf36ee82d9672445018 in activemq&apos;s branch refs/heads/main from Jean-Baptiste Onofr&#233;&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=6b7ed382c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=6b7ed382c&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Merge pull request #803 from cshannon/&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-8554&quot; title=&quot;RESTful API: NoClassDefFoundError-&amp;gt;ContinuationSupport&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-8554&quot;&gt;&lt;del&gt;AMQ-8554&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-8554&quot; title=&quot;RESTful API: NoClassDefFoundError-&amp;gt;ContinuationSupport&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-8554&quot;&gt;&lt;del&gt;AMQ-8554&lt;/del&gt;&lt;/a&gt; - Add missing jetty-continuation jar to assembly&lt;/p&gt;</comment>
                            <comment id="17517853" author="jira-bot" created="Wed, 6 Apr 2022 05:57:35 +0000"  >&lt;p&gt;Commit 4eb9c33492840410b60cbc4a100a9491a95a39b4 in activemq&apos;s branch refs/heads/activemq-5.17.x from Christopher L. Shannon (cshannon)&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=4eb9c3349&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=4eb9c3349&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-8554&quot; title=&quot;RESTful API: NoClassDefFoundError-&amp;gt;ContinuationSupport&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-8554&quot;&gt;&lt;del&gt;AMQ-8554&lt;/del&gt;&lt;/a&gt; - Add missing jetty-continuation jar to assembly&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 291f925601312c62b568876d25992d65d1ce69e6)&lt;/p&gt;</comment>
                            <comment id="17518053" author="gemmellr" created="Wed, 6 Apr 2022 11:36:04 +0000"  >&lt;p&gt;Note the 5.16.x branch is presumably still affected due to the &lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-7358&quot; title=&quot;Use Jetty atomic jar instead of jetty-all uber jar&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-7358&quot;&gt;&lt;del&gt;AMQ-7358&lt;/del&gt;&lt;/a&gt; changes.&lt;/p&gt;</comment>
                            <comment id="17518143" author="jira-bot" created="Wed, 6 Apr 2022 13:52:04 +0000"  >&lt;p&gt;Commit 04e5114e21b8b3932c5d0e35aedc65a75e7ed7b3 in activemq&apos;s branch refs/heads/activemq-5.16.x from Christopher L. Shannon (cshannon)&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=04e5114e2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=04e5114e2&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-8554&quot; title=&quot;RESTful API: NoClassDefFoundError-&amp;gt;ContinuationSupport&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-8554&quot;&gt;&lt;del&gt;AMQ-8554&lt;/del&gt;&lt;/a&gt; - Add missing jetty-continuation jar to assembly&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 291f925601312c62b568876d25992d65d1ce69e6)&lt;br/&gt;
(cherry picked from commit 4eb9c33492840410b60cbc4a100a9491a95a39b4)&lt;/p&gt;</comment>
                            <comment id="17518144" author="christopher.l.shannon" created="Wed, 6 Apr 2022 13:54:42 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=robbie&quot; class=&quot;user-hover&quot; rel=&quot;robbie&quot;&gt;robbie&lt;/a&gt; - thanks for the heads up, merged into 5.16.x as well&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13273885">AMQ-7364</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13271319">AMQ-7358</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13424418">AMQ-8461</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="13041755" name="image-2022-03-30-10-58-20-270.png" size="151124" author="shine" created="Wed, 30 Mar 2022 08:58:21 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 31 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z10xwg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>