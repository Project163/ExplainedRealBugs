<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 06:39:43 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-6562] WARN TopicStorePrefetch cursor got duplicate from store</title>
                <link>https://issues.apache.org/jira/browse/AMQ-6562</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;Intermittent WARN in the log for durable topic subs:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;17/01/13 10:45:35 WARN cursors.AbstractStoreCursor: TopicStorePrefetch(CONNECTION-my_sub_1,my_sub_1,storeHasMessages=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;) ID:localhost-49595-1484304335002-6:1:1:1 - org.apache.activemq.broker.region.cursors.TopicStorePrefetch@37e3cc57:T1,batchResetNeeded=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;,size=14,cacheEnabled=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;,maxBatchSize:200,hasSpace:&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;,pendingCachedIds.size:0,lastSyncCachedId:&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;,lastSyncCachedId-seq:&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;,lastAsyncCachedId:&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;,lastAsyncCachedId-seq:&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; - cursor got duplicate from store ID:localhost-49595-1484304335002-4:1:1:1:1 seq: &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13034590">AMQ-6562</key>
            <summary>WARN TopicStorePrefetch cursor got duplicate from store</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gtully">Gary Tully</assignee>
                                    <reporter username="gtully">Gary Tully</reporter>
                        <labels>
                    </labels>
                <created>Fri, 13 Jan 2017 10:46:52 +0000</created>
                <updated>Fri, 13 Jan 2017 11:12:12 +0000</updated>
                            <resolved>Fri, 13 Jan 2017 11:08:20 +0000</resolved>
                                    <version>5.14.0</version>
                                    <fixVersion>5.15.0</fixVersion>
                                    <component>Broker</component>
                    <component>Message Store</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15821598" author="gtully" created="Fri, 13 Jan 2017 10:50:20 +0000"  >&lt;p&gt;The WARN is expected when the cache is exhausted and page-in begins at the last ack location. Irrespective of the last cached message id in the cursor.&lt;br/&gt;
Any message that has not been acked will get replayed and the audit will trap it as a duplicate. However this scenario should not result in messaged going to the DLQ or any warn messages in the log.&lt;br/&gt;
In addition there is a leak of message references b/c the duplicates detected are not resolved by the TopicStorePrefetch cursor.&lt;/p&gt;</comment>
                            <comment id="15821633" author="jira-bot" created="Fri, 13 Jan 2017 11:07:48 +0000"  >&lt;p&gt;Commit 511b9b642a198fe98409e1f1aac6176b9420d951 in activemq&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gtully&quot; class=&quot;user-hover&quot; rel=&quot;gtully&quot;&gt;gtully&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=511b9b6&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=511b9b6&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-6562&quot; title=&quot;WARN TopicStorePrefetch cursor got duplicate from store&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-6562&quot;&gt;&lt;del&gt;AMQ-6562&lt;/del&gt;&lt;/a&gt; - suppress warn of durable sub duplicate from the store on cache exhaustion - expected in the absense of ordered sequenceid and setBatch. Fix leak of duplicates pending processing on batch fill for the durable sub case and remove eager page in for prefetch=0&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12724267">AMQ-5249</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 44 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i38nlb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>