<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 05:38:28 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-1950] Deadlock using temporary queues in Pure Master/Slave setup</title>
                <link>https://issues.apache.org/jira/browse/AMQ-1950</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;The deadlock occurs on the slave after sending some 30 messages. Sending a few at a time works fine.&lt;br/&gt;
The test application is a MessageDrivenBean that sends a message to another MDB with a temporary reply queue.&lt;/p&gt;

&lt;p&gt;Name: TempQueue:  ID:selten.marketxs.com-40254-1222245868043-0:14:6&lt;br/&gt;
State: WAITING on java.util.concurrent.locks.ReentrantLock$NonfairSync@f30862 owned by: VMTransport: vm://solow.marketxs.com#1&lt;br/&gt;
Total blocked: 0  Total waited: 1&lt;/p&gt;

&lt;p&gt;Stack trace: &lt;br/&gt;
sun.misc.Unsafe.park(Native Method)&lt;br/&gt;
java.util.concurrent.locks.LockSupport.park(LockSupport.java:158)&lt;br/&gt;
java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:747)&lt;br/&gt;
java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:778)&lt;br/&gt;
java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1114)&lt;br/&gt;
java.util.concurrent.locks.ReentrantLock$NonfairSync.lock(ReentrantLock.java:186)&lt;br/&gt;
java.util.concurrent.locks.ReentrantLock.lock(ReentrantLock.java:262)&lt;br/&gt;
org.apache.activemq.broker.region.Queue.iterate(Queue.java:992)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;locked org.apache.activemq.broker.region.Queue$2@16b775f&lt;br/&gt;
org.apache.activemq.thread.DedicatedTaskRunner.runTask(DedicatedTaskRunner.java:98)&lt;br/&gt;
org.apache.activemq.thread.DedicatedTaskRunner$1.run(DedicatedTaskRunner.java:36)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Name: VMTransport: vm://solow.marketxs.com#1&lt;br/&gt;
State: BLOCKED on org.apache.activemq.broker.region.Queue$2@16b775f owned by: TempQueue:  ID:selten.marketxs.com-40254-1222245868043-0:14:6&lt;br/&gt;
Total blocked: 9  Total waited: 2,684&lt;/p&gt;

&lt;p&gt;Stack trace: &lt;br/&gt;
org.apache.activemq.broker.region.Queue.iterate(Queue.java:952)&lt;br/&gt;
org.apache.activemq.broker.region.Queue.wakeup(Queue.java:1136)&lt;br/&gt;
org.apache.activemq.broker.region.Queue.addSubscription(Queue.java:249)&lt;br/&gt;
org.apache.activemq.broker.region.TempQueue.addSubscription(TempQueue.java:74)&lt;br/&gt;
org.apache.activemq.broker.region.AbstractRegion.addConsumer(AbstractRegion.java:275)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;locked java.lang.Object@1ba2be8&lt;br/&gt;
org.apache.activemq.broker.region.RegionBroker.addConsumer(RegionBroker.java:378)&lt;br/&gt;
org.apache.activemq.broker.BrokerFilter.addConsumer(BrokerFilter.java:86)&lt;br/&gt;
org.apache.activemq.broker.BrokerFilter.addConsumer(BrokerFilter.java:86)&lt;br/&gt;
org.apache.activemq.advisory.AdvisoryBroker.addConsumer(AdvisoryBroker.java:83)&lt;br/&gt;
org.apache.activemq.broker.BrokerFilter.addConsumer(BrokerFilter.java:86)&lt;br/&gt;
org.apache.activemq.broker.MutableBrokerFilter.addConsumer(MutableBrokerFilter.java:93)&lt;br/&gt;
org.apache.activemq.broker.TransportConnection.processAddConsumer(TransportConnection.java:541)&lt;br/&gt;
org.apache.activemq.command.ConsumerInfo.visit(ConsumerInfo.java:345)&lt;br/&gt;
org.apache.activemq.broker.TransportConnection.service(TransportConnection.java:305)&lt;br/&gt;
org.apache.activemq.broker.TransportConnection$1.onCommand(TransportConnection.java:179)&lt;br/&gt;
org.apache.activemq.transport.ResponseCorrelator.onCommand(ResponseCorrelator.java:104)&lt;br/&gt;
org.apache.activemq.transport.TransportFilter.onCommand(TransportFilter.java:68)&lt;br/&gt;
org.apache.activemq.transport.vm.VMTransport.iterate(VMTransport.java:205)&lt;br/&gt;
org.apache.activemq.thread.DedicatedTaskRunner.runTask(DedicatedTaskRunner.java:98)&lt;br/&gt;
org.apache.activemq.thread.DedicatedTaskRunner$1.run(DedicatedTaskRunner.java:36)&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;I&apos;ll try to reproduce the issue with a stand-alone JMS client. It also happens without JBoss clustering.&lt;/p&gt;</description>
                <environment>&lt;p&gt;JBoss 4.0.5 GA with ActiveMQ resource adapter and Java 1.6 update 7&lt;/p&gt;

&lt;p&gt;I used the ActiveMQ 5.2.0 RC1 from 10th september.&lt;/p&gt;</environment>
        <key id="12482311">AMQ-1950</key>
            <summary>Deadlock using temporary queues in Pure Master/Slave setup</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gtully">Gary Tully</assignee>
                                    <reporter username="hansb">Hans Bausewein</reporter>
                        <labels>
                    </labels>
                <created>Wed, 24 Sep 2008 09:27:59 +0000</created>
                <updated>Wed, 8 Oct 2008 16:30:37 +0000</updated>
                            <resolved>Wed, 1 Oct 2008 16:17:37 +0000</resolved>
                                    <version>5.2.0</version>
                                    <fixVersion>5.2.0</fixVersion>
                                    <component>Broker</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12940267" author="gtully" created="Tue, 30 Sep 2008 13:50:49 +0000"  >&lt;p&gt;Hans, have you had any luck reproducing this problem with trunk and with a simple jms only test. I have been attempting to reproduce with org.apache.activemq.advisory.MasterSlaveTempQueueMemoryTest, but to no avail.&lt;/p&gt;</comment>
                            <comment id="12940288" author="hansb" created="Tue, 30 Sep 2008 14:10:27 +0000"  >&lt;p&gt;I first tried to run the test with a singleton MDB, but I found that my JBoss configuration failed here. It was still deploying multiple beans.&lt;/p&gt;

&lt;p&gt;I think to reproduce it stand-alone, I must instantiate several message message listener beans that forward the message to a temporary queue and receive the reply. Probably less than that will do, but this would replicate the JBoss case and I don&apos;t know which part exactly fails.&lt;/p&gt;
</comment>
                            <comment id="12940273" author="gtully" created="Tue, 30 Sep 2008 14:20:55 +0000"  >&lt;p&gt;This patch should resolve the issue, the wakeup outside of the dispatchLock makes sense in all cases, as the wakeup deals with optimized and the additional isSlave check which causes the problem in this case.&lt;br/&gt;
I want to verify a full test run with this change and also see if I can generate a tests case that reproduces the problem.&lt;br/&gt;
Hans, if you get a chance, can you verify your jboss scenario with this fix? thanks.&lt;/p&gt;</comment>
                            <comment id="12940253" author="hansb" created="Tue, 30 Sep 2008 14:56:45 +0000"  >&lt;p&gt;Removed &lt;/p&gt;

&lt;p&gt;    &amp;lt;dependency&amp;gt;&lt;br/&gt;
      &amp;lt;groupId&amp;gt;${pom.groupId}&amp;lt;/groupId&amp;gt;&lt;br/&gt;
      &amp;lt;artifactId&amp;gt;activemq-core&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
      &amp;lt;type&amp;gt;test-jar&amp;lt;/type&amp;gt;&lt;br/&gt;
      &amp;lt;scope&amp;gt;test&amp;lt;/scope&amp;gt;&lt;br/&gt;
    &amp;lt;/dependency&amp;gt;&lt;/p&gt;

&lt;p&gt;from activemq-pool/pom.xml&lt;/p&gt;

&lt;p&gt;or I get:&lt;/p&gt;

&lt;p&gt;Missing:&lt;br/&gt;
----------&lt;br/&gt;
1) org.apache.activemq:activemq-core:test-jar:tests:5.3-SNAPSHOT&lt;/p&gt;

&lt;p&gt;  Try downloading the file manually from the project website.&lt;/p&gt;

&lt;p&gt;  Then, install it using the command: &lt;br/&gt;
      mvn install:install-file -DgroupId=org.apache.activemq -DartifactId=activemq-core -Dversion=5.3-SNAPSHOT -Dclassifier=tests -Dpackaging=test-jar -Dfile=/path/to/file&lt;/p&gt;

&lt;p&gt;  Alternatively, if you host your own repository you can deploy the file there: &lt;br/&gt;
      mvn deploy:deploy-file -DgroupId=org.apache.activemq -DartifactId=activemq-core -Dversion=5.3-SNAPSHOT -Dclassifier=tests -Dpackaging=test-jar -Dfile=/path/to/file -Durl=&lt;span class=&quot;error&quot;&gt;&amp;#91;url&amp;#93;&lt;/span&gt; -DrepositoryId=&lt;span class=&quot;error&quot;&gt;&amp;#91;id&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;  Path to dependency: &lt;br/&gt;
        1) org.apache.activemq:activemq-pool:bundle:5.3-SNAPSHOT&lt;br/&gt;
        2) org.apache.activemq:activemq-core:test-jar:tests:5.3-SNAPSHOT&lt;/p&gt;

&lt;p&gt;----------&lt;br/&gt;
1 required artifact is missing.&lt;/p&gt;

&lt;p&gt;for artifact: &lt;br/&gt;
  org.apache.activemq:activemq-pool:bundle:5.3-SNAPSHOT&lt;/p&gt;

&lt;p&gt;Same for activemq-camel/pom.xml and some other sub poms&lt;/p&gt;

&lt;p&gt;I&apos;m running&lt;/p&gt;

&lt;p&gt;  mvn -Dmaven.test.skip=true install&lt;/p&gt;

&lt;p&gt;because it takes a long time to run all tests and some often fail.&lt;/p&gt;

&lt;p&gt;Maven does not skip the test-jar dependencies, it seems.&lt;/p&gt;

&lt;p&gt;Installed Maven 2.0.9, but it does the same &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Getting there, but it takes a while.&lt;/p&gt;</comment>
                            <comment id="12940270" author="gtully" created="Tue, 30 Sep 2008 15:22:57 +0000"  >&lt;p&gt;ah,&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;mvn clean install -Dtest=0&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt; does the trick. The builds the tests but no tests are run as none match &apos;0&apos;.&lt;/p&gt;</comment>
                            <comment id="12940282" author="hansb" created="Tue, 30 Sep 2008 16:06:34 +0000"  >&lt;p&gt;Thanks. Easier than removing all those dependencies.&lt;/p&gt;

&lt;p&gt;I&apos;ve first tested with the old installation to verify that it still fails. It did. With 1 message and 10 messages it was OK, but when I sent 50 it got the deadlock at 33.&lt;/p&gt;


&lt;p&gt;With the patched 700476 I do not get a dead after sending 4 times 100 messages at a time.&lt;/p&gt;

&lt;p&gt;I got some &quot; Slave broker out of sync with master: Dispatched message (ID:...id.) was not in the pending list&quot; messages, though.&lt;br/&gt;
And, I guess as a result, the number of messages on the slave queue page were not updated to the same values as on the master.&lt;/p&gt;

&lt;p&gt;I also have a lot of temporary queues on the slave, now.&lt;/p&gt;</comment>
                            <comment id="12940251" author="hansb" created="Tue, 30 Sep 2008 16:26:08 +0000"  >&lt;p&gt;Did another test with 30 messages at a time and then it happened at exactly the same total number of messages: 200&lt;/p&gt;

&lt;p&gt;Does that ring a bell? Is there some list that gets full?&lt;/p&gt;

&lt;p&gt;Maybe I should try with a much larger message. If the same happens sooner it could be a memory buffer that gets full.&lt;/p&gt;</comment>
                            <comment id="12940260" author="gtully" created="Tue, 30 Sep 2008 16:47:57 +0000"  >&lt;p&gt;this is progress but it is pointing to the need for a standalone test case.&lt;br/&gt;
200 is the default page size, but not sure if that is relevant in this case. &lt;/p&gt;

&lt;p&gt;I wonder if it is worth looking at org.apache.activemq.advisory.TempQueueMemoryTest, it is simple rpc with a temp q for the reply. I extended it to master slave to tackle an instance of &quot;Slave broker out of sync with master...&quot; in the past, hense MasterSlaveTempQueueMemoryTest. How different is the mdb scenario? If we can replicate the jms logic then I think it is only a case of ensuring that the session/connection caching is maintained and the jboss scenario can be reproduced. Do you think this is feasible?&lt;/p&gt;</comment>
                            <comment id="12940262" author="hansb" created="Tue, 30 Sep 2008 17:54:56 +0000"  >&lt;p&gt;Certainly feasible, but I think implementing all is a lot of work and not necessary. The problem is to identify the relevant parts.&lt;br/&gt;
For &lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-1849&quot; title=&quot;Slave threads increasing when sending to temporary queue&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-1849&quot;&gt;&lt;del&gt;AMQ-1849&lt;/del&gt;&lt;/a&gt; I could make a bean that is used by both.&lt;/p&gt;

&lt;p&gt;Here it&apos;s a bit more complicated, because I think that concurrency is part of the problem. I&apos;m not sure exactly where, but I suspect creating and deleting temporary queues is at least part of it. (well, for the deadlock certainly)&lt;/p&gt;

&lt;p&gt;The JBoss case usually works fine when I send 10 messages, that are forwarded from the first MDB to another temporary queue. When there are more pending messages, JBoss will create more MDB&apos;s, so there is more concurrency.&lt;/p&gt;

&lt;p&gt;I doubt that the test cases really catch the master/slave issues, because of variable latency between the hosts. But it&apos;s better than nothing. I&apos;ll check them again.&lt;/p&gt;

&lt;p&gt;later&lt;/p&gt;
</comment>
                            <comment id="12940291" author="gtully" created="Wed, 1 Oct 2008 10:51:18 +0000"  >&lt;p&gt;more complete patch, same logic needs to be applied to subscription removal as well as subscription addition as iterate can be at work in both cases.&lt;/p&gt;</comment>
                            <comment id="12940293" author="hansb" created="Wed, 1 Oct 2008 11:38:02 +0000"  >&lt;p&gt;Do you think the patch to avoid the deadlock can be applied to 5.2.0 RC1 ?&lt;/p&gt;</comment>
                            <comment id="12940264" author="gtully" created="Wed, 1 Oct 2008 11:53:44 +0000"  >&lt;p&gt;yea, I will cut rc2 from trunk before the end of the week with a bit of luck and commit the deadlock fixes once I track down some further regressions with the unit tests.&lt;/p&gt;</comment>
                            <comment id="12940298" author="gtully" created="Wed, 1 Oct 2008 16:17:36 +0000"  >&lt;p&gt;Committed revision 700823 slight revision to patch to gate on isSlave to reflect wakeup inline call to iterate. This allows immediate dispatch to new subscription.&lt;/p&gt;</comment>
                            <comment id="12940285" author="hansb" created="Fri, 3 Oct 2008 19:09:34 +0000"  >&lt;p&gt;Surprising result (for me, at least) with the patched RC1(Sep 30) : it also happens when the MDB&apos;s are deployed as singleton.&lt;/p&gt;

&lt;p&gt;I sent 50 messages at a time. Fine up to 200, so 4 times.&lt;/p&gt;

&lt;p&gt;On the 5th it works as expected on the master, but the slave has:&lt;/p&gt;

&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; queue      &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Pending   &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Received &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; queue.ReplyA &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 250     &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 0 &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  queue.A 	     &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 50       &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 200 &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  queue.B 	     &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 50   &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 200 &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;A stand-alone test application using a single bean is quite easy to make, if it&apos;s still necessary.&lt;/p&gt;

&lt;p&gt;Have not tried the latest trunk, yet.&lt;/p&gt;
</comment>
                            <comment id="12940274" author="hansb" created="Mon, 6 Oct 2008 14:09:28 +0000"  >&lt;p&gt;I&apos;ve created a JMSMessageHandler (a MessageListener) and a kind of container for it.&lt;/p&gt;

&lt;p&gt;See activemqjee-0.0.4-src.tar.gz&lt;/p&gt;

&lt;p&gt;It can be deployed on JBoss 4, Glassfish or stand-alone. (tested all three)&lt;/p&gt;

&lt;p&gt;To run it stand-alone, do something like:&lt;/p&gt;

&lt;p&gt;java -classpath conf:lib/activemq-all-5.2.0.jar:lib/activemqjee-0.0.4.jar:lib/log4j-1.2.14.jar org.activemq.jms.StandaloneApp &lt;/p&gt;

&lt;p&gt;that is, on a unix with a directory structure:&lt;br/&gt;
 conf/jndi.properties  &lt;br/&gt;
 conf/log4j.xml&lt;br/&gt;
 lib/activemq-all-5.2.0.jar  &lt;br/&gt;
 lib/activemqjee-0.0.4.jar&lt;br/&gt;
 lib/log4j-1.2.14.jar&lt;/p&gt;

&lt;p&gt;Optional parameters:&lt;br/&gt;
  a number = the number of concurrent beans (message listeners)  (default 1)&lt;br/&gt;
  a second number =  the number of milliseconds to use for time-to-live / timeout. (default 1000 ms)&lt;/p&gt;
</comment>
                            <comment id="12940308" author="gtully" created="Mon, 6 Oct 2008 15:06:10 +0000"  >&lt;p&gt;Hans, this looks like progress, thanks. Standalone app runs fine. Can u post your handy client? thanks.&lt;/p&gt;</comment>
                            <comment id="12940303" author="hansb" created="Mon, 6 Oct 2008 15:35:01 +0000"  >&lt;p&gt;I don&apos;t know, what you mean. StandaloneApp is my handy client. (I think)&lt;/p&gt;


&lt;p&gt;It works by posting a message to &apos;queue.A&apos; with the ActiveMQ console (or anyway you like, of course) with a reply queue (I use &quot;queue.ReplyA&quot;). &lt;/p&gt;

&lt;p&gt;Then the first message handler (handler A) forwards the message to &apos;queue.B&apos;  to which the second message handler is listening.&lt;/p&gt;

&lt;p&gt;The second message handler replies to the first through the reply queue (set by handler A).&lt;/p&gt;

&lt;p&gt;The first (handler A) replies to the reply you&apos;ve specified in the first request.&lt;/p&gt;

</comment>
                            <comment id="12940304" author="hansb" created="Tue, 7 Oct 2008 10:12:28 +0000"  >&lt;p&gt;Also works on JBoss 4.2.3.GA. (the other was 4.0.5)&lt;/p&gt;


</comment>
                            <comment id="12940327" author="gtully" created="Tue, 7 Oct 2008 11:13:15 +0000"  >&lt;p&gt;Added a little test driver, startBroker(), doWork() that submits 250 messages, both maser and slave show the expected processed messages via jconsole.&lt;/p&gt;</comment>
                            <comment id="12940322" author="gtully" created="Tue, 7 Oct 2008 11:18:24 +0000"  >&lt;p&gt;Hans, ok, I added the code to start a master slave pair and produce 250 messages to StandaloneApp, see attachement. The test works are expected. Are you happy that this issues is resolved?&lt;/p&gt;

&lt;p&gt;The &apos;surprising&apos; result you mention above (on the 3rd), in what circumstances does this happen in the standalone app?&lt;br/&gt;
I will try some additional values of &quot;the number of concurrent beans (message listeners) (default 1)&quot; in the next few minutes it hope of reproducing the problem. &lt;br/&gt;
Otherwise, can we consider this issue closed?&lt;/p&gt;</comment>
                            <comment id="12940295" author="hansb" created="Tue, 7 Oct 2008 15:48:43 +0000"  >&lt;p&gt;That result was against the same version as I had tested before.&lt;/p&gt;

&lt;p&gt;I&apos;ll test again. I should use the latest 5.3.0-SNAPSHOT ?&lt;/p&gt;

&lt;p&gt;Or is there a new RC already?&lt;/p&gt;</comment>
                            <comment id="12940310" author="gtully" created="Tue, 7 Oct 2008 16:29:37 +0000"  >&lt;p&gt;wait for the new rc, I am working on it now.&lt;/p&gt;</comment>
                            <comment id="12940325" author="hansb" created="Tue, 7 Oct 2008 17:20:48 +0000"  >&lt;p&gt;Your test does not test concurrency. The receiver waits until it gets the previously posted message and then the next message is produced. &lt;/p&gt;

&lt;p&gt;I&apos;ve modified it to first produce all messages with a correlationid and then try to receive the same number of messages and checking the received ids.&lt;/p&gt;

&lt;p&gt;Also added copying the correlationid in the handler. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12461189" name="ASF.LICENSE.NOT.GRANTED--activemqjee-0.0.4-src.tar.gz" size="6556" author="hansb" created="Mon, 6 Oct 2008 14:09:28 +0000"/>
                            <attachment id="12461263" name="ASF.LICENSE.NOT.GRANTED--deadlock.txt" size="39443" author="hansb" created="Wed, 24 Sep 2008 09:27:59 +0000"/>
                            <attachment id="12461264" name="StandaloneApp.java" size="5469" author="gtully" created="Tue, 7 Oct 2008 11:13:15 +0000"/>
                            <attachment id="12461153" name="amq-1950.patch.2.txt" size="2999" author="gtully" created="Wed, 1 Oct 2008 10:51:18 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75162</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 8 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tt1j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>172014</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>