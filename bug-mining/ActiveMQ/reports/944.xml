<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 05:46:26 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-2695] Invalid messages in the pending queue of durable subscriptions.</title>
                <link>https://issues.apache.org/jira/browse/AMQ-2695</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;Invalid messages appear in the pending queue of the durable subscriptions (with message selector) right after broker restart. These invalid messages are blocking the delivery of the newly produced ones.&lt;br/&gt;
As I see all messages appear in the pending queue what are produced on the topic (ever!!!) even if does not fulfills the selector.&lt;/p&gt;

&lt;p&gt;Please, check my test case!&lt;/p&gt;</description>
                <environment></environment>
        <key id="12483900">AMQ-2695</key>
            <summary>Invalid messages in the pending queue of durable subscriptions.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dejanb">Dejan Bosanac</assignee>
                                    <reporter username="akos.baraz">Akos Baraz</reporter>
                        <labels>
                    </labels>
                <created>Tue, 13 Apr 2010 09:45:27 +0000</created>
                <updated>Tue, 23 Nov 2010 19:39:00 +0000</updated>
                            <resolved>Tue, 23 Nov 2010 19:39:00 +0000</resolved>
                                    <version>5.3.1</version>
                                    <fixVersion>5.4.2</fixVersion>
                                    <component>Broker</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12942636" author="dejanb" created="Mon, 14 Jun 2010 11:41:29 +0000"  >&lt;p&gt;Fixed with svn revision 954412&lt;/p&gt;

&lt;p&gt;The problem was that KahaDB store didn&apos;t return a valid message count for the durable subscriber with selector (after the restart)&lt;/p&gt;</comment>
                            <comment id="12943256" author="gtully" created="Tue, 23 Nov 2010 19:03:55 +0000"  >&lt;p&gt;The existing solution can be improved from a performance perspective using the changes in &lt;a href=&quot;https://issues.apache.org/activemq/browse/AMQ-2985&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://issues.apache.org/activemq/browse/AMQ-2985&lt;/a&gt;.&lt;br/&gt;
The index, via acklocations contains all of the matched messages so the selectors need not be rerun to determine the available message count etc.&lt;/p&gt;</comment>
                            <comment id="12943248" author="gtully" created="Tue, 23 Nov 2010 19:39:00 +0000"  >&lt;p&gt;r1038296, re implemented getMessageCount to use the just the index and remove the need to re run the selector.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12461733" name="SubscriptionSelectorTest.java" size="4804" author="akos.baraz" created="Wed, 9 Jun 2010 07:53:20 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>14738</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 1 week ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0b9vz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>63714</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>