<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 06:41:50 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-6834] ClassNotFoundException when install activemq-osgi bundle with Camel 2.19.x into OSGi container</title>
                <link>https://issues.apache.org/jira/browse/AMQ-6834</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;Start karaf OSGi container, install Camel 2.19.2 and activemq-client feature (activemq-osgi bundle), then the ClassNotFoundException is thrown:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2017-10-10T10:12:30,012 | WARN  | pool-46-thread-2 | aries.blueprint.spring.Activator   57 | 291 - org.apache.aries.blueprint.spring - 0.4.0 | Error starting extension: org.apache.activemq.activemq-osgi/5.15.0
java.lang.ClassNotFoundException: org.apache.camel.osgi.CamelNamespaceHandler cannot be found by org.apache.activemq.activemq-osgi_5.15.0
	at org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:461) [?:?]
	at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:372) [?:?]
	at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:364) [?:?]
	at org.eclipse.osgi.internal.loader.ModuleClassLoader.loadClass(ModuleClassLoader.java:161) [?:?]
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.loadClass(&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.java:357) [?:?]
	at org.eclipse.osgi.internal.framework.EquinoxBundle.loadClass(EquinoxBundle.java:564) [?:?]
	at org.apache.aries.blueprint.spring.SpringExtension.start(SpringExtension.java:64) [291:org.apache.aries.blueprint.spring:0.4.0]
	at org.apache.felix.utils.extender.AbstractExtender$1.run(AbstractExtender.java:265) [291:org.apache.aries.blueprint.spring:0.4.0]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:?]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:?]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [?:?]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [?:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [?:?]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [?:?]
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745) [?:?]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;From Camel 2.19.x, the camel-spring-dm feature/bundle has been totally removed, that&apos;s why the org.apache.camel.osgi.CamelNamespaceHandler couldn&apos;t be found anymore. &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
http\:&lt;span class=&quot;code-comment&quot;&gt;//camel.apache.org/schema/osgi=org.apache.camel.osgi.CamelNamespaceHandler&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;There is still definition above in the spring.handlers of the activemq-osgi bundle. this may need to be removed or updated from spring.handlers.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Java 8&lt;/p&gt;</environment>
        <key id="13108482">AMQ-6834</key>
            <summary>ClassNotFoundException when install activemq-osgi bundle with Camel 2.19.x into OSGi container</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="xldai">Xilai Dai</reporter>
                        <labels>
                    </labels>
                <created>Wed, 11 Oct 2017 03:27:23 +0000</created>
                <updated>Mon, 16 Oct 2017 13:26:46 +0000</updated>
                            <resolved>Mon, 16 Oct 2017 13:26:46 +0000</resolved>
                                    <version>5.15.0</version>
                                    <fixVersion>5.15.2</fixVersion>
                    <fixVersion>5.16.0</fixVersion>
                                    <component>OSGi/Karaf</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="16200177" author="christopher.l.shannon" created="Wed, 11 Oct 2017 12:14:15 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=davsclaus&quot; class=&quot;user-hover&quot; rel=&quot;davsclaus&quot;&gt;davsclaus&lt;/a&gt; or &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chris%40die-schneider.net&quot; class=&quot;user-hover&quot; rel=&quot;chris@die-schneider.net&quot;&gt;chris@die-schneider.net&lt;/a&gt; - Can we just delete this line or do we need to update it to http\://camel.apache.org/schema/blueprint=org.apache.camel.blueprint.CamelNamespaceHandler&lt;/p&gt;</comment>
                            <comment id="16200250" author="davsclaus" created="Wed, 11 Oct 2017 13:12:34 +0000"  >&lt;p&gt;Yeah not sure why those camel namespace handlers are there, I would assume you can remove all of them, so its only ActiveMQ left.&lt;/p&gt;</comment>
                            <comment id="16205064" author="jira-bot" created="Sun, 15 Oct 2017 08:21:43 +0000"  >&lt;p&gt;Commit b27b4d9a3338945125cc64ead87ea65fba785fd5 in activemq&apos;s branch refs/heads/activemq-5.15.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=davsclaus&quot; class=&quot;user-hover&quot; rel=&quot;davsclaus&quot;&gt;davsclaus&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=b27b4d9&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=b27b4d9&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-6834&quot; title=&quot;ClassNotFoundException when install activemq-osgi bundle with Camel 2.19.x into OSGi container&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-6834&quot;&gt;&lt;del&gt;AMQ-6834&lt;/del&gt;&lt;/a&gt;: activemq-osgi should not include camel namespace in spring as they have been removed from Camel. Only blueprint is supported&lt;/p&gt;</comment>
                            <comment id="16205065" author="jira-bot" created="Sun, 15 Oct 2017 08:21:45 +0000"  >&lt;p&gt;Commit 98a5e55a9676f6857aefed5a0d4a364ba4920375 in activemq&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=davsclaus&quot; class=&quot;user-hover&quot; rel=&quot;davsclaus&quot;&gt;davsclaus&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=98a5e55&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=98a5e55&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-6834&quot; title=&quot;ClassNotFoundException when install activemq-osgi bundle with Camel 2.19.x into OSGi container&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-6834&quot;&gt;&lt;del&gt;AMQ-6834&lt;/del&gt;&lt;/a&gt;: activemq-osgi should not include camel namespace in spring as they have been removed from Camel. Only blueprint is supported&lt;/p&gt;</comment>
                            <comment id="16205857" author="christopher.l.shannon" created="Mon, 16 Oct 2017 13:03:00 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=davsclaus&quot; class=&quot;user-hover&quot; rel=&quot;davsclaus&quot;&gt;davsclaus&lt;/a&gt; - Don&apos;t we still want to keep the camel-spring stuff and only remove the osgi line?  I think it was only this line that was broken http\://camel.apache.org/schema/osgi=org.apache.camel.osgi.CamelNamespaceHandler&lt;/p&gt;

&lt;p&gt;I think we still need to keep http\://camel.apache.org/schema/spring/camel-spring.xsd=camel-spring.xsd&lt;/p&gt;

&lt;p&gt;There&apos;s a bunch of tests that refer to that schema and there is now a test failure because of the schema being removed:  &lt;a href=&quot;https://builds.apache.org/view/A/view/ActiveMQ/job/ActiveMQ-Java8/lastBuild/org.apache.activemq$activemq-karaf-itest/testReport/org.apache.activemq.karaf.itest/ActiveMQBrokerNdCamelFeatureTest/test/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/view/A/view/ActiveMQ/job/ActiveMQ-Java8/lastBuild/org.apache.activemq$activemq-karaf-itest/testReport/org.apache.activemq.karaf.itest/ActiveMQBrokerNdCamelFeatureTest/test/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16205868" author="davsclaus" created="Mon, 16 Oct 2017 13:18:31 +0000"  >&lt;p&gt;You are welcome to add it back and see if that helps&lt;/p&gt;</comment>
                            <comment id="16205873" author="jira-bot" created="Mon, 16 Oct 2017 13:22:49 +0000"  >&lt;p&gt;Commit 0c396a23e761c9371edacbdbddff891fcc0e3a04 in activemq&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cshannon&quot; class=&quot;user-hover&quot; rel=&quot;cshannon&quot;&gt;cshannon&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=0c396a2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=0c396a2&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-6834&quot; title=&quot;ClassNotFoundException when install activemq-osgi bundle with Camel 2.19.x into OSGi container&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-6834&quot;&gt;&lt;del&gt;AMQ-6834&lt;/del&gt;&lt;/a&gt; - Adding back in spring schemas for camel&lt;/p&gt;</comment>
                            <comment id="16205878" author="jira-bot" created="Mon, 16 Oct 2017 13:25:39 +0000"  >&lt;p&gt;Commit bc4da284f58230b6d900975aaf628627d6dea227 in activemq&apos;s branch refs/heads/activemq-5.15.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cshannon&quot; class=&quot;user-hover&quot; rel=&quot;cshannon&quot;&gt;cshannon&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=bc4da28&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=bc4da28&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-6834&quot; title=&quot;ClassNotFoundException when install activemq-osgi bundle with Camel 2.19.x into OSGi container&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-6834&quot;&gt;&lt;del&gt;AMQ-6834&lt;/del&gt;&lt;/a&gt; - Adding back in spring schemas for camel&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 0c396a23e761c9371edacbdbddff891fcc0e3a04)&lt;/p&gt;</comment>
                            <comment id="16205880" author="christopher.l.shannon" created="Mon, 16 Oct 2017 13:26:34 +0000"  >&lt;p&gt;Ok I partially reverted your commit, I added back in the spring schema but I left out the osgi one that was broken.  I think this will sort it but we can wait for CI to confirm.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 5 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3l45j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>