<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 05:43:41 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-2489] &quot;Could not correlate acknowledgment with dispatched message&quot; exception</title>
                <link>https://issues.apache.org/jira/browse/AMQ-2489</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;This exception is thrown on broker side when two or more ASYNCH consumers acknowledges messages in not in order they received the messages.&lt;/p&gt;

&lt;p&gt;See more on users list: &lt;a href=&quot;http://old.nabble.com/%22Could-not-correlate-acknowledgment-with-dispatched-message%22-td26308220.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://old.nabble.com/%22Could-not-correlate-acknowledgment-with-dispatched-message%22-td26308220.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Simple unit test attached.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12483130">AMQ-2489</key>
            <summary>&quot;Could not correlate acknowledgment with dispatched message&quot; exception</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gtully">Gary Tully</assignee>
                                    <reporter username="daroo">Dariusz Szablinski</reporter>
                        <labels>
                    </labels>
                <created>Thu, 12 Nov 2009 21:02:45 +0000</created>
                <updated>Tue, 24 Nov 2009 12:21:34 +0000</updated>
                            <resolved>Mon, 23 Nov 2009 18:44:44 +0000</resolved>
                                    <version>5.1.0</version>
                    <version>5.3.0</version>
                    <version>5.4.0</version>
                                    <fixVersion>5.3.1</fixVersion>
                    <fixVersion>5.4.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12941843" author="gtully" created="Fri, 20 Nov 2009 16:20:50 +0000"  >&lt;p&gt;thanks for the test case, The problem is a delivery ack that is not conditional on the consumer calling acknowledge and that combined with a prefetch=1 causes that pending delivery ack to be sent immediately, resulting in the broker error looking for a message that has already been acked.&lt;br/&gt;
However the messages are being acked individually just fine. &lt;br/&gt;
The fix looks trivial enough, will commit once a full test run completes.&lt;/p&gt;</comment>
                            <comment id="12941862" author="gtully" created="Mon, 23 Nov 2009 18:44:43 +0000"  >&lt;p&gt;resolved in r883458 - delivery acks are only needed for unacked messages to update prefetch and expiry. When message is acked, they should be suppressed as they now are as they will result in this exception due to not found in the dispatch list.&lt;/p&gt;</comment>
                            <comment id="12941874" author="daroo" created="Tue, 24 Nov 2009 12:21:34 +0000"  >&lt;p&gt;I&apos;ve verified and the issue seems to be fixed. Thanks a lot.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12461533" name="JmsUnorderedAsynchAckTest.java" size="5966" author="daroo" created="Thu, 12 Nov 2009 21:05:51 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>74922</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 1 week ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rr67:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>160046</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>