<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 05:53:47 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-3274] duplicate messages on Temporary Topics in network of brokers</title>
                <link>https://issues.apache.org/jira/browse/AMQ-3274</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;Creating a network of brokers, duplicate messages are being seen on Temporary Topics.&lt;/p&gt;

&lt;p&gt;The network configuration used is as follows:&lt;/p&gt;

&lt;p&gt;        &amp;lt;networkConnectors&amp;gt;&lt;br/&gt;
                &amp;lt;networkConnector name=&quot;nw1_queues_from_nw2&quot; uri=&quot;static:(tcp://127.0.0.1:60002)&quot;&lt;br/&gt;
                                  duplex=&quot;true&quot; conduitSubscriptions=&quot;false&quot; dynamicOnly=&quot;true&quot;&lt;br/&gt;
                                  networkTTL=&quot;7&quot; suppressDuplicateQueueSubscriptions=&quot;true&quot;&lt;br/&gt;
                                  decreaseNetworkConsumerPriority=&quot;true&quot;&lt;/p&gt;

&lt;p&gt;                                  bridgeTempDestinations=&quot;true&quot;&lt;br/&gt;
                                  &amp;gt;&lt;br/&gt;
                        &amp;lt;excludedDestinations&amp;gt;&lt;br/&gt;
                                &amp;lt;topic physicalName=&quot;&amp;gt;&quot; /&amp;gt;&lt;br/&gt;
                        &amp;lt;/excludedDestinations&amp;gt;&lt;br/&gt;
                &amp;lt;/networkConnector&amp;gt;&lt;/p&gt;

&lt;p&gt;                &amp;lt;networkConnector name=&quot;nw1_topics_from_nw2&quot; uri=&quot;static:(tcp://127.0.0.1:60002)&quot;&lt;br/&gt;
                                  duplex=&quot;true&quot; conduitSubscriptions=&quot;true&quot; dynamicOnly=&quot;true&quot;&lt;br/&gt;
                                  networkTTL=&quot;7&quot; suppressDuplicateQueueSubscriptions=&quot;true&quot;&lt;br/&gt;
                                  decreaseNetworkConsumerPriority=&quot;true&quot;&lt;/p&gt;

&lt;p&gt;                                  bridgeTempDestinations=&quot;true&quot;&lt;br/&gt;
                                  &amp;gt;&lt;br/&gt;
                        &amp;lt;excludedDestinations&amp;gt;&lt;br/&gt;
                                &amp;lt;queue physicalName=&quot;&amp;gt;&quot; /&amp;gt;&lt;br/&gt;
                        &amp;lt;/excludedDestinations&amp;gt;&lt;br/&gt;
                &amp;lt;/networkConnector&amp;gt;&lt;br/&gt;
    &amp;lt;/networkConnectors&amp;gt;&lt;/p&gt;

&lt;p&gt;Note there are 2 duplex connections between the brokers.  Changing to non-duplex connections, the problem goes away with 2 brokers in the network, but reappears when a 3rd broker is added.&lt;/p&gt;

&lt;p&gt;The problem only affects temporary Topics; normal Topics work fine.&lt;/p&gt;

&lt;p&gt;A patch will be attached.  Also, a test case will be attached when it is available.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12503568">AMQ-3274</key>
            <summary>duplicate messages on Temporary Topics in network of brokers</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rajdavies">Robert Davies</assignee>
                                    <reporter username="artnaseef">Arthur Naseef</reporter>
                        <labels>
                    </labels>
                <created>Wed, 6 Apr 2011 23:14:05 +0000</created>
                <updated>Mon, 16 Apr 2012 06:23:50 +0000</updated>
                            <resolved>Mon, 16 Apr 2012 06:23:50 +0000</resolved>
                                    <version>5.4.2</version>
                                    <fixVersion>5.6.0</fixVersion>
                                    <component>Broker</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13016601" author="artnaseef" created="Wed, 6 Apr 2011 23:16:45 +0000"  >&lt;p&gt;Patch eliminating duplicates on temporary topics.  As the patch shows, subscriptions to temporary destinations were being matched against the subscriptions in permanent regions, not the temp regions.&lt;/p&gt;</comment>
                            <comment id="13017057" author="artnaseef" created="Thu, 7 Apr 2011 17:25:45 +0000"  >&lt;p&gt;JUnit test which demonstrates the duplicates. Uses an &quot;echo&quot; service and tests Topics, Queues, Temporary Topics, and Temporary Queues.&lt;/p&gt;</comment>
                            <comment id="13197353" author="artnaseef" created="Tue, 31 Jan 2012 22:55:04 +0000"  >&lt;p&gt;This is a relatively small change to fix the problem and I have provided a JUnit test case.  Is there anything more I can do to help resolve it?&lt;/p&gt;

&lt;p&gt;Note that I just checked the sources on the head (snapshot taken 01/12/2012), and the problem remains there.&lt;/p&gt;</comment>
                            <comment id="13254533" author="rajdavies" created="Mon, 16 Apr 2012 06:23:50 +0000"  >&lt;p&gt;Fixed by SVN revision 1326502&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12475729" name="AMQ3274Test.java" size="20480" author="artnaseef" created="Thu, 7 Apr 2011 17:25:45 +0000"/>
                            <attachment id="12475641" name="tempTopicDups.patch" size="2892" author="artnaseef" created="Wed, 6 Apr 2011 23:16:45 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>74706</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 32 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310041" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Patch Info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10042"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ajjz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>59441</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>