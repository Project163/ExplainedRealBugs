<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 06:44:35 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-7011] Activemq 5.15.4 Stomp protocol allowed to enter deadlock via dispatch sync</title>
                <link>https://issues.apache.org/jira/browse/AMQ-7011</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;Activemq 5.15.4 Stomp protocol allowed to enter deadlock via dispatch sync.&lt;/p&gt;

&lt;p&gt;Scenario:&lt;/p&gt;

&lt;p&gt;Stomp client setting the following:&lt;br/&gt;
header.put(&quot;id&quot;, subId);&lt;br/&gt;
header.put(&quot;activemq.dispatchAsync&quot;, &quot;false&quot;);&lt;/p&gt;

&lt;p&gt;The setup of locks between TopicSubscription and MutexTransport while using Stomp in sync mode can result in a Deadlock as found below (Add and Destroy calls processing), each lock is identified by a + or * to show lock order in each stack trace.&lt;/p&gt;

&lt;p&gt;&#8232;&#8232;Found one Java-level deadlock:&lt;br/&gt;
=============================&lt;br/&gt;
&quot;ActiveMQ Transport: tcp:///127.0.0.1:58303@61613&quot;:&lt;br/&gt;
&#160; waiting to lock monitor 0x00007f9c565d4d28 (object 0x00000007acc44708, a java.lang.Object),&lt;br/&gt;
&#160; which is held by &quot;ActiveMQ Transport: tcp:///127.0.0.1:58302@61613&quot;&lt;br/&gt;
&quot;ActiveMQ Transport: tcp:///127.0.0.1:58302@61613&quot;:&lt;br/&gt;
&#160; waiting for ownable synchronizer 0x00000007ac872730, (a java.util.concurrent.locks.ReentrantLock$NonfairSync),&lt;br/&gt;
&#160; which is held by &quot;ActiveMQ Transport: tcp:///127.0.0.1:58303@61613&quot;&lt;br/&gt;
Java stack information for the threads listed above:&lt;br/&gt;
===================================================&lt;br/&gt;
&quot;ActiveMQ Transport: tcp:///127.0.0.1:58303@61613&quot;:&lt;br/&gt;
++++++&#160; at org.apache.activemq.broker.region.TopicSubscription.destroy(TopicSubscription.java:757)&lt;br/&gt;
&#160;&#160;&#160; - waiting to lock &amp;lt;0x00000007acc44708&amp;gt; (a java.lang.Object)&lt;br/&gt;
&#160;&#160;&#160; at org.apache.activemq.broker.region.AbstractRegion.destroySubscription(AbstractRegion.java:488)&lt;br/&gt;
&#160;&#160;&#160; at org.apache.activemq.broker.jmx.ManagedTopicRegion.destroySubscription(ManagedTopicRegion.java:52)&lt;br/&gt;
&#160;&#160;&#160; at org.apache.activemq.broker.region.AbstractRegion.removeConsumer(AbstractRegion.java:480)&lt;br/&gt;
&#160;&#160;&#160; at org.apache.activemq.broker.region.TopicRegion.removeConsumer(TopicRegion.java:206)&lt;br/&gt;
&#160;&#160;&#160; at org.apache.activemq.broker.region.RegionBroker.removeConsumer(RegionBroker.java:429)&lt;br/&gt;
&#160;&#160;&#160; at org.apache.activemq.broker.jmx.ManagedRegionBroker.removeConsumer(ManagedRegionBroker.java:258)&lt;br/&gt;
&#160;&#160;&#160; at org.apache.activemq.broker.BrokerFilter.removeConsumer(BrokerFilter.java:139)&lt;br/&gt;
&#160;&#160;&#160; at org.apache.activemq.advisory.AdvisoryBroker.removeConsumer(AdvisoryBroker.java:352)&lt;br/&gt;
&#160;&#160;&#160; at org.apache.activemq.broker.BrokerFilter.removeConsumer(BrokerFilter.java:139)&lt;br/&gt;
&#160;&#160;&#160; at org.apache.activemq.broker.BrokerFilter.removeConsumer(BrokerFilter.java:139)&lt;br/&gt;
&#160;&#160;&#160; at org.apache.activemq.broker.BrokerFilter.removeConsumer(BrokerFilter.java:139)&lt;br/&gt;
&#160;&#160;&#160; at org.apache.activemq.broker.TransportConnection.processRemoveConsumer(TransportConnection.java:729)&lt;br/&gt;
&#160;&#160;&#160; at org.apache.activemq.broker.TransportConnection.processRemoveSession(TransportConnection.java:768)&lt;br/&gt;
&#160;&#160;&#160; at org.apache.activemq.broker.TransportConnection.processRemoveConnection(TransportConnection.java:879)&lt;br/&gt;
&#160;&#160;&#160; - locked &amp;lt;0x00000007ac999f00&amp;gt; (a org.apache.activemq.broker.jmx.ManagedTransportConnection)&lt;br/&gt;
&#160;&#160;&#160; at org.apache.activemq.command.RemoveInfo.visit(RemoveInfo.java:73)&lt;br/&gt;
&#160;&#160;&#160; at org.apache.activemq.broker.TransportConnection.service(TransportConnection.java:330)&lt;br/&gt;
&#160;&#160;&#160; at org.apache.activemq.broker.TransportConnection$1.onCommand(TransportConnection.java:194)&lt;br/&gt;
*****&#160;&#160; at org.apache.activemq.transport.MutexTransport.onCommand(MutexTransport.java:45)&lt;br/&gt;
&#160;&#160;&#160; at org.apache.activemq.transport.AbstractInactivityMonitor.onCommand(AbstractInactivityMonitor.java:301)&lt;br/&gt;
&#160;&#160;&#160; at org.apache.activemq.transport.stomp.StompTransportFilter.sendToActiveMQ(StompTransportFilter.java:97)&lt;br/&gt;
&#160;&#160;&#160; at org.apache.activemq.transport.stomp.ProtocolConverter.sendToActiveMQ(ProtocolConverter.java:202)&lt;br/&gt;
&#160;&#160;&#160; at org.apache.activemq.transport.stomp.ProtocolConverter.onStompDisconnect(ProtocolConverter.java:838)&lt;br/&gt;
&#160;&#160;&#160; at org.apache.activemq.transport.stomp.ProtocolConverter.onStompCommand(ProtocolConverter.java:267)&lt;br/&gt;
&#160;&#160;&#160; at org.apache.activemq.transport.stomp.StompTransportFilter.onCommand(StompTransportFilter.java:85)&lt;br/&gt;
&#160;&#160;&#160; at org.apache.activemq.transport.TransportSupport.doConsume(TransportSupport.java:83)&lt;br/&gt;
&#160;&#160;&#160; at org.apache.activemq.transport.tcp.TcpTransport.doRun(TcpTransport.java:233)&lt;br/&gt;
&#160;&#160;&#160; at org.apache.activemq.transport.tcp.TcpTransport.run(TcpTransport.java:215)&lt;br/&gt;
&#160;&#160;&#160; at java.lang.Thread.run(Thread.java:748)&lt;br/&gt;
&quot;ActiveMQ Transport: tcp:///127.0.0.1:58302@61613&quot;:&lt;br/&gt;
&#160;&#160;&#160; at sun.misc.Unsafe.park(Native Method)&lt;br/&gt;
&#160;&#160;&#160; - parking to wait for&#160; &amp;lt;0x00000007ac872730&amp;gt; (a java.util.concurrent.locks.ReentrantLock$NonfairSync)&lt;br/&gt;
&#160;&#160;&#160; at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)&lt;br/&gt;
&#160;&#160;&#160; at java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:836)&lt;br/&gt;
&#160;&#160;&#160; at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:870)&lt;br/&gt;
&#160;&#160;&#160; at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1199)&lt;br/&gt;
&#160;&#160;&#160; at java.util.concurrent.locks.ReentrantLock$NonfairSync.lock(ReentrantLock.java:209)&lt;br/&gt;
&#160;&#160;&#160; at java.util.concurrent.locks.ReentrantLock.lock(ReentrantLock.java:285)&lt;br/&gt;
*****&#160;&#160; at org.apache.activemq.transport.MutexTransport.oneway(MutexTransport.java:66)&lt;br/&gt;
&#160;&#160;&#160; at org.apache.activemq.broker.TransportConnection.dispatch(TransportConnection.java:1486)&lt;br/&gt;
&#160;&#160;&#160; at org.apache.activemq.broker.TransportConnection.processDispatch(TransportConnection.java:971)&lt;br/&gt;
&#160;&#160;&#160; at org.apache.activemq.broker.TransportConnection.dispatchSync(TransportConnection.java:927)&lt;br/&gt;
&#160;&#160;&#160; at org.apache.activemq.broker.region.TopicSubscription.dispatch(TopicSubscription.java:715)&lt;br/&gt;
+++++&#160;&#160; at org.apache.activemq.broker.region.TopicSubscription.add(TopicSubscription.java:121)&lt;br/&gt;
&#160;&#160;&#160; - locked &amp;lt;0x00000007acc44708&amp;gt; (a java.lang.Object)&lt;br/&gt;
&#160;&#160;&#160; at org.apache.activemq.broker.region.policy.SimpleDispatchPolicy.dispatch(SimpleDispatchPolicy.java:48)&lt;br/&gt;
&#160;&#160;&#160; at org.apache.activemq.broker.region.Topic.dispatch(Topic.java:775)&lt;br/&gt;
&#160;&#160;&#160; at org.apache.activemq.broker.region.Topic.doMessageSend(Topic.java:556)&lt;br/&gt;
&#160;&#160;&#160; - locked &amp;lt;0x00000007acbd4e08&amp;gt; (a org.apache.activemq.broker.region.Topic)&lt;br/&gt;
&#160;&#160;&#160; at org.apache.activemq.broker.region.Topic.send(Topic.java:484)&lt;br/&gt;
&#160;&#160;&#160; at org.apache.activemq.broker.region.AbstractRegion.send(AbstractRegion.java:505)&lt;br/&gt;
&#160;&#160;&#160; at org.apache.activemq.broker.region.RegionBroker.send(RegionBroker.java:459)&lt;br/&gt;
&#160;&#160;&#160; at org.apache.activemq.broker.jmx.ManagedRegionBroker.send(ManagedRegionBroker.java:293)&lt;br/&gt;
&#160;&#160;&#160; at org.apache.activemq.broker.BrokerFilter.send(BrokerFilter.java:154)&lt;br/&gt;
&#160;&#160;&#160; at org.apache.activemq.broker.CompositeDestinationBroker.send(CompositeDestinationBroker.java:96)&lt;br/&gt;
&#160;&#160;&#160; at org.apache.activemq.broker.TransactionBroker.send(TransactionBroker.java:293)&lt;br/&gt;
&#160;&#160;&#160; at org.apache.activemq.broker.BrokerFilter.send(BrokerFilter.java:154)&lt;br/&gt;
&#160;&#160;&#160; at org.apache.activemq.broker.TransportConnection.processMessage(TransportConnection.java:572)&lt;br/&gt;
&#160;&#160;&#160; at org.apache.activemq.command.ActiveMQMessage.visit(ActiveMQMessage.java:768)&lt;br/&gt;
&#160;&#160;&#160; at org.apache.activemq.broker.TransportConnection.service(TransportConnection.java:330)&lt;br/&gt;
&#160;&#160;&#160; at org.apache.activemq.broker.TransportConnection$1.onCommand(TransportConnection.java:194)&lt;br/&gt;
&#160;&#160;&#160; at org.apache.activemq.transport.MutexTransport.onCommand(MutexTransport.java:45)&lt;br/&gt;
&#160;&#160;&#160; at org.apache.activemq.transport.AbstractInactivityMonitor.onCommand(AbstractInactivityMonitor.java:301)&lt;br/&gt;
&#160;&#160;&#160; at org.apache.activemq.transport.stomp.StompTransportFilter.sendToActiveMQ(StompTransportFilter.java:97)&lt;br/&gt;
&#160;&#160;&#160; at org.apache.activemq.transport.stomp.ProtocolConverter.sendToActiveMQ(ProtocolConverter.java:202)&lt;br/&gt;
&#160;&#160;&#160; at org.apache.activemq.transport.stomp.ProtocolConverter.onStompSend(ProtocolConverter.java:345)&lt;br/&gt;
&#160;&#160;&#160; at org.apache.activemq.transport.stomp.ProtocolConverter.onStompCommand(ProtocolConverter.java:248)&lt;br/&gt;
&#160;&#160;&#160; at org.apache.activemq.transport.stomp.StompTransportFilter.onCommand(StompTransportFilter.java:85)&lt;br/&gt;
&#160;&#160;&#160; at org.apache.activemq.transport.TransportSupport.doConsume(TransportSupport.java:83)&lt;br/&gt;
&#160;&#160;&#160; at org.apache.activemq.transport.tcp.TcpTransport.doRun(TcpTransport.java:233)&lt;br/&gt;
&#160;&#160;&#160; at org.apache.activemq.transport.tcp.TcpTransport.run(TcpTransport.java:215)&lt;br/&gt;
&#160;&#160;&#160; at java.lang.Thread.run(Thread.java:748)&lt;/p&gt;


&lt;p&gt;In reviewing how MQTT and AMQP were handled, both set &quot;consumerInfo.setDispatchAsync(true);&quot;&lt;/p&gt;

&lt;p&gt;AMQPSession line 376&lt;br/&gt;
MQTTDefualtSubscriptionStrategy line 61&lt;/p&gt;

&lt;p&gt;For MQTT fix see the below cards:&lt;/p&gt;

&lt;p&gt;ENTMQ-1504&lt;br/&gt;
&lt;a href=&quot;https://issues.jboss.org/browse/ENTMQ-1504?_sscc=t&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://issues.jboss.org/browse/ENTMQ-1504?_sscc=t&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-5290&quot; title=&quot;MQTT clients using durable subscriptions on networked brokers received duplicates&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-5290&quot;&gt;&lt;del&gt;AMQ-5290&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-5290&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/AMQ-5290&lt;/a&gt;&#8232;&lt;a href=&quot;https://github.com/apache/activemq/blame/master/activemq-mqtt/src/main/java/org/apache/activemq/transport/mqtt/strategy/MQTTDefaultSubscriptionStrategy.java#L61&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/activemq/blame/master/activemq-mqtt/src/main/java/org/apache/activemq/transport/mqtt/strategy/MQTTDefaultSubscriptionStrategy.java#L61&lt;/a&gt;&#8232;&lt;/p&gt;

&lt;p&gt;I believe we can fix this for Stomp in ProtocolConverter, line 614, by also setting consumerInfo.setDispatchAsync(true); This would bring Stomp into alignment with the other protocols and how they were fixed.&lt;/p&gt;

&lt;p&gt;I&apos;ll be providing a patch with the above change shortly.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13172266">AMQ-7011</key>
            <summary>Activemq 5.15.4 Stomp protocol allowed to enter deadlock via dispatch sync</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jgoodyear">Jamie Mark Goodyear</reporter>
                        <labels>
                    </labels>
                <created>Sun, 15 Jul 2018 17:47:21 +0000</created>
                <updated>Mon, 18 Nov 2019 14:31:21 +0000</updated>
                            <resolved>Mon, 16 Jul 2018 02:23:44 +0000</resolved>
                                                    <fixVersion>5.15.5</fixVersion>
                    <fixVersion>5.16.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1800">0.5h</timespent>
                                <comments>
                            <comment id="16544649" author="githubbot" created="Sun, 15 Jul 2018 19:28:13 +0000"  >&lt;p&gt;GitHub user jgoodyear opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/activemq/pull/287&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/activemq/pull/287&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-7011&quot; title=&quot;Activemq 5.15.4 Stomp protocol allowed to enter deadlock via dispatch sync&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-7011&quot;&gt;&lt;del&gt;AMQ-7011&lt;/del&gt;&lt;/a&gt; Override dispatch to always set dispatchAsync true&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-7011&quot; title=&quot;Activemq 5.15.4 Stomp protocol allowed to enter deadlock via dispatch sync&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-7011&quot;&gt;&lt;del&gt;AMQ-7011&lt;/del&gt;&lt;/a&gt; Override dispatch to always set dispatchAsync true.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/jgoodyear/activemq&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/jgoodyear/activemq&lt;/a&gt; AMQ7011&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/activemq/pull/287.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/activemq/pull/287.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #287&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit a5fe89577c26e61ecb5d594e0fdd62ad1e8ebb6a&lt;br/&gt;
Author: jgoodyear &amp;lt;jamie.goodyear@...&amp;gt;&lt;br/&gt;
Date:   2018-07-15T17:50:45Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-7011&quot; title=&quot;Activemq 5.15.4 Stomp protocol allowed to enter deadlock via dispatch sync&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-7011&quot;&gt;&lt;del&gt;AMQ-7011&lt;/del&gt;&lt;/a&gt; Override dispatch to always set dispatchAsync true&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16544650" author="jgoodyear" created="Sun, 15 Jul 2018 19:29:25 +0000"  >&lt;p&gt;I&apos;m made a PR for this card:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/activemq/pulls&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/activemq/pulls&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/activemq/pull/287&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/activemq/pull/287&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16544731" author="jira-bot" created="Mon, 16 Jul 2018 02:11:20 +0000"  >&lt;p&gt;Commit 46160c7b7f66d9d5dda05d2e2dc45e993d3cc48e in activemq&apos;s branch refs/heads/master from jgoodyear&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=46160c7&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=46160c7&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-7011&quot; title=&quot;Activemq 5.15.4 Stomp protocol allowed to enter deadlock via dispatch sync&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-7011&quot;&gt;&lt;del&gt;AMQ-7011&lt;/del&gt;&lt;/a&gt; Override dispatch to always set dispatchAsync true&lt;/p&gt;</comment>
                            <comment id="16544732" author="jira-bot" created="Mon, 16 Jul 2018 02:14:44 +0000"  >&lt;p&gt;Commit 43fd31c1054408c2b77919a18e5c7b7681f45fd5 in activemq&apos;s branch refs/heads/activemq-5.15.x from jgoodyear&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=43fd31c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=43fd31c&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-7011&quot; title=&quot;Activemq 5.15.4 Stomp protocol allowed to enter deadlock via dispatch sync&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-7011&quot;&gt;&lt;del&gt;AMQ-7011&lt;/del&gt;&lt;/a&gt; Override dispatch to always set dispatchAsync true&lt;/p&gt;</comment>
                            <comment id="16544736" author="jgenender" created="Mon, 16 Jul 2018 02:23:44 +0000"  >&lt;p&gt;Fixed.&#160; Thanks Jamie for the contribution.&#160; This follows the MQTT and AMQP way of handling this issue.&lt;/p&gt;</comment>
                            <comment id="16544740" author="jira-bot" created="Mon, 16 Jul 2018 02:36:31 +0000"  >&lt;p&gt;Commit a1e5b970d81d21daed277a08098f7fddf017c606 in activemq&apos;s branch refs/heads/activemq-5.15.x from jgoodyear&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=a1e5b97&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=a1e5b97&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-7011&quot; title=&quot;Activemq 5.15.4 Stomp protocol allowed to enter deadlock via dispatch sync&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-7011&quot;&gt;&lt;del&gt;AMQ-7011&lt;/del&gt;&lt;/a&gt; Override dispatch to always set dispatchAsync true&lt;/p&gt;

&lt;p&gt;This closes #287&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 18 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3vwsf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>