<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 06:02:33 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-4882] LevelDB can get to a corrupt state when using XA transactions</title>
                <link>https://issues.apache.org/jira/browse/AMQ-4882</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;A consumer/producer with failover transport is connected to AMQ and processes messages in XA Transactions. When AMQ is restarted is can happen that LevelDB gets to a corrupt state so that AMQ can not be started anymore without deletind the database.&lt;/p&gt;

&lt;p&gt;Reproduction:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Configure AMQ with LevelDB&lt;/li&gt;
	&lt;li&gt;Run the attached TestClient&lt;/li&gt;
	&lt;li&gt;Restart AMQ several times. At some time it won&apos;t start anymore and produced the exception in the attached log file.&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12679030">AMQ-4882</key>
            <summary>LevelDB can get to a corrupt state when using XA transactions</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="artnaseef">Arthur Naseef</assignee>
                                    <reporter username="remogloor">Remo Gloor</reporter>
                        <labels>
                    </labels>
                <created>Wed, 13 Nov 2013 14:40:46 +0000</created>
                <updated>Tue, 1 Apr 2014 05:13:56 +0000</updated>
                            <resolved>Tue, 1 Apr 2014 05:13:56 +0000</resolved>
                                    <version>5.9.0</version>
                                                    <component>LevelDB</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="13837825" author="chirino" created="Tue, 3 Dec 2013 15:55:05 +0000"  >&lt;p&gt;Could you attach the sources to the test client?&lt;/p&gt;</comment>
                            <comment id="13837831" author="chirino" created="Tue, 3 Dec 2013 16:00:26 +0000"  >&lt;p&gt;From the logs it seems the client is using XA transactions.&lt;/p&gt;</comment>
                            <comment id="13867454" author="artnaseef" created="Fri, 10 Jan 2014 03:02:03 +0000"  >&lt;p&gt;Small project attempting to reproduce the problem.  Not an all-in-one package; the broker must be configured and run separately.&lt;/p&gt;</comment>
                            <comment id="13867458" author="artnaseef" created="Fri, 10 Jan 2014 03:03:42 +0000"  >&lt;p&gt;I attached a small test program that attempts to reproduce the problem.  With this program, I failed to reproduce the problem.&lt;/p&gt;

&lt;p&gt;Can you give this a try and let me know what you find?  If it does not reproduce the problem for you, please provide more details of the environment and clients.  Such as the numbers of producers and consumers, destinations used, and flow of messages.&lt;/p&gt;</comment>
                            <comment id="13931313" author="artnaseef" created="Wed, 12 Mar 2014 02:46:22 +0000"  >&lt;p&gt;Please provide some feedback.  Otherwise, I&apos;ll close this as &quot;Cannot Reproduce&quot;.&lt;/p&gt;</comment>
                            <comment id="13931906" author="geerzo" created="Wed, 12 Mar 2014 16:03:10 +0000"  >&lt;p&gt;Does LevelDB support XA Transactions? I&apos;ve seen a few references that says it doesn&apos;t. i.e. &lt;a href=&quot;https://access.redhat.com/site/documentation/en-US/JBoss_A-MQ/6.0/html/Configuring_Broker_Persistence/files/LevelDBConfiguration.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://access.redhat.com/site/documentation/en-US/JBoss_A-MQ/6.0/html/Configuring_Broker_Persistence/files/LevelDBConfiguration.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13956112" author="artnaseef" created="Tue, 1 Apr 2014 05:13:56 +0000"  >&lt;p&gt;Closing this since we failed to reproduce and the creator of the issue is not providing more details.  Please reopen if more details become available.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12670887">AMQ-4743</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12676619">AMQ-4837</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12622332" name="AMQ4882Test.zip" size="3233" author="artnaseef" created="Fri, 10 Jan 2014 03:02:03 +0000"/>
                            <attachment id="12616270" name="TestClient.zip" size="1047592" author="remogloor" created="Thu, 28 Nov 2013 15:18:05 +0000"/>
                            <attachment id="12613611" name="activemq.log" size="78698" author="remogloor" created="Wed, 13 Nov 2013 14:42:08 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>358395</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 34 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ps6n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>358685</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>