<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 05:35:17 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-1578] No exposure to the &apos;idleTimeout&apos; property for ConnectionPool class, which makes it difficult to implement keepAlive semantics on PooledConnections</title>
                <link>https://issues.apache.org/jira/browse/AMQ-1578</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;The ConnectionPool class has a &apos;idleTimeout&apos; property, but this is not accessible easily, via the PooledConnectionFactory class.&lt;/p&gt;

&lt;p&gt;This essentially means that there&apos;s no easy way to implement a keepAlive setup for underlying tcp connections.  By default, the idleTimeout is set to 30 seconds, and when this expires, it shuts down the connection&apos;s transport.  Furthermore, it ignores and knows nothing about the InactiviyMonitor&apos;s efforts to keep the tcp connection refreshed.&lt;/p&gt;

&lt;p&gt;A simple fix would be to have the PooledConnectionFactory have a setter for the idleTimeout property, and then pass this one when it creates new connections.   As a work-around, I&apos;ve created a sub-class of the PooledConnectionFactory class, that looks like this (this sub-classes actually the jencks amqpool class, which is very similar to the activemq version of the class, which has the same issue):&lt;/p&gt;


&lt;p&gt;public class PooledConnectionFactoryWithIdleTimeout extends PooledConnectionFactory {&lt;/p&gt;

&lt;p&gt;   private int idleTimeout = 0; &lt;/p&gt;

&lt;p&gt;   public int getIdleTimeout() &lt;/p&gt;
{
       return idleTimeout;
   }

&lt;p&gt;   public void setIdleTimeout(int idleTimeout) &lt;/p&gt;
{
       this.idleTimeout = idleTimeout;
   }
&lt;p&gt; &lt;/p&gt;

&lt;p&gt;   @Override&lt;br/&gt;
   protected ConnectionPool createConnectionPool(ActiveMQConnection connection) &lt;/p&gt;
{
       ConnectionPool connPool = new ConnectionPool(connection, getPoolFactory());
       connPool.setIdleTimeout(idleTimeout);
       
       return connPool;
   }
&lt;p&gt;   &lt;br/&gt;
}&lt;/p&gt;
</description>
                <environment>&lt;p&gt;5.1-SNAPSHOT&lt;/p&gt;</environment>
        <key id="12482419">AMQ-1578</key>
            <summary>No exposure to the &apos;idleTimeout&apos; property for ConnectionPool class, which makes it difficult to implement keepAlive semantics on PooledConnections</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rajdavies">Robert Davies</assignee>
                                    <reporter username="jbrosenberg">Jason Rosenberg</reporter>
                        <labels>
                    </labels>
                <created>Mon, 4 Feb 2008 17:05:07 +0000</created>
                <updated>Wed, 9 Apr 2008 10:22:02 +0000</updated>
                            <resolved>Wed, 9 Apr 2008 10:22:02 +0000</resolved>
                                    <version>5.0.0</version>
                                    <fixVersion>5.1.0</fixVersion>
                                    <component>JMS client</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12939447" author="rajdavies" created="Wed, 9 Apr 2008 10:22:02 +0000"  >&lt;p&gt;Fixed by SVN revision 646258&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>84643</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 33 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0s1uf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>161775</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>