<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 06:51:15 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-8138] STOMP ProtocolConverter error should include client IP information</title>
                <link>https://issues.apache.org/jira/browse/AMQ-8138</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;On a broker recently upgraded to 5.16.1, I&apos;ve seen the following warning:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2021-02-03 16:21:00,745 [ActiveMQ NIO Worker 9] WARN ProtocolConverter - Exception occurred &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; client &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) processing: SEND -&amp;gt; org.apache.activemq.transport.stomp.ProtocolException: Not connected.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This looks a lot like &lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-7444&quot; title=&quot;Invalid certificate warnings should include client IP information&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-7444&quot;&gt;&lt;del&gt;AMQ-7444&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;If possible, it would be good to log client IP information for this warning too.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13356519">AMQ-8138</key>
            <summary>STOMP ProtocolConverter error should include client IP information</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jbonofre">Jean-Baptiste Onofr&#233;</assignee>
                                    <reporter username="lionel.cons">Lionel Cons</reporter>
                        <labels>
                    </labels>
                <created>Wed, 3 Feb 2021 15:26:06 +0000</created>
                <updated>Tue, 3 Aug 2021 13:14:08 +0000</updated>
                            <resolved>Tue, 3 Aug 2021 13:14:08 +0000</resolved>
                                    <version>5.16.1</version>
                                    <fixVersion>5.16.3</fixVersion>
                    <fixVersion>5.17.0</fixVersion>
                                    <component>STOMP</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="17392183" author="jbonofre" created="Tue, 3 Aug 2021 09:06:09 +0000"  >&lt;p&gt;That&apos;s easy to have the concrete client IP address in the protocol converter as it&apos;s based on the stomp command. If the stomp command is empty (it&apos;s your case when the SSL handshake is not complete, that&apos;s why you have null for both client ID and client IP address in the log message), we don&apos;t have details about client. As a little improvement, I&apos;m adding host in the client IP address (not set for now), it would help a little.&lt;/p&gt;</comment>
                            <comment id="17392288" author="jira-bot" created="Tue, 3 Aug 2021 13:13:07 +0000"  >&lt;p&gt;Commit 2e169f0bc3db3e16fe2928ac03b3308c69b5e72a in activemq&apos;s branch refs/heads/main from Jean-Baptiste Onofr&#233;&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=2e169f0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=2e169f0&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-8138&quot; title=&quot;STOMP ProtocolConverter error should include client IP information&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-8138&quot;&gt;&lt;del&gt;AMQ-8138&lt;/del&gt;&lt;/a&gt; Set client IP address with Stomp host header&lt;/p&gt;</comment>
                            <comment id="17392289" author="jira-bot" created="Tue, 3 Aug 2021 13:13:09 +0000"  >&lt;p&gt;Commit 0348938952ccb43ccb3453c2e932124f39decd74 in activemq&apos;s branch refs/heads/main from Jean-Baptiste Onofr&#233;&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=0348938&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=0348938&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Merge pull request #696 from jbonofre/&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-8138&quot; title=&quot;STOMP ProtocolConverter error should include client IP information&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-8138&quot;&gt;&lt;del&gt;AMQ-8138&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-8138&quot; title=&quot;STOMP ProtocolConverter error should include client IP information&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-8138&quot;&gt;&lt;del&gt;AMQ-8138&lt;/del&gt;&lt;/a&gt; Set client IP address with Stomp host header&lt;/p&gt;</comment>
                            <comment id="17392290" author="jira-bot" created="Tue, 3 Aug 2021 13:13:10 +0000"  >&lt;p&gt;Commit 0348938952ccb43ccb3453c2e932124f39decd74 in activemq&apos;s branch refs/heads/main from Jean-Baptiste Onofr&#233;&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=0348938&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=0348938&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Merge pull request #696 from jbonofre/&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-8138&quot; title=&quot;STOMP ProtocolConverter error should include client IP information&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-8138&quot;&gt;&lt;del&gt;AMQ-8138&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-8138&quot; title=&quot;STOMP ProtocolConverter error should include client IP information&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-8138&quot;&gt;&lt;del&gt;AMQ-8138&lt;/del&gt;&lt;/a&gt; Set client IP address with Stomp host header&lt;/p&gt;</comment>
                            <comment id="17392291" author="jira-bot" created="Tue, 3 Aug 2021 13:13:54 +0000"  >&lt;p&gt;Commit 6bb09feed55a0ffcd53adbe55bc0b1a417c3d2eb in activemq&apos;s branch refs/heads/activemq-5.16.x from Jean-Baptiste Onofr&#233;&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=6bb09fe&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=6bb09fe&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-8138&quot; title=&quot;STOMP ProtocolConverter error should include client IP information&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-8138&quot;&gt;&lt;del&gt;AMQ-8138&lt;/del&gt;&lt;/a&gt; Set client IP address with Stomp host header&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 2e169f0bc3db3e16fe2928ac03b3308c69b5e72a)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 15 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0nbfs:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>