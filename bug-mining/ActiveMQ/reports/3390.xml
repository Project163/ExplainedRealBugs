<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 06:51:21 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-5388] User Role Granted Full Privileges in jetty.xml</title>
                <link>https://issues.apache.org/jira/browse/AMQ-5388</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;The default ConstraintMapping for the &quot;user&quot; role grants privileges to /admin/*, which supersedes the *.action constraint that is supposed to be granted only to the admin role.&lt;/p&gt;

&lt;p&gt;The current pathspec for the user role reads:&lt;br/&gt;
&amp;lt;property name=&quot;pathSpec&quot; value=&quot;/api/&lt;b&gt;,/admin/&lt;/b&gt;,*.jsp&quot; /&amp;gt;&lt;/p&gt;

&lt;p&gt;By granting access to /admin/*, that in turn grants access to all of the *.action URLs, essentially nullifying the attempt to restrict *.action URLs to only the admin role.&lt;/p&gt;

&lt;p&gt;To repeat, just log in as the default &quot;user/user&quot; account to the web console and add or delete destinations.&lt;/p&gt;

&lt;p&gt;Workaround is to change the pathSpec to:&lt;/p&gt;

&lt;p&gt;&amp;lt;property name=&quot;pathSpec&quot; value=&quot;/,&lt;b&gt;.jsp,&lt;/b&gt;.css&quot; /&amp;gt;&lt;/p&gt;

&lt;p&gt;Which allows access to the console but disallows access to the *.action URLs.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Any&lt;/p&gt;</environment>
        <key id="12747418">AMQ-5388</key>
            <summary>User Role Granted Full Privileges in jetty.xml</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jbonofre">Jean-Baptiste Onofr&#233;</assignee>
                                    <reporter username="jreock">Justin Reock</reporter>
                        <labels>
                            <label>jetty</label>
                            <label>security</label>
                            <label>web-console</label>
                    </labels>
                <created>Fri, 10 Oct 2014 21:25:22 +0000</created>
                <updated>Thu, 3 Mar 2022 16:00:03 +0000</updated>
                            <resolved>Wed, 19 Jan 2022 16:49:32 +0000</resolved>
                                    <version>5.9.0</version>
                                    <fixVersion>5.15.16</fixVersion>
                    <fixVersion>5.16.4</fixVersion>
                    <fixVersion>5.17.0</fixVersion>
                                    <component>Web Console</component>
                        <due></due>
                            <votes>2</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="15754666" author="william.crowell" created="Fri, 16 Dec 2016 15:14:49 +0000"  >&lt;p&gt;If you use the provided workaround, then the following error is received:&lt;/p&gt;

&lt;p&gt;Caused by: java.lang.IllegalArgumentException: PathSpec .jsp. must start with &apos;/&apos; or &apos;*.&apos;&lt;/p&gt;

&lt;p&gt;Small correction to the pathSpec.  It should be:&lt;/p&gt;

&lt;p&gt;&amp;lt;property name=&quot;pathSpec&quot; value=&quot;/,&lt;b&gt;.jsp,&lt;/b&gt;.css&quot; /&amp;gt;&lt;/p&gt;</comment>
                            <comment id="17162860" author="arthur.kahn" created="Wed, 22 Jul 2020 14:48:54 +0000"  >&lt;p&gt;This bug is still not solved in 2020 (ActiveMQ 5.15.13)&lt;/p&gt;

&lt;p&gt;I replace the impacted lines by:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;bean id=&lt;span class=&quot;code-quote&quot;&gt;&quot;securityConstraintMapping&quot;&lt;/span&gt; class=&lt;span class=&quot;code-quote&quot;&gt;&quot;org.eclipse.jetty.security.ConstraintMapping&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;property name=&lt;span class=&quot;code-quote&quot;&gt;&quot;constraint&quot;&lt;/span&gt; ref=&lt;span class=&quot;code-quote&quot;&gt;&quot;securityConstraint&quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;property name=&lt;span class=&quot;code-quote&quot;&gt;&quot;pathSpec&quot;&lt;/span&gt; value=&lt;span class=&quot;code-quote&quot;&gt;&quot;/api/*,*.jsp,*.html,*.png,*.css,/admin/js/*&quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/bean&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;bean id=&lt;span class=&quot;code-quote&quot;&gt;&quot;adminSecurityConstraintMapping&quot;&lt;/span&gt; class=&lt;span class=&quot;code-quote&quot;&gt;&quot;org.eclipse.jetty.security.ConstraintMapping&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;property name=&lt;span class=&quot;code-quote&quot;&gt;&quot;constraint&quot;&lt;/span&gt; ref=&lt;span class=&quot;code-quote&quot;&gt;&quot;adminSecurityConstraint&quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;property name=&lt;span class=&quot;code-quote&quot;&gt;&quot;pathSpec&quot;&lt;/span&gt; value=&lt;span class=&quot;code-quote&quot;&gt;&quot;*.action&quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/bean&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17478810" author="jira-bot" created="Wed, 19 Jan 2022 16:47:49 +0000"  >&lt;p&gt;Commit c67ada04c77e9379ef25ac62d5ea1fcf20cf8b8f in activemq&apos;s branch refs/heads/main from Vilius &#352;umskas&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=c67ada0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=c67ada0&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-5388&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/AMQ-5388&lt;/a&gt; Fix user permissions in web console&lt;/p&gt;</comment>
                            <comment id="17478811" author="jira-bot" created="Wed, 19 Jan 2022 16:48:25 +0000"  >&lt;p&gt;Commit ffc2aad6e3e9fe79943503f57eec3dda7e5af807 in activemq&apos;s branch refs/heads/activemq-5.16.x from Vilius &#352;umskas&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=ffc2aad&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=ffc2aad&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-5388&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/AMQ-5388&lt;/a&gt; Fix user permissions in web console&lt;/p&gt;

&lt;p&gt;(cherry picked from commit c67ada04c77e9379ef25ac62d5ea1fcf20cf8b8f)&lt;/p&gt;</comment>
                            <comment id="17478812" author="jira-bot" created="Wed, 19 Jan 2022 16:48:51 +0000"  >&lt;p&gt;Commit 5af38bc2e5fffcb39a83a3436b2979b084d58395 in activemq&apos;s branch refs/heads/activemq-5.15.x from Vilius &#352;umskas&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=5af38bc&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=5af38bc&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-5388&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/AMQ-5388&lt;/a&gt; Fix user permissions in web console&lt;/p&gt;

&lt;p&gt;(cherry picked from commit c67ada04c77e9379ef25ac62d5ea1fcf20cf8b8f)&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                            <outwardlinks description="causes">
                                        <issuelink>
            <issuekey id="13431752">AMQ-8522</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 42 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i211x3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>