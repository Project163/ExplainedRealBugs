<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 06:10:59 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-5745] Code analysis revealed multiple vulnerable sections of code</title>
                <link>https://issues.apache.org/jira/browse/AMQ-5745</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;Code analysis revealed multiple vulnerable sections of code in ActiveMQ 5.9.0.  A patch file is attached that address the issues below.&lt;/p&gt;

&lt;p&gt;activemq-web/src/main/resources/org/apache/activemq/web/prototype.js:700,706&lt;/p&gt;

&lt;p&gt;	This code uses the  &quot;eval()&quot; function to evaluate JSON code &amp;#8211; this method is deprecated and dangerous and has been replaced by the JSON.parse() method, which is supported in all modern browsers &amp;#8211; considering that less than 2% of modern computers are still using legacy browsers, we believe the code should be upgraded to use the more secure method&lt;/p&gt;

&lt;p&gt;activemq-broker/src/main/java/org/apache/activemq/broker/BrokerService.java:248&lt;br/&gt;
activemq-broker/src/main/java/org/apache/activemq/broker/PropertiesBrokerFactory.java:59&lt;br/&gt;
activemq-broker/src/main/java/org/apache/activemq/util/IOHelper.java:257,259&lt;br/&gt;
activemq-client/src/main/java/org/apache/activemq/ActiveMQSslConnectionFactory.java:130,162&lt;br/&gt;
activemq-client/src/main/java/org/apache/activemq/blob/DefaultBlobUploadStrategy.java:43,58&lt;br/&gt;
activemq-client/src/main/java/org/apache/activemq/blob/FTPBlobUploadStrategy.java:41&lt;br/&gt;
activemq-client/src/main/java/org/apache/activemq/blob/FileSystemBlobStrategy.java:68,77&lt;br/&gt;
activemq-console/src/main/java/org/apache/activemq/console/command/CreateCommand.java:194,218,219&lt;br/&gt;
activemq-fileserver/src/main/java/org/apache/activemq/util/IOHelper.java:102,104&lt;br/&gt;
activemq-jaas/src/main/java/org/apache/activemq/jaas/TextFileCertificateLoginModule.java:92,127&lt;br/&gt;
activemq-jdbc-store/src/main/java/org/apache/activemq/store/jdbc/adapter/BlobJDBCAdapter.java:142&lt;br/&gt;
activemq-jdbc-store/src/main/java/org/apache/activemq/store/jdbc/adapter/StreamJDBCAdapter.java:51&lt;br/&gt;
activemq-kahadb-store/src/main/java/org/apache/activemq/store/kahadb/disk/page/PageFile.java:198&lt;br/&gt;
activemq-kahadb-store/src/main/java/org/apache/activemq/store/kahadb/disk/util/DiskBenchmark.java:214,246,270&lt;br/&gt;
activemq-stomp/src/main/java/org/apache/activemq/transport/stomp/ProtocolConverter.java:68&lt;br/&gt;
activemq-tooling/activemq-perf-maven-plugin/src/main/java/org/apache/activemq/tool/AbstractJmsClientSystem.java:266&lt;br/&gt;
activemq-web/src/main/java/org/apache/activemq/web/AjaxServlet.java:67&lt;br/&gt;
activemq-tooling/activemq-perf-maven-plugin/src/main/java/org/apache/activemq/tool/JmsProducerClient.java:356&lt;br/&gt;
activemq-tooling/activemq-perf-maven-plugin/src/main/java/org/apache/activemq/tool/reports/XmlFilePerfReportWriter.java:198&lt;/p&gt;

&lt;p&gt;	Resource leaks are possible at these code locations (the patched code releases the resources within a finally() statement)&lt;/p&gt;

&lt;p&gt;activemq-broker/src/main/java/org/apache/activemq/broker/jmx/DestinationView.java:330&lt;br/&gt;
activemq-client/src/main/java/org/apache/activemq/ActiveMQConnectionFactory.java:283,290&lt;br/&gt;
activemq-kahadb-store/src/main/java/org/apache/activemq/store/kahadb/disk/journal/CallerBufferingDataFileAppender.java:182&lt;br/&gt;
activemq-kahadb-store/src/main/java/org/apache/activemq/store/kahadb/disk/journal/DataFileAppender.java:391&lt;br/&gt;
activemq-kahadb-store/src/main/java/org/apache/activemq/store/kahadb/disk/journal/Journal.java:568&lt;/p&gt;

&lt;p&gt;	NULL dereferences are possible at these code locations&lt;/p&gt;

&lt;p&gt;activemq-broker/src/main/java/org/apache/activemq/transport/vm/VMTransport.java:269&lt;/p&gt;

&lt;p&gt;	Double-locking of this form is vulnerable to race conditions&lt;/p&gt;

&lt;p&gt;activemq-http/src/main/java/org/apache/activemq/transport/http/HttpTunnelServlet.java:196,236&lt;br/&gt;
activemq-web/src/main/java/org/apache/activemq/web/MessageServlet.java:278,284&lt;/p&gt;

&lt;p&gt;	XSS reflection is possible at these code locations (an XSS filter should be added)&lt;/p&gt;

&lt;p&gt;activemq-fileserver/src/main/java/org/apache/activemq/util/RestFilter.java:72&lt;/p&gt;

&lt;p&gt;	Path manipulation is possible via &quot;..&quot; directory traversal&lt;/p&gt;

&lt;p&gt;activemq-client/src/main/java/org/apache/activemq/thread/PooledTaskRunner.java:141&lt;/p&gt;

&lt;p&gt;	A return statement inside a finally block will cause any exception that might be thrown in the try or catch block to be discarded.&lt;/p&gt;

&lt;p&gt;activemq-log4j-appender/src/main/java/org/apache/activemq/util/JmsLogAppender.java:68&lt;/p&gt;

&lt;p&gt;	Recording passwords to a logfile in plaintext is inadvisable&lt;/p&gt;</description>
                <environment></environment>
        <key id="12824150">AMQ-5745</key>
            <summary>Code analysis revealed multiple vulnerable sections of code</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="int3solutions">Int3</reporter>
                        <labels>
                    </labels>
                <created>Mon, 27 Apr 2015 04:14:41 +0000</created>
                <updated>Tue, 4 Aug 2015 15:59:24 +0000</updated>
                            <resolved>Tue, 30 Jun 2015 19:04:49 +0000</resolved>
                                    <version>5.9.0</version>
                                    <fixVersion>5.12.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14596445" author="githubbot" created="Mon, 22 Jun 2015 18:58:18 +0000"  >&lt;p&gt;GitHub user cshannon opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/activemq/pull/118&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/activemq/pull/118&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-5745&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/AMQ-5745&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    This commit is based off a patch submitted by admin@int3solutions.com.&lt;br/&gt;
    It fixes several locations in the code where there are potential resource leaks.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/cshannon/activemq&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/cshannon/activemq&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-5745&quot; title=&quot;Code analysis revealed multiple vulnerable sections of code&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-5745&quot;&gt;&lt;del&gt;AMQ-5745&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/activemq/pull/118.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/activemq/pull/118.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #118&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit b6039184e91d82d0b7cd61dc15ca38f007931e10&lt;br/&gt;
Author: Christopher L. Shannon (cshannon) &amp;lt;christopher.l.shannon@gmail.com&amp;gt;&lt;br/&gt;
Date:   2015-06-22T18:34:37Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-5745&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/AMQ-5745&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    This commit is based off a patch submitted by admin@int3solutions.com.&lt;br/&gt;
    It fixes several locations in the code where there are potential resource leaks.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14596448" author="christopher.l.shannon" created="Mon, 22 Jun 2015 18:59:50 +0000"  >&lt;p&gt;I created a pull request based on the patch submitted to this ticket to fix the resource leaks. (ie not closing streams).  The other fixes I still need to look at more.&lt;/p&gt;</comment>
                            <comment id="14596544" author="christopher.l.shannon" created="Mon, 22 Jun 2015 19:58:48 +0000"  >&lt;p&gt;I forgot to add that the double locking race condition issue was actually already fixed in &lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-5787&quot; title=&quot;VMTransport uses broken double checked locking&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-5787&quot;&gt;&lt;del&gt;AMQ-5787&lt;/del&gt;&lt;/a&gt; &lt;/p&gt;</comment>
                            <comment id="14608873" author="githubbot" created="Tue, 30 Jun 2015 19:02:39 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/activemq/pull/118&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/activemq/pull/118&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14608877" author="tabish121" created="Tue, 30 Jun 2015 19:04:49 +0000"  >&lt;p&gt;Applied PR containing a subset of the changes identified in the patch, others appear to be non-issues or already resolved.  I&apos;d recommend testing the code from master with your tooling to see if any other issues show up that seems like real problems.  New issues can be opened with targeted patches for different areas of concern.  &lt;/p&gt;</comment>
                            <comment id="14653855" author="jira-bot" created="Tue, 4 Aug 2015 15:59:24 +0000"  >&lt;p&gt;Commit 42d9fd118daea5cc10f7eb56c263063adb322f25 in activemq&apos;s branch refs/heads/activemq-5.11.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cshannon&quot; class=&quot;user-hover&quot; rel=&quot;cshannon&quot;&gt;cshannon&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=42d9fd1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=42d9fd1&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-5745&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/AMQ-5745&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This commit is based off a patch submitted by admin@int3solutions.com.&lt;br/&gt;
It fixes several locations in the code where there are potential resource leaks.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12728305" name="activemq.patch" size="50228" author="int3solutions" created="Mon, 27 Apr 2015 04:15:34 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 16 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310041" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Patch Info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10042"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ds9j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>