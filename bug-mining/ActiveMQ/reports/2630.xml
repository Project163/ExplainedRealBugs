<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 06:21:20 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-5943] network bridge fails when using jaasDualAuthenticationPlugin</title>
                <link>https://issues.apache.org/jira/browse/AMQ-5943</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;If a network bridge is to be established to another broker&apos;s ssl transport as in &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;networkConnector duplex=&lt;span class=&quot;code-quote&quot;&gt;&quot;true&quot;&lt;/span&gt; dynamicOnly=&lt;span class=&quot;code-quote&quot;&gt;&quot;true&quot;&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;to-A&quot;&lt;/span&gt; networkTTL=&lt;span class=&quot;code-quote&quot;&gt;&quot;2&quot;&lt;/span&gt; uri=&lt;span class=&quot;code-quote&quot;&gt;&quot;static://(ssl://localhost:61626)&quot;&lt;/span&gt; &amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and the other broker is configured for &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;jaasDualAuthenticationPlugin configuration=&lt;span class=&quot;code-quote&quot;&gt;&quot;activemq-domain&quot;&lt;/span&gt; sslConfiguration=&lt;span class=&quot;code-quote&quot;&gt;&quot;activemq-ssl-domain&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;then the network bridge will fail. Note the network connector does not set username and password but is supposed to be authenticated via its SSL certificate. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12858254">AMQ-5943</key>
            <summary>network bridge fails when using jaasDualAuthenticationPlugin</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gtully">Gary Tully</assignee>
                                    <reporter username="tmielke">Torsten Mielke</reporter>
                        <labels>
                            <label>broker</label>
                            <label>jaas</label>
                            <label>security</label>
                    </labels>
                <created>Mon, 24 Aug 2015 09:58:24 +0000</created>
                <updated>Tue, 10 Nov 2015 18:02:24 +0000</updated>
                            <resolved>Tue, 25 Aug 2015 11:08:26 +0000</resolved>
                                    <version>5.12.0</version>
                                    <fixVersion>5.13.0</fixVersion>
                                    <component>Broker</component>
                    <component>Security/JAAS</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14709051" author="tmielke" created="Mon, 24 Aug 2015 09:58:45 +0000"  >&lt;p&gt;The network bridge internally creates a VM transport that fails to be authenticated via the JaasDualAuthenticationBroker. &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    @Override
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void addConnection(ConnectionContext context, ConnectionInfo info) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (context.getSecurityContext() == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
            &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; isSSL = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
            Connector connector = context.getConnector();
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (connector &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; TransportConnector) {
                TransportConnector transportConnector = (TransportConnector) connector;
                isSSL = transportConnector.getServer().isSslServer();
            }

            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (isSSL) {
                &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.sslBroker.addConnection(context, info);
            } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
                &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.nonSslBroker.addConnection(context, info);
            }
            &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;.addConnection(context, info);
        }
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;For the VM transport isSSL will evaluate to false and hence it calls this.nonSslBroker.addConnection(context, info) which calls into the JaasAuthenticationBroker and expects a username and password.&lt;/p&gt;</comment>
                            <comment id="14709219" author="tmielke" created="Mon, 24 Aug 2015 12:57:39 +0000"  >&lt;p&gt;Attaching possible patch including unit test in &lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-5943&quot; title=&quot;network bridge fails when using jaasDualAuthenticationPlugin&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-5943&quot;&gt;&lt;del&gt;AMQ-5943&lt;/del&gt;&lt;/a&gt;.patch. &lt;br/&gt;
Unit test establishes network bridge between two broker instances where the bridge is authenticated via SSL cert, not via username / password. &lt;/p&gt;
</comment>
                            <comment id="14711086" author="jira-bot" created="Tue, 25 Aug 2015 11:07:30 +0000"  >&lt;p&gt;Commit 10a74ce7374d717defca0905f62e2181a93c6b20 in activemq&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gtully&quot; class=&quot;user-hover&quot; rel=&quot;gtully&quot;&gt;gtully&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=10a74ce&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=10a74ce&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-5943&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/AMQ-5943&lt;/a&gt; - patch, with test, applied with thanks to Torsten Mielke&lt;/p&gt;</comment>
                            <comment id="14711087" author="gtully" created="Tue, 25 Aug 2015 11:08:26 +0000"  >&lt;p&gt;patch applied (small tweaks) with thanks.&lt;/p&gt;</comment>
                            <comment id="14716415" author="jira-bot" created="Thu, 27 Aug 2015 10:10:34 +0000"  >&lt;p&gt;Commit 1ea289736b998f76668f66985c6e03770b5db3a3 in activemq&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gtully&quot; class=&quot;user-hover&quot; rel=&quot;gtully&quot;&gt;gtully&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=1ea2897&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=1ea2897&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-5943&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/AMQ-5943&lt;/a&gt; - rename resources so that they don&apos;t match the surefire &lt;b&gt;Test&lt;/b&gt; filter which will try to execute them as tests&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12750127">AMQ-5408</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12752008" name="AMQ-5943.patch" size="19528" author="tmielke" created="Mon, 24 Aug 2015 12:57:39 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 12 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310041" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Patch Info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10042"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ja1j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>