<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 05:53:20 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-3732] Different methods synchronizing on different mutexes when changing the same field</title>
                <link>https://issues.apache.org/jira/browse/AMQ-3732</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;org.apache.activemq.broker.region.PrefetchSubscription.prefetchExtension is changed while guarded by a mutex on this (PrefetchSubscription) in PrefetchSubscription.pullMessage(...) and PrefetchSubscription.dispatchLock in PrefetchSubscription.acknowledge(...). &lt;/p&gt;

&lt;p&gt;This can lead to the corruption of the prefetchExtension variable (eg, prefetchExtension++ in pullMessage() is not an atomic operation so prefetchExtension may change in acknowledge() mid-way through this operation).&lt;/p&gt;</description>
                <environment>&lt;p&gt;Darwin phillip.local 9.8.0 Darwin Kernel Version 9.8.0: Wed Jul 15 16:55:01 PDT 2009; root:xnu-1228.15.4~1/RELEASE_I386 i386 i386&lt;/p&gt;</environment>
        <key id="12543589">AMQ-3732</key>
            <summary>Different methods synchronizing on different mutexes when changing the same field</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tabish">Timothy A. Bish</assignee>
                                    <reporter username="philliph">Phillip Henry</reporter>
                        <labels>
                            <label>concurrency</label>
                    </labels>
                <created>Tue, 21 Feb 2012 23:13:49 +0000</created>
                <updated>Mon, 5 Mar 2012 22:09:16 +0000</updated>
                            <resolved>Mon, 5 Mar 2012 22:09:16 +0000</resolved>
                                    <version>5.5.1</version>
                                    <fixVersion>5.6.0</fixVersion>
                                    <component>Broker</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13213625" author="tabish121" created="Wed, 22 Feb 2012 13:58:16 +0000"  >&lt;p&gt;Do you have a junit test case that shows the issue here.&lt;/p&gt;</comment>
                            <comment id="13213979" author="philliph" created="Wed, 22 Feb 2012 20:32:13 +0000"  >&lt;p&gt;Hard to show in a unit test as it&apos;s not deterministic.&lt;/p&gt;

&lt;p&gt;I noticed it while I was trying to work out why we had non-deterministic behaviour in our AMQ stack. (Not found what the problem is yet. May very well be a misconfiguration at our end...).&lt;/p&gt;</comment>
                            <comment id="13217443" author="philliph" created="Mon, 27 Feb 2012 19:37:59 +0000"  >&lt;p&gt;OK, it&apos;s not quite a unit test - it&apos;s a stress test that uses JUnit - but it illustrates the point.&lt;/p&gt;

&lt;p&gt;This code fails on my Mac (2.66GHz Intel Core 2 Duo) after a non-deterministic number of iterations. &lt;/p&gt;

&lt;p&gt;Most of the code is just simple stub implementations of ActiveMQ classes and interfaces with one or two methods implemented or overriden. (I tried using JMock but it didn&apos;t seem multi-threaded friendly). Basically, it starts two threads - one to pull a message, one to acknowledge. The pulling thread should increase prefetchExtension in pullMessage() thus:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;        	&lt;span class=&quot;code-keyword&quot;&gt;synchronized&lt;/span&gt;(&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;) {
        		prefetchExtension++;
        		dispatchCounterBeforePull = dispatchCounter;
        	}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The other thread calls acknowledge with the stubbed objects and PrefetchSubscription object itself in such a state that this line is executed:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;                            prefetchExtension = &lt;span class=&quot;code-object&quot;&gt;Math&lt;/span&gt;.max(prefetchExtension, index + 1);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;where index is the index of the number of dispatched MessageReference collection. This should never be more than 0 since only message is ever dispatch()-ed by the test. All objects are instantiated anew on each iteration.&lt;/p&gt;

&lt;p&gt;Given this, prefetchExtension should only ever be 0 (neither test has hit their target code) or 1 (from prefetchExtension++ or Math.max(prefetchExtension, 1) because index is always 0).&lt;/p&gt;

&lt;p&gt;However, the test demonstrates that occasionally prefetchExtension is 2. I posit that this is because the threads can sometimes execute their lines at the same time; prefetchExtension++ is not atomic (it&apos;s actually prefetchExtension = prefetchExtension + 1); and changing it is not guarded by the same mutex. &lt;/p&gt;

&lt;p&gt;For example, the order might look like:&lt;/p&gt;

&lt;p&gt;Step 1. PULL THREAD: add 1 to prefetchExtension. To do this, find out what prefetchExtension is. But before this thread can do so, context switches to the thread executing acknowledge() in step 2, immediately below.&lt;/p&gt;

&lt;p&gt;Step 2. ACK THREAD: prefetchExtension is the maximum of its current value and 1. It looks like its current value is 0 so set prefetchExtension to 1.&lt;/p&gt;

&lt;p&gt;Step 3. PULL THREAD: has found that prefetchExtension is 1 and adds one to it giving a total of 2.&lt;/p&gt;


&lt;p&gt;Test case:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; org.apache.activemq.broker.region;

&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.io.IOException;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.net.URI;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.util.List;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.util.Map;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.util.Set;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.util.concurrent.ThreadPoolExecutor;

&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; javax.jms.InvalidSelectorException;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; javax.jms.JMSException;

&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.activemq.broker.Broker;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.activemq.broker.BrokerService;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.activemq.broker.Connection;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.activemq.broker.ConnectionContext;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.activemq.broker.Connector;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.activemq.broker.ConsumerBrokerExchange;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.activemq.broker.ProducerBrokerExchange;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.activemq.broker.region.policy.DeadLetterStrategy;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.activemq.broker.region.policy.SlowConsumerStrategy;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.activemq.command.ActiveMQDestination;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.activemq.command.BrokerId;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.activemq.command.BrokerInfo;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.activemq.command.Command;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.activemq.command.ConnectionControl;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.activemq.command.ConnectionInfo;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.activemq.command.ConsumerControl;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.activemq.command.ConsumerId;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.activemq.command.ConsumerInfo;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.activemq.command.DestinationInfo;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.activemq.command.Message;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.activemq.command.MessageAck;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.activemq.command.MessageDispatch;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.activemq.command.MessageDispatchNotification;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.activemq.command.MessageId;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.activemq.command.MessagePull;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.activemq.command.ProducerInfo;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.activemq.command.RemoveSubscriptionInfo;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.activemq.command.Response;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.activemq.command.SessionInfo;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.activemq.command.TransactionId;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.activemq.state.CommandVisitor;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.activemq.store.MessageStore;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.activemq.store.kahadb.plist.PListStore;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.activemq.thread.Scheduler;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.activemq.usage.MemoryUsage;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.activemq.usage.SystemUsage;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.activemq.usage.Usage;

&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; junit.framework.TestCase;

&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;PrefetchSubscriptionStressTest &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; TestCase {

	&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; PrefetchSubscriptionStub toTest;
	&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; MessageId messageId = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; MessageId();
	&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; MessageAck ack;
	&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; MessageReference node;

	&lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; void setUp() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
		&lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;.setUp();
	}
	
	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testMultiThreadedAccessToPrefetchExtension() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; InterruptedException, InvalidSelectorException {
		&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; callsPerThread = 1;
		&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; numIterations = 1000;
		
		&lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; i = 0 ; i &amp;lt; numIterations ; i++) {
			&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; MessagePull pull = initializeStubs();
			
			&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; messagePuller = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; MessagePuller(callsPerThread, pull));
			&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; dispatchAndAcknowledger = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; DispatchAndAcknowledger(ack, node, callsPerThread));
		
			startThreads(messagePuller, dispatchAndAcknowledger);
			
			waitForThreadsToStop(messagePuller, dispatchAndAcknowledger);
			
			&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; actualPrefetchExtensions = toTest.getPrefetchExtension();
			assertEquals(&lt;span class=&quot;code-quote&quot;&gt;&quot;failed on iteration: &quot;&lt;/span&gt; + i, 1, actualPrefetchExtensions);
		}
	}
	
	&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; void waitForThreadsToStop(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; messagePuller, &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; dispatchAndAcknowledger) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; InterruptedException {
		dispatchAndAcknowledger.join();
		messagePuller.join();	
	}

	&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; void startThreads(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; messagePuller, &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; dispatchAndAcknowledger) {
		messagePuller.start();
		dispatchAndAcknowledger.start();
	}

	&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; MessagePull initializeStubs() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; InvalidSelectorException {
		initialise();
		primeMessagesAndDestinations();
		&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; MessagePull pull = primeForPullMessage();
		&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; pull;
	}

	&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; void dispatchAndAcknowledge(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; MessageAck ack, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; MessageReference node, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; numToDispatch)
			&lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException, Exception {
		ConnectionContext context = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
		&lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; i = 0 ; i &amp;lt; numToDispatch ; i++) {
			toTest.dispatch(node);
		}
		toTest.acknowledge(context , ack);
	}
	
	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;MessagePuller &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Runnable&lt;/span&gt; {
		
		&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; totalRuns;
		&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; MessagePull pull;
		
		&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; MessagePuller(&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; totalRuns, MessagePull pull) {
			&lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;();
			&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.totalRuns = totalRuns;
			&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.pull = pull;
		}
		
		@Override
		&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void run() {
			&lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; i = 0 ; i &amp;lt; totalRuns ; i++) {
				&lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
					pullMessage(pull);
				} &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (Exception e) {
					e.printStackTrace();
				}
			}
		}
		
	}

	&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; void pullMessage(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; MessagePull pull) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
		ConnectionContext context = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
		toTest.pullMessage(context, pull);
	}

	&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; MessagePull primeForPullMessage() {
		&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; MessagePull pull = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; MessagePull() {
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; getTimeout() {
				&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; -1;
			}
		};
		&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; pull;
	}

	
	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;DispatchAndAcknowledger &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Runnable&lt;/span&gt; {
		
		&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; MessageAck ack;
		&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; MessageReference node;
		&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; totalRuns;
		
		&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; DispatchAndAcknowledger(MessageAck ack, MessageReference node, &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; totalRuns) {
			&lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;();
			&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.ack = ack;
			&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.node = node;
			&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.totalRuns = totalRuns;
		}

		@Override
		&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void run() {
			&lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; i = 0 ; i &amp;lt; totalRuns ; i++) {
				&lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
					dispatchAndAcknowledge(ack, node, 1);
				} &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (IOException e) {
					e.printStackTrace();
				} &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (Exception e) {
					e.printStackTrace();
				}
			}
		}
	}

	&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; void initialise() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; InvalidSelectorException {
		SystemUsage usageManager = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
		
		&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Connection connection = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Connection() {
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void stop() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {			}
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void start() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {			}
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void updateClient(ConnectionControl control) {			}
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void serviceExceptionAsync(IOException e) {			}
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void serviceException(Throwable error) {			}
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; Response service(Command command) { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; isSlow() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; isNetworkConnection() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; isManageable() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; isFaultTolerantConnection() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; isConnected() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; isBlocked() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; isActive() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; ConnectionStatistics getStatistics() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; getRemoteAddress() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; getDispatchQueueSize() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; 0; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; Connector getConnector() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; getConnectionId() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void dispatchSync(Command message) { }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void dispatchAsync(Command command) { }
		};
		
		&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; ConnectionContext context = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ConnectionContext() {
			@Override
		    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; Connection getConnection() {
		        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; connection;
		    }
		}; 
		
		&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Broker broker = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Broker() {
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void stop() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception { }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void start() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception { }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void send(ProducerBrokerExchange producerExchange, Message message)
					&lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception { }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void removeSubscription(ConnectionContext context,
					RemoveSubscriptionInfo info) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception { }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void removeDestination(ConnectionContext context,
					ActiveMQDestination destination, &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; timeout) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception { }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void removeConsumer(ConnectionContext context, ConsumerInfo info)
					&lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception { }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void processDispatchNotification(
					MessageDispatchNotification messageDispatchNotification)
					&lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception { }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void processConsumerControl(ConsumerBrokerExchange consumerExchange,
					ConsumerControl control) { }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; Response messagePull(ConnectionContext context, MessagePull pull)
					&lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; Set&amp;lt;Destination&amp;gt; getDestinations(ActiveMQDestination destination) { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; Map&amp;lt;ActiveMQDestination, Destination&amp;gt; getDestinationMap() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void gc() { }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; Destination addDestination(ConnectionContext context,
					ActiveMQDestination destination, &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; createIfTemporary)
					&lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; Subscription addConsumer(ConnectionContext context, ConsumerInfo info)
					&lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void acknowledge(ConsumerBrokerExchange consumerExchange,
					MessageAck ack) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception { }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void slowConsumer(ConnectionContext context,
					Destination destination, Subscription subs) { }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void setAdminConnectionContext(
					ConnectionContext adminConnectionContext) { }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void sendToDeadLetterQueue(ConnectionContext context,
					MessageReference messageReference, Subscription subscription) { }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void rollbackTransaction(ConnectionContext context, TransactionId xid)
					&lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception { }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void removeSession(ConnectionContext context, SessionInfo info)
					&lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception { }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void removeProducer(ConnectionContext context, ProducerInfo info)
					&lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception { }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void removeDestinationInfo(ConnectionContext context,
					DestinationInfo info) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception { }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void removeConnection(ConnectionContext context,
					ConnectionInfo info, Throwable error) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception { }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void removeBroker(Connection connection, BrokerInfo info) { }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; prepareTransaction(ConnectionContext context, TransactionId xid)
					&lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; 0; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void preProcessDispatch(MessageDispatch messageDispatch) { }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void postProcessDispatch(MessageDispatch messageDispatch) { }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void nowMasterBroker() { }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void networkBridgeStopped(BrokerInfo brokerInfo) { }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void networkBridgeStarted(BrokerInfo brokerInfo,
					&lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; createdByDuplex, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; remoteIp) { }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void messageExpired(ConnectionContext context,
					MessageReference messageReference, Subscription subscription) { }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void messageDiscarded(ConnectionContext context, Subscription sub,
					MessageReference messageReference) { }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void messageDelivered(ConnectionContext context,
					MessageReference messageReference) { }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void messageConsumed(ConnectionContext context,
					MessageReference messageReference) { }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; isStopped() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void isFull(ConnectionContext context, Destination destination,
					Usage usage) { }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; isFaultTolerantConfiguration() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; isExpired(MessageReference messageReference) { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; URI getVmConnectorURI() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; PListStore getTempDataStore() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; Scheduler getScheduler() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; Broker getRoot() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; TransactionId[] getPreparedTransactions(ConnectionContext context)
					&lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; BrokerInfo[] getPeerBrokerInfos() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; ThreadPoolExecutor getExecutor() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; Set&amp;lt;ActiveMQDestination&amp;gt; getDurableDestinations() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; ActiveMQDestination[] getDestinations() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; Connection[] getClients() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; BrokerService getBrokerService() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; getBrokerSequenceId() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; 0; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; getBrokerName() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; BrokerId getBrokerId() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; ConnectionContext getAdminConnectionContext() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; Broker getAdaptor(&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt; type) { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void forgetTransaction(ConnectionContext context,
					TransactionId transactionId) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception { }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void fastProducer(ConnectionContext context,
					ProducerInfo producerInfo) { }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void commitTransaction(ConnectionContext context, TransactionId xid,
					&lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; onePhase) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception { }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void brokerServiceStarted() { }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void beginTransaction(ConnectionContext context, TransactionId xid)
					&lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception { }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void addSession(ConnectionContext context, SessionInfo info)
					&lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception { }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void addProducer(ConnectionContext context, ProducerInfo info)
					&lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception { }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void addDestinationInfo(ConnectionContext context,
					DestinationInfo info) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception { }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void addConnection(ConnectionContext context, ConnectionInfo info)
					&lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception { }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void addBroker(Connection connection, BrokerInfo info) { }
		};
		
		&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; ActiveMQDestination activeMQDestination = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ActiveMQDestination() {
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt; getDataStructureType() {
				&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; 0;
			}
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; getQualifiedPrefix() {
				&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
			}
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt; getDestinationType() {
				&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; 0;
			}
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; getPhysicalName() { 
				&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;test&quot;&lt;/span&gt;;
			}
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; isComposite() {
				&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
			}
		};
		
		&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; ConsumerInfo info = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ConsumerInfo() {
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; ActiveMQDestination getDestination() {
				&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; activeMQDestination;
			}
		};
		

		toTest = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PrefetchSubscriptionStub(broker, usageManager, context, info);
	}
	
	&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;PrefetchSubscriptionStub &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; PrefetchSubscription {

		&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; PrefetchSubscriptionStub(Broker broker,
				SystemUsage usageManager, ConnectionContext context,
				ConsumerInfo info) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; InvalidSelectorException {
			&lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;(broker, usageManager, context, info);
		}

		@Override
		&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void destroy() {
			&lt;span class=&quot;code-comment&quot;&gt;// TODO Auto-generated method stub
&lt;/span&gt;
		}

		@Override
		&lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; isDropped(MessageReference node) {
			&lt;span class=&quot;code-comment&quot;&gt;// TODO Auto-generated method stub
&lt;/span&gt;			&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
		}

		@Override
		&lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; canDispatch(MessageReference node)
				&lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
			&lt;span class=&quot;code-comment&quot;&gt;// TODO Auto-generated method stub
&lt;/span&gt;			&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
		}

		@Override
		&lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; void acknowledge(ConnectionContext context,
				MessageAck ack, MessageReference node) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
			&lt;span class=&quot;code-comment&quot;&gt;// TODO Auto-generated method stub
&lt;/span&gt;
		}

		@Override
		&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; isSlave() {
			&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
		}

		@Override
		&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; getPrefetchSize() {
			&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; 0;
		}

		@Override
		&lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; void onDispatch(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; MessageReference node, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Message message) {
			
		}
		
		@Override
		&lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; void dispatchPending() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
			
		}
		
		&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; getPrefetchExtension() {
			&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; prefetchExtension;
		}
	}

	&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; void primeMessagesAndDestinations() {
		&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Message message = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Message() {
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt; getDataStructureType() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; 0; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; Response visit(CommandVisitor visitor) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; Message copy() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void clearBody() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; JMSException { }
		};
		&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Destination destination = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Destination() {
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; iterate() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void stop() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception { }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void start() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception { }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void wakeup() { }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void slowConsumer(ConnectionContext context, Subscription subs) { }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void setUseCache(&lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; useCache) { }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void setProducerFlowControl(&lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; value) { }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void setMinimumMessageSize(&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; minimumMessageSize) { }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void setMaxProducersToAudit(&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; maxProducersToAudit) { }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void setMaxPageSize(&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; maxPageSize) { }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void setMaxBrowsePageSize(&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; maxPageSize) { }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void setMaxAuditDepth(&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; maxAuditDepth) { }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void setLazyDispatch(&lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; value) { }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void setEnableAudit(&lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; enableAudit) { }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void setCursorMemoryHighWaterMark(&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; cursorMemoryHighWaterMark) { }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void setBlockedProducerWarningInterval(
					&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; blockedProducerWarningInterval) { }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void setAlwaysRetroactive(&lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; value) { }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void send(ProducerBrokerExchange producerExchange,
					Message messageSend) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception { }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void removeSubscription(ConnectionContext context, Subscription sub,
					&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; lastDeliveredSequenceId) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception { }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void removeProducer(ConnectionContext context, ProducerInfo info)
					&lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception { }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void processDispatchNotification(
					MessageDispatchNotification messageDispatchNotification)
					&lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception { }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void messageExpired(ConnectionContext context, Subscription subs,
					MessageReference node) { }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void messageDiscarded(ConnectionContext context, Subscription sub,
					MessageReference messageReference) { }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void messageDelivered(ConnectionContext context,
					MessageReference messageReference) { }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void messageConsumed(ConnectionContext context,
					MessageReference messageReference) { 	}
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void markForGC(&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; timeStamp) { }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; isUseCache() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; isProducerFlowControl() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; isPrioritizedMessages() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; isLazyDispatch() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void isFull(ConnectionContext context, Usage&amp;lt;?&amp;gt; usage) { }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; isEnableAudit() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; isDisposed() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; isAlwaysRetroactive() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; isActive() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; SlowConsumerStrategy getSlowConsumerStrategy() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; getName() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; getMinimumMessageSize() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; 0; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; MessageStore getMessageStore() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; MemoryUsage getMemoryUsage() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; getMaxProducersToAudit() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; 0; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; getMaxPageSize() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; 0; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; getMaxBrowsePageSize() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; 0; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; getMaxAuditDepth() { 	&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; 0; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; getInactiveTimoutBeforeGC() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; 0; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; DestinationStatistics getDestinationStatistics() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; DeadLetterStrategy getDeadLetterStrategy() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; getCursorMemoryHighWaterMark() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; 0; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; List&amp;lt;Subscription&amp;gt; getConsumers() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; getBlockedProducerWarningInterval() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; 0; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; ActiveMQDestination getActiveMQDestination() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;; 	}
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void gc() { 	}
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void fastProducer(ConnectionContext context,
					ProducerInfo producerInfo) { }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void dispose(ConnectionContext context) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException { }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; canGC() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; Message[] browse() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void addSubscription(ConnectionContext context, Subscription sub)
					&lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception { }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void addProducer(ConnectionContext context, ProducerInfo info)
					&lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception { }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void acknowledge(ConnectionContext context, Subscription sub,
					MessageAck ack, MessageReference node) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException { }
		};
		
		ack = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; MessageAck() {

			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; isDeliveredAck() {
				&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
			}
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; MessageId getLastMessageId() {
				&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; messageId;
			}
			
		};
		node = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; MessageReference() {
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; isPersistent() {&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; isExpired() { 
				&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;; 
			}
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; isDropped() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; isAdvisory() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; incrementReferenceCount() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; 0; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void incrementRedeliveryCounter() { }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; ConsumerId getTargetConsumerId() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; getSize() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; 0; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; Destination getRegionDestination() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; destination; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; getReferenceCount() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; 0; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; getRedeliveryCounter() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; 0; 	}
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; MessageId getMessageId() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; messageId; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; Message getMessageHardRef() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; Message getMessage() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; message; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; getGroupSequence() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; 0; 	}
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; getGroupID() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; getExpiration() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; 0; }
			
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; decrementReferenceCount() { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; 0; }
		};
	}
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13222657" author="tabish121" created="Mon, 5 Mar 2012 22:09:16 +0000"  >&lt;p&gt;Fixed on trunk.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>228828</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 38 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ai5j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>59214</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>