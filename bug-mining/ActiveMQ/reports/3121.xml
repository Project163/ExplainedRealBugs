<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 06:42:12 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-6875] Virtual destination consumers can create invalid demand for Virtual Topics</title>
                <link>https://issues.apache.org/jira/browse/AMQ-6875</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;When testing out Virtual topics over a network bridge that has the virtual destination consumers feature enabled I noticed that the consumer advisories were wrong.  The destinations sent as part of the consumer advisories to create demand over the bridge are using the name of the Virtual Topic.  &lt;/p&gt;

&lt;p&gt;This is causing extra demand to flow across the network bridge in some cases because by default the VirtualTopic name is &quot;VirtualTopic.&amp;gt;&quot; .  So once one Virtual Topic is created on a remote broker then any messages sent to &quot;VirtualTopic.&amp;gt;&quot; on the local broker will be forwarded over to the other broker even if there is no VirtualTopic matching.&lt;/p&gt;

&lt;p&gt;The solution is to make sure to use the actual topic that the VirtualTopic is subscribed to as part of the advisory messags.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13125040">AMQ-6875</key>
            <summary>Virtual destination consumers can create invalid demand for Virtual Topics</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cshannon">Christopher L. Shannon</assignee>
                                    <reporter username="cshannon">Christopher L. Shannon</reporter>
                        <labels>
                    </labels>
                <created>Thu, 14 Dec 2017 20:59:07 +0000</created>
                <updated>Thu, 14 Dec 2017 21:22:19 +0000</updated>
                            <resolved>Thu, 14 Dec 2017 21:22:19 +0000</resolved>
                                    <version>5.15.2</version>
                                    <fixVersion>5.15.3</fixVersion>
                    <fixVersion>5.16.0</fixVersion>
                                    <component>Broker</component>
                    <component>Network of Brokers</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16291590" author="jira-bot" created="Thu, 14 Dec 2017 21:01:34 +0000"  >&lt;p&gt;Commit 56baba96c657d4e44b88955a964d6c92ff39b822 in activemq&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cshannon&quot; class=&quot;user-hover&quot; rel=&quot;cshannon&quot;&gt;cshannon&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=56baba9&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=56baba9&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-6875&quot; title=&quot;Virtual destination consumers can create invalid demand for Virtual Topics&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-6875&quot;&gt;&lt;del&gt;AMQ-6875&lt;/del&gt;&lt;/a&gt; - Use the correct destination for Virtual destination consumers&lt;br/&gt;
when using Virtual Topics&lt;/p&gt;</comment>
                            <comment id="16291591" author="jira-bot" created="Thu, 14 Dec 2017 21:02:13 +0000"  >&lt;p&gt;Commit 94aea677acab41fc8ba425c9fefc9c351fb31a94 in activemq&apos;s branch refs/heads/activemq-5.15.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cshannon&quot; class=&quot;user-hover&quot; rel=&quot;cshannon&quot;&gt;cshannon&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=94aea67&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=94aea67&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-6875&quot; title=&quot;Virtual destination consumers can create invalid demand for Virtual Topics&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-6875&quot;&gt;&lt;del&gt;AMQ-6875&lt;/del&gt;&lt;/a&gt; - Use the correct destination for Virtual destination consumers&lt;br/&gt;
when using Virtual Topics&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 56baba96c657d4e44b88955a964d6c92ff39b822)&lt;/p&gt;</comment>
                            <comment id="16291628" author="christopher.l.shannon" created="Thu, 14 Dec 2017 21:22:14 +0000"  >&lt;p&gt;This is fixed.  Finding the correct topic requires a little bit of overhead but this is only done if useVirtualDestSubs is set to true and a new virtual topic demand advisory is sent (ie when the consumer comes online) so it shouldn&apos;t be run very often unless there are consumers constantly coming online/offline which would cause a lot more cpu in other places as well.  Also, the arrays that are being manipulated/copied are going to generally be very small as they are just the size of a tokenized destination name.  If for some reason this ends up being a performance hit then the resulting computed topics could be stored into a cache so they only have to get computed once per destination.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 48 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3nx47:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>