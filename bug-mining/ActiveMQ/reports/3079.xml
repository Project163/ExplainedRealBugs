<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 06:41:20 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-6699] STOMP headers are not escaped when using WebSocket</title>
                <link>https://issues.apache.org/jira/browse/AMQ-6699</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;When using STOMP over WebSockets, STOMP header values are not escaped in frames sent by ActiveMQ.&lt;/p&gt;

&lt;p&gt;When the following frame is sent:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;SEND&lt;br/&gt;
destination:/queue/test&lt;br/&gt;
escaped-header:one\ntwo\cthree&lt;/p&gt;

&lt;p&gt;Hello World&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;ActiveMQ interprets escaped headers correctly, but does not escape them when sending own frames:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;MESSAGE&lt;br/&gt;
expires:0&lt;br/&gt;
destination:/queue/test&lt;br/&gt;
subscription:12345&lt;br/&gt;
priority:4&lt;br/&gt;
escaped-header:one&lt;br/&gt;
two:three&lt;br/&gt;
message-id:ID:-50091-1497003246573-3:1:-1:1:1&lt;br/&gt;
timestamp:1497003247783&lt;/p&gt;

&lt;p&gt;Hello World&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Correctly escaped frame should look like this:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;MESSAGE&lt;br/&gt;
expires:0&lt;br/&gt;
destination:/queue/test&lt;br/&gt;
subscription:12345&lt;br/&gt;
priority:4&lt;br/&gt;
escaped-header:one\ntwo\cthree&lt;br/&gt;
message-id:ID\c-50091-1497003246573-3\c1\c-1\c1\c1&lt;br/&gt;
timestamp:1497003247783&lt;/p&gt;

&lt;p&gt;Hello World&lt;/p&gt;&lt;/blockquote&gt;</description>
                <environment>&lt;p&gt;Java SE Runtime Environment (build 1.8.0_102-b14)&lt;/p&gt;</environment>
        <key id="13078578">AMQ-6699</key>
            <summary>STOMP headers are not escaped when using WebSocket</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tabish">Timothy A. Bish</assignee>
                                    <reporter username="thezbyg">Albertas Vy&#353;niauskas</reporter>
                        <labels>
                    </labels>
                <created>Fri, 9 Jun 2017 10:31:09 +0000</created>
                <updated>Wed, 14 Jun 2017 20:05:06 +0000</updated>
                            <resolved>Wed, 14 Jun 2017 19:18:33 +0000</resolved>
                                    <version>5.14.5</version>
                                    <fixVersion>5.15.0</fixVersion>
                    <fixVersion>5.14.6</fixVersion>
                                    <component>STOMP</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="16044321" author="thezbyg" created="Fri, 9 Jun 2017 11:19:28 +0000"  >&lt;p&gt;Patch with test and fix.&lt;/p&gt;</comment>
                            <comment id="16044324" author="thezbyg" created="Fri, 9 Jun 2017 11:27:28 +0000"  >&lt;p&gt;Sorry, previous patch does not append NULL octet at the end of the frame if there is no content.&lt;/p&gt;</comment>
                            <comment id="16049549" author="jira-bot" created="Wed, 14 Jun 2017 19:15:31 +0000"  >&lt;p&gt;Commit 2490c85fc5cc27cb32f01553784ef6bc63cd15f0 in activemq&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tabish121&quot; class=&quot;user-hover&quot; rel=&quot;tabish121&quot;&gt;tabish121&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=2490c85&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=2490c85&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-6699&quot; title=&quot;STOMP headers are not escaped when using WebSocket&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-6699&quot;&gt;&lt;del&gt;AMQ-6699&lt;/del&gt;&lt;/a&gt; Fix STOMP over WS not encoding header values&lt;/p&gt;

&lt;p&gt;When sending STOMP frames out over WS the marshal isn&apos;t doing a proper&lt;br/&gt;
encode based on the STOMP version in use and so header values can be&lt;br/&gt;
transmitted without proper escaping.  &lt;/p&gt;</comment>
                            <comment id="16049551" author="jira-bot" created="Wed, 14 Jun 2017 19:16:03 +0000"  >&lt;p&gt;Commit 6613b8f1f64b07e98efc6bb3487ac2ef6f0ad60d in activemq&apos;s branch refs/heads/activemq-5.14.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tabish121&quot; class=&quot;user-hover&quot; rel=&quot;tabish121&quot;&gt;tabish121&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=6613b8f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=6613b8f&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-6699&quot; title=&quot;STOMP headers are not escaped when using WebSocket&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-6699&quot;&gt;&lt;del&gt;AMQ-6699&lt;/del&gt;&lt;/a&gt; Fix STOMP over WS not encoding header values&lt;/p&gt;

&lt;p&gt;When sending STOMP frames out over WS the marshal isn&apos;t doing a proper&lt;br/&gt;
encode based on the STOMP version in use and so header values can be&lt;br/&gt;
transmitted without proper escaping.&lt;br/&gt;
(cherry picked from commit 2490c85fc5cc27cb32f01553784ef6bc63cd15f0)&lt;/p&gt;</comment>
                            <comment id="16049555" author="tabish121" created="Wed, 14 Jun 2017 19:18:33 +0000"  >&lt;p&gt;Patch applied with a few modifications. &lt;/p&gt;</comment>
                            <comment id="16049600" author="thezbyg" created="Wed, 14 Jun 2017 20:05:06 +0000"  >&lt;p&gt;Thank you.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12872245" name="stomp-over-websocket-escape-2.patch" size="7357" author="thezbyg" created="Fri, 9 Jun 2017 11:27:28 +0000"/>
                            <attachment id="12872244" name="stomp-over-websocket-escape.patch" size="7361" author="thezbyg" created="Fri, 9 Jun 2017 11:19:28 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 22 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3g307:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>