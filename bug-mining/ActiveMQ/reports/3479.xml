<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 06:59:21 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-9475] ConsumerControl commands for wildcard consumers should not auto-create destinations</title>
                <link>https://issues.apache.org/jira/browse/AMQ-9475</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;While investigating &lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-9472&quot; title=&quot;Wildcard publisher auto-creates wildcard topic and breaks authorization&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-9472&quot;&gt;&lt;del&gt;AMQ-9472&lt;/del&gt;&lt;/a&gt;, it was &lt;a href=&quot;https://github.com/apache/activemq/pull/1198#issuecomment-2046523027&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;pointed&lt;/a&gt; out in some cases (like with Stomp) wildcard destinations that do not exist could be auto created on subscribe which besides creating the extra destination, can also lead to errors if proper ACLs are not set up.&lt;/p&gt;

&lt;p&gt;As &lt;a href=&quot;https://github.com/apache/activemq/pull/1198#issuecomment-2047625950&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;pointed&lt;/a&gt; out, the bug here is that wildcard destinations should not be auto-created just by subscribing using a wildcard. There is a check for this in &lt;a href=&quot;https://github.com/apache/activemq/blob/e025e443e65d4bd3c2c27f11d6caa7bfbd2c9626/activemq-broker/src/main/java/org/apache/activemq/broker/region/AbstractRegion.java#L344-L346&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;addConsumer()&lt;/a&gt; but &lt;a href=&quot;https://github.com/apache/activemq/blob/e025e443e65d4bd3c2c27f11d6caa7bfbd2c9626/activemq-broker/src/main/java/org/apache/activemq/broker/region/AbstractRegion.java#L694&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;processConsumerControl()&lt;/a&gt; does not have the checks. So any time that command is sent (like prefetch update) this could be an issue.&lt;/p&gt;

&lt;p&gt;This can be fixed by only looking up destinations that are wildcards and not auto creating them when processing consumer control objects just like addConsumer() does.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13575374">AMQ-9475</key>
            <summary>ConsumerControl commands for wildcard consumers should not auto-create destinations</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cshannon">Christopher L. Shannon</assignee>
                                    <reporter username="cshannon">Christopher L. Shannon</reporter>
                        <labels>
                    </labels>
                <created>Wed, 10 Apr 2024 15:45:49 +0000</created>
                <updated>Thu, 11 Apr 2024 11:14:11 +0000</updated>
                            <resolved>Thu, 11 Apr 2024 11:14:11 +0000</resolved>
                                                    <fixVersion>6.2.0</fixVersion>
                    <fixVersion>5.18.5</fixVersion>
                    <fixVersion>6.1.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="3000">50m</timespent>
                                <comments>
                            <comment id="17836114" author="jira-bot" created="Thu, 11 Apr 2024 10:55:40 +0000"  >&lt;p&gt;Commit c8f0419fff316ec7737b1707f5045d3166c0a61e in activemq&apos;s branch refs/heads/main from Christopher L. Shannon&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=c8f0419ff&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=c8f0419ff&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-9475&quot; title=&quot;ConsumerControl commands for wildcard consumers should not auto-create destinations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-9475&quot;&gt;&lt;del&gt;AMQ-9475&lt;/del&gt;&lt;/a&gt; - ConsumerControl commands should not auto create wildcard&lt;br/&gt;
dests&lt;/p&gt;

&lt;p&gt;This fixes an issue where wildcard destinations could be inadvertently&lt;br/&gt;
created by ConsumerControl commands which could lead to problems. The&lt;br/&gt;
processing logic for this command now will only look up existing&lt;br/&gt;
destinations if they exist.&lt;/p&gt;</comment>
                            <comment id="17836115" author="jira-bot" created="Thu, 11 Apr 2024 10:55:40 +0000"  >&lt;p&gt;Commit 78d95552338db1be2b95fc5c2fdd4eae8d045458 in activemq&apos;s branch refs/heads/main from Christopher L. Shannon&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=78d955523&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=78d955523&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Merge pull request #1200 from cshannon/&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-9475&quot; title=&quot;ConsumerControl commands for wildcard consumers should not auto-create destinations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-9475&quot;&gt;&lt;del&gt;AMQ-9475&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-9475&quot; title=&quot;ConsumerControl commands for wildcard consumers should not auto-create destinations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-9475&quot;&gt;&lt;del&gt;AMQ-9475&lt;/del&gt;&lt;/a&gt; - ConsumerControl commands should not auto create wildcard dests&lt;/p&gt;</comment>
                            <comment id="17836119" author="jira-bot" created="Thu, 11 Apr 2024 11:13:45 +0000"  >&lt;p&gt;Commit a37c111a7522ab0307fc2bba877ce820538f5c3c in activemq&apos;s branch refs/heads/activemq-5.18.x from Christopher L. Shannon&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=a37c111a7&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=a37c111a7&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-9475&quot; title=&quot;ConsumerControl commands for wildcard consumers should not auto-create destinations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-9475&quot;&gt;&lt;del&gt;AMQ-9475&lt;/del&gt;&lt;/a&gt; - ConsumerControl commands should not auto create wildcard&lt;br/&gt;
dests&lt;/p&gt;

&lt;p&gt;This fixes an issue where wildcard destinations could be inadvertently&lt;br/&gt;
created by ConsumerControl commands which could lead to problems. The&lt;br/&gt;
processing logic for this command now will only look up existing&lt;br/&gt;
destinations if they exist.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13574847">AMQ-9472</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 30 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1ok2w:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>