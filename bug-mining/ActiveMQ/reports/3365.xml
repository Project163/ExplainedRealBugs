<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 06:50:42 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-8048] ActiveMQ broker doesn&apos;t start with the error : Keystores with multiple certificates are not supported on the base class org.eclipse.jetty.util.ssl.SslContextFactory</title>
                <link>https://issues.apache.org/jira/browse/AMQ-8048</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;Hello,&lt;/p&gt;

&lt;p&gt;After an upgrade of ActiveMq from 5.14.5 version to 5.16.0 we occurred an error during the broker starting :&#160;Keystores with multiple certificates are not supported on the base class org.eclipse.jetty.util.ssl.SslContextFactory (I put a screenshot of the full stack)&lt;/p&gt;

&lt;p&gt;Our keystore contains one certificate with multiple Subject Alternative Names.&lt;/p&gt;

&lt;p&gt;I found a similar issue for Apache Nifi :&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-7730&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/NIFI-7730&lt;/a&gt;&#160;that was fixed following a Jetty upgrade.&lt;/p&gt;

&lt;p&gt;Also, I found this discussion on Jetty project :&#160;&lt;a href=&quot;https://github.com/eclipse/jetty.project/issues/4385&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/eclipse/jetty.project/issues/4385&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Best regards,&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;S&#233;bastien&lt;/p&gt;</description>
                <environment></environment>
        <key id="13334138">AMQ-8048</key>
            <summary>ActiveMQ broker doesn&apos;t start with the error : Keystores with multiple certificates are not supported on the base class org.eclipse.jetty.util.ssl.SslContextFactory</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jbonofre">Jean-Baptiste Onofr&#233;</assignee>
                                    <reporter username="screpel">SEBASTIEN CREPEL</reporter>
                        <labels>
                    </labels>
                <created>Wed, 7 Oct 2020 09:10:22 +0000</created>
                <updated>Mon, 15 Mar 2021 06:54:10 +0000</updated>
                            <resolved>Mon, 15 Mar 2021 06:54:10 +0000</resolved>
                                    <version>5.16.0</version>
                                    <fixVersion>5.15.15</fixVersion>
                    <fixVersion>5.16.2</fixVersion>
                    <fixVersion>5.17.0</fixVersion>
                                    <component>Broker</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="4200">1h 10m</timespent>
                                <comments>
                            <comment id="17237005" author="jbonofre" created="Sun, 22 Nov 2020 19:55:37 +0000"  >&lt;p&gt;Can you please share your conf/jetty.xml (and conf/activemq.xml as well) ? I guess you are using a SecureConnector in conf/jetty.xml right ?&lt;/p&gt;</comment>
                            <comment id="17237007" author="jbonofre" created="Sun, 22 Nov 2020 19:57:31 +0000"  >&lt;p&gt;By the way, the HTTP transport connector already uses SslContextFactory.Server. So, I assume that you use a SecureConnector in etc/jetty.xml (just uncommenting the one provided as example) but your handler is still SslContextFactory (instead of SslContextFactory.Server).&lt;/p&gt;</comment>
                            <comment id="17260490" author="jbonofre" created="Thu, 7 Jan 2021 13:17:51 +0000"  >&lt;p&gt;Any update about my first question ?&lt;/p&gt;</comment>
                            <comment id="17296965" author="chenchrl" created="Sun, 7 Mar 2021 20:10:42 +0000"  >&lt;p&gt;Hello, I created a PR for this issue: &lt;a href=&quot;https://github.com/apache/activemq/pull/619&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/activemq/pull/619&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Would be great if you can take a look&lt;/p&gt;</comment>
                            <comment id="17301432" author="jira-bot" created="Mon, 15 Mar 2021 06:52:25 +0000"  >&lt;p&gt;Commit 86eda3a6b1541ba71878e31848f6a02e1bba8966 in activemq&apos;s branch refs/heads/master from Charlie Chen&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=86eda3a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=86eda3a&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-8048&quot; title=&quot;ActiveMQ broker doesn&amp;#39;t start with the error : Keystores with multiple certificates are not supported on the base class org.eclipse.jetty.util.ssl.SslContextFactory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-8048&quot;&gt;&lt;del&gt;AMQ-8048&lt;/del&gt;&lt;/a&gt; replace SslContextFactory with SslContextFactory$Server &amp;amp; fix assembly BrokerXmlConfigStartTest activemq-security.xml test&lt;/p&gt;</comment>
                            <comment id="17301433" author="jira-bot" created="Mon, 15 Mar 2021 06:52:27 +0000"  >&lt;p&gt;Commit 3ecce8beea189dffacf66ef97a4fe41df5dcfba2 in activemq&apos;s branch refs/heads/master from Jean-Baptiste Onofr&#233;&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=3ecce8b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=3ecce8b&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Merge pull request #619 from charlie-cyf/master&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-8048&quot; title=&quot;ActiveMQ broker doesn&amp;#39;t start with the error : Keystores with multiple certificates are not supported on the base class org.eclipse.jetty.util.ssl.SslContextFactory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-8048&quot;&gt;&lt;del&gt;AMQ-8048&lt;/del&gt;&lt;/a&gt; ActiveMQ broker doesn&apos;t start with the error : Keystores with multiple certificates are not supported on the base class org.eclipse.jetty.util.ssl.SslContextFactory&lt;/p&gt;</comment>
                            <comment id="17301435" author="jira-bot" created="Mon, 15 Mar 2021 06:53:06 +0000"  >&lt;p&gt;Commit 20d822fbb8f67c3297e06d7877fd1b8972f268b8 in activemq&apos;s branch refs/heads/activemq-5.16.x from Charlie Chen&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=20d822f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=20d822f&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-8048&quot; title=&quot;ActiveMQ broker doesn&amp;#39;t start with the error : Keystores with multiple certificates are not supported on the base class org.eclipse.jetty.util.ssl.SslContextFactory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-8048&quot;&gt;&lt;del&gt;AMQ-8048&lt;/del&gt;&lt;/a&gt; replace SslContextFactory with SslContextFactory$Server &amp;amp; fix assembly BrokerXmlConfigStartTest activemq-security.xml test&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 86eda3a6b1541ba71878e31848f6a02e1bba8966)&lt;/p&gt;</comment>
                            <comment id="17301436" author="jira-bot" created="Mon, 15 Mar 2021 06:53:29 +0000"  >&lt;p&gt;Commit b9e1c3b894a834e7d1f113971161c088099eaf7b in activemq&apos;s branch refs/heads/activemq-5.15.x from Charlie Chen&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=b9e1c3b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=b9e1c3b&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-8048&quot; title=&quot;ActiveMQ broker doesn&amp;#39;t start with the error : Keystores with multiple certificates are not supported on the base class org.eclipse.jetty.util.ssl.SslContextFactory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-8048&quot;&gt;&lt;del&gt;AMQ-8048&lt;/del&gt;&lt;/a&gt; replace SslContextFactory with SslContextFactory$Server &amp;amp; fix assembly BrokerXmlConfigStartTest activemq-security.xml test&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 86eda3a6b1541ba71878e31848f6a02e1bba8966)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13013183" name="image.png" size="655497" author="screpel" created="Wed, 7 Oct 2020 09:05:01 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 35 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0jhag:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>