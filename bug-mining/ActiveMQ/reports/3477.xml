<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 06:59:20 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-9460] Running activemq-classic via docker does not allow access to web console</title>
                <link>https://issues.apache.org/jira/browse/AMQ-9460</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;I cannot use the web console when running via docker&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;docker run -d -p 61616:61616 -p 8161:8161 apache/activemq-classic&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;When you open &lt;tt&gt;localhost:8161&lt;/tt&gt; the web console comes up, but when you start browsing queues then the login page is shown. But admin/admin does not work.&lt;/p&gt;

&lt;p&gt;It works fine in the standalone .tar you can download and run locally.&lt;/p&gt;

&lt;p&gt;It seems the &lt;tt&gt;conf/credentials.properties&lt;/tt&gt; is corrupted in the docker image vs standalone.&lt;/p&gt;

&lt;p&gt;Standalone:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;~/Downloads/apache-activemq-6.1.0/conf &#10095; cat users.properties
## ---------------------------------------------------------------------------
## Licensed to the Apache Software Foundation (ASF) under one or more
## contributor license agreements.  See the NOTICE file distributed with
## this work for additional information regarding copyright ownership.
## The ASF licenses this file to You under the Apache License, Version 2.0
## (the &quot;License&quot;); you may not use this file except in compliance with
## the License.  You may obtain a copy of the License at
##
## http://www.apache.org/licenses/LICENSE-2.0
##
## Unless required by applicable law or agreed to in writing, software
## distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
## See the License for the specific language governing permissions and
## limitations under the License.
## ---------------------------------------------------------------------------

admin=admin%&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;And on docker:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;/opt/apache-activemq/conf
root@8483a39f7510:/opt/apache-activemq/conf# cat users.properties
## ---------------------------------------------------------------------------
## Licensed to the Apache Software Foundation (ASF) under one or more
## contributor license agreements.  See the NOTICE file distributed with
## this work for additional information regarding copyright ownership.
## The ASF licenses this file to You under the Apache License, Version 2.0
## (the &quot;License&quot;); you may not use this file except in compliance with
## the License.  You may obtain a copy of the License at
##
## http://www.apache.org/licenses/LICENSE-2.0
##
## Unless required by applicable law or agreed to in writing, software
## distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
## WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
## See the License for the specific language governing permissions and
## limitations under the License.
## ---------------------------------------------------------------------------

admin=adminroot@8483a39f7510:/opt/apache-activemq/conf#&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</description>
                <environment></environment>
        <key id="13572848">AMQ-9460</key>
            <summary>Running activemq-classic via docker does not allow access to web console</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jbonofre">Jean-Baptiste Onofr&#233;</assignee>
                                    <reporter username="davsclaus">Claus Ibsen</reporter>
                        <labels>
                    </labels>
                <created>Thu, 21 Mar 2024 15:56:53 +0000</created>
                <updated>Mon, 1 Apr 2024 16:14:09 +0000</updated>
                            <resolved>Mon, 1 Apr 2024 14:18:11 +0000</resolved>
                                    <version>6.0.1</version>
                                    <fixVersion>6.1.1</fixVersion>
                                    <component>Broker</component>
                    <component>Docker</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="9000">2.5h</timespent>
                                <comments>
                            <comment id="17829653" author="jbonofre" created="Thu, 21 Mar 2024 17:53:00 +0000"  >&lt;p&gt;Good catch ! It&apos;s the script in docker that update the configuration files with env variables. I&apos;m fixing it (and include in 6.1.1 release).&lt;/p&gt;</comment>
                            <comment id="17830289" author="jbonofre" created="Sun, 24 Mar 2024 18:12:50 +0000"  >&lt;p&gt;After investigation, the problem is not on the &lt;tt&gt;entrypoint.sh&lt;/tt&gt;. Do, the script/&lt;tt&gt;Dockerfile&lt;/tt&gt; we are using to the Docker image seems to be in cause. I will fix that.&lt;/p&gt;</comment>
                            <comment id="17830628" author="jbonofre" created="Mon, 25 Mar 2024 17:59:36 +0000"  >&lt;p&gt;It seems the problem is in the &lt;tt&gt;Dockerfile&lt;/tt&gt; when using &lt;tt&gt;ADD&lt;/tt&gt; / &lt;tt&gt;COPY&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="17830795" author="jbonofre" created="Tue, 26 Mar 2024 05:38:05 +0000"  >&lt;p&gt;NB: 5.17.6 and 5.18.3 images work fine whereas they use a similar &lt;tt&gt;Dockerfile&lt;/tt&gt;. I&apos;m testing on the SNAPSHOTs. I tested different temurin base image and they all work fine.&lt;/p&gt;</comment>
                            <comment id="17832591" author="jbonofre" created="Sun, 31 Mar 2024 14:16:07 +0000"  >&lt;p&gt;I found the problem: &lt;tt&gt;ACTIVEMQ_OPTS&lt;/tt&gt; is set in the Docker container to set &lt;tt&gt;jetty.host&lt;/tt&gt; to 0.0.0.0. In that case, as &lt;tt&gt;ACTIVEMQ_OPTS&lt;/tt&gt; is not empty, the &lt;tt&gt;bin/activemq&lt;/tt&gt; script doesn&apos;t define it, so, &lt;tt&gt;java.security.auth.login.config&lt;/tt&gt; is not passed (containing &lt;tt&gt;login.config&lt;/tt&gt;), so no authentication backend is set.&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;ACTIVEMQ_OPTS&lt;/tt&gt; is set in the &lt;tt&gt;Dockerfile&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="17832733" author="jira-bot" created="Mon, 1 Apr 2024 05:38:25 +0000"  >&lt;p&gt;Commit 34e228f14c01ba9c029369d4360ca02b3896dd98 in activemq&apos;s branch refs/heads/main from JB Onofr&#233;&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=34e228f14&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=34e228f14&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-9460&quot; title=&quot;Running activemq-classic via docker does not allow access to web console&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-9460&quot;&gt;&lt;del&gt;AMQ-9460&lt;/del&gt;&lt;/a&gt;: Don&apos;t override ACTIVEMQ_OPTS when provided by user&lt;/p&gt;</comment>
                            <comment id="17832734" author="jira-bot" created="Mon, 1 Apr 2024 05:38:25 +0000"  >&lt;p&gt;Commit 24c00d1a806e3e263322db875f49b541c6df0c97 in activemq&apos;s branch refs/heads/main from JB Onofr&#233;&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=24c00d1a8&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=24c00d1a8&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Merge pull request #1193 from jbonofre/&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-9460&quot; title=&quot;Running activemq-classic via docker does not allow access to web console&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-9460&quot;&gt;&lt;del&gt;AMQ-9460&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-9460&quot; title=&quot;Running activemq-classic via docker does not allow access to web console&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-9460&quot;&gt;&lt;del&gt;AMQ-9460&lt;/del&gt;&lt;/a&gt;: Don&apos;t override ACTIVEMQ_OPTS when provided by user&lt;/p&gt;</comment>
                            <comment id="17832735" author="jira-bot" created="Mon, 1 Apr 2024 05:39:03 +0000"  >&lt;p&gt;Commit f761b6598ef91458e56a6b873ea9f753e1333e07 in activemq&apos;s branch refs/heads/activemq-6.0.x from JB Onofr&#233;&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=f761b6598&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=f761b6598&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-9460&quot; title=&quot;Running activemq-classic via docker does not allow access to web console&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-9460&quot;&gt;&lt;del&gt;AMQ-9460&lt;/del&gt;&lt;/a&gt;: Don&apos;t override ACTIVEMQ_OPTS when provided by user&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 34e228f14c01ba9c029369d4360ca02b3896dd98)&lt;/p&gt;</comment>
                            <comment id="17832736" author="jbonofre" created="Mon, 1 Apr 2024 05:40:41 +0000"  >&lt;p&gt;I will apply the fix backward on 6.0.0 and 6.0.1 docker images.&lt;/p&gt;</comment>
                            <comment id="17832789" author="jira-bot" created="Mon, 1 Apr 2024 09:28:27 +0000"  >&lt;p&gt;Commit 7cbe23974c729a538fd3971ee0de344f526bfee3 in activemq&apos;s branch refs/heads/revert-1193-&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-9460&quot; title=&quot;Running activemq-classic via docker does not allow access to web console&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-9460&quot;&gt;&lt;del&gt;AMQ-9460&lt;/del&gt;&lt;/a&gt; from JB Onofr&#233;&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=7cbe23974&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=7cbe23974&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Revert &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-9460&quot; title=&quot;Running activemq-classic via docker does not allow access to web console&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-9460&quot;&gt;&lt;del&gt;AMQ-9460&lt;/del&gt;&lt;/a&gt;: Don&apos;t override ACTIVEMQ_OPTS when provided by user&quot;&lt;/p&gt;</comment>
                            <comment id="17832790" author="jira-bot" created="Mon, 1 Apr 2024 09:28:39 +0000"  >&lt;p&gt;Commit 7cbe23974c729a538fd3971ee0de344f526bfee3 in activemq&apos;s branch refs/heads/main from JB Onofr&#233;&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=7cbe23974&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=7cbe23974&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Revert &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-9460&quot; title=&quot;Running activemq-classic via docker does not allow access to web console&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-9460&quot;&gt;&lt;del&gt;AMQ-9460&lt;/del&gt;&lt;/a&gt;: Don&apos;t override ACTIVEMQ_OPTS when provided by user&quot;&lt;/p&gt;</comment>
                            <comment id="17832791" author="jira-bot" created="Mon, 1 Apr 2024 09:28:40 +0000"  >&lt;p&gt;Commit f47ae99fb98148737ec3a9c3712ec6a66b8c2426 in activemq&apos;s branch refs/heads/main from JB Onofr&#233;&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=f47ae99fb&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=f47ae99fb&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Merge pull request #1195 from apache/revert-1193-&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-9460&quot; title=&quot;Running activemq-classic via docker does not allow access to web console&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-9460&quot;&gt;&lt;del&gt;AMQ-9460&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Revert &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-9460&quot; title=&quot;Running activemq-classic via docker does not allow access to web console&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-9460&quot;&gt;&lt;del&gt;AMQ-9460&lt;/del&gt;&lt;/a&gt;: Don&apos;t override ACTIVEMQ_OPTS when provided by user&quot;&lt;/p&gt;</comment>
                            <comment id="17832793" author="jira-bot" created="Mon, 1 Apr 2024 09:29:28 +0000"  >&lt;p&gt;Commit 3636a497ede5b95cf8257c2f359a3bc8a02fb325 in activemq&apos;s branch refs/heads/activemq-6.0.x from JB Onofr&#233;&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=3636a497e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=3636a497e&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Revert &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-9460&quot; title=&quot;Running activemq-classic via docker does not allow access to web console&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-9460&quot;&gt;&lt;del&gt;AMQ-9460&lt;/del&gt;&lt;/a&gt;: Don&apos;t override ACTIVEMQ_OPTS when provided by user&quot;&lt;/p&gt;

&lt;p&gt;This reverts commit f761b6598ef91458e56a6b873ea9f753e1333e07.&lt;/p&gt;</comment>
                            <comment id="17832858" author="jira-bot" created="Mon, 1 Apr 2024 14:17:59 +0000"  >&lt;p&gt;Commit 661fce3f16df34879784556dbea5a1d9989ffed6 in activemq&apos;s branch refs/heads/main from JB Onofr&#233;&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=661fce3f1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=661fce3f1&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-9460&quot; title=&quot;Running activemq-classic via docker does not allow access to web console&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-9460&quot;&gt;&lt;del&gt;AMQ-9460&lt;/del&gt;&lt;/a&gt;: Fix authentication on Docker images&lt;/p&gt;</comment>
                            <comment id="17832859" author="jira-bot" created="Mon, 1 Apr 2024 14:17:59 +0000"  >&lt;p&gt;Commit 2bdf0466d07e71964cf4de6ab0de8bb7e2b4f06a in activemq&apos;s branch refs/heads/main from JB Onofr&#233;&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=2bdf0466d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=2bdf0466d&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Merge pull request #1196 from jbonofre/&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-9460&quot; title=&quot;Running activemq-classic via docker does not allow access to web console&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-9460&quot;&gt;&lt;del&gt;AMQ-9460&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-9460&quot; title=&quot;Running activemq-classic via docker does not allow access to web console&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-9460&quot;&gt;&lt;del&gt;AMQ-9460&lt;/del&gt;&lt;/a&gt;: Fix authentication on Docker images&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 32 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1o4vs:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>