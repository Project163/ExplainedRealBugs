<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 06:40:28 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-3233] warnOnProducerFlowControl is never reset to &apos;true&apos; after the first INFO message is logged.</title>
                <link>https://issues.apache.org/jira/browse/AMQ-3233</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;Looking at the code in Queue.java (around line 543), you can see that the warnOnProducerFlowControl variable is set to false when we log the INFO message &quot;Usage Manager Memory Limit (...) reached on ....&quot;. However, it is never set to true again. So, if we consider operations users trawling through large logs over a period of time, the may see the first warning on Monday, but then see no further warnings of this behavior for the rest of the week. Surely we should be resetting the warnOnProducerFlowControl variable to true, so that subsequent flow control situations are correctly logged?&lt;/p&gt;</description>
                <environment>&lt;p&gt;All&lt;/p&gt;</environment>
        <key id="12502026">AMQ-3233</key>
            <summary>warnOnProducerFlowControl is never reset to &apos;true&apos; after the first INFO message is logged.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gtully">Gary Tully</assignee>
                                    <reporter username="adrian.trenaman">Adrian Trenaman</reporter>
                        <labels>
                    </labels>
                <created>Tue, 22 Mar 2011 08:20:58 +0000</created>
                <updated>Fri, 3 Mar 2017 11:28:10 +0000</updated>
                            <resolved>Fri, 3 Mar 2017 11:28:10 +0000</resolved>
                                    <version>5.4.2</version>
                                    <fixVersion>5.15.0</fixVersion>
                                    <component>Broker</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="15894175" author="jira-bot" created="Fri, 3 Mar 2017 11:23:44 +0000"  >&lt;p&gt;Commit 01b1f7f6945ba0897732b9eaae2ee1c9d50faf07 in activemq&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gtully&quot; class=&quot;user-hover&quot; rel=&quot;gtully&quot;&gt;gtully&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=01b1f7f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=01b1f7f&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-3233&quot; title=&quot;warnOnProducerFlowControl is never reset to &amp;#39;true&amp;#39; after the first INFO message is logged.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-3233&quot;&gt;&lt;del&gt;AMQ-3233&lt;/del&gt;&lt;/a&gt; respect policy entry blockedProducerWarningInterval for flow control warning, 0 disables and Xmillis makes it periodic, default period of 30s is not unlike the existing once behaviour. fix and tests&lt;/p&gt;</comment>
                            <comment id="15894179" author="gtully" created="Fri, 3 Mar 2017 11:28:10 +0000"  >&lt;p&gt;strange that this was out there for so long!&lt;br/&gt;
in any event, the policy entry blockedProducerWarningInterval needed to be respected such that the logging rate can be regulated. The default value of 30s   means the behaviour is not unlike a single shot as it is now but in the case of long term blocking the warning will repeat as new producers are blocked.&lt;/p&gt;

&lt;p&gt;note the advisoryForFastProducers gives a notification every time.&lt;br/&gt;
Also the jmx support for detecting flow control is improved by &lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-6614&quot; title=&quot;JMX Queue attribute blockedSends not updated when a sync send hits flow control&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-6614&quot;&gt;&lt;del&gt;AMQ-6614&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13047721">AMQ-6614</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>74713</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 37 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0eanr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>81489</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>