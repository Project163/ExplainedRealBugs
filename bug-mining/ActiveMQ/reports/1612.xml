<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 05:55:53 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-3998] Incorrect reporting of pendingQueueSize of durable subs after reconnect with unacked</title>
                <link>https://issues.apache.org/jira/browse/AMQ-3998</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;A durable sub that does not ack messages, so uses a transaction of client ack and connects then disconnects results in duplicate tally of the pending message count for the active sub (keepdurablesubsactive must be at default true). This issue emerged post fixes for &lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-3871&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/AMQ-3871&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12605203">AMQ-3998</key>
            <summary>Incorrect reporting of pendingQueueSize of durable subs after reconnect with unacked</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gtully">Gary Tully</assignee>
                                    <reporter username="gtully">Gary Tully</reporter>
                        <labels>
                    </labels>
                <created>Tue, 28 Aug 2012 11:28:05 +0000</created>
                <updated>Thu, 2 May 2013 02:29:55 +0000</updated>
                            <resolved>Wed, 29 Aug 2012 13:33:28 +0000</resolved>
                                    <version>5.6.0</version>
                                    <fixVersion>5.7.0</fixVersion>
                                    <component>Broker</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13443078" author="gtully" created="Tue, 28 Aug 2012 11:31:42 +0000"  >&lt;p&gt;The test from &lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-2801&quot; title=&quot;Durable subscriber on startup ignores Selectors when calculating pending queue size&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-2801&quot;&gt;&lt;del&gt;AMQ-2801&lt;/del&gt;&lt;/a&gt; (which was disabled in the pom) works with the fix&lt;/p&gt;</comment>
                            <comment id="13443100" author="gtully" created="Tue, 28 Aug 2012 12:07:10 +0000"  >&lt;p&gt;fixed in &lt;a href=&quot;http://svn.apache.org/viewvc?rev=1378085&amp;amp;view=rev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?rev=1378085&amp;amp;view=rev&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;issue was recalculating size and also reading messages back into pending. Deferring size recalculation to resetBatch resolves.&lt;/p&gt;</comment>
                            <comment id="13443193" author="gtully" created="Tue, 28 Aug 2012 14:27:16 +0000"  >&lt;p&gt;The fix upsets the test for - org.apache.activemq.bugs.AMQ3934Test&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-3934&quot; title=&quot;QueueViewMBean.getMessage throws NullPointerException when message not found&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-3934&quot;&gt;&lt;del&gt;AMQ-3934&lt;/del&gt;&lt;/a&gt; &lt;br/&gt;
investigating&lt;/p&gt;</comment>
                            <comment id="13444054" author="gtully" created="Wed, 29 Aug 2012 13:33:28 +0000"  >&lt;p&gt;test regression resolved with &lt;a href=&quot;http://svn.apache.org/viewvc?rev=1378542&amp;amp;view=rev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?rev=1378542&amp;amp;view=rev&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;duplicate calls to resetBatch on start caused an extra reread of the store which pulled out a message about to be deleted in error.&lt;br/&gt;
resetting is now only called from gc.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                                                <inwardlinks description="is part of">
                                        <issuelink>
            <issuekey id="12482899">AMQ-2801</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12558795">AMQ-3871</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>249766</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 12 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ahdb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>59087</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>