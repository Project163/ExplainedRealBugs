<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 05:34:48 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-1116] deadlock when shutting down client that is configured with failover=true and is presently disconnected from broker</title>
                <link>https://issues.apache.org/jira/browse/AMQ-1116</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;Sounds like a great idea to me &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; Please go ahead and submit a jira with the patch and we&apos;ll get it integrated ASAP&lt;/p&gt;

&lt;p&gt;On 1/4/07, Chris Hofstaedter &amp;lt;chrish@nmwco.com&amp;gt; wrote:&lt;br/&gt;
&amp;gt; I ran into this issue as well on &amp;lt;= 4.0.2.  I never tested it against&lt;br/&gt;
&amp;gt; 4.1.    The FailoverTransport doesn&apos;t shutdown if it is disconnected at&lt;br/&gt;
&amp;gt; the time of the shutdown.&lt;br/&gt;
&amp;gt;&lt;br/&gt;
&amp;gt; I believe that the root cause is in the &lt;br/&gt;
&amp;gt; FailoverTransport.oneway(Command&lt;br/&gt;
&amp;gt; command) function which will hold onto the command and keep trying to&lt;br/&gt;
&amp;gt; reconnect until the message is sent or the transport is disposed.&lt;br/&gt;
&amp;gt;&lt;br/&gt;
&amp;gt; I applied a local patch that seems to solve the problem.  Note that &lt;br/&gt;
&amp;gt; I&apos;ve only tested the patch against 4.0.2.&lt;br/&gt;
&amp;gt;&lt;br/&gt;
&amp;gt; Specifically, I early return from the oneway function if the command &lt;br/&gt;
&amp;gt; is ShutdownInfo and the connectedTransport is null.  This seems to &lt;br/&gt;
&amp;gt; solve the problem in that I get clean shutdowns on the client when &lt;br/&gt;
&amp;gt; failover is true and the client is presently disconnected.&lt;br/&gt;
&amp;gt;&lt;br/&gt;
&amp;gt; Does this seem like a reasonable patch?  Should I create a JIRA with &lt;br/&gt;
&amp;gt; this info?&lt;br/&gt;
&amp;gt;&lt;br/&gt;
&amp;gt;&lt;br/&gt;
&amp;gt;&lt;br/&gt;
&amp;gt; ----&lt;del&gt;Original Message&lt;/del&gt;----&lt;br/&gt;
&amp;gt; From: James Strachan &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;mailto:james.strachan@gmail.com&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;james.strachan@gmail.com&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/mail_small.gif&quot; height=&quot;12&quot; width=&quot;13&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&lt;br/&gt;
&amp;gt; Sent: Tuesday, December 12, 2006 4:46 AM&lt;br/&gt;
&amp;gt; To: activemq-users@geronimo.apache.org&lt;br/&gt;
&amp;gt; Subject: Re: failover mode and client shutdown&lt;br/&gt;
&amp;gt;&lt;br/&gt;
&amp;gt; There could be a bug relating to closes with the failover transport &lt;br/&gt;
&amp;gt; possibly, but the ActiveMQConnection does wait up to the closeTimeout &lt;br/&gt;
&amp;gt; for a close to succeed before shutting down - so you could try reduce &lt;br/&gt;
&amp;gt; the timeout.&lt;br/&gt;
&amp;gt;&lt;br/&gt;
&amp;gt; &lt;a href=&quot;http://incubator.apache.org/activemq/maven/activemq-core/apidocs/org/a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://incubator.apache.org/activemq/maven/activemq-core/apidocs/org/a&lt;/a&gt;&lt;br/&gt;
&amp;gt; pa&lt;br/&gt;
&amp;gt; che/activemq/ActiveMQConnection.html#setCloseTimeout(int)&lt;br/&gt;
&amp;gt;&lt;br/&gt;
&amp;gt;&lt;br/&gt;
&amp;gt; On 12/12/06, Keith Irwin &amp;lt;keith.irwin@gmail.com&amp;gt; wrote:&lt;br/&gt;
&amp;gt; &amp;gt; Folks--&lt;br/&gt;
&amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; When we have clients running and we take down AMQ (&amp;lt;= 4.1.0), then &lt;br/&gt;
&amp;gt; &amp;gt; attempt to shutdown the clients with Control-C (rather than kill the &lt;br/&gt;
&amp;gt; &amp;gt; JVM with a -9), the clients won&apos;t shut down.  It&apos;s as if a &quot;close&quot; &lt;br/&gt;
&amp;gt; &amp;gt; on the failover connection never reaches the amq client classes.&lt;br/&gt;
&amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; I note that in the 4.1.0 release notes, this issue is referenced, &lt;br/&gt;
&amp;gt; &amp;gt; and the advice is to set the maxReconnectAttempts (or similar) &lt;br/&gt;
&amp;gt; &amp;gt; property to something non-zero.&lt;br/&gt;
&amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; The problem is that we don&apos;t want there to be a max number of &lt;br/&gt;
&amp;gt; &amp;gt; attempts.  Unless we specifically want to take down the client (say, &lt;br/&gt;
&amp;gt; &amp;gt; for an apt-get package upgrade), we want it to keep on trying &lt;br/&gt;
&amp;gt; &amp;gt; forever.&lt;br/&gt;
&amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; SO, my question: Is there an architectural reason for not being able &lt;br/&gt;
&amp;gt; &amp;gt; to close a failover connection if AMQ is down?&lt;br/&gt;
&amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; If it isn&apos;t impossible due to tradeoffs elsewhere in the code base, &lt;br/&gt;
&amp;gt; &amp;gt; we might be willing to submit a patch to fix the issue.&lt;br/&gt;
&amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; Our only other recourse is to attempt to close the connections in &lt;br/&gt;
&amp;gt; &amp;gt; separate threads, then timeout those threads after a while and fall &lt;br/&gt;
&amp;gt; &amp;gt; out the end of the java process.&lt;br/&gt;
&amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; For instance:&lt;br/&gt;
&amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt;   Thread th = new Thread(new Runnable() {&lt;br/&gt;
&amp;gt; &amp;gt;       public void run() &lt;/p&gt;
{
&amp;gt; &amp;gt;          connection.close();
&amp;gt; &amp;gt;       }
&lt;p&gt;&amp;gt; &amp;gt;    });&lt;br/&gt;
&amp;gt; &amp;gt;    th.start();&lt;br/&gt;
&amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt;    // give up after 2 seconds&lt;br/&gt;
&amp;gt; &amp;gt;    Thread.currentThread().join(2000);&lt;br/&gt;
&amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; I guess this is do-able, but it seems, you know, some how, well,&lt;br/&gt;
&amp;gt; wrong.&lt;br/&gt;
&amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; So, is it worth investigating a patch to AMQ?&lt;br/&gt;
&amp;gt; &amp;gt;&lt;br/&gt;
&amp;gt; &amp;gt; Keith&lt;br/&gt;
&amp;gt; &amp;gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12482172">AMQ-1116</key>
            <summary>deadlock when shutting down client that is configured with failover=true and is presently disconnected from broker</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rajdavies">Robert Davies</assignee>
                                    <reporter username="chrish">Christian Holzer</reporter>
                        <labels>
                    </labels>
                <created>Thu, 4 Jan 2007 16:32:28 +0000</created>
                <updated>Sun, 29 Mar 2009 01:08:50 +0000</updated>
                            <resolved>Thu, 7 Feb 2008 10:03:43 +0000</resolved>
                                    <version>4.0.2</version>
                                    <fixVersion>5.1.0</fixVersion>
                                    <component>Transport</component>
                        <due></due>
                            <votes>2</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="12938875" author="cameronbraid" created="Wed, 28 Mar 2007 10:41:10 +0000"  >&lt;p&gt;Is there any chance that this could be fixed for 4.1.1 ?&lt;/p&gt;</comment>
                            <comment id="12938853" author="chrish" created="Wed, 28 Mar 2007 13:25:52 +0000"  >&lt;p&gt;Cameron&apos;s recent comment made me realize that I never attached the files with my local patches in them for this issue.  So here they are.  These are 4.0.2 files.  Also there are patches for multiple issues in here.  You can find the blocks of code that patch this issue (for me anyway) by searching for &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-1116&quot; title=&quot;deadlock when shutting down client that is configured with failover=true and is presently disconnected from broker&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-1116&quot;&gt;&lt;del&gt;AMQ-1116&lt;/del&gt;&lt;/a&gt; fix&quot;&lt;/p&gt;</comment>
                            <comment id="12938967" author="alewando" created="Thu, 17 May 2007 13:45:01 +0000"  >&lt;p&gt;Patch to prevent ShutdownInfo or RemoveInfo commands from being sent when transport is not connected&lt;/p&gt;</comment>
                            <comment id="12938981" author="alewando" created="Thu, 17 May 2007 13:48:01 +0000"  >&lt;p&gt;Just a confirmation that this is still an issue. I&apos;ve submitted a patch that does basically the same thing that Chris&apos;s does, but only affects FailoverTransport. In addition to ignoring ShutdownInfo commands when not connected, it also short-circuits a reply to RemoveInfo, which was also causing a problem.&lt;/p&gt;</comment>
                            <comment id="12937975" author="jbrosenberg" created="Tue, 5 Feb 2008 08:56:44 +0000"  >&lt;p&gt;I can confirm that I am seeing this issue, under the latest 5.1-SNAPSHOT.....&lt;/p&gt;

&lt;p&gt;The record shows the fixed version is 5.2.0....Is that being actively developed now, or is that just a placeholder to indicate this issue is being scheduled for work after the current 5.1 cycle?&lt;/p&gt;

&lt;p&gt;Jason&lt;/p&gt;</comment>
                            <comment id="12938317" author="jbrosenberg" created="Tue, 5 Feb 2008 18:20:47 +0000"  >&lt;p&gt;Wanted to add, I applied Adam&apos;s patch to the latest 5.1-SNAPSHOT version, and it appears to be working great.&lt;/p&gt;

&lt;p&gt;Jason&lt;/p&gt;</comment>
                            <comment id="12939333" author="jbrosenberg" created="Thu, 7 Feb 2008 05:47:41 +0000"  >&lt;p&gt;I&apos;ve attached a patch that I created for several issues, against a recent 5.1-SNAPSHOT revision (svn rev 618082).&lt;/p&gt;

&lt;p&gt;The file FailoverTransport.java, includes fixes for 4 issues, including Adam&apos;s fix for this issue.&lt;/p&gt;

&lt;p&gt;The other issues that this patch includes fixes for are:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-1116&quot; title=&quot;deadlock when shutting down client that is configured with failover=true and is presently disconnected from broker&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-1116&quot;&gt;&lt;del&gt;AMQ-1116&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-1575&quot; title=&quot;FailoverTransport with MaxReconnectAttempts set does not recover quickly, when used with ConnectionPooling....&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-1575&quot;&gt;&lt;del&gt;AMQ-1575&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-1577&quot; title=&quot;FailoverTransport doesn&amp;#39;t shut-down cleanly, complains about underlying transport going down&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-1577&quot;&gt;&lt;del&gt;AMQ-1577&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-1581&quot; title=&quot;PooledConnections don&amp;#39;t initialize correctly when broker not available (causes problems with Failover)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-1581&quot;&gt;&lt;del&gt;AMQ-1581&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The file ConnectionPool.java is also needed for the fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-1581&quot; title=&quot;PooledConnections don&amp;#39;t initialize correctly when broker not available (causes problems with Failover)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-1581&quot;&gt;&lt;del&gt;AMQ-1581&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I&apos;ve added comments in the code that clearly indicate which sections apply to which issue, so you can easily take edit to include only the fixes you want specifically.&lt;/p&gt;

&lt;p&gt;Jason&lt;/p&gt;</comment>
                            <comment id="12936820" author="rajdavies" created="Thu, 7 Feb 2008 10:03:43 +0000"  >&lt;p&gt;Fixed by svn revision 619336&lt;/p&gt;</comment>
                            <comment id="12940530" author="jrepko" created="Wed, 10 Dec 2008 04:57:39 +0000"  >&lt;p&gt;I&apos;m not sure that this is actually fixed.   I am currently trying it out with a broker in one VM and a client in another.  If I kill the broker forcibly and then try to execute the close method of ActiveMQConnection, I get stuck in the failover transport until the reconnect tries expires after 10 minutes. &lt;/p&gt;

&lt;p&gt;It gets stuck in the close when it calls doSyncSendPacket() &lt;br/&gt;
&amp;lt;code&amp;gt;&lt;br/&gt;
                    if (isConnectionInfoSentToBroker) &lt;/p&gt;
{
                        // If we announced ourselfs to the broker.. Try to let
                        // the broker
                        // know that the connection is being shutdown.
                        doSyncSendPacket(info.createRemoveCommand(), closeTimeout);
                        doAsyncSendPacket(new ShutdownInfo());
                    }
&lt;p&gt;&amp;lt;/code&amp;gt;&lt;/p&gt;

&lt;p&gt;This is because another message ack is waiting for the transport to reconnect to be sent and so is holding the writerMutex in MutexTransport.&lt;/p&gt;
</comment>
                            <comment id="12941074" author="bhumphre" created="Sun, 29 Mar 2009 00:56:17 +0000"  >&lt;p&gt;I agree with Jay Repko.  I&apos;m using AMQ 5.1.0, I&apos;ve got the following JUnit test to try to reproduce what I&apos;m experiencing:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;  @Test(timeout=15000)
  public void testRetryServerConnectionURLWithNoServer() throws Exception
  {
      final String url=&quot;tcp://localhost:61620&quot;;
      final String clientUrl = &quot;failover://(&quot; + url + &quot;)?maxReconnectAttempts=0&quot;;
      ActiveMQConnectionFactory activeMQConnectionFactory = new ActiveMQConnectionFactory(clientUrl);
      activeMQConnectionFactory.setTransportListener(new PrintingTransportListener());
      final Connection conn = activeMQConnectionFactory.createConnection();
      ((ActiveMQConnection)conn).setCloseTimeout(5);
      Thread clientThread=new Thread(&quot;AMQTestClientThread&quot;)
      {
          public void run()
          {
              try
              {
                  conn.start();
                  Thread.sleep(2000);
                  conn.stop();
                  conn.close();
              }
              catch(Exception e)
              {
                  thrownException = e;
              }
          }
      };

      clientThread.start();
      Thread.sleep(2000);
      System.out.println(&quot;Attempting to shutdown&quot;);
      conn.close();
      System.out.println(&quot;Shutdown, joining.&quot;);
      clientThread.join();
      if(thrownException !=null)
      {
          throw thrownException;
      }
  }

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; 

&lt;p&gt;This test always times out after 15 seconds, setCloseTimeout doesn&apos;t seem to change any behavior.&lt;/p&gt;

&lt;p&gt;Further, when I kill -3 this, I get the following three thread stack traces (The client thread, the reconnecting thread &amp;amp; the stopping thread:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt; 
&quot;AMQTestClientThread&quot; prio=1 tid=0x00002aaafc0069f0 nid=0x6f69 in Object.wait() [0x000000004101d000..0x000000004101dc80]
	at java.lang.Object.wait(Native Method)
	- waiting on &amp;lt;0x00002aaadf2bc5f8&amp;gt; (a java.lang.Object)
	at org.apache.activemq.transport.failover.FailoverTransport.oneway(FailoverTransport.java:407)
	- locked &amp;lt;0x00002aaadf2bc5f8&amp;gt; (a java.lang.Object)
	at org.apache.activemq.transport.MutexTransport.oneway(MutexTransport.java:40)
	- locked &amp;lt;0x00002aaadf2bc158&amp;gt; (a java.lang.Object)
	at org.apache.activemq.transport.ResponseCorrelator.asyncRequest(ResponseCorrelator.java:74)
	at org.apache.activemq.transport.ResponseCorrelator.request(ResponseCorrelator.java:79)
	at org.apache.activemq.ActiveMQConnection.syncSendPacket(ActiveMQConnection.java:1195)
	at org.apache.activemq.ActiveMQConnection.ensureConnectionInfoSent(ActiveMQConnection.java:1289)
	- locked &amp;lt;0x00002aaadf2ab250&amp;gt; (a org.apache.activemq.ActiveMQConnection)
	at org.apache.activemq.ActiveMQConnection.start(ActiveMQConnection.java:456)
	at com.kentrox.objectproxy.jms.test.JMSConnectionStateTesting$2.run(JMSConnectionStateTesting.java:235)

&quot;ActiveMQ Task&quot; daemon prio=1 tid=0x00002aaafc02ab80 nid=0x6f68 in Object.wait() [0x0000000040f1c000..0x0000000040f1ce00]
	at java.lang.Object.wait(Native Method)
	- waiting on &amp;lt;0x00002aaadf2bc618&amp;gt; (a java.lang.Object)
	at org.apache.activemq.transport.failover.FailoverTransport.doReconnect(FailoverTransport.java:735)
	- locked &amp;lt;0x00002aaadf2bc618&amp;gt; (a java.lang.Object)
	at org.apache.activemq.transport.failover.FailoverTransport$2.iterate(FailoverTransport.java:114)
	- locked &amp;lt;0x00002aaadf2bc608&amp;gt; (a java.lang.Object)
	at org.apache.activemq.thread.PooledTaskRunner.runTask(PooledTaskRunner.java:122)
	at org.apache.activemq.thread.PooledTaskRunner$1.run(PooledTaskRunner.java:43)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:650)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:675)
	at java.lang.Thread.run(Thread.java:595)

&quot;pool-1-thread-1&quot; prio=1 tid=0x00002aaafc001670 nid=0x6f67 waiting for monitor entry [0x0000000040e1b000..0x0000000040e1bd80]
	at org.apache.activemq.ActiveMQConnection.checkClosedOrFailed(ActiveMQConnection.java:1258)
	- waiting to lock &amp;lt;0x00002aaadf2ab250&amp;gt; (a org.apache.activemq.ActiveMQConnection)
	at org.apache.activemq.ActiveMQConnection.stop(ActiveMQConnection.java:497)
	at org.apache.activemq.ActiveMQConnection.close(ActiveMQConnection.java:552)
	at com.kentrox.objectproxy.jms.test.JMSConnectionStateTesting.testRetryServerConnectionURLWithNoServer(JMSConnectionStateTesting.java:250)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:585)
	at org.junit.internal.runners.TestMethod.invoke(TestMethod.java:59)
	at org.junit.internal.runners.MethodRoadie.runTestMethod(MethodRoadie.java:98)
	at org.junit.internal.runners.MethodRoadie$1$1.call(MethodRoadie.java:55)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:269)
	at java.util.concurrent.FutureTask.run(FutureTask.java:123)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:650)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:675)
	at java.lang.Thread.run(Thread.java:595)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; 

&lt;p&gt;This may be updated in 5.2.0 but this issue suggests it is fixed in 5.1.0 and I don&apos;t believe that to be the case.&lt;/p&gt;</comment>
                            <comment id="12941073" author="bhumphre" created="Sun, 29 Mar 2009 01:08:50 +0000"  >&lt;p&gt;Running the same JUnit test as above, 5.2.0 seems to fix this deadlock issue.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12460920" name="ConnectionPool.java" size="8147" author="jbrosenberg" created="Thu, 7 Feb 2008 05:47:41 +0000"/>
                            <attachment id="12460952" name="DemandForwardingBridgeSupport.java" size="38630" author="chrish" created="Wed, 28 Mar 2007 13:25:45 +0000"/>
                            <attachment id="12460881" name="FailoverTransport.java" size="27425" author="jbrosenberg" created="Thu, 7 Feb 2008 05:47:41 +0000"/>
                            <attachment id="12460892" name="FailoverTransport.java" size="20813" author="chrish" created="Wed, 28 Mar 2007 13:25:48 +0000"/>
                            <attachment id="12460741" name="FailoverTransport_AMQ-1116.patch" size="2781" author="alewando" created="Thu, 17 May 2007 13:45:01 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>84418</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 35 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0s1jz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>161728</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>