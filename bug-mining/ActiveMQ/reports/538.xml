<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 05:39:22 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-2082] Message Groups fail to preserve exclusivity when a new consumer is added.</title>
                <link>https://issues.apache.org/jira/browse/AMQ-2082</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;If a new consumer is added to a running system, the exclusive property of a message group can be temporarily violated.&lt;/p&gt;

&lt;p&gt;Uploading a new unit test. An excerpt of the test results is below, which shows that the message groups GrA and GrB are being handled by both consumers simultaneously.&lt;/p&gt;

&lt;p&gt;15:11:58,498 INFO GroupNewConsumerTest - Con2 got message GrA-5&lt;br/&gt;
15:11:58,560 INFO GroupNewConsumerTest - Con2 got message GrB-5&lt;br/&gt;
15:11:58,560 INFO GroupNewConsumerTest - Con1 got message GrB-3&lt;br/&gt;
15:11:58,623 INFO GroupNewConsumerTest - Con1 got message GrA-4&lt;br/&gt;
15:11:58,623 INFO GroupNewConsumerTest - Con2 got message GrA-6&lt;br/&gt;
15:11:58,685 INFO GroupNewConsumerTest - Con1 got message GrB-4&lt;br/&gt;
15:11:58,685 INFO GroupNewConsumerTest - Con2 got message GrB-6&lt;br/&gt;
15:11:58,748 INFO GroupNewConsumerTest - Con1 got message GrB-7&lt;br/&gt;
15:11:58,748 INFO GroupNewConsumerTest - Con2 got message GrA-7&lt;br/&gt;
15:11:58,810 INFO GroupNewConsumerTest - Con1 got message GrB-8&lt;br/&gt;
15:11:58,810 INFO GroupNewConsumerTest - Con2 got message GrA-8&lt;br/&gt;
15:11:58,873 INFO GroupNewConsumerTest - Con2 got message GrA-9&lt;br/&gt;
15:11:58,935 INFO GroupNewConsumerTest - Con2 got message GrB-9&lt;/p&gt;

&lt;p&gt;This may be the same issue described in:&lt;br/&gt;
&lt;a href=&quot;http://www.nabble.com/Message-groups-not-working-when-consuming-existing-messages-td18445237.html#a18445237&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.nabble.com/Message-groups-not-working-when-consuming-existing-messages-td18445237.html#a18445237&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Note that setting the prefetch to 1 made reproducing the issue much easier. (See the unit test)&lt;br/&gt;
keywords: JMSXGroup JMSXGroupID JMSXGroupSeq&lt;/p&gt;</description>
                <environment>&lt;p&gt;Cent5; Java 6u11; ActiveMQ 5.2;&lt;/p&gt;</environment>
        <key id="12482417">AMQ-2082</key>
            <summary>Message Groups fail to preserve exclusivity when a new consumer is added.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dejanb">Dejan Bosanac</assignee>
                                    <reporter username="ghopper">Gordon Hopper</reporter>
                        <labels>
                    </labels>
                <created>Tue, 20 Jan 2009 20:33:13 +0000</created>
                <updated>Fri, 23 Jan 2009 16:01:13 +0000</updated>
                            <resolved>Fri, 23 Jan 2009 16:01:13 +0000</resolved>
                                    <version>5.2.0</version>
                                    <fixVersion>5.3.0</fixVersion>
                                    <component>Broker</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                                                            <comments>
                            <comment id="12940661" author="ghopper" created="Tue, 20 Jan 2009 20:37:13 +0000"  >&lt;p&gt;After reviewing the test cases and comments from &lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-2016&quot; title=&quot;Message grouping not honored when consumers started with existing messages&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-2016&quot;&gt;&lt;del&gt;AMQ-2016&lt;/del&gt;&lt;/a&gt;, my issue is different enough that I am creating a separate ticket.  Moved my test case to the new ticket.&lt;/p&gt;</comment>
                            <comment id="12940697" author="dejanb" created="Fri, 23 Jan 2009 16:01:13 +0000"  >&lt;p&gt;This has been fixed with a patch for &lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-2016&quot; title=&quot;Message grouping not honored when consumers started with existing messages&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-2016&quot;&gt;&lt;del&gt;AMQ-2016&lt;/del&gt;&lt;/a&gt;. I committed the test case (with a few more small changes) in SVN revision 737062, so we can be sure it doesn&apos;t repeat in the future. The test case is modified a bit, since you shouldn&apos;t start your groups with sequence 0. It will automatically close the group and cause test to fail. Changing it to 1, makes this test pass. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12461273" name="MessageGroupNewConsumerTest.java" size="7303" author="ghopper" created="Tue, 20 Jan 2009 20:33:49 +0000"/>
                    </attachments>
                <subtasks>
                            <subtask id="12483060">AMQ-2016</subtask>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75084</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 44 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i14caf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>233454</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>