<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 06:35:01 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-6275] Error when using ws transport connector</title>
                <link>https://issues.apache.org/jira/browse/AMQ-6275</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;Googled it. Only 20 pages found.&lt;/p&gt;

&lt;p&gt;broker.xml:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;transportConnectors&amp;gt;&lt;/span&gt;
	&lt;span class=&quot;code-tag&quot;&gt;&lt;span class=&quot;code-comment&quot;&gt;&amp;lt;!-- DOS protection, limit concurrent connections to 1000 and frame size to 100MB --&amp;gt;&lt;/span&gt;&lt;/span&gt;
	&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;transportConnector name=&lt;span class=&quot;code-quote&quot;&gt;&quot;openwire&quot;&lt;/span&gt; uri=&lt;span class=&quot;code-quote&quot;&gt;&quot;tcp://0.0.0.0:61616?maximumConnections=1000&amp;amp;amp;wireFormat.maxFrameSize=104857600&quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;
	&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;transportConnector name=&lt;span class=&quot;code-quote&quot;&gt;&quot;websocket&quot;&lt;/span&gt; uri=&lt;span class=&quot;code-quote&quot;&gt;&quot;ws://0.0.0.0:61614&quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;
	&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;transportConnector name=&lt;span class=&quot;code-quote&quot;&gt;&quot;mqtt&quot;&lt;/span&gt; uri=&lt;span class=&quot;code-quote&quot;&gt;&quot;mqtt+nio://0.0.0.0:1883&quot;&lt;/span&gt; /&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/transportConnectors&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;About 43 topics total.&lt;br/&gt;
3 publishers, 1 message per second.&lt;br/&gt;
Firefox subscribed to 39 topics (websocket).&lt;/p&gt;

&lt;p&gt;After few messages received, the following error occurs (Karaf log:tail):&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;
Transport Connection to: ws://x.x.x.x:xxxx failed: java.io.IOException: Blocking message pending 10000 for BLOCKING

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>&lt;p&gt;Server:&lt;br/&gt;
Linux 3.16.0-38-generic x86_64&lt;br/&gt;
Karaf 4.0.5&lt;br/&gt;
Java SDK 1.8.0_91-b14&lt;/p&gt;

&lt;p&gt;Client:&lt;br/&gt;
Linux 3.16.0-38-generic x86_64&lt;br/&gt;
Firefox 45.0.2&lt;br/&gt;
Eclipse Paho JavaScript Client (&lt;a href=&quot;https://raw.githubusercontent.com/eclipse/paho.mqtt.javascript/master/src/mqttws31.js&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://raw.githubusercontent.com/eclipse/paho.mqtt.javascript/master/src/mqttws31.js&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;Also tested with &lt;a href=&quot;http://www.hivemq.com/demos/websocket-client/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.hivemq.com/demos/websocket-client/&lt;/a&gt;&lt;/p&gt;
</environment>
        <key id="12963963">AMQ-6275</key>
            <summary>Error when using ws transport connector</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tabish">Timothy A. Bish</assignee>
                                    <reporter username="sulzbach">Cristiano Jos&#233; Sulzbach</reporter>
                        <labels>
                            <label>karaf</label>
                            <label>websocket</label>
                    </labels>
                <created>Fri, 29 Apr 2016 20:23:26 +0000</created>
                <updated>Thu, 9 Jun 2016 21:33:47 +0000</updated>
                            <resolved>Thu, 9 Jun 2016 16:14:37 +0000</resolved>
                                    <version>5.13.2</version>
                                    <fixVersion>5.13.4</fixVersion>
                    <fixVersion>5.14.0</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="15274040" author="tabish121" created="Fri, 6 May 2016 13:44:15 +0000"  >&lt;p&gt;Were there any additional details in the logs that might help to know what was going on?  Not enough here to really go on. &lt;/p&gt;</comment>
                            <comment id="15274107" author="christopher.l.shannon" created="Fri, 6 May 2016 14:30:42 +0000"  >&lt;p&gt;A full thread dump would be useful as well (jstack -l &amp;lt;pid&amp;gt;) to show what all the threads are doing when messages are being blocked.&lt;/p&gt;</comment>
                            <comment id="15286247" author="dovitch" created="Tue, 17 May 2016 08:57:05 +0000"  >&lt;p&gt;I&apos;ve also the same issue with the last release (5.13.3).&lt;br/&gt;
I&apos;ve tried to change kahaDB configuration in &lt;em&gt;&amp;lt;persistenceAdaptater&amp;gt;&lt;/em&gt; block with adding attribute &quot;&lt;em&gt;indexCacheSize&lt;/em&gt;&quot; with a value of 100000 to test if it changes something. Not at all...&lt;br/&gt;
I still have an error &lt;em&gt;failed: java.io.IOException: Blocking message pending 10000 for BLOCKING&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;I will try a full thread dump to give you more informations if needed!&lt;/p&gt;</comment>
                            <comment id="15319494" author="sulzbach" created="Tue, 7 Jun 2016 21:38:31 +0000"  >&lt;p&gt;Sorry about the delay.&lt;/p&gt;</comment>
                            <comment id="15322773" author="jira-bot" created="Thu, 9 Jun 2016 16:10:15 +0000"  >&lt;p&gt;Commit 98d20008333af380ae05d91036d123501115ab8c in activemq&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tabish121&quot; class=&quot;user-hover&quot; rel=&quot;tabish121&quot;&gt;tabish121&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=98d2000&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=98d2000&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-6275&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/AMQ-6275&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Avoid unnecessary connection state lookup leading to lock ordering&lt;br/&gt;
issues.&lt;/p&gt;</comment>
                            <comment id="15323408" author="jira-bot" created="Thu, 9 Jun 2016 21:33:47 +0000"  >&lt;p&gt;Commit d594248db59995432cdbf8b1866590e1cd8d814e in activemq&apos;s branch refs/heads/activemq-5.13.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tabish121&quot; class=&quot;user-hover&quot; rel=&quot;tabish121&quot;&gt;tabish121&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=d594248&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=d594248&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-6275&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/AMQ-6275&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Avoid unnecessary connection state lookup leading to lock ordering&lt;br/&gt;
issues.&lt;br/&gt;
(cherry picked from commit 98d20008333af380ae05d91036d123501115ab8c)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12808767" name="dump.log" size="87961" author="sulzbach" created="Tue, 7 Jun 2016 21:38:31 +0000"/>
                            <attachment id="12808766" name="karaf.log" size="962092" author="sulzbach" created="Tue, 7 Jun 2016 21:38:31 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2wzfr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>