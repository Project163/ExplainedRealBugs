<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 06:51:31 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-8520] Default maven build does not build all modules</title>
                <link>https://issues.apache.org/jira/browse/AMQ-8520</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;There are some optional modules defined under the profile &quot;full.test&quot;. These modules need to be added by default back to the normal build so they are compiled and installed as there are dependencies on them for other modules. The tests can be skipped by default but the actual modules need to still always be built. This is a problem as now version 5.18 fails to build without old snapshots plus it means all of the testing in CI is using stale snapshots.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13431320">AMQ-8520</key>
            <summary>Default maven build does not build all modules</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cshannon">Christopher L. Shannon</assignee>
                                    <reporter username="cshannon">Christopher L. Shannon</reporter>
                        <labels>
                    </labels>
                <created>Tue, 1 Mar 2022 16:51:10 +0000</created>
                <updated>Fri, 12 Aug 2022 05:51:20 +0000</updated>
                            <resolved>Fri, 12 Aug 2022 05:51:20 +0000</resolved>
                                                    <fixVersion>5.18.0</fixVersion>
                    <fixVersion>5.17.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="12000">3h 20m</timespent>
                                <comments>
                            <comment id="17499659" author="gemmellr" created="Tue, 1 Mar 2022 17:10:47 +0000"  >&lt;p&gt;Related, that unit tests module it requires hasnt been deployed since Nov 2020 when the changes were made to add the Jenkinsfile and change the profile bits, so every test needing it since will have downloaded that stale snapshot.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Separately, the Jenkinsfile doesnt reference the renamed &quot;main&quot; branch and so hasnt deployed any 5.17.0-SNAPSHOT since April 2021 when the branch was renamed. It also doesnt yet reference the new 5.17.x branch either yet and so still wont deploy anything for commits there either.&lt;/p&gt;</comment>
                            <comment id="17499661" author="gemmellr" created="Tue, 1 Mar 2022 17:15:31 +0000"  >&lt;p&gt;Although that may not really be a change from 5.16.x and 5.15.x (which should be removed now) previously, since it looks like it possibly only deploys on success of the earlier tests stages for those and so e.g it isnt deploying anything for them either as those always fail. The main bits were running a reduced set though and passing at times, so they should deploy something if it wasnt gated off by the branch ref comparison being wrong.&lt;/p&gt;</comment>
                            <comment id="17499663" author="gemmellr" created="Tue, 1 Mar 2022 17:20:07 +0000"  >&lt;p&gt;Re: the affects/fix versions, I dont think 5.16.x is affected by the main report of this issue, only 5.17.x.&lt;/p&gt;</comment>
                            <comment id="17500116" author="jbonofre" created="Wed, 2 Mar 2022 12:49:16 +0000"  >&lt;p&gt;Sorry, jumping late. I think 5.16.x is fine (gonna check anyway). Let me check/test PR.&lt;/p&gt;</comment>
                            <comment id="17500203" author="jbonofre" created="Wed, 2 Mar 2022 14:35:27 +0000"  >&lt;p&gt;I confirm that 5.16.x is not impacted, only main/5.17.x. Testing the PR.&lt;/p&gt;</comment>
                            <comment id="17500370" author="jira-bot" created="Wed, 2 Mar 2022 20:04:31 +0000"  >&lt;p&gt;Commit f240cb58067636e1b32d17f8748c8028019da262 in activemq&apos;s branch refs/heads/main from Christopher L. Shannon (cshannon)&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=f240cb5&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=f240cb5&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-8520&quot; title=&quot;Default maven build does not build all modules&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-8520&quot;&gt;&lt;del&gt;AMQ-8520&lt;/del&gt;&lt;/a&gt;: Re-enable all modules to compile and build by default&lt;/p&gt;

&lt;p&gt;Updates the modules part of the previous full.test profile to always&lt;br/&gt;
build but skip running tests by default.&lt;/p&gt;

&lt;p&gt;Also fixed miss dependency updates including log4j and jetty&lt;/p&gt;</comment>
                            <comment id="17500371" author="jira-bot" created="Wed, 2 Mar 2022 20:04:31 +0000"  >&lt;p&gt;Commit c1b35058d3b3fd388aa714af0726e4063fa9d7e1 in activemq&apos;s branch refs/heads/main from Christopher L. Shannon&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=c1b3505&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=c1b3505&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Merge pull request #787 from cshannon/&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-8520&quot; title=&quot;Default maven build does not build all modules&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-8520&quot;&gt;&lt;del&gt;AMQ-8520&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-8520&quot; title=&quot;Default maven build does not build all modules&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-8520&quot;&gt;&lt;del&gt;AMQ-8520&lt;/del&gt;&lt;/a&gt;: Re-enable all modules to compile and build by default&lt;/p&gt;</comment>
                            <comment id="17501046" author="jira-bot" created="Thu, 3 Mar 2022 21:25:18 +0000"  >&lt;p&gt;Commit 7ec5254bb59924b09d124fc19c797c2587bceea6 in activemq&apos;s branch refs/heads/main from Matt Pavlovich&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=7ec5254&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=7ec5254&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-8520&quot; title=&quot;Default maven build does not build all modules&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-8520&quot;&gt;&lt;del&gt;AMQ-8520&lt;/del&gt;&lt;/a&gt; WIP: Convert activemq-unit-tests to log4j2&lt;/p&gt;</comment>
                            <comment id="17501047" author="jira-bot" created="Thu, 3 Mar 2022 21:25:19 +0000"  >&lt;p&gt;Commit ae30dce4e24ce5e0467d2a3219627cbefef1f0ae in activemq&apos;s branch refs/heads/main from Christopher L. Shannon (cshannon)&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=ae30dce&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=ae30dce&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-8520&quot; title=&quot;Default maven build does not build all modules&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-8520&quot;&gt;&lt;del&gt;AMQ-8520&lt;/del&gt;&lt;/a&gt;: Log4j2 test fixes&lt;/p&gt;

&lt;p&gt;Also fixes Log4jConfigView&lt;/p&gt;</comment>
                            <comment id="17501055" author="jira-bot" created="Thu, 3 Mar 2022 21:59:11 +0000"  >&lt;p&gt;Commit efe3f5b7d4aefc715e0228452c23d1603b3e2c48 in activemq&apos;s branch refs/heads/activemq-5.17.x from Christopher L. Shannon (cshannon)&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=efe3f5b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=efe3f5b&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-8520&quot; title=&quot;Default maven build does not build all modules&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-8520&quot;&gt;&lt;del&gt;AMQ-8520&lt;/del&gt;&lt;/a&gt;: Re-enable all modules to compile and build by default&lt;/p&gt;

&lt;p&gt;Updates the modules part of the previous full.test profile to always&lt;br/&gt;
build but skip running tests by default.&lt;/p&gt;

&lt;p&gt;Also fixed miss dependency updates including log4j and jetty&lt;/p&gt;

&lt;p&gt;(cherry picked from commit f240cb58067636e1b32d17f8748c8028019da262)&lt;/p&gt;</comment>
                            <comment id="17501056" author="jira-bot" created="Thu, 3 Mar 2022 21:59:12 +0000"  >&lt;p&gt;Commit 4d662648beab43e20331f46ee2b5e30120544c5e in activemq&apos;s branch refs/heads/activemq-5.17.x from Matt Pavlovich&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=4d66264&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=4d66264&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-8520&quot; title=&quot;Default maven build does not build all modules&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-8520&quot;&gt;&lt;del&gt;AMQ-8520&lt;/del&gt;&lt;/a&gt; WIP: Convert activemq-unit-tests to log4j2&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 7ec5254bb59924b09d124fc19c797c2587bceea6)&lt;/p&gt;</comment>
                            <comment id="17501057" author="jira-bot" created="Thu, 3 Mar 2022 21:59:12 +0000"  >&lt;p&gt;Commit da9e5276f1a20699bedf4c16229c96d6fc69e00f in activemq&apos;s branch refs/heads/activemq-5.17.x from Christopher L. Shannon (cshannon)&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=da9e527&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=da9e527&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-8520&quot; title=&quot;Default maven build does not build all modules&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-8520&quot;&gt;&lt;del&gt;AMQ-8520&lt;/del&gt;&lt;/a&gt;: Log4j2 test fixes&lt;/p&gt;

&lt;p&gt;Also fixes Log4jConfigView&lt;/p&gt;

&lt;p&gt;(cherry picked from commit ae30dce4e24ce5e0467d2a3219627cbefef1f0ae)&lt;/p&gt;</comment>
                            <comment id="17501059" author="christopher.l.shannon" created="Thu, 3 Mar 2022 22:03:09 +0000"  >&lt;p&gt;main branch and 5.17.x are now building again.&lt;/p&gt;

&lt;p&gt;The last thing we should do is to pick a default profile for activemq-unit-tests to run when tests are run (vs currently skipping all tests) and then we can close this out&lt;/p&gt;</comment>
                            <comment id="17524734" author="jbonofre" created="Wed, 20 Apr 2022 05:50:56 +0000"  >&lt;p&gt;I guess this one is fixed right ?&lt;/p&gt;</comment>
                            <comment id="17524806" author="gemmellr" created="Wed, 20 Apr 2022 08:37:58 +0000"  >&lt;p&gt;Looks like there was some more related commits (e.g &lt;a href=&quot;https://github.com/apache/activemq/commit/c4d9d70987d1a59868e46837110ff16546c2dbc6&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/activemq/commit/c4d9d70987d1a59868e46837110ff16546c2dbc6&lt;/a&gt; and &lt;a href=&quot;https://github.com/apache/activemq/commit/15a2f3de2c87f305f640321ed5d79b31a416d67b)&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/activemq/commit/15a2f3de2c87f305f640321ed5d79b31a416d67b)&lt;/a&gt; that closed out the test side yes, even before 5.17.0.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;I&apos;d note the earliest comments though about stale snapshots, from the issues of tying their deployment to the success of test runs that rarely pass. There have only been three 5.18.0 snapshots deployed in total it seems, with none deployed between March 4th and April 10th despite a variety of commits in that time, and only 1 in the last 9 days despite all the activity. Worse, no 5.17.1 or 5.16.5 snapshot has &lt;em&gt;ever&lt;/em&gt; been deployed yet in the several weeks since the prior releases.&lt;/p&gt;</comment>
                            <comment id="17524987" author="jbonofre" created="Wed, 20 Apr 2022 13:19:26 +0000"  >&lt;p&gt;I think unit-test should be on a dedicated profile we execute only weekly for instance. The problem right now is that the full build is so long that it times out on Jenkins, preventing to deploy SNAPSHOTs.&lt;/p&gt;</comment>
                            <comment id="17525015" author="gemmellr" created="Wed, 20 Apr 2022 14:03:48 +0000"  >&lt;p&gt;Looking at Jenkins its mostly test failure rather than timeout/abort that stops it deploying.&lt;/p&gt;

&lt;p&gt;In any case, wasnt suggesting it needs to run everything every time, the systests are clearly ridiculous for use in that regard. Just noting that the deployment looks like it needs changed as its just useless in its present state. Either e.g move deploy before the tests in that job, or to a seperate job entirely, with just &apos;if it builds it deploys&apos; behaviour [maybe throwing in the actual unit, not system, tests)...or just stop deploying entirely as it already mostly doesnt do it anyway.&lt;/p&gt;</comment>
                            <comment id="17525017" author="jbonofre" created="Wed, 20 Apr 2022 14:08:06 +0000"  >&lt;p&gt;The last builds about PR were timed out (that&apos;s true we had build failure up to last week end).&lt;/p&gt;

&lt;p&gt;I agree, my preference would be to run and deploy without test, and run tests after (it&apos;s what I do on Karaf for instance).&lt;/p&gt;</comment>
                            <comment id="17525066" author="gemmellr" created="Wed, 20 Apr 2022 15:14:40 +0000"  >&lt;p&gt;I was only looking at the main/5.17.x/5.16.x branch jobs that actually do deployments. The PR runs already never deploy anything for obvious reasons.&lt;/p&gt;</comment>
                            <comment id="17525127" author="jbonofre" created="Wed, 20 Apr 2022 17:00:14 +0000"  >&lt;p&gt;Yeah for the deploy. But the pr build time out. So if it times out on pr, there&#8217;s good chance it times out on main and so no deployment.&#160;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 29 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1027c:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>