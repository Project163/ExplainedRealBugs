<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 05:38:27 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-1952] JMSXDeliveryCount is not being incremented correctly</title>
                <link>https://issues.apache.org/jira/browse/AMQ-1952</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;There seems to be a problem with respect to the Redelivered and JMSXDeliveryCount&lt;br/&gt;
properties, in that these properties are being incremented even when the message&lt;br/&gt;
has never been re-delivered to the consumer (i.e. on initial message delivery).&lt;/p&gt;

&lt;p&gt;The behavior appears to be happening when there is &amp;gt; 1 messages in the queue,&lt;br/&gt;
the second message and subsequent messages show the redelivered property set to true and&lt;br/&gt;
JMSXDeliverCount property with a number greater than 1, when those messages have not been&lt;br/&gt;
re-delivered before.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12482782">AMQ-1952</key>
            <summary>JMSXDeliveryCount is not being incremented correctly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gtully">Gary Tully</assignee>
                                    <reporter username="chirino">Hiram R. Chirino</reporter>
                        <labels>
                    </labels>
                <created>Wed, 24 Sep 2008 20:34:34 +0000</created>
                <updated>Fri, 15 Sep 2023 14:04:57 +0000</updated>
                            <resolved>Thu, 5 Feb 2009 13:38:10 +0000</resolved>
                                    <version>5.2.0</version>
                                                    <component>Broker</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="12940239" author="chirino" created="Wed, 24 Sep 2008 20:36:58 +0000"  >&lt;p&gt;I think we may need to extend the wire protocol a bit to gracefully handle this. When the consumer closes, it should let the broker know the last message id that was delivered to the client. That way the broker can mark all the messages between the last one acked and the last one delivered to the client as being redelivered and the rest would not get marked as being redelivered.&lt;/p&gt;

&lt;p&gt;But even without the wire protocol change, this case should work today if the prefetch is set to 0. &lt;/p&gt;</comment>
                            <comment id="12940254" author="chirino" created="Wed, 24 Sep 2008 20:37:32 +0000"  >&lt;p&gt;Commit rev 698719 should fix it so that it works for prefetch size 0&lt;/p&gt;</comment>
                            <comment id="12940655" author="gtully" created="Tue, 13 Jan 2009 18:16:54 +0000"  >&lt;p&gt;reopening so that this gets on the radar for 6.0 - add the additional attribute to the close message so a grace full close will not result in a redelivery increment.&lt;/p&gt;</comment>
                            <comment id="12940656" author="gtully" created="Tue, 13 Jan 2009 18:17:48 +0000"  >&lt;p&gt;we can update the wireformat for 6.0 to support a fix for this.&lt;/p&gt;</comment>
                            <comment id="12940720" author="gtully" created="Thu, 5 Feb 2009 13:38:10 +0000"  >&lt;p&gt;resolved by &lt;a href=&quot;https://issues.apache.org/activemq/browse/AMQ-2087&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://issues.apache.org/activemq/browse/AMQ-2087&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310051">
                    <name>Supercedes</name>
                                                                <inwardlinks description="is superceded by">
                                        <issuelink>
            <issuekey id="12482763">AMQ-2087</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75161</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 42 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0alun:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>59813</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>