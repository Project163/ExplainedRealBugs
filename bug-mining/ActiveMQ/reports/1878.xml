<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 05:59:14 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-4501] Failover priorityBackup doesn&apos;t work if client accepts updates to its list of known URIs from the broker.</title>
                <link>https://issues.apache.org/jira/browse/AMQ-4501</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;If a client has priorityBackup enabled and connects to a broker in a cluster with updateClusterClients=&quot;true&quot; in its transport connector, the client ignores the priorityBackup flag it connects to any URI received from the broker, even if that URI doesn&apos;t have priority.&lt;/p&gt;

&lt;p&gt;This is easy to reproduce adding a test case to the activemq-unit-tests/src/test/java/org/apache/activemq/transport/failover/FailoverPriorityTest.java test suite.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Mac OSX 10.6.8&lt;br/&gt;
java version &quot;1.6.0_43&quot;&lt;/p&gt;</environment>
        <key id="12645557">AMQ-4501</key>
            <summary>Failover priorityBackup doesn&apos;t work if client accepts updates to its list of known URIs from the broker.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tabish">Timothy A. Bish</assignee>
                                    <reporter username="carlospollo11">Carlos de la Torre</reporter>
                        <labels>
                    </labels>
                <created>Tue, 30 Apr 2013 23:52:28 +0000</created>
                <updated>Wed, 1 May 2013 20:55:20 +0000</updated>
                            <resolved>Wed, 1 May 2013 20:55:20 +0000</resolved>
                                    <version>5.8.0</version>
                                    <fixVersion>5.9.0</fixVersion>
                                    <component>JMS client</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13646185" author="carlospollo11" created="Wed, 1 May 2013 00:04:34 +0000"  >&lt;p&gt;This test case is very similar to testPriorityBackup. The only difference is that when the transport connectors are created, the cluster flag is set to true which basically creates the connector with updateClusterClients=&quot;true&quot; rebalanceClusterClients=&quot;true&quot; updateClusterClientsOnRemove=&quot;true&quot;.&lt;/p&gt;</comment>
                            <comment id="13646645" author="tabish121" created="Wed, 1 May 2013 15:27:54 +0000"  >&lt;p&gt;I see one issue so far in Failover transport at least in relation to his test case.  The client uses a string compare of the connected transport URI against the first in the connect list, which can be different if for instance the client is configured with &quot;tcp://localhost:61616&quot; and the broker sends the resolved &quot;tcp://127.0.0.1:61616&quot;.  In that case the client incorrectly reconnects thinking it needs to make a change when in fact its already on the right one.&lt;/p&gt;</comment>
                            <comment id="13646919" author="tabish121" created="Wed, 1 May 2013 20:55:20 +0000"  >&lt;p&gt;Fixed on trunk.  In practice its fine to have the clients updated with new brokers but you really don&apos;t want to combine priority backup and cluster rebalance as the clients that are on the priority backup will ignore any rebalance requests. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12581285" name="AMQ-4501-TestcaseToReproduce.patch" size="2017" author="carlospollo11" created="Wed, 1 May 2013 00:10:27 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>325918</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 29 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1k87r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>326263</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>