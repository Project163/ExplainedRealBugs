<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 06:23:33 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-5996] Durable subscription no updated when reactivated sub changes noLocal value</title>
                <link>https://issues.apache.org/jira/browse/AMQ-5996</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;When a durable subscription that was offline is reactivated and the selector or noLocal value is changed the subscription is supposed to be removed and re-added as if it was a new subscription.  We currently handle the selector part to a certain extent but the DurableSubscription instance that backs the offline durable sub contains a selectorExpression that is not updated so subscription will not apply the new selector value unless the broker was restarted before the reactivation.  &lt;/p&gt;

&lt;p&gt;We don&apos;t as of yet handle the change of noLocal on the subscription due to the fact that prior to v5.12.0 the value was not stored in the persistence layer.  Now that we store the noLocal value we can check that along with the selector and update the subscription, which also needs to update the selectorExpression as the noLocal value is filtered via its own expression on the selector chain.  &lt;/p&gt;</description>
                <environment></environment>
        <key id="12902000">AMQ-5996</key>
            <summary>Durable subscription no updated when reactivated sub changes noLocal value</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tabish">Timothy A. Bish</assignee>
                                    <reporter username="tabish">Timothy A. Bish</reporter>
                        <labels>
                    </labels>
                <created>Thu, 1 Oct 2015 21:26:34 +0000</created>
                <updated>Wed, 21 Sep 2016 13:36:37 +0000</updated>
                            <resolved>Sat, 3 Oct 2015 23:59:12 +0000</resolved>
                                    <version>5.10.2</version>
                    <version>5.11.2</version>
                    <version>5.12.0</version>
                                    <fixVersion>5.12.1</fixVersion>
                    <fixVersion>5.13.0</fixVersion>
                                    <component>Broker</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14940590" author="jira-bot" created="Thu, 1 Oct 2015 23:25:01 +0000"  >&lt;p&gt;Commit 81b4b9ae3d17c83c42c17290348e2aed6f17d28b in activemq&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tabish121&quot; class=&quot;user-hover&quot; rel=&quot;tabish121&quot;&gt;tabish121&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=81b4b9a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=81b4b9a&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-5996&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/AMQ-5996&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;When possible check for noLocl changes on durable subscription&lt;br/&gt;
reactivation and recreate the durable sub if it changes.  For both&lt;br/&gt;
selector change and noLocal change also update the AbstractSubscription&lt;br/&gt;
selectorExpression so it matches with what was requested. &lt;/p&gt;</comment>
                            <comment id="14940593" author="jira-bot" created="Thu, 1 Oct 2015 23:31:34 +0000"  >&lt;p&gt;Commit 82a2c0553a97cc087ddfceeddef0ea677d39ee9d in activemq&apos;s branch refs/heads/activemq-5.12.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tabish121&quot; class=&quot;user-hover&quot; rel=&quot;tabish121&quot;&gt;tabish121&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=82a2c05&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=82a2c05&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-5996&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/AMQ-5996&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;When possible check for noLocl changes on durable subscription&lt;br/&gt;
reactivation and recreate the durable sub if it changes.  For both&lt;br/&gt;
selector change and noLocal change also update the AbstractSubscription&lt;br/&gt;
selectorExpression so it matches with what was requested.&lt;br/&gt;
(cherry picked from commit 81b4b9ae3d17c83c42c17290348e2aed6f17d28b)&lt;/p&gt;</comment>
                            <comment id="14942506" author="tabish121" created="Sat, 3 Oct 2015 23:59:12 +0000"  >&lt;p&gt;Changes added, tests still stable so doesn&apos;t seem to have broken anything. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13005198">AMQ-6430</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 7 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2mipb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>