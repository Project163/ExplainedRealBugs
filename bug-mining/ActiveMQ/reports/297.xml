<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 05:34:53 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-1591] When using a JDBC based database locker in an Master/Slave configuration, the lock is not updated.</title>
                <link>https://issues.apache.org/jira/browse/AMQ-1591</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;The lockKeepAlivePeriod field was intialized to 0 and no accessors are provided to initialize it.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12482304">AMQ-1591</key>
            <summary>When using a JDBC based database locker in an Master/Slave configuration, the lock is not updated.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="chirino">Hiram R. Chirino</assignee>
                                    <reporter username="chirino">Hiram R. Chirino</reporter>
                        <labels>
                    </labels>
                <created>Wed, 20 Feb 2008 22:04:13 +0000</created>
                <updated>Mon, 25 Feb 2008 03:24:18 +0000</updated>
                            <resolved>Mon, 25 Feb 2008 03:24:18 +0000</resolved>
                                    <version>5.0.0</version>
                                    <fixVersion>5.1.0</fixVersion>
                                    <component>Broker</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12939338" author="chirino" created="Wed, 20 Feb 2008 22:14:49 +0000"  >&lt;p&gt;The lockKeepAlivePeriod is now initialized to 30 seconds and accessors have been added so this can now be configured.&lt;/p&gt;</comment>
                            <comment id="12939327" author="dave_stanley" created="Mon, 25 Feb 2008 03:24:18 +0000"  >&lt;p&gt;The DB lock is getting refreshed correctly now.&lt;/p&gt;

&lt;p&gt;One symptom of this bug was that when using a mySQL backed store, the lock would expire (due to inactivity) after about 12 hours. If the broker was setup as a master-slave, the slave would try and become the master but this would fail as the master was still listening ...&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;INFO  DefaultDatabaseLocker          - Attempting to acquire the exclusive lock 
to become the Master broker
INFO  DefaultDatabaseLocker          - Becoming the master on dataSource: org.ap
ache.commons.dbcp.BasicDataSource@16917ee
ERROR BrokerService                  - Failed to start ActiveMQ JMS Message Brok
er. Reason: java.io.IOException: Transport Connector could not be registered in 
JMX: Failed to bind to server socket: tcp:&lt;span class=&quot;code-comment&quot;&gt;//localhost:61616 due to: java.net.Bin
&lt;/span&gt;dException: Address already in use
java.io.IOException: Transport Connector could not be registered in JMX: Failed 
to bind to server socket: tcp:&lt;span class=&quot;code-comment&quot;&gt;//localhost:61616 due to: java.net.BindException: 
&lt;/span&gt;Address already in use
        at org.apache.activemq.util.IOExceptionSupport.create(IOExceptionSupport
.java:27)
        at org.apache.activemq.broker.BrokerService.registerConnectorMBean(Broke
rService.java:1298)
        at org.apache.activemq.broker.BrokerService.startTransportConnector(Brok
erService.java:1744)
        at org.apache.activemq.broker.BrokerService.startAllConnectors(BrokerSer
vice.java:1695)
        at org.apache.activemq.broker.BrokerService.start(BrokerService.java:439
)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;/Dave&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>84640</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 40 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i14bm7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>233345</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>