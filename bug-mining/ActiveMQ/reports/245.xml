<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 05:34:11 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-1445] RecoveryListenerAdapter - Message id ID... could not be recovered from the data store!</title>
                <link>https://issues.apache.org/jira/browse/AMQ-1445</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;My application works correctly with JDBC persistence using derby, or indeed with no persistence turned on.&lt;/p&gt;

&lt;p&gt;If I use the AMQ store however, very early on in the application&apos;s run, I get the following error, and then my application hangs.  This happens for both the VM and TCP transports.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;VMTransport&amp;#93;&lt;/span&gt; 35346 ERROR org.apache.activemq.store.amq.RecoveryListenerAdapter - Message id ID:tamarama-60079-1191564856100-2:2:3:3:4 could not be recovered from the data store!&lt;/p&gt;

&lt;p&gt;I have attached a debug trace of the application, which shows the lifetime of message tamarama-60079-1191564856100-2:2:3:3:4.&lt;/p&gt;

</description>
                <environment></environment>
        <key id="12482248">AMQ-1445</key>
            <summary>RecoveryListenerAdapter - Message id ID... could not be recovered from the data store!</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rajdavies">Robert Davies</assignee>
                                    <reporter username="sits">David Sitsky</reporter>
                        <labels>
                    </labels>
                <created>Fri, 5 Oct 2007 06:30:24 +0000</created>
                <updated>Mon, 21 Jan 2008 14:52:27 +0000</updated>
                            <resolved>Mon, 21 Jan 2008 14:52:27 +0000</resolved>
                                    <version>5.0.0</version>
                                    <fixVersion>5.1.0</fixVersion>
                                    <component>Message Store</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>2</watches>
                                                                                                                                                            <comments>
                            <comment id="12939069" author="sits" created="Fri, 5 Oct 2007 06:38:35 +0000"  >&lt;p&gt;Forgot to mention: I observed this behaviour with revision 582029.&lt;/p&gt;

</comment>
                            <comment id="12936972" author="rajdavies" created="Sun, 7 Oct 2007 04:42:50 +0000"  >&lt;p&gt;Fixed by revision 582574&lt;/p&gt;</comment>
                            <comment id="12936999" author="sits" created="Mon, 8 Oct 2007 01:46:05 +0000"  >&lt;p&gt;Hi Rob,&lt;/p&gt;

&lt;p&gt;Many thanks - I can confirm that this has fixed the issue.&lt;/p&gt;

&lt;p&gt;Cheers,&lt;br/&gt;
David&lt;/p&gt;</comment>
                            <comment id="12939312" author="lhotari" created="Fri, 18 Jan 2008 15:54:44 +0000"  >&lt;p&gt;I have this same problem with ActiveMQ 5.0.0 version that I downloaded 2 days ago. I don&apos;t think that this is fixed in the release build.&lt;/p&gt;

&lt;p&gt;The log has only this row:&lt;br/&gt;
2008-01-18 17:29:10,769 &lt;span class=&quot;error&quot;&gt;&amp;#91;/127.0.0.1:2257&amp;#93;&lt;/span&gt; ERROR RecoveryListenerAdapter        - Message id ID:mycomputer-2250-1200669948525-0:1:30:8:1 could not be recovered from the data store!&lt;/p&gt;

&lt;p&gt;ActiveMQ stalls after I do this: send 300 message to a queue, another app replies to each message to another queue.  There&apos;s a short delay and I after I try again it will always stall after the 1. message. Really strange. Restarting ActiveMQ doesn&apos;t help. The data directory has to be deleted.&lt;br/&gt;
The messages sent to the queue are non-persistent. I&apos;m using Kaha store.&lt;/p&gt;

&lt;p&gt;Both sides are using Jencks + ActiveMQ RA + Spring TransactionTemplate + JdbcTemplate. The receiving side uses Jencks POJO (inbound) + JDBCTemplate (Jencks outbound configuration), inside XA transaction using Spring Transaction configuration for Jencks. I tested with non-persistent and persistent messages and the result is the same.&lt;/p&gt;

&lt;p&gt;I also tried Jdbc persistence (derby), but then some messages are lost (EOFException on client before problem, server side says that some acknowledge cannot be matched).&lt;/p&gt;

&lt;p&gt;Maybe Jencks is causing problems? Are there test cases that use Jencks + ActiveMQ RA?&lt;/p&gt;</comment>
                            <comment id="12939288" author="lhotari" created="Fri, 18 Jan 2008 17:59:09 +0000"  >&lt;p&gt;Some other people also have this problem:&lt;br/&gt;
&lt;a href=&quot;http://www.nabble.com/5.0-release-having-%22RecoveryListenerAdapter%22-error-that-stop-msg-fetching-tp14423016s2354p14423016.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.nabble.com/5.0-release-having-%22RecoveryListenerAdapter%22-error-that-stop-msg-fetching-tp14423016s2354p14423016.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12939275" author="lhotari" created="Fri, 18 Jan 2008 18:03:00 +0000"  >&lt;p&gt;maybe this is the same problem. it also contains a test case.&lt;/p&gt;</comment>
                            <comment id="12939255" author="rajdavies" created="Mon, 21 Jan 2008 14:52:27 +0000"  >&lt;p&gt;Resolved in trunk&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12460900" name="ASF.LICENSE.NOT.GRANTED--log.txt" size="173047" author="sits" created="Fri, 5 Oct 2007 06:30:24 +0000"/>
                    </attachments>
                <subtasks>
                            <subtask id="12481947">AMQ-1544</subtask>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>84691</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 45 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rzvz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>161458</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>