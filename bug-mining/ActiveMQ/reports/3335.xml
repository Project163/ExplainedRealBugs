<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 06:49:58 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-7121] IntrospectionSupport.setProperty should call method.setAccessible(true)</title>
                <link>https://issues.apache.org/jira/browse/AMQ-7121</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;We are trying to run a broker in JDK 11 and run into the following exception:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2018-12-07 12:44:41,363 ERROR main o.a.a.u.IntrospectionSupport Could not set property soTimeout on ServerSocket[addr=/0:0:0:0:0:0:0:0,localport=9505]
java.lang.IllegalAccessException: &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;org.apache.activemq.util.IntrospectionSupport cannot access a member of &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;sun.nio.ch.ServerSocketAdaptor (in module java.base) with modifiers &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt;&quot;&lt;/span&gt;
at java.base/jdk.internal.reflect.Reflection.newIllegalAccessException(Reflection.java:361)
at java.base/java.lang.reflect.AccessibleObject.checkAccess(AccessibleObject.java:591)
at java.base/java.lang.reflect.Method.invoke(Method.java:558)
at org.apache.activemq.util.IntrospectionSupport.setProperty(IntrospectionSupport.java:184)
at org.apache.activemq.util.IntrospectionSupport.setProperties(IntrospectionSupport.java:155)
at org.apache.activemq.transport.tcp.TcpTransportServer.configureServerSocket(TcpTransportServer.java:187)
at org.apache.activemq.transport.tcp.TcpTransportServer.bind(TcpTransportServer.java:142)
at org.apache.activemq.transport.tcp.TcpTransportFactory.doBind(TcpTransportFactory.java:62)
at org.apache.activemq.transport.TransportFactorySupport.bind(TransportFactorySupport.java:40)
at org.apache.activemq.broker.TransportConnector.createTransportServer(TransportConnector.java:318)
at org.apache.activemq.broker.TransportConnector.getServer(TransportConnector.java:141)&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Note that we also see&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Could not set property reuseAddress ...&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;These are caused by &lt;tt&gt;sun.nio.ch.ServerSocketAdaptor&lt;/tt&gt;&#160;becoming a non-public class in JDK 11 (if not earlier).&lt;/p&gt;

&lt;p&gt;It can be fixed simply by having &lt;tt&gt;IntrospectionSupport.setProperty&lt;/tt&gt;&#160;call &lt;tt&gt;setter.setAccessible(true)&lt;/tt&gt;&#160;before it invokes any methods on it.&lt;/p&gt;

&lt;p&gt;Otherwise we find our local broker runs perfectly fine.&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13203030">AMQ-7121</key>
            <summary>IntrospectionSupport.setProperty should call method.setAccessible(true)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jbonofre">Jean-Baptiste Onofr&#233;</assignee>
                                    <reporter username="ollierob">Ollie Robertshaw</reporter>
                        <labels>
                    </labels>
                <created>Fri, 7 Dec 2018 12:51:32 +0000</created>
                <updated>Tue, 23 Jun 2020 04:38:10 +0000</updated>
                            <resolved>Tue, 23 Jun 2020 04:38:10 +0000</resolved>
                                    <version>5.15.8</version>
                                    <fixVersion>5.16.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                    <workratio workratioPercent="1000"/>
                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="10" backgroundColor="#89afd7"/>
                                                    <row percentage="90" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="10" backgroundColor="#89afd7"/>
                                                    <row percentage="90" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="120">2m</timeoriginalestimate>
                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="16715280" author="christopher.l.shannon" created="Mon, 10 Dec 2018 18:15:05 +0000"  >&lt;p&gt;This can be addressed as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-7087&quot; title=&quot;Add Java 11 Support (runtime)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-7087&quot;&gt;&lt;del&gt;AMQ-7087&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17142626" author="jira-bot" created="Tue, 23 Jun 2020 04:38:00 +0000"  >&lt;p&gt;Commit 88525ce650e0843b555b1ef45834435ef719d2f6 in activemq&apos;s branch refs/heads/master from jbonofre&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=88525ce&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=88525ce&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-7121&quot; title=&quot;IntrospectionSupport.setProperty should call method.setAccessible(true)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-7121&quot;&gt;&lt;del&gt;AMQ-7121&lt;/del&gt;&lt;/a&gt; Set setter accessible (for JDK 11)&lt;/p&gt;</comment>
                            <comment id="17142627" author="jira-bot" created="Tue, 23 Jun 2020 04:38:01 +0000"  >&lt;p&gt;Commit f4dbb74048b8769e237c05f6f1b8b67c72b9e953 in activemq&apos;s branch refs/heads/master from Jean-Baptiste Onofr&#233;&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=f4dbb74&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=f4dbb74&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Merge pull request #545 from jbonofre/&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-7121&quot; title=&quot;IntrospectionSupport.setProperty should call method.setAccessible(true)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-7121&quot;&gt;&lt;del&gt;AMQ-7121&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-7121&quot; title=&quot;IntrospectionSupport.setProperty should call method.setAccessible(true)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-7121&quot;&gt;&lt;del&gt;AMQ-7121&lt;/del&gt;&lt;/a&gt; Set setter accessible (for JDK 11)&lt;/p&gt;</comment>
                            <comment id="17142628" author="jira-bot" created="Tue, 23 Jun 2020 04:38:03 +0000"  >&lt;p&gt;Commit f4dbb74048b8769e237c05f6f1b8b67c72b9e953 in activemq&apos;s branch refs/heads/master from Jean-Baptiste Onofr&#233;&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=f4dbb74&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=f4dbb74&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Merge pull request #545 from jbonofre/&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-7121&quot; title=&quot;IntrospectionSupport.setProperty should call method.setAccessible(true)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-7121&quot;&gt;&lt;del&gt;AMQ-7121&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-7121&quot; title=&quot;IntrospectionSupport.setProperty should call method.setAccessible(true)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-7121&quot;&gt;&lt;del&gt;AMQ-7121&lt;/del&gt;&lt;/a&gt; Set setter accessible (for JDK 11)&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12640319">AMQ-4428</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13194282">AMQ-7087</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12951192" name="AMQ-7121_Set_accessible.patch" size="1740" author="ollierob" created="Mon, 10 Dec 2018 12:45:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 21 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310041" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Patch Info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10042"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|s01a48:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>