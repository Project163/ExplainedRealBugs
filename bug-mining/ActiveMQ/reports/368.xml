<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 05:37:05 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-1747] Writing to predefined destinations without admin priviledges</title>
                <link>https://issues.apache.org/jira/browse/AMQ-1747</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;Trying to write to predefined destinations without admin privileges raises &quot;cannot create destination&quot; exception. More info could be foundin the folllowinf thread - &lt;a href=&quot;http://www.nabble.com/Secutiry-and-Predefined-Destinations-tt17370190s2354.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.nabble.com/Secutiry-and-Predefined-Destinations-tt17370190s2354.html&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12481882">AMQ-1747</key>
            <summary>Writing to predefined destinations without admin priviledges</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rajdavies">Robert Davies</assignee>
                                    <reporter username="dejanb">Dejan Bosanac</reporter>
                        <labels>
                    </labels>
                <created>Tue, 27 May 2008 12:12:55 +0000</created>
                <updated>Mon, 5 Jan 2009 11:30:04 +0000</updated>
                            <resolved>Tue, 27 May 2008 13:55:43 +0000</resolved>
                                    <version>5.1.0</version>
                                    <fixVersion>5.2.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12939738" author="rajdavies" created="Tue, 27 May 2008 13:55:43 +0000"  >&lt;p&gt;Patch applied in SVN revision 660517&lt;/p&gt;</comment>
                            <comment id="12940567" author="danbucatanschi" created="Fri, 12 Dec 2008 02:55:28 +0000"  >&lt;p&gt;Hi! I am writing a custom authorization and authentication plugin for the lab where I am working. Because I still do not fully understand what happens behind the scenes in ActiveMQ, I usually browse the ActiveMQ source code and the latest snapshots so that I can keep our security plugin up to date with the latest patches that the AuthorizationBroker gets here. So looking here, I saw this patch for this issue. I was just wondering if instead of:&lt;/p&gt;

&lt;p&gt;return existing;&lt;/p&gt;

&lt;p&gt;inside the if statement (looking at the diff with the previous version of the AuthorizationBroker.java), one should write:&lt;/p&gt;

&lt;p&gt;return super.addDestination(context, destination);&lt;/p&gt;

&lt;p&gt;just like it is at the end of the addDestination method in AuthorizationBroker. It makes sense to me to do that since we&apos;re not just trying to add a user to an already existing destination, but we should also &quot;announce&quot; this addition throughout the whole BrokerFilter stack, shouldn&apos;t we? This way, for example, Advisory topics also get updated with the fact that this user tried adding this destination for herself. I assume that other BrokerFilters rely on this behavior (that addDestination() gets called for every user requesting a destination successfully).&lt;/p&gt;

&lt;p&gt;Or do I have this totally wrong and the addDestination method should only be used for adding destinations inside the broker, not to a user&apos;s connection? If that&apos;s the case, why is it that the issue described here appeared in the first place? Isn&apos;t the broker trying to create a destination (i.e. addDestination gets called) automatically for every new user requesting it?&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
-Dan&lt;/p&gt;</comment>
                            <comment id="12940634" author="dejanb" created="Mon, 5 Jan 2009 11:30:03 +0000"  >&lt;p&gt;Hi Dan,&lt;/p&gt;

&lt;p&gt;strictly speaking your suggestion is right, so I committed the change in SVN revision 731529. As for advisories, they are not going to be fired for every addDestination call, but just when destinations are created for the first time. But it makes sense to propagate the call through all filters.&lt;/p&gt;

&lt;p&gt;Cheers&lt;br/&gt;
Dejan&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12461139" name="activemq-predefined.patch" size="3708" author="dejanb" created="Tue, 27 May 2008 12:13:13 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>84782</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 47 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0s2rz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>161926</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>