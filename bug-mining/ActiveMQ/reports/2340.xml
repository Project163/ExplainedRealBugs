<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 06:05:32 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-5306] Composite destination creation in perf test always builds topics</title>
                <link>https://issues.apache.org/jira/browse/AMQ-5306</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;When the performance test is triggered via the following flags, the resulting test run sends messages to two topics, as opposed to queues:&lt;/p&gt;

&lt;p&gt;mvn activemq-perf:producer -Dproducer.composite=true -DsysTest.totalDests=2 -Dproducer.destName=queue://foo&lt;/p&gt;

&lt;p&gt;Messages will be sent to topic://foo.0 and topic://foo.1.&lt;/p&gt;

&lt;p&gt;Pull request incoming.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12731718">AMQ-5306</key>
            <summary>Composite destination creation in perf test always builds topics</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jkorab">Jakub Korab</reporter>
                        <labels>
                    </labels>
                <created>Mon, 4 Aug 2014 12:00:00 +0000</created>
                <updated>Tue, 5 Aug 2014 00:36:51 +0000</updated>
                            <resolved>Tue, 5 Aug 2014 00:33:37 +0000</resolved>
                                    <version>5.10.0</version>
                                    <fixVersion>5.11.0</fixVersion>
                                    <component>Performance Test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14084749" author="githubbot" created="Mon, 4 Aug 2014 15:05:33 +0000"  >&lt;p&gt;GitHub user jkorab opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/activemq/pull/39&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/activemq/pull/39&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-5306&quot; title=&quot;Composite destination creation in perf test always builds topics&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-5306&quot;&gt;&lt;del&gt;AMQ-5306&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Cleaned up logic around the use of comma separated destinations, sysTest.totalDests and producer.destComposite. The logic is as follows:&lt;/p&gt;

&lt;p&gt;    Given -Dproducer.destName=foo:&lt;br/&gt;
    default (-DsysTest.totalDests=1)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;publishes to 1 destination - foo&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    -DsysTest.totalDests=2&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;publishes to 2 destinations - foo.0, foo.1&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    Given -Dproducer.destName=foo,cheese:&lt;br/&gt;
    default (-Dproducer.destComposite=false -DsysTest.totalDests=1)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;publishes to 2 destinations - foo and cheese&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    (-Dproducer.destComposite=false) -DsysTest.totalDests=2&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;publishes to 4 destinations - foo.0, foo.1 and cheese.0, cheese.1&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    -Dproducer.destComposite=true (-DsysTest.totalDests=1)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;publishes to 1 composite destination - &quot;foo,cheese&quot;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    -Dproducer.destComposite=true -DsysTest.totalDests=2&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;publishes to 1 composite destination - &quot;foo.0,foo.1,cheese.0,cheese.1&quot;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/jkorab/activemq&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/jkorab/activemq&lt;/a&gt; trunk&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/activemq/pull/39.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/activemq/pull/39.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #39&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 1702265c73296955a1c2baf72d405a805efe8cd9&lt;br/&gt;
Author: jkorab &amp;lt;jakub.korab@gmail.com&amp;gt;&lt;br/&gt;
Date:   2014-07-31T16:15:03Z&lt;/p&gt;

&lt;p&gt;    Modified so that single-destination tests do not append a numerical prefix.&lt;/p&gt;

&lt;p&gt;commit 42ac31d04ddddfc23bdc6718ae6d80e40dc4f772&lt;br/&gt;
Author: jkorab &amp;lt;jakub.korab@gmail.com&amp;gt;&lt;br/&gt;
Date:   2014-07-31T16:37:34Z&lt;/p&gt;

&lt;p&gt;    Unified the logic for appending numerical prefixes between normal one-off destinations and composite destinations. Fixed composite destination construction logic that created 2 destinations when sysTest.totalDests was 1 or 2.&lt;/p&gt;

&lt;p&gt;commit 1b69f1c8bc020261b498ba0867b4abf0c3b33b3c&lt;br/&gt;
Author: jkorab &amp;lt;jakub.korab@gmail.com&amp;gt;&lt;br/&gt;
Date:   2014-08-04T10:53:36Z&lt;/p&gt;

&lt;p&gt;    Merge remote-tracking branch &apos;upstream/trunk&apos; into trunk&lt;/p&gt;

&lt;p&gt;commit a6c8c15f2ae666725b846e2008d7a80dd9cfbe3e&lt;br/&gt;
Author: jkorab &amp;lt;jakub.korab@gmail.com&amp;gt;&lt;br/&gt;
Date:   2014-08-04T14:09:55Z&lt;/p&gt;

&lt;p&gt;    Fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-5306&quot; title=&quot;Composite destination creation in perf test always builds topics&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-5306&quot;&gt;&lt;del&gt;AMQ-5306&lt;/del&gt;&lt;/a&gt;. Cleaned up logic around the creation of multiple and composite destinations. Added tests.&lt;/p&gt;

&lt;p&gt;commit 4e04d434f87ef4389e316c37d0a74e847e71c1d8&lt;br/&gt;
Author: jkorab &amp;lt;jakub.korab@gmail.com&amp;gt;&lt;br/&gt;
Date:   2014-08-04T14:55:29Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-5306&quot; title=&quot;Composite destination creation in perf test always builds topics&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-5306&quot;&gt;&lt;del&gt;AMQ-5306&lt;/del&gt;&lt;/a&gt; Added logic for use case where 2 comma separated dests are named, and composite = true&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14085568" author="tabish121" created="Tue, 5 Aug 2014 00:33:37 +0000"  >&lt;p&gt;patch applied.&lt;/p&gt;</comment>
                            <comment id="14085571" author="githubbot" created="Tue, 5 Aug 2014 00:36:51 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/activemq/pull/39&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/activemq/pull/39&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>409747</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 16 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1yhyn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>409739</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>