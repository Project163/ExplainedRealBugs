<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 06:51:59 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-9026] ActiveMQ unable to run offline with Karaf</title>
                <link>https://issues.apache.org/jira/browse/AMQ-9026</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;When trying to start an ActiveMq broker using an XML configuration file in Karaf from an environment that does not have internet access, the broker fails to start because it can not resolve the spring-beans.xsd file.&lt;/p&gt;

&lt;p&gt;This is similar to the situation reported in &lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-7258&quot; title=&quot;ActiveMQ does not start if Karaf is offline (SAXParseException)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-7258&quot;&gt;&lt;del&gt;AMQ-7258&lt;/del&gt;&lt;/a&gt;, but the workaround of loading the spring-legacy feature does not work as result of the upgrade to Spring 5.x done in &lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-8026&quot; title=&quot;Upgrade to Spring 5.x&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-8026&quot;&gt;&lt;del&gt;AMQ-8026&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The root cause is that activemq-osgi bundle&apos;s mapping in the spring.schemas file for the http schemalocations do not match the name of the XSDs that are embedded in the spring-beans bundle for spring version 5. It looks like all the version numbers were removed in from the xsd file name for version 5.&lt;/p&gt;

&lt;p&gt;Workaround:&lt;/p&gt;

&lt;p&gt;To work around this problem without manually modifying the contents of the spring.schemas file within the activemq-osgi bundle (which does work, just to prove this was root cause), is to modify the schema location within the activemq.xml file to use a classpath definition. For example, use the following&lt;/p&gt;

&lt;p&gt;xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans classpath:org/springframework/beans/factory/xml/spring-beans.xsd&lt;/p&gt;

&lt;p&gt;instead of of the standard&lt;/p&gt;

&lt;p&gt;xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans &lt;a href=&quot;http://www.springframework.org/schema/beans/spring-beans.xsd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.springframework.org/schema/beans/spring-beans.xsd&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13476614">AMQ-9026</key>
            <summary>ActiveMQ unable to run offline with Karaf</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jbonofre">Jean-Baptiste Onofr&#233;</assignee>
                                    <reporter username="gmccone">George McCone</reporter>
                        <labels>
                    </labels>
                <created>Fri, 12 Aug 2022 21:05:14 +0000</created>
                <updated>Tue, 23 Aug 2022 05:50:03 +0000</updated>
                            <resolved>Tue, 23 Aug 2022 05:50:03 +0000</resolved>
                                    <version>5.17.0</version>
                                    <fixVersion>5.18.0</fixVersion>
                    <fixVersion>5.17.2</fixVersion>
                                    <component>OSGi/Karaf</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="600">10m</timespent>
                                <comments>
                            <comment id="17583375" author="jira-bot" created="Tue, 23 Aug 2022 05:49:22 +0000"  >&lt;p&gt;Commit 64ff517f0be8e92620d978ac3c25dc67fa980967 in activemq&apos;s branch refs/heads/main from Jean-Baptiste Onofr&#233;&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=64ff517f0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=64ff517f0&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-9026&quot; title=&quot;ActiveMQ unable to run offline with Karaf&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-9026&quot;&gt;&lt;del&gt;AMQ-9026&lt;/del&gt;&lt;/a&gt; Use Spring 5.x namespace location in activemq-osgi&lt;/p&gt;</comment>
                            <comment id="17583376" author="jira-bot" created="Tue, 23 Aug 2022 05:49:23 +0000"  >&lt;p&gt;Commit c4a3e3b0f1f94390b69b3e798ddac7cd87c6bd81 in activemq&apos;s branch refs/heads/main from Jean-Baptiste Onofr&#233;&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=c4a3e3b0f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=c4a3e3b0f&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Merge pull request #897 from jbonofre/&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-9026&quot; title=&quot;ActiveMQ unable to run offline with Karaf&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-9026&quot;&gt;&lt;del&gt;AMQ-9026&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-9026&quot; title=&quot;ActiveMQ unable to run offline with Karaf&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-9026&quot;&gt;&lt;del&gt;AMQ-9026&lt;/del&gt;&lt;/a&gt; Use Spring 5.x namespace location in activemq-osgi&lt;/p&gt;</comment>
                            <comment id="17583378" author="jira-bot" created="Tue, 23 Aug 2022 05:49:57 +0000"  >&lt;p&gt;Commit 18608d2196ea755c6fac6c090081635b60b2e36a in activemq&apos;s branch refs/heads/activemq-5.17.x from Jean-Baptiste Onofr&#233;&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=18608d219&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=18608d219&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-9026&quot; title=&quot;ActiveMQ unable to run offline with Karaf&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-9026&quot;&gt;&lt;del&gt;AMQ-9026&lt;/del&gt;&lt;/a&gt; Use Spring 5.x namespace location in activemq-osgi&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 64ff517f0be8e92620d978ac3c25dc67fa980967)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 12 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z17q0o:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>