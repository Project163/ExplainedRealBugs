<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 06:00:38 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-2021] durable subscriber gets stuck while using persistent delivery mode and client acknowledgment with session.recover().</title>
                <link>https://issues.apache.org/jira/browse/AMQ-2021</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;Using two topic durable subscribers which consume every odd message and recover their session if message number is even one of the durable subscriper after couple hundred messages get stuck and  java.lang.NullPointerException is shown on provider console.&lt;/p&gt;

&lt;p&gt;Reproducing steps:&lt;br/&gt;
1. start amq server using default configuration.&lt;br/&gt;
2. run TopicRedeliver.&lt;br/&gt;
3. run TopicProducer.&lt;/p&gt;

&lt;p&gt;Discovered during test of  &lt;a href=&quot;https://issues.apache.org/activemq/browse/AMQ-1797&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://issues.apache.org/activemq/browse/AMQ-1797&lt;/a&gt; .&lt;br/&gt;
See attached logs and java files. &lt;/p&gt;


</description>
                <environment>&lt;p&gt;WinXP,&lt;br/&gt;
java version &quot;1.6.0_05&quot;&lt;br/&gt;
Java(TM) SE Runtime Environment (build 1.6.0_05-b13)&lt;br/&gt;
Java HotSpot(TM) Client VM (build 10.0-b19, mixed mode, sharing) &lt;/p&gt;</environment>
        <key id="12482754">AMQ-2021</key>
            <summary>durable subscriber gets stuck while using persistent delivery mode and client acknowledgment with session.recover().</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gtully">Gary Tully</assignee>
                                    <reporter username="durokuruc">Juraj Kuruc</reporter>
                        <labels>
                    </labels>
                <created>Tue, 2 Dec 2008 13:03:26 +0000</created>
                <updated>Wed, 31 Jul 2013 11:51:52 +0000</updated>
                            <resolved>Tue, 23 Dec 2008 17:04:54 +0000</resolved>
                                    <version>5.2.0</version>
                                    <fixVersion>5.3.0</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12940617" author="gtully" created="Tue, 23 Dec 2008 17:04:54 +0000"  >&lt;p&gt;resolved in r729038.&lt;br/&gt;
Problem is in dispatch to the DLQ for topics. A property is set in the message before dispatch to the DLQ but this can invalidate the message for delivery to other topic subscribers. The failure can be a little odd as it can result in empty properties at the consumer or marshal errors.&lt;br/&gt;
The solution is to copy the message before making modifications.&lt;/p&gt;</comment>
                            <comment id="12940589" author="gtully" created="Tue, 23 Dec 2008 17:06:17 +0000"  >&lt;p&gt;ps: thanks for the test case &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; I committed a variant of it that catches the various failure scenarios.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12502046">AMQ-3236</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12461224" name="amq2021.zip" size="45863" author="durokuruc" created="Tue, 2 Dec 2008 13:05:29 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75120</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 49 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rzyf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>161469</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>