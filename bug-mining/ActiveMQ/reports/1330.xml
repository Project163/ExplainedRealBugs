<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 05:51:56 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-1132] activeio test package inclusion and logging properties</title>
                <link>https://issues.apache.org/jira/browse/AMQ-1132</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;When you include activemq-core as a dependency on an empty project, even simplest examples fails with&lt;/p&gt;

&lt;p&gt;java.io.FileNotFoundException: /target/test.log (No such file or directory)&lt;/p&gt;

&lt;p&gt;exception.&lt;/p&gt;

&lt;p&gt;First of all, the core package includes dependency on activeio-core test jar &lt;/p&gt;

&lt;p&gt;    &amp;lt;dependency&amp;gt;&lt;br/&gt;
      &amp;lt;groupId&amp;gt;${pom.groupId}&amp;lt;/groupId&amp;gt;&lt;br/&gt;
      &amp;lt;artifactId&amp;gt;activeio-core&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
      &amp;lt;optional&amp;gt;false&amp;lt;/optional&amp;gt;&lt;br/&gt;
      &amp;lt;type&amp;gt;test-jar&amp;lt;/type&amp;gt;&lt;br/&gt;
    &amp;lt;/dependency&amp;gt;&lt;/p&gt;

&lt;p&gt;for which I&apos;m not sure is needed.&lt;br/&gt;
Second, in this test activeio package logging.properties is configured so that root logger writes into ${basedir}/target/test.log, which causes application to fail. It would be better to set it to write to stdout by default.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12483319">AMQ-1132</key>
            <summary>activeio test package inclusion and logging properties</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="dejanb">Dejan Bosanac</reporter>
                        <labels>
                    </labels>
                <created>Wed, 17 Jan 2007 11:02:27 +0000</created>
                <updated>Wed, 5 Sep 2012 13:15:32 +0000</updated>
                            <resolved>Fri, 14 Oct 2011 13:42:03 +0000</resolved>
                                    <version>incubation</version>
                                    <fixVersion>5.6.0</fixVersion>
                                        <due></due>
                            <votes>6</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="12939432" author="gmazza" created="Mon, 7 Apr 2008 17:22:27 +0000"  >&lt;p&gt;This is an annoying, ugly bug.  Even the Camel samples&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; are returning this error trace before continuing:&lt;/p&gt;

&lt;p&gt;log4j:ERROR setFile(null,true) call failed.&lt;br/&gt;
java.io.FileNotFoundException: /target/test.log (No such file or directory)&lt;br/&gt;
        at java.io.FileOutputStream.openAppend(Native Method)&lt;br/&gt;
        at java.io.FileOutputStream.&amp;lt;init&amp;gt;(FileOutputStream.java:177)&lt;br/&gt;
        at java.io.FileOutputStream.&amp;lt;init&amp;gt;(FileOutputStream.java:102)&lt;br/&gt;
        at org.apache.log4j.FileAppender.setFile(FileAppender.java:289)&lt;br/&gt;
        at org.apache.log4j.FileAppender.activateOptions(FileAppender.java:163)&lt;br/&gt;
        at org.apache.log4j.config.PropertySetter.activate(PropertySetter.java:256)&lt;br/&gt;
        at org.apache.log4j.config.PropertySetter.setProperties(PropertySetter.java:132)&lt;br/&gt;
        at org.apache.log4j.config.PropertySetter.setProperties(PropertySetter.java:96)&lt;br/&gt;
        at org.apache.log4j.PropertyConfigurator.parseAppender(PropertyConfigurator.java:654)&lt;br/&gt;
        at org.apache.log4j.PropertyConfigurator.parseCategory(PropertyConfigurator.java:612)&lt;br/&gt;
        at org.apache.log4j.PropertyConfigurator.configureRootCategory(PropertyConfigurator.java:509)&lt;br/&gt;
        at org.apache.log4j.PropertyConfigurator.doConfigure(PropertyConfigurator.java:415)&lt;br/&gt;
        at org.apache.log4j.PropertyConfigurator.doConfigure(PropertyConfigurator.java:441)&lt;br/&gt;
        at org.apache.log4j.helpers.OptionConverter.selectAndConfigure(OptionConverter.java:468)&lt;br/&gt;
        at org.apache.log4j.LogManager.&amp;lt;clinit&amp;gt;(LogManager.java:122)&lt;br/&gt;
        at org.apache.log4j.Logger.getLogger(Logger.java:104)&lt;br/&gt;
        at org.apache.commons.logging.impl.Log4JLogger.getLogger(Log4JLogger.java:229)&lt;br/&gt;
        at org.apache.commons.logging.impl.Log4JLogger.&amp;lt;init&amp;gt;(Log4JLogger.java:65)&lt;br/&gt;
        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)&lt;br/&gt;
        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)&lt;br/&gt;
        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)&lt;br/&gt;
        at java.lang.reflect.Constructor.newInstance(Constructor.java:494)&lt;br/&gt;
        at org.apache.commons.logging.impl.LogFactoryImpl.newInstance(LogFactoryImpl.java:529)&lt;br/&gt;
        at org.apache.commons.logging.impl.LogFactoryImpl.getInstance(LogFactoryImpl.java:235)&lt;br/&gt;
        at org.apache.commons.logging.impl.LogFactoryImpl.getInstance(LogFactoryImpl.java:209)&lt;br/&gt;
        at org.apache.commons.logging.LogFactory.getLog(LogFactory.java:351)&lt;br/&gt;
        at org.apache.camel.impl.DefaultCamelContext.&amp;lt;clinit&amp;gt;(DefaultCamelContext.java:64)&lt;br/&gt;
        at org.apache.camel.example.jmstofile.CamelJmsToFileExample.main(CamelJmsToFileExample.java:44)&lt;/p&gt;

&lt;p&gt;If it would mean turning off this error, perhaps best to go to stdout by default as the OP says or just trapping this message with a more user-friendly exception.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://svn.apache.org/viewvc/activemq/camel/trunk/examples/camel-example-jms-file/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc/activemq/camel/trunk/examples/camel-example-jms-file/&lt;/a&gt; (run &quot;mvn clean install&quot; followed by mvn exec:java.)&lt;/p&gt;</comment>
                            <comment id="12939723" author="jamie" created="Mon, 26 May 2008 14:20:23 +0000"  >&lt;p&gt;if you&apos;re using maven, this is a workaround:&lt;/p&gt;

&lt;p&gt;   &amp;lt;dependency&amp;gt;&lt;br/&gt;
     &amp;lt;groupId&amp;gt;org.apache.activemq&amp;lt;/groupId&amp;gt;&lt;br/&gt;
     &amp;lt;artifactId&amp;gt;activemq-core&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
     &amp;lt;version&amp;gt;5.1.0&amp;lt;/version&amp;gt;&lt;br/&gt;
     &amp;lt;exclusions&amp;gt;&lt;br/&gt;
       &amp;lt;exclusion&amp;gt;&lt;br/&gt;
         &amp;lt;groupId&amp;gt;org.apache.activemq&amp;lt;/groupId&amp;gt;&lt;br/&gt;
         &amp;lt;artifactId&amp;gt;activeio-core&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
       &amp;lt;/exclusion&amp;gt;&lt;br/&gt;
     &amp;lt;/exclusions&amp;gt;&lt;br/&gt;
   &amp;lt;/dependency&amp;gt;&lt;br/&gt;
   &amp;lt;dependency&amp;gt;&lt;br/&gt;
     &amp;lt;groupId&amp;gt;org.apache.activemq&amp;lt;/groupId&amp;gt;&lt;br/&gt;
     &amp;lt;artifactId&amp;gt;activeio-core&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
     &amp;lt;version&amp;gt;3.1.0&amp;lt;/version&amp;gt;&lt;br/&gt;
   &amp;lt;/dependency&amp;gt;&lt;/p&gt;</comment>
                            <comment id="12940054" author="pieteriserbyt" created="Mon, 18 Aug 2008 15:11:41 +0000"  >&lt;p&gt;In my case, upgrading to maven 2.0.9 fixed my issues. The test jar is still included, but does not trigger the log4j problem somehow (don&apos;t ask me why, I&apos;m totally confused).&lt;/p&gt;</comment>
                            <comment id="12941937" author="wguttmn" created="Thu, 10 Dec 2009 19:36:16 +0000"  >&lt;p&gt;Actually, running into this problem again using Maven 2.1.0, and I don&apos;t think it&apos;s actually related to Maven at all.&lt;/p&gt;

&lt;p&gt;In our case, the second (test) dependency causes some ugly behaviour with log4j initialization in our environment, as it contains a &lt;tt&gt;log4j.properties&lt;/tt&gt; file. When &apos;&apos;introduced&apos;&apos; into a web container in our case, you start relying on the sequence of how JARs are loaded. In our case, this &lt;tt&gt;log4j.properties&lt;/tt&gt; unfortunately initialized log4j in such a way that our project logging settings never were applied, as the ones from activeio-core had been picked up before. And that made it hard for us - during a functional testing period - to diagnose problems we had as we lost parts of our logging messages.&lt;/p&gt;

&lt;p&gt;Can anybody pretty please look into this and have it fixed for 5.4.0 ?&lt;/p&gt;</comment>
                            <comment id="13127158" author="tabish121" created="Thu, 13 Oct 2011 23:52:19 +0000"  >&lt;p&gt;The only reason we need to have the activeio test.jar in for the tests is for the JournalPerfTool and JournalPerfRWTool classes which aren&apos;t actually unit tests, should we move these someplace else so we can remove the test.jar dependency?&lt;/p&gt;</comment>
                            <comment id="13127352" author="dejanb" created="Fri, 14 Oct 2011 08:07:52 +0000"  >&lt;p&gt;Yeah, I think we should do that.&lt;/p&gt;</comment>
                            <comment id="13127545" author="tabish121" created="Fri, 14 Oct 2011 13:42:03 +0000"  >&lt;p&gt;Fix applied in trunk removed the dependency on the test.jar from activeio&lt;/p&gt;</comment>
                            <comment id="13448703" author="computerfresher@gmail.com" created="Wed, 5 Sep 2012 13:15:32 +0000"  >&lt;p&gt;Hi Friends&lt;/p&gt;


&lt;p&gt;This workaround as suggested by Jamie(please see below) is not working, please suggest some other way out. I am stuck &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;dependency&amp;gt;&lt;br/&gt;
&amp;lt;groupId&amp;gt;org.apache.activemq&amp;lt;/groupId&amp;gt;&lt;br/&gt;
&amp;lt;artifactId&amp;gt;activemq-core&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
&amp;lt;version&amp;gt;5.1.0&amp;lt;/version&amp;gt;&lt;br/&gt;
&amp;lt;exclusions&amp;gt;&lt;br/&gt;
&amp;lt;exclusion&amp;gt;&lt;br/&gt;
&amp;lt;groupId&amp;gt;org.apache.activemq&amp;lt;/groupId&amp;gt;&lt;br/&gt;
&amp;lt;artifactId&amp;gt;activeio-core&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
&amp;lt;/exclusion&amp;gt;&lt;br/&gt;
&amp;lt;/exclusions&amp;gt;&lt;br/&gt;
&amp;lt;/dependency&amp;gt;&lt;br/&gt;
&amp;lt;dependency&amp;gt;&lt;br/&gt;
&amp;lt;groupId&amp;gt;org.apache.activemq&amp;lt;/groupId&amp;gt;&lt;br/&gt;
&amp;lt;artifactId&amp;gt;activeio-core&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
&amp;lt;version&amp;gt;3.1.0&amp;lt;/version&amp;gt;&lt;br/&gt;
&amp;lt;/dependency&amp;gt;&lt;/p&gt;



&lt;p&gt;Thanks&lt;br/&gt;
Saurabh&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12483715">AMQ-2211</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>84248</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 11 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0akw7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>59658</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>