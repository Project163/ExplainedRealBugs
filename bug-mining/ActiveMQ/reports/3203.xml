<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 06:45:02 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-6780] New Postgres JDBC-Driver not recognized</title>
                <link>https://issues.apache.org/jira/browse/AMQ-6780</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;After our switch of the postgres-jdbc-driver from version 9.4-1201 to 42.1.3 the JDBCPersistenceAdapter does not recognize postgres any more. &lt;br/&gt;
The log:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;new driver&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;2017-07-31 19:35:52,733 [INFO ] 259-949-060 [JDBCPersistenceAdapter : loadAdapter] - Database adapter driver override not found &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; : [postgresql_jdbc_driver].  Will use &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; implementation.
2017-07-31 19:35:52,765 [WARN ] 259-949-060 [DefaultJDBCAdapter : executeStatement] - Could not create JDBC tables; they could already exist. Failure was: CREATE TABLE ACTIVEMQ_MSGS(ID BIGINT NOT NULL, CONTAINER VARCHAR(250) NOT NULL, MSGID_PROD VARCHAR(250), MSGID_SEQ BIGINT, EXPIRATION BIGINT, MSG BLOB, PRIMARY KEY ( ID ) ) Message: ERROR: type &lt;span class=&quot;code-quote&quot;&gt;&quot;blob&quot;&lt;/span&gt; does not exist
  Position: 147 SQLState: 42704 Vendor code: 0
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;old driver&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;2017-07-31 19:37:21,021 [INFO ] 11b-e48-c83 [JDBCPersistenceAdapter : loadAdapter] - Database adapter driver override recognized &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; : [postgresql_native_driver] - adapter: &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;org.apache.activemq.store.jdbc.adapter.PostgresqlJDBCAdapter
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The cause is the change of the name from &quot;postgres_native_driver&quot; to &quot;postgres_jdbc_driver&quot; (getDriverName() now returns &quot;PostgreSQL JDBC Driver&quot;). The PostgresqlJDBCAdapter uses the name to find the class. &lt;br/&gt;
Our workaround is to add a file &quot;postgres_jdbc_driver&quot; to &quot;META-INF/services/org/apache/activemq/store/jdbc&quot; in the &quot;activemq-jdbc-store-5.15.0.jar&quot;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13091503">AMQ-6780</key>
            <summary>New Postgres JDBC-Driver not recognized</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jbonofre">Jean-Baptiste Onofr&#233;</assignee>
                                    <reporter username="chk.futura">Ch.Krauss</reporter>
                        <labels>
                            <label>postgresql</label>
                    </labels>
                <created>Tue, 1 Aug 2017 10:40:39 +0000</created>
                <updated>Fri, 19 Oct 2018 05:18:38 +0000</updated>
                            <resolved>Fri, 19 Oct 2018 05:18:38 +0000</resolved>
                                    <version>5.15.0</version>
                                    <fixVersion>5.15.7</fixVersion>
                    <fixVersion>5.16.0</fixVersion>
                                    <component>JDBC</component>
                        <due></due>
                            <votes>2</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="16488579" author="netmikey" created="Thu, 24 May 2018 07:28:47 +0000"  >&lt;p&gt;This is biting us as well now.&lt;/p&gt;

&lt;p&gt;Am I missing something, or is this major issue unresolved for about a year now?&lt;/p&gt;</comment>
                            <comment id="16505919" author="davidedg" created="Fri, 8 Jun 2018 10:58:14 +0000"  >&lt;p&gt;Hello all,&lt;/p&gt;

&lt;p&gt;I can confirm the issue (tested with AMQ 5.15.3 on Postgres 10.3 + postgresql-42.2.2.jar).&lt;/p&gt;

&lt;p&gt;I can also confirm the solution provided by the file attached by the OP.&lt;/p&gt;

&lt;p&gt;As far as I can see - this could be &lt;ins&gt;&lt;em&gt;easily&lt;/em&gt;&lt;/ins&gt; closed - can we expect the fix to be included in the next version ?&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Thank you.&lt;/p&gt;

&lt;p&gt;Bye!&lt;/p&gt;</comment>
                            <comment id="16656255" author="githubbot" created="Fri, 19 Oct 2018 04:15:48 +0000"  >&lt;p&gt;GitHub user jbonofre opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/activemq/pull/311&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/activemq/pull/311&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-6780&quot; title=&quot;New Postgres JDBC-Driver not recognized&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-6780&quot;&gt;&lt;del&gt;AMQ-6780&lt;/del&gt;&lt;/a&gt; Add PostgreSQL version JDBC driver name in jdbc store services&lt;/p&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/jbonofre/activemq&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/jbonofre/activemq&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-6780&quot; title=&quot;New Postgres JDBC-Driver not recognized&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-6780&quot;&gt;&lt;del&gt;AMQ-6780&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/activemq/pull/311.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/activemq/pull/311.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #311&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 46f8deeb67623e095622debac18f53d736cb3bcc&lt;br/&gt;
Author: Jean-Baptiste Onofr&#233; &amp;lt;jbonofre@...&amp;gt;&lt;br/&gt;
Date:   2018-10-19T04:11:14Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-6780&quot; title=&quot;New Postgres JDBC-Driver not recognized&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-6780&quot;&gt;&lt;del&gt;AMQ-6780&lt;/del&gt;&lt;/a&gt; Add PostgreSQL version JDBC driver name in jdbc store services&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16656279" author="jira-bot" created="Fri, 19 Oct 2018 05:18:07 +0000"  >&lt;p&gt;Commit 46f8deeb67623e095622debac18f53d736cb3bcc in activemq&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jb%40nanthrax.net&quot; class=&quot;user-hover&quot; rel=&quot;jb@nanthrax.net&quot;&gt;jb@nanthrax.net&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=46f8dee&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=46f8dee&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-6780&quot; title=&quot;New Postgres JDBC-Driver not recognized&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-6780&quot;&gt;&lt;del&gt;AMQ-6780&lt;/del&gt;&lt;/a&gt; Add PostgreSQL version JDBC driver name in jdbc store services&lt;/p&gt;</comment>
                            <comment id="16656280" author="jira-bot" created="Fri, 19 Oct 2018 05:18:09 +0000"  >&lt;p&gt;Commit dc36c19c811dcaab07c27d6f2a0dcdd90f856d3f in activemq&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jb%40nanthrax.net&quot; class=&quot;user-hover&quot; rel=&quot;jb@nanthrax.net&quot;&gt;jb@nanthrax.net&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=dc36c19&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=dc36c19&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-6780&quot; title=&quot;New Postgres JDBC-Driver not recognized&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-6780&quot;&gt;&lt;del&gt;AMQ-6780&lt;/del&gt;&lt;/a&gt; This closes #311&lt;/p&gt;</comment>
                            <comment id="16656281" author="githubbot" created="Fri, 19 Oct 2018 05:18:26 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/activemq/pull/311&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/activemq/pull/311&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16656283" author="jira-bot" created="Fri, 19 Oct 2018 05:18:33 +0000"  >&lt;p&gt;Commit ab41382b0e1627ab1a76b1a9f802810281ed955f in activemq&apos;s branch refs/heads/activemq-5.15.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jb%40nanthrax.net&quot; class=&quot;user-hover&quot; rel=&quot;jb@nanthrax.net&quot;&gt;jb@nanthrax.net&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=ab41382&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=ab41382&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-6780&quot; title=&quot;New Postgres JDBC-Driver not recognized&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-6780&quot;&gt;&lt;del&gt;AMQ-6780&lt;/del&gt;&lt;/a&gt; Add PostgreSQL version JDBC driver name in jdbc store services&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12879807" name="postgresql_jdbc_driver" size="1017" author="chk.futura" created="Tue, 1 Aug 2017 11:07:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 4 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3i9an:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>