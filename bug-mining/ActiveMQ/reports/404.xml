<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 05:37:36 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-1585] Problems with pure master/slave configuration</title>
                <link>https://issues.apache.org/jira/browse/AMQ-1585</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;As posted in the AMQ user forum:&lt;br/&gt;
&lt;a href=&quot;http://www.nabble.com/Problems-with-Pure-Master-Slave-in-AMQ-5.0.0-to15471491s2354.html#a15474769&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.nabble.com/Problems-with-Pure-Master-Slave-in-AMQ-5.0.0-to15471491s2354.html#a15474769&lt;/a&gt;&lt;br/&gt;
-------------------&lt;br/&gt;
Hi all,&lt;/p&gt;

&lt;p&gt;I am having trouble setting up a &lt;b&gt;stable&lt;/b&gt; ActiveMQ Pure Master/Slave topology.&lt;/p&gt;

&lt;p&gt;Initially I have tried v4.1.1 which failed with an exception. I found an AMQ JIRA ticket which said that Pure/Master slave didn&apos;t work in v4.1.1.&lt;br/&gt;
Ok, so I switched to AMQ 5.0.0, created 2 configs (master/slave, see end of message) and ran two AMQ instances (on the same box) and most of the times my test (see below) worked, but more often I get various error messages like:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;On the slave:&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;ERROR Service                        - Async error occurred: javax.jms.JMSException: Slave broker out of sync with master: Dispatched message (ID:tbuckel-desktop-41814-1202886136210-0:0:565:1:1) was not in the pending list&lt;br/&gt;
javax.jms.JMSException: Slave broker out of sync with master: Dispatched message (ID:tbuckel-desktop-41814-1202886136210-0:0:565:1:1) was not in the pending list&lt;br/&gt;
        at org.apache.activemq.broker.region.PrefetchSubscription.processMessageDispatchNotification(PrefetchSubscription.java:160)&lt;br/&gt;
        at org.apache.activemq.broker.region.AbstractRegion.processDispatchNotification(AbstractRegion.java:381)&lt;br/&gt;
        at org.apache.activemq.broker.region.RegionBroker.processDispatchNotification(RegionBroker.java:550)&lt;br/&gt;
        at org.apache.activemq.broker.BrokerFilter.processDispatchNotification(BrokerFilter.java:201)&lt;br/&gt;
        at org.apache.activemq.broker.BrokerFilter.processDispatchNotification(BrokerFilter.java:201)&lt;br/&gt;
        at org.apache.activemq.broker.BrokerFilter.processDispatchNotification(BrokerFilter.java:201)&lt;br/&gt;
        at org.apache.activemq.broker.MutableBrokerFilter.processDispatchNotification(MutableBrokerFilter.java:211)&lt;br/&gt;
        at org.apache.activemq.broker.TransportConnection.processMessageDispatchNotification(TransportConnection.java:450)&lt;br/&gt;
        at org.apache.activemq.command.MessageDispatchNotification.visit(MessageDispatchNotification.java:77)&lt;br/&gt;
        at org.apache.activemq.broker.TransportConnection.service(TransportConnection.java:281)&lt;br/&gt;
        at org.apache.activemq.broker.TransportConnection$1.onCommand(TransportConnection.java:178)&lt;br/&gt;
        at org.apache.activemq.transport.ResponseCorrelator.onCommand(ResponseCorrelator.java:100)&lt;br/&gt;
        at org.apache.activemq.transport.TransportFilter.onCommand(TransportFilter.java:67)&lt;br/&gt;
        at org.apache.activemq.transport.vm.VMTransport.iterate(VMTransport.java:202)&lt;br/&gt;
        at org.apache.activemq.thread.DedicatedTaskRunner.runTask(DedicatedTaskRunner.java:98)&lt;br/&gt;
        at org.apache.activemq.thread.DedicatedTaskRunner$1.run(DedicatedTaskRunner.java:36)&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;After having killed the master, stopped the slave, copied the slave&apos;s data into the master&apos;s data directory various error message came up (as described in the Master/Slave recovery section), e.g. (internal) ActiveMQ topics were not available, the admin webApp showed exceptions and errors on the client.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The test I&apos;ve created uses Spring 2.0.x and pumps 1000 MapMessages in a queue through Spring&apos;s JmsTempate, each message is created within its own transaction, using JmsTransactionManager and TransactionTemplate.&lt;br/&gt;
The created messages are consumed by an initially instantiated transactional DefaultMessageListenerContainer. The AMQ JARs in the test&apos;s classpath are activemq-core-5.0.0.jar, geronimo-jms_1.1_spec-1.0.jar, geronimo-jta_1.0.1B_spec-1.0.jar as I&apos;ve noticed a really bad performance when only using the activemq-all-5.0.0.jar (maybe this is the problem?).&lt;br/&gt;
The test code work&apos;s without problems with OpenMQ, but I&apos;d prefer using the nice Pure Master/Active ActiveMQ if I can get it running in a &lt;b&gt;stable&lt;/b&gt; config &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;I would highly appreciate any help or suggestions. Maybe my config is wrong or I miss something essential. I&apos;ve also tried a recent AMQ 5.1 SNAPSHOT which wasn&apos;t better...&lt;/p&gt;

&lt;p&gt;See below for the small program i used to test (no unit test, behaviour appeared to be non deterministic to me and it&apos;s not so nice as i&apos;ve changed it quite often)&lt;/p&gt;

&lt;p&gt;Thanks in advance,&lt;br/&gt;
Thomas&lt;/p&gt;

&lt;p&gt;&amp;lt;!-- MASTER config --&amp;gt;&lt;br/&gt;
&amp;lt;beans&lt;br/&gt;
  xmlns=&quot;http://www.springframework.org/schema/beans&quot;&lt;br/&gt;
  xmlns:amq=&quot;http://activemq.org/config/1.0&quot;&lt;br/&gt;
  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;br/&gt;
  xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans &lt;a href=&quot;http://www.springframework.org/schema/beans/spring-beans-2.0.xsd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.springframework.org/schema/beans/spring-beans-2.0.xsd&lt;/a&gt;&lt;br/&gt;
  &lt;a href=&quot;http://activemq.org/config/1.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://activemq.org/config/1.0&lt;/a&gt; &lt;a href=&quot;http://activemq.apache.org/schema/activemq-core.xsd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://activemq.apache.org/schema/activemq-core.xsd&lt;/a&gt;&lt;br/&gt;
  &lt;a href=&quot;http://activemq.apache.org/camel/schema/spring&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://activemq.apache.org/camel/schema/spring&lt;/a&gt; &lt;a href=&quot;http://activemq.apache.org/camel/schema/spring/camel-spring.xsd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://activemq.apache.org/camel/schema/spring/camel-spring.xsd&lt;/a&gt;&quot;&amp;gt;&lt;/p&gt;

&lt;p&gt;  &amp;lt;bean class=&quot;org.springframework.beans.factory.config.PropertyPlaceholderConfigurer&quot;/&amp;gt;&lt;br/&gt;
  &amp;lt;broker xmlns=&quot;http://activemq.org/config/1.0&quot; brokerName=&quot;master&quot; dataDirectory=&quot;${activemq.base}/data&quot;&amp;gt;&lt;br/&gt;
    &amp;lt;destinationPolicy&amp;gt;&lt;br/&gt;
      &amp;lt;policyMap&amp;gt;&lt;br/&gt;
        &amp;lt;policyEntries&amp;gt;&lt;br/&gt;
          &amp;lt;policyEntry topic=&quot;FOO.&amp;gt;&quot; producerFlowControl=&quot;false&quot; memoryLimit=&quot;1mb&quot;&amp;gt;&lt;br/&gt;
            &amp;lt;dispatchPolicy&amp;gt;&lt;br/&gt;
              &amp;lt;strictOrderDispatchPolicy/&amp;gt;&lt;br/&gt;
            &amp;lt;/dispatchPolicy&amp;gt;&lt;br/&gt;
            &amp;lt;subscriptionRecoveryPolicy&amp;gt;&lt;br/&gt;
              &amp;lt;lastImageSubscriptionRecoveryPolicy/&amp;gt;&lt;br/&gt;
            &amp;lt;/subscriptionRecoveryPolicy&amp;gt;&lt;br/&gt;
          &amp;lt;/policyEntry&amp;gt;&lt;br/&gt;
        &amp;lt;/policyEntries&amp;gt;&lt;br/&gt;
      &amp;lt;/policyMap&amp;gt; &lt;br/&gt;
    &amp;lt;/destinationPolicy&amp;gt;&lt;/p&gt;

&lt;p&gt;    &amp;lt;transportConnectors&amp;gt;&lt;br/&gt;
       &amp;lt;transportConnector name=&quot;openwire&quot; uri=&quot;tcp://tbuckel-desktop:7778&quot; /&amp;gt;&lt;br/&gt;
    &amp;lt;/transportConnectors&amp;gt;&lt;/p&gt;

&lt;p&gt;    &amp;lt;networkConnectors/&amp;gt;&lt;/p&gt;

&lt;p&gt;    &amp;lt;managementContext&amp;gt;&lt;br/&gt;
       &amp;lt;managementContext connectorPort=&quot;1100&quot; jmxDomainName=&quot;org.apache.activemq&quot;/&amp;gt;&lt;br/&gt;
    &amp;lt;/managementContext&amp;gt;&lt;/p&gt;

&lt;p&gt;  &amp;lt;/broker&amp;gt;&lt;/p&gt;

&lt;p&gt;  &amp;lt;commandAgent xmlns=&quot;http://activemq.org/config/1.0&quot;/&amp;gt;&lt;/p&gt;

&lt;p&gt;  &amp;lt;jetty xmlns=&quot;http://mortbay.com/schemas/jetty/1.0&quot;&amp;gt;&lt;br/&gt;
    &amp;lt;connectors&amp;gt;&lt;br/&gt;
      &amp;lt;nioConnector port=&quot;8161&quot; /&amp;gt;&lt;br/&gt;
    &amp;lt;/connectors&amp;gt;&lt;/p&gt;

&lt;p&gt;    &amp;lt;handlers&amp;gt;&lt;br/&gt;
      &amp;lt;webAppContext contextPath=&quot;/admin&quot; resourceBase=&quot;${activemq.base}/webapps/admin&quot; logUrlOnStart=&quot;true&quot; /&amp;gt;&lt;br/&gt;
    &amp;lt;/handlers&amp;gt;&lt;br/&gt;
  &amp;lt;/jetty&amp;gt;&lt;br/&gt;
&amp;lt;/beans&amp;gt;&lt;/p&gt;


&lt;p&gt;&amp;lt;!-- SLAVE config --&amp;gt;&lt;br/&gt;
&amp;lt;beans&lt;br/&gt;
  xmlns=&quot;http://www.springframework.org/schema/beans&quot;&lt;br/&gt;
  xmlns:amq=&quot;http://activemq.org/config/1.0&quot;&lt;br/&gt;
  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;br/&gt;
  xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans &lt;a href=&quot;http://www.springframework.org/schema/beans/spring-beans-2.0.xsd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.springframework.org/schema/beans/spring-beans-2.0.xsd&lt;/a&gt;&lt;br/&gt;
  &lt;a href=&quot;http://activemq.org/config/1.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://activemq.org/config/1.0&lt;/a&gt; &lt;a href=&quot;http://activemq.apache.org/schema/activemq-core.xsd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://activemq.apache.org/schema/activemq-core.xsd&lt;/a&gt;&lt;br/&gt;
  &lt;a href=&quot;http://activemq.apache.org/camel/schema/spring&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://activemq.apache.org/camel/schema/spring&lt;/a&gt; &lt;a href=&quot;http://activemq.apache.org/camel/schema/spring/camel-spring.xsd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://activemq.apache.org/camel/schema/spring/camel-spring.xsd&lt;/a&gt;&quot;&amp;gt;&lt;/p&gt;

&lt;p&gt;  &amp;lt;bean class=&quot;org.springframework.beans.factory.config.PropertyPlaceholderConfigurer&quot;/&amp;gt;&lt;/p&gt;

&lt;p&gt;  &amp;lt;broker xmlns=&quot;http://activemq.org/config/1.0&quot; brokerName=&quot;slave&quot; dataDirectory=&quot;${activemq.base}/data-slave&quot;&lt;br/&gt;
          masterConnectorURI=&quot;tcp://tbuckel-desktop:7778&quot;&amp;gt;&lt;/p&gt;

&lt;p&gt;    &amp;lt;destinationPolicy&amp;gt;&lt;br/&gt;
      &amp;lt;policyMap&amp;gt;&lt;br/&gt;
        &amp;lt;policyEntries&amp;gt;&lt;br/&gt;
          &amp;lt;policyEntry topic=&quot;FOO.&amp;gt;&quot; producerFlowControl=&quot;false&quot; memoryLimit=&quot;1mb&quot;&amp;gt;&lt;br/&gt;
            &amp;lt;dispatchPolicy&amp;gt;&lt;br/&gt;
              &amp;lt;strictOrderDispatchPolicy/&amp;gt;&lt;br/&gt;
            &amp;lt;/dispatchPolicy&amp;gt;&lt;br/&gt;
            &amp;lt;subscriptionRecoveryPolicy&amp;gt;&lt;br/&gt;
              &amp;lt;lastImageSubscriptionRecoveryPolicy/&amp;gt;&lt;br/&gt;
            &amp;lt;/subscriptionRecoveryPolicy&amp;gt;&lt;br/&gt;
          &amp;lt;/policyEntry&amp;gt;&lt;br/&gt;
        &amp;lt;/policyEntries&amp;gt;&lt;br/&gt;
      &amp;lt;/policyMap&amp;gt;&lt;br/&gt;
    &amp;lt;/destinationPolicy&amp;gt;&lt;/p&gt;

&lt;p&gt;    &amp;lt;transportConnectors&amp;gt;&lt;br/&gt;
       &amp;lt;transportConnector name=&quot;openwire&quot; uri=&quot;tcp://localhost:7779&quot;/&amp;gt;&lt;br/&gt;
    &amp;lt;/transportConnectors&amp;gt;&lt;/p&gt;

&lt;p&gt;    &amp;lt;networkConnectors/&amp;gt;&lt;/p&gt;

&lt;p&gt;    &amp;lt;managementContext&amp;gt;&lt;br/&gt;
       &amp;lt;managementContext connectorPort=&quot;1101&quot; jmxDomainName=&quot;org.apache.activemq&quot;/&amp;gt;&lt;br/&gt;
    &amp;lt;/managementContext&amp;gt;&lt;/p&gt;

&lt;p&gt;  &amp;lt;/broker&amp;gt;&lt;/p&gt;

&lt;p&gt;  &amp;lt;commandAgent xmlns=&quot;http://activemq.org/config/1.0&quot;/&amp;gt;&lt;/p&gt;

&lt;p&gt;  &amp;lt;jetty xmlns=&quot;http://mortbay.com/schemas/jetty/1.0&quot;&amp;gt;&lt;br/&gt;
    &amp;lt;connectors&amp;gt;&lt;br/&gt;
      &amp;lt;nioConnector port=&quot;8162&quot; /&amp;gt;&lt;br/&gt;
    &amp;lt;/connectors&amp;gt;&lt;/p&gt;

&lt;p&gt;    &amp;lt;handlers&amp;gt;&lt;br/&gt;
      &amp;lt;webAppContext contextPath=&quot;/admin&quot; resourceBase=&quot;${activemq.base}/webapps/admin&quot; logUrlOnStart=&quot;true&quot; /&amp;gt;&lt;br/&gt;
    &amp;lt;/handlers&amp;gt;&lt;br/&gt;
  &amp;lt;/jetty&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;/beans&amp;gt;&lt;/p&gt;

&lt;p&gt;------------&lt;br/&gt;
Test code:&lt;/p&gt;

&lt;p&gt;import org.apache.activemq.ActiveMQConnectionFactory;&lt;br/&gt;
import org.springframework.jms.connection.JmsTransactionManager;&lt;br/&gt;
import org.springframework.jms.connection.TransactionAwareConnectionFactoryProxy;&lt;br/&gt;
import org.springframework.jms.core.JmsTemplate;&lt;br/&gt;
import org.springframework.jms.core.MessageCreator;&lt;br/&gt;
import org.springframework.jms.listener.DefaultMessageListenerContainer;&lt;br/&gt;
import org.springframework.transaction.TransactionStatus;&lt;br/&gt;
import org.springframework.transaction.support.TransactionCallbackWithoutResult;&lt;br/&gt;
import org.springframework.transaction.support.TransactionTemplate;&lt;br/&gt;
import javax.jms.*;&lt;br/&gt;
import java.math.BigInteger;&lt;br/&gt;
import java.util.ArrayList;&lt;br/&gt;
import java.util.List;&lt;br/&gt;
import java.util.concurrent.TimeUnit;&lt;/p&gt;

&lt;p&gt;public class AnotherFailoverTest {&lt;/p&gt;

&lt;p&gt;    public static final int MESSAGES = 1000;&lt;/p&gt;

&lt;p&gt;    private final static List&amp;lt;BigInteger&amp;gt; notConsumedMessages = new ArrayList&amp;lt;BigInteger&amp;gt;(MESSAGES);&lt;/p&gt;

&lt;p&gt;    private static ConnectionFactory createCF() throws Exception &lt;/p&gt;
{
        ActiveMQConnectionFactory cf = new ActiveMQConnectionFactory();
        cf.setBrokerURL(&quot;failover://(tcp://localhost:7778,tcp://localhost:7779)?randomize=false&quot;);
        return new TransactionAwareConnectionFactoryProxy(cf);
    }

&lt;p&gt;    private static void send() throws Exception {&lt;br/&gt;
        JmsTransactionManager transactionManager = new JmsTransactionManager();&lt;br/&gt;
        transactionManager.setConnectionFactory(createCF());&lt;br/&gt;
        transactionManager.afterPropertiesSet();&lt;/p&gt;

&lt;p&gt;        int i=0;&lt;br/&gt;
        do {&lt;br/&gt;
            i++;&lt;br/&gt;
            final int number = i;&lt;br/&gt;
            try {&lt;br/&gt;
                final BigInteger v = new BigInteger(Integer.toString(number));&lt;br/&gt;
                TransactionTemplate tt = new TransactionTemplate(transactionManager);&lt;br/&gt;
                tt.execute(new TransactionCallbackWithoutResult() {&lt;br/&gt;
                    protected void doInTransactionWithoutResult(TransactionStatus status) {&lt;br/&gt;
                        final JmsTemplate template = new JmsTemplate(pcf);&lt;br/&gt;
                        template.setSessionTransacted(true);&lt;br/&gt;
                        template.afterPropertiesSet();&lt;br/&gt;
                        template.send(&quot;testqueue&quot;, new MessageCreator() {&lt;br/&gt;
                            public Message createMessage(Session session) throws JMSException {&lt;br/&gt;
                                ObjectMessage dummyMessage = session.createObjectMessage();&lt;br/&gt;
                                dummyMessage.setObject(v);&lt;br/&gt;
                                synchronized (notConsumedMessages) &lt;/p&gt;
{
                                    notConsumedMessages.add(v);
                                }
&lt;p&gt;//                                System.out.println(&quot;Created message &quot; + number + &quot;(&quot; + notConsumedMessages.size() + &quot;)&quot;);&lt;br/&gt;
                                return dummyMessage;&lt;br/&gt;
                            }&lt;br/&gt;
                        });&lt;br/&gt;
                    }&lt;br/&gt;
                });&lt;br/&gt;
            } catch (Exception e) &lt;/p&gt;
{
                e.printStackTrace();
                System.out.println(&quot;Error creating message &quot; + number);
            }
&lt;p&gt;        } while (i &amp;lt; MESSAGES);&lt;br/&gt;
    }&lt;/p&gt;

&lt;p&gt;    private static void setupReceiver() throws Exception {&lt;br/&gt;
        JmsTransactionManager transactionManager = new JmsTransactionManager();&lt;br/&gt;
        transactionManager.setConnectionFactory(createCF());&lt;br/&gt;
        transactionManager.afterPropertiesSet();&lt;/p&gt;

&lt;p&gt;        final DefaultMessageListenerContainer container = new DefaultMessageListenerContainer();&lt;br/&gt;
        container.setConnectionFactory(pcf);&lt;br/&gt;
        container.setTransactionManager(transactionManager);&lt;br/&gt;
        container.setMessageListener(new MessageListener() {&lt;br/&gt;
            public void onMessage(Message message) {&lt;br/&gt;
                try {&lt;br/&gt;
                    ObjectMessage msg = (ObjectMessage) message;&lt;br/&gt;
                    BigInteger number = (BigInteger) msg.getObject();&lt;br/&gt;
                    synchronized (notConsumedMessages) {&lt;br/&gt;
                        if (!notConsumedMessages.remove(number)) &lt;/p&gt;
{
                           System.err.println(&quot;Message &quot; + number + &quot; not found in list!&quot;);
                        }
&lt;p&gt; else &lt;/p&gt;
{
   //                        System.out.println(&quot;Consumed message &quot; + number);
                       }
&lt;p&gt;                   }&lt;br/&gt;
                } catch (JMSException e) &lt;/p&gt;
{
//                    e.printStackTrace();
                    System.out.println(&quot;Error consuming message!&quot;);
                }
&lt;p&gt;            }&lt;br/&gt;
        });&lt;br/&gt;
        container.setSessionTransacted(true);&lt;br/&gt;
        container.setDestinationName(&quot;testqueue&quot;);&lt;br/&gt;
        container.setExceptionListener(new ExceptionListener() {&lt;br/&gt;
            public void onException(JMSException jmsException) &lt;/p&gt;
{
                System.err.println(jmsException);
            }
&lt;p&gt;        });&lt;br/&gt;
        container.afterPropertiesSet();&lt;br/&gt;
        container.initialize();&lt;br/&gt;
        TimeUnit.SECONDS.sleep(1);&lt;br/&gt;
    }&lt;/p&gt;

&lt;p&gt;    public static void main(String[] args) throws Exception {&lt;br/&gt;
        long start = System.currentTimeMillis();&lt;br/&gt;
        setupReceiver();&lt;br/&gt;
        send();&lt;/p&gt;

&lt;p&gt;        int remainingSize = 0;&lt;br/&gt;
        do {&lt;br/&gt;
            Thread.sleep(500);&lt;br/&gt;
            synchronized (notConsumedMessages) &lt;/p&gt;
{
                remainingSize = notConsumedMessages.size();
            }
&lt;p&gt;            System.out.println(&quot;Unconsumed &quot; + remainingSize + &quot;: &quot; + sb);&lt;br/&gt;
        } while (remainingSize &amp;gt; 0);&lt;/p&gt;

&lt;p&gt;        System.out.println(&quot;All messages consumed.&quot;);&lt;br/&gt;
        long end = System.currentTimeMillis();&lt;br/&gt;
        System.out.println((end-start));&lt;br/&gt;
        System.exit(0);&lt;br/&gt;
    }&lt;/p&gt;

&lt;p&gt;}&lt;/p&gt;
</description>
                <environment>&lt;p&gt;Ubuntu 6.04, JDK 1.5.0_011, Spring 2.0.x&lt;/p&gt;</environment>
        <key id="12482653">AMQ-1585</key>
            <summary>Problems with pure master/slave configuration</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gtully">Gary Tully</assignee>
                                    <reporter username="tbuckel">Thomas Buckel</reporter>
                        <labels>
                    </labels>
                <created>Sun, 17 Feb 2008 23:25:58 +0000</created>
                <updated>Mon, 8 Sep 2008 17:06:02 +0000</updated>
                            <resolved>Mon, 8 Sep 2008 17:06:02 +0000</resolved>
                                    <version>4.1.1</version>
                    <version>5.0.0</version>
                    <version>5.1.0</version>
                                    <fixVersion>5.2.0</fixVersion>
                                    <component>Broker</component>
                        <due></due>
                            <votes>4</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="12939404" author="mkelley63" created="Fri, 21 Mar 2008 15:52:45 +0000"  >&lt;p&gt;I&apos;m seeing the same thing &amp;#8211; running 5.0.0 &amp;#8211; using the example consumer/producer ant tasks and configuration described above. This would be a blocker if we were in production.&lt;/p&gt;</comment>
                            <comment id="12939525" author="bkorsunsky" created="Wed, 9 Apr 2008 18:31:34 +0000"  >&lt;p&gt;Also seeing same issue running 5.0.0 pure master/slave config:&lt;/p&gt;

&lt;p&gt;javax.jms.JMSException: Slave broker out of sync with master: Acknowledgment (MessageAck &lt;/p&gt;
{commandId = 198, responseRequired = true, ackType = 2, consumerId = ID:BorisJr-1198-1207765232687-0:0:1:1, firstMessageId = null, lastMessageId = ID:Boris-3004-1207702245296-0:0:20:1:1, destination = queue://queue, transactionId = null, messageCount = 1}
&lt;p&gt;) was not in the dispatch list: []&lt;br/&gt;
        at org.apache.activemq.broker.region.PrefetchSubscription.acknowledge(PrefetchSubscription.java:332)&lt;br/&gt;
        at org.apache.activemq.broker.region.AbstractRegion.acknowledge(AbstractRegion.java:340)&lt;br/&gt;
        at org.apache.activemq.broker.region.RegionBroker.acknowledge(RegionBroker.java:427)&lt;br/&gt;
        at org.apache.activemq.broker.TransactionBroker.acknowledge(TransactionBroker.java:194)&lt;br/&gt;
        at org.apache.activemq.broker.BrokerFilter.acknowledge(BrokerFilter.java:73)&lt;br/&gt;
        at org.apache.activemq.broker.BrokerFilter.acknowledge(BrokerFilter.java:73)&lt;br/&gt;
        at org.apache.activemq.broker.MutableBrokerFilter.acknowledge(MutableBrokerFilter.java:87)&lt;br/&gt;
        at org.apache.activemq.broker.TransportConnection.processMessageAck(TransportConnection.java:440)&lt;br/&gt;
        at org.apache.activemq.command.MessageAck.visit(MessageAck.java:196)&lt;br/&gt;
        at org.apache.activemq.broker.TransportConnection.service(TransportConnection.java:281)&lt;br/&gt;
        at org.apache.activemq.broker.TransportConnection$1.onCommand(TransportConnection.java:178)&lt;br/&gt;
        at org.apache.activemq.transport.ResponseCorrelator.onCommand(ResponseCorrelator.java:100)&lt;br/&gt;
        at org.apache.activemq.transport.TransportFilter.onCommand(TransportFilter.java:67)&lt;br/&gt;
        at org.apache.activemq.transport.vm.VMTransport.iterate(VMTransport.java:202)&lt;br/&gt;
        at org.apache.activemq.thread.DedicatedTaskRunner.runTask(DedicatedTaskRunner.java:98)&lt;br/&gt;
        at org.apache.activemq.thread.DedicatedTaskRunner$1.run(DedicatedTaskRunner.java:36)&lt;/p&gt;</comment>
                            <comment id="12939614" author="mkelley63" created="Wed, 23 Apr 2008 17:18:19 +0000"  >&lt;p&gt;Still a problem in 5.1.0 RC3.&lt;/p&gt;</comment>
                            <comment id="12939673" author="ammulder" created="Tue, 20 May 2008 19:09:59 +0000"  >&lt;p&gt;Still seeing this in 5.1.0 final.&lt;/p&gt;

&lt;p&gt;I hear that &quot;pure&quot; master/slave is not the way to go and SAN-based master/slave would be better.  &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12939865" author="gtully" created="Tue, 1 Jul 2008 12:20:20 +0000"  >&lt;p&gt;I find that the org.apache.activemq.broker.ft.QueueMasterSlaveTest can reproduce this problem if the number of messages produced in increased to 200, greater than the default maxPageSize, 100, for a destination.&lt;/p&gt;

&lt;p&gt;It appears that there are a few problems.&lt;br/&gt;
1) the decrementing inflight statistics cause messages in the slave to be lost once the maxpageSize for a destination is reached. This is fixed by not decrementing in error when queue is on the slave.&lt;br/&gt;
2) the dispatch notification can be late getting to the slave, so similar to send processing, the notification is sent in advance.&lt;br/&gt;
3) even with early sending, a send can be later than a dispatchNotification so sending sync fixes that.&lt;/p&gt;
</comment>
                            <comment id="12939854" author="gtully" created="Tue, 1 Jul 2008 12:25:35 +0000"  >&lt;p&gt;it may be worth giving the attached patch a whirl if the issue is still pressing.&lt;/p&gt;</comment>
                            <comment id="12939810" author="yinghe0101" created="Tue, 1 Jul 2008 13:51:07 +0000"  >&lt;p&gt;still seeing the issue using latest trunk with the patch attached. &lt;/p&gt;</comment>
                            <comment id="12939855" author="gtully" created="Tue, 1 Jul 2008 14:06:34 +0000"  >&lt;p&gt;ying, thanks for trying this out. Do you think it would be possible to reproduce your scenarion with a variation of org.apache.activemq.broker.ft.QueueMasterSlaveTest ?&lt;br/&gt;
If not, what is the simplest formula for reproducing your behaviour, is it the code included with the original jira?&lt;/p&gt;</comment>
                            <comment id="12939903" author="gtully" created="Tue, 1 Jul 2008 14:51:29 +0000"  >&lt;p&gt;I have been able to reproduce again by pushing more messages through org.apache.activemq.broker.ft.QueueMasterSlaveTest, have some more work to do!&lt;/p&gt;</comment>
                            <comment id="12939904" author="yinghe0101" created="Tue, 1 Jul 2008 15:05:18 +0000"  >&lt;p&gt;hi, Gary, I test on both win xp and solaris 9 jdk 1.5&lt;/p&gt;

&lt;p&gt;To reproduce this issue, i have 1 client producer, I have 3 clients each with its own connection as a consumer&lt;br/&gt;
1. use original activemq.xml for master&lt;br/&gt;
2. add masterConnectorURI=&quot;tcp://localhost:61616&quot; shutdownOnMasterFailure=&quot;false&quot; in activemq.xml for slave&lt;br/&gt;
3. start master, start slave, start 3 consumers&lt;br/&gt;
4. start the producer to send one message, stop the producer ( the delivery is good)&lt;br/&gt;
5. start the producer again to send a second message, i will get the exception ( because of this exception, message will get redelivered according to the delivery policy)&lt;/p&gt;

&lt;p&gt;the jndi.properties of the client looks like the following:&lt;br/&gt;
java.naming.factory.initial=org.apache.activemq.jndi.ActiveMQInitialContextFactory&lt;br/&gt;
java.naming.provider.url=failover://(tcp://localhost:61616,tcp://localhost:62616)?randomize=false&lt;br/&gt;
connection.ConnectionFactory.redeliveryPolicy.initialRedeliveryDelay=300000&lt;br/&gt;
connection.ConnectionFactory.redeliveryPolicy.maximumRedeliveries=3&lt;/p&gt;

&lt;p&gt;I have another issue for the pure master/slave, not sure whether it is related to this. It has the same setup as the above tests. the formula is:&lt;br/&gt;
1. use original activemq.xml for master&lt;br/&gt;
2. add masterConnectorURI=&quot;tcp://localhost:61616&quot; shutdownOnMasterFailure=&quot;false&quot; in activemq.xml for slave&lt;br/&gt;
3. start master, start slave, start 3 consumers&lt;br/&gt;
4. start the producer to send one message, stop the producer ( the delivery is good)&lt;br/&gt;
5. stop the master, stop the slave, do NOT stop 3 consumers,  restart the master, restart the slave&lt;br/&gt;
6. start the producer to send one message, i will get the following exception:&lt;br/&gt;
ERROR Service                        - Async error occurred: java.lang.IllegalStateException: Cannot lookup a connection that had not been registered: ID:yhe-1633-1214919996630-0:0&lt;br/&gt;
java.lang.IllegalStateException: Cannot lookup a connection that had not been registered: ID:yhe-1633-1214919996630-0:0&lt;br/&gt;
	at org.apache.activemq.broker.MapTransportConnectionStateRegister.lookupConnectionState(MapTransportConnectionStateRegister.java:93)&lt;br/&gt;
	at org.apache.activemq.broker.TransportConnection.lookupConnectionState(TransportConnection.java:1356)&lt;br/&gt;
	at org.apache.activemq.broker.TransportConnection.processBeginTransaction(TransportConnection.java:362)&lt;br/&gt;
	at org.apache.activemq.command.TransactionInfo.visit(TransactionInfo.java:94)&lt;br/&gt;
	at org.apache.activemq.broker.TransportConnection.service(TransportConnection.java:308)&lt;br/&gt;
	at org.apache.activemq.broker.TransportConnection$1.onCommand(TransportConnection.java:180)&lt;br/&gt;
	at org.apache.activemq.transport.ResponseCorrelator.onCommand(ResponseCorrelator.java:104)&lt;br/&gt;
	at org.apache.activemq.transport.TransportFilter.onCommand(TransportFilter.java:68)&lt;br/&gt;
	at org.apache.activemq.transport.vm.VMTransport.iterate(VMTransport.java:205)&lt;br/&gt;
	at org.apache.activemq.thread.DedicatedTaskRunner.runTask(DedicatedTaskRunner.java:98)&lt;br/&gt;
	at org.apache.activemq.thread.DedicatedTaskRunner$1.run(DedicatedTaskRunner.java:36)&lt;br/&gt;
DEBUG Service                        - Error occured while processing sync command: java.lang.IllegalStateException: Cannot lookup a consumer from a connection that had not been registered: ID:yhe-1633-1214919996630-0:0&lt;br/&gt;
java.lang.IllegalStateException: Cannot lookup a consumer from a connection that had not been registered: ID:yhe-1633-1214919996630-0:0&lt;br/&gt;
	at org.apache.activemq.broker.MapTransportConnectionStateRegister.lookupConnectionState(MapTransportConnectionStateRegister.java:63)&lt;br/&gt;
	at org.apache.activemq.broker.TransportConnection.lookupConnectionState(TransportConnection.java:1344)&lt;br/&gt;
	at org.apache.activemq.broker.TransportConnection.getConsumerBrokerExchange(TransportConnection.java:1261)&lt;br/&gt;
	at org.apache.activemq.broker.TransportConnection.processMessageAck(TransportConnection.java:458)&lt;br/&gt;
	at org.apache.activemq.command.MessageAck.visit(MessageAck.java:205)&lt;br/&gt;
	at org.apache.activemq.broker.TransportConnection.service(TransportConnection.java:308)&lt;br/&gt;
	at org.apache.activemq.broker.TransportConnection$1.onCommand(TransportConnection.java:180)&lt;br/&gt;
	at org.apache.activemq.transport.ResponseCorrelator.onCommand(ResponseCorrelator.java:104)&lt;br/&gt;
	at org.apache.activemq.transport.TransportFilter.onCommand(TransportFilter.java:68)&lt;br/&gt;
	at org.apache.activemq.transport.vm.VMTransport.iterate(VMTransport.java:205)&lt;br/&gt;
	at org.apache.activemq.thread.DedicatedTaskRunner.runTask(DedicatedTaskRunner.java:98)&lt;br/&gt;
	at org.apache.activemq.thread.DedicatedTaskRunner$1.run(DedicatedTaskRunner.java:36)&lt;br/&gt;
DEBUG Service                        - Error occured while processing sync command: java.lang.IllegalStateException: Cannot lookup a connection that had not been registered: ID:yhe-1633-1214919996630-0:0&lt;br/&gt;
java.lang.IllegalStateException: Cannot lookup a connection that had not been registered: ID:yhe-1633-1214919996630-0:0&lt;br/&gt;
	at org.apache.activemq.broker.MapTransportConnectionStateRegister.lookupConnectionState(MapTransportConnectionStateRegister.java:93)&lt;br/&gt;
	at org.apache.activemq.broker.TransportConnection.lookupConnectionState(TransportConnection.java:1356)&lt;br/&gt;
	at org.apache.activemq.broker.TransportConnection.processCommitTransactionOnePhase(TransportConnection.java:413)&lt;br/&gt;
	at org.apache.activemq.command.TransactionInfo.visit(TransactionInfo.java:100)&lt;br/&gt;
	at org.apache.activemq.broker.TransportConnection.service(TransportConnection.java:308)&lt;br/&gt;
	at org.apache.activemq.broker.TransportConnection$1.onCommand(TransportConnection.java:180)&lt;br/&gt;
	at org.apache.activemq.transport.ResponseCorrelator.onCommand(ResponseCorrelator.java:104)&lt;br/&gt;
	at org.apache.activemq.transport.TransportFilter.onCommand(TransportFilter.java:68)&lt;br/&gt;
	at org.apache.activemq.transport.vm.VMTransport.iterate(VMTransport.java:205)&lt;br/&gt;
	at org.apache.activemq.thread.DedicatedTaskRunner.runTask(DedicatedTaskRunner.java:98)&lt;br/&gt;
	at org.apache.activemq.thread.DedicatedTaskRunner$1.run(DedicatedTaskRunner.java:36)&lt;/p&gt;

&lt;p&gt;I think the issue might be when the master is restarted and the consumer establish connections with it before the slave is started so the slave is not aware of those consumers/sessions/connection&lt;/p&gt;

&lt;p&gt;Please let me know whether i shall create another jira for the this IllegalStateException for pure master/slave&lt;/p&gt;

&lt;p&gt;BTW, is there any documentation of the component relationship for the activemq core, such as what the responsibility of BrokerService, Region, Broker, TransportConnection etc. I am looking into the source now to see what I can find.&lt;/p&gt;

&lt;p&gt;Thank you for your quick response.&lt;/p&gt;
</comment>
                            <comment id="12939898" author="gtully" created="Tue, 1 Jul 2008 15:45:44 +0000"  >&lt;p&gt;update to fix additional issue.&lt;br/&gt;
make slave use optimizedDispatch so that a send operation completes sync, since there is no real dispatch the call will return quickly.&lt;br/&gt;
This ensures that sends are complete before the dispatch notification is received.&lt;/p&gt;</comment>
                            <comment id="12939880" author="gtully" created="Tue, 1 Jul 2008 16:35:24 +0000"  >&lt;p&gt;ying,&lt;br/&gt;
Is your producer using a transacted session? If so, I think we need to build a specific test case around QueueMasterSlaveTest to reproduce.&lt;/p&gt;

&lt;p&gt;I have modified the patch to address another synchronisation issue with slave mode, hopefully this will help.&lt;/p&gt;

&lt;p&gt;I think you should raise another jira for the IllegalStateException.&lt;br/&gt;
Re documentation, the code is your best and only reference I think.&lt;/p&gt;</comment>
                            <comment id="12939860" author="rajdavies" created="Tue, 1 Jul 2008 18:00:40 +0000"  >&lt;p&gt;patch applied in SVN revision 673157&lt;/p&gt;</comment>
                            <comment id="12939905" author="gtully" created="Wed, 2 Jul 2008 16:14:28 +0000"  >&lt;p&gt;with a transacted producer there is a failure, txid does not exist.&lt;br/&gt;
modifying the TransactedTopicMasterSlaveTest to stop the master reproduces the problem. The fix is to have the failover transport state tracker rember the transaction begin command so that the begin can be correctly replayed.&lt;/p&gt;</comment>
                            <comment id="12939901" author="rajdavies" created="Wed, 2 Jul 2008 16:23:51 +0000"  >&lt;p&gt;Applied patch for txn part in SVN revision 673433&lt;/p&gt;</comment>
                            <comment id="12939944" author="yinghe0101" created="Thu, 10 Jul 2008 16:10:49 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-1585&quot; title=&quot;Problems with pure master/slave configuration&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-1585&quot;&gt;&lt;del&gt;AMQ-1585&lt;/del&gt;&lt;/a&gt;.patch is not completely merged into the trunk. It is missing the following:&lt;br/&gt;
for MasterBroker.java&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;sendToSlave(message);&lt;br/&gt;
+        sendSyncToSlave(message);&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Without this change, I am still getting the exception in the latest trunk activemq-core 675484.&lt;/p&gt;</comment>
                            <comment id="12939970" author="yinghe0101" created="Thu, 10 Jul 2008 16:11:56 +0000"  >&lt;p&gt;patch is not completely merged into trunk. it is missing a change without which the exception still happens.&lt;/p&gt;</comment>
                            <comment id="12939958" author="gtully" created="Fri, 11 Jul 2008 15:15:39 +0000"  >&lt;p&gt;ying, good catch!. yea, I think that sendSync is necessary. thanks.&lt;/p&gt;</comment>
                            <comment id="12939977" author="rajdavies" created="Fri, 11 Jul 2008 15:33:33 +0000"  >&lt;p&gt;completed patch in SVN revision 675990&lt;/p&gt;</comment>
                            <comment id="12940117" author="hansb" created="Fri, 29 Aug 2008 14:04:48 +0000"  >&lt;p&gt;I just checked out version 690257 and it happens again:&lt;/p&gt;

&lt;p&gt;==== the master ====&lt;/p&gt;

&lt;p&gt;INFO  TransportConnection            - Slave Broker solowslave is attached&lt;br/&gt;
WARN  BrokerRegistry                 - Broker localhost not started so using seltenmaster instead&lt;br/&gt;
INFO  TransportConnector             - Connector vm://localhost Started&lt;br/&gt;
ERROR MasterBroker                   - Slave Failed&lt;br/&gt;
javax.jms.JMSException: Slave broker out of sync with master: Acknowledgment (MessageAck &lt;/p&gt;
{commandId = 33, responseRequired = true, ackType = 2, consumerId = ID:hans-34771-1220018526479-0:1:1:1, firstMessageId = null, lastMessageId = ID:hans-34771-1220018526479-0:0:1:1:1, destination = queue://queue.B, transactionId = null, messageCount = 1}
&lt;p&gt;) was not in the dispatch list: []&lt;br/&gt;
        at org.apache.activemq.broker.region.PrefetchSubscription.acknowledge(PrefetchSubscription.java:387)&lt;br/&gt;
        at org.apache.activemq.broker.region.AbstractRegion.acknowledge(AbstractRegion.java:373)&lt;br/&gt;
        at org.apache.activemq.broker.region.RegionBroker.acknowledge(RegionBroker.java:462)&lt;br/&gt;
        at org.apache.activemq.broker.TransactionBroker.acknowledge(TransactionBroker.java:194)&lt;/p&gt;


&lt;p&gt;====== the slave ===&lt;br/&gt;
ERROR Service                        - Async error occurred: javax.jms.JMSException: Slave broker out of sync with master: Dispatched message (ID:selten.marketxs.com-55318-1220018484119-2:1:1:1:1) was not in the pending list&lt;br/&gt;
javax.jms.JMSException: Slave broker out of sync with master: Dispatched message (ID:selten.marketxs.com-55318-1220018484119-2:1:1:1:1) was not in the pending list&lt;br/&gt;
        at org.apache.activemq.broker.region.PrefetchSubscription.processMessageDispatchNotification(PrefetchSubscription.java:172)&lt;br/&gt;
        at org.apache.activemq.broker.region.AbstractRegion.processDispatchNotification(AbstractRegion.java:414)&lt;br/&gt;
        at org.apache.activemq.broker.region.RegionBroker.processDispatchNotification(RegionBroker.java:585)&lt;/p&gt;


&lt;p&gt;A previous 5.2.0-SNAPSHOT worked fine.&lt;/p&gt;</comment>
                            <comment id="12940136" author="hansb" created="Fri, 29 Aug 2008 14:08:37 +0000"  >&lt;p&gt;&quot;worked fine&quot; except for &lt;a href=&quot;https://issues.apache.org/activemq/browse/AMQ-1849&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://issues.apache.org/activemq/browse/AMQ-1849&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;I&apos;ve used the same JMS test client (stand-alone)&lt;/p&gt;</comment>
                            <comment id="12940091" author="hansb" created="Fri, 29 Aug 2008 14:51:49 +0000"  >&lt;p&gt;Checked out and compiled revision 675990 again.&lt;/p&gt;

&lt;p&gt;Still worked fine (as far as this issue is concerned) with the same configuration files as the failing 690257.&lt;/p&gt;</comment>
                            <comment id="12940105" author="gtully" created="Mon, 8 Sep 2008 17:06:02 +0000"  >&lt;p&gt;fix related to resolution of &lt;a href=&quot;https://issues.apache.org/activemq/browse/AMQ-1849&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://issues.apache.org/activemq/browse/AMQ-1849&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12461169" name="AMQ-1585.patch" size="4139" author="gtully" created="Tue, 1 Jul 2008 15:45:44 +0000"/>
                            <attachment id="12461180" name="AMQ-1585.transacted.patch" size="3835" author="gtully" created="Wed, 2 Jul 2008 16:14:28 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>84520</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 12 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310041" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Patch Info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10042"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0jxfb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>114345</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>