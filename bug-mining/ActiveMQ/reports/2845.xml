<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 06:34:59 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-6305] AMQP: Drain requests can go unaswered in certain cases.</title>
                <link>https://issues.apache.org/jira/browse/AMQ-6305</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;In some cases when an AMQP client issues a flow that indicates a request to drain off credit or pull some amount of messages the broker can fail to respond due to interactions between the via of credit and other factors like prefetch extension which can leave a message queued on link and not be accounted for.  &lt;/p&gt;</description>
                <environment></environment>
        <key id="12973187">AMQ-6305</key>
            <summary>AMQP: Drain requests can go unaswered in certain cases.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tabish">Timothy A. Bish</assignee>
                                    <reporter username="tabish">Timothy A. Bish</reporter>
                        <labels>
                    </labels>
                <created>Thu, 26 May 2016 20:26:35 +0000</created>
                <updated>Tue, 5 Jul 2016 19:55:45 +0000</updated>
                            <resolved>Mon, 6 Jun 2016 13:11:02 +0000</resolved>
                                    <version>5.13.0</version>
                    <version>5.13.1</version>
                    <version>5.13.2</version>
                    <version>5.13.3</version>
                                    <fixVersion>5.13.4</fixVersion>
                    <fixVersion>5.14.0</fixVersion>
                                    <component>AMQP</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15303033" author="jira-bot" created="Thu, 26 May 2016 22:03:12 +0000"  >&lt;p&gt;Commit 6ae169e2755257b1e8e5068473bdb3156160790d in activemq&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tabish121&quot; class=&quot;user-hover&quot; rel=&quot;tabish121&quot;&gt;tabish121&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=6ae169e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=6ae169e&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-6305&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/AMQ-6305&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Add test and supporting enhancements to the JUnit module to allow for&lt;br/&gt;
easy repetition of tests that don&apos;t always fail reliably&lt;/p&gt;</comment>
                            <comment id="15311265" author="jira-bot" created="Wed, 1 Jun 2016 22:34:07 +0000"  >&lt;p&gt;Commit 8448cf1cb886b242b54235b091259acbf43c2108 in activemq&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tabish121&quot; class=&quot;user-hover&quot; rel=&quot;tabish121&quot;&gt;tabish121&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=8448cf1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=8448cf1&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-6305&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/AMQ-6305&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Refactor credit handling and drain state tracking to ensure we stay in&lt;br/&gt;
sync with the remote state and always answer drain requests.  Start&lt;br/&gt;
adding some more tests around drain to the interop suite.&lt;/p&gt;</comment>
                            <comment id="15314654" author="tabish121" created="Fri, 3 Jun 2016 19:31:47 +0000"  >&lt;p&gt;Some test failures in CI indicate the credit handling still isn&apos;t quite right.&lt;/p&gt;</comment>
                            <comment id="15314813" author="jira-bot" created="Fri, 3 Jun 2016 21:07:40 +0000"  >&lt;p&gt;Commit db71b43b19e24019fe7ef08dd80d53998b9eec9b in activemq&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tabish121&quot; class=&quot;user-hover&quot; rel=&quot;tabish121&quot;&gt;tabish121&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=db71b43&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=db71b43&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-6305&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/AMQ-6305&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Lower prefetch on settlement of allow for dispatch of the full amount of&lt;br/&gt;
granted credit.  Adds additional tests.&lt;/p&gt;</comment>
                            <comment id="15362962" author="christopher.l.shannon" created="Tue, 5 Jul 2016 18:33:15 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tabish121&quot; class=&quot;user-hover&quot; rel=&quot;tabish121&quot;&gt;tabish121&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;Should these commits be backported to 5.13.4? (I&apos;m assuming so because you marked this as 5.13.4 for the fix version)  I ask because the current 5.13.x branch doesn&apos;t build right now.  Looks like there is a compilation error from a missing method in the JmsClientTestSupport class that was added in one of these commits.&lt;/p&gt;</comment>
                            <comment id="15363012" author="tabish121" created="Tue, 5 Jul 2016 18:55:35 +0000"  >&lt;p&gt;Yes, it can go back, originally wanted to let the CI tests runs check it and forgot to merge it back later.&lt;/p&gt;</comment>
                            <comment id="15363112" author="christopher.l.shannon" created="Tue, 5 Jul 2016 19:55:13 +0000"  >&lt;p&gt;Alright, I&apos;ll merge the fixes.&lt;/p&gt;</comment>
                            <comment id="15363114" author="jira-bot" created="Tue, 5 Jul 2016 19:55:43 +0000"  >&lt;p&gt;Commit 508c12d9487ad653f05806be7a492e4bd870522b in activemq&apos;s branch refs/heads/activemq-5.13.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tabish121&quot; class=&quot;user-hover&quot; rel=&quot;tabish121&quot;&gt;tabish121&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=508c12d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=508c12d&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-6305&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/AMQ-6305&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Add test and supporting enhancements to the JUnit module to allow for&lt;br/&gt;
easy repetition of tests that don&apos;t always fail reliably&lt;br/&gt;
(cherry picked from commit 6ae169e2755257b1e8e5068473bdb3156160790d)&lt;/p&gt;</comment>
                            <comment id="15363115" author="jira-bot" created="Tue, 5 Jul 2016 19:55:44 +0000"  >&lt;p&gt;Commit 8916beea4228e5432c948629e252d363c63cfea3 in activemq&apos;s branch refs/heads/activemq-5.13.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tabish121&quot; class=&quot;user-hover&quot; rel=&quot;tabish121&quot;&gt;tabish121&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=8916bee&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=8916bee&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-6305&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/AMQ-6305&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Refactor credit handling and drain state tracking to ensure we stay in&lt;br/&gt;
sync with the remote state and always answer drain requests.  Start&lt;br/&gt;
adding some more tests around drain to the interop suite.&lt;br/&gt;
(cherry picked from commit 8448cf1cb886b242b54235b091259acbf43c2108)&lt;/p&gt;</comment>
                            <comment id="15363116" author="jira-bot" created="Tue, 5 Jul 2016 19:55:45 +0000"  >&lt;p&gt;Commit 53c9d7ecb6331a432c8956a0ee5dbc8ff0ac8a4e in activemq&apos;s branch refs/heads/activemq-5.13.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tabish121&quot; class=&quot;user-hover&quot; rel=&quot;tabish121&quot;&gt;tabish121&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=53c9d7e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=53c9d7e&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-6305&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/AMQ-6305&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Lower prefetch on settlement of allow for dispatch of the full amount of&lt;br/&gt;
granted credit.  Adds additional tests.&lt;br/&gt;
(cherry picked from commit db71b43b19e24019fe7ef08dd80d53998b9eec9b)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 20 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2yk7r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>