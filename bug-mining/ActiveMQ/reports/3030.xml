<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 06:40:21 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-6614] JMX Queue attribute blockedSends not updated when a sync send hits flow control</title>
                <link>https://issues.apache.org/jira/browse/AMQ-6614</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;an async send that blocks waiting for space increments the blockedSends jmx attribute but with the producerwindow or a sync send it does not.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13047721">AMQ-6614</key>
            <summary>JMX Queue attribute blockedSends not updated when a sync send hits flow control</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gtully">Gary Tully</assignee>
                                    <reporter username="gtully">Gary Tully</reporter>
                        <labels>
                            <label>jmx</label>
                    </labels>
                <created>Thu, 2 Mar 2017 16:58:24 +0000</created>
                <updated>Fri, 4 Aug 2017 13:14:24 +0000</updated>
                            <resolved>Thu, 2 Mar 2017 17:05:04 +0000</resolved>
                                    <version>5.14.0</version>
                                    <fixVersion>5.15.0</fixVersion>
                                    <component>JMX</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="15892608" author="jira-bot" created="Thu, 2 Mar 2017 17:00:31 +0000"  >&lt;p&gt;Commit e67d48680f16061d0a5fbd09129ce8f0a7759255 in activemq&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gtully&quot; class=&quot;user-hover&quot; rel=&quot;gtully&quot;&gt;gtully&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=e67d486&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=e67d486&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-6614&quot; title=&quot;JMX Queue attribute blockedSends not updated when a sync send hits flow control&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-6614&quot;&gt;&lt;del&gt;AMQ-6614&lt;/del&gt;&lt;/a&gt; fix up jmx blockedSendsCount and producer view blocking flag for async send case. fix and test&lt;/p&gt;</comment>
                            <comment id="16108910" author="christopher.l.shannon" created="Tue, 1 Aug 2017 13:42:32 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gtully&quot; class=&quot;user-hover&quot; rel=&quot;gtully&quot;&gt;gtully&lt;/a&gt;, I was looking at this commit and noticed something...&lt;/p&gt;

&lt;p&gt;Should this line: &lt;a href=&quot;https://github.com/apache/activemq/blob/activemq-5.15.0/activemq-broker/src/main/java/org/apache/activemq/broker/region/Queue.java#L707&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/activemq/blob/activemq-5.15.0/activemq-broker/src/main/java/org/apache/activemq/broker/region/Queue.java#L707&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;be changed from &lt;tt&gt;producerExchangeCopy.blockingOnFlowControl(false);&lt;/tt&gt; to &lt;tt&gt;producerExchange.blockingOnFlowControl(false);&lt;/tt&gt; ?&lt;/p&gt;

&lt;p&gt;The flag is set true later on line 713 on the original producerExchange so the copy would always have the flag be false already (unless I am missing something)&lt;/p&gt;</comment>
                            <comment id="16114268" author="gtully" created="Fri, 4 Aug 2017 11:30:29 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cshannon&quot; class=&quot;user-hover&quot; rel=&quot;cshannon&quot;&gt;cshannon&lt;/a&gt; thanks for the second pair of eyes. I think it will be ok. I modified the ProducerBrokerExchange.copy to share that state flag - flowControlInfo so both the copy and original will share it.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=activemq.git;a=blobdiff;f=activemq-broker/src/main/java/org/apache/activemq/broker/ProducerBrokerExchange.java;h=26652debe644977fa00fa37f5ec33a4acf279ca7;hp=bf1d21e80022765aeb7611e5b8363c7eeec79af6;hb=e67d486;hpb=eab9a0d05758fd0e8e83e7e482f4f0406cd9af5e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=activemq.git;a=blobdiff;f=activemq-broker/src/main/java/org/apache/activemq/broker/ProducerBrokerExchange.java;h=26652debe644977fa00fa37f5ec33a4acf279ca7;hp=bf1d21e80022765aeb7611e5b8363c7eeec79af6;hb=e67d486;hpb=eab9a0d05758fd0e8e83e7e482f4f0406cd9af5e&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16114341" author="christopher.l.shannon" created="Fri, 4 Aug 2017 13:14:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gtully&quot; class=&quot;user-hover&quot; rel=&quot;gtully&quot;&gt;gtully&lt;/a&gt;, Ok, sounds good, just wanted to double check.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12502026">AMQ-3233</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 15 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3auzb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>