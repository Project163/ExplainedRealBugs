<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 06:45:05 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-7082] KahaDB index, recover free pages in parallel with start</title>
                <link>https://issues.apache.org/jira/browse/AMQ-7082</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-6590&quot; title=&quot;KahaDB index loses track of free pages on unclean shutdown&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-6590&quot;&gt;&lt;del&gt;AMQ-6590&lt;/del&gt;&lt;/a&gt; fixes free page loss through recovery. The recover process can be timely, which prevents fast failover, doing recovery on shutdown is preferable, but it is still not ideal b/c it will hold onto the kahadb lock. It also can stall shutdown unexpectedly.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-7080&quot; title=&quot;Keep track of free pages - Update db.free file during checkpoints&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-7080&quot;&gt;&lt;del&gt;AMQ-7080&lt;/del&gt;&lt;/a&gt; is going to tackle checkpointing the free list. This should help avoid the need for recovery but it may still be necessary. If the perf hit is&#160;significant this may need to be optional.&lt;/p&gt;

&lt;p&gt;There will still be the need to walk the index to find the free list.&lt;/p&gt;

&lt;p&gt;It is possible to run with no free list and grow, and we can do that while we recover the free list in parallel, then merge the two at a safe point. This we can do at startup.&lt;/p&gt;

&lt;p&gt;In cases where the disk is the bottleneck this won&apos;t help much, but it will help failover and it will help shutdown, with a bit of luck the recovery will complete before we stop.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Initially I thought this would be too complex, but if we concede some growth while we recover, ie: start with an empty free list, it is should be straight forward to merge with a recovered one.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13192835">AMQ-7082</key>
            <summary>KahaDB index, recover free pages in parallel with start</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gtully">Gary Tully</assignee>
                                    <reporter username="gtully">Gary Tully</reporter>
                        <labels>
                    </labels>
                <created>Fri, 19 Oct 2018 12:42:08 +0000</created>
                <updated>Thu, 7 Mar 2019 13:07:57 +0000</updated>
                            <resolved>Wed, 7 Nov 2018 21:03:23 +0000</resolved>
                                    <version>5.15.0</version>
                                    <fixVersion>5.15.7</fixVersion>
                    <fixVersion>5.16.0</fixVersion>
                                    <component>KahaDB</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>9</watches>
                                                                                                                <comments>
                            <comment id="16656899" author="jira-bot" created="Fri, 19 Oct 2018 15:00:38 +0000"  >&lt;p&gt;Commit 79c74998dc1efb72b05d32f920052a1df4b6dd8e in activemq&apos;s branch refs/heads/master from gtully&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=79c7499&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=79c7499&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-7082&quot; title=&quot;KahaDB index, recover free pages in parallel with start&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-7082&quot;&gt;&lt;del&gt;AMQ-7082&lt;/del&gt;&lt;/a&gt; - recover index free pages in parallel with start, merge in flush, clean shutdown if complete. follow up on &lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-6590&quot; title=&quot;KahaDB index loses track of free pages on unclean shutdown&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-6590&quot;&gt;&lt;del&gt;AMQ-6590&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16656913" author="gtully" created="Fri, 19 Oct 2018 15:10:52 +0000"  >&lt;p&gt;The recovery is now back in the start phase, if it completes we are good. Otherwise we try again the next time.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jgoodyear&quot; class=&quot;user-hover&quot; rel=&quot;jgoodyear&quot;&gt;jgoodyear&lt;/a&gt; - this is a take on the parallel approach, I think it makes good sense.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=alanprot&quot; class=&quot;user-hover&quot; rel=&quot;alanprot&quot;&gt;alanprot&lt;/a&gt;&#160;- there is still&#160;a good case for checkpointing&#160;which will reduce the full replay window, but the perf impact will the be key determinant on that I think.&lt;/p&gt;

&lt;p&gt;It would be good to gauge the impact of the second reader in your case over NFS, there may be need to slow down the recovery thread such that it does not hog the disk or cpu.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16656967" author="jira-bot" created="Fri, 19 Oct 2018 15:45:15 +0000"  >&lt;p&gt;Commit efa4e683bc9f4fc458ce80125304f20a742a7907 in activemq&apos;s branch refs/heads/master from gtully&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=efa4e68&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=efa4e68&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-7082&quot; title=&quot;KahaDB index, recover free pages in parallel with start&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-7082&quot;&gt;&lt;del&gt;AMQ-7082&lt;/del&gt;&lt;/a&gt; - fix final ref in test&lt;/p&gt;</comment>
                            <comment id="16656969" author="alanprot" created="Fri, 19 Oct 2018 15:45:49 +0000"  >&lt;p&gt;This is amazing!!!!!! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/biggrin.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/biggrin.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/biggrin.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/biggrin.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/biggrin.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/biggrin.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/biggrin.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/biggrin.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Maybe we can do a small change to synchronize the&#160;newFreePages and use is as soon as it has&#160;recovered&#160;values... no?&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Something like this:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/alanprot/activemq/commit/a9354e330e41cf4bf7e6fa21b57490a3ef22609b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/alanprot/activemq/commit/a9354e330e41cf4bf7e6fa21b57490a3ef22609b&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16656986" author="gtully" created="Fri, 19 Oct 2018 15:58:55 +0000"  >&lt;p&gt;I did not want to block normal work with sync on what the recovery thread is doing. I&#160;think it will be constant churn there.&lt;/p&gt;

&lt;p&gt;Typically all&#160;operations&#160;on the pageFile hold the index lock, so it can be mostly sync free (the exception being the optional async writer thread).&lt;/p&gt;

&lt;p&gt;it may be worth a test though to validate &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16656994" author="christopher.l.shannon" created="Fri, 19 Oct 2018 16:03:01 +0000"  >&lt;p&gt;Nice work &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gtully&quot; class=&quot;user-hover&quot; rel=&quot;gtully&quot;&gt;gtully&lt;/a&gt;, this should work nicely to prevent the shutdown issue. When I&apos;m back at the office Monday I will take a look at all of this in more depth and do some testing (I&apos;ve been traveling for work all week)&lt;/p&gt;</comment>
                            <comment id="16656995" author="alanprot" created="Fri, 19 Oct 2018 16:03:20 +0000"  >&lt;p&gt;So, we can lock only if the&#160;recoveredFreeList is not empty AND freeList is empty then ... no? This is a good&#160;trade off... we only have this hit during the recovery AND we need more free pages.... Imagine that probably allocate new pages will take more time than this sync...&lt;/p&gt;

&lt;p&gt;Would be amazing to have this free pages as soon we know about them... &lt;del&gt;Maybe with this we&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-7080&quot; title=&quot;Keep track of free pages - Update db.free file during checkpoints&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-7080&quot;&gt;&lt;del&gt;AMQ-7080&lt;/del&gt;&lt;/a&gt; stop making sense at all...&lt;/del&gt;&#160;&#160;(&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-7080&quot; title=&quot;Keep track of free pages - Update db.free file during checkpoints&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-7080&quot;&gt;&lt;del&gt;AMQ-7080&lt;/del&gt;&lt;/a&gt; can still have the potential to avoid lots of read - On a NFS we can have a limited throughout - mb/s - So maybe this still good)&#160;&lt;/p&gt;</comment>
                            <comment id="16657095" author="alanprot" created="Fri, 19 Oct 2018 17:00:02 +0000"  >&lt;p&gt;This is what I meant...&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/alanprot/activemq/commit/9b96e590de8b180815bd85dc701e8d0a8f28b031&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/alanprot/activemq/commit/9b96e590de8b180815bd85dc701e8d0a8f28b031&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/biggrin.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="16658069" author="jbonofre" created="Sun, 21 Oct 2018 04:18:46 +0000"  >&lt;p&gt;Just reopen this one to include in next 5.15.7 release.&lt;/p&gt;</comment>
                            <comment id="16658304" author="jira-bot" created="Sun, 21 Oct 2018 17:29:20 +0000"  >&lt;p&gt;Commit c6103415b9a185776ebc16343c6574f7ff884806 in activemq&apos;s branch refs/heads/activemq-5.15.x from gtully&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=c610341&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=c610341&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-7082&quot; title=&quot;KahaDB index, recover free pages in parallel with start&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-7082&quot;&gt;&lt;del&gt;AMQ-7082&lt;/del&gt;&lt;/a&gt; - recover index free pages in parallel with start, merge in flush, clean shutdown if complete. follow up on &lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-6590&quot; title=&quot;KahaDB index loses track of free pages on unclean shutdown&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-6590&quot;&gt;&lt;del&gt;AMQ-6590&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16658306" author="jgenender" created="Sun, 21 Oct 2018 17:29:28 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gtully&quot; class=&quot;user-hover&quot; rel=&quot;gtully&quot;&gt;gtully&lt;/a&gt;, I love the merge...this makes sense and is a quick combination.&#160; Since the flush() happens in the checkpointUpdate, that makes this thread safe.&#160; Nice thinking about merging, that was a nice solution outside the box.&lt;/p&gt;

&lt;p&gt;This definitely needs to go into 5.15.7.&#160; I went ahead and did that as this closes the loop on any delays from freeList scanning.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16658959" author="christopher.l.shannon" created="Mon, 22 Oct 2018 12:56:38 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gtully&quot; class=&quot;user-hover&quot; rel=&quot;gtully&quot;&gt;gtully&lt;/a&gt; - I took a look at the patch, it looks ok to me although I think the variable &lt;tt&gt;needsFreePageRecovery&lt;/tt&gt; needs to be marked as volatile because it&apos;s updated async in the new free page recovery thread that kicks off.&lt;/p&gt;</comment>
                            <comment id="16659028" author="jira-bot" created="Mon, 22 Oct 2018 14:16:40 +0000"  >&lt;p&gt;Commit fb1e642c15fa842e5e25b80d89293d0bb03225c0 in activemq&apos;s branch refs/heads/master from gtully&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=fb1e642&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=fb1e642&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-7082&quot; title=&quot;KahaDB index, recover free pages in parallel with start&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-7082&quot;&gt;&lt;del&gt;AMQ-7082&lt;/del&gt;&lt;/a&gt; - ensure flush sees free list, use lazySet to avoid store barrier, thanks cshannon&lt;/p&gt;</comment>
                            <comment id="16659033" author="gtully" created="Mon, 22 Oct 2018 14:21:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cshannon&quot; class=&quot;user-hover&quot; rel=&quot;cshannon&quot;&gt;cshannon&lt;/a&gt; yep, good catch thanks. it is the lazySet semantic I was after, but I can&apos;t avoid calling it!&lt;/p&gt;</comment>
                            <comment id="16659049" author="jira-bot" created="Mon, 22 Oct 2018 14:46:00 +0000"  >&lt;p&gt;Commit a9b81ace623d62e92b75ddc31c424c0ed4cae9d1 in activemq&apos;s branch refs/heads/activemq-5.15.x from gtully&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=a9b81ac&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=a9b81ac&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-7082&quot; title=&quot;KahaDB index, recover free pages in parallel with start&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-7082&quot;&gt;&lt;del&gt;AMQ-7082&lt;/del&gt;&lt;/a&gt; - ensure flush sees free list, use lazySet to avoid store barrier, thanks cshannon&lt;/p&gt;</comment>
                            <comment id="16676575" author="gtully" created="Tue, 6 Nov 2018 10:29:05 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=alanprot&quot; class=&quot;user-hover&quot; rel=&quot;alanprot&quot;&gt;alanprot&lt;/a&gt; pointed out an issue that can cause the concurrent free page recovery to walk on newly allocated and freed pages or pages in the process of being used.&lt;/p&gt;

&lt;p&gt;The recovery processing needs to terminate at the nextFreePage&#160;id that exists at start. Everything after that is not recoverable, it is in use!&lt;/p&gt;</comment>
                            <comment id="16676576" author="gtully" created="Tue, 6 Nov 2018 10:30:24 +0000"  >&lt;p&gt;The window is small, however with something like message expiry, and all messages expiring while the broker is down, there can be alot of page file churn immediately after start. In addition if the recovery is very long, the window gets larger.&lt;/p&gt;</comment>
                            <comment id="16676683" author="christopher.l.shannon" created="Tue, 6 Nov 2018 12:12:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gtully&quot; class=&quot;user-hover&quot; rel=&quot;gtully&quot;&gt;gtully&lt;/a&gt; -  is the issue that was found something that is critical (ie we have to release a 5.15.8 update soon) or could it wait for more fixes before a new release?&lt;/p&gt;</comment>
                            <comment id="16676687" author="alvinlin123" created="Tue, 6 Nov 2018 12:21:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cshannon&quot; class=&quot;user-hover&quot; rel=&quot;cshannon&quot;&gt;cshannon&lt;/a&gt; I do believe the issue is kind of critical (thus warrants 5.15.8 update soon) as it will lead to many mysterious behavior.&lt;/p&gt;</comment>
                            <comment id="16676718" author="githubbot" created="Tue, 6 Nov 2018 12:52:22 +0000"  >&lt;p&gt;GitHub user alanprot opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/activemq/pull/316&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/activemq/pull/316&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-7082&quot; title=&quot;KahaDB index, recover free pages in parallel with start&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-7082&quot;&gt;&lt;del&gt;AMQ-7082&lt;/del&gt;&lt;/a&gt; - Make sure that the recovery will only mark pages as free i&#8230;&lt;/p&gt;

&lt;p&gt;    &#8230;f they were created in a previous execution&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/alanprot/activemq&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/alanprot/activemq&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-7082&quot; title=&quot;KahaDB index, recover free pages in parallel with start&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-7082&quot;&gt;&lt;del&gt;AMQ-7082&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/activemq/pull/316.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/activemq/pull/316.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #316&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 0d34338919edee863bd71693ee30999d9d9d6ce9&lt;br/&gt;
Author: Alan Protasio &amp;lt;alanprot@...&amp;gt;&lt;br/&gt;
Date:   2018-11-06T09:13:18Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-7082&quot; title=&quot;KahaDB index, recover free pages in parallel with start&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-7082&quot;&gt;&lt;del&gt;AMQ-7082&lt;/del&gt;&lt;/a&gt; - Make sure that the recovery will only mark pages as free if they were created in a previous execution&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16676723" author="alanprot" created="Tue, 6 Nov 2018 12:55:08 +0000"  >&lt;p&gt;Hi guys...&lt;/p&gt;

&lt;p&gt;I just created a PR with the tests...&lt;/p&gt;

&lt;p&gt;Thanks! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/biggrin.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="16676744" author="christopher.l.shannon" created="Tue, 6 Nov 2018 13:16:25 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=alanprot&quot; class=&quot;user-hover&quot; rel=&quot;alanprot&quot;&gt;alanprot&lt;/a&gt; - this looks good to me, I will merge it, thanks.&lt;/p&gt;</comment>
                            <comment id="16676759" author="jira-bot" created="Tue, 6 Nov 2018 13:25:32 +0000"  >&lt;p&gt;Commit 0d34338919edee863bd71693ee30999d9d9d6ce9 in activemq&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=alanprot&quot; class=&quot;user-hover&quot; rel=&quot;alanprot&quot;&gt;alanprot&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=0d34338&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=0d34338&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-7082&quot; title=&quot;KahaDB index, recover free pages in parallel with start&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-7082&quot;&gt;&lt;del&gt;AMQ-7082&lt;/del&gt;&lt;/a&gt; - Make sure that the recovery will only mark pages as free if they were created in a previous execution&lt;/p&gt;</comment>
                            <comment id="16676760" author="jira-bot" created="Tue, 6 Nov 2018 13:25:33 +0000"  >&lt;p&gt;Commit 81062fde88eeb5fa970e70fd851b49d442a7116a in activemq&apos;s branch refs/heads/master from Christopher L. Shannon (cshannon)&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=81062fd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=81062fd&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Merge branch &apos;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-7082&quot; title=&quot;KahaDB index, recover free pages in parallel with start&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-7082&quot;&gt;&lt;del&gt;AMQ-7082&lt;/del&gt;&lt;/a&gt;&apos;&lt;/p&gt;

&lt;p&gt;This closes #316&lt;/p&gt;

&lt;p&gt;Thanks to Alan Protasio for the patch&lt;/p&gt;</comment>
                            <comment id="16676761" author="githubbot" created="Tue, 6 Nov 2018 13:25:52 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/activemq/pull/316&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/activemq/pull/316&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16676763" author="jira-bot" created="Tue, 6 Nov 2018 13:26:56 +0000"  >&lt;p&gt;Commit 45d7676bd95a7e4594a80b025994ea3242c94586 in activemq&apos;s branch refs/heads/activemq-5.15.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=alanprot&quot; class=&quot;user-hover&quot; rel=&quot;alanprot&quot;&gt;alanprot&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=45d7676&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=45d7676&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-7082&quot; title=&quot;KahaDB index, recover free pages in parallel with start&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-7082&quot;&gt;&lt;del&gt;AMQ-7082&lt;/del&gt;&lt;/a&gt; - Make sure that the recovery will only mark pages as free if they were created in a previous execution&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 0d34338919edee863bd71693ee30999d9d9d6ce9)&lt;/p&gt;</comment>
                            <comment id="16676764" author="alanprot" created="Tue, 6 Nov 2018 13:27:20 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cshannon&quot; class=&quot;user-hover&quot; rel=&quot;cshannon&quot;&gt;cshannon&lt;/a&gt; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/biggrin.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/biggrin.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/biggrin.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="16676765" author="christopher.l.shannon" created="Tue, 6 Nov 2018 13:27:39 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gtully&quot; class=&quot;user-hover&quot; rel=&quot;gtully&quot;&gt;gtully&lt;/a&gt; - I merged the fix can you take a quick look to make sure it looks good to you before we close this again?&lt;/p&gt;</comment>
                            <comment id="16676845" author="jira-bot" created="Tue, 6 Nov 2018 14:43:17 +0000"  >&lt;p&gt;Commit 505200b92a0d72666b6665f6026a97a8f215d895 in activemq&apos;s branch refs/heads/activemq-5.15.x from Christopher L. Shannon (cshannon)&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=505200b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=505200b&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-7082&quot; title=&quot;KahaDB index, recover free pages in parallel with start&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-7082&quot;&gt;&lt;del&gt;AMQ-7082&lt;/del&gt;&lt;/a&gt; - fix compilation after merge&lt;/p&gt;</comment>
                            <comment id="16676862" author="gtully" created="Tue, 6 Nov 2018 15:00:13 +0000"  >&lt;p&gt;Fix is good, thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=alanprot&quot; class=&quot;user-hover&quot; rel=&quot;alanprot&quot;&gt;alanprot&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16677374" author="githubbot" created="Tue, 6 Nov 2018 22:38:23 +0000"  >&lt;p&gt;GitHub user alanprot opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/activemq/pull/317&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/activemq/pull/317&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-7082&quot; title=&quot;KahaDB index, recover free pages in parallel with start&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-7082&quot;&gt;&lt;del&gt;AMQ-7082&lt;/del&gt;&lt;/a&gt; We should make sure that pages that is being recovered canno&#8230;&lt;/p&gt;

&lt;p&gt;    &#8230;t be reused&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/alanprot/activemq&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/alanprot/activemq&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-7082&quot; title=&quot;KahaDB index, recover free pages in parallel with start&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-7082&quot;&gt;&lt;del&gt;AMQ-7082&lt;/del&gt;&lt;/a&gt;-2&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/activemq/pull/317.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/activemq/pull/317.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #317&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit af4b52a426f35c3c01058c5f49e40baa9fd6d771&lt;br/&gt;
Author: Alan Protasio &amp;lt;alanprot@...&amp;gt;&lt;br/&gt;
Date:   2018-11-06T22:28:32Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-7082&quot; title=&quot;KahaDB index, recover free pages in parallel with start&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-7082&quot;&gt;&lt;del&gt;AMQ-7082&lt;/del&gt;&lt;/a&gt; We should make sure that pages that is being recovered cannot be reused&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16677379" author="alanprot" created="Tue, 6 Nov 2018 22:44:41 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gtully&quot; class=&quot;user-hover&quot; rel=&quot;gtully&quot;&gt;gtully&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cshannon&quot; class=&quot;user-hover&quot; rel=&quot;cshannon&quot;&gt;cshannon&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Sorry guys... but there is one more case that this can happen...&#160;&lt;/p&gt;

&lt;p&gt;Imagine that you have a 1000 page in the file...&lt;/p&gt;

&lt;p&gt;T1 -&amp;gt; 1000 occupied pages&lt;/p&gt;

&lt;p&gt;T2 -&amp;gt; page 100 is freed (and so added to the freeList)&lt;/p&gt;

&lt;p&gt;T3 -&amp;gt; Background thread see the 100 page as free and so, add to the recoveryList&lt;/p&gt;

&lt;p&gt;T3 -&amp;gt; We need one more page and we allocate page 100 (as it was marked as free in the freeList).&lt;/p&gt;

&lt;p&gt;T4 -&amp;gt; background thread finish and mark 100 as free again...&lt;/p&gt;

&lt;p&gt;I did a PR there to prevent this...&#160;I did everything in a way that we dont need synchronization...&#160;&lt;/p&gt;

&lt;p&gt;I think now we pretty much got all the cases...&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16677995" author="gtully" created="Wed, 7 Nov 2018 10:26:49 +0000"  >&lt;p&gt;peeking at the latest additions to the fix.&lt;/p&gt;</comment>
                            <comment id="16678078" author="jira-bot" created="Wed, 7 Nov 2018 11:33:02 +0000"  >&lt;p&gt;Commit 85859fd8dc22e3251de294c23d84c12b29d4fe81 in activemq&apos;s branch refs/heads/master from gtully&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=85859fd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=85859fd&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-7082&quot; title=&quot;KahaDB index, recover free pages in parallel with start&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-7082&quot;&gt;&lt;del&gt;AMQ-7082&lt;/del&gt;&lt;/a&gt; We should make sure that pages managed during recovery are not recovered in error&lt;br/&gt;
variation of patch from Alan Protasio &amp;lt;alanprot@gmail.com&amp;gt; closes #317&lt;/p&gt;</comment>
                            <comment id="16678079" author="githubbot" created="Wed, 7 Nov 2018 11:33:23 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/activemq/pull/317&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/activemq/pull/317&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16678090" author="gtully" created="Wed, 7 Nov 2018 11:38:57 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=alanprot&quot; class=&quot;user-hover&quot; rel=&quot;alanprot&quot;&gt;alanprot&lt;/a&gt; I added an additional condition the the end of your new test to verify that newly freed pages could be reused and reworked to fix.&lt;/p&gt;

&lt;p&gt;This ensures that there is no need for further growth while recovery is in progress which is better. I think we are finally good.&lt;/p&gt;</comment>
                            <comment id="16678344" author="alanprot" created="Wed, 7 Nov 2018 15:01:26 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gtully&quot; class=&quot;user-hover&quot; rel=&quot;gtully&quot;&gt;gtully&lt;/a&gt; Makes lots of sense....&lt;/p&gt;

&lt;p&gt;If the page was freed after the restart, they should be removed from&#160;recoveredFreeList before merging as they are already tracked in freeList. This will prevent them to came back at the end of the recovery..&lt;/p&gt;

&lt;p&gt;Sound really good for me!&lt;/p&gt;</comment>
                            <comment id="16678564" author="jira-bot" created="Wed, 7 Nov 2018 17:46:39 +0000"  >&lt;p&gt;Commit ca6293b55ce49f2d0851e901d2abd62a3d6d82b6 in activemq&apos;s branch refs/heads/activemq-5.15.x from gtully&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=ca6293b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=ca6293b&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-7082&quot; title=&quot;KahaDB index, recover free pages in parallel with start&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-7082&quot;&gt;&lt;del&gt;AMQ-7082&lt;/del&gt;&lt;/a&gt; We should make sure that pages managed during recovery are not recovered in error&lt;br/&gt;
variation of patch from Alan Protasio &amp;lt;alanprot@gmail.com&amp;gt; closes #317&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 85859fd8dc22e3251de294c23d84c12b29d4fe81)&lt;/p&gt;</comment>
                            <comment id="16678712" author="jeromeinsf" created="Wed, 7 Nov 2018 19:59:30 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gtully&quot; class=&quot;user-hover&quot; rel=&quot;gtully&quot;&gt;gtully&lt;/a&gt; What is the strategy wrt&#160;ActiveMQ&#160;5.15.7 version in such a case?&lt;/p&gt;

&lt;p&gt;5.15.7 provides a fix for&#160;critical bug &lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-7067&quot; title=&quot;KahaDB Recovery can experience a dangling transaction when prepare and commit occur on different data files.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-7067&quot;&gt;&lt;del&gt;AMQ-7067&lt;/del&gt;&lt;/a&gt; but the original fix for this particular bug (&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-7082&quot; title=&quot;KahaDB index, recover free pages in parallel with start&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-7082&quot;&gt;&lt;del&gt;AMQ-7082&lt;/del&gt;&lt;/a&gt;) introduced another bug that could be considered as critical by certain given this type of comments:&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-7082?focusedCommentId=16676687&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16676687&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/AMQ-7082?focusedCommentId=16676687&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16676687&lt;/a&gt; &#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16678730" author="jgenender" created="Wed, 7 Nov 2018 20:16:04 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jeromeinsf&quot; class=&quot;user-hover&quot; rel=&quot;jeromeinsf&quot;&gt;jeromeinsf&lt;/a&gt; - You have a valid point.&#160; This Jira should have been left at 5.15.7 since it was resolved, and a new Jira should have been opened to track 5.15.8 with the additional changes that were submitted. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gtully&quot; class=&quot;user-hover&quot; rel=&quot;gtully&quot;&gt;gtully&lt;/a&gt;, Do you think that we set this back to the fix in 5.15.7, and get the changes for 5.15.8 in a new Jira to track this more clearly?&lt;/p&gt;</comment>
                            <comment id="16678745" author="christopher.l.shannon" created="Wed, 7 Nov 2018 20:29:36 +0000"  >&lt;p&gt;Yeah, just create a new Jira and link this one with the new Jira (I think there is a caused by association to say this one caused a bug).  That makes more sense to me as it will be easier to follow.  I will set this back to 5.15.7.&lt;/p&gt;</comment>
                            <comment id="16678769" author="jgenender" created="Wed, 7 Nov 2018 21:03:23 +0000"  >&lt;p&gt;Reopened and closed - continued with &lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-7093&quot; title=&quot;KahaDB index, recover free pages in parallel with start (Continued)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-7093&quot;&gt;&lt;del&gt;AMQ-7093&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                                                <inwardlinks description="is part of">
                                        <issuelink>
            <issuekey id="13196926">AMQ-7093</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13039809">AMQ-6590</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13220055">AMQ-7163</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 1 week, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3zetb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>