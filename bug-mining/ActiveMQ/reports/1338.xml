<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 05:52:00 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-2240] Camel ActiveMQComponent - Please add validation of unknown or invalid URI parameters</title>
                <link>https://issues.apache.org/jira/browse/AMQ-2240</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;AMQ is used a lot with Camel and vice-versa. In AMQ there is a activemq-camel.jar for easy AMQ-Camel integration.&lt;/p&gt;

&lt;p&gt;As Camel often uses URI for configuration we in Camel have validation for all parameters provided in the URI.&lt;br/&gt;
But this is lacked in the activemq-camel.jar so you can provide bogus or misspelled options and AMQ just keeps on running.&lt;br/&gt;
This is serious as it can be hard to overlook a tiny misspelled option and you think that it runs with this parameter, but it does not!&lt;/p&gt;

&lt;p&gt;This seems to only apply for &quot;nested&quot; URI options, eg the options prefixed with&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;jms&lt;/li&gt;
	&lt;li&gt;broker&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;For instance using this factory method:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;org.apache.activemq.camel.component.ActiveMQComponent.activeMQComponent(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; uri);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In the sample code below, for a unit test, where I have mistyped some URI options by inserting XXX or the likes:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;        ActiveMQComponent activemq = activeMQComponent(&lt;span class=&quot;code-quote&quot;&gt;&quot;vm:&lt;span class=&quot;code-comment&quot;&gt;//localhost?broker.XXX=foo&amp;amp;broker.persistent=XXX&amp;amp;broker.useJmx=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&amp;amp;jms.redeliveryPolicy.maximumRedeliveries=0&amp;amp;jms.redeliveryPolicy.initialRedeliveryDelay=500&amp;amp;jms.useAsyncSend=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&amp;amp;jms.sendTimeout=ABC&amp;amp;jms.maxXXXXReconnectAttempts=1&amp;amp;jms.timeout=3000&quot;&lt;/span&gt;);&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;But AMQ 5.2 is just started without any error indications&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;2009-05-01 09:16:53,247 [main           ] INFO  BrokerService                  - ActiveMQ 5.2.0 JMS Message Broker (localhost) is starting
2009-05-01 09:16:53,248 [main           ] INFO  BrokerService                  - For help or more information please see: http:&lt;span class=&quot;code-comment&quot;&gt;//activemq.apache.org/
&lt;/span&gt;2009-05-01 09:16:53,392 [main           ] INFO  KahaStore                      - Kaha Store using data directory activemq-data/localhost/kr-store/data
2009-05-01 09:16:53,513 [main           ] INFO  BrokerService                  - ActiveMQ JMS Message Broker (localhost, ID:davsclaus.local-50096-1241162213265-0:0) started
2009-05-01 09:16:53,520 [main           ] INFO  TransportConnector             - Connector vm:&lt;span class=&quot;code-comment&quot;&gt;//localhost Started&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;But if I enter an invalid URI without the prefix such as: bla=foo&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;        ActiveMQComponent activemq = activeMQComponent(&lt;span class=&quot;code-quote&quot;&gt;&quot;vm:&lt;span class=&quot;code-comment&quot;&gt;//localhost?bla=foo&quot;&lt;/span&gt;);&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I get a nice error report&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;org.apache.camel.RuntimeCamelException: org.springframework.jms.UncategorizedJmsException: Uncategorized exception occured during JMS processing; nested exception is javax.jms.JMSException: Could not create Transport. Reason: java.lang.IllegalArgumentException: Invalid connect parameters: {bla=foo}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12483666">AMQ-2240</key>
            <summary>Camel ActiveMQComponent - Please add validation of unknown or invalid URI parameters</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="davsclaus">Claus Ibsen</reporter>
                        <labels>
                    </labels>
                <created>Fri, 1 May 2009 07:16:59 +0000</created>
                <updated>Thu, 20 Oct 2011 15:04:50 +0000</updated>
                            <resolved>Thu, 20 Oct 2011 15:04:49 +0000</resolved>
                                    <version>5.2.0</version>
                                    <fixVersion>5.x</fixVersion>
                                    <component>Broker</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13131680" author="tabish121" created="Thu, 20 Oct 2011 15:04:49 +0000"  >&lt;p&gt;Fix applied in trunk.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>44193</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 5 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0alpr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>59791</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>