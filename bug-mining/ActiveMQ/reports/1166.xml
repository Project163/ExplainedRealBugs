<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 05:49:54 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-3167] possible skipped Queue messages in memory limited configuration with fast consumers</title>
                <link>https://issues.apache.org/jira/browse/AMQ-3167</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;regression in test from &lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-2413&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/AMQ-2413&lt;/a&gt; required some investigation. Symptom was missing messages, turned out to be in the middle of the sequence. Issue with the priority kahadb cursors and setbatch. Set batch is invoked when the cursor memory is exhausted such that replay from the store can start at the correct point. If a call to setBatch was followed by a call to recover when there was still no memory space available, the cursor could skip the next pending message.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12497051">AMQ-3167</key>
            <summary>possible skipped Queue messages in memory limited configuration with fast consumers</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gtully">Gary Tully</assignee>
                                    <reporter username="gtully">Gary Tully</reporter>
                        <labels>
                    </labels>
                <created>Fri, 28 Jan 2011 13:08:20 +0000</created>
                <updated>Fri, 11 Feb 2011 14:30:24 +0000</updated>
                            <resolved>Fri, 28 Jan 2011 13:28:11 +0000</resolved>
                                    <version>5.4.2</version>
                                    <fixVersion>5.5.0</fixVersion>
                                    <component>Broker</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12988077" author="gtully" created="Fri, 28 Jan 2011 13:28:11 +0000"  >&lt;p&gt;fix in r1064660&lt;/p&gt;

&lt;p&gt;URL: &lt;a href=&quot;http://svn.apache.org/viewvc?rev=1064660&amp;amp;view=rev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?rev=1064660&amp;amp;view=rev&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12992565" author="artnaseef" created="Wed, 9 Feb 2011 16:48:23 +0000"  >&lt;p&gt;Test use case which reproduces the problem consistently by using a small memory limit and short time delay between production and consumption.&lt;/p&gt;

&lt;p&gt;A license header as been included; feel free to replace it as-needed.&lt;/p&gt;</comment>
                            <comment id="12992569" author="artnaseef" created="Wed, 9 Feb 2011 16:53:32 +0000"  >&lt;p&gt;In the process of creating a bug report for the test case attached above, this bug report appeared to capture the problem.  Trying to backport this fix to 5.4.2, there appears to be a number of changes on which this patch depends.  Any guidance on a shorter workaround until we can upgrade to 5.5 would be appreciated.&lt;/p&gt;

&lt;p&gt;The test case attached represents a use pattern we need to support, but has been narrowed down to detect a lost message in the timeframe it takes to trigger this issue.&lt;/p&gt;</comment>
                            <comment id="12993500" author="artnaseef" created="Fri, 11 Feb 2011 14:13:50 +0000"  >&lt;p&gt;Patch against 5.4.2 that resolves this issue, created from a subset of the changes made on the trunk for this bug report.&lt;/p&gt;</comment>
                            <comment id="12993510" author="gtully" created="Fri, 11 Feb 2011 14:30:24 +0000"  >&lt;p&gt;committed your test case so we can protect your use case it into the future. thanks.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12470688" name="AMQ3167Test.java" size="13484" author="artnaseef" created="Wed, 9 Feb 2011 16:48:23 +0000"/>
                            <attachment id="12470859" name="patch.amq3167.activemq-5.4.2" size="1555" author="artnaseef" created="Fri, 11 Feb 2011 14:13:50 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>14729</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 41 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ajxb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>59501</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310080" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Regression</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10091"><![CDATA[Regression]]></customfieldvalue>
    <customfieldvalue key="10092"><![CDATA[Unit Test Broken]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>