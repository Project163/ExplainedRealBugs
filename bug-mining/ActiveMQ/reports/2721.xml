<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 06:33:03 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-6109] Destination with wildcard may not have correct policy applied</title>
                <link>https://issues.apache.org/jira/browse/AMQ-6109</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;When a destination is created with a wildcard, it may not have the correct policy applied.  &lt;/p&gt;

&lt;p&gt;For example, if there are two policies:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;policyMap&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;policyEntries&amp;gt;&lt;/span&gt;
         &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;policyEntry queue=&lt;span class=&quot;code-quote&quot;&gt;&quot;test.queue.&amp;gt;&lt;/span&gt;&quot;&lt;/span&gt; memoryLimit=&lt;span class=&quot;code-quote&quot;&gt;&quot;20mb&quot;&lt;/span&gt; /&amp;gt;
         &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;policyEntry queue=&lt;span class=&quot;code-quote&quot;&gt;&quot;test.queue.a&quot;&lt;/span&gt; memoryLimit=&lt;span class=&quot;code-quote&quot;&gt;&quot;5000000&quot;&lt;/span&gt;  /&amp;gt;&lt;/span&gt;
     &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/policyEntries&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/policyMap&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and if the queue &lt;tt&gt;test.queue.&amp;gt;&lt;/tt&gt; is created, the policy for &lt;tt&gt;test.queue.a&lt;/tt&gt; will be applied to that destination instead of the &lt;tt&gt;test.queue.&amp;gt;&lt;/tt&gt; policy.&lt;/p&gt;

&lt;p&gt;Some work was done on this in &lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-5972&quot; title=&quot;Policy entries not applied in correct order&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-5972&quot;&gt;&lt;del&gt;AMQ-5972&lt;/del&gt;&lt;/a&gt; and that seems to have fixed most of the issues, but there is this one edge case where we need to account for what happens if a policy matches a destination exactly.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12924527">AMQ-6109</key>
            <summary>Destination with wildcard may not have correct policy applied</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cshannon">Christopher L. Shannon</assignee>
                                    <reporter username="cshannon">Christopher L. Shannon</reporter>
                        <labels>
                    </labels>
                <created>Mon, 28 Dec 2015 16:39:26 +0000</created>
                <updated>Fri, 16 Feb 2018 15:38:24 +0000</updated>
                            <resolved>Tue, 29 Dec 2015 12:49:26 +0000</resolved>
                                    <version>5.12.1</version>
                    <version>5.13.0</version>
                                    <fixVersion>5.12.2</fixVersion>
                    <fixVersion>5.13.1</fixVersion>
                    <fixVersion>5.14.0</fixVersion>
                                    <component>Broker</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="15072894" author="jira-bot" created="Mon, 28 Dec 2015 16:41:40 +0000"  >&lt;p&gt;Commit 8e2176d93c95d847c813f54d54aaf9bafba4d5c4 in activemq&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cshannon&quot; class=&quot;user-hover&quot; rel=&quot;cshannon&quot;&gt;cshannon&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=8e2176d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=8e2176d&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-6109&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/AMQ-6109&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The chooseValue method in DestinationMap will now always return the&lt;br/&gt;
exact match, if there is one, else it will then sort as before.&lt;/p&gt;</comment>
                            <comment id="15072895" author="christopher.l.shannon" created="Mon, 28 Dec 2015 16:42:20 +0000"  >&lt;p&gt;Patch applied, I will resolve and backport the fixes to 5.12.2 and 5.13.0 if all of the tests pass.&lt;/p&gt;</comment>
                            <comment id="15073864" author="jira-bot" created="Tue, 29 Dec 2015 12:47:23 +0000"  >&lt;p&gt;Commit 63f045e5c97419b1bb93b5475226832a9c7104a4 in activemq&apos;s branch refs/heads/activemq-5.13.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cshannon&quot; class=&quot;user-hover&quot; rel=&quot;cshannon&quot;&gt;cshannon&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=63f045e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=63f045e&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-6109&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/AMQ-6109&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The chooseValue method in DestinationMap will now always return the&lt;br/&gt;
exact match, if there is one, else it will then sort as before.&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 8e2176d93c95d847c813f54d54aaf9bafba4d5c4)&lt;/p&gt;</comment>
                            <comment id="15073866" author="jira-bot" created="Tue, 29 Dec 2015 12:49:09 +0000"  >&lt;p&gt;Commit bf35f42bb69e57d5aebdb4f2afc95f544fb1edb5 in activemq&apos;s branch refs/heads/activemq-5.12.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cshannon&quot; class=&quot;user-hover&quot; rel=&quot;cshannon&quot;&gt;cshannon&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=bf35f42&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=bf35f42&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-6109&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/AMQ-6109&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The chooseValue method in DestinationMap will now always return the&lt;br/&gt;
exact match, if there is one, else it will then sort as before.&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 8e2176d93c95d847c813f54d54aaf9bafba4d5c4)&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12873234">AMQ-5972</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13139063">AMQ-6901</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 47 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2qcgn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>