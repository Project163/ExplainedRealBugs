<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 06:39:42 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-6561] Broker does not close connection for all connection attempt errors</title>
                <link>https://issues.apache.org/jira/browse/AMQ-6561</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;When a client connects to the broker the connection gets added inside the processAddConnection method in TransportConnection.  Right now if there is an exception the socket is only shutdown if the type of exception is SecurityException.  However the connection should really be closed if any error occurs when trying to add the connection.  &lt;/p&gt;

&lt;p&gt;For example if an InvalidClientIDException occurs then the connection is no longer tracked by the broker but the socket stays open until the client actually closes it on their end. This should be fixed so that the error terminates the socket connection since the connection attempt failed.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13034391">AMQ-6561</key>
            <summary>Broker does not close connection for all connection attempt errors</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cshannon">Christopher L. Shannon</assignee>
                                    <reporter username="cshannon">Christopher L. Shannon</reporter>
                        <labels>
                    </labels>
                <created>Thu, 12 Jan 2017 15:17:07 +0000</created>
                <updated>Mon, 22 Feb 2021 13:52:17 +0000</updated>
                            <resolved>Thu, 12 Jan 2017 15:23:01 +0000</resolved>
                                    <version>5.14.3</version>
                                    <fixVersion>5.15.0</fixVersion>
                    <fixVersion>5.14.4</fixVersion>
                                    <component>Broker</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="15821244" author="jira-bot" created="Thu, 12 Jan 2017 15:22:13 +0000"  >&lt;p&gt;Commit d9c74d7317677725a52466349f7ed91911664d3d in activemq&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cshannon&quot; class=&quot;user-hover&quot; rel=&quot;cshannon&quot;&gt;cshannon&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=d9c74d7&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=d9c74d7&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-6561&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/AMQ-6561&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Stop connections on all connection attempt errors, not just security&lt;br/&gt;
exceptions, to prevent dangling open sockets.&lt;/p&gt;</comment>
                            <comment id="15821246" author="jira-bot" created="Thu, 12 Jan 2017 15:22:27 +0000"  >&lt;p&gt;Commit df7aa6e892853fd442739a49417ecdf34a6cac63 in activemq&apos;s branch refs/heads/activemq-5.14.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cshannon&quot; class=&quot;user-hover&quot; rel=&quot;cshannon&quot;&gt;cshannon&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=df7aa6e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=df7aa6e&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-6561&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/AMQ-6561&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Stop connections on all connection attempt errors, not just security&lt;br/&gt;
exceptions, to prevent dangling open sockets.&lt;/p&gt;

&lt;p&gt;(cherry picked from commit d9c74d7317677725a52466349f7ed91911664d3d)&lt;/p&gt;</comment>
                            <comment id="15823798" author="xabhi" created="Mon, 16 Jan 2017 11:19:07 +0000"  >&lt;p&gt;Hi Christopher,&lt;/p&gt;

&lt;p&gt;I am looking to upgrade my ActiveMQ version (v5.11.1 to v5.14.x) and I just saw this bug. Can this bug cause file descriptor leakage? When do you guys plan to release v5.14.4? Are there any other bugs which i should wait for them to be fixed in 5.14.4? &lt;/p&gt;</comment>
                            <comment id="15823970" author="christopher.l.shannon" created="Mon, 16 Jan 2017 13:36:03 +0000"  >&lt;p&gt;Yes this bug can cause file descriptors to be leaked if the client does not close the connection.  I&apos;m not entirely sure when 5.14.4 will be released (I guess when we determine there is enough bugs fixed) but if you update to 5.14.3 now then the update to 5.14.4 later would be pretty easy.  &lt;/p&gt;

&lt;p&gt;This bug has existed for a long time and is not new so I wouldn&apos;t necessarily hold off upgrading.  The affects version should probably be updated to show that it actually goes back quite a while.  I just listed the latest version but I believe this issue goes back several versions.&lt;/p&gt;</comment>
                            <comment id="15825623" author="xabhi" created="Tue, 17 Jan 2017 08:18:18 +0000"  >&lt;p&gt;I see that the code that you fixed is present in v5.11.1. Can you explain a little more on how this bug will manifest  - like do we see sockets in close_wait state? what is the behavior when this bug happens?&lt;/p&gt;</comment>
                            <comment id="15825948" author="christopher.l.shannon" created="Tue, 17 Jan 2017 12:06:35 +0000"  >&lt;p&gt;The sockets will stay in established state if they stay open.  The issue occurs if a new connection from a client fails for a reason other than a security reason (such as invalid clientId) and then the client doesn&apos;t close the socket on their end.  So if the client calls close() on their connection after they get an error or if they shutdown the JVM then the socket would close and it would be fine.  As far as the behavior, you just end up with a bunch of open sockets that won&apos;t be closed.  This of course is bad as you can run out of file descriptors, etc.&lt;/p&gt;

&lt;p&gt;If you want to see the behavior in action take a look at the unit test I committed: &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=activemq.git;a=blob;f=activemq-unit-tests/src/test/java/org/apache/activemq/transport/tcp/TcpTransportCloseSocketTest.java;h=ad2080beaea2a21c24a37003cbab6c7a63344aa1;hb=df7aa6e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=activemq.git;a=blob;f=activemq-unit-tests/src/test/java/org/apache/activemq/transport/tcp/TcpTransportCloseSocketTest.java;h=ad2080beaea2a21c24a37003cbab6c7a63344aa1;hb=df7aa6e&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This test shows that after the fix there is only 1 socket open instead of 2 because the second connection attempt fails.  If you run this test against an older version such as 5.14.3 then there will be 2 sockets open even though the second connection attempt failed with an InvalidClientIDException because both the broker and client didn&apos;t close the socket.&lt;/p&gt;</comment>
                            <comment id="15924062" author="jira-bot" created="Tue, 14 Mar 2017 11:59:33 +0000"  >&lt;p&gt;Commit 36689beff755fd6391c3a8291d1e89fc782eac0d in activemq&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gtully&quot; class=&quot;user-hover&quot; rel=&quot;gtully&quot;&gt;gtully&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=36689be&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=36689be&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-6561&quot; title=&quot;Broker does not close connection for all connection attempt errors&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-6561&quot;&gt;&lt;del&gt;AMQ-6561&lt;/del&gt;&lt;/a&gt; fix up unit test that expects socket to remain open after InvalidClientIDException, dubious expectation in the test that wants to verify broker is ok&lt;/p&gt;</comment>
                            <comment id="17288389" author="nauman.hameed@enghouse.com" created="Mon, 22 Feb 2021 13:52:17 +0000"  >&lt;p&gt; I am facing a similar issue using ActiveMQ 5.13.2. I have 2 ActiveMQ nodes where one acts as publisher and other is subscriber. Subscriber is attempting to make a connection with publisher after publisher re-start but it is failing with error mentioned in this case.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2021-02-16 19:31:26,837 | DEBUG | Setting up &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; connection id: AON-CUAC01-AMS1-&amp;gt;AON-CUAC01-LON1-49164-1611665757700-28:1, address: vm:&lt;span class=&quot;code-comment&quot;&gt;//AON-CUAC01-AMS1#76, info: ConnectionInfo {commandId = 1, responseRequired = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, connectionId = AON-CUAC01-AMS1-&amp;gt;AON-CUAC01-LON1-49164-1611665757700-28:1, clientId = Broker12Bridge_AON-CUAC01-LON1_inbound_AON-CUAC01-AMS1, clientIp = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, userName = amqsystem, password = *****, brokerPath = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, brokerMasterConnector = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, manageable = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, clientMaster = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, faultTolerant = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, failoverReconnect = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;} | org.apache.activemq.broker.TransportConnection | triggerStartAsyncNetworkBridgeCreation: remoteBroker=tcp://AON-CUAC01-LON1/10.250.242.29:61616@58562, localBroker= vm://AON-CUAC01-AMS1#76
&lt;/span&gt;2021-02-16 19:31:26,837 | INFO  | Adding Connection: ConnectionInfo {commandId = 1, responseRequired = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, connectionId = AON-CUAC01-AMS1-&amp;gt;AON-CUAC01-LON1-49164-1611665757700-28:1, clientId = Broker12Bridge_AON-CUAC01-LON1_inbound_AON-CUAC01-AMS1, clientIp = vm:&lt;span class=&quot;code-comment&quot;&gt;//AON-CUAC01-AMS1#76, userName = amqsystem, password = *****, brokerPath = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, brokerMasterConnector = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, manageable = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, clientMaster = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, faultTolerant = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, failoverReconnect = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;} | org.apache.activemq.broker.util.LoggingBrokerPlugin | triggerStartAsyncNetworkBridgeCreation: remoteBroker=tcp://AON-CUAC01-LON1/10.250.242.29:61616@58562, localBroker= vm://AON-CUAC01-AMS1#76
&lt;/span&gt;2021-02-16 19:31:26,838 | WARN  | Failed to add Connection AON-CUAC01-AMS1-&amp;gt;AON-CUAC01-LON1-49164-1611665757700-28:1 due to javax.jms.InvalidClientIDException: Broker: AON-CUAC01-AMS1 - Client: Broker12Bridge_AON-CUAC01-LON1_inbound_AON-CUAC01-AMS1 already connected from vm:&lt;span class=&quot;code-comment&quot;&gt;//AON-CUAC01-AMS1#60 | org.apache.activemq.broker.TransportConnection | triggerStartAsyncNetworkBridgeCreation: remoteBroker=tcp://AON-CUAC01-LON1/10.250.242.29:61616@58562, localBroker= vm://AON-CUAC01-AMS1#76
&lt;/span&gt;2021-02-16 19:31:26,838 | DEBUG | Error occured &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; processing sync command: ConnectionInfo {commandId = 1, responseRequired = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, connectionId = AON-CUAC01-AMS1-&amp;gt;AON-CUAC01-LON1-49164-1611665757700-28:1, clientId = Broker12Bridge_AON-CUAC01-LON1_inbound_AON-CUAC01-AMS1, clientIp = vm:&lt;span class=&quot;code-comment&quot;&gt;//AON-CUAC01-AMS1#76, userName = amqsystem, password = *****, brokerPath = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, brokerMasterConnector = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, manageable = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, clientMaster = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, faultTolerant = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, failoverReconnect = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;}, exception: javax.jms.InvalidClientIDException: Broker: AON-CUAC01-AMS1 - Client: Broker12Bridge_AON-CUAC01-LON1_inbound_AON-CUAC01-AMS1 already connected from vm://AON-CUAC01-AMS1#60 | org.apache.activemq.broker.TransportConnection.Service | triggerStartAsyncNetworkBridgeCreation: remoteBroker=tcp://AON-CUAC01-LON1/10.250.242.29:61616@58562, localBroker= vm://AON-CUAC01-AMS1#76
&lt;/span&gt;javax.jms.InvalidClientIDException: Broker: AON-CUAC01-AMS1 - Client: Broker12Bridge_AON-CUAC01-LON1_inbound_AON-CUAC01-AMS1 already connected from vm:&lt;span class=&quot;code-comment&quot;&gt;//AON-CUAC01-AMS1#60
&lt;/span&gt;	at org.apache.activemq.broker.region.RegionBroker.addConnection(RegionBroker.java:255)
	at org.apache.activemq.broker.BrokerFilter.addConnection(BrokerFilter.java:98)
	at org.apache.activemq.advisory.AdvisoryBroker.addConnection(AdvisoryBroker.java:116)
	at org.apache.activemq.broker.BrokerFilter.addConnection(BrokerFilter.java:98)
	at org.apache.activemq.broker.BrokerFilter.addConnection(BrokerFilter.java:98)
	at org.apache.activemq.broker.BrokerFilter.addConnection(BrokerFilter.java:98)
	at org.apache.activemq.broker.MutableBrokerFilter.addConnection(MutableBrokerFilter.java:103)
	at org.apache.activemq.broker.util.LoggingBrokerPlugin.addConnection(LoggingBrokerPlugin.java:178)
	at org.apache.activemq.broker.BrokerFilter.addConnection(BrokerFilter.java:98)
	at org.apache.activemq.security.SimpleAuthenticationBroker.addConnection(SimpleAuthenticationBroker.java:77)
	at org.apache.activemq.broker.MutableBrokerFilter.addConnection(MutableBrokerFilter.java:103)
	at org.apache.activemq.broker.TransportConnection.processAddConnection(TransportConnection.java:817)
	at org.apache.activemq.command.ConnectionInfo.visit(ConnectionInfo.java:139)
	at org.apache.activemq.broker.TransportConnection.service(TransportConnection.java:338)
	at org.apache.activemq.broker.TransportConnection$1.onCommand(TransportConnection.java:188)
	at org.apache.activemq.transport.ResponseCorrelator.onCommand(ResponseCorrelator.java:116)
	at org.apache.activemq.transport.MutexTransport.onCommand(MutexTransport.java:50)
	at org.apache.activemq.transport.vm.VMTransport.doDispatch(VMTransport.java:162)
	at org.apache.activemq.transport.vm.VMTransport.dispatch(VMTransport.java:154)
	at org.apache.activemq.transport.vm.VMTransport.oneway(VMTransport.java:131)
	at org.apache.activemq.transport.MutexTransport.oneway(MutexTransport.java:68)
	at org.apache.activemq.transport.ResponseCorrelator.asyncRequest(ResponseCorrelator.java:81)
	at org.apache.activemq.transport.ResponseCorrelator.request(ResponseCorrelator.java:86)
	at org.apache.activemq.network.DemandForwardingBridgeSupport.startLocalBridge(DemandForwardingBridgeSupport.java:468)
	at org.apache.activemq.network.DemandForwardingBridgeSupport.doStartLocalAndRemoteBridges(DemandForwardingBridgeSupport.java:421)
	at org.apache.activemq.network.DemandForwardingBridgeSupport.access$500(DemandForwardingBridgeSupport.java:105)
	at org.apache.activemq.network.DemandForwardingBridgeSupport$5.run(DemandForwardingBridgeSupport.java:336)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:748)
2021-02-16 19:31:26,838 | INFO  | Network connection between vm:&lt;span class=&quot;code-comment&quot;&gt;//AON-CUAC01-AMS1#76 and tcp://AON-CUAC01-LON1/10.250.242.29:61616@58562 shutdown due to a local error: javax.jms.InvalidClientIDException: Broker: AON-CUAC01-AMS1 - Client: Broker12Bridge_AON-CUAC01-LON1_inbound_AON-CUAC01-AMS1 already connected from vm://AON-CUAC01-AMS1#60 | org.apache.activemq.network.DemandForwardingBridgeSupport | triggerStartAsyncNetworkBridgeCreation: remoteBroker=tcp://AON-CUAC01-LON1/10.250.242.29:61616@58562, localBroker= vm://AON-CUAC01-AMS1#76
&lt;/span&gt;2021-02-16 19:31:26,838 | DEBUG | The local Exception was: javax.jms.InvalidClientIDException: Broker: AON-CUAC01-AMS1 - Client: Broker12Bridge_AON-CUAC01-LON1_inbound_AON-CUAC01-AMS1 already connected from vm:&lt;span class=&quot;code-comment&quot;&gt;//AON-CUAC01-AMS1#60 | org.apache.activemq.network.DemandForwardingBridgeSupport | triggerStartAsyncNetworkBridgeCreation: remoteBroker=tcp://AON-CUAC01-LON1/10.250.242.29:61616@58562, localBroker= vm://AON-CUAC01-AMS1#76
&lt;/span&gt;javax.jms.InvalidClientIDException: Broker: AON-CUAC01-AMS1 - Client: Broker12Bridge_AON-CUAC01-LON1_inbound_AON-CUAC01-AMS1 already connected from vm:&lt;span class=&quot;code-comment&quot;&gt;//AON-CUAC01-AMS1#60
&lt;/span&gt;	at org.apache.activemq.broker.region.RegionBroker.addConnection(RegionBroker.java:255)
	at org.apache.activemq.broker.BrokerFilter.addConnection(BrokerFilter.java:98)
	at org.apache.activemq.advisory.AdvisoryBroker.addConnection(AdvisoryBroker.java:116)
	at org.apache.activemq.broker.BrokerFilter.addConnection(BrokerFilter.java:98)
	at org.apache.activemq.broker.BrokerFilter.addConnection(BrokerFilter.java:98)
	at org.apache.activemq.broker.BrokerFilter.addConnection(BrokerFilter.java:98)
	at org.apache.activemq.broker.MutableBrokerFilter.addConnection(MutableBrokerFilter.java:103)
	at org.apache.activemq.broker.util.LoggingBrokerPlugin.addConnection(LoggingBrokerPlugin.java:178)
	at org.apache.activemq.broker.BrokerFilter.addConnection(BrokerFilter.java:98)
	at org.apache.activemq.security.SimpleAuthenticationBroker.addConnection(SimpleAuthenticationBroker.java:77)
	at org.apache.activemq.broker.MutableBrokerFilter.addConnection(MutableBrokerFilter.java:103)
	at org.apache.activemq.broker.TransportConnection.processAddConnection(TransportConnection.java:817)
	at org.apache.activemq.command.ConnectionInfo.visit(ConnectionInfo.java:139)
	at org.apache.activemq.broker.TransportConnection.service(TransportConnection.java:338)
	at org.apache.activemq.broker.TransportConnection$1.onCommand(TransportConnection.java:188)
	at org.apache.activemq.transport.ResponseCorrelator.onCommand(ResponseCorrelator.java:116)
	at org.apache.activemq.transport.MutexTransport.onCommand(MutexTransport.java:50)
	at org.apache.activemq.transport.vm.VMTransport.doDispatch(VMTransport.java:162)
	at org.apache.activemq.transport.vm.VMTransport.dispatch(VMTransport.java:154)
	at org.apache.activemq.transport.vm.VMTransport.oneway(VMTransport.java:131)
	at org.apache.activemq.transport.MutexTransport.oneway(MutexTransport.java:68)
	at org.apache.activemq.transport.ResponseCorrelator.asyncRequest(ResponseCorrelator.java:81)
	at org.apache.activemq.transport.ResponseCorrelator.request(ResponseCorrelator.java:86)
	at org.apache.activemq.network.DemandForwardingBridgeSupport.startLocalBridge(DemandForwardingBridgeSupport.java:468)
	at org.apache.activemq.network.DemandForwardingBridgeSupport.doStartLocalAndRemoteBridges(DemandForwardingBridgeSupport.java:421)
	at org.apache.activemq.network.DemandForwardingBridgeSupport.access$500(DemandForwardingBridgeSupport.java:105)
	at org.apache.activemq.network.DemandForwardingBridgeSupport$5.run(DemandForwardingBridgeSupport.java:336)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:748)
2021-02-16 19:31:26,838 | DEBUG |  stopping AON-CUAC01-AMS1 bridge to AON-CUAC01-LON1 | org.apache.activemq.network.DemandForwardingBridgeSupport | ActiveMQ BrokerService[AON-CUAC01-AMS1] Task-112
2021-02-16 19:31:26,839 | DEBUG | Failure occurred soon after the discovery event was generated.  It will be classified as a connection failure: [tcp:&lt;span class=&quot;code-comment&quot;&gt;//AON-CUAC01-LON1:61616, failed:&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, connectionFailures:2] | org.apache.activemq.transport.discovery.simple.SimpleDiscoveryAgent | Simple Discovery Agent-20
&lt;/span&gt;2021-02-16 19:31:26,839 | DEBUG | Waiting 4000 ms before attempting to reconnect. | org.apache.activemq.transport.discovery.simple.SimpleDiscoveryAgent | Simple Discovery Agent-20
2021-02-16 19:31:26,839 | DEBUG | Stopping connection: vm:&lt;span class=&quot;code-comment&quot;&gt;//AON-CUAC01-AMS1#76 | org.apache.activemq.broker.TransportConnection | ActiveMQ BrokerService[AON-CUAC01-AMS1] Task-114
&lt;/span&gt;2021-02-16 19:31:26,839 | DEBUG | Stopped transport: vm:&lt;span class=&quot;code-comment&quot;&gt;//AON-CUAC01-AMS1#76 | org.apache.activemq.broker.TransportConnection | ActiveMQ BrokerService[AON-CUAC01-AMS1] Task-114
&lt;/span&gt;2021-02-16 19:31:26,839 | DEBUG | Stopping transport tcp:&lt;span class=&quot;code-comment&quot;&gt;//AON-CUAC01-LON1/10.250.242.29:61616@58562 | org.apache.activemq.transport.tcp.TcpTransport | ActiveMQ BrokerService[AON-CUAC01-AMS1] Task-112
&lt;/span&gt;2021-02-16 19:31:26,840 | DEBUG | Connection Stopped: vm:&lt;span class=&quot;code-comment&quot;&gt;//AON-CUAC01-AMS1#76 | org.apache.activemq.broker.TransportConnection | ActiveMQ BrokerService[AON-CUAC01-AMS1] Task-114
&lt;/span&gt;2021-02-16 19:31:26,840 | DEBUG | Initialized TaskRunnerFactory[ActiveMQ Task] using ExecutorService: &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; | org.apache.activemq.thread.TaskRunnerFactory | ActiveMQ BrokerService[AON-CUAC01-AMS1] Task-112
2021-02-16 19:31:26,840 | DEBUG | Closed socket Socket[addr=AON-CUAC01-LON1/10.250.242.29,port=61616,localport=58562] | org.apache.activemq.transport.tcp.TcpTransport | ActiveMQ Task-1
2021-02-16 19:31:26,840 | DEBUG | Shutting down VM connectors &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; broker: AON-CUAC01-AMS1 | org.apache.activemq.transport.vm.VMTransportFactory | ActiveMQ BrokerService[AON-CUAC01-AMS1] Task-112
2021-02-16 19:31:26,841 | DEBUG | Stopping connection: vm:&lt;span class=&quot;code-comment&quot;&gt;//AON-CUAC01-AMS1#78 | org.apache.activemq.broker.TransportConnection | ActiveMQ BrokerService[AON-CUAC01-AMS1] Task-115
&lt;/span&gt;2021-02-16 19:31:26,841 | DEBUG | Stopped transport: vm:&lt;span class=&quot;code-comment&quot;&gt;//AON-CUAC01-AMS1#78 | org.apache.activemq.broker.TransportConnection | ActiveMQ BrokerService[AON-CUAC01-AMS1] Task-115
&lt;/span&gt;2021-02-16 19:31:26,841 | DEBUG | Connection Stopped: vm:&lt;span class=&quot;code-comment&quot;&gt;//AON-CUAC01-AMS1#78 | org.apache.activemq.broker.TransportConnection | ActiveMQ BrokerService[AON-CUAC01-AMS1] Task-115
&lt;/span&gt;2021-02-16 19:31:26,841 | INFO  | Connector vm:&lt;span class=&quot;code-comment&quot;&gt;//AON-CUAC01-AMS1 stopped | org.apache.activemq.broker.TransportConnector | ActiveMQ BrokerService[AON-CUAC01-AMS1] Task-112
&lt;/span&gt;2021-02-16 19:31:26,841 | INFO  | AON-CUAC01-AMS1 bridge to AON-CUAC01-LON1 stopped | org.apache.activemq.network.DemandForwardingBridgeSupport | ActiveMQ BrokerService[AON-CUAC01-AMS1] Task-112
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I am not sure if this is exactly same issue as yours. Can you please comment?&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                            <outwardlinks description="causes">
                                        <issuelink>
            <issuekey id="13236272">AMQ-7217</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13039275">AMQ-6586</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 38 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i38n33:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>