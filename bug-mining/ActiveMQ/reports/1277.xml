<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 05:51:18 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-1942] Numeric selectors do not work in STOMP</title>
                <link>https://issues.apache.org/jira/browse/AMQ-1942</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;JMS SQL92 numeric selectors, such as &lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&amp;lt; &amp;gt; &amp;lt;= &amp;gt;=&lt;/li&gt;
	&lt;li&gt;BETWEEN val AND val&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Fail to work via STOMP.&lt;/p&gt;

&lt;p&gt;Possible solutions:&lt;br/&gt;
  1.  String Operands to numeric selector operators are converted to Numeric types&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;only in STOMP?&lt;br/&gt;
  2.  Explicit casting to SQL92 Numeric types becomes supported in selectors, ie&lt;/li&gt;
	&lt;li&gt;( INTEGER(field) &amp;lt;= 5)&lt;/li&gt;
&lt;/ul&gt;

</description>
                <environment></environment>
        <key id="12483322">AMQ-1942</key>
            <summary>Numeric selectors do not work in STOMP</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tabish">Timothy A. Bish</assignee>
                                    <reporter username="ruby_stomp_user">Marc Siegel</reporter>
                        <labels>
                    </labels>
                <created>Wed, 17 Sep 2008 15:59:29 +0000</created>
                <updated>Tue, 20 Sep 2011 10:42:11 +0000</updated>
                            <resolved>Sat, 13 Aug 2011 22:29:38 +0000</resolved>
                                    <version>5.1.0</version>
                                    <fixVersion>5.6.0</fixVersion>
                                        <due></due>
                            <votes>2</votes>
                                    <watches>2</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="72000">20h</timeoriginalestimate>
                            <timeestimate seconds="72000">20h</timeestimate>
                                        <comments>
                            <comment id="13019308" author="andras" created="Wed, 13 Apr 2011 13:16:23 +0000"  >&lt;p&gt;Any related tickets, threads about this? Should not be a huge fix unless i&apos;m missing something.&lt;br/&gt;
Thanks!&lt;/p&gt;

&lt;p&gt;ps: my message on activemq-users &lt;a href=&quot;http://activemq.2283324.n4.nabble.com/Integer-header-in-STOMP-submitted-message-for-numeric-selector-header-gt-n-string-td3444817.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://activemq.2283324.n4.nabble.com/Integer-header-in-STOMP-submitted-message-for-numeric-selector-header-gt-n-string-td3444817.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13019310" author="tabish121" created="Wed, 13 Apr 2011 13:23:09 +0000"  >&lt;p&gt;The Stomp Spec 1.0 / 1.1 doesn&apos;t yet define encoding for numeric types in the headers.  You might want to get involved in the Stomp Spec mailing list to push for this in v2.0 of the spec.  See: &lt;a href=&quot;http://stomp.github.com/index.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://stomp.github.com/index.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13019373" author="andras" created="Wed, 13 Apr 2011 15:12:30 +0000"  >&lt;p&gt;Thanks, i will, and it would indeed make a great addition to the spec.. However, i see this particular problem as being outside the JMS ( specifically, what subset of SQL92 is used for selectors - if that is defined in there at all ) and STOMP specifications. I haven&apos;t had a look yet, but i assume all custom (non-JMS) message headers from a STOMP message are being saved into a string type property. Wouldn&apos;t it make sense to try and make an educated guess about the intended type of the STOMP header based on its content? At least as far as numeric and string types go. ( This functionality could depend on configuration to isolate a possible performance hit )&lt;/p&gt;

&lt;p&gt;in the mean time i&apos;ll familiarize myself with the STOMP transport, maybe i can come up with a patch to better illustrate this ( if it is at all feasible )&lt;/p&gt;

&lt;p&gt;regards,&lt;br/&gt;
Andras&lt;/p&gt;</comment>
                            <comment id="13019386" author="ruby_stomp_user" created="Wed, 13 Apr 2011 15:33:29 +0000"  >&lt;p&gt;@Andras_Szerdahelyi Wow, I filed this bug report in 2009 with the EXACT same expectations and intent that you are expressing now. I just want to commend you and second your intent to solve this problem in some way that is perhaps separable or orthogonal to the JMS or STOMP designs. This is absolutely just a question of &quot;allowing&quot; the user to pass information &lt;b&gt;through&lt;/b&gt; STOMP into the JMS headers that would otherwise simply work.&lt;/p&gt;

&lt;p&gt;I continue to agree with you that the solution is either:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Best guess at typing, as you suggested, OR&lt;/li&gt;
	&lt;li&gt;A mechanism for explicit casting&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Looking forward to seeing this issue eventually solved.&lt;br/&gt;
-Marc&lt;/p&gt;</comment>
                            <comment id="13058762" author="tabish121" created="Fri, 1 Jul 2011 20:11:05 +0000"  >&lt;p&gt;This is a limitation of the Stomp specification.  Suggest getting active on the Stomp group and requesting this sort of thing be added to the next Stomp spec.&lt;/p&gt;</comment>
                            <comment id="13059029" author="chirino" created="Sat, 2 Jul 2011 14:34:35 +0000"  >&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;First off, the STOMP spec does not define how selectors work.  So this is purely a ActiveMQ extension to the STOMP spec and I think we should be able to make it just work as expected even if the type info is not part of each header.  &lt;/p&gt;

&lt;p&gt;The approach that Apollo took was to auto convert String header values to right numeric type in the comparison operation.&lt;/p&gt;</comment>
                            <comment id="13084725" author="tabish121" created="Sat, 13 Aug 2011 22:29:38 +0000"  >&lt;p&gt;Back port of the Apollo version of the comparison filter.  Added tests to stomp tests to show the numeric selectors in action.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>14531</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 15 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0aktj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>59646</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>