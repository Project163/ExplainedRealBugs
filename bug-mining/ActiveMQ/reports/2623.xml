<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 06:17:15 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-5921] ClassLoadingAwareObjectInputStream no longer handles void type</title>
                <link>https://issues.apache.org/jira/browse/AMQ-5921</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;The change made in &lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-1584&quot; title=&quot;ClassLoadingAwareObjectInputStream cannot load primary classes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-1584&quot;&gt;&lt;del&gt;AMQ-1584&lt;/del&gt;&lt;/a&gt; changed how primitive classes are handled which is fine, but it got rid of the check for &quot;void&quot;.&lt;/p&gt;

&lt;p&gt;Just need to add a check to the end of the &quot;loadSimpleType(String name)&quot; method:&lt;/p&gt;

&lt;p&gt;...&lt;br/&gt;
else if (&quot;void&quot;.equals(name)) {&lt;br/&gt;
    return void.class;&lt;br/&gt;
}&lt;br/&gt;
...&lt;/p&gt;</description>
                <environment></environment>
        <key id="12852604">AMQ-5921</key>
            <summary>ClassLoadingAwareObjectInputStream no longer handles void type</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="pmweiss">Peter Weiss</reporter>
                        <labels>
                    </labels>
                <created>Thu, 6 Aug 2015 15:25:50 +0000</created>
                <updated>Fri, 7 Aug 2015 15:06:38 +0000</updated>
                            <resolved>Fri, 7 Aug 2015 15:01:42 +0000</resolved>
                                    <version>5.11.1</version>
                                    <fixVersion>5.12.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="300">5m</timeoriginalestimate>
                            <timeestimate seconds="300">5m</timeestimate>
                                        <comments>
                            <comment id="14660368" author="tabish121" created="Thu, 6 Aug 2015 17:12:00 +0000"  >&lt;p&gt;A good way to progress this is to provide a test case that shows the problem. &lt;/p&gt;</comment>
                            <comment id="14660683" author="pmweiss" created="Thu, 6 Aug 2015 19:47:58 +0000"  >&lt;p&gt;Thanks, I&apos;ll type one up in the morning.&lt;/p&gt;</comment>
                            <comment id="14661743" author="pmweiss" created="Fri, 7 Aug 2015 12:19:21 +0000"  >&lt;p&gt;Uploading test case that demonstrates the problem.  I apologize for any typos - had to retype by hand in Notepad.  &lt;/p&gt;

&lt;p&gt;Basically the Producer class tries to send an ActiveMQObjectMessage that contains an object of type Class&amp;lt;?&amp;gt; to the Consumer class.  If the value is something like int.class things work fine, but if you set the value to void.class you get a JMSException: Failed to build body from content.  Serializable class not available to broker.  Reason java.lang.ClassNotFoundException: void&lt;/p&gt;

&lt;p&gt;org.apache.activemq.util.ClassLoadingAwareObjectInputStream.java used to include a check for void.class, but it appears that when that class was reworked for ticket &lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-1584&quot; title=&quot;ClassLoadingAwareObjectInputStream cannot load primary classes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-1584&quot;&gt;&lt;del&gt;AMQ-1584&lt;/del&gt;&lt;/a&gt;, the check for void.class was lost.&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                            <comment id="14661788" author="pmweiss" created="Fri, 7 Aug 2015 12:52:35 +0000"  >&lt;p&gt;Uploading possible/proposed change.&lt;/p&gt;</comment>
                            <comment id="14661957" author="jira-bot" created="Fri, 7 Aug 2015 15:01:05 +0000"  >&lt;p&gt;Commit 41ee3ec8dea1df70cb12f722dcf797f50b24fc54 in activemq&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tabish121&quot; class=&quot;user-hover&quot; rel=&quot;tabish121&quot;&gt;tabish121&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=41ee3ec&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=41ee3ec&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-5921&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/AMQ-5921&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Add back support for type void and test.&lt;/p&gt;</comment>
                            <comment id="14661958" author="tabish121" created="Fri, 7 Aug 2015 15:01:43 +0000"  >&lt;p&gt;Created a unit test from the files provided and applied the fix, thanks!&lt;/p&gt;</comment>
                            <comment id="14661963" author="pmweiss" created="Fri, 7 Aug 2015 15:06:38 +0000"  >&lt;p&gt;Thanks so much!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12749255" name="Consumer.java" size="1044" author="pmweiss" created="Fri, 7 Aug 2015 12:19:21 +0000"/>
                            <attachment id="12749254" name="ObjectMsgPayload.java" size="267" author="pmweiss" created="Fri, 7 Aug 2015 12:19:21 +0000"/>
                            <attachment id="12749256" name="Producer.java" size="1236" author="pmweiss" created="Fri, 7 Aug 2015 12:19:21 +0000"/>
                            <attachment id="12749260" name="proposed_diffs.txt" size="114" author="pmweiss" created="Fri, 7 Aug 2015 12:52:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 15 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ifav:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>