<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 05:33:34 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-1188] Illegal character in hostname error on hosts with underscores in their host names</title>
                <link>https://issues.apache.org/jira/browse/AMQ-1188</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;On a machine where the hostname contains underscores (e.g. HS_RH64_A3_1) ActiveMQ fails to initialize with the stack trace below. This seems to be a problem with the TCP protocol handler since doing new URL(&quot;http://HS_RH64_A3_1.godzilla.local:61616&quot;) works fine.&lt;/p&gt;

&lt;p&gt;2007-03-05 08:30:20,076 &lt;span class=&quot;error&quot;&gt;&amp;#91;WrapperSimpleAppMain&amp;#93;&lt;/span&gt; ERROR (BrokerService.java:412) - Failed to start ActiveMQ JMS Message Broker. Reason: java.io.IOException: Transp&lt;br/&gt;
ort Connector could not be registered in JMX: Illegal character in hostname at index 8: tcp://HS_RH64_A3_1.godzilla.local:61616&lt;br/&gt;
java.io.IOException: Transport Connector could not be registered in JMX: Illegal character in hostname at index 8: tcp://HS_RH64_A3_1.godzilla.local:61616&lt;br/&gt;
        at org.apache.activemq.util.IOExceptionSupport.create(IOExceptionSupport.java:25)&lt;br/&gt;
        at org.apache.activemq.broker.BrokerService.registerConnectorMBean(BrokerService.java:1079)&lt;br/&gt;
        at org.apache.activemq.broker.BrokerService.startTransportConnector(BrokerService.java:1508)&lt;br/&gt;
        at org.apache.activemq.broker.BrokerService.startAllConnectors(BrokerService.java:1468)&lt;br/&gt;
        at org.apache.activemq.broker.BrokerService.start(BrokerService.java:402)&lt;br/&gt;
        at org.apache.activemq.xbean.XBeanBrokerService.afterPropertiesSet(XBeanBrokerService.java:47)&lt;br/&gt;
        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1062)&lt;br/&gt;
        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1029)&lt;br/&gt;
        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:420)&lt;br/&gt;
        at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:245)&lt;br/&gt;
        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:141)&lt;br/&gt;
        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:242)&lt;br/&gt;
        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:156)&lt;br/&gt;
        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:290)&lt;br/&gt;
        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:348)&lt;br/&gt;
        at org.apache.xbean.spring.context.ClassPathXmlApplicationContext.&amp;lt;init&amp;gt;(ClassPathXmlApplicationContext.java:161)&lt;br/&gt;
        at org.apache.xbean.spring.context.ClassPathXmlApplicationContext.&amp;lt;init&amp;gt;(ClassPathXmlApplicationContext.java:51)&lt;br/&gt;
        at org.apache.activemq.xbean.XBeanBrokerFactory.createBroker(XBeanBrokerFactory.java:41)&lt;br/&gt;
        at org.apache.activemq.broker.BrokerFactory.createBroker(BrokerFactory.java:57)&lt;br/&gt;
        at org.apache.activemq.console.command.StartCommand.startBroker(StartCommand.java:82)&lt;br/&gt;
        at org.apache.activemq.console.command.StartCommand.runTask(StartCommand.java:47)&lt;br/&gt;
        at org.apache.activemq.console.command.AbstractCommand.execute(AbstractCommand.java:50)&lt;br/&gt;
        at org.apache.activemq.console.command.ShellCommand.runTask(ShellCommand.java:82)&lt;br/&gt;
        at org.apache.activemq.console.command.AbstractCommand.execute(AbstractCommand.java:50)&lt;br/&gt;
        at org.apache.activemq.console.command.ShellCommand.main(ShellCommand.java:46)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
        at java.lang.reflect.Method.invoke(Method.java:585)&lt;br/&gt;
        at org.apache.activemq.console.Main.runTaskClass(Main.java:159)&lt;br/&gt;
        at org.apache.activemq.console.Main.main(Main.java:91)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
        at java.lang.reflect.Method.invoke(Method.java:585)&lt;br/&gt;
        at org.tanukisoftware.wrapper.WrapperSimpleApp.run(WrapperSimpleApp.java:197)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:595)&lt;br/&gt;
Caused by: java.io.IOException: Illegal character in hostname at index 8: tcp://HS_RH64_A3_1.godzilla.local:61616&lt;br/&gt;
        at org.apache.activemq.util.IOExceptionSupport.create(IOExceptionSupport.java:43)&lt;br/&gt;
        at org.apache.activemq.transport.tcp.TcpTransportServer.bind(TcpTransportServer.java:94)&lt;br/&gt;
        at org.apache.activemq.transport.tcp.TcpTransportFactory.doBind(TcpTransportFactory.java:56)&lt;br/&gt;
        at org.apache.activemq.transport.TransportFactory.bind(TransportFactory.java:109)&lt;br/&gt;
        at org.apache.activemq.broker.TransportConnector.createTransportServer(TransportConnector.java:270)&lt;br/&gt;
        at org.apache.activemq.broker.TransportConnector.getServer(TransportConnector.java:122)&lt;br/&gt;
        at org.apache.activemq.broker.TransportConnector.asManagedConnector(TransportConnector.java:100)&lt;br/&gt;
        at org.apache.activemq.broker.BrokerService.registerConnectorMBean(BrokerService.java:1072)&lt;br/&gt;
        ... 35 more&lt;br/&gt;
Caused by: java.net.URISyntaxException: Illegal character in hostname at index 8: tcp://HS_RH64_A3_1.godzilla.local:61616&lt;br/&gt;
        at java.net.URI$Parser.fail(URI.java:2816)&lt;br/&gt;
        at java.net.URI$Parser.parseHostname(URI.java:3355)&lt;br/&gt;
        at java.net.URI$Parser.parseServer(URI.java:3204)&lt;br/&gt;
        at java.net.URI$Parser.parseAuthority(URI.java:3123)&lt;br/&gt;
        at java.net.URI$Parser.parseHierarchical(URI.java:3065)&lt;br/&gt;
        at java.net.URI$Parser.parse(URI.java:3021)&lt;br/&gt;
        at java.net.URI.&amp;lt;init&amp;gt;(URI.java:663)&lt;br/&gt;
        at org.apache.activemq.transport.tcp.TcpTransportServer.bind(TcpTransportServer.java:91)&lt;br/&gt;
        ... 41 more&lt;/p&gt;</description>
                <environment>&lt;p&gt;RHEL4 Update 4 ES x86_64&lt;br/&gt;
Sun JDK 1.4.2_08&lt;/p&gt;</environment>
        <key id="12481802">AMQ-1188</key>
            <summary>Illegal character in hostname error on hosts with underscores in their host names</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ygrignon">Yanik Grignon</reporter>
                        <labels>
                    </labels>
                <created>Mon, 5 Mar 2007 23:58:30 +0000</created>
                <updated>Tue, 6 Mar 2007 11:47:50 +0000</updated>
                            <resolved>Tue, 6 Mar 2007 11:47:50 +0000</resolved>
                                    <version>4.1.0</version>
                                    <fixVersion>5.0.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12938806" author="ygrignon" created="Tue, 6 Mar 2007 00:23:35 +0000"  >&lt;p&gt;I reproduce the same crash using new URI() in a test program. Looking at the RFC an underscore is in fact an invalid character in a host name. However, Linux lets you name a machine with underscores in the host name, so whether or not ActiveMQ should gracefully handle this case is still a relevant question. Also, the config file used to generate this issue was using localhost not the host name but the connector initialization code would still resolve it to the fully qualified host name of the machine resulting in the stack trace above.&lt;/p&gt;</comment>
                            <comment id="12938750" author="jstrachan" created="Tue, 6 Mar 2007 11:47:50 +0000"  >&lt;p&gt;FWIW a workaround is probably to use the IP address in the config file (its only when using the localhost that we try and resolve it).&lt;/p&gt;

&lt;p&gt;I&apos;ve added a fix to trunk to work around this where if the URI is invalid we try to use the IP address in the URI instead. Let us know if that doesn&apos;t fix it and we can reopen this issue&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>84468</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 years, 39 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i18127:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>254974</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>