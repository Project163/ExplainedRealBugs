<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 06:50:31 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-8032] RuntimeConfigurationPlugin doesn&apos;t work with JDK11+</title>
                <link>https://issues.apache.org/jira/browse/AMQ-8032</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;If the broker configuration contains runtimeConfigurationPlugin like this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&amp;lt;broker ...&amp;gt;
 ...
         &amp;lt;plugins&amp;gt;
          &amp;lt;runtimeConfigurationPlugin checkPeriod=&lt;span class=&quot;code-quote&quot;&gt;&quot;1000&quot;&lt;/span&gt;/&amp;gt;
        &amp;lt;/plugins&amp;gt;
  ...
&amp;lt;/broker&amp;gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;the broker doesn&apos;t start due to:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Caused by: java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException
&#160; &#160; &#160; &#160; at org.apache.activemq.plugin.RuntimeConfigurationPlugin.installPlugin(RuntimeConfigurationPlugin.java:38)
&#160; &#160; &#160; &#160; at org.apache.activemq.broker.BrokerService.addInterceptors(BrokerService.java:2505)
&#160; &#160; &#160; &#160; at org.apache.activemq.broker.BrokerService.createBroker(BrokerService.java:2365)
&#160; &#160; &#160; &#160; at org.apache.activemq.broker.BrokerService.getBroker(BrokerService.java:1053)
&#160; &#160; &#160; &#160; at org.apache.activemq.broker.BrokerService.getAdminConnectionContext(BrokerService.java:2636)
&#160; &#160; &#160; &#160; at org.apache.activemq.broker.BrokerService.startVirtualConsumerDestinations(BrokerService.java:2797)
&#160; &#160; &#160; &#160; at org.apache.activemq.broker.BrokerService.startDestinations(BrokerService.java:2627)
&#160; &#160; &#160; &#160; at org.apache.activemq.broker.BrokerService.doStartBroker(BrokerService.java:747)
&#160; &#160; &#160; &#160; at org.apache.activemq.broker.BrokerService.startBroker(BrokerService.java:741)
&#160; &#160; &#160; &#160; at org.apache.activemq.broker.BrokerService.start(BrokerService.java:644)
&#160; &#160; &#160; &#160; at org.apache.activemq.xbean.XBeanBrokerService.afterPropertiesSet(XBeanBrokerService.java:73)
&#160; &#160; &#160; &#160; at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
&#160; &#160; &#160; &#160; at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
&#160; &#160; &#160; &#160; at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
&#160; &#160; &#160; &#160; at java.base/java.lang.reflect.Method.invoke(Method.java:566)
&#160; &#160; &#160; &#160; at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeCustomInitMethod(AbstractAutowireCapableBeanFactory.java:1748)
&#160; &#160; &#160; &#160; at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1685)
&#160; &#160; &#160; &#160; at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1615)
&#160; &#160; &#160; &#160; ... 27 more
Caused by: java.lang.ClassNotFoundException: javax.xml.bind.JAXBException
&#160; &#160; &#160; &#160; at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:471)
&#160; &#160; &#160; &#160; at java.base/java.lang.&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.loadClass(&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.java:588)
&#160; &#160; &#160; &#160; at java.base/java.lang.&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.loadClass(&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.java:521)
&#160; &#160; &#160; &#160; ... 45 more &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The problem is in the JAXB version in use. A simple workaround is to add JAXB (API and Core) in activemq/lib (I&apos;m testing the fix).&lt;/p&gt;

&lt;p&gt;So, it could be just a question of documentation to add JAXB jar in ActiveMQ in order to use runtimeConfigurationPlugin.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13325918">AMQ-8032</key>
            <summary>RuntimeConfigurationPlugin doesn&apos;t work with JDK11+</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jbonofre">Jean-Baptiste Onofr&#233;</assignee>
                                    <reporter username="jbonofre">Jean-Baptiste Onofr&#233;</reporter>
                        <labels>
                    </labels>
                <created>Thu, 3 Sep 2020 12:55:29 +0000</created>
                <updated>Sun, 10 Jan 2021 04:28:05 +0000</updated>
                            <resolved>Sat, 9 Jan 2021 06:21:17 +0000</resolved>
                                    <version>5.16.0</version>
                                    <fixVersion>5.16.1</fixVersion>
                    <fixVersion>5.17.0</fixVersion>
                                    <component>Broker</component>
                    <component>Plugin</component>
                        <due></due>
                            <votes>2</votes>
                                    <watches>5</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1800">0.5h</timespent>
                                <comments>
                            <comment id="17202198" author="kgoerlitz" created="Fri, 25 Sep 2020 14:16:25 +0000"  >&lt;p&gt;Ran into the same issue.&#160; Does the workaround work?&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17259492" author="jbonofre" created="Wed, 6 Jan 2021 08:13:03 +0000"  >&lt;p&gt;Yes, workaround is to add javax.xml.bind:jaxb-api:2.2.11 and org.glassfish.jaxb:jaxb-runtime:2.211 in lib folder work. I&apos;m adding it anyway by default.&lt;/p&gt;</comment>
                            <comment id="17261776" author="jira-bot" created="Sat, 9 Jan 2021 06:19:36 +0000"  >&lt;p&gt;Commit 9b6a48ad31b2fb4b3a5a129d4ed6119024c6850a in activemq&apos;s branch refs/heads/master from jbonofre&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=9b6a48a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=9b6a48a&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-8032&quot; title=&quot;RuntimeConfigurationPlugin doesn&amp;#39;t work with JDK11+&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-8032&quot;&gt;&lt;del&gt;AMQ-8032&lt;/del&gt;&lt;/a&gt; Add JAXB in lib by default to avoid issue with JDK11&lt;/p&gt;</comment>
                            <comment id="17261777" author="jira-bot" created="Sat, 9 Jan 2021 06:19:38 +0000"  >&lt;p&gt;Commit 6e0e654c675eede828405702e1e590c044d4811c in activemq&apos;s branch refs/heads/master from Jean-Baptiste Onofr&#233;&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=6e0e654&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=6e0e654&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Merge pull request #601 from jbonofre/&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-8032&quot; title=&quot;RuntimeConfigurationPlugin doesn&amp;#39;t work with JDK11+&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-8032&quot;&gt;&lt;del&gt;AMQ-8032&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-8032&quot; title=&quot;RuntimeConfigurationPlugin doesn&amp;#39;t work with JDK11+&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-8032&quot;&gt;&lt;del&gt;AMQ-8032&lt;/del&gt;&lt;/a&gt; Add JAXB in lib by default to avoid issue with JDK11&lt;/p&gt;</comment>
                            <comment id="17261778" author="jira-bot" created="Sat, 9 Jan 2021 06:19:39 +0000"  >&lt;p&gt;Commit 6e0e654c675eede828405702e1e590c044d4811c in activemq&apos;s branch refs/heads/master from Jean-Baptiste Onofr&#233;&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=6e0e654&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=6e0e654&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Merge pull request #601 from jbonofre/&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-8032&quot; title=&quot;RuntimeConfigurationPlugin doesn&amp;#39;t work with JDK11+&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-8032&quot;&gt;&lt;del&gt;AMQ-8032&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-8032&quot; title=&quot;RuntimeConfigurationPlugin doesn&amp;#39;t work with JDK11+&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-8032&quot;&gt;&lt;del&gt;AMQ-8032&lt;/del&gt;&lt;/a&gt; Add JAXB in lib by default to avoid issue with JDK11&lt;/p&gt;</comment>
                            <comment id="17261779" author="jira-bot" created="Sat, 9 Jan 2021 06:20:30 +0000"  >&lt;p&gt;Commit a64f399d5416ca221ecd8d81f8e15461b471082c in activemq&apos;s branch refs/heads/activemq-5.16.x from jbonofre&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=a64f399&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=a64f399&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-8032&quot; title=&quot;RuntimeConfigurationPlugin doesn&amp;#39;t work with JDK11+&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-8032&quot;&gt;&lt;del&gt;AMQ-8032&lt;/del&gt;&lt;/a&gt; Add JAXB in lib by default to avoid issue with JDK11&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 9b6a48ad31b2fb4b3a5a129d4ed6119024c6850a)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 44 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0ibk8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>