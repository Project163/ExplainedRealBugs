<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 06:50:30 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-8116] ActiveMQWildcardPermission with multiple tokens inconsistent with parent WildcardPermission class</title>
                <link>https://issues.apache.org/jira/browse/AMQ-8116</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;hr /&gt;
&lt;p&gt;Reminder:&lt;br/&gt;
 A permission pattern looks like: A:B:C , A, B and C beoing &apos;parts&apos; of the permission&lt;br/&gt;
 Each &apos;part&apos; can have one or more &apos;token&apos;, like &apos;read,write&apos;.&lt;br/&gt;
 So a permission with activemq looks like:&lt;br/&gt;
 queue:queue1,queue2:read,write&lt;br/&gt;
 granting access on queue1 and queue2, for read or write access.&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;WildcardPermission class from Shiro library states that tokens are a list of authorized items, for exemple :&#160;newsletter:view,edit,create grants view, edit and create rights uppon newsletter item.&lt;/p&gt;

&lt;p&gt;(ref &lt;a href=&quot;https://github.com/apache/shiro/blob/master/core/src/main/java/org/apache/shiro/authz/permission/WildcardPermission.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/shiro/blob/master/core/src/main/java/org/apache/shiro/authz/permission/WildcardPermission.java&lt;/a&gt;&#160;)&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;ActiveMQWildcardPermission class (in activemq projects), extends this class, by allowing each &apos;part&apos; to not only be a single wildcard &apos;*&apos;, but being a wildcard string.&lt;/p&gt;

&lt;p&gt;topic:ActiveMQ.Advisory*&#160; grants all access to the topics starting by the given string.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;For doing so, this class redefines the implies function, but breaks the above requirements.&lt;/p&gt;

&lt;p&gt;queue:*:read,create&lt;br/&gt;
 should grant read and create access on all queues, but this is not working as&#160;&lt;br/&gt;
 queue:testqueue:read&lt;br/&gt;
 Will fail to validate&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Test code:&lt;/p&gt;

&lt;p&gt;WildcardPermission permission = new ActiveMQWildcardPermission(&quot;queue:*:read,create&quot;, true);&lt;br/&gt;
 WildcardPermission action = new ActiveMQWildcardPermission(&quot;queue:testqueue:read&quot;, true);&lt;br/&gt;
 assert(permission .implies(action ));&lt;/p&gt;

&lt;p&gt;replacing&#160;new ActiveMQWildcardPermission with&#160;new WildcardPermission (parent class) will pass this specific assert (but won&apos;t match wildcard string like &apos;test*&apos; , and is not a suitable swap).&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13350628">AMQ-8116</key>
            <summary>ActiveMQWildcardPermission with multiple tokens inconsistent with parent WildcardPermission class</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jbonofre">Jean-Baptiste Onofr&#233;</assignee>
                                    <reporter username="ikucuze">OLIVIER LE TIEC</reporter>
                        <labels>
                    </labels>
                <created>Wed, 6 Jan 2021 09:38:06 +0000</created>
                <updated>Thu, 7 Jan 2021 11:32:04 +0000</updated>
                            <resolved>Thu, 7 Jan 2021 11:32:04 +0000</resolved>
                                    <version>5.16.0</version>
                    <version>5.15.14</version>
                                    <fixVersion>5.16.1</fixVersion>
                    <fixVersion>5.15.15</fixVersion>
                    <fixVersion>5.17.0</fixVersion>
                                    <component>Plugin</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="17259597" author="ikucuze" created="Wed, 6 Jan 2021 10:45:38 +0000"  >&lt;p&gt;correction submitted with testcase under pull request:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/activemq/pull/602&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/activemq/pull/602&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17260436" author="jira-bot" created="Thu, 7 Jan 2021 11:30:34 +0000"  >&lt;p&gt;Commit 9cf9d20d51590218368f87fb54aeb0505c862461 in activemq&apos;s branch refs/heads/master from ikucuze&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=9cf9d20&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=9cf9d20&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-8116&quot; title=&quot;ActiveMQWildcardPermission with multiple tokens inconsistent with parent WildcardPermission class&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-8116&quot;&gt;&lt;del&gt;AMQ-8116&lt;/del&gt;&lt;/a&gt; ActiveMQWildcardPermission buggy&lt;/p&gt;

&lt;p&gt;ActiveMQWildcardPermission with multiple tokens inconsistent with parent&lt;br/&gt;
WildcardPermission class&lt;/p&gt;

&lt;p&gt;Update ActiveMQWildcardPermission.java&lt;/p&gt;

&lt;p&gt;add testcase&lt;/p&gt;</comment>
                            <comment id="17260437" author="jira-bot" created="Thu, 7 Jan 2021 11:30:35 +0000"  >&lt;p&gt;Commit 33635f516f939e4bb4b338068c7406ac7cb0849c in activemq&apos;s branch refs/heads/master from Jean-Baptiste Onofr&#233;&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=33635f5&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=33635f5&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Merge pull request #602 from ikucuze/master&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-8116&quot; title=&quot;ActiveMQWildcardPermission with multiple tokens inconsistent with parent WildcardPermission class&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-8116&quot;&gt;&lt;del&gt;AMQ-8116&lt;/del&gt;&lt;/a&gt; ActiveMQWildcardPermission buggy&lt;/p&gt;</comment>
                            <comment id="17260438" author="jira-bot" created="Thu, 7 Jan 2021 11:31:23 +0000"  >&lt;p&gt;Commit b8c58028f0abc4d8f19d77c8b613ea389253b1f3 in activemq&apos;s branch refs/heads/activemq-5.16.x from ikucuze&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=b8c5802&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=b8c5802&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-8116&quot; title=&quot;ActiveMQWildcardPermission with multiple tokens inconsistent with parent WildcardPermission class&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-8116&quot;&gt;&lt;del&gt;AMQ-8116&lt;/del&gt;&lt;/a&gt; ActiveMQWildcardPermission buggy&lt;/p&gt;

&lt;p&gt;ActiveMQWildcardPermission with multiple tokens inconsistent with parent&lt;br/&gt;
WildcardPermission class&lt;/p&gt;

&lt;p&gt;Update ActiveMQWildcardPermission.java&lt;/p&gt;

&lt;p&gt;add testcase&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 9cf9d20d51590218368f87fb54aeb0505c862461)&lt;/p&gt;</comment>
                            <comment id="17260439" author="jira-bot" created="Thu, 7 Jan 2021 11:31:52 +0000"  >&lt;p&gt;Commit f3ed1492bed83cf23b5cfefc831d46843b5c57bb in activemq&apos;s branch refs/heads/activemq-5.15.x from ikucuze&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=f3ed149&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=f3ed149&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-8116&quot; title=&quot;ActiveMQWildcardPermission with multiple tokens inconsistent with parent WildcardPermission class&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-8116&quot;&gt;&lt;del&gt;AMQ-8116&lt;/del&gt;&lt;/a&gt; ActiveMQWildcardPermission buggy&lt;/p&gt;

&lt;p&gt;ActiveMQWildcardPermission with multiple tokens inconsistent with parent&lt;br/&gt;
WildcardPermission class&lt;/p&gt;

&lt;p&gt;Update ActiveMQWildcardPermission.java&lt;/p&gt;

&lt;p&gt;add testcase&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 9cf9d20d51590218368f87fb54aeb0505c862461)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 44 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0mb40:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>