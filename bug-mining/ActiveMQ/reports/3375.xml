<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 06:51:02 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-8226] If ActiveMQ was started with low numer PID then activemq cli commands fails to check if ActiveMQ process is running.</title>
                <link>https://issues.apache.org/jira/browse/AMQ-8226</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;h3&gt;&lt;a name=&quot;Stateoftheworld&quot;&gt;&lt;/a&gt;State of the world&lt;/h3&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/activemq/commit/1cb94f5e48b9265bd78ec01595d7f4d747d7c8e8&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;This&lt;/a&gt; commit&#160;introduced a new approach to check if the ActiveMQ process is running.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/activemq/commit/1cb94f5e48b9265bd78ec01595d7f4d747d7c8e8#diff-5306708c9411eee811fbf2bbb46578ed8d34abc2e7313d7e2c4d8db12b48b0f3R390&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;The new approach&lt;/a&gt; lists all processes with `ps` command and then greps it:&lt;br/&gt;
 local RET=&quot;`ps -o &quot;pid,args&quot; | grep &quot;^$activemq_pid\s.*java&quot;`&quot;&lt;/p&gt;
&lt;h3&gt;&lt;a name=&quot;Issue&quot;&gt;&lt;/a&gt;Issue&lt;/h3&gt;

&lt;p&gt;If ActiveMQ process was started with N digit PID and `ps` command returns processes with M digit PID (such that M &amp;gt; N) then `bin/activemq` script won&apos;t be able to identify if ActiveMQ is running.&#160;&lt;/p&gt;
&lt;h3&gt;&lt;a name=&quot;Example&quot;&gt;&lt;/a&gt;Example&lt;/h3&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ ps -o &quot;pid,args&quot;
  PID COMMAND
   XX ActiveMQ java PROCESS
  XXX ANOTHER PROCESS 1
 XXXX ANOTHER PROCESS 2
XXXXX ANOTHER PROCESS N
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In this example `ActiveMQ java PROCESS` is running with a two-digit PID `XX`.&lt;br/&gt;
 `ANOTHER PROCESS N` is running with a five-digit PID `XXXXX`.&lt;/p&gt;

&lt;p&gt;`ps` command will add additional spaces before the `ActiveMQ java PROCESS` to align it to the five-digit PID of `ANOTHER PROCESS N`.&lt;/p&gt;

&lt;p&gt;In this case the grep experssion `^$activemq_pid\s.*java` wont be able to identify the `ActiveMQ java PROCESS` with PID `XX`.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13372722">AMQ-8226</key>
            <summary>If ActiveMQ was started with low numer PID then activemq cli commands fails to check if ActiveMQ process is running.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jbonofre">Jean-Baptiste Onofr&#233;</assignee>
                                    <reporter username="nevezhyn">Roman Nieviezhyn</reporter>
                        <labels>
                    </labels>
                <created>Thu, 15 Apr 2021 19:02:58 +0000</created>
                <updated>Mon, 10 Jan 2022 10:29:45 +0000</updated>
                            <resolved>Fri, 16 Apr 2021 06:13:41 +0000</resolved>
                                                    <fixVersion>5.15.15</fixVersion>
                    <fixVersion>5.16.2</fixVersion>
                    <fixVersion>5.17.0</fixVersion>
                                    <component>Command Line Tools</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="17322634" author="jira-bot" created="Fri, 16 Apr 2021 06:11:14 +0000"  >&lt;p&gt;Commit f1190f8feddb68e27eb1b7484f2a0928e32996f9 in activemq&apos;s branch refs/heads/main from charlie-aws&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=f1190f8&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=f1190f8&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-8226&quot; title=&quot;If ActiveMQ was started with low numer PID then activemq cli commands fails to check if ActiveMQ process is running.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-8226&quot;&gt;&lt;del&gt;AMQ-8226&lt;/del&gt;&lt;/a&gt; match any amount of spaces before activemq PID in bin/activemq startup script&lt;/p&gt;</comment>
                            <comment id="17322635" author="jira-bot" created="Fri, 16 Apr 2021 06:11:15 +0000"  >&lt;p&gt;Commit bd5af8294427538177381d30e52a4ee83e636b5d in activemq&apos;s branch refs/heads/main from Jean-Baptiste Onofr&#233;&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=bd5af82&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=bd5af82&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Merge pull request #648 from Charlie-chenchrl/&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-8226&quot; title=&quot;If ActiveMQ was started with low numer PID then activemq cli commands fails to check if ActiveMQ process is running.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-8226&quot;&gt;&lt;del&gt;AMQ-8226&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-8226&quot; title=&quot;If ActiveMQ was started with low numer PID then activemq cli commands fails to check if ActiveMQ process is running.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-8226&quot;&gt;&lt;del&gt;AMQ-8226&lt;/del&gt;&lt;/a&gt; match any amount of spaces before activemq PID in bin/active&#8230;&lt;/p&gt;</comment>
                            <comment id="17322636" author="jira-bot" created="Fri, 16 Apr 2021 06:11:16 +0000"  >&lt;p&gt;Commit bd5af8294427538177381d30e52a4ee83e636b5d in activemq&apos;s branch refs/heads/main from Jean-Baptiste Onofr&#233;&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=bd5af82&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=bd5af82&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Merge pull request #648 from Charlie-chenchrl/&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-8226&quot; title=&quot;If ActiveMQ was started with low numer PID then activemq cli commands fails to check if ActiveMQ process is running.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-8226&quot;&gt;&lt;del&gt;AMQ-8226&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-8226&quot; title=&quot;If ActiveMQ was started with low numer PID then activemq cli commands fails to check if ActiveMQ process is running.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-8226&quot;&gt;&lt;del&gt;AMQ-8226&lt;/del&gt;&lt;/a&gt; match any amount of spaces before activemq PID in bin/active&#8230;&lt;/p&gt;</comment>
                            <comment id="17322637" author="jira-bot" created="Fri, 16 Apr 2021 06:13:01 +0000"  >&lt;p&gt;Commit ec95c6f9486ffe79b98121cbf3b0d0380c794a03 in activemq&apos;s branch refs/heads/activemq-5.16.x from charlie-aws&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=ec95c6f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=ec95c6f&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-8226&quot; title=&quot;If ActiveMQ was started with low numer PID then activemq cli commands fails to check if ActiveMQ process is running.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-8226&quot;&gt;&lt;del&gt;AMQ-8226&lt;/del&gt;&lt;/a&gt; match any amount of spaces before activemq PID in bin/activemq startup script&lt;/p&gt;

&lt;p&gt;(cherry picked from commit f1190f8feddb68e27eb1b7484f2a0928e32996f9)&lt;/p&gt;</comment>
                            <comment id="17322638" author="jira-bot" created="Fri, 16 Apr 2021 06:13:30 +0000"  >&lt;p&gt;Commit 4b7b039be8b25fdc1780ca88bd3a48c154b63619 in activemq&apos;s branch refs/heads/activemq-5.15.x from charlie-aws&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=4b7b039&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=4b7b039&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-8226&quot; title=&quot;If ActiveMQ was started with low numer PID then activemq cli commands fails to check if ActiveMQ process is running.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-8226&quot;&gt;&lt;del&gt;AMQ-8226&lt;/del&gt;&lt;/a&gt; match any amount of spaces before activemq PID in bin/activemq startup script&lt;/p&gt;

&lt;p&gt;(cherry picked from commit f1190f8feddb68e27eb1b7484f2a0928e32996f9)&lt;/p&gt;</comment>
                            <comment id="17323386" author="gemmellr" created="Fri, 16 Apr 2021 11:15:24 +0000"  >&lt;p&gt;Clarity note for later context: The affects/fix versions listed look to be a little misleading, as the breaking commit referenced was apparently only pushed/picked into the branches on Mar 22nd 2021 and so was never actually released in any stream prior to this JIRA being raised to fix the issue it introduced following discovery of the problem during the 5.15.15 #2 vote (cancelled as result) and to rectify it before a #3 respin vote. &lt;/p&gt;

&lt;p&gt;(The author timestamp on the original commit introducing the issue is &quot;Fri Sep 23 10:09:54 2016 +0200&quot; making it rather difficult to see in the typical git log ordering &lt;span class=&quot;error&quot;&gt;&amp;#91;but --topo-order works for this particular case though&amp;#93;&lt;/span&gt;, and it was seemingly added without any JIRA and so the changes wouldnt be visible in the release notes other than through this JIRA)&lt;/p&gt;</comment>
                            <comment id="17471848" author="sekarsdhana" created="Mon, 10 Jan 2022 10:29:45 +0000"  >&lt;p&gt;looks like this enhancement root cause for the issue reported in &lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-8383&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/AMQ-8383&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10431"><![CDATA[Important]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 44 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0q1w8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>