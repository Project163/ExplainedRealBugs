<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 06:59:18 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-9452] StatisticsPlugin - field firstMessageTimestamp is not produced for AuthorizationDestinationFilter</title>
                <link>https://issues.apache.org/jira/browse/AMQ-9452</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;&lt;tt&gt;StatisticsBroker&lt;/tt&gt; does not send field &lt;tt&gt;firstMessageTimestamp&lt;/tt&gt; as dest may be instance of &lt;tt&gt;DestinationFilter&lt;/tt&gt; (in my case: &lt;tt&gt;AuthorizationDestinationFilter&lt;/tt&gt;)&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (includeFirstMessageTimestamp) {
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (dest &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; Queue) {
        ((Queue) dest).doBrowse(tempFirstMessage, 1);
    }
    &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (dest &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; Topic) {
        ((Topic) dest).doBrowse(tempFirstMessage, 1);
    }
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!tempFirstMessage.isEmpty()) {
        Message message = tempFirstMessage.get(0);
        &lt;span class=&quot;code-comment&quot;&gt;// NOTICE: Client-side, you may get the broker &lt;span class=&quot;code-quote&quot;&gt;&quot;now&quot;&lt;/span&gt; Timestamp by msg.getJMSTimestamp()
&lt;/span&gt;        &lt;span class=&quot;code-comment&quot;&gt;// This allows &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; calculating age.
&lt;/span&gt;        statsMessage.setLong(&lt;span class=&quot;code-quote&quot;&gt;&quot;firstMessageTimestamp&quot;&lt;/span&gt;, message.getBrokerInTime());
        tempFirstMessage.clear();
    } &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;It appears that&#160;&lt;tt&gt;BaseDestination&lt;/tt&gt; may be unwinded:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-comment&quot;&gt;//unwind BaseDestination
&lt;/span&gt;&lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; (dest &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; DestinationFilter) {
    dest = ((DestinationFilter) dest).getNext();
}
 &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;related to feature: &lt;a href=&quot;https://github.com/apache/activemq/commit/9167a79b79e4c121cfe0a5b82456f52bf3ecc3c7&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/activemq/commit/9167a79b79e4c121cfe0a5b82456f52bf3ecc3c7&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13571738">AMQ-9452</key>
            <summary>StatisticsPlugin - field firstMessageTimestamp is not produced for AuthorizationDestinationFilter</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jbonofre">Jean-Baptiste Onofr&#233;</assignee>
                                    <reporter username="gkochanski">Grzegorz Kocha&#324;ski</reporter>
                        <labels>
                    </labels>
                <created>Wed, 13 Mar 2024 11:45:44 +0000</created>
                <updated>Sun, 24 Mar 2024 06:54:45 +0000</updated>
                            <resolved>Sun, 24 Mar 2024 06:54:45 +0000</resolved>
                                    <version>5.18.3</version>
                                    <fixVersion>5.18.4</fixVersion>
                    <fixVersion>5.17.7</fixVersion>
                    <fixVersion>6.1.1</fixVersion>
                                    <component>Broker</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="3000">50m</timespent>
                                <comments>
                            <comment id="17830204" author="jira-bot" created="Sun, 24 Mar 2024 06:45:30 +0000"  >&lt;p&gt;Commit 3b0a646af24cef2335f8a7c9a48332dc5bcf6bb5 in activemq&apos;s branch refs/heads/activemq-5.18.x from Grzegorz Kochanski&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=3b0a646af&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=3b0a646af&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-9452&quot; title=&quot;StatisticsPlugin - field firstMessageTimestamp is not produced for AuthorizationDestinationFilter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-9452&quot;&gt;&lt;del&gt;AMQ-9452&lt;/del&gt;&lt;/a&gt;: unwrap BaseDestination to access queue/topic message&lt;/p&gt;

&lt;p&gt;Change-Id: Ic05002ecb428e2aa5abeb9dc3e499e3aae550051&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 4d40023968fc334982f15e9c9623b1d74d308931)&lt;/p&gt;</comment>
                            <comment id="17830205" author="jira-bot" created="Sun, 24 Mar 2024 06:46:06 +0000"  >&lt;p&gt;Commit 8beea0faca2c563b7a3630fab0e5ab18e5c6e4c6 in activemq&apos;s branch refs/heads/activemq-5.17.x from Grzegorz Kochanski&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=8beea0fac&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=8beea0fac&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-9452&quot; title=&quot;StatisticsPlugin - field firstMessageTimestamp is not produced for AuthorizationDestinationFilter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-9452&quot;&gt;&lt;del&gt;AMQ-9452&lt;/del&gt;&lt;/a&gt;: unwrap BaseDestination to access queue/topic message&lt;/p&gt;

&lt;p&gt;Change-Id: Ic05002ecb428e2aa5abeb9dc3e499e3aae550051&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 4d40023968fc334982f15e9c9623b1d74d308931)&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13424725">AMQ-8463</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 33 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1ny0g:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>