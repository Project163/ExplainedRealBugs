<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 05:33:17 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-1110] JMS to JMS Bridge fails with Number format exception on physical name</title>
                <link>https://issues.apache.org/jira/browse/AMQ-1110</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;Maybe this is just some missconfiguration from my site but ...&lt;/p&gt;

&lt;p&gt;I&apos;m trying to use activemq to integrate some c++ code with the j2ee world. My task is to forward messages generated on the c++ side to the JMS of Bea Weblogic 8.1. ActiveMQ is running outside the WLS in a separate process. The startup looks fine as the wls context can be used to get references to the ConnectionFactory and the configured test destination WLSTestQ. On sending a message to the local queue of the bridge i get the following stacktrace:&lt;/p&gt;

&lt;p&gt; java.lang.NumberFormatException: For input string: &quot;WLSTESTQ&quot;&lt;br/&gt;
at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)&lt;br/&gt;
at java.lang.Integer.parseInt(Integer.java:447)&lt;br/&gt;
at java.lang.Integer.parseInt(Integer.java:497)&lt;br/&gt;
at org.apache.activemq.command.ActiveMQTempDestination.setPhysicalName(ActiveMQTempDestination.java:66)&lt;br/&gt;
at org.apache.activemq.command.ActiveMQDestination.&amp;lt;init&amp;gt;(ActiveMQDestination.java:142)&lt;br/&gt;
at org.apache.activemq.command.ActiveMQTempDestination.&amp;lt;init&amp;gt;(ActiveMQTempDestination.java:38)&lt;br/&gt;
at org.apache.activemq.command.ActiveMQTempQueue.&amp;lt;init&amp;gt;(ActiveMQTempQueue.java:36)&lt;br/&gt;
at org.apache.activemq.command.ActiveMQDestination.transform(ActiveMQDestination.java:107)&lt;br/&gt;
at org.apache.activemq.command.ActiveMQMessage.setJMSDestination(ActiveMQMessage.java:219)&lt;br/&gt;
at weblogic.jms.client.JMSProducer.sendInternal(JMSProducer.java:428)&lt;br/&gt;
at weblogic.jms.client.JMSProducer.send(JMSProducer.java:152)&lt;br/&gt;
at weblogic.jms.client.JMSProducer.send(JMSProducer.java:215)&lt;br/&gt;
at org.apache.activemq.network.jms.QueueBridge.sendMessage(QueueBridge.java:87)&lt;br/&gt;
at org.apache.activemq.network.jms.DestinationBridge.onMessage(DestinationBridge.java:134)&lt;br/&gt;
at org.apache.activemq.ActiveMQMessageConsumer.dispatch(ActiveMQMessageConsumer.java:840)&lt;br/&gt;
at org.apache.activemq.ActiveMQSessionExecutor.dispatch(ActiveMQSessionExecutor.java:96)&lt;br/&gt;
at org.apache.activemq.ActiveMQSessionExecutor.iterate(ActiveMQSessionExecutor.java:165)&lt;br/&gt;
at org.apache.activemq.thread.DedicatedTaskRunner.runTask(DedicatedTaskRunner.java:88)&lt;br/&gt;
at org.apache.activemq.thread.DedicatedTaskRunner.access$000(DedicatedTaskRunner.java:25)&lt;br/&gt;
at org.apache.activemq.thread.DedicatedTaskRunner$1.run(DedicatedTaskRunner.java:39)&lt;/p&gt;

&lt;p&gt;ERROR DestinationBridge - failed to forward message on attempt: 1 &lt;br/&gt;
reason: java.lang.NumberFormatException: &lt;br/&gt;
For input string: &quot;WLSTESTQ&quot; message: &lt;br/&gt;
ActiveMQTextMessage {&lt;br/&gt;
commandId = 14, &lt;br/&gt;
responseRequired = false, &lt;br/&gt;
messageId = ID:KStanke-1523-1167310376227-0:0:1:1:10, &lt;br/&gt;
originalDestination = null, &lt;br/&gt;
originalTransactionId = null, &lt;br/&gt;
producerId = ID:KStanke-1523-1167310376227-0:0:1:1, &lt;br/&gt;
destination = queue://TEST.FOO, &lt;br/&gt;
transactionId = null, &lt;br/&gt;
expiration = 0, &lt;br/&gt;
timestamp = 1167310385795, &lt;br/&gt;
arrival = 0, &lt;br/&gt;
correlationId = null, &lt;br/&gt;
replyTo = null, &lt;br/&gt;
persistent = false, &lt;br/&gt;
type = null, &lt;br/&gt;
priority = 4, &lt;br/&gt;
groupID = null, &lt;br/&gt;
groupSequence = 0, &lt;br/&gt;
targetConsumerId = null,&lt;br/&gt;
compressed = false, &lt;br/&gt;
userID = null, &lt;br/&gt;
content = null, &lt;br/&gt;
marshalledProperties = null,&lt;br/&gt;
dataStructure = null, &lt;br/&gt;
redeliveryCounter = 0, &lt;br/&gt;
size = 0, &lt;br/&gt;
properties = null, &lt;br/&gt;
readOnlyProperties = true, &lt;br/&gt;
readOnlyBody = true, &lt;br/&gt;
droppable = false, &lt;br/&gt;
text = Message: 9 sent at: Thu Dec 28 13:53:05 CET 2006&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Skipped some blank lines&amp;#93;&lt;/span&gt;&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;I&apos;m using the message producer from the example to test the routing to wls JMS.  I also attached my activemq.xml configuration for you reference.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Using Windows XP SP2, JDK 1.6.0, Bea Weblogic Server 8.1 SP6&lt;/p&gt;</environment>
        <key id="12481028">AMQ-1110</key>
            <summary>JMS to JMS Bridge fails with Number format exception on physical name</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rajdavies">Robert Davies</assignee>
                                    <reporter username="kay.stanke">Kay Stanke</reporter>
                        <labels>
                    </labels>
                <created>Thu, 28 Dec 2006 13:23:12 +0000</created>
                <updated>Tue, 2 Jan 2007 07:08:18 +0000</updated>
                            <resolved>Tue, 2 Jan 2007 07:08:18 +0000</resolved>
                                    <version>4.1.0</version>
                                    <fixVersion>5.0.0</fixVersion>
                                    <component>Broker</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12936612" author="rajdavies" created="Tue, 2 Jan 2007 07:08:18 +0000"  >&lt;p&gt;Fixed by the latest SVN revision 491753&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12460544" name="ASF.LICENSE.NOT.GRANTED--activemq.xml" size="4820" author="kay.stanke" created="Thu, 28 Dec 2006 13:23:12 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43765</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 years, 48 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0s2c7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>161855</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>