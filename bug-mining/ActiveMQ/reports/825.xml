<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 05:44:31 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-1308] Messages delivered from HttpTunnelServlet connected broker are limited to 64K bytes.</title>
                <link>https://issues.apache.org/jira/browse/AMQ-1308</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;In TextWireFormat.java: the methods writeUTF/readUTF are used in the code path to deliver messages from an HTTP connected broker.&lt;/p&gt;

&lt;p&gt;    public void marshal(Object command, DataOutput out) throws IOException &lt;/p&gt;
{
        out.writeUTF(marshalText(command));
    }

&lt;p&gt;    public Object unmarshal(DataInput in) throws IOException &lt;/p&gt;
{
        String text = in.readUTF();
        return unmarshalText(text);
	}

&lt;p&gt;These methods limit the max message size to 64K. Messages sent to an HTTP connected broker do not have the same limitation.&lt;/p&gt;

&lt;p&gt;Problem first reported in activemq-users with the subject &quot;UTFDataFormatException in broker when using a http transportConnector&quot;.&lt;/p&gt;

&lt;p&gt;THanks,&lt;br/&gt;
Eddie&lt;/p&gt;</description>
                <environment>&lt;p&gt;Java consumer receiving messages using HTTP connector&lt;/p&gt;</environment>
        <key id="12483205">AMQ-1308</key>
            <summary>Messages delivered from HttpTunnelServlet connected broker are limited to 64K bytes.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rajdavies">Robert Davies</assignee>
                                    <reporter username="eddie_epstein">Eddie Epstein</reporter>
                        <labels>
                    </labels>
                <created>Tue, 3 Jul 2007 20:31:47 +0000</created>
                <updated>Tue, 16 Feb 2010 13:40:54 +0000</updated>
                            <resolved>Wed, 3 Feb 2010 14:04:20 +0000</resolved>
                                    <version>4.1.1</version>
                                    <fixVersion>5.4.0</fixVersion>
                                    <component>Transport</component>
                        <due></due>
                            <votes>4</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="12936435" author="eddie_epstein" created="Wed, 11 Jul 2007 16:17:28 +0000"  >&lt;p&gt;TextWireFormat.patch fixes this issue. The data is written out in UTF8, which has the same size wire format as that previously created by writeUTF, and is preceded by a 4 byte length. There is an extra copy of the data created on both sending and receiving sides, but then again, it works.&lt;/p&gt;</comment>
                            <comment id="12936372" author="eddie_epstein" created="Tue, 24 Jul 2007 14:42:34 +0000"  >&lt;p&gt;The patch submitted did in fact &quot;work&quot;, but only for restricted message content: ascii characters.&lt;/p&gt;

&lt;p&gt;Somewhat embarrassed,&lt;br/&gt;
Eddie&lt;/p&gt;</comment>
                            <comment id="12936475" author="eddie_epstein" created="Fri, 27 Jul 2007 16:05:19 +0000"  >&lt;p&gt;Turns out there is another bug: the HTTP connector is completely broken for multi-byte UTF-8 characters. The attached patch file includes fixes for both the 64K limit (same fix as previously submitted) and for the bad decode of the Http request body.&lt;/p&gt;</comment>
                            <comment id="12942136" author="rajdavies" created="Wed, 3 Feb 2010 14:04:20 +0000"  >&lt;p&gt;Fixed by SVN revision 906049&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12483203">AMQ-2609</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12460930" name="HttpProblems.patch" size="2060" author="eddie_epstein" created="Fri, 27 Jul 2007 16:05:19 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>84563</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 42 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310041" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Patch Info</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10042"><![CDATA[Patch Available]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rpwv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>159842</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>