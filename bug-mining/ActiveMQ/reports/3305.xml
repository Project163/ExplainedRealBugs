<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 06:49:18 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-7394] &apos;recovery&apos; of messages does not take into account the PolicyMap/PolicyEntry &apos;memoryLimit&apos;, but takes 200 messages from the store</title>
                <link>https://issues.apache.org/jira/browse/AMQ-7394</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;I believe this affects versions up to 5.15.11 too, since I don&apos;t see changes in the related code.&lt;/p&gt;

&lt;p&gt;Perhaps this issue is similar to the KahaDB JIRA &lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-7126&quot; title=&quot;Prevent OOM when recovering KahaDB and memory space is insufficient to load full page&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-7126&quot;&gt;&lt;del&gt;AMQ-7126&lt;/del&gt;&lt;/a&gt; which was fixed in 5.15.9?&lt;/p&gt;

&lt;p&gt;At Infor we use activeMQ 5.15.2 currently with the JDBC Persistence Adapter.&lt;/p&gt;

&lt;p&gt;When a queue (the tables in the DB for the queue) has many messages of a significant size (e.g. 200 messages of 5 MB) and I start the brokerService then it will &apos;recover&apos; the messages. The first call will get 400 messages and when consuming and removing those subsequent calls will get 200 messages each &lt;b&gt;without&lt;/b&gt; taking into account the configured memory limits per-broker or per-queue. So memory consumption is rather unconstrained here.&lt;/p&gt;

&lt;p&gt;I believe this is because &lt;a href=&quot;https://github.com/apache/activemq/blob/master/activemq-jdbc-store/src/main/java/org/apache/activemq/store/jdbc/JDBCMessageStore.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;JDBCMessageStore.java recoverNextMessages&lt;/a&gt; always returns &apos;true&apos; (at line 368 currently) without asking &lt;tt&gt;listener.hasSpace()&lt;/tt&gt; (or rather the new &lt;tt&gt;canRecoveryNextMessage()&lt;/tt&gt;) &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;                @Override
                &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; recoverMessage(&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; sequenceId, &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] data) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
                        Message msg = (Message)wireFormat.unmarshal(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ByteSequence(data));
                        msg.getMessageId().setBrokerSequenceId(sequenceId);
                        msg.getMessageId().setFutureOrSequenceLong(sequenceId);
                        msg.getMessageId().setEntryLocator(sequenceId);
                        listener.recoverMessage(msg);
                        trackLastRecovered(sequenceId, msg.getPriority());
                        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
                }&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;... so the resultset iterator in DefaultJDBCAdapter::doRecoverNextMessages never jumps into the else branch to abort loading/recovering messages (at line 1093 currently) &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;                &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; (rs.next() &amp;amp;&amp;amp; count &amp;lt; maxReturned) {
                    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (listener.recoverMessage(rs.getLong(1), getBinaryData(rs, 2))) {
                        count++;
                    } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
                        LOG.debug(&lt;span class=&quot;code-quote&quot;&gt;&quot;Stopped recover next messages&quot;&lt;/span&gt;);
                        &lt;span class=&quot;code-keyword&quot;&gt;break&lt;/span&gt;;
                    }
                }&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I did a workaround by subclassing the TransactJDBCAdapter and then wrapping the listener to impose my own limit (however this is a separately configured limit; it is not coupled with the memory limits of the broker or the queue, so it is more a workaround than a solution; but it avoids customizing activeMQ code, the workaround is in our own product code.&lt;/p&gt;

&lt;p&gt;My suggested improvement is:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;build the listener.hasSpace() (or rather the new &lt;tt&gt;canRecoveryNextMessage()&lt;/tt&gt;) as was done for KahaDB in &lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-7126&quot; title=&quot;Prevent OOM when recovering KahaDB and memory space is insufficient to load full page&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-7126&quot;&gt;&lt;del&gt;AMQ-7126&lt;/del&gt;&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;AND do statement.cancel() if the listener does not have the space, to avoid performance trouble, see below.&lt;/li&gt;
&lt;/ul&gt;


&lt;h3&gt;&lt;a name=&quot;Explanationthatleadstothesuggestiontodostatement.cancel%28%29iflistener.hasSpace%28%29%28orratherthenew%7B%7BcanRecoveryNextMessage%28%29%7D%7D%29returnsfalse.&quot;&gt;&lt;/a&gt;Explanation that leads to the suggestion to do statement.cancel() if listener.hasSpace() (or rather the new &lt;tt&gt;canRecoveryNextMessage()&lt;/tt&gt;) returns false.&lt;/h3&gt;
&lt;p&gt;When the recover() produced fewer than requested messages due to size restrictions (e.g. it produced 10 messages instead of 200 because they were large) I noticed delays from consumer perspective of 4 seconds (with local sql server on ssd, so must be higher with clustered SQL server...). It appeared to be taking a long time to close the resultset. The answer is that the resultset needs to be exhausted during rs.close() because otherwise the connection can&apos;t be reused later. &lt;/p&gt;

&lt;p&gt;Source: someone asked this on the msft forum in 2009: &lt;blockquote&gt;&lt;p&gt;I&apos;m encountering a strange issue with the ResultSet.close() command with the new 2.0 jdbc drivers (not the JDBC 4.0 version). &lt;/p&gt;

&lt;p&gt;If I run a query that returns a large result set and just iterate through the first couple of rows and then attempt to call close() on the result set the close() call hangs for quite some time insted of closing almost instantly as past versions of the driver have done with this same code. &lt;/p&gt;&lt;/blockquote&gt; and then David Olix responded saying that it&apos;s expected behavior in SQL Server driver as of 2.0, and suggested to cancel the sql statement. &lt;blockquote&gt;&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;Thank you for considering the SQL Server JDBC Driver 2.0.  And thank you for your post.  It illustrates a very interesting point about data retrieval with the 2.0 driver...&lt;/p&gt;

&lt;p&gt;Short answer:&lt;br/&gt;
The behavior you are seeing is expected in the default configuration of the 2.0 driver.  You should be able to revert to the previous behavior by setting the connection property &quot;responseBuffering=full&quot;.  But read on for why that may not be your best solution...&lt;/p&gt;

&lt;p&gt;Long answer:&lt;br/&gt;
When SQL Server returns a large number of rows from a SELECT query, the JDBC driver must process all of them to be able to execute the next query on the same connection.  Retrieving those rows from the server can take a substantial amount of time, especially over a slower network connection.  By default, older versions of the driver retrieved all of the rows into memory when the statement was executed.  The 1.2 driver introduced a new optional behavior called adaptive response buffering, which allows the driver to retrieve row data (and other results) from the server as the application accesses/demands it.  The benefit of adaptive buffering is lower client side memory usage &amp;#8211; much lower for large result sets &amp;#8211; with amortized latency across ResultSet accessor methods for apps that process all the result data in the order returned.  The 2.0 driver uses adaptive response buffering by default.  In your case, the app accesses only the first few rows.  So ResultSet.close() takes longer because it must read and discard the rest of the rows.&lt;/p&gt;

&lt;p&gt;That raises the question:&lt;br/&gt;
If your application is only interested in the first few rows, why does your query return thousands of them?&lt;/p&gt;

&lt;p&gt;Performance and client-side memory usage would be much improved if you can structure the query to return only the potentially interesting rows.  Put another way, it&apos;s best not to query for data that you&apos;re not going to use.&lt;/p&gt;

&lt;p&gt;If that is not an option, and you have no other choice but to query for all of the rows, there are other options that may yield improved performance still:&lt;/p&gt;

&lt;p&gt;Consider cancelling the statement before closing the ResultSet.  Cancelling tells the driver to notify the server that it is not interested in any execution results (including remaining rows) that haven&apos;t already been received.  You have to weigh the cost of cancellation, which incurs a short round trip request/response to the server, against the cost of receiving the rest of the rows when using this technique, but it sounds like it would be a definite win if there are tens of thousands of rows left.&lt;/p&gt;

&lt;p&gt;Or consider using a server-side cursor when executing the query.  You can do this by specifying com.microsoft.sqlserver.jdbc.SQLServerResultSet.TYPE_SS_SERVER_CURSOR_FORWARD_ONLY rather than java.sql.ResultSet.TYPE_FORWARD_ONLY for the scrollability parameter to the createStatement()/prepareStatement() call.  Server-side cursors allow the driver to retrieve rows a few at a time.  There&apos;s a cost with server cursors too: a round trip to fetch each block of rows.  But closing the ResultSet closes the server cursor at which point no further rows are returned.  But before using a server cursor, make sure the query is cursorable, or SQL Server will just return all the rows anyway...&lt;/p&gt;

&lt;p&gt;The last option is the one from the short answer: use full response buffering rather than adaptive response buffering.  This may be the least desirable solution, however, since the app still has to wait for all the rows to be received from the server (in executeQuery() though, rather than ResultSet.close()).  But rather than discarding the uninteresting rows, it has to buffer them, which could lead to an OutOfMemoryError if the result set is large enough.&lt;/p&gt;

&lt;p&gt;HTH,&lt;br/&gt;
--David Olix &lt;span class=&quot;error&quot;&gt;&amp;#91;SQL Server&amp;#93;&lt;/span&gt;&lt;/p&gt;&lt;/blockquote&gt;&lt;br/&gt;
Source (not sure if URL is stable, hence the full quote): &lt;a href=&quot;https://social.msdn.microsoft.com/Forums/security/en-US/7ceee9a8-09d8-4fbd-9918-0ca065fa182e/resultsetclose-hangs-with-new-jdbc-20?forum=sqldataaccess&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://social.msdn.microsoft.com/Forums/security/en-US/7ceee9a8-09d8-4fbd-9918-0ca065fa182e/resultsetclose-hangs-with-new-jdbc-20?forum=sqldataaccess&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13282213">AMQ-7394</key>
            <summary>&apos;recovery&apos; of messages does not take into account the PolicyMap/PolicyEntry &apos;memoryLimit&apos;, but takes 200 messages from the store</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jbonofre">Jean-Baptiste Onofr&#233;</assignee>
                                    <reporter username="rverheij">Reinald Verheij</reporter>
                        <labels>
                    </labels>
                <created>Wed, 29 Jan 2020 15:19:57 +0000</created>
                <updated>Wed, 20 May 2020 14:21:23 +0000</updated>
                            <resolved>Tue, 3 Mar 2020 16:14:05 +0000</resolved>
                                    <version>5.15.2</version>
                                    <fixVersion>5.16.0</fixVersion>
                    <fixVersion>5.15.12</fixVersion>
                                    <component>JDBC</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="17048617" author="jbonofre" created="Sun, 1 Mar 2020 15:58:24 +0000"  >&lt;p&gt;Thanks for the detailed report. I won&apos;t have time to include a fix for 5.15.12 or 5.16.0. Then, I will work on a fix for the next releases (5.15.13 and 5.16.1).&lt;/p&gt;

&lt;p&gt;I do my best if I can implement this quickly.&lt;/p&gt;</comment>
                            <comment id="17049917" author="jbonofre" created="Tue, 3 Mar 2020 05:23:25 +0000"  >&lt;p&gt;As we are very close to 5.15.12 and 5.16.0 releases, I did a first very simple and quick fix on the JDBC message store. It&apos;s maybe not perfect but it already addresses the memory consumption issue.&lt;/p&gt;</comment>
                            <comment id="17050349" author="jira-bot" created="Tue, 3 Mar 2020 16:13:11 +0000"  >&lt;p&gt;Commit dcd3d5db3f14fbdb74d9595360033988405cce79 in activemq&apos;s branch refs/heads/master from jbonofre&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=dcd3d5d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=dcd3d5d&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-7394&quot; title=&quot;&amp;#39;recovery&amp;#39; of messages does not take into account the PolicyMap/PolicyEntry &amp;#39;memoryLimit&amp;#39;, but takes 200 messages from the store&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-7394&quot;&gt;&lt;del&gt;AMQ-7394&lt;/del&gt;&lt;/a&gt; Simple first fix to use listener.hasSpace() when recovering message from JDBC message store&lt;/p&gt;</comment>
                            <comment id="17050350" author="jira-bot" created="Tue, 3 Mar 2020 16:13:13 +0000"  >&lt;p&gt;Commit b9426d6c00213383790adf456d51b1e1bb62ec66 in activemq&apos;s branch refs/heads/master from Jean-Baptiste Onofr&#233;&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=b9426d6&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=b9426d6&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Merge pull request #494 from jbonofre/&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-7394&quot; title=&quot;&amp;#39;recovery&amp;#39; of messages does not take into account the PolicyMap/PolicyEntry &amp;#39;memoryLimit&amp;#39;, but takes 200 messages from the store&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-7394&quot;&gt;&lt;del&gt;AMQ-7394&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-7394&quot; title=&quot;&amp;#39;recovery&amp;#39; of messages does not take into account the PolicyMap/PolicyEntry &amp;#39;memoryLimit&amp;#39;, but takes 200 messages from the store&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-7394&quot;&gt;&lt;del&gt;AMQ-7394&lt;/del&gt;&lt;/a&gt; Simple first fix to use listener.hasSpace() when recovering message from JDBC message store&lt;/p&gt;</comment>
                            <comment id="17050351" author="jira-bot" created="Tue, 3 Mar 2020 16:13:15 +0000"  >&lt;p&gt;Commit b9426d6c00213383790adf456d51b1e1bb62ec66 in activemq&apos;s branch refs/heads/master from Jean-Baptiste Onofr&#233;&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=b9426d6&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=b9426d6&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Merge pull request #494 from jbonofre/&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-7394&quot; title=&quot;&amp;#39;recovery&amp;#39; of messages does not take into account the PolicyMap/PolicyEntry &amp;#39;memoryLimit&amp;#39;, but takes 200 messages from the store&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-7394&quot;&gt;&lt;del&gt;AMQ-7394&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-7394&quot; title=&quot;&amp;#39;recovery&amp;#39; of messages does not take into account the PolicyMap/PolicyEntry &amp;#39;memoryLimit&amp;#39;, but takes 200 messages from the store&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-7394&quot;&gt;&lt;del&gt;AMQ-7394&lt;/del&gt;&lt;/a&gt; Simple first fix to use listener.hasSpace() when recovering message from JDBC message store&lt;/p&gt;</comment>
                            <comment id="17050352" author="jira-bot" created="Tue, 3 Mar 2020 16:13:51 +0000"  >&lt;p&gt;Commit fef5b079868979ee40762c611a977f5f6d0cc6f1 in activemq&apos;s branch refs/heads/activemq-5.15.x from jbonofre&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=fef5b07&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=fef5b07&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-7394&quot; title=&quot;&amp;#39;recovery&amp;#39; of messages does not take into account the PolicyMap/PolicyEntry &amp;#39;memoryLimit&amp;#39;, but takes 200 messages from the store&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-7394&quot;&gt;&lt;del&gt;AMQ-7394&lt;/del&gt;&lt;/a&gt; Simple first fix to use listener.hasSpace() when recovering message from JDBC message store&lt;/p&gt;

&lt;p&gt;(cherry picked from commit dcd3d5db3f14fbdb74d9595360033988405cce79)&lt;/p&gt;</comment>
                            <comment id="17050928" author="rverheij" created="Wed, 4 Mar 2020 06:16:02 +0000"  >&lt;p&gt;Hello &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jbonofre&quot; class=&quot;user-hover&quot; rel=&quot;jbonofre&quot;&gt;jbonofre&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Thank you very much for picking this up.&lt;/p&gt;

&lt;p&gt;I have two questions, for which the answers may relate to the &apos;quick fix&apos; which was done now, as opposed to a full fix later.&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;I saw that the code change now has the &apos;listener.hasSpace()&apos; condition. When I reported this JIRA I was comparing the code to the fix of &lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-7126&quot; title=&quot;Prevent OOM when recovering KahaDB and memory space is insufficient to load full page&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-7126&quot;&gt;&lt;del&gt;AMQ-7126&lt;/del&gt;&lt;/a&gt;, where the method &apos;canRecoveryNextMessage()&apos; was introduced, which checked for &apos;parent.hasSpace(90)&apos;. I did not see similar code in this commit for the SQL store for this jira yet.&lt;/li&gt;
	&lt;li&gt;In my report I mentioned that aborted result sets will be fully consumed if you do not do the &apos;statement.cancel()&apos;, leading to a lot of useless network traffic and other resource use. I quoted and successfully used the statement.cancel() to prevent this. I think this is an essential part of the full story of this bug; so the loading of messages must stop in time for the memory limits, and also the statement.cancel() must be done to make the mechanism quick w.r.t. the not-consumed part of the resultset.&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;Please comment about these two points. If the future work which you referred when you wrote &lt;em&gt;&lt;tt&gt;Then, I will work on a fix for the next releases (5.15.13 and 5.16.1).&lt;/tt&gt;&lt;/em&gt; is covered in another JIRA or &apos;tasks list&apos; then it is fine too, it may just be my limited understanding of the activeMQ project organisation.&lt;/p&gt;

&lt;p&gt;Regards, &lt;br/&gt;
Reinald Verheij&lt;/p&gt;</comment>
                            <comment id="17112257" author="jira-bot" created="Wed, 20 May 2020 14:16:38 +0000"  >&lt;p&gt;Commit 96fa8458ce9d2dc23a1cfc429611b3c334ea5194 in activemq&apos;s branch refs/heads/master from gtully&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=96fa845&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=96fa845&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-7394&quot; title=&quot;&amp;#39;recovery&amp;#39; of messages does not take into account the PolicyMap/PolicyEntry &amp;#39;memoryLimit&amp;#39;, but takes 200 messages from the store&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-7394&quot;&gt;&lt;del&gt;AMQ-7394&lt;/del&gt;&lt;/a&gt; use canRecoveryNextMessage to base blocking on shared usage, the existing fix regressed AMQ5266Test&lt;/p&gt;</comment>
                            <comment id="17112264" author="jira-bot" created="Wed, 20 May 2020 14:21:23 +0000"  >&lt;p&gt;Commit 48c6a370946df2bff09407580ec3db4ca6391da9 in activemq&apos;s branch refs/heads/activemq-5.15.x from gtully&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=48c6a37&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=48c6a37&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-7394&quot; title=&quot;&amp;#39;recovery&amp;#39; of messages does not take into account the PolicyMap/PolicyEntry &amp;#39;memoryLimit&amp;#39;, but takes 200 messages from the store&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-7394&quot;&gt;&lt;del&gt;AMQ-7394&lt;/del&gt;&lt;/a&gt; use canRecoveryNextMessage to base blocking on shared usage, the existing fix regressed AMQ5266Test&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 25 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0az3c:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>