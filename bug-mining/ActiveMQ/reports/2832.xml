<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 06:34:49 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-6291] Thread unsafe code in TcpTransportServer can lead to NPE or other errors on start / stop</title>
                <link>https://issues.apache.org/jira/browse/AMQ-6291</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;Access to several variable in TcpTransportServer is done in an unsafe manner which can lead to NPE or other data race exceptions on start or stop, one example below:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Error Message

got: &amp;lt;false&amp;gt;, expected: is &amp;lt;true&amp;gt;

Stacktrace

org.junit.AssumptionViolatedException: got: &amp;lt;false&amp;gt;, expected: is &amp;lt;true&amp;gt;
	at org.junit.Assume.assumeThat(Assume.java:95)
	at org.junit.Assume.assumeTrue(Assume.java:41)
	at org.apache.activemq.transport.stomp.StompMaxFrameSizeTest.testOversizedActionOnNioSocket(StompMaxFrameSizeTest.java:184)

Standard Output

2016-05-11 23:32:34,331 [main           ] - INFO  StompTestSupport               - ========== start testOversizedActionOnNioSocket[0] ==========
2016-05-11 23:32:34,339 [main           ] - DEBUG StompTestSupport               - Using stomp port 38198
2016-05-11 23:32:34,345 [main           ] - DEBUG StompTestSupport               - Using stomp+ssl port 54202
2016-05-11 23:32:34,346 [main           ] - DEBUG StompTestSupport               - Using stomp+nio port 56816
2016-05-11 23:32:34,350 [main           ] - DEBUG StompTestSupport               - Using stomp+nio+ssl port 50013
2016-05-11 23:32:34,353 [main           ] - WARN  BrokerService                  - Memory Usage for the Broker (1024mb) is more than the maximum available for the JVM: 891 mb - resetting to 70% of maximum available: 623 mb
2016-05-11 23:32:34,365 [main           ] - INFO  BrokerService                  - Using Persistence Adapter: MemoryPersistenceAdapter
2016-05-11 23:32:34,370 [main           ] - INFO  BrokerService                  - Apache ActiveMQ 5.14.0-SNAPSHOT (localhost, ID:jenkins-test-39e-56729-1463009553425-0:4) is starting
2016-05-11 23:32:34,374 [main           ] - INFO  TransportServerThreadSupport   - Listening for connections at: stomp://jenkins-test-39e:38198?wireFormat.maxDataLength=102400&amp;amp;wireFormat.maxFrameSize=65536
2016-05-11 23:32:34,374 [main           ] - INFO  TransportConnector             - Connector stomp://jenkins-test-39e:38198?wireFormat.maxDataLength=102400&amp;amp;wireFormat.maxFrameSize=65536 started
2016-05-11 23:32:34,375 [main           ] - INFO  TransportServerThreadSupport   - Listening for connections at: stomp+ssl://jenkins-test-39e:54202?wireFormat.maxDataLength=102400&amp;amp;wireFormat.maxFrameSize=65536
2016-05-11 23:32:34,376 [main           ] - INFO  TransportConnector             - Connector stomp+ssl://jenkins-test-39e:54202?wireFormat.maxDataLength=102400&amp;amp;wireFormat.maxFrameSize=65536 started
2016-05-11 23:32:34,377 [main           ] - INFO  TransportServerThreadSupport   - Listening for connections at: stomp+nio://jenkins-test-39e:56816?wireFormat.maxDataLength=102400&amp;amp;wireFormat.maxFrameSize=65536
2016-05-11 23:32:34,377 [main           ] - INFO  TransportConnector             - Connector stomp+nio://jenkins-test-39e:56816?wireFormat.maxDataLength=102400&amp;amp;wireFormat.maxFrameSize=65536 started
2016-05-11 23:32:34,379 [main           ] - INFO  TransportServerThreadSupport   - Listening for connections at: stomp+nio+ssl://jenkins-test-39e:50013?wireFormat.maxDataLength=102400&amp;amp;wireFormat.maxFrameSize=65536
2016-05-11 23:32:34,379 [main           ] - INFO  TransportConnector             - Connector stomp+nio+ssl://jenkins-test-39e:50013?wireFormat.maxDataLength=102400&amp;amp;wireFormat.maxFrameSize=65536 started
2016-05-11 23:32:34,380 [main           ] - INFO  BrokerService                  - Apache ActiveMQ 5.14.0-SNAPSHOT (localhost, ID:jenkins-test-39e-56729-1463009553425-0:4) started
2016-05-11 23:32:34,380 [main           ] - INFO  BrokerService                  - For help or more information please see: http://activemq.apache.org
2016-05-11 23:32:34,380 [main           ] - WARN  BrokerService                  - Temporary Store limit is 51200 mb (current store usage is 0 mb). The data directory: /home/jenkins/jenkins-slave/workspace/ActiveMQ-Java7/activemq-stomp/target only has 14884 mb of usable space. - resetting to maximum available disk space: 14884 mb
2016-05-11 23:32:34,381 [main           ] - INFO  BrokerService                  - Apache ActiveMQ 5.14.0-SNAPSHOT (localhost, ID:jenkins-test-39e-56729-1463009553425-0:4) is shutting down
2016-05-11 23:32:34,381 [main           ] - INFO  TransportConnector             - Connector stomp://jenkins-test-39e:38198?wireFormat.maxDataLength=102400&amp;amp;wireFormat.maxFrameSize=65536 stopped
2016-05-11 23:32:34,382 [main           ] - INFO  TransportConnector             - Connector stomp+ssl://jenkins-test-39e:54202?wireFormat.maxDataLength=102400&amp;amp;wireFormat.maxFrameSize=65536 stopped
2016-05-11 23:32:34,383 [main           ] - ERROR StompNIOTransportFactory$1     - Could not stop service: stomp+nio://0.0.0.0:0?wireFormat.maxDataLength=102400&amp;amp;wireFormat.maxFrameSize=65536. Reason: java.lang.NullPointerException
java.lang.NullPointerException
	at java.nio.channels.spi.AbstractSelectableChannel.removeKey(AbstractSelectableChannel.java:128)
	at java.nio.channels.spi.AbstractSelector.deregister(AbstractSelector.java:185)
	at sun.nio.ch.EPollSelectorImpl.implClose(EPollSelectorImpl.java:147)
	at sun.nio.ch.SelectorImpl.implCloseSelector(SelectorImpl.java:114)
	at java.nio.channels.spi.AbstractSelector.close(AbstractSelector.java:108)
	at org.apache.activemq.transport.tcp.TcpTransportServer.doStop(TcpTransportServer.java:476)
	at org.apache.activemq.util.ServiceSupport.stop(ServiceSupport.java:71)
	at org.apache.activemq.util.ServiceStopper.stop(ServiceStopper.java:41)
	at org.apache.activemq.broker.TransportConnector.stop(TransportConnector.java:283)
	at org.apache.activemq.util.ServiceStopper.stop(ServiceStopper.java:41)
	at org.apache.activemq.broker.BrokerService.stopAllConnectors(BrokerService.java:2208)
	at org.apache.activemq.broker.BrokerService.stop(BrokerService.java:819)
	at org.apache.activemq.transport.stomp.StompTestSupport.stopBroker(StompTestSupport.java:177)
	at org.apache.activemq.transport.stomp.StompTestSupport.tearDown(StompTestSupport.java:116)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:33)
	at org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:55)
	at org.junit.rules.RunRules.evaluate(RunRules.java:20)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.junit.runners.Suite.runChild(Suite.java:128)
	at org.junit.runners.Suite.runChild(Suite.java:27)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:264)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:124)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:200)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:153)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
2016-05-11 23:32:34,385 [main           ] - ERROR StompNIOTransportFactory$1     - Could not stop service: stomp+nio://0.0.0.0:0?wireFormat.maxDataLength=102400&amp;amp;wireFormat.maxFrameSize=65536. Reason: java.lang.NullPointerException
java.lang.NullPointerException
	at java.nio.channels.spi.AbstractSelectableChannel.removeKey(AbstractSelectableChannel.java:128)
	at java.nio.channels.spi.AbstractSelector.deregister(AbstractSelector.java:185)
	at sun.nio.ch.EPollSelectorImpl.implClose(EPollSelectorImpl.java:147)
	at sun.nio.ch.SelectorImpl.implCloseSelector(SelectorImpl.java:114)
	at java.nio.channels.spi.AbstractSelector.close(AbstractSelector.java:108)
	at org.apache.activemq.transport.tcp.TcpTransportServer.doStop(TcpTransportServer.java:476)
	at org.apache.activemq.util.ServiceSupport.stop(ServiceSupport.java:71)
	at org.apache.activemq.util.ServiceStopper.stop(ServiceStopper.java:41)
	at org.apache.activemq.broker.TransportConnector.stop(TransportConnector.java:283)
	at org.apache.activemq.util.ServiceStopper.stop(ServiceStopper.java:41)
	at org.apache.activemq.broker.BrokerService.stopAllConnectors(BrokerService.java:2208)
	at org.apache.activemq.broker.BrokerService.stop(BrokerService.java:819)
	at org.apache.activemq.transport.stomp.StompTestSupport.stopBroker(StompTestSupport.java:177)
	at org.apache.activemq.transport.stomp.StompTestSupport.tearDown(StompTestSupport.java:116)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:33)
	at org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:55)
	at org.junit.rules.RunRules.evaluate(RunRules.java:20)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.junit.runners.Suite.runChild(Suite.java:128)
	at org.junit.runners.Suite.runChild(Suite.java:27)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:264)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:124)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:200)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:153)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
2016-05-11 23:32:34,386 [main           ] - ERROR ManagedTransportConnector      - Could not stop service: stomp+nio://jenkins-test-39e:56816?wireFormat.maxDataLength=102400&amp;amp;wireFormat.maxFrameSize=65536. Reason: java.lang.NullPointerException
java.lang.NullPointerException
	at java.nio.channels.spi.AbstractSelectableChannel.removeKey(AbstractSelectableChannel.java:128)
	at java.nio.channels.spi.AbstractSelector.deregister(AbstractSelector.java:185)
	at sun.nio.ch.EPollSelectorImpl.implClose(EPollSelectorImpl.java:147)
	at sun.nio.ch.SelectorImpl.implCloseSelector(SelectorImpl.java:114)
	at java.nio.channels.spi.AbstractSelector.close(AbstractSelector.java:108)
	at org.apache.activemq.transport.tcp.TcpTransportServer.doStop(TcpTransportServer.java:476)
	at org.apache.activemq.util.ServiceSupport.stop(ServiceSupport.java:71)
	at org.apache.activemq.util.ServiceStopper.stop(ServiceStopper.java:41)
	at org.apache.activemq.broker.TransportConnector.stop(TransportConnector.java:283)
	at org.apache.activemq.util.ServiceStopper.stop(ServiceStopper.java:41)
	at org.apache.activemq.broker.BrokerService.stopAllConnectors(BrokerService.java:2208)
	at org.apache.activemq.broker.BrokerService.stop(BrokerService.java:819)
	at org.apache.activemq.transport.stomp.StompTestSupport.stopBroker(StompTestSupport.java:177)
	at org.apache.activemq.transport.stomp.StompTestSupport.tearDown(StompTestSupport.java:116)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:33)
	at org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:55)
	at org.junit.rules.RunRules.evaluate(RunRules.java:20)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.junit.runners.Suite.runChild(Suite.java:128)
	at org.junit.runners.Suite.runChild(Suite.java:27)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:264)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:124)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:200)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:153)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
2016-05-11 23:32:34,388 [main           ] - INFO  TransportConnector             - Connector stomp+nio+ssl://jenkins-test-39e:50013?wireFormat.maxDataLength=102400&amp;amp;wireFormat.maxFrameSize=65536 stopped
2016-05-11 23:32:34,389 [main           ] - INFO  BrokerService                  - Apache ActiveMQ 5.14.0-SNAPSHOT (localhost, ID:jenkins-test-39e-56729-1463009553425-0:4) uptime 0.036 seconds
2016-05-11 23:32:34,389 [main           ] - INFO  BrokerService                  - Apache ActiveMQ 5.14.0-SNAPSHOT (localhost, ID:jenkins-test-39e-56729-1463009553425-0:4) is shutdown

Standard Error

Exception in thread &quot;ActiveMQ Transport Server: stomp+nio://0.0.0.0:0?wireFormat.maxDataLength=102400&amp;amp;wireFormat.maxFrameSize=65536&quot; java.nio.channels.ClosedSelectorException
	at sun.nio.ch.EPollSelectorImpl.putEventOps(EPollSelectorImpl.java:185)
	at sun.nio.ch.ServerSocketChannelImpl.translateAndSetInterestOps(ServerSocketChannelImpl.java:361)
	at sun.nio.ch.SelectionKeyImpl.nioInterestOps(SelectionKeyImpl.java:105)
	at sun.nio.ch.SelectionKeyImpl.interestOps(SelectionKeyImpl.java:83)
	at sun.nio.ch.SelectorImpl.register(SelectorImpl.java:135)
	at java.nio.channels.spi.AbstractSelectableChannel.register(AbstractSelectableChannel.java:209)
	at java.nio.channels.SelectableChannel.register(SelectableChannel.java:277)
	at org.apache.activemq.transport.tcp.TcpTransportServer.run(TcpTransportServer.java:310)
	at java.lang.Thread.run(Thread.java:745)

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12969531">AMQ-6291</key>
            <summary>Thread unsafe code in TcpTransportServer can lead to NPE or other errors on start / stop</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tabish">Timothy A. Bish</assignee>
                                    <reporter username="tabish">Timothy A. Bish</reporter>
                        <labels>
                    </labels>
                <created>Fri, 13 May 2016 13:24:40 +0000</created>
                <updated>Fri, 13 May 2016 15:32:33 +0000</updated>
                            <resolved>Fri, 13 May 2016 15:32:33 +0000</resolved>
                                    <version>5.13.0</version>
                    <version>5.12.2</version>
                    <version>5.13.1</version>
                    <version>5.12.3</version>
                    <version>5.13.2</version>
                    <version>5.13.3</version>
                                    <fixVersion>5.13.4</fixVersion>
                    <fixVersion>5.14.0</fixVersion>
                                    <component>Broker</component>
                    <component>Transport</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15282793" author="tabish121" created="Fri, 13 May 2016 15:26:21 +0000"  >&lt;p&gt;Tagged the wrong issue in the commit, the actually fix for this is in: &lt;a href=&quot;https://git1-us-west.apache.org/repos/asf?p=activemq.git;a=commit;h=ff998722&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git1-us-west.apache.org/repos/asf?p=activemq.git;a=commit;h=ff998722&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15282796" author="jira-bot" created="Fri, 13 May 2016 15:29:37 +0000"  >&lt;p&gt;Commit 52d2b157808c4dd11fe39203e0caad44d4e64a86 in activemq&apos;s branch refs/heads/activemq-5.13.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tabish121&quot; class=&quot;user-hover&quot; rel=&quot;tabish121&quot;&gt;tabish121&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=52d2b15&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=52d2b15&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-6291&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/AMQ-6291&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Better management of shared resources between the background run thread&lt;br/&gt;
and the main start / stop thread.  Makes sure to cleanup all resources&lt;br/&gt;
before finally throwing on stop to prevent leaking and resources.  &lt;br/&gt;
(cherry picked from commit ff99872263981982bb1ebce93c07bfb8a28d4a06)&lt;/p&gt;

&lt;p&gt;Conflicts:&lt;br/&gt;
	activemq-client/src/main/java/org/apache/activemq/transport/tcp/TcpTransportServer.java&lt;/p&gt;</comment>
                            <comment id="15282797" author="jira-bot" created="Fri, 13 May 2016 15:31:25 +0000"  >&lt;p&gt;Commit cc849e74406e6fdc410aac862bd615b9a321bb7f in activemq&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tabish121&quot; class=&quot;user-hover&quot; rel=&quot;tabish121&quot;&gt;tabish121&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=cc849e7&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=activemq.git;h=cc849e7&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-6291&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/AMQ-6291&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Simplify the selector close in doStop, the run method no longer tries to&lt;br/&gt;
close this after it has been registered and assigned.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 27 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2xxof:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>