<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 06:05:28 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-5224] XA pooled connection factories are not recoverable</title>
                <link>https://issues.apache.org/jira/browse/AMQ-5224</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;PooledConnectionFactory#setConnectionFactory hides the XAConnectionFactory interface which is used by the resource manager.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12720863">AMQ-5224</key>
            <summary>XA pooled connection factories are not recoverable</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="gnodet">Guillaume Nodet</reporter>
                        <labels>
                    </labels>
                <created>Thu, 12 Jun 2014 12:56:54 +0000</created>
                <updated>Tue, 21 Jul 2015 16:30:55 +0000</updated>
                            <resolved>Tue, 1 Jul 2014 21:57:36 +0000</resolved>
                                    <version>5.9.1</version>
                    <version>5.10.0</version>
                                    <fixVersion>5.11.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14029128" author="graben" created="Thu, 12 Jun 2014 13:18:14 +0000"  >&lt;p&gt;Reason for recovery working with ActiveMQ pool might be a different usage than implemented in Aries TX JMS&lt;/p&gt;



&lt;p&gt;e.g.&lt;br/&gt;
&amp;lt;bean id=&quot;internalConnectionFactory&quot; &lt;br/&gt;
        class=&quot;org.apache.activemq.ActiveMQXAConnectionFactory&quot;&amp;gt;&lt;br/&gt;
           &amp;lt;argument value=&quot;tcp://localhost:61616&quot; /&amp;gt;&lt;br/&gt;
           &amp;lt;property name=&quot;userName&quot; value=&quot;admin&quot; /&amp;gt;&lt;br/&gt;
           &amp;lt;property name=&quot;password&quot; value=&quot;admin&quot; /&amp;gt;&lt;br/&gt;
&amp;lt;/bean&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;bean id=&quot;connectionFactory&quot; &lt;br/&gt;
        class=&quot;org.apache.activemq.jms.pool.JcaPooledConnectionFactory&quot;&lt;br/&gt;
                 init-method=&quot;start&quot; destroy-method=&quot;stop&quot;&amp;gt;&lt;br/&gt;
           &amp;lt;property name=&quot;connectionFactory&quot; ref=&quot;internalConnectionFactory&quot;/&amp;gt;&lt;br/&gt;
           &amp;lt;property name=&quot;transactionManager&quot; ref=&quot;transactionManager&quot;/&amp;gt;&lt;br/&gt;
           &amp;lt;property name=&quot;name&quot; value=&quot;activemq&quot; /&amp;gt;&lt;br/&gt;
&amp;lt;/bean&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;bean id=&quot;resourceManager&quot; class=&quot;org.apache.activemq.jms.pool.GenericResourceManager&quot; &lt;br/&gt;
                 init-method=&quot;recoverResource&quot;&amp;gt;&lt;br/&gt;
           &amp;lt;property name=&quot;connectionFactory&quot; ref=&quot;internalConnectionFactory&quot;/&amp;gt;&lt;br/&gt;
           &amp;lt;property name=&quot;transactionManager&quot; ref=&quot;transactionManager&quot;/&amp;gt;&lt;br/&gt;
           &amp;lt;property name=&quot;resourceName&quot; value=&quot;activemq&quot; /&amp;gt;&lt;br/&gt;
           &amp;lt;property name=&quot;userName&quot; value=&quot;admin&quot; /&amp;gt;&lt;br/&gt;
           &amp;lt;property name=&quot;password&quot; value=&quot;admin&quot; /&amp;gt;&lt;br/&gt;
&amp;lt;/bean&amp;gt;&lt;/p&gt;</comment>
                            <comment id="14030418" author="gnt" created="Fri, 13 Jun 2014 09:26:44 +0000"  >&lt;p&gt;You&apos;re right.&lt;br/&gt;
Though the problem is that XAConnectionFactory does not inherit from ConnectionFactory, so for JMS implementations that have separate implementations for both, the code is unusable.&lt;/p&gt;</comment>
                            <comment id="14030443" author="gnt" created="Fri, 13 Jun 2014 10:15:36 +0000"  >&lt;p&gt;A few improvements to activemq-jms-pool at&lt;br/&gt;
  &lt;a href=&quot;https://github.com/gnodet/activemq/commits/fix-jms-pool&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/gnodet/activemq/commits/fix-jms-pool&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14030820" author="tabish121" created="Fri, 13 Jun 2014 16:37:54 +0000"  >&lt;p&gt;I&apos;ve applied those updates to trunk along with some updates to some tests in activemq-pool that broker as a result. &lt;/p&gt;</comment>
                            <comment id="14049366" author="tabish121" created="Tue, 1 Jul 2014 21:57:36 +0000"  >&lt;p&gt;Marking this as resolved since no further feedback received since the patches were applied. &lt;/p&gt;</comment>
                            <comment id="14635349" author="artnaseef" created="Tue, 21 Jul 2015 16:30:55 +0000"  >&lt;p&gt;This change breaks backward compatibility by changing the signature of the public method.  Here is one example impact:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Error during dispatch. (java.lang.NoSuchMethodError: org.apache.activemq.jms.pool.PooledConnectionFactory.setConnectionFactory(Ljavax/jms/ConnectionFactory;)V)
java.lang.NoSuchMethodError: org.apache.activemq.jms.pool.PooledConnectionFactory.setConnectionFactory(Ljavax/jms/ConnectionFactory;)V
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It seems to me that rather than changing the appropriate method signature taking a &lt;tt&gt;ConnectionFactory&lt;/tt&gt; to accepting any &lt;tt&gt;Object&lt;/tt&gt; because some XAConnectionFactory implementations do not properly implement &lt;tt&gt;ConnectionFactory&lt;/tt&gt; is a bad way to go - introducing complexity where it is unneeded.  It would be far simpler to wrap those XAConnectionFactory with thin ConnectionFactory implementations.&lt;/p&gt;

&lt;p&gt;Anyway, the damage is done here - if we change the signature back, another non-backward-compatible change will be introduced.&lt;/p&gt;

&lt;p&gt;Please consider all the impacts of these changes, especially since we do not have plans to bump the ActiveMQ major version number.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12694450">ARIES-1158</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>399062</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 18 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1wp8f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>399179</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>