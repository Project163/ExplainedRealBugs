<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 06:47:28 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-6908] Inconsistent authorization in web console</title>
                <link>https://issues.apache.org/jira/browse/AMQ-6908</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;Looking at&#160;org.apache.activemq.web.WebClient#createWebClient we can actually configure the connectionFactory in webconsle-embedded.xml to&#160;use the credential in the HTTP Authorization header to connect to the core ActiveMQ broker by setting the username and password to null.&lt;/p&gt;

&lt;p&gt;But when I do that, the browse in console feature stops working if I have authentication enabled, because&#160;org.apache.activemq.web.QueueBrowseQuery requires the given connectionFactory to be configured with non-null username and password.&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13141985">AMQ-6908</key>
            <summary>Inconsistent authorization in web console</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jbonofre">Jean-Baptiste Onofr&#233;</assignee>
                                    <reporter username="alvinlin123">Alvin Lin</reporter>
                        <labels>
                    </labels>
                <created>Fri, 2 Mar 2018 04:02:40 +0000</created>
                <updated>Mon, 18 Nov 2019 16:00:44 +0000</updated>
                            <resolved>Mon, 18 Nov 2019 16:00:44 +0000</resolved>
                                    <version>5.15.0</version>
                    <version>5.15.1</version>
                    <version>5.15.2</version>
                    <version>5.15.3</version>
                                    <fixVersion>5.15.11</fixVersion>
                    <fixVersion>5.16.0</fixVersion>
                                    <component>Web Console</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="600">10m</timespent>
                                <comments>
                            <comment id="16402363" author="githubbot" created="Fri, 16 Mar 2018 19:08:05 +0000"  >&lt;p&gt;GitHub user alvinlin123 opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/activemq/pull/280&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/activemq/pull/280&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-6908&quot; title=&quot;Inconsistent authorization in web console&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-6908&quot;&gt;&lt;del&gt;AMQ-6908&lt;/del&gt;&lt;/a&gt; Use WebClient in QueueBrowseQuery&lt;/p&gt;

&lt;p&gt;    `org.apache.activemq.web.controller.SendMessage` uses `org.apache.activemq.web.WebClient`, which can be configured to use console login credential instead of system user credential (by setting the connection factory username and password to `null`). This allows seamless per-user based authorization for operations through the web console. &lt;/p&gt;

&lt;p&gt;    `org.apache.activemq.web.QueueBrowseQuery` was not using the `org.apache.activemq.web.WebClient` so it was impossible to setup authorization on per-user basis for browsing messages of a queue through web console. &lt;/p&gt;

&lt;p&gt;    This change migrates `org.apache.activemq.web.QueueBrowseQuery` to use `org.apache.activemq.web.WebClient`.&lt;/p&gt;


&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/alvinlin123/activemq&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/alvinlin123/activemq&lt;/a&gt; amq-6908&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/activemq/pull/280.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/activemq/pull/280.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #280&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 822cf6203437f06a58e8e442de87b8416ad232e6&lt;br/&gt;
Author: Alvin Lin &amp;lt;alvinlin@...&amp;gt;&lt;br/&gt;
Date:   2018-03-16T18:30:05Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-6908&quot; title=&quot;Inconsistent authorization in web console&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-6908&quot;&gt;&lt;del&gt;AMQ-6908&lt;/del&gt;&lt;/a&gt; allow use of ActiveMQ console login credential (for authorization) when browsing messages through the console&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16402364" author="alvinlin123" created="Fri, 16 Mar 2018 19:10:26 +0000"  >&lt;p&gt;I submitted a pull request to fix this issue&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/activemq/pull/280&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/activemq/pull/280&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16976652" author="jira-bot" created="Mon, 18 Nov 2019 16:00:02 +0000"  >&lt;p&gt;Commit 822cf6203437f06a58e8e442de87b8416ad232e6 in activemq&apos;s branch refs/heads/activemq-5.15.x from Alvin Lin&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=822cf62&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=822cf62&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-6908&quot; title=&quot;Inconsistent authorization in web console&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-6908&quot;&gt;&lt;del&gt;AMQ-6908&lt;/del&gt;&lt;/a&gt; allow use of ActiveMQ console login credential (for authorization) when browsing messages through the console&lt;/p&gt;</comment>
                            <comment id="16976653" author="jira-bot" created="Mon, 18 Nov 2019 16:00:04 +0000"  >&lt;p&gt;Commit a393b8c106ca3c832cde25650b7752f142ead9ed in activemq&apos;s branch refs/heads/activemq-5.15.x from Jean-Baptiste Onofr&#233;&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=a393b8c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=a393b8c&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Merge pull request #280 from alvinlin123/amq-6908&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-6908&quot; title=&quot;Inconsistent authorization in web console&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-6908&quot;&gt;&lt;del&gt;AMQ-6908&lt;/del&gt;&lt;/a&gt; Use WebClient in QueueBrowseQuery&lt;/p&gt;</comment>
                            <comment id="16976654" author="jira-bot" created="Mon, 18 Nov 2019 16:00:29 +0000"  >&lt;p&gt;Commit e7b7334e42d8709fdf69e5c8d929f6ad25dd27ec in activemq&apos;s branch refs/heads/master from Alvin Lin&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=activemq.git;h=e7b7334&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=activemq.git;h=e7b7334&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-6908&quot; title=&quot;Inconsistent authorization in web console&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-6908&quot;&gt;&lt;del&gt;AMQ-6908&lt;/del&gt;&lt;/a&gt; allow use of ActiveMQ console login credential (for authorization) when browsing messages through the console&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 822cf6203437f06a58e8e442de87b8416ad232e6)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3qryf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>