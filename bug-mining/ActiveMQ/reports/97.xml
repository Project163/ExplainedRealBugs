<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 05:31:31 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[AMQ-847] Memory Leaks</title>
                <link>https://issues.apache.org/jira/browse/AMQ-847</link>
                <project id="12311210" key="AMQ">ActiveMQ Classic</project>
                    <description>&lt;p&gt;1) factoryStats in the connection factory was holding on to connections even when they are closed.&lt;br/&gt;
2) peer BrokerInfos were never removed even when the peer disconnected.&lt;br/&gt;
3) messages dispatched from a Queue would retain a referece to the client connection even after they had been acked.&lt;br/&gt;
4) ScheduledThreadPoolExecutor does not always seem to release references to canceled tasks&lt;/p&gt;</description>
                <environment></environment>
        <key id="12481905">AMQ-847</key>
            <summary>Memory Leaks</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="chirino">Hiram R. Chirino</assignee>
                                    <reporter username="chirino">Hiram R. Chirino</reporter>
                        <labels>
                    </labels>
                <created>Thu, 27 Jul 2006 00:41:48 +0000</created>
                <updated>Mon, 26 Feb 2007 18:41:00 +0000</updated>
                            <resolved>Mon, 26 Feb 2007 18:41:00 +0000</resolved>
                                                    <fixVersion>4.0.3</fixVersion>
                                    <component>Broker</component>
                        <due></due>
                            <votes>4</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="12938099" author="chirino" created="Thu, 27 Jul 2006 00:42:40 +0000"  >&lt;p&gt;Fixed in 4.0 branch rev 425922&lt;/p&gt;</comment>
                            <comment id="12938261" author="jstrachan" created="Thu, 27 Jul 2006 07:17:08 +0000"  >&lt;p&gt;I think  1) is a duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-835&quot; title=&quot;memory leak in ActiveMQConnection&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-835&quot;&gt;&lt;del&gt;AMQ-835&lt;/del&gt;&lt;/a&gt; maybe?&lt;/p&gt;</comment>
                            <comment id="12938095" author="chirino" created="Thu, 27 Jul 2006 16:54:07 +0000"  >&lt;p&gt;your right.  the rest of the issue fixed in 4.1 branch rev 426134.&lt;/p&gt;</comment>
                            <comment id="12938584" author="janknecht" created="Mon, 16 Oct 2006 08:46:49 +0000"  >&lt;p&gt;There seems to be still some more leaks, try the following junit test with 4.0.2 RC4:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; 
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testCreateConnectionMemoryLeak() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
    Connection c = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
    &lt;span class=&quot;code-comment&quot;&gt;// ACXMessagingFactory messagingFactory = &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.getSessionContext().getFactoryContext().getMessagingFactory();
&lt;/span&gt;    ActiveMQConnectionFactory messagingFactory = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ActiveMQConnectionFactory(&lt;span class=&quot;code-quote&quot;&gt;&quot;tcp:&lt;span class=&quot;code-comment&quot;&gt;//localhost:61616&quot;&lt;/span&gt;);
&lt;/span&gt;    &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; closed = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;

    &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; i = 0; i &amp;lt; 10000; i++) {
      &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
        c = messagingFactory.createConnection();
        closed = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
        c.close();
        closed = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;

      } &lt;span class=&quot;code-keyword&quot;&gt;finally&lt;/span&gt; {
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!closed) {
          c.close();
        }
      }
    }
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; </comment>
                            <comment id="12938726" author="eklas" created="Fri, 15 Dec 2006 07:42:25 +0000"  >&lt;p&gt;I think this issue is actually &lt;b&gt;two&lt;/b&gt; (or more&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; memory leaks.&lt;br/&gt;
One in createConnection() and one in close().&lt;br/&gt;
I tried a very similar program with the following results:&lt;/p&gt;

&lt;p&gt;apache-activemq-4.2-incubator-20061204.023752-14:&lt;br/&gt;
1. &apos;createConnection&apos; followed by &apos;close&apos; when activeMq-server is UP:&lt;br/&gt;
   outOfmemory after ~1800 createConnection-close.&lt;/p&gt;

&lt;p&gt;2. &apos;createConnection&apos; without close when activeMq server is not started.&lt;br/&gt;
  outOfmemory after &amp;lt; 1800 failed &apos;createConnection&apos;.&lt;/p&gt;

&lt;p&gt;I have also tried 4.0.x and 4.1.x. The leak memory too.&lt;/p&gt;</comment>
                            <comment id="12938825" author="chirino" created="Mon, 26 Feb 2007 18:41:00 +0000"  >&lt;p&gt;keeping this issue resolved since I think reported problem is a different bug.  Opened up &lt;a href=&quot;https://issues.apache.org/jira/browse/AMQ-1177&quot; title=&quot;ActiveMQConnection memory leaks&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AMQ-1177&quot;&gt;&lt;del&gt;AMQ-1177&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>92748</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 years, 40 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0s2t3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>161931</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>